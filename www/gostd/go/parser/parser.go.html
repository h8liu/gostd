<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/parser</h2>
<ul>
<li><a href="/gostd/go/parser/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/go/parser/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/parser/interface.go.html">interface.go</a></li>
<li><a href="/gostd/go/parser/parser.go.html" class="current">parser.go</a></li>
<li><a href="/gostd/go/parser/parser_test.go.html">parser_test.go</a></li>
<li><a href="/gostd/go/parser/performance_test.go.html">performance_test.go</a></li>
<li><a href="/gostd/go/parser/short_test.go.html">short_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5956272">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5956327">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5956381">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5956432">//&nbsp;Package&nbsp;parser&nbsp;implements&nbsp;a&nbsp;parser&nbsp;for&nbsp;Go&nbsp;source&nbsp;files.&nbsp;Input&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="5956504">//&nbsp;provided&nbsp;in&nbsp;a&nbsp;variety&nbsp;of&nbsp;forms&nbsp;(see&nbsp;the&nbsp;various&nbsp;Parse*&nbsp;functions);&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5956578">//&nbsp;output&nbsp;is&nbsp;an&nbsp;abstract&nbsp;syntax&nbsp;tree&nbsp;(AST)&nbsp;representing&nbsp;the&nbsp;Go&nbsp;source.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="5956653">//&nbsp;parser&nbsp;is&nbsp;invoked&nbsp;through&nbsp;one&nbsp;of&nbsp;the&nbsp;Parse*&nbsp;functions.</span><br>
<span class="lineno"></span><span class="comment" id="5956711">//</span><br>
<span class="lineno">10</span><span class="keyword" id="5956714">package</span>&nbsp;<span class="ident" id="5956722">parser</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5956730">import</span>&nbsp;<span class="op" id="5956737">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5956740">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5956747">&#34;go/ast&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5956757">&#34;go/scanner&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5956771">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5956783">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5956794">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5956805">&#34;unicode&#34;</span><br>
<span class="lineno">20</span><span class="op" id="5956815">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5956818">//&nbsp;The&nbsp;parser&nbsp;structure&nbsp;holds&nbsp;the&nbsp;parser&#39;s&nbsp;internal&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="5956877">type</span>&nbsp;<span class="ident" id="5956882">parser</span>&nbsp;<span class="keyword" id="5956889">struct</span>&nbsp;<span class="op" id="5956896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5956899">file</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5956907">*</span><span class="ident" id="5956908"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5956913">.</span><span class="ident" id="5956914"><a href="/gostd/go/token/position.go.html#3876396">File</a></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5956920">errors</span>&nbsp;&nbsp;<span class="ident" id="5956928"><a href="/gostd/go/parser/parser.go.html#5956757">scanner</a></span><span class="op" id="5956935">.</span><span class="ident" id="5956936"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5956947">scanner</span>&nbsp;<span class="ident" id="5956955"><a href="/gostd/go/parser/parser.go.html#5956757">scanner</a></span><span class="op" id="5956962">.</span><span class="ident" id="5956963"><a href="/gostd/go/scanner/scanner.go.html#3898729">Scanner</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5956973">//&nbsp;Tracing/debugging</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5956995">mode</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5957002"><a href="/gostd/go/parser/interface.go.html#5951535">Mode</a></span>&nbsp;<span class="comment" id="5957007">//&nbsp;parsing&nbsp;mode</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957024">trace</span>&nbsp;&nbsp;<span class="builtintype" id="5957031">bool</span>&nbsp;<span class="comment" id="5957036">//&nbsp;==&nbsp;(mode&nbsp;&amp;&nbsp;Trace&nbsp;!=&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957063">indent</span>&nbsp;<span class="builtintype" id="5957070">int</span>&nbsp;&nbsp;<span class="comment" id="5957075">//&nbsp;indentation&nbsp;used&nbsp;for&nbsp;tracing&nbsp;output</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957116">//&nbsp;Comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957129">comments</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5957141">[</span><span class="op" id="5957142">]</span><span class="op" id="5957143">*</span><span class="ident" id="5957144"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5957147">.</span><span class="ident" id="5957148"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957162">leadComment</span>&nbsp;<span class="op" id="5957174">*</span><span class="ident" id="5957175"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5957178">.</span><span class="ident" id="5957179"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span>&nbsp;<span class="comment" id="5957192">//&nbsp;last&nbsp;lead&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957214">lineComment</span>&nbsp;<span class="op" id="5957226">*</span><span class="ident" id="5957227"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5957230">.</span><span class="ident" id="5957231"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span>&nbsp;<span class="comment" id="5957244">//&nbsp;last&nbsp;line&nbsp;comment</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957267">//&nbsp;Next&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957282">pos</span>&nbsp;<span class="ident" id="5957286"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5957291">.</span><span class="ident" id="5957292"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5957298">//&nbsp;token&nbsp;position</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957317">tok</span>&nbsp;<span class="ident" id="5957321"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5957326">.</span><span class="ident" id="5957327"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span>&nbsp;<span class="comment" id="5957333">//&nbsp;one&nbsp;token&nbsp;look-ahead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957358">lit</span>&nbsp;<span class="builtintype" id="5957362">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957374">//&nbsp;token&nbsp;literal</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957393">//&nbsp;Error&nbsp;recovery</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957412">//&nbsp;(used&nbsp;to&nbsp;limit&nbsp;the&nbsp;number&nbsp;of&nbsp;calls&nbsp;to&nbsp;syncXXX&nbsp;functions</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957472">//&nbsp;w/o&nbsp;making&nbsp;scanning&nbsp;progress&nbsp;-&nbsp;avoids&nbsp;potential&nbsp;endless</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957532">//&nbsp;loops&nbsp;across&nbsp;multiple&nbsp;parser&nbsp;functions&nbsp;during&nbsp;error&nbsp;recovery)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957598">syncPos</span>&nbsp;<span class="ident" id="5957606"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5957611">.</span><span class="ident" id="5957612"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span>&nbsp;<span class="comment" id="5957616">//&nbsp;last&nbsp;synchronization&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957650">syncCnt</span>&nbsp;<span class="builtintype" id="5957658">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957668">//&nbsp;number&nbsp;of&nbsp;calls&nbsp;to&nbsp;syncXXX&nbsp;without&nbsp;progress</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957717">//&nbsp;Non-syntactic&nbsp;parser&nbsp;control</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957750">exprLev</span>&nbsp;<span class="builtintype" id="5957758">int</span>&nbsp;&nbsp;<span class="comment" id="5957763">//&nbsp;&lt;&nbsp;0:&nbsp;in&nbsp;control&nbsp;clause,&nbsp;&gt;=&nbsp;0:&nbsp;in&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957811">inRhs</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5957819">bool</span>&nbsp;<span class="comment" id="5957824">//&nbsp;if&nbsp;set,&nbsp;the&nbsp;parser&nbsp;is&nbsp;parsing&nbsp;a&nbsp;rhs&nbsp;expression</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957876">//&nbsp;Ordinary&nbsp;identifier&nbsp;scopes</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957907">pkgScope</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5957918">*</span><span class="ident" id="5957919"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5957922">.</span><span class="ident" id="5957923"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957936">//&nbsp;pkgScope.Outer&nbsp;==&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5957962">topScope</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5957973">*</span><span class="ident" id="5957974"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5957977">.</span><span class="ident" id="5957978"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5957991">//&nbsp;top-most&nbsp;scope;&nbsp;may&nbsp;be&nbsp;pkgScope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958027">unresolved</span>&nbsp;<span class="op" id="5958038">[</span><span class="op" id="5958039">]</span><span class="op" id="5958040">*</span><span class="ident" id="5958041"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5958044">.</span><span class="ident" id="5958045"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5958056">//&nbsp;unresolved&nbsp;identifiers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958083">imports</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5958094">[</span><span class="op" id="5958095">]</span><span class="op" id="5958096">*</span><span class="ident" id="5958097"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5958100">.</span><span class="ident" id="5958101"><a href="/gostd/go/ast/ast.go.html#3819609">ImportSpec</a></span>&nbsp;<span class="comment" id="5958112">//&nbsp;list&nbsp;of&nbsp;imports</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5958133">//&nbsp;Label&nbsp;scopes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5958150">//&nbsp;(maintained&nbsp;by&nbsp;open/close&nbsp;LabelScope)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958192">labelScope</span>&nbsp;&nbsp;<span class="op" id="5958204">*</span><span class="ident" id="5958205"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5958208">.</span><span class="ident" id="5958209"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5958219">//&nbsp;label&nbsp;scope&nbsp;for&nbsp;current&nbsp;function</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958256">targetStack</span>&nbsp;<span class="op" id="5958268">[</span><span class="op" id="5958269">]</span><span class="op" id="5958270">[</span><span class="op" id="5958271">]</span><span class="op" id="5958272">*</span><span class="ident" id="5958273"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5958276">.</span><span class="ident" id="5958277"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span>&nbsp;<span class="comment" id="5958283">//&nbsp;stack&nbsp;of&nbsp;unresolved&nbsp;labels</span><br>
<span class="lineno"></span><span class="op" id="5958313">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="5958316">func</span>&nbsp;<span class="op" id="5958321">(</span><span class="ident" id="5958322">p</span>&nbsp;<span class="op" id="5958324">*</span><span class="ident" id="5958325"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5958331">)</span>&nbsp;<span class="ident" id="5958333">init</span><span class="op" id="5958337">(</span><span class="ident" id="5958338">fset</span>&nbsp;<span class="op" id="5958343">*</span><span class="ident" id="5958344"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5958349">.</span><span class="ident" id="5958350"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><span class="op" id="5958357">,</span>&nbsp;<span class="ident" id="5958359">filename</span>&nbsp;<span class="builtintype" id="5958368">string</span><span class="op" id="5958374">,</span>&nbsp;<span class="ident" id="5958376">src</span>&nbsp;<span class="op" id="5958380">[</span><span class="op" id="5958381">]</span><span class="builtintype" id="5958382">byte</span><span class="op" id="5958386">,</span>&nbsp;<span class="ident" id="5958388">mode</span>&nbsp;<span class="ident" id="5958393"><a href="/gostd/go/parser/interface.go.html#5951535">Mode</a></span><span class="op" id="5958397">)</span>&nbsp;<span class="op" id="5958399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958402"><a href="/gostd/go/parser/parser.go.html#5958322">p</a></span><span class="op" id="5958403">.</span><span class="ident" id="5958404"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span>&nbsp;<span class="op" id="5958409">=</span>&nbsp;<span class="ident" id="5958411"><a href="/gostd/go/parser/parser.go.html#5958338">fset</a></span><span class="op" id="5958415">.</span><span class="ident" id="5958416"><a href="/gostd/go/token/position.go.html#3884740">AddFile</a></span><span class="op" id="5958423">(</span><span class="ident" id="5958424"><a href="/gostd/go/parser/parser.go.html#5958359">filename</a></span><span class="op" id="5958432">,</span>&nbsp;<span class="op" id="5958434">-</span><span class="num" id="5958435">1</span><span class="op" id="5958436">,</span>&nbsp;<span class="builtinfunc" id="5958438">len</span><span class="op" id="5958441">(</span><span class="ident" id="5958442"><a href="/gostd/go/parser/parser.go.html#5958376">src</a></span><span class="op" id="5958445">)</span><span class="op" id="5958446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5958449">var</span>&nbsp;<span class="ident" id="5958453">m</span>&nbsp;<span class="ident" id="5958455"><a href="/gostd/go/parser/parser.go.html#5956757">scanner</a></span><span class="op" id="5958462">.</span><span class="ident" id="5958463"><a href="/gostd/go/scanner/scanner.go.html#3900259">Mode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5958469">if</span>&nbsp;<span class="ident" id="5958472"><a href="/gostd/go/parser/parser.go.html#5958388">mode</a></span><span class="op" id="5958476">&amp;</span><span class="ident" id="5958477"><a href="/gostd/go/parser/interface.go.html#5951730">ParseComments</a></span>&nbsp;<span class="op" id="5958491">!=</span>&nbsp;<span class="num" id="5958494">0</span>&nbsp;<span class="op" id="5958496">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958500"><a href="/gostd/go/parser/parser.go.html#5958453">m</a></span>&nbsp;<span class="op" id="5958502">=</span>&nbsp;<span class="ident" id="5958504"><a href="/gostd/go/parser/parser.go.html#5956757">scanner</a></span><span class="op" id="5958511">.</span><span class="ident" id="5958512"><a href="/gostd/go/scanner/scanner.go.html#3900279">ScanComments</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5958526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958529">eh</span>&nbsp;<span class="op" id="5958532">:=</span>&nbsp;<span class="keyword" id="5958535">func</span><span class="op" id="5958539">(</span><span class="ident" id="5958540">pos</span>&nbsp;<span class="ident" id="5958544"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5958549">.</span><span class="ident" id="5958550"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="5958558">,</span>&nbsp;<span class="ident" id="5958560">msg</span>&nbsp;<span class="builtintype" id="5958564">string</span><span class="op" id="5958570">)</span>&nbsp;<span class="op" id="5958572">{</span>&nbsp;<span class="ident" id="5958574"><a href="/gostd/go/parser/parser.go.html#5958322">p</a></span><span class="op" id="5958575">.</span><span class="ident" id="5958576"><a href="/gostd/go/parser/parser.go.html#5956920">errors</a></span><span class="op" id="5958582">.</span><span class="ident" id="5958583"><a href="/gostd/go/scanner/errors.go.html#3895685">Add</a></span><span class="op" id="5958586">(</span><span class="ident" id="5958587"><a href="/gostd/go/parser/parser.go.html#5958540">pos</a></span><span class="op" id="5958590">,</span>&nbsp;<span class="ident" id="5958592"><a href="/gostd/go/parser/parser.go.html#5958560">msg</a></span><span class="op" id="5958595">)</span>&nbsp;<span class="op" id="5958597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958600"><a href="/gostd/go/parser/parser.go.html#5958322">p</a></span><span class="op" id="5958601">.</span><span class="ident" id="5958602"><a href="/gostd/go/parser/parser.go.html#5956947">scanner</a></span><span class="op" id="5958609">.</span><span class="ident" id="5958610"><a href="/gostd/go/scanner/scanner.go.html#3901230">Init</a></span><span class="op" id="5958614">(</span><span class="ident" id="5958615"><a href="/gostd/go/parser/parser.go.html#5958322">p</a></span><span class="op" id="5958616">.</span><span class="ident" id="5958617"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5958621">,</span>&nbsp;<span class="ident" id="5958623"><a href="/gostd/go/parser/parser.go.html#5958376">src</a></span><span class="op" id="5958626">,</span>&nbsp;<span class="ident" id="5958628"><a href="/gostd/go/parser/parser.go.html#5958529">eh</a></span><span class="op" id="5958630">,</span>&nbsp;<span class="ident" id="5958632"><a href="/gostd/go/parser/parser.go.html#5958453">m</a></span><span class="op" id="5958633">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958637"><a href="/gostd/go/parser/parser.go.html#5958322">p</a></span><span class="op" id="5958638">.</span><span class="ident" id="5958639"><a href="/gostd/go/parser/parser.go.html#5956995">mode</a></span>&nbsp;<span class="op" id="5958644">=</span>&nbsp;<span class="ident" id="5958646"><a href="/gostd/go/parser/parser.go.html#5958388">mode</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958652"><a href="/gostd/go/parser/parser.go.html#5958322">p</a></span><span class="op" id="5958653">.</span><span class="ident" id="5958654"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5958660">=</span>&nbsp;<span class="ident" id="5958662"><a href="/gostd/go/parser/parser.go.html#5958388">mode</a></span><span class="op" id="5958666">&amp;</span><span class="ident" id="5958667"><a href="/gostd/go/parser/interface.go.html#5951816">Trace</a></span>&nbsp;<span class="op" id="5958673">!=</span>&nbsp;<span class="num" id="5958676">0</span>&nbsp;<span class="comment" id="5958678">//&nbsp;for&nbsp;convenience&nbsp;(p.trace&nbsp;is&nbsp;used&nbsp;frequently)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958728"><a href="/gostd/go/parser/parser.go.html#5958322">p</a></span><span class="op" id="5958729">.</span><span class="ident" id="5958730"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5958734">(</span><span class="op" id="5958735">)</span><br>
<span class="lineno"></span><span class="op" id="5958737">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="5958740">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5958820">//&nbsp;Scoping&nbsp;support</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5958840">func</span>&nbsp;<span class="op" id="5958845">(</span><span class="ident" id="5958846">p</span>&nbsp;<span class="op" id="5958848">*</span><span class="ident" id="5958849"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5958855">)</span>&nbsp;<span class="ident" id="5958857">openScope</span><span class="op" id="5958866">(</span><span class="op" id="5958867">)</span>&nbsp;<span class="op" id="5958869">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958872"><a href="/gostd/go/parser/parser.go.html#5958846">p</a></span><span class="op" id="5958873">.</span><span class="ident" id="5958874"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span>&nbsp;<span class="op" id="5958883">=</span>&nbsp;<span class="ident" id="5958885"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5958888">.</span><span class="ident" id="5958889"><a href="/gostd/go/ast/scope.go.html#3863557">NewScope</a></span><span class="op" id="5958897">(</span><span class="ident" id="5958898"><a href="/gostd/go/parser/parser.go.html#5958846">p</a></span><span class="op" id="5958899">.</span><span class="ident" id="5958900"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span><span class="op" id="5958908">)</span><br>
<span class="lineno"></span><span class="op" id="5958910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5958913">func</span>&nbsp;<span class="op" id="5958918">(</span><span class="ident" id="5958919">p</span>&nbsp;<span class="op" id="5958921">*</span><span class="ident" id="5958922"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5958928">)</span>&nbsp;<span class="ident" id="5958930">closeScope</span><span class="op" id="5958940">(</span><span class="op" id="5958941">)</span>&nbsp;<span class="op" id="5958943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5958946"><a href="/gostd/go/parser/parser.go.html#5958919">p</a></span><span class="op" id="5958947">.</span><span class="ident" id="5958948"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span>&nbsp;<span class="op" id="5958957">=</span>&nbsp;<span class="ident" id="5958959"><a href="/gostd/go/parser/parser.go.html#5958919">p</a></span><span class="op" id="5958960">.</span><span class="ident" id="5958961"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span><span class="op" id="5958969">.</span><span class="ident" id="5958970"><a href="/gostd/go/ast/scope.go.html#3863447">Outer</a></span><br>
<span class="lineno">90</span><span class="op" id="5958976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5958979">func</span>&nbsp;<span class="op" id="5958984">(</span><span class="ident" id="5958985">p</span>&nbsp;<span class="op" id="5958987">*</span><span class="ident" id="5958988"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5958994">)</span>&nbsp;<span class="ident" id="5958996">openLabelScope</span><span class="op" id="5959010">(</span><span class="op" id="5959011">)</span>&nbsp;<span class="op" id="5959013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959016"><a href="/gostd/go/parser/parser.go.html#5958985">p</a></span><span class="op" id="5959017">.</span><span class="ident" id="5959018"><a href="/gostd/go/parser/parser.go.html#5958192">labelScope</a></span>&nbsp;<span class="op" id="5959029">=</span>&nbsp;<span class="ident" id="5959031"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5959034">.</span><span class="ident" id="5959035"><a href="/gostd/go/ast/scope.go.html#3863557">NewScope</a></span><span class="op" id="5959043">(</span><span class="ident" id="5959044"><a href="/gostd/go/parser/parser.go.html#5958985">p</a></span><span class="op" id="5959045">.</span><span class="ident" id="5959046"><a href="/gostd/go/parser/parser.go.html#5958192">labelScope</a></span><span class="op" id="5959056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959059"><a href="/gostd/go/parser/parser.go.html#5958985">p</a></span><span class="op" id="5959060">.</span><span class="ident" id="5959061"><a href="/gostd/go/parser/parser.go.html#5958256">targetStack</a></span>&nbsp;<span class="op" id="5959073">=</span>&nbsp;<span class="builtinfunc" id="5959075">append</span><span class="op" id="5959081">(</span><span class="ident" id="5959082"><a href="/gostd/go/parser/parser.go.html#5958985">p</a></span><span class="op" id="5959083">.</span><span class="ident" id="5959084"><a href="/gostd/go/parser/parser.go.html#5958256">targetStack</a></span><span class="op" id="5959095">,</span>&nbsp;<span class="builtintype" id="5959097">nil</span><span class="op" id="5959100">)</span><br>
<span class="lineno">95</span><span class="op" id="5959102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5959105">func</span>&nbsp;<span class="op" id="5959110">(</span><span class="ident" id="5959111">p</span>&nbsp;<span class="op" id="5959113">*</span><span class="ident" id="5959114"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5959120">)</span>&nbsp;<span class="ident" id="5959122">closeLabelScope</span><span class="op" id="5959137">(</span><span class="op" id="5959138">)</span>&nbsp;<span class="op" id="5959140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5959143">//&nbsp;resolve&nbsp;labels</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959162">n</span>&nbsp;<span class="op" id="5959164">:=</span>&nbsp;<span class="builtinfunc" id="5959167">len</span><span class="op" id="5959170">(</span><span class="ident" id="5959171"><a href="/gostd/go/parser/parser.go.html#5959111">p</a></span><span class="op" id="5959172">.</span><span class="ident" id="5959173"><a href="/gostd/go/parser/parser.go.html#5958256">targetStack</a></span><span class="op" id="5959184">)</span>&nbsp;<span class="op" id="5959186">-</span>&nbsp;<span class="num" id="5959188">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959191">scope</span>&nbsp;<span class="op" id="5959197">:=</span>&nbsp;<span class="ident" id="5959200"><a href="/gostd/go/parser/parser.go.html#5959111">p</a></span><span class="op" id="5959201">.</span><span class="ident" id="5959202"><a href="/gostd/go/parser/parser.go.html#5958192">labelScope</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5959214">for</span>&nbsp;<span class="ident" id="5959218">_</span><span class="op" id="5959219">,</span>&nbsp;<span class="ident" id="5959221">ident</span>&nbsp;<span class="op" id="5959227">:=</span>&nbsp;<span class="keyword" id="5959230">range</span>&nbsp;<span class="ident" id="5959236"><a href="/gostd/go/parser/parser.go.html#5959111">p</a></span><span class="op" id="5959237">.</span><span class="ident" id="5959238"><a href="/gostd/go/parser/parser.go.html#5958256">targetStack</a></span><span class="op" id="5959249">[</span><span class="ident" id="5959250"><a href="/gostd/go/parser/parser.go.html#5959162">n</a></span><span class="op" id="5959251">]</span>&nbsp;<span class="op" id="5959253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959257"><a href="/gostd/go/parser/parser.go.html#5959221">ident</a></span><span class="op" id="5959262">.</span><span class="ident" id="5959263"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5959267">=</span>&nbsp;<span class="ident" id="5959269"><a href="/gostd/go/parser/parser.go.html#5959191">scope</a></span><span class="op" id="5959274">.</span><span class="ident" id="5959275"><a href="/gostd/go/ast/scope.go.html#3863835">Lookup</a></span><span class="op" id="5959281">(</span><span class="ident" id="5959282"><a href="/gostd/go/parser/parser.go.html#5959221">ident</a></span><span class="op" id="5959287">.</span><span class="ident" id="5959288"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="5959292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5959296">if</span>&nbsp;<span class="ident" id="5959299"><a href="/gostd/go/parser/parser.go.html#5959221">ident</a></span><span class="op" id="5959304">.</span><span class="ident" id="5959305"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5959309">==</span>&nbsp;<span class="builtintype" id="5959312">nil</span>&nbsp;<span class="op" id="5959316">&amp;&amp;</span>&nbsp;<span class="ident" id="5959319"><a href="/gostd/go/parser/parser.go.html#5959111">p</a></span><span class="op" id="5959320">.</span><span class="ident" id="5959321"><a href="/gostd/go/parser/parser.go.html#5956995">mode</a></span><span class="op" id="5959325">&amp;</span><span class="ident" id="5959326"><a href="/gostd/go/parser/interface.go.html#5951903">DeclarationErrors</a></span>&nbsp;<span class="op" id="5959344">!=</span>&nbsp;<span class="num" id="5959347">0</span>&nbsp;<span class="op" id="5959349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959354"><a href="/gostd/go/parser/parser.go.html#5959111">p</a></span><span class="op" id="5959355">.</span><span class="builtintype" id="5959356"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5959361">(</span><span class="ident" id="5959362"><a href="/gostd/go/parser/parser.go.html#5959221">ident</a></span><span class="op" id="5959367">.</span><span class="ident" id="5959368"><a href="/gostd/go/ast/ast.go.html#3805815">Pos</a></span><span class="op" id="5959371">(</span><span class="op" id="5959372">)</span><span class="op" id="5959373">,</span>&nbsp;<span class="ident" id="5959375"><a href="/gostd/go/parser/parser.go.html#5956740">fmt</a></span><span class="op" id="5959378">.</span><span class="ident" id="5959379"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="5959386">(</span><span class="string" id="5959387">&#34;label&nbsp;%s&nbsp;undefined&#34;</span><span class="op" id="5959407">,</span>&nbsp;<span class="ident" id="5959409"><a href="/gostd/go/parser/parser.go.html#5959221">ident</a></span><span class="op" id="5959414">.</span><span class="ident" id="5959415"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="5959419">)</span><span class="op" id="5959420">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5959424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5959427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5959430">//&nbsp;pop&nbsp;label&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959450"><a href="/gostd/go/parser/parser.go.html#5959111">p</a></span><span class="op" id="5959451">.</span><span class="ident" id="5959452"><a href="/gostd/go/parser/parser.go.html#5958256">targetStack</a></span>&nbsp;<span class="op" id="5959464">=</span>&nbsp;<span class="ident" id="5959466"><a href="/gostd/go/parser/parser.go.html#5959111">p</a></span><span class="op" id="5959467">.</span><span class="ident" id="5959468"><a href="/gostd/go/parser/parser.go.html#5958256">targetStack</a></span><span class="op" id="5959479">[</span><span class="num" id="5959480">0</span><span class="op" id="5959481">:</span><span class="ident" id="5959482"><a href="/gostd/go/parser/parser.go.html#5959162">n</a></span><span class="op" id="5959483">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959486"><a href="/gostd/go/parser/parser.go.html#5959111">p</a></span><span class="op" id="5959487">.</span><span class="ident" id="5959488"><a href="/gostd/go/parser/parser.go.html#5958192">labelScope</a></span>&nbsp;<span class="op" id="5959499">=</span>&nbsp;<span class="ident" id="5959501"><a href="/gostd/go/parser/parser.go.html#5959111">p</a></span><span class="op" id="5959502">.</span><span class="ident" id="5959503"><a href="/gostd/go/parser/parser.go.html#5958192">labelScope</a></span><span class="op" id="5959513">.</span><span class="ident" id="5959514"><a href="/gostd/go/ast/scope.go.html#3863447">Outer</a></span><br>
<span class="lineno">110</span><span class="op" id="5959520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5959523">func</span>&nbsp;<span class="op" id="5959528">(</span><span class="ident" id="5959529">p</span>&nbsp;<span class="op" id="5959531">*</span><span class="ident" id="5959532"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5959538">)</span>&nbsp;<span class="ident" id="5959540">declare</span><span class="op" id="5959547">(</span><span class="ident" id="5959548">decl</span><span class="op" id="5959552">,</span>&nbsp;<span class="ident" id="5959554">data</span>&nbsp;<span class="keyword" id="5959559">interface</span><span class="op" id="5959568">{</span><span class="op" id="5959569">}</span><span class="op" id="5959570">,</span>&nbsp;<span class="ident" id="5959572">scope</span>&nbsp;<span class="op" id="5959578">*</span><span class="ident" id="5959579"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5959582">.</span><span class="ident" id="5959583"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="5959588">,</span>&nbsp;<span class="ident" id="5959590">kind</span>&nbsp;<span class="ident" id="5959595"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5959598">.</span><span class="ident" id="5959599"><a href="/gostd/go/ast/scope.go.html#3866654">ObjKind</a></span><span class="op" id="5959606">,</span>&nbsp;<span class="ident" id="5959608">idents</span>&nbsp;<span class="op" id="5959615">...</span><span class="op" id="5959618">*</span><span class="ident" id="5959619"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5959622">.</span><span class="ident" id="5959623"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5959628">)</span>&nbsp;<span class="op" id="5959630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5959633">for</span>&nbsp;<span class="ident" id="5959637">_</span><span class="op" id="5959638">,</span>&nbsp;<span class="ident" id="5959640">ident</span>&nbsp;<span class="op" id="5959646">:=</span>&nbsp;<span class="keyword" id="5959649">range</span>&nbsp;<span class="ident" id="5959655"><a href="/gostd/go/parser/parser.go.html#5959608">idents</a></span>&nbsp;<span class="op" id="5959662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959666"><a href="/gostd/go/parser/parser.go.html#5968558">assert</a></span><span class="op" id="5959672">(</span><span class="ident" id="5959673"><a href="/gostd/go/parser/parser.go.html#5959640">ident</a></span><span class="op" id="5959678">.</span><span class="ident" id="5959679"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5959683">==</span>&nbsp;<span class="builtintype" id="5959686">nil</span><span class="op" id="5959689">,</span>&nbsp;<span class="string" id="5959691">&#34;identifier&nbsp;already&nbsp;declared&nbsp;or&nbsp;resolved&#34;</span><span class="op" id="5959732">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959736">obj</span>&nbsp;<span class="op" id="5959740">:=</span>&nbsp;<span class="ident" id="5959743"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5959746">.</span><span class="ident" id="5959747"><a href="/gostd/go/ast/scope.go.html#3865488">NewObj</a></span><span class="op" id="5959753">(</span><span class="ident" id="5959754"><a href="/gostd/go/parser/parser.go.html#5959590">kind</a></span><span class="op" id="5959758">,</span>&nbsp;<span class="ident" id="5959760"><a href="/gostd/go/parser/parser.go.html#5959640">ident</a></span><span class="op" id="5959765">.</span><span class="ident" id="5959766"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="5959770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5959774">//&nbsp;remember&nbsp;the&nbsp;corresponding&nbsp;declaration&nbsp;for&nbsp;redeclaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5959836">//&nbsp;errors&nbsp;and&nbsp;global&nbsp;variable&nbsp;resolution/typechecking&nbsp;phase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959898"><a href="/gostd/go/parser/parser.go.html#5959736">obj</a></span><span class="op" id="5959901">.</span><span class="ident" id="5959902"><a href="/gostd/go/ast/scope.go.html#3865208">Decl</a></span>&nbsp;<span class="op" id="5959907">=</span>&nbsp;<span class="ident" id="5959909"><a href="/gostd/go/parser/parser.go.html#5959548">decl</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959916"><a href="/gostd/go/parser/parser.go.html#5959736">obj</a></span><span class="op" id="5959919">.</span><span class="ident" id="5959920"><a href="/gostd/go/ast/scope.go.html#3865308">Data</a></span>&nbsp;<span class="op" id="5959925">=</span>&nbsp;<span class="ident" id="5959927"><a href="/gostd/go/parser/parser.go.html#5959554">data</a></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5959934"><a href="/gostd/go/parser/parser.go.html#5959640">ident</a></span><span class="op" id="5959939">.</span><span class="ident" id="5959940"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5959944">=</span>&nbsp;<span class="ident" id="5959946"><a href="/gostd/go/parser/parser.go.html#5959736">obj</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5959952">if</span>&nbsp;<span class="ident" id="5959955"><a href="/gostd/go/parser/parser.go.html#5959640">ident</a></span><span class="op" id="5959960">.</span><span class="ident" id="5959961"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span>&nbsp;<span class="op" id="5959966">!=</span>&nbsp;<span class="string" id="5959969">&#34;_&#34;</span>&nbsp;<span class="op" id="5959973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5959978">if</span>&nbsp;<span class="ident" id="5959981">alt</span>&nbsp;<span class="op" id="5959985">:=</span>&nbsp;<span class="ident" id="5959988"><a href="/gostd/go/parser/parser.go.html#5959572">scope</a></span><span class="op" id="5959993">.</span><span class="ident" id="5959994"><a href="/gostd/go/ast/scope.go.html#3864144">Insert</a></span><span class="op" id="5960000">(</span><span class="ident" id="5960001"><a href="/gostd/go/parser/parser.go.html#5959736">obj</a></span><span class="op" id="5960004">)</span><span class="op" id="5960005">;</span>&nbsp;<span class="ident" id="5960007"><a href="/gostd/go/parser/parser.go.html#5959981">alt</a></span>&nbsp;<span class="op" id="5960011">!=</span>&nbsp;<span class="builtintype" id="5960014">nil</span>&nbsp;<span class="op" id="5960018">&amp;&amp;</span>&nbsp;<span class="ident" id="5960021"><a href="/gostd/go/parser/parser.go.html#5959529">p</a></span><span class="op" id="5960022">.</span><span class="ident" id="5960023"><a href="/gostd/go/parser/parser.go.html#5956995">mode</a></span><span class="op" id="5960027">&amp;</span><span class="ident" id="5960028"><a href="/gostd/go/parser/interface.go.html#5951903">DeclarationErrors</a></span>&nbsp;<span class="op" id="5960046">!=</span>&nbsp;<span class="num" id="5960049">0</span>&nbsp;<span class="op" id="5960051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960057">prevDecl</span>&nbsp;<span class="op" id="5960066">:=</span>&nbsp;<span class="string" id="5960069">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5960076">if</span>&nbsp;<span class="ident" id="5960079">pos</span>&nbsp;<span class="op" id="5960083">:=</span>&nbsp;<span class="ident" id="5960086"><a href="/gostd/go/parser/parser.go.html#5959981">alt</a></span><span class="op" id="5960089">.</span><span class="ident" id="5960090"><a href="/gostd/go/ast/scope.go.html#3865775">Pos</a></span><span class="op" id="5960093">(</span><span class="op" id="5960094">)</span><span class="op" id="5960095">;</span>&nbsp;<span class="ident" id="5960097"><a href="/gostd/go/parser/parser.go.html#5960079">pos</a></span><span class="op" id="5960100">.</span><span class="ident" id="5960101"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5960108">(</span><span class="op" id="5960109">)</span>&nbsp;<span class="op" id="5960111">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960118"><a href="/gostd/go/parser/parser.go.html#5960057">prevDecl</a></span>&nbsp;<span class="op" id="5960127">=</span>&nbsp;<span class="ident" id="5960129"><a href="/gostd/go/parser/parser.go.html#5956740">fmt</a></span><span class="op" id="5960132">.</span><span class="ident" id="5960133"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="5960140">(</span><span class="string" id="5960141">&#34;\n\tprevious&nbsp;declaration&nbsp;at&nbsp;%s&#34;</span><span class="op" id="5960173">,</span>&nbsp;<span class="ident" id="5960175"><a href="/gostd/go/parser/parser.go.html#5959529">p</a></span><span class="op" id="5960176">.</span><span class="ident" id="5960177"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5960181">.</span><span class="ident" id="5960182"><a href="/gostd/go/token/position.go.html#3883056">Position</a></span><span class="op" id="5960190">(</span><span class="ident" id="5960191"><a href="/gostd/go/parser/parser.go.html#5960079">pos</a></span><span class="op" id="5960194">)</span><span class="op" id="5960195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5960201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960207"><a href="/gostd/go/parser/parser.go.html#5959529">p</a></span><span class="op" id="5960208">.</span><span class="builtintype" id="5960209"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5960214">(</span><span class="ident" id="5960215"><a href="/gostd/go/parser/parser.go.html#5959640">ident</a></span><span class="op" id="5960220">.</span><span class="ident" id="5960221"><a href="/gostd/go/ast/ast.go.html#3805815">Pos</a></span><span class="op" id="5960224">(</span><span class="op" id="5960225">)</span><span class="op" id="5960226">,</span>&nbsp;<span class="ident" id="5960228"><a href="/gostd/go/parser/parser.go.html#5956740">fmt</a></span><span class="op" id="5960231">.</span><span class="ident" id="5960232"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="5960239">(</span><span class="string" id="5960240">&#34;%s&nbsp;redeclared&nbsp;in&nbsp;this&nbsp;block%s&#34;</span><span class="op" id="5960271">,</span>&nbsp;<span class="ident" id="5960273"><a href="/gostd/go/parser/parser.go.html#5959640">ident</a></span><span class="op" id="5960278">.</span><span class="ident" id="5960279"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="5960283">,</span>&nbsp;<span class="ident" id="5960285"><a href="/gostd/go/parser/parser.go.html#5960057">prevDecl</a></span><span class="op" id="5960293">)</span><span class="op" id="5960294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5960299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5960303">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5960306">}</span><br>
<span class="lineno"></span><span class="op" id="5960308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5960311">func</span>&nbsp;<span class="op" id="5960316">(</span><span class="ident" id="5960317">p</span>&nbsp;<span class="op" id="5960319">*</span><span class="ident" id="5960320"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5960326">)</span>&nbsp;<span class="ident" id="5960328">shortVarDecl</span><span class="op" id="5960340">(</span><span class="ident" id="5960341">decl</span>&nbsp;<span class="op" id="5960346">*</span><span class="ident" id="5960347"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5960350">.</span><span class="ident" id="5960351"><a href="/gostd/go/ast/ast.go.html#3812033">AssignStmt</a></span><span class="op" id="5960361">,</span>&nbsp;<span class="ident" id="5960363">list</span>&nbsp;<span class="op" id="5960368">[</span><span class="op" id="5960369">]</span><span class="ident" id="5960370"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5960373">.</span><span class="ident" id="5960374"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5960378">)</span>&nbsp;<span class="op" id="5960380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5960383">//&nbsp;Go&nbsp;spec:&nbsp;A&nbsp;short&nbsp;variable&nbsp;declaration&nbsp;may&nbsp;redeclare&nbsp;variables</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5960449">//&nbsp;provided&nbsp;they&nbsp;were&nbsp;originally&nbsp;declared&nbsp;in&nbsp;the&nbsp;same&nbsp;block&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5960515">//&nbsp;the&nbsp;same&nbsp;type,&nbsp;and&nbsp;at&nbsp;least&nbsp;one&nbsp;of&nbsp;the&nbsp;non-blank&nbsp;variables&nbsp;is&nbsp;new.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960586">n</span>&nbsp;<span class="op" id="5960588">:=</span>&nbsp;<span class="num" id="5960591">0</span>&nbsp;<span class="comment" id="5960593">//&nbsp;number&nbsp;of&nbsp;new&nbsp;variables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5960621">for</span>&nbsp;<span class="ident" id="5960625">_</span><span class="op" id="5960626">,</span>&nbsp;<span class="ident" id="5960628">x</span>&nbsp;<span class="op" id="5960630">:=</span>&nbsp;<span class="keyword" id="5960633">range</span>&nbsp;<span class="ident" id="5960639"><a href="/gostd/go/parser/parser.go.html#5960363">list</a></span>&nbsp;<span class="op" id="5960644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5960648">if</span>&nbsp;<span class="ident" id="5960651">ident</span><span class="op" id="5960656">,</span>&nbsp;<span class="ident" id="5960658">isIdent</span>&nbsp;<span class="op" id="5960666">:=</span>&nbsp;<span class="ident" id="5960669"><a href="/gostd/go/parser/parser.go.html#5960628">x</a></span><span class="op" id="5960670">.</span><span class="op" id="5960671">(</span><span class="op" id="5960672">*</span><span class="ident" id="5960673"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5960676">.</span><span class="ident" id="5960677"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5960682">)</span><span class="op" id="5960683">;</span>&nbsp;<span class="ident" id="5960685"><a href="/gostd/go/parser/parser.go.html#5960658">isIdent</a></span>&nbsp;<span class="op" id="5960693">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960698"><a href="/gostd/go/parser/parser.go.html#5968558">assert</a></span><span class="op" id="5960704">(</span><span class="ident" id="5960705"><a href="/gostd/go/parser/parser.go.html#5960651">ident</a></span><span class="op" id="5960710">.</span><span class="ident" id="5960711"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5960715">==</span>&nbsp;<span class="builtintype" id="5960718">nil</span><span class="op" id="5960721">,</span>&nbsp;<span class="string" id="5960723">&#34;identifier&nbsp;already&nbsp;declared&nbsp;or&nbsp;resolved&#34;</span><span class="op" id="5960764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960769">obj</span>&nbsp;<span class="op" id="5960773">:=</span>&nbsp;<span class="ident" id="5960776"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5960779">.</span><span class="ident" id="5960780"><a href="/gostd/go/ast/scope.go.html#3865488">NewObj</a></span><span class="op" id="5960786">(</span><span class="ident" id="5960787"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5960790">.</span><span class="ident" id="5960791"><a href="/gostd/go/ast/scope.go.html#3866847">Var</a></span><span class="op" id="5960794">,</span>&nbsp;<span class="ident" id="5960796"><a href="/gostd/go/parser/parser.go.html#5960651">ident</a></span><span class="op" id="5960801">.</span><span class="ident" id="5960802"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="5960806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5960811">//&nbsp;remember&nbsp;corresponding&nbsp;assignment&nbsp;for&nbsp;other&nbsp;tools</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960867"><a href="/gostd/go/parser/parser.go.html#5960769">obj</a></span><span class="op" id="5960870">.</span><span class="ident" id="5960871"><a href="/gostd/go/ast/scope.go.html#3865208">Decl</a></span>&nbsp;<span class="op" id="5960876">=</span>&nbsp;<span class="ident" id="5960878"><a href="/gostd/go/parser/parser.go.html#5960341">decl</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960886"><a href="/gostd/go/parser/parser.go.html#5960651">ident</a></span><span class="op" id="5960891">.</span><span class="ident" id="5960892"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5960896">=</span>&nbsp;<span class="ident" id="5960898"><a href="/gostd/go/parser/parser.go.html#5960769">obj</a></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5960905">if</span>&nbsp;<span class="ident" id="5960908"><a href="/gostd/go/parser/parser.go.html#5960651">ident</a></span><span class="op" id="5960913">.</span><span class="ident" id="5960914"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span>&nbsp;<span class="op" id="5960919">!=</span>&nbsp;<span class="string" id="5960922">&#34;_&#34;</span>&nbsp;<span class="op" id="5960926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5960932">if</span>&nbsp;<span class="ident" id="5960935">alt</span>&nbsp;<span class="op" id="5960939">:=</span>&nbsp;<span class="ident" id="5960942"><a href="/gostd/go/parser/parser.go.html#5960317">p</a></span><span class="op" id="5960943">.</span><span class="ident" id="5960944"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span><span class="op" id="5960952">.</span><span class="ident" id="5960953"><a href="/gostd/go/ast/scope.go.html#3864144">Insert</a></span><span class="op" id="5960959">(</span><span class="ident" id="5960960"><a href="/gostd/go/parser/parser.go.html#5960769">obj</a></span><span class="op" id="5960963">)</span><span class="op" id="5960964">;</span>&nbsp;<span class="ident" id="5960966"><a href="/gostd/go/parser/parser.go.html#5960935">alt</a></span>&nbsp;<span class="op" id="5960970">!=</span>&nbsp;<span class="builtintype" id="5960973">nil</span>&nbsp;<span class="op" id="5960977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5960984"><a href="/gostd/go/parser/parser.go.html#5960651">ident</a></span><span class="op" id="5960989">.</span><span class="ident" id="5960990"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5960994">=</span>&nbsp;<span class="ident" id="5960996"><a href="/gostd/go/parser/parser.go.html#5960935">alt</a></span>&nbsp;<span class="comment" id="5961000">//&nbsp;redeclaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5961021">}</span>&nbsp;<span class="keyword" id="5961023">else</span>&nbsp;<span class="op" id="5961028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961035"><a href="/gostd/go/parser/parser.go.html#5960586">n</a></span><span class="op" id="5961036">++</span>&nbsp;<span class="comment" id="5961039">//&nbsp;new&nbsp;declaration</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5961062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5961067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5961071">}</span>&nbsp;<span class="keyword" id="5961073">else</span>&nbsp;<span class="op" id="5961078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961083"><a href="/gostd/go/parser/parser.go.html#5960317">p</a></span><span class="op" id="5961084">.</span><span class="ident" id="5961085"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5961098">(</span><span class="ident" id="5961099"><a href="/gostd/go/parser/parser.go.html#5960628">x</a></span><span class="op" id="5961100">.</span><span class="ident" id="5961101"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5961104">(</span><span class="op" id="5961105">)</span><span class="op" id="5961106">,</span>&nbsp;<span class="string" id="5961108">&#34;identifier&nbsp;on&nbsp;left&nbsp;side&nbsp;of&nbsp;:=&#34;</span><span class="op" id="5961139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5961143">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5961146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5961149">if</span>&nbsp;<span class="ident" id="5961152"><a href="/gostd/go/parser/parser.go.html#5960586">n</a></span>&nbsp;<span class="op" id="5961154">==</span>&nbsp;<span class="num" id="5961157">0</span>&nbsp;<span class="op" id="5961159">&amp;&amp;</span>&nbsp;<span class="ident" id="5961162"><a href="/gostd/go/parser/parser.go.html#5960317">p</a></span><span class="op" id="5961163">.</span><span class="ident" id="5961164"><a href="/gostd/go/parser/parser.go.html#5956995">mode</a></span><span class="op" id="5961168">&amp;</span><span class="ident" id="5961169"><a href="/gostd/go/parser/interface.go.html#5951903">DeclarationErrors</a></span>&nbsp;<span class="op" id="5961187">!=</span>&nbsp;<span class="num" id="5961190">0</span>&nbsp;<span class="op" id="5961192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961196"><a href="/gostd/go/parser/parser.go.html#5960317">p</a></span><span class="op" id="5961197">.</span><span class="builtintype" id="5961198"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5961203">(</span><span class="ident" id="5961204"><a href="/gostd/go/parser/parser.go.html#5960363">list</a></span><span class="op" id="5961208">[</span><span class="num" id="5961209">0</span><span class="op" id="5961210">]</span><span class="op" id="5961211">.</span><span class="ident" id="5961212"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5961215">(</span><span class="op" id="5961216">)</span><span class="op" id="5961217">,</span>&nbsp;<span class="string" id="5961219">&#34;no&nbsp;new&nbsp;variables&nbsp;on&nbsp;left&nbsp;side&nbsp;of&nbsp;:=&#34;</span><span class="op" id="5961256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5961259">}</span><br>
<span class="lineno"></span><span class="op" id="5961261">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="comment" id="5961264">//&nbsp;The&nbsp;unresolved&nbsp;object&nbsp;is&nbsp;a&nbsp;sentinel&nbsp;to&nbsp;mark&nbsp;identifiers&nbsp;that&nbsp;have&nbsp;been&nbsp;added</span><br>
<span class="lineno"></span><span class="comment" id="5961344">//&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;unresolved&nbsp;identifiers.&nbsp;The&nbsp;sentinel&nbsp;is&nbsp;only&nbsp;used&nbsp;for&nbsp;verifying</span><br>
<span class="lineno"></span><span class="comment" id="5961426">//&nbsp;internal&nbsp;consistency.</span><br>
<span class="lineno"></span><span class="keyword" id="5961451">var</span>&nbsp;<span class="ident" id="5961455">unresolved</span>&nbsp;<span class="op" id="5961466">=</span>&nbsp;<span class="builtinfunc" id="5961468">new</span><span class="op" id="5961471">(</span><span class="ident" id="5961472"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5961475">.</span><span class="ident" id="5961476"><a href="/gostd/go/ast/scope.go.html#3865142">Object</a></span><span class="op" id="5961482">)</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="comment" id="5961485">//&nbsp;If&nbsp;x&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;tryResolve&nbsp;attempts&nbsp;to&nbsp;resolve&nbsp;x&nbsp;by&nbsp;looking&nbsp;up</span><br>
<span class="lineno"></span><span class="comment" id="5961558">//&nbsp;the&nbsp;object&nbsp;it&nbsp;denotes.&nbsp;If&nbsp;no&nbsp;object&nbsp;is&nbsp;found&nbsp;and&nbsp;collectUnresolved&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5961631">//&nbsp;set,&nbsp;x&nbsp;is&nbsp;marked&nbsp;as&nbsp;unresolved&nbsp;and&nbsp;collected&nbsp;in&nbsp;the&nbsp;list&nbsp;of&nbsp;unresolved</span><br>
<span class="lineno"></span><span class="comment" id="5961705">//&nbsp;identifiers.</span><br>
<span class="lineno">170</span><span class="comment" id="5961721">//</span><br>
<span class="lineno"></span><span class="keyword" id="5961724">func</span>&nbsp;<span class="op" id="5961729">(</span><span class="ident" id="5961730">p</span>&nbsp;<span class="op" id="5961732">*</span><span class="ident" id="5961733"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5961739">)</span>&nbsp;<span class="ident" id="5961741">tryResolve</span><span class="op" id="5961751">(</span><span class="ident" id="5961752">x</span>&nbsp;<span class="ident" id="5961754"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5961757">.</span><span class="ident" id="5961758"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5961762">,</span>&nbsp;<span class="ident" id="5961764">collectUnresolved</span>&nbsp;<span class="builtintype" id="5961782">bool</span><span class="op" id="5961786">)</span>&nbsp;<span class="op" id="5961788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5961791">//&nbsp;nothing&nbsp;to&nbsp;do&nbsp;if&nbsp;x&nbsp;is&nbsp;not&nbsp;an&nbsp;identifier&nbsp;or&nbsp;the&nbsp;blank&nbsp;identifier</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961859">ident</span><span class="op" id="5961864">,</span>&nbsp;<span class="ident" id="5961866">_</span>&nbsp;<span class="op" id="5961868">:=</span>&nbsp;<span class="ident" id="5961871"><a href="/gostd/go/parser/parser.go.html#5961752">x</a></span><span class="op" id="5961872">.</span><span class="op" id="5961873">(</span><span class="op" id="5961874">*</span><span class="ident" id="5961875"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5961878">.</span><span class="ident" id="5961879"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5961884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5961887">if</span>&nbsp;<span class="ident" id="5961890"><a href="/gostd/go/parser/parser.go.html#5961859">ident</a></span>&nbsp;<span class="op" id="5961896">==</span>&nbsp;<span class="builtintype" id="5961899">nil</span>&nbsp;<span class="op" id="5961903">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5961907">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5961915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5961918"><a href="/gostd/go/parser/parser.go.html#5968558">assert</a></span><span class="op" id="5961924">(</span><span class="ident" id="5961925"><a href="/gostd/go/parser/parser.go.html#5961859">ident</a></span><span class="op" id="5961930">.</span><span class="ident" id="5961931"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5961935">==</span>&nbsp;<span class="builtintype" id="5961938">nil</span><span class="op" id="5961941">,</span>&nbsp;<span class="string" id="5961943">&#34;identifier&nbsp;already&nbsp;declared&nbsp;or&nbsp;resolved&#34;</span><span class="op" id="5961984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5961987">if</span>&nbsp;<span class="ident" id="5961990"><a href="/gostd/go/parser/parser.go.html#5961859">ident</a></span><span class="op" id="5961995">.</span><span class="ident" id="5961996"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span>&nbsp;<span class="op" id="5962001">==</span>&nbsp;<span class="string" id="5962004">&#34;_&#34;</span>&nbsp;<span class="op" id="5962008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5962012">return</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5962020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5962023">//&nbsp;try&nbsp;to&nbsp;resolve&nbsp;the&nbsp;identifier</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5962057">for</span>&nbsp;<span class="ident" id="5962061">s</span>&nbsp;<span class="op" id="5962063">:=</span>&nbsp;<span class="ident" id="5962066"><a href="/gostd/go/parser/parser.go.html#5961730">p</a></span><span class="op" id="5962067">.</span><span class="ident" id="5962068"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span><span class="op" id="5962076">;</span>&nbsp;<span class="ident" id="5962078"><a href="/gostd/go/parser/parser.go.html#5962061">s</a></span>&nbsp;<span class="op" id="5962080">!=</span>&nbsp;<span class="builtintype" id="5962083">nil</span><span class="op" id="5962086">;</span>&nbsp;<span class="ident" id="5962088"><a href="/gostd/go/parser/parser.go.html#5962061">s</a></span>&nbsp;<span class="op" id="5962090">=</span>&nbsp;<span class="ident" id="5962092"><a href="/gostd/go/parser/parser.go.html#5962061">s</a></span><span class="op" id="5962093">.</span><span class="ident" id="5962094"><a href="/gostd/go/ast/scope.go.html#3863447">Outer</a></span>&nbsp;<span class="op" id="5962100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5962104">if</span>&nbsp;<span class="ident" id="5962107">obj</span>&nbsp;<span class="op" id="5962111">:=</span>&nbsp;<span class="ident" id="5962114"><a href="/gostd/go/parser/parser.go.html#5962061">s</a></span><span class="op" id="5962115">.</span><span class="ident" id="5962116"><a href="/gostd/go/ast/scope.go.html#3863835">Lookup</a></span><span class="op" id="5962122">(</span><span class="ident" id="5962123"><a href="/gostd/go/parser/parser.go.html#5961859">ident</a></span><span class="op" id="5962128">.</span><span class="ident" id="5962129"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="5962133">)</span><span class="op" id="5962134">;</span>&nbsp;<span class="ident" id="5962136"><a href="/gostd/go/parser/parser.go.html#5962107">obj</a></span>&nbsp;<span class="op" id="5962140">!=</span>&nbsp;<span class="builtintype" id="5962143">nil</span>&nbsp;<span class="op" id="5962147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962152"><a href="/gostd/go/parser/parser.go.html#5961859">ident</a></span><span class="op" id="5962157">.</span><span class="ident" id="5962158"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5962162">=</span>&nbsp;<span class="ident" id="5962164"><a href="/gostd/go/parser/parser.go.html#5962107">obj</a></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5962171">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5962180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5962183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5962186">//&nbsp;all&nbsp;local&nbsp;scopes&nbsp;are&nbsp;known,&nbsp;so&nbsp;any&nbsp;unresolved&nbsp;identifier</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5962247">//&nbsp;must&nbsp;be&nbsp;found&nbsp;either&nbsp;in&nbsp;the&nbsp;file&nbsp;scope,&nbsp;package&nbsp;scope</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5962305">//&nbsp;(perhaps&nbsp;in&nbsp;another&nbsp;file),&nbsp;or&nbsp;universe&nbsp;scope&nbsp;---&nbsp;collect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5962366">//&nbsp;them&nbsp;so&nbsp;that&nbsp;they&nbsp;can&nbsp;be&nbsp;resolved&nbsp;later</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5962410">if</span>&nbsp;<span class="ident" id="5962413"><a href="/gostd/go/parser/parser.go.html#5961764">collectUnresolved</a></span>&nbsp;<span class="op" id="5962431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962435"><a href="/gostd/go/parser/parser.go.html#5961859">ident</a></span><span class="op" id="5962440">.</span><span class="ident" id="5962441"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="5962445">=</span>&nbsp;<span class="ident" id="5962447"><a href="/gostd/go/parser/parser.go.html#5961455">unresolved</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962460"><a href="/gostd/go/parser/parser.go.html#5961730">p</a></span><span class="op" id="5962461">.</span><span class="ident" id="5962462"><a href="/gostd/go/parser/parser.go.html#5958027">unresolved</a></span>&nbsp;<span class="op" id="5962473">=</span>&nbsp;<span class="builtinfunc" id="5962475">append</span><span class="op" id="5962481">(</span><span class="ident" id="5962482"><a href="/gostd/go/parser/parser.go.html#5961730">p</a></span><span class="op" id="5962483">.</span><span class="ident" id="5962484"><a href="/gostd/go/parser/parser.go.html#5958027">unresolved</a></span><span class="op" id="5962494">,</span>&nbsp;<span class="ident" id="5962496"><a href="/gostd/go/parser/parser.go.html#5961859">ident</a></span><span class="op" id="5962501">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5962504">}</span><br>
<span class="lineno"></span><span class="op" id="5962506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5962509">func</span>&nbsp;<span class="op" id="5962514">(</span><span class="ident" id="5962515">p</span>&nbsp;<span class="op" id="5962517">*</span><span class="ident" id="5962518"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5962524">)</span>&nbsp;<span class="ident" id="5962526">resolve</span><span class="op" id="5962533">(</span><span class="ident" id="5962534">x</span>&nbsp;<span class="ident" id="5962536"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5962539">.</span><span class="ident" id="5962540"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5962544">)</span>&nbsp;<span class="op" id="5962546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962549"><a href="/gostd/go/parser/parser.go.html#5962515">p</a></span><span class="op" id="5962550">.</span><span class="ident" id="5962551"><a href="/gostd/go/parser/parser.go.html#5961741">tryResolve</a></span><span class="op" id="5962561">(</span><span class="ident" id="5962562"><a href="/gostd/go/parser/parser.go.html#5962534">x</a></span><span class="op" id="5962563">,</span>&nbsp;<span class="builtintype" id="5962565">true</span><span class="op" id="5962569">)</span><br>
<span class="lineno">200</span><span class="op" id="5962571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5962574">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5962654">//&nbsp;Parsing&nbsp;support</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span><span class="keyword" id="5962674">func</span>&nbsp;<span class="op" id="5962679">(</span><span class="ident" id="5962680">p</span>&nbsp;<span class="op" id="5962682">*</span><span class="ident" id="5962683"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5962689">)</span>&nbsp;<span class="ident" id="5962691">printTrace</span><span class="op" id="5962701">(</span><span class="ident" id="5962702">a</span>&nbsp;<span class="op" id="5962704">...</span><span class="keyword" id="5962707">interface</span><span class="op" id="5962716">{</span><span class="op" id="5962717">}</span><span class="op" id="5962718">)</span>&nbsp;<span class="op" id="5962720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5962723">const</span>&nbsp;<span class="ident" id="5962729">dots</span>&nbsp;<span class="op" id="5962734">=</span>&nbsp;<span class="string" id="5962736">&#34;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;.&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5962804">const</span>&nbsp;<span class="ident" id="5962810">n</span>&nbsp;<span class="op" id="5962812">=</span>&nbsp;<span class="builtinfunc" id="5962814">len</span><span class="op" id="5962817">(</span><span class="ident" id="5962818"><a href="/gostd/go/parser/parser.go.html#5962729">dots</a></span><span class="op" id="5962822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962825">pos</span>&nbsp;<span class="op" id="5962829">:=</span>&nbsp;<span class="ident" id="5962832"><a href="/gostd/go/parser/parser.go.html#5962680">p</a></span><span class="op" id="5962833">.</span><span class="ident" id="5962834"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5962838">.</span><span class="ident" id="5962839"><a href="/gostd/go/token/position.go.html#3883056">Position</a></span><span class="op" id="5962847">(</span><span class="ident" id="5962848"><a href="/gostd/go/parser/parser.go.html#5962680">p</a></span><span class="op" id="5962849">.</span><span class="ident" id="5962850"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5962853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962856"><a href="/gostd/go/parser/parser.go.html#5956740">fmt</a></span><span class="op" id="5962859">.</span><span class="ident" id="5962860"><a href="/gostd/fmt/print.go.html#2143442">Printf</a></span><span class="op" id="5962866">(</span><span class="string" id="5962867">&#34;%5d:%3d:&nbsp;&#34;</span><span class="op" id="5962878">,</span>&nbsp;<span class="ident" id="5962880"><a href="/gostd/go/parser/parser.go.html#5962825">pos</a></span><span class="op" id="5962883">.</span><span class="ident" id="5962884"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span><span class="op" id="5962888">,</span>&nbsp;<span class="ident" id="5962890"><a href="/gostd/go/parser/parser.go.html#5962825">pos</a></span><span class="op" id="5962893">.</span><span class="ident" id="5962894"><a href="/gostd/go/token/position.go.html#3874109">Column</a></span><span class="op" id="5962900">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962903">i</span>&nbsp;<span class="op" id="5962905">:=</span>&nbsp;<span class="num" id="5962908">2</span>&nbsp;<span class="op" id="5962910">*</span>&nbsp;<span class="ident" id="5962912"><a href="/gostd/go/parser/parser.go.html#5962680">p</a></span><span class="op" id="5962913">.</span><span class="ident" id="5962914"><a href="/gostd/go/parser/parser.go.html#5957063">indent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5962922">for</span>&nbsp;<span class="ident" id="5962926"><a href="/gostd/go/parser/parser.go.html#5962903">i</a></span>&nbsp;<span class="op" id="5962928">&gt;</span>&nbsp;<span class="ident" id="5962930"><a href="/gostd/go/parser/parser.go.html#5962810">n</a></span>&nbsp;<span class="op" id="5962932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962936"><a href="/gostd/go/parser/parser.go.html#5956740">fmt</a></span><span class="op" id="5962939">.</span><span class="ident" id="5962940"><a href="/gostd/fmt/print.go.html#2144633">Print</a></span><span class="op" id="5962945">(</span><span class="ident" id="5962946"><a href="/gostd/go/parser/parser.go.html#5962729">dots</a></span><span class="op" id="5962950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962954"><a href="/gostd/go/parser/parser.go.html#5962903">i</a></span>&nbsp;<span class="op" id="5962956">-=</span>&nbsp;<span class="ident" id="5962959"><a href="/gostd/go/parser/parser.go.html#5962810">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5962962">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5962965">//&nbsp;i&nbsp;&lt;=&nbsp;n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962976"><a href="/gostd/go/parser/parser.go.html#5956740">fmt</a></span><span class="op" id="5962979">.</span><span class="ident" id="5962980"><a href="/gostd/fmt/print.go.html#2144633">Print</a></span><span class="op" id="5962985">(</span><span class="ident" id="5962986"><a href="/gostd/go/parser/parser.go.html#5962729">dots</a></span><span class="op" id="5962990">[</span><span class="num" id="5962991">0</span><span class="op" id="5962992">:</span><span class="ident" id="5962993"><a href="/gostd/go/parser/parser.go.html#5962903">i</a></span><span class="op" id="5962994">]</span><span class="op" id="5962995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5962998"><a href="/gostd/go/parser/parser.go.html#5956740">fmt</a></span><span class="op" id="5963001">.</span><span class="ident" id="5963002"><a href="/gostd/fmt/print.go.html#2145772">Println</a></span><span class="op" id="5963009">(</span><span class="ident" id="5963010"><a href="/gostd/go/parser/parser.go.html#5962702">a</a></span><span class="op" id="5963011">...</span><span class="op" id="5963014">)</span><br>
<span class="lineno"></span><span class="op" id="5963016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="5963019">func</span>&nbsp;<span class="ident" id="5963024">trace</span><span class="op" id="5963029">(</span><span class="ident" id="5963030">p</span>&nbsp;<span class="op" id="5963032">*</span><span class="ident" id="5963033"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5963039">,</span>&nbsp;<span class="ident" id="5963041">msg</span>&nbsp;<span class="builtintype" id="5963045">string</span><span class="op" id="5963051">)</span>&nbsp;<span class="op" id="5963053">*</span><span class="ident" id="5963054"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span>&nbsp;<span class="op" id="5963061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5963064"><a href="/gostd/go/parser/parser.go.html#5963030">p</a></span><span class="op" id="5963065">.</span><span class="ident" id="5963066"><a href="/gostd/go/parser/parser.go.html#5962691">printTrace</a></span><span class="op" id="5963076">(</span><span class="ident" id="5963077"><a href="/gostd/go/parser/parser.go.html#5963041">msg</a></span><span class="op" id="5963080">,</span>&nbsp;<span class="string" id="5963082">&#34;(&#34;</span><span class="op" id="5963085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5963088"><a href="/gostd/go/parser/parser.go.html#5963030">p</a></span><span class="op" id="5963089">.</span><span class="ident" id="5963090"><a href="/gostd/go/parser/parser.go.html#5957063">indent</a></span><span class="op" id="5963096">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5963100">return</span>&nbsp;<span class="ident" id="5963107"><a href="/gostd/go/parser/parser.go.html#5963030">p</a></span><br>
<span class="lineno"></span><span class="op" id="5963109">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="5963112">//&nbsp;Usage&nbsp;pattern:&nbsp;defer&nbsp;un(trace(p,&nbsp;&#34;...&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="5963156">func</span>&nbsp;<span class="ident" id="5963161">un</span><span class="op" id="5963163">(</span><span class="ident" id="5963164">p</span>&nbsp;<span class="op" id="5963166">*</span><span class="ident" id="5963167"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5963173">)</span>&nbsp;<span class="op" id="5963175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5963178"><a href="/gostd/go/parser/parser.go.html#5963164">p</a></span><span class="op" id="5963179">.</span><span class="ident" id="5963180"><a href="/gostd/go/parser/parser.go.html#5957063">indent</a></span><span class="op" id="5963186">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5963190"><a href="/gostd/go/parser/parser.go.html#5963164">p</a></span><span class="op" id="5963191">.</span><span class="ident" id="5963192"><a href="/gostd/go/parser/parser.go.html#5962691">printTrace</a></span><span class="op" id="5963202">(</span><span class="string" id="5963203">&#34;)&#34;</span><span class="op" id="5963206">)</span><br>
<span class="lineno">230</span><span class="op" id="5963208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5963211">//&nbsp;Advance&nbsp;to&nbsp;the&nbsp;next&nbsp;token.</span><br>
<span class="lineno"></span><span class="keyword" id="5963241">func</span>&nbsp;<span class="op" id="5963246">(</span><span class="ident" id="5963247">p</span>&nbsp;<span class="op" id="5963249">*</span><span class="ident" id="5963250"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5963256">)</span>&nbsp;<span class="ident" id="5963258">next0</span><span class="op" id="5963263">(</span><span class="op" id="5963264">)</span>&nbsp;<span class="op" id="5963266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5963269">//&nbsp;Because&nbsp;of&nbsp;one-token&nbsp;look-ahead,&nbsp;print&nbsp;the&nbsp;previous&nbsp;token</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5963331">//&nbsp;when&nbsp;tracing&nbsp;as&nbsp;it&nbsp;provides&nbsp;a&nbsp;more&nbsp;readable&nbsp;output.&nbsp;The</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5963391">//&nbsp;very&nbsp;first&nbsp;token&nbsp;(!p.pos.IsValid())&nbsp;is&nbsp;not&nbsp;initialized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5963450">//&nbsp;(it&nbsp;is&nbsp;token.ILLEGAL),&nbsp;so&nbsp;don&#39;t&nbsp;print&nbsp;it&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5963497">if</span>&nbsp;<span class="ident" id="5963500"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963501">.</span><span class="ident" id="5963502"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5963508">&amp;&amp;</span>&nbsp;<span class="ident" id="5963511"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963512">.</span><span class="ident" id="5963513"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5963516">.</span><span class="ident" id="5963517"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5963524">(</span><span class="op" id="5963525">)</span>&nbsp;<span class="op" id="5963527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5963531">s</span>&nbsp;<span class="op" id="5963533">:=</span>&nbsp;<span class="ident" id="5963536"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963537">.</span><span class="ident" id="5963538"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="5963541">.</span><span class="ident" id="5963542"><a href="/gostd/go/token/token.go.html#3892778">String</a></span><span class="op" id="5963548">(</span><span class="op" id="5963549">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5963553">switch</span>&nbsp;<span class="op" id="5963560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5963564">case</span>&nbsp;<span class="ident" id="5963569"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963570">.</span><span class="ident" id="5963571"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="5963574">.</span><span class="ident" id="5963575"><a href="/gostd/go/token/token.go.html#3894257">IsLiteral</a></span><span class="op" id="5963584">(</span><span class="op" id="5963585">)</span><span class="op" id="5963586">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5963591"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963592">.</span><span class="ident" id="5963593"><a href="/gostd/go/parser/parser.go.html#5962691">printTrace</a></span><span class="op" id="5963603">(</span><span class="ident" id="5963604"><a href="/gostd/go/parser/parser.go.html#5963531">s</a></span><span class="op" id="5963605">,</span>&nbsp;<span class="ident" id="5963607"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963608">.</span><span class="ident" id="5963609"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><span class="op" id="5963612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5963616">case</span>&nbsp;<span class="ident" id="5963621"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963622">.</span><span class="ident" id="5963623"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="5963626">.</span><span class="ident" id="5963627"><a href="/gostd/go/token/token.go.html#3894457">IsOperator</a></span><span class="op" id="5963637">(</span><span class="op" id="5963638">)</span><span class="op" id="5963639">,</span>&nbsp;<span class="ident" id="5963641"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963642">.</span><span class="ident" id="5963643"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="5963646">.</span><span class="ident" id="5963647"><a href="/gostd/go/token/token.go.html#3894643">IsKeyword</a></span><span class="op" id="5963656">(</span><span class="op" id="5963657">)</span><span class="op" id="5963658">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5963663"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963664">.</span><span class="ident" id="5963665"><a href="/gostd/go/parser/parser.go.html#5962691">printTrace</a></span><span class="op" id="5963675">(</span><span class="string" id="5963676">&#34;\&#34;&#34;</span>&nbsp;<span class="op" id="5963681">+</span>&nbsp;<span class="ident" id="5963683"><a href="/gostd/go/parser/parser.go.html#5963531">s</a></span>&nbsp;<span class="op" id="5963685">+</span>&nbsp;<span class="string" id="5963687">&#34;\&#34;&#34;</span><span class="op" id="5963691">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5963695">default</span><span class="op" id="5963702">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5963707"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963708">.</span><span class="ident" id="5963709"><a href="/gostd/go/parser/parser.go.html#5962691">printTrace</a></span><span class="op" id="5963719">(</span><span class="ident" id="5963720"><a href="/gostd/go/parser/parser.go.html#5963531">s</a></span><span class="op" id="5963721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5963725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5963728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5963732"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963733">.</span><span class="ident" id="5963734"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5963737">,</span>&nbsp;<span class="ident" id="5963739"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963740">.</span><span class="ident" id="5963741"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="5963744">,</span>&nbsp;<span class="ident" id="5963746"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963747">.</span><span class="ident" id="5963748"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span>&nbsp;<span class="op" id="5963752">=</span>&nbsp;<span class="ident" id="5963754"><a href="/gostd/go/parser/parser.go.html#5963247">p</a></span><span class="op" id="5963755">.</span><span class="ident" id="5963756"><a href="/gostd/go/parser/parser.go.html#5956947">scanner</a></span><span class="op" id="5963763">.</span><span class="ident" id="5963764"><a href="/gostd/go/scanner/scanner.go.html#3911473">Scan</a></span><span class="op" id="5963768">(</span><span class="op" id="5963769">)</span><br>
<span class="lineno"></span><span class="op" id="5963771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5963774">//&nbsp;Consume&nbsp;a&nbsp;comment&nbsp;and&nbsp;return&nbsp;it&nbsp;and&nbsp;the&nbsp;line&nbsp;on&nbsp;which&nbsp;it&nbsp;ends.</span><br>
<span class="lineno"></span><span class="keyword" id="5963840">func</span>&nbsp;<span class="op" id="5963845">(</span><span class="ident" id="5963846">p</span>&nbsp;<span class="op" id="5963848">*</span><span class="ident" id="5963849"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5963855">)</span>&nbsp;<span class="ident" id="5963857">consumeComment</span><span class="op" id="5963871">(</span><span class="op" id="5963872">)</span>&nbsp;<span class="op" id="5963874">(</span><span class="ident" id="5963875">comment</span>&nbsp;<span class="op" id="5963883">*</span><span class="ident" id="5963884"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5963887">.</span><span class="ident" id="5963888"><a href="/gostd/go/ast/ast.go.html#3795636">Comment</a></span><span class="op" id="5963895">,</span>&nbsp;<span class="ident" id="5963897">endline</span>&nbsp;<span class="builtintype" id="5963905">int</span><span class="op" id="5963908">)</span>&nbsp;<span class="op" id="5963910">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5963913">//&nbsp;/*-style&nbsp;comments&nbsp;may&nbsp;end&nbsp;on&nbsp;a&nbsp;different&nbsp;line&nbsp;than&nbsp;where&nbsp;they&nbsp;start.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5963986">//&nbsp;Scan&nbsp;the&nbsp;comment&nbsp;for&nbsp;&#39;\n&#39;&nbsp;chars&nbsp;and&nbsp;adjust&nbsp;endline&nbsp;accordingly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5964054"><a href="/gostd/go/parser/parser.go.html#5963897">endline</a></span>&nbsp;<span class="op" id="5964062">=</span>&nbsp;<span class="ident" id="5964064"><a href="/gostd/go/parser/parser.go.html#5963846">p</a></span><span class="op" id="5964065">.</span><span class="ident" id="5964066"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5964070">.</span><span class="ident" id="5964071"><a href="/gostd/go/token/position.go.html#3881354">Line</a></span><span class="op" id="5964075">(</span><span class="ident" id="5964076"><a href="/gostd/go/parser/parser.go.html#5963846">p</a></span><span class="op" id="5964077">.</span><span class="ident" id="5964078"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5964081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5964084">if</span>&nbsp;<span class="ident" id="5964087"><a href="/gostd/go/parser/parser.go.html#5963846">p</a></span><span class="op" id="5964088">.</span><span class="ident" id="5964089"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><span class="op" id="5964092">[</span><span class="num" id="5964093">1</span><span class="op" id="5964094">]</span>&nbsp;<span class="op" id="5964096">==</span>&nbsp;<span class="string" id="5964099">&#39;*&#39;</span>&nbsp;<span class="op" id="5964103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5964107">//&nbsp;don&#39;t&nbsp;use&nbsp;range&nbsp;here&nbsp;-&nbsp;no&nbsp;need&nbsp;to&nbsp;decode&nbsp;Unicode&nbsp;code&nbsp;points</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5964173">for</span>&nbsp;<span class="ident" id="5964177">i</span>&nbsp;<span class="op" id="5964179">:=</span>&nbsp;<span class="num" id="5964182">0</span><span class="op" id="5964183">;</span>&nbsp;<span class="ident" id="5964185"><a href="/gostd/go/parser/parser.go.html#5964177">i</a></span>&nbsp;<span class="op" id="5964187">&lt;</span>&nbsp;<span class="builtinfunc" id="5964189">len</span><span class="op" id="5964192">(</span><span class="ident" id="5964193"><a href="/gostd/go/parser/parser.go.html#5963846">p</a></span><span class="op" id="5964194">.</span><span class="ident" id="5964195"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><span class="op" id="5964198">)</span><span class="op" id="5964199">;</span>&nbsp;<span class="ident" id="5964201"><a href="/gostd/go/parser/parser.go.html#5964177">i</a></span><span class="op" id="5964202">++</span>&nbsp;<span class="op" id="5964205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5964210">if</span>&nbsp;<span class="ident" id="5964213"><a href="/gostd/go/parser/parser.go.html#5963846">p</a></span><span class="op" id="5964214">.</span><span class="ident" id="5964215"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><span class="op" id="5964218">[</span><span class="ident" id="5964219"><a href="/gostd/go/parser/parser.go.html#5964177">i</a></span><span class="op" id="5964220">]</span>&nbsp;<span class="op" id="5964222">==</span>&nbsp;<span class="string" id="5964225">&#39;\n&#39;</span>&nbsp;<span class="op" id="5964230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5964236"><a href="/gostd/go/parser/parser.go.html#5963897">endline</a></span><span class="op" id="5964243">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5964249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5964253">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5964256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5964260"><a href="/gostd/go/parser/parser.go.html#5963875">comment</a></span>&nbsp;<span class="op" id="5964268">=</span>&nbsp;<span class="op" id="5964270">&amp;</span><span class="ident" id="5964271"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5964274">.</span><span class="ident" id="5964275"><a href="/gostd/go/ast/ast.go.html#3795636">Comment</a></span><span class="op" id="5964282">{</span><span class="ident" id="5964283"><a href="/gostd/go/ast/ast.go.html#3795654">Slash</a></span><span class="op" id="5964288">:</span>&nbsp;<span class="ident" id="5964290"><a href="/gostd/go/parser/parser.go.html#5963846">p</a></span><span class="op" id="5964291">.</span><span class="ident" id="5964292"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5964295">,</span>&nbsp;<span class="ident" id="5964297"><a href="/gostd/go/ast/ast.go.html#3795711">Text</a></span><span class="op" id="5964301">:</span>&nbsp;<span class="ident" id="5964303"><a href="/gostd/go/parser/parser.go.html#5963846">p</a></span><span class="op" id="5964304">.</span><span class="ident" id="5964305"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><span class="op" id="5964308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5964311"><a href="/gostd/go/parser/parser.go.html#5963846">p</a></span><span class="op" id="5964312">.</span><span class="ident" id="5964313"><a href="/gostd/go/parser/parser.go.html#5963258">next0</a></span><span class="op" id="5964318">(</span><span class="op" id="5964319">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5964323">return</span><br>
<span class="lineno"></span><span class="op" id="5964330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5964333">//&nbsp;Consume&nbsp;a&nbsp;group&nbsp;of&nbsp;adjacent&nbsp;comments,&nbsp;add&nbsp;it&nbsp;to&nbsp;the&nbsp;parser&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5964397">//&nbsp;comments&nbsp;list,&nbsp;and&nbsp;return&nbsp;it&nbsp;together&nbsp;with&nbsp;the&nbsp;line&nbsp;at&nbsp;which</span><br>
<span class="lineno">275</span><span class="comment" id="5964461">//&nbsp;the&nbsp;last&nbsp;comment&nbsp;in&nbsp;the&nbsp;group&nbsp;ends.&nbsp;A&nbsp;non-comment&nbsp;token&nbsp;or&nbsp;n</span><br>
<span class="lineno"></span><span class="comment" id="5964525">//&nbsp;empty&nbsp;lines&nbsp;terminate&nbsp;a&nbsp;comment&nbsp;group.</span><br>
<span class="lineno"></span><span class="comment" id="5964567">//</span><br>
<span class="lineno"></span><span class="keyword" id="5964570">func</span>&nbsp;<span class="op" id="5964575">(</span><span class="ident" id="5964576">p</span>&nbsp;<span class="op" id="5964578">*</span><span class="ident" id="5964579"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5964585">)</span>&nbsp;<span class="ident" id="5964587">consumeCommentGroup</span><span class="op" id="5964606">(</span><span class="ident" id="5964607">n</span>&nbsp;<span class="builtintype" id="5964609">int</span><span class="op" id="5964612">)</span>&nbsp;<span class="op" id="5964614">(</span><span class="ident" id="5964615">comments</span>&nbsp;<span class="op" id="5964624">*</span><span class="ident" id="5964625"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5964628">.</span><span class="ident" id="5964629"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="5964641">,</span>&nbsp;<span class="ident" id="5964643">endline</span>&nbsp;<span class="builtintype" id="5964651">int</span><span class="op" id="5964654">)</span>&nbsp;<span class="op" id="5964656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5964659">var</span>&nbsp;<span class="ident" id="5964663">list</span>&nbsp;<span class="op" id="5964668">[</span><span class="op" id="5964669">]</span><span class="op" id="5964670">*</span><span class="ident" id="5964671"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5964674">.</span><span class="ident" id="5964675"><a href="/gostd/go/ast/ast.go.html#3795636">Comment</a></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5964684"><a href="/gostd/go/parser/parser.go.html#5964643">endline</a></span>&nbsp;<span class="op" id="5964692">=</span>&nbsp;<span class="ident" id="5964694"><a href="/gostd/go/parser/parser.go.html#5964576">p</a></span><span class="op" id="5964695">.</span><span class="ident" id="5964696"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5964700">.</span><span class="ident" id="5964701"><a href="/gostd/go/token/position.go.html#3881354">Line</a></span><span class="op" id="5964705">(</span><span class="ident" id="5964706"><a href="/gostd/go/parser/parser.go.html#5964576">p</a></span><span class="op" id="5964707">.</span><span class="ident" id="5964708"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5964711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5964714">for</span>&nbsp;<span class="ident" id="5964718"><a href="/gostd/go/parser/parser.go.html#5964576">p</a></span><span class="op" id="5964719">.</span><span class="ident" id="5964720"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5964724">==</span>&nbsp;<span class="ident" id="5964727"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5964732">.</span><span class="ident" id="5964733"><a href="/gostd/go/token/token.go.html#3889711">COMMENT</a></span>&nbsp;<span class="op" id="5964741">&amp;&amp;</span>&nbsp;<span class="ident" id="5964744"><a href="/gostd/go/parser/parser.go.html#5964576">p</a></span><span class="op" id="5964745">.</span><span class="ident" id="5964746"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5964750">.</span><span class="ident" id="5964751"><a href="/gostd/go/token/position.go.html#3881354">Line</a></span><span class="op" id="5964755">(</span><span class="ident" id="5964756"><a href="/gostd/go/parser/parser.go.html#5964576">p</a></span><span class="op" id="5964757">.</span><span class="ident" id="5964758"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5964761">)</span>&nbsp;<span class="op" id="5964763">&lt;=</span>&nbsp;<span class="ident" id="5964766"><a href="/gostd/go/parser/parser.go.html#5964643">endline</a></span><span class="op" id="5964773">+</span><span class="ident" id="5964774"><a href="/gostd/go/parser/parser.go.html#5964607">n</a></span>&nbsp;<span class="op" id="5964776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5964780">var</span>&nbsp;<span class="ident" id="5964784">comment</span>&nbsp;<span class="op" id="5964792">*</span><span class="ident" id="5964793"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5964796">.</span><span class="ident" id="5964797"><a href="/gostd/go/ast/ast.go.html#3795636">Comment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5964807"><a href="/gostd/go/parser/parser.go.html#5964784">comment</a></span><span class="op" id="5964814">,</span>&nbsp;<span class="ident" id="5964816"><a href="/gostd/go/parser/parser.go.html#5964643">endline</a></span>&nbsp;<span class="op" id="5964824">=</span>&nbsp;<span class="ident" id="5964826"><a href="/gostd/go/parser/parser.go.html#5964576">p</a></span><span class="op" id="5964827">.</span><span class="ident" id="5964828"><a href="/gostd/go/parser/parser.go.html#5963857">consumeComment</a></span><span class="op" id="5964842">(</span><span class="op" id="5964843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5964847"><a href="/gostd/go/parser/parser.go.html#5964663">list</a></span>&nbsp;<span class="op" id="5964852">=</span>&nbsp;<span class="builtinfunc" id="5964854">append</span><span class="op" id="5964860">(</span><span class="ident" id="5964861"><a href="/gostd/go/parser/parser.go.html#5964663">list</a></span><span class="op" id="5964865">,</span>&nbsp;<span class="ident" id="5964867"><a href="/gostd/go/parser/parser.go.html#5964784">comment</a></span><span class="op" id="5964874">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5964877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5964881">//&nbsp;add&nbsp;comment&nbsp;group&nbsp;to&nbsp;the&nbsp;comments&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5964924"><a href="/gostd/go/parser/parser.go.html#5964615">comments</a></span>&nbsp;<span class="op" id="5964933">=</span>&nbsp;<span class="op" id="5964935">&amp;</span><span class="ident" id="5964936"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5964939">.</span><span class="ident" id="5964940"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="5964952">{</span><span class="ident" id="5964953"><a href="/gostd/go/ast/ast.go.html#3796057">List</a></span><span class="op" id="5964957">:</span>&nbsp;<span class="ident" id="5964959"><a href="/gostd/go/parser/parser.go.html#5964663">list</a></span><span class="op" id="5964963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5964966"><a href="/gostd/go/parser/parser.go.html#5964576">p</a></span><span class="op" id="5964967">.</span><span class="ident" id="5964968"><a href="/gostd/go/parser/parser.go.html#5957129">comments</a></span>&nbsp;<span class="op" id="5964977">=</span>&nbsp;<span class="builtinfunc" id="5964979">append</span><span class="op" id="5964985">(</span><span class="ident" id="5964986"><a href="/gostd/go/parser/parser.go.html#5964576">p</a></span><span class="op" id="5964987">.</span><span class="ident" id="5964988"><a href="/gostd/go/parser/parser.go.html#5957129">comments</a></span><span class="op" id="5964996">,</span>&nbsp;<span class="ident" id="5964998"><a href="/gostd/go/parser/parser.go.html#5964615">comments</a></span><span class="op" id="5965006">)</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5965010">return</span><br>
<span class="lineno"></span><span class="op" id="5965017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5965020">//&nbsp;Advance&nbsp;to&nbsp;the&nbsp;next&nbsp;non-comment&nbsp;token.&nbsp;In&nbsp;the&nbsp;process,&nbsp;collect</span><br>
<span class="lineno">295</span><span class="comment" id="5965086">//&nbsp;any&nbsp;comment&nbsp;groups&nbsp;encountered,&nbsp;and&nbsp;remember&nbsp;the&nbsp;last&nbsp;lead&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5965152">//&nbsp;and&nbsp;line&nbsp;comments.</span><br>
<span class="lineno"></span><span class="comment" id="5965174">//</span><br>
<span class="lineno"></span><span class="comment" id="5965177">//&nbsp;A&nbsp;lead&nbsp;comment&nbsp;is&nbsp;a&nbsp;comment&nbsp;group&nbsp;that&nbsp;starts&nbsp;and&nbsp;ends&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5965240">//&nbsp;line&nbsp;without&nbsp;any&nbsp;other&nbsp;tokens&nbsp;and&nbsp;that&nbsp;is&nbsp;followed&nbsp;by&nbsp;a&nbsp;non-comment</span><br>
<span class="lineno">300</span><span class="comment" id="5965311">//&nbsp;token&nbsp;on&nbsp;the&nbsp;line&nbsp;immediately&nbsp;after&nbsp;the&nbsp;comment&nbsp;group.</span><br>
<span class="lineno"></span><span class="comment" id="5965369">//</span><br>
<span class="lineno"></span><span class="comment" id="5965372">//&nbsp;A&nbsp;line&nbsp;comment&nbsp;is&nbsp;a&nbsp;comment&nbsp;group&nbsp;that&nbsp;follows&nbsp;a&nbsp;non-comment</span><br>
<span class="lineno"></span><span class="comment" id="5965436">//&nbsp;token&nbsp;on&nbsp;the&nbsp;same&nbsp;line,&nbsp;and&nbsp;that&nbsp;has&nbsp;no&nbsp;tokens&nbsp;after&nbsp;it&nbsp;on&nbsp;the&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="5965507">//&nbsp;where&nbsp;it&nbsp;ends.</span><br>
<span class="lineno">305</span><span class="comment" id="5965525">//</span><br>
<span class="lineno"></span><span class="comment" id="5965528">//&nbsp;Lead&nbsp;and&nbsp;line&nbsp;comments&nbsp;may&nbsp;be&nbsp;considered&nbsp;documentation&nbsp;that&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5965594">//&nbsp;stored&nbsp;in&nbsp;the&nbsp;AST.</span><br>
<span class="lineno"></span><span class="comment" id="5965616">//</span><br>
<span class="lineno"></span><span class="keyword" id="5965619">func</span>&nbsp;<span class="op" id="5965624">(</span><span class="ident" id="5965625">p</span>&nbsp;<span class="op" id="5965627">*</span><span class="ident" id="5965628"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5965634">)</span>&nbsp;<span class="ident" id="5965636">next</span><span class="op" id="5965640">(</span><span class="op" id="5965641">)</span>&nbsp;<span class="op" id="5965643">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5965646"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5965647">.</span><span class="ident" id="5965648"><a href="/gostd/go/parser/parser.go.html#5957162">leadComment</a></span>&nbsp;<span class="op" id="5965660">=</span>&nbsp;<span class="builtintype" id="5965662">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5965667"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5965668">.</span><span class="ident" id="5965669"><a href="/gostd/go/parser/parser.go.html#5957214">lineComment</a></span>&nbsp;<span class="op" id="5965681">=</span>&nbsp;<span class="builtintype" id="5965683">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5965688">prev</span>&nbsp;<span class="op" id="5965693">:=</span>&nbsp;<span class="ident" id="5965696"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5965697">.</span><span class="ident" id="5965698"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5965703"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5965704">.</span><span class="ident" id="5965705"><a href="/gostd/go/parser/parser.go.html#5963258">next0</a></span><span class="op" id="5965710">(</span><span class="op" id="5965711">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5965715">if</span>&nbsp;<span class="ident" id="5965718"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5965719">.</span><span class="ident" id="5965720"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5965724">==</span>&nbsp;<span class="ident" id="5965727"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5965732">.</span><span class="ident" id="5965733"><a href="/gostd/go/token/token.go.html#3889711">COMMENT</a></span>&nbsp;<span class="op" id="5965741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5965745">var</span>&nbsp;<span class="ident" id="5965749">comment</span>&nbsp;<span class="op" id="5965757">*</span><span class="ident" id="5965758"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5965761">.</span><span class="ident" id="5965762"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5965777">var</span>&nbsp;<span class="ident" id="5965781">endline</span>&nbsp;<span class="builtintype" id="5965789">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5965796">if</span>&nbsp;<span class="ident" id="5965799"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5965800">.</span><span class="ident" id="5965801"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5965805">.</span><span class="ident" id="5965806"><a href="/gostd/go/token/position.go.html#3881354">Line</a></span><span class="op" id="5965810">(</span><span class="ident" id="5965811"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5965812">.</span><span class="ident" id="5965813"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5965816">)</span>&nbsp;<span class="op" id="5965818">==</span>&nbsp;<span class="ident" id="5965821"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5965822">.</span><span class="ident" id="5965823"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5965827">.</span><span class="ident" id="5965828"><a href="/gostd/go/token/position.go.html#3881354">Line</a></span><span class="op" id="5965832">(</span><span class="ident" id="5965833"><a href="/gostd/go/parser/parser.go.html#5965688">prev</a></span><span class="op" id="5965837">)</span>&nbsp;<span class="op" id="5965839">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5965844">//&nbsp;The&nbsp;comment&nbsp;is&nbsp;on&nbsp;same&nbsp;line&nbsp;as&nbsp;the&nbsp;previous&nbsp;token;&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5965904">//&nbsp;cannot&nbsp;be&nbsp;a&nbsp;lead&nbsp;comment&nbsp;but&nbsp;may&nbsp;be&nbsp;a&nbsp;line&nbsp;comment.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5965962"><a href="/gostd/go/parser/parser.go.html#5965749">comment</a></span><span class="op" id="5965969">,</span>&nbsp;<span class="ident" id="5965971"><a href="/gostd/go/parser/parser.go.html#5965781">endline</a></span>&nbsp;<span class="op" id="5965979">=</span>&nbsp;<span class="ident" id="5965981"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5965982">.</span><span class="ident" id="5965983"><a href="/gostd/go/parser/parser.go.html#5964587">consumeCommentGroup</a></span><span class="op" id="5966002">(</span><span class="num" id="5966003">0</span><span class="op" id="5966004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5966009">if</span>&nbsp;<span class="ident" id="5966012"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5966013">.</span><span class="ident" id="5966014"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5966018">.</span><span class="ident" id="5966019"><a href="/gostd/go/token/position.go.html#3881354">Line</a></span><span class="op" id="5966023">(</span><span class="ident" id="5966024"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5966025">.</span><span class="ident" id="5966026"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5966029">)</span>&nbsp;<span class="op" id="5966031">!=</span>&nbsp;<span class="ident" id="5966034"><a href="/gostd/go/parser/parser.go.html#5965781">endline</a></span>&nbsp;<span class="op" id="5966042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5966048">//&nbsp;The&nbsp;next&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;different&nbsp;line,&nbsp;thus</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5966099">//&nbsp;the&nbsp;last&nbsp;comment&nbsp;group&nbsp;is&nbsp;a&nbsp;line&nbsp;comment.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5966148"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5966149">.</span><span class="ident" id="5966150"><a href="/gostd/go/parser/parser.go.html#5957214">lineComment</a></span>&nbsp;<span class="op" id="5966162">=</span>&nbsp;<span class="ident" id="5966164"><a href="/gostd/go/parser/parser.go.html#5965749">comment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5966175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5966179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5966184">//&nbsp;consume&nbsp;successor&nbsp;comments,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5966224"><a href="/gostd/go/parser/parser.go.html#5965781">endline</a></span>&nbsp;<span class="op" id="5966232">=</span>&nbsp;<span class="op" id="5966234">-</span><span class="num" id="5966235">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5966239">for</span>&nbsp;<span class="ident" id="5966243"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5966244">.</span><span class="ident" id="5966245"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5966249">==</span>&nbsp;<span class="ident" id="5966252"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5966257">.</span><span class="ident" id="5966258"><a href="/gostd/go/token/token.go.html#3889711">COMMENT</a></span>&nbsp;<span class="op" id="5966266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5966271"><a href="/gostd/go/parser/parser.go.html#5965749">comment</a></span><span class="op" id="5966278">,</span>&nbsp;<span class="ident" id="5966280"><a href="/gostd/go/parser/parser.go.html#5965781">endline</a></span>&nbsp;<span class="op" id="5966288">=</span>&nbsp;<span class="ident" id="5966290"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5966291">.</span><span class="ident" id="5966292"><a href="/gostd/go/parser/parser.go.html#5964587">consumeCommentGroup</a></span><span class="op" id="5966311">(</span><span class="num" id="5966312">1</span><span class="op" id="5966313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5966317">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5966322">if</span>&nbsp;<span class="ident" id="5966325"><a href="/gostd/go/parser/parser.go.html#5965781">endline</a></span><span class="op" id="5966332">+</span><span class="num" id="5966333">1</span>&nbsp;<span class="op" id="5966335">==</span>&nbsp;<span class="ident" id="5966338"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5966339">.</span><span class="ident" id="5966340"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5966344">.</span><span class="ident" id="5966345"><a href="/gostd/go/token/position.go.html#3881354">Line</a></span><span class="op" id="5966349">(</span><span class="ident" id="5966350"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5966351">.</span><span class="ident" id="5966352"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5966355">)</span>&nbsp;<span class="op" id="5966357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5966362">//&nbsp;The&nbsp;next&nbsp;token&nbsp;is&nbsp;following&nbsp;on&nbsp;the&nbsp;line&nbsp;immediately&nbsp;after&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5966430">//&nbsp;comment&nbsp;group,&nbsp;thus&nbsp;the&nbsp;last&nbsp;comment&nbsp;group&nbsp;is&nbsp;a&nbsp;lead&nbsp;comment.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5966498"><a href="/gostd/go/parser/parser.go.html#5965625">p</a></span><span class="op" id="5966499">.</span><span class="ident" id="5966500"><a href="/gostd/go/parser/parser.go.html#5957162">leadComment</a></span>&nbsp;<span class="op" id="5966512">=</span>&nbsp;<span class="ident" id="5966514"><a href="/gostd/go/parser/parser.go.html#5965749">comment</a></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5966524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5966527">}</span><br>
<span class="lineno"></span><span class="op" id="5966529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5966532">//&nbsp;A&nbsp;bailout&nbsp;panic&nbsp;is&nbsp;raised&nbsp;to&nbsp;indicate&nbsp;early&nbsp;termination.</span><br>
<span class="lineno">345</span><span class="keyword" id="5966592">type</span>&nbsp;<span class="ident" id="5966597">bailout</span>&nbsp;<span class="keyword" id="5966605">struct</span><span class="op" id="5966611">{</span><span class="op" id="5966612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5966615">func</span>&nbsp;<span class="op" id="5966620">(</span><span class="ident" id="5966621">p</span>&nbsp;<span class="op" id="5966623">*</span><span class="ident" id="5966624"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5966630">)</span>&nbsp;<span class="builtintype" id="5966632">error</span><span class="op" id="5966637">(</span><span class="ident" id="5966638">pos</span>&nbsp;<span class="ident" id="5966642"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5966647">.</span><span class="ident" id="5966648"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="5966651">,</span>&nbsp;<span class="ident" id="5966653">msg</span>&nbsp;<span class="builtintype" id="5966657">string</span><span class="op" id="5966663">)</span>&nbsp;<span class="op" id="5966665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5966668">epos</span>&nbsp;<span class="op" id="5966673">:=</span>&nbsp;<span class="ident" id="5966676"><a href="/gostd/go/parser/parser.go.html#5966621">p</a></span><span class="op" id="5966677">.</span><span class="ident" id="5966678"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5966682">.</span><span class="ident" id="5966683"><a href="/gostd/go/token/position.go.html#3883056">Position</a></span><span class="op" id="5966691">(</span><span class="ident" id="5966692"><a href="/gostd/go/parser/parser.go.html#5966638">pos</a></span><span class="op" id="5966695">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5966699">//&nbsp;If&nbsp;AllErrors&nbsp;is&nbsp;not&nbsp;set,&nbsp;discard&nbsp;errors&nbsp;reported&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5966769">//&nbsp;as&nbsp;the&nbsp;last&nbsp;recorded&nbsp;error&nbsp;and&nbsp;stop&nbsp;parsing&nbsp;if&nbsp;there&nbsp;are&nbsp;more&nbsp;than</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5966840">//&nbsp;10&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5966855">if</span>&nbsp;<span class="ident" id="5966858"><a href="/gostd/go/parser/parser.go.html#5966621">p</a></span><span class="op" id="5966859">.</span><span class="ident" id="5966860"><a href="/gostd/go/parser/parser.go.html#5956995">mode</a></span><span class="op" id="5966864">&amp;</span><span class="ident" id="5966865"><a href="/gostd/go/parser/interface.go.html#5952077">AllErrors</a></span>&nbsp;<span class="op" id="5966875">==</span>&nbsp;<span class="num" id="5966878">0</span>&nbsp;<span class="op" id="5966880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5966884">n</span>&nbsp;<span class="op" id="5966886">:=</span>&nbsp;<span class="builtinfunc" id="5966889">len</span><span class="op" id="5966892">(</span><span class="ident" id="5966893"><a href="/gostd/go/parser/parser.go.html#5966621">p</a></span><span class="op" id="5966894">.</span><span class="ident" id="5966895"><a href="/gostd/go/parser/parser.go.html#5956920">errors</a></span><span class="op" id="5966901">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5966905">if</span>&nbsp;<span class="ident" id="5966908"><a href="/gostd/go/parser/parser.go.html#5966884">n</a></span>&nbsp;<span class="op" id="5966910">&gt;</span>&nbsp;<span class="num" id="5966912">0</span>&nbsp;<span class="op" id="5966914">&amp;&amp;</span>&nbsp;<span class="ident" id="5966917"><a href="/gostd/go/parser/parser.go.html#5966621">p</a></span><span class="op" id="5966918">.</span><span class="ident" id="5966919"><a href="/gostd/go/parser/parser.go.html#5956920">errors</a></span><span class="op" id="5966925">[</span><span class="ident" id="5966926"><a href="/gostd/go/parser/parser.go.html#5966884">n</a></span><span class="op" id="5966927">-</span><span class="num" id="5966928">1</span><span class="op" id="5966929">]</span><span class="op" id="5966930">.</span><span class="ident" id="5966931"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="5966934">.</span><span class="ident" id="5966935"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="5966940">==</span>&nbsp;<span class="ident" id="5966943"><a href="/gostd/go/parser/parser.go.html#5966668">epos</a></span><span class="op" id="5966947">.</span><span class="ident" id="5966948"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="5966953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5966958">return</span>&nbsp;<span class="comment" id="5966965">//&nbsp;discard&nbsp;-&nbsp;likely&nbsp;a&nbsp;spurious&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5967004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5967008">if</span>&nbsp;<span class="ident" id="5967011"><a href="/gostd/go/parser/parser.go.html#5966884">n</a></span>&nbsp;<span class="op" id="5967013">&gt;</span>&nbsp;<span class="num" id="5967015">10</span>&nbsp;<span class="op" id="5967018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5967023">panic</span><span class="op" id="5967028">(</span><span class="ident" id="5967029"><a href="/gostd/go/parser/parser.go.html#5966597">bailout</a></span><span class="op" id="5967036">{</span><span class="op" id="5967037">}</span><span class="op" id="5967038">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5967042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5967045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967049"><a href="/gostd/go/parser/parser.go.html#5966621">p</a></span><span class="op" id="5967050">.</span><span class="ident" id="5967051"><a href="/gostd/go/parser/parser.go.html#5956920">errors</a></span><span class="op" id="5967057">.</span><span class="ident" id="5967058"><a href="/gostd/go/scanner/errors.go.html#3895685">Add</a></span><span class="op" id="5967061">(</span><span class="ident" id="5967062"><a href="/gostd/go/parser/parser.go.html#5966668">epos</a></span><span class="op" id="5967066">,</span>&nbsp;<span class="ident" id="5967068"><a href="/gostd/go/parser/parser.go.html#5966653">msg</a></span><span class="op" id="5967071">)</span><br>
<span class="lineno"></span><span class="op" id="5967073">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="5967076">func</span>&nbsp;<span class="op" id="5967081">(</span><span class="ident" id="5967082">p</span>&nbsp;<span class="op" id="5967084">*</span><span class="ident" id="5967085"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5967091">)</span>&nbsp;<span class="ident" id="5967093">errorExpected</span><span class="op" id="5967106">(</span><span class="ident" id="5967107">pos</span>&nbsp;<span class="ident" id="5967111"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5967116">.</span><span class="ident" id="5967117"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="5967120">,</span>&nbsp;<span class="ident" id="5967122">msg</span>&nbsp;<span class="builtintype" id="5967126">string</span><span class="op" id="5967132">)</span>&nbsp;<span class="op" id="5967134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967137"><a href="/gostd/go/parser/parser.go.html#5967122">msg</a></span>&nbsp;<span class="op" id="5967141">=</span>&nbsp;<span class="string" id="5967143">&#34;expected&nbsp;&#34;</span>&nbsp;<span class="op" id="5967155">+</span>&nbsp;<span class="ident" id="5967157"><a href="/gostd/go/parser/parser.go.html#5967122">msg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5967162">if</span>&nbsp;<span class="ident" id="5967165"><a href="/gostd/go/parser/parser.go.html#5967107">pos</a></span>&nbsp;<span class="op" id="5967169">==</span>&nbsp;<span class="ident" id="5967172"><a href="/gostd/go/parser/parser.go.html#5967082">p</a></span><span class="op" id="5967173">.</span><span class="ident" id="5967174"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span>&nbsp;<span class="op" id="5967178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5967182">//&nbsp;the&nbsp;error&nbsp;happened&nbsp;at&nbsp;the&nbsp;current&nbsp;position;</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5967231">//&nbsp;make&nbsp;the&nbsp;error&nbsp;message&nbsp;more&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5967273">if</span>&nbsp;<span class="ident" id="5967276"><a href="/gostd/go/parser/parser.go.html#5967082">p</a></span><span class="op" id="5967277">.</span><span class="ident" id="5967278"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5967282">==</span>&nbsp;<span class="ident" id="5967285"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5967290">.</span><span class="ident" id="5967291"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="5967301">&amp;&amp;</span>&nbsp;<span class="ident" id="5967304"><a href="/gostd/go/parser/parser.go.html#5967082">p</a></span><span class="op" id="5967305">.</span><span class="ident" id="5967306"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span>&nbsp;<span class="op" id="5967310">==</span>&nbsp;<span class="string" id="5967313">&#34;\n&#34;</span>&nbsp;<span class="op" id="5967318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967323"><a href="/gostd/go/parser/parser.go.html#5967122">msg</a></span>&nbsp;<span class="op" id="5967327">+=</span>&nbsp;<span class="string" id="5967330">&#34;,&nbsp;found&nbsp;newline&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5967350">}</span>&nbsp;<span class="keyword" id="5967352">else</span>&nbsp;<span class="op" id="5967357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967362"><a href="/gostd/go/parser/parser.go.html#5967122">msg</a></span>&nbsp;<span class="op" id="5967366">+=</span>&nbsp;<span class="string" id="5967369">&#34;,&nbsp;found&nbsp;&#39;&#34;</span>&nbsp;<span class="op" id="5967381">+</span>&nbsp;<span class="ident" id="5967383"><a href="/gostd/go/parser/parser.go.html#5967082">p</a></span><span class="op" id="5967384">.</span><span class="ident" id="5967385"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="5967388">.</span><span class="ident" id="5967389"><a href="/gostd/go/token/token.go.html#3892778">String</a></span><span class="op" id="5967395">(</span><span class="op" id="5967396">)</span>&nbsp;<span class="op" id="5967398">+</span>&nbsp;<span class="string" id="5967400">&#34;&#39;&#34;</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5967407">if</span>&nbsp;<span class="ident" id="5967410"><a href="/gostd/go/parser/parser.go.html#5967082">p</a></span><span class="op" id="5967411">.</span><span class="ident" id="5967412"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="5967415">.</span><span class="ident" id="5967416"><a href="/gostd/go/token/token.go.html#3894257">IsLiteral</a></span><span class="op" id="5967425">(</span><span class="op" id="5967426">)</span>&nbsp;<span class="op" id="5967428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967434"><a href="/gostd/go/parser/parser.go.html#5967122">msg</a></span>&nbsp;<span class="op" id="5967438">+=</span>&nbsp;<span class="string" id="5967441">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="5967445">+</span>&nbsp;<span class="ident" id="5967447"><a href="/gostd/go/parser/parser.go.html#5967082">p</a></span><span class="op" id="5967448">.</span><span class="ident" id="5967449"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5967456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5967460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5967463">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967466"><a href="/gostd/go/parser/parser.go.html#5967082">p</a></span><span class="op" id="5967467">.</span><span class="builtintype" id="5967468"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5967473">(</span><span class="ident" id="5967474"><a href="/gostd/go/parser/parser.go.html#5967107">pos</a></span><span class="op" id="5967477">,</span>&nbsp;<span class="ident" id="5967479"><a href="/gostd/go/parser/parser.go.html#5967122">msg</a></span><span class="op" id="5967482">)</span><br>
<span class="lineno"></span><span class="op" id="5967484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5967487">func</span>&nbsp;<span class="op" id="5967492">(</span><span class="ident" id="5967493">p</span>&nbsp;<span class="op" id="5967495">*</span><span class="ident" id="5967496"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5967502">)</span>&nbsp;<span class="ident" id="5967504">expect</span><span class="op" id="5967510">(</span><span class="ident" id="5967511">tok</span>&nbsp;<span class="ident" id="5967515"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5967520">.</span><span class="ident" id="5967521"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="5967526">)</span>&nbsp;<span class="ident" id="5967528"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5967533">.</span><span class="ident" id="5967534"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span>&nbsp;<span class="op" id="5967538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967541">pos</span>&nbsp;<span class="op" id="5967545">:=</span>&nbsp;<span class="ident" id="5967548"><a href="/gostd/go/parser/parser.go.html#5967493">p</a></span><span class="op" id="5967549">.</span><span class="ident" id="5967550"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5967555">if</span>&nbsp;<span class="ident" id="5967558"><a href="/gostd/go/parser/parser.go.html#5967493">p</a></span><span class="op" id="5967559">.</span><span class="ident" id="5967560"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5967564">!=</span>&nbsp;<span class="ident" id="5967567"><a href="/gostd/go/parser/parser.go.html#5967511">tok</a></span>&nbsp;<span class="op" id="5967571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967575"><a href="/gostd/go/parser/parser.go.html#5967493">p</a></span><span class="op" id="5967576">.</span><span class="ident" id="5967577"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5967590">(</span><span class="ident" id="5967591"><a href="/gostd/go/parser/parser.go.html#5967541">pos</a></span><span class="op" id="5967594">,</span>&nbsp;<span class="string" id="5967596">&#34;&#39;&#34;</span><span class="op" id="5967599">+</span><span class="ident" id="5967600"><a href="/gostd/go/parser/parser.go.html#5967511">tok</a></span><span class="op" id="5967603">.</span><span class="ident" id="5967604"><a href="/gostd/go/token/token.go.html#3892778">String</a></span><span class="op" id="5967610">(</span><span class="op" id="5967611">)</span><span class="op" id="5967612">+</span><span class="string" id="5967613">&#34;&#39;&#34;</span><span class="op" id="5967616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5967619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967622"><a href="/gostd/go/parser/parser.go.html#5967493">p</a></span><span class="op" id="5967623">.</span><span class="ident" id="5967624"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5967628">(</span><span class="op" id="5967629">)</span>&nbsp;<span class="comment" id="5967631">//&nbsp;make&nbsp;progress</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5967649">return</span>&nbsp;<span class="ident" id="5967656"><a href="/gostd/go/parser/parser.go.html#5967541">pos</a></span><br>
<span class="lineno">390</span><span class="op" id="5967660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5967663">//&nbsp;expectClosing&nbsp;is&nbsp;like&nbsp;expect&nbsp;but&nbsp;provides&nbsp;a&nbsp;better&nbsp;error&nbsp;message</span><br>
<span class="lineno"></span><span class="comment" id="5967731">//&nbsp;for&nbsp;the&nbsp;common&nbsp;case&nbsp;of&nbsp;a&nbsp;missing&nbsp;comma&nbsp;before&nbsp;a&nbsp;newline.</span><br>
<span class="lineno"></span><span class="comment" id="5967791">//</span><br>
<span class="lineno">395</span><span class="keyword" id="5967794">func</span>&nbsp;<span class="op" id="5967799">(</span><span class="ident" id="5967800">p</span>&nbsp;<span class="op" id="5967802">*</span><span class="ident" id="5967803"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5967809">)</span>&nbsp;<span class="ident" id="5967811">expectClosing</span><span class="op" id="5967824">(</span><span class="ident" id="5967825">tok</span>&nbsp;<span class="ident" id="5967829"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5967834">.</span><span class="ident" id="5967835"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="5967840">,</span>&nbsp;<span class="ident" id="5967842">context</span>&nbsp;<span class="builtintype" id="5967850">string</span><span class="op" id="5967856">)</span>&nbsp;<span class="ident" id="5967858"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5967863">.</span><span class="ident" id="5967864"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span>&nbsp;<span class="op" id="5967868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5967871">if</span>&nbsp;<span class="ident" id="5967874"><a href="/gostd/go/parser/parser.go.html#5967800">p</a></span><span class="op" id="5967875">.</span><span class="ident" id="5967876"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5967880">!=</span>&nbsp;<span class="ident" id="5967883"><a href="/gostd/go/parser/parser.go.html#5967825">tok</a></span>&nbsp;<span class="op" id="5967887">&amp;&amp;</span>&nbsp;<span class="ident" id="5967890"><a href="/gostd/go/parser/parser.go.html#5967800">p</a></span><span class="op" id="5967891">.</span><span class="ident" id="5967892"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5967896">==</span>&nbsp;<span class="ident" id="5967899"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5967904">.</span><span class="ident" id="5967905"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="5967915">&amp;&amp;</span>&nbsp;<span class="ident" id="5967918"><a href="/gostd/go/parser/parser.go.html#5967800">p</a></span><span class="op" id="5967919">.</span><span class="ident" id="5967920"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span>&nbsp;<span class="op" id="5967924">==</span>&nbsp;<span class="string" id="5967927">&#34;\n&#34;</span>&nbsp;<span class="op" id="5967932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967936"><a href="/gostd/go/parser/parser.go.html#5967800">p</a></span><span class="op" id="5967937">.</span><span class="builtintype" id="5967938"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5967943">(</span><span class="ident" id="5967944"><a href="/gostd/go/parser/parser.go.html#5967800">p</a></span><span class="op" id="5967945">.</span><span class="ident" id="5967946"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5967949">,</span>&nbsp;<span class="string" id="5967951">&#34;missing&nbsp;&#39;,&#39;&nbsp;before&nbsp;newline&nbsp;in&nbsp;&#34;</span><span class="op" id="5967983">+</span><span class="ident" id="5967984"><a href="/gostd/go/parser/parser.go.html#5967842">context</a></span><span class="op" id="5967991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5967995"><a href="/gostd/go/parser/parser.go.html#5967800">p</a></span><span class="op" id="5967996">.</span><span class="ident" id="5967997"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5968001">(</span><span class="op" id="5968002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5968005">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968008">return</span>&nbsp;<span class="ident" id="5968015"><a href="/gostd/go/parser/parser.go.html#5967800">p</a></span><span class="op" id="5968016">.</span><span class="ident" id="5968017"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5968023">(</span><span class="ident" id="5968024"><a href="/gostd/go/parser/parser.go.html#5967825">tok</a></span><span class="op" id="5968027">)</span><br>
<span class="lineno"></span><span class="op" id="5968029">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5968032">func</span>&nbsp;<span class="op" id="5968037">(</span><span class="ident" id="5968038">p</span>&nbsp;<span class="op" id="5968040">*</span><span class="ident" id="5968041"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5968047">)</span>&nbsp;<span class="ident" id="5968049">expectSemi</span><span class="op" id="5968059">(</span><span class="op" id="5968060">)</span>&nbsp;<span class="op" id="5968062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5968065">//&nbsp;semicolon&nbsp;is&nbsp;optional&nbsp;before&nbsp;a&nbsp;closing&nbsp;&#39;)&#39;&nbsp;or&nbsp;&#39;}&#39;</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968119">if</span>&nbsp;<span class="ident" id="5968122"><a href="/gostd/go/parser/parser.go.html#5968038">p</a></span><span class="op" id="5968123">.</span><span class="ident" id="5968124"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5968128">!=</span>&nbsp;<span class="ident" id="5968131"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968136">.</span><span class="ident" id="5968137"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span>&nbsp;<span class="op" id="5968144">&amp;&amp;</span>&nbsp;<span class="ident" id="5968147"><a href="/gostd/go/parser/parser.go.html#5968038">p</a></span><span class="op" id="5968148">.</span><span class="ident" id="5968149"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5968153">!=</span>&nbsp;<span class="ident" id="5968156"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968161">.</span><span class="ident" id="5968162"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span>&nbsp;<span class="op" id="5968169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968173">if</span>&nbsp;<span class="ident" id="5968176"><a href="/gostd/go/parser/parser.go.html#5968038">p</a></span><span class="op" id="5968177">.</span><span class="ident" id="5968178"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5968182">==</span>&nbsp;<span class="ident" id="5968185"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968190">.</span><span class="ident" id="5968191"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="5968201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5968206"><a href="/gostd/go/parser/parser.go.html#5968038">p</a></span><span class="op" id="5968207">.</span><span class="ident" id="5968208"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5968212">(</span><span class="op" id="5968213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5968217">}</span>&nbsp;<span class="keyword" id="5968219">else</span>&nbsp;<span class="op" id="5968224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5968229"><a href="/gostd/go/parser/parser.go.html#5968038">p</a></span><span class="op" id="5968230">.</span><span class="ident" id="5968231"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5968244">(</span><span class="ident" id="5968245"><a href="/gostd/go/parser/parser.go.html#5968038">p</a></span><span class="op" id="5968246">.</span><span class="ident" id="5968247"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5968250">,</span>&nbsp;<span class="string" id="5968252">&#34;&#39;;&#39;&#34;</span><span class="op" id="5968257">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5968262"><a href="/gostd/go/parser/parser.go.html#5968748">syncStmt</a></span><span class="op" id="5968270">(</span><span class="ident" id="5968271"><a href="/gostd/go/parser/parser.go.html#5968038">p</a></span><span class="op" id="5968272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5968276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5968279">}</span><br>
<span class="lineno"></span><span class="op" id="5968281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">415</span><span class="keyword" id="5968284">func</span>&nbsp;<span class="op" id="5968289">(</span><span class="ident" id="5968290">p</span>&nbsp;<span class="op" id="5968292">*</span><span class="ident" id="5968293"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5968299">)</span>&nbsp;<span class="ident" id="5968301">atComma</span><span class="op" id="5968308">(</span><span class="ident" id="5968309">context</span>&nbsp;<span class="builtintype" id="5968317">string</span><span class="op" id="5968323">)</span>&nbsp;<span class="builtintype" id="5968325">bool</span>&nbsp;<span class="op" id="5968330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968333">if</span>&nbsp;<span class="ident" id="5968336"><a href="/gostd/go/parser/parser.go.html#5968290">p</a></span><span class="op" id="5968337">.</span><span class="ident" id="5968338"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5968342">==</span>&nbsp;<span class="ident" id="5968345"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968350">.</span><span class="ident" id="5968351"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span>&nbsp;<span class="op" id="5968357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968361">return</span>&nbsp;<span class="builtintype" id="5968368">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5968374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968377">if</span>&nbsp;<span class="ident" id="5968380"><a href="/gostd/go/parser/parser.go.html#5968290">p</a></span><span class="op" id="5968381">.</span><span class="ident" id="5968382"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5968386">==</span>&nbsp;<span class="ident" id="5968389"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968394">.</span><span class="ident" id="5968395"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="5968405">&amp;&amp;</span>&nbsp;<span class="ident" id="5968408"><a href="/gostd/go/parser/parser.go.html#5968290">p</a></span><span class="op" id="5968409">.</span><span class="ident" id="5968410"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span>&nbsp;<span class="op" id="5968414">==</span>&nbsp;<span class="string" id="5968417">&#34;\n&#34;</span>&nbsp;<span class="op" id="5968422">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5968426"><a href="/gostd/go/parser/parser.go.html#5968290">p</a></span><span class="op" id="5968427">.</span><span class="builtintype" id="5968428"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5968433">(</span><span class="ident" id="5968434"><a href="/gostd/go/parser/parser.go.html#5968290">p</a></span><span class="op" id="5968435">.</span><span class="ident" id="5968436"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5968439">,</span>&nbsp;<span class="string" id="5968441">&#34;missing&nbsp;&#39;,&#39;&nbsp;before&nbsp;newline&nbsp;in&nbsp;&#34;</span><span class="op" id="5968473">+</span><span class="ident" id="5968474"><a href="/gostd/go/parser/parser.go.html#5968309">context</a></span><span class="op" id="5968481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968485">return</span>&nbsp;<span class="builtintype" id="5968492">true</span>&nbsp;<span class="comment" id="5968497">//&nbsp;&#34;insert&#34;&nbsp;the&nbsp;comma&nbsp;and&nbsp;continue</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5968534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968537">return</span>&nbsp;<span class="builtintype" id="5968544">false</span><br>
<span class="lineno">425</span><span class="op" id="5968550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5968553">func</span>&nbsp;<span class="ident" id="5968558">assert</span><span class="op" id="5968564">(</span><span class="ident" id="5968565">cond</span>&nbsp;<span class="builtintype" id="5968570">bool</span><span class="op" id="5968574">,</span>&nbsp;<span class="ident" id="5968576">msg</span>&nbsp;<span class="builtintype" id="5968580">string</span><span class="op" id="5968586">)</span>&nbsp;<span class="op" id="5968588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968591">if</span>&nbsp;<span class="op" id="5968594">!</span><span class="ident" id="5968595"><a href="/gostd/go/parser/parser.go.html#5968565">cond</a></span>&nbsp;<span class="op" id="5968600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5968604">panic</span><span class="op" id="5968609">(</span><span class="string" id="5968610">&#34;go/parser&nbsp;internal&nbsp;error:&nbsp;&#34;</span>&nbsp;<span class="op" id="5968639">+</span>&nbsp;<span class="ident" id="5968641"><a href="/gostd/go/parser/parser.go.html#5968576">msg</a></span><span class="op" id="5968644">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5968647">}</span><br>
<span class="lineno"></span><span class="op" id="5968649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5968652">//&nbsp;syncStmt&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;statement.</span><br>
<span class="lineno"></span><span class="comment" id="5968696">//&nbsp;Used&nbsp;for&nbsp;synchronization&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">435</span><span class="comment" id="5968740">//</span><br>
<span class="lineno"></span><span class="keyword" id="5968743">func</span>&nbsp;<span class="ident" id="5968748">syncStmt</span><span class="op" id="5968756">(</span><span class="ident" id="5968757">p</span>&nbsp;<span class="op" id="5968759">*</span><span class="ident" id="5968760"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5968766">)</span>&nbsp;<span class="op" id="5968768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968771">for</span>&nbsp;<span class="op" id="5968775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968779">switch</span>&nbsp;<span class="ident" id="5968786"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5968787">.</span><span class="ident" id="5968788"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5968792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5968796">case</span>&nbsp;<span class="ident" id="5968801"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968806">.</span><span class="ident" id="5968807"><a href="/gostd/go/token/token.go.html#3890750">BREAK</a></span><span class="op" id="5968812">,</span>&nbsp;<span class="ident" id="5968814"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968819">.</span><span class="ident" id="5968820"><a href="/gostd/go/token/token.go.html#3890769">CONST</a></span><span class="op" id="5968825">,</span>&nbsp;<span class="ident" id="5968827"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968832">.</span><span class="ident" id="5968833"><a href="/gostd/go/token/token.go.html#3890776">CONTINUE</a></span><span class="op" id="5968841">,</span>&nbsp;<span class="ident" id="5968843"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968848">.</span><span class="ident" id="5968849"><a href="/gostd/go/token/token.go.html#3890796">DEFER</a></span><span class="op" id="5968854">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5968859"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968864">.</span><span class="ident" id="5968865"><a href="/gostd/go/token/token.go.html#3890809">FALLTHROUGH</a></span><span class="op" id="5968876">,</span>&nbsp;<span class="ident" id="5968878"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968883">.</span><span class="ident" id="5968884"><a href="/gostd/go/token/token.go.html#3890822">FOR</a></span><span class="op" id="5968887">,</span>&nbsp;<span class="ident" id="5968889"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968894">.</span><span class="ident" id="5968895"><a href="/gostd/go/token/token.go.html#3890834">GO</a></span><span class="op" id="5968897">,</span>&nbsp;<span class="ident" id="5968899"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968904">.</span><span class="ident" id="5968905"><a href="/gostd/go/token/token.go.html#3890838">GOTO</a></span><span class="op" id="5968909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5968914"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968919">.</span><span class="ident" id="5968920"><a href="/gostd/go/token/token.go.html#3890844">IF</a></span><span class="op" id="5968922">,</span>&nbsp;<span class="ident" id="5968924"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968929">.</span><span class="ident" id="5968930"><a href="/gostd/go/token/token.go.html#3890889">RETURN</a></span><span class="op" id="5968936">,</span>&nbsp;<span class="ident" id="5968938"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968943">.</span><span class="ident" id="5968944"><a href="/gostd/go/token/token.go.html#3890898">SELECT</a></span><span class="op" id="5968950">,</span>&nbsp;<span class="ident" id="5968952"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968957">.</span><span class="ident" id="5968958"><a href="/gostd/go/token/token.go.html#3890914">SWITCH</a></span><span class="op" id="5968964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5968969"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968974">.</span><span class="ident" id="5968975"><a href="/gostd/go/token/token.go.html#3890922">TYPE</a></span><span class="op" id="5968979">,</span>&nbsp;<span class="ident" id="5968981"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5968986">.</span><span class="ident" id="5968987"><a href="/gostd/go/token/token.go.html#3890928">VAR</a></span><span class="op" id="5968990">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5968995">//&nbsp;Return&nbsp;only&nbsp;if&nbsp;parser&nbsp;made&nbsp;some&nbsp;progress&nbsp;since&nbsp;last</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969053">//&nbsp;sync&nbsp;or&nbsp;if&nbsp;it&nbsp;has&nbsp;not&nbsp;reached&nbsp;10&nbsp;sync&nbsp;calls&nbsp;without</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969111">//&nbsp;progress.&nbsp;Otherwise&nbsp;consume&nbsp;at&nbsp;least&nbsp;one&nbsp;token&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969167">//&nbsp;avoid&nbsp;an&nbsp;endless&nbsp;parser&nbsp;loop&nbsp;(it&nbsp;is&nbsp;possible&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969223">//&nbsp;both&nbsp;parseOperand&nbsp;and&nbsp;parseStmt&nbsp;call&nbsp;syncStmt&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969279">//&nbsp;correctly&nbsp;do&nbsp;not&nbsp;advance,&nbsp;thus&nbsp;the&nbsp;need&nbsp;for&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969333">//&nbsp;invocation&nbsp;limit&nbsp;p.syncCnt).</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5969368">if</span>&nbsp;<span class="ident" id="5969371"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969372">.</span><span class="ident" id="5969373"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span>&nbsp;<span class="op" id="5969377">==</span>&nbsp;<span class="ident" id="5969380"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969381">.</span><span class="ident" id="5969382"><a href="/gostd/go/parser/parser.go.html#5957598">syncPos</a></span>&nbsp;<span class="op" id="5969390">&amp;&amp;</span>&nbsp;<span class="ident" id="5969393"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969394">.</span><span class="ident" id="5969395"><a href="/gostd/go/parser/parser.go.html#5957650">syncCnt</a></span>&nbsp;<span class="op" id="5969403">&lt;</span>&nbsp;<span class="num" id="5969405">10</span>&nbsp;<span class="op" id="5969408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5969414"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969415">.</span><span class="ident" id="5969416"><a href="/gostd/go/parser/parser.go.html#5957650">syncCnt</a></span><span class="op" id="5969423">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5969430">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5969440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5969445">if</span>&nbsp;<span class="ident" id="5969448"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969449">.</span><span class="ident" id="5969450"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span>&nbsp;<span class="op" id="5969454">&gt;</span>&nbsp;<span class="ident" id="5969456"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969457">.</span><span class="ident" id="5969458"><a href="/gostd/go/parser/parser.go.html#5957598">syncPos</a></span>&nbsp;<span class="op" id="5969466">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5969472"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969473">.</span><span class="ident" id="5969474"><a href="/gostd/go/parser/parser.go.html#5957598">syncPos</a></span>&nbsp;<span class="op" id="5969482">=</span>&nbsp;<span class="ident" id="5969484"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969485">.</span><span class="ident" id="5969486"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5969494"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969495">.</span><span class="ident" id="5969496"><a href="/gostd/go/parser/parser.go.html#5957650">syncCnt</a></span>&nbsp;<span class="op" id="5969504">=</span>&nbsp;<span class="num" id="5969506">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5969512">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5969522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969527">//&nbsp;Reaching&nbsp;here&nbsp;indicates&nbsp;a&nbsp;parser&nbsp;bug,&nbsp;likely&nbsp;an</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969581">//&nbsp;incorrect&nbsp;token&nbsp;list&nbsp;in&nbsp;this&nbsp;function,&nbsp;but&nbsp;it&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969638">//&nbsp;leads&nbsp;to&nbsp;skipping&nbsp;of&nbsp;possibly&nbsp;correct&nbsp;code&nbsp;if&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969692">//&nbsp;previous&nbsp;error&nbsp;is&nbsp;present,&nbsp;and&nbsp;thus&nbsp;is&nbsp;preferred</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5969747">//&nbsp;over&nbsp;a&nbsp;non-terminating&nbsp;parse.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5969782">case</span>&nbsp;<span class="ident" id="5969787"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5969792">.</span><span class="ident" id="5969793"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span><span class="op" id="5969796">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5969801">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5969810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5969814"><a href="/gostd/go/parser/parser.go.html#5968757">p</a></span><span class="op" id="5969815">.</span><span class="ident" id="5969816"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5969820">(</span><span class="op" id="5969821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5969824">}</span><br>
<span class="lineno"></span><span class="op" id="5969826">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="5969829">//&nbsp;syncDecl&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;declaration.</span><br>
<span class="lineno"></span><span class="comment" id="5969875">//&nbsp;Used&nbsp;for&nbsp;synchronization&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="5969919">//</span><br>
<span class="lineno"></span><span class="keyword" id="5969922">func</span>&nbsp;<span class="ident" id="5969927">syncDecl</span><span class="op" id="5969935">(</span><span class="ident" id="5969936">p</span>&nbsp;<span class="op" id="5969938">*</span><span class="ident" id="5969939"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5969945">)</span>&nbsp;<span class="op" id="5969947">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5969950">for</span>&nbsp;<span class="op" id="5969954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5969958">switch</span>&nbsp;<span class="ident" id="5969965"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5969966">.</span><span class="ident" id="5969967"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5969971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5969975">case</span>&nbsp;<span class="ident" id="5969980"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5969985">.</span><span class="ident" id="5969986"><a href="/gostd/go/token/token.go.html#3890769">CONST</a></span><span class="op" id="5969991">,</span>&nbsp;<span class="ident" id="5969993"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5969998">.</span><span class="ident" id="5969999"><a href="/gostd/go/token/token.go.html#3890922">TYPE</a></span><span class="op" id="5970003">,</span>&nbsp;<span class="ident" id="5970005"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5970010">.</span><span class="ident" id="5970011"><a href="/gostd/go/token/token.go.html#3890928">VAR</a></span><span class="op" id="5970014">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5970019">//&nbsp;see&nbsp;comments&nbsp;in&nbsp;syncStmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5970050">if</span>&nbsp;<span class="ident" id="5970053"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970054">.</span><span class="ident" id="5970055"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span>&nbsp;<span class="op" id="5970059">==</span>&nbsp;<span class="ident" id="5970062"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970063">.</span><span class="ident" id="5970064"><a href="/gostd/go/parser/parser.go.html#5957598">syncPos</a></span>&nbsp;<span class="op" id="5970072">&amp;&amp;</span>&nbsp;<span class="ident" id="5970075"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970076">.</span><span class="ident" id="5970077"><a href="/gostd/go/parser/parser.go.html#5957650">syncCnt</a></span>&nbsp;<span class="op" id="5970085">&lt;</span>&nbsp;<span class="num" id="5970087">10</span>&nbsp;<span class="op" id="5970090">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5970096"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970097">.</span><span class="ident" id="5970098"><a href="/gostd/go/parser/parser.go.html#5957650">syncCnt</a></span><span class="op" id="5970105">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5970112">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5970122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5970127">if</span>&nbsp;<span class="ident" id="5970130"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970131">.</span><span class="ident" id="5970132"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span>&nbsp;<span class="op" id="5970136">&gt;</span>&nbsp;<span class="ident" id="5970138"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970139">.</span><span class="ident" id="5970140"><a href="/gostd/go/parser/parser.go.html#5957598">syncPos</a></span>&nbsp;<span class="op" id="5970148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5970154"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970155">.</span><span class="ident" id="5970156"><a href="/gostd/go/parser/parser.go.html#5957598">syncPos</a></span>&nbsp;<span class="op" id="5970164">=</span>&nbsp;<span class="ident" id="5970166"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970167">.</span><span class="ident" id="5970168"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5970176"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970177">.</span><span class="ident" id="5970178"><a href="/gostd/go/parser/parser.go.html#5957650">syncCnt</a></span>&nbsp;<span class="op" id="5970186">=</span>&nbsp;<span class="num" id="5970188">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5970194">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5970204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5970208">case</span>&nbsp;<span class="ident" id="5970213"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5970218">.</span><span class="ident" id="5970219"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span><span class="op" id="5970222">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5970227">return</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5970236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5970240"><a href="/gostd/go/parser/parser.go.html#5969936">p</a></span><span class="op" id="5970241">.</span><span class="ident" id="5970242"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5970246">(</span><span class="op" id="5970247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5970250">}</span><br>
<span class="lineno"></span><span class="op" id="5970252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">495</span><span class="comment" id="5970255">//&nbsp;safePos&nbsp;returns&nbsp;a&nbsp;valid&nbsp;file&nbsp;position&nbsp;for&nbsp;a&nbsp;given&nbsp;position:&nbsp;If&nbsp;pos</span><br>
<span class="lineno"></span><span class="comment" id="5970325">//&nbsp;is&nbsp;valid&nbsp;to&nbsp;begin&nbsp;with,&nbsp;safePos&nbsp;returns&nbsp;pos.&nbsp;If&nbsp;pos&nbsp;is&nbsp;out-of-range,</span><br>
<span class="lineno"></span><span class="comment" id="5970397">//&nbsp;safePos&nbsp;returns&nbsp;the&nbsp;EOF&nbsp;position.</span><br>
<span class="lineno"></span><span class="comment" id="5970434">//</span><br>
<span class="lineno"></span><span class="comment" id="5970437">//&nbsp;This&nbsp;is&nbsp;hack&nbsp;to&nbsp;work&nbsp;around&nbsp;&#34;artificial&#34;&nbsp;end&nbsp;positions&nbsp;in&nbsp;the&nbsp;AST&nbsp;which</span><br>
<span class="lineno">500</span><span class="comment" id="5970512">//&nbsp;are&nbsp;computed&nbsp;by&nbsp;adding&nbsp;1&nbsp;to&nbsp;(presumably&nbsp;valid)&nbsp;token&nbsp;positions.&nbsp;If&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5970586">//&nbsp;token&nbsp;positions&nbsp;are&nbsp;invalid&nbsp;due&nbsp;to&nbsp;parse&nbsp;errors,&nbsp;the&nbsp;resulting&nbsp;end&nbsp;position</span><br>
<span class="lineno"></span><span class="comment" id="5970665">//&nbsp;may&nbsp;be&nbsp;past&nbsp;the&nbsp;file&#39;s&nbsp;EOF&nbsp;position,&nbsp;which&nbsp;would&nbsp;lead&nbsp;to&nbsp;panics&nbsp;if&nbsp;used</span><br>
<span class="lineno"></span><span class="comment" id="5970740">//&nbsp;later&nbsp;on.</span><br>
<span class="lineno"></span><span class="comment" id="5970753">//</span><br>
<span class="lineno">505</span><span class="keyword" id="5970756">func</span>&nbsp;<span class="op" id="5970761">(</span><span class="ident" id="5970762">p</span>&nbsp;<span class="op" id="5970764">*</span><span class="ident" id="5970765"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5970771">)</span>&nbsp;<span class="ident" id="5970773">safePos</span><span class="op" id="5970780">(</span><span class="ident" id="5970781">pos</span>&nbsp;<span class="ident" id="5970785"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5970790">.</span><span class="ident" id="5970791"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="5970794">)</span>&nbsp;<span class="op" id="5970796">(</span><span class="ident" id="5970797">res</span>&nbsp;<span class="ident" id="5970801"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5970806">.</span><span class="ident" id="5970807"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="5970810">)</span>&nbsp;<span class="op" id="5970812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5970815">defer</span>&nbsp;<span class="keyword" id="5970821">func</span><span class="op" id="5970825">(</span><span class="op" id="5970826">)</span>&nbsp;<span class="op" id="5970828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5970832">if</span>&nbsp;<span class="builtinfunc" id="5970835">recover</span><span class="op" id="5970842">(</span><span class="op" id="5970843">)</span>&nbsp;<span class="op" id="5970845">!=</span>&nbsp;<span class="builtintype" id="5970848">nil</span>&nbsp;<span class="op" id="5970852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5970857"><a href="/gostd/go/parser/parser.go.html#5970797">res</a></span>&nbsp;<span class="op" id="5970861">=</span>&nbsp;<span class="ident" id="5970863"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5970868">.</span><span class="ident" id="5970869"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="5970872">(</span><span class="ident" id="5970873"><a href="/gostd/go/parser/parser.go.html#5970762">p</a></span><span class="op" id="5970874">.</span><span class="ident" id="5970875"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5970879">.</span><span class="ident" id="5970880"><a href="/gostd/go/token/position.go.html#3876971">Base</a></span><span class="op" id="5970884">(</span><span class="op" id="5970885">)</span>&nbsp;<span class="op" id="5970887">+</span>&nbsp;<span class="ident" id="5970889"><a href="/gostd/go/parser/parser.go.html#5970762">p</a></span><span class="op" id="5970890">.</span><span class="ident" id="5970891"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5970895">.</span><span class="ident" id="5970896"><a href="/gostd/go/token/position.go.html#3877080">Size</a></span><span class="op" id="5970900">(</span><span class="op" id="5970901">)</span><span class="op" id="5970902">)</span>&nbsp;<span class="comment" id="5970904">//&nbsp;EOF&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5970922">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5970925">}</span><span class="op" id="5970926">(</span><span class="op" id="5970927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5970930">_</span>&nbsp;<span class="op" id="5970932">=</span>&nbsp;<span class="ident" id="5970934"><a href="/gostd/go/parser/parser.go.html#5970762">p</a></span><span class="op" id="5970935">.</span><span class="ident" id="5970936"><a href="/gostd/go/parser/parser.go.html#5956899">file</a></span><span class="op" id="5970940">.</span><span class="ident" id="5970941"><a href="/gostd/go/token/position.go.html#3881098">Offset</a></span><span class="op" id="5970947">(</span><span class="ident" id="5970948"><a href="/gostd/go/parser/parser.go.html#5970781">pos</a></span><span class="op" id="5970951">)</span>&nbsp;<span class="comment" id="5970953">//&nbsp;trigger&nbsp;a&nbsp;panic&nbsp;if&nbsp;position&nbsp;is&nbsp;out-of-range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971001">return</span>&nbsp;<span class="ident" id="5971008"><a href="/gostd/go/parser/parser.go.html#5970781">pos</a></span><br>
<span class="lineno"></span><span class="op" id="5971012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="5971015">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5971095">//&nbsp;Identifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5971111">func</span>&nbsp;<span class="op" id="5971116">(</span><span class="ident" id="5971117">p</span>&nbsp;<span class="op" id="5971119">*</span><span class="ident" id="5971120"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5971126">)</span>&nbsp;<span class="ident" id="5971128">parseIdent</span><span class="op" id="5971138">(</span><span class="op" id="5971139">)</span>&nbsp;<span class="op" id="5971141">*</span><span class="ident" id="5971142"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5971145">.</span><span class="ident" id="5971146"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span>&nbsp;<span class="op" id="5971152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971155">pos</span>&nbsp;<span class="op" id="5971159">:=</span>&nbsp;<span class="ident" id="5971162"><a href="/gostd/go/parser/parser.go.html#5971117">p</a></span><span class="op" id="5971163">.</span><span class="ident" id="5971164"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971169">name</span>&nbsp;<span class="op" id="5971174">:=</span>&nbsp;<span class="string" id="5971177">&#34;_&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971182">if</span>&nbsp;<span class="ident" id="5971185"><a href="/gostd/go/parser/parser.go.html#5971117">p</a></span><span class="op" id="5971186">.</span><span class="ident" id="5971187"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5971191">==</span>&nbsp;<span class="ident" id="5971194"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5971199">.</span><span class="ident" id="5971200"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span>&nbsp;<span class="op" id="5971206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971210"><a href="/gostd/go/parser/parser.go.html#5971169">name</a></span>&nbsp;<span class="op" id="5971215">=</span>&nbsp;<span class="ident" id="5971217"><a href="/gostd/go/parser/parser.go.html#5971117">p</a></span><span class="op" id="5971218">.</span><span class="ident" id="5971219"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971225"><a href="/gostd/go/parser/parser.go.html#5971117">p</a></span><span class="op" id="5971226">.</span><span class="ident" id="5971227"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5971231">(</span><span class="op" id="5971232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5971235">}</span>&nbsp;<span class="keyword" id="5971237">else</span>&nbsp;<span class="op" id="5971242">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971246"><a href="/gostd/go/parser/parser.go.html#5971117">p</a></span><span class="op" id="5971247">.</span><span class="ident" id="5971248"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5971254">(</span><span class="ident" id="5971255"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5971260">.</span><span class="ident" id="5971261"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span><span class="op" id="5971266">)</span>&nbsp;<span class="comment" id="5971268">//&nbsp;use&nbsp;expect()&nbsp;error&nbsp;handling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5971300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971303">return</span>&nbsp;<span class="op" id="5971310">&amp;</span><span class="ident" id="5971311"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5971314">.</span><span class="ident" id="5971315"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5971320">{</span><span class="ident" id="5971321"><a href="/gostd/go/ast/ast.go.html#3800256">NamePos</a></span><span class="op" id="5971328">:</span>&nbsp;<span class="ident" id="5971330"><a href="/gostd/go/parser/parser.go.html#5971155">pos</a></span><span class="op" id="5971333">,</span>&nbsp;<span class="ident" id="5971335"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="5971339">:</span>&nbsp;<span class="ident" id="5971341"><a href="/gostd/go/parser/parser.go.html#5971169">name</a></span><span class="op" id="5971345">}</span><br>
<span class="lineno"></span><span class="op" id="5971347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span><span class="keyword" id="5971350">func</span>&nbsp;<span class="op" id="5971355">(</span><span class="ident" id="5971356">p</span>&nbsp;<span class="op" id="5971358">*</span><span class="ident" id="5971359"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5971365">)</span>&nbsp;<span class="ident" id="5971367">parseIdentList</span><span class="op" id="5971381">(</span><span class="op" id="5971382">)</span>&nbsp;<span class="op" id="5971384">(</span><span class="ident" id="5971385">list</span>&nbsp;<span class="op" id="5971390">[</span><span class="op" id="5971391">]</span><span class="op" id="5971392">*</span><span class="ident" id="5971393"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5971396">.</span><span class="ident" id="5971397"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5971402">)</span>&nbsp;<span class="op" id="5971404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971407">if</span>&nbsp;<span class="ident" id="5971410"><a href="/gostd/go/parser/parser.go.html#5971356">p</a></span><span class="op" id="5971411">.</span><span class="ident" id="5971412"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5971418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971422">defer</span>&nbsp;<span class="ident" id="5971428"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5971430">(</span><span class="ident" id="5971431"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5971436">(</span><span class="ident" id="5971437"><a href="/gostd/go/parser/parser.go.html#5971356">p</a></span><span class="op" id="5971438">,</span>&nbsp;<span class="string" id="5971440">&#34;IdentList&#34;</span><span class="op" id="5971451">)</span><span class="op" id="5971452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5971455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971459"><a href="/gostd/go/parser/parser.go.html#5971385">list</a></span>&nbsp;<span class="op" id="5971464">=</span>&nbsp;<span class="builtinfunc" id="5971466">append</span><span class="op" id="5971472">(</span><span class="ident" id="5971473"><a href="/gostd/go/parser/parser.go.html#5971385">list</a></span><span class="op" id="5971477">,</span>&nbsp;<span class="ident" id="5971479"><a href="/gostd/go/parser/parser.go.html#5971356">p</a></span><span class="op" id="5971480">.</span><span class="ident" id="5971481"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="5971491">(</span><span class="op" id="5971492">)</span><span class="op" id="5971493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971496">for</span>&nbsp;<span class="ident" id="5971500"><a href="/gostd/go/parser/parser.go.html#5971356">p</a></span><span class="op" id="5971501">.</span><span class="ident" id="5971502"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5971506">==</span>&nbsp;<span class="ident" id="5971509"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5971514">.</span><span class="ident" id="5971515"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span>&nbsp;<span class="op" id="5971521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971525"><a href="/gostd/go/parser/parser.go.html#5971356">p</a></span><span class="op" id="5971526">.</span><span class="ident" id="5971527"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5971531">(</span><span class="op" id="5971532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971536"><a href="/gostd/go/parser/parser.go.html#5971385">list</a></span>&nbsp;<span class="op" id="5971541">=</span>&nbsp;<span class="builtinfunc" id="5971543">append</span><span class="op" id="5971549">(</span><span class="ident" id="5971550"><a href="/gostd/go/parser/parser.go.html#5971385">list</a></span><span class="op" id="5971554">,</span>&nbsp;<span class="ident" id="5971556"><a href="/gostd/go/parser/parser.go.html#5971356">p</a></span><span class="op" id="5971557">.</span><span class="ident" id="5971558"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="5971568">(</span><span class="op" id="5971569">)</span><span class="op" id="5971570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5971573">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971577">return</span><br>
<span class="lineno"></span><span class="op" id="5971584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5971587">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno">545</span><span class="comment" id="5971667">//&nbsp;Common&nbsp;productions</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5971690">//&nbsp;If&nbsp;lhs&nbsp;is&nbsp;set,&nbsp;result&nbsp;list&nbsp;elements&nbsp;which&nbsp;are&nbsp;identifiers&nbsp;are&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno"></span><span class="keyword" id="5971769">func</span>&nbsp;<span class="op" id="5971774">(</span><span class="ident" id="5971775">p</span>&nbsp;<span class="op" id="5971777">*</span><span class="ident" id="5971778"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5971784">)</span>&nbsp;<span class="ident" id="5971786">parseExprList</span><span class="op" id="5971799">(</span><span class="ident" id="5971800">lhs</span>&nbsp;<span class="builtintype" id="5971804">bool</span><span class="op" id="5971808">)</span>&nbsp;<span class="op" id="5971810">(</span><span class="ident" id="5971811">list</span>&nbsp;<span class="op" id="5971816">[</span><span class="op" id="5971817">]</span><span class="ident" id="5971818"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5971821">.</span><span class="ident" id="5971822"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5971826">)</span>&nbsp;<span class="op" id="5971828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971831">if</span>&nbsp;<span class="ident" id="5971834"><a href="/gostd/go/parser/parser.go.html#5971775">p</a></span><span class="op" id="5971835">.</span><span class="ident" id="5971836"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5971842">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971846">defer</span>&nbsp;<span class="ident" id="5971852"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5971854">(</span><span class="ident" id="5971855"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5971860">(</span><span class="ident" id="5971861"><a href="/gostd/go/parser/parser.go.html#5971775">p</a></span><span class="op" id="5971862">,</span>&nbsp;<span class="string" id="5971864">&#34;ExpressionList&#34;</span><span class="op" id="5971880">)</span><span class="op" id="5971881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5971884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971888"><a href="/gostd/go/parser/parser.go.html#5971811">list</a></span>&nbsp;<span class="op" id="5971893">=</span>&nbsp;<span class="builtinfunc" id="5971895">append</span><span class="op" id="5971901">(</span><span class="ident" id="5971902"><a href="/gostd/go/parser/parser.go.html#5971811">list</a></span><span class="op" id="5971906">,</span>&nbsp;<span class="ident" id="5971908"><a href="/gostd/go/parser/parser.go.html#5971775">p</a></span><span class="op" id="5971909">.</span><span class="ident" id="5971910"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5971919">(</span><span class="ident" id="5971920"><a href="/gostd/go/parser/parser.go.html#5971775">p</a></span><span class="op" id="5971921">.</span><span class="ident" id="5971922"><a href="/gostd/go/parser/parser.go.html#5997443">parseExpr</a></span><span class="op" id="5971931">(</span><span class="ident" id="5971932"><a href="/gostd/go/parser/parser.go.html#5971800">lhs</a></span><span class="op" id="5971935">)</span><span class="op" id="5971936">)</span><span class="op" id="5971937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5971940">for</span>&nbsp;<span class="ident" id="5971944"><a href="/gostd/go/parser/parser.go.html#5971775">p</a></span><span class="op" id="5971945">.</span><span class="ident" id="5971946"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5971950">==</span>&nbsp;<span class="ident" id="5971953"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5971958">.</span><span class="ident" id="5971959"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span>&nbsp;<span class="op" id="5971965">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971969"><a href="/gostd/go/parser/parser.go.html#5971775">p</a></span><span class="op" id="5971970">.</span><span class="ident" id="5971971"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5971975">(</span><span class="op" id="5971976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5971980"><a href="/gostd/go/parser/parser.go.html#5971811">list</a></span>&nbsp;<span class="op" id="5971985">=</span>&nbsp;<span class="builtinfunc" id="5971987">append</span><span class="op" id="5971993">(</span><span class="ident" id="5971994"><a href="/gostd/go/parser/parser.go.html#5971811">list</a></span><span class="op" id="5971998">,</span>&nbsp;<span class="ident" id="5972000"><a href="/gostd/go/parser/parser.go.html#5971775">p</a></span><span class="op" id="5972001">.</span><span class="ident" id="5972002"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5972011">(</span><span class="ident" id="5972012"><a href="/gostd/go/parser/parser.go.html#5971775">p</a></span><span class="op" id="5972013">.</span><span class="ident" id="5972014"><a href="/gostd/go/parser/parser.go.html#5997443">parseExpr</a></span><span class="op" id="5972023">(</span><span class="ident" id="5972024"><a href="/gostd/go/parser/parser.go.html#5971800">lhs</a></span><span class="op" id="5972027">)</span><span class="op" id="5972028">)</span><span class="op" id="5972029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5972032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5972036">return</span><br>
<span class="lineno">560</span><span class="op" id="5972043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5972046">func</span>&nbsp;<span class="op" id="5972051">(</span><span class="ident" id="5972052">p</span>&nbsp;<span class="op" id="5972054">*</span><span class="ident" id="5972055"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5972061">)</span>&nbsp;<span class="ident" id="5972063">parseLhsList</span><span class="op" id="5972075">(</span><span class="op" id="5972076">)</span>&nbsp;<span class="op" id="5972078">[</span><span class="op" id="5972079">]</span><span class="ident" id="5972080"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5972083">.</span><span class="ident" id="5972084"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5972089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5972092">old</span>&nbsp;<span class="op" id="5972096">:=</span>&nbsp;<span class="ident" id="5972099"><a href="/gostd/go/parser/parser.go.html#5972052">p</a></span><span class="op" id="5972100">.</span><span class="ident" id="5972101"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5972108"><a href="/gostd/go/parser/parser.go.html#5972052">p</a></span><span class="op" id="5972109">.</span><span class="ident" id="5972110"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span>&nbsp;<span class="op" id="5972116">=</span>&nbsp;<span class="builtintype" id="5972118">false</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5972125">list</span>&nbsp;<span class="op" id="5972130">:=</span>&nbsp;<span class="ident" id="5972133"><a href="/gostd/go/parser/parser.go.html#5972052">p</a></span><span class="op" id="5972134">.</span><span class="ident" id="5972135"><a href="/gostd/go/parser/parser.go.html#5971786">parseExprList</a></span><span class="op" id="5972148">(</span><span class="builtintype" id="5972149">true</span><span class="op" id="5972153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5972156">switch</span>&nbsp;<span class="ident" id="5972163"><a href="/gostd/go/parser/parser.go.html#5972052">p</a></span><span class="op" id="5972164">.</span><span class="ident" id="5972165"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5972169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5972172">case</span>&nbsp;<span class="ident" id="5972177"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5972182">.</span><span class="ident" id="5972183"><a href="/gostd/go/token/token.go.html#3890529">DEFINE</a></span><span class="op" id="5972189">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972193">//&nbsp;lhs&nbsp;of&nbsp;a&nbsp;short&nbsp;variable&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972234">//&nbsp;but&nbsp;doesn&#39;t&nbsp;enter&nbsp;scope&nbsp;until&nbsp;later:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972276">//&nbsp;caller&nbsp;must&nbsp;call&nbsp;p.shortVarDecl(p.makeIdentList(list))</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972336">//&nbsp;at&nbsp;appropriate&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5972361">case</span>&nbsp;<span class="ident" id="5972366"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5972371">.</span><span class="ident" id="5972372"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="5972377">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972381">//&nbsp;lhs&nbsp;of&nbsp;a&nbsp;label&nbsp;declaration&nbsp;or&nbsp;a&nbsp;communication&nbsp;clause&nbsp;of&nbsp;a&nbsp;select</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972451">//&nbsp;statement&nbsp;(parseLhsList&nbsp;is&nbsp;not&nbsp;called&nbsp;when&nbsp;parsing&nbsp;the&nbsp;case&nbsp;clause</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972523">//&nbsp;of&nbsp;a&nbsp;switch&nbsp;statement):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972552">//&nbsp;-&nbsp;labels&nbsp;are&nbsp;declared&nbsp;by&nbsp;the&nbsp;caller&nbsp;of&nbsp;parseLhsList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972609">//&nbsp;-&nbsp;for&nbsp;communication&nbsp;clauses,&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;stand-alone&nbsp;identifier</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972680">//&nbsp;&nbsp;&nbsp;followed&nbsp;by&nbsp;a&nbsp;colon,&nbsp;we&nbsp;have&nbsp;a&nbsp;syntax&nbsp;error;&nbsp;there&nbsp;is&nbsp;no&nbsp;need</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972749">//&nbsp;&nbsp;&nbsp;to&nbsp;resolve&nbsp;the&nbsp;identifier&nbsp;in&nbsp;that&nbsp;case</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5972794">default</span><span class="op" id="5972801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5972805">//&nbsp;identifiers&nbsp;must&nbsp;be&nbsp;declared&nbsp;elsewhere</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5972849">for</span>&nbsp;<span class="ident" id="5972853">_</span><span class="op" id="5972854">,</span>&nbsp;<span class="ident" id="5972856">x</span>&nbsp;<span class="op" id="5972858">:=</span>&nbsp;<span class="keyword" id="5972861">range</span>&nbsp;<span class="ident" id="5972867"><a href="/gostd/go/parser/parser.go.html#5972125">list</a></span>&nbsp;<span class="op" id="5972872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5972877"><a href="/gostd/go/parser/parser.go.html#5972052">p</a></span><span class="op" id="5972878">.</span><span class="ident" id="5972879"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5972886">(</span><span class="ident" id="5972887"><a href="/gostd/go/parser/parser.go.html#5972856">x</a></span><span class="op" id="5972888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5972892">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5972895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5972898"><a href="/gostd/go/parser/parser.go.html#5972052">p</a></span><span class="op" id="5972899">.</span><span class="ident" id="5972900"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span>&nbsp;<span class="op" id="5972906">=</span>&nbsp;<span class="ident" id="5972908"><a href="/gostd/go/parser/parser.go.html#5972092">old</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5972913">return</span>&nbsp;<span class="ident" id="5972920"><a href="/gostd/go/parser/parser.go.html#5972125">list</a></span><br>
<span class="lineno"></span><span class="op" id="5972925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">590</span><span class="keyword" id="5972928">func</span>&nbsp;<span class="op" id="5972933">(</span><span class="ident" id="5972934">p</span>&nbsp;<span class="op" id="5972936">*</span><span class="ident" id="5972937"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5972943">)</span>&nbsp;<span class="ident" id="5972945">parseRhsList</span><span class="op" id="5972957">(</span><span class="op" id="5972958">)</span>&nbsp;<span class="op" id="5972960">[</span><span class="op" id="5972961">]</span><span class="ident" id="5972962"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5972965">.</span><span class="ident" id="5972966"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5972971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5972974">old</span>&nbsp;<span class="op" id="5972978">:=</span>&nbsp;<span class="ident" id="5972981"><a href="/gostd/go/parser/parser.go.html#5972934">p</a></span><span class="op" id="5972982">.</span><span class="ident" id="5972983"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5972990"><a href="/gostd/go/parser/parser.go.html#5972934">p</a></span><span class="op" id="5972991">.</span><span class="ident" id="5972992"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span>&nbsp;<span class="op" id="5972998">=</span>&nbsp;<span class="builtintype" id="5973000">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973006">list</span>&nbsp;<span class="op" id="5973011">:=</span>&nbsp;<span class="ident" id="5973014"><a href="/gostd/go/parser/parser.go.html#5972934">p</a></span><span class="op" id="5973015">.</span><span class="ident" id="5973016"><a href="/gostd/go/parser/parser.go.html#5971786">parseExprList</a></span><span class="op" id="5973029">(</span><span class="builtintype" id="5973030">false</span><span class="op" id="5973035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973038"><a href="/gostd/go/parser/parser.go.html#5972934">p</a></span><span class="op" id="5973039">.</span><span class="ident" id="5973040"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span>&nbsp;<span class="op" id="5973046">=</span>&nbsp;<span class="ident" id="5973048"><a href="/gostd/go/parser/parser.go.html#5972974">old</a></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973053">return</span>&nbsp;<span class="ident" id="5973060"><a href="/gostd/go/parser/parser.go.html#5973006">list</a></span><br>
<span class="lineno"></span><span class="op" id="5973065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5973068">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5973148">//&nbsp;Types</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span><span class="keyword" id="5973158">func</span>&nbsp;<span class="op" id="5973163">(</span><span class="ident" id="5973164">p</span>&nbsp;<span class="op" id="5973166">*</span><span class="ident" id="5973167"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5973173">)</span>&nbsp;<span class="ident" id="5973175">parseType</span><span class="op" id="5973184">(</span><span class="op" id="5973185">)</span>&nbsp;<span class="ident" id="5973187"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5973190">.</span><span class="ident" id="5973191"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5973196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973199">if</span>&nbsp;<span class="ident" id="5973202"><a href="/gostd/go/parser/parser.go.html#5973164">p</a></span><span class="op" id="5973203">.</span><span class="ident" id="5973204"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5973210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973214">defer</span>&nbsp;<span class="ident" id="5973220"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5973222">(</span><span class="ident" id="5973223"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5973228">(</span><span class="ident" id="5973229"><a href="/gostd/go/parser/parser.go.html#5973164">p</a></span><span class="op" id="5973230">,</span>&nbsp;<span class="string" id="5973232">&#34;Type&#34;</span><span class="op" id="5973238">)</span><span class="op" id="5973239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5973242">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973246">typ</span>&nbsp;<span class="op" id="5973250">:=</span>&nbsp;<span class="ident" id="5973253"><a href="/gostd/go/parser/parser.go.html#5973164">p</a></span><span class="op" id="5973254">.</span><span class="ident" id="5973255"><a href="/gostd/go/parser/parser.go.html#5983475">tryType</a></span><span class="op" id="5973262">(</span><span class="op" id="5973263">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973267">if</span>&nbsp;<span class="ident" id="5973270"><a href="/gostd/go/parser/parser.go.html#5973246">typ</a></span>&nbsp;<span class="op" id="5973274">==</span>&nbsp;<span class="builtintype" id="5973277">nil</span>&nbsp;<span class="op" id="5973281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973285">pos</span>&nbsp;<span class="op" id="5973289">:=</span>&nbsp;<span class="ident" id="5973292"><a href="/gostd/go/parser/parser.go.html#5973164">p</a></span><span class="op" id="5973293">.</span><span class="ident" id="5973294"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973300"><a href="/gostd/go/parser/parser.go.html#5973164">p</a></span><span class="op" id="5973301">.</span><span class="ident" id="5973302"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5973315">(</span><span class="ident" id="5973316"><a href="/gostd/go/parser/parser.go.html#5973285">pos</a></span><span class="op" id="5973319">,</span>&nbsp;<span class="string" id="5973321">&#34;type&#34;</span><span class="op" id="5973327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973331"><a href="/gostd/go/parser/parser.go.html#5973164">p</a></span><span class="op" id="5973332">.</span><span class="ident" id="5973333"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5973337">(</span><span class="op" id="5973338">)</span>&nbsp;<span class="comment" id="5973340">//&nbsp;make&nbsp;progress</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973359">return</span>&nbsp;<span class="op" id="5973366">&amp;</span><span class="ident" id="5973367"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5973370">.</span><span class="ident" id="5973371"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5973378">{</span><span class="ident" id="5973379"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5973383">:</span>&nbsp;<span class="ident" id="5973385"><a href="/gostd/go/parser/parser.go.html#5973285">pos</a></span><span class="op" id="5973388">,</span>&nbsp;<span class="ident" id="5973390"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5973392">:</span>&nbsp;<span class="ident" id="5973394"><a href="/gostd/go/parser/parser.go.html#5973164">p</a></span><span class="op" id="5973395">.</span><span class="ident" id="5973396"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5973399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5973402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973406">return</span>&nbsp;<span class="ident" id="5973413"><a href="/gostd/go/parser/parser.go.html#5973246">typ</a></span><br>
<span class="lineno"></span><span class="op" id="5973417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5973420">//&nbsp;If&nbsp;the&nbsp;result&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;it&nbsp;is&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno"></span><span class="keyword" id="5973475">func</span>&nbsp;<span class="op" id="5973480">(</span><span class="ident" id="5973481">p</span>&nbsp;<span class="op" id="5973483">*</span><span class="ident" id="5973484"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5973490">)</span>&nbsp;<span class="ident" id="5973492">parseTypeName</span><span class="op" id="5973505">(</span><span class="op" id="5973506">)</span>&nbsp;<span class="ident" id="5973508"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5973511">.</span><span class="ident" id="5973512"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5973517">{</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973520">if</span>&nbsp;<span class="ident" id="5973523"><a href="/gostd/go/parser/parser.go.html#5973481">p</a></span><span class="op" id="5973524">.</span><span class="ident" id="5973525"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5973531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973535">defer</span>&nbsp;<span class="ident" id="5973541"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5973543">(</span><span class="ident" id="5973544"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5973549">(</span><span class="ident" id="5973550"><a href="/gostd/go/parser/parser.go.html#5973481">p</a></span><span class="op" id="5973551">,</span>&nbsp;<span class="string" id="5973553">&#34;TypeName&#34;</span><span class="op" id="5973563">)</span><span class="op" id="5973564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5973567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973571">ident</span>&nbsp;<span class="op" id="5973577">:=</span>&nbsp;<span class="ident" id="5973580"><a href="/gostd/go/parser/parser.go.html#5973481">p</a></span><span class="op" id="5973581">.</span><span class="ident" id="5973582"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="5973592">(</span><span class="op" id="5973593">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5973596">//&nbsp;don&#39;t&nbsp;resolve&nbsp;ident&nbsp;yet&nbsp;-&nbsp;it&nbsp;may&nbsp;be&nbsp;a&nbsp;parameter&nbsp;or&nbsp;field&nbsp;name</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973663">if</span>&nbsp;<span class="ident" id="5973666"><a href="/gostd/go/parser/parser.go.html#5973481">p</a></span><span class="op" id="5973667">.</span><span class="ident" id="5973668"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5973672">==</span>&nbsp;<span class="ident" id="5973675"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5973680">.</span><span class="ident" id="5973681"><a href="/gostd/go/token/token.go.html#3890615">PERIOD</a></span>&nbsp;<span class="op" id="5973688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5973692">//&nbsp;ident&nbsp;is&nbsp;a&nbsp;package&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973721"><a href="/gostd/go/parser/parser.go.html#5973481">p</a></span><span class="op" id="5973722">.</span><span class="ident" id="5973723"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5973727">(</span><span class="op" id="5973728">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973732"><a href="/gostd/go/parser/parser.go.html#5973481">p</a></span><span class="op" id="5973733">.</span><span class="ident" id="5973734"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5973741">(</span><span class="ident" id="5973742"><a href="/gostd/go/parser/parser.go.html#5973571">ident</a></span><span class="op" id="5973747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973751">sel</span>&nbsp;<span class="op" id="5973755">:=</span>&nbsp;<span class="ident" id="5973758"><a href="/gostd/go/parser/parser.go.html#5973481">p</a></span><span class="op" id="5973759">.</span><span class="ident" id="5973760"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="5973770">(</span><span class="op" id="5973771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973775">return</span>&nbsp;<span class="op" id="5973782">&amp;</span><span class="ident" id="5973783"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5973786">.</span><span class="ident" id="5973787"><a href="/gostd/go/ast/ast.go.html#3801641">SelectorExpr</a></span><span class="op" id="5973799">{</span><span class="ident" id="5973800"><a href="/gostd/go/ast/ast.go.html#3801665">X</a></span><span class="op" id="5973801">:</span>&nbsp;<span class="ident" id="5973803"><a href="/gostd/go/parser/parser.go.html#5973571">ident</a></span><span class="op" id="5973808">,</span>&nbsp;<span class="ident" id="5973810"><a href="/gostd/go/ast/ast.go.html#3801692">Sel</a></span><span class="op" id="5973813">:</span>&nbsp;<span class="ident" id="5973815"><a href="/gostd/go/parser/parser.go.html#5973751">sel</a></span><span class="op" id="5973818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5973821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973825">return</span>&nbsp;<span class="ident" id="5973832"><a href="/gostd/go/parser/parser.go.html#5973571">ident</a></span><br>
<span class="lineno"></span><span class="op" id="5973838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5973841">func</span>&nbsp;<span class="op" id="5973846">(</span><span class="ident" id="5973847">p</span>&nbsp;<span class="op" id="5973849">*</span><span class="ident" id="5973850"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5973856">)</span>&nbsp;<span class="ident" id="5973858">parseArrayType</span><span class="op" id="5973872">(</span><span class="op" id="5973873">)</span>&nbsp;<span class="ident" id="5973875"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5973878">.</span><span class="ident" id="5973879"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5973884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973887">if</span>&nbsp;<span class="ident" id="5973890"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5973891">.</span><span class="ident" id="5973892"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5973898">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973902">defer</span>&nbsp;<span class="ident" id="5973908"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5973910">(</span><span class="ident" id="5973911"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5973916">(</span><span class="ident" id="5973917"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5973918">,</span>&nbsp;<span class="string" id="5973920">&#34;ArrayType&#34;</span><span class="op" id="5973931">)</span><span class="op" id="5973932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5973935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973939">lbrack</span>&nbsp;<span class="op" id="5973946">:=</span>&nbsp;<span class="ident" id="5973949"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5973950">.</span><span class="ident" id="5973951"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5973957">(</span><span class="ident" id="5973958"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5973963">.</span><span class="ident" id="5973964"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="5973970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5973973"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5973974">.</span><span class="ident" id="5973975"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5973982">++</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5973986">var</span>&nbsp;<span class="builtinfunc" id="5973990">len</span>&nbsp;<span class="ident" id="5973994"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5973997">.</span><span class="ident" id="5973998"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5974004">//&nbsp;always&nbsp;permit&nbsp;ellipsis&nbsp;for&nbsp;more&nbsp;fault-tolerant&nbsp;parsing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974063">if</span>&nbsp;<span class="ident" id="5974066"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5974067">.</span><span class="ident" id="5974068"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5974072">==</span>&nbsp;<span class="ident" id="5974075"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5974080">.</span><span class="ident" id="5974081"><a href="/gostd/go/token/token.go.html#3890545">ELLIPSIS</a></span>&nbsp;<span class="op" id="5974090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5974094"><a href="/gostd/go/parser/parser.go.html#5973990">len</a></span>&nbsp;<span class="op" id="5974098">=</span>&nbsp;<span class="op" id="5974100">&amp;</span><span class="ident" id="5974101"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974104">.</span><span class="ident" id="5974105"><a href="/gostd/go/ast/ast.go.html#3800500">Ellipsis</a></span><span class="op" id="5974113">{</span><span class="ident" id="5974114"><a href="/gostd/go/ast/ast.go.html#3800520">Ellipsis</a></span><span class="op" id="5974122">:</span>&nbsp;<span class="ident" id="5974124"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5974125">.</span><span class="ident" id="5974126"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5974129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974133"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5974134">.</span><span class="ident" id="5974135"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5974139">(</span><span class="op" id="5974140">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5974143">}</span>&nbsp;<span class="keyword" id="5974145">else</span>&nbsp;<span class="keyword" id="5974150">if</span>&nbsp;<span class="ident" id="5974153"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5974154">.</span><span class="ident" id="5974155"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5974159">!=</span>&nbsp;<span class="ident" id="5974162"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5974167">.</span><span class="ident" id="5974168"><a href="/gostd/go/token/token.go.html#3890645">RBRACK</a></span>&nbsp;<span class="op" id="5974175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5974179"><a href="/gostd/go/parser/parser.go.html#5973990">len</a></span>&nbsp;<span class="op" id="5974183">=</span>&nbsp;<span class="ident" id="5974185"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5974186">.</span><span class="ident" id="5974187"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="5974195">(</span><span class="op" id="5974196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5974199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974202"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5974203">.</span><span class="ident" id="5974204"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5974211">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974215"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5974216">.</span><span class="ident" id="5974217"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5974223">(</span><span class="ident" id="5974224"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5974229">.</span><span class="ident" id="5974230"><a href="/gostd/go/token/token.go.html#3890645">RBRACK</a></span><span class="op" id="5974236">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974239">elt</span>&nbsp;<span class="op" id="5974243">:=</span>&nbsp;<span class="ident" id="5974246"><a href="/gostd/go/parser/parser.go.html#5973847">p</a></span><span class="op" id="5974247">.</span><span class="ident" id="5974248"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="5974257">(</span><span class="op" id="5974258">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974262">return</span>&nbsp;<span class="op" id="5974269">&amp;</span><span class="ident" id="5974270"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974273">.</span><span class="ident" id="5974274"><a href="/gostd/go/ast/ast.go.html#3804223">ArrayType</a></span><span class="op" id="5974283">{</span><span class="ident" id="5974284"><a href="/gostd/go/ast/ast.go.html#3804244">Lbrack</a></span><span class="op" id="5974290">:</span>&nbsp;<span class="ident" id="5974292"><a href="/gostd/go/parser/parser.go.html#5973939">lbrack</a></span><span class="op" id="5974298">,</span>&nbsp;<span class="ident" id="5974300"><a href="/gostd/go/ast/ast.go.html#3804282">Len</a></span><span class="op" id="5974303">:</span>&nbsp;<span class="builtinfunc" id="5974305"><a href="/gostd/go/parser/parser.go.html#5973990">len</a></span><span class="op" id="5974308">,</span>&nbsp;<span class="ident" id="5974310"><a href="/gostd/go/ast/ast.go.html#3804362">Elt</a></span><span class="op" id="5974313">:</span>&nbsp;<span class="ident" id="5974315"><a href="/gostd/go/parser/parser.go.html#5974239">elt</a></span><span class="op" id="5974318">}</span><br>
<span class="lineno"></span><span class="op" id="5974320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span><span class="keyword" id="5974323">func</span>&nbsp;<span class="op" id="5974328">(</span><span class="ident" id="5974329">p</span>&nbsp;<span class="op" id="5974331">*</span><span class="ident" id="5974332"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5974338">)</span>&nbsp;<span class="ident" id="5974340">makeIdentList</span><span class="op" id="5974353">(</span><span class="ident" id="5974354">list</span>&nbsp;<span class="op" id="5974359">[</span><span class="op" id="5974360">]</span><span class="ident" id="5974361"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974364">.</span><span class="ident" id="5974365"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5974369">)</span>&nbsp;<span class="op" id="5974371">[</span><span class="op" id="5974372">]</span><span class="op" id="5974373">*</span><span class="ident" id="5974374"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974377">.</span><span class="ident" id="5974378"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span>&nbsp;<span class="op" id="5974384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974387">idents</span>&nbsp;<span class="op" id="5974394">:=</span>&nbsp;<span class="builtinfunc" id="5974397">make</span><span class="op" id="5974401">(</span><span class="op" id="5974402">[</span><span class="op" id="5974403">]</span><span class="op" id="5974404">*</span><span class="ident" id="5974405"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974408">.</span><span class="ident" id="5974409"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5974414">,</span>&nbsp;<span class="builtinfunc" id="5974416">len</span><span class="op" id="5974419">(</span><span class="ident" id="5974420"><a href="/gostd/go/parser/parser.go.html#5974354">list</a></span><span class="op" id="5974424">)</span><span class="op" id="5974425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974428">for</span>&nbsp;<span class="ident" id="5974432">i</span><span class="op" id="5974433">,</span>&nbsp;<span class="ident" id="5974435">x</span>&nbsp;<span class="op" id="5974437">:=</span>&nbsp;<span class="keyword" id="5974440">range</span>&nbsp;<span class="ident" id="5974446"><a href="/gostd/go/parser/parser.go.html#5974354">list</a></span>&nbsp;<span class="op" id="5974451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974455">ident</span><span class="op" id="5974460">,</span>&nbsp;<span class="ident" id="5974462">isIdent</span>&nbsp;<span class="op" id="5974470">:=</span>&nbsp;<span class="ident" id="5974473"><a href="/gostd/go/parser/parser.go.html#5974435">x</a></span><span class="op" id="5974474">.</span><span class="op" id="5974475">(</span><span class="op" id="5974476">*</span><span class="ident" id="5974477"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974480">.</span><span class="ident" id="5974481"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5974486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974490">if</span>&nbsp;<span class="op" id="5974493">!</span><span class="ident" id="5974494"><a href="/gostd/go/parser/parser.go.html#5974462">isIdent</a></span>&nbsp;<span class="op" id="5974502">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974507">if</span>&nbsp;<span class="ident" id="5974510">_</span><span class="op" id="5974511">,</span>&nbsp;<span class="ident" id="5974513">isBad</span>&nbsp;<span class="op" id="5974519">:=</span>&nbsp;<span class="ident" id="5974522"><a href="/gostd/go/parser/parser.go.html#5974435">x</a></span><span class="op" id="5974523">.</span><span class="op" id="5974524">(</span><span class="op" id="5974525">*</span><span class="ident" id="5974526"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974529">.</span><span class="ident" id="5974530"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5974537">)</span><span class="op" id="5974538">;</span>&nbsp;<span class="op" id="5974540">!</span><span class="ident" id="5974541"><a href="/gostd/go/parser/parser.go.html#5974513">isBad</a></span>&nbsp;<span class="op" id="5974547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5974553">//&nbsp;only&nbsp;report&nbsp;error&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;new&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974596"><a href="/gostd/go/parser/parser.go.html#5974329">p</a></span><span class="op" id="5974597">.</span><span class="ident" id="5974598"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5974611">(</span><span class="ident" id="5974612"><a href="/gostd/go/parser/parser.go.html#5974435">x</a></span><span class="op" id="5974613">.</span><span class="ident" id="5974614"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5974617">(</span><span class="op" id="5974618">)</span><span class="op" id="5974619">,</span>&nbsp;<span class="string" id="5974621">&#34;identifier&#34;</span><span class="op" id="5974633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5974638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974643"><a href="/gostd/go/parser/parser.go.html#5974455">ident</a></span>&nbsp;<span class="op" id="5974649">=</span>&nbsp;<span class="op" id="5974651">&amp;</span><span class="ident" id="5974652"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974655">.</span><span class="ident" id="5974656"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5974661">{</span><span class="ident" id="5974662"><a href="/gostd/go/ast/ast.go.html#3800256">NamePos</a></span><span class="op" id="5974669">:</span>&nbsp;<span class="ident" id="5974671"><a href="/gostd/go/parser/parser.go.html#5974435">x</a></span><span class="op" id="5974672">.</span><span class="ident" id="5974673"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5974676">(</span><span class="op" id="5974677">)</span><span class="op" id="5974678">,</span>&nbsp;<span class="ident" id="5974680"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="5974684">:</span>&nbsp;<span class="string" id="5974686">&#34;_&#34;</span><span class="op" id="5974689">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5974693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974697"><a href="/gostd/go/parser/parser.go.html#5974387">idents</a></span><span class="op" id="5974703">[</span><span class="ident" id="5974704"><a href="/gostd/go/parser/parser.go.html#5974432">i</a></span><span class="op" id="5974705">]</span>&nbsp;<span class="op" id="5974707">=</span>&nbsp;<span class="ident" id="5974709"><a href="/gostd/go/parser/parser.go.html#5974455">ident</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5974716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974719">return</span>&nbsp;<span class="ident" id="5974726"><a href="/gostd/go/parser/parser.go.html#5974387">idents</a></span><br>
<span class="lineno"></span><span class="op" id="5974733">}</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="keyword" id="5974736">func</span>&nbsp;<span class="op" id="5974741">(</span><span class="ident" id="5974742">p</span>&nbsp;<span class="op" id="5974744">*</span><span class="ident" id="5974745"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5974751">)</span>&nbsp;<span class="ident" id="5974753">parseFieldDecl</span><span class="op" id="5974767">(</span><span class="ident" id="5974768">scope</span>&nbsp;<span class="op" id="5974774">*</span><span class="ident" id="5974775"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974778">.</span><span class="ident" id="5974779"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="5974784">)</span>&nbsp;<span class="op" id="5974786">*</span><span class="ident" id="5974787"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974790">.</span><span class="ident" id="5974791"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span>&nbsp;<span class="op" id="5974797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974800">if</span>&nbsp;<span class="ident" id="5974803"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5974804">.</span><span class="ident" id="5974805"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5974811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974815">defer</span>&nbsp;<span class="ident" id="5974821"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5974823">(</span><span class="ident" id="5974824"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5974829">(</span><span class="ident" id="5974830"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5974831">,</span>&nbsp;<span class="string" id="5974833">&#34;FieldDecl&#34;</span><span class="op" id="5974844">)</span><span class="op" id="5974845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5974848">}</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974852">doc</span>&nbsp;<span class="op" id="5974856">:=</span>&nbsp;<span class="ident" id="5974859"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5974860">.</span><span class="ident" id="5974861"><a href="/gostd/go/parser/parser.go.html#5957162">leadComment</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5974875">//&nbsp;FieldDecl</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974889">list</span><span class="op" id="5974893">,</span>&nbsp;<span class="ident" id="5974895">typ</span>&nbsp;<span class="op" id="5974899">:=</span>&nbsp;<span class="ident" id="5974902"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5974903">.</span><span class="ident" id="5974904"><a href="/gostd/go/parser/parser.go.html#5977496">parseVarList</a></span><span class="op" id="5974916">(</span><span class="builtintype" id="5974917">false</span><span class="op" id="5974922">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5974926">//&nbsp;Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974934">var</span>&nbsp;<span class="ident" id="5974938">tag</span>&nbsp;<span class="op" id="5974942">*</span><span class="ident" id="5974943"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974946">.</span><span class="ident" id="5974947"><a href="/gostd/go/ast/ast.go.html#3800698">BasicLit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5974957">if</span>&nbsp;<span class="ident" id="5974960"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5974961">.</span><span class="ident" id="5974962"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5974966">==</span>&nbsp;<span class="ident" id="5974969"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5974974">.</span><span class="ident" id="5974975"><a href="/gostd/go/token/token.go.html#3889908">STRING</a></span>&nbsp;<span class="op" id="5974982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5974986"><a href="/gostd/go/parser/parser.go.html#5974938">tag</a></span>&nbsp;<span class="op" id="5974990">=</span>&nbsp;<span class="op" id="5974992">&amp;</span><span class="ident" id="5974993"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5974996">.</span><span class="ident" id="5974997"><a href="/gostd/go/ast/ast.go.html#3800698">BasicLit</a></span><span class="op" id="5975005">{</span><span class="ident" id="5975006"><a href="/gostd/go/ast/ast.go.html#3800718">ValuePos</a></span><span class="op" id="5975014">:</span>&nbsp;<span class="ident" id="5975016"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975017">.</span><span class="ident" id="5975018"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5975021">,</span>&nbsp;<span class="ident" id="5975023"><a href="/gostd/go/ast/ast.go.html#3800761">Kind</a></span><span class="op" id="5975027">:</span>&nbsp;<span class="ident" id="5975029"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975030">.</span><span class="ident" id="5975031"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="5975034">,</span>&nbsp;<span class="ident" id="5975036"><a href="/gostd/go/ast/ast.go.html#3800851">Value</a></span><span class="op" id="5975041">:</span>&nbsp;<span class="ident" id="5975043"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975044">.</span><span class="ident" id="5975045"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><span class="op" id="5975048">}</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975052"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975053">.</span><span class="ident" id="5975054"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5975058">(</span><span class="op" id="5975059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5975062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5975066">//&nbsp;analyze&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5975083">var</span>&nbsp;<span class="ident" id="5975087">idents</span>&nbsp;<span class="op" id="5975094">[</span><span class="op" id="5975095">]</span><span class="op" id="5975096">*</span><span class="ident" id="5975097"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5975100">.</span><span class="ident" id="5975101"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5975108">if</span>&nbsp;<span class="ident" id="5975111"><a href="/gostd/go/parser/parser.go.html#5974895">typ</a></span>&nbsp;<span class="op" id="5975115">!=</span>&nbsp;<span class="builtintype" id="5975118">nil</span>&nbsp;<span class="op" id="5975122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5975126">//&nbsp;IdentifierList&nbsp;Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975151"><a href="/gostd/go/parser/parser.go.html#5975087">idents</a></span>&nbsp;<span class="op" id="5975158">=</span>&nbsp;<span class="ident" id="5975160"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975161">.</span><span class="ident" id="5975162"><a href="/gostd/go/parser/parser.go.html#5974340">makeIdentList</a></span><span class="op" id="5975175">(</span><span class="ident" id="5975176"><a href="/gostd/go/parser/parser.go.html#5974889">list</a></span><span class="op" id="5975180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5975183">}</span>&nbsp;<span class="keyword" id="5975185">else</span>&nbsp;<span class="op" id="5975190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5975194">//&nbsp;[&#34;*&#34;]&nbsp;TypeName&nbsp;(AnonymousField)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975231"><a href="/gostd/go/parser/parser.go.html#5974895">typ</a></span>&nbsp;<span class="op" id="5975235">=</span>&nbsp;<span class="ident" id="5975237"><a href="/gostd/go/parser/parser.go.html#5974889">list</a></span><span class="op" id="5975241">[</span><span class="num" id="5975242">0</span><span class="op" id="5975243">]</span>&nbsp;<span class="comment" id="5975245">//&nbsp;we&nbsp;always&nbsp;have&nbsp;at&nbsp;least&nbsp;one&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5975286">if</span>&nbsp;<span class="ident" id="5975289">n</span>&nbsp;<span class="op" id="5975291">:=</span>&nbsp;<span class="builtinfunc" id="5975294">len</span><span class="op" id="5975297">(</span><span class="ident" id="5975298"><a href="/gostd/go/parser/parser.go.html#5974889">list</a></span><span class="op" id="5975302">)</span><span class="op" id="5975303">;</span>&nbsp;<span class="ident" id="5975305"><a href="/gostd/go/parser/parser.go.html#5975289">n</a></span>&nbsp;<span class="op" id="5975307">&gt;</span>&nbsp;<span class="num" id="5975309">1</span>&nbsp;<span class="op" id="5975311">||</span>&nbsp;<span class="op" id="5975314">!</span><span class="ident" id="5975315"><a href="/gostd/go/parser/parser.go.html#5991984">isTypeName</a></span><span class="op" id="5975325">(</span><span class="ident" id="5975326"><a href="/gostd/go/parser/parser.go.html#5992718">deref</a></span><span class="op" id="5975331">(</span><span class="ident" id="5975332"><a href="/gostd/go/parser/parser.go.html#5974895">typ</a></span><span class="op" id="5975335">)</span><span class="op" id="5975336">)</span>&nbsp;<span class="op" id="5975338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975343">pos</span>&nbsp;<span class="op" id="5975347">:=</span>&nbsp;<span class="ident" id="5975350"><a href="/gostd/go/parser/parser.go.html#5974895">typ</a></span><span class="op" id="5975353">.</span><span class="ident" id="5975354"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5975357">(</span><span class="op" id="5975358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975363"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975364">.</span><span class="ident" id="5975365"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5975378">(</span><span class="ident" id="5975379"><a href="/gostd/go/parser/parser.go.html#5975343">pos</a></span><span class="op" id="5975382">,</span>&nbsp;<span class="string" id="5975384">&#34;anonymous&nbsp;field&#34;</span><span class="op" id="5975401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975406"><a href="/gostd/go/parser/parser.go.html#5974895">typ</a></span>&nbsp;<span class="op" id="5975410">=</span>&nbsp;<span class="op" id="5975412">&amp;</span><span class="ident" id="5975413"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5975416">.</span><span class="ident" id="5975417"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5975424">{</span><span class="ident" id="5975425"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5975429">:</span>&nbsp;<span class="ident" id="5975431"><a href="/gostd/go/parser/parser.go.html#5975343">pos</a></span><span class="op" id="5975434">,</span>&nbsp;<span class="ident" id="5975436"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5975438">:</span>&nbsp;<span class="ident" id="5975440"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975441">.</span><span class="ident" id="5975442"><a href="/gostd/go/parser/parser.go.html#5970773">safePos</a></span><span class="op" id="5975449">(</span><span class="ident" id="5975450"><a href="/gostd/go/parser/parser.go.html#5974889">list</a></span><span class="op" id="5975454">[</span><span class="ident" id="5975455"><a href="/gostd/go/parser/parser.go.html#5975289">n</a></span><span class="op" id="5975456">-</span><span class="num" id="5975457">1</span><span class="op" id="5975458">]</span><span class="op" id="5975459">.</span><span class="ident" id="5975460"><a href="/gostd/go/ast/ast.go.html#3795102">End</a></span><span class="op" id="5975463">(</span><span class="op" id="5975464">)</span><span class="op" id="5975465">)</span><span class="op" id="5975466">}</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5975470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5975473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975477"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975478">.</span><span class="ident" id="5975479"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="5975489">(</span><span class="op" id="5975490">)</span>&nbsp;<span class="comment" id="5975492">//&nbsp;call&nbsp;before&nbsp;accessing&nbsp;p.linecomment</span><br>
<span class="lineno"></span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975533">field</span>&nbsp;<span class="op" id="5975539">:=</span>&nbsp;<span class="op" id="5975542">&amp;</span><span class="ident" id="5975543"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5975546">.</span><span class="ident" id="5975547"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5975552">{</span><span class="ident" id="5975553"><a href="/gostd/go/ast/ast.go.html#3798274">Doc</a></span><span class="op" id="5975556">:</span>&nbsp;<span class="ident" id="5975558"><a href="/gostd/go/parser/parser.go.html#5974852">doc</a></span><span class="op" id="5975561">,</span>&nbsp;<span class="ident" id="5975563"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5975568">:</span>&nbsp;<span class="ident" id="5975570"><a href="/gostd/go/parser/parser.go.html#5975087">idents</a></span><span class="op" id="5975576">,</span>&nbsp;<span class="ident" id="5975578"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5975582">:</span>&nbsp;<span class="ident" id="5975584"><a href="/gostd/go/parser/parser.go.html#5974895">typ</a></span><span class="op" id="5975587">,</span>&nbsp;<span class="ident" id="5975589"><a href="/gostd/go/ast/ast.go.html#3798469">Tag</a></span><span class="op" id="5975592">:</span>&nbsp;<span class="ident" id="5975594"><a href="/gostd/go/parser/parser.go.html#5974938">tag</a></span><span class="op" id="5975597">,</span>&nbsp;<span class="ident" id="5975599"><a href="/gostd/go/ast/ast.go.html#3798513">Comment</a></span><span class="op" id="5975606">:</span>&nbsp;<span class="ident" id="5975608"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975609">.</span><span class="ident" id="5975610"><a href="/gostd/go/parser/parser.go.html#5957214">lineComment</a></span><span class="op" id="5975621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975624"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975625">.</span><span class="ident" id="5975626"><a href="/gostd/go/parser/parser.go.html#5959540">declare</a></span><span class="op" id="5975633">(</span><span class="ident" id="5975634"><a href="/gostd/go/parser/parser.go.html#5975533">field</a></span><span class="op" id="5975639">,</span>&nbsp;<span class="builtintype" id="5975641">nil</span><span class="op" id="5975644">,</span>&nbsp;<span class="ident" id="5975646"><a href="/gostd/go/parser/parser.go.html#5974768">scope</a></span><span class="op" id="5975651">,</span>&nbsp;<span class="ident" id="5975653"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5975656">.</span><span class="ident" id="5975657"><a href="/gostd/go/ast/scope.go.html#3866847">Var</a></span><span class="op" id="5975660">,</span>&nbsp;<span class="ident" id="5975662"><a href="/gostd/go/parser/parser.go.html#5975087">idents</a></span><span class="op" id="5975668">...</span><span class="op" id="5975671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975674"><a href="/gostd/go/parser/parser.go.html#5974742">p</a></span><span class="op" id="5975675">.</span><span class="ident" id="5975676"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5975683">(</span><span class="ident" id="5975684"><a href="/gostd/go/parser/parser.go.html#5974895">typ</a></span><span class="op" id="5975687">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5975691">return</span>&nbsp;<span class="ident" id="5975698"><a href="/gostd/go/parser/parser.go.html#5975533">field</a></span><br>
<span class="lineno">715</span><span class="op" id="5975704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5975707">func</span>&nbsp;<span class="op" id="5975712">(</span><span class="ident" id="5975713">p</span>&nbsp;<span class="op" id="5975715">*</span><span class="ident" id="5975716"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5975722">)</span>&nbsp;<span class="ident" id="5975724">parseStructType</span><span class="op" id="5975739">(</span><span class="op" id="5975740">)</span>&nbsp;<span class="op" id="5975742">*</span><span class="ident" id="5975743"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5975746">.</span><span class="ident" id="5975747"><a href="/gostd/go/ast/ast.go.html#3804448">StructType</a></span>&nbsp;<span class="op" id="5975758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5975761">if</span>&nbsp;<span class="ident" id="5975764"><a href="/gostd/go/parser/parser.go.html#5975713">p</a></span><span class="op" id="5975765">.</span><span class="ident" id="5975766"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5975772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5975776">defer</span>&nbsp;<span class="ident" id="5975782"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5975784">(</span><span class="ident" id="5975785"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5975790">(</span><span class="ident" id="5975791"><a href="/gostd/go/parser/parser.go.html#5975713">p</a></span><span class="op" id="5975792">,</span>&nbsp;<span class="string" id="5975794">&#34;StructType&#34;</span><span class="op" id="5975806">)</span><span class="op" id="5975807">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5975810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975814">pos</span>&nbsp;<span class="op" id="5975818">:=</span>&nbsp;<span class="ident" id="5975821"><a href="/gostd/go/parser/parser.go.html#5975713">p</a></span><span class="op" id="5975822">.</span><span class="ident" id="5975823"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5975829">(</span><span class="ident" id="5975830"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5975835">.</span><span class="ident" id="5975836"><a href="/gostd/go/token/token.go.html#3890906">STRUCT</a></span><span class="op" id="5975842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975845">lbrace</span>&nbsp;<span class="op" id="5975852">:=</span>&nbsp;<span class="ident" id="5975855"><a href="/gostd/go/parser/parser.go.html#5975713">p</a></span><span class="op" id="5975856">.</span><span class="ident" id="5975857"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5975863">(</span><span class="ident" id="5975864"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5975869">.</span><span class="ident" id="5975870"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5975876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5975879">scope</span>&nbsp;<span class="op" id="5975885">:=</span>&nbsp;<span class="ident" id="5975888"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5975891">.</span><span class="ident" id="5975892"><a href="/gostd/go/ast/scope.go.html#3863557">NewScope</a></span><span class="op" id="5975900">(</span><span class="builtintype" id="5975901">nil</span><span class="op" id="5975904">)</span>&nbsp;<span class="comment" id="5975906">//&nbsp;struct&nbsp;scope</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5975923">var</span>&nbsp;<span class="ident" id="5975927">list</span>&nbsp;<span class="op" id="5975932">[</span><span class="op" id="5975933">]</span><span class="op" id="5975934">*</span><span class="ident" id="5975935"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5975938">.</span><span class="ident" id="5975939"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5975946">for</span>&nbsp;<span class="ident" id="5975950"><a href="/gostd/go/parser/parser.go.html#5975713">p</a></span><span class="op" id="5975951">.</span><span class="ident" id="5975952"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5975956">==</span>&nbsp;<span class="ident" id="5975959"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5975964">.</span><span class="ident" id="5975965"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span>&nbsp;<span class="op" id="5975971">||</span>&nbsp;<span class="ident" id="5975974"><a href="/gostd/go/parser/parser.go.html#5975713">p</a></span><span class="op" id="5975975">.</span><span class="ident" id="5975976"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5975980">==</span>&nbsp;<span class="ident" id="5975983"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5975988">.</span><span class="ident" id="5975989"><a href="/gostd/go/token/token.go.html#3890002">MUL</a></span>&nbsp;<span class="op" id="5975993">||</span>&nbsp;<span class="ident" id="5975996"><a href="/gostd/go/parser/parser.go.html#5975713">p</a></span><span class="op" id="5975997">.</span><span class="ident" id="5975998"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5976002">==</span>&nbsp;<span class="ident" id="5976005"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5976010">.</span><span class="ident" id="5976011"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span>&nbsp;<span class="op" id="5976018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5976022">//&nbsp;a&nbsp;field&nbsp;declaration&nbsp;cannot&nbsp;start&nbsp;with&nbsp;a&nbsp;&#39;(&#39;&nbsp;but&nbsp;we&nbsp;accept</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5976085">//&nbsp;it&nbsp;here&nbsp;for&nbsp;more&nbsp;robust&nbsp;parsing&nbsp;and&nbsp;better&nbsp;error&nbsp;messages</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5976148">//&nbsp;(parseFieldDecl&nbsp;will&nbsp;check&nbsp;and&nbsp;complain&nbsp;if&nbsp;necessary)</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976207"><a href="/gostd/go/parser/parser.go.html#5975927">list</a></span>&nbsp;<span class="op" id="5976212">=</span>&nbsp;<span class="builtinfunc" id="5976214">append</span><span class="op" id="5976220">(</span><span class="ident" id="5976221"><a href="/gostd/go/parser/parser.go.html#5975927">list</a></span><span class="op" id="5976225">,</span>&nbsp;<span class="ident" id="5976227"><a href="/gostd/go/parser/parser.go.html#5975713">p</a></span><span class="op" id="5976228">.</span><span class="ident" id="5976229"><a href="/gostd/go/parser/parser.go.html#5974753">parseFieldDecl</a></span><span class="op" id="5976243">(</span><span class="ident" id="5976244"><a href="/gostd/go/parser/parser.go.html#5975879">scope</a></span><span class="op" id="5976249">)</span><span class="op" id="5976250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5976253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976256">rbrace</span>&nbsp;<span class="op" id="5976263">:=</span>&nbsp;<span class="ident" id="5976266"><a href="/gostd/go/parser/parser.go.html#5975713">p</a></span><span class="op" id="5976267">.</span><span class="ident" id="5976268"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5976274">(</span><span class="ident" id="5976275"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5976280">.</span><span class="ident" id="5976281"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5976287">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5976291">return</span>&nbsp;<span class="op" id="5976298">&amp;</span><span class="ident" id="5976299"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5976302">.</span><span class="ident" id="5976303"><a href="/gostd/go/ast/ast.go.html#3804448">StructType</a></span><span class="op" id="5976313">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976317"><a href="/gostd/go/ast/ast.go.html#3804470">Struct</a></span><span class="op" id="5976323">:</span>&nbsp;<span class="ident" id="5976325"><a href="/gostd/go/parser/parser.go.html#5975814">pos</a></span><span class="op" id="5976328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976332"><a href="/gostd/go/ast/ast.go.html#3804526">Fields</a></span><span class="op" id="5976338">:</span>&nbsp;<span class="op" id="5976340">&amp;</span><span class="ident" id="5976341"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5976344">.</span><span class="ident" id="5976345"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="5976354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976359"><a href="/gostd/go/ast/ast.go.html#3798878">Opening</a></span><span class="op" id="5976366">:</span>&nbsp;<span class="ident" id="5976368"><a href="/gostd/go/parser/parser.go.html#5975845">lbrace</a></span><span class="op" id="5976374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976379"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="5976383">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976388"><a href="/gostd/go/parser/parser.go.html#5975927">list</a></span><span class="op" id="5976392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976397"><a href="/gostd/go/ast/ast.go.html#3798987">Closing</a></span><span class="op" id="5976404">:</span>&nbsp;<span class="ident" id="5976406"><a href="/gostd/go/parser/parser.go.html#5976256">rbrace</a></span><span class="op" id="5976412">,</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5976416">}</span><span class="op" id="5976417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5976420">}</span><br>
<span class="lineno"></span><span class="op" id="5976422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5976425">func</span>&nbsp;<span class="op" id="5976430">(</span><span class="ident" id="5976431">p</span>&nbsp;<span class="op" id="5976433">*</span><span class="ident" id="5976434"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5976440">)</span>&nbsp;<span class="ident" id="5976442">parsePointerType</span><span class="op" id="5976458">(</span><span class="op" id="5976459">)</span>&nbsp;<span class="op" id="5976461">*</span><span class="ident" id="5976462"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5976465">.</span><span class="ident" id="5976466"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span>&nbsp;<span class="op" id="5976475">{</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5976478">if</span>&nbsp;<span class="ident" id="5976481"><a href="/gostd/go/parser/parser.go.html#5976431">p</a></span><span class="op" id="5976482">.</span><span class="ident" id="5976483"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5976489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5976493">defer</span>&nbsp;<span class="ident" id="5976499"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5976501">(</span><span class="ident" id="5976502"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5976507">(</span><span class="ident" id="5976508"><a href="/gostd/go/parser/parser.go.html#5976431">p</a></span><span class="op" id="5976509">,</span>&nbsp;<span class="string" id="5976511">&#34;PointerType&#34;</span><span class="op" id="5976524">)</span><span class="op" id="5976525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5976528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976532">star</span>&nbsp;<span class="op" id="5976537">:=</span>&nbsp;<span class="ident" id="5976540"><a href="/gostd/go/parser/parser.go.html#5976431">p</a></span><span class="op" id="5976541">.</span><span class="ident" id="5976542"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5976548">(</span><span class="ident" id="5976549"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5976554">.</span><span class="ident" id="5976555"><a href="/gostd/go/token/token.go.html#3890002">MUL</a></span><span class="op" id="5976558">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976561">base</span>&nbsp;<span class="op" id="5976566">:=</span>&nbsp;<span class="ident" id="5976569"><a href="/gostd/go/parser/parser.go.html#5976431">p</a></span><span class="op" id="5976570">.</span><span class="ident" id="5976571"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="5976580">(</span><span class="op" id="5976581">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5976585">return</span>&nbsp;<span class="op" id="5976592">&amp;</span><span class="ident" id="5976593"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5976596">.</span><span class="ident" id="5976597"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="5976605">{</span><span class="ident" id="5976606"><a href="/gostd/go/ast/ast.go.html#3803180">Star</a></span><span class="op" id="5976610">:</span>&nbsp;<span class="ident" id="5976612"><a href="/gostd/go/parser/parser.go.html#5976532">star</a></span><span class="op" id="5976616">,</span>&nbsp;<span class="ident" id="5976618"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><span class="op" id="5976619">:</span>&nbsp;<span class="ident" id="5976621"><a href="/gostd/go/parser/parser.go.html#5976561">base</a></span><span class="op" id="5976625">}</span><br>
<span class="lineno"></span><span class="op" id="5976627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="5976630">//&nbsp;If&nbsp;the&nbsp;result&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;it&nbsp;is&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno"></span><span class="keyword" id="5976685">func</span>&nbsp;<span class="op" id="5976690">(</span><span class="ident" id="5976691">p</span>&nbsp;<span class="op" id="5976693">*</span><span class="ident" id="5976694"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5976700">)</span>&nbsp;<span class="ident" id="5976702">tryVarType</span><span class="op" id="5976712">(</span><span class="ident" id="5976713">isParam</span>&nbsp;<span class="builtintype" id="5976721">bool</span><span class="op" id="5976725">)</span>&nbsp;<span class="ident" id="5976727"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5976730">.</span><span class="ident" id="5976731"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5976736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5976739">if</span>&nbsp;<span class="ident" id="5976742"><a href="/gostd/go/parser/parser.go.html#5976713">isParam</a></span>&nbsp;<span class="op" id="5976750">&amp;&amp;</span>&nbsp;<span class="ident" id="5976753"><a href="/gostd/go/parser/parser.go.html#5976691">p</a></span><span class="op" id="5976754">.</span><span class="ident" id="5976755"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5976759">==</span>&nbsp;<span class="ident" id="5976762"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5976767">.</span><span class="ident" id="5976768"><a href="/gostd/go/token/token.go.html#3890545">ELLIPSIS</a></span>&nbsp;<span class="op" id="5976777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976781">pos</span>&nbsp;<span class="op" id="5976785">:=</span>&nbsp;<span class="ident" id="5976788"><a href="/gostd/go/parser/parser.go.html#5976691">p</a></span><span class="op" id="5976789">.</span><span class="ident" id="5976790"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976796"><a href="/gostd/go/parser/parser.go.html#5976691">p</a></span><span class="op" id="5976797">.</span><span class="ident" id="5976798"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5976802">(</span><span class="op" id="5976803">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976807">typ</span>&nbsp;<span class="op" id="5976811">:=</span>&nbsp;<span class="ident" id="5976814"><a href="/gostd/go/parser/parser.go.html#5976691">p</a></span><span class="op" id="5976815">.</span><span class="ident" id="5976816"><a href="/gostd/go/parser/parser.go.html#5982799">tryIdentOrType</a></span><span class="op" id="5976830">(</span><span class="op" id="5976831">)</span>&nbsp;<span class="comment" id="5976833">//&nbsp;don&#39;t&nbsp;use&nbsp;parseType&nbsp;so&nbsp;we&nbsp;can&nbsp;provide&nbsp;better&nbsp;error&nbsp;message</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5976897">if</span>&nbsp;<span class="ident" id="5976900"><a href="/gostd/go/parser/parser.go.html#5976807">typ</a></span>&nbsp;<span class="op" id="5976904">!=</span>&nbsp;<span class="builtintype" id="5976907">nil</span>&nbsp;<span class="op" id="5976911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976916"><a href="/gostd/go/parser/parser.go.html#5976691">p</a></span><span class="op" id="5976917">.</span><span class="ident" id="5976918"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5976925">(</span><span class="ident" id="5976926"><a href="/gostd/go/parser/parser.go.html#5976807">typ</a></span><span class="op" id="5976929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5976933">}</span>&nbsp;<span class="keyword" id="5976935">else</span>&nbsp;<span class="op" id="5976940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976945"><a href="/gostd/go/parser/parser.go.html#5976691">p</a></span><span class="op" id="5976946">.</span><span class="builtintype" id="5976947"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5976952">(</span><span class="ident" id="5976953"><a href="/gostd/go/parser/parser.go.html#5976781">pos</a></span><span class="op" id="5976956">,</span>&nbsp;<span class="string" id="5976958">&#34;&#39;...&#39;&nbsp;parameter&nbsp;is&nbsp;missing&nbsp;type&#34;</span><span class="op" id="5976991">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5976996"><a href="/gostd/go/parser/parser.go.html#5976807">typ</a></span>&nbsp;<span class="op" id="5977000">=</span>&nbsp;<span class="op" id="5977002">&amp;</span><span class="ident" id="5977003"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5977006">.</span><span class="ident" id="5977007"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5977014">{</span><span class="ident" id="5977015"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5977019">:</span>&nbsp;<span class="ident" id="5977021"><a href="/gostd/go/parser/parser.go.html#5976781">pos</a></span><span class="op" id="5977024">,</span>&nbsp;<span class="ident" id="5977026"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5977028">:</span>&nbsp;<span class="ident" id="5977030"><a href="/gostd/go/parser/parser.go.html#5976691">p</a></span><span class="op" id="5977031">.</span><span class="ident" id="5977032"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5977035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5977039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5977043">return</span>&nbsp;<span class="op" id="5977050">&amp;</span><span class="ident" id="5977051"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5977054">.</span><span class="ident" id="5977055"><a href="/gostd/go/ast/ast.go.html#3800500">Ellipsis</a></span><span class="op" id="5977063">{</span><span class="ident" id="5977064"><a href="/gostd/go/ast/ast.go.html#3800520">Ellipsis</a></span><span class="op" id="5977072">:</span>&nbsp;<span class="ident" id="5977074"><a href="/gostd/go/parser/parser.go.html#5976781">pos</a></span><span class="op" id="5977077">,</span>&nbsp;<span class="ident" id="5977079"><a href="/gostd/go/ast/ast.go.html#3800562">Elt</a></span><span class="op" id="5977082">:</span>&nbsp;<span class="ident" id="5977084"><a href="/gostd/go/parser/parser.go.html#5976807">typ</a></span><span class="op" id="5977087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5977090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5977093">return</span>&nbsp;<span class="ident" id="5977100"><a href="/gostd/go/parser/parser.go.html#5976691">p</a></span><span class="op" id="5977101">.</span><span class="ident" id="5977102"><a href="/gostd/go/parser/parser.go.html#5982799">tryIdentOrType</a></span><span class="op" id="5977116">(</span><span class="op" id="5977117">)</span><br>
<span class="lineno">770</span><span class="op" id="5977119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5977122">//&nbsp;If&nbsp;the&nbsp;result&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;it&nbsp;is&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno"></span><span class="keyword" id="5977177">func</span>&nbsp;<span class="op" id="5977182">(</span><span class="ident" id="5977183">p</span>&nbsp;<span class="op" id="5977185">*</span><span class="ident" id="5977186"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5977192">)</span>&nbsp;<span class="ident" id="5977194">parseVarType</span><span class="op" id="5977206">(</span><span class="ident" id="5977207">isParam</span>&nbsp;<span class="builtintype" id="5977215">bool</span><span class="op" id="5977219">)</span>&nbsp;<span class="ident" id="5977221"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5977224">.</span><span class="ident" id="5977225"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5977230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5977233">typ</span>&nbsp;<span class="op" id="5977237">:=</span>&nbsp;<span class="ident" id="5977240"><a href="/gostd/go/parser/parser.go.html#5977183">p</a></span><span class="op" id="5977241">.</span><span class="ident" id="5977242"><a href="/gostd/go/parser/parser.go.html#5976702">tryVarType</a></span><span class="op" id="5977252">(</span><span class="ident" id="5977253"><a href="/gostd/go/parser/parser.go.html#5977207">isParam</a></span><span class="op" id="5977260">)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5977263">if</span>&nbsp;<span class="ident" id="5977266"><a href="/gostd/go/parser/parser.go.html#5977233">typ</a></span>&nbsp;<span class="op" id="5977270">==</span>&nbsp;<span class="builtintype" id="5977273">nil</span>&nbsp;<span class="op" id="5977277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5977281">pos</span>&nbsp;<span class="op" id="5977285">:=</span>&nbsp;<span class="ident" id="5977288"><a href="/gostd/go/parser/parser.go.html#5977183">p</a></span><span class="op" id="5977289">.</span><span class="ident" id="5977290"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5977296"><a href="/gostd/go/parser/parser.go.html#5977183">p</a></span><span class="op" id="5977297">.</span><span class="ident" id="5977298"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5977311">(</span><span class="ident" id="5977312"><a href="/gostd/go/parser/parser.go.html#5977281">pos</a></span><span class="op" id="5977315">,</span>&nbsp;<span class="string" id="5977317">&#34;type&#34;</span><span class="op" id="5977323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5977327"><a href="/gostd/go/parser/parser.go.html#5977183">p</a></span><span class="op" id="5977328">.</span><span class="ident" id="5977329"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5977333">(</span><span class="op" id="5977334">)</span>&nbsp;<span class="comment" id="5977336">//&nbsp;make&nbsp;progress</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5977355"><a href="/gostd/go/parser/parser.go.html#5977233">typ</a></span>&nbsp;<span class="op" id="5977359">=</span>&nbsp;<span class="op" id="5977361">&amp;</span><span class="ident" id="5977362"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5977365">.</span><span class="ident" id="5977366"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5977373">{</span><span class="ident" id="5977374"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5977378">:</span>&nbsp;<span class="ident" id="5977380"><a href="/gostd/go/parser/parser.go.html#5977281">pos</a></span><span class="op" id="5977383">,</span>&nbsp;<span class="ident" id="5977385"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5977387">:</span>&nbsp;<span class="ident" id="5977389"><a href="/gostd/go/parser/parser.go.html#5977183">p</a></span><span class="op" id="5977390">.</span><span class="ident" id="5977391"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5977394">}</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5977397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5977400">return</span>&nbsp;<span class="ident" id="5977407"><a href="/gostd/go/parser/parser.go.html#5977233">typ</a></span><br>
<span class="lineno"></span><span class="op" id="5977411">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5977414">//&nbsp;If&nbsp;any&nbsp;of&nbsp;the&nbsp;results&nbsp;are&nbsp;identifiers,&nbsp;they&nbsp;are&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno">785</span><span class="keyword" id="5977479">func</span>&nbsp;<span class="op" id="5977484">(</span><span class="ident" id="5977485">p</span>&nbsp;<span class="op" id="5977487">*</span><span class="ident" id="5977488"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5977494">)</span>&nbsp;<span class="ident" id="5977496">parseVarList</span><span class="op" id="5977508">(</span><span class="ident" id="5977509">isParam</span>&nbsp;<span class="builtintype" id="5977517">bool</span><span class="op" id="5977521">)</span>&nbsp;<span class="op" id="5977523">(</span><span class="ident" id="5977524">list</span>&nbsp;<span class="op" id="5977529">[</span><span class="op" id="5977530">]</span><span class="ident" id="5977531"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5977534">.</span><span class="ident" id="5977535"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5977539">,</span>&nbsp;<span class="ident" id="5977541">typ</span>&nbsp;<span class="ident" id="5977545"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5977548">.</span><span class="ident" id="5977549"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5977553">)</span>&nbsp;<span class="op" id="5977555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5977558">if</span>&nbsp;<span class="ident" id="5977561"><a href="/gostd/go/parser/parser.go.html#5977485">p</a></span><span class="op" id="5977562">.</span><span class="ident" id="5977563"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5977569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5977573">defer</span>&nbsp;<span class="ident" id="5977579"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5977581">(</span><span class="ident" id="5977582"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5977587">(</span><span class="ident" id="5977588"><a href="/gostd/go/parser/parser.go.html#5977485">p</a></span><span class="op" id="5977589">,</span>&nbsp;<span class="string" id="5977591">&#34;VarList&#34;</span><span class="op" id="5977600">)</span><span class="op" id="5977601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5977604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5977608">//&nbsp;a&nbsp;list&nbsp;of&nbsp;identifiers&nbsp;looks&nbsp;like&nbsp;a&nbsp;list&nbsp;of&nbsp;type&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5977666">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5977670">//&nbsp;parse/tryVarType&nbsp;accepts&nbsp;any&nbsp;type&nbsp;(including&nbsp;parenthesized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5977733">//&nbsp;ones)&nbsp;even&nbsp;though&nbsp;the&nbsp;syntax&nbsp;does&nbsp;not&nbsp;permit&nbsp;them&nbsp;here:&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5977796">//&nbsp;accept&nbsp;them&nbsp;all&nbsp;for&nbsp;more&nbsp;robust&nbsp;parsing&nbsp;and&nbsp;complain&nbsp;later</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5977859">for</span>&nbsp;<span class="ident" id="5977863">typ</span>&nbsp;<span class="op" id="5977867">:=</span>&nbsp;<span class="ident" id="5977870"><a href="/gostd/go/parser/parser.go.html#5977485">p</a></span><span class="op" id="5977871">.</span><span class="ident" id="5977872"><a href="/gostd/go/parser/parser.go.html#5977194">parseVarType</a></span><span class="op" id="5977884">(</span><span class="ident" id="5977885"><a href="/gostd/go/parser/parser.go.html#5977509">isParam</a></span><span class="op" id="5977892">)</span><span class="op" id="5977893">;</span>&nbsp;<span class="ident" id="5977895"><a href="/gostd/go/parser/parser.go.html#5977863">typ</a></span>&nbsp;<span class="op" id="5977899">!=</span>&nbsp;<span class="builtintype" id="5977902">nil</span><span class="op" id="5977905">;</span>&nbsp;<span class="op" id="5977907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5977911"><a href="/gostd/go/parser/parser.go.html#5977524">list</a></span>&nbsp;<span class="op" id="5977916">=</span>&nbsp;<span class="builtinfunc" id="5977918">append</span><span class="op" id="5977924">(</span><span class="ident" id="5977925"><a href="/gostd/go/parser/parser.go.html#5977524">list</a></span><span class="op" id="5977929">,</span>&nbsp;<span class="ident" id="5977931"><a href="/gostd/go/parser/parser.go.html#5977863">typ</a></span><span class="op" id="5977934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5977938">if</span>&nbsp;<span class="ident" id="5977941"><a href="/gostd/go/parser/parser.go.html#5977485">p</a></span><span class="op" id="5977942">.</span><span class="ident" id="5977943"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5977947">!=</span>&nbsp;<span class="ident" id="5977950"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5977955">.</span><span class="ident" id="5977956"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span>&nbsp;<span class="op" id="5977962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5977967">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5977975">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5977979"><a href="/gostd/go/parser/parser.go.html#5977485">p</a></span><span class="op" id="5977980">.</span><span class="ident" id="5977981"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5977985">(</span><span class="op" id="5977986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5977990"><a href="/gostd/go/parser/parser.go.html#5977863">typ</a></span>&nbsp;<span class="op" id="5977994">=</span>&nbsp;<span class="ident" id="5977996"><a href="/gostd/go/parser/parser.go.html#5977485">p</a></span><span class="op" id="5977997">.</span><span class="ident" id="5977998"><a href="/gostd/go/parser/parser.go.html#5976702">tryVarType</a></span><span class="op" id="5978008">(</span><span class="ident" id="5978009"><a href="/gostd/go/parser/parser.go.html#5977509">isParam</a></span><span class="op" id="5978016">)</span>&nbsp;<span class="comment" id="5978018">//&nbsp;maybe&nbsp;nil&nbsp;as&nbsp;in:&nbsp;func&nbsp;f(int,)&nbsp;{}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5978055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5978059">//&nbsp;if&nbsp;we&nbsp;had&nbsp;a&nbsp;list&nbsp;of&nbsp;identifiers,&nbsp;it&nbsp;must&nbsp;be&nbsp;followed&nbsp;by&nbsp;a&nbsp;type</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978126"><a href="/gostd/go/parser/parser.go.html#5977541">typ</a></span>&nbsp;<span class="op" id="5978130">=</span>&nbsp;<span class="ident" id="5978132"><a href="/gostd/go/parser/parser.go.html#5977485">p</a></span><span class="op" id="5978133">.</span><span class="ident" id="5978134"><a href="/gostd/go/parser/parser.go.html#5976702">tryVarType</a></span><span class="op" id="5978144">(</span><span class="ident" id="5978145"><a href="/gostd/go/parser/parser.go.html#5977509">isParam</a></span><span class="op" id="5978152">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5978156">return</span><br>
<span class="lineno"></span><span class="op" id="5978163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span><span class="keyword" id="5978166">func</span>&nbsp;<span class="op" id="5978171">(</span><span class="ident" id="5978172">p</span>&nbsp;<span class="op" id="5978174">*</span><span class="ident" id="5978175"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5978181">)</span>&nbsp;<span class="ident" id="5978183">parseParameterList</span><span class="op" id="5978201">(</span><span class="ident" id="5978202">scope</span>&nbsp;<span class="op" id="5978208">*</span><span class="ident" id="5978209"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5978212">.</span><span class="ident" id="5978213"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="5978218">,</span>&nbsp;<span class="ident" id="5978220">ellipsisOk</span>&nbsp;<span class="builtintype" id="5978231">bool</span><span class="op" id="5978235">)</span>&nbsp;<span class="op" id="5978237">(</span><span class="ident" id="5978238">params</span>&nbsp;<span class="op" id="5978245">[</span><span class="op" id="5978246">]</span><span class="op" id="5978247">*</span><span class="ident" id="5978248"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5978251">.</span><span class="ident" id="5978252"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5978257">)</span>&nbsp;<span class="op" id="5978259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5978262">if</span>&nbsp;<span class="ident" id="5978265"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978266">.</span><span class="ident" id="5978267"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5978273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5978277">defer</span>&nbsp;<span class="ident" id="5978283"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5978285">(</span><span class="ident" id="5978286"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5978291">(</span><span class="ident" id="5978292"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978293">,</span>&nbsp;<span class="string" id="5978295">&#34;ParameterList&#34;</span><span class="op" id="5978310">)</span><span class="op" id="5978311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5978314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5978318">//&nbsp;ParameterDecl</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978336">list</span><span class="op" id="5978340">,</span>&nbsp;<span class="ident" id="5978342">typ</span>&nbsp;<span class="op" id="5978346">:=</span>&nbsp;<span class="ident" id="5978349"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978350">.</span><span class="ident" id="5978351"><a href="/gostd/go/parser/parser.go.html#5977496">parseVarList</a></span><span class="op" id="5978363">(</span><span class="ident" id="5978364"><a href="/gostd/go/parser/parser.go.html#5978220">ellipsisOk</a></span><span class="op" id="5978374">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5978378">//&nbsp;analyze&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5978395">if</span>&nbsp;<span class="ident" id="5978398"><a href="/gostd/go/parser/parser.go.html#5978342">typ</a></span>&nbsp;<span class="op" id="5978402">!=</span>&nbsp;<span class="builtintype" id="5978405">nil</span>&nbsp;<span class="op" id="5978409">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5978413">//&nbsp;IdentifierList&nbsp;Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978438">idents</span>&nbsp;<span class="op" id="5978445">:=</span>&nbsp;<span class="ident" id="5978448"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978449">.</span><span class="ident" id="5978450"><a href="/gostd/go/parser/parser.go.html#5974340">makeIdentList</a></span><span class="op" id="5978463">(</span><span class="ident" id="5978464"><a href="/gostd/go/parser/parser.go.html#5978336">list</a></span><span class="op" id="5978468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978472">field</span>&nbsp;<span class="op" id="5978478">:=</span>&nbsp;<span class="op" id="5978481">&amp;</span><span class="ident" id="5978482"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5978485">.</span><span class="ident" id="5978486"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5978491">{</span><span class="ident" id="5978492"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5978497">:</span>&nbsp;<span class="ident" id="5978499"><a href="/gostd/go/parser/parser.go.html#5978438">idents</a></span><span class="op" id="5978505">,</span>&nbsp;<span class="ident" id="5978507"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5978511">:</span>&nbsp;<span class="ident" id="5978513"><a href="/gostd/go/parser/parser.go.html#5978342">typ</a></span><span class="op" id="5978516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978520"><a href="/gostd/go/parser/parser.go.html#5978238">params</a></span>&nbsp;<span class="op" id="5978527">=</span>&nbsp;<span class="builtinfunc" id="5978529">append</span><span class="op" id="5978535">(</span><span class="ident" id="5978536"><a href="/gostd/go/parser/parser.go.html#5978238">params</a></span><span class="op" id="5978542">,</span>&nbsp;<span class="ident" id="5978544"><a href="/gostd/go/parser/parser.go.html#5978472">field</a></span><span class="op" id="5978549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5978553">//&nbsp;Go&nbsp;spec:&nbsp;The&nbsp;scope&nbsp;of&nbsp;an&nbsp;identifier&nbsp;denoting&nbsp;a&nbsp;function</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5978614">//&nbsp;parameter&nbsp;or&nbsp;result&nbsp;variable&nbsp;is&nbsp;the&nbsp;function&nbsp;body.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978670"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978671">.</span><span class="ident" id="5978672"><a href="/gostd/go/parser/parser.go.html#5959540">declare</a></span><span class="op" id="5978679">(</span><span class="ident" id="5978680"><a href="/gostd/go/parser/parser.go.html#5978472">field</a></span><span class="op" id="5978685">,</span>&nbsp;<span class="builtintype" id="5978687">nil</span><span class="op" id="5978690">,</span>&nbsp;<span class="ident" id="5978692"><a href="/gostd/go/parser/parser.go.html#5978202">scope</a></span><span class="op" id="5978697">,</span>&nbsp;<span class="ident" id="5978699"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5978702">.</span><span class="ident" id="5978703"><a href="/gostd/go/ast/scope.go.html#3866847">Var</a></span><span class="op" id="5978706">,</span>&nbsp;<span class="ident" id="5978708"><a href="/gostd/go/parser/parser.go.html#5978438">idents</a></span><span class="op" id="5978714">...</span><span class="op" id="5978717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978721"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978722">.</span><span class="ident" id="5978723"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5978730">(</span><span class="ident" id="5978731"><a href="/gostd/go/parser/parser.go.html#5978342">typ</a></span><span class="op" id="5978734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5978738">if</span>&nbsp;<span class="op" id="5978741">!</span><span class="ident" id="5978742"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978743">.</span><span class="ident" id="5978744"><a href="/gostd/go/parser/parser.go.html#5968301">atComma</a></span><span class="op" id="5978751">(</span><span class="string" id="5978752">&#34;parameter&nbsp;list&#34;</span><span class="op" id="5978768">)</span>&nbsp;<span class="op" id="5978770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5978775">return</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5978784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978788"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978789">.</span><span class="ident" id="5978790"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5978794">(</span><span class="op" id="5978795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5978799">for</span>&nbsp;<span class="ident" id="5978803"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978804">.</span><span class="ident" id="5978805"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5978809">!=</span>&nbsp;<span class="ident" id="5978812"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5978817">.</span><span class="ident" id="5978818"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span>&nbsp;<span class="op" id="5978825">&amp;&amp;</span>&nbsp;<span class="ident" id="5978828"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978829">.</span><span class="ident" id="5978830"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5978834">!=</span>&nbsp;<span class="ident" id="5978837"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5978842">.</span><span class="ident" id="5978843"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span>&nbsp;<span class="op" id="5978847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978852">idents</span>&nbsp;<span class="op" id="5978859">:=</span>&nbsp;<span class="ident" id="5978862"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978863">.</span><span class="ident" id="5978864"><a href="/gostd/go/parser/parser.go.html#5971367">parseIdentList</a></span><span class="op" id="5978878">(</span><span class="op" id="5978879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978884">typ</span>&nbsp;<span class="op" id="5978888">:=</span>&nbsp;<span class="ident" id="5978891"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5978892">.</span><span class="ident" id="5978893"><a href="/gostd/go/parser/parser.go.html#5977194">parseVarType</a></span><span class="op" id="5978905">(</span><span class="ident" id="5978906"><a href="/gostd/go/parser/parser.go.html#5978220">ellipsisOk</a></span><span class="op" id="5978916">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978921">field</span>&nbsp;<span class="op" id="5978927">:=</span>&nbsp;<span class="op" id="5978930">&amp;</span><span class="ident" id="5978931"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5978934">.</span><span class="ident" id="5978935"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5978940">{</span><span class="ident" id="5978941"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5978946">:</span>&nbsp;<span class="ident" id="5978948"><a href="/gostd/go/parser/parser.go.html#5978852">idents</a></span><span class="op" id="5978954">,</span>&nbsp;<span class="ident" id="5978956"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5978960">:</span>&nbsp;<span class="ident" id="5978962"><a href="/gostd/go/parser/parser.go.html#5978884">typ</a></span><span class="op" id="5978965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5978970"><a href="/gostd/go/parser/parser.go.html#5978238">params</a></span>&nbsp;<span class="op" id="5978977">=</span>&nbsp;<span class="builtinfunc" id="5978979">append</span><span class="op" id="5978985">(</span><span class="ident" id="5978986"><a href="/gostd/go/parser/parser.go.html#5978238">params</a></span><span class="op" id="5978992">,</span>&nbsp;<span class="ident" id="5978994"><a href="/gostd/go/parser/parser.go.html#5978921">field</a></span><span class="op" id="5978999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5979004">//&nbsp;Go&nbsp;spec:&nbsp;The&nbsp;scope&nbsp;of&nbsp;an&nbsp;identifier&nbsp;denoting&nbsp;a&nbsp;function</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5979066">//&nbsp;parameter&nbsp;or&nbsp;result&nbsp;variable&nbsp;is&nbsp;the&nbsp;function&nbsp;body.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5979123"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5979124">.</span><span class="ident" id="5979125"><a href="/gostd/go/parser/parser.go.html#5959540">declare</a></span><span class="op" id="5979132">(</span><span class="ident" id="5979133"><a href="/gostd/go/parser/parser.go.html#5978921">field</a></span><span class="op" id="5979138">,</span>&nbsp;<span class="builtintype" id="5979140">nil</span><span class="op" id="5979143">,</span>&nbsp;<span class="ident" id="5979145"><a href="/gostd/go/parser/parser.go.html#5978202">scope</a></span><span class="op" id="5979150">,</span>&nbsp;<span class="ident" id="5979152"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5979155">.</span><span class="ident" id="5979156"><a href="/gostd/go/ast/scope.go.html#3866847">Var</a></span><span class="op" id="5979159">,</span>&nbsp;<span class="ident" id="5979161"><a href="/gostd/go/parser/parser.go.html#5978852">idents</a></span><span class="op" id="5979167">...</span><span class="op" id="5979170">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5979175"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5979176">.</span><span class="ident" id="5979177"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5979184">(</span><span class="ident" id="5979185"><a href="/gostd/go/parser/parser.go.html#5978884">typ</a></span><span class="op" id="5979188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979193">if</span>&nbsp;<span class="op" id="5979196">!</span><span class="ident" id="5979197"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5979198">.</span><span class="ident" id="5979199"><a href="/gostd/go/parser/parser.go.html#5968301">atComma</a></span><span class="op" id="5979206">(</span><span class="string" id="5979207">&#34;parameter&nbsp;list&#34;</span><span class="op" id="5979223">)</span>&nbsp;<span class="op" id="5979225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979231">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5979240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5979245"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5979246">.</span><span class="ident" id="5979247"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5979251">(</span><span class="op" id="5979252">)</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5979256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979260">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5979268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5979272">//&nbsp;Type&nbsp;{&nbsp;&#34;,&#34;&nbsp;Type&nbsp;}&nbsp;(anonymous&nbsp;parameters)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5979317"><a href="/gostd/go/parser/parser.go.html#5978238">params</a></span>&nbsp;<span class="op" id="5979324">=</span>&nbsp;<span class="builtinfunc" id="5979326">make</span><span class="op" id="5979330">(</span><span class="op" id="5979331">[</span><span class="op" id="5979332">]</span><span class="op" id="5979333">*</span><span class="ident" id="5979334"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5979337">.</span><span class="ident" id="5979338"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5979343">,</span>&nbsp;<span class="builtinfunc" id="5979345">len</span><span class="op" id="5979348">(</span><span class="ident" id="5979349"><a href="/gostd/go/parser/parser.go.html#5978336">list</a></span><span class="op" id="5979353">)</span><span class="op" id="5979354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979357">for</span>&nbsp;<span class="ident" id="5979361">i</span><span class="op" id="5979362">,</span>&nbsp;<span class="ident" id="5979364">typ</span>&nbsp;<span class="op" id="5979368">:=</span>&nbsp;<span class="keyword" id="5979371">range</span>&nbsp;<span class="ident" id="5979377"><a href="/gostd/go/parser/parser.go.html#5978336">list</a></span>&nbsp;<span class="op" id="5979382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5979386"><a href="/gostd/go/parser/parser.go.html#5978172">p</a></span><span class="op" id="5979387">.</span><span class="ident" id="5979388"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5979395">(</span><span class="ident" id="5979396"><a href="/gostd/go/parser/parser.go.html#5979364">typ</a></span><span class="op" id="5979399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5979403"><a href="/gostd/go/parser/parser.go.html#5978238">params</a></span><span class="op" id="5979409">[</span><span class="ident" id="5979410"><a href="/gostd/go/parser/parser.go.html#5979361">i</a></span><span class="op" id="5979411">]</span>&nbsp;<span class="op" id="5979413">=</span>&nbsp;<span class="op" id="5979415">&amp;</span><span class="ident" id="5979416"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5979419">.</span><span class="ident" id="5979420"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5979425">{</span><span class="ident" id="5979426"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5979430">:</span>&nbsp;<span class="ident" id="5979432"><a href="/gostd/go/parser/parser.go.html#5979364">typ</a></span><span class="op" id="5979435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5979438">}</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979441">return</span><br>
<span class="lineno"></span><span class="op" id="5979448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5979451">func</span>&nbsp;<span class="op" id="5979456">(</span><span class="ident" id="5979457">p</span>&nbsp;<span class="op" id="5979459">*</span><span class="ident" id="5979460"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5979466">)</span>&nbsp;<span class="ident" id="5979468">parseParameters</span><span class="op" id="5979483">(</span><span class="ident" id="5979484">scope</span>&nbsp;<span class="op" id="5979490">*</span><span class="ident" id="5979491"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5979494">.</span><span class="ident" id="5979495"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="5979500">,</span>&nbsp;<span class="ident" id="5979502">ellipsisOk</span>&nbsp;<span class="builtintype" id="5979513">bool</span><span class="op" id="5979517">)</span>&nbsp;<span class="op" id="5979519">*</span><span class="ident" id="5979520"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5979523">.</span><span class="ident" id="5979524"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span>&nbsp;<span class="op" id="5979534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979537">if</span>&nbsp;<span class="ident" id="5979540"><a href="/gostd/go/parser/parser.go.html#5979457">p</a></span><span class="op" id="5979541">.</span><span class="ident" id="5979542"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5979548">{</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979552">defer</span>&nbsp;<span class="ident" id="5979558"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5979560">(</span><span class="ident" id="5979561"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5979566">(</span><span class="ident" id="5979567"><a href="/gostd/go/parser/parser.go.html#5979457">p</a></span><span class="op" id="5979568">,</span>&nbsp;<span class="string" id="5979570">&#34;Parameters&#34;</span><span class="op" id="5979582">)</span><span class="op" id="5979583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5979586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979590">var</span>&nbsp;<span class="ident" id="5979594">params</span>&nbsp;<span class="op" id="5979601">[</span><span class="op" id="5979602">]</span><span class="op" id="5979603">*</span><span class="ident" id="5979604"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5979607">.</span><span class="ident" id="5979608"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5979615">lparen</span>&nbsp;<span class="op" id="5979622">:=</span>&nbsp;<span class="ident" id="5979625"><a href="/gostd/go/parser/parser.go.html#5979457">p</a></span><span class="op" id="5979626">.</span><span class="ident" id="5979627"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5979633">(</span><span class="ident" id="5979634"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5979639">.</span><span class="ident" id="5979640"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5979646">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979649">if</span>&nbsp;<span class="ident" id="5979652"><a href="/gostd/go/parser/parser.go.html#5979457">p</a></span><span class="op" id="5979653">.</span><span class="ident" id="5979654"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5979658">!=</span>&nbsp;<span class="ident" id="5979661"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5979666">.</span><span class="ident" id="5979667"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span>&nbsp;<span class="op" id="5979674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5979678"><a href="/gostd/go/parser/parser.go.html#5979594">params</a></span>&nbsp;<span class="op" id="5979685">=</span>&nbsp;<span class="ident" id="5979687"><a href="/gostd/go/parser/parser.go.html#5979457">p</a></span><span class="op" id="5979688">.</span><span class="ident" id="5979689"><a href="/gostd/go/parser/parser.go.html#5978183">parseParameterList</a></span><span class="op" id="5979707">(</span><span class="ident" id="5979708"><a href="/gostd/go/parser/parser.go.html#5979484">scope</a></span><span class="op" id="5979713">,</span>&nbsp;<span class="ident" id="5979715"><a href="/gostd/go/parser/parser.go.html#5979502">ellipsisOk</a></span><span class="op" id="5979725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5979728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5979731">rparen</span>&nbsp;<span class="op" id="5979738">:=</span>&nbsp;<span class="ident" id="5979741"><a href="/gostd/go/parser/parser.go.html#5979457">p</a></span><span class="op" id="5979742">.</span><span class="ident" id="5979743"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5979749">(</span><span class="ident" id="5979750"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5979755">.</span><span class="ident" id="5979756"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5979762">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979766">return</span>&nbsp;<span class="op" id="5979773">&amp;</span><span class="ident" id="5979774"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5979777">.</span><span class="ident" id="5979778"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="5979787">{</span><span class="ident" id="5979788"><a href="/gostd/go/ast/ast.go.html#3798878">Opening</a></span><span class="op" id="5979795">:</span>&nbsp;<span class="ident" id="5979797"><a href="/gostd/go/parser/parser.go.html#5979615">lparen</a></span><span class="op" id="5979803">,</span>&nbsp;<span class="ident" id="5979805"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="5979809">:</span>&nbsp;<span class="ident" id="5979811"><a href="/gostd/go/parser/parser.go.html#5979594">params</a></span><span class="op" id="5979817">,</span>&nbsp;<span class="ident" id="5979819"><a href="/gostd/go/ast/ast.go.html#3798987">Closing</a></span><span class="op" id="5979826">:</span>&nbsp;<span class="ident" id="5979828"><a href="/gostd/go/parser/parser.go.html#5979731">rparen</a></span><span class="op" id="5979834">}</span><br>
<span class="lineno"></span><span class="op" id="5979836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5979839">func</span>&nbsp;<span class="op" id="5979844">(</span><span class="ident" id="5979845">p</span>&nbsp;<span class="op" id="5979847">*</span><span class="ident" id="5979848"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5979854">)</span>&nbsp;<span class="ident" id="5979856">parseResult</span><span class="op" id="5979867">(</span><span class="ident" id="5979868">scope</span>&nbsp;<span class="op" id="5979874">*</span><span class="ident" id="5979875"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5979878">.</span><span class="ident" id="5979879"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="5979884">)</span>&nbsp;<span class="op" id="5979886">*</span><span class="ident" id="5979887"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5979890">.</span><span class="ident" id="5979891"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span>&nbsp;<span class="op" id="5979901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979904">if</span>&nbsp;<span class="ident" id="5979907"><a href="/gostd/go/parser/parser.go.html#5979845">p</a></span><span class="op" id="5979908">.</span><span class="ident" id="5979909"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5979915">{</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979919">defer</span>&nbsp;<span class="ident" id="5979925"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5979927">(</span><span class="ident" id="5979928"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5979933">(</span><span class="ident" id="5979934"><a href="/gostd/go/parser/parser.go.html#5979845">p</a></span><span class="op" id="5979935">,</span>&nbsp;<span class="string" id="5979937">&#34;Result&#34;</span><span class="op" id="5979945">)</span><span class="op" id="5979946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5979949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979953">if</span>&nbsp;<span class="ident" id="5979956"><a href="/gostd/go/parser/parser.go.html#5979845">p</a></span><span class="op" id="5979957">.</span><span class="ident" id="5979958"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5979962">==</span>&nbsp;<span class="ident" id="5979965"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5979970">.</span><span class="ident" id="5979971"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span>&nbsp;<span class="op" id="5979978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5979982">return</span>&nbsp;<span class="ident" id="5979989"><a href="/gostd/go/parser/parser.go.html#5979845">p</a></span><span class="op" id="5979990">.</span><span class="ident" id="5979991"><a href="/gostd/go/parser/parser.go.html#5979468">parseParameters</a></span><span class="op" id="5980006">(</span><span class="ident" id="5980007"><a href="/gostd/go/parser/parser.go.html#5979868">scope</a></span><span class="op" id="5980012">,</span>&nbsp;<span class="builtintype" id="5980014">false</span><span class="op" id="5980019">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5980022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980026">typ</span>&nbsp;<span class="op" id="5980030">:=</span>&nbsp;<span class="ident" id="5980033"><a href="/gostd/go/parser/parser.go.html#5979845">p</a></span><span class="op" id="5980034">.</span><span class="ident" id="5980035"><a href="/gostd/go/parser/parser.go.html#5983475">tryType</a></span><span class="op" id="5980042">(</span><span class="op" id="5980043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980046">if</span>&nbsp;<span class="ident" id="5980049"><a href="/gostd/go/parser/parser.go.html#5980026">typ</a></span>&nbsp;<span class="op" id="5980053">!=</span>&nbsp;<span class="builtintype" id="5980056">nil</span>&nbsp;<span class="op" id="5980060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980064">list</span>&nbsp;<span class="op" id="5980069">:=</span>&nbsp;<span class="builtinfunc" id="5980072">make</span><span class="op" id="5980076">(</span><span class="op" id="5980077">[</span><span class="op" id="5980078">]</span><span class="op" id="5980079">*</span><span class="ident" id="5980080"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980083">.</span><span class="ident" id="5980084"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5980089">,</span>&nbsp;<span class="num" id="5980091">1</span><span class="op" id="5980092">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980096"><a href="/gostd/go/parser/parser.go.html#5980064">list</a></span><span class="op" id="5980100">[</span><span class="num" id="5980101">0</span><span class="op" id="5980102">]</span>&nbsp;<span class="op" id="5980104">=</span>&nbsp;<span class="op" id="5980106">&amp;</span><span class="ident" id="5980107"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980110">.</span><span class="ident" id="5980111"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5980116">{</span><span class="ident" id="5980117"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5980121">:</span>&nbsp;<span class="ident" id="5980123"><a href="/gostd/go/parser/parser.go.html#5980026">typ</a></span><span class="op" id="5980126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980130">return</span>&nbsp;<span class="op" id="5980137">&amp;</span><span class="ident" id="5980138"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980141">.</span><span class="ident" id="5980142"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="5980151">{</span><span class="ident" id="5980152"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="5980156">:</span>&nbsp;<span class="ident" id="5980158"><a href="/gostd/go/parser/parser.go.html#5980064">list</a></span><span class="op" id="5980162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5980165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980169">return</span>&nbsp;<span class="builtintype" id="5980176">nil</span><br>
<span class="lineno">890</span><span class="op" id="5980180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5980183">func</span>&nbsp;<span class="op" id="5980188">(</span><span class="ident" id="5980189">p</span>&nbsp;<span class="op" id="5980191">*</span><span class="ident" id="5980192"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5980198">)</span>&nbsp;<span class="ident" id="5980200">parseSignature</span><span class="op" id="5980214">(</span><span class="ident" id="5980215">scope</span>&nbsp;<span class="op" id="5980221">*</span><span class="ident" id="5980222"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980225">.</span><span class="ident" id="5980226"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="5980231">)</span>&nbsp;<span class="op" id="5980233">(</span><span class="ident" id="5980234">params</span><span class="op" id="5980240">,</span>&nbsp;<span class="ident" id="5980242">results</span>&nbsp;<span class="op" id="5980250">*</span><span class="ident" id="5980251"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980254">.</span><span class="ident" id="5980255"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="5980264">)</span>&nbsp;<span class="op" id="5980266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980269">if</span>&nbsp;<span class="ident" id="5980272"><a href="/gostd/go/parser/parser.go.html#5980189">p</a></span><span class="op" id="5980273">.</span><span class="ident" id="5980274"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5980280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980284">defer</span>&nbsp;<span class="ident" id="5980290"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5980292">(</span><span class="ident" id="5980293"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5980298">(</span><span class="ident" id="5980299"><a href="/gostd/go/parser/parser.go.html#5980189">p</a></span><span class="op" id="5980300">,</span>&nbsp;<span class="string" id="5980302">&#34;Signature&#34;</span><span class="op" id="5980313">)</span><span class="op" id="5980314">)</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5980317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980321"><a href="/gostd/go/parser/parser.go.html#5980234">params</a></span>&nbsp;<span class="op" id="5980328">=</span>&nbsp;<span class="ident" id="5980330"><a href="/gostd/go/parser/parser.go.html#5980189">p</a></span><span class="op" id="5980331">.</span><span class="ident" id="5980332"><a href="/gostd/go/parser/parser.go.html#5979468">parseParameters</a></span><span class="op" id="5980347">(</span><span class="ident" id="5980348"><a href="/gostd/go/parser/parser.go.html#5980215">scope</a></span><span class="op" id="5980353">,</span>&nbsp;<span class="builtintype" id="5980355">true</span><span class="op" id="5980359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980362"><a href="/gostd/go/parser/parser.go.html#5980242">results</a></span>&nbsp;<span class="op" id="5980370">=</span>&nbsp;<span class="ident" id="5980372"><a href="/gostd/go/parser/parser.go.html#5980189">p</a></span><span class="op" id="5980373">.</span><span class="ident" id="5980374"><a href="/gostd/go/parser/parser.go.html#5979856">parseResult</a></span><span class="op" id="5980385">(</span><span class="ident" id="5980386"><a href="/gostd/go/parser/parser.go.html#5980215">scope</a></span><span class="op" id="5980391">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980395">return</span><br>
<span class="lineno"></span><span class="op" id="5980402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5980405">func</span>&nbsp;<span class="op" id="5980410">(</span><span class="ident" id="5980411">p</span>&nbsp;<span class="op" id="5980413">*</span><span class="ident" id="5980414"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5980420">)</span>&nbsp;<span class="ident" id="5980422">parseFuncType</span><span class="op" id="5980435">(</span><span class="op" id="5980436">)</span>&nbsp;<span class="op" id="5980438">(</span><span class="op" id="5980439">*</span><span class="ident" id="5980440"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980443">.</span><span class="ident" id="5980444"><a href="/gostd/go/ast/ast.go.html#3804768">FuncType</a></span><span class="op" id="5980452">,</span>&nbsp;<span class="op" id="5980454">*</span><span class="ident" id="5980455"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980458">.</span><span class="ident" id="5980459"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="5980464">)</span>&nbsp;<span class="op" id="5980466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980469">if</span>&nbsp;<span class="ident" id="5980472"><a href="/gostd/go/parser/parser.go.html#5980411">p</a></span><span class="op" id="5980473">.</span><span class="ident" id="5980474"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5980480">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980484">defer</span>&nbsp;<span class="ident" id="5980490"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5980492">(</span><span class="ident" id="5980493"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5980498">(</span><span class="ident" id="5980499"><a href="/gostd/go/parser/parser.go.html#5980411">p</a></span><span class="op" id="5980500">,</span>&nbsp;<span class="string" id="5980502">&#34;FuncType&#34;</span><span class="op" id="5980512">)</span><span class="op" id="5980513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5980516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980520">pos</span>&nbsp;<span class="op" id="5980524">:=</span>&nbsp;<span class="ident" id="5980527"><a href="/gostd/go/parser/parser.go.html#5980411">p</a></span><span class="op" id="5980528">.</span><span class="ident" id="5980529"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5980535">(</span><span class="ident" id="5980536"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5980541">.</span><span class="ident" id="5980542"><a href="/gostd/go/token/token.go.html#3890828">FUNC</a></span><span class="op" id="5980546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980549">scope</span>&nbsp;<span class="op" id="5980555">:=</span>&nbsp;<span class="ident" id="5980558"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980561">.</span><span class="ident" id="5980562"><a href="/gostd/go/ast/scope.go.html#3863557">NewScope</a></span><span class="op" id="5980570">(</span><span class="ident" id="5980571"><a href="/gostd/go/parser/parser.go.html#5980411">p</a></span><span class="op" id="5980572">.</span><span class="ident" id="5980573"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span><span class="op" id="5980581">)</span>&nbsp;<span class="comment" id="5980583">//&nbsp;function&nbsp;scope</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980602">params</span><span class="op" id="5980608">,</span>&nbsp;<span class="ident" id="5980610">results</span>&nbsp;<span class="op" id="5980618">:=</span>&nbsp;<span class="ident" id="5980621"><a href="/gostd/go/parser/parser.go.html#5980411">p</a></span><span class="op" id="5980622">.</span><span class="ident" id="5980623"><a href="/gostd/go/parser/parser.go.html#5980200">parseSignature</a></span><span class="op" id="5980637">(</span><span class="ident" id="5980638"><a href="/gostd/go/parser/parser.go.html#5980549">scope</a></span><span class="op" id="5980643">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980647">return</span>&nbsp;<span class="op" id="5980654">&amp;</span><span class="ident" id="5980655"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980658">.</span><span class="ident" id="5980659"><a href="/gostd/go/ast/ast.go.html#3804768">FuncType</a></span><span class="op" id="5980667">{</span><span class="ident" id="5980668"><a href="/gostd/go/ast/ast.go.html#3804788">Func</a></span><span class="op" id="5980672">:</span>&nbsp;<span class="ident" id="5980674"><a href="/gostd/go/parser/parser.go.html#5980520">pos</a></span><span class="op" id="5980677">,</span>&nbsp;<span class="ident" id="5980679"><a href="/gostd/go/ast/ast.go.html#3804875">Params</a></span><span class="op" id="5980685">:</span>&nbsp;<span class="ident" id="5980687"><a href="/gostd/go/parser/parser.go.html#5980602">params</a></span><span class="op" id="5980693">,</span>&nbsp;<span class="ident" id="5980695"><a href="/gostd/go/ast/ast.go.html#3804930">Results</a></span><span class="op" id="5980702">:</span>&nbsp;<span class="ident" id="5980704"><a href="/gostd/go/parser/parser.go.html#5980610">results</a></span><span class="op" id="5980711">}</span><span class="op" id="5980712">,</span>&nbsp;<span class="ident" id="5980714"><a href="/gostd/go/parser/parser.go.html#5980549">scope</a></span><br>
<span class="lineno"></span><span class="op" id="5980720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">915</span><span class="keyword" id="5980723">func</span>&nbsp;<span class="op" id="5980728">(</span><span class="ident" id="5980729">p</span>&nbsp;<span class="op" id="5980731">*</span><span class="ident" id="5980732"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5980738">)</span>&nbsp;<span class="ident" id="5980740">parseMethodSpec</span><span class="op" id="5980755">(</span><span class="ident" id="5980756">scope</span>&nbsp;<span class="op" id="5980762">*</span><span class="ident" id="5980763"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980766">.</span><span class="ident" id="5980767"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="5980772">)</span>&nbsp;<span class="op" id="5980774">*</span><span class="ident" id="5980775"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980778">.</span><span class="ident" id="5980779"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span>&nbsp;<span class="op" id="5980785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980788">if</span>&nbsp;<span class="ident" id="5980791"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5980792">.</span><span class="ident" id="5980793"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5980799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980803">defer</span>&nbsp;<span class="ident" id="5980809"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5980811">(</span><span class="ident" id="5980812"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5980817">(</span><span class="ident" id="5980818"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5980819">,</span>&nbsp;<span class="string" id="5980821">&#34;MethodSpec&#34;</span><span class="op" id="5980833">)</span><span class="op" id="5980834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5980837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980841">doc</span>&nbsp;<span class="op" id="5980845">:=</span>&nbsp;<span class="ident" id="5980848"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5980849">.</span><span class="ident" id="5980850"><a href="/gostd/go/parser/parser.go.html#5957162">leadComment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980863">var</span>&nbsp;<span class="ident" id="5980867">idents</span>&nbsp;<span class="op" id="5980874">[</span><span class="op" id="5980875">]</span><span class="op" id="5980876">*</span><span class="ident" id="5980877"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980880">.</span><span class="ident" id="5980881"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980888">var</span>&nbsp;<span class="ident" id="5980892">typ</span>&nbsp;<span class="ident" id="5980896"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980899">.</span><span class="ident" id="5980900"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5980906">x</span>&nbsp;<span class="op" id="5980908">:=</span>&nbsp;<span class="ident" id="5980911"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5980912">.</span><span class="ident" id="5980913"><a href="/gostd/go/parser/parser.go.html#5973492">parseTypeName</a></span><span class="op" id="5980926">(</span><span class="op" id="5980927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5980930">if</span>&nbsp;<span class="ident" id="5980933">ident</span><span class="op" id="5980938">,</span>&nbsp;<span class="ident" id="5980940">isIdent</span>&nbsp;<span class="op" id="5980948">:=</span>&nbsp;<span class="ident" id="5980951"><a href="/gostd/go/parser/parser.go.html#5980906">x</a></span><span class="op" id="5980952">.</span><span class="op" id="5980953">(</span><span class="op" id="5980954">*</span><span class="ident" id="5980955"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5980958">.</span><span class="ident" id="5980959"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5980964">)</span><span class="op" id="5980965">;</span>&nbsp;<span class="ident" id="5980967"><a href="/gostd/go/parser/parser.go.html#5980940">isIdent</a></span>&nbsp;<span class="op" id="5980975">&amp;&amp;</span>&nbsp;<span class="ident" id="5980978"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5980979">.</span><span class="ident" id="5980980"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5980984">==</span>&nbsp;<span class="ident" id="5980987"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5980992">.</span><span class="ident" id="5980993"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span>&nbsp;<span class="op" id="5981000">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5981004">//&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981016"><a href="/gostd/go/parser/parser.go.html#5980867">idents</a></span>&nbsp;<span class="op" id="5981023">=</span>&nbsp;<span class="op" id="5981025">[</span><span class="op" id="5981026">]</span><span class="op" id="5981027">*</span><span class="ident" id="5981028"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981031">.</span><span class="ident" id="5981032"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5981037">{</span><span class="ident" id="5981038"><a href="/gostd/go/parser/parser.go.html#5980933">ident</a></span><span class="op" id="5981043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981047">scope</span>&nbsp;<span class="op" id="5981053">:=</span>&nbsp;<span class="ident" id="5981056"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981059">.</span><span class="ident" id="5981060"><a href="/gostd/go/ast/scope.go.html#3863557">NewScope</a></span><span class="op" id="5981068">(</span><span class="builtintype" id="5981069">nil</span><span class="op" id="5981072">)</span>&nbsp;<span class="comment" id="5981074">//&nbsp;method&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981092">params</span><span class="op" id="5981098">,</span>&nbsp;<span class="ident" id="5981100">results</span>&nbsp;<span class="op" id="5981108">:=</span>&nbsp;<span class="ident" id="5981111"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5981112">.</span><span class="ident" id="5981113"><a href="/gostd/go/parser/parser.go.html#5980200">parseSignature</a></span><span class="op" id="5981127">(</span><span class="ident" id="5981128"><a href="/gostd/go/parser/parser.go.html#5981047">scope</a></span><span class="op" id="5981133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981137"><a href="/gostd/go/parser/parser.go.html#5980892">typ</a></span>&nbsp;<span class="op" id="5981141">=</span>&nbsp;<span class="op" id="5981143">&amp;</span><span class="ident" id="5981144"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981147">.</span><span class="ident" id="5981148"><a href="/gostd/go/ast/ast.go.html#3804768">FuncType</a></span><span class="op" id="5981156">{</span><span class="ident" id="5981157"><a href="/gostd/go/ast/ast.go.html#3804788">Func</a></span><span class="op" id="5981161">:</span>&nbsp;<span class="ident" id="5981163"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5981168">.</span><span class="ident" id="5981169"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="5981174">,</span>&nbsp;<span class="ident" id="5981176"><a href="/gostd/go/ast/ast.go.html#3804875">Params</a></span><span class="op" id="5981182">:</span>&nbsp;<span class="ident" id="5981184"><a href="/gostd/go/parser/parser.go.html#5981092">params</a></span><span class="op" id="5981190">,</span>&nbsp;<span class="ident" id="5981192"><a href="/gostd/go/ast/ast.go.html#3804930">Results</a></span><span class="op" id="5981199">:</span>&nbsp;<span class="ident" id="5981201"><a href="/gostd/go/parser/parser.go.html#5981100">results</a></span><span class="op" id="5981208">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5981211">}</span>&nbsp;<span class="keyword" id="5981213">else</span>&nbsp;<span class="op" id="5981218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5981222">//&nbsp;embedded&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981246"><a href="/gostd/go/parser/parser.go.html#5980892">typ</a></span>&nbsp;<span class="op" id="5981250">=</span>&nbsp;<span class="ident" id="5981252"><a href="/gostd/go/parser/parser.go.html#5980906">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981256"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5981257">.</span><span class="ident" id="5981258"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5981265">(</span><span class="ident" id="5981266"><a href="/gostd/go/parser/parser.go.html#5980892">typ</a></span><span class="op" id="5981269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5981272">}</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981275"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5981276">.</span><span class="ident" id="5981277"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="5981287">(</span><span class="op" id="5981288">)</span>&nbsp;<span class="comment" id="5981290">//&nbsp;call&nbsp;before&nbsp;accessing&nbsp;p.linecomment</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981331">spec</span>&nbsp;<span class="op" id="5981336">:=</span>&nbsp;<span class="op" id="5981339">&amp;</span><span class="ident" id="5981340"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981343">.</span><span class="ident" id="5981344"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><span class="op" id="5981349">{</span><span class="ident" id="5981350"><a href="/gostd/go/ast/ast.go.html#3798274">Doc</a></span><span class="op" id="5981353">:</span>&nbsp;<span class="ident" id="5981355"><a href="/gostd/go/parser/parser.go.html#5980841">doc</a></span><span class="op" id="5981358">,</span>&nbsp;<span class="ident" id="5981360"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="5981365">:</span>&nbsp;<span class="ident" id="5981367"><a href="/gostd/go/parser/parser.go.html#5980867">idents</a></span><span class="op" id="5981373">,</span>&nbsp;<span class="ident" id="5981375"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="5981379">:</span>&nbsp;<span class="ident" id="5981381"><a href="/gostd/go/parser/parser.go.html#5980892">typ</a></span><span class="op" id="5981384">,</span>&nbsp;<span class="ident" id="5981386"><a href="/gostd/go/ast/ast.go.html#3798513">Comment</a></span><span class="op" id="5981393">:</span>&nbsp;<span class="ident" id="5981395"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5981396">.</span><span class="ident" id="5981397"><a href="/gostd/go/parser/parser.go.html#5957214">lineComment</a></span><span class="op" id="5981408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981411"><a href="/gostd/go/parser/parser.go.html#5980729">p</a></span><span class="op" id="5981412">.</span><span class="ident" id="5981413"><a href="/gostd/go/parser/parser.go.html#5959540">declare</a></span><span class="op" id="5981420">(</span><span class="ident" id="5981421"><a href="/gostd/go/parser/parser.go.html#5981331">spec</a></span><span class="op" id="5981425">,</span>&nbsp;<span class="builtintype" id="5981427">nil</span><span class="op" id="5981430">,</span>&nbsp;<span class="ident" id="5981432"><a href="/gostd/go/parser/parser.go.html#5980756">scope</a></span><span class="op" id="5981437">,</span>&nbsp;<span class="ident" id="5981439"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981442">.</span><span class="ident" id="5981443"><a href="/gostd/go/ast/scope.go.html#3866879">Fun</a></span><span class="op" id="5981446">,</span>&nbsp;<span class="ident" id="5981448"><a href="/gostd/go/parser/parser.go.html#5980867">idents</a></span><span class="op" id="5981454">...</span><span class="op" id="5981457">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5981461">return</span>&nbsp;<span class="ident" id="5981468"><a href="/gostd/go/parser/parser.go.html#5981331">spec</a></span><br>
<span class="lineno"></span><span class="op" id="5981473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5981476">func</span>&nbsp;<span class="op" id="5981481">(</span><span class="ident" id="5981482">p</span>&nbsp;<span class="op" id="5981484">*</span><span class="ident" id="5981485"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5981491">)</span>&nbsp;<span class="ident" id="5981493">parseInterfaceType</span><span class="op" id="5981511">(</span><span class="op" id="5981512">)</span>&nbsp;<span class="op" id="5981514">*</span><span class="ident" id="5981515"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981518">.</span><span class="ident" id="5981519"><a href="/gostd/go/ast/ast.go.html#3805040">InterfaceType</a></span>&nbsp;<span class="op" id="5981533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5981536">if</span>&nbsp;<span class="ident" id="5981539"><a href="/gostd/go/parser/parser.go.html#5981482">p</a></span><span class="op" id="5981540">.</span><span class="ident" id="5981541"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5981547">{</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5981551">defer</span>&nbsp;<span class="ident" id="5981557"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5981559">(</span><span class="ident" id="5981560"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5981565">(</span><span class="ident" id="5981566"><a href="/gostd/go/parser/parser.go.html#5981482">p</a></span><span class="op" id="5981567">,</span>&nbsp;<span class="string" id="5981569">&#34;InterfaceType&#34;</span><span class="op" id="5981584">)</span><span class="op" id="5981585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5981588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981592">pos</span>&nbsp;<span class="op" id="5981596">:=</span>&nbsp;<span class="ident" id="5981599"><a href="/gostd/go/parser/parser.go.html#5981482">p</a></span><span class="op" id="5981600">.</span><span class="ident" id="5981601"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5981607">(</span><span class="ident" id="5981608"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5981613">.</span><span class="ident" id="5981614"><a href="/gostd/go/token/token.go.html#3890857">INTERFACE</a></span><span class="op" id="5981623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981626">lbrace</span>&nbsp;<span class="op" id="5981633">:=</span>&nbsp;<span class="ident" id="5981636"><a href="/gostd/go/parser/parser.go.html#5981482">p</a></span><span class="op" id="5981637">.</span><span class="ident" id="5981638"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5981644">(</span><span class="ident" id="5981645"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5981650">.</span><span class="ident" id="5981651"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5981657">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981660">scope</span>&nbsp;<span class="op" id="5981666">:=</span>&nbsp;<span class="ident" id="5981669"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981672">.</span><span class="ident" id="5981673"><a href="/gostd/go/ast/scope.go.html#3863557">NewScope</a></span><span class="op" id="5981681">(</span><span class="builtintype" id="5981682">nil</span><span class="op" id="5981685">)</span>&nbsp;<span class="comment" id="5981687">//&nbsp;interface&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5981707">var</span>&nbsp;<span class="ident" id="5981711">list</span>&nbsp;<span class="op" id="5981716">[</span><span class="op" id="5981717">]</span><span class="op" id="5981718">*</span><span class="ident" id="5981719"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981722">.</span><span class="ident" id="5981723"><a href="/gostd/go/ast/ast.go.html#3798258">Field</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5981730">for</span>&nbsp;<span class="ident" id="5981734"><a href="/gostd/go/parser/parser.go.html#5981482">p</a></span><span class="op" id="5981735">.</span><span class="ident" id="5981736"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5981740">==</span>&nbsp;<span class="ident" id="5981743"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5981748">.</span><span class="ident" id="5981749"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span>&nbsp;<span class="op" id="5981755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981759"><a href="/gostd/go/parser/parser.go.html#5981711">list</a></span>&nbsp;<span class="op" id="5981764">=</span>&nbsp;<span class="builtinfunc" id="5981766">append</span><span class="op" id="5981772">(</span><span class="ident" id="5981773"><a href="/gostd/go/parser/parser.go.html#5981711">list</a></span><span class="op" id="5981777">,</span>&nbsp;<span class="ident" id="5981779"><a href="/gostd/go/parser/parser.go.html#5981482">p</a></span><span class="op" id="5981780">.</span><span class="ident" id="5981781"><a href="/gostd/go/parser/parser.go.html#5980740">parseMethodSpec</a></span><span class="op" id="5981796">(</span><span class="ident" id="5981797"><a href="/gostd/go/parser/parser.go.html#5981660">scope</a></span><span class="op" id="5981802">)</span><span class="op" id="5981803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5981806">}</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981809">rbrace</span>&nbsp;<span class="op" id="5981816">:=</span>&nbsp;<span class="ident" id="5981819"><a href="/gostd/go/parser/parser.go.html#5981482">p</a></span><span class="op" id="5981820">.</span><span class="ident" id="5981821"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5981827">(</span><span class="ident" id="5981828"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5981833">.</span><span class="ident" id="5981834"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5981840">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5981844">return</span>&nbsp;<span class="op" id="5981851">&amp;</span><span class="ident" id="5981852"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981855">.</span><span class="ident" id="5981856"><a href="/gostd/go/ast/ast.go.html#3805040">InterfaceType</a></span><span class="op" id="5981869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981873"><a href="/gostd/go/ast/ast.go.html#3805065">Interface</a></span><span class="op" id="5981882">:</span>&nbsp;<span class="ident" id="5981884"><a href="/gostd/go/parser/parser.go.html#5981592">pos</a></span><span class="op" id="5981887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981891"><a href="/gostd/go/ast/ast.go.html#3805124">Methods</a></span><span class="op" id="5981898">:</span>&nbsp;<span class="op" id="5981900">&amp;</span><span class="ident" id="5981901"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5981904">.</span><span class="ident" id="5981905"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="5981914">{</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981919"><a href="/gostd/go/ast/ast.go.html#3798878">Opening</a></span><span class="op" id="5981926">:</span>&nbsp;<span class="ident" id="5981928"><a href="/gostd/go/parser/parser.go.html#5981626">lbrace</a></span><span class="op" id="5981934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981939"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="5981943">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981948"><a href="/gostd/go/parser/parser.go.html#5981711">list</a></span><span class="op" id="5981952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5981957"><a href="/gostd/go/ast/ast.go.html#3798987">Closing</a></span><span class="op" id="5981964">:</span>&nbsp;<span class="ident" id="5981966"><a href="/gostd/go/parser/parser.go.html#5981809">rbrace</a></span><span class="op" id="5981972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5981976">}</span><span class="op" id="5981977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5981980">}</span><br>
<span class="lineno">965</span><span class="op" id="5981982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5981985">func</span>&nbsp;<span class="op" id="5981990">(</span><span class="ident" id="5981991">p</span>&nbsp;<span class="op" id="5981993">*</span><span class="ident" id="5981994"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5982000">)</span>&nbsp;<span class="ident" id="5982002">parseMapType</span><span class="op" id="5982014">(</span><span class="op" id="5982015">)</span>&nbsp;<span class="op" id="5982017">*</span><span class="ident" id="5982018"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5982021">.</span><span class="ident" id="5982022"><a href="/gostd/go/ast/ast.go.html#3805296">MapType</a></span>&nbsp;<span class="op" id="5982030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982033">if</span>&nbsp;<span class="ident" id="5982036"><a href="/gostd/go/parser/parser.go.html#5981991">p</a></span><span class="op" id="5982037">.</span><span class="ident" id="5982038"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5982044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982048">defer</span>&nbsp;<span class="ident" id="5982054"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5982056">(</span><span class="ident" id="5982057"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5982062">(</span><span class="ident" id="5982063"><a href="/gostd/go/parser/parser.go.html#5981991">p</a></span><span class="op" id="5982064">,</span>&nbsp;<span class="string" id="5982066">&#34;MapType&#34;</span><span class="op" id="5982075">)</span><span class="op" id="5982076">)</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5982079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982083">pos</span>&nbsp;<span class="op" id="5982087">:=</span>&nbsp;<span class="ident" id="5982090"><a href="/gostd/go/parser/parser.go.html#5981991">p</a></span><span class="op" id="5982091">.</span><span class="ident" id="5982092"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5982098">(</span><span class="ident" id="5982099"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982104">.</span><span class="ident" id="5982105"><a href="/gostd/go/token/token.go.html#3890868">MAP</a></span><span class="op" id="5982108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982111"><a href="/gostd/go/parser/parser.go.html#5981991">p</a></span><span class="op" id="5982112">.</span><span class="ident" id="5982113"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5982119">(</span><span class="ident" id="5982120"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982125">.</span><span class="ident" id="5982126"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="5982132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982135">key</span>&nbsp;<span class="op" id="5982139">:=</span>&nbsp;<span class="ident" id="5982142"><a href="/gostd/go/parser/parser.go.html#5981991">p</a></span><span class="op" id="5982143">.</span><span class="ident" id="5982144"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="5982153">(</span><span class="op" id="5982154">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982157"><a href="/gostd/go/parser/parser.go.html#5981991">p</a></span><span class="op" id="5982158">.</span><span class="ident" id="5982159"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5982165">(</span><span class="ident" id="5982166"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982171">.</span><span class="ident" id="5982172"><a href="/gostd/go/token/token.go.html#3890645">RBRACK</a></span><span class="op" id="5982178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982181">value</span>&nbsp;<span class="op" id="5982187">:=</span>&nbsp;<span class="ident" id="5982190"><a href="/gostd/go/parser/parser.go.html#5981991">p</a></span><span class="op" id="5982191">.</span><span class="ident" id="5982192"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="5982201">(</span><span class="op" id="5982202">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982206">return</span>&nbsp;<span class="op" id="5982213">&amp;</span><span class="ident" id="5982214"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5982217">.</span><span class="ident" id="5982218"><a href="/gostd/go/ast/ast.go.html#3805296">MapType</a></span><span class="op" id="5982225">{</span><span class="ident" id="5982226"><a href="/gostd/go/ast/ast.go.html#3805315">Map</a></span><span class="op" id="5982229">:</span>&nbsp;<span class="ident" id="5982231"><a href="/gostd/go/parser/parser.go.html#5982083">pos</a></span><span class="op" id="5982234">,</span>&nbsp;<span class="ident" id="5982236"><a href="/gostd/go/ast/ast.go.html#3805362">Key</a></span><span class="op" id="5982239">:</span>&nbsp;<span class="ident" id="5982241"><a href="/gostd/go/parser/parser.go.html#5982135">key</a></span><span class="op" id="5982244">,</span>&nbsp;<span class="ident" id="5982246"><a href="/gostd/go/ast/ast.go.html#3805375">Value</a></span><span class="op" id="5982251">:</span>&nbsp;<span class="ident" id="5982253"><a href="/gostd/go/parser/parser.go.html#5982181">value</a></span><span class="op" id="5982258">}</span><br>
<span class="lineno"></span><span class="op" id="5982260">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="5982263">func</span>&nbsp;<span class="op" id="5982268">(</span><span class="ident" id="5982269">p</span>&nbsp;<span class="op" id="5982271">*</span><span class="ident" id="5982272"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5982278">)</span>&nbsp;<span class="ident" id="5982280">parseChanType</span><span class="op" id="5982293">(</span><span class="op" id="5982294">)</span>&nbsp;<span class="op" id="5982296">*</span><span class="ident" id="5982297"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5982300">.</span><span class="ident" id="5982301"><a href="/gostd/go/ast/ast.go.html#3805438">ChanType</a></span>&nbsp;<span class="op" id="5982310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982313">if</span>&nbsp;<span class="ident" id="5982316"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982317">.</span><span class="ident" id="5982318"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5982324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982328">defer</span>&nbsp;<span class="ident" id="5982334"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5982336">(</span><span class="ident" id="5982337"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5982342">(</span><span class="ident" id="5982343"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982344">,</span>&nbsp;<span class="string" id="5982346">&#34;ChanType&#34;</span><span class="op" id="5982356">)</span><span class="op" id="5982357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5982360">}</span><br>
<span class="lineno">985</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982364">pos</span>&nbsp;<span class="op" id="5982368">:=</span>&nbsp;<span class="ident" id="5982371"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982372">.</span><span class="ident" id="5982373"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982378">dir</span>&nbsp;<span class="op" id="5982382">:=</span>&nbsp;<span class="ident" id="5982385"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5982388">.</span><span class="ident" id="5982389"><a href="/gostd/go/ast/ast.go.html#3804005">SEND</a></span>&nbsp;<span class="op" id="5982394">|</span>&nbsp;<span class="ident" id="5982396"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5982399">.</span><span class="ident" id="5982400"><a href="/gostd/go/ast/ast.go.html#3804031">RECV</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982406">var</span>&nbsp;<span class="ident" id="5982410">arrow</span>&nbsp;<span class="ident" id="5982416"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982421">.</span><span class="ident" id="5982422"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982427">if</span>&nbsp;<span class="ident" id="5982430"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982431">.</span><span class="ident" id="5982432"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5982436">==</span>&nbsp;<span class="ident" id="5982439"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982444">.</span><span class="ident" id="5982445"><a href="/gostd/go/token/token.go.html#3890763">CHAN</a></span>&nbsp;<span class="op" id="5982450">{</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982454"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982455">.</span><span class="ident" id="5982456"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5982460">(</span><span class="op" id="5982461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982465">if</span>&nbsp;<span class="ident" id="5982468"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982469">.</span><span class="ident" id="5982470"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5982474">==</span>&nbsp;<span class="ident" id="5982477"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982482">.</span><span class="ident" id="5982483"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span>&nbsp;<span class="op" id="5982489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982494"><a href="/gostd/go/parser/parser.go.html#5982410">arrow</a></span>&nbsp;<span class="op" id="5982500">=</span>&nbsp;<span class="ident" id="5982502"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982503">.</span><span class="ident" id="5982504"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982511"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982512">.</span><span class="ident" id="5982513"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5982517">(</span><span class="op" id="5982518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982523"><a href="/gostd/go/parser/parser.go.html#5982378">dir</a></span>&nbsp;<span class="op" id="5982527">=</span>&nbsp;<span class="ident" id="5982529"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5982532">.</span><span class="ident" id="5982533"><a href="/gostd/go/ast/ast.go.html#3804005">SEND</a></span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5982540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5982543">}</span>&nbsp;<span class="keyword" id="5982545">else</span>&nbsp;<span class="op" id="5982550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982554"><a href="/gostd/go/parser/parser.go.html#5982410">arrow</a></span>&nbsp;<span class="op" id="5982560">=</span>&nbsp;<span class="ident" id="5982562"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982563">.</span><span class="ident" id="5982564"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5982570">(</span><span class="ident" id="5982571"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982576">.</span><span class="ident" id="5982577"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span><span class="op" id="5982582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982586"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982587">.</span><span class="ident" id="5982588"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5982594">(</span><span class="ident" id="5982595"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982600">.</span><span class="ident" id="5982601"><a href="/gostd/go/token/token.go.html#3890763">CHAN</a></span><span class="op" id="5982605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982609"><a href="/gostd/go/parser/parser.go.html#5982378">dir</a></span>&nbsp;<span class="op" id="5982613">=</span>&nbsp;<span class="ident" id="5982615"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5982618">.</span><span class="ident" id="5982619"><a href="/gostd/go/ast/ast.go.html#3804031">RECV</a></span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5982625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5982628">value</span>&nbsp;<span class="op" id="5982634">:=</span>&nbsp;<span class="ident" id="5982637"><a href="/gostd/go/parser/parser.go.html#5982269">p</a></span><span class="op" id="5982638">.</span><span class="ident" id="5982639"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="5982648">(</span><span class="op" id="5982649">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982653">return</span>&nbsp;<span class="op" id="5982660">&amp;</span><span class="ident" id="5982661"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5982664">.</span><span class="ident" id="5982665"><a href="/gostd/go/ast/ast.go.html#3805438">ChanType</a></span><span class="op" id="5982673">{</span><span class="ident" id="5982674"><a href="/gostd/go/ast/ast.go.html#3805458">Begin</a></span><span class="op" id="5982679">:</span>&nbsp;<span class="ident" id="5982681"><a href="/gostd/go/parser/parser.go.html#5982364">pos</a></span><span class="op" id="5982684">,</span>&nbsp;<span class="ident" id="5982686"><a href="/gostd/go/ast/ast.go.html#3805538">Arrow</a></span><span class="op" id="5982691">:</span>&nbsp;<span class="ident" id="5982693"><a href="/gostd/go/parser/parser.go.html#5982410">arrow</a></span><span class="op" id="5982698">,</span>&nbsp;<span class="ident" id="5982700"><a href="/gostd/go/ast/ast.go.html#3805610">Dir</a></span><span class="op" id="5982703">:</span>&nbsp;<span class="ident" id="5982705"><a href="/gostd/go/parser/parser.go.html#5982378">dir</a></span><span class="op" id="5982708">,</span>&nbsp;<span class="ident" id="5982710"><a href="/gostd/go/ast/ast.go.html#3805649">Value</a></span><span class="op" id="5982715">:</span>&nbsp;<span class="ident" id="5982717"><a href="/gostd/go/parser/parser.go.html#5982628">value</a></span><span class="op" id="5982722">}</span><br>
<span class="lineno"></span><span class="op" id="5982724">}</span><br>
<span class="lineno">1005</span><br>
<span class="lineno"></span><span class="comment" id="5982727">//&nbsp;If&nbsp;the&nbsp;result&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;it&nbsp;is&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno"></span><span class="keyword" id="5982782">func</span>&nbsp;<span class="op" id="5982787">(</span><span class="ident" id="5982788">p</span>&nbsp;<span class="op" id="5982790">*</span><span class="ident" id="5982791"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5982797">)</span>&nbsp;<span class="ident" id="5982799">tryIdentOrType</span><span class="op" id="5982813">(</span><span class="op" id="5982814">)</span>&nbsp;<span class="ident" id="5982816"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5982819">.</span><span class="ident" id="5982820"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5982825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982828">switch</span>&nbsp;<span class="ident" id="5982835"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5982836">.</span><span class="ident" id="5982837"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5982841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982844">case</span>&nbsp;<span class="ident" id="5982849"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982854">.</span><span class="ident" id="5982855"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span><span class="op" id="5982860">:</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982864">return</span>&nbsp;<span class="ident" id="5982871"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5982872">.</span><span class="ident" id="5982873"><a href="/gostd/go/parser/parser.go.html#5973492">parseTypeName</a></span><span class="op" id="5982886">(</span><span class="op" id="5982887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982890">case</span>&nbsp;<span class="ident" id="5982895"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982900">.</span><span class="ident" id="5982901"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="5982907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982911">return</span>&nbsp;<span class="ident" id="5982918"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5982919">.</span><span class="ident" id="5982920"><a href="/gostd/go/parser/parser.go.html#5973858">parseArrayType</a></span><span class="op" id="5982934">(</span><span class="op" id="5982935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982938">case</span>&nbsp;<span class="ident" id="5982943"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982948">.</span><span class="ident" id="5982949"><a href="/gostd/go/token/token.go.html#3890906">STRUCT</a></span><span class="op" id="5982955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982959">return</span>&nbsp;<span class="ident" id="5982966"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5982967">.</span><span class="ident" id="5982968"><a href="/gostd/go/parser/parser.go.html#5975724">parseStructType</a></span><span class="op" id="5982983">(</span><span class="op" id="5982984">)</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5982987">case</span>&nbsp;<span class="ident" id="5982992"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5982997">.</span><span class="ident" id="5982998"><a href="/gostd/go/token/token.go.html#3890002">MUL</a></span><span class="op" id="5983001">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983005">return</span>&nbsp;<span class="ident" id="5983012"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5983013">.</span><span class="ident" id="5983014"><a href="/gostd/go/parser/parser.go.html#5976442">parsePointerType</a></span><span class="op" id="5983030">(</span><span class="op" id="5983031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983034">case</span>&nbsp;<span class="ident" id="5983039"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983044">.</span><span class="ident" id="5983045"><a href="/gostd/go/token/token.go.html#3890828">FUNC</a></span><span class="op" id="5983049">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5983053">typ</span><span class="op" id="5983056">,</span>&nbsp;<span class="ident" id="5983058">_</span>&nbsp;<span class="op" id="5983060">:=</span>&nbsp;<span class="ident" id="5983063"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5983064">.</span><span class="ident" id="5983065"><a href="/gostd/go/parser/parser.go.html#5980422">parseFuncType</a></span><span class="op" id="5983078">(</span><span class="op" id="5983079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983083">return</span>&nbsp;<span class="ident" id="5983090"><a href="/gostd/go/parser/parser.go.html#5983053">typ</a></span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983095">case</span>&nbsp;<span class="ident" id="5983100"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983105">.</span><span class="ident" id="5983106"><a href="/gostd/go/token/token.go.html#3890857">INTERFACE</a></span><span class="op" id="5983115">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983119">return</span>&nbsp;<span class="ident" id="5983126"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5983127">.</span><span class="ident" id="5983128"><a href="/gostd/go/parser/parser.go.html#5981493">parseInterfaceType</a></span><span class="op" id="5983146">(</span><span class="op" id="5983147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983150">case</span>&nbsp;<span class="ident" id="5983155"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983160">.</span><span class="ident" id="5983161"><a href="/gostd/go/token/token.go.html#3890868">MAP</a></span><span class="op" id="5983164">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983168">return</span>&nbsp;<span class="ident" id="5983175"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5983176">.</span><span class="ident" id="5983177"><a href="/gostd/go/parser/parser.go.html#5982002">parseMapType</a></span><span class="op" id="5983189">(</span><span class="op" id="5983190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983193">case</span>&nbsp;<span class="ident" id="5983198"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983203">.</span><span class="ident" id="5983204"><a href="/gostd/go/token/token.go.html#3890763">CHAN</a></span><span class="op" id="5983208">,</span>&nbsp;<span class="ident" id="5983210"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983215">.</span><span class="ident" id="5983216"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span><span class="op" id="5983221">:</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983225">return</span>&nbsp;<span class="ident" id="5983232"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5983233">.</span><span class="ident" id="5983234"><a href="/gostd/go/parser/parser.go.html#5982280">parseChanType</a></span><span class="op" id="5983247">(</span><span class="op" id="5983248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983251">case</span>&nbsp;<span class="ident" id="5983256"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983261">.</span><span class="ident" id="5983262"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5983268">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5983272">lparen</span>&nbsp;<span class="op" id="5983279">:=</span>&nbsp;<span class="ident" id="5983282"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5983283">.</span><span class="ident" id="5983284"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5983290"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5983291">.</span><span class="ident" id="5983292"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5983296">(</span><span class="op" id="5983297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5983301">typ</span>&nbsp;<span class="op" id="5983305">:=</span>&nbsp;<span class="ident" id="5983308"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5983309">.</span><span class="ident" id="5983310"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="5983319">(</span><span class="op" id="5983320">)</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5983324">rparen</span>&nbsp;<span class="op" id="5983331">:=</span>&nbsp;<span class="ident" id="5983334"><a href="/gostd/go/parser/parser.go.html#5982788">p</a></span><span class="op" id="5983335">.</span><span class="ident" id="5983336"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5983342">(</span><span class="ident" id="5983343"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983348">.</span><span class="ident" id="5983349"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5983355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983359">return</span>&nbsp;<span class="op" id="5983366">&amp;</span><span class="ident" id="5983367"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5983370">.</span><span class="ident" id="5983371"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5983380">{</span><span class="ident" id="5983381"><a href="/gostd/go/ast/ast.go.html#3801442">Lparen</a></span><span class="op" id="5983387">:</span>&nbsp;<span class="ident" id="5983389"><a href="/gostd/go/parser/parser.go.html#5983272">lparen</a></span><span class="op" id="5983395">,</span>&nbsp;<span class="ident" id="5983397"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="5983398">:</span>&nbsp;<span class="ident" id="5983400"><a href="/gostd/go/parser/parser.go.html#5983301">typ</a></span><span class="op" id="5983403">,</span>&nbsp;<span class="ident" id="5983405"><a href="/gostd/go/ast/ast.go.html#3801527">Rparen</a></span><span class="op" id="5983411">:</span>&nbsp;<span class="ident" id="5983413"><a href="/gostd/go/parser/parser.go.html#5983324">rparen</a></span><span class="op" id="5983419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5983422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5983426">//&nbsp;no&nbsp;type&nbsp;found</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983444">return</span>&nbsp;<span class="builtintype" id="5983451">nil</span><br>
<span class="lineno"></span><span class="op" id="5983455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5983458">func</span>&nbsp;<span class="op" id="5983463">(</span><span class="ident" id="5983464">p</span>&nbsp;<span class="op" id="5983466">*</span><span class="ident" id="5983467"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5983473">)</span>&nbsp;<span class="ident" id="5983475">tryType</span><span class="op" id="5983482">(</span><span class="op" id="5983483">)</span>&nbsp;<span class="ident" id="5983485"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5983488">.</span><span class="ident" id="5983489"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5983494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5983497">typ</span>&nbsp;<span class="op" id="5983501">:=</span>&nbsp;<span class="ident" id="5983504"><a href="/gostd/go/parser/parser.go.html#5983464">p</a></span><span class="op" id="5983505">.</span><span class="ident" id="5983506"><a href="/gostd/go/parser/parser.go.html#5982799">tryIdentOrType</a></span><span class="op" id="5983520">(</span><span class="op" id="5983521">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983524">if</span>&nbsp;<span class="ident" id="5983527"><a href="/gostd/go/parser/parser.go.html#5983497">typ</a></span>&nbsp;<span class="op" id="5983531">!=</span>&nbsp;<span class="builtintype" id="5983534">nil</span>&nbsp;<span class="op" id="5983538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5983542"><a href="/gostd/go/parser/parser.go.html#5983464">p</a></span><span class="op" id="5983543">.</span><span class="ident" id="5983544"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5983551">(</span><span class="ident" id="5983552"><a href="/gostd/go/parser/parser.go.html#5983497">typ</a></span><span class="op" id="5983555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5983558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983561">return</span>&nbsp;<span class="ident" id="5983568"><a href="/gostd/go/parser/parser.go.html#5983497">typ</a></span><br>
<span class="lineno"></span><span class="op" id="5983572">}</span><br>
<span class="lineno">1045</span><br>
<span class="lineno"></span><span class="comment" id="5983575">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5983655">//&nbsp;Blocks</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5983666">func</span>&nbsp;<span class="op" id="5983671">(</span><span class="ident" id="5983672">p</span>&nbsp;<span class="op" id="5983674">*</span><span class="ident" id="5983675"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5983681">)</span>&nbsp;<span class="ident" id="5983683">parseStmtList</span><span class="op" id="5983696">(</span><span class="op" id="5983697">)</span>&nbsp;<span class="op" id="5983699">(</span><span class="ident" id="5983700">list</span>&nbsp;<span class="op" id="5983705">[</span><span class="op" id="5983706">]</span><span class="ident" id="5983707"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5983710">.</span><span class="ident" id="5983711"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><span class="op" id="5983715">)</span>&nbsp;<span class="op" id="5983717">{</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983720">if</span>&nbsp;<span class="ident" id="5983723"><a href="/gostd/go/parser/parser.go.html#5983672">p</a></span><span class="op" id="5983724">.</span><span class="ident" id="5983725"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5983731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983735">defer</span>&nbsp;<span class="ident" id="5983741"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5983743">(</span><span class="ident" id="5983744"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5983749">(</span><span class="ident" id="5983750"><a href="/gostd/go/parser/parser.go.html#5983672">p</a></span><span class="op" id="5983751">,</span>&nbsp;<span class="string" id="5983753">&#34;StatementList&#34;</span><span class="op" id="5983768">)</span><span class="op" id="5983769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5983772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983776">for</span>&nbsp;<span class="ident" id="5983780"><a href="/gostd/go/parser/parser.go.html#5983672">p</a></span><span class="op" id="5983781">.</span><span class="ident" id="5983782"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5983786">!=</span>&nbsp;<span class="ident" id="5983789"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983794">.</span><span class="ident" id="5983795"><a href="/gostd/go/token/token.go.html#3890757">CASE</a></span>&nbsp;<span class="op" id="5983800">&amp;&amp;</span>&nbsp;<span class="ident" id="5983803"><a href="/gostd/go/parser/parser.go.html#5983672">p</a></span><span class="op" id="5983804">.</span><span class="ident" id="5983805"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5983809">!=</span>&nbsp;<span class="ident" id="5983812"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983817">.</span><span class="ident" id="5983818"><a href="/gostd/go/token/token.go.html#3890787">DEFAULT</a></span>&nbsp;<span class="op" id="5983826">&amp;&amp;</span>&nbsp;<span class="ident" id="5983829"><a href="/gostd/go/parser/parser.go.html#5983672">p</a></span><span class="op" id="5983830">.</span><span class="ident" id="5983831"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5983835">!=</span>&nbsp;<span class="ident" id="5983838"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983843">.</span><span class="ident" id="5983844"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span>&nbsp;<span class="op" id="5983851">&amp;&amp;</span>&nbsp;<span class="ident" id="5983854"><a href="/gostd/go/parser/parser.go.html#5983672">p</a></span><span class="op" id="5983855">.</span><span class="ident" id="5983856"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5983860">!=</span>&nbsp;<span class="ident" id="5983863"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5983868">.</span><span class="ident" id="5983869"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span>&nbsp;<span class="op" id="5983873">{</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5983877"><a href="/gostd/go/parser/parser.go.html#5983700">list</a></span>&nbsp;<span class="op" id="5983882">=</span>&nbsp;<span class="builtinfunc" id="5983884">append</span><span class="op" id="5983890">(</span><span class="ident" id="5983891"><a href="/gostd/go/parser/parser.go.html#5983700">list</a></span><span class="op" id="5983895">,</span>&nbsp;<span class="ident" id="5983897"><a href="/gostd/go/parser/parser.go.html#5983672">p</a></span><span class="op" id="5983898">.</span><span class="ident" id="5983899"><a href="/gostd/go/parser/parser.go.html#6009885">parseStmt</a></span><span class="op" id="5983908">(</span><span class="op" id="5983909">)</span><span class="op" id="5983910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5983913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983917">return</span><br>
<span class="lineno"></span><span class="op" id="5983924">}</span><br>
<span class="lineno">1060</span><br>
<span class="lineno"></span><span class="keyword" id="5983927">func</span>&nbsp;<span class="op" id="5983932">(</span><span class="ident" id="5983933">p</span>&nbsp;<span class="op" id="5983935">*</span><span class="ident" id="5983936"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5983942">)</span>&nbsp;<span class="ident" id="5983944">parseBody</span><span class="op" id="5983953">(</span><span class="ident" id="5983954">scope</span>&nbsp;<span class="op" id="5983960">*</span><span class="ident" id="5983961"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5983964">.</span><span class="ident" id="5983965"><a href="/gostd/go/ast/scope.go.html#3863431">Scope</a></span><span class="op" id="5983970">)</span>&nbsp;<span class="op" id="5983972">*</span><span class="ident" id="5983973"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5983976">.</span><span class="ident" id="5983977"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span>&nbsp;<span class="op" id="5983987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5983990">if</span>&nbsp;<span class="ident" id="5983993"><a href="/gostd/go/parser/parser.go.html#5983933">p</a></span><span class="op" id="5983994">.</span><span class="ident" id="5983995"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5984001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984005">defer</span>&nbsp;<span class="ident" id="5984011"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5984013">(</span><span class="ident" id="5984014"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5984019">(</span><span class="ident" id="5984020"><a href="/gostd/go/parser/parser.go.html#5983933">p</a></span><span class="op" id="5984021">,</span>&nbsp;<span class="string" id="5984023">&#34;Body&#34;</span><span class="op" id="5984029">)</span><span class="op" id="5984030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5984033">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984037">lbrace</span>&nbsp;<span class="op" id="5984044">:=</span>&nbsp;<span class="ident" id="5984047"><a href="/gostd/go/parser/parser.go.html#5983933">p</a></span><span class="op" id="5984048">.</span><span class="ident" id="5984049"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5984055">(</span><span class="ident" id="5984056"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5984061">.</span><span class="ident" id="5984062"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5984068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984071"><a href="/gostd/go/parser/parser.go.html#5983933">p</a></span><span class="op" id="5984072">.</span><span class="ident" id="5984073"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span>&nbsp;<span class="op" id="5984082">=</span>&nbsp;<span class="ident" id="5984084"><a href="/gostd/go/parser/parser.go.html#5983954">scope</a></span>&nbsp;<span class="comment" id="5984090">//&nbsp;open&nbsp;function&nbsp;scope</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984114"><a href="/gostd/go/parser/parser.go.html#5983933">p</a></span><span class="op" id="5984115">.</span><span class="ident" id="5984116"><a href="/gostd/go/parser/parser.go.html#5958996">openLabelScope</a></span><span class="op" id="5984130">(</span><span class="op" id="5984131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984134">list</span>&nbsp;<span class="op" id="5984139">:=</span>&nbsp;<span class="ident" id="5984142"><a href="/gostd/go/parser/parser.go.html#5983933">p</a></span><span class="op" id="5984143">.</span><span class="ident" id="5984144"><a href="/gostd/go/parser/parser.go.html#5983683">parseStmtList</a></span><span class="op" id="5984157">(</span><span class="op" id="5984158">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984161"><a href="/gostd/go/parser/parser.go.html#5983933">p</a></span><span class="op" id="5984162">.</span><span class="ident" id="5984163"><a href="/gostd/go/parser/parser.go.html#5959122">closeLabelScope</a></span><span class="op" id="5984178">(</span><span class="op" id="5984179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984182"><a href="/gostd/go/parser/parser.go.html#5983933">p</a></span><span class="op" id="5984183">.</span><span class="ident" id="5984184"><a href="/gostd/go/parser/parser.go.html#5958930">closeScope</a></span><span class="op" id="5984194">(</span><span class="op" id="5984195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984198">rbrace</span>&nbsp;<span class="op" id="5984205">:=</span>&nbsp;<span class="ident" id="5984208"><a href="/gostd/go/parser/parser.go.html#5983933">p</a></span><span class="op" id="5984209">.</span><span class="ident" id="5984210"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5984216">(</span><span class="ident" id="5984217"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5984222">.</span><span class="ident" id="5984223"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5984229">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984233">return</span>&nbsp;<span class="op" id="5984240">&amp;</span><span class="ident" id="5984241"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5984244">.</span><span class="ident" id="5984245"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><span class="op" id="5984254">{</span><span class="ident" id="5984255"><a href="/gostd/go/ast/ast.go.html#3812982">Lbrace</a></span><span class="op" id="5984261">:</span>&nbsp;<span class="ident" id="5984263"><a href="/gostd/go/parser/parser.go.html#5984037">lbrace</a></span><span class="op" id="5984269">,</span>&nbsp;<span class="ident" id="5984271"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span><span class="op" id="5984275">:</span>&nbsp;<span class="ident" id="5984277"><a href="/gostd/go/parser/parser.go.html#5984134">list</a></span><span class="op" id="5984281">,</span>&nbsp;<span class="ident" id="5984283"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><span class="op" id="5984289">:</span>&nbsp;<span class="ident" id="5984291"><a href="/gostd/go/parser/parser.go.html#5984198">rbrace</a></span><span class="op" id="5984297">}</span><br>
<span class="lineno">1075</span><span class="op" id="5984299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5984302">func</span>&nbsp;<span class="op" id="5984307">(</span><span class="ident" id="5984308">p</span>&nbsp;<span class="op" id="5984310">*</span><span class="ident" id="5984311"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5984317">)</span>&nbsp;<span class="ident" id="5984319">parseBlockStmt</span><span class="op" id="5984333">(</span><span class="op" id="5984334">)</span>&nbsp;<span class="op" id="5984336">*</span><span class="ident" id="5984337"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5984340">.</span><span class="ident" id="5984341"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span>&nbsp;<span class="op" id="5984351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984354">if</span>&nbsp;<span class="ident" id="5984357"><a href="/gostd/go/parser/parser.go.html#5984308">p</a></span><span class="op" id="5984358">.</span><span class="ident" id="5984359"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5984365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984369">defer</span>&nbsp;<span class="ident" id="5984375"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5984377">(</span><span class="ident" id="5984378"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5984383">(</span><span class="ident" id="5984384"><a href="/gostd/go/parser/parser.go.html#5984308">p</a></span><span class="op" id="5984385">,</span>&nbsp;<span class="string" id="5984387">&#34;BlockStmt&#34;</span><span class="op" id="5984398">)</span><span class="op" id="5984399">)</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5984402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984406">lbrace</span>&nbsp;<span class="op" id="5984413">:=</span>&nbsp;<span class="ident" id="5984416"><a href="/gostd/go/parser/parser.go.html#5984308">p</a></span><span class="op" id="5984417">.</span><span class="ident" id="5984418"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5984424">(</span><span class="ident" id="5984425"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5984430">.</span><span class="ident" id="5984431"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5984437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984440"><a href="/gostd/go/parser/parser.go.html#5984308">p</a></span><span class="op" id="5984441">.</span><span class="ident" id="5984442"><a href="/gostd/go/parser/parser.go.html#5958857">openScope</a></span><span class="op" id="5984451">(</span><span class="op" id="5984452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984455">list</span>&nbsp;<span class="op" id="5984460">:=</span>&nbsp;<span class="ident" id="5984463"><a href="/gostd/go/parser/parser.go.html#5984308">p</a></span><span class="op" id="5984464">.</span><span class="ident" id="5984465"><a href="/gostd/go/parser/parser.go.html#5983683">parseStmtList</a></span><span class="op" id="5984478">(</span><span class="op" id="5984479">)</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984482"><a href="/gostd/go/parser/parser.go.html#5984308">p</a></span><span class="op" id="5984483">.</span><span class="ident" id="5984484"><a href="/gostd/go/parser/parser.go.html#5958930">closeScope</a></span><span class="op" id="5984494">(</span><span class="op" id="5984495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984498">rbrace</span>&nbsp;<span class="op" id="5984505">:=</span>&nbsp;<span class="ident" id="5984508"><a href="/gostd/go/parser/parser.go.html#5984308">p</a></span><span class="op" id="5984509">.</span><span class="ident" id="5984510"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5984516">(</span><span class="ident" id="5984517"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5984522">.</span><span class="ident" id="5984523"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5984529">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984533">return</span>&nbsp;<span class="op" id="5984540">&amp;</span><span class="ident" id="5984541"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5984544">.</span><span class="ident" id="5984545"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><span class="op" id="5984554">{</span><span class="ident" id="5984555"><a href="/gostd/go/ast/ast.go.html#3812982">Lbrace</a></span><span class="op" id="5984561">:</span>&nbsp;<span class="ident" id="5984563"><a href="/gostd/go/parser/parser.go.html#5984406">lbrace</a></span><span class="op" id="5984569">,</span>&nbsp;<span class="ident" id="5984571"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span><span class="op" id="5984575">:</span>&nbsp;<span class="ident" id="5984577"><a href="/gostd/go/parser/parser.go.html#5984455">list</a></span><span class="op" id="5984581">,</span>&nbsp;<span class="ident" id="5984583"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><span class="op" id="5984589">:</span>&nbsp;<span class="ident" id="5984591"><a href="/gostd/go/parser/parser.go.html#5984498">rbrace</a></span><span class="op" id="5984597">}</span><br>
<span class="lineno"></span><span class="op" id="5984599">}</span><br>
<span class="lineno">1090</span><br>
<span class="lineno"></span><span class="comment" id="5984602">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5984682">//&nbsp;Expressions</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5984698">func</span>&nbsp;<span class="op" id="5984703">(</span><span class="ident" id="5984704">p</span>&nbsp;<span class="op" id="5984706">*</span><span class="ident" id="5984707"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5984713">)</span>&nbsp;<span class="ident" id="5984715">parseFuncTypeOrLit</span><span class="op" id="5984733">(</span><span class="op" id="5984734">)</span>&nbsp;<span class="ident" id="5984736"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5984739">.</span><span class="ident" id="5984740"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5984745">{</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984748">if</span>&nbsp;<span class="ident" id="5984751"><a href="/gostd/go/parser/parser.go.html#5984704">p</a></span><span class="op" id="5984752">.</span><span class="ident" id="5984753"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5984759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984763">defer</span>&nbsp;<span class="ident" id="5984769"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5984771">(</span><span class="ident" id="5984772"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5984777">(</span><span class="ident" id="5984778"><a href="/gostd/go/parser/parser.go.html#5984704">p</a></span><span class="op" id="5984779">,</span>&nbsp;<span class="string" id="5984781">&#34;FuncTypeOrLit&#34;</span><span class="op" id="5984796">)</span><span class="op" id="5984797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5984800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984804">typ</span><span class="op" id="5984807">,</span>&nbsp;<span class="ident" id="5984809">scope</span>&nbsp;<span class="op" id="5984815">:=</span>&nbsp;<span class="ident" id="5984818"><a href="/gostd/go/parser/parser.go.html#5984704">p</a></span><span class="op" id="5984819">.</span><span class="ident" id="5984820"><a href="/gostd/go/parser/parser.go.html#5980422">parseFuncType</a></span><span class="op" id="5984833">(</span><span class="op" id="5984834">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984837">if</span>&nbsp;<span class="ident" id="5984840"><a href="/gostd/go/parser/parser.go.html#5984704">p</a></span><span class="op" id="5984841">.</span><span class="ident" id="5984842"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5984846">!=</span>&nbsp;<span class="ident" id="5984849"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5984854">.</span><span class="ident" id="5984855"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span>&nbsp;<span class="op" id="5984862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5984866">//&nbsp;function&nbsp;type&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984890">return</span>&nbsp;<span class="ident" id="5984897"><a href="/gostd/go/parser/parser.go.html#5984804">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5984902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984906"><a href="/gostd/go/parser/parser.go.html#5984704">p</a></span><span class="op" id="5984907">.</span><span class="ident" id="5984908"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5984915">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984919">body</span>&nbsp;<span class="op" id="5984924">:=</span>&nbsp;<span class="ident" id="5984927"><a href="/gostd/go/parser/parser.go.html#5984704">p</a></span><span class="op" id="5984928">.</span><span class="ident" id="5984929"><a href="/gostd/go/parser/parser.go.html#5983944">parseBody</a></span><span class="op" id="5984938">(</span><span class="ident" id="5984939"><a href="/gostd/go/parser/parser.go.html#5984809">scope</a></span><span class="op" id="5984944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5984947"><a href="/gostd/go/parser/parser.go.html#5984704">p</a></span><span class="op" id="5984948">.</span><span class="ident" id="5984949"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5984956">--</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5984961">return</span>&nbsp;<span class="op" id="5984968">&amp;</span><span class="ident" id="5984969"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5984972">.</span><span class="ident" id="5984973"><a href="/gostd/go/ast/ast.go.html#3801010">FuncLit</a></span><span class="op" id="5984980">{</span><span class="ident" id="5984981"><a href="/gostd/go/ast/ast.go.html#3801029">Type</a></span><span class="op" id="5984985">:</span>&nbsp;<span class="ident" id="5984987"><a href="/gostd/go/parser/parser.go.html#5984804">typ</a></span><span class="op" id="5984990">,</span>&nbsp;<span class="ident" id="5984992"><a href="/gostd/go/ast/ast.go.html#3801064">Body</a></span><span class="op" id="5984996">:</span>&nbsp;<span class="ident" id="5984998"><a href="/gostd/go/parser/parser.go.html#5984919">body</a></span><span class="op" id="5985002">}</span><br>
<span class="lineno">1110</span><span class="op" id="5985004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5985007">//&nbsp;parseOperand&nbsp;may&nbsp;return&nbsp;an&nbsp;expression&nbsp;or&nbsp;a&nbsp;raw&nbsp;type&nbsp;(incl.&nbsp;array</span><br>
<span class="lineno"></span><span class="comment" id="5985075">//&nbsp;types&nbsp;of&nbsp;the&nbsp;form&nbsp;[...]T.&nbsp;Callers&nbsp;must&nbsp;verify&nbsp;the&nbsp;result.</span><br>
<span class="lineno"></span><span class="comment" id="5985136">//&nbsp;If&nbsp;lhs&nbsp;is&nbsp;set&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;it&nbsp;is&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno">1115</span><span class="comment" id="5985206">//</span><br>
<span class="lineno"></span><span class="keyword" id="5985209">func</span>&nbsp;<span class="op" id="5985214">(</span><span class="ident" id="5985215">p</span>&nbsp;<span class="op" id="5985217">*</span><span class="ident" id="5985218"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5985224">)</span>&nbsp;<span class="ident" id="5985226">parseOperand</span><span class="op" id="5985238">(</span><span class="ident" id="5985239">lhs</span>&nbsp;<span class="builtintype" id="5985243">bool</span><span class="op" id="5985247">)</span>&nbsp;<span class="ident" id="5985249"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5985252">.</span><span class="ident" id="5985253"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5985258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985261">if</span>&nbsp;<span class="ident" id="5985264"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985265">.</span><span class="ident" id="5985266"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5985272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985276">defer</span>&nbsp;<span class="ident" id="5985282"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5985284">(</span><span class="ident" id="5985285"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5985290">(</span><span class="ident" id="5985291"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985292">,</span>&nbsp;<span class="string" id="5985294">&#34;Operand&#34;</span><span class="op" id="5985303">)</span><span class="op" id="5985304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5985307">}</span><br>
<span class="lineno">1120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985311">switch</span>&nbsp;<span class="ident" id="5985318"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985319">.</span><span class="ident" id="5985320"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5985324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985327">case</span>&nbsp;<span class="ident" id="5985332"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5985337">.</span><span class="ident" id="5985338"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span><span class="op" id="5985343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985347">x</span>&nbsp;<span class="op" id="5985349">:=</span>&nbsp;<span class="ident" id="5985352"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985353">.</span><span class="ident" id="5985354"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="5985364">(</span><span class="op" id="5985365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985369">if</span>&nbsp;<span class="op" id="5985372">!</span><span class="ident" id="5985373"><a href="/gostd/go/parser/parser.go.html#5985239">lhs</a></span>&nbsp;<span class="op" id="5985377">{</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985382"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985383">.</span><span class="ident" id="5985384"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5985391">(</span><span class="ident" id="5985392"><a href="/gostd/go/parser/parser.go.html#5985347">x</a></span><span class="op" id="5985393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5985397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985401">return</span>&nbsp;<span class="ident" id="5985408"><a href="/gostd/go/parser/parser.go.html#5985347">x</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985412">case</span>&nbsp;<span class="ident" id="5985417"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5985422">.</span><span class="ident" id="5985423"><a href="/gostd/go/token/token.go.html#3889839">INT</a></span><span class="op" id="5985426">,</span>&nbsp;<span class="ident" id="5985428"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5985433">.</span><span class="ident" id="5985434"><a href="/gostd/go/token/token.go.html#3889856">FLOAT</a></span><span class="op" id="5985439">,</span>&nbsp;<span class="ident" id="5985441"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5985446">.</span><span class="ident" id="5985447"><a href="/gostd/go/token/token.go.html#3889874">IMAG</a></span><span class="op" id="5985451">,</span>&nbsp;<span class="ident" id="5985453"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5985458">.</span><span class="ident" id="5985459"><a href="/gostd/go/token/token.go.html#3889893">CHAR</a></span><span class="op" id="5985463">,</span>&nbsp;<span class="ident" id="5985465"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5985470">.</span><span class="ident" id="5985471"><a href="/gostd/go/token/token.go.html#3889908">STRING</a></span><span class="op" id="5985477">:</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985481">x</span>&nbsp;<span class="op" id="5985483">:=</span>&nbsp;<span class="op" id="5985486">&amp;</span><span class="ident" id="5985487"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5985490">.</span><span class="ident" id="5985491"><a href="/gostd/go/ast/ast.go.html#3800698">BasicLit</a></span><span class="op" id="5985499">{</span><span class="ident" id="5985500"><a href="/gostd/go/ast/ast.go.html#3800718">ValuePos</a></span><span class="op" id="5985508">:</span>&nbsp;<span class="ident" id="5985510"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985511">.</span><span class="ident" id="5985512"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5985515">,</span>&nbsp;<span class="ident" id="5985517"><a href="/gostd/go/ast/ast.go.html#3800761">Kind</a></span><span class="op" id="5985521">:</span>&nbsp;<span class="ident" id="5985523"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985524">.</span><span class="ident" id="5985525"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="5985528">,</span>&nbsp;<span class="ident" id="5985530"><a href="/gostd/go/ast/ast.go.html#3800851">Value</a></span><span class="op" id="5985535">:</span>&nbsp;<span class="ident" id="5985537"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985538">.</span><span class="ident" id="5985539"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><span class="op" id="5985542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985546"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985547">.</span><span class="ident" id="5985548"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5985552">(</span><span class="op" id="5985553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985557">return</span>&nbsp;<span class="ident" id="5985564"><a href="/gostd/go/parser/parser.go.html#5985481">x</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985568">case</span>&nbsp;<span class="ident" id="5985573"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5985578">.</span><span class="ident" id="5985579"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5985585">:</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985589">lparen</span>&nbsp;<span class="op" id="5985596">:=</span>&nbsp;<span class="ident" id="5985599"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985600">.</span><span class="ident" id="5985601"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985607"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985608">.</span><span class="ident" id="5985609"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5985613">(</span><span class="op" id="5985614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985618"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985619">.</span><span class="ident" id="5985620"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5985627">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985632">x</span>&nbsp;<span class="op" id="5985634">:=</span>&nbsp;<span class="ident" id="5985637"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985638">.</span><span class="ident" id="5985639"><a href="/gostd/go/parser/parser.go.html#5997735">parseRhsOrType</a></span><span class="op" id="5985653">(</span><span class="op" id="5985654">)</span>&nbsp;<span class="comment" id="5985656">//&nbsp;types&nbsp;may&nbsp;be&nbsp;parenthesized:&nbsp;(some&nbsp;type)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985701"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985702">.</span><span class="ident" id="5985703"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5985710">--</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985715">rparen</span>&nbsp;<span class="op" id="5985722">:=</span>&nbsp;<span class="ident" id="5985725"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985726">.</span><span class="ident" id="5985727"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5985733">(</span><span class="ident" id="5985734"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5985739">.</span><span class="ident" id="5985740"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5985746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985750">return</span>&nbsp;<span class="op" id="5985757">&amp;</span><span class="ident" id="5985758"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5985761">.</span><span class="ident" id="5985762"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5985771">{</span><span class="ident" id="5985772"><a href="/gostd/go/ast/ast.go.html#3801442">Lparen</a></span><span class="op" id="5985778">:</span>&nbsp;<span class="ident" id="5985780"><a href="/gostd/go/parser/parser.go.html#5985589">lparen</a></span><span class="op" id="5985786">,</span>&nbsp;<span class="ident" id="5985788"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="5985789">:</span>&nbsp;<span class="ident" id="5985791"><a href="/gostd/go/parser/parser.go.html#5985632">x</a></span><span class="op" id="5985792">,</span>&nbsp;<span class="ident" id="5985794"><a href="/gostd/go/ast/ast.go.html#3801527">Rparen</a></span><span class="op" id="5985800">:</span>&nbsp;<span class="ident" id="5985802"><a href="/gostd/go/parser/parser.go.html#5985715">rparen</a></span><span class="op" id="5985808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985812">case</span>&nbsp;<span class="ident" id="5985817"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5985822">.</span><span class="ident" id="5985823"><a href="/gostd/go/token/token.go.html#3890828">FUNC</a></span><span class="op" id="5985827">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985831">return</span>&nbsp;<span class="ident" id="5985838"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985839">.</span><span class="ident" id="5985840"><a href="/gostd/go/parser/parser.go.html#5984715">parseFuncTypeOrLit</a></span><span class="op" id="5985858">(</span><span class="op" id="5985859">)</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5985862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5985866">if</span>&nbsp;<span class="ident" id="5985869">typ</span>&nbsp;<span class="op" id="5985873">:=</span>&nbsp;<span class="ident" id="5985876"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5985877">.</span><span class="ident" id="5985878"><a href="/gostd/go/parser/parser.go.html#5982799">tryIdentOrType</a></span><span class="op" id="5985892">(</span><span class="op" id="5985893">)</span><span class="op" id="5985894">;</span>&nbsp;<span class="ident" id="5985896"><a href="/gostd/go/parser/parser.go.html#5985869">typ</a></span>&nbsp;<span class="op" id="5985900">!=</span>&nbsp;<span class="builtintype" id="5985903">nil</span>&nbsp;<span class="op" id="5985907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5985911">//&nbsp;could&nbsp;be&nbsp;type&nbsp;for&nbsp;composite&nbsp;literal&nbsp;or&nbsp;conversion</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985966">_</span><span class="op" id="5985967">,</span>&nbsp;<span class="ident" id="5985969">isIdent</span>&nbsp;<span class="op" id="5985977">:=</span>&nbsp;<span class="ident" id="5985980"><a href="/gostd/go/parser/parser.go.html#5985869">typ</a></span><span class="op" id="5985983">.</span><span class="op" id="5985984">(</span><span class="op" id="5985985">*</span><span class="ident" id="5985986"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5985989">.</span><span class="ident" id="5985990"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5985995">)</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5985999"><a href="/gostd/go/parser/parser.go.html#5968558">assert</a></span><span class="op" id="5986005">(</span><span class="op" id="5986006">!</span><span class="ident" id="5986007"><a href="/gostd/go/parser/parser.go.html#5985969">isIdent</a></span><span class="op" id="5986014">,</span>&nbsp;<span class="string" id="5986016">&#34;type&nbsp;cannot&nbsp;be&nbsp;identifier&#34;</span><span class="op" id="5986043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986047">return</span>&nbsp;<span class="ident" id="5986054"><a href="/gostd/go/parser/parser.go.html#5985869">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5986059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5986063">//&nbsp;we&nbsp;have&nbsp;an&nbsp;error</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986084">pos</span>&nbsp;<span class="op" id="5986088">:=</span>&nbsp;<span class="ident" id="5986091"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5986092">.</span><span class="ident" id="5986093"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986098"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5986099">.</span><span class="ident" id="5986100"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5986113">(</span><span class="ident" id="5986114"><a href="/gostd/go/parser/parser.go.html#5986084">pos</a></span><span class="op" id="5986117">,</span>&nbsp;<span class="string" id="5986119">&#34;operand&#34;</span><span class="op" id="5986128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986131"><a href="/gostd/go/parser/parser.go.html#5968748">syncStmt</a></span><span class="op" id="5986139">(</span><span class="ident" id="5986140"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5986141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986144">return</span>&nbsp;<span class="op" id="5986151">&amp;</span><span class="ident" id="5986152"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986155">.</span><span class="ident" id="5986156"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5986163">{</span><span class="ident" id="5986164"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5986168">:</span>&nbsp;<span class="ident" id="5986170"><a href="/gostd/go/parser/parser.go.html#5986084">pos</a></span><span class="op" id="5986173">,</span>&nbsp;<span class="ident" id="5986175"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5986177">:</span>&nbsp;<span class="ident" id="5986179"><a href="/gostd/go/parser/parser.go.html#5985215">p</a></span><span class="op" id="5986180">.</span><span class="ident" id="5986181"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5986184">}</span><br>
<span class="lineno"></span><span class="op" id="5986186">}</span><br>
<span class="lineno">1160</span><br>
<span class="lineno"></span><span class="keyword" id="5986189">func</span>&nbsp;<span class="op" id="5986194">(</span><span class="ident" id="5986195">p</span>&nbsp;<span class="op" id="5986197">*</span><span class="ident" id="5986198"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5986204">)</span>&nbsp;<span class="ident" id="5986206">parseSelector</span><span class="op" id="5986219">(</span><span class="ident" id="5986220">x</span>&nbsp;<span class="ident" id="5986222"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986225">.</span><span class="ident" id="5986226"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5986230">)</span>&nbsp;<span class="ident" id="5986232"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986235">.</span><span class="ident" id="5986236"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5986241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986244">if</span>&nbsp;<span class="ident" id="5986247"><a href="/gostd/go/parser/parser.go.html#5986195">p</a></span><span class="op" id="5986248">.</span><span class="ident" id="5986249"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5986255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986259">defer</span>&nbsp;<span class="ident" id="5986265"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5986267">(</span><span class="ident" id="5986268"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5986273">(</span><span class="ident" id="5986274"><a href="/gostd/go/parser/parser.go.html#5986195">p</a></span><span class="op" id="5986275">,</span>&nbsp;<span class="string" id="5986277">&#34;Selector&#34;</span><span class="op" id="5986287">)</span><span class="op" id="5986288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5986291">}</span><br>
<span class="lineno">1165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986295">sel</span>&nbsp;<span class="op" id="5986299">:=</span>&nbsp;<span class="ident" id="5986302"><a href="/gostd/go/parser/parser.go.html#5986195">p</a></span><span class="op" id="5986303">.</span><span class="ident" id="5986304"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="5986314">(</span><span class="op" id="5986315">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986319">return</span>&nbsp;<span class="op" id="5986326">&amp;</span><span class="ident" id="5986327"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986330">.</span><span class="ident" id="5986331"><a href="/gostd/go/ast/ast.go.html#3801641">SelectorExpr</a></span><span class="op" id="5986343">{</span><span class="ident" id="5986344"><a href="/gostd/go/ast/ast.go.html#3801665">X</a></span><span class="op" id="5986345">:</span>&nbsp;<span class="ident" id="5986347"><a href="/gostd/go/parser/parser.go.html#5986220">x</a></span><span class="op" id="5986348">,</span>&nbsp;<span class="ident" id="5986350"><a href="/gostd/go/ast/ast.go.html#3801692">Sel</a></span><span class="op" id="5986353">:</span>&nbsp;<span class="ident" id="5986355"><a href="/gostd/go/parser/parser.go.html#5986295">sel</a></span><span class="op" id="5986358">}</span><br>
<span class="lineno"></span><span class="op" id="5986360">}</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span><span class="keyword" id="5986363">func</span>&nbsp;<span class="op" id="5986368">(</span><span class="ident" id="5986369">p</span>&nbsp;<span class="op" id="5986371">*</span><span class="ident" id="5986372"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5986378">)</span>&nbsp;<span class="ident" id="5986380">parseTypeAssertion</span><span class="op" id="5986398">(</span><span class="ident" id="5986399">x</span>&nbsp;<span class="ident" id="5986401"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986404">.</span><span class="ident" id="5986405"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5986409">)</span>&nbsp;<span class="ident" id="5986411"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986414">.</span><span class="ident" id="5986415"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5986420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986423">if</span>&nbsp;<span class="ident" id="5986426"><a href="/gostd/go/parser/parser.go.html#5986369">p</a></span><span class="op" id="5986427">.</span><span class="ident" id="5986428"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5986434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986438">defer</span>&nbsp;<span class="ident" id="5986444"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5986446">(</span><span class="ident" id="5986447"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5986452">(</span><span class="ident" id="5986453"><a href="/gostd/go/parser/parser.go.html#5986369">p</a></span><span class="op" id="5986454">,</span>&nbsp;<span class="string" id="5986456">&#34;TypeAssertion&#34;</span><span class="op" id="5986471">)</span><span class="op" id="5986472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5986475">}</span><br>
<span class="lineno">1175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986479">lparen</span>&nbsp;<span class="op" id="5986486">:=</span>&nbsp;<span class="ident" id="5986489"><a href="/gostd/go/parser/parser.go.html#5986369">p</a></span><span class="op" id="5986490">.</span><span class="ident" id="5986491"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5986497">(</span><span class="ident" id="5986498"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5986503">.</span><span class="ident" id="5986504"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5986510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986513">var</span>&nbsp;<span class="ident" id="5986517">typ</span>&nbsp;<span class="ident" id="5986521"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986524">.</span><span class="ident" id="5986525"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986531">if</span>&nbsp;<span class="ident" id="5986534"><a href="/gostd/go/parser/parser.go.html#5986369">p</a></span><span class="op" id="5986535">.</span><span class="ident" id="5986536"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5986540">==</span>&nbsp;<span class="ident" id="5986543"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5986548">.</span><span class="ident" id="5986549"><a href="/gostd/go/token/token.go.html#3890922">TYPE</a></span>&nbsp;<span class="op" id="5986554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5986558">//&nbsp;type&nbsp;switch:&nbsp;typ&nbsp;==&nbsp;nil</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986587"><a href="/gostd/go/parser/parser.go.html#5986369">p</a></span><span class="op" id="5986588">.</span><span class="ident" id="5986589"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5986593">(</span><span class="op" id="5986594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5986597">}</span>&nbsp;<span class="keyword" id="5986599">else</span>&nbsp;<span class="op" id="5986604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986608"><a href="/gostd/go/parser/parser.go.html#5986517">typ</a></span>&nbsp;<span class="op" id="5986612">=</span>&nbsp;<span class="ident" id="5986614"><a href="/gostd/go/parser/parser.go.html#5986369">p</a></span><span class="op" id="5986615">.</span><span class="ident" id="5986616"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="5986625">(</span><span class="op" id="5986626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5986629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986632">rparen</span>&nbsp;<span class="op" id="5986639">:=</span>&nbsp;<span class="ident" id="5986642"><a href="/gostd/go/parser/parser.go.html#5986369">p</a></span><span class="op" id="5986643">.</span><span class="ident" id="5986644"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5986650">(</span><span class="ident" id="5986651"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5986656">.</span><span class="ident" id="5986657"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5986663">)</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986667">return</span>&nbsp;<span class="op" id="5986674">&amp;</span><span class="ident" id="5986675"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986678">.</span><span class="ident" id="5986679"><a href="/gostd/go/ast/ast.go.html#3802482">TypeAssertExpr</a></span><span class="op" id="5986693">{</span><span class="ident" id="5986694"><a href="/gostd/go/ast/ast.go.html#3802508">X</a></span><span class="op" id="5986695">:</span>&nbsp;<span class="ident" id="5986697"><a href="/gostd/go/parser/parser.go.html#5986399">x</a></span><span class="op" id="5986698">,</span>&nbsp;<span class="ident" id="5986700"><a href="/gostd/go/ast/ast.go.html#3802579">Type</a></span><span class="op" id="5986704">:</span>&nbsp;<span class="ident" id="5986706"><a href="/gostd/go/parser/parser.go.html#5986517">typ</a></span><span class="op" id="5986709">,</span>&nbsp;<span class="ident" id="5986711"><a href="/gostd/go/ast/ast.go.html#3802541">Lparen</a></span><span class="op" id="5986717">:</span>&nbsp;<span class="ident" id="5986719"><a href="/gostd/go/parser/parser.go.html#5986479">lparen</a></span><span class="op" id="5986725">,</span>&nbsp;<span class="ident" id="5986727"><a href="/gostd/go/ast/ast.go.html#3802647">Rparen</a></span><span class="op" id="5986733">:</span>&nbsp;<span class="ident" id="5986735"><a href="/gostd/go/parser/parser.go.html#5986632">rparen</a></span><span class="op" id="5986741">}</span><br>
<span class="lineno"></span><span class="op" id="5986743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5986746">func</span>&nbsp;<span class="op" id="5986751">(</span><span class="ident" id="5986752">p</span>&nbsp;<span class="op" id="5986754">*</span><span class="ident" id="5986755"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5986761">)</span>&nbsp;<span class="ident" id="5986763">parseIndexOrSlice</span><span class="op" id="5986780">(</span><span class="ident" id="5986781">x</span>&nbsp;<span class="ident" id="5986783"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986786">.</span><span class="ident" id="5986787"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5986791">)</span>&nbsp;<span class="ident" id="5986793"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986796">.</span><span class="ident" id="5986797"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5986802">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986805">if</span>&nbsp;<span class="ident" id="5986808"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5986809">.</span><span class="ident" id="5986810"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5986816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986820">defer</span>&nbsp;<span class="ident" id="5986826"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5986828">(</span><span class="ident" id="5986829"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5986834">(</span><span class="ident" id="5986835"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5986836">,</span>&nbsp;<span class="string" id="5986838">&#34;IndexOrSlice&#34;</span><span class="op" id="5986852">)</span><span class="op" id="5986853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5986856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986860">const</span>&nbsp;<span class="ident" id="5986866">N</span>&nbsp;<span class="op" id="5986868">=</span>&nbsp;<span class="num" id="5986870">3</span>&nbsp;<span class="comment" id="5986872">//&nbsp;change&nbsp;the&nbsp;3&nbsp;to&nbsp;2&nbsp;to&nbsp;disable&nbsp;3-index&nbsp;slices</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986920">lbrack</span>&nbsp;<span class="op" id="5986927">:=</span>&nbsp;<span class="ident" id="5986930"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5986931">.</span><span class="ident" id="5986932"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5986938">(</span><span class="ident" id="5986939"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5986944">.</span><span class="ident" id="5986945"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="5986951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5986954"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5986955">.</span><span class="ident" id="5986956"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5986963">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986967">var</span>&nbsp;<span class="ident" id="5986971">index</span>&nbsp;<span class="op" id="5986977">[</span><span class="ident" id="5986978"><a href="/gostd/go/parser/parser.go.html#5986866">N</a></span><span class="op" id="5986979">]</span><span class="ident" id="5986980"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5986983">.</span><span class="ident" id="5986984"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5986990">var</span>&nbsp;<span class="ident" id="5986994">colons</span>&nbsp;<span class="op" id="5987001">[</span><span class="ident" id="5987002"><a href="/gostd/go/parser/parser.go.html#5986866">N</a></span>&nbsp;<span class="op" id="5987004">-</span>&nbsp;<span class="num" id="5987006">1</span><span class="op" id="5987007">]</span><span class="ident" id="5987008"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5987013">.</span><span class="ident" id="5987014"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5987019">if</span>&nbsp;<span class="ident" id="5987022"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987023">.</span><span class="ident" id="5987024"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5987028">!=</span>&nbsp;<span class="ident" id="5987031"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5987036">.</span><span class="ident" id="5987037"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span>&nbsp;<span class="op" id="5987043">{</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987047"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5987052">[</span><span class="num" id="5987053">0</span><span class="op" id="5987054">]</span>&nbsp;<span class="op" id="5987056">=</span>&nbsp;<span class="ident" id="5987058"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987059">.</span><span class="ident" id="5987060"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="5987068">(</span><span class="op" id="5987069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5987072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987075">ncolons</span>&nbsp;<span class="op" id="5987083">:=</span>&nbsp;<span class="num" id="5987086">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5987089">for</span>&nbsp;<span class="ident" id="5987093"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987094">.</span><span class="ident" id="5987095"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5987099">==</span>&nbsp;<span class="ident" id="5987102"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5987107">.</span><span class="ident" id="5987108"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span>&nbsp;<span class="op" id="5987114">&amp;&amp;</span>&nbsp;<span class="ident" id="5987117"><a href="/gostd/go/parser/parser.go.html#5987075">ncolons</a></span>&nbsp;<span class="op" id="5987125">&lt;</span>&nbsp;<span class="builtinfunc" id="5987127">len</span><span class="op" id="5987130">(</span><span class="ident" id="5987131"><a href="/gostd/go/parser/parser.go.html#5986994">colons</a></span><span class="op" id="5987137">)</span>&nbsp;<span class="op" id="5987139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987143"><a href="/gostd/go/parser/parser.go.html#5986994">colons</a></span><span class="op" id="5987149">[</span><span class="ident" id="5987150"><a href="/gostd/go/parser/parser.go.html#5987075">ncolons</a></span><span class="op" id="5987157">]</span>&nbsp;<span class="op" id="5987159">=</span>&nbsp;<span class="ident" id="5987161"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987162">.</span><span class="ident" id="5987163"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987169"><a href="/gostd/go/parser/parser.go.html#5987075">ncolons</a></span><span class="op" id="5987176">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987181"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987182">.</span><span class="ident" id="5987183"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5987187">(</span><span class="op" id="5987188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5987192">if</span>&nbsp;<span class="ident" id="5987195"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987196">.</span><span class="ident" id="5987197"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5987201">!=</span>&nbsp;<span class="ident" id="5987204"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5987209">.</span><span class="ident" id="5987210"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span>&nbsp;<span class="op" id="5987216">&amp;&amp;</span>&nbsp;<span class="ident" id="5987219"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987220">.</span><span class="ident" id="5987221"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5987225">!=</span>&nbsp;<span class="ident" id="5987228"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5987233">.</span><span class="ident" id="5987234"><a href="/gostd/go/token/token.go.html#3890645">RBRACK</a></span>&nbsp;<span class="op" id="5987241">&amp;&amp;</span>&nbsp;<span class="ident" id="5987244"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987245">.</span><span class="ident" id="5987246"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5987250">!=</span>&nbsp;<span class="ident" id="5987253"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5987258">.</span><span class="ident" id="5987259"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span>&nbsp;<span class="op" id="5987263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987268"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5987273">[</span><span class="ident" id="5987274"><a href="/gostd/go/parser/parser.go.html#5987075">ncolons</a></span><span class="op" id="5987281">]</span>&nbsp;<span class="op" id="5987283">=</span>&nbsp;<span class="ident" id="5987285"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987286">.</span><span class="ident" id="5987287"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="5987295">(</span><span class="op" id="5987296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5987300">}</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5987303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987306"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987307">.</span><span class="ident" id="5987308"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5987315">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987319">rbrack</span>&nbsp;<span class="op" id="5987326">:=</span>&nbsp;<span class="ident" id="5987329"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987330">.</span><span class="ident" id="5987331"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5987337">(</span><span class="ident" id="5987338"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5987343">.</span><span class="ident" id="5987344"><a href="/gostd/go/token/token.go.html#3890645">RBRACK</a></span><span class="op" id="5987350">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5987354">if</span>&nbsp;<span class="ident" id="5987357"><a href="/gostd/go/parser/parser.go.html#5987075">ncolons</a></span>&nbsp;<span class="op" id="5987365">&gt;</span>&nbsp;<span class="num" id="5987367">0</span>&nbsp;<span class="op" id="5987369">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5987373">//&nbsp;slice&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987395">slice3</span>&nbsp;<span class="op" id="5987402">:=</span>&nbsp;<span class="builtintype" id="5987405">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5987413">if</span>&nbsp;<span class="ident" id="5987416"><a href="/gostd/go/parser/parser.go.html#5987075">ncolons</a></span>&nbsp;<span class="op" id="5987424">==</span>&nbsp;<span class="num" id="5987427">2</span>&nbsp;<span class="op" id="5987429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987434"><a href="/gostd/go/parser/parser.go.html#5987395">slice3</a></span>&nbsp;<span class="op" id="5987441">=</span>&nbsp;<span class="builtintype" id="5987443">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5987451">//&nbsp;Check&nbsp;presence&nbsp;of&nbsp;2nd&nbsp;and&nbsp;3rd&nbsp;index&nbsp;here&nbsp;rather&nbsp;than&nbsp;during&nbsp;type-checking</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5987531">//&nbsp;to&nbsp;prevent&nbsp;erroneous&nbsp;programs&nbsp;from&nbsp;passing&nbsp;through&nbsp;gofmt&nbsp;(was&nbsp;issue&nbsp;7305).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5987612">if</span>&nbsp;<span class="ident" id="5987615"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5987620">[</span><span class="num" id="5987621">1</span><span class="op" id="5987622">]</span>&nbsp;<span class="op" id="5987624">==</span>&nbsp;<span class="builtintype" id="5987627">nil</span>&nbsp;<span class="op" id="5987631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987637"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987638">.</span><span class="builtintype" id="5987639"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5987644">(</span><span class="ident" id="5987645"><a href="/gostd/go/parser/parser.go.html#5986994">colons</a></span><span class="op" id="5987651">[</span><span class="num" id="5987652">0</span><span class="op" id="5987653">]</span><span class="op" id="5987654">,</span>&nbsp;<span class="string" id="5987656">&#34;2nd&nbsp;index&nbsp;required&nbsp;in&nbsp;3-index&nbsp;slice&#34;</span><span class="op" id="5987693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987699"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5987704">[</span><span class="num" id="5987705">1</span><span class="op" id="5987706">]</span>&nbsp;<span class="op" id="5987708">=</span>&nbsp;<span class="op" id="5987710">&amp;</span><span class="ident" id="5987711"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5987714">.</span><span class="ident" id="5987715"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5987722">{</span><span class="ident" id="5987723"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5987727">:</span>&nbsp;<span class="ident" id="5987729"><a href="/gostd/go/parser/parser.go.html#5986994">colons</a></span><span class="op" id="5987735">[</span><span class="num" id="5987736">0</span><span class="op" id="5987737">]</span>&nbsp;<span class="op" id="5987739">+</span>&nbsp;<span class="num" id="5987741">1</span><span class="op" id="5987742">,</span>&nbsp;<span class="ident" id="5987744"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5987746">:</span>&nbsp;<span class="ident" id="5987748"><a href="/gostd/go/parser/parser.go.html#5986994">colons</a></span><span class="op" id="5987754">[</span><span class="num" id="5987755">1</span><span class="op" id="5987756">]</span><span class="op" id="5987757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5987762">}</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5987767">if</span>&nbsp;<span class="ident" id="5987770"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5987775">[</span><span class="num" id="5987776">2</span><span class="op" id="5987777">]</span>&nbsp;<span class="op" id="5987779">==</span>&nbsp;<span class="builtintype" id="5987782">nil</span>&nbsp;<span class="op" id="5987786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987792"><a href="/gostd/go/parser/parser.go.html#5986752">p</a></span><span class="op" id="5987793">.</span><span class="builtintype" id="5987794"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5987799">(</span><span class="ident" id="5987800"><a href="/gostd/go/parser/parser.go.html#5986994">colons</a></span><span class="op" id="5987806">[</span><span class="num" id="5987807">1</span><span class="op" id="5987808">]</span><span class="op" id="5987809">,</span>&nbsp;<span class="string" id="5987811">&#34;3rd&nbsp;index&nbsp;required&nbsp;in&nbsp;3-index&nbsp;slice&#34;</span><span class="op" id="5987848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5987854"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5987859">[</span><span class="num" id="5987860">2</span><span class="op" id="5987861">]</span>&nbsp;<span class="op" id="5987863">=</span>&nbsp;<span class="op" id="5987865">&amp;</span><span class="ident" id="5987866"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5987869">.</span><span class="ident" id="5987870"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5987877">{</span><span class="ident" id="5987878"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5987882">:</span>&nbsp;<span class="ident" id="5987884"><a href="/gostd/go/parser/parser.go.html#5986994">colons</a></span><span class="op" id="5987890">[</span><span class="num" id="5987891">1</span><span class="op" id="5987892">]</span>&nbsp;<span class="op" id="5987894">+</span>&nbsp;<span class="num" id="5987896">1</span><span class="op" id="5987897">,</span>&nbsp;<span class="ident" id="5987899"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5987901">:</span>&nbsp;<span class="ident" id="5987903"><a href="/gostd/go/parser/parser.go.html#5987319">rbrack</a></span><span class="op" id="5987909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5987914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5987918">}</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5987922">return</span>&nbsp;<span class="op" id="5987929">&amp;</span><span class="ident" id="5987930"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5987933">.</span><span class="ident" id="5987934"><a href="/gostd/go/ast/ast.go.html#3802041">SliceExpr</a></span><span class="op" id="5987943">{</span><span class="ident" id="5987944"><a href="/gostd/go/ast/ast.go.html#3802062">X</a></span><span class="op" id="5987945">:</span>&nbsp;<span class="ident" id="5987947"><a href="/gostd/go/parser/parser.go.html#5986781">x</a></span><span class="op" id="5987948">,</span>&nbsp;<span class="ident" id="5987950"><a href="/gostd/go/ast/ast.go.html#3802095">Lbrack</a></span><span class="op" id="5987956">:</span>&nbsp;<span class="ident" id="5987958"><a href="/gostd/go/parser/parser.go.html#5986920">lbrack</a></span><span class="op" id="5987964">,</span>&nbsp;<span class="ident" id="5987966"><a href="/gostd/go/ast/ast.go.html#3802133">Low</a></span><span class="op" id="5987969">:</span>&nbsp;<span class="ident" id="5987971"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5987976">[</span><span class="num" id="5987977">0</span><span class="op" id="5987978">]</span><span class="op" id="5987979">,</span>&nbsp;<span class="ident" id="5987981"><a href="/gostd/go/ast/ast.go.html#3802184">High</a></span><span class="op" id="5987985">:</span>&nbsp;<span class="ident" id="5987987"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5987992">[</span><span class="num" id="5987993">1</span><span class="op" id="5987994">]</span><span class="op" id="5987995">,</span>&nbsp;<span class="ident" id="5987997"><a href="/gostd/go/ast/ast.go.html#3802233">Max</a></span><span class="op" id="5988000">:</span>&nbsp;<span class="ident" id="5988002"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5988007">[</span><span class="num" id="5988008">2</span><span class="op" id="5988009">]</span><span class="op" id="5988010">,</span>&nbsp;<span class="ident" id="5988012"><a href="/gostd/go/ast/ast.go.html#3802289">Slice3</a></span><span class="op" id="5988018">:</span>&nbsp;<span class="ident" id="5988020"><a href="/gostd/go/parser/parser.go.html#5987395">slice3</a></span><span class="op" id="5988026">,</span>&nbsp;<span class="ident" id="5988028"><a href="/gostd/go/ast/ast.go.html#3802352">Rbrack</a></span><span class="op" id="5988034">:</span>&nbsp;<span class="ident" id="5988036"><a href="/gostd/go/parser/parser.go.html#5987319">rbrack</a></span><span class="op" id="5988042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5988045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988049">return</span>&nbsp;<span class="op" id="5988056">&amp;</span><span class="ident" id="5988057"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5988060">.</span><span class="ident" id="5988061"><a href="/gostd/go/ast/ast.go.html#3801795">IndexExpr</a></span><span class="op" id="5988070">{</span><span class="ident" id="5988071"><a href="/gostd/go/ast/ast.go.html#3801816">X</a></span><span class="op" id="5988072">:</span>&nbsp;<span class="ident" id="5988074"><a href="/gostd/go/parser/parser.go.html#5986781">x</a></span><span class="op" id="5988075">,</span>&nbsp;<span class="ident" id="5988077"><a href="/gostd/go/ast/ast.go.html#3801849">Lbrack</a></span><span class="op" id="5988083">:</span>&nbsp;<span class="ident" id="5988085"><a href="/gostd/go/parser/parser.go.html#5986920">lbrack</a></span><span class="op" id="5988091">,</span>&nbsp;<span class="ident" id="5988093"><a href="/gostd/go/ast/ast.go.html#3801887">Index</a></span><span class="op" id="5988098">:</span>&nbsp;<span class="ident" id="5988100"><a href="/gostd/go/parser/parser.go.html#5986971">index</a></span><span class="op" id="5988105">[</span><span class="num" id="5988106">0</span><span class="op" id="5988107">]</span><span class="op" id="5988108">,</span>&nbsp;<span class="ident" id="5988110"><a href="/gostd/go/ast/ast.go.html#3801926">Rbrack</a></span><span class="op" id="5988116">:</span>&nbsp;<span class="ident" id="5988118"><a href="/gostd/go/parser/parser.go.html#5987319">rbrack</a></span><span class="op" id="5988124">}</span><br>
<span class="lineno"></span><span class="op" id="5988126">}</span><br>
<span class="lineno">1235</span><br>
<span class="lineno"></span><span class="keyword" id="5988129">func</span>&nbsp;<span class="op" id="5988134">(</span><span class="ident" id="5988135">p</span>&nbsp;<span class="op" id="5988137">*</span><span class="ident" id="5988138"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5988144">)</span>&nbsp;<span class="ident" id="5988146">parseCallOrConversion</span><span class="op" id="5988167">(</span><span class="ident" id="5988168">fun</span>&nbsp;<span class="ident" id="5988172"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5988175">.</span><span class="ident" id="5988176"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5988180">)</span>&nbsp;<span class="op" id="5988182">*</span><span class="ident" id="5988183"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5988186">.</span><span class="ident" id="5988187"><a href="/gostd/go/ast/ast.go.html#3802763">CallExpr</a></span>&nbsp;<span class="op" id="5988196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988199">if</span>&nbsp;<span class="ident" id="5988202"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988203">.</span><span class="ident" id="5988204"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5988210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988214">defer</span>&nbsp;<span class="ident" id="5988220"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5988222">(</span><span class="ident" id="5988223"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5988228">(</span><span class="ident" id="5988229"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988230">,</span>&nbsp;<span class="string" id="5988232">&#34;CallOrConversion&#34;</span><span class="op" id="5988250">)</span><span class="op" id="5988251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5988254">}</span><br>
<span class="lineno">1240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5988258">lparen</span>&nbsp;<span class="op" id="5988265">:=</span>&nbsp;<span class="ident" id="5988268"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988269">.</span><span class="ident" id="5988270"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5988276">(</span><span class="ident" id="5988277"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5988282">.</span><span class="ident" id="5988283"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5988289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5988292"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988293">.</span><span class="ident" id="5988294"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5988301">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988305">var</span>&nbsp;<span class="ident" id="5988309">list</span>&nbsp;<span class="op" id="5988314">[</span><span class="op" id="5988315">]</span><span class="ident" id="5988316"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5988319">.</span><span class="ident" id="5988320"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988326">var</span>&nbsp;<span class="ident" id="5988330">ellipsis</span>&nbsp;<span class="ident" id="5988339"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5988344">.</span><span class="ident" id="5988345"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988350">for</span>&nbsp;<span class="ident" id="5988354"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988355">.</span><span class="ident" id="5988356"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5988360">!=</span>&nbsp;<span class="ident" id="5988363"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5988368">.</span><span class="ident" id="5988369"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span>&nbsp;<span class="op" id="5988376">&amp;&amp;</span>&nbsp;<span class="ident" id="5988379"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988380">.</span><span class="ident" id="5988381"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5988385">!=</span>&nbsp;<span class="ident" id="5988388"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5988393">.</span><span class="ident" id="5988394"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span>&nbsp;<span class="op" id="5988398">&amp;&amp;</span>&nbsp;<span class="op" id="5988401">!</span><span class="ident" id="5988402"><a href="/gostd/go/parser/parser.go.html#5988330">ellipsis</a></span><span class="op" id="5988410">.</span><span class="ident" id="5988411"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="5988418">(</span><span class="op" id="5988419">)</span>&nbsp;<span class="op" id="5988421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5988425"><a href="/gostd/go/parser/parser.go.html#5988309">list</a></span>&nbsp;<span class="op" id="5988430">=</span>&nbsp;<span class="builtinfunc" id="5988432">append</span><span class="op" id="5988438">(</span><span class="ident" id="5988439"><a href="/gostd/go/parser/parser.go.html#5988309">list</a></span><span class="op" id="5988443">,</span>&nbsp;<span class="ident" id="5988445"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988446">.</span><span class="ident" id="5988447"><a href="/gostd/go/parser/parser.go.html#5997735">parseRhsOrType</a></span><span class="op" id="5988461">(</span><span class="op" id="5988462">)</span><span class="op" id="5988463">)</span>&nbsp;<span class="comment" id="5988465">//&nbsp;builtins&nbsp;may&nbsp;expect&nbsp;a&nbsp;type:&nbsp;make(some&nbsp;type,&nbsp;...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988519">if</span>&nbsp;<span class="ident" id="5988522"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988523">.</span><span class="ident" id="5988524"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5988528">==</span>&nbsp;<span class="ident" id="5988531"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5988536">.</span><span class="ident" id="5988537"><a href="/gostd/go/token/token.go.html#3890545">ELLIPSIS</a></span>&nbsp;<span class="op" id="5988546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5988551"><a href="/gostd/go/parser/parser.go.html#5988330">ellipsis</a></span>&nbsp;<span class="op" id="5988560">=</span>&nbsp;<span class="ident" id="5988562"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988563">.</span><span class="ident" id="5988564"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5988571"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988572">.</span><span class="ident" id="5988573"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5988577">(</span><span class="op" id="5988578">)</span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5988582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988586">if</span>&nbsp;<span class="op" id="5988589">!</span><span class="ident" id="5988590"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988591">.</span><span class="ident" id="5988592"><a href="/gostd/go/parser/parser.go.html#5968301">atComma</a></span><span class="op" id="5988599">(</span><span class="string" id="5988600">&#34;argument&nbsp;list&#34;</span><span class="op" id="5988615">)</span>&nbsp;<span class="op" id="5988617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988622">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5988630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5988634"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988635">.</span><span class="ident" id="5988636"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5988640">(</span><span class="op" id="5988641">)</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5988644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5988647"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988648">.</span><span class="ident" id="5988649"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5988656">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5988660">rparen</span>&nbsp;<span class="op" id="5988667">:=</span>&nbsp;<span class="ident" id="5988670"><a href="/gostd/go/parser/parser.go.html#5988135">p</a></span><span class="op" id="5988671">.</span><span class="ident" id="5988672"><a href="/gostd/go/parser/parser.go.html#5967811">expectClosing</a></span><span class="op" id="5988685">(</span><span class="ident" id="5988686"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5988691">.</span><span class="ident" id="5988692"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="5988698">,</span>&nbsp;<span class="string" id="5988700">&#34;argument&nbsp;list&#34;</span><span class="op" id="5988715">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988719">return</span>&nbsp;<span class="op" id="5988726">&amp;</span><span class="ident" id="5988727"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5988730">.</span><span class="ident" id="5988731"><a href="/gostd/go/ast/ast.go.html#3802763">CallExpr</a></span><span class="op" id="5988739">{</span><span class="ident" id="5988740"><a href="/gostd/go/ast/ast.go.html#3802783">Fun</a></span><span class="op" id="5988743">:</span>&nbsp;<span class="ident" id="5988745"><a href="/gostd/go/parser/parser.go.html#5988168">fun</a></span><span class="op" id="5988748">,</span>&nbsp;<span class="ident" id="5988750"><a href="/gostd/go/ast/ast.go.html#3802827">Lparen</a></span><span class="op" id="5988756">:</span>&nbsp;<span class="ident" id="5988758"><a href="/gostd/go/parser/parser.go.html#5988258">lparen</a></span><span class="op" id="5988764">,</span>&nbsp;<span class="ident" id="5988766"><a href="/gostd/go/ast/ast.go.html#3802867">Args</a></span><span class="op" id="5988770">:</span>&nbsp;<span class="ident" id="5988772"><a href="/gostd/go/parser/parser.go.html#5988309">list</a></span><span class="op" id="5988776">,</span>&nbsp;<span class="ident" id="5988778"><a href="/gostd/go/ast/ast.go.html#3802918">Ellipsis</a></span><span class="op" id="5988786">:</span>&nbsp;<span class="ident" id="5988788"><a href="/gostd/go/parser/parser.go.html#5988330">ellipsis</a></span><span class="op" id="5988796">,</span>&nbsp;<span class="ident" id="5988798"><a href="/gostd/go/ast/ast.go.html#3802968">Rparen</a></span><span class="op" id="5988804">:</span>&nbsp;<span class="ident" id="5988806"><a href="/gostd/go/parser/parser.go.html#5988660">rparen</a></span><span class="op" id="5988812">}</span><br>
<span class="lineno">1260</span><span class="op" id="5988814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5988817">func</span>&nbsp;<span class="op" id="5988822">(</span><span class="ident" id="5988823">p</span>&nbsp;<span class="op" id="5988825">*</span><span class="ident" id="5988826"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5988832">)</span>&nbsp;<span class="ident" id="5988834">parseElement</span><span class="op" id="5988846">(</span><span class="ident" id="5988847">keyOk</span>&nbsp;<span class="builtintype" id="5988853">bool</span><span class="op" id="5988857">)</span>&nbsp;<span class="ident" id="5988859"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5988862">.</span><span class="ident" id="5988863"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5988868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988871">if</span>&nbsp;<span class="ident" id="5988874"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5988875">.</span><span class="ident" id="5988876"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5988882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988886">defer</span>&nbsp;<span class="ident" id="5988892"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5988894">(</span><span class="ident" id="5988895"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5988900">(</span><span class="ident" id="5988901"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5988902">,</span>&nbsp;<span class="string" id="5988904">&#34;Element&#34;</span><span class="op" id="5988913">)</span><span class="op" id="5988914">)</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5988917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988921">if</span>&nbsp;<span class="ident" id="5988924"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5988925">.</span><span class="ident" id="5988926"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5988930">==</span>&nbsp;<span class="ident" id="5988933"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5988938">.</span><span class="ident" id="5988939"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span>&nbsp;<span class="op" id="5988946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5988950">return</span>&nbsp;<span class="ident" id="5988957"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5988958">.</span><span class="ident" id="5988959"><a href="/gostd/go/parser/parser.go.html#5990620">parseLiteralValue</a></span><span class="op" id="5988976">(</span><span class="builtintype" id="5988977">nil</span><span class="op" id="5988980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5988983">}</span><br>
<span class="lineno">1270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5988987">//&nbsp;Because&nbsp;the&nbsp;parser&nbsp;doesn&#39;t&nbsp;know&nbsp;the&nbsp;composite&nbsp;literal&nbsp;type,&nbsp;it&nbsp;cannot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989061">//&nbsp;know&nbsp;if&nbsp;a&nbsp;key&nbsp;that&#39;s&nbsp;an&nbsp;identifier&nbsp;is&nbsp;a&nbsp;struct&nbsp;field&nbsp;name&nbsp;or&nbsp;a&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989133">//&nbsp;denoting&nbsp;a&nbsp;value.&nbsp;The&nbsp;former&nbsp;is&nbsp;not&nbsp;resolved&nbsp;by&nbsp;the&nbsp;parser&nbsp;or&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989203">//&nbsp;resolver.</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989217">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989221">//&nbsp;Instead,&nbsp;_try_&nbsp;to&nbsp;resolve&nbsp;such&nbsp;a&nbsp;key&nbsp;if&nbsp;possible.&nbsp;If&nbsp;it&nbsp;resolves,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989291">//&nbsp;it&nbsp;a)&nbsp;has&nbsp;correctly&nbsp;resolved,&nbsp;or&nbsp;b)&nbsp;incorrectly&nbsp;resolved&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989360">//&nbsp;the&nbsp;key&nbsp;is&nbsp;a&nbsp;struct&nbsp;field&nbsp;with&nbsp;a&nbsp;name&nbsp;matching&nbsp;another&nbsp;identifier.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989431">//&nbsp;In&nbsp;the&nbsp;former&nbsp;case&nbsp;we&nbsp;are&nbsp;done,&nbsp;and&nbsp;in&nbsp;the&nbsp;latter&nbsp;case&nbsp;we&nbsp;don&#39;t</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989499">//&nbsp;care&nbsp;because&nbsp;the&nbsp;type&nbsp;checker&nbsp;will&nbsp;do&nbsp;a&nbsp;separate&nbsp;field&nbsp;lookup.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989566">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989570">//&nbsp;If&nbsp;the&nbsp;key&nbsp;does&nbsp;not&nbsp;resolve,&nbsp;it&nbsp;a)&nbsp;must&nbsp;be&nbsp;defined&nbsp;at&nbsp;the&nbsp;top</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989636">//&nbsp;level&nbsp;in&nbsp;another&nbsp;file&nbsp;of&nbsp;the&nbsp;same&nbsp;package,&nbsp;the&nbsp;universe&nbsp;scope,&nbsp;or&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989709">//&nbsp;undeclared;&nbsp;or&nbsp;b)&nbsp;it&nbsp;is&nbsp;a&nbsp;struct&nbsp;field.&nbsp;In&nbsp;the&nbsp;former&nbsp;case,&nbsp;the&nbsp;type</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989782">//&nbsp;checker&nbsp;can&nbsp;do&nbsp;a&nbsp;top-level&nbsp;lookup,&nbsp;and&nbsp;in&nbsp;the&nbsp;latter&nbsp;case&nbsp;it&nbsp;will&nbsp;do</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989855">//&nbsp;a&nbsp;separate&nbsp;field&nbsp;lookup.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5989884">x</span>&nbsp;<span class="op" id="5989886">:=</span>&nbsp;<span class="ident" id="5989889"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5989890">.</span><span class="ident" id="5989891"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5989900">(</span><span class="ident" id="5989901"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5989902">.</span><span class="ident" id="5989903"><a href="/gostd/go/parser/parser.go.html#5997443">parseExpr</a></span><span class="op" id="5989912">(</span><span class="ident" id="5989913"><a href="/gostd/go/parser/parser.go.html#5988847">keyOk</a></span><span class="op" id="5989918">)</span><span class="op" id="5989919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5989922">if</span>&nbsp;<span class="ident" id="5989925"><a href="/gostd/go/parser/parser.go.html#5988847">keyOk</a></span>&nbsp;<span class="op" id="5989931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5989935">if</span>&nbsp;<span class="ident" id="5989938"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5989939">.</span><span class="ident" id="5989940"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5989944">==</span>&nbsp;<span class="ident" id="5989947"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5989952">.</span><span class="ident" id="5989953"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span>&nbsp;<span class="op" id="5989959">{</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5989964">colon</span>&nbsp;<span class="op" id="5989970">:=</span>&nbsp;<span class="ident" id="5989973"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5989974">.</span><span class="ident" id="5989975"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5989982"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5989983">.</span><span class="ident" id="5989984"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5989988">(</span><span class="op" id="5989989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5989994">//&nbsp;Try&nbsp;to&nbsp;resolve&nbsp;the&nbsp;key&nbsp;but&nbsp;don&#39;t&nbsp;collect&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5990044">//&nbsp;as&nbsp;unresolved&nbsp;identifier&nbsp;if&nbsp;it&nbsp;fails&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5990095">//&nbsp;we&nbsp;don&#39;t&nbsp;get&nbsp;(possibly&nbsp;false)&nbsp;errors&nbsp;about</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5990144">//&nbsp;undeclared&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5990168"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5990169">.</span><span class="ident" id="5990170"><a href="/gostd/go/parser/parser.go.html#5961741">tryResolve</a></span><span class="op" id="5990180">(</span><span class="ident" id="5990181"><a href="/gostd/go/parser/parser.go.html#5989884">x</a></span><span class="op" id="5990182">,</span>&nbsp;<span class="builtintype" id="5990184">false</span><span class="op" id="5990189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990194">return</span>&nbsp;<span class="op" id="5990201">&amp;</span><span class="ident" id="5990202"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5990205">.</span><span class="ident" id="5990206"><a href="/gostd/go/ast/ast.go.html#3803798">KeyValueExpr</a></span><span class="op" id="5990218">{</span><span class="ident" id="5990219"><a href="/gostd/go/ast/ast.go.html#3803822">Key</a></span><span class="op" id="5990222">:</span>&nbsp;<span class="ident" id="5990224"><a href="/gostd/go/parser/parser.go.html#5989884">x</a></span><span class="op" id="5990225">,</span>&nbsp;<span class="ident" id="5990227"><a href="/gostd/go/ast/ast.go.html#3803835">Colon</a></span><span class="op" id="5990232">:</span>&nbsp;<span class="ident" id="5990234"><a href="/gostd/go/parser/parser.go.html#5989964">colon</a></span><span class="op" id="5990239">,</span>&nbsp;<span class="ident" id="5990241"><a href="/gostd/go/ast/ast.go.html#3803872">Value</a></span><span class="op" id="5990246">:</span>&nbsp;<span class="ident" id="5990248"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5990249">.</span><span class="ident" id="5990250"><a href="/gostd/go/parser/parser.go.html#5988834">parseElement</a></span><span class="op" id="5990262">(</span><span class="builtintype" id="5990263">false</span><span class="op" id="5990268">)</span><span class="op" id="5990269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5990273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5990277"><a href="/gostd/go/parser/parser.go.html#5988823">p</a></span><span class="op" id="5990278">.</span><span class="ident" id="5990279"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5990286">(</span><span class="ident" id="5990287"><a href="/gostd/go/parser/parser.go.html#5989884">x</a></span><span class="op" id="5990288">)</span>&nbsp;<span class="comment" id="5990290">//&nbsp;not&nbsp;a&nbsp;key</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5990304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990308">return</span>&nbsp;<span class="ident" id="5990315"><a href="/gostd/go/parser/parser.go.html#5989884">x</a></span><br>
<span class="lineno"></span><span class="op" id="5990317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1305</span><span class="keyword" id="5990320">func</span>&nbsp;<span class="op" id="5990325">(</span><span class="ident" id="5990326">p</span>&nbsp;<span class="op" id="5990328">*</span><span class="ident" id="5990329"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5990335">)</span>&nbsp;<span class="ident" id="5990337">parseElementList</span><span class="op" id="5990353">(</span><span class="op" id="5990354">)</span>&nbsp;<span class="op" id="5990356">(</span><span class="ident" id="5990357">list</span>&nbsp;<span class="op" id="5990362">[</span><span class="op" id="5990363">]</span><span class="ident" id="5990364"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5990367">.</span><span class="ident" id="5990368"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5990372">)</span>&nbsp;<span class="op" id="5990374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990377">if</span>&nbsp;<span class="ident" id="5990380"><a href="/gostd/go/parser/parser.go.html#5990326">p</a></span><span class="op" id="5990381">.</span><span class="ident" id="5990382"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5990388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990392">defer</span>&nbsp;<span class="ident" id="5990398"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5990400">(</span><span class="ident" id="5990401"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5990406">(</span><span class="ident" id="5990407"><a href="/gostd/go/parser/parser.go.html#5990326">p</a></span><span class="op" id="5990408">,</span>&nbsp;<span class="string" id="5990410">&#34;ElementList&#34;</span><span class="op" id="5990423">)</span><span class="op" id="5990424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5990427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990431">for</span>&nbsp;<span class="ident" id="5990435"><a href="/gostd/go/parser/parser.go.html#5990326">p</a></span><span class="op" id="5990436">.</span><span class="ident" id="5990437"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5990441">!=</span>&nbsp;<span class="ident" id="5990444"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5990449">.</span><span class="ident" id="5990450"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span>&nbsp;<span class="op" id="5990457">&amp;&amp;</span>&nbsp;<span class="ident" id="5990460"><a href="/gostd/go/parser/parser.go.html#5990326">p</a></span><span class="op" id="5990461">.</span><span class="ident" id="5990462"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5990466">!=</span>&nbsp;<span class="ident" id="5990469"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5990474">.</span><span class="ident" id="5990475"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span>&nbsp;<span class="op" id="5990479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5990483"><a href="/gostd/go/parser/parser.go.html#5990357">list</a></span>&nbsp;<span class="op" id="5990488">=</span>&nbsp;<span class="builtinfunc" id="5990490">append</span><span class="op" id="5990496">(</span><span class="ident" id="5990497"><a href="/gostd/go/parser/parser.go.html#5990357">list</a></span><span class="op" id="5990501">,</span>&nbsp;<span class="ident" id="5990503"><a href="/gostd/go/parser/parser.go.html#5990326">p</a></span><span class="op" id="5990504">.</span><span class="ident" id="5990505"><a href="/gostd/go/parser/parser.go.html#5988834">parseElement</a></span><span class="op" id="5990517">(</span><span class="builtintype" id="5990518">true</span><span class="op" id="5990522">)</span><span class="op" id="5990523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990527">if</span>&nbsp;<span class="op" id="5990530">!</span><span class="ident" id="5990531"><a href="/gostd/go/parser/parser.go.html#5990326">p</a></span><span class="op" id="5990532">.</span><span class="ident" id="5990533"><a href="/gostd/go/parser/parser.go.html#5968301">atComma</a></span><span class="op" id="5990540">(</span><span class="string" id="5990541">&#34;composite&nbsp;literal&#34;</span><span class="op" id="5990560">)</span>&nbsp;<span class="op" id="5990562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990567">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5990575">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5990579"><a href="/gostd/go/parser/parser.go.html#5990326">p</a></span><span class="op" id="5990580">.</span><span class="ident" id="5990581"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5990585">(</span><span class="op" id="5990586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5990589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990593">return</span><br>
<span class="lineno"></span><span class="op" id="5990600">}</span><br>
<span class="lineno">1320</span><br>
<span class="lineno"></span><span class="keyword" id="5990603">func</span>&nbsp;<span class="op" id="5990608">(</span><span class="ident" id="5990609">p</span>&nbsp;<span class="op" id="5990611">*</span><span class="ident" id="5990612"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5990618">)</span>&nbsp;<span class="ident" id="5990620">parseLiteralValue</span><span class="op" id="5990637">(</span><span class="ident" id="5990638">typ</span>&nbsp;<span class="ident" id="5990642"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5990645">.</span><span class="ident" id="5990646"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5990650">)</span>&nbsp;<span class="ident" id="5990652"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5990655">.</span><span class="ident" id="5990656"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5990661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990664">if</span>&nbsp;<span class="ident" id="5990667"><a href="/gostd/go/parser/parser.go.html#5990609">p</a></span><span class="op" id="5990668">.</span><span class="ident" id="5990669"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5990675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990679">defer</span>&nbsp;<span class="ident" id="5990685"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5990687">(</span><span class="ident" id="5990688"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5990693">(</span><span class="ident" id="5990694"><a href="/gostd/go/parser/parser.go.html#5990609">p</a></span><span class="op" id="5990695">,</span>&nbsp;<span class="string" id="5990697">&#34;LiteralValue&#34;</span><span class="op" id="5990711">)</span><span class="op" id="5990712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5990715">}</span><br>
<span class="lineno">1325</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5990719">lbrace</span>&nbsp;<span class="op" id="5990726">:=</span>&nbsp;<span class="ident" id="5990729"><a href="/gostd/go/parser/parser.go.html#5990609">p</a></span><span class="op" id="5990730">.</span><span class="ident" id="5990731"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5990737">(</span><span class="ident" id="5990738"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5990743">.</span><span class="ident" id="5990744"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5990750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990753">var</span>&nbsp;<span class="ident" id="5990757">elts</span>&nbsp;<span class="op" id="5990762">[</span><span class="op" id="5990763">]</span><span class="ident" id="5990764"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5990767">.</span><span class="ident" id="5990768"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5990774"><a href="/gostd/go/parser/parser.go.html#5990609">p</a></span><span class="op" id="5990775">.</span><span class="ident" id="5990776"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5990783">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990787">if</span>&nbsp;<span class="ident" id="5990790"><a href="/gostd/go/parser/parser.go.html#5990609">p</a></span><span class="op" id="5990791">.</span><span class="ident" id="5990792"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5990796">!=</span>&nbsp;<span class="ident" id="5990799"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5990804">.</span><span class="ident" id="5990805"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span>&nbsp;<span class="op" id="5990812">{</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5990816"><a href="/gostd/go/parser/parser.go.html#5990757">elts</a></span>&nbsp;<span class="op" id="5990821">=</span>&nbsp;<span class="ident" id="5990823"><a href="/gostd/go/parser/parser.go.html#5990609">p</a></span><span class="op" id="5990824">.</span><span class="ident" id="5990825"><a href="/gostd/go/parser/parser.go.html#5990337">parseElementList</a></span><span class="op" id="5990841">(</span><span class="op" id="5990842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5990845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5990848"><a href="/gostd/go/parser/parser.go.html#5990609">p</a></span><span class="op" id="5990849">.</span><span class="ident" id="5990850"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><span class="op" id="5990857">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5990861">rbrace</span>&nbsp;<span class="op" id="5990868">:=</span>&nbsp;<span class="ident" id="5990871"><a href="/gostd/go/parser/parser.go.html#5990609">p</a></span><span class="op" id="5990872">.</span><span class="ident" id="5990873"><a href="/gostd/go/parser/parser.go.html#5967811">expectClosing</a></span><span class="op" id="5990886">(</span><span class="ident" id="5990887"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5990892">.</span><span class="ident" id="5990893"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="5990899">,</span>&nbsp;<span class="string" id="5990901">&#34;composite&nbsp;literal&#34;</span><span class="op" id="5990920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5990923">return</span>&nbsp;<span class="op" id="5990930">&amp;</span><span class="ident" id="5990931"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5990934">.</span><span class="ident" id="5990935"><a href="/gostd/go/ast/ast.go.html#3801158">CompositeLit</a></span><span class="op" id="5990947">{</span><span class="ident" id="5990948"><a href="/gostd/go/ast/ast.go.html#3801182">Type</a></span><span class="op" id="5990952">:</span>&nbsp;<span class="ident" id="5990954"><a href="/gostd/go/parser/parser.go.html#5990638">typ</a></span><span class="op" id="5990957">,</span>&nbsp;<span class="ident" id="5990959"><a href="/gostd/go/ast/ast.go.html#3801225">Lbrace</a></span><span class="op" id="5990965">:</span>&nbsp;<span class="ident" id="5990967"><a href="/gostd/go/parser/parser.go.html#5990719">lbrace</a></span><span class="op" id="5990973">,</span>&nbsp;<span class="ident" id="5990975"><a href="/gostd/go/ast/ast.go.html#3801263">Elts</a></span><span class="op" id="5990979">:</span>&nbsp;<span class="ident" id="5990981"><a href="/gostd/go/parser/parser.go.html#5990757">elts</a></span><span class="op" id="5990985">,</span>&nbsp;<span class="ident" id="5990987"><a href="/gostd/go/ast/ast.go.html#3801320">Rbrace</a></span><span class="op" id="5990993">:</span>&nbsp;<span class="ident" id="5990995"><a href="/gostd/go/parser/parser.go.html#5990861">rbrace</a></span><span class="op" id="5991001">}</span><br>
<span class="lineno">1335</span><span class="op" id="5991003">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5991006">//&nbsp;checkExpr&nbsp;checks&nbsp;that&nbsp;x&nbsp;is&nbsp;an&nbsp;expression&nbsp;(and&nbsp;not&nbsp;a&nbsp;type).</span><br>
<span class="lineno"></span><span class="keyword" id="5991068">func</span>&nbsp;<span class="op" id="5991073">(</span><span class="ident" id="5991074">p</span>&nbsp;<span class="op" id="5991076">*</span><span class="ident" id="5991077"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5991083">)</span>&nbsp;<span class="ident" id="5991085">checkExpr</span><span class="op" id="5991094">(</span><span class="ident" id="5991095">x</span>&nbsp;<span class="ident" id="5991097"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991100">.</span><span class="ident" id="5991101"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5991105">)</span>&nbsp;<span class="ident" id="5991107"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991110">.</span><span class="ident" id="5991111"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5991116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991119">switch</span>&nbsp;<span class="ident" id="5991126"><a href="/gostd/go/parser/parser.go.html#5992901">unparen</a></span><span class="op" id="5991133">(</span><span class="ident" id="5991134"><a href="/gostd/go/parser/parser.go.html#5991095">x</a></span><span class="op" id="5991135">)</span><span class="op" id="5991136">.</span><span class="op" id="5991137">(</span><span class="keyword" id="5991138">type</span><span class="op" id="5991142">)</span>&nbsp;<span class="op" id="5991144">{</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991147">case</span>&nbsp;<span class="op" id="5991152">*</span><span class="ident" id="5991153"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991156">.</span><span class="ident" id="5991157"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5991164">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991167">case</span>&nbsp;<span class="op" id="5991172">*</span><span class="ident" id="5991173"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991176">.</span><span class="ident" id="5991177"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5991182">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991185">case</span>&nbsp;<span class="op" id="5991190">*</span><span class="ident" id="5991191"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991194">.</span><span class="ident" id="5991195"><a href="/gostd/go/ast/ast.go.html#3800698">BasicLit</a></span><span class="op" id="5991203">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991206">case</span>&nbsp;<span class="op" id="5991211">*</span><span class="ident" id="5991212"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991215">.</span><span class="ident" id="5991216"><a href="/gostd/go/ast/ast.go.html#3801010">FuncLit</a></span><span class="op" id="5991223">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991226">case</span>&nbsp;<span class="op" id="5991231">*</span><span class="ident" id="5991232"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991235">.</span><span class="ident" id="5991236"><a href="/gostd/go/ast/ast.go.html#3801158">CompositeLit</a></span><span class="op" id="5991248">:</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991251">case</span>&nbsp;<span class="op" id="5991256">*</span><span class="ident" id="5991257"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991260">.</span><span class="ident" id="5991261"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5991270">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5991274">panic</span><span class="op" id="5991279">(</span><span class="string" id="5991280">&#34;unreachable&#34;</span><span class="op" id="5991293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991296">case</span>&nbsp;<span class="op" id="5991301">*</span><span class="ident" id="5991302"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991305">.</span><span class="ident" id="5991306"><a href="/gostd/go/ast/ast.go.html#3801641">SelectorExpr</a></span><span class="op" id="5991318">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991321">case</span>&nbsp;<span class="op" id="5991326">*</span><span class="ident" id="5991327"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991330">.</span><span class="ident" id="5991331"><a href="/gostd/go/ast/ast.go.html#3801795">IndexExpr</a></span><span class="op" id="5991340">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991343">case</span>&nbsp;<span class="op" id="5991348">*</span><span class="ident" id="5991349"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991352">.</span><span class="ident" id="5991353"><a href="/gostd/go/ast/ast.go.html#3802041">SliceExpr</a></span><span class="op" id="5991362">:</span><br>
<span class="lineno">1350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991365">case</span>&nbsp;<span class="op" id="5991370">*</span><span class="ident" id="5991371"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991374">.</span><span class="ident" id="5991375"><a href="/gostd/go/ast/ast.go.html#3802482">TypeAssertExpr</a></span><span class="op" id="5991389">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5991393">//&nbsp;If&nbsp;t.Type&nbsp;==&nbsp;nil&nbsp;we&nbsp;have&nbsp;a&nbsp;type&nbsp;assertion&nbsp;of&nbsp;the&nbsp;form</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5991452">//&nbsp;y.(type),&nbsp;which&nbsp;is&nbsp;only&nbsp;allowed&nbsp;in&nbsp;type&nbsp;switch&nbsp;expressions.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5991517">//&nbsp;It&#39;s&nbsp;hard&nbsp;to&nbsp;exclude&nbsp;those&nbsp;but&nbsp;for&nbsp;the&nbsp;case&nbsp;where&nbsp;we&nbsp;are&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5991582">//&nbsp;a&nbsp;type&nbsp;switch.&nbsp;Instead&nbsp;be&nbsp;lenient&nbsp;and&nbsp;test&nbsp;this&nbsp;in&nbsp;the&nbsp;type</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5991647">//&nbsp;checker.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991660">case</span>&nbsp;<span class="op" id="5991665">*</span><span class="ident" id="5991666"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991669">.</span><span class="ident" id="5991670"><a href="/gostd/go/ast/ast.go.html#3802763">CallExpr</a></span><span class="op" id="5991678">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991681">case</span>&nbsp;<span class="op" id="5991686">*</span><span class="ident" id="5991687"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991690">.</span><span class="ident" id="5991691"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="5991699">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991702">case</span>&nbsp;<span class="op" id="5991707">*</span><span class="ident" id="5991708"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991711">.</span><span class="ident" id="5991712"><a href="/gostd/go/ast/ast.go.html#3803365">UnaryExpr</a></span><span class="op" id="5991721">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991724">case</span>&nbsp;<span class="op" id="5991729">*</span><span class="ident" id="5991730"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991733">.</span><span class="ident" id="5991734"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5991744">:</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991747">default</span><span class="op" id="5991754">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5991758">//&nbsp;all&nbsp;other&nbsp;nodes&nbsp;are&nbsp;not&nbsp;proper&nbsp;expressions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5991806"><a href="/gostd/go/parser/parser.go.html#5991074">p</a></span><span class="op" id="5991807">.</span><span class="ident" id="5991808"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5991821">(</span><span class="ident" id="5991822"><a href="/gostd/go/parser/parser.go.html#5991095">x</a></span><span class="op" id="5991823">.</span><span class="ident" id="5991824"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5991827">(</span><span class="op" id="5991828">)</span><span class="op" id="5991829">,</span>&nbsp;<span class="string" id="5991831">&#34;expression&#34;</span><span class="op" id="5991843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5991847"><a href="/gostd/go/parser/parser.go.html#5991095">x</a></span>&nbsp;<span class="op" id="5991849">=</span>&nbsp;<span class="op" id="5991851">&amp;</span><span class="ident" id="5991852"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5991855">.</span><span class="ident" id="5991856"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5991863">{</span><span class="ident" id="5991864"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5991868">:</span>&nbsp;<span class="ident" id="5991870"><a href="/gostd/go/parser/parser.go.html#5991095">x</a></span><span class="op" id="5991871">.</span><span class="ident" id="5991872"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5991875">(</span><span class="op" id="5991876">)</span><span class="op" id="5991877">,</span>&nbsp;<span class="ident" id="5991879"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5991881">:</span>&nbsp;<span class="ident" id="5991883"><a href="/gostd/go/parser/parser.go.html#5991074">p</a></span><span class="op" id="5991884">.</span><span class="ident" id="5991885"><a href="/gostd/go/parser/parser.go.html#5970773">safePos</a></span><span class="op" id="5991892">(</span><span class="ident" id="5991893"><a href="/gostd/go/parser/parser.go.html#5991095">x</a></span><span class="op" id="5991894">.</span><span class="ident" id="5991895"><a href="/gostd/go/ast/ast.go.html#3795102">End</a></span><span class="op" id="5991898">(</span><span class="op" id="5991899">)</span><span class="op" id="5991900">)</span><span class="op" id="5991901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5991904">}</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5991907">return</span>&nbsp;<span class="ident" id="5991914"><a href="/gostd/go/parser/parser.go.html#5991095">x</a></span><br>
<span class="lineno"></span><span class="op" id="5991916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5991919">//&nbsp;isTypeName&nbsp;returns&nbsp;true&nbsp;iff&nbsp;x&nbsp;is&nbsp;a&nbsp;(qualified)&nbsp;TypeName.</span><br>
<span class="lineno"></span><span class="keyword" id="5991979">func</span>&nbsp;<span class="ident" id="5991984">isTypeName</span><span class="op" id="5991994">(</span><span class="ident" id="5991995">x</span>&nbsp;<span class="ident" id="5991997"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992000">.</span><span class="ident" id="5992001"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5992005">)</span>&nbsp;<span class="builtintype" id="5992007">bool</span>&nbsp;<span class="op" id="5992012">{</span><br>
<span class="lineno">1370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992015">switch</span>&nbsp;<span class="ident" id="5992022">t</span>&nbsp;<span class="op" id="5992024">:=</span>&nbsp;<span class="ident" id="5992027"><a href="/gostd/go/parser/parser.go.html#5991995">x</a></span><span class="op" id="5992028">.</span><span class="op" id="5992029">(</span><span class="keyword" id="5992030">type</span><span class="op" id="5992034">)</span>&nbsp;<span class="op" id="5992036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992039">case</span>&nbsp;<span class="op" id="5992044">*</span><span class="ident" id="5992045"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992048">.</span><span class="ident" id="5992049"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5992056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992059">case</span>&nbsp;<span class="op" id="5992064">*</span><span class="ident" id="5992065"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992068">.</span><span class="ident" id="5992069"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5992074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992077">case</span>&nbsp;<span class="op" id="5992082">*</span><span class="ident" id="5992083"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992086">.</span><span class="ident" id="5992087"><a href="/gostd/go/ast/ast.go.html#3801641">SelectorExpr</a></span><span class="op" id="5992099">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5992103">_</span><span class="op" id="5992104">,</span>&nbsp;<span class="ident" id="5992106">isIdent</span>&nbsp;<span class="op" id="5992114">:=</span>&nbsp;<span class="ident" id="5992117"><a href="/gostd/go/parser/parser.go.html#5992022">t</a></span><span class="op" id="5992118">.</span><span class="ident" id="5992119"><a href="/gostd/go/ast/ast.go.html#3801665">X</a></span><span class="op" id="5992120">.</span><span class="op" id="5992121">(</span><span class="op" id="5992122">*</span><span class="ident" id="5992123"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992126">.</span><span class="ident" id="5992127"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5992132">)</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992136">return</span>&nbsp;<span class="ident" id="5992143"><a href="/gostd/go/parser/parser.go.html#5992106">isIdent</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992152">default</span><span class="op" id="5992159">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992163">return</span>&nbsp;<span class="builtintype" id="5992170">false</span>&nbsp;<span class="comment" id="5992176">//&nbsp;all&nbsp;other&nbsp;nodes&nbsp;are&nbsp;not&nbsp;type&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5992215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992218">return</span>&nbsp;<span class="builtintype" id="5992225">true</span><br>
<span class="lineno">1380</span><span class="op" id="5992230">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5992233">//&nbsp;isLiteralType&nbsp;returns&nbsp;true&nbsp;iff&nbsp;x&nbsp;is&nbsp;a&nbsp;legal&nbsp;composite&nbsp;literal&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5992304">func</span>&nbsp;<span class="ident" id="5992309">isLiteralType</span><span class="op" id="5992322">(</span><span class="ident" id="5992323">x</span>&nbsp;<span class="ident" id="5992325"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992328">.</span><span class="ident" id="5992329"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5992333">)</span>&nbsp;<span class="builtintype" id="5992335">bool</span>&nbsp;<span class="op" id="5992340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992343">switch</span>&nbsp;<span class="ident" id="5992350">t</span>&nbsp;<span class="op" id="5992352">:=</span>&nbsp;<span class="ident" id="5992355"><a href="/gostd/go/parser/parser.go.html#5992323">x</a></span><span class="op" id="5992356">.</span><span class="op" id="5992357">(</span><span class="keyword" id="5992358">type</span><span class="op" id="5992362">)</span>&nbsp;<span class="op" id="5992364">{</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992367">case</span>&nbsp;<span class="op" id="5992372">*</span><span class="ident" id="5992373"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992376">.</span><span class="ident" id="5992377"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5992384">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992387">case</span>&nbsp;<span class="op" id="5992392">*</span><span class="ident" id="5992393"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992396">.</span><span class="ident" id="5992397"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5992402">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992405">case</span>&nbsp;<span class="op" id="5992410">*</span><span class="ident" id="5992411"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992414">.</span><span class="ident" id="5992415"><a href="/gostd/go/ast/ast.go.html#3801641">SelectorExpr</a></span><span class="op" id="5992427">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5992431">_</span><span class="op" id="5992432">,</span>&nbsp;<span class="ident" id="5992434">isIdent</span>&nbsp;<span class="op" id="5992442">:=</span>&nbsp;<span class="ident" id="5992445"><a href="/gostd/go/parser/parser.go.html#5992350">t</a></span><span class="op" id="5992446">.</span><span class="ident" id="5992447"><a href="/gostd/go/ast/ast.go.html#3801665">X</a></span><span class="op" id="5992448">.</span><span class="op" id="5992449">(</span><span class="op" id="5992450">*</span><span class="ident" id="5992451"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992454">.</span><span class="ident" id="5992455"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5992460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992464">return</span>&nbsp;<span class="ident" id="5992471"><a href="/gostd/go/parser/parser.go.html#5992434">isIdent</a></span><br>
<span class="lineno">1390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992480">case</span>&nbsp;<span class="op" id="5992485">*</span><span class="ident" id="5992486"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992489">.</span><span class="ident" id="5992490"><a href="/gostd/go/ast/ast.go.html#3804223">ArrayType</a></span><span class="op" id="5992499">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992502">case</span>&nbsp;<span class="op" id="5992507">*</span><span class="ident" id="5992508"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992511">.</span><span class="ident" id="5992512"><a href="/gostd/go/ast/ast.go.html#3804448">StructType</a></span><span class="op" id="5992522">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992525">case</span>&nbsp;<span class="op" id="5992530">*</span><span class="ident" id="5992531"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992534">.</span><span class="ident" id="5992535"><a href="/gostd/go/ast/ast.go.html#3805296">MapType</a></span><span class="op" id="5992542">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992545">default</span><span class="op" id="5992552">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992556">return</span>&nbsp;<span class="builtintype" id="5992563">false</span>&nbsp;<span class="comment" id="5992569">//&nbsp;all&nbsp;other&nbsp;nodes&nbsp;are&nbsp;not&nbsp;legal&nbsp;composite&nbsp;literal&nbsp;types</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5992627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992630">return</span>&nbsp;<span class="builtintype" id="5992637">true</span><br>
<span class="lineno"></span><span class="op" id="5992642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5992645">//&nbsp;If&nbsp;x&nbsp;is&nbsp;of&nbsp;the&nbsp;form&nbsp;*T,&nbsp;deref&nbsp;returns&nbsp;T,&nbsp;otherwise&nbsp;it&nbsp;returns&nbsp;x.</span><br>
<span class="lineno">1400</span><span class="keyword" id="5992713">func</span>&nbsp;<span class="ident" id="5992718">deref</span><span class="op" id="5992723">(</span><span class="ident" id="5992724">x</span>&nbsp;<span class="ident" id="5992726"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992729">.</span><span class="ident" id="5992730"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5992734">)</span>&nbsp;<span class="ident" id="5992736"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992739">.</span><span class="ident" id="5992740"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5992745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992748">if</span>&nbsp;<span class="ident" id="5992751">p</span><span class="op" id="5992752">,</span>&nbsp;<span class="ident" id="5992754">isPtr</span>&nbsp;<span class="op" id="5992760">:=</span>&nbsp;<span class="ident" id="5992763"><a href="/gostd/go/parser/parser.go.html#5992724">x</a></span><span class="op" id="5992764">.</span><span class="op" id="5992765">(</span><span class="op" id="5992766">*</span><span class="ident" id="5992767"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992770">.</span><span class="ident" id="5992771"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="5992779">)</span><span class="op" id="5992780">;</span>&nbsp;<span class="ident" id="5992782"><a href="/gostd/go/parser/parser.go.html#5992754">isPtr</a></span>&nbsp;<span class="op" id="5992788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5992792"><a href="/gostd/go/parser/parser.go.html#5992724">x</a></span>&nbsp;<span class="op" id="5992794">=</span>&nbsp;<span class="ident" id="5992796"><a href="/gostd/go/parser/parser.go.html#5992751">p</a></span><span class="op" id="5992797">.</span><span class="ident" id="5992798"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5992801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992804">return</span>&nbsp;<span class="ident" id="5992811"><a href="/gostd/go/parser/parser.go.html#5992724">x</a></span><br>
<span class="lineno">1405</span><span class="op" id="5992813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5992816">//&nbsp;If&nbsp;x&nbsp;is&nbsp;of&nbsp;the&nbsp;form&nbsp;(T),&nbsp;unparen&nbsp;returns&nbsp;unparen(T),&nbsp;otherwise&nbsp;it&nbsp;returns&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="5992896">func</span>&nbsp;<span class="ident" id="5992901">unparen</span><span class="op" id="5992908">(</span><span class="ident" id="5992909">x</span>&nbsp;<span class="ident" id="5992911"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992914">.</span><span class="ident" id="5992915"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5992919">)</span>&nbsp;<span class="ident" id="5992921"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992924">.</span><span class="ident" id="5992925"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5992930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5992933">if</span>&nbsp;<span class="ident" id="5992936">p</span><span class="op" id="5992937">,</span>&nbsp;<span class="ident" id="5992939">isParen</span>&nbsp;<span class="op" id="5992947">:=</span>&nbsp;<span class="ident" id="5992950"><a href="/gostd/go/parser/parser.go.html#5992909">x</a></span><span class="op" id="5992951">.</span><span class="op" id="5992952">(</span><span class="op" id="5992953">*</span><span class="ident" id="5992954"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5992957">.</span><span class="ident" id="5992958"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5992967">)</span><span class="op" id="5992968">;</span>&nbsp;<span class="ident" id="5992970"><a href="/gostd/go/parser/parser.go.html#5992939">isParen</a></span>&nbsp;<span class="op" id="5992978">{</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5992982"><a href="/gostd/go/parser/parser.go.html#5992909">x</a></span>&nbsp;<span class="op" id="5992984">=</span>&nbsp;<span class="ident" id="5992986"><a href="/gostd/go/parser/parser.go.html#5992901">unparen</a></span><span class="op" id="5992993">(</span><span class="ident" id="5992994"><a href="/gostd/go/parser/parser.go.html#5992936">p</a></span><span class="op" id="5992995">.</span><span class="ident" id="5992996"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="5992997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5993000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993003">return</span>&nbsp;<span class="ident" id="5993010"><a href="/gostd/go/parser/parser.go.html#5992909">x</a></span><br>
<span class="lineno"></span><span class="op" id="5993012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1415</span><span class="comment" id="5993015">//&nbsp;checkExprOrType&nbsp;checks&nbsp;that&nbsp;x&nbsp;is&nbsp;an&nbsp;expression&nbsp;or&nbsp;a&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="5993075">//&nbsp;(and&nbsp;not&nbsp;a&nbsp;raw&nbsp;type&nbsp;such&nbsp;as&nbsp;[...]T).</span><br>
<span class="lineno"></span><span class="comment" id="5993115">//</span><br>
<span class="lineno"></span><span class="keyword" id="5993118">func</span>&nbsp;<span class="op" id="5993123">(</span><span class="ident" id="5993124">p</span>&nbsp;<span class="op" id="5993126">*</span><span class="ident" id="5993127"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5993133">)</span>&nbsp;<span class="ident" id="5993135">checkExprOrType</span><span class="op" id="5993150">(</span><span class="ident" id="5993151">x</span>&nbsp;<span class="ident" id="5993153"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5993156">.</span><span class="ident" id="5993157"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5993161">)</span>&nbsp;<span class="ident" id="5993163"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5993166">.</span><span class="ident" id="5993167"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5993172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993175">switch</span>&nbsp;<span class="ident" id="5993182">t</span>&nbsp;<span class="op" id="5993184">:=</span>&nbsp;<span class="ident" id="5993187"><a href="/gostd/go/parser/parser.go.html#5992901">unparen</a></span><span class="op" id="5993194">(</span><span class="ident" id="5993195"><a href="/gostd/go/parser/parser.go.html#5993151">x</a></span><span class="op" id="5993196">)</span><span class="op" id="5993197">.</span><span class="op" id="5993198">(</span><span class="keyword" id="5993199">type</span><span class="op" id="5993203">)</span>&nbsp;<span class="op" id="5993205">{</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993208">case</span>&nbsp;<span class="op" id="5993213">*</span><span class="ident" id="5993214"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5993217">.</span><span class="ident" id="5993218"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="5993227">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5993231">panic</span><span class="op" id="5993236">(</span><span class="string" id="5993237">&#34;unreachable&#34;</span><span class="op" id="5993250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993253">case</span>&nbsp;<span class="op" id="5993258">*</span><span class="ident" id="5993259"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5993262">.</span><span class="ident" id="5993263"><a href="/gostd/go/ast/ast.go.html#3803365">UnaryExpr</a></span><span class="op" id="5993272">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993275">case</span>&nbsp;<span class="op" id="5993280">*</span><span class="ident" id="5993281"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5993284">.</span><span class="ident" id="5993285"><a href="/gostd/go/ast/ast.go.html#3804223">ArrayType</a></span><span class="op" id="5993294">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993298">if</span>&nbsp;<span class="builtinfunc" id="5993301">len</span><span class="op" id="5993304">,</span>&nbsp;<span class="ident" id="5993306">isEllipsis</span>&nbsp;<span class="op" id="5993317">:=</span>&nbsp;<span class="ident" id="5993320"><a href="/gostd/go/parser/parser.go.html#5993182">t</a></span><span class="op" id="5993321">.</span><span class="ident" id="5993322"><a href="/gostd/go/ast/ast.go.html#3804282">Len</a></span><span class="op" id="5993325">.</span><span class="op" id="5993326">(</span><span class="op" id="5993327">*</span><span class="ident" id="5993328"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5993331">.</span><span class="ident" id="5993332"><a href="/gostd/go/ast/ast.go.html#3800500">Ellipsis</a></span><span class="op" id="5993340">)</span><span class="op" id="5993341">;</span>&nbsp;<span class="ident" id="5993343"><a href="/gostd/go/parser/parser.go.html#5993306">isEllipsis</a></span>&nbsp;<span class="op" id="5993354">{</span><br>
<span class="lineno">1425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5993359"><a href="/gostd/go/parser/parser.go.html#5993124">p</a></span><span class="op" id="5993360">.</span><span class="builtintype" id="5993361"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="5993366">(</span><span class="builtinfunc" id="5993367"><a href="/gostd/go/parser/parser.go.html#5993301">len</a></span><span class="op" id="5993370">.</span><span class="ident" id="5993371"><a href="/gostd/go/ast/ast.go.html#3805874">Pos</a></span><span class="op" id="5993374">(</span><span class="op" id="5993375">)</span><span class="op" id="5993376">,</span>&nbsp;<span class="string" id="5993378">&#34;expected&nbsp;array&nbsp;length,&nbsp;found&nbsp;&#39;...&#39;&#34;</span><span class="op" id="5993414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5993419"><a href="/gostd/go/parser/parser.go.html#5993151">x</a></span>&nbsp;<span class="op" id="5993421">=</span>&nbsp;<span class="op" id="5993423">&amp;</span><span class="ident" id="5993424"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5993427">.</span><span class="ident" id="5993428"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5993435">{</span><span class="ident" id="5993436"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5993440">:</span>&nbsp;<span class="ident" id="5993442"><a href="/gostd/go/parser/parser.go.html#5993151">x</a></span><span class="op" id="5993443">.</span><span class="ident" id="5993444"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5993447">(</span><span class="op" id="5993448">)</span><span class="op" id="5993449">,</span>&nbsp;<span class="ident" id="5993451"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5993453">:</span>&nbsp;<span class="ident" id="5993455"><a href="/gostd/go/parser/parser.go.html#5993124">p</a></span><span class="op" id="5993456">.</span><span class="ident" id="5993457"><a href="/gostd/go/parser/parser.go.html#5970773">safePos</a></span><span class="op" id="5993464">(</span><span class="ident" id="5993465"><a href="/gostd/go/parser/parser.go.html#5993151">x</a></span><span class="op" id="5993466">.</span><span class="ident" id="5993467"><a href="/gostd/go/ast/ast.go.html#3795102">End</a></span><span class="op" id="5993470">(</span><span class="op" id="5993471">)</span><span class="op" id="5993472">)</span><span class="op" id="5993473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5993477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5993480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5993484">//&nbsp;all&nbsp;other&nbsp;nodes&nbsp;are&nbsp;expressions&nbsp;or&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993529">return</span>&nbsp;<span class="ident" id="5993536"><a href="/gostd/go/parser/parser.go.html#5993151">x</a></span><br>
<span class="lineno"></span><span class="op" id="5993538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5993541">//&nbsp;If&nbsp;lhs&nbsp;is&nbsp;set&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;it&nbsp;is&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno">1435</span><span class="keyword" id="5993611">func</span>&nbsp;<span class="op" id="5993616">(</span><span class="ident" id="5993617">p</span>&nbsp;<span class="op" id="5993619">*</span><span class="ident" id="5993620"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5993626">)</span>&nbsp;<span class="ident" id="5993628">parsePrimaryExpr</span><span class="op" id="5993644">(</span><span class="ident" id="5993645">lhs</span>&nbsp;<span class="builtintype" id="5993649">bool</span><span class="op" id="5993653">)</span>&nbsp;<span class="ident" id="5993655"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5993658">.</span><span class="ident" id="5993659"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5993664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993667">if</span>&nbsp;<span class="ident" id="5993670"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993671">.</span><span class="ident" id="5993672"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5993678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993682">defer</span>&nbsp;<span class="ident" id="5993688"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5993690">(</span><span class="ident" id="5993691"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5993696">(</span><span class="ident" id="5993697"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993698">,</span>&nbsp;<span class="string" id="5993700">&#34;PrimaryExpr&#34;</span><span class="op" id="5993713">)</span><span class="op" id="5993714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5993717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5993721">x</span>&nbsp;<span class="op" id="5993723">:=</span>&nbsp;<span class="ident" id="5993726"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993727">.</span><span class="ident" id="5993728"><a href="/gostd/go/parser/parser.go.html#5985226">parseOperand</a></span><span class="op" id="5993740">(</span><span class="ident" id="5993741"><a href="/gostd/go/parser/parser.go.html#5993645">lhs</a></span><span class="op" id="5993744">)</span><br>
<span class="lineno"></span><span class="ident" id="5993746">L</span><span class="op" id="5993747">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993750">for</span>&nbsp;<span class="op" id="5993754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993758">switch</span>&nbsp;<span class="ident" id="5993765"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993766">.</span><span class="ident" id="5993767"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5993771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993775">case</span>&nbsp;<span class="ident" id="5993780"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5993785">.</span><span class="ident" id="5993786"><a href="/gostd/go/token/token.go.html#3890615">PERIOD</a></span><span class="op" id="5993792">:</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5993797"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993798">.</span><span class="ident" id="5993799"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5993803">(</span><span class="op" id="5993804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993809">if</span>&nbsp;<span class="ident" id="5993812"><a href="/gostd/go/parser/parser.go.html#5993645">lhs</a></span>&nbsp;<span class="op" id="5993816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5993822"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993823">.</span><span class="ident" id="5993824"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5993831">(</span><span class="ident" id="5993832"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5993833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5993838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993843">switch</span>&nbsp;<span class="ident" id="5993850"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993851">.</span><span class="ident" id="5993852"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5993856">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993861">case</span>&nbsp;<span class="ident" id="5993866"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5993871">.</span><span class="ident" id="5993872"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span><span class="op" id="5993877">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5993883"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span>&nbsp;<span class="op" id="5993885">=</span>&nbsp;<span class="ident" id="5993887"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993888">.</span><span class="ident" id="5993889"><a href="/gostd/go/parser/parser.go.html#5986206">parseSelector</a></span><span class="op" id="5993902">(</span><span class="ident" id="5993903"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993904">.</span><span class="ident" id="5993905"><a href="/gostd/go/parser/parser.go.html#5993135">checkExprOrType</a></span><span class="op" id="5993920">(</span><span class="ident" id="5993921"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5993922">)</span><span class="op" id="5993923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993928">case</span>&nbsp;<span class="ident" id="5993933"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5993938">.</span><span class="ident" id="5993939"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5993945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5993951"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span>&nbsp;<span class="op" id="5993953">=</span>&nbsp;<span class="ident" id="5993955"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993956">.</span><span class="ident" id="5993957"><a href="/gostd/go/parser/parser.go.html#5986380">parseTypeAssertion</a></span><span class="op" id="5993975">(</span><span class="ident" id="5993976"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5993977">.</span><span class="ident" id="5993978"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5993987">(</span><span class="ident" id="5993988"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5993989">)</span><span class="op" id="5993990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5993995">default</span><span class="op" id="5994002">:</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994008">pos</span>&nbsp;<span class="op" id="5994012">:=</span>&nbsp;<span class="ident" id="5994015"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994016">.</span><span class="ident" id="5994017"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994025"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994026">.</span><span class="ident" id="5994027"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5994040">(</span><span class="ident" id="5994041"><a href="/gostd/go/parser/parser.go.html#5994008">pos</a></span><span class="op" id="5994044">,</span>&nbsp;<span class="string" id="5994046">&#34;selector&nbsp;or&nbsp;type&nbsp;assertion&#34;</span><span class="op" id="5994074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994080"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994081">.</span><span class="ident" id="5994082"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5994086">(</span><span class="op" id="5994087">)</span>&nbsp;<span class="comment" id="5994089">//&nbsp;make&nbsp;progress</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994110"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span>&nbsp;<span class="op" id="5994112">=</span>&nbsp;<span class="op" id="5994114">&amp;</span><span class="ident" id="5994115"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5994118">.</span><span class="ident" id="5994119"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="5994126">{</span><span class="ident" id="5994127"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="5994131">:</span>&nbsp;<span class="ident" id="5994133"><a href="/gostd/go/parser/parser.go.html#5994008">pos</a></span><span class="op" id="5994136">,</span>&nbsp;<span class="ident" id="5994138"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="5994140">:</span>&nbsp;<span class="ident" id="5994142"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994143">.</span><span class="ident" id="5994144"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5994147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5994152">}</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994156">case</span>&nbsp;<span class="ident" id="5994161"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5994166">.</span><span class="ident" id="5994167"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="5994173">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994178">if</span>&nbsp;<span class="ident" id="5994181"><a href="/gostd/go/parser/parser.go.html#5993645">lhs</a></span>&nbsp;<span class="op" id="5994185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994191"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994192">.</span><span class="ident" id="5994193"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5994200">(</span><span class="ident" id="5994201"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5994202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5994207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994212"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span>&nbsp;<span class="op" id="5994214">=</span>&nbsp;<span class="ident" id="5994216"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994217">.</span><span class="ident" id="5994218"><a href="/gostd/go/parser/parser.go.html#5986763">parseIndexOrSlice</a></span><span class="op" id="5994235">(</span><span class="ident" id="5994236"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994237">.</span><span class="ident" id="5994238"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5994247">(</span><span class="ident" id="5994248"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5994249">)</span><span class="op" id="5994250">)</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994254">case</span>&nbsp;<span class="ident" id="5994259"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5994264">.</span><span class="ident" id="5994265"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="5994271">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994276">if</span>&nbsp;<span class="ident" id="5994279"><a href="/gostd/go/parser/parser.go.html#5993645">lhs</a></span>&nbsp;<span class="op" id="5994283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994289"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994290">.</span><span class="ident" id="5994291"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5994298">(</span><span class="ident" id="5994299"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5994300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5994305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994310"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span>&nbsp;<span class="op" id="5994312">=</span>&nbsp;<span class="ident" id="5994314"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994315">.</span><span class="ident" id="5994316"><a href="/gostd/go/parser/parser.go.html#5988146">parseCallOrConversion</a></span><span class="op" id="5994337">(</span><span class="ident" id="5994338"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994339">.</span><span class="ident" id="5994340"><a href="/gostd/go/parser/parser.go.html#5993135">checkExprOrType</a></span><span class="op" id="5994355">(</span><span class="ident" id="5994356"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5994357">)</span><span class="op" id="5994358">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994362">case</span>&nbsp;<span class="ident" id="5994367"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5994372">.</span><span class="ident" id="5994373"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="5994379">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994384">if</span>&nbsp;<span class="ident" id="5994387"><a href="/gostd/go/parser/parser.go.html#5992309">isLiteralType</a></span><span class="op" id="5994400">(</span><span class="ident" id="5994401"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5994402">)</span>&nbsp;<span class="op" id="5994404">&amp;&amp;</span>&nbsp;<span class="op" id="5994407">(</span><span class="ident" id="5994408"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994409">.</span><span class="ident" id="5994410"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span>&nbsp;<span class="op" id="5994418">&gt;=</span>&nbsp;<span class="num" id="5994421">0</span>&nbsp;<span class="op" id="5994423">||</span>&nbsp;<span class="op" id="5994426">!</span><span class="ident" id="5994427"><a href="/gostd/go/parser/parser.go.html#5991984">isTypeName</a></span><span class="op" id="5994437">(</span><span class="ident" id="5994438"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5994439">)</span><span class="op" id="5994440">)</span>&nbsp;<span class="op" id="5994442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994448">if</span>&nbsp;<span class="ident" id="5994451"><a href="/gostd/go/parser/parser.go.html#5993645">lhs</a></span>&nbsp;<span class="op" id="5994455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994462"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994463">.</span><span class="ident" id="5994464"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5994471">(</span><span class="ident" id="5994472"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5994473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5994479">}</span><br>
<span class="lineno">1475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994485"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span>&nbsp;<span class="op" id="5994487">=</span>&nbsp;<span class="ident" id="5994489"><a href="/gostd/go/parser/parser.go.html#5993617">p</a></span><span class="op" id="5994490">.</span><span class="ident" id="5994491"><a href="/gostd/go/parser/parser.go.html#5990620">parseLiteralValue</a></span><span class="op" id="5994508">(</span><span class="ident" id="5994509"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><span class="op" id="5994510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5994515">}</span>&nbsp;<span class="keyword" id="5994517">else</span>&nbsp;<span class="op" id="5994522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994528">break</span>&nbsp;<span class="ident" id="5994534"><a href="/gostd/go/parser/parser.go.html#5993746">L</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5994539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994543">default</span><span class="op" id="5994550">:</span><br>
<span class="lineno">1480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994555">break</span>&nbsp;<span class="ident" id="5994561"><a href="/gostd/go/parser/parser.go.html#5993746">L</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5994565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994569"><a href="/gostd/go/parser/parser.go.html#5993645">lhs</a></span>&nbsp;<span class="op" id="5994573">=</span>&nbsp;<span class="builtintype" id="5994575">false</span>&nbsp;<span class="comment" id="5994581">//&nbsp;no&nbsp;need&nbsp;to&nbsp;try&nbsp;to&nbsp;resolve&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5994617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994621">return</span>&nbsp;<span class="ident" id="5994628"><a href="/gostd/go/parser/parser.go.html#5993721">x</a></span><br>
<span class="lineno"></span><span class="op" id="5994630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5994633">//&nbsp;If&nbsp;lhs&nbsp;is&nbsp;set&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;it&nbsp;is&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno"></span><span class="keyword" id="5994703">func</span>&nbsp;<span class="op" id="5994708">(</span><span class="ident" id="5994709">p</span>&nbsp;<span class="op" id="5994711">*</span><span class="ident" id="5994712"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5994718">)</span>&nbsp;<span class="ident" id="5994720">parseUnaryExpr</span><span class="op" id="5994734">(</span><span class="ident" id="5994735">lhs</span>&nbsp;<span class="builtintype" id="5994739">bool</span><span class="op" id="5994743">)</span>&nbsp;<span class="ident" id="5994745"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5994748">.</span><span class="ident" id="5994749"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5994754">{</span><br>
<span class="lineno">1490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994757">if</span>&nbsp;<span class="ident" id="5994760"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5994761">.</span><span class="ident" id="5994762"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5994768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994772">defer</span>&nbsp;<span class="ident" id="5994778"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5994780">(</span><span class="ident" id="5994781"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5994786">(</span><span class="ident" id="5994787"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5994788">,</span>&nbsp;<span class="string" id="5994790">&#34;UnaryExpr&#34;</span><span class="op" id="5994801">)</span><span class="op" id="5994802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5994805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994809">switch</span>&nbsp;<span class="ident" id="5994816"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5994817">.</span><span class="ident" id="5994818"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5994822">{</span><br>
<span class="lineno">1495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994825">case</span>&nbsp;<span class="ident" id="5994830"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5994835">.</span><span class="ident" id="5994836"><a href="/gostd/go/token/token.go.html#3889982">ADD</a></span><span class="op" id="5994839">,</span>&nbsp;<span class="ident" id="5994841"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5994846">.</span><span class="ident" id="5994847"><a href="/gostd/go/token/token.go.html#3889992">SUB</a></span><span class="op" id="5994850">,</span>&nbsp;<span class="ident" id="5994852"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5994857">.</span><span class="ident" id="5994858"><a href="/gostd/go/token/token.go.html#3890467">NOT</a></span><span class="op" id="5994861">,</span>&nbsp;<span class="ident" id="5994863"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5994868">.</span><span class="ident" id="5994869"><a href="/gostd/go/token/token.go.html#3890061">XOR</a></span><span class="op" id="5994872">,</span>&nbsp;<span class="ident" id="5994874"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5994879">.</span><span class="ident" id="5994880"><a href="/gostd/go/token/token.go.html#3890033">AND</a></span><span class="op" id="5994883">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994887">pos</span><span class="op" id="5994890">,</span>&nbsp;<span class="ident" id="5994892">op</span>&nbsp;<span class="op" id="5994895">:=</span>&nbsp;<span class="ident" id="5994898"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5994899">.</span><span class="ident" id="5994900"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5994903">,</span>&nbsp;<span class="ident" id="5994905"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5994906">.</span><span class="ident" id="5994907"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994913"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5994914">.</span><span class="ident" id="5994915"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5994919">(</span><span class="op" id="5994920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5994924">x</span>&nbsp;<span class="op" id="5994926">:=</span>&nbsp;<span class="ident" id="5994929"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5994930">.</span><span class="ident" id="5994931"><a href="/gostd/go/parser/parser.go.html#5994720">parseUnaryExpr</a></span><span class="op" id="5994945">(</span><span class="builtintype" id="5994946">false</span><span class="op" id="5994951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5994955">return</span>&nbsp;<span class="op" id="5994962">&amp;</span><span class="ident" id="5994963"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5994966">.</span><span class="ident" id="5994967"><a href="/gostd/go/ast/ast.go.html#3803365">UnaryExpr</a></span><span class="op" id="5994976">{</span><span class="ident" id="5994977"><a href="/gostd/go/ast/ast.go.html#3803386">OpPos</a></span><span class="op" id="5994982">:</span>&nbsp;<span class="ident" id="5994984"><a href="/gostd/go/parser/parser.go.html#5994887">pos</a></span><span class="op" id="5994987">,</span>&nbsp;<span class="ident" id="5994989"><a href="/gostd/go/ast/ast.go.html#3803424">Op</a></span><span class="op" id="5994991">:</span>&nbsp;<span class="ident" id="5994993"><a href="/gostd/go/parser/parser.go.html#5994892">op</a></span><span class="op" id="5994995">,</span>&nbsp;<span class="ident" id="5994997"><a href="/gostd/go/ast/ast.go.html#3803456">X</a></span><span class="op" id="5994998">:</span>&nbsp;<span class="ident" id="5995000"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5995001">.</span><span class="ident" id="5995002"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5995011">(</span><span class="ident" id="5995012"><a href="/gostd/go/parser/parser.go.html#5994924">x</a></span><span class="op" id="5995013">)</span><span class="op" id="5995014">}</span><br>
<span class="lineno">1500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5995018">case</span>&nbsp;<span class="ident" id="5995023"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5995028">.</span><span class="ident" id="5995029"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span><span class="op" id="5995034">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995038">//&nbsp;channel&nbsp;type&nbsp;or&nbsp;receive&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5995078">arrow</span>&nbsp;<span class="op" id="5995084">:=</span>&nbsp;<span class="ident" id="5995087"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5995088">.</span><span class="ident" id="5995089"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5995095"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5995096">.</span><span class="ident" id="5995097"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5995101">(</span><span class="op" id="5995102">)</span><br>
<span class="lineno">1505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995107">//&nbsp;If&nbsp;the&nbsp;next&nbsp;token&nbsp;is&nbsp;token.CHAN&nbsp;we&nbsp;still&nbsp;don&#39;t&nbsp;know&nbsp;if&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995170">//&nbsp;is&nbsp;a&nbsp;channel&nbsp;type&nbsp;or&nbsp;a&nbsp;receive&nbsp;operation&nbsp;-&nbsp;we&nbsp;only&nbsp;know</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995231">//&nbsp;once&nbsp;we&nbsp;have&nbsp;found&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;unary&nbsp;expression.&nbsp;There</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995294">//&nbsp;are&nbsp;two&nbsp;cases:</span><br>
<span class="lineno">1510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995314">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995319">//&nbsp;&nbsp;&nbsp;&lt;-&nbsp;type&nbsp;&nbsp;=&gt;&nbsp;(&lt;-type)&nbsp;must&nbsp;be&nbsp;channel&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995368">//&nbsp;&nbsp;&nbsp;&lt;-&nbsp;expr&nbsp;&nbsp;=&gt;&nbsp;&lt;-(expr)&nbsp;is&nbsp;a&nbsp;receive&nbsp;from&nbsp;an&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995428">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995433">//&nbsp;In&nbsp;the&nbsp;first&nbsp;case,&nbsp;the&nbsp;arrow&nbsp;must&nbsp;be&nbsp;re-associated&nbsp;with</span><br>
<span class="lineno">1515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995494">//&nbsp;the&nbsp;channel&nbsp;type&nbsp;parsed&nbsp;already:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995532">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995537">//&nbsp;&nbsp;&nbsp;&lt;-&nbsp;(chan&nbsp;type)&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;&nbsp;(&lt;-chan&nbsp;type)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995580">//&nbsp;&nbsp;&nbsp;&lt;-&nbsp;(chan&lt;-&nbsp;type)&nbsp;&nbsp;=&gt;&nbsp;&nbsp;(&lt;-chan&nbsp;(&lt;-type))</span><br>
<span class="lineno"></span><br>
<span class="lineno">1520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5995628">x</span>&nbsp;<span class="op" id="5995630">:=</span>&nbsp;<span class="ident" id="5995633"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5995634">.</span><span class="ident" id="5995635"><a href="/gostd/go/parser/parser.go.html#5994720">parseUnaryExpr</a></span><span class="op" id="5995649">(</span><span class="builtintype" id="5995650">false</span><span class="op" id="5995655">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995660">//&nbsp;determine&nbsp;which&nbsp;case&nbsp;we&nbsp;have</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5995694">if</span>&nbsp;<span class="ident" id="5995697">typ</span><span class="op" id="5995700">,</span>&nbsp;<span class="ident" id="5995702">ok</span>&nbsp;<span class="op" id="5995705">:=</span>&nbsp;<span class="ident" id="5995708"><a href="/gostd/go/parser/parser.go.html#5995628">x</a></span><span class="op" id="5995709">.</span><span class="op" id="5995710">(</span><span class="op" id="5995711">*</span><span class="ident" id="5995712"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5995715">.</span><span class="ident" id="5995716"><a href="/gostd/go/ast/ast.go.html#3805438">ChanType</a></span><span class="op" id="5995724">)</span><span class="op" id="5995725">;</span>&nbsp;<span class="ident" id="5995727"><a href="/gostd/go/parser/parser.go.html#5995702">ok</a></span>&nbsp;<span class="op" id="5995730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995735">//&nbsp;(&lt;-type)</span><br>
<span class="lineno">1525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995751">//&nbsp;re-associate&nbsp;position&nbsp;info&nbsp;and&nbsp;&lt;-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5995791">dir</span>&nbsp;<span class="op" id="5995795">:=</span>&nbsp;<span class="ident" id="5995798"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5995801">.</span><span class="ident" id="5995802"><a href="/gostd/go/ast/ast.go.html#3804005">SEND</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5995810">for</span>&nbsp;<span class="ident" id="5995814"><a href="/gostd/go/parser/parser.go.html#5995702">ok</a></span>&nbsp;<span class="op" id="5995817">&amp;&amp;</span>&nbsp;<span class="ident" id="5995820"><a href="/gostd/go/parser/parser.go.html#5995791">dir</a></span>&nbsp;<span class="op" id="5995824">==</span>&nbsp;<span class="ident" id="5995827"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5995830">.</span><span class="ident" id="5995831"><a href="/gostd/go/ast/ast.go.html#3804005">SEND</a></span>&nbsp;<span class="op" id="5995836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5995842">if</span>&nbsp;<span class="ident" id="5995845"><a href="/gostd/go/parser/parser.go.html#5995697">typ</a></span><span class="op" id="5995848">.</span><span class="ident" id="5995849"><a href="/gostd/go/ast/ast.go.html#3805610">Dir</a></span>&nbsp;<span class="op" id="5995853">==</span>&nbsp;<span class="ident" id="5995856"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5995859">.</span><span class="ident" id="5995860"><a href="/gostd/go/ast/ast.go.html#3804031">RECV</a></span>&nbsp;<span class="op" id="5995865">{</span><br>
<span class="lineno">1530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5995872">//&nbsp;error:&nbsp;(&lt;-type)&nbsp;is&nbsp;(&lt;-(&lt;-chan&nbsp;T))</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5995914"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5995915">.</span><span class="ident" id="5995916"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5995929">(</span><span class="ident" id="5995930"><a href="/gostd/go/parser/parser.go.html#5995697">typ</a></span><span class="op" id="5995933">.</span><span class="ident" id="5995934"><a href="/gostd/go/ast/ast.go.html#3805538">Arrow</a></span><span class="op" id="5995939">,</span>&nbsp;<span class="string" id="5995941">&#34;&#39;chan&#39;&#34;</span><span class="op" id="5995949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5995955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5995961"><a href="/gostd/go/parser/parser.go.html#5995078">arrow</a></span><span class="op" id="5995966">,</span>&nbsp;<span class="ident" id="5995968"><a href="/gostd/go/parser/parser.go.html#5995697">typ</a></span><span class="op" id="5995971">.</span><span class="ident" id="5995972"><a href="/gostd/go/ast/ast.go.html#3805458">Begin</a></span><span class="op" id="5995977">,</span>&nbsp;<span class="ident" id="5995979"><a href="/gostd/go/parser/parser.go.html#5995697">typ</a></span><span class="op" id="5995982">.</span><span class="ident" id="5995983"><a href="/gostd/go/ast/ast.go.html#3805538">Arrow</a></span>&nbsp;<span class="op" id="5995989">=</span>&nbsp;<span class="ident" id="5995991"><a href="/gostd/go/parser/parser.go.html#5995697">typ</a></span><span class="op" id="5995994">.</span><span class="ident" id="5995995"><a href="/gostd/go/ast/ast.go.html#3805538">Arrow</a></span><span class="op" id="5996000">,</span>&nbsp;<span class="ident" id="5996002"><a href="/gostd/go/parser/parser.go.html#5995078">arrow</a></span><span class="op" id="5996007">,</span>&nbsp;<span class="ident" id="5996009"><a href="/gostd/go/parser/parser.go.html#5995078">arrow</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996019"><a href="/gostd/go/parser/parser.go.html#5995791">dir</a></span><span class="op" id="5996022">,</span>&nbsp;<span class="ident" id="5996024"><a href="/gostd/go/parser/parser.go.html#5995697">typ</a></span><span class="op" id="5996027">.</span><span class="ident" id="5996028"><a href="/gostd/go/ast/ast.go.html#3805610">Dir</a></span>&nbsp;<span class="op" id="5996032">=</span>&nbsp;<span class="ident" id="5996034"><a href="/gostd/go/parser/parser.go.html#5995697">typ</a></span><span class="op" id="5996037">.</span><span class="ident" id="5996038"><a href="/gostd/go/ast/ast.go.html#3805610">Dir</a></span><span class="op" id="5996041">,</span>&nbsp;<span class="ident" id="5996043"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5996046">.</span><span class="ident" id="5996047"><a href="/gostd/go/ast/ast.go.html#3804031">RECV</a></span><br>
<span class="lineno">1535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996056"><a href="/gostd/go/parser/parser.go.html#5995697">typ</a></span><span class="op" id="5996059">,</span>&nbsp;<span class="ident" id="5996061"><a href="/gostd/go/parser/parser.go.html#5995702">ok</a></span>&nbsp;<span class="op" id="5996064">=</span>&nbsp;<span class="ident" id="5996066"><a href="/gostd/go/parser/parser.go.html#5995697">typ</a></span><span class="op" id="5996069">.</span><span class="ident" id="5996070"><a href="/gostd/go/ast/ast.go.html#3805649">Value</a></span><span class="op" id="5996075">.</span><span class="op" id="5996076">(</span><span class="op" id="5996077">*</span><span class="ident" id="5996078"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5996081">.</span><span class="ident" id="5996082"><a href="/gostd/go/ast/ast.go.html#3805438">ChanType</a></span><span class="op" id="5996090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5996095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996100">if</span>&nbsp;<span class="ident" id="5996103"><a href="/gostd/go/parser/parser.go.html#5995791">dir</a></span>&nbsp;<span class="op" id="5996107">==</span>&nbsp;<span class="ident" id="5996110"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5996113">.</span><span class="ident" id="5996114"><a href="/gostd/go/ast/ast.go.html#3804005">SEND</a></span>&nbsp;<span class="op" id="5996119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996125"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5996126">.</span><span class="ident" id="5996127"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5996140">(</span><span class="ident" id="5996141"><a href="/gostd/go/parser/parser.go.html#5995078">arrow</a></span><span class="op" id="5996146">,</span>&nbsp;<span class="string" id="5996148">&#34;channel&nbsp;type&#34;</span><span class="op" id="5996162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5996167">}</span><br>
<span class="lineno">1540</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996173">return</span>&nbsp;<span class="ident" id="5996180"><a href="/gostd/go/parser/parser.go.html#5995628">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5996184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5996189">//&nbsp;&lt;-(expr)</span><br>
<span class="lineno">1545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996203">return</span>&nbsp;<span class="op" id="5996210">&amp;</span><span class="ident" id="5996211"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5996214">.</span><span class="ident" id="5996215"><a href="/gostd/go/ast/ast.go.html#3803365">UnaryExpr</a></span><span class="op" id="5996224">{</span><span class="ident" id="5996225"><a href="/gostd/go/ast/ast.go.html#3803386">OpPos</a></span><span class="op" id="5996230">:</span>&nbsp;<span class="ident" id="5996232"><a href="/gostd/go/parser/parser.go.html#5995078">arrow</a></span><span class="op" id="5996237">,</span>&nbsp;<span class="ident" id="5996239"><a href="/gostd/go/ast/ast.go.html#3803424">Op</a></span><span class="op" id="5996241">:</span>&nbsp;<span class="ident" id="5996243"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5996248">.</span><span class="ident" id="5996249"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span><span class="op" id="5996254">,</span>&nbsp;<span class="ident" id="5996256"><a href="/gostd/go/ast/ast.go.html#3803456">X</a></span><span class="op" id="5996257">:</span>&nbsp;<span class="ident" id="5996259"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5996260">.</span><span class="ident" id="5996261"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5996270">(</span><span class="ident" id="5996271"><a href="/gostd/go/parser/parser.go.html#5995628">x</a></span><span class="op" id="5996272">)</span><span class="op" id="5996273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996277">case</span>&nbsp;<span class="ident" id="5996282"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5996287">.</span><span class="ident" id="5996288"><a href="/gostd/go/token/token.go.html#3890002">MUL</a></span><span class="op" id="5996291">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5996295">//&nbsp;pointer&nbsp;type&nbsp;or&nbsp;unary&nbsp;&#34;*&#34;&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996337">pos</span>&nbsp;<span class="op" id="5996341">:=</span>&nbsp;<span class="ident" id="5996344"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5996345">.</span><span class="ident" id="5996346"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno">1550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996352"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5996353">.</span><span class="ident" id="5996354"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5996358">(</span><span class="op" id="5996359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996363">x</span>&nbsp;<span class="op" id="5996365">:=</span>&nbsp;<span class="ident" id="5996368"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5996369">.</span><span class="ident" id="5996370"><a href="/gostd/go/parser/parser.go.html#5994720">parseUnaryExpr</a></span><span class="op" id="5996384">(</span><span class="builtintype" id="5996385">false</span><span class="op" id="5996390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996394">return</span>&nbsp;<span class="op" id="5996401">&amp;</span><span class="ident" id="5996402"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5996405">.</span><span class="ident" id="5996406"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="5996414">{</span><span class="ident" id="5996415"><a href="/gostd/go/ast/ast.go.html#3803180">Star</a></span><span class="op" id="5996419">:</span>&nbsp;<span class="ident" id="5996421"><a href="/gostd/go/parser/parser.go.html#5996337">pos</a></span><span class="op" id="5996424">,</span>&nbsp;<span class="ident" id="5996426"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><span class="op" id="5996427">:</span>&nbsp;<span class="ident" id="5996429"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5996430">.</span><span class="ident" id="5996431"><a href="/gostd/go/parser/parser.go.html#5993135">checkExprOrType</a></span><span class="op" id="5996446">(</span><span class="ident" id="5996447"><a href="/gostd/go/parser/parser.go.html#5996363">x</a></span><span class="op" id="5996448">)</span><span class="op" id="5996449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5996452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996456">return</span>&nbsp;<span class="ident" id="5996463"><a href="/gostd/go/parser/parser.go.html#5994709">p</a></span><span class="op" id="5996464">.</span><span class="ident" id="5996465"><a href="/gostd/go/parser/parser.go.html#5993628">parsePrimaryExpr</a></span><span class="op" id="5996481">(</span><span class="ident" id="5996482"><a href="/gostd/go/parser/parser.go.html#5994735">lhs</a></span><span class="op" id="5996485">)</span><br>
<span class="lineno"></span><span class="op" id="5996487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5996490">func</span>&nbsp;<span class="op" id="5996495">(</span><span class="ident" id="5996496">p</span>&nbsp;<span class="op" id="5996498">*</span><span class="ident" id="5996499"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5996505">)</span>&nbsp;<span class="ident" id="5996507">tokPrec</span><span class="op" id="5996514">(</span><span class="op" id="5996515">)</span>&nbsp;<span class="op" id="5996517">(</span><span class="ident" id="5996518"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5996523">.</span><span class="ident" id="5996524"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="5996529">,</span>&nbsp;<span class="builtintype" id="5996531">int</span><span class="op" id="5996534">)</span>&nbsp;<span class="op" id="5996536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996539">tok</span>&nbsp;<span class="op" id="5996543">:=</span>&nbsp;<span class="ident" id="5996546"><a href="/gostd/go/parser/parser.go.html#5996496">p</a></span><span class="op" id="5996547">.</span><span class="ident" id="5996548"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><br>
<span class="lineno">1560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996553">if</span>&nbsp;<span class="ident" id="5996556"><a href="/gostd/go/parser/parser.go.html#5996496">p</a></span><span class="op" id="5996557">.</span><span class="ident" id="5996558"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span>&nbsp;<span class="op" id="5996564">&amp;&amp;</span>&nbsp;<span class="ident" id="5996567"><a href="/gostd/go/parser/parser.go.html#5996539">tok</a></span>&nbsp;<span class="op" id="5996571">==</span>&nbsp;<span class="ident" id="5996574"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5996579">.</span><span class="ident" id="5996580"><a href="/gostd/go/token/token.go.html#3890454">ASSIGN</a></span>&nbsp;<span class="op" id="5996587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996591"><a href="/gostd/go/parser/parser.go.html#5996539">tok</a></span>&nbsp;<span class="op" id="5996595">=</span>&nbsp;<span class="ident" id="5996597"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5996602">.</span><span class="ident" id="5996603"><a href="/gostd/go/token/token.go.html#3890414">EQL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5996608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996611">return</span>&nbsp;<span class="ident" id="5996618"><a href="/gostd/go/parser/parser.go.html#5996539">tok</a></span><span class="op" id="5996621">,</span>&nbsp;<span class="ident" id="5996623"><a href="/gostd/go/parser/parser.go.html#5996539">tok</a></span><span class="op" id="5996626">.</span><span class="ident" id="5996627"><a href="/gostd/go/token/token.go.html#3893495">Precedence</a></span><span class="op" id="5996637">(</span><span class="op" id="5996638">)</span><br>
<span class="lineno"></span><span class="op" id="5996640">}</span><br>
<span class="lineno">1565</span><br>
<span class="lineno"></span><span class="comment" id="5996643">//&nbsp;If&nbsp;lhs&nbsp;is&nbsp;set&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;it&nbsp;is&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno"></span><span class="keyword" id="5996713">func</span>&nbsp;<span class="op" id="5996718">(</span><span class="ident" id="5996719">p</span>&nbsp;<span class="op" id="5996721">*</span><span class="ident" id="5996722"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5996728">)</span>&nbsp;<span class="ident" id="5996730">parseBinaryExpr</span><span class="op" id="5996745">(</span><span class="ident" id="5996746">lhs</span>&nbsp;<span class="builtintype" id="5996750">bool</span><span class="op" id="5996754">,</span>&nbsp;<span class="ident" id="5996756">prec1</span>&nbsp;<span class="builtintype" id="5996762">int</span><span class="op" id="5996765">)</span>&nbsp;<span class="ident" id="5996767"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5996770">.</span><span class="ident" id="5996771"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5996776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996779">if</span>&nbsp;<span class="ident" id="5996782"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5996783">.</span><span class="ident" id="5996784"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5996790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996794">defer</span>&nbsp;<span class="ident" id="5996800"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5996802">(</span><span class="ident" id="5996803"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5996808">(</span><span class="ident" id="5996809"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5996810">,</span>&nbsp;<span class="string" id="5996812">&#34;BinaryExpr&#34;</span><span class="op" id="5996824">)</span><span class="op" id="5996825">)</span><br>
<span class="lineno">1570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5996828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996832">x</span>&nbsp;<span class="op" id="5996834">:=</span>&nbsp;<span class="ident" id="5996837"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5996838">.</span><span class="ident" id="5996839"><a href="/gostd/go/parser/parser.go.html#5994720">parseUnaryExpr</a></span><span class="op" id="5996853">(</span><span class="ident" id="5996854"><a href="/gostd/go/parser/parser.go.html#5996746">lhs</a></span><span class="op" id="5996857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996860">for</span>&nbsp;<span class="ident" id="5996864">_</span><span class="op" id="5996865">,</span>&nbsp;<span class="ident" id="5996867">prec</span>&nbsp;<span class="op" id="5996872">:=</span>&nbsp;<span class="ident" id="5996875"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5996876">.</span><span class="ident" id="5996877"><a href="/gostd/go/parser/parser.go.html#5996507">tokPrec</a></span><span class="op" id="5996884">(</span><span class="op" id="5996885">)</span><span class="op" id="5996886">;</span>&nbsp;<span class="ident" id="5996888"><a href="/gostd/go/parser/parser.go.html#5996867">prec</a></span>&nbsp;<span class="op" id="5996893">&gt;=</span>&nbsp;<span class="ident" id="5996896"><a href="/gostd/go/parser/parser.go.html#5996756">prec1</a></span><span class="op" id="5996901">;</span>&nbsp;<span class="ident" id="5996903"><a href="/gostd/go/parser/parser.go.html#5996867">prec</a></span><span class="op" id="5996907">--</span>&nbsp;<span class="op" id="5996910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996914">for</span>&nbsp;<span class="op" id="5996918">{</span><br>
<span class="lineno">1575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996923">op</span><span class="op" id="5996925">,</span>&nbsp;<span class="ident" id="5996927">oprec</span>&nbsp;<span class="op" id="5996933">:=</span>&nbsp;<span class="ident" id="5996936"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5996937">.</span><span class="ident" id="5996938"><a href="/gostd/go/parser/parser.go.html#5996507">tokPrec</a></span><span class="op" id="5996945">(</span><span class="op" id="5996946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996951">if</span>&nbsp;<span class="ident" id="5996954"><a href="/gostd/go/parser/parser.go.html#5996927">oprec</a></span>&nbsp;<span class="op" id="5996960">!=</span>&nbsp;<span class="ident" id="5996963"><a href="/gostd/go/parser/parser.go.html#5996867">prec</a></span>&nbsp;<span class="op" id="5996968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5996974">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5996983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5996988">pos</span>&nbsp;<span class="op" id="5996992">:=</span>&nbsp;<span class="ident" id="5996995"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5996996">.</span><span class="ident" id="5996997"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="5997003">(</span><span class="ident" id="5997004"><a href="/gostd/go/parser/parser.go.html#5996923">op</a></span><span class="op" id="5997006">)</span><br>
<span class="lineno">1580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5997011">if</span>&nbsp;<span class="ident" id="5997014"><a href="/gostd/go/parser/parser.go.html#5996746">lhs</a></span>&nbsp;<span class="op" id="5997018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997024"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5997025">.</span><span class="ident" id="5997026"><a href="/gostd/go/parser/parser.go.html#5962526">resolve</a></span><span class="op" id="5997033">(</span><span class="ident" id="5997034"><a href="/gostd/go/parser/parser.go.html#5996832">x</a></span><span class="op" id="5997035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997041"><a href="/gostd/go/parser/parser.go.html#5996746">lhs</a></span>&nbsp;<span class="op" id="5997045">=</span>&nbsp;<span class="builtintype" id="5997047">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5997056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997061">y</span>&nbsp;<span class="op" id="5997063">:=</span>&nbsp;<span class="ident" id="5997066"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5997067">.</span><span class="ident" id="5997068"><a href="/gostd/go/parser/parser.go.html#5996730">parseBinaryExpr</a></span><span class="op" id="5997083">(</span><span class="builtintype" id="5997084">false</span><span class="op" id="5997089">,</span>&nbsp;<span class="ident" id="5997091"><a href="/gostd/go/parser/parser.go.html#5996867">prec</a></span><span class="op" id="5997095">+</span><span class="num" id="5997096">1</span><span class="op" id="5997097">)</span><br>
<span class="lineno">1585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997102"><a href="/gostd/go/parser/parser.go.html#5996832">x</a></span>&nbsp;<span class="op" id="5997104">=</span>&nbsp;<span class="op" id="5997106">&amp;</span><span class="ident" id="5997107"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5997110">.</span><span class="ident" id="5997111"><a href="/gostd/go/ast/ast.go.html#3803544">BinaryExpr</a></span><span class="op" id="5997121">{</span><span class="ident" id="5997122"><a href="/gostd/go/ast/ast.go.html#3803566">X</a></span><span class="op" id="5997123">:</span>&nbsp;<span class="ident" id="5997125"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5997126">.</span><span class="ident" id="5997127"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5997136">(</span><span class="ident" id="5997137"><a href="/gostd/go/parser/parser.go.html#5996832">x</a></span><span class="op" id="5997138">)</span><span class="op" id="5997139">,</span>&nbsp;<span class="ident" id="5997141"><a href="/gostd/go/ast/ast.go.html#3803602">OpPos</a></span><span class="op" id="5997146">:</span>&nbsp;<span class="ident" id="5997148"><a href="/gostd/go/parser/parser.go.html#5996988">pos</a></span><span class="op" id="5997151">,</span>&nbsp;<span class="ident" id="5997153"><a href="/gostd/go/ast/ast.go.html#3803640">Op</a></span><span class="op" id="5997155">:</span>&nbsp;<span class="ident" id="5997157"><a href="/gostd/go/parser/parser.go.html#5996923">op</a></span><span class="op" id="5997159">,</span>&nbsp;<span class="ident" id="5997161"><a href="/gostd/go/ast/ast.go.html#3803672">Y</a></span><span class="op" id="5997162">:</span>&nbsp;<span class="ident" id="5997164"><a href="/gostd/go/parser/parser.go.html#5996719">p</a></span><span class="op" id="5997165">.</span><span class="ident" id="5997166"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5997175">(</span><span class="ident" id="5997176"><a href="/gostd/go/parser/parser.go.html#5997061">y</a></span><span class="op" id="5997177">)</span><span class="op" id="5997178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5997182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5997185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5997189">return</span>&nbsp;<span class="ident" id="5997196"><a href="/gostd/go/parser/parser.go.html#5996832">x</a></span><br>
<span class="lineno">1590</span><span class="op" id="5997198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5997201">//&nbsp;If&nbsp;lhs&nbsp;is&nbsp;set&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;an&nbsp;identifier,&nbsp;it&nbsp;is&nbsp;not&nbsp;resolved.</span><br>
<span class="lineno"></span><span class="comment" id="5997271">//&nbsp;The&nbsp;result&nbsp;may&nbsp;be&nbsp;a&nbsp;type&nbsp;or&nbsp;even&nbsp;a&nbsp;raw&nbsp;type&nbsp;([...]int).&nbsp;Callers&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="5997343">//&nbsp;check&nbsp;the&nbsp;result&nbsp;(using&nbsp;checkExpr&nbsp;or&nbsp;checkExprOrType),&nbsp;depending&nbsp;on</span><br>
<span class="lineno">1595</span><span class="comment" id="5997414">//&nbsp;context.</span><br>
<span class="lineno"></span><span class="keyword" id="5997426">func</span>&nbsp;<span class="op" id="5997431">(</span><span class="ident" id="5997432">p</span>&nbsp;<span class="op" id="5997434">*</span><span class="ident" id="5997435"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5997441">)</span>&nbsp;<span class="ident" id="5997443">parseExpr</span><span class="op" id="5997452">(</span><span class="ident" id="5997453">lhs</span>&nbsp;<span class="builtintype" id="5997457">bool</span><span class="op" id="5997461">)</span>&nbsp;<span class="ident" id="5997463"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5997466">.</span><span class="ident" id="5997467"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5997472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5997475">if</span>&nbsp;<span class="ident" id="5997478"><a href="/gostd/go/parser/parser.go.html#5997432">p</a></span><span class="op" id="5997479">.</span><span class="ident" id="5997480"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5997486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5997490">defer</span>&nbsp;<span class="ident" id="5997496"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5997498">(</span><span class="ident" id="5997499"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5997504">(</span><span class="ident" id="5997505"><a href="/gostd/go/parser/parser.go.html#5997432">p</a></span><span class="op" id="5997506">,</span>&nbsp;<span class="string" id="5997508">&#34;Expression&#34;</span><span class="op" id="5997520">)</span><span class="op" id="5997521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5997524">}</span><br>
<span class="lineno">1600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5997528">return</span>&nbsp;<span class="ident" id="5997535"><a href="/gostd/go/parser/parser.go.html#5997432">p</a></span><span class="op" id="5997536">.</span><span class="ident" id="5997537"><a href="/gostd/go/parser/parser.go.html#5996730">parseBinaryExpr</a></span><span class="op" id="5997552">(</span><span class="ident" id="5997553"><a href="/gostd/go/parser/parser.go.html#5997453">lhs</a></span><span class="op" id="5997556">,</span>&nbsp;<span class="ident" id="5997558"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5997563">.</span><span class="ident" id="5997564"><a href="/gostd/go/token/token.go.html#3893263">LowestPrec</a></span><span class="op" id="5997574">+</span><span class="num" id="5997575">1</span><span class="op" id="5997576">)</span><br>
<span class="lineno"></span><span class="op" id="5997578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5997581">func</span>&nbsp;<span class="op" id="5997586">(</span><span class="ident" id="5997587">p</span>&nbsp;<span class="op" id="5997589">*</span><span class="ident" id="5997590"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5997596">)</span>&nbsp;<span class="ident" id="5997598">parseRhs</span><span class="op" id="5997606">(</span><span class="op" id="5997607">)</span>&nbsp;<span class="ident" id="5997609"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5997612">.</span><span class="ident" id="5997613"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5997618">{</span><br>
<span class="lineno">1605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997621">old</span>&nbsp;<span class="op" id="5997625">:=</span>&nbsp;<span class="ident" id="5997628"><a href="/gostd/go/parser/parser.go.html#5997587">p</a></span><span class="op" id="5997629">.</span><span class="ident" id="5997630"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997637"><a href="/gostd/go/parser/parser.go.html#5997587">p</a></span><span class="op" id="5997638">.</span><span class="ident" id="5997639"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span>&nbsp;<span class="op" id="5997645">=</span>&nbsp;<span class="builtintype" id="5997647">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997653">x</span>&nbsp;<span class="op" id="5997655">:=</span>&nbsp;<span class="ident" id="5997658"><a href="/gostd/go/parser/parser.go.html#5997587">p</a></span><span class="op" id="5997659">.</span><span class="ident" id="5997660"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="5997669">(</span><span class="ident" id="5997670"><a href="/gostd/go/parser/parser.go.html#5997587">p</a></span><span class="op" id="5997671">.</span><span class="ident" id="5997672"><a href="/gostd/go/parser/parser.go.html#5997443">parseExpr</a></span><span class="op" id="5997681">(</span><span class="builtintype" id="5997682">false</span><span class="op" id="5997687">)</span><span class="op" id="5997688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997691"><a href="/gostd/go/parser/parser.go.html#5997587">p</a></span><span class="op" id="5997692">.</span><span class="ident" id="5997693"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span>&nbsp;<span class="op" id="5997699">=</span>&nbsp;<span class="ident" id="5997701"><a href="/gostd/go/parser/parser.go.html#5997621">old</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5997706">return</span>&nbsp;<span class="ident" id="5997713"><a href="/gostd/go/parser/parser.go.html#5997653">x</a></span><br>
<span class="lineno">1610</span><span class="op" id="5997715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5997718">func</span>&nbsp;<span class="op" id="5997723">(</span><span class="ident" id="5997724">p</span>&nbsp;<span class="op" id="5997726">*</span><span class="ident" id="5997727"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5997733">)</span>&nbsp;<span class="ident" id="5997735">parseRhsOrType</span><span class="op" id="5997749">(</span><span class="op" id="5997750">)</span>&nbsp;<span class="ident" id="5997752"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5997755">.</span><span class="ident" id="5997756"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="5997761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997764">old</span>&nbsp;<span class="op" id="5997768">:=</span>&nbsp;<span class="ident" id="5997771"><a href="/gostd/go/parser/parser.go.html#5997724">p</a></span><span class="op" id="5997772">.</span><span class="ident" id="5997773"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997780"><a href="/gostd/go/parser/parser.go.html#5997724">p</a></span><span class="op" id="5997781">.</span><span class="ident" id="5997782"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span>&nbsp;<span class="op" id="5997788">=</span>&nbsp;<span class="builtintype" id="5997790">true</span><br>
<span class="lineno">1615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997796">x</span>&nbsp;<span class="op" id="5997798">:=</span>&nbsp;<span class="ident" id="5997801"><a href="/gostd/go/parser/parser.go.html#5997724">p</a></span><span class="op" id="5997802">.</span><span class="ident" id="5997803"><a href="/gostd/go/parser/parser.go.html#5993135">checkExprOrType</a></span><span class="op" id="5997818">(</span><span class="ident" id="5997819"><a href="/gostd/go/parser/parser.go.html#5997724">p</a></span><span class="op" id="5997820">.</span><span class="ident" id="5997821"><a href="/gostd/go/parser/parser.go.html#5997443">parseExpr</a></span><span class="op" id="5997830">(</span><span class="builtintype" id="5997831">false</span><span class="op" id="5997836">)</span><span class="op" id="5997837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5997840"><a href="/gostd/go/parser/parser.go.html#5997724">p</a></span><span class="op" id="5997841">.</span><span class="ident" id="5997842"><a href="/gostd/go/parser/parser.go.html#5957811">inRhs</a></span>&nbsp;<span class="op" id="5997848">=</span>&nbsp;<span class="ident" id="5997850"><a href="/gostd/go/parser/parser.go.html#5997764">old</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5997855">return</span>&nbsp;<span class="ident" id="5997862"><a href="/gostd/go/parser/parser.go.html#5997796">x</a></span><br>
<span class="lineno"></span><span class="op" id="5997864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1620</span><span class="comment" id="5997867">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="5997947">//&nbsp;Statements</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5997962">//&nbsp;Parsing&nbsp;modes&nbsp;for&nbsp;parseSimpleStmt.</span><br>
<span class="lineno"></span><span class="keyword" id="5998000">const</span>&nbsp;<span class="op" id="5998006">(</span><br>
<span class="lineno">1625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998009">basic</span>&nbsp;<span class="op" id="5998015">=</span>&nbsp;<span class="ident" id="5998017">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998023">labelOk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998032">rangeOk</span><br>
<span class="lineno"></span><span class="op" id="5998040">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1630</span><span class="comment" id="5998043">//&nbsp;parseSimpleStmt&nbsp;returns&nbsp;true&nbsp;as&nbsp;2nd&nbsp;result&nbsp;if&nbsp;it&nbsp;parsed&nbsp;the&nbsp;assignment</span><br>
<span class="lineno"></span><span class="comment" id="5998117">//&nbsp;of&nbsp;a&nbsp;range&nbsp;clause&nbsp;(with&nbsp;mode&nbsp;==&nbsp;rangeOk).&nbsp;The&nbsp;returned&nbsp;statement&nbsp;is&nbsp;an</span><br>
<span class="lineno"></span><span class="comment" id="5998191">//&nbsp;assignment&nbsp;with&nbsp;a&nbsp;right-hand&nbsp;side&nbsp;that&nbsp;is&nbsp;a&nbsp;single&nbsp;unary&nbsp;expression&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5998265">//&nbsp;the&nbsp;form&nbsp;&#34;range&nbsp;x&#34;.&nbsp;No&nbsp;guarantees&nbsp;are&nbsp;given&nbsp;for&nbsp;the&nbsp;left-hand&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="5998336">func</span>&nbsp;<span class="op" id="5998341">(</span><span class="ident" id="5998342">p</span>&nbsp;<span class="op" id="5998344">*</span><span class="ident" id="5998345"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="5998351">)</span>&nbsp;<span class="ident" id="5998353">parseSimpleStmt</span><span class="op" id="5998368">(</span><span class="ident" id="5998369">mode</span>&nbsp;<span class="builtintype" id="5998374">int</span><span class="op" id="5998377">)</span>&nbsp;<span class="op" id="5998379">(</span><span class="ident" id="5998380"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5998383">.</span><span class="ident" id="5998384"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><span class="op" id="5998388">,</span>&nbsp;<span class="builtintype" id="5998390">bool</span><span class="op" id="5998394">)</span>&nbsp;<span class="op" id="5998396">{</span><br>
<span class="lineno">1635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5998399">if</span>&nbsp;<span class="ident" id="5998402"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998403">.</span><span class="ident" id="5998404"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="5998410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5998414">defer</span>&nbsp;<span class="ident" id="5998420"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="5998422">(</span><span class="ident" id="5998423"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="5998428">(</span><span class="ident" id="5998429"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998430">,</span>&nbsp;<span class="string" id="5998432">&#34;SimpleStmt&#34;</span><span class="op" id="5998444">)</span><span class="op" id="5998445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5998448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998452">x</span>&nbsp;<span class="op" id="5998454">:=</span>&nbsp;<span class="ident" id="5998457"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998458">.</span><span class="ident" id="5998459"><a href="/gostd/go/parser/parser.go.html#5972063">parseLhsList</a></span><span class="op" id="5998471">(</span><span class="op" id="5998472">)</span><br>
<span class="lineno">1640</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5998476">switch</span>&nbsp;<span class="ident" id="5998483"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998484">.</span><span class="ident" id="5998485"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5998489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5998492">case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998499"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998504">.</span><span class="ident" id="5998505"><a href="/gostd/go/token/token.go.html#3890529">DEFINE</a></span><span class="op" id="5998511">,</span>&nbsp;<span class="ident" id="5998513"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998518">.</span><span class="ident" id="5998519"><a href="/gostd/go/token/token.go.html#3890454">ASSIGN</a></span><span class="op" id="5998525">,</span>&nbsp;<span class="ident" id="5998527"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998532">.</span><span class="ident" id="5998533"><a href="/gostd/go/token/token.go.html#3890121">ADD_ASSIGN</a></span><span class="op" id="5998543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998547"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998552">.</span><span class="ident" id="5998553"><a href="/gostd/go/token/token.go.html#3890139">SUB_ASSIGN</a></span><span class="op" id="5998563">,</span>&nbsp;<span class="ident" id="5998565"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998570">.</span><span class="ident" id="5998571"><a href="/gostd/go/token/token.go.html#3890157">MUL_ASSIGN</a></span><span class="op" id="5998581">,</span>&nbsp;<span class="ident" id="5998583"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998588">.</span><span class="ident" id="5998589"><a href="/gostd/go/token/token.go.html#3890175">QUO_ASSIGN</a></span><span class="op" id="5998599">,</span><br>
<span class="lineno">1645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998603"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998608">.</span><span class="ident" id="5998609"><a href="/gostd/go/token/token.go.html#3890193">REM_ASSIGN</a></span><span class="op" id="5998619">,</span>&nbsp;<span class="ident" id="5998621"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998626">.</span><span class="ident" id="5998627"><a href="/gostd/go/token/token.go.html#3890212">AND_ASSIGN</a></span><span class="op" id="5998637">,</span>&nbsp;<span class="ident" id="5998639"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998644">.</span><span class="ident" id="5998645"><a href="/gostd/go/token/token.go.html#3890234">OR_ASSIGN</a></span><span class="op" id="5998654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998658"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998663">.</span><span class="ident" id="5998664"><a href="/gostd/go/token/token.go.html#3890256">XOR_ASSIGN</a></span><span class="op" id="5998674">,</span>&nbsp;<span class="ident" id="5998676"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998681">.</span><span class="ident" id="5998682"><a href="/gostd/go/token/token.go.html#3890278">SHL_ASSIGN</a></span><span class="op" id="5998692">,</span>&nbsp;<span class="ident" id="5998694"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998699">.</span><span class="ident" id="5998700"><a href="/gostd/go/token/token.go.html#3890301">SHR_ASSIGN</a></span><span class="op" id="5998710">,</span>&nbsp;<span class="ident" id="5998712"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998717">.</span><span class="ident" id="5998718"><a href="/gostd/go/token/token.go.html#3890324">AND_NOT_ASSIGN</a></span><span class="op" id="5998732">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5998736">//&nbsp;assignment&nbsp;statement,&nbsp;possibly&nbsp;part&nbsp;of&nbsp;a&nbsp;range&nbsp;clause</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998795">pos</span><span class="op" id="5998798">,</span>&nbsp;<span class="ident" id="5998800">tok</span>&nbsp;<span class="op" id="5998804">:=</span>&nbsp;<span class="ident" id="5998807"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998808">.</span><span class="ident" id="5998809"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="5998812">,</span>&nbsp;<span class="ident" id="5998814"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998815">.</span><span class="ident" id="5998816"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998822"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998823">.</span><span class="ident" id="5998824"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5998828">(</span><span class="op" id="5998829">)</span><br>
<span class="lineno">1650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5998833">var</span>&nbsp;<span class="ident" id="5998837">y</span>&nbsp;<span class="op" id="5998839">[</span><span class="op" id="5998840">]</span><span class="ident" id="5998841"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5998844">.</span><span class="ident" id="5998845"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998852">isRange</span>&nbsp;<span class="op" id="5998860">:=</span>&nbsp;<span class="builtintype" id="5998863">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5998871">if</span>&nbsp;<span class="ident" id="5998874"><a href="/gostd/go/parser/parser.go.html#5998369">mode</a></span>&nbsp;<span class="op" id="5998879">==</span>&nbsp;<span class="ident" id="5998882"><a href="/gostd/go/parser/parser.go.html#5998032">rangeOk</a></span>&nbsp;<span class="op" id="5998890">&amp;&amp;</span>&nbsp;<span class="ident" id="5998893"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998894">.</span><span class="ident" id="5998895"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5998899">==</span>&nbsp;<span class="ident" id="5998902"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998907">.</span><span class="ident" id="5998908"><a href="/gostd/go/token/token.go.html#3890882">RANGE</a></span>&nbsp;<span class="op" id="5998914">&amp;&amp;</span>&nbsp;<span class="op" id="5998917">(</span><span class="ident" id="5998918"><a href="/gostd/go/parser/parser.go.html#5998800">tok</a></span>&nbsp;<span class="op" id="5998922">==</span>&nbsp;<span class="ident" id="5998925"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998930">.</span><span class="ident" id="5998931"><a href="/gostd/go/token/token.go.html#3890529">DEFINE</a></span>&nbsp;<span class="op" id="5998938">||</span>&nbsp;<span class="ident" id="5998941"><a href="/gostd/go/parser/parser.go.html#5998800">tok</a></span>&nbsp;<span class="op" id="5998945">==</span>&nbsp;<span class="ident" id="5998948"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5998953">.</span><span class="ident" id="5998954"><a href="/gostd/go/token/token.go.html#3890454">ASSIGN</a></span><span class="op" id="5998960">)</span>&nbsp;<span class="op" id="5998962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998967">pos</span>&nbsp;<span class="op" id="5998971">:=</span>&nbsp;<span class="ident" id="5998974"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998975">.</span><span class="ident" id="5998976"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998983"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5998984">.</span><span class="ident" id="5998985"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5998989">(</span><span class="op" id="5998990">)</span><br>
<span class="lineno">1655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5998995"><a href="/gostd/go/parser/parser.go.html#5998837">y</a></span>&nbsp;<span class="op" id="5998997">=</span>&nbsp;<span class="op" id="5998999">[</span><span class="op" id="5999000">]</span><span class="ident" id="5999001"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5999004">.</span><span class="ident" id="5999005"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="5999009">{</span><span class="op" id="5999010">&amp;</span><span class="ident" id="5999011"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5999014">.</span><span class="ident" id="5999015"><a href="/gostd/go/ast/ast.go.html#3803365">UnaryExpr</a></span><span class="op" id="5999024">{</span><span class="ident" id="5999025"><a href="/gostd/go/ast/ast.go.html#3803386">OpPos</a></span><span class="op" id="5999030">:</span>&nbsp;<span class="ident" id="5999032"><a href="/gostd/go/parser/parser.go.html#5998967">pos</a></span><span class="op" id="5999035">,</span>&nbsp;<span class="ident" id="5999037"><a href="/gostd/go/ast/ast.go.html#3803424">Op</a></span><span class="op" id="5999039">:</span>&nbsp;<span class="ident" id="5999041"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5999046">.</span><span class="ident" id="5999047"><a href="/gostd/go/token/token.go.html#3890882">RANGE</a></span><span class="op" id="5999052">,</span>&nbsp;<span class="ident" id="5999054"><a href="/gostd/go/ast/ast.go.html#3803456">X</a></span><span class="op" id="5999055">:</span>&nbsp;<span class="ident" id="5999057"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999058">.</span><span class="ident" id="5999059"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="5999067">(</span><span class="op" id="5999068">)</span><span class="op" id="5999069">}</span><span class="op" id="5999070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5999075"><a href="/gostd/go/parser/parser.go.html#5998852">isRange</a></span>&nbsp;<span class="op" id="5999083">=</span>&nbsp;<span class="builtintype" id="5999085">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5999092">}</span>&nbsp;<span class="keyword" id="5999094">else</span>&nbsp;<span class="op" id="5999099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5999104"><a href="/gostd/go/parser/parser.go.html#5998837">y</a></span>&nbsp;<span class="op" id="5999106">=</span>&nbsp;<span class="ident" id="5999108"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999109">.</span><span class="ident" id="5999110"><a href="/gostd/go/parser/parser.go.html#5972945">parseRhsList</a></span><span class="op" id="5999122">(</span><span class="op" id="5999123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5999127">}</span><br>
<span class="lineno">1660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5999131">as</span>&nbsp;<span class="op" id="5999134">:=</span>&nbsp;<span class="op" id="5999137">&amp;</span><span class="ident" id="5999138"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5999141">.</span><span class="ident" id="5999142"><a href="/gostd/go/ast/ast.go.html#3812033">AssignStmt</a></span><span class="op" id="5999152">{</span><span class="ident" id="5999153"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="5999156">:</span>&nbsp;<span class="ident" id="5999158"><a href="/gostd/go/parser/parser.go.html#5998452">x</a></span><span class="op" id="5999159">,</span>&nbsp;<span class="ident" id="5999161"><a href="/gostd/go/ast/ast.go.html#3812071">TokPos</a></span><span class="op" id="5999167">:</span>&nbsp;<span class="ident" id="5999169"><a href="/gostd/go/parser/parser.go.html#5998795">pos</a></span><span class="op" id="5999172">,</span>&nbsp;<span class="ident" id="5999174"><a href="/gostd/go/ast/ast.go.html#3812111">Tok</a></span><span class="op" id="5999177">:</span>&nbsp;<span class="ident" id="5999179"><a href="/gostd/go/parser/parser.go.html#5998800">tok</a></span><span class="op" id="5999182">,</span>&nbsp;<span class="ident" id="5999184"><a href="/gostd/go/ast/ast.go.html#3812160">Rhs</a></span><span class="op" id="5999187">:</span>&nbsp;<span class="ident" id="5999189"><a href="/gostd/go/parser/parser.go.html#5998837">y</a></span><span class="op" id="5999190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5999194">if</span>&nbsp;<span class="ident" id="5999197"><a href="/gostd/go/parser/parser.go.html#5998800">tok</a></span>&nbsp;<span class="op" id="5999201">==</span>&nbsp;<span class="ident" id="5999204"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5999209">.</span><span class="ident" id="5999210"><a href="/gostd/go/token/token.go.html#3890529">DEFINE</a></span>&nbsp;<span class="op" id="5999217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5999222"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999223">.</span><span class="ident" id="5999224"><a href="/gostd/go/parser/parser.go.html#5960328">shortVarDecl</a></span><span class="op" id="5999236">(</span><span class="ident" id="5999237"><a href="/gostd/go/parser/parser.go.html#5999131">as</a></span><span class="op" id="5999239">,</span>&nbsp;<span class="ident" id="5999241"><a href="/gostd/go/parser/parser.go.html#5998452">x</a></span><span class="op" id="5999242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5999246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5999250">return</span>&nbsp;<span class="ident" id="5999257"><a href="/gostd/go/parser/parser.go.html#5999131">as</a></span><span class="op" id="5999259">,</span>&nbsp;<span class="ident" id="5999261"><a href="/gostd/go/parser/parser.go.html#5998852">isRange</a></span><br>
<span class="lineno">1665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5999270">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5999274">if</span>&nbsp;<span class="builtinfunc" id="5999277">len</span><span class="op" id="5999280">(</span><span class="ident" id="5999281"><a href="/gostd/go/parser/parser.go.html#5998452">x</a></span><span class="op" id="5999282">)</span>&nbsp;<span class="op" id="5999284">&gt;</span>&nbsp;<span class="num" id="5999286">1</span>&nbsp;<span class="op" id="5999288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5999292"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999293">.</span><span class="ident" id="5999294"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="5999307">(</span><span class="ident" id="5999308"><a href="/gostd/go/parser/parser.go.html#5998452">x</a></span><span class="op" id="5999309">[</span><span class="num" id="5999310">0</span><span class="op" id="5999311">]</span><span class="op" id="5999312">.</span><span class="ident" id="5999313"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="5999316">(</span><span class="op" id="5999317">)</span><span class="op" id="5999318">,</span>&nbsp;<span class="string" id="5999320">&#34;1&nbsp;expression&#34;</span><span class="op" id="5999334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5999338">//&nbsp;continue&nbsp;with&nbsp;first&nbsp;expression</span><br>
<span class="lineno">1670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5999373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5999377">switch</span>&nbsp;<span class="ident" id="5999384"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999385">.</span><span class="ident" id="5999386"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="5999390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5999393">case</span>&nbsp;<span class="ident" id="5999398"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="5999403">.</span><span class="ident" id="5999404"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="5999409">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5999413">//&nbsp;labeled&nbsp;statement</span><br>
<span class="lineno">1675</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5999436">colon</span>&nbsp;<span class="op" id="5999442">:=</span>&nbsp;<span class="ident" id="5999445"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999446">.</span><span class="ident" id="5999447"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5999453"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999454">.</span><span class="ident" id="5999455"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="5999459">(</span><span class="op" id="5999460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5999464">if</span>&nbsp;<span class="ident" id="5999467">label</span><span class="op" id="5999472">,</span>&nbsp;<span class="ident" id="5999474">isIdent</span>&nbsp;<span class="op" id="5999482">:=</span>&nbsp;<span class="ident" id="5999485"><a href="/gostd/go/parser/parser.go.html#5998452">x</a></span><span class="op" id="5999486">[</span><span class="num" id="5999487">0</span><span class="op" id="5999488">]</span><span class="op" id="5999489">.</span><span class="op" id="5999490">(</span><span class="op" id="5999491">*</span><span class="ident" id="5999492"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5999495">.</span><span class="ident" id="5999496"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="5999501">)</span><span class="op" id="5999502">;</span>&nbsp;<span class="ident" id="5999504"><a href="/gostd/go/parser/parser.go.html#5998369">mode</a></span>&nbsp;<span class="op" id="5999509">==</span>&nbsp;<span class="ident" id="5999512"><a href="/gostd/go/parser/parser.go.html#5998023">labelOk</a></span>&nbsp;<span class="op" id="5999520">&amp;&amp;</span>&nbsp;<span class="ident" id="5999523"><a href="/gostd/go/parser/parser.go.html#5999474">isIdent</a></span>&nbsp;<span class="op" id="5999531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5999536">//&nbsp;Go&nbsp;spec:&nbsp;The&nbsp;scope&nbsp;of&nbsp;a&nbsp;label&nbsp;is&nbsp;the&nbsp;body&nbsp;of&nbsp;the&nbsp;function</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5999600">//&nbsp;in&nbsp;which&nbsp;it&nbsp;is&nbsp;declared&nbsp;and&nbsp;excludes&nbsp;the&nbsp;body&nbsp;of&nbsp;any&nbsp;nested</span><br>
<span class="lineno">1680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5999666">//&nbsp;function.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5999682">stmt</span>&nbsp;<span class="op" id="5999687">:=</span>&nbsp;<span class="op" id="5999690">&amp;</span><span class="ident" id="5999691"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5999694">.</span><span class="ident" id="5999695"><a href="/gostd/go/ast/ast.go.html#3811398">LabeledStmt</a></span><span class="op" id="5999706">{</span><span class="ident" id="5999707"><a href="/gostd/go/ast/ast.go.html#3811421">Label</a></span><span class="op" id="5999712">:</span>&nbsp;<span class="ident" id="5999714"><a href="/gostd/go/parser/parser.go.html#5999467">label</a></span><span class="op" id="5999719">,</span>&nbsp;<span class="ident" id="5999721"><a href="/gostd/go/ast/ast.go.html#3811436">Colon</a></span><span class="op" id="5999726">:</span>&nbsp;<span class="ident" id="5999728"><a href="/gostd/go/parser/parser.go.html#5999436">colon</a></span><span class="op" id="5999733">,</span>&nbsp;<span class="ident" id="5999735"><a href="/gostd/go/ast/ast.go.html#3811473">Stmt</a></span><span class="op" id="5999739">:</span>&nbsp;<span class="ident" id="5999741"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999742">.</span><span class="ident" id="5999743"><a href="/gostd/go/parser/parser.go.html#6009885">parseStmt</a></span><span class="op" id="5999752">(</span><span class="op" id="5999753">)</span><span class="op" id="5999754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5999759"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999760">.</span><span class="ident" id="5999761"><a href="/gostd/go/parser/parser.go.html#5959540">declare</a></span><span class="op" id="5999768">(</span><span class="ident" id="5999769"><a href="/gostd/go/parser/parser.go.html#5999682">stmt</a></span><span class="op" id="5999773">,</span>&nbsp;<span class="builtintype" id="5999775">nil</span><span class="op" id="5999778">,</span>&nbsp;<span class="ident" id="5999780"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="5999781">.</span><span class="ident" id="5999782"><a href="/gostd/go/parser/parser.go.html#5958192">labelScope</a></span><span class="op" id="5999792">,</span>&nbsp;<span class="ident" id="5999794"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="5999797">.</span><span class="ident" id="5999798"><a href="/gostd/go/ast/scope.go.html#3866921">Lbl</a></span><span class="op" id="5999801">,</span>&nbsp;<span class="ident" id="5999803"><a href="/gostd/go/parser/parser.go.html#5999467">label</a></span><span class="op" id="5999808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5999813">return</span>&nbsp;<span class="ident" id="5999820"><a href="/gostd/go/parser/parser.go.html#5999682">stmt</a></span><span class="op" id="5999824">,</span>&nbsp;<span class="builtintype" id="5999826">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5999834">}</span><br>
<span class="lineno">1685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5999838">//&nbsp;The&nbsp;label&nbsp;declaration&nbsp;typically&nbsp;starts&nbsp;at&nbsp;x[0].Pos(),&nbsp;but&nbsp;the&nbsp;label</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5999911">//&nbsp;declaration&nbsp;may&nbsp;be&nbsp;erroneous&nbsp;due&nbsp;to&nbsp;a&nbsp;token&nbsp;after&nbsp;that&nbsp;position&nbsp;(and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5999985">//&nbsp;before&nbsp;the&nbsp;&#39;:&#39;).&nbsp;If&nbsp;SpuriousErrors&nbsp;is&nbsp;not&nbsp;set,&nbsp;the&nbsp;(only)&nbsp;error&nbsp;re-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6000058">//&nbsp;ported&nbsp;for&nbsp;the&nbsp;line&nbsp;is&nbsp;the&nbsp;illegal&nbsp;label&nbsp;error&nbsp;instead&nbsp;of&nbsp;the&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6000131">//&nbsp;before&nbsp;the&nbsp;&#39;:&#39;&nbsp;that&nbsp;caused&nbsp;the&nbsp;problem.&nbsp;Thus,&nbsp;use&nbsp;the&nbsp;(latest)&nbsp;colon</span><br>
<span class="lineno">1690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6000205">//&nbsp;position&nbsp;for&nbsp;error&nbsp;reporting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6000240"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="6000241">.</span><span class="builtintype" id="6000242"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="6000247">(</span><span class="ident" id="6000248"><a href="/gostd/go/parser/parser.go.html#5999436">colon</a></span><span class="op" id="6000253">,</span>&nbsp;<span class="string" id="6000255">&#34;illegal&nbsp;label&nbsp;declaration&#34;</span><span class="op" id="6000282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6000286">return</span>&nbsp;<span class="op" id="6000293">&amp;</span><span class="ident" id="6000294"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6000297">.</span><span class="ident" id="6000298"><a href="/gostd/go/ast/ast.go.html#3810887">BadStmt</a></span><span class="op" id="6000305">{</span><span class="ident" id="6000306"><a href="/gostd/go/ast/ast.go.html#3810906">From</a></span><span class="op" id="6000310">:</span>&nbsp;<span class="ident" id="6000312"><a href="/gostd/go/parser/parser.go.html#5998452">x</a></span><span class="op" id="6000313">[</span><span class="num" id="6000314">0</span><span class="op" id="6000315">]</span><span class="op" id="6000316">.</span><span class="ident" id="6000317"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="6000320">(</span><span class="op" id="6000321">)</span><span class="op" id="6000322">,</span>&nbsp;<span class="ident" id="6000324"><a href="/gostd/go/ast/ast.go.html#3810912">To</a></span><span class="op" id="6000326">:</span>&nbsp;<span class="ident" id="6000328"><a href="/gostd/go/parser/parser.go.html#5999436">colon</a></span>&nbsp;<span class="op" id="6000334">+</span>&nbsp;<span class="num" id="6000336">1</span><span class="op" id="6000337">}</span><span class="op" id="6000338">,</span>&nbsp;<span class="builtintype" id="6000340">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6000348">case</span>&nbsp;<span class="ident" id="6000353"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6000358">.</span><span class="ident" id="6000359"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span><span class="op" id="6000364">:</span><br>
<span class="lineno">1695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6000368">//&nbsp;send&nbsp;statement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6000388">arrow</span>&nbsp;<span class="op" id="6000394">:=</span>&nbsp;<span class="ident" id="6000397"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="6000398">.</span><span class="ident" id="6000399"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6000405"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="6000406">.</span><span class="ident" id="6000407"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6000411">(</span><span class="op" id="6000412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6000416">y</span>&nbsp;<span class="op" id="6000418">:=</span>&nbsp;<span class="ident" id="6000421"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="6000422">.</span><span class="ident" id="6000423"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="6000431">(</span><span class="op" id="6000432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6000436">return</span>&nbsp;<span class="op" id="6000443">&amp;</span><span class="ident" id="6000444"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6000447">.</span><span class="ident" id="6000448"><a href="/gostd/go/ast/ast.go.html#3811672">SendStmt</a></span><span class="op" id="6000456">{</span><span class="ident" id="6000457"><a href="/gostd/go/ast/ast.go.html#3811692">Chan</a></span><span class="op" id="6000461">:</span>&nbsp;<span class="ident" id="6000463"><a href="/gostd/go/parser/parser.go.html#5998452">x</a></span><span class="op" id="6000464">[</span><span class="num" id="6000465">0</span><span class="op" id="6000466">]</span><span class="op" id="6000467">,</span>&nbsp;<span class="ident" id="6000469"><a href="/gostd/go/ast/ast.go.html#3811705">Arrow</a></span><span class="op" id="6000474">:</span>&nbsp;<span class="ident" id="6000476"><a href="/gostd/go/parser/parser.go.html#6000388">arrow</a></span><span class="op" id="6000481">,</span>&nbsp;<span class="ident" id="6000483"><a href="/gostd/go/ast/ast.go.html#3811743">Value</a></span><span class="op" id="6000488">:</span>&nbsp;<span class="ident" id="6000490"><a href="/gostd/go/parser/parser.go.html#6000416">y</a></span><span class="op" id="6000491">}</span><span class="op" id="6000492">,</span>&nbsp;<span class="builtintype" id="6000494">false</span><br>
<span class="lineno">1700</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6000502">case</span>&nbsp;<span class="ident" id="6000507"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6000512">.</span><span class="ident" id="6000513"><a href="/gostd/go/token/token.go.html#3890387">INC</a></span><span class="op" id="6000516">,</span>&nbsp;<span class="ident" id="6000518"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6000523">.</span><span class="ident" id="6000524"><a href="/gostd/go/token/token.go.html#3890400">DEC</a></span><span class="op" id="6000527">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6000531">//&nbsp;increment&nbsp;or&nbsp;decrement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6000559">s</span>&nbsp;<span class="op" id="6000561">:=</span>&nbsp;<span class="op" id="6000564">&amp;</span><span class="ident" id="6000565"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6000568">.</span><span class="ident" id="6000569"><a href="/gostd/go/ast/ast.go.html#3811830">IncDecStmt</a></span><span class="op" id="6000579">{</span><span class="ident" id="6000580"><a href="/gostd/go/ast/ast.go.html#3811852">X</a></span><span class="op" id="6000581">:</span>&nbsp;<span class="ident" id="6000583"><a href="/gostd/go/parser/parser.go.html#5998452">x</a></span><span class="op" id="6000584">[</span><span class="num" id="6000585">0</span><span class="op" id="6000586">]</span><span class="op" id="6000587">,</span>&nbsp;<span class="ident" id="6000589"><a href="/gostd/go/ast/ast.go.html#3811866">TokPos</a></span><span class="op" id="6000595">:</span>&nbsp;<span class="ident" id="6000597"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="6000598">.</span><span class="ident" id="6000599"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="6000602">,</span>&nbsp;<span class="ident" id="6000604"><a href="/gostd/go/ast/ast.go.html#3811906">Tok</a></span><span class="op" id="6000607">:</span>&nbsp;<span class="ident" id="6000609"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="6000610">.</span><span class="ident" id="6000611"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="6000614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6000618"><a href="/gostd/go/parser/parser.go.html#5998342">p</a></span><span class="op" id="6000619">.</span><span class="ident" id="6000620"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6000624">(</span><span class="op" id="6000625">)</span><br>
<span class="lineno">1705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6000629">return</span>&nbsp;<span class="ident" id="6000636"><a href="/gostd/go/parser/parser.go.html#6000559">s</a></span><span class="op" id="6000637">,</span>&nbsp;<span class="builtintype" id="6000639">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6000646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6000650">//&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6000665">return</span>&nbsp;<span class="op" id="6000672">&amp;</span><span class="ident" id="6000673"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6000676">.</span><span class="ident" id="6000677"><a href="/gostd/go/ast/ast.go.html#3811577">ExprStmt</a></span><span class="op" id="6000685">{</span><span class="ident" id="6000686"><a href="/gostd/go/ast/ast.go.html#3811597">X</a></span><span class="op" id="6000687">:</span>&nbsp;<span class="ident" id="6000689"><a href="/gostd/go/parser/parser.go.html#5998452">x</a></span><span class="op" id="6000690">[</span><span class="num" id="6000691">0</span><span class="op" id="6000692">]</span><span class="op" id="6000693">}</span><span class="op" id="6000694">,</span>&nbsp;<span class="builtintype" id="6000696">false</span><br>
<span class="lineno">1710</span><span class="op" id="6000702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6000705">func</span>&nbsp;<span class="op" id="6000710">(</span><span class="ident" id="6000711">p</span>&nbsp;<span class="op" id="6000713">*</span><span class="ident" id="6000714"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6000720">)</span>&nbsp;<span class="ident" id="6000722">parseCallExpr</span><span class="op" id="6000735">(</span><span class="ident" id="6000736">callType</span>&nbsp;<span class="builtintype" id="6000745">string</span><span class="op" id="6000751">)</span>&nbsp;<span class="op" id="6000753">*</span><span class="ident" id="6000754"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6000757">.</span><span class="ident" id="6000758"><a href="/gostd/go/ast/ast.go.html#3802763">CallExpr</a></span>&nbsp;<span class="op" id="6000767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6000770">x</span>&nbsp;<span class="op" id="6000772">:=</span>&nbsp;<span class="ident" id="6000775"><a href="/gostd/go/parser/parser.go.html#6000711">p</a></span><span class="op" id="6000776">.</span><span class="ident" id="6000777"><a href="/gostd/go/parser/parser.go.html#5997735">parseRhsOrType</a></span><span class="op" id="6000791">(</span><span class="op" id="6000792">)</span>&nbsp;<span class="comment" id="6000794">//&nbsp;could&nbsp;be&nbsp;a&nbsp;conversion:&nbsp;(some&nbsp;type)(x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6000836">if</span>&nbsp;<span class="ident" id="6000839">call</span><span class="op" id="6000843">,</span>&nbsp;<span class="ident" id="6000845">isCall</span>&nbsp;<span class="op" id="6000852">:=</span>&nbsp;<span class="ident" id="6000855"><a href="/gostd/go/parser/parser.go.html#6000770">x</a></span><span class="op" id="6000856">.</span><span class="op" id="6000857">(</span><span class="op" id="6000858">*</span><span class="ident" id="6000859"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6000862">.</span><span class="ident" id="6000863"><a href="/gostd/go/ast/ast.go.html#3802763">CallExpr</a></span><span class="op" id="6000871">)</span><span class="op" id="6000872">;</span>&nbsp;<span class="ident" id="6000874"><a href="/gostd/go/parser/parser.go.html#6000845">isCall</a></span>&nbsp;<span class="op" id="6000881">{</span><br>
<span class="lineno">1715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6000885">return</span>&nbsp;<span class="ident" id="6000892"><a href="/gostd/go/parser/parser.go.html#6000839">call</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6000898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6000901">if</span>&nbsp;<span class="ident" id="6000904">_</span><span class="op" id="6000905">,</span>&nbsp;<span class="ident" id="6000907">isBad</span>&nbsp;<span class="op" id="6000913">:=</span>&nbsp;<span class="ident" id="6000916"><a href="/gostd/go/parser/parser.go.html#6000770">x</a></span><span class="op" id="6000917">.</span><span class="op" id="6000918">(</span><span class="op" id="6000919">*</span><span class="ident" id="6000920"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6000923">.</span><span class="ident" id="6000924"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="6000931">)</span><span class="op" id="6000932">;</span>&nbsp;<span class="op" id="6000934">!</span><span class="ident" id="6000935"><a href="/gostd/go/parser/parser.go.html#6000907">isBad</a></span>&nbsp;<span class="op" id="6000941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6000945">//&nbsp;only&nbsp;report&nbsp;error&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;new&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6000986"><a href="/gostd/go/parser/parser.go.html#6000711">p</a></span><span class="op" id="6000987">.</span><span class="builtintype" id="6000988"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="6000993">(</span><span class="ident" id="6000994"><a href="/gostd/go/parser/parser.go.html#6000711">p</a></span><span class="op" id="6000995">.</span><span class="ident" id="6000996"><a href="/gostd/go/parser/parser.go.html#5970773">safePos</a></span><span class="op" id="6001003">(</span><span class="ident" id="6001004"><a href="/gostd/go/parser/parser.go.html#6000770">x</a></span><span class="op" id="6001005">.</span><span class="ident" id="6001006"><a href="/gostd/go/ast/ast.go.html#3795102">End</a></span><span class="op" id="6001009">(</span><span class="op" id="6001010">)</span><span class="op" id="6001011">)</span><span class="op" id="6001012">,</span>&nbsp;<span class="ident" id="6001014"><a href="/gostd/go/parser/parser.go.html#5956740">fmt</a></span><span class="op" id="6001017">.</span><span class="ident" id="6001018"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="6001025">(</span><span class="string" id="6001026">&#34;function&nbsp;must&nbsp;be&nbsp;invoked&nbsp;in&nbsp;%s&nbsp;statement&#34;</span><span class="op" id="6001068">,</span>&nbsp;<span class="ident" id="6001070"><a href="/gostd/go/parser/parser.go.html#6000736">callType</a></span><span class="op" id="6001078">)</span><span class="op" id="6001079">)</span><br>
<span class="lineno">1720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6001082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001085">return</span>&nbsp;<span class="builtintype" id="6001092">nil</span><br>
<span class="lineno"></span><span class="op" id="6001096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6001099">func</span>&nbsp;<span class="op" id="6001104">(</span><span class="ident" id="6001105">p</span>&nbsp;<span class="op" id="6001107">*</span><span class="ident" id="6001108"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6001114">)</span>&nbsp;<span class="ident" id="6001116">parseGoStmt</span><span class="op" id="6001127">(</span><span class="op" id="6001128">)</span>&nbsp;<span class="ident" id="6001130"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6001133">.</span><span class="ident" id="6001134"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span>&nbsp;<span class="op" id="6001139">{</span><br>
<span class="lineno">1725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001142">if</span>&nbsp;<span class="ident" id="6001145"><a href="/gostd/go/parser/parser.go.html#6001105">p</a></span><span class="op" id="6001146">.</span><span class="ident" id="6001147"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6001153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001157">defer</span>&nbsp;<span class="ident" id="6001163"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6001165">(</span><span class="ident" id="6001166"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6001171">(</span><span class="ident" id="6001172"><a href="/gostd/go/parser/parser.go.html#6001105">p</a></span><span class="op" id="6001173">,</span>&nbsp;<span class="string" id="6001175">&#34;GoStmt&#34;</span><span class="op" id="6001183">)</span><span class="op" id="6001184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6001187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001191">pos</span>&nbsp;<span class="op" id="6001195">:=</span>&nbsp;<span class="ident" id="6001198"><a href="/gostd/go/parser/parser.go.html#6001105">p</a></span><span class="op" id="6001199">.</span><span class="ident" id="6001200"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6001206">(</span><span class="ident" id="6001207"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6001212">.</span><span class="ident" id="6001213"><a href="/gostd/go/token/token.go.html#3890834">GO</a></span><span class="op" id="6001215">)</span><br>
<span class="lineno">1730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001218">call</span>&nbsp;<span class="op" id="6001223">:=</span>&nbsp;<span class="ident" id="6001226"><a href="/gostd/go/parser/parser.go.html#6001105">p</a></span><span class="op" id="6001227">.</span><span class="ident" id="6001228"><a href="/gostd/go/parser/parser.go.html#6000722">parseCallExpr</a></span><span class="op" id="6001241">(</span><span class="string" id="6001242">&#34;go&#34;</span><span class="op" id="6001246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001249"><a href="/gostd/go/parser/parser.go.html#6001105">p</a></span><span class="op" id="6001250">.</span><span class="ident" id="6001251"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6001261">(</span><span class="op" id="6001262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001265">if</span>&nbsp;<span class="ident" id="6001268"><a href="/gostd/go/parser/parser.go.html#6001218">call</a></span>&nbsp;<span class="op" id="6001273">==</span>&nbsp;<span class="builtintype" id="6001276">nil</span>&nbsp;<span class="op" id="6001280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001284">return</span>&nbsp;<span class="op" id="6001291">&amp;</span><span class="ident" id="6001292"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6001295">.</span><span class="ident" id="6001296"><a href="/gostd/go/ast/ast.go.html#3810887">BadStmt</a></span><span class="op" id="6001303">{</span><span class="ident" id="6001304"><a href="/gostd/go/ast/ast.go.html#3810906">From</a></span><span class="op" id="6001308">:</span>&nbsp;<span class="ident" id="6001310"><a href="/gostd/go/parser/parser.go.html#6001191">pos</a></span><span class="op" id="6001313">,</span>&nbsp;<span class="ident" id="6001315"><a href="/gostd/go/ast/ast.go.html#3810912">To</a></span><span class="op" id="6001317">:</span>&nbsp;<span class="ident" id="6001319"><a href="/gostd/go/parser/parser.go.html#6001191">pos</a></span>&nbsp;<span class="op" id="6001323">+</span>&nbsp;<span class="num" id="6001325">2</span><span class="op" id="6001326">}</span>&nbsp;<span class="comment" id="6001328">//&nbsp;len(&#34;go&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6001342">}</span><br>
<span class="lineno">1735</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001346">return</span>&nbsp;<span class="op" id="6001353">&amp;</span><span class="ident" id="6001354"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6001357">.</span><span class="ident" id="6001358"><a href="/gostd/go/ast/ast.go.html#3812224">GoStmt</a></span><span class="op" id="6001364">{</span><span class="ident" id="6001365"><a href="/gostd/go/ast/ast.go.html#3812242">Go</a></span><span class="op" id="6001367">:</span>&nbsp;<span class="ident" id="6001369"><a href="/gostd/go/parser/parser.go.html#6001191">pos</a></span><span class="op" id="6001372">,</span>&nbsp;<span class="ident" id="6001374"><a href="/gostd/go/ast/ast.go.html#3812287">Call</a></span><span class="op" id="6001378">:</span>&nbsp;<span class="ident" id="6001380"><a href="/gostd/go/parser/parser.go.html#6001218">call</a></span><span class="op" id="6001384">}</span><br>
<span class="lineno"></span><span class="op" id="6001386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6001389">func</span>&nbsp;<span class="op" id="6001394">(</span><span class="ident" id="6001395">p</span>&nbsp;<span class="op" id="6001397">*</span><span class="ident" id="6001398"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6001404">)</span>&nbsp;<span class="ident" id="6001406">parseDeferStmt</span><span class="op" id="6001420">(</span><span class="op" id="6001421">)</span>&nbsp;<span class="ident" id="6001423"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6001426">.</span><span class="ident" id="6001427"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span>&nbsp;<span class="op" id="6001432">{</span><br>
<span class="lineno">1740</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001435">if</span>&nbsp;<span class="ident" id="6001438"><a href="/gostd/go/parser/parser.go.html#6001395">p</a></span><span class="op" id="6001439">.</span><span class="ident" id="6001440"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6001446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001450">defer</span>&nbsp;<span class="ident" id="6001456"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6001458">(</span><span class="ident" id="6001459"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6001464">(</span><span class="ident" id="6001465"><a href="/gostd/go/parser/parser.go.html#6001395">p</a></span><span class="op" id="6001466">,</span>&nbsp;<span class="string" id="6001468">&#34;DeferStmt&#34;</span><span class="op" id="6001479">)</span><span class="op" id="6001480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6001483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001487">pos</span>&nbsp;<span class="op" id="6001491">:=</span>&nbsp;<span class="ident" id="6001494"><a href="/gostd/go/parser/parser.go.html#6001395">p</a></span><span class="op" id="6001495">.</span><span class="ident" id="6001496"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6001502">(</span><span class="ident" id="6001503"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6001508">.</span><span class="ident" id="6001509"><a href="/gostd/go/token/token.go.html#3890796">DEFER</a></span><span class="op" id="6001514">)</span><br>
<span class="lineno">1745</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001517">call</span>&nbsp;<span class="op" id="6001522">:=</span>&nbsp;<span class="ident" id="6001525"><a href="/gostd/go/parser/parser.go.html#6001395">p</a></span><span class="op" id="6001526">.</span><span class="ident" id="6001527"><a href="/gostd/go/parser/parser.go.html#6000722">parseCallExpr</a></span><span class="op" id="6001540">(</span><span class="string" id="6001541">&#34;defer&#34;</span><span class="op" id="6001548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001551"><a href="/gostd/go/parser/parser.go.html#6001395">p</a></span><span class="op" id="6001552">.</span><span class="ident" id="6001553"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6001563">(</span><span class="op" id="6001564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001567">if</span>&nbsp;<span class="ident" id="6001570"><a href="/gostd/go/parser/parser.go.html#6001517">call</a></span>&nbsp;<span class="op" id="6001575">==</span>&nbsp;<span class="builtintype" id="6001578">nil</span>&nbsp;<span class="op" id="6001582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001586">return</span>&nbsp;<span class="op" id="6001593">&amp;</span><span class="ident" id="6001594"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6001597">.</span><span class="ident" id="6001598"><a href="/gostd/go/ast/ast.go.html#3810887">BadStmt</a></span><span class="op" id="6001605">{</span><span class="ident" id="6001606"><a href="/gostd/go/ast/ast.go.html#3810906">From</a></span><span class="op" id="6001610">:</span>&nbsp;<span class="ident" id="6001612"><a href="/gostd/go/parser/parser.go.html#6001487">pos</a></span><span class="op" id="6001615">,</span>&nbsp;<span class="ident" id="6001617"><a href="/gostd/go/ast/ast.go.html#3810912">To</a></span><span class="op" id="6001619">:</span>&nbsp;<span class="ident" id="6001621"><a href="/gostd/go/parser/parser.go.html#6001487">pos</a></span>&nbsp;<span class="op" id="6001625">+</span>&nbsp;<span class="num" id="6001627">5</span><span class="op" id="6001628">}</span>&nbsp;<span class="comment" id="6001630">//&nbsp;len(&#34;defer&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6001647">}</span><br>
<span class="lineno">1750</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001651">return</span>&nbsp;<span class="op" id="6001658">&amp;</span><span class="ident" id="6001659"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6001662">.</span><span class="ident" id="6001663"><a href="/gostd/go/ast/ast.go.html#3812358">DeferStmt</a></span><span class="op" id="6001672">{</span><span class="ident" id="6001673"><a href="/gostd/go/ast/ast.go.html#3812379">Defer</a></span><span class="op" id="6001678">:</span>&nbsp;<span class="ident" id="6001680"><a href="/gostd/go/parser/parser.go.html#6001487">pos</a></span><span class="op" id="6001683">,</span>&nbsp;<span class="ident" id="6001685"><a href="/gostd/go/ast/ast.go.html#3812428">Call</a></span><span class="op" id="6001689">:</span>&nbsp;<span class="ident" id="6001691"><a href="/gostd/go/parser/parser.go.html#6001517">call</a></span><span class="op" id="6001695">}</span><br>
<span class="lineno"></span><span class="op" id="6001697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6001700">func</span>&nbsp;<span class="op" id="6001705">(</span><span class="ident" id="6001706">p</span>&nbsp;<span class="op" id="6001708">*</span><span class="ident" id="6001709"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6001715">)</span>&nbsp;<span class="ident" id="6001717">parseReturnStmt</span><span class="op" id="6001732">(</span><span class="op" id="6001733">)</span>&nbsp;<span class="op" id="6001735">*</span><span class="ident" id="6001736"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6001739">.</span><span class="ident" id="6001740"><a href="/gostd/go/ast/ast.go.html#3812502">ReturnStmt</a></span>&nbsp;<span class="op" id="6001751">{</span><br>
<span class="lineno">1755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001754">if</span>&nbsp;<span class="ident" id="6001757"><a href="/gostd/go/parser/parser.go.html#6001706">p</a></span><span class="op" id="6001758">.</span><span class="ident" id="6001759"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6001765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001769">defer</span>&nbsp;<span class="ident" id="6001775"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6001777">(</span><span class="ident" id="6001778"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6001783">(</span><span class="ident" id="6001784"><a href="/gostd/go/parser/parser.go.html#6001706">p</a></span><span class="op" id="6001785">,</span>&nbsp;<span class="string" id="6001787">&#34;ReturnStmt&#34;</span><span class="op" id="6001799">)</span><span class="op" id="6001800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6001803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001807">pos</span>&nbsp;<span class="op" id="6001811">:=</span>&nbsp;<span class="ident" id="6001814"><a href="/gostd/go/parser/parser.go.html#6001706">p</a></span><span class="op" id="6001815">.</span><span class="ident" id="6001816"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno">1760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001821"><a href="/gostd/go/parser/parser.go.html#6001706">p</a></span><span class="op" id="6001822">.</span><span class="ident" id="6001823"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6001829">(</span><span class="ident" id="6001830"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6001835">.</span><span class="ident" id="6001836"><a href="/gostd/go/token/token.go.html#3890889">RETURN</a></span><span class="op" id="6001842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001845">var</span>&nbsp;<span class="ident" id="6001849">x</span>&nbsp;<span class="op" id="6001851">[</span><span class="op" id="6001852">]</span><span class="ident" id="6001853"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6001856">.</span><span class="ident" id="6001857"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001863">if</span>&nbsp;<span class="ident" id="6001866"><a href="/gostd/go/parser/parser.go.html#6001706">p</a></span><span class="op" id="6001867">.</span><span class="ident" id="6001868"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6001872">!=</span>&nbsp;<span class="ident" id="6001875"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6001880">.</span><span class="ident" id="6001881"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="6001891">&amp;&amp;</span>&nbsp;<span class="ident" id="6001894"><a href="/gostd/go/parser/parser.go.html#6001706">p</a></span><span class="op" id="6001895">.</span><span class="ident" id="6001896"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6001900">!=</span>&nbsp;<span class="ident" id="6001903"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6001908">.</span><span class="ident" id="6001909"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span>&nbsp;<span class="op" id="6001916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001920"><a href="/gostd/go/parser/parser.go.html#6001849">x</a></span>&nbsp;<span class="op" id="6001922">=</span>&nbsp;<span class="ident" id="6001924"><a href="/gostd/go/parser/parser.go.html#6001706">p</a></span><span class="op" id="6001925">.</span><span class="ident" id="6001926"><a href="/gostd/go/parser/parser.go.html#5972945">parseRhsList</a></span><span class="op" id="6001938">(</span><span class="op" id="6001939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6001942">}</span><br>
<span class="lineno">1765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6001945"><a href="/gostd/go/parser/parser.go.html#6001706">p</a></span><span class="op" id="6001946">.</span><span class="ident" id="6001947"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6001957">(</span><span class="op" id="6001958">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6001962">return</span>&nbsp;<span class="op" id="6001969">&amp;</span><span class="ident" id="6001970"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6001973">.</span><span class="ident" id="6001974"><a href="/gostd/go/ast/ast.go.html#3812502">ReturnStmt</a></span><span class="op" id="6001984">{</span><span class="ident" id="6001985"><a href="/gostd/go/ast/ast.go.html#3812524">Return</a></span><span class="op" id="6001991">:</span>&nbsp;<span class="ident" id="6001993"><a href="/gostd/go/parser/parser.go.html#6001807">pos</a></span><span class="op" id="6001996">,</span>&nbsp;<span class="ident" id="6001998"><a href="/gostd/go/ast/ast.go.html#3812576">Results</a></span><span class="op" id="6002005">:</span>&nbsp;<span class="ident" id="6002007"><a href="/gostd/go/parser/parser.go.html#6001849">x</a></span><span class="op" id="6002008">}</span><br>
<span class="lineno"></span><span class="op" id="6002010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1770</span><span class="keyword" id="6002013">func</span>&nbsp;<span class="op" id="6002018">(</span><span class="ident" id="6002019">p</span>&nbsp;<span class="op" id="6002021">*</span><span class="ident" id="6002022"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6002028">)</span>&nbsp;<span class="ident" id="6002030">parseBranchStmt</span><span class="op" id="6002045">(</span><span class="ident" id="6002046">tok</span>&nbsp;<span class="ident" id="6002050"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6002055">.</span><span class="ident" id="6002056"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="6002061">)</span>&nbsp;<span class="op" id="6002063">*</span><span class="ident" id="6002064"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6002067">.</span><span class="ident" id="6002068"><a href="/gostd/go/ast/ast.go.html#3812721">BranchStmt</a></span>&nbsp;<span class="op" id="6002079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002082">if</span>&nbsp;<span class="ident" id="6002085"><a href="/gostd/go/parser/parser.go.html#6002019">p</a></span><span class="op" id="6002086">.</span><span class="ident" id="6002087"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6002093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002097">defer</span>&nbsp;<span class="ident" id="6002103"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6002105">(</span><span class="ident" id="6002106"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6002111">(</span><span class="ident" id="6002112"><a href="/gostd/go/parser/parser.go.html#6002019">p</a></span><span class="op" id="6002113">,</span>&nbsp;<span class="string" id="6002115">&#34;BranchStmt&#34;</span><span class="op" id="6002127">)</span><span class="op" id="6002128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6002131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1775</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6002135">pos</span>&nbsp;<span class="op" id="6002139">:=</span>&nbsp;<span class="ident" id="6002142"><a href="/gostd/go/parser/parser.go.html#6002019">p</a></span><span class="op" id="6002143">.</span><span class="ident" id="6002144"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6002150">(</span><span class="ident" id="6002151"><a href="/gostd/go/parser/parser.go.html#6002046">tok</a></span><span class="op" id="6002154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002157">var</span>&nbsp;<span class="ident" id="6002161">label</span>&nbsp;<span class="op" id="6002167">*</span><span class="ident" id="6002168"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6002171">.</span><span class="ident" id="6002172"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002179">if</span>&nbsp;<span class="ident" id="6002182"><a href="/gostd/go/parser/parser.go.html#6002046">tok</a></span>&nbsp;<span class="op" id="6002186">!=</span>&nbsp;<span class="ident" id="6002189"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6002194">.</span><span class="ident" id="6002195"><a href="/gostd/go/token/token.go.html#3890809">FALLTHROUGH</a></span>&nbsp;<span class="op" id="6002207">&amp;&amp;</span>&nbsp;<span class="ident" id="6002210"><a href="/gostd/go/parser/parser.go.html#6002019">p</a></span><span class="op" id="6002211">.</span><span class="ident" id="6002212"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6002216">==</span>&nbsp;<span class="ident" id="6002219"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6002224">.</span><span class="ident" id="6002225"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span>&nbsp;<span class="op" id="6002231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6002235"><a href="/gostd/go/parser/parser.go.html#6002161">label</a></span>&nbsp;<span class="op" id="6002241">=</span>&nbsp;<span class="ident" id="6002243"><a href="/gostd/go/parser/parser.go.html#6002019">p</a></span><span class="op" id="6002244">.</span><span class="ident" id="6002245"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="6002255">(</span><span class="op" id="6002256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6002260">//&nbsp;add&nbsp;to&nbsp;list&nbsp;of&nbsp;unresolved&nbsp;targets</span><br>
<span class="lineno">1780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6002299">n</span>&nbsp;<span class="op" id="6002301">:=</span>&nbsp;<span class="builtinfunc" id="6002304">len</span><span class="op" id="6002307">(</span><span class="ident" id="6002308"><a href="/gostd/go/parser/parser.go.html#6002019">p</a></span><span class="op" id="6002309">.</span><span class="ident" id="6002310"><a href="/gostd/go/parser/parser.go.html#5958256">targetStack</a></span><span class="op" id="6002321">)</span>&nbsp;<span class="op" id="6002323">-</span>&nbsp;<span class="num" id="6002325">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6002329"><a href="/gostd/go/parser/parser.go.html#6002019">p</a></span><span class="op" id="6002330">.</span><span class="ident" id="6002331"><a href="/gostd/go/parser/parser.go.html#5958256">targetStack</a></span><span class="op" id="6002342">[</span><span class="ident" id="6002343"><a href="/gostd/go/parser/parser.go.html#6002299">n</a></span><span class="op" id="6002344">]</span>&nbsp;<span class="op" id="6002346">=</span>&nbsp;<span class="builtinfunc" id="6002348">append</span><span class="op" id="6002354">(</span><span class="ident" id="6002355"><a href="/gostd/go/parser/parser.go.html#6002019">p</a></span><span class="op" id="6002356">.</span><span class="ident" id="6002357"><a href="/gostd/go/parser/parser.go.html#5958256">targetStack</a></span><span class="op" id="6002368">[</span><span class="ident" id="6002369"><a href="/gostd/go/parser/parser.go.html#6002299">n</a></span><span class="op" id="6002370">]</span><span class="op" id="6002371">,</span>&nbsp;<span class="ident" id="6002373"><a href="/gostd/go/parser/parser.go.html#6002161">label</a></span><span class="op" id="6002378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6002381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6002384"><a href="/gostd/go/parser/parser.go.html#6002019">p</a></span><span class="op" id="6002385">.</span><span class="ident" id="6002386"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6002396">(</span><span class="op" id="6002397">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1785</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002401">return</span>&nbsp;<span class="op" id="6002408">&amp;</span><span class="ident" id="6002409"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6002412">.</span><span class="ident" id="6002413"><a href="/gostd/go/ast/ast.go.html#3812721">BranchStmt</a></span><span class="op" id="6002423">{</span><span class="ident" id="6002424"><a href="/gostd/go/ast/ast.go.html#3812743">TokPos</a></span><span class="op" id="6002430">:</span>&nbsp;<span class="ident" id="6002432"><a href="/gostd/go/parser/parser.go.html#6002135">pos</a></span><span class="op" id="6002435">,</span>&nbsp;<span class="ident" id="6002437"><a href="/gostd/go/ast/ast.go.html#3812783">Tok</a></span><span class="op" id="6002440">:</span>&nbsp;<span class="ident" id="6002442"><a href="/gostd/go/parser/parser.go.html#6002046">tok</a></span><span class="op" id="6002445">,</span>&nbsp;<span class="ident" id="6002447"><a href="/gostd/go/ast/ast.go.html#3812858">Label</a></span><span class="op" id="6002452">:</span>&nbsp;<span class="ident" id="6002454"><a href="/gostd/go/parser/parser.go.html#6002161">label</a></span><span class="op" id="6002459">}</span><br>
<span class="lineno"></span><span class="op" id="6002461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6002464">func</span>&nbsp;<span class="op" id="6002469">(</span><span class="ident" id="6002470">p</span>&nbsp;<span class="op" id="6002472">*</span><span class="ident" id="6002473"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6002479">)</span>&nbsp;<span class="ident" id="6002481">makeExpr</span><span class="op" id="6002489">(</span><span class="ident" id="6002490">s</span>&nbsp;<span class="ident" id="6002492"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6002495">.</span><span class="ident" id="6002496"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><span class="op" id="6002500">,</span>&nbsp;<span class="ident" id="6002502">kind</span>&nbsp;<span class="builtintype" id="6002507">string</span><span class="op" id="6002513">)</span>&nbsp;<span class="ident" id="6002515"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6002518">.</span><span class="ident" id="6002519"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span>&nbsp;<span class="op" id="6002524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002527">if</span>&nbsp;<span class="ident" id="6002530"><a href="/gostd/go/parser/parser.go.html#6002490">s</a></span>&nbsp;<span class="op" id="6002532">==</span>&nbsp;<span class="builtintype" id="6002535">nil</span>&nbsp;<span class="op" id="6002539">{</span><br>
<span class="lineno">1790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002543">return</span>&nbsp;<span class="builtintype" id="6002550">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6002555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002558">if</span>&nbsp;<span class="ident" id="6002561">es</span><span class="op" id="6002563">,</span>&nbsp;<span class="ident" id="6002565">isExpr</span>&nbsp;<span class="op" id="6002572">:=</span>&nbsp;<span class="ident" id="6002575"><a href="/gostd/go/parser/parser.go.html#6002490">s</a></span><span class="op" id="6002576">.</span><span class="op" id="6002577">(</span><span class="op" id="6002578">*</span><span class="ident" id="6002579"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6002582">.</span><span class="ident" id="6002583"><a href="/gostd/go/ast/ast.go.html#3811577">ExprStmt</a></span><span class="op" id="6002591">)</span><span class="op" id="6002592">;</span>&nbsp;<span class="ident" id="6002594"><a href="/gostd/go/parser/parser.go.html#6002565">isExpr</a></span>&nbsp;<span class="op" id="6002601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002605">return</span>&nbsp;<span class="ident" id="6002612"><a href="/gostd/go/parser/parser.go.html#6002470">p</a></span><span class="op" id="6002613">.</span><span class="ident" id="6002614"><a href="/gostd/go/parser/parser.go.html#5991085">checkExpr</a></span><span class="op" id="6002623">(</span><span class="ident" id="6002624"><a href="/gostd/go/parser/parser.go.html#6002561">es</a></span><span class="op" id="6002626">.</span><span class="ident" id="6002627"><a href="/gostd/go/ast/ast.go.html#3811597">X</a></span><span class="op" id="6002628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6002631">}</span><br>
<span class="lineno">1795</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6002634"><a href="/gostd/go/parser/parser.go.html#6002470">p</a></span><span class="op" id="6002635">.</span><span class="builtintype" id="6002636"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="6002641">(</span><span class="ident" id="6002642"><a href="/gostd/go/parser/parser.go.html#6002490">s</a></span><span class="op" id="6002643">.</span><span class="ident" id="6002644"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="6002647">(</span><span class="op" id="6002648">)</span><span class="op" id="6002649">,</span>&nbsp;<span class="ident" id="6002651"><a href="/gostd/go/parser/parser.go.html#5956740">fmt</a></span><span class="op" id="6002654">.</span><span class="ident" id="6002655"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="6002662">(</span><span class="string" id="6002663">&#34;expected&nbsp;%s,&nbsp;found&nbsp;simple&nbsp;statement&nbsp;(missing&nbsp;parentheses&nbsp;around&nbsp;composite&nbsp;literal?)&#34;</span><span class="op" id="6002748">,</span>&nbsp;<span class="ident" id="6002750"><a href="/gostd/go/parser/parser.go.html#6002502">kind</a></span><span class="op" id="6002754">)</span><span class="op" id="6002755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002758">return</span>&nbsp;<span class="op" id="6002765">&amp;</span><span class="ident" id="6002766"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6002769">.</span><span class="ident" id="6002770"><a href="/gostd/go/ast/ast.go.html#3800116">BadExpr</a></span><span class="op" id="6002777">{</span><span class="ident" id="6002778"><a href="/gostd/go/ast/ast.go.html#3800135">From</a></span><span class="op" id="6002782">:</span>&nbsp;<span class="ident" id="6002784"><a href="/gostd/go/parser/parser.go.html#6002490">s</a></span><span class="op" id="6002785">.</span><span class="ident" id="6002786"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="6002789">(</span><span class="op" id="6002790">)</span><span class="op" id="6002791">,</span>&nbsp;<span class="ident" id="6002793"><a href="/gostd/go/ast/ast.go.html#3800141">To</a></span><span class="op" id="6002795">:</span>&nbsp;<span class="ident" id="6002797"><a href="/gostd/go/parser/parser.go.html#6002470">p</a></span><span class="op" id="6002798">.</span><span class="ident" id="6002799"><a href="/gostd/go/parser/parser.go.html#5970773">safePos</a></span><span class="op" id="6002806">(</span><span class="ident" id="6002807"><a href="/gostd/go/parser/parser.go.html#6002490">s</a></span><span class="op" id="6002808">.</span><span class="ident" id="6002809"><a href="/gostd/go/ast/ast.go.html#3795102">End</a></span><span class="op" id="6002812">(</span><span class="op" id="6002813">)</span><span class="op" id="6002814">)</span><span class="op" id="6002815">}</span><br>
<span class="lineno"></span><span class="op" id="6002817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6002820">func</span>&nbsp;<span class="op" id="6002825">(</span><span class="ident" id="6002826">p</span>&nbsp;<span class="op" id="6002828">*</span><span class="ident" id="6002829"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6002835">)</span>&nbsp;<span class="ident" id="6002837">parseIfStmt</span><span class="op" id="6002848">(</span><span class="op" id="6002849">)</span>&nbsp;<span class="op" id="6002851">*</span><span class="ident" id="6002852"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6002855">.</span><span class="ident" id="6002856"><a href="/gostd/go/ast/ast.go.html#3813124">IfStmt</a></span>&nbsp;<span class="op" id="6002863">{</span><br>
<span class="lineno">1800</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002866">if</span>&nbsp;<span class="ident" id="6002869"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6002870">.</span><span class="ident" id="6002871"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6002877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002881">defer</span>&nbsp;<span class="ident" id="6002887"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6002889">(</span><span class="ident" id="6002890"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6002895">(</span><span class="ident" id="6002896"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6002897">,</span>&nbsp;<span class="string" id="6002899">&#34;IfStmt&#34;</span><span class="op" id="6002907">)</span><span class="op" id="6002908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6002911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6002915">pos</span>&nbsp;<span class="op" id="6002919">:=</span>&nbsp;<span class="ident" id="6002922"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6002923">.</span><span class="ident" id="6002924"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6002930">(</span><span class="ident" id="6002931"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6002936">.</span><span class="ident" id="6002937"><a href="/gostd/go/token/token.go.html#3890844">IF</a></span><span class="op" id="6002939">)</span><br>
<span class="lineno">1805</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6002942"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6002943">.</span><span class="ident" id="6002944"><a href="/gostd/go/parser/parser.go.html#5958857">openScope</a></span><span class="op" id="6002953">(</span><span class="op" id="6002954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002957">defer</span>&nbsp;<span class="ident" id="6002963"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6002964">.</span><span class="ident" id="6002965"><a href="/gostd/go/parser/parser.go.html#5958930">closeScope</a></span><span class="op" id="6002975">(</span><span class="op" id="6002976">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002980">var</span>&nbsp;<span class="ident" id="6002984">s</span>&nbsp;<span class="ident" id="6002986"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6002989">.</span><span class="ident" id="6002990"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6002996">var</span>&nbsp;<span class="ident" id="6003000">x</span>&nbsp;<span class="ident" id="6003002"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6003005">.</span><span class="ident" id="6003006"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno">1810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003016">prevLev</span>&nbsp;<span class="op" id="6003024">:=</span>&nbsp;<span class="ident" id="6003027"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003028">.</span><span class="ident" id="6003029"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003039"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003040">.</span><span class="ident" id="6003041"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span>&nbsp;<span class="op" id="6003049">=</span>&nbsp;<span class="op" id="6003051">-</span><span class="num" id="6003052">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003056">if</span>&nbsp;<span class="ident" id="6003059"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003060">.</span><span class="ident" id="6003061"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6003065">==</span>&nbsp;<span class="ident" id="6003068"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6003073">.</span><span class="ident" id="6003074"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="6003084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003089"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003090">.</span><span class="ident" id="6003091"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6003095">(</span><span class="op" id="6003096">)</span><br>
<span class="lineno">1815</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003101"><a href="/gostd/go/parser/parser.go.html#6003000">x</a></span>&nbsp;<span class="op" id="6003103">=</span>&nbsp;<span class="ident" id="6003105"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003106">.</span><span class="ident" id="6003107"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="6003115">(</span><span class="op" id="6003116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003120">}</span>&nbsp;<span class="keyword" id="6003122">else</span>&nbsp;<span class="op" id="6003127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003132"><a href="/gostd/go/parser/parser.go.html#6002984">s</a></span><span class="op" id="6003133">,</span>&nbsp;<span class="ident" id="6003135">_</span>&nbsp;<span class="op" id="6003137">=</span>&nbsp;<span class="ident" id="6003139"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003140">.</span><span class="ident" id="6003141"><a href="/gostd/go/parser/parser.go.html#5998353">parseSimpleStmt</a></span><span class="op" id="6003156">(</span><span class="ident" id="6003157"><a href="/gostd/go/parser/parser.go.html#5998009">basic</a></span><span class="op" id="6003162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003167">if</span>&nbsp;<span class="ident" id="6003170"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003171">.</span><span class="ident" id="6003172"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6003176">==</span>&nbsp;<span class="ident" id="6003179"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6003184">.</span><span class="ident" id="6003185"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="6003195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003201"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003202">.</span><span class="ident" id="6003203"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6003207">(</span><span class="op" id="6003208">)</span><br>
<span class="lineno">1820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003214"><a href="/gostd/go/parser/parser.go.html#6003000">x</a></span>&nbsp;<span class="op" id="6003216">=</span>&nbsp;<span class="ident" id="6003218"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003219">.</span><span class="ident" id="6003220"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="6003228">(</span><span class="op" id="6003229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003234">}</span>&nbsp;<span class="keyword" id="6003236">else</span>&nbsp;<span class="op" id="6003241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003247"><a href="/gostd/go/parser/parser.go.html#6003000">x</a></span>&nbsp;<span class="op" id="6003249">=</span>&nbsp;<span class="ident" id="6003251"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003252">.</span><span class="ident" id="6003253"><a href="/gostd/go/parser/parser.go.html#6002481">makeExpr</a></span><span class="op" id="6003261">(</span><span class="ident" id="6003262"><a href="/gostd/go/parser/parser.go.html#6002984">s</a></span><span class="op" id="6003263">,</span>&nbsp;<span class="string" id="6003265">&#34;boolean&nbsp;expression&#34;</span><span class="op" id="6003285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003291"><a href="/gostd/go/parser/parser.go.html#6002984">s</a></span>&nbsp;<span class="op" id="6003293">=</span>&nbsp;<span class="builtintype" id="6003295">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003302">}</span><br>
<span class="lineno">1825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003310"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003311">.</span><span class="ident" id="6003312"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span>&nbsp;<span class="op" id="6003320">=</span>&nbsp;<span class="ident" id="6003322"><a href="/gostd/go/parser/parser.go.html#6003016">prevLev</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003335">body</span>&nbsp;<span class="op" id="6003340">:=</span>&nbsp;<span class="ident" id="6003343"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003344">.</span><span class="ident" id="6003345"><a href="/gostd/go/parser/parser.go.html#5984319">parseBlockStmt</a></span><span class="op" id="6003359">(</span><span class="op" id="6003360">)</span><br>
<span class="lineno">1830</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003363">var</span>&nbsp;<span class="ident" id="6003367">else_</span>&nbsp;<span class="ident" id="6003373"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6003376">.</span><span class="ident" id="6003377"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003383">if</span>&nbsp;<span class="ident" id="6003386"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003387">.</span><span class="ident" id="6003388"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6003392">==</span>&nbsp;<span class="ident" id="6003395"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6003400">.</span><span class="ident" id="6003401"><a href="/gostd/go/token/token.go.html#3890803">ELSE</a></span>&nbsp;<span class="op" id="6003406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003410"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003411">.</span><span class="ident" id="6003412"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6003416">(</span><span class="op" id="6003417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003421"><a href="/gostd/go/parser/parser.go.html#6003367">else_</a></span>&nbsp;<span class="op" id="6003427">=</span>&nbsp;<span class="ident" id="6003429"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003430">.</span><span class="ident" id="6003431"><a href="/gostd/go/parser/parser.go.html#6009885">parseStmt</a></span><span class="op" id="6003440">(</span><span class="op" id="6003441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003444">}</span>&nbsp;<span class="keyword" id="6003446">else</span>&nbsp;<span class="op" id="6003451">{</span><br>
<span class="lineno">1835</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003455"><a href="/gostd/go/parser/parser.go.html#6002826">p</a></span><span class="op" id="6003456">.</span><span class="ident" id="6003457"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6003467">(</span><span class="op" id="6003468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003475">return</span>&nbsp;<span class="op" id="6003482">&amp;</span><span class="ident" id="6003483"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6003486">.</span><span class="ident" id="6003487"><a href="/gostd/go/ast/ast.go.html#3813124">IfStmt</a></span><span class="op" id="6003493">{</span><span class="ident" id="6003494"><a href="/gostd/go/ast/ast.go.html#3813142">If</a></span><span class="op" id="6003496">:</span>&nbsp;<span class="ident" id="6003498"><a href="/gostd/go/parser/parser.go.html#6002915">pos</a></span><span class="op" id="6003501">,</span>&nbsp;<span class="ident" id="6003503"><a href="/gostd/go/ast/ast.go.html#3813187">Init</a></span><span class="op" id="6003507">:</span>&nbsp;<span class="ident" id="6003509"><a href="/gostd/go/parser/parser.go.html#6002984">s</a></span><span class="op" id="6003510">,</span>&nbsp;<span class="ident" id="6003512"><a href="/gostd/go/ast/ast.go.html#3813240">Cond</a></span><span class="op" id="6003516">:</span>&nbsp;<span class="ident" id="6003518"><a href="/gostd/go/parser/parser.go.html#6003000">x</a></span><span class="op" id="6003519">,</span>&nbsp;<span class="ident" id="6003521"><a href="/gostd/go/ast/ast.go.html#3813270">Body</a></span><span class="op" id="6003525">:</span>&nbsp;<span class="ident" id="6003527"><a href="/gostd/go/parser/parser.go.html#6003335">body</a></span><span class="op" id="6003531">,</span>&nbsp;<span class="ident" id="6003533"><a href="/gostd/go/ast/ast.go.html#3813288">Else</a></span><span class="op" id="6003537">:</span>&nbsp;<span class="ident" id="6003539"><a href="/gostd/go/parser/parser.go.html#6003367">else_</a></span><span class="op" id="6003544">}</span><br>
<span class="lineno"></span><span class="op" id="6003546">}</span><br>
<span class="lineno">1840</span><br>
<span class="lineno"></span><span class="keyword" id="6003549">func</span>&nbsp;<span class="op" id="6003554">(</span><span class="ident" id="6003555">p</span>&nbsp;<span class="op" id="6003557">*</span><span class="ident" id="6003558"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6003564">)</span>&nbsp;<span class="ident" id="6003566">parseTypeList</span><span class="op" id="6003579">(</span><span class="op" id="6003580">)</span>&nbsp;<span class="op" id="6003582">(</span><span class="ident" id="6003583">list</span>&nbsp;<span class="op" id="6003588">[</span><span class="op" id="6003589">]</span><span class="ident" id="6003590"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6003593">.</span><span class="ident" id="6003594"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="6003598">)</span>&nbsp;<span class="op" id="6003600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003603">if</span>&nbsp;<span class="ident" id="6003606"><a href="/gostd/go/parser/parser.go.html#6003555">p</a></span><span class="op" id="6003607">.</span><span class="ident" id="6003608"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6003614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003618">defer</span>&nbsp;<span class="ident" id="6003624"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6003626">(</span><span class="ident" id="6003627"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6003632">(</span><span class="ident" id="6003633"><a href="/gostd/go/parser/parser.go.html#6003555">p</a></span><span class="op" id="6003634">,</span>&nbsp;<span class="string" id="6003636">&#34;TypeList&#34;</span><span class="op" id="6003646">)</span><span class="op" id="6003647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003650">}</span><br>
<span class="lineno">1845</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003654"><a href="/gostd/go/parser/parser.go.html#6003583">list</a></span>&nbsp;<span class="op" id="6003659">=</span>&nbsp;<span class="builtinfunc" id="6003661">append</span><span class="op" id="6003667">(</span><span class="ident" id="6003668"><a href="/gostd/go/parser/parser.go.html#6003583">list</a></span><span class="op" id="6003672">,</span>&nbsp;<span class="ident" id="6003674"><a href="/gostd/go/parser/parser.go.html#6003555">p</a></span><span class="op" id="6003675">.</span><span class="ident" id="6003676"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="6003685">(</span><span class="op" id="6003686">)</span><span class="op" id="6003687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003690">for</span>&nbsp;<span class="ident" id="6003694"><a href="/gostd/go/parser/parser.go.html#6003555">p</a></span><span class="op" id="6003695">.</span><span class="ident" id="6003696"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6003700">==</span>&nbsp;<span class="ident" id="6003703"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6003708">.</span><span class="ident" id="6003709"><a href="/gostd/go/token/token.go.html#3890602">COMMA</a></span>&nbsp;<span class="op" id="6003715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003719"><a href="/gostd/go/parser/parser.go.html#6003555">p</a></span><span class="op" id="6003720">.</span><span class="ident" id="6003721"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6003725">(</span><span class="op" id="6003726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003730"><a href="/gostd/go/parser/parser.go.html#6003583">list</a></span>&nbsp;<span class="op" id="6003735">=</span>&nbsp;<span class="builtinfunc" id="6003737">append</span><span class="op" id="6003743">(</span><span class="ident" id="6003744"><a href="/gostd/go/parser/parser.go.html#6003583">list</a></span><span class="op" id="6003748">,</span>&nbsp;<span class="ident" id="6003750"><a href="/gostd/go/parser/parser.go.html#6003555">p</a></span><span class="op" id="6003751">.</span><span class="ident" id="6003752"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="6003761">(</span><span class="op" id="6003762">)</span><span class="op" id="6003763">)</span><br>
<span class="lineno">1850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003770">return</span><br>
<span class="lineno"></span><span class="op" id="6003777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1855</span><span class="keyword" id="6003780">func</span>&nbsp;<span class="op" id="6003785">(</span><span class="ident" id="6003786">p</span>&nbsp;<span class="op" id="6003788">*</span><span class="ident" id="6003789"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6003795">)</span>&nbsp;<span class="ident" id="6003797">parseCaseClause</span><span class="op" id="6003812">(</span><span class="ident" id="6003813">typeSwitch</span>&nbsp;<span class="builtintype" id="6003824">bool</span><span class="op" id="6003828">)</span>&nbsp;<span class="op" id="6003830">*</span><span class="ident" id="6003831"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6003834">.</span><span class="ident" id="6003835"><a href="/gostd/go/ast/ast.go.html#3813404">CaseClause</a></span>&nbsp;<span class="op" id="6003846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003849">if</span>&nbsp;<span class="ident" id="6003852"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6003853">.</span><span class="ident" id="6003854"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6003860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003864">defer</span>&nbsp;<span class="ident" id="6003870"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6003872">(</span><span class="ident" id="6003873"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6003878">(</span><span class="ident" id="6003879"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6003880">,</span>&nbsp;<span class="string" id="6003882">&#34;CaseClause&#34;</span><span class="op" id="6003894">)</span><span class="op" id="6003895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6003898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003902">pos</span>&nbsp;<span class="op" id="6003906">:=</span>&nbsp;<span class="ident" id="6003909"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6003910">.</span><span class="ident" id="6003911"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003916">var</span>&nbsp;<span class="ident" id="6003920">list</span>&nbsp;<span class="op" id="6003925">[</span><span class="op" id="6003926">]</span><span class="ident" id="6003927"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6003930">.</span><span class="ident" id="6003931"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003937">if</span>&nbsp;<span class="ident" id="6003940"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6003941">.</span><span class="ident" id="6003942"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6003946">==</span>&nbsp;<span class="ident" id="6003949"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6003954">.</span><span class="ident" id="6003955"><a href="/gostd/go/token/token.go.html#3890757">CASE</a></span>&nbsp;<span class="op" id="6003960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003964"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6003965">.</span><span class="ident" id="6003966"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6003970">(</span><span class="op" id="6003971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6003975">if</span>&nbsp;<span class="ident" id="6003978"><a href="/gostd/go/parser/parser.go.html#6003813">typeSwitch</a></span>&nbsp;<span class="op" id="6003989">{</span><br>
<span class="lineno">1865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6003994"><a href="/gostd/go/parser/parser.go.html#6003920">list</a></span>&nbsp;<span class="op" id="6003999">=</span>&nbsp;<span class="ident" id="6004001"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6004002">.</span><span class="ident" id="6004003"><a href="/gostd/go/parser/parser.go.html#6003566">parseTypeList</a></span><span class="op" id="6004016">(</span><span class="op" id="6004017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6004021">}</span>&nbsp;<span class="keyword" id="6004023">else</span>&nbsp;<span class="op" id="6004028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004033"><a href="/gostd/go/parser/parser.go.html#6003920">list</a></span>&nbsp;<span class="op" id="6004038">=</span>&nbsp;<span class="ident" id="6004040"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6004041">.</span><span class="ident" id="6004042"><a href="/gostd/go/parser/parser.go.html#5972945">parseRhsList</a></span><span class="op" id="6004054">(</span><span class="op" id="6004055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6004059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6004062">}</span>&nbsp;<span class="keyword" id="6004064">else</span>&nbsp;<span class="op" id="6004069">{</span><br>
<span class="lineno">1870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004073"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6004074">.</span><span class="ident" id="6004075"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6004081">(</span><span class="ident" id="6004082"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6004087">.</span><span class="ident" id="6004088"><a href="/gostd/go/token/token.go.html#3890787">DEFAULT</a></span><span class="op" id="6004095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6004098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004102">colon</span>&nbsp;<span class="op" id="6004108">:=</span>&nbsp;<span class="ident" id="6004111"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6004112">.</span><span class="ident" id="6004113"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6004119">(</span><span class="ident" id="6004120"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6004125">.</span><span class="ident" id="6004126"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="6004131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004134"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6004135">.</span><span class="ident" id="6004136"><a href="/gostd/go/parser/parser.go.html#5958857">openScope</a></span><span class="op" id="6004145">(</span><span class="op" id="6004146">)</span><br>
<span class="lineno">1875</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004149">body</span>&nbsp;<span class="op" id="6004154">:=</span>&nbsp;<span class="ident" id="6004157"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6004158">.</span><span class="ident" id="6004159"><a href="/gostd/go/parser/parser.go.html#5983683">parseStmtList</a></span><span class="op" id="6004172">(</span><span class="op" id="6004173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004176"><a href="/gostd/go/parser/parser.go.html#6003786">p</a></span><span class="op" id="6004177">.</span><span class="ident" id="6004178"><a href="/gostd/go/parser/parser.go.html#5958930">closeScope</a></span><span class="op" id="6004188">(</span><span class="op" id="6004189">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004193">return</span>&nbsp;<span class="op" id="6004200">&amp;</span><span class="ident" id="6004201"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6004204">.</span><span class="ident" id="6004205"><a href="/gostd/go/ast/ast.go.html#3813404">CaseClause</a></span><span class="op" id="6004215">{</span><span class="ident" id="6004216"><a href="/gostd/go/ast/ast.go.html#3813426">Case</a></span><span class="op" id="6004220">:</span>&nbsp;<span class="ident" id="6004222"><a href="/gostd/go/parser/parser.go.html#6003902">pos</a></span><span class="op" id="6004225">,</span>&nbsp;<span class="ident" id="6004227"><a href="/gostd/go/ast/ast.go.html#3813487">List</a></span><span class="op" id="6004231">:</span>&nbsp;<span class="ident" id="6004233"><a href="/gostd/go/parser/parser.go.html#6003920">list</a></span><span class="op" id="6004237">,</span>&nbsp;<span class="ident" id="6004239"><a href="/gostd/go/ast/ast.go.html#3813561">Colon</a></span><span class="op" id="6004244">:</span>&nbsp;<span class="ident" id="6004246"><a href="/gostd/go/parser/parser.go.html#6004102">colon</a></span><span class="op" id="6004251">,</span>&nbsp;<span class="ident" id="6004253"><a href="/gostd/go/ast/ast.go.html#3813598">Body</a></span><span class="op" id="6004257">:</span>&nbsp;<span class="ident" id="6004259"><a href="/gostd/go/parser/parser.go.html#6004149">body</a></span><span class="op" id="6004263">}</span><br>
<span class="lineno"></span><span class="op" id="6004265">}</span><br>
<span class="lineno">1880</span><br>
<span class="lineno"></span><span class="keyword" id="6004268">func</span>&nbsp;<span class="ident" id="6004273">isTypeSwitchAssert</span><span class="op" id="6004291">(</span><span class="ident" id="6004292">x</span>&nbsp;<span class="ident" id="6004294"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6004297">.</span><span class="ident" id="6004298"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="6004302">)</span>&nbsp;<span class="builtintype" id="6004304">bool</span>&nbsp;<span class="op" id="6004309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004312">a</span><span class="op" id="6004313">,</span>&nbsp;<span class="ident" id="6004315">ok</span>&nbsp;<span class="op" id="6004318">:=</span>&nbsp;<span class="ident" id="6004321"><a href="/gostd/go/parser/parser.go.html#6004292">x</a></span><span class="op" id="6004322">.</span><span class="op" id="6004323">(</span><span class="op" id="6004324">*</span><span class="ident" id="6004325"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6004328">.</span><span class="ident" id="6004329"><a href="/gostd/go/ast/ast.go.html#3802482">TypeAssertExpr</a></span><span class="op" id="6004343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004346">return</span>&nbsp;<span class="ident" id="6004353"><a href="/gostd/go/parser/parser.go.html#6004315">ok</a></span>&nbsp;<span class="op" id="6004356">&amp;&amp;</span>&nbsp;<span class="ident" id="6004359"><a href="/gostd/go/parser/parser.go.html#6004312">a</a></span><span class="op" id="6004360">.</span><span class="ident" id="6004361"><a href="/gostd/go/ast/ast.go.html#3802579">Type</a></span>&nbsp;<span class="op" id="6004366">==</span>&nbsp;<span class="builtintype" id="6004369">nil</span><br>
<span class="lineno"></span><span class="op" id="6004373">}</span><br>
<span class="lineno">1885</span><br>
<span class="lineno"></span><span class="keyword" id="6004376">func</span>&nbsp;<span class="ident" id="6004381">isTypeSwitchGuard</span><span class="op" id="6004398">(</span><span class="ident" id="6004399">s</span>&nbsp;<span class="ident" id="6004401"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6004404">.</span><span class="ident" id="6004405"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><span class="op" id="6004409">)</span>&nbsp;<span class="builtintype" id="6004411">bool</span>&nbsp;<span class="op" id="6004416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004419">switch</span>&nbsp;<span class="ident" id="6004426">t</span>&nbsp;<span class="op" id="6004428">:=</span>&nbsp;<span class="ident" id="6004431"><a href="/gostd/go/parser/parser.go.html#6004399">s</a></span><span class="op" id="6004432">.</span><span class="op" id="6004433">(</span><span class="keyword" id="6004434">type</span><span class="op" id="6004438">)</span>&nbsp;<span class="op" id="6004440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004443">case</span>&nbsp;<span class="op" id="6004448">*</span><span class="ident" id="6004449"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6004452">.</span><span class="ident" id="6004453"><a href="/gostd/go/ast/ast.go.html#3811577">ExprStmt</a></span><span class="op" id="6004461">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6004465">//&nbsp;x.(nil)</span><br>
<span class="lineno">1890</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004478">return</span>&nbsp;<span class="ident" id="6004485"><a href="/gostd/go/parser/parser.go.html#6004273">isTypeSwitchAssert</a></span><span class="op" id="6004503">(</span><span class="ident" id="6004504"><a href="/gostd/go/parser/parser.go.html#6004426">t</a></span><span class="op" id="6004505">.</span><span class="ident" id="6004506"><a href="/gostd/go/ast/ast.go.html#3811597">X</a></span><span class="op" id="6004507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004510">case</span>&nbsp;<span class="op" id="6004515">*</span><span class="ident" id="6004516"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6004519">.</span><span class="ident" id="6004520"><a href="/gostd/go/ast/ast.go.html#3812033">AssignStmt</a></span><span class="op" id="6004530">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6004534">//&nbsp;v&nbsp;:=&nbsp;x.(nil)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004552">return</span>&nbsp;<span class="builtinfunc" id="6004559">len</span><span class="op" id="6004562">(</span><span class="ident" id="6004563"><a href="/gostd/go/parser/parser.go.html#6004426">t</a></span><span class="op" id="6004564">.</span><span class="ident" id="6004565"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="6004568">)</span>&nbsp;<span class="op" id="6004570">==</span>&nbsp;<span class="num" id="6004573">1</span>&nbsp;<span class="op" id="6004575">&amp;&amp;</span>&nbsp;<span class="ident" id="6004578"><a href="/gostd/go/parser/parser.go.html#6004426">t</a></span><span class="op" id="6004579">.</span><span class="ident" id="6004580"><a href="/gostd/go/ast/ast.go.html#3812111">Tok</a></span>&nbsp;<span class="op" id="6004584">==</span>&nbsp;<span class="ident" id="6004587"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6004592">.</span><span class="ident" id="6004593"><a href="/gostd/go/token/token.go.html#3890529">DEFINE</a></span>&nbsp;<span class="op" id="6004600">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6004603">len</span><span class="op" id="6004606">(</span><span class="ident" id="6004607"><a href="/gostd/go/parser/parser.go.html#6004426">t</a></span><span class="op" id="6004608">.</span><span class="ident" id="6004609"><a href="/gostd/go/ast/ast.go.html#3812160">Rhs</a></span><span class="op" id="6004612">)</span>&nbsp;<span class="op" id="6004614">==</span>&nbsp;<span class="num" id="6004617">1</span>&nbsp;<span class="op" id="6004619">&amp;&amp;</span>&nbsp;<span class="ident" id="6004622"><a href="/gostd/go/parser/parser.go.html#6004273">isTypeSwitchAssert</a></span><span class="op" id="6004640">(</span><span class="ident" id="6004641"><a href="/gostd/go/parser/parser.go.html#6004426">t</a></span><span class="op" id="6004642">.</span><span class="ident" id="6004643"><a href="/gostd/go/ast/ast.go.html#3812160">Rhs</a></span><span class="op" id="6004646">[</span><span class="num" id="6004647">0</span><span class="op" id="6004648">]</span><span class="op" id="6004649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6004652">}</span><br>
<span class="lineno">1895</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004655">return</span>&nbsp;<span class="builtintype" id="6004662">false</span><br>
<span class="lineno"></span><span class="op" id="6004668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6004671">func</span>&nbsp;<span class="op" id="6004676">(</span><span class="ident" id="6004677">p</span>&nbsp;<span class="op" id="6004679">*</span><span class="ident" id="6004680"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6004686">)</span>&nbsp;<span class="ident" id="6004688">parseSwitchStmt</span><span class="op" id="6004703">(</span><span class="op" id="6004704">)</span>&nbsp;<span class="ident" id="6004706"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6004709">.</span><span class="ident" id="6004710"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span>&nbsp;<span class="op" id="6004715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004718">if</span>&nbsp;<span class="ident" id="6004721"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004722">.</span><span class="ident" id="6004723"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6004729">{</span><br>
<span class="lineno">1900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004733">defer</span>&nbsp;<span class="ident" id="6004739"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6004741">(</span><span class="ident" id="6004742"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6004747">(</span><span class="ident" id="6004748"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004749">,</span>&nbsp;<span class="string" id="6004751">&#34;SwitchStmt&#34;</span><span class="op" id="6004763">)</span><span class="op" id="6004764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6004767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004771">pos</span>&nbsp;<span class="op" id="6004775">:=</span>&nbsp;<span class="ident" id="6004778"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004779">.</span><span class="ident" id="6004780"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6004786">(</span><span class="ident" id="6004787"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6004792">.</span><span class="ident" id="6004793"><a href="/gostd/go/token/token.go.html#3890914">SWITCH</a></span><span class="op" id="6004799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004802"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004803">.</span><span class="ident" id="6004804"><a href="/gostd/go/parser/parser.go.html#5958857">openScope</a></span><span class="op" id="6004813">(</span><span class="op" id="6004814">)</span><br>
<span class="lineno">1905</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004817">defer</span>&nbsp;<span class="ident" id="6004823"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004824">.</span><span class="ident" id="6004825"><a href="/gostd/go/parser/parser.go.html#5958930">closeScope</a></span><span class="op" id="6004835">(</span><span class="op" id="6004836">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004840">var</span>&nbsp;<span class="ident" id="6004844">s1</span><span class="op" id="6004846">,</span>&nbsp;<span class="ident" id="6004848">s2</span>&nbsp;<span class="ident" id="6004851"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6004854">.</span><span class="ident" id="6004855"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004861">if</span>&nbsp;<span class="ident" id="6004864"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004865">.</span><span class="ident" id="6004866"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6004870">!=</span>&nbsp;<span class="ident" id="6004873"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6004878">.</span><span class="ident" id="6004879"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span>&nbsp;<span class="op" id="6004886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004890">prevLev</span>&nbsp;<span class="op" id="6004898">:=</span>&nbsp;<span class="ident" id="6004901"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004902">.</span><span class="ident" id="6004903"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><br>
<span class="lineno">1910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004913"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004914">.</span><span class="ident" id="6004915"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span>&nbsp;<span class="op" id="6004923">=</span>&nbsp;<span class="op" id="6004925">-</span><span class="num" id="6004926">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6004930">if</span>&nbsp;<span class="ident" id="6004933"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004934">.</span><span class="ident" id="6004935"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6004939">!=</span>&nbsp;<span class="ident" id="6004942"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6004947">.</span><span class="ident" id="6004948"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="6004958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6004963"><a href="/gostd/go/parser/parser.go.html#6004848">s2</a></span><span class="op" id="6004965">,</span>&nbsp;<span class="ident" id="6004967">_</span>&nbsp;<span class="op" id="6004969">=</span>&nbsp;<span class="ident" id="6004971"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6004972">.</span><span class="ident" id="6004973"><a href="/gostd/go/parser/parser.go.html#5998353">parseSimpleStmt</a></span><span class="op" id="6004988">(</span><span class="ident" id="6004989"><a href="/gostd/go/parser/parser.go.html#5998009">basic</a></span><span class="op" id="6004994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6004998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6005002">if</span>&nbsp;<span class="ident" id="6005005"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005006">.</span><span class="ident" id="6005007"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6005011">==</span>&nbsp;<span class="ident" id="6005014"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6005019">.</span><span class="ident" id="6005020"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="6005030">{</span><br>
<span class="lineno">1915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005035"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005036">.</span><span class="ident" id="6005037"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6005041">(</span><span class="op" id="6005042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005047"><a href="/gostd/go/parser/parser.go.html#6004844">s1</a></span>&nbsp;<span class="op" id="6005050">=</span>&nbsp;<span class="ident" id="6005052"><a href="/gostd/go/parser/parser.go.html#6004848">s2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005058"><a href="/gostd/go/parser/parser.go.html#6004848">s2</a></span>&nbsp;<span class="op" id="6005061">=</span>&nbsp;<span class="builtintype" id="6005063">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6005070">if</span>&nbsp;<span class="ident" id="6005073"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005074">.</span><span class="ident" id="6005075"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6005079">!=</span>&nbsp;<span class="ident" id="6005082"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6005087">.</span><span class="ident" id="6005088"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span>&nbsp;<span class="op" id="6005095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005101">//&nbsp;A&nbsp;TypeSwitchGuard&nbsp;may&nbsp;declare&nbsp;a&nbsp;variable&nbsp;in&nbsp;addition</span><br>
<span class="lineno">1920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005161">//&nbsp;to&nbsp;the&nbsp;variable&nbsp;declared&nbsp;in&nbsp;the&nbsp;initial&nbsp;SimpleStmt.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005220">//&nbsp;Introduce&nbsp;extra&nbsp;scope&nbsp;to&nbsp;avoid&nbsp;redeclaration&nbsp;errors:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005280">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005287">//&nbsp;&nbsp;&nbsp;&nbsp;switch&nbsp;t&nbsp;:=&nbsp;0;&nbsp;t&nbsp;:=&nbsp;x.(T)&nbsp;{&nbsp;...&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005328">//</span><br>
<span class="lineno">1925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005335">//&nbsp;(this&nbsp;code&nbsp;is&nbsp;not&nbsp;valid&nbsp;Go&nbsp;because&nbsp;the&nbsp;first&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005389">//&nbsp;cannot&nbsp;be&nbsp;accessed&nbsp;and&nbsp;thus&nbsp;is&nbsp;never&nbsp;used,&nbsp;the&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005449">//&nbsp;scope&nbsp;is&nbsp;needed&nbsp;for&nbsp;the&nbsp;correct&nbsp;error&nbsp;message).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005504">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005511">//&nbsp;If&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;a&nbsp;type&nbsp;switch,&nbsp;s2&nbsp;must&nbsp;be&nbsp;an&nbsp;expression.</span><br>
<span class="lineno">1930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6005576">//&nbsp;Having&nbsp;the&nbsp;extra&nbsp;nested&nbsp;but&nbsp;empty&nbsp;scope&nbsp;won&#39;t&nbsp;affect&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005640"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005641">.</span><span class="ident" id="6005642"><a href="/gostd/go/parser/parser.go.html#5958857">openScope</a></span><span class="op" id="6005651">(</span><span class="op" id="6005652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6005658">defer</span>&nbsp;<span class="ident" id="6005664"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005665">.</span><span class="ident" id="6005666"><a href="/gostd/go/parser/parser.go.html#5958930">closeScope</a></span><span class="op" id="6005676">(</span><span class="op" id="6005677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005683"><a href="/gostd/go/parser/parser.go.html#6004848">s2</a></span><span class="op" id="6005685">,</span>&nbsp;<span class="ident" id="6005687">_</span>&nbsp;<span class="op" id="6005689">=</span>&nbsp;<span class="ident" id="6005691"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005692">.</span><span class="ident" id="6005693"><a href="/gostd/go/parser/parser.go.html#5998353">parseSimpleStmt</a></span><span class="op" id="6005708">(</span><span class="ident" id="6005709"><a href="/gostd/go/parser/parser.go.html#5998009">basic</a></span><span class="op" id="6005714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6005719">}</span><br>
<span class="lineno">1935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6005723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005727"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005728">.</span><span class="ident" id="6005729"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span>&nbsp;<span class="op" id="6005737">=</span>&nbsp;<span class="ident" id="6005739"><a href="/gostd/go/parser/parser.go.html#6004890">prevLev</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6005748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005752">typeSwitch</span>&nbsp;<span class="op" id="6005763">:=</span>&nbsp;<span class="ident" id="6005766"><a href="/gostd/go/parser/parser.go.html#6004381">isTypeSwitchGuard</a></span><span class="op" id="6005783">(</span><span class="ident" id="6005784"><a href="/gostd/go/parser/parser.go.html#6004848">s2</a></span><span class="op" id="6005786">)</span><br>
<span class="lineno">1940</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005789">lbrace</span>&nbsp;<span class="op" id="6005796">:=</span>&nbsp;<span class="ident" id="6005799"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005800">.</span><span class="ident" id="6005801"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6005807">(</span><span class="ident" id="6005808"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6005813">.</span><span class="ident" id="6005814"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="6005820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6005823">var</span>&nbsp;<span class="ident" id="6005827">list</span>&nbsp;<span class="op" id="6005832">[</span><span class="op" id="6005833">]</span><span class="ident" id="6005834"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6005837">.</span><span class="ident" id="6005838"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6005844">for</span>&nbsp;<span class="ident" id="6005848"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005849">.</span><span class="ident" id="6005850"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6005854">==</span>&nbsp;<span class="ident" id="6005857"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6005862">.</span><span class="ident" id="6005863"><a href="/gostd/go/token/token.go.html#3890757">CASE</a></span>&nbsp;<span class="op" id="6005868">||</span>&nbsp;<span class="ident" id="6005871"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005872">.</span><span class="ident" id="6005873"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6005877">==</span>&nbsp;<span class="ident" id="6005880"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6005885">.</span><span class="ident" id="6005886"><a href="/gostd/go/token/token.go.html#3890787">DEFAULT</a></span>&nbsp;<span class="op" id="6005894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005898"><a href="/gostd/go/parser/parser.go.html#6005827">list</a></span>&nbsp;<span class="op" id="6005903">=</span>&nbsp;<span class="builtinfunc" id="6005905">append</span><span class="op" id="6005911">(</span><span class="ident" id="6005912"><a href="/gostd/go/parser/parser.go.html#6005827">list</a></span><span class="op" id="6005916">,</span>&nbsp;<span class="ident" id="6005918"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005919">.</span><span class="ident" id="6005920"><a href="/gostd/go/parser/parser.go.html#6003797">parseCaseClause</a></span><span class="op" id="6005935">(</span><span class="ident" id="6005936"><a href="/gostd/go/parser/parser.go.html#6005752">typeSwitch</a></span><span class="op" id="6005946">)</span><span class="op" id="6005947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6005950">}</span><br>
<span class="lineno">1945</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005953">rbrace</span>&nbsp;<span class="op" id="6005960">:=</span>&nbsp;<span class="ident" id="6005963"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005964">.</span><span class="ident" id="6005965"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6005971">(</span><span class="ident" id="6005972"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6005977">.</span><span class="ident" id="6005978"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="6005984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6005987"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6005988">.</span><span class="ident" id="6005989"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6005999">(</span><span class="op" id="6006000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006003">body</span>&nbsp;<span class="op" id="6006008">:=</span>&nbsp;<span class="op" id="6006011">&amp;</span><span class="ident" id="6006012"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6006015">.</span><span class="ident" id="6006016"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><span class="op" id="6006025">{</span><span class="ident" id="6006026"><a href="/gostd/go/ast/ast.go.html#3812982">Lbrace</a></span><span class="op" id="6006032">:</span>&nbsp;<span class="ident" id="6006034"><a href="/gostd/go/parser/parser.go.html#6005789">lbrace</a></span><span class="op" id="6006040">,</span>&nbsp;<span class="ident" id="6006042"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span><span class="op" id="6006046">:</span>&nbsp;<span class="ident" id="6006048"><a href="/gostd/go/parser/parser.go.html#6005827">list</a></span><span class="op" id="6006052">,</span>&nbsp;<span class="ident" id="6006054"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><span class="op" id="6006060">:</span>&nbsp;<span class="ident" id="6006062"><a href="/gostd/go/parser/parser.go.html#6005953">rbrace</a></span><span class="op" id="6006068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006072">if</span>&nbsp;<span class="ident" id="6006075"><a href="/gostd/go/parser/parser.go.html#6005752">typeSwitch</a></span>&nbsp;<span class="op" id="6006086">{</span><br>
<span class="lineno">1950</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006090">return</span>&nbsp;<span class="op" id="6006097">&amp;</span><span class="ident" id="6006098"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6006101">.</span><span class="ident" id="6006102"><a href="/gostd/go/ast/ast.go.html#3813992">TypeSwitchStmt</a></span><span class="op" id="6006116">{</span><span class="ident" id="6006117"><a href="/gostd/go/ast/ast.go.html#3814018">Switch</a></span><span class="op" id="6006123">:</span>&nbsp;<span class="ident" id="6006125"><a href="/gostd/go/parser/parser.go.html#6004771">pos</a></span><span class="op" id="6006128">,</span>&nbsp;<span class="ident" id="6006130"><a href="/gostd/go/ast/ast.go.html#3814070">Init</a></span><span class="op" id="6006134">:</span>&nbsp;<span class="ident" id="6006136"><a href="/gostd/go/parser/parser.go.html#6004844">s1</a></span><span class="op" id="6006138">,</span>&nbsp;<span class="ident" id="6006140"><a href="/gostd/go/ast/ast.go.html#3814126">Assign</a></span><span class="op" id="6006146">:</span>&nbsp;<span class="ident" id="6006148"><a href="/gostd/go/parser/parser.go.html#6004848">s2</a></span><span class="op" id="6006150">,</span>&nbsp;<span class="ident" id="6006152"><a href="/gostd/go/ast/ast.go.html#3814175">Body</a></span><span class="op" id="6006156">:</span>&nbsp;<span class="ident" id="6006158"><a href="/gostd/go/parser/parser.go.html#6006003">body</a></span><span class="op" id="6006162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6006165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006169">return</span>&nbsp;<span class="op" id="6006176">&amp;</span><span class="ident" id="6006177"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6006180">.</span><span class="ident" id="6006181"><a href="/gostd/go/ast/ast.go.html#3813710">SwitchStmt</a></span><span class="op" id="6006191">{</span><span class="ident" id="6006192"><a href="/gostd/go/ast/ast.go.html#3813732">Switch</a></span><span class="op" id="6006198">:</span>&nbsp;<span class="ident" id="6006200"><a href="/gostd/go/parser/parser.go.html#6004771">pos</a></span><span class="op" id="6006203">,</span>&nbsp;<span class="ident" id="6006205"><a href="/gostd/go/ast/ast.go.html#3813784">Init</a></span><span class="op" id="6006209">:</span>&nbsp;<span class="ident" id="6006211"><a href="/gostd/go/parser/parser.go.html#6004844">s1</a></span><span class="op" id="6006213">,</span>&nbsp;<span class="ident" id="6006215"><a href="/gostd/go/ast/ast.go.html#3813840">Tag</a></span><span class="op" id="6006218">:</span>&nbsp;<span class="ident" id="6006220"><a href="/gostd/go/parser/parser.go.html#6004677">p</a></span><span class="op" id="6006221">.</span><span class="ident" id="6006222"><a href="/gostd/go/parser/parser.go.html#6002481">makeExpr</a></span><span class="op" id="6006230">(</span><span class="ident" id="6006231"><a href="/gostd/go/parser/parser.go.html#6004848">s2</a></span><span class="op" id="6006233">,</span>&nbsp;<span class="string" id="6006235">&#34;switch&nbsp;expression&#34;</span><span class="op" id="6006254">)</span><span class="op" id="6006255">,</span>&nbsp;<span class="ident" id="6006257"><a href="/gostd/go/ast/ast.go.html#3813886">Body</a></span><span class="op" id="6006261">:</span>&nbsp;<span class="ident" id="6006263"><a href="/gostd/go/parser/parser.go.html#6006003">body</a></span><span class="op" id="6006267">}</span><br>
<span class="lineno"></span><span class="op" id="6006269">}</span><br>
<span class="lineno">1955</span><br>
<span class="lineno"></span><span class="keyword" id="6006272">func</span>&nbsp;<span class="op" id="6006277">(</span><span class="ident" id="6006278">p</span>&nbsp;<span class="op" id="6006280">*</span><span class="ident" id="6006281"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6006287">)</span>&nbsp;<span class="ident" id="6006289">parseCommClause</span><span class="op" id="6006304">(</span><span class="op" id="6006305">)</span>&nbsp;<span class="op" id="6006307">*</span><span class="ident" id="6006308"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6006311">.</span><span class="ident" id="6006312"><a href="/gostd/go/ast/ast.go.html#3814281">CommClause</a></span>&nbsp;<span class="op" id="6006323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006326">if</span>&nbsp;<span class="ident" id="6006329"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006330">.</span><span class="ident" id="6006331"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6006337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006341">defer</span>&nbsp;<span class="ident" id="6006347"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6006349">(</span><span class="ident" id="6006350"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6006355">(</span><span class="ident" id="6006356"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006357">,</span>&nbsp;<span class="string" id="6006359">&#34;CommClause&#34;</span><span class="op" id="6006371">)</span><span class="op" id="6006372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6006375">}</span><br>
<span class="lineno">1960</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006379"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006380">.</span><span class="ident" id="6006381"><a href="/gostd/go/parser/parser.go.html#5958857">openScope</a></span><span class="op" id="6006390">(</span><span class="op" id="6006391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006394">pos</span>&nbsp;<span class="op" id="6006398">:=</span>&nbsp;<span class="ident" id="6006401"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006402">.</span><span class="ident" id="6006403"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006408">var</span>&nbsp;<span class="ident" id="6006412">comm</span>&nbsp;<span class="ident" id="6006417"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6006420">.</span><span class="ident" id="6006421"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006427">if</span>&nbsp;<span class="ident" id="6006430"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006431">.</span><span class="ident" id="6006432"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6006436">==</span>&nbsp;<span class="ident" id="6006439"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6006444">.</span><span class="ident" id="6006445"><a href="/gostd/go/token/token.go.html#3890757">CASE</a></span>&nbsp;<span class="op" id="6006450">{</span><br>
<span class="lineno">1965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006454"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006455">.</span><span class="ident" id="6006456"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6006460">(</span><span class="op" id="6006461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006465">lhs</span>&nbsp;<span class="op" id="6006469">:=</span>&nbsp;<span class="ident" id="6006472"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006473">.</span><span class="ident" id="6006474"><a href="/gostd/go/parser/parser.go.html#5972063">parseLhsList</a></span><span class="op" id="6006486">(</span><span class="op" id="6006487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006491">if</span>&nbsp;<span class="ident" id="6006494"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006495">.</span><span class="ident" id="6006496"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6006500">==</span>&nbsp;<span class="ident" id="6006503"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6006508">.</span><span class="ident" id="6006509"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span>&nbsp;<span class="op" id="6006515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6006520">//&nbsp;SendStmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006535">if</span>&nbsp;<span class="builtinfunc" id="6006538">len</span><span class="op" id="6006541">(</span><span class="ident" id="6006542"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6006545">)</span>&nbsp;<span class="op" id="6006547">&gt;</span>&nbsp;<span class="num" id="6006549">1</span>&nbsp;<span class="op" id="6006551">{</span><br>
<span class="lineno">1970</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006557"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006558">.</span><span class="ident" id="6006559"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="6006572">(</span><span class="ident" id="6006573"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6006576">[</span><span class="num" id="6006577">0</span><span class="op" id="6006578">]</span><span class="op" id="6006579">.</span><span class="ident" id="6006580"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="6006583">(</span><span class="op" id="6006584">)</span><span class="op" id="6006585">,</span>&nbsp;<span class="string" id="6006587">&#34;1&nbsp;expression&#34;</span><span class="op" id="6006601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6006607">//&nbsp;continue&nbsp;with&nbsp;first&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6006644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006649">arrow</span>&nbsp;<span class="op" id="6006655">:=</span>&nbsp;<span class="ident" id="6006658"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006659">.</span><span class="ident" id="6006660"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006667"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006668">.</span><span class="ident" id="6006669"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6006673">(</span><span class="op" id="6006674">)</span><br>
<span class="lineno">1975</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006679">rhs</span>&nbsp;<span class="op" id="6006683">:=</span>&nbsp;<span class="ident" id="6006686"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006687">.</span><span class="ident" id="6006688"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="6006696">(</span><span class="op" id="6006697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006702"><a href="/gostd/go/parser/parser.go.html#6006412">comm</a></span>&nbsp;<span class="op" id="6006707">=</span>&nbsp;<span class="op" id="6006709">&amp;</span><span class="ident" id="6006710"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6006713">.</span><span class="ident" id="6006714"><a href="/gostd/go/ast/ast.go.html#3811672">SendStmt</a></span><span class="op" id="6006722">{</span><span class="ident" id="6006723"><a href="/gostd/go/ast/ast.go.html#3811692">Chan</a></span><span class="op" id="6006727">:</span>&nbsp;<span class="ident" id="6006729"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6006732">[</span><span class="num" id="6006733">0</span><span class="op" id="6006734">]</span><span class="op" id="6006735">,</span>&nbsp;<span class="ident" id="6006737"><a href="/gostd/go/ast/ast.go.html#3811705">Arrow</a></span><span class="op" id="6006742">:</span>&nbsp;<span class="ident" id="6006744"><a href="/gostd/go/parser/parser.go.html#6006649">arrow</a></span><span class="op" id="6006749">,</span>&nbsp;<span class="ident" id="6006751"><a href="/gostd/go/ast/ast.go.html#3811743">Value</a></span><span class="op" id="6006756">:</span>&nbsp;<span class="ident" id="6006758"><a href="/gostd/go/parser/parser.go.html#6006679">rhs</a></span><span class="op" id="6006761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6006765">}</span>&nbsp;<span class="keyword" id="6006767">else</span>&nbsp;<span class="op" id="6006772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6006777">//&nbsp;RecvStmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006792">if</span>&nbsp;<span class="ident" id="6006795">tok</span>&nbsp;<span class="op" id="6006799">:=</span>&nbsp;<span class="ident" id="6006802"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006803">.</span><span class="ident" id="6006804"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="6006807">;</span>&nbsp;<span class="ident" id="6006809"><a href="/gostd/go/parser/parser.go.html#6006795">tok</a></span>&nbsp;<span class="op" id="6006813">==</span>&nbsp;<span class="ident" id="6006816"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6006821">.</span><span class="ident" id="6006822"><a href="/gostd/go/token/token.go.html#3890454">ASSIGN</a></span>&nbsp;<span class="op" id="6006829">||</span>&nbsp;<span class="ident" id="6006832"><a href="/gostd/go/parser/parser.go.html#6006795">tok</a></span>&nbsp;<span class="op" id="6006836">==</span>&nbsp;<span class="ident" id="6006839"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6006844">.</span><span class="ident" id="6006845"><a href="/gostd/go/token/token.go.html#3890529">DEFINE</a></span>&nbsp;<span class="op" id="6006852">{</span><br>
<span class="lineno">1980</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6006858">//&nbsp;RecvStmt&nbsp;with&nbsp;assignment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6006890">if</span>&nbsp;<span class="builtinfunc" id="6006893">len</span><span class="op" id="6006896">(</span><span class="ident" id="6006897"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6006900">)</span>&nbsp;<span class="op" id="6006902">&gt;</span>&nbsp;<span class="num" id="6006904">2</span>&nbsp;<span class="op" id="6006906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6006913"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6006914">.</span><span class="ident" id="6006915"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="6006928">(</span><span class="ident" id="6006929"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6006932">[</span><span class="num" id="6006933">0</span><span class="op" id="6006934">]</span><span class="op" id="6006935">.</span><span class="ident" id="6006936"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="6006939">(</span><span class="op" id="6006940">)</span><span class="op" id="6006941">,</span>&nbsp;<span class="string" id="6006943">&#34;1&nbsp;or&nbsp;2&nbsp;expressions&#34;</span><span class="op" id="6006963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6006970">//&nbsp;continue&nbsp;with&nbsp;first&nbsp;two&nbsp;expressions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007014"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span>&nbsp;<span class="op" id="6007018">=</span>&nbsp;<span class="ident" id="6007020"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6007023">[</span><span class="num" id="6007024">0</span><span class="op" id="6007025">:</span><span class="num" id="6007026">2</span><span class="op" id="6007027">]</span><br>
<span class="lineno">1985</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007039">pos</span>&nbsp;<span class="op" id="6007043">:=</span>&nbsp;<span class="ident" id="6007046"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6007047">.</span><span class="ident" id="6007048"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007056"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6007057">.</span><span class="ident" id="6007058"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6007062">(</span><span class="op" id="6007063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007069">rhs</span>&nbsp;<span class="op" id="6007073">:=</span>&nbsp;<span class="ident" id="6007076"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6007077">.</span><span class="ident" id="6007078"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="6007086">(</span><span class="op" id="6007087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007093">as</span>&nbsp;<span class="op" id="6007096">:=</span>&nbsp;<span class="op" id="6007099">&amp;</span><span class="ident" id="6007100"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6007103">.</span><span class="ident" id="6007104"><a href="/gostd/go/ast/ast.go.html#3812033">AssignStmt</a></span><span class="op" id="6007114">{</span><span class="ident" id="6007115"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="6007118">:</span>&nbsp;<span class="ident" id="6007120"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6007123">,</span>&nbsp;<span class="ident" id="6007125"><a href="/gostd/go/ast/ast.go.html#3812071">TokPos</a></span><span class="op" id="6007131">:</span>&nbsp;<span class="ident" id="6007133"><a href="/gostd/go/parser/parser.go.html#6007039">pos</a></span><span class="op" id="6007136">,</span>&nbsp;<span class="ident" id="6007138"><a href="/gostd/go/ast/ast.go.html#3812111">Tok</a></span><span class="op" id="6007141">:</span>&nbsp;<span class="ident" id="6007143"><a href="/gostd/go/parser/parser.go.html#6006795">tok</a></span><span class="op" id="6007146">,</span>&nbsp;<span class="ident" id="6007148"><a href="/gostd/go/ast/ast.go.html#3812160">Rhs</a></span><span class="op" id="6007151">:</span>&nbsp;<span class="op" id="6007153">[</span><span class="op" id="6007154">]</span><span class="ident" id="6007155"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6007158">.</span><span class="ident" id="6007159"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="6007163">{</span><span class="ident" id="6007164"><a href="/gostd/go/parser/parser.go.html#6007069">rhs</a></span><span class="op" id="6007167">}</span><span class="op" id="6007168">}</span><br>
<span class="lineno">1990</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6007174">if</span>&nbsp;<span class="ident" id="6007177"><a href="/gostd/go/parser/parser.go.html#6006795">tok</a></span>&nbsp;<span class="op" id="6007181">==</span>&nbsp;<span class="ident" id="6007184"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6007189">.</span><span class="ident" id="6007190"><a href="/gostd/go/token/token.go.html#3890529">DEFINE</a></span>&nbsp;<span class="op" id="6007197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007204"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6007205">.</span><span class="ident" id="6007206"><a href="/gostd/go/parser/parser.go.html#5960328">shortVarDecl</a></span><span class="op" id="6007218">(</span><span class="ident" id="6007219"><a href="/gostd/go/parser/parser.go.html#6007093">as</a></span><span class="op" id="6007221">,</span>&nbsp;<span class="ident" id="6007223"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6007226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007238"><a href="/gostd/go/parser/parser.go.html#6006412">comm</a></span>&nbsp;<span class="op" id="6007243">=</span>&nbsp;<span class="ident" id="6007245"><a href="/gostd/go/parser/parser.go.html#6007093">as</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007251">}</span>&nbsp;<span class="keyword" id="6007253">else</span>&nbsp;<span class="op" id="6007258">{</span><br>
<span class="lineno">1995</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6007264">//&nbsp;lhs&nbsp;must&nbsp;be&nbsp;single&nbsp;receive&nbsp;operation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6007308">if</span>&nbsp;<span class="builtinfunc" id="6007311">len</span><span class="op" id="6007314">(</span><span class="ident" id="6007315"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6007318">)</span>&nbsp;<span class="op" id="6007320">&gt;</span>&nbsp;<span class="num" id="6007322">1</span>&nbsp;<span class="op" id="6007324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007331"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6007332">.</span><span class="ident" id="6007333"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="6007346">(</span><span class="ident" id="6007347"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6007350">[</span><span class="num" id="6007351">0</span><span class="op" id="6007352">]</span><span class="op" id="6007353">.</span><span class="ident" id="6007354"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="6007357">(</span><span class="op" id="6007358">)</span><span class="op" id="6007359">,</span>&nbsp;<span class="string" id="6007361">&#34;1&nbsp;expression&#34;</span><span class="op" id="6007375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6007382">//&nbsp;continue&nbsp;with&nbsp;first&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007420">}</span><br>
<span class="lineno">2000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007426"><a href="/gostd/go/parser/parser.go.html#6006412">comm</a></span>&nbsp;<span class="op" id="6007431">=</span>&nbsp;<span class="op" id="6007433">&amp;</span><span class="ident" id="6007434"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6007437">.</span><span class="ident" id="6007438"><a href="/gostd/go/ast/ast.go.html#3811577">ExprStmt</a></span><span class="op" id="6007446">{</span><span class="ident" id="6007447"><a href="/gostd/go/ast/ast.go.html#3811597">X</a></span><span class="op" id="6007448">:</span>&nbsp;<span class="ident" id="6007450"><a href="/gostd/go/parser/parser.go.html#6006465">lhs</a></span><span class="op" id="6007453">[</span><span class="num" id="6007454">0</span><span class="op" id="6007455">]</span><span class="op" id="6007456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007468">}</span>&nbsp;<span class="keyword" id="6007470">else</span>&nbsp;<span class="op" id="6007475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007479"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6007480">.</span><span class="ident" id="6007481"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6007487">(</span><span class="ident" id="6007488"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6007493">.</span><span class="ident" id="6007494"><a href="/gostd/go/token/token.go.html#3890787">DEFAULT</a></span><span class="op" id="6007501">)</span><br>
<span class="lineno">2005</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007508">colon</span>&nbsp;<span class="op" id="6007514">:=</span>&nbsp;<span class="ident" id="6007517"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6007518">.</span><span class="ident" id="6007519"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6007525">(</span><span class="ident" id="6007526"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6007531">.</span><span class="ident" id="6007532"><a href="/gostd/go/token/token.go.html#3890693">COLON</a></span><span class="op" id="6007537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007540">body</span>&nbsp;<span class="op" id="6007545">:=</span>&nbsp;<span class="ident" id="6007548"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6007549">.</span><span class="ident" id="6007550"><a href="/gostd/go/parser/parser.go.html#5983683">parseStmtList</a></span><span class="op" id="6007563">(</span><span class="op" id="6007564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007567"><a href="/gostd/go/parser/parser.go.html#6006278">p</a></span><span class="op" id="6007568">.</span><span class="ident" id="6007569"><a href="/gostd/go/parser/parser.go.html#5958930">closeScope</a></span><span class="op" id="6007579">(</span><span class="op" id="6007580">)</span><br>
<span class="lineno">2010</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6007584">return</span>&nbsp;<span class="op" id="6007591">&amp;</span><span class="ident" id="6007592"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6007595">.</span><span class="ident" id="6007596"><a href="/gostd/go/ast/ast.go.html#3814281">CommClause</a></span><span class="op" id="6007606">{</span><span class="ident" id="6007607"><a href="/gostd/go/ast/ast.go.html#3814303">Case</a></span><span class="op" id="6007611">:</span>&nbsp;<span class="ident" id="6007613"><a href="/gostd/go/parser/parser.go.html#6006394">pos</a></span><span class="op" id="6007616">,</span>&nbsp;<span class="ident" id="6007618"><a href="/gostd/go/ast/ast.go.html#3814364">Comm</a></span><span class="op" id="6007622">:</span>&nbsp;<span class="ident" id="6007624"><a href="/gostd/go/parser/parser.go.html#6006412">comm</a></span><span class="op" id="6007628">,</span>&nbsp;<span class="ident" id="6007630"><a href="/gostd/go/ast/ast.go.html#3814435">Colon</a></span><span class="op" id="6007635">:</span>&nbsp;<span class="ident" id="6007637"><a href="/gostd/go/parser/parser.go.html#6007508">colon</a></span><span class="op" id="6007642">,</span>&nbsp;<span class="ident" id="6007644"><a href="/gostd/go/ast/ast.go.html#3814472">Body</a></span><span class="op" id="6007648">:</span>&nbsp;<span class="ident" id="6007650"><a href="/gostd/go/parser/parser.go.html#6007540">body</a></span><span class="op" id="6007654">}</span><br>
<span class="lineno"></span><span class="op" id="6007656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6007659">func</span>&nbsp;<span class="op" id="6007664">(</span><span class="ident" id="6007665">p</span>&nbsp;<span class="op" id="6007667">*</span><span class="ident" id="6007668"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6007674">)</span>&nbsp;<span class="ident" id="6007676">parseSelectStmt</span><span class="op" id="6007691">(</span><span class="op" id="6007692">)</span>&nbsp;<span class="op" id="6007694">*</span><span class="ident" id="6007695"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6007698">.</span><span class="ident" id="6007699"><a href="/gostd/go/ast/ast.go.html#3814573">SelectStmt</a></span>&nbsp;<span class="op" id="6007710">{</span><br>
<span class="lineno">2015</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6007713">if</span>&nbsp;<span class="ident" id="6007716"><a href="/gostd/go/parser/parser.go.html#6007665">p</a></span><span class="op" id="6007717">.</span><span class="ident" id="6007718"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6007724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6007728">defer</span>&nbsp;<span class="ident" id="6007734"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6007736">(</span><span class="ident" id="6007737"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6007742">(</span><span class="ident" id="6007743"><a href="/gostd/go/parser/parser.go.html#6007665">p</a></span><span class="op" id="6007744">,</span>&nbsp;<span class="string" id="6007746">&#34;SelectStmt&#34;</span><span class="op" id="6007758">)</span><span class="op" id="6007759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007766">pos</span>&nbsp;<span class="op" id="6007770">:=</span>&nbsp;<span class="ident" id="6007773"><a href="/gostd/go/parser/parser.go.html#6007665">p</a></span><span class="op" id="6007774">.</span><span class="ident" id="6007775"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6007781">(</span><span class="ident" id="6007782"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6007787">.</span><span class="ident" id="6007788"><a href="/gostd/go/token/token.go.html#3890898">SELECT</a></span><span class="op" id="6007794">)</span><br>
<span class="lineno">2020</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007797">lbrace</span>&nbsp;<span class="op" id="6007804">:=</span>&nbsp;<span class="ident" id="6007807"><a href="/gostd/go/parser/parser.go.html#6007665">p</a></span><span class="op" id="6007808">.</span><span class="ident" id="6007809"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6007815">(</span><span class="ident" id="6007816"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6007821">.</span><span class="ident" id="6007822"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="6007828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6007831">var</span>&nbsp;<span class="ident" id="6007835">list</span>&nbsp;<span class="op" id="6007840">[</span><span class="op" id="6007841">]</span><span class="ident" id="6007842"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6007845">.</span><span class="ident" id="6007846"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6007852">for</span>&nbsp;<span class="ident" id="6007856"><a href="/gostd/go/parser/parser.go.html#6007665">p</a></span><span class="op" id="6007857">.</span><span class="ident" id="6007858"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6007862">==</span>&nbsp;<span class="ident" id="6007865"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6007870">.</span><span class="ident" id="6007871"><a href="/gostd/go/token/token.go.html#3890757">CASE</a></span>&nbsp;<span class="op" id="6007876">||</span>&nbsp;<span class="ident" id="6007879"><a href="/gostd/go/parser/parser.go.html#6007665">p</a></span><span class="op" id="6007880">.</span><span class="ident" id="6007881"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6007885">==</span>&nbsp;<span class="ident" id="6007888"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6007893">.</span><span class="ident" id="6007894"><a href="/gostd/go/token/token.go.html#3890787">DEFAULT</a></span>&nbsp;<span class="op" id="6007902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007906"><a href="/gostd/go/parser/parser.go.html#6007835">list</a></span>&nbsp;<span class="op" id="6007911">=</span>&nbsp;<span class="builtinfunc" id="6007913">append</span><span class="op" id="6007919">(</span><span class="ident" id="6007920"><a href="/gostd/go/parser/parser.go.html#6007835">list</a></span><span class="op" id="6007924">,</span>&nbsp;<span class="ident" id="6007926"><a href="/gostd/go/parser/parser.go.html#6007665">p</a></span><span class="op" id="6007927">.</span><span class="ident" id="6007928"><a href="/gostd/go/parser/parser.go.html#6006289">parseCommClause</a></span><span class="op" id="6007943">(</span><span class="op" id="6007944">)</span><span class="op" id="6007945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6007948">}</span><br>
<span class="lineno">2025</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007951">rbrace</span>&nbsp;<span class="op" id="6007958">:=</span>&nbsp;<span class="ident" id="6007961"><a href="/gostd/go/parser/parser.go.html#6007665">p</a></span><span class="op" id="6007962">.</span><span class="ident" id="6007963"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6007969">(</span><span class="ident" id="6007970"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6007975">.</span><span class="ident" id="6007976"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="6007982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6007985"><a href="/gostd/go/parser/parser.go.html#6007665">p</a></span><span class="op" id="6007986">.</span><span class="ident" id="6007987"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6007997">(</span><span class="op" id="6007998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008001">body</span>&nbsp;<span class="op" id="6008006">:=</span>&nbsp;<span class="op" id="6008009">&amp;</span><span class="ident" id="6008010"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6008013">.</span><span class="ident" id="6008014"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><span class="op" id="6008023">{</span><span class="ident" id="6008024"><a href="/gostd/go/ast/ast.go.html#3812982">Lbrace</a></span><span class="op" id="6008030">:</span>&nbsp;<span class="ident" id="6008032"><a href="/gostd/go/parser/parser.go.html#6007797">lbrace</a></span><span class="op" id="6008038">,</span>&nbsp;<span class="ident" id="6008040"><a href="/gostd/go/ast/ast.go.html#3813020">List</a></span><span class="op" id="6008044">:</span>&nbsp;<span class="ident" id="6008046"><a href="/gostd/go/parser/parser.go.html#6007835">list</a></span><span class="op" id="6008050">,</span>&nbsp;<span class="ident" id="6008052"><a href="/gostd/go/ast/ast.go.html#3813036">Rbrace</a></span><span class="op" id="6008058">:</span>&nbsp;<span class="ident" id="6008060"><a href="/gostd/go/parser/parser.go.html#6007951">rbrace</a></span><span class="op" id="6008066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008070">return</span>&nbsp;<span class="op" id="6008077">&amp;</span><span class="ident" id="6008078"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6008081">.</span><span class="ident" id="6008082"><a href="/gostd/go/ast/ast.go.html#3814573">SelectStmt</a></span><span class="op" id="6008092">{</span><span class="ident" id="6008093"><a href="/gostd/go/ast/ast.go.html#3814595">Select</a></span><span class="op" id="6008099">:</span>&nbsp;<span class="ident" id="6008101"><a href="/gostd/go/parser/parser.go.html#6007766">pos</a></span><span class="op" id="6008104">,</span>&nbsp;<span class="ident" id="6008106"><a href="/gostd/go/ast/ast.go.html#3814647">Body</a></span><span class="op" id="6008110">:</span>&nbsp;<span class="ident" id="6008112"><a href="/gostd/go/parser/parser.go.html#6008001">body</a></span><span class="op" id="6008116">}</span><br>
<span class="lineno">2030</span><span class="op" id="6008118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6008121">func</span>&nbsp;<span class="op" id="6008126">(</span><span class="ident" id="6008127">p</span>&nbsp;<span class="op" id="6008129">*</span><span class="ident" id="6008130"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6008136">)</span>&nbsp;<span class="ident" id="6008138">parseForStmt</span><span class="op" id="6008150">(</span><span class="op" id="6008151">)</span>&nbsp;<span class="ident" id="6008153"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6008156">.</span><span class="ident" id="6008157"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span>&nbsp;<span class="op" id="6008162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008165">if</span>&nbsp;<span class="ident" id="6008168"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008169">.</span><span class="ident" id="6008170"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6008176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008180">defer</span>&nbsp;<span class="ident" id="6008186"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6008188">(</span><span class="ident" id="6008189"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6008194">(</span><span class="ident" id="6008195"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008196">,</span>&nbsp;<span class="string" id="6008198">&#34;ForStmt&#34;</span><span class="op" id="6008207">)</span><span class="op" id="6008208">)</span><br>
<span class="lineno">2035</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6008211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008215">pos</span>&nbsp;<span class="op" id="6008219">:=</span>&nbsp;<span class="ident" id="6008222"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008223">.</span><span class="ident" id="6008224"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6008230">(</span><span class="ident" id="6008231"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6008236">.</span><span class="ident" id="6008237"><a href="/gostd/go/token/token.go.html#3890822">FOR</a></span><span class="op" id="6008240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008243"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008244">.</span><span class="ident" id="6008245"><a href="/gostd/go/parser/parser.go.html#5958857">openScope</a></span><span class="op" id="6008254">(</span><span class="op" id="6008255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008258">defer</span>&nbsp;<span class="ident" id="6008264"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008265">.</span><span class="ident" id="6008266"><a href="/gostd/go/parser/parser.go.html#5958930">closeScope</a></span><span class="op" id="6008276">(</span><span class="op" id="6008277">)</span><br>
<span class="lineno">2040</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008281">var</span>&nbsp;<span class="ident" id="6008285">s1</span><span class="op" id="6008287">,</span>&nbsp;<span class="ident" id="6008289">s2</span><span class="op" id="6008291">,</span>&nbsp;<span class="ident" id="6008293">s3</span>&nbsp;<span class="ident" id="6008296"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6008299">.</span><span class="ident" id="6008300"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008306">var</span>&nbsp;<span class="ident" id="6008310">isRange</span>&nbsp;<span class="builtintype" id="6008318">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008324">if</span>&nbsp;<span class="ident" id="6008327"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008328">.</span><span class="ident" id="6008329"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6008333">!=</span>&nbsp;<span class="ident" id="6008336"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6008341">.</span><span class="ident" id="6008342"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span>&nbsp;<span class="op" id="6008349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008353">prevLev</span>&nbsp;<span class="op" id="6008361">:=</span>&nbsp;<span class="ident" id="6008364"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008365">.</span><span class="ident" id="6008366"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span><br>
<span class="lineno">2045</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008376"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008377">.</span><span class="ident" id="6008378"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span>&nbsp;<span class="op" id="6008386">=</span>&nbsp;<span class="op" id="6008388">-</span><span class="num" id="6008389">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008393">if</span>&nbsp;<span class="ident" id="6008396"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008397">.</span><span class="ident" id="6008398"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6008402">!=</span>&nbsp;<span class="ident" id="6008405"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6008410">.</span><span class="ident" id="6008411"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="6008421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008426">if</span>&nbsp;<span class="ident" id="6008429"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008430">.</span><span class="ident" id="6008431"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6008435">==</span>&nbsp;<span class="ident" id="6008438"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6008443">.</span><span class="ident" id="6008444"><a href="/gostd/go/token/token.go.html#3890882">RANGE</a></span>&nbsp;<span class="op" id="6008450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6008456">//&nbsp;&#34;for&nbsp;range&nbsp;x&#34;&nbsp;(nil&nbsp;lhs&nbsp;in&nbsp;assignment)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008501">pos</span>&nbsp;<span class="op" id="6008505">:=</span>&nbsp;<span class="ident" id="6008508"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008509">.</span><span class="ident" id="6008510"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno">2050</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008518"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008519">.</span><span class="ident" id="6008520"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6008524">(</span><span class="op" id="6008525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008531">y</span>&nbsp;<span class="op" id="6008533">:=</span>&nbsp;<span class="op" id="6008536">[</span><span class="op" id="6008537">]</span><span class="ident" id="6008538"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6008541">.</span><span class="ident" id="6008542"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="6008546">{</span><span class="op" id="6008547">&amp;</span><span class="ident" id="6008548"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6008551">.</span><span class="ident" id="6008552"><a href="/gostd/go/ast/ast.go.html#3803365">UnaryExpr</a></span><span class="op" id="6008561">{</span><span class="ident" id="6008562"><a href="/gostd/go/ast/ast.go.html#3803386">OpPos</a></span><span class="op" id="6008567">:</span>&nbsp;<span class="ident" id="6008569"><a href="/gostd/go/parser/parser.go.html#6008501">pos</a></span><span class="op" id="6008572">,</span>&nbsp;<span class="ident" id="6008574"><a href="/gostd/go/ast/ast.go.html#3803424">Op</a></span><span class="op" id="6008576">:</span>&nbsp;<span class="ident" id="6008578"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6008583">.</span><span class="ident" id="6008584"><a href="/gostd/go/token/token.go.html#3890882">RANGE</a></span><span class="op" id="6008589">,</span>&nbsp;<span class="ident" id="6008591"><a href="/gostd/go/ast/ast.go.html#3803456">X</a></span><span class="op" id="6008592">:</span>&nbsp;<span class="ident" id="6008594"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008595">.</span><span class="ident" id="6008596"><a href="/gostd/go/parser/parser.go.html#5997598">parseRhs</a></span><span class="op" id="6008604">(</span><span class="op" id="6008605">)</span><span class="op" id="6008606">}</span><span class="op" id="6008607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008613"><a href="/gostd/go/parser/parser.go.html#6008289">s2</a></span>&nbsp;<span class="op" id="6008616">=</span>&nbsp;<span class="op" id="6008618">&amp;</span><span class="ident" id="6008619"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6008622">.</span><span class="ident" id="6008623"><a href="/gostd/go/ast/ast.go.html#3812033">AssignStmt</a></span><span class="op" id="6008633">{</span><span class="ident" id="6008634"><a href="/gostd/go/ast/ast.go.html#3812160">Rhs</a></span><span class="op" id="6008637">:</span>&nbsp;<span class="ident" id="6008639"><a href="/gostd/go/parser/parser.go.html#6008531">y</a></span><span class="op" id="6008640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008646"><a href="/gostd/go/parser/parser.go.html#6008310">isRange</a></span>&nbsp;<span class="op" id="6008654">=</span>&nbsp;<span class="builtintype" id="6008656">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6008664">}</span>&nbsp;<span class="keyword" id="6008666">else</span>&nbsp;<span class="op" id="6008671">{</span><br>
<span class="lineno">2055</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008677"><a href="/gostd/go/parser/parser.go.html#6008289">s2</a></span><span class="op" id="6008679">,</span>&nbsp;<span class="ident" id="6008681"><a href="/gostd/go/parser/parser.go.html#6008310">isRange</a></span>&nbsp;<span class="op" id="6008689">=</span>&nbsp;<span class="ident" id="6008691"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008692">.</span><span class="ident" id="6008693"><a href="/gostd/go/parser/parser.go.html#5998353">parseSimpleStmt</a></span><span class="op" id="6008708">(</span><span class="ident" id="6008709"><a href="/gostd/go/parser/parser.go.html#5998032">rangeOk</a></span><span class="op" id="6008716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6008721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6008725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008729">if</span>&nbsp;<span class="op" id="6008732">!</span><span class="ident" id="6008733"><a href="/gostd/go/parser/parser.go.html#6008310">isRange</a></span>&nbsp;<span class="op" id="6008741">&amp;&amp;</span>&nbsp;<span class="ident" id="6008744"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008745">.</span><span class="ident" id="6008746"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6008750">==</span>&nbsp;<span class="ident" id="6008753"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6008758">.</span><span class="ident" id="6008759"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="6008769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008774"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008775">.</span><span class="ident" id="6008776"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6008780">(</span><span class="op" id="6008781">)</span><br>
<span class="lineno">2060</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008786"><a href="/gostd/go/parser/parser.go.html#6008285">s1</a></span>&nbsp;<span class="op" id="6008789">=</span>&nbsp;<span class="ident" id="6008791"><a href="/gostd/go/parser/parser.go.html#6008289">s2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008797"><a href="/gostd/go/parser/parser.go.html#6008289">s2</a></span>&nbsp;<span class="op" id="6008800">=</span>&nbsp;<span class="builtintype" id="6008802">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008809">if</span>&nbsp;<span class="ident" id="6008812"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008813">.</span><span class="ident" id="6008814"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6008818">!=</span>&nbsp;<span class="ident" id="6008821"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6008826">.</span><span class="ident" id="6008827"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span>&nbsp;<span class="op" id="6008837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008843"><a href="/gostd/go/parser/parser.go.html#6008289">s2</a></span><span class="op" id="6008845">,</span>&nbsp;<span class="ident" id="6008847">_</span>&nbsp;<span class="op" id="6008849">=</span>&nbsp;<span class="ident" id="6008851"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008852">.</span><span class="ident" id="6008853"><a href="/gostd/go/parser/parser.go.html#5998353">parseSimpleStmt</a></span><span class="op" id="6008868">(</span><span class="ident" id="6008869"><a href="/gostd/go/parser/parser.go.html#5998009">basic</a></span><span class="op" id="6008874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6008879">}</span><br>
<span class="lineno">2065</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008884"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008885">.</span><span class="ident" id="6008886"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6008896">(</span><span class="op" id="6008897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6008902">if</span>&nbsp;<span class="ident" id="6008905"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008906">.</span><span class="ident" id="6008907"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6008911">!=</span>&nbsp;<span class="ident" id="6008914"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6008919">.</span><span class="ident" id="6008920"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span>&nbsp;<span class="op" id="6008927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008933"><a href="/gostd/go/parser/parser.go.html#6008293">s3</a></span><span class="op" id="6008935">,</span>&nbsp;<span class="ident" id="6008937">_</span>&nbsp;<span class="op" id="6008939">=</span>&nbsp;<span class="ident" id="6008941"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008942">.</span><span class="ident" id="6008943"><a href="/gostd/go/parser/parser.go.html#5998353">parseSimpleStmt</a></span><span class="op" id="6008958">(</span><span class="ident" id="6008959"><a href="/gostd/go/parser/parser.go.html#5998009">basic</a></span><span class="op" id="6008964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6008969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6008973">}</span><br>
<span class="lineno">2070</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6008977"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6008978">.</span><span class="ident" id="6008979"><a href="/gostd/go/parser/parser.go.html#5957750">exprLev</a></span>&nbsp;<span class="op" id="6008987">=</span>&nbsp;<span class="ident" id="6008989"><a href="/gostd/go/parser/parser.go.html#6008353">prevLev</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6008998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009002">body</span>&nbsp;<span class="op" id="6009007">:=</span>&nbsp;<span class="ident" id="6009010"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6009011">.</span><span class="ident" id="6009012"><a href="/gostd/go/parser/parser.go.html#5984319">parseBlockStmt</a></span><span class="op" id="6009026">(</span><span class="op" id="6009027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009030"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6009031">.</span><span class="ident" id="6009032"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6009042">(</span><span class="op" id="6009043">)</span><br>
<span class="lineno">2075</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009047">if</span>&nbsp;<span class="ident" id="6009050"><a href="/gostd/go/parser/parser.go.html#6008310">isRange</a></span>&nbsp;<span class="op" id="6009058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009062">as</span>&nbsp;<span class="op" id="6009065">:=</span>&nbsp;<span class="ident" id="6009068"><a href="/gostd/go/parser/parser.go.html#6008289">s2</a></span><span class="op" id="6009070">.</span><span class="op" id="6009071">(</span><span class="op" id="6009072">*</span><span class="ident" id="6009073"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6009076">.</span><span class="ident" id="6009077"><a href="/gostd/go/ast/ast.go.html#3812033">AssignStmt</a></span><span class="op" id="6009087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6009091">//&nbsp;check&nbsp;lhs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009106">var</span>&nbsp;<span class="ident" id="6009110">key</span><span class="op" id="6009113">,</span>&nbsp;<span class="ident" id="6009115">value</span>&nbsp;<span class="ident" id="6009121"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6009124">.</span><span class="ident" id="6009125"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno">2080</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009132">switch</span>&nbsp;<span class="builtinfunc" id="6009139">len</span><span class="op" id="6009142">(</span><span class="ident" id="6009143"><a href="/gostd/go/parser/parser.go.html#6009062">as</a></span><span class="op" id="6009145">.</span><span class="ident" id="6009146"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="6009149">)</span>&nbsp;<span class="op" id="6009151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009155">case</span>&nbsp;<span class="num" id="6009160">0</span><span class="op" id="6009161">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6009166">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009185">case</span>&nbsp;<span class="num" id="6009190">1</span><span class="op" id="6009191">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009196"><a href="/gostd/go/parser/parser.go.html#6009110">key</a></span>&nbsp;<span class="op" id="6009200">=</span>&nbsp;<span class="ident" id="6009202"><a href="/gostd/go/parser/parser.go.html#6009062">as</a></span><span class="op" id="6009204">.</span><span class="ident" id="6009205"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="6009208">[</span><span class="num" id="6009209">0</span><span class="op" id="6009210">]</span><br>
<span class="lineno">2085</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009214">case</span>&nbsp;<span class="num" id="6009219">2</span><span class="op" id="6009220">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009225"><a href="/gostd/go/parser/parser.go.html#6009110">key</a></span><span class="op" id="6009228">,</span>&nbsp;<span class="ident" id="6009230"><a href="/gostd/go/parser/parser.go.html#6009115">value</a></span>&nbsp;<span class="op" id="6009236">=</span>&nbsp;<span class="ident" id="6009238"><a href="/gostd/go/parser/parser.go.html#6009062">as</a></span><span class="op" id="6009240">.</span><span class="ident" id="6009241"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="6009244">[</span><span class="num" id="6009245">0</span><span class="op" id="6009246">]</span><span class="op" id="6009247">,</span>&nbsp;<span class="ident" id="6009249"><a href="/gostd/go/parser/parser.go.html#6009062">as</a></span><span class="op" id="6009251">.</span><span class="ident" id="6009252"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="6009255">[</span><span class="num" id="6009256">1</span><span class="op" id="6009257">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009261">default</span><span class="op" id="6009268">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009273"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6009274">.</span><span class="ident" id="6009275"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="6009288">(</span><span class="ident" id="6009289"><a href="/gostd/go/parser/parser.go.html#6009062">as</a></span><span class="op" id="6009291">.</span><span class="ident" id="6009292"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="6009295">[</span><span class="builtinfunc" id="6009296">len</span><span class="op" id="6009299">(</span><span class="ident" id="6009300"><a href="/gostd/go/parser/parser.go.html#6009062">as</a></span><span class="op" id="6009302">.</span><span class="ident" id="6009303"><a href="/gostd/go/ast/ast.go.html#3812055">Lhs</a></span><span class="op" id="6009306">)</span><span class="op" id="6009307">-</span><span class="num" id="6009308">1</span><span class="op" id="6009309">]</span><span class="op" id="6009310">.</span><span class="ident" id="6009311"><a href="/gostd/go/ast/ast.go.html#3795032">Pos</a></span><span class="op" id="6009314">(</span><span class="op" id="6009315">)</span><span class="op" id="6009316">,</span>&nbsp;<span class="string" id="6009318">&#34;at&nbsp;most&nbsp;2&nbsp;expressions&#34;</span><span class="op" id="6009341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009346">return</span>&nbsp;<span class="op" id="6009353">&amp;</span><span class="ident" id="6009354"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6009357">.</span><span class="ident" id="6009358"><a href="/gostd/go/ast/ast.go.html#3810887">BadStmt</a></span><span class="op" id="6009365">{</span><span class="ident" id="6009366"><a href="/gostd/go/ast/ast.go.html#3810906">From</a></span><span class="op" id="6009370">:</span>&nbsp;<span class="ident" id="6009372"><a href="/gostd/go/parser/parser.go.html#6008215">pos</a></span><span class="op" id="6009375">,</span>&nbsp;<span class="ident" id="6009377"><a href="/gostd/go/ast/ast.go.html#3810912">To</a></span><span class="op" id="6009379">:</span>&nbsp;<span class="ident" id="6009381"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6009382">.</span><span class="ident" id="6009383"><a href="/gostd/go/parser/parser.go.html#5970773">safePos</a></span><span class="op" id="6009390">(</span><span class="ident" id="6009391"><a href="/gostd/go/parser/parser.go.html#6009002">body</a></span><span class="op" id="6009395">.</span><span class="ident" id="6009396"><a href="/gostd/go/ast/ast.go.html#3817655">End</a></span><span class="op" id="6009399">(</span><span class="op" id="6009400">)</span><span class="op" id="6009401">)</span><span class="op" id="6009402">}</span><br>
<span class="lineno">2090</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6009406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6009410">//&nbsp;parseSimpleStmt&nbsp;returned&nbsp;a&nbsp;right-hand&nbsp;side&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6009463">//&nbsp;is&nbsp;a&nbsp;single&nbsp;unary&nbsp;expression&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;range&nbsp;x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009519">x</span>&nbsp;<span class="op" id="6009521">:=</span>&nbsp;<span class="ident" id="6009524"><a href="/gostd/go/parser/parser.go.html#6009062">as</a></span><span class="op" id="6009526">.</span><span class="ident" id="6009527"><a href="/gostd/go/ast/ast.go.html#3812160">Rhs</a></span><span class="op" id="6009530">[</span><span class="num" id="6009531">0</span><span class="op" id="6009532">]</span><span class="op" id="6009533">.</span><span class="op" id="6009534">(</span><span class="op" id="6009535">*</span><span class="ident" id="6009536"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6009539">.</span><span class="ident" id="6009540"><a href="/gostd/go/ast/ast.go.html#3803365">UnaryExpr</a></span><span class="op" id="6009549">)</span><span class="op" id="6009550">.</span><span class="ident" id="6009551"><a href="/gostd/go/ast/ast.go.html#3803456">X</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009555">return</span>&nbsp;<span class="op" id="6009562">&amp;</span><span class="ident" id="6009563"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6009566">.</span><span class="ident" id="6009567"><a href="/gostd/go/ast/ast.go.html#3815026">RangeStmt</a></span><span class="op" id="6009576">{</span><br>
<span class="lineno">2095</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009581"><a href="/gostd/go/ast/ast.go.html#3815047">For</a></span><span class="op" id="6009584">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009589"><a href="/gostd/go/parser/parser.go.html#6008215">pos</a></span><span class="op" id="6009592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009597"><a href="/gostd/go/ast/ast.go.html#3815101">Key</a></span><span class="op" id="6009600">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009605"><a href="/gostd/go/parser/parser.go.html#6009110">key</a></span><span class="op" id="6009608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009613"><a href="/gostd/go/ast/ast.go.html#3815106">Value</a></span><span class="op" id="6009618">:</span>&nbsp;&nbsp;<span class="ident" id="6009621"><a href="/gostd/go/parser/parser.go.html#6009115">value</a></span><span class="op" id="6009626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009631"><a href="/gostd/go/ast/ast.go.html#3815151">TokPos</a></span><span class="op" id="6009637">:</span>&nbsp;<span class="ident" id="6009639"><a href="/gostd/go/parser/parser.go.html#6009062">as</a></span><span class="op" id="6009641">.</span><span class="ident" id="6009642"><a href="/gostd/go/ast/ast.go.html#3812071">TokPos</a></span><span class="op" id="6009648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009653"><a href="/gostd/go/ast/ast.go.html#3815218">Tok</a></span><span class="op" id="6009656">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009661"><a href="/gostd/go/parser/parser.go.html#6009062">as</a></span><span class="op" id="6009663">.</span><span class="ident" id="6009664"><a href="/gostd/go/ast/ast.go.html#3812111">Tok</a></span><span class="op" id="6009667">,</span><br>
<span class="lineno">2100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009672"><a href="/gostd/go/ast/ast.go.html#3815284">X</a></span><span class="op" id="6009673">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009680"><a href="/gostd/go/parser/parser.go.html#6009519">x</a></span><span class="op" id="6009681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009686"><a href="/gostd/go/ast/ast.go.html#3815332">Body</a></span><span class="op" id="6009690">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6009694"><a href="/gostd/go/parser/parser.go.html#6009002">body</a></span><span class="op" id="6009698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6009702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6009705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">2105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6009709">//&nbsp;regular&nbsp;for&nbsp;statement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009735">return</span>&nbsp;<span class="op" id="6009742">&amp;</span><span class="ident" id="6009743"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6009746">.</span><span class="ident" id="6009747"><a href="/gostd/go/ast/ast.go.html#3814732">ForStmt</a></span><span class="op" id="6009754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009758"><a href="/gostd/go/ast/ast.go.html#3814751">For</a></span><span class="op" id="6009761">:</span>&nbsp;&nbsp;<span class="ident" id="6009764"><a href="/gostd/go/parser/parser.go.html#6008215">pos</a></span><span class="op" id="6009767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009771"><a href="/gostd/go/ast/ast.go.html#3814797">Init</a></span><span class="op" id="6009775">:</span>&nbsp;<span class="ident" id="6009777"><a href="/gostd/go/parser/parser.go.html#6008285">s1</a></span><span class="op" id="6009779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009783"><a href="/gostd/go/ast/ast.go.html#3814850">Cond</a></span><span class="op" id="6009787">:</span>&nbsp;<span class="ident" id="6009789"><a href="/gostd/go/parser/parser.go.html#6008127">p</a></span><span class="op" id="6009790">.</span><span class="ident" id="6009791"><a href="/gostd/go/parser/parser.go.html#6002481">makeExpr</a></span><span class="op" id="6009799">(</span><span class="ident" id="6009800"><a href="/gostd/go/parser/parser.go.html#6008289">s2</a></span><span class="op" id="6009802">,</span>&nbsp;<span class="string" id="6009804">&#34;boolean&nbsp;or&nbsp;range&nbsp;expression&#34;</span><span class="op" id="6009833">)</span><span class="op" id="6009834">,</span><br>
<span class="lineno">2110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009838"><a href="/gostd/go/ast/ast.go.html#3814888">Post</a></span><span class="op" id="6009842">:</span>&nbsp;<span class="ident" id="6009844"><a href="/gostd/go/parser/parser.go.html#6008293">s3</a></span><span class="op" id="6009846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6009850"><a href="/gostd/go/ast/ast.go.html#3814941">Body</a></span><span class="op" id="6009854">:</span>&nbsp;<span class="ident" id="6009856"><a href="/gostd/go/parser/parser.go.html#6009002">body</a></span><span class="op" id="6009860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6009863">}</span><br>
<span class="lineno"></span><span class="op" id="6009865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">2115</span><span class="keyword" id="6009868">func</span>&nbsp;<span class="op" id="6009873">(</span><span class="ident" id="6009874">p</span>&nbsp;<span class="op" id="6009876">*</span><span class="ident" id="6009877"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6009883">)</span>&nbsp;<span class="ident" id="6009885">parseStmt</span><span class="op" id="6009894">(</span><span class="op" id="6009895">)</span>&nbsp;<span class="op" id="6009897">(</span><span class="ident" id="6009898">s</span>&nbsp;<span class="ident" id="6009900"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6009903">.</span><span class="ident" id="6009904"><a href="/gostd/go/ast/ast.go.html#3795334">Stmt</a></span><span class="op" id="6009908">)</span>&nbsp;<span class="op" id="6009910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009913">if</span>&nbsp;<span class="ident" id="6009916"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6009917">.</span><span class="ident" id="6009918"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6009924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009928">defer</span>&nbsp;<span class="ident" id="6009934"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6009936">(</span><span class="ident" id="6009937"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6009942">(</span><span class="ident" id="6009943"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6009944">,</span>&nbsp;<span class="string" id="6009946">&#34;Statement&#34;</span><span class="op" id="6009957">)</span><span class="op" id="6009958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6009961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">2120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009965">switch</span>&nbsp;<span class="ident" id="6009972"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6009973">.</span><span class="ident" id="6009974"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6009978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6009981">case</span>&nbsp;<span class="ident" id="6009986"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6009991">.</span><span class="ident" id="6009992"><a href="/gostd/go/token/token.go.html#3890769">CONST</a></span><span class="op" id="6009997">,</span>&nbsp;<span class="ident" id="6009999"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010004">.</span><span class="ident" id="6010005"><a href="/gostd/go/token/token.go.html#3890922">TYPE</a></span><span class="op" id="6010009">,</span>&nbsp;<span class="ident" id="6010011"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010016">.</span><span class="ident" id="6010017"><a href="/gostd/go/token/token.go.html#3890928">VAR</a></span><span class="op" id="6010020">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010024"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6010026">=</span>&nbsp;<span class="op" id="6010028">&amp;</span><span class="ident" id="6010029"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6010032">.</span><span class="ident" id="6010033"><a href="/gostd/go/ast/ast.go.html#3811031">DeclStmt</a></span><span class="op" id="6010041">{</span><span class="ident" id="6010042"><a href="/gostd/go/ast/ast.go.html#3811051">Decl</a></span><span class="op" id="6010046">:</span>&nbsp;<span class="ident" id="6010048"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010049">.</span><span class="ident" id="6010050"><a href="/gostd/go/parser/parser.go.html#6016153">parseDecl</a></span><span class="op" id="6010059">(</span><span class="ident" id="6010060"><a href="/gostd/go/parser/parser.go.html#5968748">syncStmt</a></span><span class="op" id="6010068">)</span><span class="op" id="6010069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6010072">case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6010079">//&nbsp;tokens&nbsp;that&nbsp;may&nbsp;start&nbsp;an&nbsp;expression</span><br>
<span class="lineno">2125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010120"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010125">.</span><span class="ident" id="6010126"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span><span class="op" id="6010131">,</span>&nbsp;<span class="ident" id="6010133"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010138">.</span><span class="ident" id="6010139"><a href="/gostd/go/token/token.go.html#3889839">INT</a></span><span class="op" id="6010142">,</span>&nbsp;<span class="ident" id="6010144"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010149">.</span><span class="ident" id="6010150"><a href="/gostd/go/token/token.go.html#3889856">FLOAT</a></span><span class="op" id="6010155">,</span>&nbsp;<span class="ident" id="6010157"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010162">.</span><span class="ident" id="6010163"><a href="/gostd/go/token/token.go.html#3889874">IMAG</a></span><span class="op" id="6010167">,</span>&nbsp;<span class="ident" id="6010169"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010174">.</span><span class="ident" id="6010175"><a href="/gostd/go/token/token.go.html#3889893">CHAR</a></span><span class="op" id="6010179">,</span>&nbsp;<span class="ident" id="6010181"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010186">.</span><span class="ident" id="6010187"><a href="/gostd/go/token/token.go.html#3889908">STRING</a></span><span class="op" id="6010193">,</span>&nbsp;<span class="ident" id="6010195"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010200">.</span><span class="ident" id="6010201"><a href="/gostd/go/token/token.go.html#3890828">FUNC</a></span><span class="op" id="6010205">,</span>&nbsp;<span class="ident" id="6010207"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010212">.</span><span class="ident" id="6010213"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span><span class="op" id="6010219">,</span>&nbsp;<span class="comment" id="6010221">//&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010235"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010240">.</span><span class="ident" id="6010241"><a href="/gostd/go/token/token.go.html#3890576">LBRACK</a></span><span class="op" id="6010247">,</span>&nbsp;<span class="ident" id="6010249"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010254">.</span><span class="ident" id="6010255"><a href="/gostd/go/token/token.go.html#3890906">STRUCT</a></span><span class="op" id="6010261">,</span>&nbsp;<span class="comment" id="6010263">//&nbsp;composite&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010284"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010289">.</span><span class="ident" id="6010290"><a href="/gostd/go/token/token.go.html#3889982">ADD</a></span><span class="op" id="6010293">,</span>&nbsp;<span class="ident" id="6010295"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010300">.</span><span class="ident" id="6010301"><a href="/gostd/go/token/token.go.html#3889992">SUB</a></span><span class="op" id="6010304">,</span>&nbsp;<span class="ident" id="6010306"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010311">.</span><span class="ident" id="6010312"><a href="/gostd/go/token/token.go.html#3890002">MUL</a></span><span class="op" id="6010315">,</span>&nbsp;<span class="ident" id="6010317"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010322">.</span><span class="ident" id="6010323"><a href="/gostd/go/token/token.go.html#3890033">AND</a></span><span class="op" id="6010326">,</span>&nbsp;<span class="ident" id="6010328"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010333">.</span><span class="ident" id="6010334"><a href="/gostd/go/token/token.go.html#3890061">XOR</a></span><span class="op" id="6010337">,</span>&nbsp;<span class="ident" id="6010339"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010344">.</span><span class="ident" id="6010345"><a href="/gostd/go/token/token.go.html#3890374">ARROW</a></span><span class="op" id="6010350">,</span>&nbsp;<span class="ident" id="6010352"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010357">.</span><span class="ident" id="6010358"><a href="/gostd/go/token/token.go.html#3890467">NOT</a></span><span class="op" id="6010361">:</span>&nbsp;<span class="comment" id="6010363">//&nbsp;unary&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010384"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span><span class="op" id="6010385">,</span>&nbsp;<span class="ident" id="6010387">_</span>&nbsp;<span class="op" id="6010389">=</span>&nbsp;<span class="ident" id="6010391"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010392">.</span><span class="ident" id="6010393"><a href="/gostd/go/parser/parser.go.html#5998353">parseSimpleStmt</a></span><span class="op" id="6010408">(</span><span class="ident" id="6010409"><a href="/gostd/go/parser/parser.go.html#5998023">labelOk</a></span><span class="op" id="6010416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6010420">//&nbsp;because&nbsp;of&nbsp;the&nbsp;required&nbsp;look-ahead,&nbsp;labeled&nbsp;statements&nbsp;are</span><br>
<span class="lineno">2130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6010484">//&nbsp;parsed&nbsp;by&nbsp;parseSimpleStmt&nbsp;-&nbsp;don&#39;t&nbsp;expect&nbsp;a&nbsp;semicolon&nbsp;after</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6010548">//&nbsp;them</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6010558">if</span>&nbsp;<span class="ident" id="6010561">_</span><span class="op" id="6010562">,</span>&nbsp;<span class="ident" id="6010564">isLabeledStmt</span>&nbsp;<span class="op" id="6010578">:=</span>&nbsp;<span class="ident" id="6010581"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span><span class="op" id="6010582">.</span><span class="op" id="6010583">(</span><span class="op" id="6010584">*</span><span class="ident" id="6010585"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6010588">.</span><span class="ident" id="6010589"><a href="/gostd/go/ast/ast.go.html#3811398">LabeledStmt</a></span><span class="op" id="6010600">)</span><span class="op" id="6010601">;</span>&nbsp;<span class="op" id="6010603">!</span><span class="ident" id="6010604"><a href="/gostd/go/parser/parser.go.html#6010564">isLabeledStmt</a></span>&nbsp;<span class="op" id="6010618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010623"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010624">.</span><span class="ident" id="6010625"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6010635">(</span><span class="op" id="6010636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6010640">}</span><br>
<span class="lineno">2135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6010643">case</span>&nbsp;<span class="ident" id="6010648"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010653">.</span><span class="ident" id="6010654"><a href="/gostd/go/token/token.go.html#3890834">GO</a></span><span class="op" id="6010656">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010660"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6010662">=</span>&nbsp;<span class="ident" id="6010664"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010665">.</span><span class="ident" id="6010666"><a href="/gostd/go/parser/parser.go.html#6001116">parseGoStmt</a></span><span class="op" id="6010677">(</span><span class="op" id="6010678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6010681">case</span>&nbsp;<span class="ident" id="6010686"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010691">.</span><span class="ident" id="6010692"><a href="/gostd/go/token/token.go.html#3890796">DEFER</a></span><span class="op" id="6010697">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010701"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6010703">=</span>&nbsp;<span class="ident" id="6010705"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010706">.</span><span class="ident" id="6010707"><a href="/gostd/go/parser/parser.go.html#6001406">parseDeferStmt</a></span><span class="op" id="6010721">(</span><span class="op" id="6010722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6010725">case</span>&nbsp;<span class="ident" id="6010730"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010735">.</span><span class="ident" id="6010736"><a href="/gostd/go/token/token.go.html#3890889">RETURN</a></span><span class="op" id="6010742">:</span><br>
<span class="lineno">2140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010746"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6010748">=</span>&nbsp;<span class="ident" id="6010750"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010751">.</span><span class="ident" id="6010752"><a href="/gostd/go/parser/parser.go.html#6001717">parseReturnStmt</a></span><span class="op" id="6010767">(</span><span class="op" id="6010768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6010771">case</span>&nbsp;<span class="ident" id="6010776"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010781">.</span><span class="ident" id="6010782"><a href="/gostd/go/token/token.go.html#3890750">BREAK</a></span><span class="op" id="6010787">,</span>&nbsp;<span class="ident" id="6010789"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010794">.</span><span class="ident" id="6010795"><a href="/gostd/go/token/token.go.html#3890776">CONTINUE</a></span><span class="op" id="6010803">,</span>&nbsp;<span class="ident" id="6010805"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010810">.</span><span class="ident" id="6010811"><a href="/gostd/go/token/token.go.html#3890838">GOTO</a></span><span class="op" id="6010815">,</span>&nbsp;<span class="ident" id="6010817"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010822">.</span><span class="ident" id="6010823"><a href="/gostd/go/token/token.go.html#3890809">FALLTHROUGH</a></span><span class="op" id="6010834">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010838"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6010840">=</span>&nbsp;<span class="ident" id="6010842"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010843">.</span><span class="ident" id="6010844"><a href="/gostd/go/parser/parser.go.html#6002030">parseBranchStmt</a></span><span class="op" id="6010859">(</span><span class="ident" id="6010860"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010861">.</span><span class="ident" id="6010862"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="6010865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6010868">case</span>&nbsp;<span class="ident" id="6010873"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010878">.</span><span class="ident" id="6010879"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span><span class="op" id="6010885">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010889"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6010891">=</span>&nbsp;<span class="ident" id="6010893"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010894">.</span><span class="ident" id="6010895"><a href="/gostd/go/parser/parser.go.html#5984319">parseBlockStmt</a></span><span class="op" id="6010909">(</span><span class="op" id="6010910">)</span><br>
<span class="lineno">2145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010914"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010915">.</span><span class="ident" id="6010916"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6010926">(</span><span class="op" id="6010927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6010930">case</span>&nbsp;<span class="ident" id="6010935"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010940">.</span><span class="ident" id="6010941"><a href="/gostd/go/token/token.go.html#3890844">IF</a></span><span class="op" id="6010943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010947"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6010949">=</span>&nbsp;<span class="ident" id="6010951"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010952">.</span><span class="ident" id="6010953"><a href="/gostd/go/parser/parser.go.html#6002837">parseIfStmt</a></span><span class="op" id="6010964">(</span><span class="op" id="6010965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6010968">case</span>&nbsp;<span class="ident" id="6010973"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6010978">.</span><span class="ident" id="6010979"><a href="/gostd/go/token/token.go.html#3890914">SWITCH</a></span><span class="op" id="6010985">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6010989"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6010991">=</span>&nbsp;<span class="ident" id="6010993"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6010994">.</span><span class="ident" id="6010995"><a href="/gostd/go/parser/parser.go.html#6004688">parseSwitchStmt</a></span><span class="op" id="6011010">(</span><span class="op" id="6011011">)</span><br>
<span class="lineno">2150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011014">case</span>&nbsp;<span class="ident" id="6011019"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6011024">.</span><span class="ident" id="6011025"><a href="/gostd/go/token/token.go.html#3890898">SELECT</a></span><span class="op" id="6011031">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011035"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6011037">=</span>&nbsp;<span class="ident" id="6011039"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6011040">.</span><span class="ident" id="6011041"><a href="/gostd/go/parser/parser.go.html#6007676">parseSelectStmt</a></span><span class="op" id="6011056">(</span><span class="op" id="6011057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011060">case</span>&nbsp;<span class="ident" id="6011065"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6011070">.</span><span class="ident" id="6011071"><a href="/gostd/go/token/token.go.html#3890822">FOR</a></span><span class="op" id="6011074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011078"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6011080">=</span>&nbsp;<span class="ident" id="6011082"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6011083">.</span><span class="ident" id="6011084"><a href="/gostd/go/parser/parser.go.html#6008138">parseForStmt</a></span><span class="op" id="6011096">(</span><span class="op" id="6011097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011100">case</span>&nbsp;<span class="ident" id="6011105"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6011110">.</span><span class="ident" id="6011111"><a href="/gostd/go/token/token.go.html#3890677">SEMICOLON</a></span><span class="op" id="6011120">:</span><br>
<span class="lineno">2155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011124"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6011126">=</span>&nbsp;<span class="op" id="6011128">&amp;</span><span class="ident" id="6011129"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6011132">.</span><span class="ident" id="6011133"><a href="/gostd/go/ast/ast.go.html#3811268">EmptyStmt</a></span><span class="op" id="6011142">{</span><span class="ident" id="6011143"><a href="/gostd/go/ast/ast.go.html#3811289">Semicolon</a></span><span class="op" id="6011152">:</span>&nbsp;<span class="ident" id="6011154"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6011155">.</span><span class="ident" id="6011156"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="6011159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011163"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6011164">.</span><span class="ident" id="6011165"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6011169">(</span><span class="op" id="6011170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011173">case</span>&nbsp;<span class="ident" id="6011178"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6011183">.</span><span class="ident" id="6011184"><a href="/gostd/go/token/token.go.html#3890661">RBRACE</a></span><span class="op" id="6011190">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6011194">//&nbsp;a&nbsp;semicolon&nbsp;may&nbsp;be&nbsp;omitted&nbsp;before&nbsp;a&nbsp;closing&nbsp;&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011247"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6011249">=</span>&nbsp;<span class="op" id="6011251">&amp;</span><span class="ident" id="6011252"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6011255">.</span><span class="ident" id="6011256"><a href="/gostd/go/ast/ast.go.html#3811268">EmptyStmt</a></span><span class="op" id="6011265">{</span><span class="ident" id="6011266"><a href="/gostd/go/ast/ast.go.html#3811289">Semicolon</a></span><span class="op" id="6011275">:</span>&nbsp;<span class="ident" id="6011277"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6011278">.</span><span class="ident" id="6011279"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="6011282">}</span><br>
<span class="lineno">2160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011285">default</span><span class="op" id="6011292">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6011296">//&nbsp;no&nbsp;statement&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011320">pos</span>&nbsp;<span class="op" id="6011324">:=</span>&nbsp;<span class="ident" id="6011327"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6011328">.</span><span class="ident" id="6011329"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011335"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6011336">.</span><span class="ident" id="6011337"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="6011350">(</span><span class="ident" id="6011351"><a href="/gostd/go/parser/parser.go.html#6011320">pos</a></span><span class="op" id="6011354">,</span>&nbsp;<span class="string" id="6011356">&#34;statement&#34;</span><span class="op" id="6011367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011371"><a href="/gostd/go/parser/parser.go.html#5968748">syncStmt</a></span><span class="op" id="6011379">(</span><span class="ident" id="6011380"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6011381">)</span><br>
<span class="lineno">2165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011385"><a href="/gostd/go/parser/parser.go.html#6009898">s</a></span>&nbsp;<span class="op" id="6011387">=</span>&nbsp;<span class="op" id="6011389">&amp;</span><span class="ident" id="6011390"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6011393">.</span><span class="ident" id="6011394"><a href="/gostd/go/ast/ast.go.html#3810887">BadStmt</a></span><span class="op" id="6011401">{</span><span class="ident" id="6011402"><a href="/gostd/go/ast/ast.go.html#3810906">From</a></span><span class="op" id="6011406">:</span>&nbsp;<span class="ident" id="6011408"><a href="/gostd/go/parser/parser.go.html#6011320">pos</a></span><span class="op" id="6011411">,</span>&nbsp;<span class="ident" id="6011413"><a href="/gostd/go/ast/ast.go.html#3810912">To</a></span><span class="op" id="6011415">:</span>&nbsp;<span class="ident" id="6011417"><a href="/gostd/go/parser/parser.go.html#6009874">p</a></span><span class="op" id="6011418">.</span><span class="ident" id="6011419"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="6011422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6011425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011429">return</span><br>
<span class="lineno"></span><span class="op" id="6011436">}</span><br>
<span class="lineno">2170</span><br>
<span class="lineno"></span><span class="comment" id="6011439">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="6011519">//&nbsp;Declarations</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6011536">type</span>&nbsp;<span class="ident" id="6011541">parseSpecFunction</span>&nbsp;<span class="keyword" id="6011559">func</span><span class="op" id="6011563">(</span><span class="ident" id="6011564">doc</span>&nbsp;<span class="op" id="6011568">*</span><span class="ident" id="6011569"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6011572">.</span><span class="ident" id="6011573"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="6011585">,</span>&nbsp;<span class="ident" id="6011587">keyword</span>&nbsp;<span class="ident" id="6011595"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6011600">.</span><span class="ident" id="6011601"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="6011606">,</span>&nbsp;<span class="ident" id="6011608">iota</span>&nbsp;<span class="builtintype" id="6011613">int</span><span class="op" id="6011616">)</span>&nbsp;<span class="ident" id="6011618"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6011621">.</span><span class="ident" id="6011622"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span><br>
<span class="lineno">2175</span><br>
<span class="lineno"></span><span class="keyword" id="6011628">func</span>&nbsp;<span class="ident" id="6011633">isValidImport</span><span class="op" id="6011646">(</span><span class="ident" id="6011647">lit</span>&nbsp;<span class="builtintype" id="6011651">string</span><span class="op" id="6011657">)</span>&nbsp;<span class="builtintype" id="6011659">bool</span>&nbsp;<span class="op" id="6011664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011667">const</span>&nbsp;<span class="ident" id="6011673">illegalChars</span>&nbsp;<span class="op" id="6011686">=</span>&nbsp;<span class="string" id="6011688">`!&#34;#$%&amp;&#39;()*,:;&lt;=&gt;?[\]^{|}`</span>&nbsp;<span class="op" id="6011715">+</span>&nbsp;<span class="string" id="6011717">&#34;`\uFFFD&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6011728">s</span><span class="op" id="6011729">,</span>&nbsp;<span class="ident" id="6011731">_</span>&nbsp;<span class="op" id="6011733">:=</span>&nbsp;<span class="ident" id="6011736"><a href="/gostd/go/parser/parser.go.html#5956783">strconv</a></span><span class="op" id="6011743">.</span><span class="ident" id="6011744"><a href="/gostd/strconv/quote.go.html#2417743">Unquote</a></span><span class="op" id="6011751">(</span><span class="ident" id="6011752"><a href="/gostd/go/parser/parser.go.html#6011647">lit</a></span><span class="op" id="6011755">)</span>&nbsp;<span class="comment" id="6011757">//&nbsp;go/scanner&nbsp;returns&nbsp;a&nbsp;legal&nbsp;string&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011803">for</span>&nbsp;<span class="ident" id="6011807">_</span><span class="op" id="6011808">,</span>&nbsp;<span class="ident" id="6011810">r</span>&nbsp;<span class="op" id="6011812">:=</span>&nbsp;<span class="keyword" id="6011815">range</span>&nbsp;<span class="ident" id="6011821"><a href="/gostd/go/parser/parser.go.html#6011728">s</a></span>&nbsp;<span class="op" id="6011823">{</span><br>
<span class="lineno">2180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011827">if</span>&nbsp;<span class="op" id="6011830">!</span><span class="ident" id="6011831"><a href="/gostd/go/parser/parser.go.html#5956805">unicode</a></span><span class="op" id="6011838">.</span><span class="ident" id="6011839"><a href="/gostd/unicode/graphic.go.html#1817966">IsGraphic</a></span><span class="op" id="6011848">(</span><span class="ident" id="6011849"><a href="/gostd/go/parser/parser.go.html#6011810">r</a></span><span class="op" id="6011850">)</span>&nbsp;<span class="op" id="6011852">||</span>&nbsp;<span class="ident" id="6011855"><a href="/gostd/go/parser/parser.go.html#5956805">unicode</a></span><span class="op" id="6011862">.</span><span class="ident" id="6011863"><a href="/gostd/unicode/graphic.go.html#1820663">IsSpace</a></span><span class="op" id="6011870">(</span><span class="ident" id="6011871"><a href="/gostd/go/parser/parser.go.html#6011810">r</a></span><span class="op" id="6011872">)</span>&nbsp;<span class="op" id="6011874">||</span>&nbsp;<span class="ident" id="6011877"><a href="/gostd/go/parser/parser.go.html#5956794">strings</a></span><span class="op" id="6011884">.</span><span class="ident" id="6011885"><a href="/gostd/strings/strings.go.html#2968712">ContainsRune</a></span><span class="op" id="6011897">(</span><span class="ident" id="6011898"><a href="/gostd/go/parser/parser.go.html#6011673">illegalChars</a></span><span class="op" id="6011910">,</span>&nbsp;<span class="ident" id="6011912"><a href="/gostd/go/parser/parser.go.html#6011810">r</a></span><span class="op" id="6011913">)</span>&nbsp;<span class="op" id="6011915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011920">return</span>&nbsp;<span class="builtintype" id="6011927">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6011935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6011938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6011941">return</span>&nbsp;<span class="ident" id="6011948"><a href="/gostd/go/parser/parser.go.html#6011728">s</a></span>&nbsp;<span class="op" id="6011950">!=</span>&nbsp;<span class="string" id="6011953">&#34;&#34;</span><br>
<span class="lineno">2185</span><span class="op" id="6011956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6011959">func</span>&nbsp;<span class="op" id="6011964">(</span><span class="ident" id="6011965">p</span>&nbsp;<span class="op" id="6011967">*</span><span class="ident" id="6011968"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6011974">)</span>&nbsp;<span class="ident" id="6011976">parseImportSpec</span><span class="op" id="6011991">(</span><span class="ident" id="6011992">doc</span>&nbsp;<span class="op" id="6011996">*</span><span class="ident" id="6011997"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6012000">.</span><span class="ident" id="6012001"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="6012013">,</span>&nbsp;<span class="ident" id="6012015">_</span>&nbsp;<span class="ident" id="6012017"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6012022">.</span><span class="ident" id="6012023"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="6012028">,</span>&nbsp;<span class="ident" id="6012030">_</span>&nbsp;<span class="builtintype" id="6012032">int</span><span class="op" id="6012035">)</span>&nbsp;<span class="ident" id="6012037"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6012040">.</span><span class="ident" id="6012041"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span>&nbsp;<span class="op" id="6012046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012049">if</span>&nbsp;<span class="ident" id="6012052"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012053">.</span><span class="ident" id="6012054"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6012060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012064">defer</span>&nbsp;<span class="ident" id="6012070"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6012072">(</span><span class="ident" id="6012073"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6012078">(</span><span class="ident" id="6012079"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012080">,</span>&nbsp;<span class="string" id="6012082">&#34;ImportSpec&#34;</span><span class="op" id="6012094">)</span><span class="op" id="6012095">)</span><br>
<span class="lineno">2190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6012098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012102">var</span>&nbsp;<span class="ident" id="6012106">ident</span>&nbsp;<span class="op" id="6012112">*</span><span class="ident" id="6012113"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6012116">.</span><span class="ident" id="6012117"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012124">switch</span>&nbsp;<span class="ident" id="6012131"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012132">.</span><span class="ident" id="6012133"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6012137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012140">case</span>&nbsp;<span class="ident" id="6012145"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6012150">.</span><span class="ident" id="6012151"><a href="/gostd/go/token/token.go.html#3890615">PERIOD</a></span><span class="op" id="6012157">:</span><br>
<span class="lineno">2195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012161"><a href="/gostd/go/parser/parser.go.html#6012106">ident</a></span>&nbsp;<span class="op" id="6012167">=</span>&nbsp;<span class="op" id="6012169">&amp;</span><span class="ident" id="6012170"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6012173">.</span><span class="ident" id="6012174"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="6012179">{</span><span class="ident" id="6012180"><a href="/gostd/go/ast/ast.go.html#3800256">NamePos</a></span><span class="op" id="6012187">:</span>&nbsp;<span class="ident" id="6012189"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012190">.</span><span class="ident" id="6012191"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="6012194">,</span>&nbsp;<span class="ident" id="6012196"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="6012200">:</span>&nbsp;<span class="string" id="6012202">&#34;.&#34;</span><span class="op" id="6012205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012209"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012210">.</span><span class="ident" id="6012211"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6012215">(</span><span class="op" id="6012216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012219">case</span>&nbsp;<span class="ident" id="6012224"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6012229">.</span><span class="ident" id="6012230"><a href="/gostd/go/token/token.go.html#3889823">IDENT</a></span><span class="op" id="6012235">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012239"><a href="/gostd/go/parser/parser.go.html#6012106">ident</a></span>&nbsp;<span class="op" id="6012245">=</span>&nbsp;<span class="ident" id="6012247"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012248">.</span><span class="ident" id="6012249"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="6012259">(</span><span class="op" id="6012260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6012263">}</span><br>
<span class="lineno">2200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012267">pos</span>&nbsp;<span class="op" id="6012271">:=</span>&nbsp;<span class="ident" id="6012274"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012275">.</span><span class="ident" id="6012276"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012281">var</span>&nbsp;<span class="ident" id="6012285">path</span>&nbsp;<span class="builtintype" id="6012290">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012298">if</span>&nbsp;<span class="ident" id="6012301"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012302">.</span><span class="ident" id="6012303"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6012307">==</span>&nbsp;<span class="ident" id="6012310"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6012315">.</span><span class="ident" id="6012316"><a href="/gostd/go/token/token.go.html#3889908">STRING</a></span>&nbsp;<span class="op" id="6012323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012327"><a href="/gostd/go/parser/parser.go.html#6012285">path</a></span>&nbsp;<span class="op" id="6012332">=</span>&nbsp;<span class="ident" id="6012334"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012335">.</span><span class="ident" id="6012336"><a href="/gostd/go/parser/parser.go.html#5957358">lit</a></span><br>
<span class="lineno">2205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012342">if</span>&nbsp;<span class="op" id="6012345">!</span><span class="ident" id="6012346"><a href="/gostd/go/parser/parser.go.html#6011633">isValidImport</a></span><span class="op" id="6012359">(</span><span class="ident" id="6012360"><a href="/gostd/go/parser/parser.go.html#6012285">path</a></span><span class="op" id="6012364">)</span>&nbsp;<span class="op" id="6012366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012371"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012372">.</span><span class="builtintype" id="6012373"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="6012378">(</span><span class="ident" id="6012379"><a href="/gostd/go/parser/parser.go.html#6012267">pos</a></span><span class="op" id="6012382">,</span>&nbsp;<span class="string" id="6012384">&#34;invalid&nbsp;import&nbsp;path:&nbsp;&#34;</span><span class="op" id="6012407">+</span><span class="ident" id="6012408"><a href="/gostd/go/parser/parser.go.html#6012285">path</a></span><span class="op" id="6012412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6012416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012420"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012421">.</span><span class="ident" id="6012422"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6012426">(</span><span class="op" id="6012427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6012430">}</span>&nbsp;<span class="keyword" id="6012432">else</span>&nbsp;<span class="op" id="6012437">{</span><br>
<span class="lineno">2210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012441"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012442">.</span><span class="ident" id="6012443"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6012449">(</span><span class="ident" id="6012450"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6012455">.</span><span class="ident" id="6012456"><a href="/gostd/go/token/token.go.html#3889908">STRING</a></span><span class="op" id="6012462">)</span>&nbsp;<span class="comment" id="6012464">//&nbsp;use&nbsp;expect()&nbsp;error&nbsp;handling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6012496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012499"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012500">.</span><span class="ident" id="6012501"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6012511">(</span><span class="op" id="6012512">)</span>&nbsp;<span class="comment" id="6012514">//&nbsp;call&nbsp;before&nbsp;accessing&nbsp;p.linecomment</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6012555">//&nbsp;collect&nbsp;imports</span><br>
<span class="lineno">2215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012575">spec</span>&nbsp;<span class="op" id="6012580">:=</span>&nbsp;<span class="op" id="6012583">&amp;</span><span class="ident" id="6012584"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6012587">.</span><span class="ident" id="6012588"><a href="/gostd/go/ast/ast.go.html#3819609">ImportSpec</a></span><span class="op" id="6012598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012602"><a href="/gostd/go/ast/ast.go.html#3819631">Doc</a></span><span class="op" id="6012605">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012611"><a href="/gostd/go/parser/parser.go.html#6011992">doc</a></span><span class="op" id="6012614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012618"><a href="/gostd/go/ast/ast.go.html#3819691">Name</a></span><span class="op" id="6012622">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012627"><a href="/gostd/go/parser/parser.go.html#6012106">ident</a></span><span class="op" id="6012632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012636"><a href="/gostd/go/ast/ast.go.html#3819761">Path</a></span><span class="op" id="6012640">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6012645">&amp;</span><span class="ident" id="6012646"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6012649">.</span><span class="ident" id="6012650"><a href="/gostd/go/ast/ast.go.html#3800698">BasicLit</a></span><span class="op" id="6012658">{</span><span class="ident" id="6012659"><a href="/gostd/go/ast/ast.go.html#3800718">ValuePos</a></span><span class="op" id="6012667">:</span>&nbsp;<span class="ident" id="6012669"><a href="/gostd/go/parser/parser.go.html#6012267">pos</a></span><span class="op" id="6012672">,</span>&nbsp;<span class="ident" id="6012674"><a href="/gostd/go/ast/ast.go.html#3800761">Kind</a></span><span class="op" id="6012678">:</span>&nbsp;<span class="ident" id="6012680"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6012685">.</span><span class="ident" id="6012686"><a href="/gostd/go/token/token.go.html#3889908">STRING</a></span><span class="op" id="6012692">,</span>&nbsp;<span class="ident" id="6012694"><a href="/gostd/go/ast/ast.go.html#3800851">Value</a></span><span class="op" id="6012699">:</span>&nbsp;<span class="ident" id="6012701"><a href="/gostd/go/parser/parser.go.html#6012285">path</a></span><span class="op" id="6012705">}</span><span class="op" id="6012706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012710"><a href="/gostd/go/ast/ast.go.html#3819800">Comment</a></span><span class="op" id="6012717">:</span>&nbsp;<span class="ident" id="6012719"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012720">.</span><span class="ident" id="6012721"><a href="/gostd/go/parser/parser.go.html#5957214">lineComment</a></span><span class="op" id="6012732">,</span><br>
<span class="lineno">2220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6012735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012738"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012739">.</span><span class="ident" id="6012740"><a href="/gostd/go/parser/parser.go.html#5958083">imports</a></span>&nbsp;<span class="op" id="6012748">=</span>&nbsp;<span class="builtinfunc" id="6012750">append</span><span class="op" id="6012756">(</span><span class="ident" id="6012757"><a href="/gostd/go/parser/parser.go.html#6011965">p</a></span><span class="op" id="6012758">.</span><span class="ident" id="6012759"><a href="/gostd/go/parser/parser.go.html#5958083">imports</a></span><span class="op" id="6012766">,</span>&nbsp;<span class="ident" id="6012768"><a href="/gostd/go/parser/parser.go.html#6012575">spec</a></span><span class="op" id="6012772">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012776">return</span>&nbsp;<span class="ident" id="6012783"><a href="/gostd/go/parser/parser.go.html#6012575">spec</a></span><br>
<span class="lineno"></span><span class="op" id="6012788">}</span><br>
<span class="lineno">2225</span><br>
<span class="lineno"></span><span class="keyword" id="6012791">func</span>&nbsp;<span class="op" id="6012796">(</span><span class="ident" id="6012797">p</span>&nbsp;<span class="op" id="6012799">*</span><span class="ident" id="6012800"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6012806">)</span>&nbsp;<span class="ident" id="6012808">parseValueSpec</span><span class="op" id="6012822">(</span><span class="ident" id="6012823">doc</span>&nbsp;<span class="op" id="6012827">*</span><span class="ident" id="6012828"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6012831">.</span><span class="ident" id="6012832"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="6012844">,</span>&nbsp;<span class="ident" id="6012846">keyword</span>&nbsp;<span class="ident" id="6012854"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6012859">.</span><span class="ident" id="6012860"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="6012865">,</span>&nbsp;<span class="ident" id="6012867">iota</span>&nbsp;<span class="builtintype" id="6012872">int</span><span class="op" id="6012875">)</span>&nbsp;<span class="ident" id="6012877"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6012880">.</span><span class="ident" id="6012881"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span>&nbsp;<span class="op" id="6012886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012889">if</span>&nbsp;<span class="ident" id="6012892"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6012893">.</span><span class="ident" id="6012894"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6012900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012904">defer</span>&nbsp;<span class="ident" id="6012910"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6012912">(</span><span class="ident" id="6012913"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6012918">(</span><span class="ident" id="6012919"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6012920">,</span>&nbsp;<span class="ident" id="6012922"><a href="/gostd/go/parser/parser.go.html#6012846">keyword</a></span><span class="op" id="6012929">.</span><span class="ident" id="6012930"><a href="/gostd/go/token/token.go.html#3892778">String</a></span><span class="op" id="6012936">(</span><span class="op" id="6012937">)</span><span class="op" id="6012938">+</span><span class="string" id="6012939">&#34;Spec&#34;</span><span class="op" id="6012945">)</span><span class="op" id="6012946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6012949">}</span><br>
<span class="lineno">2230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012953">idents</span>&nbsp;<span class="op" id="6012960">:=</span>&nbsp;<span class="ident" id="6012963"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6012964">.</span><span class="ident" id="6012965"><a href="/gostd/go/parser/parser.go.html#5971367">parseIdentList</a></span><span class="op" id="6012979">(</span><span class="op" id="6012980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012983">typ</span>&nbsp;<span class="op" id="6012987">:=</span>&nbsp;<span class="ident" id="6012990"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6012991">.</span><span class="ident" id="6012992"><a href="/gostd/go/parser/parser.go.html#5983475">tryType</a></span><span class="op" id="6012999">(</span><span class="op" id="6013000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013003">var</span>&nbsp;<span class="ident" id="6013007">values</span>&nbsp;<span class="op" id="6013014">[</span><span class="op" id="6013015">]</span><span class="ident" id="6013016"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6013019">.</span><span class="ident" id="6013020"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6013026">//&nbsp;always&nbsp;permit&nbsp;optional&nbsp;initialization&nbsp;for&nbsp;more&nbsp;tolerant&nbsp;parsing</span><br>
<span class="lineno">2235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013094">if</span>&nbsp;<span class="ident" id="6013097"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6013098">.</span><span class="ident" id="6013099"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6013103">==</span>&nbsp;<span class="ident" id="6013106"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6013111">.</span><span class="ident" id="6013112"><a href="/gostd/go/token/token.go.html#3890454">ASSIGN</a></span>&nbsp;<span class="op" id="6013119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013123"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6013124">.</span><span class="ident" id="6013125"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6013129">(</span><span class="op" id="6013130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013134"><a href="/gostd/go/parser/parser.go.html#6013007">values</a></span>&nbsp;<span class="op" id="6013141">=</span>&nbsp;<span class="ident" id="6013143"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6013144">.</span><span class="ident" id="6013145"><a href="/gostd/go/parser/parser.go.html#5972945">parseRhsList</a></span><span class="op" id="6013157">(</span><span class="op" id="6013158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013164"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6013165">.</span><span class="ident" id="6013166"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6013176">(</span><span class="op" id="6013177">)</span>&nbsp;<span class="comment" id="6013179">//&nbsp;call&nbsp;before&nbsp;accessing&nbsp;p.linecomment</span><br>
<span class="lineno">2240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6013220">//&nbsp;Go&nbsp;spec:&nbsp;The&nbsp;scope&nbsp;of&nbsp;a&nbsp;constant&nbsp;or&nbsp;variable&nbsp;identifier&nbsp;declared&nbsp;inside</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6013296">//&nbsp;a&nbsp;function&nbsp;begins&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;ConstSpec&nbsp;or&nbsp;VarSpec&nbsp;and&nbsp;ends&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6013369">//&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;innermost&nbsp;containing&nbsp;block.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6013416">//&nbsp;(Global&nbsp;identifiers&nbsp;are&nbsp;resolved&nbsp;in&nbsp;a&nbsp;separate&nbsp;phase&nbsp;after&nbsp;parsing.)</span><br>
<span class="lineno">2245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013489">spec</span>&nbsp;<span class="op" id="6013494">:=</span>&nbsp;<span class="op" id="6013497">&amp;</span><span class="ident" id="6013498"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6013501">.</span><span class="ident" id="6013502"><a href="/gostd/go/ast/ast.go.html#3820033">ValueSpec</a></span><span class="op" id="6013511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013515"><a href="/gostd/go/ast/ast.go.html#3820054">Doc</a></span><span class="op" id="6013518">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013524"><a href="/gostd/go/parser/parser.go.html#6012823">doc</a></span><span class="op" id="6013527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013531"><a href="/gostd/go/ast/ast.go.html#3820114">Names</a></span><span class="op" id="6013536">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6013540"><a href="/gostd/go/parser/parser.go.html#6012953">idents</a></span><span class="op" id="6013546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013550"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span><span class="op" id="6013554">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013559"><a href="/gostd/go/parser/parser.go.html#6012983">typ</a></span><span class="op" id="6013562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013566"><a href="/gostd/go/ast/ast.go.html#3820216">Values</a></span><span class="op" id="6013572">:</span>&nbsp;&nbsp;<span class="ident" id="6013575"><a href="/gostd/go/parser/parser.go.html#6013007">values</a></span><span class="op" id="6013581">,</span><br>
<span class="lineno">2250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013585"><a href="/gostd/go/ast/ast.go.html#3820266">Comment</a></span><span class="op" id="6013592">:</span>&nbsp;<span class="ident" id="6013594"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6013595">.</span><span class="ident" id="6013596"><a href="/gostd/go/parser/parser.go.html#5957214">lineComment</a></span><span class="op" id="6013607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013613">kind</span>&nbsp;<span class="op" id="6013618">:=</span>&nbsp;<span class="ident" id="6013621"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6013624">.</span><span class="ident" id="6013625"><a href="/gostd/go/ast/scope.go.html#3866787">Con</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013630">if</span>&nbsp;<span class="ident" id="6013633"><a href="/gostd/go/parser/parser.go.html#6012846">keyword</a></span>&nbsp;<span class="op" id="6013641">==</span>&nbsp;<span class="ident" id="6013644"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6013649">.</span><span class="ident" id="6013650"><a href="/gostd/go/token/token.go.html#3890928">VAR</a></span>&nbsp;<span class="op" id="6013654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013658"><a href="/gostd/go/parser/parser.go.html#6013613">kind</a></span>&nbsp;<span class="op" id="6013663">=</span>&nbsp;<span class="ident" id="6013665"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6013668">.</span><span class="ident" id="6013669"><a href="/gostd/go/ast/scope.go.html#3866847">Var</a></span><br>
<span class="lineno">2255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013677"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6013678">.</span><span class="ident" id="6013679"><a href="/gostd/go/parser/parser.go.html#5959540">declare</a></span><span class="op" id="6013686">(</span><span class="ident" id="6013687"><a href="/gostd/go/parser/parser.go.html#6013489">spec</a></span><span class="op" id="6013691">,</span>&nbsp;<span class="ident" id="6013693"><a href="/gostd/go/parser/parser.go.html#6012867">iota</a></span><span class="op" id="6013697">,</span>&nbsp;<span class="ident" id="6013699"><a href="/gostd/go/parser/parser.go.html#6012797">p</a></span><span class="op" id="6013700">.</span><span class="ident" id="6013701"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span><span class="op" id="6013709">,</span>&nbsp;<span class="ident" id="6013711"><a href="/gostd/go/parser/parser.go.html#6013613">kind</a></span><span class="op" id="6013715">,</span>&nbsp;<span class="ident" id="6013717"><a href="/gostd/go/parser/parser.go.html#6012953">idents</a></span><span class="op" id="6013723">...</span><span class="op" id="6013726">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013730">return</span>&nbsp;<span class="ident" id="6013737"><a href="/gostd/go/parser/parser.go.html#6013489">spec</a></span><br>
<span class="lineno"></span><span class="op" id="6013742">}</span><br>
<span class="lineno">2260</span><br>
<span class="lineno"></span><span class="keyword" id="6013745">func</span>&nbsp;<span class="op" id="6013750">(</span><span class="ident" id="6013751">p</span>&nbsp;<span class="op" id="6013753">*</span><span class="ident" id="6013754"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6013760">)</span>&nbsp;<span class="ident" id="6013762">parseTypeSpec</span><span class="op" id="6013775">(</span><span class="ident" id="6013776">doc</span>&nbsp;<span class="op" id="6013780">*</span><span class="ident" id="6013781"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6013784">.</span><span class="ident" id="6013785"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="6013797">,</span>&nbsp;<span class="ident" id="6013799">_</span>&nbsp;<span class="ident" id="6013801"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6013806">.</span><span class="ident" id="6013807"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="6013812">,</span>&nbsp;<span class="ident" id="6013814">_</span>&nbsp;<span class="builtintype" id="6013816">int</span><span class="op" id="6013819">)</span>&nbsp;<span class="ident" id="6013821"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6013824">.</span><span class="ident" id="6013825"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span>&nbsp;<span class="op" id="6013830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013833">if</span>&nbsp;<span class="ident" id="6013836"><a href="/gostd/go/parser/parser.go.html#6013751">p</a></span><span class="op" id="6013837">.</span><span class="ident" id="6013838"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6013844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013848">defer</span>&nbsp;<span class="ident" id="6013854"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6013856">(</span><span class="ident" id="6013857"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6013862">(</span><span class="ident" id="6013863"><a href="/gostd/go/parser/parser.go.html#6013751">p</a></span><span class="op" id="6013864">,</span>&nbsp;<span class="string" id="6013866">&#34;TypeSpec&#34;</span><span class="op" id="6013876">)</span><span class="op" id="6013877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013880">}</span><br>
<span class="lineno">2265</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013884">ident</span>&nbsp;<span class="op" id="6013890">:=</span>&nbsp;<span class="ident" id="6013893"><a href="/gostd/go/parser/parser.go.html#6013751">p</a></span><span class="op" id="6013894">.</span><span class="ident" id="6013895"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="6013905">(</span><span class="op" id="6013906">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6013910">//&nbsp;Go&nbsp;spec:&nbsp;The&nbsp;scope&nbsp;of&nbsp;a&nbsp;type&nbsp;identifier&nbsp;declared&nbsp;inside&nbsp;a&nbsp;function&nbsp;begins</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6013988">//&nbsp;at&nbsp;the&nbsp;identifier&nbsp;in&nbsp;the&nbsp;TypeSpec&nbsp;and&nbsp;ends&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;innermost</span><br>
<span class="lineno">2270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6014063">//&nbsp;containing&nbsp;block.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6014085">//&nbsp;(Global&nbsp;identifiers&nbsp;are&nbsp;resolved&nbsp;in&nbsp;a&nbsp;separate&nbsp;phase&nbsp;after&nbsp;parsing.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014158">spec</span>&nbsp;<span class="op" id="6014163">:=</span>&nbsp;<span class="op" id="6014166">&amp;</span><span class="ident" id="6014167"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6014170">.</span><span class="ident" id="6014171"><a href="/gostd/go/ast/ast.go.html#3820391">TypeSpec</a></span><span class="op" id="6014179">{</span><span class="ident" id="6014180"><a href="/gostd/go/ast/ast.go.html#3820411">Doc</a></span><span class="op" id="6014183">:</span>&nbsp;<span class="ident" id="6014185"><a href="/gostd/go/parser/parser.go.html#6013776">doc</a></span><span class="op" id="6014188">,</span>&nbsp;<span class="ident" id="6014190"><a href="/gostd/go/ast/ast.go.html#3820471">Name</a></span><span class="op" id="6014194">:</span>&nbsp;<span class="ident" id="6014196"><a href="/gostd/go/parser/parser.go.html#6013884">ident</a></span><span class="op" id="6014201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014204"><a href="/gostd/go/parser/parser.go.html#6013751">p</a></span><span class="op" id="6014205">.</span><span class="ident" id="6014206"><a href="/gostd/go/parser/parser.go.html#5959540">declare</a></span><span class="op" id="6014213">(</span><span class="ident" id="6014214"><a href="/gostd/go/parser/parser.go.html#6014158">spec</a></span><span class="op" id="6014218">,</span>&nbsp;<span class="builtintype" id="6014220">nil</span><span class="op" id="6014223">,</span>&nbsp;<span class="ident" id="6014225"><a href="/gostd/go/parser/parser.go.html#6013751">p</a></span><span class="op" id="6014226">.</span><span class="ident" id="6014227"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span><span class="op" id="6014235">,</span>&nbsp;<span class="ident" id="6014237"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6014240">.</span><span class="ident" id="6014241"><a href="/gostd/go/ast/scope.go.html#3866819">Typ</a></span><span class="op" id="6014244">,</span>&nbsp;<span class="ident" id="6014246"><a href="/gostd/go/parser/parser.go.html#6013884">ident</a></span><span class="op" id="6014251">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">2275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014255"><a href="/gostd/go/parser/parser.go.html#6014158">spec</a></span><span class="op" id="6014259">.</span><span class="ident" id="6014260"><a href="/gostd/go/ast/ast.go.html#3820508">Type</a></span>&nbsp;<span class="op" id="6014265">=</span>&nbsp;<span class="ident" id="6014267"><a href="/gostd/go/parser/parser.go.html#6013751">p</a></span><span class="op" id="6014268">.</span><span class="ident" id="6014269"><a href="/gostd/go/parser/parser.go.html#5973175">parseType</a></span><span class="op" id="6014278">(</span><span class="op" id="6014279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014282"><a href="/gostd/go/parser/parser.go.html#6013751">p</a></span><span class="op" id="6014283">.</span><span class="ident" id="6014284"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6014294">(</span><span class="op" id="6014295">)</span>&nbsp;<span class="comment" id="6014297">//&nbsp;call&nbsp;before&nbsp;accessing&nbsp;p.linecomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014337"><a href="/gostd/go/parser/parser.go.html#6014158">spec</a></span><span class="op" id="6014341">.</span><span class="ident" id="6014342"><a href="/gostd/go/ast/ast.go.html#3820605">Comment</a></span>&nbsp;<span class="op" id="6014350">=</span>&nbsp;<span class="ident" id="6014352"><a href="/gostd/go/parser/parser.go.html#6013751">p</a></span><span class="op" id="6014353">.</span><span class="ident" id="6014354"><a href="/gostd/go/parser/parser.go.html#5957214">lineComment</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014368">return</span>&nbsp;<span class="ident" id="6014375"><a href="/gostd/go/parser/parser.go.html#6014158">spec</a></span><br>
<span class="lineno">2280</span><span class="op" id="6014380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6014383">func</span>&nbsp;<span class="op" id="6014388">(</span><span class="ident" id="6014389">p</span>&nbsp;<span class="op" id="6014391">*</span><span class="ident" id="6014392"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6014398">)</span>&nbsp;<span class="ident" id="6014400">parseGenDecl</span><span class="op" id="6014412">(</span><span class="ident" id="6014413">keyword</span>&nbsp;<span class="ident" id="6014421"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6014426">.</span><span class="ident" id="6014427"><a href="/gostd/go/token/token.go.html#3889622">Token</a></span><span class="op" id="6014432">,</span>&nbsp;<span class="ident" id="6014434">f</span>&nbsp;<span class="ident" id="6014436"><a href="/gostd/go/parser/parser.go.html#6011541">parseSpecFunction</a></span><span class="op" id="6014453">)</span>&nbsp;<span class="op" id="6014455">*</span><span class="ident" id="6014456"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6014459">.</span><span class="ident" id="6014460"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span>&nbsp;<span class="op" id="6014468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014471">if</span>&nbsp;<span class="ident" id="6014474"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014475">.</span><span class="ident" id="6014476"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6014482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014486">defer</span>&nbsp;<span class="ident" id="6014492"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6014494">(</span><span class="ident" id="6014495"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6014500">(</span><span class="ident" id="6014501"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014502">,</span>&nbsp;<span class="string" id="6014504">&#34;GenDecl(&#34;</span><span class="op" id="6014514">+</span><span class="ident" id="6014515"><a href="/gostd/go/parser/parser.go.html#6014413">keyword</a></span><span class="op" id="6014522">.</span><span class="ident" id="6014523"><a href="/gostd/go/token/token.go.html#3892778">String</a></span><span class="op" id="6014529">(</span><span class="op" id="6014530">)</span><span class="op" id="6014531">+</span><span class="string" id="6014532">&#34;)&#34;</span><span class="op" id="6014535">)</span><span class="op" id="6014536">)</span><br>
<span class="lineno">2285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014543">doc</span>&nbsp;<span class="op" id="6014547">:=</span>&nbsp;<span class="ident" id="6014550"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014551">.</span><span class="ident" id="6014552"><a href="/gostd/go/parser/parser.go.html#5957162">leadComment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014565">pos</span>&nbsp;<span class="op" id="6014569">:=</span>&nbsp;<span class="ident" id="6014572"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014573">.</span><span class="ident" id="6014574"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6014580">(</span><span class="ident" id="6014581"><a href="/gostd/go/parser/parser.go.html#6014413">keyword</a></span><span class="op" id="6014588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014591">var</span>&nbsp;<span class="ident" id="6014595">lparen</span><span class="op" id="6014601">,</span>&nbsp;<span class="ident" id="6014603">rparen</span>&nbsp;<span class="ident" id="6014610"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6014615">.</span><span class="ident" id="6014616"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><br>
<span class="lineno">2290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014621">var</span>&nbsp;<span class="ident" id="6014625">list</span>&nbsp;<span class="op" id="6014630">[</span><span class="op" id="6014631">]</span><span class="ident" id="6014632"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6014635">.</span><span class="ident" id="6014636"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014642">if</span>&nbsp;<span class="ident" id="6014645"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014646">.</span><span class="ident" id="6014647"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6014651">==</span>&nbsp;<span class="ident" id="6014654"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6014659">.</span><span class="ident" id="6014660"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span>&nbsp;<span class="op" id="6014667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014671"><a href="/gostd/go/parser/parser.go.html#6014595">lparen</a></span>&nbsp;<span class="op" id="6014678">=</span>&nbsp;<span class="ident" id="6014680"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014681">.</span><span class="ident" id="6014682"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014688"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014689">.</span><span class="ident" id="6014690"><a href="/gostd/go/parser/parser.go.html#5965636">next</a></span><span class="op" id="6014694">(</span><span class="op" id="6014695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014699">for</span>&nbsp;<span class="ident" id="6014703">iota</span>&nbsp;<span class="op" id="6014708">:=</span>&nbsp;<span class="num" id="6014711">0</span><span class="op" id="6014712">;</span>&nbsp;<span class="ident" id="6014714"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014715">.</span><span class="ident" id="6014716"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6014720">!=</span>&nbsp;<span class="ident" id="6014723"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6014728">.</span><span class="ident" id="6014729"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span>&nbsp;<span class="op" id="6014736">&amp;&amp;</span>&nbsp;<span class="ident" id="6014739"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014740">.</span><span class="ident" id="6014741"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6014745">!=</span>&nbsp;<span class="ident" id="6014748"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6014753">.</span><span class="ident" id="6014754"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span><span class="op" id="6014757">;</span>&nbsp;<span class="ident" id="6014759"><a href="/gostd/go/parser/parser.go.html#6014703">iota</a></span><span class="op" id="6014763">++</span>&nbsp;<span class="op" id="6014766">{</span><br>
<span class="lineno">2295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014771"><a href="/gostd/go/parser/parser.go.html#6014625">list</a></span>&nbsp;<span class="op" id="6014776">=</span>&nbsp;<span class="builtinfunc" id="6014778">append</span><span class="op" id="6014784">(</span><span class="ident" id="6014785"><a href="/gostd/go/parser/parser.go.html#6014625">list</a></span><span class="op" id="6014789">,</span>&nbsp;<span class="ident" id="6014791"><a href="/gostd/go/parser/parser.go.html#6014434">f</a></span><span class="op" id="6014792">(</span><span class="ident" id="6014793"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014794">.</span><span class="ident" id="6014795"><a href="/gostd/go/parser/parser.go.html#5957162">leadComment</a></span><span class="op" id="6014806">,</span>&nbsp;<span class="ident" id="6014808"><a href="/gostd/go/parser/parser.go.html#6014413">keyword</a></span><span class="op" id="6014815">,</span>&nbsp;<span class="ident" id="6014817"><a href="/gostd/go/parser/parser.go.html#6014703">iota</a></span><span class="op" id="6014821">)</span><span class="op" id="6014822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014830"><a href="/gostd/go/parser/parser.go.html#6014603">rparen</a></span>&nbsp;<span class="op" id="6014837">=</span>&nbsp;<span class="ident" id="6014839"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014840">.</span><span class="ident" id="6014841"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6014847">(</span><span class="ident" id="6014848"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6014853">.</span><span class="ident" id="6014854"><a href="/gostd/go/token/token.go.html#3890629">RPAREN</a></span><span class="op" id="6014860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014864"><a href="/gostd/go/parser/parser.go.html#6014389">p</a></span><span class="op" id="6014865">.</span><span class="ident" id="6014866"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6014876">(</span><span class="op" id="6014877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014880">}</span>&nbsp;<span class="keyword" id="6014882">else</span>&nbsp;<span class="op" id="6014887">{</span><br>
<span class="lineno">2300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014891"><a href="/gostd/go/parser/parser.go.html#6014625">list</a></span>&nbsp;<span class="op" id="6014896">=</span>&nbsp;<span class="builtinfunc" id="6014898">append</span><span class="op" id="6014904">(</span><span class="ident" id="6014905"><a href="/gostd/go/parser/parser.go.html#6014625">list</a></span><span class="op" id="6014909">,</span>&nbsp;<span class="ident" id="6014911"><a href="/gostd/go/parser/parser.go.html#6014434">f</a></span><span class="op" id="6014912">(</span><span class="builtintype" id="6014913">nil</span><span class="op" id="6014916">,</span>&nbsp;<span class="ident" id="6014918"><a href="/gostd/go/parser/parser.go.html#6014413">keyword</a></span><span class="op" id="6014925">,</span>&nbsp;<span class="num" id="6014927">0</span><span class="op" id="6014928">)</span><span class="op" id="6014929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014936">return</span>&nbsp;<span class="op" id="6014943">&amp;</span><span class="ident" id="6014944"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6014947">.</span><span class="ident" id="6014948"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="6014955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014959"><a href="/gostd/go/ast/ast.go.html#3822181">Doc</a></span><span class="op" id="6014962">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014967"><a href="/gostd/go/parser/parser.go.html#6014543">doc</a></span><span class="op" id="6014970">,</span><br>
<span class="lineno">2305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014974"><a href="/gostd/go/ast/ast.go.html#3822240">TokPos</a></span><span class="op" id="6014980">:</span>&nbsp;<span class="ident" id="6014982"><a href="/gostd/go/parser/parser.go.html#6014565">pos</a></span><span class="op" id="6014985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014989"><a href="/gostd/go/ast/ast.go.html#3822282">Tok</a></span><span class="op" id="6014992">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014997"><a href="/gostd/go/parser/parser.go.html#6014413">keyword</a></span><span class="op" id="6015004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015008"><a href="/gostd/go/ast/ast.go.html#3822333">Lparen</a></span><span class="op" id="6015014">:</span>&nbsp;<span class="ident" id="6015016"><a href="/gostd/go/parser/parser.go.html#6014595">lparen</a></span><span class="op" id="6015022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015026"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="6015031">:</span>&nbsp;&nbsp;<span class="ident" id="6015034"><a href="/gostd/go/parser/parser.go.html#6014625">list</a></span><span class="op" id="6015038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015042"><a href="/gostd/go/ast/ast.go.html#3822399">Rparen</a></span><span class="op" id="6015048">:</span>&nbsp;<span class="ident" id="6015050"><a href="/gostd/go/parser/parser.go.html#6014603">rparen</a></span><span class="op" id="6015056">,</span><br>
<span class="lineno">2310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015059">}</span><br>
<span class="lineno"></span><span class="op" id="6015061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6015064">func</span>&nbsp;<span class="op" id="6015069">(</span><span class="ident" id="6015070">p</span>&nbsp;<span class="op" id="6015072">*</span><span class="ident" id="6015073"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6015079">)</span>&nbsp;<span class="ident" id="6015081">parseFuncDecl</span><span class="op" id="6015094">(</span><span class="op" id="6015095">)</span>&nbsp;<span class="op" id="6015097">*</span><span class="ident" id="6015098"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6015101">.</span><span class="ident" id="6015102"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span>&nbsp;<span class="op" id="6015111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015114">if</span>&nbsp;<span class="ident" id="6015117"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015118">.</span><span class="ident" id="6015119"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6015125">{</span><br>
<span class="lineno">2315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015129">defer</span>&nbsp;<span class="ident" id="6015135"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6015137">(</span><span class="ident" id="6015138"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6015143">(</span><span class="ident" id="6015144"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015145">,</span>&nbsp;<span class="string" id="6015147">&#34;FunctionDecl&#34;</span><span class="op" id="6015161">)</span><span class="op" id="6015162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015169">doc</span>&nbsp;<span class="op" id="6015173">:=</span>&nbsp;<span class="ident" id="6015176"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015177">.</span><span class="ident" id="6015178"><a href="/gostd/go/parser/parser.go.html#5957162">leadComment</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015191">pos</span>&nbsp;<span class="op" id="6015195">:=</span>&nbsp;<span class="ident" id="6015198"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015199">.</span><span class="ident" id="6015200"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6015206">(</span><span class="ident" id="6015207"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6015212">.</span><span class="ident" id="6015213"><a href="/gostd/go/token/token.go.html#3890828">FUNC</a></span><span class="op" id="6015217">)</span><br>
<span class="lineno">2320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015220">scope</span>&nbsp;<span class="op" id="6015226">:=</span>&nbsp;<span class="ident" id="6015229"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6015232">.</span><span class="ident" id="6015233"><a href="/gostd/go/ast/scope.go.html#3863557">NewScope</a></span><span class="op" id="6015241">(</span><span class="ident" id="6015242"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015243">.</span><span class="ident" id="6015244"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span><span class="op" id="6015252">)</span>&nbsp;<span class="comment" id="6015254">//&nbsp;function&nbsp;scope</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015274">var</span>&nbsp;<span class="ident" id="6015278">recv</span>&nbsp;<span class="op" id="6015283">*</span><span class="ident" id="6015284"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6015287">.</span><span class="ident" id="6015288"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015299">if</span>&nbsp;<span class="ident" id="6015302"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015303">.</span><span class="ident" id="6015304"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6015308">==</span>&nbsp;<span class="ident" id="6015311"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6015316">.</span><span class="ident" id="6015317"><a href="/gostd/go/token/token.go.html#3890563">LPAREN</a></span>&nbsp;<span class="op" id="6015324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015328"><a href="/gostd/go/parser/parser.go.html#6015278">recv</a></span>&nbsp;<span class="op" id="6015333">=</span>&nbsp;<span class="ident" id="6015335"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015336">.</span><span class="ident" id="6015337"><a href="/gostd/go/parser/parser.go.html#5979468">parseParameters</a></span><span class="op" id="6015352">(</span><span class="ident" id="6015353"><a href="/gostd/go/parser/parser.go.html#6015220">scope</a></span><span class="op" id="6015358">,</span>&nbsp;<span class="builtintype" id="6015360">false</span><span class="op" id="6015365">)</span><br>
<span class="lineno">2325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015372">ident</span>&nbsp;<span class="op" id="6015378">:=</span>&nbsp;<span class="ident" id="6015381"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015382">.</span><span class="ident" id="6015383"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="6015393">(</span><span class="op" id="6015394">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015398">params</span><span class="op" id="6015404">,</span>&nbsp;<span class="ident" id="6015406">results</span>&nbsp;<span class="op" id="6015414">:=</span>&nbsp;<span class="ident" id="6015417"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015418">.</span><span class="ident" id="6015419"><a href="/gostd/go/parser/parser.go.html#5980200">parseSignature</a></span><span class="op" id="6015433">(</span><span class="ident" id="6015434"><a href="/gostd/go/parser/parser.go.html#6015220">scope</a></span><span class="op" id="6015439">)</span><br>
<span class="lineno">2330</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015443">var</span>&nbsp;<span class="ident" id="6015447">body</span>&nbsp;<span class="op" id="6015452">*</span><span class="ident" id="6015453"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6015456">.</span><span class="ident" id="6015457"><a href="/gostd/go/ast/ast.go.html#3812961">BlockStmt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015468">if</span>&nbsp;<span class="ident" id="6015471"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015472">.</span><span class="ident" id="6015473"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6015477">==</span>&nbsp;<span class="ident" id="6015480"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6015485">.</span><span class="ident" id="6015486"><a href="/gostd/go/token/token.go.html#3890589">LBRACE</a></span>&nbsp;<span class="op" id="6015493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015497"><a href="/gostd/go/parser/parser.go.html#6015447">body</a></span>&nbsp;<span class="op" id="6015502">=</span>&nbsp;<span class="ident" id="6015504"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015505">.</span><span class="ident" id="6015506"><a href="/gostd/go/parser/parser.go.html#5983944">parseBody</a></span><span class="op" id="6015515">(</span><span class="ident" id="6015516"><a href="/gostd/go/parser/parser.go.html#6015220">scope</a></span><span class="op" id="6015521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015524">}</span><br>
<span class="lineno">2335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015527"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6015528">.</span><span class="ident" id="6015529"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6015539">(</span><span class="op" id="6015540">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015544">decl</span>&nbsp;<span class="op" id="6015549">:=</span>&nbsp;<span class="op" id="6015552">&amp;</span><span class="ident" id="6015553"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6015556">.</span><span class="ident" id="6015557"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="6015565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015569"><a href="/gostd/go/ast/ast.go.html#3822523">Doc</a></span><span class="op" id="6015572">:</span>&nbsp;&nbsp;<span class="ident" id="6015575"><a href="/gostd/go/parser/parser.go.html#6015169">doc</a></span><span class="op" id="6015578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015582"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span><span class="op" id="6015586">:</span>&nbsp;<span class="ident" id="6015588"><a href="/gostd/go/parser/parser.go.html#6015278">recv</a></span><span class="op" id="6015592">,</span><br>
<span class="lineno">2340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015596"><a href="/gostd/go/ast/ast.go.html#3822643">Name</a></span><span class="op" id="6015600">:</span>&nbsp;<span class="ident" id="6015602"><a href="/gostd/go/parser/parser.go.html#6015372">ident</a></span><span class="op" id="6015607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015611"><a href="/gostd/go/ast/ast.go.html#3822688">Type</a></span><span class="op" id="6015615">:</span>&nbsp;<span class="op" id="6015617">&amp;</span><span class="ident" id="6015618"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6015621">.</span><span class="ident" id="6015622"><a href="/gostd/go/ast/ast.go.html#3804768">FuncType</a></span><span class="op" id="6015630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015635"><a href="/gostd/go/ast/ast.go.html#3804788">Func</a></span><span class="op" id="6015639">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015644"><a href="/gostd/go/parser/parser.go.html#6015191">pos</a></span><span class="op" id="6015647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015652"><a href="/gostd/go/ast/ast.go.html#3804875">Params</a></span><span class="op" id="6015658">:</span>&nbsp;&nbsp;<span class="ident" id="6015661"><a href="/gostd/go/parser/parser.go.html#6015398">params</a></span><span class="op" id="6015667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015672"><a href="/gostd/go/ast/ast.go.html#3804930">Results</a></span><span class="op" id="6015679">:</span>&nbsp;<span class="ident" id="6015681"><a href="/gostd/go/parser/parser.go.html#6015406">results</a></span><span class="op" id="6015688">,</span><br>
<span class="lineno">2345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015692">}</span><span class="op" id="6015693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015697"><a href="/gostd/go/ast/ast.go.html#3822784">Body</a></span><span class="op" id="6015701">:</span>&nbsp;<span class="ident" id="6015703"><a href="/gostd/go/parser/parser.go.html#6015447">body</a></span><span class="op" id="6015707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015713">if</span>&nbsp;<span class="ident" id="6015716"><a href="/gostd/go/parser/parser.go.html#6015278">recv</a></span>&nbsp;<span class="op" id="6015721">==</span>&nbsp;<span class="builtintype" id="6015724">nil</span>&nbsp;<span class="op" id="6015728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6015732">//&nbsp;Go&nbsp;spec:&nbsp;The&nbsp;scope&nbsp;of&nbsp;an&nbsp;identifier&nbsp;denoting&nbsp;a&nbsp;constant,&nbsp;type,</span><br>
<span class="lineno">2350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6015800">//&nbsp;variable,&nbsp;or&nbsp;function&nbsp;(but&nbsp;not&nbsp;method)&nbsp;declared&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6015866">//&nbsp;(outside&nbsp;any&nbsp;function)&nbsp;is&nbsp;the&nbsp;package&nbsp;block.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6015916">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6015921">//&nbsp;init()&nbsp;functions&nbsp;cannot&nbsp;be&nbsp;referred&nbsp;to&nbsp;and&nbsp;there&nbsp;may</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6015979">//&nbsp;be&nbsp;more&nbsp;than&nbsp;one&nbsp;-&nbsp;don&#39;t&nbsp;put&nbsp;them&nbsp;in&nbsp;the&nbsp;pkgScope</span><br>
<span class="lineno">2355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016034">if</span>&nbsp;<span class="ident" id="6016037"><a href="/gostd/go/parser/parser.go.html#6015372">ident</a></span><span class="op" id="6016042">.</span><span class="ident" id="6016043"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span>&nbsp;<span class="op" id="6016048">!=</span>&nbsp;<span class="string" id="6016051">&#34;init&#34;</span>&nbsp;<span class="op" id="6016058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016063"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6016064">.</span><span class="ident" id="6016065"><a href="/gostd/go/parser/parser.go.html#5959540">declare</a></span><span class="op" id="6016072">(</span><span class="ident" id="6016073"><a href="/gostd/go/parser/parser.go.html#6015544">decl</a></span><span class="op" id="6016077">,</span>&nbsp;<span class="builtintype" id="6016079">nil</span><span class="op" id="6016082">,</span>&nbsp;<span class="ident" id="6016084"><a href="/gostd/go/parser/parser.go.html#6015070">p</a></span><span class="op" id="6016085">.</span><span class="ident" id="6016086"><a href="/gostd/go/parser/parser.go.html#5957907">pkgScope</a></span><span class="op" id="6016094">,</span>&nbsp;<span class="ident" id="6016096"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6016099">.</span><span class="ident" id="6016100"><a href="/gostd/go/ast/scope.go.html#3866879">Fun</a></span><span class="op" id="6016103">,</span>&nbsp;<span class="ident" id="6016105"><a href="/gostd/go/parser/parser.go.html#6015372">ident</a></span><span class="op" id="6016110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">2360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016121">return</span>&nbsp;<span class="ident" id="6016128"><a href="/gostd/go/parser/parser.go.html#6015544">decl</a></span><br>
<span class="lineno"></span><span class="op" id="6016133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6016136">func</span>&nbsp;<span class="op" id="6016141">(</span><span class="ident" id="6016142">p</span>&nbsp;<span class="op" id="6016144">*</span><span class="ident" id="6016145"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6016151">)</span>&nbsp;<span class="ident" id="6016153">parseDecl</span><span class="op" id="6016162">(</span><span class="ident" id="6016163">sync</span>&nbsp;<span class="keyword" id="6016168">func</span><span class="op" id="6016172">(</span><span class="op" id="6016173">*</span><span class="ident" id="6016174"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6016180">)</span><span class="op" id="6016181">)</span>&nbsp;<span class="ident" id="6016183"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6016186">.</span><span class="ident" id="6016187"><a href="/gostd/go/ast/ast.go.html#3795432">Decl</a></span>&nbsp;<span class="op" id="6016192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016195">if</span>&nbsp;<span class="ident" id="6016198"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016199">.</span><span class="ident" id="6016200"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6016206">{</span><br>
<span class="lineno">2365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016210">defer</span>&nbsp;<span class="ident" id="6016216"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6016218">(</span><span class="ident" id="6016219"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6016224">(</span><span class="ident" id="6016225"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016226">,</span>&nbsp;<span class="string" id="6016228">&#34;Declaration&#34;</span><span class="op" id="6016241">)</span><span class="op" id="6016242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016249">var</span>&nbsp;<span class="ident" id="6016253">f</span>&nbsp;<span class="ident" id="6016255"><a href="/gostd/go/parser/parser.go.html#6011541">parseSpecFunction</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016274">switch</span>&nbsp;<span class="ident" id="6016281"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016282">.</span><span class="ident" id="6016283"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6016287">{</span><br>
<span class="lineno">2370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016290">case</span>&nbsp;<span class="ident" id="6016295"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6016300">.</span><span class="ident" id="6016301"><a href="/gostd/go/token/token.go.html#3890769">CONST</a></span><span class="op" id="6016306">,</span>&nbsp;<span class="ident" id="6016308"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6016313">.</span><span class="ident" id="6016314"><a href="/gostd/go/token/token.go.html#3890928">VAR</a></span><span class="op" id="6016317">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016321"><a href="/gostd/go/parser/parser.go.html#6016253">f</a></span>&nbsp;<span class="op" id="6016323">=</span>&nbsp;<span class="ident" id="6016325"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016326">.</span><span class="ident" id="6016327"><a href="/gostd/go/parser/parser.go.html#6012808">parseValueSpec</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016344">case</span>&nbsp;<span class="ident" id="6016349"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6016354">.</span><span class="ident" id="6016355"><a href="/gostd/go/token/token.go.html#3890922">TYPE</a></span><span class="op" id="6016359">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016363"><a href="/gostd/go/parser/parser.go.html#6016253">f</a></span>&nbsp;<span class="op" id="6016365">=</span>&nbsp;<span class="ident" id="6016367"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016368">.</span><span class="ident" id="6016369"><a href="/gostd/go/parser/parser.go.html#6013762">parseTypeSpec</a></span><br>
<span class="lineno">2375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016385">case</span>&nbsp;<span class="ident" id="6016390"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6016395">.</span><span class="ident" id="6016396"><a href="/gostd/go/token/token.go.html#3890828">FUNC</a></span><span class="op" id="6016400">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016404">return</span>&nbsp;<span class="ident" id="6016411"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016412">.</span><span class="ident" id="6016413"><a href="/gostd/go/parser/parser.go.html#6015081">parseFuncDecl</a></span><span class="op" id="6016426">(</span><span class="op" id="6016427">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016431">default</span><span class="op" id="6016438">:</span><br>
<span class="lineno">2380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016442">pos</span>&nbsp;<span class="op" id="6016446">:=</span>&nbsp;<span class="ident" id="6016449"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016450">.</span><span class="ident" id="6016451"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016457"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016458">.</span><span class="ident" id="6016459"><a href="/gostd/go/parser/parser.go.html#5967093">errorExpected</a></span><span class="op" id="6016472">(</span><span class="ident" id="6016473"><a href="/gostd/go/parser/parser.go.html#6016442">pos</a></span><span class="op" id="6016476">,</span>&nbsp;<span class="string" id="6016478">&#34;declaration&#34;</span><span class="op" id="6016491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016495"><a href="/gostd/go/parser/parser.go.html#6016163">sync</a></span><span class="op" id="6016499">(</span><span class="ident" id="6016500"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016505">return</span>&nbsp;<span class="op" id="6016512">&amp;</span><span class="ident" id="6016513"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6016516">.</span><span class="ident" id="6016517"><a href="/gostd/go/ast/ast.go.html#3821698">BadDecl</a></span><span class="op" id="6016524">{</span><span class="ident" id="6016525"><a href="/gostd/go/ast/ast.go.html#3821717">From</a></span><span class="op" id="6016529">:</span>&nbsp;<span class="ident" id="6016531"><a href="/gostd/go/parser/parser.go.html#6016442">pos</a></span><span class="op" id="6016534">,</span>&nbsp;<span class="ident" id="6016536"><a href="/gostd/go/ast/ast.go.html#3821723">To</a></span><span class="op" id="6016538">:</span>&nbsp;<span class="ident" id="6016540"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016541">.</span><span class="ident" id="6016542"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="6016545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016548">}</span><br>
<span class="lineno">2385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016552">return</span>&nbsp;<span class="ident" id="6016559"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016560">.</span><span class="ident" id="6016561"><a href="/gostd/go/parser/parser.go.html#6014400">parseGenDecl</a></span><span class="op" id="6016573">(</span><span class="ident" id="6016574"><a href="/gostd/go/parser/parser.go.html#6016142">p</a></span><span class="op" id="6016575">.</span><span class="ident" id="6016576"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span><span class="op" id="6016579">,</span>&nbsp;<span class="ident" id="6016581"><a href="/gostd/go/parser/parser.go.html#6016253">f</a></span><span class="op" id="6016582">)</span><br>
<span class="lineno"></span><span class="op" id="6016584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6016587">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno">2390</span><span class="comment" id="6016667">//&nbsp;Source&nbsp;files</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6016684">func</span>&nbsp;<span class="op" id="6016689">(</span><span class="ident" id="6016690">p</span>&nbsp;<span class="op" id="6016692">*</span><span class="ident" id="6016693"><a href="/gostd/go/parser/parser.go.html#5956882">parser</a></span><span class="op" id="6016699">)</span>&nbsp;<span class="ident" id="6016701">parseFile</span><span class="op" id="6016710">(</span><span class="op" id="6016711">)</span>&nbsp;<span class="op" id="6016713">*</span><span class="ident" id="6016714"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6016717">.</span><span class="ident" id="6016718"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span>&nbsp;<span class="op" id="6016723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016726">if</span>&nbsp;<span class="ident" id="6016729"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6016730">.</span><span class="ident" id="6016731"><a href="/gostd/go/parser/parser.go.html#5957024">trace</a></span>&nbsp;<span class="op" id="6016737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016741">defer</span>&nbsp;<span class="ident" id="6016747"><a href="/gostd/go/parser/parser.go.html#5963161">un</a></span><span class="op" id="6016749">(</span><span class="ident" id="6016750"><a href="/gostd/go/parser/parser.go.html#5963024">trace</a></span><span class="op" id="6016755">(</span><span class="ident" id="6016756"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6016757">,</span>&nbsp;<span class="string" id="6016759">&#34;File&#34;</span><span class="op" id="6016765">)</span><span class="op" id="6016766">)</span><br>
<span class="lineno">2395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6016773">//&nbsp;Don&#39;t&nbsp;bother&nbsp;parsing&nbsp;the&nbsp;rest&nbsp;if&nbsp;we&nbsp;had&nbsp;errors&nbsp;scanning&nbsp;the&nbsp;first&nbsp;token.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6016850">//&nbsp;Likely&nbsp;not&nbsp;a&nbsp;Go&nbsp;source&nbsp;file&nbsp;at&nbsp;all.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016890">if</span>&nbsp;<span class="ident" id="6016893"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6016894">.</span><span class="ident" id="6016895"><a href="/gostd/go/parser/parser.go.html#5956920">errors</a></span><span class="op" id="6016901">.</span><span class="ident" id="6016902"><a href="/gostd/go/scanner/errors.go.html#3895915">Len</a></span><span class="op" id="6016905">(</span><span class="op" id="6016906">)</span>&nbsp;<span class="op" id="6016908">!=</span>&nbsp;<span class="num" id="6016911">0</span>&nbsp;<span class="op" id="6016913">{</span><br>
<span class="lineno">2400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016917">return</span>&nbsp;<span class="builtintype" id="6016924">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6016933">//&nbsp;package&nbsp;clause</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016952">doc</span>&nbsp;<span class="op" id="6016956">:=</span>&nbsp;<span class="ident" id="6016959"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6016960">.</span><span class="ident" id="6016961"><a href="/gostd/go/parser/parser.go.html#5957162">leadComment</a></span><br>
<span class="lineno">2405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016974">pos</span>&nbsp;<span class="op" id="6016978">:=</span>&nbsp;<span class="ident" id="6016981"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6016982">.</span><span class="ident" id="6016983"><a href="/gostd/go/parser/parser.go.html#5967504">expect</a></span><span class="op" id="6016989">(</span><span class="ident" id="6016990"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6016995">.</span><span class="ident" id="6016996"><a href="/gostd/go/token/token.go.html#3890873">PACKAGE</a></span><span class="op" id="6017003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017006">//&nbsp;Go&nbsp;spec:&nbsp;The&nbsp;package&nbsp;clause&nbsp;is&nbsp;not&nbsp;a&nbsp;declaration;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017060">//&nbsp;the&nbsp;package&nbsp;name&nbsp;does&nbsp;not&nbsp;appear&nbsp;in&nbsp;any&nbsp;scope.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017111">ident</span>&nbsp;<span class="op" id="6017117">:=</span>&nbsp;<span class="ident" id="6017120"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017121">.</span><span class="ident" id="6017122"><a href="/gostd/go/parser/parser.go.html#5971128">parseIdent</a></span><span class="op" id="6017132">(</span><span class="op" id="6017133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017136">if</span>&nbsp;<span class="ident" id="6017139"><a href="/gostd/go/parser/parser.go.html#6017111">ident</a></span><span class="op" id="6017144">.</span><span class="ident" id="6017145"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span>&nbsp;<span class="op" id="6017150">==</span>&nbsp;<span class="string" id="6017153">&#34;_&#34;</span>&nbsp;<span class="op" id="6017157">&amp;&amp;</span>&nbsp;<span class="ident" id="6017160"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017161">.</span><span class="ident" id="6017162"><a href="/gostd/go/parser/parser.go.html#5956995">mode</a></span><span class="op" id="6017166">&amp;</span><span class="ident" id="6017167"><a href="/gostd/go/parser/interface.go.html#5951903">DeclarationErrors</a></span>&nbsp;<span class="op" id="6017185">!=</span>&nbsp;<span class="num" id="6017188">0</span>&nbsp;<span class="op" id="6017190">{</span><br>
<span class="lineno">2410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017194"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017195">.</span><span class="builtintype" id="6017196"><a href="/gostd/go/parser/parser.go.html#5966632">error</a></span><span class="op" id="6017201">(</span><span class="ident" id="6017202"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017203">.</span><span class="ident" id="6017204"><a href="/gostd/go/parser/parser.go.html#5957282">pos</a></span><span class="op" id="6017207">,</span>&nbsp;<span class="string" id="6017209">&#34;invalid&nbsp;package&nbsp;name&nbsp;_&#34;</span><span class="op" id="6017233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6017236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017239"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017240">.</span><span class="ident" id="6017241"><a href="/gostd/go/parser/parser.go.html#5968049">expectSemi</a></span><span class="op" id="6017251">(</span><span class="op" id="6017252">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017256">//&nbsp;Don&#39;t&nbsp;bother&nbsp;parsing&nbsp;the&nbsp;rest&nbsp;if&nbsp;we&nbsp;had&nbsp;errors&nbsp;parsing&nbsp;the&nbsp;package&nbsp;clause.</span><br>
<span class="lineno">2415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017335">//&nbsp;Likely&nbsp;not&nbsp;a&nbsp;Go&nbsp;source&nbsp;file&nbsp;at&nbsp;all.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017375">if</span>&nbsp;<span class="ident" id="6017378"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017379">.</span><span class="ident" id="6017380"><a href="/gostd/go/parser/parser.go.html#5956920">errors</a></span><span class="op" id="6017386">.</span><span class="ident" id="6017387"><a href="/gostd/go/scanner/errors.go.html#3895915">Len</a></span><span class="op" id="6017390">(</span><span class="op" id="6017391">)</span>&nbsp;<span class="op" id="6017393">!=</span>&nbsp;<span class="num" id="6017396">0</span>&nbsp;<span class="op" id="6017398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017402">return</span>&nbsp;<span class="builtintype" id="6017409">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6017414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">2420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017418"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017419">.</span><span class="ident" id="6017420"><a href="/gostd/go/parser/parser.go.html#5958857">openScope</a></span><span class="op" id="6017429">(</span><span class="op" id="6017430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017433"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017434">.</span><span class="ident" id="6017435"><a href="/gostd/go/parser/parser.go.html#5957907">pkgScope</a></span>&nbsp;<span class="op" id="6017444">=</span>&nbsp;<span class="ident" id="6017446"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017447">.</span><span class="ident" id="6017448"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017458">var</span>&nbsp;<span class="ident" id="6017462">decls</span>&nbsp;<span class="op" id="6017468">[</span><span class="op" id="6017469">]</span><span class="ident" id="6017470"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6017473">.</span><span class="ident" id="6017474"><a href="/gostd/go/ast/ast.go.html#3795432">Decl</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017480">if</span>&nbsp;<span class="ident" id="6017483"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017484">.</span><span class="ident" id="6017485"><a href="/gostd/go/parser/parser.go.html#5956995">mode</a></span><span class="op" id="6017489">&amp;</span><span class="ident" id="6017490"><a href="/gostd/go/parser/interface.go.html#5951555">PackageClauseOnly</a></span>&nbsp;<span class="op" id="6017508">==</span>&nbsp;<span class="num" id="6017511">0</span>&nbsp;<span class="op" id="6017513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017517">//&nbsp;import&nbsp;decls</span><br>
<span class="lineno">2425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017535">for</span>&nbsp;<span class="ident" id="6017539"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017540">.</span><span class="ident" id="6017541"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6017545">==</span>&nbsp;<span class="ident" id="6017548"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6017553">.</span><span class="ident" id="6017554"><a href="/gostd/go/token/token.go.html#3890848">IMPORT</a></span>&nbsp;<span class="op" id="6017561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017566"><a href="/gostd/go/parser/parser.go.html#6017462">decls</a></span>&nbsp;<span class="op" id="6017572">=</span>&nbsp;<span class="builtinfunc" id="6017574">append</span><span class="op" id="6017580">(</span><span class="ident" id="6017581"><a href="/gostd/go/parser/parser.go.html#6017462">decls</a></span><span class="op" id="6017586">,</span>&nbsp;<span class="ident" id="6017588"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017589">.</span><span class="ident" id="6017590"><a href="/gostd/go/parser/parser.go.html#6014400">parseGenDecl</a></span><span class="op" id="6017602">(</span><span class="ident" id="6017603"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6017608">.</span><span class="ident" id="6017609"><a href="/gostd/go/token/token.go.html#3890848">IMPORT</a></span><span class="op" id="6017615">,</span>&nbsp;<span class="ident" id="6017617"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017618">.</span><span class="ident" id="6017619"><a href="/gostd/go/parser/parser.go.html#6011976">parseImportSpec</a></span><span class="op" id="6017634">)</span><span class="op" id="6017635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6017639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017644">if</span>&nbsp;<span class="ident" id="6017647"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017648">.</span><span class="ident" id="6017649"><a href="/gostd/go/parser/parser.go.html#5956995">mode</a></span><span class="op" id="6017653">&amp;</span><span class="ident" id="6017654"><a href="/gostd/go/parser/interface.go.html#5951640">ImportsOnly</a></span>&nbsp;<span class="op" id="6017666">==</span>&nbsp;<span class="num" id="6017669">0</span>&nbsp;<span class="op" id="6017671">{</span><br>
<span class="lineno">2430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017676">//&nbsp;rest&nbsp;of&nbsp;package&nbsp;body</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017703">for</span>&nbsp;<span class="ident" id="6017707"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017708">.</span><span class="ident" id="6017709"><a href="/gostd/go/parser/parser.go.html#5957317">tok</a></span>&nbsp;<span class="op" id="6017713">!=</span>&nbsp;<span class="ident" id="6017716"><a href="/gostd/go/parser/parser.go.html#5956771">token</a></span><span class="op" id="6017721">.</span><span class="ident" id="6017722"><a href="/gostd/go/token/token.go.html#3889706">EOF</a></span>&nbsp;<span class="op" id="6017726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017732"><a href="/gostd/go/parser/parser.go.html#6017462">decls</a></span>&nbsp;<span class="op" id="6017738">=</span>&nbsp;<span class="builtinfunc" id="6017740">append</span><span class="op" id="6017746">(</span><span class="ident" id="6017747"><a href="/gostd/go/parser/parser.go.html#6017462">decls</a></span><span class="op" id="6017752">,</span>&nbsp;<span class="ident" id="6017754"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017755">.</span><span class="ident" id="6017756"><a href="/gostd/go/parser/parser.go.html#6016153">parseDecl</a></span><span class="op" id="6017765">(</span><span class="ident" id="6017766"><a href="/gostd/go/parser/parser.go.html#5969927">syncDecl</a></span><span class="op" id="6017774">)</span><span class="op" id="6017775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6017780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6017784">}</span><br>
<span class="lineno">2435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6017787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017790"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017791">.</span><span class="ident" id="6017792"><a href="/gostd/go/parser/parser.go.html#5958930">closeScope</a></span><span class="op" id="6017802">(</span><span class="op" id="6017803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017806"><a href="/gostd/go/parser/parser.go.html#5968558">assert</a></span><span class="op" id="6017812">(</span><span class="ident" id="6017813"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017814">.</span><span class="ident" id="6017815"><a href="/gostd/go/parser/parser.go.html#5957962">topScope</a></span>&nbsp;<span class="op" id="6017824">==</span>&nbsp;<span class="builtintype" id="6017827">nil</span><span class="op" id="6017830">,</span>&nbsp;<span class="string" id="6017832">&#34;unbalanced&nbsp;scopes&#34;</span><span class="op" id="6017851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017854"><a href="/gostd/go/parser/parser.go.html#5968558">assert</a></span><span class="op" id="6017860">(</span><span class="ident" id="6017861"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017862">.</span><span class="ident" id="6017863"><a href="/gostd/go/parser/parser.go.html#5958192">labelScope</a></span>&nbsp;<span class="op" id="6017874">==</span>&nbsp;<span class="builtintype" id="6017877">nil</span><span class="op" id="6017880">,</span>&nbsp;<span class="string" id="6017882">&#34;unbalanced&nbsp;label&nbsp;scopes&#34;</span><span class="op" id="6017907">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">2440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017911">//&nbsp;resolve&nbsp;global&nbsp;identifiers&nbsp;within&nbsp;the&nbsp;same&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017963">i</span>&nbsp;<span class="op" id="6017965">:=</span>&nbsp;<span class="num" id="6017968">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017971">for</span>&nbsp;<span class="ident" id="6017975">_</span><span class="op" id="6017976">,</span>&nbsp;<span class="ident" id="6017978">ident</span>&nbsp;<span class="op" id="6017984">:=</span>&nbsp;<span class="keyword" id="6017987">range</span>&nbsp;<span class="ident" id="6017993"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6017994">.</span><span class="ident" id="6017995"><a href="/gostd/go/parser/parser.go.html#5958027">unresolved</a></span>&nbsp;<span class="op" id="6018006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6018010">//&nbsp;i&nbsp;&lt;=&nbsp;index&nbsp;for&nbsp;current&nbsp;ident</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018044"><a href="/gostd/go/parser/parser.go.html#5968558">assert</a></span><span class="op" id="6018050">(</span><span class="ident" id="6018051"><a href="/gostd/go/parser/parser.go.html#6017978">ident</a></span><span class="op" id="6018056">.</span><span class="ident" id="6018057"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="6018061">==</span>&nbsp;<span class="ident" id="6018064"><a href="/gostd/go/parser/parser.go.html#5961455">unresolved</a></span><span class="op" id="6018074">,</span>&nbsp;<span class="string" id="6018076">&#34;object&nbsp;already&nbsp;resolved&#34;</span><span class="op" id="6018101">)</span><br>
<span class="lineno">2445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018105"><a href="/gostd/go/parser/parser.go.html#6017978">ident</a></span><span class="op" id="6018110">.</span><span class="ident" id="6018111"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="6018115">=</span>&nbsp;<span class="ident" id="6018117"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6018118">.</span><span class="ident" id="6018119"><a href="/gostd/go/parser/parser.go.html#5957907">pkgScope</a></span><span class="op" id="6018127">.</span><span class="ident" id="6018128"><a href="/gostd/go/ast/scope.go.html#3863835">Lookup</a></span><span class="op" id="6018134">(</span><span class="ident" id="6018135"><a href="/gostd/go/parser/parser.go.html#6017978">ident</a></span><span class="op" id="6018140">.</span><span class="ident" id="6018141"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="6018145">)</span>&nbsp;<span class="comment" id="6018147">//&nbsp;also&nbsp;removes&nbsp;unresolved&nbsp;sentinel</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018185">if</span>&nbsp;<span class="ident" id="6018188"><a href="/gostd/go/parser/parser.go.html#6017978">ident</a></span><span class="op" id="6018193">.</span><span class="ident" id="6018194"><a href="/gostd/go/ast/ast.go.html#3800338">Obj</a></span>&nbsp;<span class="op" id="6018198">==</span>&nbsp;<span class="builtintype" id="6018201">nil</span>&nbsp;<span class="op" id="6018205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018210"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6018211">.</span><span class="ident" id="6018212"><a href="/gostd/go/parser/parser.go.html#5958027">unresolved</a></span><span class="op" id="6018222">[</span><span class="ident" id="6018223"><a href="/gostd/go/parser/parser.go.html#6017963">i</a></span><span class="op" id="6018224">]</span>&nbsp;<span class="op" id="6018226">=</span>&nbsp;<span class="ident" id="6018228"><a href="/gostd/go/parser/parser.go.html#6017978">ident</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018237"><a href="/gostd/go/parser/parser.go.html#6017963">i</a></span><span class="op" id="6018238">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018243">}</span><br>
<span class="lineno">2450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6018250">return</span>&nbsp;<span class="op" id="6018257">&amp;</span><span class="ident" id="6018258"><a href="/gostd/go/parser/parser.go.html#5956747">ast</a></span><span class="op" id="6018261">.</span><span class="ident" id="6018262"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span><span class="op" id="6018266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018270"><a href="/gostd/go/ast/ast.go.html#3823884">Doc</a></span><span class="op" id="6018273">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018282"><a href="/gostd/go/parser/parser.go.html#6016952">doc</a></span><span class="op" id="6018285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018289"><a href="/gostd/go/ast/ast.go.html#3823948">Package</a></span><span class="op" id="6018296">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018301"><a href="/gostd/go/parser/parser.go.html#6016974">pos</a></span><span class="op" id="6018304">,</span><br>
<span class="lineno">2455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018308"><a href="/gostd/go/ast/ast.go.html#3824009">Name</a></span><span class="op" id="6018312">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018320"><a href="/gostd/go/parser/parser.go.html#6017111">ident</a></span><span class="op" id="6018325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018329"><a href="/gostd/go/ast/ast.go.html#3824053">Decls</a></span><span class="op" id="6018334">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018341"><a href="/gostd/go/parser/parser.go.html#6017462">decls</a></span><span class="op" id="6018346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018350"><a href="/gostd/go/ast/ast.go.html#3824115">Scope</a></span><span class="op" id="6018355">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018362"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6018363">.</span><span class="ident" id="6018364"><a href="/gostd/go/parser/parser.go.html#5957907">pkgScope</a></span><span class="op" id="6018372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018376"><a href="/gostd/go/ast/ast.go.html#3824177">Imports</a></span><span class="op" id="6018383">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018388"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6018389">.</span><span class="ident" id="6018390"><a href="/gostd/go/parser/parser.go.html#5958083">imports</a></span><span class="op" id="6018397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018401"><a href="/gostd/go/ast/ast.go.html#3824229">Unresolved</a></span><span class="op" id="6018411">:</span>&nbsp;<span class="ident" id="6018413"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6018414">.</span><span class="ident" id="6018415"><a href="/gostd/go/parser/parser.go.html#5958027">unresolved</a></span><span class="op" id="6018425">[</span><span class="num" id="6018426">0</span><span class="op" id="6018427">:</span><span class="ident" id="6018428"><a href="/gostd/go/parser/parser.go.html#6017963">i</a></span><span class="op" id="6018429">]</span><span class="op" id="6018430">,</span><br>
<span class="lineno">2460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6018434"><a href="/gostd/go/ast/ast.go.html#3824296">Comments</a></span><span class="op" id="6018442">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6018446"><a href="/gostd/go/parser/parser.go.html#6016690">p</a></span><span class="op" id="6018447">.</span><span class="ident" id="6018448"><a href="/gostd/go/parser/parser.go.html#5957129">comments</a></span><span class="op" id="6018456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6018459">}</span><br>
<span class="lineno"></span><span class="op" id="6018461">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
