<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7975809">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7975865">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7975919">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7975970">package</span>&nbsp;<span class="ident" id="7975978">elliptic</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7975988">import</span>&nbsp;<span class="op" id="7975995">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7975998">&#34;math/big&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7976010">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7976020">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7976023">var</span>&nbsp;<span class="ident" id="7976027">toFromBigTests</span>&nbsp;<span class="op" id="7976042">=</span>&nbsp;<span class="op" id="7976044">[</span><span class="op" id="7976045">]</span><span class="builtintype" id="7976046">string</span><span class="op" id="7976052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7976055">&#34;0&#34;</span><span class="op" id="7976058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7976061">&#34;1&#34;</span><span class="op" id="7976064">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7976067">&#34;23&#34;</span><span class="op" id="7976071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7976074">&#34;b70e0cb46bb4bf7f321390b94a03c1d356c01122343280d6105c1d21&#34;</span><span class="op" id="7976132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7976135">&#34;706a46d476dcb76798e6046d89474788d164c18032d268fd10704fa6&#34;</span><span class="op" id="7976193">,</span><br>
<span class="lineno"></span><span class="op" id="7976195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="keyword" id="7976198">func</span>&nbsp;<span class="ident" id="7976203">p224AlternativeToBig</span><span class="op" id="7976223">(</span><span class="ident" id="7976224">in</span>&nbsp;<span class="op" id="7976227">*</span><span class="ident" id="7976228">p224FieldElement</span><span class="op" id="7976244">)</span>&nbsp;<span class="op" id="7976246">*</span><span class="ident" id="7976247">big</span><span class="op" id="7976250">.</span><span class="ident" id="7976251">Int</span>&nbsp;<span class="op" id="7976255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976258">ret</span>&nbsp;<span class="op" id="7976262">:=</span>&nbsp;<span class="builtinfunc" id="7976265">new</span><span class="op" id="7976268">(</span><span class="ident" id="7976269">big</span><span class="op" id="7976272">.</span><span class="ident" id="7976273">Int</span><span class="op" id="7976276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976279">tmp</span>&nbsp;<span class="op" id="7976283">:=</span>&nbsp;<span class="builtinfunc" id="7976286">new</span><span class="op" id="7976289">(</span><span class="ident" id="7976290">big</span><span class="op" id="7976293">.</span><span class="ident" id="7976294">Int</span><span class="op" id="7976297">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976301">for</span>&nbsp;<span class="ident" id="7976305">i</span>&nbsp;<span class="op" id="7976307">:=</span>&nbsp;<span class="builtintype" id="7976310">uint</span><span class="op" id="7976314">(</span><span class="num" id="7976315">0</span><span class="op" id="7976316">)</span><span class="op" id="7976317">;</span>&nbsp;<span class="ident" id="7976319">i</span>&nbsp;<span class="op" id="7976321">&lt;</span>&nbsp;<span class="num" id="7976323">8</span><span class="op" id="7976324">;</span>&nbsp;<span class="ident" id="7976326">i</span><span class="op" id="7976327">++</span>&nbsp;<span class="op" id="7976330">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976334">tmp</span><span class="op" id="7976337">.</span><span class="ident" id="7976338">SetInt64</span><span class="op" id="7976346">(</span><span class="ident" id="7976347">int64</span><span class="op" id="7976352">(</span><span class="ident" id="7976353">in</span><span class="op" id="7976355">[</span><span class="ident" id="7976356">i</span><span class="op" id="7976357">]</span><span class="op" id="7976358">)</span><span class="op" id="7976359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976363">tmp</span><span class="op" id="7976366">.</span><span class="ident" id="7976367">Lsh</span><span class="op" id="7976370">(</span><span class="ident" id="7976371">tmp</span><span class="op" id="7976374">,</span>&nbsp;<span class="num" id="7976376">28</span><span class="op" id="7976378">*</span><span class="ident" id="7976379">i</span><span class="op" id="7976380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976384">ret</span><span class="op" id="7976387">.</span><span class="ident" id="7976388">Add</span><span class="op" id="7976391">(</span><span class="ident" id="7976392">ret</span><span class="op" id="7976395">,</span>&nbsp;<span class="ident" id="7976397">tmp</span><span class="op" id="7976400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976406">ret</span><span class="op" id="7976409">.</span><span class="ident" id="7976410">Mod</span><span class="op" id="7976413">(</span><span class="ident" id="7976414">ret</span><span class="op" id="7976417">,</span>&nbsp;<span class="ident" id="7976419">p224</span><span class="op" id="7976423">.</span><span class="ident" id="7976424">P</span><span class="op" id="7976425">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976428">return</span>&nbsp;<span class="ident" id="7976435">ret</span><br>
<span class="lineno"></span><span class="op" id="7976439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7976442">func</span>&nbsp;<span class="ident" id="7976447">TestToFromBig</span><span class="op" id="7976460">(</span><span class="ident" id="7976461">t</span>&nbsp;<span class="op" id="7976463">*</span><span class="ident" id="7976464">testing</span><span class="op" id="7976471">.</span><span class="ident" id="7976472">T</span><span class="op" id="7976473">)</span>&nbsp;<span class="op" id="7976475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976478">for</span>&nbsp;<span class="ident" id="7976482">i</span><span class="op" id="7976483">,</span>&nbsp;<span class="ident" id="7976485">test</span>&nbsp;<span class="op" id="7976490">:=</span>&nbsp;<span class="keyword" id="7976493">range</span>&nbsp;<span class="ident" id="7976499">toFromBigTests</span>&nbsp;<span class="op" id="7976514">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976518">n</span><span class="op" id="7976519">,</span>&nbsp;<span class="ident" id="7976521">_</span>&nbsp;<span class="op" id="7976523">:=</span>&nbsp;<span class="builtinfunc" id="7976526">new</span><span class="op" id="7976529">(</span><span class="ident" id="7976530">big</span><span class="op" id="7976533">.</span><span class="ident" id="7976534">Int</span><span class="op" id="7976537">)</span><span class="op" id="7976538">.</span><span class="ident" id="7976539">SetString</span><span class="op" id="7976548">(</span><span class="ident" id="7976549">test</span><span class="op" id="7976553">,</span>&nbsp;<span class="num" id="7976555">16</span><span class="op" id="7976557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976561">var</span>&nbsp;<span class="ident" id="7976565">x</span>&nbsp;<span class="ident" id="7976567">p224FieldElement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976586">p224FromBig</span><span class="op" id="7976597">(</span><span class="op" id="7976598">&amp;</span><span class="ident" id="7976599">x</span><span class="op" id="7976600">,</span>&nbsp;<span class="ident" id="7976602">n</span><span class="op" id="7976603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976607">m</span>&nbsp;<span class="op" id="7976609">:=</span>&nbsp;<span class="ident" id="7976612">p224ToBig</span><span class="op" id="7976621">(</span><span class="op" id="7976622">&amp;</span><span class="ident" id="7976623">x</span><span class="op" id="7976624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976628">if</span>&nbsp;<span class="ident" id="7976631">n</span><span class="op" id="7976632">.</span><span class="ident" id="7976633">Cmp</span><span class="op" id="7976636">(</span><span class="ident" id="7976637">m</span><span class="op" id="7976638">)</span>&nbsp;<span class="op" id="7976640">!=</span>&nbsp;<span class="num" id="7976643">0</span>&nbsp;<span class="op" id="7976645">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976650">t</span><span class="op" id="7976651">.</span><span class="ident" id="7976652">Errorf</span><span class="op" id="7976658">(</span><span class="string" id="7976659">&#34;#%d:&nbsp;%x&nbsp;!=&nbsp;%x&#34;</span><span class="op" id="7976674">,</span>&nbsp;<span class="ident" id="7976676">i</span><span class="op" id="7976677">,</span>&nbsp;<span class="ident" id="7976679">n</span><span class="op" id="7976680">,</span>&nbsp;<span class="ident" id="7976682">m</span><span class="op" id="7976683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976691">q</span>&nbsp;<span class="op" id="7976693">:=</span>&nbsp;<span class="ident" id="7976696">p224AlternativeToBig</span><span class="op" id="7976716">(</span><span class="op" id="7976717">&amp;</span><span class="ident" id="7976718">x</span><span class="op" id="7976719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7976723">if</span>&nbsp;<span class="ident" id="7976726">n</span><span class="op" id="7976727">.</span><span class="ident" id="7976728">Cmp</span><span class="op" id="7976731">(</span><span class="ident" id="7976732">q</span><span class="op" id="7976733">)</span>&nbsp;<span class="op" id="7976735">!=</span>&nbsp;<span class="num" id="7976738">0</span>&nbsp;<span class="op" id="7976740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7976745">t</span><span class="op" id="7976746">.</span><span class="ident" id="7976747">Errorf</span><span class="op" id="7976753">(</span><span class="string" id="7976754">&#34;#%d:&nbsp;%x&nbsp;!=&nbsp;%x&nbsp;(alternative)&#34;</span><span class="op" id="7976783">,</span>&nbsp;<span class="ident" id="7976785">i</span><span class="op" id="7976786">,</span>&nbsp;<span class="ident" id="7976788">n</span><span class="op" id="7976789">,</span>&nbsp;<span class="ident" id="7976791">m</span><span class="op" id="7976792">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7976799">}</span><br>
<span class="lineno"></span><span class="op" id="7976801">}</span>
</div>
</body>
</html>
