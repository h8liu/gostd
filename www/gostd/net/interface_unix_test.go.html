<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html" class="current">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6673166">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6673222">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6673276">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6673327">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6673384">package</span>&nbsp;<span class="ident" id="6673392">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6673397">import</span>&nbsp;<span class="op" id="6673404">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6673407">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6673413">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6673424">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6673435">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6673446">&#34;time&#34;</span><br>
<span class="lineno">15</span><span class="op" id="6673453">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6673456">type</span>&nbsp;<span class="ident" id="6673461">testInterface</span>&nbsp;<span class="keyword" id="6673475">struct</span>&nbsp;<span class="op" id="6673482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6673485">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6673498">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6673506">local</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6673519">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6673527">remote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6673540">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6673548">setupCmds</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673561">[</span><span class="op" id="6673562">]</span><span class="op" id="6673563">*</span><span class="ident" id="6673564">exec</span><span class="op" id="6673568">.</span><span class="ident" id="6673569">Cmd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6673574">teardownCmds</span>&nbsp;<span class="op" id="6673587">[</span><span class="op" id="6673588">]</span><span class="op" id="6673589">*</span><span class="ident" id="6673590">exec</span><span class="op" id="6673594">.</span><span class="ident" id="6673595">Cmd</span><br>
<span class="lineno"></span><span class="op" id="6673599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6673602">func</span>&nbsp;<span class="op" id="6673607">(</span><span class="ident" id="6673608">ti</span>&nbsp;<span class="op" id="6673611">*</span><span class="ident" id="6673612">testInterface</span><span class="op" id="6673625">)</span>&nbsp;<span class="ident" id="6673627">setup</span><span class="op" id="6673632">(</span><span class="op" id="6673633">)</span>&nbsp;<span class="builtintype" id="6673635">error</span>&nbsp;<span class="op" id="6673641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673644">for</span>&nbsp;<span class="ident" id="6673648">_</span><span class="op" id="6673649">,</span>&nbsp;<span class="ident" id="6673651">cmd</span>&nbsp;<span class="op" id="6673655">:=</span>&nbsp;<span class="keyword" id="6673658">range</span>&nbsp;<span class="ident" id="6673664">ti</span><span class="op" id="6673666">.</span><span class="ident" id="6673667">setupCmds</span>&nbsp;<span class="op" id="6673677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673681">if</span>&nbsp;<span class="ident" id="6673684">err</span>&nbsp;<span class="op" id="6673688">:=</span>&nbsp;<span class="ident" id="6673691">cmd</span><span class="op" id="6673694">.</span><span class="ident" id="6673695">Run</span><span class="op" id="6673698">(</span><span class="op" id="6673699">)</span><span class="op" id="6673700">;</span>&nbsp;<span class="ident" id="6673702">err</span>&nbsp;<span class="op" id="6673706">!=</span>&nbsp;<span class="builtintype" id="6673709">nil</span>&nbsp;<span class="op" id="6673713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673718">return</span>&nbsp;<span class="ident" id="6673725">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673731">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673737">return</span>&nbsp;<span class="builtintype" id="6673744">nil</span><br>
<span class="lineno"></span><span class="op" id="6673748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6673751">func</span>&nbsp;<span class="op" id="6673756">(</span><span class="ident" id="6673757">ti</span>&nbsp;<span class="op" id="6673760">*</span><span class="ident" id="6673761">testInterface</span><span class="op" id="6673774">)</span>&nbsp;<span class="ident" id="6673776">teardown</span><span class="op" id="6673784">(</span><span class="op" id="6673785">)</span>&nbsp;<span class="builtintype" id="6673787">error</span>&nbsp;<span class="op" id="6673793">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673796">for</span>&nbsp;<span class="ident" id="6673800">_</span><span class="op" id="6673801">,</span>&nbsp;<span class="ident" id="6673803">cmd</span>&nbsp;<span class="op" id="6673807">:=</span>&nbsp;<span class="keyword" id="6673810">range</span>&nbsp;<span class="ident" id="6673816">ti</span><span class="op" id="6673818">.</span><span class="ident" id="6673819">teardownCmds</span>&nbsp;<span class="op" id="6673832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673836">if</span>&nbsp;<span class="ident" id="6673839">err</span>&nbsp;<span class="op" id="6673843">:=</span>&nbsp;<span class="ident" id="6673846">cmd</span><span class="op" id="6673849">.</span><span class="ident" id="6673850">Run</span><span class="op" id="6673853">(</span><span class="op" id="6673854">)</span><span class="op" id="6673855">;</span>&nbsp;<span class="ident" id="6673857">err</span>&nbsp;<span class="op" id="6673861">!=</span>&nbsp;<span class="builtintype" id="6673864">nil</span>&nbsp;<span class="op" id="6673868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673873">return</span>&nbsp;<span class="ident" id="6673880">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673889">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673892">return</span>&nbsp;<span class="builtintype" id="6673899">nil</span><br>
<span class="lineno"></span><span class="op" id="6673903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6673906">func</span>&nbsp;<span class="ident" id="6673911">TestPointToPointInterface</span><span class="op" id="6673936">(</span><span class="ident" id="6673937">t</span>&nbsp;<span class="op" id="6673939">*</span><span class="ident" id="6673940">testing</span><span class="op" id="6673947">.</span><span class="ident" id="6673948">T</span><span class="op" id="6673949">)</span>&nbsp;<span class="op" id="6673951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673954">if</span>&nbsp;<span class="ident" id="6673957">testing</span><span class="op" id="6673964">.</span><span class="ident" id="6673965">Short</span><span class="op" id="6673970">(</span><span class="op" id="6673971">)</span>&nbsp;<span class="op" id="6673973">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6673977">t</span><span class="op" id="6673978">.</span><span class="ident" id="6673979">Skip</span><span class="op" id="6673983">(</span><span class="string" id="6673984">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6674013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674019">switch</span>&nbsp;<span class="op" id="6674026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674029">case</span>&nbsp;<span class="ident" id="6674034">runtime</span><span class="op" id="6674041">.</span><span class="ident" id="6674042">GOOS</span>&nbsp;<span class="op" id="6674047">==</span>&nbsp;<span class="string" id="6674050">&#34;darwin&#34;</span><span class="op" id="6674058">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674062">t</span><span class="op" id="6674063">.</span><span class="ident" id="6674064">Skipf</span><span class="op" id="6674069">(</span><span class="string" id="6674070">&#34;skipping&nbsp;read&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="6674096">,</span>&nbsp;<span class="ident" id="6674098">runtime</span><span class="op" id="6674105">.</span><span class="ident" id="6674106">GOOS</span><span class="op" id="6674110">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674116">if</span>&nbsp;<span class="ident" id="6674119">os</span><span class="op" id="6674121">.</span><span class="ident" id="6674122">Getuid</span><span class="op" id="6674128">(</span><span class="op" id="6674129">)</span>&nbsp;<span class="op" id="6674131">!=</span>&nbsp;<span class="num" id="6674134">0</span>&nbsp;<span class="op" id="6674136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674140">t</span><span class="op" id="6674141">.</span><span class="ident" id="6674142">Skip</span><span class="op" id="6674146">(</span><span class="string" id="6674147">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="6674176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674183">local</span><span class="op" id="6674188">,</span>&nbsp;<span class="ident" id="6674190">remote</span>&nbsp;<span class="op" id="6674197">:=</span>&nbsp;<span class="string" id="6674200">&#34;169.254.0.1&#34;</span><span class="op" id="6674213">,</span>&nbsp;<span class="string" id="6674215">&#34;169.254.0.254&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674232">ip</span>&nbsp;<span class="op" id="6674235">:=</span>&nbsp;<span class="ident" id="6674238">ParseIP</span><span class="op" id="6674245">(</span><span class="ident" id="6674246">remote</span><span class="op" id="6674252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674255">for</span>&nbsp;<span class="ident" id="6674259">i</span>&nbsp;<span class="op" id="6674261">:=</span>&nbsp;<span class="num" id="6674264">0</span><span class="op" id="6674265">;</span>&nbsp;<span class="ident" id="6674267">i</span>&nbsp;<span class="op" id="6674269">&lt;</span>&nbsp;<span class="num" id="6674271">3</span><span class="op" id="6674272">;</span>&nbsp;<span class="ident" id="6674274">i</span><span class="op" id="6674275">++</span>&nbsp;<span class="op" id="6674278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674282">ti</span>&nbsp;<span class="op" id="6674285">:=</span>&nbsp;<span class="op" id="6674288">&amp;</span><span class="ident" id="6674289">testInterface</span><span class="op" id="6674302">{</span><span class="op" id="6674303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674307">if</span>&nbsp;<span class="ident" id="6674310">err</span>&nbsp;<span class="op" id="6674314">:=</span>&nbsp;<span class="ident" id="6674317">ti</span><span class="op" id="6674319">.</span><span class="ident" id="6674320">setPointToPoint</span><span class="op" id="6674335">(</span><span class="num" id="6674336">5963</span><span class="op" id="6674340">+</span><span class="ident" id="6674341">i</span><span class="op" id="6674342">,</span>&nbsp;<span class="ident" id="6674344">local</span><span class="op" id="6674349">,</span>&nbsp;<span class="ident" id="6674351">remote</span><span class="op" id="6674357">)</span><span class="op" id="6674358">;</span>&nbsp;<span class="ident" id="6674360">err</span>&nbsp;<span class="op" id="6674364">!=</span>&nbsp;<span class="builtintype" id="6674367">nil</span>&nbsp;<span class="op" id="6674371">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674376">t</span><span class="op" id="6674377">.</span><span class="ident" id="6674378">Skipf</span><span class="op" id="6674383">(</span><span class="string" id="6674384">&#34;test&nbsp;requries&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="6674420">,</span>&nbsp;<span class="ident" id="6674422">err</span><span class="op" id="6674425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674433">if</span>&nbsp;<span class="ident" id="6674436">err</span>&nbsp;<span class="op" id="6674440">:=</span>&nbsp;<span class="ident" id="6674443">ti</span><span class="op" id="6674445">.</span><span class="ident" id="6674446">setup</span><span class="op" id="6674451">(</span><span class="op" id="6674452">)</span><span class="op" id="6674453">;</span>&nbsp;<span class="ident" id="6674455">err</span>&nbsp;<span class="op" id="6674459">!=</span>&nbsp;<span class="builtintype" id="6674462">nil</span>&nbsp;<span class="op" id="6674466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674471">t</span><span class="op" id="6674472">.</span><span class="ident" id="6674473">Fatalf</span><span class="op" id="6674479">(</span><span class="string" id="6674480">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6674512">,</span>&nbsp;<span class="ident" id="6674514">err</span><span class="op" id="6674517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674521">}</span>&nbsp;<span class="keyword" id="6674523">else</span>&nbsp;<span class="op" id="6674528">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674533">time</span><span class="op" id="6674537">.</span><span class="ident" id="6674538">Sleep</span><span class="op" id="6674543">(</span><span class="num" id="6674544">3</span>&nbsp;<span class="op" id="6674546">*</span>&nbsp;<span class="ident" id="6674548">time</span><span class="op" id="6674552">.</span><span class="ident" id="6674553">Millisecond</span><span class="op" id="6674564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674572">ift</span><span class="op" id="6674575">,</span>&nbsp;<span class="ident" id="6674577">err</span>&nbsp;<span class="op" id="6674581">:=</span>&nbsp;<span class="ident" id="6674584">Interfaces</span><span class="op" id="6674594">(</span><span class="op" id="6674595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674599">if</span>&nbsp;<span class="ident" id="6674602">err</span>&nbsp;<span class="op" id="6674606">!=</span>&nbsp;<span class="builtintype" id="6674609">nil</span>&nbsp;<span class="op" id="6674613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674618">ti</span><span class="op" id="6674620">.</span><span class="ident" id="6674621">teardown</span><span class="op" id="6674629">(</span><span class="op" id="6674630">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674635">t</span><span class="op" id="6674636">.</span><span class="ident" id="6674637">Fatalf</span><span class="op" id="6674643">(</span><span class="string" id="6674644">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6674667">,</span>&nbsp;<span class="ident" id="6674669">err</span><span class="op" id="6674672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674680">for</span>&nbsp;<span class="ident" id="6674684">_</span><span class="op" id="6674685">,</span>&nbsp;<span class="ident" id="6674687">ifi</span>&nbsp;<span class="op" id="6674691">:=</span>&nbsp;<span class="keyword" id="6674694">range</span>&nbsp;<span class="ident" id="6674700">ift</span>&nbsp;<span class="op" id="6674704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674709">if</span>&nbsp;<span class="ident" id="6674712">ti</span><span class="op" id="6674714">.</span><span class="ident" id="6674715">name</span>&nbsp;<span class="op" id="6674720">==</span>&nbsp;<span class="ident" id="6674723">ifi</span><span class="op" id="6674726">.</span><span class="ident" id="6674727">Name</span>&nbsp;<span class="op" id="6674732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674738">ifat</span><span class="op" id="6674742">,</span>&nbsp;<span class="ident" id="6674744">err</span>&nbsp;<span class="op" id="6674748">:=</span>&nbsp;<span class="ident" id="6674751">ifi</span><span class="op" id="6674754">.</span><span class="ident" id="6674755">Addrs</span><span class="op" id="6674760">(</span><span class="op" id="6674761">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674767">if</span>&nbsp;<span class="ident" id="6674770">err</span>&nbsp;<span class="op" id="6674774">!=</span>&nbsp;<span class="builtintype" id="6674777">nil</span>&nbsp;<span class="op" id="6674781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674788">ti</span><span class="op" id="6674790">.</span><span class="ident" id="6674791">teardown</span><span class="op" id="6674799">(</span><span class="op" id="6674800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674807">t</span><span class="op" id="6674808">.</span><span class="ident" id="6674809">Fatalf</span><span class="op" id="6674815">(</span><span class="string" id="6674816">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6674844">,</span>&nbsp;<span class="ident" id="6674846">err</span><span class="op" id="6674849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674861">for</span>&nbsp;<span class="ident" id="6674865">_</span><span class="op" id="6674866">,</span>&nbsp;<span class="ident" id="6674868">ifa</span>&nbsp;<span class="op" id="6674872">:=</span>&nbsp;<span class="keyword" id="6674875">range</span>&nbsp;<span class="ident" id="6674881">ifat</span>&nbsp;<span class="op" id="6674886">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6674893">if</span>&nbsp;<span class="ident" id="6674896">ip</span><span class="op" id="6674898">.</span><span class="ident" id="6674899">Equal</span><span class="op" id="6674904">(</span><span class="ident" id="6674905">ifa</span><span class="op" id="6674908">.</span><span class="op" id="6674909">(</span><span class="op" id="6674910">*</span><span class="ident" id="6674911">IPNet</span><span class="op" id="6674916">)</span><span class="op" id="6674917">.</span><span class="ident" id="6674918">IP</span><span class="op" id="6674920">)</span>&nbsp;<span class="op" id="6674922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674930">ti</span><span class="op" id="6674932">.</span><span class="ident" id="6674933">teardown</span><span class="op" id="6674941">(</span><span class="op" id="6674942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6674950">t</span><span class="op" id="6674951">.</span><span class="ident" id="6674952">Fatalf</span><span class="op" id="6674958">(</span><span class="string" id="6674959">&#34;got&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6674976">,</span>&nbsp;<span class="ident" id="6674978">ip</span><span class="op" id="6674980">,</span>&nbsp;<span class="ident" id="6674982">local</span><span class="op" id="6674987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6674994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675000">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675013">if</span>&nbsp;<span class="ident" id="6675016">err</span>&nbsp;<span class="op" id="6675020">:=</span>&nbsp;<span class="ident" id="6675023">ti</span><span class="op" id="6675025">.</span><span class="ident" id="6675026">teardown</span><span class="op" id="6675034">(</span><span class="op" id="6675035">)</span><span class="op" id="6675036">;</span>&nbsp;<span class="ident" id="6675038">err</span>&nbsp;<span class="op" id="6675042">!=</span>&nbsp;<span class="builtintype" id="6675045">nil</span>&nbsp;<span class="op" id="6675049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675054">t</span><span class="op" id="6675055">.</span><span class="ident" id="6675056">Fatalf</span><span class="op" id="6675062">(</span><span class="string" id="6675063">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6675098">,</span>&nbsp;<span class="ident" id="6675100">err</span><span class="op" id="6675103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675107">}</span>&nbsp;<span class="keyword" id="6675109">else</span>&nbsp;<span class="op" id="6675114">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675119">time</span><span class="op" id="6675123">.</span><span class="ident" id="6675124">Sleep</span><span class="op" id="6675129">(</span><span class="num" id="6675130">3</span>&nbsp;<span class="op" id="6675132">*</span>&nbsp;<span class="ident" id="6675134">time</span><span class="op" id="6675138">.</span><span class="ident" id="6675139">Millisecond</span><span class="op" id="6675150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675157">}</span><br>
<span class="lineno"></span><span class="op" id="6675159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6675162">func</span>&nbsp;<span class="ident" id="6675167">TestInterfaceArrivalAndDeparture</span><span class="op" id="6675199">(</span><span class="ident" id="6675200">t</span>&nbsp;<span class="op" id="6675202">*</span><span class="ident" id="6675203">testing</span><span class="op" id="6675210">.</span><span class="ident" id="6675211">T</span><span class="op" id="6675212">)</span>&nbsp;<span class="op" id="6675214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675217">if</span>&nbsp;<span class="ident" id="6675220">testing</span><span class="op" id="6675227">.</span><span class="ident" id="6675228">Short</span><span class="op" id="6675233">(</span><span class="op" id="6675234">)</span>&nbsp;<span class="op" id="6675236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675240">t</span><span class="op" id="6675241">.</span><span class="ident" id="6675242">Skip</span><span class="op" id="6675246">(</span><span class="string" id="6675247">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6675276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675282">if</span>&nbsp;<span class="ident" id="6675285">os</span><span class="op" id="6675287">.</span><span class="ident" id="6675288">Getuid</span><span class="op" id="6675294">(</span><span class="op" id="6675295">)</span>&nbsp;<span class="op" id="6675297">!=</span>&nbsp;<span class="num" id="6675300">0</span>&nbsp;<span class="op" id="6675302">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675306">t</span><span class="op" id="6675307">.</span><span class="ident" id="6675308">Skip</span><span class="op" id="6675312">(</span><span class="string" id="6675313">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="6675342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675349">for</span>&nbsp;<span class="ident" id="6675353">i</span>&nbsp;<span class="op" id="6675355">:=</span>&nbsp;<span class="num" id="6675358">0</span><span class="op" id="6675359">;</span>&nbsp;<span class="ident" id="6675361">i</span>&nbsp;<span class="op" id="6675363">&lt;</span>&nbsp;<span class="num" id="6675365">3</span><span class="op" id="6675366">;</span>&nbsp;<span class="ident" id="6675368">i</span><span class="op" id="6675369">++</span>&nbsp;<span class="op" id="6675372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675376">ift1</span><span class="op" id="6675380">,</span>&nbsp;<span class="ident" id="6675382">err</span>&nbsp;<span class="op" id="6675386">:=</span>&nbsp;<span class="ident" id="6675389">Interfaces</span><span class="op" id="6675399">(</span><span class="op" id="6675400">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675404">if</span>&nbsp;<span class="ident" id="6675407">err</span>&nbsp;<span class="op" id="6675411">!=</span>&nbsp;<span class="builtintype" id="6675414">nil</span>&nbsp;<span class="op" id="6675418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675423">t</span><span class="op" id="6675424">.</span><span class="ident" id="6675425">Fatalf</span><span class="op" id="6675431">(</span><span class="string" id="6675432">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6675455">,</span>&nbsp;<span class="ident" id="6675457">err</span><span class="op" id="6675460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675468">ti</span>&nbsp;<span class="op" id="6675471">:=</span>&nbsp;<span class="op" id="6675474">&amp;</span><span class="ident" id="6675475">testInterface</span><span class="op" id="6675488">{</span><span class="op" id="6675489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675493">if</span>&nbsp;<span class="ident" id="6675496">err</span>&nbsp;<span class="op" id="6675500">:=</span>&nbsp;<span class="ident" id="6675503">ti</span><span class="op" id="6675505">.</span><span class="ident" id="6675506">setBroadcast</span><span class="op" id="6675518">(</span><span class="num" id="6675519">5682</span>&nbsp;<span class="op" id="6675524">+</span>&nbsp;<span class="ident" id="6675526">i</span><span class="op" id="6675527">)</span><span class="op" id="6675528">;</span>&nbsp;<span class="ident" id="6675530">err</span>&nbsp;<span class="op" id="6675534">!=</span>&nbsp;<span class="builtintype" id="6675537">nil</span>&nbsp;<span class="op" id="6675541">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675546">t</span><span class="op" id="6675547">.</span><span class="ident" id="6675548">Skipf</span><span class="op" id="6675553">(</span><span class="string" id="6675554">&#34;test&nbsp;requires&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="6675590">,</span>&nbsp;<span class="ident" id="6675592">err</span><span class="op" id="6675595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675603">if</span>&nbsp;<span class="ident" id="6675606">err</span>&nbsp;<span class="op" id="6675610">:=</span>&nbsp;<span class="ident" id="6675613">ti</span><span class="op" id="6675615">.</span><span class="ident" id="6675616">setup</span><span class="op" id="6675621">(</span><span class="op" id="6675622">)</span><span class="op" id="6675623">;</span>&nbsp;<span class="ident" id="6675625">err</span>&nbsp;<span class="op" id="6675629">!=</span>&nbsp;<span class="builtintype" id="6675632">nil</span>&nbsp;<span class="op" id="6675636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675641">t</span><span class="op" id="6675642">.</span><span class="ident" id="6675643">Fatalf</span><span class="op" id="6675649">(</span><span class="string" id="6675650">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6675682">,</span>&nbsp;<span class="ident" id="6675684">err</span><span class="op" id="6675687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675691">}</span>&nbsp;<span class="keyword" id="6675693">else</span>&nbsp;<span class="op" id="6675698">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675703">time</span><span class="op" id="6675707">.</span><span class="ident" id="6675708">Sleep</span><span class="op" id="6675713">(</span><span class="num" id="6675714">3</span>&nbsp;<span class="op" id="6675716">*</span>&nbsp;<span class="ident" id="6675718">time</span><span class="op" id="6675722">.</span><span class="ident" id="6675723">Millisecond</span><span class="op" id="6675734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675742">ift2</span><span class="op" id="6675746">,</span>&nbsp;<span class="ident" id="6675748">err</span>&nbsp;<span class="op" id="6675752">:=</span>&nbsp;<span class="ident" id="6675755">Interfaces</span><span class="op" id="6675765">(</span><span class="op" id="6675766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675770">if</span>&nbsp;<span class="ident" id="6675773">err</span>&nbsp;<span class="op" id="6675777">!=</span>&nbsp;<span class="builtintype" id="6675780">nil</span>&nbsp;<span class="op" id="6675784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675789">ti</span><span class="op" id="6675791">.</span><span class="ident" id="6675792">teardown</span><span class="op" id="6675800">(</span><span class="op" id="6675801">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675806">t</span><span class="op" id="6675807">.</span><span class="ident" id="6675808">Fatalf</span><span class="op" id="6675814">(</span><span class="string" id="6675815">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6675838">,</span>&nbsp;<span class="ident" id="6675840">err</span><span class="op" id="6675843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675851">if</span>&nbsp;<span class="builtinfunc" id="6675854">len</span><span class="op" id="6675857">(</span><span class="ident" id="6675858">ift2</span><span class="op" id="6675862">)</span>&nbsp;<span class="op" id="6675864">&lt;=</span>&nbsp;<span class="builtinfunc" id="6675867">len</span><span class="op" id="6675870">(</span><span class="ident" id="6675871">ift1</span><span class="op" id="6675875">)</span>&nbsp;<span class="op" id="6675877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675882">for</span>&nbsp;<span class="ident" id="6675886">_</span><span class="op" id="6675887">,</span>&nbsp;<span class="ident" id="6675889">ifi</span>&nbsp;<span class="op" id="6675893">:=</span>&nbsp;<span class="keyword" id="6675896">range</span>&nbsp;<span class="ident" id="6675902">ift1</span>&nbsp;<span class="op" id="6675907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675913">t</span><span class="op" id="6675914">.</span><span class="ident" id="6675915">Logf</span><span class="op" id="6675919">(</span><span class="string" id="6675920">&#34;before:&nbsp;%v&#34;</span><span class="op" id="6675932">,</span>&nbsp;<span class="ident" id="6675934">ifi</span><span class="op" id="6675937">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6675942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6675947">for</span>&nbsp;<span class="ident" id="6675951">_</span><span class="op" id="6675952">,</span>&nbsp;<span class="ident" id="6675954">ifi</span>&nbsp;<span class="op" id="6675958">:=</span>&nbsp;<span class="keyword" id="6675961">range</span>&nbsp;<span class="ident" id="6675967">ift2</span>&nbsp;<span class="op" id="6675972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6675978">t</span><span class="op" id="6675979">.</span><span class="ident" id="6675980">Logf</span><span class="op" id="6675984">(</span><span class="string" id="6675985">&#34;after:&nbsp;%v&#34;</span><span class="op" id="6675996">,</span>&nbsp;<span class="ident" id="6675998">ifi</span><span class="op" id="6676001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676011">ti</span><span class="op" id="6676013">.</span><span class="ident" id="6676014">teardown</span><span class="op" id="6676022">(</span><span class="op" id="6676023">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676028">t</span><span class="op" id="6676029">.</span><span class="ident" id="6676030">Fatalf</span><span class="op" id="6676036">(</span><span class="string" id="6676037">&#34;got&nbsp;%v;&nbsp;want&nbsp;gt&nbsp;%v&#34;</span><span class="op" id="6676057">,</span>&nbsp;<span class="builtinfunc" id="6676059">len</span><span class="op" id="6676062">(</span><span class="ident" id="6676063">ift2</span><span class="op" id="6676067">)</span><span class="op" id="6676068">,</span>&nbsp;<span class="builtinfunc" id="6676070">len</span><span class="op" id="6676073">(</span><span class="ident" id="6676074">ift1</span><span class="op" id="6676078">)</span><span class="op" id="6676079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676087">if</span>&nbsp;<span class="ident" id="6676090">err</span>&nbsp;<span class="op" id="6676094">:=</span>&nbsp;<span class="ident" id="6676097">ti</span><span class="op" id="6676099">.</span><span class="ident" id="6676100">teardown</span><span class="op" id="6676108">(</span><span class="op" id="6676109">)</span><span class="op" id="6676110">;</span>&nbsp;<span class="ident" id="6676112">err</span>&nbsp;<span class="op" id="6676116">!=</span>&nbsp;<span class="builtintype" id="6676119">nil</span>&nbsp;<span class="op" id="6676123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676128">t</span><span class="op" id="6676129">.</span><span class="ident" id="6676130">Fatalf</span><span class="op" id="6676136">(</span><span class="string" id="6676137">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6676172">,</span>&nbsp;<span class="ident" id="6676174">err</span><span class="op" id="6676177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676181">}</span>&nbsp;<span class="keyword" id="6676183">else</span>&nbsp;<span class="op" id="6676188">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676193">time</span><span class="op" id="6676197">.</span><span class="ident" id="6676198">Sleep</span><span class="op" id="6676203">(</span><span class="num" id="6676204">3</span>&nbsp;<span class="op" id="6676206">*</span>&nbsp;<span class="ident" id="6676208">time</span><span class="op" id="6676212">.</span><span class="ident" id="6676213">Millisecond</span><span class="op" id="6676224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676232">ift3</span><span class="op" id="6676236">,</span>&nbsp;<span class="ident" id="6676238">err</span>&nbsp;<span class="op" id="6676242">:=</span>&nbsp;<span class="ident" id="6676245">Interfaces</span><span class="op" id="6676255">(</span><span class="op" id="6676256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676260">if</span>&nbsp;<span class="ident" id="6676263">err</span>&nbsp;<span class="op" id="6676267">!=</span>&nbsp;<span class="builtintype" id="6676270">nil</span>&nbsp;<span class="op" id="6676274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676279">t</span><span class="op" id="6676280">.</span><span class="ident" id="6676281">Fatalf</span><span class="op" id="6676287">(</span><span class="string" id="6676288">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6676311">,</span>&nbsp;<span class="ident" id="6676313">err</span><span class="op" id="6676316">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676324">if</span>&nbsp;<span class="builtinfunc" id="6676327">len</span><span class="op" id="6676330">(</span><span class="ident" id="6676331">ift3</span><span class="op" id="6676335">)</span>&nbsp;<span class="op" id="6676337">&gt;=</span>&nbsp;<span class="builtinfunc" id="6676340">len</span><span class="op" id="6676343">(</span><span class="ident" id="6676344">ift2</span><span class="op" id="6676348">)</span>&nbsp;<span class="op" id="6676350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676355">for</span>&nbsp;<span class="ident" id="6676359">_</span><span class="op" id="6676360">,</span>&nbsp;<span class="ident" id="6676362">ifi</span>&nbsp;<span class="op" id="6676366">:=</span>&nbsp;<span class="keyword" id="6676369">range</span>&nbsp;<span class="ident" id="6676375">ift2</span>&nbsp;<span class="op" id="6676380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676386">t</span><span class="op" id="6676387">.</span><span class="ident" id="6676388">Logf</span><span class="op" id="6676392">(</span><span class="string" id="6676393">&#34;before:&nbsp;%v&#34;</span><span class="op" id="6676405">,</span>&nbsp;<span class="ident" id="6676407">ifi</span><span class="op" id="6676410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676415">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6676420">for</span>&nbsp;<span class="ident" id="6676424">_</span><span class="op" id="6676425">,</span>&nbsp;<span class="ident" id="6676427">ifi</span>&nbsp;<span class="op" id="6676431">:=</span>&nbsp;<span class="keyword" id="6676434">range</span>&nbsp;<span class="ident" id="6676440">ift3</span>&nbsp;<span class="op" id="6676445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676451">t</span><span class="op" id="6676452">.</span><span class="ident" id="6676453">Logf</span><span class="op" id="6676457">(</span><span class="string" id="6676458">&#34;after:&nbsp;%v&#34;</span><span class="op" id="6676469">,</span>&nbsp;<span class="ident" id="6676471">ifi</span><span class="op" id="6676474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6676484">t</span><span class="op" id="6676485">.</span><span class="ident" id="6676486">Fatalf</span><span class="op" id="6676492">(</span><span class="string" id="6676493">&#34;got&nbsp;%v;&nbsp;want&nbsp;lt&nbsp;%v&#34;</span><span class="op" id="6676513">,</span>&nbsp;<span class="builtinfunc" id="6676515">len</span><span class="op" id="6676518">(</span><span class="ident" id="6676519">ift3</span><span class="op" id="6676523">)</span><span class="op" id="6676524">,</span>&nbsp;<span class="builtinfunc" id="6676526">len</span><span class="op" id="6676529">(</span><span class="ident" id="6676530">ift2</span><span class="op" id="6676534">)</span><span class="op" id="6676535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676539">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6676542">}</span><br>
<span class="lineno"></span><span class="op" id="6676544">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
