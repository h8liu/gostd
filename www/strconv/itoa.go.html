<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1622471">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1622526">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1622580">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1622631">package</span>&nbsp;<span class="ident" id="1622639">strconv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1622648">//&nbsp;FormatUint&nbsp;returns&nbsp;the&nbsp;string&nbsp;representation&nbsp;of&nbsp;i&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno"></span><span class="comment" id="1622720">//&nbsp;for&nbsp;2&nbsp;&lt;=&nbsp;base&nbsp;&lt;=&nbsp;36.&nbsp;The&nbsp;result&nbsp;uses&nbsp;the&nbsp;lower-case&nbsp;letters&nbsp;&#39;a&#39;&nbsp;to&nbsp;&#39;z&#39;</span><br>
<span class="lineno"></span><span class="comment" id="1622794">//&nbsp;for&nbsp;digit&nbsp;values&nbsp;&gt;=&nbsp;10.</span><br>
<span class="lineno">10</span><span class="keyword" id="1622821">func</span>&nbsp;<span class="ident" id="1622826">FormatUint</span><span class="op" id="1622836">(</span><span class="ident" id="1622837">i</span>&nbsp;<span class="ident" id="1622839">uint64</span><span class="op" id="1622845">,</span>&nbsp;<span class="ident" id="1622847">base</span>&nbsp;<span class="builtintype" id="1622852">int</span><span class="op" id="1622855">)</span>&nbsp;<span class="builtintype" id="1622857">string</span>&nbsp;<span class="op" id="1622864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1622867">_</span><span class="op" id="1622868">,</span>&nbsp;<span class="ident" id="1622870">s</span>&nbsp;<span class="op" id="1622872">:=</span>&nbsp;<span class="ident" id="1622875"><a href="/strconv/itoa.go.html#1624537">formatBits</a></span><span class="op" id="1622885">(</span><span class="ident" id="1622886">nil</span><span class="op" id="1622889">,</span>&nbsp;<span class="ident" id="1622891"><a href="/strconv/itoa.go.html#1622837">i</a></span><span class="op" id="1622892">,</span>&nbsp;<span class="ident" id="1622894"><a href="/strconv/itoa.go.html#1622847">base</a></span><span class="op" id="1622898">,</span>&nbsp;<span class="ident" id="1622900">false</span><span class="op" id="1622905">,</span>&nbsp;<span class="ident" id="1622907">false</span><span class="op" id="1622912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1622915">return</span>&nbsp;<span class="ident" id="1622922"><a href="/strconv/itoa.go.html#1622870">s</a></span><br>
<span class="lineno"></span><span class="op" id="1622924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="1622927">//&nbsp;FormatInt&nbsp;returns&nbsp;the&nbsp;string&nbsp;representation&nbsp;of&nbsp;i&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno"></span><span class="comment" id="1622998">//&nbsp;for&nbsp;2&nbsp;&lt;=&nbsp;base&nbsp;&lt;=&nbsp;36.&nbsp;The&nbsp;result&nbsp;uses&nbsp;the&nbsp;lower-case&nbsp;letters&nbsp;&#39;a&#39;&nbsp;to&nbsp;&#39;z&#39;</span><br>
<span class="lineno"></span><span class="comment" id="1623072">//&nbsp;for&nbsp;digit&nbsp;values&nbsp;&gt;=&nbsp;10.</span><br>
<span class="lineno"></span><span class="keyword" id="1623099">func</span>&nbsp;<span class="ident" id="1623104">FormatInt</span><span class="op" id="1623113">(</span><span class="ident" id="1623114">i</span>&nbsp;<span class="ident" id="1623116">int64</span><span class="op" id="1623121">,</span>&nbsp;<span class="ident" id="1623123">base</span>&nbsp;<span class="builtintype" id="1623128">int</span><span class="op" id="1623131">)</span>&nbsp;<span class="builtintype" id="1623133">string</span>&nbsp;<span class="op" id="1623140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623143">_</span><span class="op" id="1623144">,</span>&nbsp;<span class="ident" id="1623146">s</span>&nbsp;<span class="op" id="1623148">:=</span>&nbsp;<span class="ident" id="1623151"><a href="/strconv/itoa.go.html#1624537">formatBits</a></span><span class="op" id="1623161">(</span><span class="ident" id="1623162">nil</span><span class="op" id="1623165">,</span>&nbsp;<span class="ident" id="1623167">uint64</span><span class="op" id="1623173">(</span><span class="ident" id="1623174"><a href="/strconv/itoa.go.html#1623114">i</a></span><span class="op" id="1623175">)</span><span class="op" id="1623176">,</span>&nbsp;<span class="ident" id="1623178"><a href="/strconv/itoa.go.html#1623123">base</a></span><span class="op" id="1623182">,</span>&nbsp;<span class="ident" id="1623184"><a href="/strconv/itoa.go.html#1623114">i</a></span>&nbsp;<span class="op" id="1623186">&lt;</span>&nbsp;<span class="num" id="1623188">0</span><span class="op" id="1623189">,</span>&nbsp;<span class="ident" id="1623191">false</span><span class="op" id="1623196">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623199">return</span>&nbsp;<span class="ident" id="1623206"><a href="/strconv/itoa.go.html#1623146">s</a></span><br>
<span class="lineno"></span><span class="op" id="1623208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1623211">//&nbsp;Itoa&nbsp;is&nbsp;shorthand&nbsp;for&nbsp;FormatInt(i,&nbsp;10).</span><br>
<span class="lineno"></span><span class="keyword" id="1623254">func</span>&nbsp;<span class="ident" id="1623259">Itoa</span><span class="op" id="1623263">(</span><span class="ident" id="1623264">i</span>&nbsp;<span class="builtintype" id="1623266">int</span><span class="op" id="1623269">)</span>&nbsp;<span class="builtintype" id="1623271">string</span>&nbsp;<span class="op" id="1623278">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623281">return</span>&nbsp;<span class="ident" id="1623288"><a href="/strconv/itoa.go.html#1623104">FormatInt</a></span><span class="op" id="1623297">(</span><span class="ident" id="1623298">int64</span><span class="op" id="1623303">(</span><span class="ident" id="1623304"><a href="/strconv/itoa.go.html#1623264">i</a></span><span class="op" id="1623305">)</span><span class="op" id="1623306">,</span>&nbsp;<span class="num" id="1623308">10</span><span class="op" id="1623310">)</span><br>
<span class="lineno"></span><span class="op" id="1623312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1623315">//&nbsp;AppendInt&nbsp;appends&nbsp;the&nbsp;string&nbsp;form&nbsp;of&nbsp;the&nbsp;integer&nbsp;i,</span><br>
<span class="lineno"></span><span class="comment" id="1623370">//&nbsp;as&nbsp;generated&nbsp;by&nbsp;FormatInt,&nbsp;to&nbsp;dst&nbsp;and&nbsp;returns&nbsp;the&nbsp;extended&nbsp;buffer.</span><br>
<span class="lineno">30</span><span class="keyword" id="1623440">func</span>&nbsp;<span class="ident" id="1623445">AppendInt</span><span class="op" id="1623454">(</span><span class="ident" id="1623455">dst</span>&nbsp;<span class="op" id="1623459">[</span><span class="op" id="1623460">]</span><span class="builtintype" id="1623461">byte</span><span class="op" id="1623465">,</span>&nbsp;<span class="ident" id="1623467">i</span>&nbsp;<span class="ident" id="1623469">int64</span><span class="op" id="1623474">,</span>&nbsp;<span class="ident" id="1623476">base</span>&nbsp;<span class="builtintype" id="1623481">int</span><span class="op" id="1623484">)</span>&nbsp;<span class="op" id="1623486">[</span><span class="op" id="1623487">]</span><span class="builtintype" id="1623488">byte</span>&nbsp;<span class="op" id="1623493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623496"><a href="/strconv/itoa.go.html#1623455">dst</a></span><span class="op" id="1623499">,</span>&nbsp;<span class="ident" id="1623501">_</span>&nbsp;<span class="op" id="1623503">=</span>&nbsp;<span class="ident" id="1623505"><a href="/strconv/itoa.go.html#1624537">formatBits</a></span><span class="op" id="1623515">(</span><span class="ident" id="1623516"><a href="/strconv/itoa.go.html#1623455">dst</a></span><span class="op" id="1623519">,</span>&nbsp;<span class="ident" id="1623521">uint64</span><span class="op" id="1623527">(</span><span class="ident" id="1623528"><a href="/strconv/itoa.go.html#1623467">i</a></span><span class="op" id="1623529">)</span><span class="op" id="1623530">,</span>&nbsp;<span class="ident" id="1623532"><a href="/strconv/itoa.go.html#1623476">base</a></span><span class="op" id="1623536">,</span>&nbsp;<span class="ident" id="1623538"><a href="/strconv/itoa.go.html#1623467">i</a></span>&nbsp;<span class="op" id="1623540">&lt;</span>&nbsp;<span class="num" id="1623542">0</span><span class="op" id="1623543">,</span>&nbsp;<span class="ident" id="1623545">true</span><span class="op" id="1623549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623552">return</span>&nbsp;<span class="ident" id="1623559"><a href="/strconv/itoa.go.html#1623455">dst</a></span><br>
<span class="lineno"></span><span class="op" id="1623563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="1623566">//&nbsp;AppendUint&nbsp;appends&nbsp;the&nbsp;string&nbsp;form&nbsp;of&nbsp;the&nbsp;unsigned&nbsp;integer&nbsp;i,</span><br>
<span class="lineno"></span><span class="comment" id="1623631">//&nbsp;as&nbsp;generated&nbsp;by&nbsp;FormatUint,&nbsp;to&nbsp;dst&nbsp;and&nbsp;returns&nbsp;the&nbsp;extended&nbsp;buffer.</span><br>
<span class="lineno"></span><span class="keyword" id="1623702">func</span>&nbsp;<span class="ident" id="1623707">AppendUint</span><span class="op" id="1623717">(</span><span class="ident" id="1623718">dst</span>&nbsp;<span class="op" id="1623722">[</span><span class="op" id="1623723">]</span><span class="builtintype" id="1623724">byte</span><span class="op" id="1623728">,</span>&nbsp;<span class="ident" id="1623730">i</span>&nbsp;<span class="ident" id="1623732">uint64</span><span class="op" id="1623738">,</span>&nbsp;<span class="ident" id="1623740">base</span>&nbsp;<span class="builtintype" id="1623745">int</span><span class="op" id="1623748">)</span>&nbsp;<span class="op" id="1623750">[</span><span class="op" id="1623751">]</span><span class="builtintype" id="1623752">byte</span>&nbsp;<span class="op" id="1623757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623760"><a href="/strconv/itoa.go.html#1623718">dst</a></span><span class="op" id="1623763">,</span>&nbsp;<span class="ident" id="1623765">_</span>&nbsp;<span class="op" id="1623767">=</span>&nbsp;<span class="ident" id="1623769"><a href="/strconv/itoa.go.html#1624537">formatBits</a></span><span class="op" id="1623779">(</span><span class="ident" id="1623780"><a href="/strconv/itoa.go.html#1623718">dst</a></span><span class="op" id="1623783">,</span>&nbsp;<span class="ident" id="1623785"><a href="/strconv/itoa.go.html#1623730">i</a></span><span class="op" id="1623786">,</span>&nbsp;<span class="ident" id="1623788"><a href="/strconv/itoa.go.html#1623740">base</a></span><span class="op" id="1623792">,</span>&nbsp;<span class="ident" id="1623794">false</span><span class="op" id="1623799">,</span>&nbsp;<span class="ident" id="1623801">true</span><span class="op" id="1623805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1623808">return</span>&nbsp;<span class="ident" id="1623815"><a href="/strconv/itoa.go.html#1623718">dst</a></span><br>
<span class="lineno">40</span><span class="op" id="1623819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1623822">const</span>&nbsp;<span class="op" id="1623828">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623831">digits</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1623840">=</span>&nbsp;<span class="string" id="1623842">&#34;0123456789abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623882">digits01</span>&nbsp;<span class="op" id="1623891">=</span>&nbsp;<span class="string" id="1623893">&#34;0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789&#34;</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1623997">digits10</span>&nbsp;<span class="op" id="1624006">=</span>&nbsp;<span class="string" id="1624008">&#34;0000000000111111111122222222223333333333444444444455555555556666666666777777777788888888889999999999&#34;</span><br>
<span class="lineno"></span><span class="op" id="1624111">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1624114">var</span>&nbsp;<span class="ident" id="1624118">shifts</span>&nbsp;<span class="op" id="1624125">=</span>&nbsp;<span class="op" id="1624127">[</span><span class="builtinfunc" id="1624128">len</span><span class="op" id="1624131">(</span><span class="ident" id="1624132"><a href="/strconv/itoa.go.html#1623831">digits</a></span><span class="op" id="1624138">)</span>&nbsp;<span class="op" id="1624140">+</span>&nbsp;<span class="num" id="1624142">1</span><span class="op" id="1624143">]</span><span class="builtintype" id="1624144">uint</span><span class="op" id="1624148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1624151">1</span>&nbsp;<span class="op" id="1624153">&lt;&lt;</span>&nbsp;<span class="num" id="1624156">1</span><span class="op" id="1624157">:</span>&nbsp;<span class="num" id="1624159">1</span><span class="op" id="1624160">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1624163">1</span>&nbsp;<span class="op" id="1624165">&lt;&lt;</span>&nbsp;<span class="num" id="1624168">2</span><span class="op" id="1624169">:</span>&nbsp;<span class="num" id="1624171">2</span><span class="op" id="1624172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1624175">1</span>&nbsp;<span class="op" id="1624177">&lt;&lt;</span>&nbsp;<span class="num" id="1624180">3</span><span class="op" id="1624181">:</span>&nbsp;<span class="num" id="1624183">3</span><span class="op" id="1624184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1624187">1</span>&nbsp;<span class="op" id="1624189">&lt;&lt;</span>&nbsp;<span class="num" id="1624192">4</span><span class="op" id="1624193">:</span>&nbsp;<span class="num" id="1624195">4</span><span class="op" id="1624196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1624199">1</span>&nbsp;<span class="op" id="1624201">&lt;&lt;</span>&nbsp;<span class="num" id="1624204">5</span><span class="op" id="1624205">:</span>&nbsp;<span class="num" id="1624207">5</span><span class="op" id="1624208">,</span><br>
<span class="lineno"></span><span class="op" id="1624210">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="1624213">//&nbsp;formatBits&nbsp;computes&nbsp;the&nbsp;string&nbsp;representation&nbsp;of&nbsp;u&nbsp;in&nbsp;the&nbsp;given&nbsp;base.</span><br>
<span class="lineno"></span><span class="comment" id="1624286">//&nbsp;If&nbsp;neg&nbsp;is&nbsp;set,&nbsp;u&nbsp;is&nbsp;treated&nbsp;as&nbsp;negative&nbsp;int64&nbsp;value.&nbsp;If&nbsp;append_&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1624356">//&nbsp;set,&nbsp;the&nbsp;string&nbsp;is&nbsp;appended&nbsp;to&nbsp;dst&nbsp;and&nbsp;the&nbsp;resulting&nbsp;byte&nbsp;slice&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1624426">//&nbsp;returned&nbsp;as&nbsp;the&nbsp;first&nbsp;result&nbsp;value;&nbsp;otherwise&nbsp;the&nbsp;string&nbsp;is&nbsp;returned</span><br>
<span class="lineno">60</span><span class="comment" id="1624498">//&nbsp;as&nbsp;the&nbsp;second&nbsp;result&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="1624529">//</span><br>
<span class="lineno"></span><span class="keyword" id="1624532">func</span>&nbsp;<span class="ident" id="1624537">formatBits</span><span class="op" id="1624547">(</span><span class="ident" id="1624548">dst</span>&nbsp;<span class="op" id="1624552">[</span><span class="op" id="1624553">]</span><span class="builtintype" id="1624554">byte</span><span class="op" id="1624558">,</span>&nbsp;<span class="ident" id="1624560">u</span>&nbsp;<span class="ident" id="1624562">uint64</span><span class="op" id="1624568">,</span>&nbsp;<span class="ident" id="1624570">base</span>&nbsp;<span class="builtintype" id="1624575">int</span><span class="op" id="1624578">,</span>&nbsp;<span class="ident" id="1624580">neg</span><span class="op" id="1624583">,</span>&nbsp;<span class="ident" id="1624585">append_</span>&nbsp;<span class="builtintype" id="1624593">bool</span><span class="op" id="1624597">)</span>&nbsp;<span class="op" id="1624599">(</span><span class="ident" id="1624600">d</span>&nbsp;<span class="op" id="1624602">[</span><span class="op" id="1624603">]</span><span class="builtintype" id="1624604">byte</span><span class="op" id="1624608">,</span>&nbsp;<span class="ident" id="1624610">s</span>&nbsp;<span class="builtintype" id="1624612">string</span><span class="op" id="1624618">)</span>&nbsp;<span class="op" id="1624620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624623">if</span>&nbsp;<span class="ident" id="1624626"><a href="/strconv/itoa.go.html#1624570">base</a></span>&nbsp;<span class="op" id="1624631">&lt;</span>&nbsp;<span class="num" id="1624633">2</span>&nbsp;<span class="op" id="1624635">||</span>&nbsp;<span class="ident" id="1624638"><a href="/strconv/itoa.go.html#1624570">base</a></span>&nbsp;<span class="op" id="1624643">&gt;</span>&nbsp;<span class="builtinfunc" id="1624645">len</span><span class="op" id="1624648">(</span><span class="ident" id="1624649"><a href="/strconv/itoa.go.html#1623831">digits</a></span><span class="op" id="1624655">)</span>&nbsp;<span class="op" id="1624657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1624661">panic</span><span class="op" id="1624666">(</span><span class="string" id="1624667">&#34;strconv:&nbsp;illegal&nbsp;AppendInt/FormatInt&nbsp;base&#34;</span><span class="op" id="1624710">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1624716">//&nbsp;2&nbsp;&lt;=&nbsp;base&nbsp;&amp;&amp;&nbsp;base&nbsp;&lt;=&nbsp;len(digits)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624754">var</span>&nbsp;<span class="ident" id="1624758">a</span>&nbsp;<span class="op" id="1624760">[</span><span class="num" id="1624761">64</span>&nbsp;<span class="op" id="1624764">+</span>&nbsp;<span class="num" id="1624766">1</span><span class="op" id="1624767">]</span><span class="builtintype" id="1624768">byte</span>&nbsp;<span class="comment" id="1624773">//&nbsp;+1&nbsp;for&nbsp;sign&nbsp;of&nbsp;64bit&nbsp;value&nbsp;in&nbsp;base&nbsp;2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624814">i</span>&nbsp;<span class="op" id="1624816">:=</span>&nbsp;<span class="builtinfunc" id="1624819">len</span><span class="op" id="1624822">(</span><span class="ident" id="1624823"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1624824">)</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624828">if</span>&nbsp;<span class="ident" id="1624831"><a href="/strconv/itoa.go.html#1624580">neg</a></span>&nbsp;<span class="op" id="1624835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1624839"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1624841">=</span>&nbsp;<span class="op" id="1624843">-</span><span class="ident" id="1624844"><a href="/strconv/itoa.go.html#1624560">u</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1624847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1624851">//&nbsp;convert&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1624868">if</span>&nbsp;<span class="ident" id="1624871"><a href="/strconv/itoa.go.html#1624570">base</a></span>&nbsp;<span class="op" id="1624876">==</span>&nbsp;<span class="num" id="1624879">10</span>&nbsp;<span class="op" id="1624882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1624886">//&nbsp;common&nbsp;case:&nbsp;use&nbsp;constants&nbsp;for&nbsp;/&nbsp;and&nbsp;%&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1624938">//&nbsp;the&nbsp;compiler&nbsp;can&nbsp;optimize&nbsp;it&nbsp;into&nbsp;a&nbsp;multiply+shift,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1624995">//&nbsp;and&nbsp;unroll&nbsp;loop</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625016">for</span>&nbsp;<span class="ident" id="1625020"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625022">&gt;=</span>&nbsp;<span class="num" id="1625025">100</span>&nbsp;<span class="op" id="1625029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625034"><a href="/strconv/itoa.go.html#1624814">i</a></span>&nbsp;<span class="op" id="1625036">-=</span>&nbsp;<span class="num" id="1625039">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625044">q</span>&nbsp;<span class="op" id="1625046">:=</span>&nbsp;<span class="ident" id="1625049"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625051">/</span>&nbsp;<span class="num" id="1625053">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625060">j</span>&nbsp;<span class="op" id="1625062">:=</span>&nbsp;<span class="builtintype" id="1625065">uintptr</span><span class="op" id="1625072">(</span><span class="ident" id="1625073"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625075">-</span>&nbsp;<span class="ident" id="1625077"><a href="/strconv/itoa.go.html#1625044">q</a></span><span class="op" id="1625078">*</span><span class="num" id="1625079">100</span><span class="op" id="1625082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625087"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1625088">[</span><span class="ident" id="1625089"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625090">+</span><span class="num" id="1625091">1</span><span class="op" id="1625092">]</span>&nbsp;<span class="op" id="1625094">=</span>&nbsp;<span class="ident" id="1625096"><a href="/strconv/itoa.go.html#1623882">digits01</a></span><span class="op" id="1625104">[</span><span class="ident" id="1625105"><a href="/strconv/itoa.go.html#1625060">j</a></span><span class="op" id="1625106">]</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625111"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1625112">[</span><span class="ident" id="1625113"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625114">+</span><span class="num" id="1625115">0</span><span class="op" id="1625116">]</span>&nbsp;<span class="op" id="1625118">=</span>&nbsp;<span class="ident" id="1625120"><a href="/strconv/itoa.go.html#1623997">digits10</a></span><span class="op" id="1625128">[</span><span class="ident" id="1625129"><a href="/strconv/itoa.go.html#1625060">j</a></span><span class="op" id="1625130">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625135"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625137">=</span>&nbsp;<span class="ident" id="1625139"><a href="/strconv/itoa.go.html#1625044">q</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625147">if</span>&nbsp;<span class="ident" id="1625150"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625152">&gt;=</span>&nbsp;<span class="num" id="1625155">10</span>&nbsp;<span class="op" id="1625158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625163"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625164">--</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625170">q</span>&nbsp;<span class="op" id="1625172">:=</span>&nbsp;<span class="ident" id="1625175"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625177">/</span>&nbsp;<span class="num" id="1625179">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625185"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1625186">[</span><span class="ident" id="1625187"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625188">]</span>&nbsp;<span class="op" id="1625190">=</span>&nbsp;<span class="ident" id="1625192"><a href="/strconv/itoa.go.html#1623831">digits</a></span><span class="op" id="1625198">[</span><span class="builtintype" id="1625199">uintptr</span><span class="op" id="1625206">(</span><span class="ident" id="1625207"><a href="/strconv/itoa.go.html#1624560">u</a></span><span class="op" id="1625208">-</span><span class="ident" id="1625209"><a href="/strconv/itoa.go.html#1625170">q</a></span><span class="op" id="1625210">*</span><span class="num" id="1625211">10</span><span class="op" id="1625213">)</span><span class="op" id="1625214">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625219"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625221">=</span>&nbsp;<span class="ident" id="1625223"><a href="/strconv/itoa.go.html#1625170">q</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625231">}</span>&nbsp;<span class="keyword" id="1625233">else</span>&nbsp;<span class="keyword" id="1625238">if</span>&nbsp;<span class="ident" id="1625241">s</span>&nbsp;<span class="op" id="1625243">:=</span>&nbsp;<span class="ident" id="1625246"><a href="/strconv/itoa.go.html#1624118">shifts</a></span><span class="op" id="1625252">[</span><span class="ident" id="1625253"><a href="/strconv/itoa.go.html#1624570">base</a></span><span class="op" id="1625257">]</span><span class="op" id="1625258">;</span>&nbsp;<span class="ident" id="1625260"><a href="/strconv/itoa.go.html#1625241">s</a></span>&nbsp;<span class="op" id="1625262">&gt;</span>&nbsp;<span class="num" id="1625264">0</span>&nbsp;<span class="op" id="1625266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1625270">//&nbsp;base&nbsp;is&nbsp;power&nbsp;of&nbsp;2:&nbsp;use&nbsp;shifts&nbsp;and&nbsp;masks&nbsp;instead&nbsp;of&nbsp;/&nbsp;and&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625335">b</span>&nbsp;<span class="op" id="1625337">:=</span>&nbsp;<span class="ident" id="1625340">uint64</span><span class="op" id="1625346">(</span><span class="ident" id="1625347"><a href="/strconv/itoa.go.html#1624570">base</a></span><span class="op" id="1625351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625355">m</span>&nbsp;<span class="op" id="1625357">:=</span>&nbsp;<span class="builtintype" id="1625360">uintptr</span><span class="op" id="1625367">(</span><span class="ident" id="1625368"><a href="/strconv/itoa.go.html#1625335">b</a></span><span class="op" id="1625369">)</span>&nbsp;<span class="op" id="1625371">-</span>&nbsp;<span class="num" id="1625373">1</span>&nbsp;<span class="comment" id="1625375">//&nbsp;==&nbsp;1&lt;&lt;s&nbsp;-&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625392">for</span>&nbsp;<span class="ident" id="1625396"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625398">&gt;=</span>&nbsp;<span class="ident" id="1625401"><a href="/strconv/itoa.go.html#1625335">b</a></span>&nbsp;<span class="op" id="1625403">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625408"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625409">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625415"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1625416">[</span><span class="ident" id="1625417"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625418">]</span>&nbsp;<span class="op" id="1625420">=</span>&nbsp;<span class="ident" id="1625422"><a href="/strconv/itoa.go.html#1623831">digits</a></span><span class="op" id="1625428">[</span><span class="builtintype" id="1625429">uintptr</span><span class="op" id="1625436">(</span><span class="ident" id="1625437"><a href="/strconv/itoa.go.html#1624560">u</a></span><span class="op" id="1625438">)</span><span class="op" id="1625439">&amp;</span><span class="ident" id="1625440"><a href="/strconv/itoa.go.html#1625355">m</a></span><span class="op" id="1625441">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625446"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625448">&gt;&gt;=</span>&nbsp;<span class="ident" id="1625452"><a href="/strconv/itoa.go.html#1625241">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625460">}</span>&nbsp;<span class="keyword" id="1625462">else</span>&nbsp;<span class="op" id="1625467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1625471">//&nbsp;general&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625489">b</span>&nbsp;<span class="op" id="1625491">:=</span>&nbsp;<span class="ident" id="1625494">uint64</span><span class="op" id="1625500">(</span><span class="ident" id="1625501"><a href="/strconv/itoa.go.html#1624570">base</a></span><span class="op" id="1625505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625509">for</span>&nbsp;<span class="ident" id="1625513"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625515">&gt;=</span>&nbsp;<span class="ident" id="1625518"><a href="/strconv/itoa.go.html#1625489">b</a></span>&nbsp;<span class="op" id="1625520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625525"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625526">--</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625532"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1625533">[</span><span class="ident" id="1625534"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625535">]</span>&nbsp;<span class="op" id="1625537">=</span>&nbsp;<span class="ident" id="1625539"><a href="/strconv/itoa.go.html#1623831">digits</a></span><span class="op" id="1625545">[</span><span class="builtintype" id="1625546">uintptr</span><span class="op" id="1625553">(</span><span class="ident" id="1625554"><a href="/strconv/itoa.go.html#1624560">u</a></span><span class="op" id="1625555">%</span><span class="ident" id="1625556"><a href="/strconv/itoa.go.html#1625489">b</a></span><span class="op" id="1625557">)</span><span class="op" id="1625558">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625563"><a href="/strconv/itoa.go.html#1624560">u</a></span>&nbsp;<span class="op" id="1625565">/=</span>&nbsp;<span class="ident" id="1625568"><a href="/strconv/itoa.go.html#1625489">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1625579">//&nbsp;u&nbsp;&lt;&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625592"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625593">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625597"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1625598">[</span><span class="ident" id="1625599"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625600">]</span>&nbsp;<span class="op" id="1625602">=</span>&nbsp;<span class="ident" id="1625604"><a href="/strconv/itoa.go.html#1623831">digits</a></span><span class="op" id="1625610">[</span><span class="builtintype" id="1625611">uintptr</span><span class="op" id="1625618">(</span><span class="ident" id="1625619"><a href="/strconv/itoa.go.html#1624560">u</a></span><span class="op" id="1625620">)</span><span class="op" id="1625621">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1625625">//&nbsp;add&nbsp;sign,&nbsp;if&nbsp;any</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625646">if</span>&nbsp;<span class="ident" id="1625649"><a href="/strconv/itoa.go.html#1624580">neg</a></span>&nbsp;<span class="op" id="1625653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625657"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625658">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625663"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1625664">[</span><span class="ident" id="1625665"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625666">]</span>&nbsp;<span class="op" id="1625668">=</span>&nbsp;<span class="string" id="1625670">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625679">if</span>&nbsp;<span class="ident" id="1625682"><a href="/strconv/itoa.go.html#1624585">append_</a></span>&nbsp;<span class="op" id="1625690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625694"><a href="/strconv/itoa.go.html#1624600">d</a></span>&nbsp;<span class="op" id="1625696">=</span>&nbsp;<span class="builtinfunc" id="1625698">append</span><span class="op" id="1625704">(</span><span class="ident" id="1625705"><a href="/strconv/itoa.go.html#1624548">dst</a></span><span class="op" id="1625708">,</span>&nbsp;<span class="ident" id="1625710"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1625711">[</span><span class="ident" id="1625712"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625713">:</span><span class="op" id="1625714">]</span><span class="op" id="1625715">...</span><span class="op" id="1625718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625722">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1625730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1625733"><a href="/strconv/itoa.go.html#1624610">s</a></span>&nbsp;<span class="op" id="1625735">=</span>&nbsp;<span class="builtintype" id="1625737">string</span><span class="op" id="1625743">(</span><span class="ident" id="1625744"><a href="/strconv/itoa.go.html#1624758">a</a></span><span class="op" id="1625745">[</span><span class="ident" id="1625746"><a href="/strconv/itoa.go.html#1624814">i</a></span><span class="op" id="1625747">:</span><span class="op" id="1625748">]</span><span class="op" id="1625749">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1625752">return</span><br>
<span class="lineno"></span><span class="op" id="1625759">}</span>
</div>
</body>
</html>
