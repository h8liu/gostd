<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html" class="current">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8038806">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8038862">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8038916">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8038967">package</span>&nbsp;<span class="ident" id="8038975">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8038982">import</span>&nbsp;<span class="op" id="8038989">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8038992">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8039005">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8039012">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8039025">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8039031">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8039042">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8039059">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8039070">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8039081">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8039091">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8039094">var</span>&nbsp;<span class="op" id="8039098">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8039101">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8039118">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8039126">pclinetestBinary</span>&nbsp;<span class="builtintype" id="8039143">string</span><br>
<span class="lineno"></span><span class="op" id="8039150">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8039153">func</span>&nbsp;<span class="ident" id="8039158">dotest</span><span class="op" id="8039164">(</span><span class="ident" id="8039165">self</span>&nbsp;<span class="builtintype" id="8039170">bool</span><span class="op" id="8039174">)</span>&nbsp;<span class="builtintype" id="8039176">bool</span>&nbsp;<span class="op" id="8039181">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8039184">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039228">if</span>&nbsp;<span class="ident" id="8039231">runtime</span><span class="op" id="8039238">.</span><span class="ident" id="8039239">GOARCH</span>&nbsp;<span class="op" id="8039246">!=</span>&nbsp;<span class="string" id="8039249">&#34;amd64&#34;</span>&nbsp;<span class="op" id="8039257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039261">return</span>&nbsp;<span class="builtintype" id="8039268">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8039275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8039278">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039332">if</span>&nbsp;<span class="ident" id="8039335">self</span>&nbsp;<span class="op" id="8039340">&amp;&amp;</span>&nbsp;<span class="ident" id="8039343">runtime</span><span class="op" id="8039350">.</span><span class="ident" id="8039351">GOOS</span>&nbsp;<span class="op" id="8039356">!=</span>&nbsp;<span class="string" id="8039359">&#34;linux&#34;</span>&nbsp;<span class="op" id="8039367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039371">return</span>&nbsp;<span class="builtintype" id="8039378">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8039385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8039388">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039429">if</span>&nbsp;<span class="ident" id="8039432">runtime</span><span class="op" id="8039439">.</span><span class="ident" id="8039440">GOOS</span>&nbsp;<span class="op" id="8039445">==</span>&nbsp;<span class="string" id="8039448">&#34;windows&#34;</span>&nbsp;<span class="op" id="8039458">||</span>&nbsp;<span class="ident" id="8039461">runtime</span><span class="op" id="8039468">.</span><span class="ident" id="8039469">GOOS</span>&nbsp;<span class="op" id="8039474">==</span>&nbsp;<span class="string" id="8039477">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8039485">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039489">return</span>&nbsp;<span class="builtintype" id="8039496">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8039503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039506">if</span>&nbsp;<span class="ident" id="8039509">pclinetestBinary</span>&nbsp;<span class="op" id="8039526">!=</span>&nbsp;<span class="string" id="8039529">&#34;&#34;</span>&nbsp;<span class="op" id="8039532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039536">return</span>&nbsp;<span class="builtintype" id="8039543">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8039549">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039552">var</span>&nbsp;<span class="ident" id="8039556">err</span>&nbsp;<span class="builtintype" id="8039560">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8039567">pclineTempDir</span><span class="op" id="8039580">,</span>&nbsp;<span class="ident" id="8039582">err</span>&nbsp;<span class="op" id="8039586">=</span>&nbsp;<span class="ident" id="8039588">ioutil</span><span class="op" id="8039594">.</span><span class="ident" id="8039595">TempDir</span><span class="op" id="8039602">(</span><span class="string" id="8039603">&#34;&#34;</span><span class="op" id="8039605">,</span>&nbsp;<span class="string" id="8039607">&#34;pclinetest&#34;</span><span class="op" id="8039619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039622">if</span>&nbsp;<span class="ident" id="8039625">err</span>&nbsp;<span class="op" id="8039629">!=</span>&nbsp;<span class="builtintype" id="8039632">nil</span>&nbsp;<span class="op" id="8039636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8039640">panic</span><span class="op" id="8039645">(</span><span class="ident" id="8039646">err</span><span class="op" id="8039649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8039652">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8039655">if</span>&nbsp;<span class="ident" id="8039658">strings</span><span class="op" id="8039665">.</span><span class="ident" id="8039666">Contains</span><span class="op" id="8039674">(</span><span class="ident" id="8039675">pclineTempDir</span><span class="op" id="8039688">,</span>&nbsp;<span class="string" id="8039690">&#34;&nbsp;&#34;</span><span class="op" id="8039693">)</span>&nbsp;<span class="op" id="8039695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8039699">panic</span><span class="op" id="8039704">(</span><span class="string" id="8039705">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="8039734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8039737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8039740">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8039796">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8039864">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8039925">pclinetestBinary</span>&nbsp;<span class="op" id="8039942">=</span>&nbsp;<span class="ident" id="8039944">filepath</span><span class="op" id="8039952">.</span><span class="ident" id="8039953">Join</span><span class="op" id="8039957">(</span><span class="ident" id="8039958">pclineTempDir</span><span class="op" id="8039971">,</span>&nbsp;<span class="string" id="8039973">&#34;pclinetest&#34;</span><span class="op" id="8039985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8039988">command</span>&nbsp;<span class="op" id="8039996">:=</span>&nbsp;<span class="ident" id="8039999">fmt</span><span class="op" id="8040002">.</span><span class="ident" id="8040003">Sprintf</span><span class="op" id="8040010">(</span><span class="string" id="8040011">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="8040088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040092">pclinetestBinary</span><span class="op" id="8040108">,</span>&nbsp;<span class="ident" id="8040110">pclinetestBinary</span><span class="op" id="8040126">,</span>&nbsp;<span class="ident" id="8040128">pclinetestBinary</span><span class="op" id="8040144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040147">cmd</span>&nbsp;<span class="op" id="8040151">:=</span>&nbsp;<span class="ident" id="8040154">exec</span><span class="op" id="8040158">.</span><span class="ident" id="8040159">Command</span><span class="op" id="8040166">(</span><span class="string" id="8040167">&#34;sh&#34;</span><span class="op" id="8040171">,</span>&nbsp;<span class="string" id="8040173">&#34;-c&#34;</span><span class="op" id="8040177">,</span>&nbsp;<span class="ident" id="8040179">command</span><span class="op" id="8040186">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040189">cmd</span><span class="op" id="8040192">.</span><span class="ident" id="8040193">Stdout</span>&nbsp;<span class="op" id="8040200">=</span>&nbsp;<span class="ident" id="8040202">os</span><span class="op" id="8040204">.</span><span class="ident" id="8040205">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040213">cmd</span><span class="op" id="8040216">.</span><span class="ident" id="8040217">Stderr</span>&nbsp;<span class="op" id="8040224">=</span>&nbsp;<span class="ident" id="8040226">os</span><span class="op" id="8040228">.</span><span class="ident" id="8040229">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8040237">if</span>&nbsp;<span class="ident" id="8040240">err</span>&nbsp;<span class="op" id="8040244">:=</span>&nbsp;<span class="ident" id="8040247">cmd</span><span class="op" id="8040250">.</span><span class="ident" id="8040251">Run</span><span class="op" id="8040254">(</span><span class="op" id="8040255">)</span><span class="op" id="8040256">;</span>&nbsp;<span class="ident" id="8040258">err</span>&nbsp;<span class="op" id="8040262">!=</span>&nbsp;<span class="builtintype" id="8040265">nil</span>&nbsp;<span class="op" id="8040269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8040273">panic</span><span class="op" id="8040278">(</span><span class="ident" id="8040279">err</span><span class="op" id="8040282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8040285">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8040288">return</span>&nbsp;<span class="builtintype" id="8040295">true</span><br>
<span class="lineno"></span><span class="op" id="8040300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8040303">func</span>&nbsp;<span class="ident" id="8040308">endtest</span><span class="op" id="8040315">(</span><span class="op" id="8040316">)</span>&nbsp;<span class="op" id="8040318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8040321">if</span>&nbsp;<span class="ident" id="8040324">pclineTempDir</span>&nbsp;<span class="op" id="8040338">!=</span>&nbsp;<span class="string" id="8040341">&#34;&#34;</span>&nbsp;<span class="op" id="8040344">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040348">os</span><span class="op" id="8040350">.</span><span class="ident" id="8040351">RemoveAll</span><span class="op" id="8040360">(</span><span class="ident" id="8040361">pclineTempDir</span><span class="op" id="8040374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040378">pclineTempDir</span>&nbsp;<span class="op" id="8040392">=</span>&nbsp;<span class="string" id="8040394">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040399">pclinetestBinary</span>&nbsp;<span class="op" id="8040416">=</span>&nbsp;<span class="string" id="8040418">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8040422">}</span><br>
<span class="lineno"></span><span class="op" id="8040424">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8040427">func</span>&nbsp;<span class="ident" id="8040432">getTable</span><span class="op" id="8040440">(</span><span class="ident" id="8040441">t</span>&nbsp;<span class="op" id="8040443">*</span><span class="ident" id="8040444">testing</span><span class="op" id="8040451">.</span><span class="ident" id="8040452">T</span><span class="op" id="8040453">)</span>&nbsp;<span class="op" id="8040455">*</span><span class="ident" id="8040456">Table</span>&nbsp;<span class="op" id="8040462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040465">f</span><span class="op" id="8040466">,</span>&nbsp;<span class="ident" id="8040468">tab</span>&nbsp;<span class="op" id="8040472">:=</span>&nbsp;<span class="ident" id="8040475">crack</span><span class="op" id="8040480">(</span><span class="ident" id="8040481">os</span><span class="op" id="8040483">.</span><span class="ident" id="8040484">Args</span><span class="op" id="8040488">[</span><span class="num" id="8040489">0</span><span class="op" id="8040490">]</span><span class="op" id="8040491">,</span>&nbsp;<span class="ident" id="8040493">t</span><span class="op" id="8040494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040497">f</span><span class="op" id="8040498">.</span><span class="ident" id="8040499">Close</span><span class="op" id="8040504">(</span><span class="op" id="8040505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8040508">return</span>&nbsp;<span class="ident" id="8040515">tab</span><br>
<span class="lineno">75</span><span class="op" id="8040519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8040522">func</span>&nbsp;<span class="ident" id="8040527">crack</span><span class="op" id="8040532">(</span><span class="ident" id="8040533">file</span>&nbsp;<span class="builtintype" id="8040538">string</span><span class="op" id="8040544">,</span>&nbsp;<span class="ident" id="8040546">t</span>&nbsp;<span class="op" id="8040548">*</span><span class="ident" id="8040549">testing</span><span class="op" id="8040556">.</span><span class="ident" id="8040557">T</span><span class="op" id="8040558">)</span>&nbsp;<span class="op" id="8040560">(</span><span class="op" id="8040561">*</span><span class="ident" id="8040562">elf</span><span class="op" id="8040565">.</span><span class="ident" id="8040566">File</span><span class="op" id="8040570">,</span>&nbsp;<span class="op" id="8040572">*</span><span class="ident" id="8040573">Table</span><span class="op" id="8040578">)</span>&nbsp;<span class="op" id="8040580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8040583">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040597">f</span><span class="op" id="8040598">,</span>&nbsp;<span class="ident" id="8040600">err</span>&nbsp;<span class="op" id="8040604">:=</span>&nbsp;<span class="ident" id="8040607">elf</span><span class="op" id="8040610">.</span><span class="ident" id="8040611">Open</span><span class="op" id="8040615">(</span><span class="ident" id="8040616">file</span><span class="op" id="8040620">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8040623">if</span>&nbsp;<span class="ident" id="8040626">err</span>&nbsp;<span class="op" id="8040630">!=</span>&nbsp;<span class="builtintype" id="8040633">nil</span>&nbsp;<span class="op" id="8040637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040641">t</span><span class="op" id="8040642">.</span><span class="ident" id="8040643">Fatal</span><span class="op" id="8040648">(</span><span class="ident" id="8040649">err</span><span class="op" id="8040652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8040655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8040658">return</span>&nbsp;<span class="ident" id="8040665">parse</span><span class="op" id="8040670">(</span><span class="ident" id="8040671">file</span><span class="op" id="8040675">,</span>&nbsp;<span class="ident" id="8040677">f</span><span class="op" id="8040678">,</span>&nbsp;<span class="ident" id="8040680">t</span><span class="op" id="8040681">)</span><br>
<span class="lineno"></span><span class="op" id="8040683">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="8040686">func</span>&nbsp;<span class="ident" id="8040691">parse</span><span class="op" id="8040696">(</span><span class="ident" id="8040697">file</span>&nbsp;<span class="builtintype" id="8040702">string</span><span class="op" id="8040708">,</span>&nbsp;<span class="ident" id="8040710">f</span>&nbsp;<span class="op" id="8040712">*</span><span class="ident" id="8040713">elf</span><span class="op" id="8040716">.</span><span class="ident" id="8040717">File</span><span class="op" id="8040721">,</span>&nbsp;<span class="ident" id="8040723">t</span>&nbsp;<span class="op" id="8040725">*</span><span class="ident" id="8040726">testing</span><span class="op" id="8040733">.</span><span class="ident" id="8040734">T</span><span class="op" id="8040735">)</span>&nbsp;<span class="op" id="8040737">(</span><span class="op" id="8040738">*</span><span class="ident" id="8040739">elf</span><span class="op" id="8040742">.</span><span class="ident" id="8040743">File</span><span class="op" id="8040747">,</span>&nbsp;<span class="op" id="8040749">*</span><span class="ident" id="8040750">Table</span><span class="op" id="8040755">)</span>&nbsp;<span class="op" id="8040757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040760">symdat</span><span class="op" id="8040766">,</span>&nbsp;<span class="ident" id="8040768">err</span>&nbsp;<span class="op" id="8040772">:=</span>&nbsp;<span class="ident" id="8040775">f</span><span class="op" id="8040776">.</span><span class="ident" id="8040777">Section</span><span class="op" id="8040784">(</span><span class="string" id="8040785">&#34;.gosymtab&#34;</span><span class="op" id="8040796">)</span><span class="op" id="8040797">.</span><span class="ident" id="8040798">Data</span><span class="op" id="8040802">(</span><span class="op" id="8040803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8040806">if</span>&nbsp;<span class="ident" id="8040809">err</span>&nbsp;<span class="op" id="8040813">!=</span>&nbsp;<span class="builtintype" id="8040816">nil</span>&nbsp;<span class="op" id="8040820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040824">f</span><span class="op" id="8040825">.</span><span class="ident" id="8040826">Close</span><span class="op" id="8040831">(</span><span class="op" id="8040832">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040836">t</span><span class="op" id="8040837">.</span><span class="ident" id="8040838">Fatalf</span><span class="op" id="8040844">(</span><span class="string" id="8040845">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="8040870">,</span>&nbsp;<span class="ident" id="8040872">file</span><span class="op" id="8040876">,</span>&nbsp;<span class="ident" id="8040878">err</span><span class="op" id="8040881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8040884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040887">pclndat</span><span class="op" id="8040894">,</span>&nbsp;<span class="ident" id="8040896">err</span>&nbsp;<span class="op" id="8040900">:=</span>&nbsp;<span class="ident" id="8040903">f</span><span class="op" id="8040904">.</span><span class="ident" id="8040905">Section</span><span class="op" id="8040912">(</span><span class="string" id="8040913">&#34;.gopclntab&#34;</span><span class="op" id="8040925">)</span><span class="op" id="8040926">.</span><span class="ident" id="8040927">Data</span><span class="op" id="8040931">(</span><span class="op" id="8040932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8040935">if</span>&nbsp;<span class="ident" id="8040938">err</span>&nbsp;<span class="op" id="8040942">!=</span>&nbsp;<span class="builtintype" id="8040945">nil</span>&nbsp;<span class="op" id="8040949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040953">f</span><span class="op" id="8040954">.</span><span class="ident" id="8040955">Close</span><span class="op" id="8040960">(</span><span class="op" id="8040961">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8040965">t</span><span class="op" id="8040966">.</span><span class="ident" id="8040967">Fatalf</span><span class="op" id="8040973">(</span><span class="string" id="8040974">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="8041000">,</span>&nbsp;<span class="ident" id="8041002">file</span><span class="op" id="8041006">,</span>&nbsp;<span class="ident" id="8041008">err</span><span class="op" id="8041011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041018">pcln</span>&nbsp;<span class="op" id="8041023">:=</span>&nbsp;<span class="ident" id="8041026">NewLineTable</span><span class="op" id="8041038">(</span><span class="ident" id="8041039">pclndat</span><span class="op" id="8041046">,</span>&nbsp;<span class="ident" id="8041048">f</span><span class="op" id="8041049">.</span><span class="ident" id="8041050">Section</span><span class="op" id="8041057">(</span><span class="string" id="8041058">&#34;.text&#34;</span><span class="op" id="8041065">)</span><span class="op" id="8041066">.</span><span class="ident" id="8041067">Addr</span><span class="op" id="8041071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041074">tab</span><span class="op" id="8041077">,</span>&nbsp;<span class="ident" id="8041079">err</span>&nbsp;<span class="op" id="8041083">:=</span>&nbsp;<span class="ident" id="8041086">NewTable</span><span class="op" id="8041094">(</span><span class="ident" id="8041095">symdat</span><span class="op" id="8041101">,</span>&nbsp;<span class="ident" id="8041103">pcln</span><span class="op" id="8041107">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041110">if</span>&nbsp;<span class="ident" id="8041113">err</span>&nbsp;<span class="op" id="8041117">!=</span>&nbsp;<span class="builtintype" id="8041120">nil</span>&nbsp;<span class="op" id="8041124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041128">f</span><span class="op" id="8041129">.</span><span class="ident" id="8041130">Close</span><span class="op" id="8041135">(</span><span class="op" id="8041136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041140">t</span><span class="op" id="8041141">.</span><span class="ident" id="8041142">Fatalf</span><span class="op" id="8041148">(</span><span class="string" id="8041149">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="8041174">,</span>&nbsp;<span class="ident" id="8041176">file</span><span class="op" id="8041180">,</span>&nbsp;<span class="ident" id="8041182">err</span><span class="op" id="8041185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041192">return</span>&nbsp;<span class="ident" id="8041199">f</span><span class="op" id="8041200">,</span>&nbsp;<span class="ident" id="8041202">tab</span><br>
<span class="lineno"></span><span class="op" id="8041206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8041209">var</span>&nbsp;<span class="ident" id="8041213">goarch</span>&nbsp;<span class="op" id="8041220">=</span>&nbsp;<span class="ident" id="8041222">os</span><span class="op" id="8041224">.</span><span class="ident" id="8041225">Getenv</span><span class="op" id="8041231">(</span><span class="string" id="8041232">&#34;O&#34;</span><span class="op" id="8041235">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="8041238">func</span>&nbsp;<span class="ident" id="8041243">TestLineFromAline</span><span class="op" id="8041260">(</span><span class="ident" id="8041261">t</span>&nbsp;<span class="op" id="8041263">*</span><span class="ident" id="8041264">testing</span><span class="op" id="8041271">.</span><span class="ident" id="8041272">T</span><span class="op" id="8041273">)</span>&nbsp;<span class="op" id="8041275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041278">if</span>&nbsp;<span class="op" id="8041281">!</span><span class="ident" id="8041282">dotest</span><span class="op" id="8041288">(</span><span class="builtintype" id="8041289">true</span><span class="op" id="8041293">)</span>&nbsp;<span class="op" id="8041295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041299">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041310">defer</span>&nbsp;<span class="ident" id="8041316">endtest</span><span class="op" id="8041323">(</span><span class="op" id="8041324">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041328">tab</span>&nbsp;<span class="op" id="8041332">:=</span>&nbsp;<span class="ident" id="8041335">getTable</span><span class="op" id="8041343">(</span><span class="ident" id="8041344">t</span><span class="op" id="8041345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041348">if</span>&nbsp;<span class="ident" id="8041351">tab</span><span class="op" id="8041354">.</span><span class="ident" id="8041355">go12line</span>&nbsp;<span class="op" id="8041364">!=</span>&nbsp;<span class="builtintype" id="8041367">nil</span>&nbsp;<span class="op" id="8041371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8041375">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041421">t</span><span class="op" id="8041422">.</span><span class="ident" id="8041423">Skip</span><span class="op" id="8041427">(</span><span class="string" id="8041428">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="8041465">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8041472">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041497">pkg</span>&nbsp;<span class="op" id="8041501">:=</span>&nbsp;<span class="ident" id="8041504">tab</span><span class="op" id="8041507">.</span><span class="ident" id="8041508">LookupFunc</span><span class="op" id="8041518">(</span><span class="string" id="8041519">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="8041550">)</span><span class="op" id="8041551">.</span><span class="ident" id="8041552">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041557">if</span>&nbsp;<span class="ident" id="8041560">pkg</span>&nbsp;<span class="op" id="8041564">==</span>&nbsp;<span class="builtintype" id="8041567">nil</span>&nbsp;<span class="op" id="8041571">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041575">t</span><span class="op" id="8041576">.</span><span class="ident" id="8041577">Fatalf</span><span class="op" id="8041583">(</span><span class="string" id="8041584">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="8041593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8041600">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8041658">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041688">lastline</span>&nbsp;<span class="op" id="8041697">:=</span>&nbsp;<span class="builtinfunc" id="8041700">make</span><span class="op" id="8041704">(</span><span class="keyword" id="8041705">map</span><span class="op" id="8041708">[</span><span class="builtintype" id="8041709">string</span><span class="op" id="8041715">]</span><span class="builtintype" id="8041716">int</span><span class="op" id="8041719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041722">final</span>&nbsp;<span class="op" id="8041728">:=</span>&nbsp;<span class="op" id="8041731">-</span><span class="num" id="8041732">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041735">for</span>&nbsp;<span class="ident" id="8041739">i</span>&nbsp;<span class="op" id="8041741">:=</span>&nbsp;<span class="num" id="8041744">0</span><span class="op" id="8041745">;</span>&nbsp;<span class="ident" id="8041747">i</span>&nbsp;<span class="op" id="8041749">&lt;</span>&nbsp;<span class="num" id="8041751">10000</span><span class="op" id="8041756">;</span>&nbsp;<span class="ident" id="8041758">i</span><span class="op" id="8041759">++</span>&nbsp;<span class="op" id="8041762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041766">path</span><span class="op" id="8041770">,</span>&nbsp;<span class="ident" id="8041772">line</span>&nbsp;<span class="op" id="8041777">:=</span>&nbsp;<span class="ident" id="8041780">pkg</span><span class="op" id="8041783">.</span><span class="ident" id="8041784">lineFromAline</span><span class="op" id="8041797">(</span><span class="ident" id="8041798">i</span><span class="op" id="8041799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8041803">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041832">if</span>&nbsp;<span class="ident" id="8041835">path</span>&nbsp;<span class="op" id="8041840">==</span>&nbsp;<span class="string" id="8041843">&#34;&#34;</span>&nbsp;<span class="op" id="8041846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041851">if</span>&nbsp;<span class="ident" id="8041854">final</span>&nbsp;<span class="op" id="8041860">==</span>&nbsp;<span class="op" id="8041863">-</span><span class="num" id="8041864">1</span>&nbsp;<span class="op" id="8041866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041872">final</span>&nbsp;<span class="op" id="8041878">=</span>&nbsp;<span class="ident" id="8041880">i</span>&nbsp;<span class="op" id="8041882">-</span>&nbsp;<span class="num" id="8041884">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8041894">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8041905">}</span>&nbsp;<span class="keyword" id="8041907">else</span>&nbsp;<span class="keyword" id="8041912">if</span>&nbsp;<span class="ident" id="8041915">final</span>&nbsp;<span class="op" id="8041921">!=</span>&nbsp;<span class="op" id="8041924">-</span><span class="num" id="8041925">1</span>&nbsp;<span class="op" id="8041927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8041932">t</span><span class="op" id="8041933">.</span><span class="ident" id="8041934">Fatalf</span><span class="op" id="8041940">(</span><span class="string" id="8041941">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="8042023">,</span>&nbsp;<span class="ident" id="8042025">final</span><span class="op" id="8042030">,</span>&nbsp;<span class="ident" id="8042032">i</span><span class="op" id="8042033">,</span>&nbsp;<span class="ident" id="8042035">path</span><span class="op" id="8042039">,</span>&nbsp;<span class="ident" id="8042041">line</span><span class="op" id="8042045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8042049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8042053">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042110">if</span>&nbsp;<span class="ident" id="8042113">line</span>&nbsp;<span class="op" id="8042118">==</span>&nbsp;<span class="num" id="8042121">1</span>&nbsp;<span class="op" id="8042123">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042128">lastline</span><span class="op" id="8042136">[</span><span class="ident" id="8042137">path</span><span class="op" id="8042141">]</span>&nbsp;<span class="op" id="8042143">=</span>&nbsp;<span class="num" id="8042145">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042150">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8042161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8042165">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042210">ll</span><span class="op" id="8042212">,</span>&nbsp;<span class="ident" id="8042214">ok</span>&nbsp;<span class="op" id="8042217">:=</span>&nbsp;<span class="ident" id="8042220">lastline</span><span class="op" id="8042228">[</span><span class="ident" id="8042229">path</span><span class="op" id="8042233">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042237">if</span>&nbsp;<span class="op" id="8042240">!</span><span class="ident" id="8042241">ok</span>&nbsp;<span class="op" id="8042244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042249">t</span><span class="op" id="8042250">.</span><span class="ident" id="8042251">Errorf</span><span class="op" id="8042257">(</span><span class="string" id="8042258">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="8042285">,</span>&nbsp;<span class="ident" id="8042287">path</span><span class="op" id="8042291">,</span>&nbsp;<span class="ident" id="8042293">line</span><span class="op" id="8042297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8042301">}</span>&nbsp;<span class="keyword" id="8042303">else</span>&nbsp;<span class="keyword" id="8042308">if</span>&nbsp;<span class="ident" id="8042311">line</span>&nbsp;<span class="op" id="8042316">!=</span>&nbsp;<span class="ident" id="8042319">ll</span><span class="op" id="8042321">+</span><span class="num" id="8042322">1</span>&nbsp;<span class="op" id="8042324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042329">t</span><span class="op" id="8042330">.</span><span class="ident" id="8042331">Fatalf</span><span class="op" id="8042337">(</span><span class="string" id="8042338">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8042386">,</span>&nbsp;<span class="ident" id="8042388">path</span><span class="op" id="8042392">,</span>&nbsp;<span class="ident" id="8042394">ll</span><span class="op" id="8042396">+</span><span class="num" id="8042397">1</span><span class="op" id="8042398">,</span>&nbsp;<span class="ident" id="8042400">line</span><span class="op" id="8042404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8042408">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042412">lastline</span><span class="op" id="8042420">[</span><span class="ident" id="8042421">path</span><span class="op" id="8042425">]</span>&nbsp;<span class="op" id="8042427">=</span>&nbsp;<span class="ident" id="8042429">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8042435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042438">if</span>&nbsp;<span class="ident" id="8042441">final</span>&nbsp;<span class="op" id="8042447">==</span>&nbsp;<span class="op" id="8042450">-</span><span class="num" id="8042451">1</span>&nbsp;<span class="op" id="8042453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042457">t</span><span class="op" id="8042458">.</span><span class="ident" id="8042459">Errorf</span><span class="op" id="8042465">(</span><span class="string" id="8042466">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="8042495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8042498">}</span><br>
<span class="lineno">160</span><span class="op" id="8042500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8042503">func</span>&nbsp;<span class="ident" id="8042508">TestLineAline</span><span class="op" id="8042521">(</span><span class="ident" id="8042522">t</span>&nbsp;<span class="op" id="8042524">*</span><span class="ident" id="8042525">testing</span><span class="op" id="8042532">.</span><span class="ident" id="8042533">T</span><span class="op" id="8042534">)</span>&nbsp;<span class="op" id="8042536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042539">if</span>&nbsp;<span class="op" id="8042542">!</span><span class="ident" id="8042543">dotest</span><span class="op" id="8042549">(</span><span class="builtintype" id="8042550">true</span><span class="op" id="8042554">)</span>&nbsp;<span class="op" id="8042556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042560">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8042568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042571">defer</span>&nbsp;<span class="ident" id="8042577">endtest</span><span class="op" id="8042584">(</span><span class="op" id="8042585">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042589">tab</span>&nbsp;<span class="op" id="8042593">:=</span>&nbsp;<span class="ident" id="8042596">getTable</span><span class="op" id="8042604">(</span><span class="ident" id="8042605">t</span><span class="op" id="8042606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042609">if</span>&nbsp;<span class="ident" id="8042612">tab</span><span class="op" id="8042615">.</span><span class="ident" id="8042616">go12line</span>&nbsp;<span class="op" id="8042625">!=</span>&nbsp;<span class="builtintype" id="8042628">nil</span>&nbsp;<span class="op" id="8042632">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8042636">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042682">t</span><span class="op" id="8042683">.</span><span class="ident" id="8042684">Skip</span><span class="op" id="8042688">(</span><span class="string" id="8042689">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="8042726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8042729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042733">for</span>&nbsp;<span class="ident" id="8042737">_</span><span class="op" id="8042738">,</span>&nbsp;<span class="ident" id="8042740">o</span>&nbsp;<span class="op" id="8042742">:=</span>&nbsp;<span class="keyword" id="8042745">range</span>&nbsp;<span class="ident" id="8042751">tab</span><span class="op" id="8042754">.</span><span class="ident" id="8042755">Files</span>&nbsp;<span class="op" id="8042761">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8042765">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8042815">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8042872">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042926">found</span>&nbsp;<span class="op" id="8042932">:=</span>&nbsp;<span class="builtinfunc" id="8042935">make</span><span class="op" id="8042939">(</span><span class="keyword" id="8042940">map</span><span class="op" id="8042943">[</span><span class="builtintype" id="8042944">string</span><span class="op" id="8042950">]</span><span class="builtintype" id="8042951">int</span><span class="op" id="8042954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8042958">for</span>&nbsp;<span class="ident" id="8042962">i</span>&nbsp;<span class="op" id="8042964">:=</span>&nbsp;<span class="num" id="8042967">0</span><span class="op" id="8042968">;</span>&nbsp;<span class="ident" id="8042970">i</span>&nbsp;<span class="op" id="8042972">&lt;</span>&nbsp;<span class="num" id="8042974">1000</span><span class="op" id="8042978">;</span>&nbsp;<span class="ident" id="8042980">i</span><span class="op" id="8042981">++</span>&nbsp;<span class="op" id="8042984">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8042989">path</span><span class="op" id="8042993">,</span>&nbsp;<span class="ident" id="8042995">line</span>&nbsp;<span class="op" id="8043000">:=</span>&nbsp;<span class="ident" id="8043003">o</span><span class="op" id="8043004">.</span><span class="ident" id="8043005">lineFromAline</span><span class="op" id="8043018">(</span><span class="ident" id="8043019">i</span><span class="op" id="8043020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043025">if</span>&nbsp;<span class="ident" id="8043028">path</span>&nbsp;<span class="op" id="8043033">==</span>&nbsp;<span class="string" id="8043036">&#34;&#34;</span>&nbsp;<span class="op" id="8043039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043045">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8043060">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043123">if</span>&nbsp;<span class="builtinfunc" id="8043126">len</span><span class="op" id="8043129">(</span><span class="ident" id="8043130">path</span><span class="op" id="8043134">)</span>&nbsp;<span class="op" id="8043136">&gt;</span>&nbsp;<span class="num" id="8043138">4</span>&nbsp;<span class="op" id="8043140">&amp;&amp;</span>&nbsp;<span class="ident" id="8043143">path</span><span class="op" id="8043147">[</span><span class="builtinfunc" id="8043148">len</span><span class="op" id="8043151">(</span><span class="ident" id="8043152">path</span><span class="op" id="8043156">)</span><span class="op" id="8043157">-</span><span class="num" id="8043158">4</span><span class="op" id="8043159">:</span><span class="op" id="8043160">]</span>&nbsp;<span class="op" id="8043162">==</span>&nbsp;<span class="string" id="8043165">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="8043172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043178">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043196">if</span>&nbsp;<span class="ident" id="8043199">minline</span><span class="op" id="8043206">,</span>&nbsp;<span class="ident" id="8043208">ok</span>&nbsp;<span class="op" id="8043211">:=</span>&nbsp;<span class="ident" id="8043214">found</span><span class="op" id="8043219">[</span><span class="ident" id="8043220">path</span><span class="op" id="8043224">]</span><span class="op" id="8043225">;</span>&nbsp;<span class="ident" id="8043227">path</span>&nbsp;<span class="op" id="8043232">!=</span>&nbsp;<span class="string" id="8043235">&#34;&#34;</span>&nbsp;<span class="op" id="8043238">&amp;&amp;</span>&nbsp;<span class="ident" id="8043241">ok</span>&nbsp;<span class="op" id="8043244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043250">if</span>&nbsp;<span class="ident" id="8043253">minline</span>&nbsp;<span class="op" id="8043261">&gt;=</span>&nbsp;<span class="ident" id="8043264">line</span>&nbsp;<span class="op" id="8043269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8043276">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043316">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043329">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043339">found</span><span class="op" id="8043344">[</span><span class="ident" id="8043345">path</span><span class="op" id="8043349">]</span>&nbsp;<span class="op" id="8043351">=</span>&nbsp;<span class="ident" id="8043353">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043362">a</span><span class="op" id="8043363">,</span>&nbsp;<span class="ident" id="8043365">err</span>&nbsp;<span class="op" id="8043369">:=</span>&nbsp;<span class="ident" id="8043372">o</span><span class="op" id="8043373">.</span><span class="ident" id="8043374">alineFromLine</span><span class="op" id="8043387">(</span><span class="ident" id="8043388">path</span><span class="op" id="8043392">,</span>&nbsp;<span class="ident" id="8043394">line</span><span class="op" id="8043398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043403">if</span>&nbsp;<span class="ident" id="8043406">err</span>&nbsp;<span class="op" id="8043410">!=</span>&nbsp;<span class="builtintype" id="8043413">nil</span>&nbsp;<span class="op" id="8043417">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043423">t</span><span class="op" id="8043424">.</span><span class="ident" id="8043425">Errorf</span><span class="op" id="8043431">(</span><span class="string" id="8043432">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="8043515">,</span>&nbsp;<span class="ident" id="8043517">i</span><span class="op" id="8043518">,</span>&nbsp;<span class="ident" id="8043520">o</span><span class="op" id="8043521">.</span><span class="ident" id="8043522">Paths</span><span class="op" id="8043527">[</span><span class="num" id="8043528">0</span><span class="op" id="8043529">]</span><span class="op" id="8043530">.</span><span class="ident" id="8043531">Name</span><span class="op" id="8043535">,</span>&nbsp;<span class="ident" id="8043537">path</span><span class="op" id="8043541">,</span>&nbsp;<span class="ident" id="8043543">line</span><span class="op" id="8043547">,</span>&nbsp;<span class="ident" id="8043549">err</span><span class="op" id="8043552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043557">}</span>&nbsp;<span class="keyword" id="8043559">else</span>&nbsp;<span class="keyword" id="8043564">if</span>&nbsp;<span class="ident" id="8043567">a</span>&nbsp;<span class="op" id="8043569">!=</span>&nbsp;<span class="ident" id="8043572">i</span>&nbsp;<span class="op" id="8043574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043580">t</span><span class="op" id="8043581">.</span><span class="ident" id="8043582">Errorf</span><span class="op" id="8043588">(</span><span class="string" id="8043589">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="8043673">,</span>&nbsp;<span class="ident" id="8043675">i</span><span class="op" id="8043676">,</span>&nbsp;<span class="ident" id="8043678">o</span><span class="op" id="8043679">.</span><span class="ident" id="8043680">Paths</span><span class="op" id="8043685">[</span><span class="num" id="8043686">0</span><span class="op" id="8043687">]</span><span class="op" id="8043688">.</span><span class="ident" id="8043689">Name</span><span class="op" id="8043693">,</span>&nbsp;<span class="ident" id="8043695">path</span><span class="op" id="8043699">,</span>&nbsp;<span class="ident" id="8043701">line</span><span class="op" id="8043705">,</span>&nbsp;<span class="ident" id="8043707">a</span><span class="op" id="8043708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043717">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043720">}</span><br>
<span class="lineno"></span><span class="op" id="8043722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8043725">func</span>&nbsp;<span class="ident" id="8043730">TestPCLine</span><span class="op" id="8043740">(</span><span class="ident" id="8043741">t</span>&nbsp;<span class="op" id="8043743">*</span><span class="ident" id="8043744">testing</span><span class="op" id="8043751">.</span><span class="ident" id="8043752">T</span><span class="op" id="8043753">)</span>&nbsp;<span class="op" id="8043755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043758">if</span>&nbsp;<span class="op" id="8043761">!</span><span class="ident" id="8043762">dotest</span><span class="op" id="8043768">(</span><span class="builtintype" id="8043769">false</span><span class="op" id="8043774">)</span>&nbsp;<span class="op" id="8043776">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043780">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043791">defer</span>&nbsp;<span class="ident" id="8043797">endtest</span><span class="op" id="8043804">(</span><span class="op" id="8043805">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043809">f</span><span class="op" id="8043810">,</span>&nbsp;<span class="ident" id="8043812">tab</span>&nbsp;<span class="op" id="8043816">:=</span>&nbsp;<span class="ident" id="8043819">crack</span><span class="op" id="8043824">(</span><span class="ident" id="8043825">pclinetestBinary</span><span class="op" id="8043841">,</span>&nbsp;<span class="ident" id="8043843">t</span><span class="op" id="8043844">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043847">text</span>&nbsp;<span class="op" id="8043852">:=</span>&nbsp;<span class="ident" id="8043855">f</span><span class="op" id="8043856">.</span><span class="ident" id="8043857">Section</span><span class="op" id="8043864">(</span><span class="string" id="8043865">&#34;.text&#34;</span><span class="op" id="8043872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043875">textdat</span><span class="op" id="8043882">,</span>&nbsp;<span class="ident" id="8043884">err</span>&nbsp;<span class="op" id="8043888">:=</span>&nbsp;<span class="ident" id="8043891">text</span><span class="op" id="8043895">.</span><span class="ident" id="8043896">Data</span><span class="op" id="8043900">(</span><span class="op" id="8043901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8043904">if</span>&nbsp;<span class="ident" id="8043907">err</span>&nbsp;<span class="op" id="8043911">!=</span>&nbsp;<span class="builtintype" id="8043914">nil</span>&nbsp;<span class="op" id="8043918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043922">t</span><span class="op" id="8043923">.</span><span class="ident" id="8043924">Fatalf</span><span class="op" id="8043930">(</span><span class="string" id="8043931">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="8043950">,</span>&nbsp;<span class="ident" id="8043952">err</span><span class="op" id="8043955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8043958">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8043962">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8043980">sym</span>&nbsp;<span class="op" id="8043984">:=</span>&nbsp;<span class="ident" id="8043987">tab</span><span class="op" id="8043990">.</span><span class="ident" id="8043991">LookupFunc</span><span class="op" id="8044001">(</span><span class="string" id="8044002">&#34;linefrompc&#34;</span><span class="op" id="8044014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044017">wantLine</span>&nbsp;<span class="op" id="8044026">:=</span>&nbsp;<span class="num" id="8044029">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8044032">for</span>&nbsp;<span class="ident" id="8044036">pc</span>&nbsp;<span class="op" id="8044039">:=</span>&nbsp;<span class="ident" id="8044042">sym</span><span class="op" id="8044045">.</span><span class="ident" id="8044046">Entry</span><span class="op" id="8044051">;</span>&nbsp;<span class="ident" id="8044053">pc</span>&nbsp;<span class="op" id="8044056">&lt;</span>&nbsp;<span class="ident" id="8044058">sym</span><span class="op" id="8044061">.</span><span class="ident" id="8044062">End</span><span class="op" id="8044065">;</span>&nbsp;<span class="ident" id="8044067">pc</span><span class="op" id="8044069">++</span>&nbsp;<span class="op" id="8044072">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044076">off</span>&nbsp;<span class="op" id="8044080">:=</span>&nbsp;<span class="ident" id="8044083">pc</span>&nbsp;<span class="op" id="8044086">-</span>&nbsp;<span class="ident" id="8044088">text</span><span class="op" id="8044092">.</span><span class="ident" id="8044093">Addr</span>&nbsp;<span class="comment" id="8044098">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8044145">if</span>&nbsp;<span class="ident" id="8044148">textdat</span><span class="op" id="8044155">[</span><span class="ident" id="8044156">off</span><span class="op" id="8044159">]</span>&nbsp;<span class="op" id="8044161">==</span>&nbsp;<span class="num" id="8044164">255</span>&nbsp;<span class="op" id="8044168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8044173">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8044181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044185">wantLine</span>&nbsp;<span class="op" id="8044194">+=</span>&nbsp;<span class="builtintype" id="8044197">int</span><span class="op" id="8044200">(</span><span class="ident" id="8044201">textdat</span><span class="op" id="8044208">[</span><span class="ident" id="8044209">off</span><span class="op" id="8044212">]</span><span class="op" id="8044213">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044217">t</span><span class="op" id="8044218">.</span><span class="ident" id="8044219">Logf</span><span class="op" id="8044223">(</span><span class="string" id="8044224">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="8044248">,</span>&nbsp;<span class="ident" id="8044250">off</span><span class="op" id="8044253">,</span>&nbsp;<span class="ident" id="8044255">textdat</span><span class="op" id="8044262">[</span><span class="ident" id="8044263">off</span><span class="op" id="8044266">]</span><span class="op" id="8044267">,</span>&nbsp;<span class="ident" id="8044269">sym</span><span class="op" id="8044272">.</span><span class="ident" id="8044273">End</span><span class="op" id="8044276">-</span><span class="ident" id="8044277">pc</span><span class="op" id="8044279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044283">file</span><span class="op" id="8044287">,</span>&nbsp;<span class="ident" id="8044289">line</span><span class="op" id="8044293">,</span>&nbsp;<span class="ident" id="8044295">fn</span>&nbsp;<span class="op" id="8044298">:=</span>&nbsp;<span class="ident" id="8044301">tab</span><span class="op" id="8044304">.</span><span class="ident" id="8044305">PCToLine</span><span class="op" id="8044313">(</span><span class="ident" id="8044314">pc</span><span class="op" id="8044316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8044320">if</span>&nbsp;<span class="ident" id="8044323">fn</span>&nbsp;<span class="op" id="8044326">==</span>&nbsp;<span class="builtintype" id="8044329">nil</span>&nbsp;<span class="op" id="8044333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044338">t</span><span class="op" id="8044339">.</span><span class="ident" id="8044340">Errorf</span><span class="op" id="8044346">(</span><span class="string" id="8044347">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="8044377">,</span>&nbsp;<span class="ident" id="8044379">pc</span><span class="op" id="8044381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8044385">}</span>&nbsp;<span class="keyword" id="8044387">else</span>&nbsp;<span class="keyword" id="8044392">if</span>&nbsp;<span class="op" id="8044395">!</span><span class="ident" id="8044396">strings</span><span class="op" id="8044403">.</span><span class="ident" id="8044404">HasSuffix</span><span class="op" id="8044413">(</span><span class="ident" id="8044414">file</span><span class="op" id="8044418">,</span>&nbsp;<span class="string" id="8044420">&#34;pclinetest.asm&#34;</span><span class="op" id="8044436">)</span>&nbsp;<span class="op" id="8044438">||</span>&nbsp;<span class="ident" id="8044441">line</span>&nbsp;<span class="op" id="8044446">!=</span>&nbsp;<span class="ident" id="8044449">wantLine</span>&nbsp;<span class="op" id="8044458">||</span>&nbsp;<span class="ident" id="8044461">fn</span>&nbsp;<span class="op" id="8044464">!=</span>&nbsp;<span class="ident" id="8044467">sym</span>&nbsp;<span class="op" id="8044471">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044476">t</span><span class="op" id="8044477">.</span><span class="ident" id="8044478">Errorf</span><span class="op" id="8044484">(</span><span class="string" id="8044485">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="8044530">,</span>&nbsp;<span class="ident" id="8044532">pc</span><span class="op" id="8044534">,</span>&nbsp;<span class="ident" id="8044536">file</span><span class="op" id="8044540">,</span>&nbsp;<span class="ident" id="8044542">line</span><span class="op" id="8044546">,</span>&nbsp;<span class="ident" id="8044548">fn</span><span class="op" id="8044550">.</span><span class="ident" id="8044551">Name</span><span class="op" id="8044555">,</span>&nbsp;<span class="string" id="8044557">&#34;pclinetest.asm&#34;</span><span class="op" id="8044573">,</span>&nbsp;<span class="ident" id="8044575">wantLine</span><span class="op" id="8044583">,</span>&nbsp;<span class="ident" id="8044585">sym</span><span class="op" id="8044588">.</span><span class="ident" id="8044589">Name</span><span class="op" id="8044593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8044597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8044600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8044604">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044622">sym</span>&nbsp;<span class="op" id="8044626">=</span>&nbsp;<span class="ident" id="8044628">tab</span><span class="op" id="8044631">.</span><span class="ident" id="8044632">LookupFunc</span><span class="op" id="8044642">(</span><span class="string" id="8044643">&#34;pcfromline&#34;</span><span class="op" id="8044655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044658">lookupline</span>&nbsp;<span class="op" id="8044669">:=</span>&nbsp;<span class="op" id="8044672">-</span><span class="num" id="8044673">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044676">wantLine</span>&nbsp;<span class="op" id="8044685">=</span>&nbsp;<span class="num" id="8044687">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044690">off</span>&nbsp;<span class="op" id="8044694">:=</span>&nbsp;<span class="builtintype" id="8044697">uint64</span><span class="op" id="8044703">(</span><span class="num" id="8044704">0</span><span class="op" id="8044705">)</span>&nbsp;<span class="comment" id="8044707">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8044753">for</span>&nbsp;<span class="ident" id="8044757">pc</span>&nbsp;<span class="op" id="8044760">:=</span>&nbsp;<span class="ident" id="8044763">sym</span><span class="op" id="8044766">.</span><span class="ident" id="8044767">Value</span><span class="op" id="8044772">;</span>&nbsp;<span class="ident" id="8044774">pc</span>&nbsp;<span class="op" id="8044777">&lt;</span>&nbsp;<span class="ident" id="8044779">sym</span><span class="op" id="8044782">.</span><span class="ident" id="8044783">End</span><span class="op" id="8044786">;</span>&nbsp;<span class="ident" id="8044788">pc</span>&nbsp;<span class="op" id="8044791">+=</span>&nbsp;<span class="num" id="8044794">2</span>&nbsp;<span class="op" id="8044796">+</span>&nbsp;<span class="builtintype" id="8044798">uint64</span><span class="op" id="8044804">(</span><span class="ident" id="8044805">textdat</span><span class="op" id="8044812">[</span><span class="ident" id="8044813">off</span><span class="op" id="8044816">]</span><span class="op" id="8044817">)</span>&nbsp;<span class="op" id="8044819">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044823">file</span><span class="op" id="8044827">,</span>&nbsp;<span class="ident" id="8044829">line</span><span class="op" id="8044833">,</span>&nbsp;<span class="ident" id="8044835">fn</span>&nbsp;<span class="op" id="8044838">:=</span>&nbsp;<span class="ident" id="8044841">tab</span><span class="op" id="8044844">.</span><span class="ident" id="8044845">PCToLine</span><span class="op" id="8044853">(</span><span class="ident" id="8044854">pc</span><span class="op" id="8044856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044860">off</span>&nbsp;<span class="op" id="8044864">=</span>&nbsp;<span class="ident" id="8044866">pc</span>&nbsp;<span class="op" id="8044869">-</span>&nbsp;<span class="ident" id="8044871">text</span><span class="op" id="8044875">.</span><span class="ident" id="8044876">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8044883">if</span>&nbsp;<span class="ident" id="8044886">textdat</span><span class="op" id="8044893">[</span><span class="ident" id="8044894">off</span><span class="op" id="8044897">]</span>&nbsp;<span class="op" id="8044899">==</span>&nbsp;<span class="num" id="8044902">255</span>&nbsp;<span class="op" id="8044906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8044911">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8044919">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044923">wantLine</span>&nbsp;<span class="op" id="8044932">+=</span>&nbsp;<span class="builtintype" id="8044935">int</span><span class="op" id="8044938">(</span><span class="ident" id="8044939">textdat</span><span class="op" id="8044946">[</span><span class="ident" id="8044947">off</span><span class="op" id="8044950">]</span><span class="op" id="8044951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8044955">if</span>&nbsp;<span class="ident" id="8044958">line</span>&nbsp;<span class="op" id="8044963">!=</span>&nbsp;<span class="ident" id="8044966">wantLine</span>&nbsp;<span class="op" id="8044975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8044980">t</span><span class="op" id="8044981">.</span><span class="ident" id="8044982">Errorf</span><span class="op" id="8044988">(</span><span class="string" id="8044989">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8045039">,</span>&nbsp;<span class="ident" id="8045041">wantLine</span><span class="op" id="8045049">,</span>&nbsp;<span class="ident" id="8045051">pc</span><span class="op" id="8045053">,</span>&nbsp;<span class="ident" id="8045055">line</span><span class="op" id="8045059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8045064">off</span>&nbsp;<span class="op" id="8045068">=</span>&nbsp;<span class="ident" id="8045070">pc</span>&nbsp;<span class="op" id="8045073">+</span>&nbsp;<span class="num" id="8045075">1</span>&nbsp;<span class="op" id="8045077">-</span>&nbsp;<span class="ident" id="8045079">text</span><span class="op" id="8045083">.</span><span class="ident" id="8045084">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8045092">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8045107">if</span>&nbsp;<span class="ident" id="8045110">lookupline</span>&nbsp;<span class="op" id="8045121">==</span>&nbsp;<span class="op" id="8045124">-</span><span class="num" id="8045125">1</span>&nbsp;<span class="op" id="8045127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8045132">lookupline</span>&nbsp;<span class="op" id="8045143">=</span>&nbsp;<span class="ident" id="8045145">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8045156">for</span>&nbsp;<span class="op" id="8045160">;</span>&nbsp;<span class="ident" id="8045162">lookupline</span>&nbsp;<span class="op" id="8045173">&lt;=</span>&nbsp;<span class="ident" id="8045176">line</span><span class="op" id="8045180">;</span>&nbsp;<span class="ident" id="8045182">lookupline</span><span class="op" id="8045192">++</span>&nbsp;<span class="op" id="8045195">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8045200">pc2</span><span class="op" id="8045203">,</span>&nbsp;<span class="ident" id="8045205">fn2</span><span class="op" id="8045208">,</span>&nbsp;<span class="ident" id="8045210">err</span>&nbsp;<span class="op" id="8045214">:=</span>&nbsp;<span class="ident" id="8045217">tab</span><span class="op" id="8045220">.</span><span class="ident" id="8045221">LineToPC</span><span class="op" id="8045229">(</span><span class="ident" id="8045230">file</span><span class="op" id="8045234">,</span>&nbsp;<span class="ident" id="8045236">lookupline</span><span class="op" id="8045246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8045251">if</span>&nbsp;<span class="ident" id="8045254">lookupline</span>&nbsp;<span class="op" id="8045265">!=</span>&nbsp;<span class="ident" id="8045268">line</span>&nbsp;<span class="op" id="8045273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8045279">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8045317">if</span>&nbsp;<span class="ident" id="8045320">err</span>&nbsp;<span class="op" id="8045324">==</span>&nbsp;<span class="builtintype" id="8045327">nil</span>&nbsp;<span class="op" id="8045331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8045338">t</span><span class="op" id="8045339">.</span><span class="ident" id="8045340">Errorf</span><span class="op" id="8045346">(</span><span class="string" id="8045347">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="8045388">,</span>&nbsp;<span class="ident" id="8045390">lookupline</span><span class="op" id="8045400">,</span>&nbsp;<span class="ident" id="8045402">pc2</span><span class="op" id="8045405">,</span>&nbsp;<span class="ident" id="8045407">fn2</span><span class="op" id="8045410">.</span><span class="ident" id="8045411">Name</span><span class="op" id="8045415">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045426">}</span>&nbsp;<span class="keyword" id="8045428">else</span>&nbsp;<span class="keyword" id="8045433">if</span>&nbsp;<span class="ident" id="8045436">err</span>&nbsp;<span class="op" id="8045440">!=</span>&nbsp;<span class="builtintype" id="8045443">nil</span>&nbsp;<span class="op" id="8045447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8045453">t</span><span class="op" id="8045454">.</span><span class="ident" id="8045455">Errorf</span><span class="op" id="8045461">(</span><span class="string" id="8045462">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8045495">,</span>&nbsp;<span class="ident" id="8045497">lookupline</span><span class="op" id="8045507">,</span>&nbsp;<span class="ident" id="8045509">err</span><span class="op" id="8045512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045517">}</span>&nbsp;<span class="keyword" id="8045519">else</span>&nbsp;<span class="keyword" id="8045524">if</span>&nbsp;<span class="ident" id="8045527">pc</span>&nbsp;<span class="op" id="8045530">!=</span>&nbsp;<span class="ident" id="8045533">pc2</span>&nbsp;<span class="op" id="8045537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8045543">t</span><span class="op" id="8045544">.</span><span class="ident" id="8045545">Errorf</span><span class="op" id="8045551">(</span><span class="string" id="8045552">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="8045602">,</span>&nbsp;<span class="ident" id="8045604">pc</span><span class="op" id="8045606">,</span>&nbsp;<span class="ident" id="8045608">fn</span><span class="op" id="8045610">.</span><span class="ident" id="8045611">Name</span><span class="op" id="8045615">,</span>&nbsp;<span class="ident" id="8045617">line</span><span class="op" id="8045621">,</span>&nbsp;<span class="ident" id="8045623">pc2</span><span class="op" id="8045626">,</span>&nbsp;<span class="ident" id="8045628">fn2</span><span class="op" id="8045631">.</span><span class="ident" id="8045632">Name</span><span class="op" id="8045636">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8045649">off</span>&nbsp;<span class="op" id="8045653">=</span>&nbsp;<span class="ident" id="8045655">pc</span>&nbsp;<span class="op" id="8045658">+</span>&nbsp;<span class="num" id="8045660">1</span>&nbsp;<span class="op" id="8045662">-</span>&nbsp;<span class="ident" id="8045664">text</span><span class="op" id="8045668">.</span><span class="ident" id="8045669">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8045675">}</span><br>
<span class="lineno"></span><span class="op" id="8045677">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
