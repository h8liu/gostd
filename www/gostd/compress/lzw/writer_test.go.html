<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/lzw</h2>
<ul>
<li><a href="/gostd/compress/lzw/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/lzw/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/lzw/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/lzw/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6886348">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6886403">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6886457">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6886508">package</span>&nbsp;<span class="ident" id="6886516">lzw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6886521">import</span>&nbsp;<span class="op" id="6886528">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6886531">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6886537">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6886550">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6886556">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6886567">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6886577">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6886580">var</span>&nbsp;<span class="ident" id="6886584">filenames</span>&nbsp;<span class="op" id="6886594">=</span>&nbsp;<span class="op" id="6886596">[</span><span class="op" id="6886597">]</span><span class="builtintype" id="6886598">string</span><span class="op" id="6886604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6886607">&#34;../testdata/e.txt&#34;</span><span class="op" id="6886626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6886629">&#34;../testdata/pi.txt&#34;</span><span class="op" id="6886649">,</span><br>
<span class="lineno"></span><span class="op" id="6886651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="6886654">//&nbsp;testFile&nbsp;tests&nbsp;that&nbsp;compressing&nbsp;and&nbsp;then&nbsp;decompressing&nbsp;the&nbsp;given&nbsp;file&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="6886732">//&nbsp;the&nbsp;given&nbsp;options&nbsp;yields&nbsp;equivalent&nbsp;bytes&nbsp;to&nbsp;the&nbsp;original&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="6886799">func</span>&nbsp;<span class="ident" id="6886804">testFile</span><span class="op" id="6886812">(</span><span class="ident" id="6886813">t</span>&nbsp;<span class="op" id="6886815">*</span><span class="ident" id="6886816">testing</span><span class="op" id="6886823">.</span><span class="ident" id="6886824">T</span><span class="op" id="6886825">,</span>&nbsp;<span class="ident" id="6886827">fn</span>&nbsp;<span class="builtintype" id="6886830">string</span><span class="op" id="6886836">,</span>&nbsp;<span class="ident" id="6886838">order</span>&nbsp;<span class="ident" id="6886844">Order</span><span class="op" id="6886849">,</span>&nbsp;<span class="ident" id="6886851">litWidth</span>&nbsp;<span class="builtintype" id="6886860">int</span><span class="op" id="6886863">)</span>&nbsp;<span class="op" id="6886865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6886868">//&nbsp;Read&nbsp;the&nbsp;file,&nbsp;as&nbsp;golden&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886905">golden</span><span class="op" id="6886911">,</span>&nbsp;<span class="ident" id="6886913">err</span>&nbsp;<span class="op" id="6886917">:=</span>&nbsp;<span class="ident" id="6886920">os</span><span class="op" id="6886922">.</span><span class="ident" id="6886923">Open</span><span class="op" id="6886927">(</span><span class="ident" id="6886928">fn</span><span class="op" id="6886930">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6886933">if</span>&nbsp;<span class="ident" id="6886936">err</span>&nbsp;<span class="op" id="6886940">!=</span>&nbsp;<span class="ident" id="6886943">nil</span>&nbsp;<span class="op" id="6886947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6886951">t</span><span class="op" id="6886952">.</span><span class="ident" id="6886953">Errorf</span><span class="op" id="6886959">(</span><span class="string" id="6886960">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="6886991">,</span>&nbsp;<span class="ident" id="6886993">fn</span><span class="op" id="6886995">,</span>&nbsp;<span class="ident" id="6886997">order</span><span class="op" id="6887002">,</span>&nbsp;<span class="ident" id="6887004">litWidth</span><span class="op" id="6887012">,</span>&nbsp;<span class="ident" id="6887014">err</span><span class="op" id="6887017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887021">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887032">defer</span>&nbsp;<span class="ident" id="6887038">golden</span><span class="op" id="6887044">.</span><span class="ident" id="6887045">Close</span><span class="op" id="6887050">(</span><span class="op" id="6887051">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6887055">//&nbsp;Read&nbsp;the&nbsp;file&nbsp;again,&nbsp;and&nbsp;push&nbsp;it&nbsp;through&nbsp;a&nbsp;pipe&nbsp;that&nbsp;compresses&nbsp;at&nbsp;the&nbsp;write&nbsp;end,&nbsp;and&nbsp;decompresses&nbsp;at&nbsp;the&nbsp;read&nbsp;end.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887175">raw</span><span class="op" id="6887178">,</span>&nbsp;<span class="ident" id="6887180">err</span>&nbsp;<span class="op" id="6887184">:=</span>&nbsp;<span class="ident" id="6887187">os</span><span class="op" id="6887189">.</span><span class="ident" id="6887190">Open</span><span class="op" id="6887194">(</span><span class="ident" id="6887195">fn</span><span class="op" id="6887197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887200">if</span>&nbsp;<span class="ident" id="6887203">err</span>&nbsp;<span class="op" id="6887207">!=</span>&nbsp;<span class="ident" id="6887210">nil</span>&nbsp;<span class="op" id="6887214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887218">t</span><span class="op" id="6887219">.</span><span class="ident" id="6887220">Errorf</span><span class="op" id="6887226">(</span><span class="string" id="6887227">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="6887258">,</span>&nbsp;<span class="ident" id="6887260">fn</span><span class="op" id="6887262">,</span>&nbsp;<span class="ident" id="6887264">order</span><span class="op" id="6887269">,</span>&nbsp;<span class="ident" id="6887271">litWidth</span><span class="op" id="6887279">,</span>&nbsp;<span class="ident" id="6887281">err</span><span class="op" id="6887284">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887288">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887300">piper</span><span class="op" id="6887305">,</span>&nbsp;<span class="ident" id="6887307">pipew</span>&nbsp;<span class="op" id="6887313">:=</span>&nbsp;<span class="ident" id="6887316">io</span><span class="op" id="6887318">.</span><span class="ident" id="6887319">Pipe</span><span class="op" id="6887323">(</span><span class="op" id="6887324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887327">defer</span>&nbsp;<span class="ident" id="6887333">piper</span><span class="op" id="6887338">.</span><span class="ident" id="6887339">Close</span><span class="op" id="6887344">(</span><span class="op" id="6887345">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887348">go</span>&nbsp;<span class="keyword" id="6887351">func</span><span class="op" id="6887355">(</span><span class="op" id="6887356">)</span>&nbsp;<span class="op" id="6887358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887362">defer</span>&nbsp;<span class="ident" id="6887368">raw</span><span class="op" id="6887371">.</span><span class="ident" id="6887372">Close</span><span class="op" id="6887377">(</span><span class="op" id="6887378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887382">defer</span>&nbsp;<span class="ident" id="6887388">pipew</span><span class="op" id="6887393">.</span><span class="ident" id="6887394">Close</span><span class="op" id="6887399">(</span><span class="op" id="6887400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887404">lzww</span>&nbsp;<span class="op" id="6887409">:=</span>&nbsp;<span class="ident" id="6887412">NewWriter</span><span class="op" id="6887421">(</span><span class="ident" id="6887422">pipew</span><span class="op" id="6887427">,</span>&nbsp;<span class="ident" id="6887429">order</span><span class="op" id="6887434">,</span>&nbsp;<span class="ident" id="6887436">litWidth</span><span class="op" id="6887444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887448">defer</span>&nbsp;<span class="ident" id="6887454">lzww</span><span class="op" id="6887458">.</span><span class="ident" id="6887459">Close</span><span class="op" id="6887464">(</span><span class="op" id="6887465">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887469">var</span>&nbsp;<span class="ident" id="6887473">b</span>&nbsp;<span class="op" id="6887475">[</span><span class="num" id="6887476">4096</span><span class="op" id="6887480">]</span><span class="builtintype" id="6887481">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887488">for</span>&nbsp;<span class="op" id="6887492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887497">n</span><span class="op" id="6887498">,</span>&nbsp;<span class="ident" id="6887500">err0</span>&nbsp;<span class="op" id="6887505">:=</span>&nbsp;<span class="ident" id="6887508">raw</span><span class="op" id="6887511">.</span><span class="ident" id="6887512">Read</span><span class="op" id="6887516">(</span><span class="ident" id="6887517">b</span><span class="op" id="6887518">[</span><span class="op" id="6887519">:</span><span class="op" id="6887520">]</span><span class="op" id="6887521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887526">if</span>&nbsp;<span class="ident" id="6887529">err0</span>&nbsp;<span class="op" id="6887534">!=</span>&nbsp;<span class="ident" id="6887537">nil</span>&nbsp;<span class="op" id="6887541">&amp;&amp;</span>&nbsp;<span class="ident" id="6887544">err0</span>&nbsp;<span class="op" id="6887549">!=</span>&nbsp;<span class="ident" id="6887552">io</span><span class="op" id="6887554">.</span><span class="ident" id="6887555">EOF</span>&nbsp;<span class="op" id="6887559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887565">t</span><span class="op" id="6887566">.</span><span class="ident" id="6887567">Errorf</span><span class="op" id="6887573">(</span><span class="string" id="6887574">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="6887605">,</span>&nbsp;<span class="ident" id="6887607">fn</span><span class="op" id="6887609">,</span>&nbsp;<span class="ident" id="6887611">order</span><span class="op" id="6887616">,</span>&nbsp;<span class="ident" id="6887618">litWidth</span><span class="op" id="6887626">,</span>&nbsp;<span class="ident" id="6887628">err0</span><span class="op" id="6887632">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887638">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887653">_</span><span class="op" id="6887654">,</span>&nbsp;<span class="ident" id="6887656">err1</span>&nbsp;<span class="op" id="6887661">:=</span>&nbsp;<span class="ident" id="6887664">lzww</span><span class="op" id="6887668">.</span><span class="ident" id="6887669">Write</span><span class="op" id="6887674">(</span><span class="ident" id="6887675">b</span><span class="op" id="6887676">[</span><span class="op" id="6887677">:</span><span class="ident" id="6887678">n</span><span class="op" id="6887679">]</span><span class="op" id="6887680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887685">if</span>&nbsp;<span class="ident" id="6887688">err1</span>&nbsp;<span class="op" id="6887693">!=</span>&nbsp;<span class="ident" id="6887696">nil</span>&nbsp;<span class="op" id="6887700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887706">t</span><span class="op" id="6887707">.</span><span class="ident" id="6887708">Errorf</span><span class="op" id="6887714">(</span><span class="string" id="6887715">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="6887746">,</span>&nbsp;<span class="ident" id="6887748">fn</span><span class="op" id="6887750">,</span>&nbsp;<span class="ident" id="6887752">order</span><span class="op" id="6887757">,</span>&nbsp;<span class="ident" id="6887759">litWidth</span><span class="op" id="6887767">,</span>&nbsp;<span class="ident" id="6887769">err1</span><span class="op" id="6887773">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887779">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887794">if</span>&nbsp;<span class="ident" id="6887797">err0</span>&nbsp;<span class="op" id="6887802">==</span>&nbsp;<span class="ident" id="6887805">io</span><span class="op" id="6887807">.</span><span class="ident" id="6887808">EOF</span>&nbsp;<span class="op" id="6887812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887818">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887827">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6887834">}</span><span class="op" id="6887835">(</span><span class="op" id="6887836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887839">lzwr</span>&nbsp;<span class="op" id="6887844">:=</span>&nbsp;<span class="ident" id="6887847">NewReader</span><span class="op" id="6887856">(</span><span class="ident" id="6887857">piper</span><span class="op" id="6887862">,</span>&nbsp;<span class="ident" id="6887864">order</span><span class="op" id="6887869">,</span>&nbsp;<span class="ident" id="6887871">litWidth</span><span class="op" id="6887879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887882">defer</span>&nbsp;<span class="ident" id="6887888">lzwr</span><span class="op" id="6887892">.</span><span class="ident" id="6887893">Close</span><span class="op" id="6887898">(</span><span class="op" id="6887899">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6887903">//&nbsp;Compare&nbsp;the&nbsp;two.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887924">b0</span><span class="op" id="6887926">,</span>&nbsp;<span class="ident" id="6887928">err0</span>&nbsp;<span class="op" id="6887933">:=</span>&nbsp;<span class="ident" id="6887936">ioutil</span><span class="op" id="6887942">.</span><span class="ident" id="6887943">ReadAll</span><span class="op" id="6887950">(</span><span class="ident" id="6887951">golden</span><span class="op" id="6887957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6887960">b1</span><span class="op" id="6887962">,</span>&nbsp;<span class="ident" id="6887964">err1</span>&nbsp;<span class="op" id="6887969">:=</span>&nbsp;<span class="ident" id="6887972">ioutil</span><span class="op" id="6887978">.</span><span class="ident" id="6887979">ReadAll</span><span class="op" id="6887986">(</span><span class="ident" id="6887987">lzwr</span><span class="op" id="6887991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6887994">if</span>&nbsp;<span class="ident" id="6887997">err0</span>&nbsp;<span class="op" id="6888002">!=</span>&nbsp;<span class="ident" id="6888005">nil</span>&nbsp;<span class="op" id="6888009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888013">t</span><span class="op" id="6888014">.</span><span class="ident" id="6888015">Errorf</span><span class="op" id="6888021">(</span><span class="string" id="6888022">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="6888053">,</span>&nbsp;<span class="ident" id="6888055">fn</span><span class="op" id="6888057">,</span>&nbsp;<span class="ident" id="6888059">order</span><span class="op" id="6888064">,</span>&nbsp;<span class="ident" id="6888066">litWidth</span><span class="op" id="6888074">,</span>&nbsp;<span class="ident" id="6888076">err0</span><span class="op" id="6888080">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888084">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888095">if</span>&nbsp;<span class="ident" id="6888098">err1</span>&nbsp;<span class="op" id="6888103">!=</span>&nbsp;<span class="ident" id="6888106">nil</span>&nbsp;<span class="op" id="6888110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888114">t</span><span class="op" id="6888115">.</span><span class="ident" id="6888116">Errorf</span><span class="op" id="6888122">(</span><span class="string" id="6888123">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;%v&#34;</span><span class="op" id="6888154">,</span>&nbsp;<span class="ident" id="6888156">fn</span><span class="op" id="6888158">,</span>&nbsp;<span class="ident" id="6888160">order</span><span class="op" id="6888165">,</span>&nbsp;<span class="ident" id="6888167">litWidth</span><span class="op" id="6888175">,</span>&nbsp;<span class="ident" id="6888177">err1</span><span class="op" id="6888181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888185">return</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888196">if</span>&nbsp;<span class="builtinfunc" id="6888199">len</span><span class="op" id="6888202">(</span><span class="ident" id="6888203">b1</span><span class="op" id="6888205">)</span>&nbsp;<span class="op" id="6888207">!=</span>&nbsp;<span class="builtinfunc" id="6888210">len</span><span class="op" id="6888213">(</span><span class="ident" id="6888214">b0</span><span class="op" id="6888216">)</span>&nbsp;<span class="op" id="6888218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888222">t</span><span class="op" id="6888223">.</span><span class="ident" id="6888224">Errorf</span><span class="op" id="6888230">(</span><span class="string" id="6888231">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;length&nbsp;mismatch&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="6888284">,</span>&nbsp;<span class="ident" id="6888286">fn</span><span class="op" id="6888288">,</span>&nbsp;<span class="ident" id="6888290">order</span><span class="op" id="6888295">,</span>&nbsp;<span class="ident" id="6888297">litWidth</span><span class="op" id="6888305">,</span>&nbsp;<span class="builtinfunc" id="6888307">len</span><span class="op" id="6888310">(</span><span class="ident" id="6888311">b1</span><span class="op" id="6888313">)</span><span class="op" id="6888314">,</span>&nbsp;<span class="builtinfunc" id="6888316">len</span><span class="op" id="6888319">(</span><span class="ident" id="6888320">b0</span><span class="op" id="6888322">)</span><span class="op" id="6888323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888327">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888335">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888338">for</span>&nbsp;<span class="ident" id="6888342">i</span>&nbsp;<span class="op" id="6888344">:=</span>&nbsp;<span class="num" id="6888347">0</span><span class="op" id="6888348">;</span>&nbsp;<span class="ident" id="6888350">i</span>&nbsp;<span class="op" id="6888352">&lt;</span>&nbsp;<span class="builtinfunc" id="6888354">len</span><span class="op" id="6888357">(</span><span class="ident" id="6888358">b0</span><span class="op" id="6888360">)</span><span class="op" id="6888361">;</span>&nbsp;<span class="ident" id="6888363">i</span><span class="op" id="6888364">++</span>&nbsp;<span class="op" id="6888367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888371">if</span>&nbsp;<span class="ident" id="6888374">b1</span><span class="op" id="6888376">[</span><span class="ident" id="6888377">i</span><span class="op" id="6888378">]</span>&nbsp;<span class="op" id="6888380">!=</span>&nbsp;<span class="ident" id="6888383">b0</span><span class="op" id="6888385">[</span><span class="ident" id="6888386">i</span><span class="op" id="6888387">]</span>&nbsp;<span class="op" id="6888389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888394">t</span><span class="op" id="6888395">.</span><span class="ident" id="6888396">Errorf</span><span class="op" id="6888402">(</span><span class="string" id="6888403">&#34;%s&nbsp;(order=%d&nbsp;litWidth=%d):&nbsp;mismatch&nbsp;at&nbsp;%d,&nbsp;0x%02x&nbsp;!=&nbsp;0x%02x\n&#34;</span><span class="op" id="6888466">,</span>&nbsp;<span class="ident" id="6888468">fn</span><span class="op" id="6888470">,</span>&nbsp;<span class="ident" id="6888472">order</span><span class="op" id="6888477">,</span>&nbsp;<span class="ident" id="6888479">litWidth</span><span class="op" id="6888487">,</span>&nbsp;<span class="ident" id="6888489">i</span><span class="op" id="6888490">,</span>&nbsp;<span class="ident" id="6888492">b1</span><span class="op" id="6888494">[</span><span class="ident" id="6888495">i</span><span class="op" id="6888496">]</span><span class="op" id="6888497">,</span>&nbsp;<span class="ident" id="6888499">b0</span><span class="op" id="6888501">[</span><span class="ident" id="6888502">i</span><span class="op" id="6888503">]</span><span class="op" id="6888504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888509">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888518">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888521">}</span><br>
<span class="lineno"></span><span class="op" id="6888523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6888526">func</span>&nbsp;<span class="ident" id="6888531">TestWriter</span><span class="op" id="6888541">(</span><span class="ident" id="6888542">t</span>&nbsp;<span class="op" id="6888544">*</span><span class="ident" id="6888545">testing</span><span class="op" id="6888552">.</span><span class="ident" id="6888553">T</span><span class="op" id="6888554">)</span>&nbsp;<span class="op" id="6888556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888559">for</span>&nbsp;<span class="ident" id="6888563">_</span><span class="op" id="6888564">,</span>&nbsp;<span class="ident" id="6888566">filename</span>&nbsp;<span class="op" id="6888575">:=</span>&nbsp;<span class="keyword" id="6888578">range</span>&nbsp;<span class="ident" id="6888584">filenames</span>&nbsp;<span class="op" id="6888594">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888598">for</span>&nbsp;<span class="ident" id="6888602">_</span><span class="op" id="6888603">,</span>&nbsp;<span class="ident" id="6888605">order</span>&nbsp;<span class="op" id="6888611">:=</span>&nbsp;<span class="keyword" id="6888614">range</span>&nbsp;<span class="op" id="6888620">[</span><span class="op" id="6888621">...</span><span class="op" id="6888624">]</span><span class="ident" id="6888625">Order</span><span class="op" id="6888630">{</span><span class="ident" id="6888631">LSB</span><span class="op" id="6888634">,</span>&nbsp;<span class="ident" id="6888636">MSB</span><span class="op" id="6888639">}</span>&nbsp;<span class="op" id="6888641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6888646">//&nbsp;The&nbsp;test&nbsp;data&nbsp;&#34;2.71828&nbsp;etcetera&#34;&nbsp;is&nbsp;ASCII&nbsp;text&nbsp;requiring&nbsp;at&nbsp;least&nbsp;6&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888726">for</span>&nbsp;<span class="ident" id="6888730">_</span><span class="op" id="6888731">,</span>&nbsp;<span class="ident" id="6888733">litWidth</span>&nbsp;<span class="op" id="6888742">:=</span>&nbsp;<span class="keyword" id="6888745">range</span>&nbsp;<span class="op" id="6888751">[</span><span class="op" id="6888752">...</span><span class="op" id="6888755">]</span><span class="builtintype" id="6888756">int</span><span class="op" id="6888759">{</span><span class="num" id="6888760">6</span><span class="op" id="6888761">,</span>&nbsp;<span class="num" id="6888763">7</span><span class="op" id="6888764">,</span>&nbsp;<span class="num" id="6888766">8</span><span class="op" id="6888767">}</span>&nbsp;<span class="op" id="6888769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888775">testFile</span><span class="op" id="6888783">(</span><span class="ident" id="6888784">t</span><span class="op" id="6888785">,</span>&nbsp;<span class="ident" id="6888787">filename</span><span class="op" id="6888795">,</span>&nbsp;<span class="ident" id="6888797">order</span><span class="op" id="6888802">,</span>&nbsp;<span class="ident" id="6888804">litWidth</span><span class="op" id="6888812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888817">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6888824">}</span><br>
<span class="lineno"></span><span class="op" id="6888826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6888829">func</span>&nbsp;<span class="ident" id="6888834">TestWriterReturnValues</span><span class="op" id="6888856">(</span><span class="ident" id="6888857">t</span>&nbsp;<span class="op" id="6888859">*</span><span class="ident" id="6888860">testing</span><span class="op" id="6888867">.</span><span class="ident" id="6888868">T</span><span class="op" id="6888869">)</span>&nbsp;<span class="op" id="6888871">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888874">w</span>&nbsp;<span class="op" id="6888876">:=</span>&nbsp;<span class="ident" id="6888879">NewWriter</span><span class="op" id="6888888">(</span><span class="ident" id="6888889">ioutil</span><span class="op" id="6888895">.</span><span class="ident" id="6888896">Discard</span><span class="op" id="6888903">,</span>&nbsp;<span class="ident" id="6888905">LSB</span><span class="op" id="6888908">,</span>&nbsp;<span class="num" id="6888910">8</span><span class="op" id="6888911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888914">n</span><span class="op" id="6888915">,</span>&nbsp;<span class="ident" id="6888917">err</span>&nbsp;<span class="op" id="6888921">:=</span>&nbsp;<span class="ident" id="6888924">w</span><span class="op" id="6888925">.</span><span class="ident" id="6888926">Write</span><span class="op" id="6888931">(</span><span class="op" id="6888932">[</span><span class="op" id="6888933">]</span><span class="builtintype" id="6888934">byte</span><span class="op" id="6888938">(</span><span class="string" id="6888939">&#34;asdf&#34;</span><span class="op" id="6888945">)</span><span class="op" id="6888946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6888949">if</span>&nbsp;<span class="ident" id="6888952">n</span>&nbsp;<span class="op" id="6888954">!=</span>&nbsp;<span class="num" id="6888957">4</span>&nbsp;<span class="op" id="6888959">||</span>&nbsp;<span class="ident" id="6888962">err</span>&nbsp;<span class="op" id="6888966">!=</span>&nbsp;<span class="ident" id="6888969">nil</span>&nbsp;<span class="op" id="6888973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6888977">t</span><span class="op" id="6888978">.</span><span class="ident" id="6888979">Errorf</span><span class="op" id="6888985">(</span><span class="string" id="6888986">&#34;got&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;4,&nbsp;nil&#34;</span><span class="op" id="6889011">,</span>&nbsp;<span class="ident" id="6889013">n</span><span class="op" id="6889014">,</span>&nbsp;<span class="ident" id="6889016">err</span><span class="op" id="6889019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889022">}</span><br>
<span class="lineno">105</span><span class="op" id="6889024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889027">func</span>&nbsp;<span class="ident" id="6889032">benchmarkEncoder</span><span class="op" id="6889048">(</span><span class="ident" id="6889049">b</span>&nbsp;<span class="op" id="6889051">*</span><span class="ident" id="6889052">testing</span><span class="op" id="6889059">.</span><span class="ident" id="6889060">B</span><span class="op" id="6889061">,</span>&nbsp;<span class="ident" id="6889063">n</span>&nbsp;<span class="builtintype" id="6889065">int</span><span class="op" id="6889068">)</span>&nbsp;<span class="op" id="6889070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889073">b</span><span class="op" id="6889074">.</span><span class="ident" id="6889075">StopTimer</span><span class="op" id="6889084">(</span><span class="op" id="6889085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889088">b</span><span class="op" id="6889089">.</span><span class="ident" id="6889090">SetBytes</span><span class="op" id="6889098">(</span><span class="ident" id="6889099">int64</span><span class="op" id="6889104">(</span><span class="ident" id="6889105">n</span><span class="op" id="6889106">)</span><span class="op" id="6889107">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889110">buf0</span><span class="op" id="6889114">,</span>&nbsp;<span class="ident" id="6889116">err</span>&nbsp;<span class="op" id="6889120">:=</span>&nbsp;<span class="ident" id="6889123">ioutil</span><span class="op" id="6889129">.</span><span class="ident" id="6889130">ReadFile</span><span class="op" id="6889138">(</span><span class="string" id="6889139">&#34;../testdata/e.txt&#34;</span><span class="op" id="6889158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889161">if</span>&nbsp;<span class="ident" id="6889164">err</span>&nbsp;<span class="op" id="6889168">!=</span>&nbsp;<span class="ident" id="6889171">nil</span>&nbsp;<span class="op" id="6889175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889179">b</span><span class="op" id="6889180">.</span><span class="ident" id="6889181">Fatal</span><span class="op" id="6889186">(</span><span class="ident" id="6889187">err</span><span class="op" id="6889190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889196">if</span>&nbsp;<span class="builtinfunc" id="6889199">len</span><span class="op" id="6889202">(</span><span class="ident" id="6889203">buf0</span><span class="op" id="6889207">)</span>&nbsp;<span class="op" id="6889209">==</span>&nbsp;<span class="num" id="6889212">0</span>&nbsp;<span class="op" id="6889214">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889218">b</span><span class="op" id="6889219">.</span><span class="ident" id="6889220">Fatalf</span><span class="op" id="6889226">(</span><span class="string" id="6889227">&#34;test&nbsp;file&nbsp;has&nbsp;no&nbsp;data&#34;</span><span class="op" id="6889250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889256">buf1</span>&nbsp;<span class="op" id="6889261">:=</span>&nbsp;<span class="builtinfunc" id="6889264">make</span><span class="op" id="6889268">(</span><span class="op" id="6889269">[</span><span class="op" id="6889270">]</span><span class="builtintype" id="6889271">byte</span><span class="op" id="6889275">,</span>&nbsp;<span class="ident" id="6889277">n</span><span class="op" id="6889278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889281">for</span>&nbsp;<span class="ident" id="6889285">i</span>&nbsp;<span class="op" id="6889287">:=</span>&nbsp;<span class="num" id="6889290">0</span><span class="op" id="6889291">;</span>&nbsp;<span class="ident" id="6889293">i</span>&nbsp;<span class="op" id="6889295">&lt;</span>&nbsp;<span class="ident" id="6889297">n</span><span class="op" id="6889298">;</span>&nbsp;<span class="ident" id="6889300">i</span>&nbsp;<span class="op" id="6889302">+=</span>&nbsp;<span class="builtinfunc" id="6889305">len</span><span class="op" id="6889308">(</span><span class="ident" id="6889309">buf0</span><span class="op" id="6889313">)</span>&nbsp;<span class="op" id="6889315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889319">if</span>&nbsp;<span class="builtinfunc" id="6889322">len</span><span class="op" id="6889325">(</span><span class="ident" id="6889326">buf0</span><span class="op" id="6889330">)</span>&nbsp;<span class="op" id="6889332">&gt;</span>&nbsp;<span class="ident" id="6889334">n</span><span class="op" id="6889335">-</span><span class="ident" id="6889336">i</span>&nbsp;<span class="op" id="6889338">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889343">buf0</span>&nbsp;<span class="op" id="6889348">=</span>&nbsp;<span class="ident" id="6889350">buf0</span><span class="op" id="6889354">[</span><span class="op" id="6889355">:</span><span class="ident" id="6889356">n</span><span class="op" id="6889357">-</span><span class="ident" id="6889358">i</span><span class="op" id="6889359">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6889367">copy</span><span class="op" id="6889371">(</span><span class="ident" id="6889372">buf1</span><span class="op" id="6889376">[</span><span class="ident" id="6889377">i</span><span class="op" id="6889378">:</span><span class="op" id="6889379">]</span><span class="op" id="6889380">,</span>&nbsp;<span class="ident" id="6889382">buf0</span><span class="op" id="6889386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889392">buf0</span>&nbsp;<span class="op" id="6889397">=</span>&nbsp;<span class="ident" id="6889399">nil</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889404">runtime</span><span class="op" id="6889411">.</span><span class="ident" id="6889412">GC</span><span class="op" id="6889414">(</span><span class="op" id="6889415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889418">b</span><span class="op" id="6889419">.</span><span class="ident" id="6889420">StartTimer</span><span class="op" id="6889430">(</span><span class="op" id="6889431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889434">for</span>&nbsp;<span class="ident" id="6889438">i</span>&nbsp;<span class="op" id="6889440">:=</span>&nbsp;<span class="num" id="6889443">0</span><span class="op" id="6889444">;</span>&nbsp;<span class="ident" id="6889446">i</span>&nbsp;<span class="op" id="6889448">&lt;</span>&nbsp;<span class="ident" id="6889450">b</span><span class="op" id="6889451">.</span><span class="ident" id="6889452">N</span><span class="op" id="6889453">;</span>&nbsp;<span class="ident" id="6889455">i</span><span class="op" id="6889456">++</span>&nbsp;<span class="op" id="6889459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889463">w</span>&nbsp;<span class="op" id="6889465">:=</span>&nbsp;<span class="ident" id="6889468">NewWriter</span><span class="op" id="6889477">(</span><span class="ident" id="6889478">ioutil</span><span class="op" id="6889484">.</span><span class="ident" id="6889485">Discard</span><span class="op" id="6889492">,</span>&nbsp;<span class="ident" id="6889494">LSB</span><span class="op" id="6889497">,</span>&nbsp;<span class="num" id="6889499">8</span><span class="op" id="6889500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889504">w</span><span class="op" id="6889505">.</span><span class="ident" id="6889506">Write</span><span class="op" id="6889511">(</span><span class="ident" id="6889512">buf1</span><span class="op" id="6889516">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889520">w</span><span class="op" id="6889521">.</span><span class="ident" id="6889522">Close</span><span class="op" id="6889527">(</span><span class="op" id="6889528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889531">}</span><br>
<span class="lineno"></span><span class="op" id="6889533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889536">func</span>&nbsp;<span class="ident" id="6889541">BenchmarkEncoder1e4</span><span class="op" id="6889560">(</span><span class="ident" id="6889561">b</span>&nbsp;<span class="op" id="6889563">*</span><span class="ident" id="6889564">testing</span><span class="op" id="6889571">.</span><span class="ident" id="6889572">B</span><span class="op" id="6889573">)</span>&nbsp;<span class="op" id="6889575">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889578">benchmarkEncoder</span><span class="op" id="6889594">(</span><span class="ident" id="6889595">b</span><span class="op" id="6889596">,</span>&nbsp;<span class="num" id="6889598">1e4</span><span class="op" id="6889601">)</span><br>
<span class="lineno"></span><span class="op" id="6889603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889606">func</span>&nbsp;<span class="ident" id="6889611">BenchmarkEncoder1e5</span><span class="op" id="6889630">(</span><span class="ident" id="6889631">b</span>&nbsp;<span class="op" id="6889633">*</span><span class="ident" id="6889634">testing</span><span class="op" id="6889641">.</span><span class="ident" id="6889642">B</span><span class="op" id="6889643">)</span>&nbsp;<span class="op" id="6889645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889648">benchmarkEncoder</span><span class="op" id="6889664">(</span><span class="ident" id="6889665">b</span><span class="op" id="6889666">,</span>&nbsp;<span class="num" id="6889668">1e5</span><span class="op" id="6889671">)</span><br>
<span class="lineno">140</span><span class="op" id="6889673">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889676">func</span>&nbsp;<span class="ident" id="6889681">BenchmarkEncoder1e6</span><span class="op" id="6889700">(</span><span class="ident" id="6889701">b</span>&nbsp;<span class="op" id="6889703">*</span><span class="ident" id="6889704">testing</span><span class="op" id="6889711">.</span><span class="ident" id="6889712">B</span><span class="op" id="6889713">)</span>&nbsp;<span class="op" id="6889715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889718">benchmarkEncoder</span><span class="op" id="6889734">(</span><span class="ident" id="6889735">b</span><span class="op" id="6889736">,</span>&nbsp;<span class="num" id="6889738">1e6</span><span class="op" id="6889741">)</span><br>
<span class="lineno"></span><span class="op" id="6889743">}</span>
</div>
</body>
</html>
