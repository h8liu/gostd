<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3121889">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3121948">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3122003">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="3122057">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3122108">package</span>&nbsp;<span class="ident" id="3122116">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3122121">import</span>&nbsp;<span class="op" id="3122128">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3122131">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3122139">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="3122149">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3122152">var</span>&nbsp;<span class="ident" id="3122156">decArrayHelper</span>&nbsp;<span class="op" id="3122171">=</span>&nbsp;<span class="keyword" id="3122173">map</span><span class="op" id="3122176">[</span><span class="ident" id="3122177">reflect</span><span class="op" id="3122184">.</span><span class="ident" id="3122185">Kind</span><span class="op" id="3122189">]</span><span class="ident" id="3122190">decHelper</span><span class="op" id="3122199">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122202">reflect</span><span class="op" id="3122209">.</span><span class="ident" id="3122210">Bool</span><span class="op" id="3122214">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122222">decBoolArray</span><span class="op" id="3122234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122237">reflect</span><span class="op" id="3122244">.</span><span class="ident" id="3122245">Complex64</span><span class="op" id="3122254">:</span>&nbsp;&nbsp;<span class="ident" id="3122257">decComplex64Array</span><span class="op" id="3122274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122277">reflect</span><span class="op" id="3122284">.</span><span class="ident" id="3122285">Complex128</span><span class="op" id="3122295">:</span>&nbsp;<span class="ident" id="3122297">decComplex128Array</span><span class="op" id="3122315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122318">reflect</span><span class="op" id="3122325">.</span><span class="ident" id="3122326">Float32</span><span class="op" id="3122333">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122338">decFloat32Array</span><span class="op" id="3122353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122356">reflect</span><span class="op" id="3122363">.</span><span class="ident" id="3122364">Float64</span><span class="op" id="3122371">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122376">decFloat64Array</span><span class="op" id="3122391">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122394">reflect</span><span class="op" id="3122401">.</span><span class="ident" id="3122402">Int</span><span class="op" id="3122405">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122414">decIntArray</span><span class="op" id="3122425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122428">reflect</span><span class="op" id="3122435">.</span><span class="ident" id="3122436">Int16</span><span class="op" id="3122441">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122448">decInt16Array</span><span class="op" id="3122461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122464">reflect</span><span class="op" id="3122471">.</span><span class="ident" id="3122472">Int32</span><span class="op" id="3122477">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122484">decInt32Array</span><span class="op" id="3122497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122500">reflect</span><span class="op" id="3122507">.</span><span class="ident" id="3122508">Int64</span><span class="op" id="3122513">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122520">decInt64Array</span><span class="op" id="3122533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122536">reflect</span><span class="op" id="3122543">.</span><span class="ident" id="3122544">Int8</span><span class="op" id="3122548">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122556">decInt8Array</span><span class="op" id="3122568">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122571">reflect</span><span class="op" id="3122578">.</span><span class="ident" id="3122579">String</span><span class="op" id="3122585">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122591">decStringArray</span><span class="op" id="3122605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122608">reflect</span><span class="op" id="3122615">.</span><span class="ident" id="3122616">Uint</span><span class="op" id="3122620">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122628">decUintArray</span><span class="op" id="3122640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122643">reflect</span><span class="op" id="3122650">.</span><span class="ident" id="3122651">Uint16</span><span class="op" id="3122657">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122663">decUint16Array</span><span class="op" id="3122677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122680">reflect</span><span class="op" id="3122687">.</span><span class="ident" id="3122688">Uint32</span><span class="op" id="3122694">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122700">decUint32Array</span><span class="op" id="3122714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122717">reflect</span><span class="op" id="3122724">.</span><span class="ident" id="3122725">Uint64</span><span class="op" id="3122731">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122737">decUint64Array</span><span class="op" id="3122751">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122754">reflect</span><span class="op" id="3122761">.</span><span class="ident" id="3122762">Uintptr</span><span class="op" id="3122769">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122774">decUintptrArray</span><span class="op" id="3122789">,</span><br>
<span class="lineno"></span><span class="op" id="3122791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3122794">var</span>&nbsp;<span class="ident" id="3122798">decSliceHelper</span>&nbsp;<span class="op" id="3122813">=</span>&nbsp;<span class="keyword" id="3122815">map</span><span class="op" id="3122818">[</span><span class="ident" id="3122819">reflect</span><span class="op" id="3122826">.</span><span class="ident" id="3122827">Kind</span><span class="op" id="3122831">]</span><span class="ident" id="3122832">decHelper</span><span class="op" id="3122841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122844">reflect</span><span class="op" id="3122851">.</span><span class="ident" id="3122852">Bool</span><span class="op" id="3122856">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122864">decBoolSlice</span><span class="op" id="3122876">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122879">reflect</span><span class="op" id="3122886">.</span><span class="ident" id="3122887">Complex64</span><span class="op" id="3122896">:</span>&nbsp;&nbsp;<span class="ident" id="3122899">decComplex64Slice</span><span class="op" id="3122916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122919">reflect</span><span class="op" id="3122926">.</span><span class="ident" id="3122927">Complex128</span><span class="op" id="3122937">:</span>&nbsp;<span class="ident" id="3122939">decComplex128Slice</span><span class="op" id="3122957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122960">reflect</span><span class="op" id="3122967">.</span><span class="ident" id="3122968">Float32</span><span class="op" id="3122975">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3122980">decFloat32Slice</span><span class="op" id="3122995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3122998">reflect</span><span class="op" id="3123005">.</span><span class="ident" id="3123006">Float64</span><span class="op" id="3123013">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123018">decFloat64Slice</span><span class="op" id="3123033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123036">reflect</span><span class="op" id="3123043">.</span><span class="ident" id="3123044">Int</span><span class="op" id="3123047">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123056">decIntSlice</span><span class="op" id="3123067">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123070">reflect</span><span class="op" id="3123077">.</span><span class="ident" id="3123078">Int16</span><span class="op" id="3123083">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123090">decInt16Slice</span><span class="op" id="3123103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123106">reflect</span><span class="op" id="3123113">.</span><span class="ident" id="3123114">Int32</span><span class="op" id="3123119">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123126">decInt32Slice</span><span class="op" id="3123139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123142">reflect</span><span class="op" id="3123149">.</span><span class="ident" id="3123150">Int64</span><span class="op" id="3123155">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123162">decInt64Slice</span><span class="op" id="3123175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123178">reflect</span><span class="op" id="3123185">.</span><span class="ident" id="3123186">Int8</span><span class="op" id="3123190">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123198">decInt8Slice</span><span class="op" id="3123210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123213">reflect</span><span class="op" id="3123220">.</span><span class="ident" id="3123221">String</span><span class="op" id="3123227">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123233">decStringSlice</span><span class="op" id="3123247">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123250">reflect</span><span class="op" id="3123257">.</span><span class="ident" id="3123258">Uint</span><span class="op" id="3123262">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123270">decUintSlice</span><span class="op" id="3123282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123285">reflect</span><span class="op" id="3123292">.</span><span class="ident" id="3123293">Uint16</span><span class="op" id="3123299">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123305">decUint16Slice</span><span class="op" id="3123319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123322">reflect</span><span class="op" id="3123329">.</span><span class="ident" id="3123330">Uint32</span><span class="op" id="3123336">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123342">decUint32Slice</span><span class="op" id="3123356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123359">reflect</span><span class="op" id="3123366">.</span><span class="ident" id="3123367">Uint64</span><span class="op" id="3123373">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123379">decUint64Slice</span><span class="op" id="3123393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123396">reflect</span><span class="op" id="3123403">.</span><span class="ident" id="3123404">Uintptr</span><span class="op" id="3123411">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3123416">decUintptrSlice</span><span class="op" id="3123431">,</span><br>
<span class="lineno">50</span><span class="op" id="3123433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3123436">func</span>&nbsp;<span class="ident" id="3123441">decBoolArray</span><span class="op" id="3123453">(</span><span class="ident" id="3123454">state</span>&nbsp;<span class="op" id="3123460">*</span><span class="ident" id="3123461">decoderState</span><span class="op" id="3123473">,</span>&nbsp;<span class="ident" id="3123475">v</span>&nbsp;<span class="ident" id="3123477">reflect</span><span class="op" id="3123484">.</span><span class="ident" id="3123485">Value</span><span class="op" id="3123490">,</span>&nbsp;<span class="ident" id="3123492">length</span>&nbsp;<span class="builtintype" id="3123499">int</span><span class="op" id="3123502">,</span>&nbsp;<span class="ident" id="3123504">ovfl</span>&nbsp;<span class="builtintype" id="3123509">error</span><span class="op" id="3123514">)</span>&nbsp;<span class="builtintype" id="3123516">bool</span>&nbsp;<span class="op" id="3123521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3123524">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3123565">if</span>&nbsp;<span class="op" id="3123568">!</span><span class="ident" id="3123569">v</span><span class="op" id="3123570">.</span><span class="ident" id="3123571">CanAddr</span><span class="op" id="3123578">(</span><span class="op" id="3123579">)</span>&nbsp;<span class="op" id="3123581">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3123585">return</span>&nbsp;<span class="ident" id="3123592">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3123599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3123602">return</span>&nbsp;<span class="ident" id="3123609">decBoolSlice</span><span class="op" id="3123621">(</span><span class="ident" id="3123622">state</span><span class="op" id="3123627">,</span>&nbsp;<span class="ident" id="3123629">v</span><span class="op" id="3123630">.</span><span class="ident" id="3123631">Slice</span><span class="op" id="3123636">(</span><span class="num" id="3123637">0</span><span class="op" id="3123638">,</span>&nbsp;<span class="ident" id="3123640">v</span><span class="op" id="3123641">.</span><span class="ident" id="3123642">Len</span><span class="op" id="3123645">(</span><span class="op" id="3123646">)</span><span class="op" id="3123647">)</span><span class="op" id="3123648">,</span>&nbsp;<span class="ident" id="3123650">length</span><span class="op" id="3123656">,</span>&nbsp;<span class="ident" id="3123658">ovfl</span><span class="op" id="3123662">)</span><br>
<span class="lineno"></span><span class="op" id="3123664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="3123667">func</span>&nbsp;<span class="ident" id="3123672">decBoolSlice</span><span class="op" id="3123684">(</span><span class="ident" id="3123685">state</span>&nbsp;<span class="op" id="3123691">*</span><span class="ident" id="3123692">decoderState</span><span class="op" id="3123704">,</span>&nbsp;<span class="ident" id="3123706">v</span>&nbsp;<span class="ident" id="3123708">reflect</span><span class="op" id="3123715">.</span><span class="ident" id="3123716">Value</span><span class="op" id="3123721">,</span>&nbsp;<span class="ident" id="3123723">length</span>&nbsp;<span class="builtintype" id="3123730">int</span><span class="op" id="3123733">,</span>&nbsp;<span class="ident" id="3123735">ovfl</span>&nbsp;<span class="builtintype" id="3123740">error</span><span class="op" id="3123745">)</span>&nbsp;<span class="builtintype" id="3123747">bool</span>&nbsp;<span class="op" id="3123752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123755">slice</span><span class="op" id="3123760">,</span>&nbsp;<span class="ident" id="3123762">ok</span>&nbsp;<span class="op" id="3123765">:=</span>&nbsp;<span class="ident" id="3123768">v</span><span class="op" id="3123769">.</span><span class="ident" id="3123770">Interface</span><span class="op" id="3123779">(</span><span class="op" id="3123780">)</span><span class="op" id="3123781">.</span><span class="op" id="3123782">(</span><span class="op" id="3123783">[</span><span class="op" id="3123784">]</span><span class="builtintype" id="3123785">bool</span><span class="op" id="3123789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3123792">if</span>&nbsp;<span class="op" id="3123795">!</span><span class="ident" id="3123796">ok</span>&nbsp;<span class="op" id="3123799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3123803">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3123878">return</span>&nbsp;<span class="ident" id="3123885">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3123892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3123895">for</span>&nbsp;<span class="ident" id="3123899">i</span>&nbsp;<span class="op" id="3123901">:=</span>&nbsp;<span class="num" id="3123904">0</span><span class="op" id="3123905">;</span>&nbsp;<span class="ident" id="3123907">i</span>&nbsp;<span class="op" id="3123909">&lt;</span>&nbsp;<span class="ident" id="3123911">length</span><span class="op" id="3123917">;</span>&nbsp;<span class="ident" id="3123919">i</span><span class="op" id="3123920">++</span>&nbsp;<span class="op" id="3123923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3123927">if</span>&nbsp;<span class="ident" id="3123930">state</span><span class="op" id="3123935">.</span><span class="ident" id="3123936">b</span><span class="op" id="3123937">.</span><span class="ident" id="3123938">Len</span><span class="op" id="3123941">(</span><span class="op" id="3123942">)</span>&nbsp;<span class="op" id="3123944">==</span>&nbsp;<span class="num" id="3123947">0</span>&nbsp;<span class="op" id="3123949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3123954">errorf</span><span class="op" id="3123960">(</span><span class="string" id="3123961">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3124032">,</span>&nbsp;<span class="ident" id="3124034">length</span><span class="op" id="3124040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3124044">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3124048">slice</span><span class="op" id="3124053">[</span><span class="ident" id="3124054">i</span><span class="op" id="3124055">]</span>&nbsp;<span class="op" id="3124057">=</span>&nbsp;<span class="ident" id="3124059">state</span><span class="op" id="3124064">.</span><span class="ident" id="3124065">decodeUint</span><span class="op" id="3124075">(</span><span class="op" id="3124076">)</span>&nbsp;<span class="op" id="3124078">!=</span>&nbsp;<span class="num" id="3124081">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3124084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3124087">return</span>&nbsp;<span class="ident" id="3124094">true</span><br>
<span class="lineno"></span><span class="op" id="3124099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="3124102">func</span>&nbsp;<span class="ident" id="3124107">decComplex64Array</span><span class="op" id="3124124">(</span><span class="ident" id="3124125">state</span>&nbsp;<span class="op" id="3124131">*</span><span class="ident" id="3124132">decoderState</span><span class="op" id="3124144">,</span>&nbsp;<span class="ident" id="3124146">v</span>&nbsp;<span class="ident" id="3124148">reflect</span><span class="op" id="3124155">.</span><span class="ident" id="3124156">Value</span><span class="op" id="3124161">,</span>&nbsp;<span class="ident" id="3124163">length</span>&nbsp;<span class="builtintype" id="3124170">int</span><span class="op" id="3124173">,</span>&nbsp;<span class="ident" id="3124175">ovfl</span>&nbsp;<span class="builtintype" id="3124180">error</span><span class="op" id="3124185">)</span>&nbsp;<span class="builtintype" id="3124187">bool</span>&nbsp;<span class="op" id="3124192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3124195">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3124236">if</span>&nbsp;<span class="op" id="3124239">!</span><span class="ident" id="3124240">v</span><span class="op" id="3124241">.</span><span class="ident" id="3124242">CanAddr</span><span class="op" id="3124249">(</span><span class="op" id="3124250">)</span>&nbsp;<span class="op" id="3124252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3124256">return</span>&nbsp;<span class="ident" id="3124263">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3124270">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3124273">return</span>&nbsp;<span class="ident" id="3124280">decComplex64Slice</span><span class="op" id="3124297">(</span><span class="ident" id="3124298">state</span><span class="op" id="3124303">,</span>&nbsp;<span class="ident" id="3124305">v</span><span class="op" id="3124306">.</span><span class="ident" id="3124307">Slice</span><span class="op" id="3124312">(</span><span class="num" id="3124313">0</span><span class="op" id="3124314">,</span>&nbsp;<span class="ident" id="3124316">v</span><span class="op" id="3124317">.</span><span class="ident" id="3124318">Len</span><span class="op" id="3124321">(</span><span class="op" id="3124322">)</span><span class="op" id="3124323">)</span><span class="op" id="3124324">,</span>&nbsp;<span class="ident" id="3124326">length</span><span class="op" id="3124332">,</span>&nbsp;<span class="ident" id="3124334">ovfl</span><span class="op" id="3124338">)</span><br>
<span class="lineno"></span><span class="op" id="3124340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3124343">func</span>&nbsp;<span class="ident" id="3124348">decComplex64Slice</span><span class="op" id="3124365">(</span><span class="ident" id="3124366">state</span>&nbsp;<span class="op" id="3124372">*</span><span class="ident" id="3124373">decoderState</span><span class="op" id="3124385">,</span>&nbsp;<span class="ident" id="3124387">v</span>&nbsp;<span class="ident" id="3124389">reflect</span><span class="op" id="3124396">.</span><span class="ident" id="3124397">Value</span><span class="op" id="3124402">,</span>&nbsp;<span class="ident" id="3124404">length</span>&nbsp;<span class="builtintype" id="3124411">int</span><span class="op" id="3124414">,</span>&nbsp;<span class="ident" id="3124416">ovfl</span>&nbsp;<span class="builtintype" id="3124421">error</span><span class="op" id="3124426">)</span>&nbsp;<span class="builtintype" id="3124428">bool</span>&nbsp;<span class="op" id="3124433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3124436">slice</span><span class="op" id="3124441">,</span>&nbsp;<span class="ident" id="3124443">ok</span>&nbsp;<span class="op" id="3124446">:=</span>&nbsp;<span class="ident" id="3124449">v</span><span class="op" id="3124450">.</span><span class="ident" id="3124451">Interface</span><span class="op" id="3124460">(</span><span class="op" id="3124461">)</span><span class="op" id="3124462">.</span><span class="op" id="3124463">(</span><span class="op" id="3124464">[</span><span class="op" id="3124465">]</span><span class="builtintype" id="3124466">complex64</span><span class="op" id="3124475">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3124478">if</span>&nbsp;<span class="op" id="3124481">!</span><span class="ident" id="3124482">ok</span>&nbsp;<span class="op" id="3124485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3124489">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3124574">return</span>&nbsp;<span class="ident" id="3124581">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3124588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3124591">for</span>&nbsp;<span class="ident" id="3124595">i</span>&nbsp;<span class="op" id="3124597">:=</span>&nbsp;<span class="num" id="3124600">0</span><span class="op" id="3124601">;</span>&nbsp;<span class="ident" id="3124603">i</span>&nbsp;<span class="op" id="3124605">&lt;</span>&nbsp;<span class="ident" id="3124607">length</span><span class="op" id="3124613">;</span>&nbsp;<span class="ident" id="3124615">i</span><span class="op" id="3124616">++</span>&nbsp;<span class="op" id="3124619">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3124623">if</span>&nbsp;<span class="ident" id="3124626">state</span><span class="op" id="3124631">.</span><span class="ident" id="3124632">b</span><span class="op" id="3124633">.</span><span class="ident" id="3124634">Len</span><span class="op" id="3124637">(</span><span class="op" id="3124638">)</span>&nbsp;<span class="op" id="3124640">==</span>&nbsp;<span class="num" id="3124643">0</span>&nbsp;<span class="op" id="3124645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3124650">errorf</span><span class="op" id="3124656">(</span><span class="string" id="3124657">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3124733">,</span>&nbsp;<span class="ident" id="3124735">length</span><span class="op" id="3124741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3124745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3124749">real</span>&nbsp;<span class="op" id="3124754">:=</span>&nbsp;<span class="ident" id="3124757">float32FromBits</span><span class="op" id="3124772">(</span><span class="ident" id="3124773">state</span><span class="op" id="3124778">.</span><span class="ident" id="3124779">decodeUint</span><span class="op" id="3124789">(</span><span class="op" id="3124790">)</span><span class="op" id="3124791">,</span>&nbsp;<span class="ident" id="3124793">ovfl</span><span class="op" id="3124797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3124801">imag</span>&nbsp;<span class="op" id="3124806">:=</span>&nbsp;<span class="ident" id="3124809">float32FromBits</span><span class="op" id="3124824">(</span><span class="ident" id="3124825">state</span><span class="op" id="3124830">.</span><span class="ident" id="3124831">decodeUint</span><span class="op" id="3124841">(</span><span class="op" id="3124842">)</span><span class="op" id="3124843">,</span>&nbsp;<span class="ident" id="3124845">ovfl</span><span class="op" id="3124849">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3124853">slice</span><span class="op" id="3124858">[</span><span class="ident" id="3124859">i</span><span class="op" id="3124860">]</span>&nbsp;<span class="op" id="3124862">=</span>&nbsp;<span class="builtinfunc" id="3124864">complex</span><span class="op" id="3124871">(</span><span class="builtintype" id="3124872">float32</span><span class="op" id="3124879">(</span><span class="builtinfunc" id="3124880">real</span><span class="op" id="3124884">)</span><span class="op" id="3124885">,</span>&nbsp;<span class="builtintype" id="3124887">float32</span><span class="op" id="3124894">(</span><span class="builtinfunc" id="3124895">imag</span><span class="op" id="3124899">)</span><span class="op" id="3124900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3124903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3124906">return</span>&nbsp;<span class="ident" id="3124913">true</span><br>
<span class="lineno"></span><span class="op" id="3124918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="3124921">func</span>&nbsp;<span class="ident" id="3124926">decComplex128Array</span><span class="op" id="3124944">(</span><span class="ident" id="3124945">state</span>&nbsp;<span class="op" id="3124951">*</span><span class="ident" id="3124952">decoderState</span><span class="op" id="3124964">,</span>&nbsp;<span class="ident" id="3124966">v</span>&nbsp;<span class="ident" id="3124968">reflect</span><span class="op" id="3124975">.</span><span class="ident" id="3124976">Value</span><span class="op" id="3124981">,</span>&nbsp;<span class="ident" id="3124983">length</span>&nbsp;<span class="builtintype" id="3124990">int</span><span class="op" id="3124993">,</span>&nbsp;<span class="ident" id="3124995">ovfl</span>&nbsp;<span class="builtintype" id="3125000">error</span><span class="op" id="3125005">)</span>&nbsp;<span class="builtintype" id="3125007">bool</span>&nbsp;<span class="op" id="3125012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3125015">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125056">if</span>&nbsp;<span class="op" id="3125059">!</span><span class="ident" id="3125060">v</span><span class="op" id="3125061">.</span><span class="ident" id="3125062">CanAddr</span><span class="op" id="3125069">(</span><span class="op" id="3125070">)</span>&nbsp;<span class="op" id="3125072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125076">return</span>&nbsp;<span class="ident" id="3125083">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3125090">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125093">return</span>&nbsp;<span class="ident" id="3125100">decComplex128Slice</span><span class="op" id="3125118">(</span><span class="ident" id="3125119">state</span><span class="op" id="3125124">,</span>&nbsp;<span class="ident" id="3125126">v</span><span class="op" id="3125127">.</span><span class="ident" id="3125128">Slice</span><span class="op" id="3125133">(</span><span class="num" id="3125134">0</span><span class="op" id="3125135">,</span>&nbsp;<span class="ident" id="3125137">v</span><span class="op" id="3125138">.</span><span class="ident" id="3125139">Len</span><span class="op" id="3125142">(</span><span class="op" id="3125143">)</span><span class="op" id="3125144">)</span><span class="op" id="3125145">,</span>&nbsp;<span class="ident" id="3125147">length</span><span class="op" id="3125153">,</span>&nbsp;<span class="ident" id="3125155">ovfl</span><span class="op" id="3125159">)</span><br>
<span class="lineno"></span><span class="op" id="3125161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3125164">func</span>&nbsp;<span class="ident" id="3125169">decComplex128Slice</span><span class="op" id="3125187">(</span><span class="ident" id="3125188">state</span>&nbsp;<span class="op" id="3125194">*</span><span class="ident" id="3125195">decoderState</span><span class="op" id="3125207">,</span>&nbsp;<span class="ident" id="3125209">v</span>&nbsp;<span class="ident" id="3125211">reflect</span><span class="op" id="3125218">.</span><span class="ident" id="3125219">Value</span><span class="op" id="3125224">,</span>&nbsp;<span class="ident" id="3125226">length</span>&nbsp;<span class="builtintype" id="3125233">int</span><span class="op" id="3125236">,</span>&nbsp;<span class="ident" id="3125238">ovfl</span>&nbsp;<span class="builtintype" id="3125243">error</span><span class="op" id="3125248">)</span>&nbsp;<span class="builtintype" id="3125250">bool</span>&nbsp;<span class="op" id="3125255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3125258">slice</span><span class="op" id="3125263">,</span>&nbsp;<span class="ident" id="3125265">ok</span>&nbsp;<span class="op" id="3125268">:=</span>&nbsp;<span class="ident" id="3125271">v</span><span class="op" id="3125272">.</span><span class="ident" id="3125273">Interface</span><span class="op" id="3125282">(</span><span class="op" id="3125283">)</span><span class="op" id="3125284">.</span><span class="op" id="3125285">(</span><span class="op" id="3125286">[</span><span class="op" id="3125287">]</span><span class="builtintype" id="3125288">complex128</span><span class="op" id="3125298">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125301">if</span>&nbsp;<span class="op" id="3125304">!</span><span class="ident" id="3125305">ok</span>&nbsp;<span class="op" id="3125308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3125312">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125399">return</span>&nbsp;<span class="ident" id="3125406">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3125413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125416">for</span>&nbsp;<span class="ident" id="3125420">i</span>&nbsp;<span class="op" id="3125422">:=</span>&nbsp;<span class="num" id="3125425">0</span><span class="op" id="3125426">;</span>&nbsp;<span class="ident" id="3125428">i</span>&nbsp;<span class="op" id="3125430">&lt;</span>&nbsp;<span class="ident" id="3125432">length</span><span class="op" id="3125438">;</span>&nbsp;<span class="ident" id="3125440">i</span><span class="op" id="3125441">++</span>&nbsp;<span class="op" id="3125444">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125448">if</span>&nbsp;<span class="ident" id="3125451">state</span><span class="op" id="3125456">.</span><span class="ident" id="3125457">b</span><span class="op" id="3125458">.</span><span class="ident" id="3125459">Len</span><span class="op" id="3125462">(</span><span class="op" id="3125463">)</span>&nbsp;<span class="op" id="3125465">==</span>&nbsp;<span class="num" id="3125468">0</span>&nbsp;<span class="op" id="3125470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3125475">errorf</span><span class="op" id="3125481">(</span><span class="string" id="3125482">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3125559">,</span>&nbsp;<span class="ident" id="3125561">length</span><span class="op" id="3125567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3125571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3125575">real</span>&nbsp;<span class="op" id="3125580">:=</span>&nbsp;<span class="ident" id="3125583">float64FromBits</span><span class="op" id="3125598">(</span><span class="ident" id="3125599">state</span><span class="op" id="3125604">.</span><span class="ident" id="3125605">decodeUint</span><span class="op" id="3125615">(</span><span class="op" id="3125616">)</span><span class="op" id="3125617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3125621">imag</span>&nbsp;<span class="op" id="3125626">:=</span>&nbsp;<span class="ident" id="3125629">float64FromBits</span><span class="op" id="3125644">(</span><span class="ident" id="3125645">state</span><span class="op" id="3125650">.</span><span class="ident" id="3125651">decodeUint</span><span class="op" id="3125661">(</span><span class="op" id="3125662">)</span><span class="op" id="3125663">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3125667">slice</span><span class="op" id="3125672">[</span><span class="ident" id="3125673">i</span><span class="op" id="3125674">]</span>&nbsp;<span class="op" id="3125676">=</span>&nbsp;<span class="builtinfunc" id="3125678">complex</span><span class="op" id="3125685">(</span><span class="builtinfunc" id="3125686">real</span><span class="op" id="3125690">,</span>&nbsp;<span class="builtinfunc" id="3125692">imag</span><span class="op" id="3125696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3125699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125702">return</span>&nbsp;<span class="ident" id="3125709">true</span><br>
<span class="lineno"></span><span class="op" id="3125714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="3125717">func</span>&nbsp;<span class="ident" id="3125722">decFloat32Array</span><span class="op" id="3125737">(</span><span class="ident" id="3125738">state</span>&nbsp;<span class="op" id="3125744">*</span><span class="ident" id="3125745">decoderState</span><span class="op" id="3125757">,</span>&nbsp;<span class="ident" id="3125759">v</span>&nbsp;<span class="ident" id="3125761">reflect</span><span class="op" id="3125768">.</span><span class="ident" id="3125769">Value</span><span class="op" id="3125774">,</span>&nbsp;<span class="ident" id="3125776">length</span>&nbsp;<span class="builtintype" id="3125783">int</span><span class="op" id="3125786">,</span>&nbsp;<span class="ident" id="3125788">ovfl</span>&nbsp;<span class="builtintype" id="3125793">error</span><span class="op" id="3125798">)</span>&nbsp;<span class="builtintype" id="3125800">bool</span>&nbsp;<span class="op" id="3125805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3125808">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125849">if</span>&nbsp;<span class="op" id="3125852">!</span><span class="ident" id="3125853">v</span><span class="op" id="3125854">.</span><span class="ident" id="3125855">CanAddr</span><span class="op" id="3125862">(</span><span class="op" id="3125863">)</span>&nbsp;<span class="op" id="3125865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125869">return</span>&nbsp;<span class="ident" id="3125876">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3125883">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3125886">return</span>&nbsp;<span class="ident" id="3125893">decFloat32Slice</span><span class="op" id="3125908">(</span><span class="ident" id="3125909">state</span><span class="op" id="3125914">,</span>&nbsp;<span class="ident" id="3125916">v</span><span class="op" id="3125917">.</span><span class="ident" id="3125918">Slice</span><span class="op" id="3125923">(</span><span class="num" id="3125924">0</span><span class="op" id="3125925">,</span>&nbsp;<span class="ident" id="3125927">v</span><span class="op" id="3125928">.</span><span class="ident" id="3125929">Len</span><span class="op" id="3125932">(</span><span class="op" id="3125933">)</span><span class="op" id="3125934">)</span><span class="op" id="3125935">,</span>&nbsp;<span class="ident" id="3125937">length</span><span class="op" id="3125943">,</span>&nbsp;<span class="ident" id="3125945">ovfl</span><span class="op" id="3125949">)</span><br>
<span class="lineno"></span><span class="op" id="3125951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3125954">func</span>&nbsp;<span class="ident" id="3125959">decFloat32Slice</span><span class="op" id="3125974">(</span><span class="ident" id="3125975">state</span>&nbsp;<span class="op" id="3125981">*</span><span class="ident" id="3125982">decoderState</span><span class="op" id="3125994">,</span>&nbsp;<span class="ident" id="3125996">v</span>&nbsp;<span class="ident" id="3125998">reflect</span><span class="op" id="3126005">.</span><span class="ident" id="3126006">Value</span><span class="op" id="3126011">,</span>&nbsp;<span class="ident" id="3126013">length</span>&nbsp;<span class="builtintype" id="3126020">int</span><span class="op" id="3126023">,</span>&nbsp;<span class="ident" id="3126025">ovfl</span>&nbsp;<span class="builtintype" id="3126030">error</span><span class="op" id="3126035">)</span>&nbsp;<span class="builtintype" id="3126037">bool</span>&nbsp;<span class="op" id="3126042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3126045">slice</span><span class="op" id="3126050">,</span>&nbsp;<span class="ident" id="3126052">ok</span>&nbsp;<span class="op" id="3126055">:=</span>&nbsp;<span class="ident" id="3126058">v</span><span class="op" id="3126059">.</span><span class="ident" id="3126060">Interface</span><span class="op" id="3126069">(</span><span class="op" id="3126070">)</span><span class="op" id="3126071">.</span><span class="op" id="3126072">(</span><span class="op" id="3126073">[</span><span class="op" id="3126074">]</span><span class="builtintype" id="3126075">float32</span><span class="op" id="3126082">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126085">if</span>&nbsp;<span class="op" id="3126088">!</span><span class="ident" id="3126089">ok</span>&nbsp;<span class="op" id="3126092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3126096">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126177">return</span>&nbsp;<span class="ident" id="3126184">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3126191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126194">for</span>&nbsp;<span class="ident" id="3126198">i</span>&nbsp;<span class="op" id="3126200">:=</span>&nbsp;<span class="num" id="3126203">0</span><span class="op" id="3126204">;</span>&nbsp;<span class="ident" id="3126206">i</span>&nbsp;<span class="op" id="3126208">&lt;</span>&nbsp;<span class="ident" id="3126210">length</span><span class="op" id="3126216">;</span>&nbsp;<span class="ident" id="3126218">i</span><span class="op" id="3126219">++</span>&nbsp;<span class="op" id="3126222">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126226">if</span>&nbsp;<span class="ident" id="3126229">state</span><span class="op" id="3126234">.</span><span class="ident" id="3126235">b</span><span class="op" id="3126236">.</span><span class="ident" id="3126237">Len</span><span class="op" id="3126240">(</span><span class="op" id="3126241">)</span>&nbsp;<span class="op" id="3126243">==</span>&nbsp;<span class="num" id="3126246">0</span>&nbsp;<span class="op" id="3126248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3126253">errorf</span><span class="op" id="3126259">(</span><span class="string" id="3126260">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3126334">,</span>&nbsp;<span class="ident" id="3126336">length</span><span class="op" id="3126342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3126346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3126350">slice</span><span class="op" id="3126355">[</span><span class="ident" id="3126356">i</span><span class="op" id="3126357">]</span>&nbsp;<span class="op" id="3126359">=</span>&nbsp;<span class="builtintype" id="3126361">float32</span><span class="op" id="3126368">(</span><span class="ident" id="3126369">float32FromBits</span><span class="op" id="3126384">(</span><span class="ident" id="3126385">state</span><span class="op" id="3126390">.</span><span class="ident" id="3126391">decodeUint</span><span class="op" id="3126401">(</span><span class="op" id="3126402">)</span><span class="op" id="3126403">,</span>&nbsp;<span class="ident" id="3126405">ovfl</span><span class="op" id="3126409">)</span><span class="op" id="3126410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3126413">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126416">return</span>&nbsp;<span class="ident" id="3126423">true</span><br>
<span class="lineno"></span><span class="op" id="3126428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3126431">func</span>&nbsp;<span class="ident" id="3126436">decFloat64Array</span><span class="op" id="3126451">(</span><span class="ident" id="3126452">state</span>&nbsp;<span class="op" id="3126458">*</span><span class="ident" id="3126459">decoderState</span><span class="op" id="3126471">,</span>&nbsp;<span class="ident" id="3126473">v</span>&nbsp;<span class="ident" id="3126475">reflect</span><span class="op" id="3126482">.</span><span class="ident" id="3126483">Value</span><span class="op" id="3126488">,</span>&nbsp;<span class="ident" id="3126490">length</span>&nbsp;<span class="builtintype" id="3126497">int</span><span class="op" id="3126500">,</span>&nbsp;<span class="ident" id="3126502">ovfl</span>&nbsp;<span class="builtintype" id="3126507">error</span><span class="op" id="3126512">)</span>&nbsp;<span class="builtintype" id="3126514">bool</span>&nbsp;<span class="op" id="3126519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3126522">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126563">if</span>&nbsp;<span class="op" id="3126566">!</span><span class="ident" id="3126567">v</span><span class="op" id="3126568">.</span><span class="ident" id="3126569">CanAddr</span><span class="op" id="3126576">(</span><span class="op" id="3126577">)</span>&nbsp;<span class="op" id="3126579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126583">return</span>&nbsp;<span class="ident" id="3126590">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3126597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126600">return</span>&nbsp;<span class="ident" id="3126607">decFloat64Slice</span><span class="op" id="3126622">(</span><span class="ident" id="3126623">state</span><span class="op" id="3126628">,</span>&nbsp;<span class="ident" id="3126630">v</span><span class="op" id="3126631">.</span><span class="ident" id="3126632">Slice</span><span class="op" id="3126637">(</span><span class="num" id="3126638">0</span><span class="op" id="3126639">,</span>&nbsp;<span class="ident" id="3126641">v</span><span class="op" id="3126642">.</span><span class="ident" id="3126643">Len</span><span class="op" id="3126646">(</span><span class="op" id="3126647">)</span><span class="op" id="3126648">)</span><span class="op" id="3126649">,</span>&nbsp;<span class="ident" id="3126651">length</span><span class="op" id="3126657">,</span>&nbsp;<span class="ident" id="3126659">ovfl</span><span class="op" id="3126663">)</span><br>
<span class="lineno"></span><span class="op" id="3126665">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="3126668">func</span>&nbsp;<span class="ident" id="3126673">decFloat64Slice</span><span class="op" id="3126688">(</span><span class="ident" id="3126689">state</span>&nbsp;<span class="op" id="3126695">*</span><span class="ident" id="3126696">decoderState</span><span class="op" id="3126708">,</span>&nbsp;<span class="ident" id="3126710">v</span>&nbsp;<span class="ident" id="3126712">reflect</span><span class="op" id="3126719">.</span><span class="ident" id="3126720">Value</span><span class="op" id="3126725">,</span>&nbsp;<span class="ident" id="3126727">length</span>&nbsp;<span class="builtintype" id="3126734">int</span><span class="op" id="3126737">,</span>&nbsp;<span class="ident" id="3126739">ovfl</span>&nbsp;<span class="builtintype" id="3126744">error</span><span class="op" id="3126749">)</span>&nbsp;<span class="builtintype" id="3126751">bool</span>&nbsp;<span class="op" id="3126756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3126759">slice</span><span class="op" id="3126764">,</span>&nbsp;<span class="ident" id="3126766">ok</span>&nbsp;<span class="op" id="3126769">:=</span>&nbsp;<span class="ident" id="3126772">v</span><span class="op" id="3126773">.</span><span class="ident" id="3126774">Interface</span><span class="op" id="3126783">(</span><span class="op" id="3126784">)</span><span class="op" id="3126785">.</span><span class="op" id="3126786">(</span><span class="op" id="3126787">[</span><span class="op" id="3126788">]</span><span class="builtintype" id="3126789">float64</span><span class="op" id="3126796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126799">if</span>&nbsp;<span class="op" id="3126802">!</span><span class="ident" id="3126803">ok</span>&nbsp;<span class="op" id="3126806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3126810">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126891">return</span>&nbsp;<span class="ident" id="3126898">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3126905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126908">for</span>&nbsp;<span class="ident" id="3126912">i</span>&nbsp;<span class="op" id="3126914">:=</span>&nbsp;<span class="num" id="3126917">0</span><span class="op" id="3126918">;</span>&nbsp;<span class="ident" id="3126920">i</span>&nbsp;<span class="op" id="3126922">&lt;</span>&nbsp;<span class="ident" id="3126924">length</span><span class="op" id="3126930">;</span>&nbsp;<span class="ident" id="3126932">i</span><span class="op" id="3126933">++</span>&nbsp;<span class="op" id="3126936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3126940">if</span>&nbsp;<span class="ident" id="3126943">state</span><span class="op" id="3126948">.</span><span class="ident" id="3126949">b</span><span class="op" id="3126950">.</span><span class="ident" id="3126951">Len</span><span class="op" id="3126954">(</span><span class="op" id="3126955">)</span>&nbsp;<span class="op" id="3126957">==</span>&nbsp;<span class="num" id="3126960">0</span>&nbsp;<span class="op" id="3126962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3126967">errorf</span><span class="op" id="3126973">(</span><span class="string" id="3126974">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3127048">,</span>&nbsp;<span class="ident" id="3127050">length</span><span class="op" id="3127056">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3127060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3127064">slice</span><span class="op" id="3127069">[</span><span class="ident" id="3127070">i</span><span class="op" id="3127071">]</span>&nbsp;<span class="op" id="3127073">=</span>&nbsp;<span class="ident" id="3127075">float64FromBits</span><span class="op" id="3127090">(</span><span class="ident" id="3127091">state</span><span class="op" id="3127096">.</span><span class="ident" id="3127097">decodeUint</span><span class="op" id="3127107">(</span><span class="op" id="3127108">)</span><span class="op" id="3127109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3127112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127115">return</span>&nbsp;<span class="ident" id="3127122">true</span><br>
<span class="lineno"></span><span class="op" id="3127127">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="3127130">func</span>&nbsp;<span class="ident" id="3127135">decIntArray</span><span class="op" id="3127146">(</span><span class="ident" id="3127147">state</span>&nbsp;<span class="op" id="3127153">*</span><span class="ident" id="3127154">decoderState</span><span class="op" id="3127166">,</span>&nbsp;<span class="ident" id="3127168">v</span>&nbsp;<span class="ident" id="3127170">reflect</span><span class="op" id="3127177">.</span><span class="ident" id="3127178">Value</span><span class="op" id="3127183">,</span>&nbsp;<span class="ident" id="3127185">length</span>&nbsp;<span class="builtintype" id="3127192">int</span><span class="op" id="3127195">,</span>&nbsp;<span class="ident" id="3127197">ovfl</span>&nbsp;<span class="builtintype" id="3127202">error</span><span class="op" id="3127207">)</span>&nbsp;<span class="builtintype" id="3127209">bool</span>&nbsp;<span class="op" id="3127214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3127217">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127258">if</span>&nbsp;<span class="op" id="3127261">!</span><span class="ident" id="3127262">v</span><span class="op" id="3127263">.</span><span class="ident" id="3127264">CanAddr</span><span class="op" id="3127271">(</span><span class="op" id="3127272">)</span>&nbsp;<span class="op" id="3127274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127278">return</span>&nbsp;<span class="ident" id="3127285">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3127292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127295">return</span>&nbsp;<span class="ident" id="3127302">decIntSlice</span><span class="op" id="3127313">(</span><span class="ident" id="3127314">state</span><span class="op" id="3127319">,</span>&nbsp;<span class="ident" id="3127321">v</span><span class="op" id="3127322">.</span><span class="ident" id="3127323">Slice</span><span class="op" id="3127328">(</span><span class="num" id="3127329">0</span><span class="op" id="3127330">,</span>&nbsp;<span class="ident" id="3127332">v</span><span class="op" id="3127333">.</span><span class="ident" id="3127334">Len</span><span class="op" id="3127337">(</span><span class="op" id="3127338">)</span><span class="op" id="3127339">)</span><span class="op" id="3127340">,</span>&nbsp;<span class="ident" id="3127342">length</span><span class="op" id="3127348">,</span>&nbsp;<span class="ident" id="3127350">ovfl</span><span class="op" id="3127354">)</span><br>
<span class="lineno"></span><span class="op" id="3127356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3127359">func</span>&nbsp;<span class="ident" id="3127364">decIntSlice</span><span class="op" id="3127375">(</span><span class="ident" id="3127376">state</span>&nbsp;<span class="op" id="3127382">*</span><span class="ident" id="3127383">decoderState</span><span class="op" id="3127395">,</span>&nbsp;<span class="ident" id="3127397">v</span>&nbsp;<span class="ident" id="3127399">reflect</span><span class="op" id="3127406">.</span><span class="ident" id="3127407">Value</span><span class="op" id="3127412">,</span>&nbsp;<span class="ident" id="3127414">length</span>&nbsp;<span class="builtintype" id="3127421">int</span><span class="op" id="3127424">,</span>&nbsp;<span class="ident" id="3127426">ovfl</span>&nbsp;<span class="builtintype" id="3127431">error</span><span class="op" id="3127436">)</span>&nbsp;<span class="builtintype" id="3127438">bool</span>&nbsp;<span class="op" id="3127443">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3127446">slice</span><span class="op" id="3127451">,</span>&nbsp;<span class="ident" id="3127453">ok</span>&nbsp;<span class="op" id="3127456">:=</span>&nbsp;<span class="ident" id="3127459">v</span><span class="op" id="3127460">.</span><span class="ident" id="3127461">Interface</span><span class="op" id="3127470">(</span><span class="op" id="3127471">)</span><span class="op" id="3127472">.</span><span class="op" id="3127473">(</span><span class="op" id="3127474">[</span><span class="op" id="3127475">]</span><span class="builtintype" id="3127476">int</span><span class="op" id="3127479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127482">if</span>&nbsp;<span class="op" id="3127485">!</span><span class="ident" id="3127486">ok</span>&nbsp;<span class="op" id="3127489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3127493">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127566">return</span>&nbsp;<span class="ident" id="3127573">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3127580">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127583">for</span>&nbsp;<span class="ident" id="3127587">i</span>&nbsp;<span class="op" id="3127589">:=</span>&nbsp;<span class="num" id="3127592">0</span><span class="op" id="3127593">;</span>&nbsp;<span class="ident" id="3127595">i</span>&nbsp;<span class="op" id="3127597">&lt;</span>&nbsp;<span class="ident" id="3127599">length</span><span class="op" id="3127605">;</span>&nbsp;<span class="ident" id="3127607">i</span><span class="op" id="3127608">++</span>&nbsp;<span class="op" id="3127611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127615">if</span>&nbsp;<span class="ident" id="3127618">state</span><span class="op" id="3127623">.</span><span class="ident" id="3127624">b</span><span class="op" id="3127625">.</span><span class="ident" id="3127626">Len</span><span class="op" id="3127629">(</span><span class="op" id="3127630">)</span>&nbsp;<span class="op" id="3127632">==</span>&nbsp;<span class="num" id="3127635">0</span>&nbsp;<span class="op" id="3127637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3127642">errorf</span><span class="op" id="3127648">(</span><span class="string" id="3127649">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3127719">,</span>&nbsp;<span class="ident" id="3127721">length</span><span class="op" id="3127727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3127731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3127735">x</span>&nbsp;<span class="op" id="3127737">:=</span>&nbsp;<span class="ident" id="3127740">state</span><span class="op" id="3127745">.</span><span class="ident" id="3127746">decodeInt</span><span class="op" id="3127755">(</span><span class="op" id="3127756">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3127760">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127783">if</span>&nbsp;<span class="ident" id="3127786">x</span>&nbsp;<span class="op" id="3127788">&lt;</span>&nbsp;<span class="op" id="3127790">^</span><span class="ident" id="3127791">int64</span><span class="op" id="3127796">(</span><span class="op" id="3127797">^</span><span class="builtintype" id="3127798">uint</span><span class="op" id="3127802">(</span><span class="num" id="3127803">0</span><span class="op" id="3127804">)</span><span class="op" id="3127805">&gt;&gt;</span><span class="num" id="3127807">1</span><span class="op" id="3127808">)</span>&nbsp;<span class="op" id="3127810">||</span>&nbsp;<span class="ident" id="3127813">int64</span><span class="op" id="3127818">(</span><span class="op" id="3127819">^</span><span class="builtintype" id="3127820">uint</span><span class="op" id="3127824">(</span><span class="num" id="3127825">0</span><span class="op" id="3127826">)</span><span class="op" id="3127827">&gt;&gt;</span><span class="num" id="3127829">1</span><span class="op" id="3127830">)</span>&nbsp;<span class="op" id="3127832">&lt;</span>&nbsp;<span class="ident" id="3127834">x</span>&nbsp;<span class="op" id="3127836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3127841">error_</span><span class="op" id="3127847">(</span><span class="ident" id="3127848">ovfl</span><span class="op" id="3127852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3127856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3127860">slice</span><span class="op" id="3127865">[</span><span class="ident" id="3127866">i</span><span class="op" id="3127867">]</span>&nbsp;<span class="op" id="3127869">=</span>&nbsp;<span class="builtintype" id="3127871">int</span><span class="op" id="3127874">(</span><span class="ident" id="3127875">x</span><span class="op" id="3127876">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3127879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3127882">return</span>&nbsp;<span class="ident" id="3127889">true</span><br>
<span class="lineno"></span><span class="op" id="3127894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3127897">func</span>&nbsp;<span class="ident" id="3127902">decInt16Array</span><span class="op" id="3127915">(</span><span class="ident" id="3127916">state</span>&nbsp;<span class="op" id="3127922">*</span><span class="ident" id="3127923">decoderState</span><span class="op" id="3127935">,</span>&nbsp;<span class="ident" id="3127937">v</span>&nbsp;<span class="ident" id="3127939">reflect</span><span class="op" id="3127946">.</span><span class="ident" id="3127947">Value</span><span class="op" id="3127952">,</span>&nbsp;<span class="ident" id="3127954">length</span>&nbsp;<span class="builtintype" id="3127961">int</span><span class="op" id="3127964">,</span>&nbsp;<span class="ident" id="3127966">ovfl</span>&nbsp;<span class="builtintype" id="3127971">error</span><span class="op" id="3127976">)</span>&nbsp;<span class="builtintype" id="3127978">bool</span>&nbsp;<span class="op" id="3127983">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3127986">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128027">if</span>&nbsp;<span class="op" id="3128030">!</span><span class="ident" id="3128031">v</span><span class="op" id="3128032">.</span><span class="ident" id="3128033">CanAddr</span><span class="op" id="3128040">(</span><span class="op" id="3128041">)</span>&nbsp;<span class="op" id="3128043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128047">return</span>&nbsp;<span class="ident" id="3128054">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3128061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128064">return</span>&nbsp;<span class="ident" id="3128071">decInt16Slice</span><span class="op" id="3128084">(</span><span class="ident" id="3128085">state</span><span class="op" id="3128090">,</span>&nbsp;<span class="ident" id="3128092">v</span><span class="op" id="3128093">.</span><span class="ident" id="3128094">Slice</span><span class="op" id="3128099">(</span><span class="num" id="3128100">0</span><span class="op" id="3128101">,</span>&nbsp;<span class="ident" id="3128103">v</span><span class="op" id="3128104">.</span><span class="ident" id="3128105">Len</span><span class="op" id="3128108">(</span><span class="op" id="3128109">)</span><span class="op" id="3128110">)</span><span class="op" id="3128111">,</span>&nbsp;<span class="ident" id="3128113">length</span><span class="op" id="3128119">,</span>&nbsp;<span class="ident" id="3128121">ovfl</span><span class="op" id="3128125">)</span><br>
<span class="lineno">205</span><span class="op" id="3128127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3128130">func</span>&nbsp;<span class="ident" id="3128135">decInt16Slice</span><span class="op" id="3128148">(</span><span class="ident" id="3128149">state</span>&nbsp;<span class="op" id="3128155">*</span><span class="ident" id="3128156">decoderState</span><span class="op" id="3128168">,</span>&nbsp;<span class="ident" id="3128170">v</span>&nbsp;<span class="ident" id="3128172">reflect</span><span class="op" id="3128179">.</span><span class="ident" id="3128180">Value</span><span class="op" id="3128185">,</span>&nbsp;<span class="ident" id="3128187">length</span>&nbsp;<span class="builtintype" id="3128194">int</span><span class="op" id="3128197">,</span>&nbsp;<span class="ident" id="3128199">ovfl</span>&nbsp;<span class="builtintype" id="3128204">error</span><span class="op" id="3128209">)</span>&nbsp;<span class="builtintype" id="3128211">bool</span>&nbsp;<span class="op" id="3128216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3128219">slice</span><span class="op" id="3128224">,</span>&nbsp;<span class="ident" id="3128226">ok</span>&nbsp;<span class="op" id="3128229">:=</span>&nbsp;<span class="ident" id="3128232">v</span><span class="op" id="3128233">.</span><span class="ident" id="3128234">Interface</span><span class="op" id="3128243">(</span><span class="op" id="3128244">)</span><span class="op" id="3128245">.</span><span class="op" id="3128246">(</span><span class="op" id="3128247">[</span><span class="op" id="3128248">]</span><span class="builtintype" id="3128249">int16</span><span class="op" id="3128254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128257">if</span>&nbsp;<span class="op" id="3128260">!</span><span class="ident" id="3128261">ok</span>&nbsp;<span class="op" id="3128264">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3128268">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128345">return</span>&nbsp;<span class="ident" id="3128352">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3128359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128362">for</span>&nbsp;<span class="ident" id="3128366">i</span>&nbsp;<span class="op" id="3128368">:=</span>&nbsp;<span class="num" id="3128371">0</span><span class="op" id="3128372">;</span>&nbsp;<span class="ident" id="3128374">i</span>&nbsp;<span class="op" id="3128376">&lt;</span>&nbsp;<span class="ident" id="3128378">length</span><span class="op" id="3128384">;</span>&nbsp;<span class="ident" id="3128386">i</span><span class="op" id="3128387">++</span>&nbsp;<span class="op" id="3128390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128394">if</span>&nbsp;<span class="ident" id="3128397">state</span><span class="op" id="3128402">.</span><span class="ident" id="3128403">b</span><span class="op" id="3128404">.</span><span class="ident" id="3128405">Len</span><span class="op" id="3128408">(</span><span class="op" id="3128409">)</span>&nbsp;<span class="op" id="3128411">==</span>&nbsp;<span class="num" id="3128414">0</span>&nbsp;<span class="op" id="3128416">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3128421">errorf</span><span class="op" id="3128427">(</span><span class="string" id="3128428">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3128500">,</span>&nbsp;<span class="ident" id="3128502">length</span><span class="op" id="3128508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3128512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3128516">x</span>&nbsp;<span class="op" id="3128518">:=</span>&nbsp;<span class="ident" id="3128521">state</span><span class="op" id="3128526">.</span><span class="ident" id="3128527">decodeInt</span><span class="op" id="3128536">(</span><span class="op" id="3128537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128541">if</span>&nbsp;<span class="ident" id="3128544">x</span>&nbsp;<span class="op" id="3128546">&lt;</span>&nbsp;<span class="ident" id="3128548">math</span><span class="op" id="3128552">.</span><span class="ident" id="3128553">MinInt16</span>&nbsp;<span class="op" id="3128562">||</span>&nbsp;<span class="ident" id="3128565">math</span><span class="op" id="3128569">.</span><span class="ident" id="3128570">MaxInt16</span>&nbsp;<span class="op" id="3128579">&lt;</span>&nbsp;<span class="ident" id="3128581">x</span>&nbsp;<span class="op" id="3128583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3128588">error_</span><span class="op" id="3128594">(</span><span class="ident" id="3128595">ovfl</span><span class="op" id="3128599">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3128603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3128607">slice</span><span class="op" id="3128612">[</span><span class="ident" id="3128613">i</span><span class="op" id="3128614">]</span>&nbsp;<span class="op" id="3128616">=</span>&nbsp;<span class="builtintype" id="3128618">int16</span><span class="op" id="3128623">(</span><span class="ident" id="3128624">x</span><span class="op" id="3128625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3128628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128631">return</span>&nbsp;<span class="ident" id="3128638">true</span><br>
<span class="lineno"></span><span class="op" id="3128643">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="3128646">func</span>&nbsp;<span class="ident" id="3128651">decInt32Array</span><span class="op" id="3128664">(</span><span class="ident" id="3128665">state</span>&nbsp;<span class="op" id="3128671">*</span><span class="ident" id="3128672">decoderState</span><span class="op" id="3128684">,</span>&nbsp;<span class="ident" id="3128686">v</span>&nbsp;<span class="ident" id="3128688">reflect</span><span class="op" id="3128695">.</span><span class="ident" id="3128696">Value</span><span class="op" id="3128701">,</span>&nbsp;<span class="ident" id="3128703">length</span>&nbsp;<span class="builtintype" id="3128710">int</span><span class="op" id="3128713">,</span>&nbsp;<span class="ident" id="3128715">ovfl</span>&nbsp;<span class="builtintype" id="3128720">error</span><span class="op" id="3128725">)</span>&nbsp;<span class="builtintype" id="3128727">bool</span>&nbsp;<span class="op" id="3128732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3128735">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128776">if</span>&nbsp;<span class="op" id="3128779">!</span><span class="ident" id="3128780">v</span><span class="op" id="3128781">.</span><span class="ident" id="3128782">CanAddr</span><span class="op" id="3128789">(</span><span class="op" id="3128790">)</span>&nbsp;<span class="op" id="3128792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128796">return</span>&nbsp;<span class="ident" id="3128803">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3128810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3128813">return</span>&nbsp;<span class="ident" id="3128820">decInt32Slice</span><span class="op" id="3128833">(</span><span class="ident" id="3128834">state</span><span class="op" id="3128839">,</span>&nbsp;<span class="ident" id="3128841">v</span><span class="op" id="3128842">.</span><span class="ident" id="3128843">Slice</span><span class="op" id="3128848">(</span><span class="num" id="3128849">0</span><span class="op" id="3128850">,</span>&nbsp;<span class="ident" id="3128852">v</span><span class="op" id="3128853">.</span><span class="ident" id="3128854">Len</span><span class="op" id="3128857">(</span><span class="op" id="3128858">)</span><span class="op" id="3128859">)</span><span class="op" id="3128860">,</span>&nbsp;<span class="ident" id="3128862">length</span><span class="op" id="3128868">,</span>&nbsp;<span class="ident" id="3128870">ovfl</span><span class="op" id="3128874">)</span><br>
<span class="lineno"></span><span class="op" id="3128876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3128879">func</span>&nbsp;<span class="ident" id="3128884">decInt32Slice</span><span class="op" id="3128897">(</span><span class="ident" id="3128898">state</span>&nbsp;<span class="op" id="3128904">*</span><span class="ident" id="3128905">decoderState</span><span class="op" id="3128917">,</span>&nbsp;<span class="ident" id="3128919">v</span>&nbsp;<span class="ident" id="3128921">reflect</span><span class="op" id="3128928">.</span><span class="ident" id="3128929">Value</span><span class="op" id="3128934">,</span>&nbsp;<span class="ident" id="3128936">length</span>&nbsp;<span class="builtintype" id="3128943">int</span><span class="op" id="3128946">,</span>&nbsp;<span class="ident" id="3128948">ovfl</span>&nbsp;<span class="builtintype" id="3128953">error</span><span class="op" id="3128958">)</span>&nbsp;<span class="builtintype" id="3128960">bool</span>&nbsp;<span class="op" id="3128965">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3128968">slice</span><span class="op" id="3128973">,</span>&nbsp;<span class="ident" id="3128975">ok</span>&nbsp;<span class="op" id="3128978">:=</span>&nbsp;<span class="ident" id="3128981">v</span><span class="op" id="3128982">.</span><span class="ident" id="3128983">Interface</span><span class="op" id="3128992">(</span><span class="op" id="3128993">)</span><span class="op" id="3128994">.</span><span class="op" id="3128995">(</span><span class="op" id="3128996">[</span><span class="op" id="3128997">]</span><span class="builtintype" id="3128998">int32</span><span class="op" id="3129003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129006">if</span>&nbsp;<span class="op" id="3129009">!</span><span class="ident" id="3129010">ok</span>&nbsp;<span class="op" id="3129013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3129017">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129094">return</span>&nbsp;<span class="ident" id="3129101">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3129108">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129111">for</span>&nbsp;<span class="ident" id="3129115">i</span>&nbsp;<span class="op" id="3129117">:=</span>&nbsp;<span class="num" id="3129120">0</span><span class="op" id="3129121">;</span>&nbsp;<span class="ident" id="3129123">i</span>&nbsp;<span class="op" id="3129125">&lt;</span>&nbsp;<span class="ident" id="3129127">length</span><span class="op" id="3129133">;</span>&nbsp;<span class="ident" id="3129135">i</span><span class="op" id="3129136">++</span>&nbsp;<span class="op" id="3129139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129143">if</span>&nbsp;<span class="ident" id="3129146">state</span><span class="op" id="3129151">.</span><span class="ident" id="3129152">b</span><span class="op" id="3129153">.</span><span class="ident" id="3129154">Len</span><span class="op" id="3129157">(</span><span class="op" id="3129158">)</span>&nbsp;<span class="op" id="3129160">==</span>&nbsp;<span class="num" id="3129163">0</span>&nbsp;<span class="op" id="3129165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3129170">errorf</span><span class="op" id="3129176">(</span><span class="string" id="3129177">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3129249">,</span>&nbsp;<span class="ident" id="3129251">length</span><span class="op" id="3129257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3129261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3129265">x</span>&nbsp;<span class="op" id="3129267">:=</span>&nbsp;<span class="ident" id="3129270">state</span><span class="op" id="3129275">.</span><span class="ident" id="3129276">decodeInt</span><span class="op" id="3129285">(</span><span class="op" id="3129286">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129290">if</span>&nbsp;<span class="ident" id="3129293">x</span>&nbsp;<span class="op" id="3129295">&lt;</span>&nbsp;<span class="ident" id="3129297">math</span><span class="op" id="3129301">.</span><span class="ident" id="3129302">MinInt32</span>&nbsp;<span class="op" id="3129311">||</span>&nbsp;<span class="ident" id="3129314">math</span><span class="op" id="3129318">.</span><span class="ident" id="3129319">MaxInt32</span>&nbsp;<span class="op" id="3129328">&lt;</span>&nbsp;<span class="ident" id="3129330">x</span>&nbsp;<span class="op" id="3129332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3129337">error_</span><span class="op" id="3129343">(</span><span class="ident" id="3129344">ovfl</span><span class="op" id="3129348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3129352">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3129356">slice</span><span class="op" id="3129361">[</span><span class="ident" id="3129362">i</span><span class="op" id="3129363">]</span>&nbsp;<span class="op" id="3129365">=</span>&nbsp;<span class="builtintype" id="3129367">int32</span><span class="op" id="3129372">(</span><span class="ident" id="3129373">x</span><span class="op" id="3129374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3129377">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129380">return</span>&nbsp;<span class="ident" id="3129387">true</span><br>
<span class="lineno"></span><span class="op" id="3129392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3129395">func</span>&nbsp;<span class="ident" id="3129400">decInt64Array</span><span class="op" id="3129413">(</span><span class="ident" id="3129414">state</span>&nbsp;<span class="op" id="3129420">*</span><span class="ident" id="3129421">decoderState</span><span class="op" id="3129433">,</span>&nbsp;<span class="ident" id="3129435">v</span>&nbsp;<span class="ident" id="3129437">reflect</span><span class="op" id="3129444">.</span><span class="ident" id="3129445">Value</span><span class="op" id="3129450">,</span>&nbsp;<span class="ident" id="3129452">length</span>&nbsp;<span class="builtintype" id="3129459">int</span><span class="op" id="3129462">,</span>&nbsp;<span class="ident" id="3129464">ovfl</span>&nbsp;<span class="builtintype" id="3129469">error</span><span class="op" id="3129474">)</span>&nbsp;<span class="builtintype" id="3129476">bool</span>&nbsp;<span class="op" id="3129481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3129484">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129525">if</span>&nbsp;<span class="op" id="3129528">!</span><span class="ident" id="3129529">v</span><span class="op" id="3129530">.</span><span class="ident" id="3129531">CanAddr</span><span class="op" id="3129538">(</span><span class="op" id="3129539">)</span>&nbsp;<span class="op" id="3129541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129545">return</span>&nbsp;<span class="ident" id="3129552">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3129559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129562">return</span>&nbsp;<span class="ident" id="3129569">decInt64Slice</span><span class="op" id="3129582">(</span><span class="ident" id="3129583">state</span><span class="op" id="3129588">,</span>&nbsp;<span class="ident" id="3129590">v</span><span class="op" id="3129591">.</span><span class="ident" id="3129592">Slice</span><span class="op" id="3129597">(</span><span class="num" id="3129598">0</span><span class="op" id="3129599">,</span>&nbsp;<span class="ident" id="3129601">v</span><span class="op" id="3129602">.</span><span class="ident" id="3129603">Len</span><span class="op" id="3129606">(</span><span class="op" id="3129607">)</span><span class="op" id="3129608">)</span><span class="op" id="3129609">,</span>&nbsp;<span class="ident" id="3129611">length</span><span class="op" id="3129617">,</span>&nbsp;<span class="ident" id="3129619">ovfl</span><span class="op" id="3129623">)</span><br>
<span class="lineno"></span><span class="op" id="3129625">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="3129628">func</span>&nbsp;<span class="ident" id="3129633">decInt64Slice</span><span class="op" id="3129646">(</span><span class="ident" id="3129647">state</span>&nbsp;<span class="op" id="3129653">*</span><span class="ident" id="3129654">decoderState</span><span class="op" id="3129666">,</span>&nbsp;<span class="ident" id="3129668">v</span>&nbsp;<span class="ident" id="3129670">reflect</span><span class="op" id="3129677">.</span><span class="ident" id="3129678">Value</span><span class="op" id="3129683">,</span>&nbsp;<span class="ident" id="3129685">length</span>&nbsp;<span class="builtintype" id="3129692">int</span><span class="op" id="3129695">,</span>&nbsp;<span class="ident" id="3129697">ovfl</span>&nbsp;<span class="builtintype" id="3129702">error</span><span class="op" id="3129707">)</span>&nbsp;<span class="builtintype" id="3129709">bool</span>&nbsp;<span class="op" id="3129714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3129717">slice</span><span class="op" id="3129722">,</span>&nbsp;<span class="ident" id="3129724">ok</span>&nbsp;<span class="op" id="3129727">:=</span>&nbsp;<span class="ident" id="3129730">v</span><span class="op" id="3129731">.</span><span class="ident" id="3129732">Interface</span><span class="op" id="3129741">(</span><span class="op" id="3129742">)</span><span class="op" id="3129743">.</span><span class="op" id="3129744">(</span><span class="op" id="3129745">[</span><span class="op" id="3129746">]</span><span class="ident" id="3129747">int64</span><span class="op" id="3129752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129755">if</span>&nbsp;<span class="op" id="3129758">!</span><span class="ident" id="3129759">ok</span>&nbsp;<span class="op" id="3129762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3129766">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129843">return</span>&nbsp;<span class="ident" id="3129850">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3129857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129860">for</span>&nbsp;<span class="ident" id="3129864">i</span>&nbsp;<span class="op" id="3129866">:=</span>&nbsp;<span class="num" id="3129869">0</span><span class="op" id="3129870">;</span>&nbsp;<span class="ident" id="3129872">i</span>&nbsp;<span class="op" id="3129874">&lt;</span>&nbsp;<span class="ident" id="3129876">length</span><span class="op" id="3129882">;</span>&nbsp;<span class="ident" id="3129884">i</span><span class="op" id="3129885">++</span>&nbsp;<span class="op" id="3129888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3129892">if</span>&nbsp;<span class="ident" id="3129895">state</span><span class="op" id="3129900">.</span><span class="ident" id="3129901">b</span><span class="op" id="3129902">.</span><span class="ident" id="3129903">Len</span><span class="op" id="3129906">(</span><span class="op" id="3129907">)</span>&nbsp;<span class="op" id="3129909">==</span>&nbsp;<span class="num" id="3129912">0</span>&nbsp;<span class="op" id="3129914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3129919">errorf</span><span class="op" id="3129925">(</span><span class="string" id="3129926">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3129998">,</span>&nbsp;<span class="ident" id="3130000">length</span><span class="op" id="3130006">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3130010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3130014">slice</span><span class="op" id="3130019">[</span><span class="ident" id="3130020">i</span><span class="op" id="3130021">]</span>&nbsp;<span class="op" id="3130023">=</span>&nbsp;<span class="ident" id="3130025">state</span><span class="op" id="3130030">.</span><span class="ident" id="3130031">decodeInt</span><span class="op" id="3130040">(</span><span class="op" id="3130041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3130044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130047">return</span>&nbsp;<span class="ident" id="3130054">true</span><br>
<span class="lineno"></span><span class="op" id="3130059">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="3130062">func</span>&nbsp;<span class="ident" id="3130067">decInt8Array</span><span class="op" id="3130079">(</span><span class="ident" id="3130080">state</span>&nbsp;<span class="op" id="3130086">*</span><span class="ident" id="3130087">decoderState</span><span class="op" id="3130099">,</span>&nbsp;<span class="ident" id="3130101">v</span>&nbsp;<span class="ident" id="3130103">reflect</span><span class="op" id="3130110">.</span><span class="ident" id="3130111">Value</span><span class="op" id="3130116">,</span>&nbsp;<span class="ident" id="3130118">length</span>&nbsp;<span class="builtintype" id="3130125">int</span><span class="op" id="3130128">,</span>&nbsp;<span class="ident" id="3130130">ovfl</span>&nbsp;<span class="builtintype" id="3130135">error</span><span class="op" id="3130140">)</span>&nbsp;<span class="builtintype" id="3130142">bool</span>&nbsp;<span class="op" id="3130147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3130150">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130191">if</span>&nbsp;<span class="op" id="3130194">!</span><span class="ident" id="3130195">v</span><span class="op" id="3130196">.</span><span class="ident" id="3130197">CanAddr</span><span class="op" id="3130204">(</span><span class="op" id="3130205">)</span>&nbsp;<span class="op" id="3130207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130211">return</span>&nbsp;<span class="ident" id="3130218">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3130225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130228">return</span>&nbsp;<span class="ident" id="3130235">decInt8Slice</span><span class="op" id="3130247">(</span><span class="ident" id="3130248">state</span><span class="op" id="3130253">,</span>&nbsp;<span class="ident" id="3130255">v</span><span class="op" id="3130256">.</span><span class="ident" id="3130257">Slice</span><span class="op" id="3130262">(</span><span class="num" id="3130263">0</span><span class="op" id="3130264">,</span>&nbsp;<span class="ident" id="3130266">v</span><span class="op" id="3130267">.</span><span class="ident" id="3130268">Len</span><span class="op" id="3130271">(</span><span class="op" id="3130272">)</span><span class="op" id="3130273">)</span><span class="op" id="3130274">,</span>&nbsp;<span class="ident" id="3130276">length</span><span class="op" id="3130282">,</span>&nbsp;<span class="ident" id="3130284">ovfl</span><span class="op" id="3130288">)</span><br>
<span class="lineno"></span><span class="op" id="3130290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3130293">func</span>&nbsp;<span class="ident" id="3130298">decInt8Slice</span><span class="op" id="3130310">(</span><span class="ident" id="3130311">state</span>&nbsp;<span class="op" id="3130317">*</span><span class="ident" id="3130318">decoderState</span><span class="op" id="3130330">,</span>&nbsp;<span class="ident" id="3130332">v</span>&nbsp;<span class="ident" id="3130334">reflect</span><span class="op" id="3130341">.</span><span class="ident" id="3130342">Value</span><span class="op" id="3130347">,</span>&nbsp;<span class="ident" id="3130349">length</span>&nbsp;<span class="builtintype" id="3130356">int</span><span class="op" id="3130359">,</span>&nbsp;<span class="ident" id="3130361">ovfl</span>&nbsp;<span class="builtintype" id="3130366">error</span><span class="op" id="3130371">)</span>&nbsp;<span class="builtintype" id="3130373">bool</span>&nbsp;<span class="op" id="3130378">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3130381">slice</span><span class="op" id="3130386">,</span>&nbsp;<span class="ident" id="3130388">ok</span>&nbsp;<span class="op" id="3130391">:=</span>&nbsp;<span class="ident" id="3130394">v</span><span class="op" id="3130395">.</span><span class="ident" id="3130396">Interface</span><span class="op" id="3130405">(</span><span class="op" id="3130406">)</span><span class="op" id="3130407">.</span><span class="op" id="3130408">(</span><span class="op" id="3130409">[</span><span class="op" id="3130410">]</span><span class="builtintype" id="3130411">int8</span><span class="op" id="3130415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130418">if</span>&nbsp;<span class="op" id="3130421">!</span><span class="ident" id="3130422">ok</span>&nbsp;<span class="op" id="3130425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3130429">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130504">return</span>&nbsp;<span class="ident" id="3130511">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3130518">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130521">for</span>&nbsp;<span class="ident" id="3130525">i</span>&nbsp;<span class="op" id="3130527">:=</span>&nbsp;<span class="num" id="3130530">0</span><span class="op" id="3130531">;</span>&nbsp;<span class="ident" id="3130533">i</span>&nbsp;<span class="op" id="3130535">&lt;</span>&nbsp;<span class="ident" id="3130537">length</span><span class="op" id="3130543">;</span>&nbsp;<span class="ident" id="3130545">i</span><span class="op" id="3130546">++</span>&nbsp;<span class="op" id="3130549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130553">if</span>&nbsp;<span class="ident" id="3130556">state</span><span class="op" id="3130561">.</span><span class="ident" id="3130562">b</span><span class="op" id="3130563">.</span><span class="ident" id="3130564">Len</span><span class="op" id="3130567">(</span><span class="op" id="3130568">)</span>&nbsp;<span class="op" id="3130570">==</span>&nbsp;<span class="num" id="3130573">0</span>&nbsp;<span class="op" id="3130575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3130580">errorf</span><span class="op" id="3130586">(</span><span class="string" id="3130587">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3130658">,</span>&nbsp;<span class="ident" id="3130660">length</span><span class="op" id="3130666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3130670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3130674">x</span>&nbsp;<span class="op" id="3130676">:=</span>&nbsp;<span class="ident" id="3130679">state</span><span class="op" id="3130684">.</span><span class="ident" id="3130685">decodeInt</span><span class="op" id="3130694">(</span><span class="op" id="3130695">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130699">if</span>&nbsp;<span class="ident" id="3130702">x</span>&nbsp;<span class="op" id="3130704">&lt;</span>&nbsp;<span class="ident" id="3130706">math</span><span class="op" id="3130710">.</span><span class="ident" id="3130711">MinInt8</span>&nbsp;<span class="op" id="3130719">||</span>&nbsp;<span class="ident" id="3130722">math</span><span class="op" id="3130726">.</span><span class="ident" id="3130727">MaxInt8</span>&nbsp;<span class="op" id="3130735">&lt;</span>&nbsp;<span class="ident" id="3130737">x</span>&nbsp;<span class="op" id="3130739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3130744">error_</span><span class="op" id="3130750">(</span><span class="ident" id="3130751">ovfl</span><span class="op" id="3130755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3130759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3130763">slice</span><span class="op" id="3130768">[</span><span class="ident" id="3130769">i</span><span class="op" id="3130770">]</span>&nbsp;<span class="op" id="3130772">=</span>&nbsp;<span class="builtintype" id="3130774">int8</span><span class="op" id="3130778">(</span><span class="ident" id="3130779">x</span><span class="op" id="3130780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3130783">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130786">return</span>&nbsp;<span class="ident" id="3130793">true</span><br>
<span class="lineno"></span><span class="op" id="3130798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3130801">func</span>&nbsp;<span class="ident" id="3130806">decStringArray</span><span class="op" id="3130820">(</span><span class="ident" id="3130821">state</span>&nbsp;<span class="op" id="3130827">*</span><span class="ident" id="3130828">decoderState</span><span class="op" id="3130840">,</span>&nbsp;<span class="ident" id="3130842">v</span>&nbsp;<span class="ident" id="3130844">reflect</span><span class="op" id="3130851">.</span><span class="ident" id="3130852">Value</span><span class="op" id="3130857">,</span>&nbsp;<span class="ident" id="3130859">length</span>&nbsp;<span class="builtintype" id="3130866">int</span><span class="op" id="3130869">,</span>&nbsp;<span class="ident" id="3130871">ovfl</span>&nbsp;<span class="builtintype" id="3130876">error</span><span class="op" id="3130881">)</span>&nbsp;<span class="builtintype" id="3130883">bool</span>&nbsp;<span class="op" id="3130888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3130891">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130932">if</span>&nbsp;<span class="op" id="3130935">!</span><span class="ident" id="3130936">v</span><span class="op" id="3130937">.</span><span class="ident" id="3130938">CanAddr</span><span class="op" id="3130945">(</span><span class="op" id="3130946">)</span>&nbsp;<span class="op" id="3130948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130952">return</span>&nbsp;<span class="ident" id="3130959">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3130966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3130969">return</span>&nbsp;<span class="ident" id="3130976">decStringSlice</span><span class="op" id="3130990">(</span><span class="ident" id="3130991">state</span><span class="op" id="3130996">,</span>&nbsp;<span class="ident" id="3130998">v</span><span class="op" id="3130999">.</span><span class="ident" id="3131000">Slice</span><span class="op" id="3131005">(</span><span class="num" id="3131006">0</span><span class="op" id="3131007">,</span>&nbsp;<span class="ident" id="3131009">v</span><span class="op" id="3131010">.</span><span class="ident" id="3131011">Len</span><span class="op" id="3131014">(</span><span class="op" id="3131015">)</span><span class="op" id="3131016">)</span><span class="op" id="3131017">,</span>&nbsp;<span class="ident" id="3131019">length</span><span class="op" id="3131025">,</span>&nbsp;<span class="ident" id="3131027">ovfl</span><span class="op" id="3131031">)</span><br>
<span class="lineno"></span><span class="op" id="3131033">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="3131036">func</span>&nbsp;<span class="ident" id="3131041">decStringSlice</span><span class="op" id="3131055">(</span><span class="ident" id="3131056">state</span>&nbsp;<span class="op" id="3131062">*</span><span class="ident" id="3131063">decoderState</span><span class="op" id="3131075">,</span>&nbsp;<span class="ident" id="3131077">v</span>&nbsp;<span class="ident" id="3131079">reflect</span><span class="op" id="3131086">.</span><span class="ident" id="3131087">Value</span><span class="op" id="3131092">,</span>&nbsp;<span class="ident" id="3131094">length</span>&nbsp;<span class="builtintype" id="3131101">int</span><span class="op" id="3131104">,</span>&nbsp;<span class="ident" id="3131106">ovfl</span>&nbsp;<span class="builtintype" id="3131111">error</span><span class="op" id="3131116">)</span>&nbsp;<span class="builtintype" id="3131118">bool</span>&nbsp;<span class="op" id="3131123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3131126">slice</span><span class="op" id="3131131">,</span>&nbsp;<span class="ident" id="3131133">ok</span>&nbsp;<span class="op" id="3131136">:=</span>&nbsp;<span class="ident" id="3131139">v</span><span class="op" id="3131140">.</span><span class="ident" id="3131141">Interface</span><span class="op" id="3131150">(</span><span class="op" id="3131151">)</span><span class="op" id="3131152">.</span><span class="op" id="3131153">(</span><span class="op" id="3131154">[</span><span class="op" id="3131155">]</span><span class="builtintype" id="3131156">string</span><span class="op" id="3131162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3131165">if</span>&nbsp;<span class="op" id="3131168">!</span><span class="ident" id="3131169">ok</span>&nbsp;<span class="op" id="3131172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3131176">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3131255">return</span>&nbsp;<span class="ident" id="3131262">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3131269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3131272">for</span>&nbsp;<span class="ident" id="3131276">i</span>&nbsp;<span class="op" id="3131278">:=</span>&nbsp;<span class="num" id="3131281">0</span><span class="op" id="3131282">;</span>&nbsp;<span class="ident" id="3131284">i</span>&nbsp;<span class="op" id="3131286">&lt;</span>&nbsp;<span class="ident" id="3131288">length</span><span class="op" id="3131294">;</span>&nbsp;<span class="ident" id="3131296">i</span><span class="op" id="3131297">++</span>&nbsp;<span class="op" id="3131300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3131304">if</span>&nbsp;<span class="ident" id="3131307">state</span><span class="op" id="3131312">.</span><span class="ident" id="3131313">b</span><span class="op" id="3131314">.</span><span class="ident" id="3131315">Len</span><span class="op" id="3131318">(</span><span class="op" id="3131319">)</span>&nbsp;<span class="op" id="3131321">==</span>&nbsp;<span class="num" id="3131324">0</span>&nbsp;<span class="op" id="3131326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3131331">errorf</span><span class="op" id="3131337">(</span><span class="string" id="3131338">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3131411">,</span>&nbsp;<span class="ident" id="3131413">length</span><span class="op" id="3131419">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3131423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3131427">u</span>&nbsp;<span class="op" id="3131429">:=</span>&nbsp;<span class="ident" id="3131432">state</span><span class="op" id="3131437">.</span><span class="ident" id="3131438">decodeUint</span><span class="op" id="3131448">(</span><span class="op" id="3131449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3131453">n</span>&nbsp;<span class="op" id="3131455">:=</span>&nbsp;<span class="builtintype" id="3131458">int</span><span class="op" id="3131461">(</span><span class="ident" id="3131462">u</span><span class="op" id="3131463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3131467">if</span>&nbsp;<span class="ident" id="3131470">n</span>&nbsp;<span class="op" id="3131472">&lt;</span>&nbsp;<span class="num" id="3131474">0</span>&nbsp;<span class="op" id="3131476">||</span>&nbsp;<span class="ident" id="3131479">uint64</span><span class="op" id="3131485">(</span><span class="ident" id="3131486">n</span><span class="op" id="3131487">)</span>&nbsp;<span class="op" id="3131489">!=</span>&nbsp;<span class="ident" id="3131492">u</span>&nbsp;<span class="op" id="3131494">||</span>&nbsp;<span class="ident" id="3131497">n</span>&nbsp;<span class="op" id="3131499">&gt;</span>&nbsp;<span class="ident" id="3131501">state</span><span class="op" id="3131506">.</span><span class="ident" id="3131507">b</span><span class="op" id="3131508">.</span><span class="ident" id="3131509">Len</span><span class="op" id="3131512">(</span><span class="op" id="3131513">)</span>&nbsp;<span class="op" id="3131515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3131520">errorf</span><span class="op" id="3131526">(</span><span class="string" id="3131527">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="3131575">,</span>&nbsp;<span class="ident" id="3131577">u</span><span class="op" id="3131578">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3131582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3131586">if</span>&nbsp;<span class="ident" id="3131589">n</span>&nbsp;<span class="op" id="3131591">&gt;</span>&nbsp;<span class="ident" id="3131593">state</span><span class="op" id="3131598">.</span><span class="ident" id="3131599">b</span><span class="op" id="3131600">.</span><span class="ident" id="3131601">Len</span><span class="op" id="3131604">(</span><span class="op" id="3131605">)</span>&nbsp;<span class="op" id="3131607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3131612">errorf</span><span class="op" id="3131618">(</span><span class="string" id="3131619">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="3131656">,</span>&nbsp;<span class="ident" id="3131658">n</span><span class="op" id="3131659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3131663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3131667">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3131687">data</span>&nbsp;<span class="op" id="3131692">:=</span>&nbsp;<span class="builtinfunc" id="3131695">make</span><span class="op" id="3131699">(</span><span class="op" id="3131700">[</span><span class="op" id="3131701">]</span><span class="builtintype" id="3131702">byte</span><span class="op" id="3131706">,</span>&nbsp;<span class="ident" id="3131708">n</span><span class="op" id="3131709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3131713">if</span>&nbsp;<span class="ident" id="3131716">_</span><span class="op" id="3131717">,</span>&nbsp;<span class="ident" id="3131719">err</span>&nbsp;<span class="op" id="3131723">:=</span>&nbsp;<span class="ident" id="3131726">state</span><span class="op" id="3131731">.</span><span class="ident" id="3131732">b</span><span class="op" id="3131733">.</span><span class="ident" id="3131734">Read</span><span class="op" id="3131738">(</span><span class="ident" id="3131739">data</span><span class="op" id="3131743">)</span><span class="op" id="3131744">;</span>&nbsp;<span class="ident" id="3131746">err</span>&nbsp;<span class="op" id="3131750">!=</span>&nbsp;<span class="ident" id="3131753">nil</span>&nbsp;<span class="op" id="3131757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3131762">errorf</span><span class="op" id="3131768">(</span><span class="string" id="3131769">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="3131796">,</span>&nbsp;<span class="ident" id="3131798">err</span><span class="op" id="3131801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3131805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3131809">slice</span><span class="op" id="3131814">[</span><span class="ident" id="3131815">i</span><span class="op" id="3131816">]</span>&nbsp;<span class="op" id="3131818">=</span>&nbsp;<span class="builtintype" id="3131820">string</span><span class="op" id="3131826">(</span><span class="ident" id="3131827">data</span><span class="op" id="3131831">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3131834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3131837">return</span>&nbsp;<span class="ident" id="3131844">true</span><br>
<span class="lineno"></span><span class="op" id="3131849">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3131852">func</span>&nbsp;<span class="ident" id="3131857">decUintArray</span><span class="op" id="3131869">(</span><span class="ident" id="3131870">state</span>&nbsp;<span class="op" id="3131876">*</span><span class="ident" id="3131877">decoderState</span><span class="op" id="3131889">,</span>&nbsp;<span class="ident" id="3131891">v</span>&nbsp;<span class="ident" id="3131893">reflect</span><span class="op" id="3131900">.</span><span class="ident" id="3131901">Value</span><span class="op" id="3131906">,</span>&nbsp;<span class="ident" id="3131908">length</span>&nbsp;<span class="builtintype" id="3131915">int</span><span class="op" id="3131918">,</span>&nbsp;<span class="ident" id="3131920">ovfl</span>&nbsp;<span class="builtintype" id="3131925">error</span><span class="op" id="3131930">)</span>&nbsp;<span class="builtintype" id="3131932">bool</span>&nbsp;<span class="op" id="3131937">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3131940">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3131981">if</span>&nbsp;<span class="op" id="3131984">!</span><span class="ident" id="3131985">v</span><span class="op" id="3131986">.</span><span class="ident" id="3131987">CanAddr</span><span class="op" id="3131994">(</span><span class="op" id="3131995">)</span>&nbsp;<span class="op" id="3131997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132001">return</span>&nbsp;<span class="ident" id="3132008">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3132015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132018">return</span>&nbsp;<span class="ident" id="3132025">decUintSlice</span><span class="op" id="3132037">(</span><span class="ident" id="3132038">state</span><span class="op" id="3132043">,</span>&nbsp;<span class="ident" id="3132045">v</span><span class="op" id="3132046">.</span><span class="ident" id="3132047">Slice</span><span class="op" id="3132052">(</span><span class="num" id="3132053">0</span><span class="op" id="3132054">,</span>&nbsp;<span class="ident" id="3132056">v</span><span class="op" id="3132057">.</span><span class="ident" id="3132058">Len</span><span class="op" id="3132061">(</span><span class="op" id="3132062">)</span><span class="op" id="3132063">)</span><span class="op" id="3132064">,</span>&nbsp;<span class="ident" id="3132066">length</span><span class="op" id="3132072">,</span>&nbsp;<span class="ident" id="3132074">ovfl</span><span class="op" id="3132078">)</span><br>
<span class="lineno">345</span><span class="op" id="3132080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3132083">func</span>&nbsp;<span class="ident" id="3132088">decUintSlice</span><span class="op" id="3132100">(</span><span class="ident" id="3132101">state</span>&nbsp;<span class="op" id="3132107">*</span><span class="ident" id="3132108">decoderState</span><span class="op" id="3132120">,</span>&nbsp;<span class="ident" id="3132122">v</span>&nbsp;<span class="ident" id="3132124">reflect</span><span class="op" id="3132131">.</span><span class="ident" id="3132132">Value</span><span class="op" id="3132137">,</span>&nbsp;<span class="ident" id="3132139">length</span>&nbsp;<span class="builtintype" id="3132146">int</span><span class="op" id="3132149">,</span>&nbsp;<span class="ident" id="3132151">ovfl</span>&nbsp;<span class="builtintype" id="3132156">error</span><span class="op" id="3132161">)</span>&nbsp;<span class="builtintype" id="3132163">bool</span>&nbsp;<span class="op" id="3132168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3132171">slice</span><span class="op" id="3132176">,</span>&nbsp;<span class="ident" id="3132178">ok</span>&nbsp;<span class="op" id="3132181">:=</span>&nbsp;<span class="ident" id="3132184">v</span><span class="op" id="3132185">.</span><span class="ident" id="3132186">Interface</span><span class="op" id="3132195">(</span><span class="op" id="3132196">)</span><span class="op" id="3132197">.</span><span class="op" id="3132198">(</span><span class="op" id="3132199">[</span><span class="op" id="3132200">]</span><span class="builtintype" id="3132201">uint</span><span class="op" id="3132205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132208">if</span>&nbsp;<span class="op" id="3132211">!</span><span class="ident" id="3132212">ok</span>&nbsp;<span class="op" id="3132215">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3132219">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132294">return</span>&nbsp;<span class="ident" id="3132301">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3132308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132311">for</span>&nbsp;<span class="ident" id="3132315">i</span>&nbsp;<span class="op" id="3132317">:=</span>&nbsp;<span class="num" id="3132320">0</span><span class="op" id="3132321">;</span>&nbsp;<span class="ident" id="3132323">i</span>&nbsp;<span class="op" id="3132325">&lt;</span>&nbsp;<span class="ident" id="3132327">length</span><span class="op" id="3132333">;</span>&nbsp;<span class="ident" id="3132335">i</span><span class="op" id="3132336">++</span>&nbsp;<span class="op" id="3132339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132343">if</span>&nbsp;<span class="ident" id="3132346">state</span><span class="op" id="3132351">.</span><span class="ident" id="3132352">b</span><span class="op" id="3132353">.</span><span class="ident" id="3132354">Len</span><span class="op" id="3132357">(</span><span class="op" id="3132358">)</span>&nbsp;<span class="op" id="3132360">==</span>&nbsp;<span class="num" id="3132363">0</span>&nbsp;<span class="op" id="3132365">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3132370">errorf</span><span class="op" id="3132376">(</span><span class="string" id="3132377">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3132448">,</span>&nbsp;<span class="ident" id="3132450">length</span><span class="op" id="3132456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3132460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3132464">x</span>&nbsp;<span class="op" id="3132466">:=</span>&nbsp;<span class="ident" id="3132469">state</span><span class="op" id="3132474">.</span><span class="ident" id="3132475">decodeUint</span><span class="op" id="3132485">(</span><span class="op" id="3132486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3132490">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperror_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3132545">slice</span><span class="op" id="3132550">[</span><span class="ident" id="3132551">i</span><span class="op" id="3132552">]</span>&nbsp;<span class="op" id="3132554">=</span>&nbsp;<span class="builtintype" id="3132556">uint</span><span class="op" id="3132560">(</span><span class="ident" id="3132561">x</span><span class="op" id="3132562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3132565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132568">return</span>&nbsp;<span class="ident" id="3132575">true</span><br>
<span class="lineno"></span><span class="op" id="3132580">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="3132583">func</span>&nbsp;<span class="ident" id="3132588">decUint16Array</span><span class="op" id="3132602">(</span><span class="ident" id="3132603">state</span>&nbsp;<span class="op" id="3132609">*</span><span class="ident" id="3132610">decoderState</span><span class="op" id="3132622">,</span>&nbsp;<span class="ident" id="3132624">v</span>&nbsp;<span class="ident" id="3132626">reflect</span><span class="op" id="3132633">.</span><span class="ident" id="3132634">Value</span><span class="op" id="3132639">,</span>&nbsp;<span class="ident" id="3132641">length</span>&nbsp;<span class="builtintype" id="3132648">int</span><span class="op" id="3132651">,</span>&nbsp;<span class="ident" id="3132653">ovfl</span>&nbsp;<span class="builtintype" id="3132658">error</span><span class="op" id="3132663">)</span>&nbsp;<span class="builtintype" id="3132665">bool</span>&nbsp;<span class="op" id="3132670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3132673">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132714">if</span>&nbsp;<span class="op" id="3132717">!</span><span class="ident" id="3132718">v</span><span class="op" id="3132719">.</span><span class="ident" id="3132720">CanAddr</span><span class="op" id="3132727">(</span><span class="op" id="3132728">)</span>&nbsp;<span class="op" id="3132730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132734">return</span>&nbsp;<span class="ident" id="3132741">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3132748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132751">return</span>&nbsp;<span class="ident" id="3132758">decUint16Slice</span><span class="op" id="3132772">(</span><span class="ident" id="3132773">state</span><span class="op" id="3132778">,</span>&nbsp;<span class="ident" id="3132780">v</span><span class="op" id="3132781">.</span><span class="ident" id="3132782">Slice</span><span class="op" id="3132787">(</span><span class="num" id="3132788">0</span><span class="op" id="3132789">,</span>&nbsp;<span class="ident" id="3132791">v</span><span class="op" id="3132792">.</span><span class="ident" id="3132793">Len</span><span class="op" id="3132796">(</span><span class="op" id="3132797">)</span><span class="op" id="3132798">)</span><span class="op" id="3132799">,</span>&nbsp;<span class="ident" id="3132801">length</span><span class="op" id="3132807">,</span>&nbsp;<span class="ident" id="3132809">ovfl</span><span class="op" id="3132813">)</span><br>
<span class="lineno"></span><span class="op" id="3132815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3132818">func</span>&nbsp;<span class="ident" id="3132823">decUint16Slice</span><span class="op" id="3132837">(</span><span class="ident" id="3132838">state</span>&nbsp;<span class="op" id="3132844">*</span><span class="ident" id="3132845">decoderState</span><span class="op" id="3132857">,</span>&nbsp;<span class="ident" id="3132859">v</span>&nbsp;<span class="ident" id="3132861">reflect</span><span class="op" id="3132868">.</span><span class="ident" id="3132869">Value</span><span class="op" id="3132874">,</span>&nbsp;<span class="ident" id="3132876">length</span>&nbsp;<span class="builtintype" id="3132883">int</span><span class="op" id="3132886">,</span>&nbsp;<span class="ident" id="3132888">ovfl</span>&nbsp;<span class="builtintype" id="3132893">error</span><span class="op" id="3132898">)</span>&nbsp;<span class="builtintype" id="3132900">bool</span>&nbsp;<span class="op" id="3132905">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3132908">slice</span><span class="op" id="3132913">,</span>&nbsp;<span class="ident" id="3132915">ok</span>&nbsp;<span class="op" id="3132918">:=</span>&nbsp;<span class="ident" id="3132921">v</span><span class="op" id="3132922">.</span><span class="ident" id="3132923">Interface</span><span class="op" id="3132932">(</span><span class="op" id="3132933">)</span><span class="op" id="3132934">.</span><span class="op" id="3132935">(</span><span class="op" id="3132936">[</span><span class="op" id="3132937">]</span><span class="builtintype" id="3132938">uint16</span><span class="op" id="3132944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3132947">if</span>&nbsp;<span class="op" id="3132950">!</span><span class="ident" id="3132951">ok</span>&nbsp;<span class="op" id="3132954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3132958">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133037">return</span>&nbsp;<span class="ident" id="3133044">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3133051">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133054">for</span>&nbsp;<span class="ident" id="3133058">i</span>&nbsp;<span class="op" id="3133060">:=</span>&nbsp;<span class="num" id="3133063">0</span><span class="op" id="3133064">;</span>&nbsp;<span class="ident" id="3133066">i</span>&nbsp;<span class="op" id="3133068">&lt;</span>&nbsp;<span class="ident" id="3133070">length</span><span class="op" id="3133076">;</span>&nbsp;<span class="ident" id="3133078">i</span><span class="op" id="3133079">++</span>&nbsp;<span class="op" id="3133082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133086">if</span>&nbsp;<span class="ident" id="3133089">state</span><span class="op" id="3133094">.</span><span class="ident" id="3133095">b</span><span class="op" id="3133096">.</span><span class="ident" id="3133097">Len</span><span class="op" id="3133100">(</span><span class="op" id="3133101">)</span>&nbsp;<span class="op" id="3133103">==</span>&nbsp;<span class="num" id="3133106">0</span>&nbsp;<span class="op" id="3133108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3133113">errorf</span><span class="op" id="3133119">(</span><span class="string" id="3133120">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3133193">,</span>&nbsp;<span class="ident" id="3133195">length</span><span class="op" id="3133201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3133205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3133209">x</span>&nbsp;<span class="op" id="3133211">:=</span>&nbsp;<span class="ident" id="3133214">state</span><span class="op" id="3133219">.</span><span class="ident" id="3133220">decodeUint</span><span class="op" id="3133230">(</span><span class="op" id="3133231">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133235">if</span>&nbsp;<span class="ident" id="3133238">math</span><span class="op" id="3133242">.</span><span class="ident" id="3133243">MaxUint16</span>&nbsp;<span class="op" id="3133253">&lt;</span>&nbsp;<span class="ident" id="3133255">x</span>&nbsp;<span class="op" id="3133257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3133262">error_</span><span class="op" id="3133268">(</span><span class="ident" id="3133269">ovfl</span><span class="op" id="3133273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3133277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3133281">slice</span><span class="op" id="3133286">[</span><span class="ident" id="3133287">i</span><span class="op" id="3133288">]</span>&nbsp;<span class="op" id="3133290">=</span>&nbsp;<span class="builtintype" id="3133292">uint16</span><span class="op" id="3133298">(</span><span class="ident" id="3133299">x</span><span class="op" id="3133300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3133303">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133306">return</span>&nbsp;<span class="ident" id="3133313">true</span><br>
<span class="lineno"></span><span class="op" id="3133318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3133321">func</span>&nbsp;<span class="ident" id="3133326">decUint32Array</span><span class="op" id="3133340">(</span><span class="ident" id="3133341">state</span>&nbsp;<span class="op" id="3133347">*</span><span class="ident" id="3133348">decoderState</span><span class="op" id="3133360">,</span>&nbsp;<span class="ident" id="3133362">v</span>&nbsp;<span class="ident" id="3133364">reflect</span><span class="op" id="3133371">.</span><span class="ident" id="3133372">Value</span><span class="op" id="3133377">,</span>&nbsp;<span class="ident" id="3133379">length</span>&nbsp;<span class="builtintype" id="3133386">int</span><span class="op" id="3133389">,</span>&nbsp;<span class="ident" id="3133391">ovfl</span>&nbsp;<span class="builtintype" id="3133396">error</span><span class="op" id="3133401">)</span>&nbsp;<span class="builtintype" id="3133403">bool</span>&nbsp;<span class="op" id="3133408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3133411">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133452">if</span>&nbsp;<span class="op" id="3133455">!</span><span class="ident" id="3133456">v</span><span class="op" id="3133457">.</span><span class="ident" id="3133458">CanAddr</span><span class="op" id="3133465">(</span><span class="op" id="3133466">)</span>&nbsp;<span class="op" id="3133468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133472">return</span>&nbsp;<span class="ident" id="3133479">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3133486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133489">return</span>&nbsp;<span class="ident" id="3133496">decUint32Slice</span><span class="op" id="3133510">(</span><span class="ident" id="3133511">state</span><span class="op" id="3133516">,</span>&nbsp;<span class="ident" id="3133518">v</span><span class="op" id="3133519">.</span><span class="ident" id="3133520">Slice</span><span class="op" id="3133525">(</span><span class="num" id="3133526">0</span><span class="op" id="3133527">,</span>&nbsp;<span class="ident" id="3133529">v</span><span class="op" id="3133530">.</span><span class="ident" id="3133531">Len</span><span class="op" id="3133534">(</span><span class="op" id="3133535">)</span><span class="op" id="3133536">)</span><span class="op" id="3133537">,</span>&nbsp;<span class="ident" id="3133539">length</span><span class="op" id="3133545">,</span>&nbsp;<span class="ident" id="3133547">ovfl</span><span class="op" id="3133551">)</span><br>
<span class="lineno"></span><span class="op" id="3133553">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="3133556">func</span>&nbsp;<span class="ident" id="3133561">decUint32Slice</span><span class="op" id="3133575">(</span><span class="ident" id="3133576">state</span>&nbsp;<span class="op" id="3133582">*</span><span class="ident" id="3133583">decoderState</span><span class="op" id="3133595">,</span>&nbsp;<span class="ident" id="3133597">v</span>&nbsp;<span class="ident" id="3133599">reflect</span><span class="op" id="3133606">.</span><span class="ident" id="3133607">Value</span><span class="op" id="3133612">,</span>&nbsp;<span class="ident" id="3133614">length</span>&nbsp;<span class="builtintype" id="3133621">int</span><span class="op" id="3133624">,</span>&nbsp;<span class="ident" id="3133626">ovfl</span>&nbsp;<span class="builtintype" id="3133631">error</span><span class="op" id="3133636">)</span>&nbsp;<span class="builtintype" id="3133638">bool</span>&nbsp;<span class="op" id="3133643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3133646">slice</span><span class="op" id="3133651">,</span>&nbsp;<span class="ident" id="3133653">ok</span>&nbsp;<span class="op" id="3133656">:=</span>&nbsp;<span class="ident" id="3133659">v</span><span class="op" id="3133660">.</span><span class="ident" id="3133661">Interface</span><span class="op" id="3133670">(</span><span class="op" id="3133671">)</span><span class="op" id="3133672">.</span><span class="op" id="3133673">(</span><span class="op" id="3133674">[</span><span class="op" id="3133675">]</span><span class="builtintype" id="3133676">uint32</span><span class="op" id="3133682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133685">if</span>&nbsp;<span class="op" id="3133688">!</span><span class="ident" id="3133689">ok</span>&nbsp;<span class="op" id="3133692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3133696">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133775">return</span>&nbsp;<span class="ident" id="3133782">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3133789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133792">for</span>&nbsp;<span class="ident" id="3133796">i</span>&nbsp;<span class="op" id="3133798">:=</span>&nbsp;<span class="num" id="3133801">0</span><span class="op" id="3133802">;</span>&nbsp;<span class="ident" id="3133804">i</span>&nbsp;<span class="op" id="3133806">&lt;</span>&nbsp;<span class="ident" id="3133808">length</span><span class="op" id="3133814">;</span>&nbsp;<span class="ident" id="3133816">i</span><span class="op" id="3133817">++</span>&nbsp;<span class="op" id="3133820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133824">if</span>&nbsp;<span class="ident" id="3133827">state</span><span class="op" id="3133832">.</span><span class="ident" id="3133833">b</span><span class="op" id="3133834">.</span><span class="ident" id="3133835">Len</span><span class="op" id="3133838">(</span><span class="op" id="3133839">)</span>&nbsp;<span class="op" id="3133841">==</span>&nbsp;<span class="num" id="3133844">0</span>&nbsp;<span class="op" id="3133846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3133851">errorf</span><span class="op" id="3133857">(</span><span class="string" id="3133858">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3133931">,</span>&nbsp;<span class="ident" id="3133933">length</span><span class="op" id="3133939">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3133943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3133947">x</span>&nbsp;<span class="op" id="3133949">:=</span>&nbsp;<span class="ident" id="3133952">state</span><span class="op" id="3133957">.</span><span class="ident" id="3133958">decodeUint</span><span class="op" id="3133968">(</span><span class="op" id="3133969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3133973">if</span>&nbsp;<span class="ident" id="3133976">math</span><span class="op" id="3133980">.</span><span class="ident" id="3133981">MaxUint32</span>&nbsp;<span class="op" id="3133991">&lt;</span>&nbsp;<span class="ident" id="3133993">x</span>&nbsp;<span class="op" id="3133995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3134000">error_</span><span class="op" id="3134006">(</span><span class="ident" id="3134007">ovfl</span><span class="op" id="3134011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3134015">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3134019">slice</span><span class="op" id="3134024">[</span><span class="ident" id="3134025">i</span><span class="op" id="3134026">]</span>&nbsp;<span class="op" id="3134028">=</span>&nbsp;<span class="builtintype" id="3134030">uint32</span><span class="op" id="3134036">(</span><span class="ident" id="3134037">x</span><span class="op" id="3134038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3134041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134044">return</span>&nbsp;<span class="ident" id="3134051">true</span><br>
<span class="lineno"></span><span class="op" id="3134056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="3134059">func</span>&nbsp;<span class="ident" id="3134064">decUint64Array</span><span class="op" id="3134078">(</span><span class="ident" id="3134079">state</span>&nbsp;<span class="op" id="3134085">*</span><span class="ident" id="3134086">decoderState</span><span class="op" id="3134098">,</span>&nbsp;<span class="ident" id="3134100">v</span>&nbsp;<span class="ident" id="3134102">reflect</span><span class="op" id="3134109">.</span><span class="ident" id="3134110">Value</span><span class="op" id="3134115">,</span>&nbsp;<span class="ident" id="3134117">length</span>&nbsp;<span class="builtintype" id="3134124">int</span><span class="op" id="3134127">,</span>&nbsp;<span class="ident" id="3134129">ovfl</span>&nbsp;<span class="builtintype" id="3134134">error</span><span class="op" id="3134139">)</span>&nbsp;<span class="builtintype" id="3134141">bool</span>&nbsp;<span class="op" id="3134146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3134149">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134190">if</span>&nbsp;<span class="op" id="3134193">!</span><span class="ident" id="3134194">v</span><span class="op" id="3134195">.</span><span class="ident" id="3134196">CanAddr</span><span class="op" id="3134203">(</span><span class="op" id="3134204">)</span>&nbsp;<span class="op" id="3134206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134210">return</span>&nbsp;<span class="ident" id="3134217">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3134224">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134227">return</span>&nbsp;<span class="ident" id="3134234">decUint64Slice</span><span class="op" id="3134248">(</span><span class="ident" id="3134249">state</span><span class="op" id="3134254">,</span>&nbsp;<span class="ident" id="3134256">v</span><span class="op" id="3134257">.</span><span class="ident" id="3134258">Slice</span><span class="op" id="3134263">(</span><span class="num" id="3134264">0</span><span class="op" id="3134265">,</span>&nbsp;<span class="ident" id="3134267">v</span><span class="op" id="3134268">.</span><span class="ident" id="3134269">Len</span><span class="op" id="3134272">(</span><span class="op" id="3134273">)</span><span class="op" id="3134274">)</span><span class="op" id="3134275">,</span>&nbsp;<span class="ident" id="3134277">length</span><span class="op" id="3134283">,</span>&nbsp;<span class="ident" id="3134285">ovfl</span><span class="op" id="3134289">)</span><br>
<span class="lineno"></span><span class="op" id="3134291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3134294">func</span>&nbsp;<span class="ident" id="3134299">decUint64Slice</span><span class="op" id="3134313">(</span><span class="ident" id="3134314">state</span>&nbsp;<span class="op" id="3134320">*</span><span class="ident" id="3134321">decoderState</span><span class="op" id="3134333">,</span>&nbsp;<span class="ident" id="3134335">v</span>&nbsp;<span class="ident" id="3134337">reflect</span><span class="op" id="3134344">.</span><span class="ident" id="3134345">Value</span><span class="op" id="3134350">,</span>&nbsp;<span class="ident" id="3134352">length</span>&nbsp;<span class="builtintype" id="3134359">int</span><span class="op" id="3134362">,</span>&nbsp;<span class="ident" id="3134364">ovfl</span>&nbsp;<span class="builtintype" id="3134369">error</span><span class="op" id="3134374">)</span>&nbsp;<span class="builtintype" id="3134376">bool</span>&nbsp;<span class="op" id="3134381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3134384">slice</span><span class="op" id="3134389">,</span>&nbsp;<span class="ident" id="3134391">ok</span>&nbsp;<span class="op" id="3134394">:=</span>&nbsp;<span class="ident" id="3134397">v</span><span class="op" id="3134398">.</span><span class="ident" id="3134399">Interface</span><span class="op" id="3134408">(</span><span class="op" id="3134409">)</span><span class="op" id="3134410">.</span><span class="op" id="3134411">(</span><span class="op" id="3134412">[</span><span class="op" id="3134413">]</span><span class="ident" id="3134414">uint64</span><span class="op" id="3134420">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134423">if</span>&nbsp;<span class="op" id="3134426">!</span><span class="ident" id="3134427">ok</span>&nbsp;<span class="op" id="3134430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3134434">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134513">return</span>&nbsp;<span class="ident" id="3134520">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3134527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134530">for</span>&nbsp;<span class="ident" id="3134534">i</span>&nbsp;<span class="op" id="3134536">:=</span>&nbsp;<span class="num" id="3134539">0</span><span class="op" id="3134540">;</span>&nbsp;<span class="ident" id="3134542">i</span>&nbsp;<span class="op" id="3134544">&lt;</span>&nbsp;<span class="ident" id="3134546">length</span><span class="op" id="3134552">;</span>&nbsp;<span class="ident" id="3134554">i</span><span class="op" id="3134555">++</span>&nbsp;<span class="op" id="3134558">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134562">if</span>&nbsp;<span class="ident" id="3134565">state</span><span class="op" id="3134570">.</span><span class="ident" id="3134571">b</span><span class="op" id="3134572">.</span><span class="ident" id="3134573">Len</span><span class="op" id="3134576">(</span><span class="op" id="3134577">)</span>&nbsp;<span class="op" id="3134579">==</span>&nbsp;<span class="num" id="3134582">0</span>&nbsp;<span class="op" id="3134584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3134589">errorf</span><span class="op" id="3134595">(</span><span class="string" id="3134596">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3134669">,</span>&nbsp;<span class="ident" id="3134671">length</span><span class="op" id="3134677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3134681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3134685">slice</span><span class="op" id="3134690">[</span><span class="ident" id="3134691">i</span><span class="op" id="3134692">]</span>&nbsp;<span class="op" id="3134694">=</span>&nbsp;<span class="ident" id="3134696">state</span><span class="op" id="3134701">.</span><span class="ident" id="3134702">decodeUint</span><span class="op" id="3134712">(</span><span class="op" id="3134713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3134716">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134719">return</span>&nbsp;<span class="ident" id="3134726">true</span><br>
<span class="lineno"></span><span class="op" id="3134731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3134734">func</span>&nbsp;<span class="ident" id="3134739">decUintptrArray</span><span class="op" id="3134754">(</span><span class="ident" id="3134755">state</span>&nbsp;<span class="op" id="3134761">*</span><span class="ident" id="3134762">decoderState</span><span class="op" id="3134774">,</span>&nbsp;<span class="ident" id="3134776">v</span>&nbsp;<span class="ident" id="3134778">reflect</span><span class="op" id="3134785">.</span><span class="ident" id="3134786">Value</span><span class="op" id="3134791">,</span>&nbsp;<span class="ident" id="3134793">length</span>&nbsp;<span class="builtintype" id="3134800">int</span><span class="op" id="3134803">,</span>&nbsp;<span class="ident" id="3134805">ovfl</span>&nbsp;<span class="builtintype" id="3134810">error</span><span class="op" id="3134815">)</span>&nbsp;<span class="builtintype" id="3134817">bool</span>&nbsp;<span class="op" id="3134822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3134825">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134866">if</span>&nbsp;<span class="op" id="3134869">!</span><span class="ident" id="3134870">v</span><span class="op" id="3134871">.</span><span class="ident" id="3134872">CanAddr</span><span class="op" id="3134879">(</span><span class="op" id="3134880">)</span>&nbsp;<span class="op" id="3134882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134886">return</span>&nbsp;<span class="ident" id="3134893">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3134900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3134903">return</span>&nbsp;<span class="ident" id="3134910">decUintptrSlice</span><span class="op" id="3134925">(</span><span class="ident" id="3134926">state</span><span class="op" id="3134931">,</span>&nbsp;<span class="ident" id="3134933">v</span><span class="op" id="3134934">.</span><span class="ident" id="3134935">Slice</span><span class="op" id="3134940">(</span><span class="num" id="3134941">0</span><span class="op" id="3134942">,</span>&nbsp;<span class="ident" id="3134944">v</span><span class="op" id="3134945">.</span><span class="ident" id="3134946">Len</span><span class="op" id="3134949">(</span><span class="op" id="3134950">)</span><span class="op" id="3134951">)</span><span class="op" id="3134952">,</span>&nbsp;<span class="ident" id="3134954">length</span><span class="op" id="3134960">,</span>&nbsp;<span class="ident" id="3134962">ovfl</span><span class="op" id="3134966">)</span><br>
<span class="lineno"></span><span class="op" id="3134968">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="3134971">func</span>&nbsp;<span class="ident" id="3134976">decUintptrSlice</span><span class="op" id="3134991">(</span><span class="ident" id="3134992">state</span>&nbsp;<span class="op" id="3134998">*</span><span class="ident" id="3134999">decoderState</span><span class="op" id="3135011">,</span>&nbsp;<span class="ident" id="3135013">v</span>&nbsp;<span class="ident" id="3135015">reflect</span><span class="op" id="3135022">.</span><span class="ident" id="3135023">Value</span><span class="op" id="3135028">,</span>&nbsp;<span class="ident" id="3135030">length</span>&nbsp;<span class="builtintype" id="3135037">int</span><span class="op" id="3135040">,</span>&nbsp;<span class="ident" id="3135042">ovfl</span>&nbsp;<span class="builtintype" id="3135047">error</span><span class="op" id="3135052">)</span>&nbsp;<span class="builtintype" id="3135054">bool</span>&nbsp;<span class="op" id="3135059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3135062">slice</span><span class="op" id="3135067">,</span>&nbsp;<span class="ident" id="3135069">ok</span>&nbsp;<span class="op" id="3135072">:=</span>&nbsp;<span class="ident" id="3135075">v</span><span class="op" id="3135076">.</span><span class="ident" id="3135077">Interface</span><span class="op" id="3135086">(</span><span class="op" id="3135087">)</span><span class="op" id="3135088">.</span><span class="op" id="3135089">(</span><span class="op" id="3135090">[</span><span class="op" id="3135091">]</span><span class="builtintype" id="3135092">uintptr</span><span class="op" id="3135099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3135102">if</span>&nbsp;<span class="op" id="3135105">!</span><span class="ident" id="3135106">ok</span>&nbsp;<span class="op" id="3135109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3135113">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3135194">return</span>&nbsp;<span class="ident" id="3135201">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3135208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3135211">for</span>&nbsp;<span class="ident" id="3135215">i</span>&nbsp;<span class="op" id="3135217">:=</span>&nbsp;<span class="num" id="3135220">0</span><span class="op" id="3135221">;</span>&nbsp;<span class="ident" id="3135223">i</span>&nbsp;<span class="op" id="3135225">&lt;</span>&nbsp;<span class="ident" id="3135227">length</span><span class="op" id="3135233">;</span>&nbsp;<span class="ident" id="3135235">i</span><span class="op" id="3135236">++</span>&nbsp;<span class="op" id="3135239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3135243">if</span>&nbsp;<span class="ident" id="3135246">state</span><span class="op" id="3135251">.</span><span class="ident" id="3135252">b</span><span class="op" id="3135253">.</span><span class="ident" id="3135254">Len</span><span class="op" id="3135257">(</span><span class="op" id="3135258">)</span>&nbsp;<span class="op" id="3135260">==</span>&nbsp;<span class="num" id="3135263">0</span>&nbsp;<span class="op" id="3135265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3135270">errorf</span><span class="op" id="3135276">(</span><span class="string" id="3135277">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3135351">,</span>&nbsp;<span class="ident" id="3135353">length</span><span class="op" id="3135359">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3135363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3135367">x</span>&nbsp;<span class="op" id="3135369">:=</span>&nbsp;<span class="ident" id="3135372">state</span><span class="op" id="3135377">.</span><span class="ident" id="3135378">decodeUint</span><span class="op" id="3135388">(</span><span class="op" id="3135389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3135393">if</span>&nbsp;<span class="ident" id="3135396">uint64</span><span class="op" id="3135402">(</span><span class="op" id="3135403">^</span><span class="builtintype" id="3135404">uintptr</span><span class="op" id="3135411">(</span><span class="num" id="3135412">0</span><span class="op" id="3135413">)</span><span class="op" id="3135414">)</span>&nbsp;<span class="op" id="3135416">&lt;</span>&nbsp;<span class="ident" id="3135418">x</span>&nbsp;<span class="op" id="3135420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3135425">error_</span><span class="op" id="3135431">(</span><span class="ident" id="3135432">ovfl</span><span class="op" id="3135436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3135440">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3135444">slice</span><span class="op" id="3135449">[</span><span class="ident" id="3135450">i</span><span class="op" id="3135451">]</span>&nbsp;<span class="op" id="3135453">=</span>&nbsp;<span class="builtintype" id="3135455">uintptr</span><span class="op" id="3135462">(</span><span class="ident" id="3135463">x</span><span class="op" id="3135464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3135467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3135470">return</span>&nbsp;<span class="ident" id="3135477">true</span><br>
<span class="lineno"></span><span class="op" id="3135482">}</span>
</div>
</body>
</html>
