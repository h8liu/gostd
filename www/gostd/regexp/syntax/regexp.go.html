<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html" class="current">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5484536">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5484592">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5484646">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5484697">package</span>&nbsp;<span class="ident" id="5484705">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5484713">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="5484738">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5484806">import</span>&nbsp;<span class="op" id="5484813">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5484816">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5484825">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5484836">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5484847">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5484857">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5484860">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="5484919">type</span>&nbsp;<span class="ident" id="5484924">Regexp</span>&nbsp;<span class="keyword" id="5484931">struct</span>&nbsp;<span class="op" id="5484938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5484941">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5484950">Op</span>&nbsp;<span class="comment" id="5484953">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5484966">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5484975">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5484982">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5484991">[</span><span class="op" id="5484992">]</span><span class="op" id="5484993">*</span><span class="ident" id="5484994">Regexp</span>&nbsp;&nbsp;<span class="comment" id="5485002">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485029">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5485038">[</span><span class="num" id="5485039">1</span><span class="op" id="5485040">]</span><span class="op" id="5485041">*</span><span class="ident" id="5485042">Regexp</span>&nbsp;<span class="comment" id="5485049">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485075">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5485084">[</span><span class="op" id="5485085">]</span><span class="builtintype" id="5485086">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485095">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485141">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5485150">[</span><span class="num" id="5485151">2</span><span class="op" id="5485152">]</span><span class="builtintype" id="5485153">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485161">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485188">Min</span><span class="op" id="5485191">,</span>&nbsp;<span class="ident" id="5485193">Max</span>&nbsp;<span class="builtintype" id="5485197">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485208">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485234">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5485243">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485254">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485289">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5485298">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485309">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="5485342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5485345">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="5485395">type</span>&nbsp;<span class="ident" id="5485400">Op</span>&nbsp;<span class="builtintype" id="5485403">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5485410">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="5485484">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="5485549">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5485606">const</span>&nbsp;<span class="op" id="5485612">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485615">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485632">Op</span>&nbsp;<span class="op" id="5485635">=</span>&nbsp;<span class="num" id="5485637">1</span>&nbsp;<span class="op" id="5485639">+</span>&nbsp;<span class="ident" id="5485641">iota</span>&nbsp;<span class="comment" id="5485646">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485669">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485700">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485725">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485756">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485783">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485814">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485863">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485894">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485935">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5485966">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5485992">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486023">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486069">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486100">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486140">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486171">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486217">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486248">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486288">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486319">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486350">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486381">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486416">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486447">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486510">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486541">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486579">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486610">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486647">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486678">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486715">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486746">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486821">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486852">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5486886">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5486917">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="5486948">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5486951">const</span>&nbsp;<span class="ident" id="5486957">opPseudo</span>&nbsp;<span class="ident" id="5486966">Op</span>&nbsp;<span class="op" id="5486969">=</span>&nbsp;<span class="num" id="5486971">128</span>&nbsp;<span class="comment" id="5486975">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5487002">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="5487061">func</span>&nbsp;<span class="op" id="5487066">(</span><span class="ident" id="5487067">x</span>&nbsp;<span class="op" id="5487069">*</span><span class="ident" id="5487070">Regexp</span><span class="op" id="5487076">)</span>&nbsp;<span class="ident" id="5487078">Equal</span><span class="op" id="5487083">(</span><span class="ident" id="5487084">y</span>&nbsp;<span class="op" id="5487086">*</span><span class="ident" id="5487087">Regexp</span><span class="op" id="5487093">)</span>&nbsp;<span class="builtintype" id="5487095">bool</span>&nbsp;<span class="op" id="5487100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487103">if</span>&nbsp;<span class="ident" id="5487106">x</span>&nbsp;<span class="op" id="5487108">==</span>&nbsp;<span class="ident" id="5487111">nil</span>&nbsp;<span class="op" id="5487115">||</span>&nbsp;<span class="ident" id="5487118">y</span>&nbsp;<span class="op" id="5487120">==</span>&nbsp;<span class="ident" id="5487123">nil</span>&nbsp;<span class="op" id="5487127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487131">return</span>&nbsp;<span class="ident" id="5487138">x</span>&nbsp;<span class="op" id="5487140">==</span>&nbsp;<span class="ident" id="5487143">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487149">if</span>&nbsp;<span class="ident" id="5487152">x</span><span class="op" id="5487153">.</span><span class="ident" id="5487154">Op</span>&nbsp;<span class="op" id="5487157">!=</span>&nbsp;<span class="ident" id="5487160">y</span><span class="op" id="5487161">.</span><span class="ident" id="5487162">Op</span>&nbsp;<span class="op" id="5487165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487169">return</span>&nbsp;<span class="builtintype" id="5487176">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487186">switch</span>&nbsp;<span class="ident" id="5487193">x</span><span class="op" id="5487194">.</span><span class="ident" id="5487195">Op</span>&nbsp;<span class="op" id="5487198">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487201">case</span>&nbsp;<span class="ident" id="5487206">OpEndText</span><span class="op" id="5487215">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5487219">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487275">if</span>&nbsp;<span class="ident" id="5487278">x</span><span class="op" id="5487279">.</span><span class="ident" id="5487280">Flags</span><span class="op" id="5487285">&amp;</span><span class="ident" id="5487286">WasDollar</span>&nbsp;<span class="op" id="5487296">!=</span>&nbsp;<span class="ident" id="5487299">y</span><span class="op" id="5487300">.</span><span class="ident" id="5487301">Flags</span><span class="op" id="5487306">&amp;</span><span class="ident" id="5487307">WasDollar</span>&nbsp;<span class="op" id="5487317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487322">return</span>&nbsp;<span class="builtintype" id="5487329">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487337">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487341">case</span>&nbsp;<span class="ident" id="5487346">OpLiteral</span><span class="op" id="5487355">,</span>&nbsp;<span class="ident" id="5487357">OpCharClass</span><span class="op" id="5487368">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487372">if</span>&nbsp;<span class="builtinfunc" id="5487375">len</span><span class="op" id="5487378">(</span><span class="ident" id="5487379">x</span><span class="op" id="5487380">.</span><span class="ident" id="5487381">Rune</span><span class="op" id="5487385">)</span>&nbsp;<span class="op" id="5487387">!=</span>&nbsp;<span class="builtinfunc" id="5487390">len</span><span class="op" id="5487393">(</span><span class="ident" id="5487394">y</span><span class="op" id="5487395">.</span><span class="ident" id="5487396">Rune</span><span class="op" id="5487400">)</span>&nbsp;<span class="op" id="5487402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487407">return</span>&nbsp;<span class="builtintype" id="5487414">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487422">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487426">for</span>&nbsp;<span class="ident" id="5487430">i</span><span class="op" id="5487431">,</span>&nbsp;<span class="ident" id="5487433">r</span>&nbsp;<span class="op" id="5487435">:=</span>&nbsp;<span class="keyword" id="5487438">range</span>&nbsp;<span class="ident" id="5487444">x</span><span class="op" id="5487445">.</span><span class="ident" id="5487446">Rune</span>&nbsp;<span class="op" id="5487451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487456">if</span>&nbsp;<span class="ident" id="5487459">r</span>&nbsp;<span class="op" id="5487461">!=</span>&nbsp;<span class="ident" id="5487464">y</span><span class="op" id="5487465">.</span><span class="ident" id="5487466">Rune</span><span class="op" id="5487470">[</span><span class="ident" id="5487471">i</span><span class="op" id="5487472">]</span>&nbsp;<span class="op" id="5487474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487480">return</span>&nbsp;<span class="builtintype" id="5487487">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487500">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487504">case</span>&nbsp;<span class="ident" id="5487509">OpAlternate</span><span class="op" id="5487520">,</span>&nbsp;<span class="ident" id="5487522">OpConcat</span><span class="op" id="5487530">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487534">if</span>&nbsp;<span class="builtinfunc" id="5487537">len</span><span class="op" id="5487540">(</span><span class="ident" id="5487541">x</span><span class="op" id="5487542">.</span><span class="ident" id="5487543">Sub</span><span class="op" id="5487546">)</span>&nbsp;<span class="op" id="5487548">!=</span>&nbsp;<span class="builtinfunc" id="5487551">len</span><span class="op" id="5487554">(</span><span class="ident" id="5487555">y</span><span class="op" id="5487556">.</span><span class="ident" id="5487557">Sub</span><span class="op" id="5487560">)</span>&nbsp;<span class="op" id="5487562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487567">return</span>&nbsp;<span class="builtintype" id="5487574">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487582">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487586">for</span>&nbsp;<span class="ident" id="5487590">i</span><span class="op" id="5487591">,</span>&nbsp;<span class="ident" id="5487593">sub</span>&nbsp;<span class="op" id="5487597">:=</span>&nbsp;<span class="keyword" id="5487600">range</span>&nbsp;<span class="ident" id="5487606">x</span><span class="op" id="5487607">.</span><span class="ident" id="5487608">Sub</span>&nbsp;<span class="op" id="5487612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487617">if</span>&nbsp;<span class="op" id="5487620">!</span><span class="ident" id="5487621">sub</span><span class="op" id="5487624">.</span><span class="ident" id="5487625">Equal</span><span class="op" id="5487630">(</span><span class="ident" id="5487631">y</span><span class="op" id="5487632">.</span><span class="ident" id="5487633">Sub</span><span class="op" id="5487636">[</span><span class="ident" id="5487637">i</span><span class="op" id="5487638">]</span><span class="op" id="5487639">)</span>&nbsp;<span class="op" id="5487641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487647">return</span>&nbsp;<span class="builtintype" id="5487654">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487667">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487671">case</span>&nbsp;<span class="ident" id="5487676">OpStar</span><span class="op" id="5487682">,</span>&nbsp;<span class="ident" id="5487684">OpPlus</span><span class="op" id="5487690">,</span>&nbsp;<span class="ident" id="5487692">OpQuest</span><span class="op" id="5487699">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487703">if</span>&nbsp;<span class="ident" id="5487706">x</span><span class="op" id="5487707">.</span><span class="ident" id="5487708">Flags</span><span class="op" id="5487713">&amp;</span><span class="ident" id="5487714">NonGreedy</span>&nbsp;<span class="op" id="5487724">!=</span>&nbsp;<span class="ident" id="5487727">y</span><span class="op" id="5487728">.</span><span class="ident" id="5487729">Flags</span><span class="op" id="5487734">&amp;</span><span class="ident" id="5487735">NonGreedy</span>&nbsp;<span class="op" id="5487745">||</span>&nbsp;<span class="op" id="5487748">!</span><span class="ident" id="5487749">x</span><span class="op" id="5487750">.</span><span class="ident" id="5487751">Sub</span><span class="op" id="5487754">[</span><span class="num" id="5487755">0</span><span class="op" id="5487756">]</span><span class="op" id="5487757">.</span><span class="ident" id="5487758">Equal</span><span class="op" id="5487763">(</span><span class="ident" id="5487764">y</span><span class="op" id="5487765">.</span><span class="ident" id="5487766">Sub</span><span class="op" id="5487769">[</span><span class="num" id="5487770">0</span><span class="op" id="5487771">]</span><span class="op" id="5487772">)</span>&nbsp;<span class="op" id="5487774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487779">return</span>&nbsp;<span class="builtintype" id="5487786">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487794">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487798">case</span>&nbsp;<span class="ident" id="5487803">OpRepeat</span><span class="op" id="5487811">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487815">if</span>&nbsp;<span class="ident" id="5487818">x</span><span class="op" id="5487819">.</span><span class="ident" id="5487820">Flags</span><span class="op" id="5487825">&amp;</span><span class="ident" id="5487826">NonGreedy</span>&nbsp;<span class="op" id="5487836">!=</span>&nbsp;<span class="ident" id="5487839">y</span><span class="op" id="5487840">.</span><span class="ident" id="5487841">Flags</span><span class="op" id="5487846">&amp;</span><span class="ident" id="5487847">NonGreedy</span>&nbsp;<span class="op" id="5487857">||</span>&nbsp;<span class="ident" id="5487860">x</span><span class="op" id="5487861">.</span><span class="ident" id="5487862">Min</span>&nbsp;<span class="op" id="5487866">!=</span>&nbsp;<span class="ident" id="5487869">y</span><span class="op" id="5487870">.</span><span class="ident" id="5487871">Min</span>&nbsp;<span class="op" id="5487875">||</span>&nbsp;<span class="ident" id="5487878">x</span><span class="op" id="5487879">.</span><span class="ident" id="5487880">Max</span>&nbsp;<span class="op" id="5487884">!=</span>&nbsp;<span class="ident" id="5487887">y</span><span class="op" id="5487888">.</span><span class="ident" id="5487889">Max</span>&nbsp;<span class="op" id="5487893">||</span>&nbsp;<span class="op" id="5487896">!</span><span class="ident" id="5487897">x</span><span class="op" id="5487898">.</span><span class="ident" id="5487899">Sub</span><span class="op" id="5487902">[</span><span class="num" id="5487903">0</span><span class="op" id="5487904">]</span><span class="op" id="5487905">.</span><span class="ident" id="5487906">Equal</span><span class="op" id="5487911">(</span><span class="ident" id="5487912">y</span><span class="op" id="5487913">.</span><span class="ident" id="5487914">Sub</span><span class="op" id="5487917">[</span><span class="num" id="5487918">0</span><span class="op" id="5487919">]</span><span class="op" id="5487920">)</span>&nbsp;<span class="op" id="5487922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487927">return</span>&nbsp;<span class="builtintype" id="5487934">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5487942">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487946">case</span>&nbsp;<span class="ident" id="5487951">OpCapture</span><span class="op" id="5487960">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5487964">if</span>&nbsp;<span class="ident" id="5487967">x</span><span class="op" id="5487968">.</span><span class="ident" id="5487969">Cap</span>&nbsp;<span class="op" id="5487973">!=</span>&nbsp;<span class="ident" id="5487976">y</span><span class="op" id="5487977">.</span><span class="ident" id="5487978">Cap</span>&nbsp;<span class="op" id="5487982">||</span>&nbsp;<span class="ident" id="5487985">x</span><span class="op" id="5487986">.</span><span class="ident" id="5487987">Name</span>&nbsp;<span class="op" id="5487992">!=</span>&nbsp;<span class="ident" id="5487995">y</span><span class="op" id="5487996">.</span><span class="ident" id="5487997">Name</span>&nbsp;<span class="op" id="5488002">||</span>&nbsp;<span class="op" id="5488005">!</span><span class="ident" id="5488006">x</span><span class="op" id="5488007">.</span><span class="ident" id="5488008">Sub</span><span class="op" id="5488011">[</span><span class="num" id="5488012">0</span><span class="op" id="5488013">]</span><span class="op" id="5488014">.</span><span class="ident" id="5488015">Equal</span><span class="op" id="5488020">(</span><span class="ident" id="5488021">y</span><span class="op" id="5488022">.</span><span class="ident" id="5488023">Sub</span><span class="op" id="5488026">[</span><span class="num" id="5488027">0</span><span class="op" id="5488028">]</span><span class="op" id="5488029">)</span>&nbsp;<span class="op" id="5488031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488036">return</span>&nbsp;<span class="builtintype" id="5488043">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5488051">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5488054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488057">return</span>&nbsp;<span class="builtintype" id="5488064">true</span><br>
<span class="lineno"></span><span class="op" id="5488069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5488072">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="5488146">func</span>&nbsp;<span class="ident" id="5488151">writeRegexp</span><span class="op" id="5488162">(</span><span class="ident" id="5488163">b</span>&nbsp;<span class="op" id="5488165">*</span><span class="ident" id="5488166">bytes</span><span class="op" id="5488171">.</span><span class="ident" id="5488172">Buffer</span><span class="op" id="5488178">,</span>&nbsp;<span class="ident" id="5488180">re</span>&nbsp;<span class="op" id="5488183">*</span><span class="ident" id="5488184">Regexp</span><span class="op" id="5488190">)</span>&nbsp;<span class="op" id="5488192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488195">switch</span>&nbsp;<span class="ident" id="5488202">re</span><span class="op" id="5488204">.</span><span class="ident" id="5488205">Op</span>&nbsp;<span class="op" id="5488208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488211">default</span><span class="op" id="5488218">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488222">b</span><span class="op" id="5488223">.</span><span class="ident" id="5488224">WriteString</span><span class="op" id="5488235">(</span><span class="string" id="5488236">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="5488250">+</span>&nbsp;<span class="ident" id="5488252">strconv</span><span class="op" id="5488259">.</span><span class="ident" id="5488260">Itoa</span><span class="op" id="5488264">(</span><span class="builtintype" id="5488265">int</span><span class="op" id="5488268">(</span><span class="ident" id="5488269">re</span><span class="op" id="5488271">.</span><span class="ident" id="5488272">Op</span><span class="op" id="5488274">)</span><span class="op" id="5488275">)</span>&nbsp;<span class="op" id="5488277">+</span>&nbsp;<span class="string" id="5488279">&#34;&gt;&#34;</span><span class="op" id="5488282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488285">case</span>&nbsp;<span class="ident" id="5488290">OpNoMatch</span><span class="op" id="5488299">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488303">b</span><span class="op" id="5488304">.</span><span class="ident" id="5488305">WriteString</span><span class="op" id="5488316">(</span><span class="string" id="5488317">`[^\x00-\x{10FFFF}]`</span><span class="op" id="5488337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488340">case</span>&nbsp;<span class="ident" id="5488345">OpEmptyMatch</span><span class="op" id="5488357">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488361">b</span><span class="op" id="5488362">.</span><span class="ident" id="5488363">WriteString</span><span class="op" id="5488374">(</span><span class="string" id="5488375">`(?:)`</span><span class="op" id="5488381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488384">case</span>&nbsp;<span class="ident" id="5488389">OpLiteral</span><span class="op" id="5488398">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488402">if</span>&nbsp;<span class="ident" id="5488405">re</span><span class="op" id="5488407">.</span><span class="ident" id="5488408">Flags</span><span class="op" id="5488413">&amp;</span><span class="ident" id="5488414">FoldCase</span>&nbsp;<span class="op" id="5488423">!=</span>&nbsp;<span class="num" id="5488426">0</span>&nbsp;<span class="op" id="5488428">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488433">b</span><span class="op" id="5488434">.</span><span class="ident" id="5488435">WriteString</span><span class="op" id="5488446">(</span><span class="string" id="5488447">`(?i:`</span><span class="op" id="5488453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5488457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488461">for</span>&nbsp;<span class="ident" id="5488465">_</span><span class="op" id="5488466">,</span>&nbsp;<span class="ident" id="5488468">r</span>&nbsp;<span class="op" id="5488470">:=</span>&nbsp;<span class="keyword" id="5488473">range</span>&nbsp;<span class="ident" id="5488479">re</span><span class="op" id="5488481">.</span><span class="ident" id="5488482">Rune</span>&nbsp;<span class="op" id="5488487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488492">escape</span><span class="op" id="5488498">(</span><span class="ident" id="5488499">b</span><span class="op" id="5488500">,</span>&nbsp;<span class="ident" id="5488502">r</span><span class="op" id="5488503">,</span>&nbsp;<span class="builtintype" id="5488505">false</span><span class="op" id="5488510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5488514">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488518">if</span>&nbsp;<span class="ident" id="5488521">re</span><span class="op" id="5488523">.</span><span class="ident" id="5488524">Flags</span><span class="op" id="5488529">&amp;</span><span class="ident" id="5488530">FoldCase</span>&nbsp;<span class="op" id="5488539">!=</span>&nbsp;<span class="num" id="5488542">0</span>&nbsp;<span class="op" id="5488544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488549">b</span><span class="op" id="5488550">.</span><span class="ident" id="5488551">WriteString</span><span class="op" id="5488562">(</span><span class="string" id="5488563">`)`</span><span class="op" id="5488566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5488570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488573">case</span>&nbsp;<span class="ident" id="5488578">OpCharClass</span><span class="op" id="5488589">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488593">if</span>&nbsp;<span class="builtinfunc" id="5488596">len</span><span class="op" id="5488599">(</span><span class="ident" id="5488600">re</span><span class="op" id="5488602">.</span><span class="ident" id="5488603">Rune</span><span class="op" id="5488607">)</span><span class="op" id="5488608">%</span><span class="num" id="5488609">2</span>&nbsp;<span class="op" id="5488611">!=</span>&nbsp;<span class="num" id="5488614">0</span>&nbsp;<span class="op" id="5488616">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488621">b</span><span class="op" id="5488622">.</span><span class="ident" id="5488623">WriteString</span><span class="op" id="5488634">(</span><span class="string" id="5488635">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="5488657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488662">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5488670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488674">b</span><span class="op" id="5488675">.</span><span class="ident" id="5488676">WriteRune</span><span class="op" id="5488685">(</span><span class="string" id="5488686">&#39;[&#39;</span><span class="op" id="5488689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488693">if</span>&nbsp;<span class="builtinfunc" id="5488696">len</span><span class="op" id="5488699">(</span><span class="ident" id="5488700">re</span><span class="op" id="5488702">.</span><span class="ident" id="5488703">Rune</span><span class="op" id="5488707">)</span>&nbsp;<span class="op" id="5488709">==</span>&nbsp;<span class="num" id="5488712">0</span>&nbsp;<span class="op" id="5488714">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488719">b</span><span class="op" id="5488720">.</span><span class="ident" id="5488721">WriteString</span><span class="op" id="5488732">(</span><span class="string" id="5488733">`^\x00-\x{10FFFF}`</span><span class="op" id="5488751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5488755">}</span>&nbsp;<span class="keyword" id="5488757">else</span>&nbsp;<span class="keyword" id="5488762">if</span>&nbsp;<span class="ident" id="5488765">re</span><span class="op" id="5488767">.</span><span class="ident" id="5488768">Rune</span><span class="op" id="5488772">[</span><span class="num" id="5488773">0</span><span class="op" id="5488774">]</span>&nbsp;<span class="op" id="5488776">==</span>&nbsp;<span class="num" id="5488779">0</span>&nbsp;<span class="op" id="5488781">&amp;&amp;</span>&nbsp;<span class="ident" id="5488784">re</span><span class="op" id="5488786">.</span><span class="ident" id="5488787">Rune</span><span class="op" id="5488791">[</span><span class="builtinfunc" id="5488792">len</span><span class="op" id="5488795">(</span><span class="ident" id="5488796">re</span><span class="op" id="5488798">.</span><span class="ident" id="5488799">Rune</span><span class="op" id="5488803">)</span><span class="op" id="5488804">-</span><span class="num" id="5488805">1</span><span class="op" id="5488806">]</span>&nbsp;<span class="op" id="5488808">==</span>&nbsp;<span class="ident" id="5488811">unicode</span><span class="op" id="5488818">.</span><span class="ident" id="5488819">MaxRune</span>&nbsp;<span class="op" id="5488827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5488832">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5488889">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488911">b</span><span class="op" id="5488912">.</span><span class="ident" id="5488913">WriteRune</span><span class="op" id="5488922">(</span><span class="string" id="5488923">&#39;^&#39;</span><span class="op" id="5488926">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5488931">for</span>&nbsp;<span class="ident" id="5488935">i</span>&nbsp;<span class="op" id="5488937">:=</span>&nbsp;<span class="num" id="5488940">1</span><span class="op" id="5488941">;</span>&nbsp;<span class="ident" id="5488943">i</span>&nbsp;<span class="op" id="5488945">&lt;</span>&nbsp;<span class="builtinfunc" id="5488947">len</span><span class="op" id="5488950">(</span><span class="ident" id="5488951">re</span><span class="op" id="5488953">.</span><span class="ident" id="5488954">Rune</span><span class="op" id="5488958">)</span><span class="op" id="5488959">-</span><span class="num" id="5488960">1</span><span class="op" id="5488961">;</span>&nbsp;<span class="ident" id="5488963">i</span>&nbsp;<span class="op" id="5488965">+=</span>&nbsp;<span class="num" id="5488968">2</span>&nbsp;<span class="op" id="5488970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5488976">lo</span><span class="op" id="5488978">,</span>&nbsp;<span class="ident" id="5488980">hi</span>&nbsp;<span class="op" id="5488983">:=</span>&nbsp;<span class="ident" id="5488986">re</span><span class="op" id="5488988">.</span><span class="ident" id="5488989">Rune</span><span class="op" id="5488993">[</span><span class="ident" id="5488994">i</span><span class="op" id="5488995">]</span><span class="op" id="5488996">+</span><span class="num" id="5488997">1</span><span class="op" id="5488998">,</span>&nbsp;<span class="ident" id="5489000">re</span><span class="op" id="5489002">.</span><span class="ident" id="5489003">Rune</span><span class="op" id="5489007">[</span><span class="ident" id="5489008">i</span><span class="op" id="5489009">+</span><span class="num" id="5489010">1</span><span class="op" id="5489011">]</span><span class="op" id="5489012">-</span><span class="num" id="5489013">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489019">escape</span><span class="op" id="5489025">(</span><span class="ident" id="5489026">b</span><span class="op" id="5489027">,</span>&nbsp;<span class="ident" id="5489029">lo</span><span class="op" id="5489031">,</span>&nbsp;<span class="ident" id="5489033">lo</span>&nbsp;<span class="op" id="5489036">==</span>&nbsp;<span class="string" id="5489039">&#39;-&#39;</span><span class="op" id="5489042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489048">if</span>&nbsp;<span class="ident" id="5489051">lo</span>&nbsp;<span class="op" id="5489054">!=</span>&nbsp;<span class="ident" id="5489057">hi</span>&nbsp;<span class="op" id="5489060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489067">b</span><span class="op" id="5489068">.</span><span class="ident" id="5489069">WriteRune</span><span class="op" id="5489078">(</span><span class="string" id="5489079">&#39;-&#39;</span><span class="op" id="5489082">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489089">escape</span><span class="op" id="5489095">(</span><span class="ident" id="5489096">b</span><span class="op" id="5489097">,</span>&nbsp;<span class="ident" id="5489099">hi</span><span class="op" id="5489101">,</span>&nbsp;<span class="ident" id="5489103">hi</span>&nbsp;<span class="op" id="5489106">==</span>&nbsp;<span class="string" id="5489109">&#39;-&#39;</span><span class="op" id="5489112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489127">}</span>&nbsp;<span class="keyword" id="5489129">else</span>&nbsp;<span class="op" id="5489134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489139">for</span>&nbsp;<span class="ident" id="5489143">i</span>&nbsp;<span class="op" id="5489145">:=</span>&nbsp;<span class="num" id="5489148">0</span><span class="op" id="5489149">;</span>&nbsp;<span class="ident" id="5489151">i</span>&nbsp;<span class="op" id="5489153">&lt;</span>&nbsp;<span class="builtinfunc" id="5489155">len</span><span class="op" id="5489158">(</span><span class="ident" id="5489159">re</span><span class="op" id="5489161">.</span><span class="ident" id="5489162">Rune</span><span class="op" id="5489166">)</span><span class="op" id="5489167">;</span>&nbsp;<span class="ident" id="5489169">i</span>&nbsp;<span class="op" id="5489171">+=</span>&nbsp;<span class="num" id="5489174">2</span>&nbsp;<span class="op" id="5489176">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489182">lo</span><span class="op" id="5489184">,</span>&nbsp;<span class="ident" id="5489186">hi</span>&nbsp;<span class="op" id="5489189">:=</span>&nbsp;<span class="ident" id="5489192">re</span><span class="op" id="5489194">.</span><span class="ident" id="5489195">Rune</span><span class="op" id="5489199">[</span><span class="ident" id="5489200">i</span><span class="op" id="5489201">]</span><span class="op" id="5489202">,</span>&nbsp;<span class="ident" id="5489204">re</span><span class="op" id="5489206">.</span><span class="ident" id="5489207">Rune</span><span class="op" id="5489211">[</span><span class="ident" id="5489212">i</span><span class="op" id="5489213">+</span><span class="num" id="5489214">1</span><span class="op" id="5489215">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489221">escape</span><span class="op" id="5489227">(</span><span class="ident" id="5489228">b</span><span class="op" id="5489229">,</span>&nbsp;<span class="ident" id="5489231">lo</span><span class="op" id="5489233">,</span>&nbsp;<span class="ident" id="5489235">lo</span>&nbsp;<span class="op" id="5489238">==</span>&nbsp;<span class="string" id="5489241">&#39;-&#39;</span><span class="op" id="5489244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489250">if</span>&nbsp;<span class="ident" id="5489253">lo</span>&nbsp;<span class="op" id="5489256">!=</span>&nbsp;<span class="ident" id="5489259">hi</span>&nbsp;<span class="op" id="5489262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489269">b</span><span class="op" id="5489270">.</span><span class="ident" id="5489271">WriteRune</span><span class="op" id="5489280">(</span><span class="string" id="5489281">&#39;-&#39;</span><span class="op" id="5489284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489291">escape</span><span class="op" id="5489297">(</span><span class="ident" id="5489298">b</span><span class="op" id="5489299">,</span>&nbsp;<span class="ident" id="5489301">hi</span><span class="op" id="5489303">,</span>&nbsp;<span class="ident" id="5489305">hi</span>&nbsp;<span class="op" id="5489308">==</span>&nbsp;<span class="string" id="5489311">&#39;-&#39;</span><span class="op" id="5489314">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489333">b</span><span class="op" id="5489334">.</span><span class="ident" id="5489335">WriteRune</span><span class="op" id="5489344">(</span><span class="string" id="5489345">&#39;]&#39;</span><span class="op" id="5489348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489351">case</span>&nbsp;<span class="ident" id="5489356">OpAnyCharNotNL</span><span class="op" id="5489370">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489374">b</span><span class="op" id="5489375">.</span><span class="ident" id="5489376">WriteString</span><span class="op" id="5489387">(</span><span class="string" id="5489388">`(?-s:.)`</span><span class="op" id="5489397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489400">case</span>&nbsp;<span class="ident" id="5489405">OpAnyChar</span><span class="op" id="5489414">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489418">b</span><span class="op" id="5489419">.</span><span class="ident" id="5489420">WriteString</span><span class="op" id="5489431">(</span><span class="string" id="5489432">`(?s:.)`</span><span class="op" id="5489440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489443">case</span>&nbsp;<span class="ident" id="5489448">OpBeginLine</span><span class="op" id="5489459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489463">b</span><span class="op" id="5489464">.</span><span class="ident" id="5489465">WriteRune</span><span class="op" id="5489474">(</span><span class="string" id="5489475">&#39;^&#39;</span><span class="op" id="5489478">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489481">case</span>&nbsp;<span class="ident" id="5489486">OpEndLine</span><span class="op" id="5489495">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489499">b</span><span class="op" id="5489500">.</span><span class="ident" id="5489501">WriteRune</span><span class="op" id="5489510">(</span><span class="string" id="5489511">&#39;$&#39;</span><span class="op" id="5489514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489517">case</span>&nbsp;<span class="ident" id="5489522">OpBeginText</span><span class="op" id="5489533">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489537">b</span><span class="op" id="5489538">.</span><span class="ident" id="5489539">WriteString</span><span class="op" id="5489550">(</span><span class="string" id="5489551">`\A`</span><span class="op" id="5489555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489558">case</span>&nbsp;<span class="ident" id="5489563">OpEndText</span><span class="op" id="5489572">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489576">if</span>&nbsp;<span class="ident" id="5489579">re</span><span class="op" id="5489581">.</span><span class="ident" id="5489582">Flags</span><span class="op" id="5489587">&amp;</span><span class="ident" id="5489588">WasDollar</span>&nbsp;<span class="op" id="5489598">!=</span>&nbsp;<span class="num" id="5489601">0</span>&nbsp;<span class="op" id="5489603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489608">b</span><span class="op" id="5489609">.</span><span class="ident" id="5489610">WriteString</span><span class="op" id="5489621">(</span><span class="string" id="5489622">`(?-m:$)`</span><span class="op" id="5489631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489635">}</span>&nbsp;<span class="keyword" id="5489637">else</span>&nbsp;<span class="op" id="5489642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489647">b</span><span class="op" id="5489648">.</span><span class="ident" id="5489649">WriteString</span><span class="op" id="5489660">(</span><span class="string" id="5489661">`\z`</span><span class="op" id="5489665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489669">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489672">case</span>&nbsp;<span class="ident" id="5489677">OpWordBoundary</span><span class="op" id="5489691">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489695">b</span><span class="op" id="5489696">.</span><span class="ident" id="5489697">WriteString</span><span class="op" id="5489708">(</span><span class="string" id="5489709">`\b`</span><span class="op" id="5489713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489716">case</span>&nbsp;<span class="ident" id="5489721">OpNoWordBoundary</span><span class="op" id="5489737">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489741">b</span><span class="op" id="5489742">.</span><span class="ident" id="5489743">WriteString</span><span class="op" id="5489754">(</span><span class="string" id="5489755">`\B`</span><span class="op" id="5489759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489762">case</span>&nbsp;<span class="ident" id="5489767">OpCapture</span><span class="op" id="5489776">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489780">if</span>&nbsp;<span class="ident" id="5489783">re</span><span class="op" id="5489785">.</span><span class="ident" id="5489786">Name</span>&nbsp;<span class="op" id="5489791">!=</span>&nbsp;<span class="string" id="5489794">&#34;&#34;</span>&nbsp;<span class="op" id="5489797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489802">b</span><span class="op" id="5489803">.</span><span class="ident" id="5489804">WriteString</span><span class="op" id="5489815">(</span><span class="string" id="5489816">`(?P&lt;`</span><span class="op" id="5489822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489827">b</span><span class="op" id="5489828">.</span><span class="ident" id="5489829">WriteString</span><span class="op" id="5489840">(</span><span class="ident" id="5489841">re</span><span class="op" id="5489843">.</span><span class="ident" id="5489844">Name</span><span class="op" id="5489848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489853">b</span><span class="op" id="5489854">.</span><span class="ident" id="5489855">WriteRune</span><span class="op" id="5489864">(</span><span class="string" id="5489865">&#39;&gt;&#39;</span><span class="op" id="5489868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489872">}</span>&nbsp;<span class="keyword" id="5489874">else</span>&nbsp;<span class="op" id="5489879">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489884">b</span><span class="op" id="5489885">.</span><span class="ident" id="5489886">WriteRune</span><span class="op" id="5489895">(</span><span class="string" id="5489896">&#39;(&#39;</span><span class="op" id="5489899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489907">if</span>&nbsp;<span class="ident" id="5489910">re</span><span class="op" id="5489912">.</span><span class="ident" id="5489913">Sub</span><span class="op" id="5489916">[</span><span class="num" id="5489917">0</span><span class="op" id="5489918">]</span><span class="op" id="5489919">.</span><span class="ident" id="5489920">Op</span>&nbsp;<span class="op" id="5489923">!=</span>&nbsp;<span class="ident" id="5489926">OpEmptyMatch</span>&nbsp;<span class="op" id="5489939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489944">writeRegexp</span><span class="op" id="5489955">(</span><span class="ident" id="5489956">b</span><span class="op" id="5489957">,</span>&nbsp;<span class="ident" id="5489959">re</span><span class="op" id="5489961">.</span><span class="ident" id="5489962">Sub</span><span class="op" id="5489965">[</span><span class="num" id="5489966">0</span><span class="op" id="5489967">]</span><span class="op" id="5489968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5489972">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5489976">b</span><span class="op" id="5489977">.</span><span class="ident" id="5489978">WriteRune</span><span class="op" id="5489987">(</span><span class="string" id="5489988">&#39;)&#39;</span><span class="op" id="5489991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5489994">case</span>&nbsp;<span class="ident" id="5489999">OpStar</span><span class="op" id="5490005">,</span>&nbsp;<span class="ident" id="5490007">OpPlus</span><span class="op" id="5490013">,</span>&nbsp;<span class="ident" id="5490015">OpQuest</span><span class="op" id="5490022">,</span>&nbsp;<span class="ident" id="5490024">OpRepeat</span><span class="op" id="5490032">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490036">if</span>&nbsp;<span class="ident" id="5490039">sub</span>&nbsp;<span class="op" id="5490043">:=</span>&nbsp;<span class="ident" id="5490046">re</span><span class="op" id="5490048">.</span><span class="ident" id="5490049">Sub</span><span class="op" id="5490052">[</span><span class="num" id="5490053">0</span><span class="op" id="5490054">]</span><span class="op" id="5490055">;</span>&nbsp;<span class="ident" id="5490057">sub</span><span class="op" id="5490060">.</span><span class="ident" id="5490061">Op</span>&nbsp;<span class="op" id="5490064">&gt;</span>&nbsp;<span class="ident" id="5490066">OpCapture</span>&nbsp;<span class="op" id="5490076">||</span>&nbsp;<span class="ident" id="5490079">sub</span><span class="op" id="5490082">.</span><span class="ident" id="5490083">Op</span>&nbsp;<span class="op" id="5490086">==</span>&nbsp;<span class="ident" id="5490089">OpLiteral</span>&nbsp;<span class="op" id="5490099">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5490102">len</span><span class="op" id="5490105">(</span><span class="ident" id="5490106">sub</span><span class="op" id="5490109">.</span><span class="ident" id="5490110">Rune</span><span class="op" id="5490114">)</span>&nbsp;<span class="op" id="5490116">&gt;</span>&nbsp;<span class="num" id="5490118">1</span>&nbsp;<span class="op" id="5490120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490125">b</span><span class="op" id="5490126">.</span><span class="ident" id="5490127">WriteString</span><span class="op" id="5490138">(</span><span class="string" id="5490139">`(?:`</span><span class="op" id="5490144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490149">writeRegexp</span><span class="op" id="5490160">(</span><span class="ident" id="5490161">b</span><span class="op" id="5490162">,</span>&nbsp;<span class="ident" id="5490164">sub</span><span class="op" id="5490167">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490172">b</span><span class="op" id="5490173">.</span><span class="ident" id="5490174">WriteString</span><span class="op" id="5490185">(</span><span class="string" id="5490186">`)`</span><span class="op" id="5490189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490193">}</span>&nbsp;<span class="keyword" id="5490195">else</span>&nbsp;<span class="op" id="5490200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490205">writeRegexp</span><span class="op" id="5490216">(</span><span class="ident" id="5490217">b</span><span class="op" id="5490218">,</span>&nbsp;<span class="ident" id="5490220">sub</span><span class="op" id="5490223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490231">switch</span>&nbsp;<span class="ident" id="5490238">re</span><span class="op" id="5490240">.</span><span class="ident" id="5490241">Op</span>&nbsp;<span class="op" id="5490244">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490248">case</span>&nbsp;<span class="ident" id="5490253">OpStar</span><span class="op" id="5490259">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490264">b</span><span class="op" id="5490265">.</span><span class="ident" id="5490266">WriteRune</span><span class="op" id="5490275">(</span><span class="string" id="5490276">&#39;*&#39;</span><span class="op" id="5490279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490283">case</span>&nbsp;<span class="ident" id="5490288">OpPlus</span><span class="op" id="5490294">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490299">b</span><span class="op" id="5490300">.</span><span class="ident" id="5490301">WriteRune</span><span class="op" id="5490310">(</span><span class="string" id="5490311">&#39;+&#39;</span><span class="op" id="5490314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490318">case</span>&nbsp;<span class="ident" id="5490323">OpQuest</span><span class="op" id="5490330">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490335">b</span><span class="op" id="5490336">.</span><span class="ident" id="5490337">WriteRune</span><span class="op" id="5490346">(</span><span class="string" id="5490347">&#39;?&#39;</span><span class="op" id="5490350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490354">case</span>&nbsp;<span class="ident" id="5490359">OpRepeat</span><span class="op" id="5490367">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490372">b</span><span class="op" id="5490373">.</span><span class="ident" id="5490374">WriteRune</span><span class="op" id="5490383">(</span><span class="string" id="5490384">&#39;{&#39;</span><span class="op" id="5490387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490392">b</span><span class="op" id="5490393">.</span><span class="ident" id="5490394">WriteString</span><span class="op" id="5490405">(</span><span class="ident" id="5490406">strconv</span><span class="op" id="5490413">.</span><span class="ident" id="5490414">Itoa</span><span class="op" id="5490418">(</span><span class="ident" id="5490419">re</span><span class="op" id="5490421">.</span><span class="ident" id="5490422">Min</span><span class="op" id="5490425">)</span><span class="op" id="5490426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490431">if</span>&nbsp;<span class="ident" id="5490434">re</span><span class="op" id="5490436">.</span><span class="ident" id="5490437">Max</span>&nbsp;<span class="op" id="5490441">!=</span>&nbsp;<span class="ident" id="5490444">re</span><span class="op" id="5490446">.</span><span class="ident" id="5490447">Min</span>&nbsp;<span class="op" id="5490451">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490457">b</span><span class="op" id="5490458">.</span><span class="ident" id="5490459">WriteRune</span><span class="op" id="5490468">(</span><span class="string" id="5490469">&#39;,&#39;</span><span class="op" id="5490472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490478">if</span>&nbsp;<span class="ident" id="5490481">re</span><span class="op" id="5490483">.</span><span class="ident" id="5490484">Max</span>&nbsp;<span class="op" id="5490488">&gt;=</span>&nbsp;<span class="num" id="5490491">0</span>&nbsp;<span class="op" id="5490493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490500">b</span><span class="op" id="5490501">.</span><span class="ident" id="5490502">WriteString</span><span class="op" id="5490513">(</span><span class="ident" id="5490514">strconv</span><span class="op" id="5490521">.</span><span class="ident" id="5490522">Itoa</span><span class="op" id="5490526">(</span><span class="ident" id="5490527">re</span><span class="op" id="5490529">.</span><span class="ident" id="5490530">Max</span><span class="op" id="5490533">)</span><span class="op" id="5490534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490545">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490550">b</span><span class="op" id="5490551">.</span><span class="ident" id="5490552">WriteRune</span><span class="op" id="5490561">(</span><span class="string" id="5490562">&#39;}&#39;</span><span class="op" id="5490565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490573">if</span>&nbsp;<span class="ident" id="5490576">re</span><span class="op" id="5490578">.</span><span class="ident" id="5490579">Flags</span><span class="op" id="5490584">&amp;</span><span class="ident" id="5490585">NonGreedy</span>&nbsp;<span class="op" id="5490595">!=</span>&nbsp;<span class="num" id="5490598">0</span>&nbsp;<span class="op" id="5490600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490605">b</span><span class="op" id="5490606">.</span><span class="ident" id="5490607">WriteRune</span><span class="op" id="5490616">(</span><span class="string" id="5490617">&#39;?&#39;</span><span class="op" id="5490620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490624">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490627">case</span>&nbsp;<span class="ident" id="5490632">OpConcat</span><span class="op" id="5490640">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490644">for</span>&nbsp;<span class="ident" id="5490648">_</span><span class="op" id="5490649">,</span>&nbsp;<span class="ident" id="5490651">sub</span>&nbsp;<span class="op" id="5490655">:=</span>&nbsp;<span class="keyword" id="5490658">range</span>&nbsp;<span class="ident" id="5490664">re</span><span class="op" id="5490666">.</span><span class="ident" id="5490667">Sub</span>&nbsp;<span class="op" id="5490671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490676">if</span>&nbsp;<span class="ident" id="5490679">sub</span><span class="op" id="5490682">.</span><span class="ident" id="5490683">Op</span>&nbsp;<span class="op" id="5490686">==</span>&nbsp;<span class="ident" id="5490689">OpAlternate</span>&nbsp;<span class="op" id="5490701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490707">b</span><span class="op" id="5490708">.</span><span class="ident" id="5490709">WriteString</span><span class="op" id="5490720">(</span><span class="string" id="5490721">`(?:`</span><span class="op" id="5490726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490732">writeRegexp</span><span class="op" id="5490743">(</span><span class="ident" id="5490744">b</span><span class="op" id="5490745">,</span>&nbsp;<span class="ident" id="5490747">sub</span><span class="op" id="5490750">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490756">b</span><span class="op" id="5490757">.</span><span class="ident" id="5490758">WriteString</span><span class="op" id="5490769">(</span><span class="string" id="5490770">`)`</span><span class="op" id="5490773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490778">}</span>&nbsp;<span class="keyword" id="5490780">else</span>&nbsp;<span class="op" id="5490785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490791">writeRegexp</span><span class="op" id="5490802">(</span><span class="ident" id="5490803">b</span><span class="op" id="5490804">,</span>&nbsp;<span class="ident" id="5490806">sub</span><span class="op" id="5490809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490818">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490821">case</span>&nbsp;<span class="ident" id="5490826">OpAlternate</span><span class="op" id="5490837">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490841">for</span>&nbsp;<span class="ident" id="5490845">i</span><span class="op" id="5490846">,</span>&nbsp;<span class="ident" id="5490848">sub</span>&nbsp;<span class="op" id="5490852">:=</span>&nbsp;<span class="keyword" id="5490855">range</span>&nbsp;<span class="ident" id="5490861">re</span><span class="op" id="5490863">.</span><span class="ident" id="5490864">Sub</span>&nbsp;<span class="op" id="5490868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490873">if</span>&nbsp;<span class="ident" id="5490876">i</span>&nbsp;<span class="op" id="5490878">&gt;</span>&nbsp;<span class="num" id="5490880">0</span>&nbsp;<span class="op" id="5490882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490888">b</span><span class="op" id="5490889">.</span><span class="ident" id="5490890">WriteRune</span><span class="op" id="5490899">(</span><span class="string" id="5490900">&#39;|&#39;</span><span class="op" id="5490903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490908">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5490913">writeRegexp</span><span class="op" id="5490924">(</span><span class="ident" id="5490925">b</span><span class="op" id="5490926">,</span>&nbsp;<span class="ident" id="5490928">sub</span><span class="op" id="5490931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5490938">}</span><br>
<span class="lineno"></span><span class="op" id="5490940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="5490943">func</span>&nbsp;<span class="op" id="5490948">(</span><span class="ident" id="5490949">re</span>&nbsp;<span class="op" id="5490952">*</span><span class="ident" id="5490953">Regexp</span><span class="op" id="5490959">)</span>&nbsp;<span class="ident" id="5490961">String</span><span class="op" id="5490967">(</span><span class="op" id="5490968">)</span>&nbsp;<span class="builtintype" id="5490970">string</span>&nbsp;<span class="op" id="5490977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5490980">var</span>&nbsp;<span class="ident" id="5490984">b</span>&nbsp;<span class="ident" id="5490986">bytes</span><span class="op" id="5490991">.</span><span class="ident" id="5490992">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491000">writeRegexp</span><span class="op" id="5491011">(</span><span class="op" id="5491012">&amp;</span><span class="ident" id="5491013">b</span><span class="op" id="5491014">,</span>&nbsp;<span class="ident" id="5491016">re</span><span class="op" id="5491018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491021">return</span>&nbsp;<span class="ident" id="5491028">b</span><span class="op" id="5491029">.</span><span class="ident" id="5491030">String</span><span class="op" id="5491036">(</span><span class="op" id="5491037">)</span><br>
<span class="lineno"></span><span class="op" id="5491039">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="5491042">const</span>&nbsp;<span class="ident" id="5491048">meta</span>&nbsp;<span class="op" id="5491053">=</span>&nbsp;<span class="string" id="5491055">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5491073">func</span>&nbsp;<span class="ident" id="5491078">escape</span><span class="op" id="5491084">(</span><span class="ident" id="5491085">b</span>&nbsp;<span class="op" id="5491087">*</span><span class="ident" id="5491088">bytes</span><span class="op" id="5491093">.</span><span class="ident" id="5491094">Buffer</span><span class="op" id="5491100">,</span>&nbsp;<span class="ident" id="5491102">r</span>&nbsp;<span class="builtintype" id="5491104">rune</span><span class="op" id="5491108">,</span>&nbsp;<span class="ident" id="5491110">force</span>&nbsp;<span class="builtintype" id="5491116">bool</span><span class="op" id="5491120">)</span>&nbsp;<span class="op" id="5491122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491125">if</span>&nbsp;<span class="ident" id="5491128">unicode</span><span class="op" id="5491135">.</span><span class="ident" id="5491136">IsPrint</span><span class="op" id="5491143">(</span><span class="ident" id="5491144">r</span><span class="op" id="5491145">)</span>&nbsp;<span class="op" id="5491147">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491151">if</span>&nbsp;<span class="ident" id="5491154">strings</span><span class="op" id="5491161">.</span><span class="ident" id="5491162">IndexRune</span><span class="op" id="5491171">(</span><span class="ident" id="5491172">meta</span><span class="op" id="5491176">,</span>&nbsp;<span class="ident" id="5491178">r</span><span class="op" id="5491179">)</span>&nbsp;<span class="op" id="5491181">&gt;=</span>&nbsp;<span class="num" id="5491184">0</span>&nbsp;<span class="op" id="5491186">||</span>&nbsp;<span class="ident" id="5491189">force</span>&nbsp;<span class="op" id="5491195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491200">b</span><span class="op" id="5491201">.</span><span class="ident" id="5491202">WriteRune</span><span class="op" id="5491211">(</span><span class="string" id="5491212">&#39;\\&#39;</span><span class="op" id="5491216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5491220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491224">b</span><span class="op" id="5491225">.</span><span class="ident" id="5491226">WriteRune</span><span class="op" id="5491235">(</span><span class="ident" id="5491236">r</span><span class="op" id="5491237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491241">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5491249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491253">switch</span>&nbsp;<span class="ident" id="5491260">r</span>&nbsp;<span class="op" id="5491262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491265">case</span>&nbsp;<span class="string" id="5491270">&#39;\a&#39;</span><span class="op" id="5491274">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491278">b</span><span class="op" id="5491279">.</span><span class="ident" id="5491280">WriteString</span><span class="op" id="5491291">(</span><span class="string" id="5491292">`\a`</span><span class="op" id="5491296">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491299">case</span>&nbsp;<span class="string" id="5491304">&#39;\f&#39;</span><span class="op" id="5491308">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491312">b</span><span class="op" id="5491313">.</span><span class="ident" id="5491314">WriteString</span><span class="op" id="5491325">(</span><span class="string" id="5491326">`\f`</span><span class="op" id="5491330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491333">case</span>&nbsp;<span class="string" id="5491338">&#39;\n&#39;</span><span class="op" id="5491342">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491346">b</span><span class="op" id="5491347">.</span><span class="ident" id="5491348">WriteString</span><span class="op" id="5491359">(</span><span class="string" id="5491360">`\n`</span><span class="op" id="5491364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491367">case</span>&nbsp;<span class="string" id="5491372">&#39;\r&#39;</span><span class="op" id="5491376">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491380">b</span><span class="op" id="5491381">.</span><span class="ident" id="5491382">WriteString</span><span class="op" id="5491393">(</span><span class="string" id="5491394">`\r`</span><span class="op" id="5491398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491401">case</span>&nbsp;<span class="string" id="5491406">&#39;\t&#39;</span><span class="op" id="5491410">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491414">b</span><span class="op" id="5491415">.</span><span class="ident" id="5491416">WriteString</span><span class="op" id="5491427">(</span><span class="string" id="5491428">`\t`</span><span class="op" id="5491432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491435">case</span>&nbsp;<span class="string" id="5491440">&#39;\v&#39;</span><span class="op" id="5491444">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491448">b</span><span class="op" id="5491449">.</span><span class="ident" id="5491450">WriteString</span><span class="op" id="5491461">(</span><span class="string" id="5491462">`\v`</span><span class="op" id="5491466">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491469">default</span><span class="op" id="5491476">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491480">if</span>&nbsp;<span class="ident" id="5491483">r</span>&nbsp;<span class="op" id="5491485">&lt;</span>&nbsp;<span class="num" id="5491487">0x100</span>&nbsp;<span class="op" id="5491493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491498">b</span><span class="op" id="5491499">.</span><span class="ident" id="5491500">WriteString</span><span class="op" id="5491511">(</span><span class="string" id="5491512">`\x`</span><span class="op" id="5491516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491521">s</span>&nbsp;<span class="op" id="5491523">:=</span>&nbsp;<span class="ident" id="5491526">strconv</span><span class="op" id="5491533">.</span><span class="ident" id="5491534">FormatInt</span><span class="op" id="5491543">(</span><span class="ident" id="5491544">int64</span><span class="op" id="5491549">(</span><span class="ident" id="5491550">r</span><span class="op" id="5491551">)</span><span class="op" id="5491552">,</span>&nbsp;<span class="num" id="5491554">16</span><span class="op" id="5491556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491561">if</span>&nbsp;<span class="builtinfunc" id="5491564">len</span><span class="op" id="5491567">(</span><span class="ident" id="5491568">s</span><span class="op" id="5491569">)</span>&nbsp;<span class="op" id="5491571">==</span>&nbsp;<span class="num" id="5491574">1</span>&nbsp;<span class="op" id="5491576">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491582">b</span><span class="op" id="5491583">.</span><span class="ident" id="5491584">WriteRune</span><span class="op" id="5491593">(</span><span class="string" id="5491594">&#39;0&#39;</span><span class="op" id="5491597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5491602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491607">b</span><span class="op" id="5491608">.</span><span class="ident" id="5491609">WriteString</span><span class="op" id="5491620">(</span><span class="ident" id="5491621">s</span><span class="op" id="5491622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491627">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5491635">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491639">b</span><span class="op" id="5491640">.</span><span class="ident" id="5491641">WriteString</span><span class="op" id="5491652">(</span><span class="string" id="5491653">`\x{`</span><span class="op" id="5491658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491662">b</span><span class="op" id="5491663">.</span><span class="ident" id="5491664">WriteString</span><span class="op" id="5491675">(</span><span class="ident" id="5491676">strconv</span><span class="op" id="5491683">.</span><span class="ident" id="5491684">FormatInt</span><span class="op" id="5491693">(</span><span class="ident" id="5491694">int64</span><span class="op" id="5491699">(</span><span class="ident" id="5491700">r</span><span class="op" id="5491701">)</span><span class="op" id="5491702">,</span>&nbsp;<span class="num" id="5491704">16</span><span class="op" id="5491706">)</span><span class="op" id="5491707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491711">b</span><span class="op" id="5491712">.</span><span class="ident" id="5491713">WriteString</span><span class="op" id="5491724">(</span><span class="string" id="5491725">`}`</span><span class="op" id="5491728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5491731">}</span><br>
<span class="lineno"></span><span class="op" id="5491733">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5491736">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="5491798">func</span>&nbsp;<span class="op" id="5491803">(</span><span class="ident" id="5491804">re</span>&nbsp;<span class="op" id="5491807">*</span><span class="ident" id="5491808">Regexp</span><span class="op" id="5491814">)</span>&nbsp;<span class="ident" id="5491816">MaxCap</span><span class="op" id="5491822">(</span><span class="op" id="5491823">)</span>&nbsp;<span class="builtintype" id="5491825">int</span>&nbsp;<span class="op" id="5491829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491832">m</span>&nbsp;<span class="op" id="5491834">:=</span>&nbsp;<span class="num" id="5491837">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491840">if</span>&nbsp;<span class="ident" id="5491843">re</span><span class="op" id="5491845">.</span><span class="ident" id="5491846">Op</span>&nbsp;<span class="op" id="5491849">==</span>&nbsp;<span class="ident" id="5491852">OpCapture</span>&nbsp;<span class="op" id="5491862">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491866">m</span>&nbsp;<span class="op" id="5491868">=</span>&nbsp;<span class="ident" id="5491870">re</span><span class="op" id="5491872">.</span><span class="ident" id="5491873">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5491878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491881">for</span>&nbsp;<span class="ident" id="5491885">_</span><span class="op" id="5491886">,</span>&nbsp;<span class="ident" id="5491888">sub</span>&nbsp;<span class="op" id="5491892">:=</span>&nbsp;<span class="keyword" id="5491895">range</span>&nbsp;<span class="ident" id="5491901">re</span><span class="op" id="5491903">.</span><span class="ident" id="5491904">Sub</span>&nbsp;<span class="op" id="5491908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491912">if</span>&nbsp;<span class="ident" id="5491915">n</span>&nbsp;<span class="op" id="5491917">:=</span>&nbsp;<span class="ident" id="5491920">sub</span><span class="op" id="5491923">.</span><span class="ident" id="5491924">MaxCap</span><span class="op" id="5491930">(</span><span class="op" id="5491931">)</span><span class="op" id="5491932">;</span>&nbsp;<span class="ident" id="5491934">m</span>&nbsp;<span class="op" id="5491936">&lt;</span>&nbsp;<span class="ident" id="5491938">n</span>&nbsp;<span class="op" id="5491940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5491945">m</span>&nbsp;<span class="op" id="5491947">=</span>&nbsp;<span class="ident" id="5491949">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5491953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5491956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5491959">return</span>&nbsp;<span class="ident" id="5491966">m</span><br>
<span class="lineno"></span><span class="op" id="5491968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="5491971">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="5492039">func</span>&nbsp;<span class="op" id="5492044">(</span><span class="ident" id="5492045">re</span>&nbsp;<span class="op" id="5492048">*</span><span class="ident" id="5492049">Regexp</span><span class="op" id="5492055">)</span>&nbsp;<span class="ident" id="5492057">CapNames</span><span class="op" id="5492065">(</span><span class="op" id="5492066">)</span>&nbsp;<span class="op" id="5492068">[</span><span class="op" id="5492069">]</span><span class="builtintype" id="5492070">string</span>&nbsp;<span class="op" id="5492077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5492080">names</span>&nbsp;<span class="op" id="5492086">:=</span>&nbsp;<span class="builtinfunc" id="5492089">make</span><span class="op" id="5492093">(</span><span class="op" id="5492094">[</span><span class="op" id="5492095">]</span><span class="builtintype" id="5492096">string</span><span class="op" id="5492102">,</span>&nbsp;<span class="ident" id="5492104">re</span><span class="op" id="5492106">.</span><span class="ident" id="5492107">MaxCap</span><span class="op" id="5492113">(</span><span class="op" id="5492114">)</span><span class="op" id="5492115">+</span><span class="num" id="5492116">1</span><span class="op" id="5492117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5492120">re</span><span class="op" id="5492122">.</span><span class="ident" id="5492123">capNames</span><span class="op" id="5492131">(</span><span class="ident" id="5492132">names</span><span class="op" id="5492137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5492140">return</span>&nbsp;<span class="ident" id="5492147">names</span><br>
<span class="lineno">310</span><span class="op" id="5492153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5492156">func</span>&nbsp;<span class="op" id="5492161">(</span><span class="ident" id="5492162">re</span>&nbsp;<span class="op" id="5492165">*</span><span class="ident" id="5492166">Regexp</span><span class="op" id="5492172">)</span>&nbsp;<span class="ident" id="5492174">capNames</span><span class="op" id="5492182">(</span><span class="ident" id="5492183">names</span>&nbsp;<span class="op" id="5492189">[</span><span class="op" id="5492190">]</span><span class="builtintype" id="5492191">string</span><span class="op" id="5492197">)</span>&nbsp;<span class="op" id="5492199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5492202">if</span>&nbsp;<span class="ident" id="5492205">re</span><span class="op" id="5492207">.</span><span class="ident" id="5492208">Op</span>&nbsp;<span class="op" id="5492211">==</span>&nbsp;<span class="ident" id="5492214">OpCapture</span>&nbsp;<span class="op" id="5492224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5492228">names</span><span class="op" id="5492233">[</span><span class="ident" id="5492234">re</span><span class="op" id="5492236">.</span><span class="ident" id="5492237">Cap</span><span class="op" id="5492240">]</span>&nbsp;<span class="op" id="5492242">=</span>&nbsp;<span class="ident" id="5492244">re</span><span class="op" id="5492246">.</span><span class="ident" id="5492247">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5492253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5492256">for</span>&nbsp;<span class="ident" id="5492260">_</span><span class="op" id="5492261">,</span>&nbsp;<span class="ident" id="5492263">sub</span>&nbsp;<span class="op" id="5492267">:=</span>&nbsp;<span class="keyword" id="5492270">range</span>&nbsp;<span class="ident" id="5492276">re</span><span class="op" id="5492278">.</span><span class="ident" id="5492279">Sub</span>&nbsp;<span class="op" id="5492283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5492287">sub</span><span class="op" id="5492290">.</span><span class="ident" id="5492291">capNames</span><span class="op" id="5492299">(</span><span class="ident" id="5492300">names</span><span class="op" id="5492305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5492308">}</span><br>
<span class="lineno"></span><span class="op" id="5492310">}</span>
</div>
</body>
</html>
