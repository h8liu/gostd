<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html" class="current">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6666747">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6666802">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6666856">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6666907">package</span>&nbsp;<span class="ident" id="6666915">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6666921">import</span>&nbsp;<span class="op" id="6666928">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6666931">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6666941">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6666944">var</span>&nbsp;<span class="ident" id="6666948">nonExistentPaths</span>&nbsp;<span class="op" id="6666965">=</span>&nbsp;<span class="op" id="6666967">[</span><span class="op" id="6666968">]</span><span class="builtintype" id="6666969">string</span><span class="op" id="6666975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6666978">&#34;some-non-existent-path&#34;</span><span class="op" id="6667002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6667005">&#34;non-existent-path/slashed&#34;</span><span class="op" id="6667032">,</span><br>
<span class="lineno"></span><span class="op" id="6667034">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6667037">func</span>&nbsp;<span class="ident" id="6667042">TestLookPathNotFound</span><span class="op" id="6667062">(</span><span class="ident" id="6667063">t</span>&nbsp;<span class="op" id="6667065">*</span><span class="ident" id="6667066">testing</span><span class="op" id="6667073">.</span><span class="ident" id="6667074">T</span><span class="op" id="6667075">)</span>&nbsp;<span class="op" id="6667077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667080">for</span>&nbsp;<span class="ident" id="6667084">_</span><span class="op" id="6667085">,</span>&nbsp;<span class="ident" id="6667087">name</span>&nbsp;<span class="op" id="6667092">:=</span>&nbsp;<span class="keyword" id="6667095">range</span>&nbsp;<span class="ident" id="6667101">nonExistentPaths</span>&nbsp;<span class="op" id="6667118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667122">path</span><span class="op" id="6667126">,</span>&nbsp;<span class="ident" id="6667128">err</span>&nbsp;<span class="op" id="6667132">:=</span>&nbsp;<span class="ident" id="6667135">LookPath</span><span class="op" id="6667143">(</span><span class="ident" id="6667144">name</span><span class="op" id="6667148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667152">if</span>&nbsp;<span class="ident" id="6667155">err</span>&nbsp;<span class="op" id="6667159">==</span>&nbsp;<span class="ident" id="6667162">nil</span>&nbsp;<span class="op" id="6667166">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667171">t</span><span class="op" id="6667172">.</span><span class="ident" id="6667173">Fatalf</span><span class="op" id="6667179">(</span><span class="string" id="6667180">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="6667208">,</span>&nbsp;<span class="ident" id="6667210">name</span><span class="op" id="6667214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667222">if</span>&nbsp;<span class="ident" id="6667225">path</span>&nbsp;<span class="op" id="6667230">!=</span>&nbsp;<span class="string" id="6667233">&#34;&#34;</span>&nbsp;<span class="op" id="6667236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667241">t</span><span class="op" id="6667242">.</span><span class="ident" id="6667243">Fatalf</span><span class="op" id="6667249">(</span><span class="string" id="6667250">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="6667287">,</span>&nbsp;<span class="ident" id="6667289">path</span><span class="op" id="6667293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667297">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667301">perr</span><span class="op" id="6667305">,</span>&nbsp;<span class="ident" id="6667307">ok</span>&nbsp;<span class="op" id="6667310">:=</span>&nbsp;<span class="ident" id="6667313">err</span><span class="op" id="6667316">.</span><span class="op" id="6667317">(</span><span class="op" id="6667318">*</span><span class="ident" id="6667319">Error</span><span class="op" id="6667324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667328">if</span>&nbsp;<span class="op" id="6667331">!</span><span class="ident" id="6667332">ok</span>&nbsp;<span class="op" id="6667335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667340">t</span><span class="op" id="6667341">.</span><span class="ident" id="6667342">Fatal</span><span class="op" id="6667347">(</span><span class="string" id="6667348">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="6667385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667393">if</span>&nbsp;<span class="ident" id="6667396">perr</span><span class="op" id="6667400">.</span><span class="ident" id="6667401">Name</span>&nbsp;<span class="op" id="6667406">!=</span>&nbsp;<span class="ident" id="6667409">name</span>&nbsp;<span class="op" id="6667414">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667419">t</span><span class="op" id="6667420">.</span><span class="ident" id="6667421">Fatalf</span><span class="op" id="6667427">(</span><span class="string" id="6667428">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6667456">,</span>&nbsp;<span class="ident" id="6667458">name</span><span class="op" id="6667462">,</span>&nbsp;<span class="ident" id="6667464">perr</span><span class="op" id="6667468">.</span><span class="ident" id="6667469">Name</span><span class="op" id="6667473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667480">}</span><br>
<span class="lineno"></span><span class="op" id="6667482">}</span>
</div>
</body>
</html>
