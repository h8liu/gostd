<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html" class="current">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7940781">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7940836">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7940890">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7940941">package</span>&nbsp;<span class="ident" id="7940949">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7940959">import</span>&nbsp;<span class="op" id="7940966">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7940969">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7940979">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7940982">func</span>&nbsp;<span class="ident" id="7940987">TestURLNormalizer</span><span class="op" id="7941004">(</span><span class="ident" id="7941005">t</span>&nbsp;<span class="op" id="7941007">*</span><span class="ident" id="7941008">testing</span><span class="op" id="7941015">.</span><span class="ident" id="7941016">T</span><span class="op" id="7941017">)</span>&nbsp;<span class="op" id="7941019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7941022">tests</span>&nbsp;<span class="op" id="7941028">:=</span>&nbsp;<span class="op" id="7941031">[</span><span class="op" id="7941032">]</span><span class="keyword" id="7941033">struct</span>&nbsp;<span class="op" id="7941040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7941044">url</span><span class="op" id="7941047">,</span>&nbsp;<span class="ident" id="7941049">want</span>&nbsp;<span class="builtintype" id="7941054">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941062">}</span><span class="op" id="7941063">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941067">{</span><span class="string" id="7941068">&#34;&#34;</span><span class="op" id="7941070">,</span>&nbsp;<span class="string" id="7941072">&#34;&#34;</span><span class="op" id="7941074">}</span><span class="op" id="7941075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941084">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7941137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941142">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7941195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941199">}</span><span class="op" id="7941200">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941204">{</span><span class="string" id="7941205">&#34;&nbsp;&#34;</span><span class="op" id="7941208">,</span>&nbsp;<span class="string" id="7941210">&#34;%20&#34;</span><span class="op" id="7941215">}</span><span class="op" id="7941216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941220">{</span><span class="string" id="7941221">&#34;%7c&#34;</span><span class="op" id="7941226">,</span>&nbsp;<span class="string" id="7941228">&#34;%7c&#34;</span><span class="op" id="7941233">}</span><span class="op" id="7941234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941238">{</span><span class="string" id="7941239">&#34;%7C&#34;</span><span class="op" id="7941244">,</span>&nbsp;<span class="string" id="7941246">&#34;%7C&#34;</span><span class="op" id="7941251">}</span><span class="op" id="7941252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941256">{</span><span class="string" id="7941257">&#34;%2&#34;</span><span class="op" id="7941261">,</span>&nbsp;<span class="string" id="7941263">&#34;%252&#34;</span><span class="op" id="7941269">}</span><span class="op" id="7941270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941274">{</span><span class="string" id="7941275">&#34;%&#34;</span><span class="op" id="7941278">,</span>&nbsp;<span class="string" id="7941280">&#34;%25&#34;</span><span class="op" id="7941285">}</span><span class="op" id="7941286">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941290">{</span><span class="string" id="7941291">&#34;%z&#34;</span><span class="op" id="7941295">,</span>&nbsp;<span class="string" id="7941297">&#34;%25z&#34;</span><span class="op" id="7941303">}</span><span class="op" id="7941304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941308">{</span><span class="string" id="7941309">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="7941329">,</span>&nbsp;<span class="string" id="7941331">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="7941356">}</span><span class="op" id="7941357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7941363">for</span>&nbsp;<span class="ident" id="7941367">_</span><span class="op" id="7941368">,</span>&nbsp;<span class="ident" id="7941370">test</span>&nbsp;<span class="op" id="7941375">:=</span>&nbsp;<span class="keyword" id="7941378">range</span>&nbsp;<span class="ident" id="7941384">tests</span>&nbsp;<span class="op" id="7941390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7941394">if</span>&nbsp;<span class="ident" id="7941397">got</span>&nbsp;<span class="op" id="7941401">:=</span>&nbsp;<span class="ident" id="7941404">urlNormalizer</span><span class="op" id="7941417">(</span><span class="ident" id="7941418">test</span><span class="op" id="7941422">.</span><span class="ident" id="7941423">url</span><span class="op" id="7941426">)</span><span class="op" id="7941427">;</span>&nbsp;<span class="ident" id="7941429">test</span><span class="op" id="7941433">.</span><span class="ident" id="7941434">want</span>&nbsp;<span class="op" id="7941439">!=</span>&nbsp;<span class="ident" id="7941442">got</span>&nbsp;<span class="op" id="7941446">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7941451">t</span><span class="op" id="7941452">.</span><span class="ident" id="7941453">Errorf</span><span class="op" id="7941459">(</span><span class="string" id="7941460">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="7941491">,</span>&nbsp;<span class="ident" id="7941493">test</span><span class="op" id="7941497">.</span><span class="ident" id="7941498">url</span><span class="op" id="7941501">,</span>&nbsp;<span class="ident" id="7941503">test</span><span class="op" id="7941507">.</span><span class="ident" id="7941508">want</span><span class="op" id="7941512">,</span>&nbsp;<span class="ident" id="7941514">got</span><span class="op" id="7941517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7941525">if</span>&nbsp;<span class="ident" id="7941528">test</span><span class="op" id="7941532">.</span><span class="ident" id="7941533">want</span>&nbsp;<span class="op" id="7941538">!=</span>&nbsp;<span class="ident" id="7941541">urlNormalizer</span><span class="op" id="7941554">(</span><span class="ident" id="7941555">test</span><span class="op" id="7941559">.</span><span class="ident" id="7941560">want</span><span class="op" id="7941564">)</span>&nbsp;<span class="op" id="7941566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7941571">t</span><span class="op" id="7941572">.</span><span class="ident" id="7941573">Errorf</span><span class="op" id="7941579">(</span><span class="string" id="7941580">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="7941600">,</span>&nbsp;<span class="ident" id="7941602">test</span><span class="op" id="7941606">.</span><span class="ident" id="7941607">want</span><span class="op" id="7941611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941615">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7941618">}</span><br>
<span class="lineno"></span><span class="op" id="7941620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7941623">func</span>&nbsp;<span class="ident" id="7941628">TestURLFilters</span><span class="op" id="7941642">(</span><span class="ident" id="7941643">t</span>&nbsp;<span class="op" id="7941645">*</span><span class="ident" id="7941646">testing</span><span class="op" id="7941653">.</span><span class="ident" id="7941654">T</span><span class="op" id="7941655">)</span>&nbsp;<span class="op" id="7941657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7941660">input</span>&nbsp;<span class="op" id="7941666">:=</span>&nbsp;<span class="op" id="7941669">(</span><span class="string" id="7941670">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="7941731">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941735">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="7941802">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941806">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="7941825">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941829">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="7941848">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941852">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="7941871">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941875">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="7941894">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941898">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7941917">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941921">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="7941943">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7941947">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="7941989">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7941993">tests</span>&nbsp;<span class="op" id="7941999">:=</span>&nbsp;<span class="op" id="7942002">[</span><span class="op" id="7942003">]</span><span class="keyword" id="7942004">struct</span>&nbsp;<span class="op" id="7942011">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7942015">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7942023">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7942032">escaper</span>&nbsp;<span class="keyword" id="7942040">func</span><span class="op" id="7942044">(</span><span class="op" id="7942045">...</span><span class="keyword" id="7942048">interface</span><span class="op" id="7942057">{</span><span class="op" id="7942058">}</span><span class="op" id="7942059">)</span>&nbsp;<span class="builtintype" id="7942061">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7942070">escaped</span>&nbsp;<span class="builtintype" id="7942078">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7942086">}</span><span class="op" id="7942087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7942091">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942096">&#34;urlEscaper&#34;</span><span class="op" id="7942108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7942113">urlEscaper</span><span class="op" id="7942123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942128">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7942179">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942185">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7942236">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942242">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="7942289">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942295">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="7942326">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942332">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7942353">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942359">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="7942386">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942392">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7942413">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942419">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7942446">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942452">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7942505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7942509">}</span><span class="op" id="7942510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7942514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942519">&#34;urlNormalizer&#34;</span><span class="op" id="7942534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7942539">urlNormalizer</span><span class="op" id="7942552">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942557">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7942608">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942614">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7942665">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942671">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="7942702">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942708">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="7942731">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942737">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7942756">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942762">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="7942785">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942791">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7942812">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942818">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7942845">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7942851">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7942904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7942908">}</span><span class="op" id="7942909">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7942912">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7942916">for</span>&nbsp;<span class="ident" id="7942920">_</span><span class="op" id="7942921">,</span>&nbsp;<span class="ident" id="7942923">test</span>&nbsp;<span class="op" id="7942928">:=</span>&nbsp;<span class="keyword" id="7942931">range</span>&nbsp;<span class="ident" id="7942937">tests</span>&nbsp;<span class="op" id="7942943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7942947">if</span>&nbsp;<span class="ident" id="7942950">s</span>&nbsp;<span class="op" id="7942952">:=</span>&nbsp;<span class="ident" id="7942955">test</span><span class="op" id="7942959">.</span><span class="ident" id="7942960">escaper</span><span class="op" id="7942967">(</span><span class="ident" id="7942968">input</span><span class="op" id="7942973">)</span><span class="op" id="7942974">;</span>&nbsp;<span class="ident" id="7942976">s</span>&nbsp;<span class="op" id="7942978">!=</span>&nbsp;<span class="ident" id="7942981">test</span><span class="op" id="7942985">.</span><span class="ident" id="7942986">escaped</span>&nbsp;<span class="op" id="7942994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7942999">t</span><span class="op" id="7943000">.</span><span class="ident" id="7943001">Errorf</span><span class="op" id="7943007">(</span><span class="string" id="7943008">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="7943035">,</span>&nbsp;<span class="ident" id="7943037">test</span><span class="op" id="7943041">.</span><span class="ident" id="7943042">name</span><span class="op" id="7943046">,</span>&nbsp;<span class="ident" id="7943048">test</span><span class="op" id="7943052">.</span><span class="ident" id="7943053">escaped</span><span class="op" id="7943060">,</span>&nbsp;<span class="ident" id="7943062">s</span><span class="op" id="7943063">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7943068">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7943079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7943082">}</span><br>
<span class="lineno"></span><span class="op" id="7943084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7943087">func</span>&nbsp;<span class="ident" id="7943092">BenchmarkURLEscaper</span><span class="op" id="7943111">(</span><span class="ident" id="7943112">b</span>&nbsp;<span class="op" id="7943114">*</span><span class="ident" id="7943115">testing</span><span class="op" id="7943122">.</span><span class="ident" id="7943123">B</span><span class="op" id="7943124">)</span>&nbsp;<span class="op" id="7943126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7943129">for</span>&nbsp;<span class="ident" id="7943133">i</span>&nbsp;<span class="op" id="7943135">:=</span>&nbsp;<span class="num" id="7943138">0</span><span class="op" id="7943139">;</span>&nbsp;<span class="ident" id="7943141">i</span>&nbsp;<span class="op" id="7943143">&lt;</span>&nbsp;<span class="ident" id="7943145">b</span><span class="op" id="7943146">.</span><span class="ident" id="7943147">N</span><span class="op" id="7943148">;</span>&nbsp;<span class="ident" id="7943150">i</span><span class="op" id="7943151">++</span>&nbsp;<span class="op" id="7943154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7943158">urlEscaper</span><span class="op" id="7943168">(</span><span class="string" id="7943169">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7943218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7943221">}</span><br>
<span class="lineno"></span><span class="op" id="7943223">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="7943226">func</span>&nbsp;<span class="ident" id="7943231">BenchmarkURLEscaperNoSpecials</span><span class="op" id="7943260">(</span><span class="ident" id="7943261">b</span>&nbsp;<span class="op" id="7943263">*</span><span class="ident" id="7943264">testing</span><span class="op" id="7943271">.</span><span class="ident" id="7943272">B</span><span class="op" id="7943273">)</span>&nbsp;<span class="op" id="7943275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7943278">for</span>&nbsp;<span class="ident" id="7943282">i</span>&nbsp;<span class="op" id="7943284">:=</span>&nbsp;<span class="num" id="7943287">0</span><span class="op" id="7943288">;</span>&nbsp;<span class="ident" id="7943290">i</span>&nbsp;<span class="op" id="7943292">&lt;</span>&nbsp;<span class="ident" id="7943294">b</span><span class="op" id="7943295">.</span><span class="ident" id="7943296">N</span><span class="op" id="7943297">;</span>&nbsp;<span class="ident" id="7943299">i</span><span class="op" id="7943300">++</span>&nbsp;<span class="op" id="7943303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7943307">urlEscaper</span><span class="op" id="7943317">(</span><span class="string" id="7943318">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="7943356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7943359">}</span><br>
<span class="lineno">100</span><span class="op" id="7943361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7943364">func</span>&nbsp;<span class="ident" id="7943369">BenchmarkURLNormalizer</span><span class="op" id="7943391">(</span><span class="ident" id="7943392">b</span>&nbsp;<span class="op" id="7943394">*</span><span class="ident" id="7943395">testing</span><span class="op" id="7943402">.</span><span class="ident" id="7943403">B</span><span class="op" id="7943404">)</span>&nbsp;<span class="op" id="7943406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7943409">for</span>&nbsp;<span class="ident" id="7943413">i</span>&nbsp;<span class="op" id="7943415">:=</span>&nbsp;<span class="num" id="7943418">0</span><span class="op" id="7943419">;</span>&nbsp;<span class="ident" id="7943421">i</span>&nbsp;<span class="op" id="7943423">&lt;</span>&nbsp;<span class="ident" id="7943425">b</span><span class="op" id="7943426">.</span><span class="ident" id="7943427">N</span><span class="op" id="7943428">;</span>&nbsp;<span class="ident" id="7943430">i</span><span class="op" id="7943431">++</span>&nbsp;<span class="op" id="7943434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7943438">urlNormalizer</span><span class="op" id="7943451">(</span><span class="string" id="7943452">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="7943500">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7943503">}</span><br>
<span class="lineno"></span><span class="op" id="7943505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7943508">func</span>&nbsp;<span class="ident" id="7943513">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="7943545">(</span><span class="ident" id="7943546">b</span>&nbsp;<span class="op" id="7943548">*</span><span class="ident" id="7943549">testing</span><span class="op" id="7943556">.</span><span class="ident" id="7943557">B</span><span class="op" id="7943558">)</span>&nbsp;<span class="op" id="7943560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7943563">for</span>&nbsp;<span class="ident" id="7943567">i</span>&nbsp;<span class="op" id="7943569">:=</span>&nbsp;<span class="num" id="7943572">0</span><span class="op" id="7943573">;</span>&nbsp;<span class="ident" id="7943575">i</span>&nbsp;<span class="op" id="7943577">&lt;</span>&nbsp;<span class="ident" id="7943579">b</span><span class="op" id="7943580">.</span><span class="ident" id="7943581">N</span><span class="op" id="7943582">;</span>&nbsp;<span class="ident" id="7943584">i</span><span class="op" id="7943585">++</span>&nbsp;<span class="op" id="7943588">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7943592">urlNormalizer</span><span class="op" id="7943605">(</span><span class="string" id="7943606">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7943655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7943658">}</span><br>
<span class="lineno"></span><span class="op" id="7943660">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
