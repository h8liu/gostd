<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7762496">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7762551">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7762605">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7762656">package</span>&nbsp;<span class="ident" id="7762664">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7762669">import</span>&nbsp;<span class="op" id="7762676">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7762679">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7762688">&#34;encoding/gob&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7762704">&#34;encoding/json&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7762721">&#34;encoding/xml&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7762737">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7762744">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7762752">&#34;strconv&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7762763">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7762774">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7762784">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7762787">func</span>&nbsp;<span class="ident" id="7762792">TestZeroRat</span><span class="op" id="7762803">(</span><span class="ident" id="7762804">t</span>&nbsp;<span class="op" id="7762806">*</span><span class="ident" id="7762807"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7762814">.</span><span class="ident" id="7762815">T</span><span class="op" id="7762816">)</span>&nbsp;<span class="op" id="7762818">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762821">var</span>&nbsp;<span class="ident" id="7762825">x</span><span class="op" id="7762826">,</span>&nbsp;<span class="ident" id="7762828">y</span><span class="op" id="7762829">,</span>&nbsp;<span class="ident" id="7762831">z</span>&nbsp;<span class="ident" id="7762833"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762838"><a href="/math/big/rat_test.go.html#7762828">y</a></span><span class="op" id="7762839">.</span><span class="ident" id="7762840">SetFrac64</span><span class="op" id="7762849">(</span><span class="num" id="7762850">0</span><span class="op" id="7762851">,</span>&nbsp;<span class="num" id="7762853">42</span><span class="op" id="7762855">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762859">if</span>&nbsp;<span class="ident" id="7762862"><a href="/math/big/rat_test.go.html#7762825">x</a></span><span class="op" id="7762863">.</span><span class="ident" id="7762864">Cmp</span><span class="op" id="7762867">(</span><span class="op" id="7762868">&amp;</span><span class="ident" id="7762869"><a href="/math/big/rat_test.go.html#7762828">y</a></span><span class="op" id="7762870">)</span>&nbsp;<span class="op" id="7762872">!=</span>&nbsp;<span class="num" id="7762875">0</span>&nbsp;<span class="op" id="7762877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762881"><a href="/math/big/rat_test.go.html#7762804">t</a></span><span class="op" id="7762882">.</span><span class="ident" id="7762883">Errorf</span><span class="op" id="7762889">(</span><span class="string" id="7762890">&#34;x&nbsp;and&nbsp;y&nbsp;should&nbsp;be&nbsp;both&nbsp;equal&nbsp;and&nbsp;zero&#34;</span><span class="op" id="7762929">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7762932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7762936">if</span>&nbsp;<span class="ident" id="7762939">s</span>&nbsp;<span class="op" id="7762941">:=</span>&nbsp;<span class="ident" id="7762944"><a href="/math/big/rat_test.go.html#7762825">x</a></span><span class="op" id="7762945">.</span><span class="ident" id="7762946">String</span><span class="op" id="7762952">(</span><span class="op" id="7762953">)</span><span class="op" id="7762954">;</span>&nbsp;<span class="ident" id="7762956"><a href="/math/big/rat_test.go.html#7762939">s</a></span>&nbsp;<span class="op" id="7762958">!=</span>&nbsp;<span class="string" id="7762961">&#34;0/1&#34;</span>&nbsp;<span class="op" id="7762967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7762971"><a href="/math/big/rat_test.go.html#7762804">t</a></span><span class="op" id="7762972">.</span><span class="ident" id="7762973">Errorf</span><span class="op" id="7762979">(</span><span class="string" id="7762980">&#34;got&nbsp;x&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0/1&#34;</span><span class="op" id="7763002">,</span>&nbsp;<span class="ident" id="7763004"><a href="/math/big/rat_test.go.html#7762939">s</a></span><span class="op" id="7763005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763008">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763012">if</span>&nbsp;<span class="ident" id="7763015">s</span>&nbsp;<span class="op" id="7763017">:=</span>&nbsp;<span class="ident" id="7763020"><a href="/math/big/rat_test.go.html#7762825">x</a></span><span class="op" id="7763021">.</span><span class="ident" id="7763022">RatString</span><span class="op" id="7763031">(</span><span class="op" id="7763032">)</span><span class="op" id="7763033">;</span>&nbsp;<span class="ident" id="7763035"><a href="/math/big/rat_test.go.html#7763015">s</a></span>&nbsp;<span class="op" id="7763037">!=</span>&nbsp;<span class="string" id="7763040">&#34;0&#34;</span>&nbsp;<span class="op" id="7763044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763048"><a href="/math/big/rat_test.go.html#7762804">t</a></span><span class="op" id="7763049">.</span><span class="ident" id="7763050">Errorf</span><span class="op" id="7763056">(</span><span class="string" id="7763057">&#34;got&nbsp;x&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0&#34;</span><span class="op" id="7763077">,</span>&nbsp;<span class="ident" id="7763079"><a href="/math/big/rat_test.go.html#7763015">s</a></span><span class="op" id="7763080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763087"><a href="/math/big/rat_test.go.html#7762831">z</a></span><span class="op" id="7763088">.</span><span class="ident" id="7763089">Add</span><span class="op" id="7763092">(</span><span class="op" id="7763093">&amp;</span><span class="ident" id="7763094"><a href="/math/big/rat_test.go.html#7762825">x</a></span><span class="op" id="7763095">,</span>&nbsp;<span class="op" id="7763097">&amp;</span><span class="ident" id="7763098"><a href="/math/big/rat_test.go.html#7762828">y</a></span><span class="op" id="7763099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763102">if</span>&nbsp;<span class="ident" id="7763105">s</span>&nbsp;<span class="op" id="7763107">:=</span>&nbsp;<span class="ident" id="7763110"><a href="/math/big/rat_test.go.html#7762831">z</a></span><span class="op" id="7763111">.</span><span class="ident" id="7763112">RatString</span><span class="op" id="7763121">(</span><span class="op" id="7763122">)</span><span class="op" id="7763123">;</span>&nbsp;<span class="ident" id="7763125"><a href="/math/big/rat_test.go.html#7763105">s</a></span>&nbsp;<span class="op" id="7763127">!=</span>&nbsp;<span class="string" id="7763130">&#34;0&#34;</span>&nbsp;<span class="op" id="7763134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763138"><a href="/math/big/rat_test.go.html#7762804">t</a></span><span class="op" id="7763139">.</span><span class="ident" id="7763140">Errorf</span><span class="op" id="7763146">(</span><span class="string" id="7763147">&#34;got&nbsp;x+y&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0&#34;</span><span class="op" id="7763169">,</span>&nbsp;<span class="ident" id="7763171"><a href="/math/big/rat_test.go.html#7763105">s</a></span><span class="op" id="7763172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763179"><a href="/math/big/rat_test.go.html#7762831">z</a></span><span class="op" id="7763180">.</span><span class="ident" id="7763181">Sub</span><span class="op" id="7763184">(</span><span class="op" id="7763185">&amp;</span><span class="ident" id="7763186"><a href="/math/big/rat_test.go.html#7762825">x</a></span><span class="op" id="7763187">,</span>&nbsp;<span class="op" id="7763189">&amp;</span><span class="ident" id="7763190"><a href="/math/big/rat_test.go.html#7762828">y</a></span><span class="op" id="7763191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763194">if</span>&nbsp;<span class="ident" id="7763197">s</span>&nbsp;<span class="op" id="7763199">:=</span>&nbsp;<span class="ident" id="7763202"><a href="/math/big/rat_test.go.html#7762831">z</a></span><span class="op" id="7763203">.</span><span class="ident" id="7763204">RatString</span><span class="op" id="7763213">(</span><span class="op" id="7763214">)</span><span class="op" id="7763215">;</span>&nbsp;<span class="ident" id="7763217"><a href="/math/big/rat_test.go.html#7763197">s</a></span>&nbsp;<span class="op" id="7763219">!=</span>&nbsp;<span class="string" id="7763222">&#34;0&#34;</span>&nbsp;<span class="op" id="7763226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763230"><a href="/math/big/rat_test.go.html#7762804">t</a></span><span class="op" id="7763231">.</span><span class="ident" id="7763232">Errorf</span><span class="op" id="7763238">(</span><span class="string" id="7763239">&#34;got&nbsp;x-y&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0&#34;</span><span class="op" id="7763261">,</span>&nbsp;<span class="ident" id="7763263"><a href="/math/big/rat_test.go.html#7763197">s</a></span><span class="op" id="7763264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763271"><a href="/math/big/rat_test.go.html#7762831">z</a></span><span class="op" id="7763272">.</span><span class="ident" id="7763273">Mul</span><span class="op" id="7763276">(</span><span class="op" id="7763277">&amp;</span><span class="ident" id="7763278"><a href="/math/big/rat_test.go.html#7762825">x</a></span><span class="op" id="7763279">,</span>&nbsp;<span class="op" id="7763281">&amp;</span><span class="ident" id="7763282"><a href="/math/big/rat_test.go.html#7762828">y</a></span><span class="op" id="7763283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763286">if</span>&nbsp;<span class="ident" id="7763289">s</span>&nbsp;<span class="op" id="7763291">:=</span>&nbsp;<span class="ident" id="7763294"><a href="/math/big/rat_test.go.html#7762831">z</a></span><span class="op" id="7763295">.</span><span class="ident" id="7763296">RatString</span><span class="op" id="7763305">(</span><span class="op" id="7763306">)</span><span class="op" id="7763307">;</span>&nbsp;<span class="ident" id="7763309"><a href="/math/big/rat_test.go.html#7763289">s</a></span>&nbsp;<span class="op" id="7763311">!=</span>&nbsp;<span class="string" id="7763314">&#34;0&#34;</span>&nbsp;<span class="op" id="7763318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763322"><a href="/math/big/rat_test.go.html#7762804">t</a></span><span class="op" id="7763323">.</span><span class="ident" id="7763324">Errorf</span><span class="op" id="7763330">(</span><span class="string" id="7763331">&#34;got&nbsp;x*y&nbsp;=&nbsp;%s,&nbsp;want&nbsp;0&#34;</span><span class="op" id="7763353">,</span>&nbsp;<span class="ident" id="7763355"><a href="/math/big/rat_test.go.html#7763289">s</a></span><span class="op" id="7763356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7763363">//&nbsp;check&nbsp;for&nbsp;division&nbsp;by&nbsp;zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763394">defer</span>&nbsp;<span class="keyword" id="7763400">func</span><span class="op" id="7763404">(</span><span class="op" id="7763405">)</span>&nbsp;<span class="op" id="7763407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7763411">if</span>&nbsp;<span class="ident" id="7763414">s</span>&nbsp;<span class="op" id="7763416">:=</span>&nbsp;<span class="builtinfunc" id="7763419">recover</span><span class="op" id="7763426">(</span><span class="op" id="7763427">)</span><span class="op" id="7763428">;</span>&nbsp;<span class="ident" id="7763430"><a href="/math/big/rat_test.go.html#7763414">s</a></span>&nbsp;<span class="op" id="7763432">==</span>&nbsp;<span class="ident" id="7763435">nil</span>&nbsp;<span class="op" id="7763439">||</span>&nbsp;<span class="ident" id="7763442"><a href="/math/big/rat_test.go.html#7763414">s</a></span><span class="op" id="7763443">.</span><span class="op" id="7763444">(</span><span class="builtintype" id="7763445">string</span><span class="op" id="7763451">)</span>&nbsp;<span class="op" id="7763453">!=</span>&nbsp;<span class="string" id="7763456">&#34;division&nbsp;by&nbsp;zero&#34;</span>&nbsp;<span class="op" id="7763475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7763480">panic</span><span class="op" id="7763485">(</span><span class="ident" id="7763486"><a href="/math/big/rat_test.go.html#7763414">s</a></span><span class="op" id="7763487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763491">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763494">}</span><span class="op" id="7763495">(</span><span class="op" id="7763496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763499"><a href="/math/big/rat_test.go.html#7762831">z</a></span><span class="op" id="7763500">.</span><span class="ident" id="7763501">Quo</span><span class="op" id="7763504">(</span><span class="op" id="7763505">&amp;</span><span class="ident" id="7763506"><a href="/math/big/rat_test.go.html#7762825">x</a></span><span class="op" id="7763507">,</span>&nbsp;<span class="op" id="7763509">&amp;</span><span class="ident" id="7763510"><a href="/math/big/rat_test.go.html#7762828">y</a></span><span class="op" id="7763511">)</span><br>
<span class="lineno"></span><span class="op" id="7763513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7763516">var</span>&nbsp;<span class="ident" id="7763520">setStringTests</span>&nbsp;<span class="op" id="7763535">=</span>&nbsp;<span class="op" id="7763537">[</span><span class="op" id="7763538">]</span><span class="keyword" id="7763539">struct</span>&nbsp;<span class="op" id="7763546">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763549">in</span><span class="op" id="7763551">,</span>&nbsp;<span class="ident" id="7763553">out</span>&nbsp;<span class="builtintype" id="7763557">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7763565">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7763573">bool</span><br>
<span class="lineno"></span><span class="op" id="7763578">}</span><span class="op" id="7763579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763582">{</span><span class="string" id="7763583">&#34;0&#34;</span><span class="op" id="7763586">,</span>&nbsp;<span class="string" id="7763588">&#34;0&#34;</span><span class="op" id="7763591">,</span>&nbsp;<span class="ident" id="7763593">true</span><span class="op" id="7763597">}</span><span class="op" id="7763598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763601">{</span><span class="string" id="7763602">&#34;-0&#34;</span><span class="op" id="7763606">,</span>&nbsp;<span class="string" id="7763608">&#34;0&#34;</span><span class="op" id="7763611">,</span>&nbsp;<span class="ident" id="7763613">true</span><span class="op" id="7763617">}</span><span class="op" id="7763618">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763621">{</span><span class="string" id="7763622">&#34;1&#34;</span><span class="op" id="7763625">,</span>&nbsp;<span class="string" id="7763627">&#34;1&#34;</span><span class="op" id="7763630">,</span>&nbsp;<span class="ident" id="7763632">true</span><span class="op" id="7763636">}</span><span class="op" id="7763637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763640">{</span><span class="string" id="7763641">&#34;-1&#34;</span><span class="op" id="7763645">,</span>&nbsp;<span class="string" id="7763647">&#34;-1&#34;</span><span class="op" id="7763651">,</span>&nbsp;<span class="ident" id="7763653">true</span><span class="op" id="7763657">}</span><span class="op" id="7763658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763661">{</span><span class="string" id="7763662">&#34;1.&#34;</span><span class="op" id="7763666">,</span>&nbsp;<span class="string" id="7763668">&#34;1&#34;</span><span class="op" id="7763671">,</span>&nbsp;<span class="ident" id="7763673">true</span><span class="op" id="7763677">}</span><span class="op" id="7763678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763681">{</span><span class="string" id="7763682">&#34;1e0&#34;</span><span class="op" id="7763687">,</span>&nbsp;<span class="string" id="7763689">&#34;1&#34;</span><span class="op" id="7763692">,</span>&nbsp;<span class="ident" id="7763694">true</span><span class="op" id="7763698">}</span><span class="op" id="7763699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763702">{</span><span class="string" id="7763703">&#34;1.e1&#34;</span><span class="op" id="7763709">,</span>&nbsp;<span class="string" id="7763711">&#34;10&#34;</span><span class="op" id="7763715">,</span>&nbsp;<span class="ident" id="7763717">true</span><span class="op" id="7763721">}</span><span class="op" id="7763722">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763725">{</span><span class="ident" id="7763726">in</span><span class="op" id="7763728">:</span>&nbsp;<span class="string" id="7763730">&#34;1e&#34;</span><span class="op" id="7763734">,</span>&nbsp;<span class="ident" id="7763736">ok</span><span class="op" id="7763738">:</span>&nbsp;<span class="ident" id="7763740">false</span><span class="op" id="7763745">}</span><span class="op" id="7763746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763749">{</span><span class="ident" id="7763750">in</span><span class="op" id="7763752">:</span>&nbsp;<span class="string" id="7763754">&#34;1.e&#34;</span><span class="op" id="7763759">,</span>&nbsp;<span class="ident" id="7763761">ok</span><span class="op" id="7763763">:</span>&nbsp;<span class="ident" id="7763765">false</span><span class="op" id="7763770">}</span><span class="op" id="7763771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763774">{</span><span class="ident" id="7763775">in</span><span class="op" id="7763777">:</span>&nbsp;<span class="string" id="7763779">&#34;1e+14e-5&#34;</span><span class="op" id="7763789">,</span>&nbsp;<span class="ident" id="7763791">ok</span><span class="op" id="7763793">:</span>&nbsp;<span class="ident" id="7763795">false</span><span class="op" id="7763800">}</span><span class="op" id="7763801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763804">{</span><span class="ident" id="7763805">in</span><span class="op" id="7763807">:</span>&nbsp;<span class="string" id="7763809">&#34;1e4.5&#34;</span><span class="op" id="7763816">,</span>&nbsp;<span class="ident" id="7763818">ok</span><span class="op" id="7763820">:</span>&nbsp;<span class="ident" id="7763822">false</span><span class="op" id="7763827">}</span><span class="op" id="7763828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763831">{</span><span class="ident" id="7763832">in</span><span class="op" id="7763834">:</span>&nbsp;<span class="string" id="7763836">&#34;r&#34;</span><span class="op" id="7763839">,</span>&nbsp;<span class="ident" id="7763841">ok</span><span class="op" id="7763843">:</span>&nbsp;<span class="ident" id="7763845">false</span><span class="op" id="7763850">}</span><span class="op" id="7763851">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763854">{</span><span class="ident" id="7763855">in</span><span class="op" id="7763857">:</span>&nbsp;<span class="string" id="7763859">&#34;a/b&#34;</span><span class="op" id="7763864">,</span>&nbsp;<span class="ident" id="7763866">ok</span><span class="op" id="7763868">:</span>&nbsp;<span class="ident" id="7763870">false</span><span class="op" id="7763875">}</span><span class="op" id="7763876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763879">{</span><span class="ident" id="7763880">in</span><span class="op" id="7763882">:</span>&nbsp;<span class="string" id="7763884">&#34;a.b&#34;</span><span class="op" id="7763889">,</span>&nbsp;<span class="ident" id="7763891">ok</span><span class="op" id="7763893">:</span>&nbsp;<span class="ident" id="7763895">false</span><span class="op" id="7763900">}</span><span class="op" id="7763901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763904">{</span><span class="string" id="7763905">&#34;-0.1&#34;</span><span class="op" id="7763911">,</span>&nbsp;<span class="string" id="7763913">&#34;-1/10&#34;</span><span class="op" id="7763920">,</span>&nbsp;<span class="ident" id="7763922">true</span><span class="op" id="7763926">}</span><span class="op" id="7763927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763930">{</span><span class="string" id="7763931">&#34;-.1&#34;</span><span class="op" id="7763936">,</span>&nbsp;<span class="string" id="7763938">&#34;-1/10&#34;</span><span class="op" id="7763945">,</span>&nbsp;<span class="ident" id="7763947">true</span><span class="op" id="7763951">}</span><span class="op" id="7763952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763955">{</span><span class="string" id="7763956">&#34;2/4&#34;</span><span class="op" id="7763961">,</span>&nbsp;<span class="string" id="7763963">&#34;1/2&#34;</span><span class="op" id="7763968">,</span>&nbsp;<span class="ident" id="7763970">true</span><span class="op" id="7763974">}</span><span class="op" id="7763975">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7763978">{</span><span class="string" id="7763979">&#34;.25&#34;</span><span class="op" id="7763984">,</span>&nbsp;<span class="string" id="7763986">&#34;1/4&#34;</span><span class="op" id="7763991">,</span>&nbsp;<span class="ident" id="7763993">true</span><span class="op" id="7763997">}</span><span class="op" id="7763998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764001">{</span><span class="string" id="7764002">&#34;-1/5&#34;</span><span class="op" id="7764008">,</span>&nbsp;<span class="string" id="7764010">&#34;-1/5&#34;</span><span class="op" id="7764016">,</span>&nbsp;<span class="ident" id="7764018">true</span><span class="op" id="7764022">}</span><span class="op" id="7764023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764026">{</span><span class="string" id="7764027">&#34;8129567.7690E14&#34;</span><span class="op" id="7764044">,</span>&nbsp;<span class="string" id="7764046">&#34;812956776900000000000&#34;</span><span class="op" id="7764069">,</span>&nbsp;<span class="ident" id="7764071">true</span><span class="op" id="7764075">}</span><span class="op" id="7764076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764079">{</span><span class="string" id="7764080">&#34;78189e+4&#34;</span><span class="op" id="7764090">,</span>&nbsp;<span class="string" id="7764092">&#34;781890000&#34;</span><span class="op" id="7764103">,</span>&nbsp;<span class="ident" id="7764105">true</span><span class="op" id="7764109">}</span><span class="op" id="7764110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764113">{</span><span class="string" id="7764114">&#34;553019.8935e+8&#34;</span><span class="op" id="7764130">,</span>&nbsp;<span class="string" id="7764132">&#34;55301989350000&#34;</span><span class="op" id="7764148">,</span>&nbsp;<span class="ident" id="7764150">true</span><span class="op" id="7764154">}</span><span class="op" id="7764155">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764158">{</span><span class="string" id="7764159">&#34;98765432109876543210987654321e-10&#34;</span><span class="op" id="7764194">,</span>&nbsp;<span class="string" id="7764196">&#34;98765432109876543210987654321/10000000000&#34;</span><span class="op" id="7764239">,</span>&nbsp;<span class="ident" id="7764241">true</span><span class="op" id="7764245">}</span><span class="op" id="7764246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764249">{</span><span class="string" id="7764250">&#34;9877861857500000E-7&#34;</span><span class="op" id="7764271">,</span>&nbsp;<span class="string" id="7764273">&#34;3951144743/4&#34;</span><span class="op" id="7764287">,</span>&nbsp;<span class="ident" id="7764289">true</span><span class="op" id="7764293">}</span><span class="op" id="7764294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764297">{</span><span class="string" id="7764298">&#34;2169378.417e-3&#34;</span><span class="op" id="7764314">,</span>&nbsp;<span class="string" id="7764316">&#34;2169378417/1000000&#34;</span><span class="op" id="7764336">,</span>&nbsp;<span class="ident" id="7764338">true</span><span class="op" id="7764342">}</span><span class="op" id="7764343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764346">{</span><span class="string" id="7764347">&#34;884243222337379604041632732738665534&#34;</span><span class="op" id="7764385">,</span>&nbsp;<span class="string" id="7764387">&#34;884243222337379604041632732738665534&#34;</span><span class="op" id="7764425">,</span>&nbsp;<span class="ident" id="7764427">true</span><span class="op" id="7764431">}</span><span class="op" id="7764432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764435">{</span><span class="string" id="7764436">&#34;53/70893980658822810696&#34;</span><span class="op" id="7764461">,</span>&nbsp;<span class="string" id="7764463">&#34;53/70893980658822810696&#34;</span><span class="op" id="7764488">,</span>&nbsp;<span class="ident" id="7764490">true</span><span class="op" id="7764494">}</span><span class="op" id="7764495">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764498">{</span><span class="string" id="7764499">&#34;106/141787961317645621392&#34;</span><span class="op" id="7764526">,</span>&nbsp;<span class="string" id="7764528">&#34;53/70893980658822810696&#34;</span><span class="op" id="7764553">,</span>&nbsp;<span class="ident" id="7764555">true</span><span class="op" id="7764559">}</span><span class="op" id="7764560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764563">{</span><span class="string" id="7764564">&#34;204211327800791583.81095&#34;</span><span class="op" id="7764590">,</span>&nbsp;<span class="string" id="7764592">&#34;4084226556015831676219/20000&#34;</span><span class="op" id="7764622">,</span>&nbsp;<span class="ident" id="7764624">true</span><span class="op" id="7764628">}</span><span class="op" id="7764629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764632">{</span><span class="ident" id="7764633">in</span><span class="op" id="7764635">:</span>&nbsp;<span class="string" id="7764637">&#34;1/0&#34;</span><span class="op" id="7764642">,</span>&nbsp;<span class="ident" id="7764644">ok</span><span class="op" id="7764646">:</span>&nbsp;<span class="ident" id="7764648">false</span><span class="op" id="7764653">}</span><span class="op" id="7764654">,</span><br>
<span class="lineno"></span><span class="op" id="7764656">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7764659">func</span>&nbsp;<span class="ident" id="7764664">TestRatSetString</span><span class="op" id="7764680">(</span><span class="ident" id="7764681">t</span>&nbsp;<span class="op" id="7764683">*</span><span class="ident" id="7764684"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7764691">.</span><span class="ident" id="7764692">T</span><span class="op" id="7764693">)</span>&nbsp;<span class="op" id="7764695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764698">for</span>&nbsp;<span class="ident" id="7764702">i</span><span class="op" id="7764703">,</span>&nbsp;<span class="ident" id="7764705">test</span>&nbsp;<span class="op" id="7764710">:=</span>&nbsp;<span class="keyword" id="7764713">range</span>&nbsp;<span class="ident" id="7764719"><a href="/math/big/rat_test.go.html#7763520">setStringTests</a></span>&nbsp;<span class="op" id="7764734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764738">x</span><span class="op" id="7764739">,</span>&nbsp;<span class="ident" id="7764741">ok</span>&nbsp;<span class="op" id="7764744">:=</span>&nbsp;<span class="builtinfunc" id="7764747">new</span><span class="op" id="7764750">(</span><span class="ident" id="7764751"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7764754">)</span><span class="op" id="7764755">.</span><span class="ident" id="7764756">SetString</span><span class="op" id="7764765">(</span><span class="ident" id="7764766"><a href="/math/big/rat_test.go.html#7764705">test</a></span><span class="op" id="7764770">.</span><span class="ident" id="7764771">in</span><span class="op" id="7764773">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764778">if</span>&nbsp;<span class="ident" id="7764781"><a href="/math/big/rat_test.go.html#7764741">ok</a></span>&nbsp;<span class="op" id="7764784">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7764789">if</span>&nbsp;<span class="op" id="7764792">!</span><span class="ident" id="7764793"><a href="/math/big/rat_test.go.html#7764705">test</a></span><span class="op" id="7764797">.</span><span class="ident" id="7764798">ok</span>&nbsp;<span class="op" id="7764801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764807"><a href="/math/big/rat_test.go.html#7764681">t</a></span><span class="op" id="7764808">.</span><span class="ident" id="7764809">Errorf</span><span class="op" id="7764815">(</span><span class="string" id="7764816">&#34;#%d&nbsp;SetString(%q)&nbsp;expected&nbsp;failure&#34;</span><span class="op" id="7764852">,</span>&nbsp;<span class="ident" id="7764854"><a href="/math/big/rat_test.go.html#7764702">i</a></span><span class="op" id="7764855">,</span>&nbsp;<span class="ident" id="7764857"><a href="/math/big/rat_test.go.html#7764705">test</a></span><span class="op" id="7764861">.</span><span class="ident" id="7764862">in</span><span class="op" id="7764864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764869">}</span>&nbsp;<span class="keyword" id="7764871">else</span>&nbsp;<span class="keyword" id="7764876">if</span>&nbsp;<span class="ident" id="7764879"><a href="/math/big/rat_test.go.html#7764738">x</a></span><span class="op" id="7764880">.</span><span class="ident" id="7764881">RatString</span><span class="op" id="7764890">(</span><span class="op" id="7764891">)</span>&nbsp;<span class="op" id="7764893">!=</span>&nbsp;<span class="ident" id="7764896"><a href="/math/big/rat_test.go.html#7764705">test</a></span><span class="op" id="7764900">.</span><span class="ident" id="7764901">out</span>&nbsp;<span class="op" id="7764905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7764911"><a href="/math/big/rat_test.go.html#7764681">t</a></span><span class="op" id="7764912">.</span><span class="ident" id="7764913">Errorf</span><span class="op" id="7764919">(</span><span class="string" id="7764920">&#34;#%d&nbsp;SetString(%q)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7764954">,</span>&nbsp;<span class="ident" id="7764956"><a href="/math/big/rat_test.go.html#7764702">i</a></span><span class="op" id="7764957">,</span>&nbsp;<span class="ident" id="7764959"><a href="/math/big/rat_test.go.html#7764705">test</a></span><span class="op" id="7764963">.</span><span class="ident" id="7764964">in</span><span class="op" id="7764966">,</span>&nbsp;<span class="ident" id="7764968"><a href="/math/big/rat_test.go.html#7764738">x</a></span><span class="op" id="7764969">.</span><span class="ident" id="7764970">RatString</span><span class="op" id="7764979">(</span><span class="op" id="7764980">)</span><span class="op" id="7764981">,</span>&nbsp;<span class="ident" id="7764983"><a href="/math/big/rat_test.go.html#7764705">test</a></span><span class="op" id="7764987">.</span><span class="ident" id="7764988">out</span><span class="op" id="7764991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7764996">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765000">}</span>&nbsp;<span class="keyword" id="7765002">else</span>&nbsp;<span class="keyword" id="7765007">if</span>&nbsp;<span class="ident" id="7765010"><a href="/math/big/rat_test.go.html#7764738">x</a></span>&nbsp;<span class="op" id="7765012">!=</span>&nbsp;<span class="ident" id="7765015">nil</span>&nbsp;<span class="op" id="7765019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765024"><a href="/math/big/rat_test.go.html#7764681">t</a></span><span class="op" id="7765025">.</span><span class="ident" id="7765026">Errorf</span><span class="op" id="7765032">(</span><span class="string" id="7765033">&#34;#%d&nbsp;SetString(%q)&nbsp;got&nbsp;%p&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7765068">,</span>&nbsp;<span class="ident" id="7765070"><a href="/math/big/rat_test.go.html#7764702">i</a></span><span class="op" id="7765071">,</span>&nbsp;<span class="ident" id="7765073"><a href="/math/big/rat_test.go.html#7764705">test</a></span><span class="op" id="7765077">.</span><span class="ident" id="7765078">in</span><span class="op" id="7765080">,</span>&nbsp;<span class="ident" id="7765082"><a href="/math/big/rat_test.go.html#7764738">x</a></span><span class="op" id="7765083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765090">}</span><br>
<span class="lineno"></span><span class="op" id="7765092">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7765095">func</span>&nbsp;<span class="ident" id="7765100">TestRatScan</span><span class="op" id="7765111">(</span><span class="ident" id="7765112">t</span>&nbsp;<span class="op" id="7765114">*</span><span class="ident" id="7765115"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7765122">.</span><span class="ident" id="7765123">T</span><span class="op" id="7765124">)</span>&nbsp;<span class="op" id="7765126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765129">var</span>&nbsp;<span class="ident" id="7765133">buf</span>&nbsp;<span class="ident" id="7765137"><a href="/math/big/rat_test.go.html#7762679">bytes</a></span><span class="op" id="7765142">.</span><span class="ident" id="7765143">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765151">for</span>&nbsp;<span class="ident" id="7765155">i</span><span class="op" id="7765156">,</span>&nbsp;<span class="ident" id="7765158">test</span>&nbsp;<span class="op" id="7765163">:=</span>&nbsp;<span class="keyword" id="7765166">range</span>&nbsp;<span class="ident" id="7765172"><a href="/math/big/rat_test.go.html#7763520">setStringTests</a></span>&nbsp;<span class="op" id="7765187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765191">x</span>&nbsp;<span class="op" id="7765193">:=</span>&nbsp;<span class="builtinfunc" id="7765196">new</span><span class="op" id="7765199">(</span><span class="ident" id="7765200"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7765203">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765207"><a href="/math/big/rat_test.go.html#7765133">buf</a></span><span class="op" id="7765210">.</span><span class="ident" id="7765211">Reset</span><span class="op" id="7765216">(</span><span class="op" id="7765217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765221"><a href="/math/big/rat_test.go.html#7765133">buf</a></span><span class="op" id="7765224">.</span><span class="ident" id="7765225">WriteString</span><span class="op" id="7765236">(</span><span class="ident" id="7765237"><a href="/math/big/rat_test.go.html#7765158">test</a></span><span class="op" id="7765241">.</span><span class="ident" id="7765242">in</span><span class="op" id="7765244">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765249">_</span><span class="op" id="7765250">,</span>&nbsp;<span class="ident" id="7765252">err</span>&nbsp;<span class="op" id="7765256">:=</span>&nbsp;<span class="ident" id="7765259"><a href="/math/big/rat_test.go.html#7762737">fmt</a></span><span class="op" id="7765262">.</span><span class="ident" id="7765263">Fscanf</span><span class="op" id="7765269">(</span><span class="op" id="7765270">&amp;</span><span class="ident" id="7765271"><a href="/math/big/rat_test.go.html#7765133">buf</a></span><span class="op" id="7765274">,</span>&nbsp;<span class="string" id="7765276">&#34;%v&#34;</span><span class="op" id="7765280">,</span>&nbsp;<span class="ident" id="7765282"><a href="/math/big/rat_test.go.html#7765191">x</a></span><span class="op" id="7765283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765287">if</span>&nbsp;<span class="ident" id="7765290"><a href="/math/big/rat_test.go.html#7765252">err</a></span>&nbsp;<span class="op" id="7765294">==</span>&nbsp;<span class="ident" id="7765297">nil</span>&nbsp;<span class="op" id="7765301">!=</span>&nbsp;<span class="ident" id="7765304"><a href="/math/big/rat_test.go.html#7765158">test</a></span><span class="op" id="7765308">.</span><span class="ident" id="7765309">ok</span>&nbsp;<span class="op" id="7765312">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765317">if</span>&nbsp;<span class="ident" id="7765320"><a href="/math/big/rat_test.go.html#7765158">test</a></span><span class="op" id="7765324">.</span><span class="ident" id="7765325">ok</span>&nbsp;<span class="op" id="7765328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765334"><a href="/math/big/rat_test.go.html#7765112">t</a></span><span class="op" id="7765335">.</span><span class="ident" id="7765336">Errorf</span><span class="op" id="7765342">(</span><span class="string" id="7765343">&#34;#%d&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7765358">,</span>&nbsp;<span class="ident" id="7765360"><a href="/math/big/rat_test.go.html#7765155">i</a></span><span class="op" id="7765361">,</span>&nbsp;<span class="ident" id="7765363"><a href="/math/big/rat_test.go.html#7765252">err</a></span><span class="op" id="7765366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765371">}</span>&nbsp;<span class="keyword" id="7765373">else</span>&nbsp;<span class="op" id="7765378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765384"><a href="/math/big/rat_test.go.html#7765112">t</a></span><span class="op" id="7765385">.</span><span class="ident" id="7765386">Errorf</span><span class="op" id="7765392">(</span><span class="string" id="7765393">&#34;#%d&nbsp;expected&nbsp;error&#34;</span><span class="op" id="7765413">,</span>&nbsp;<span class="ident" id="7765415"><a href="/math/big/rat_test.go.html#7765155">i</a></span><span class="op" id="7765416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765421">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765426">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765441">if</span>&nbsp;<span class="ident" id="7765444"><a href="/math/big/rat_test.go.html#7765252">err</a></span>&nbsp;<span class="op" id="7765448">==</span>&nbsp;<span class="ident" id="7765451">nil</span>&nbsp;<span class="op" id="7765455">&amp;&amp;</span>&nbsp;<span class="ident" id="7765458"><a href="/math/big/rat_test.go.html#7765191">x</a></span><span class="op" id="7765459">.</span><span class="ident" id="7765460">RatString</span><span class="op" id="7765469">(</span><span class="op" id="7765470">)</span>&nbsp;<span class="op" id="7765472">!=</span>&nbsp;<span class="ident" id="7765475"><a href="/math/big/rat_test.go.html#7765158">test</a></span><span class="op" id="7765479">.</span><span class="ident" id="7765480">out</span>&nbsp;<span class="op" id="7765484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765489"><a href="/math/big/rat_test.go.html#7765112">t</a></span><span class="op" id="7765490">.</span><span class="ident" id="7765491">Errorf</span><span class="op" id="7765497">(</span><span class="string" id="7765498">&#34;#%d&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7765518">,</span>&nbsp;<span class="ident" id="7765520"><a href="/math/big/rat_test.go.html#7765155">i</a></span><span class="op" id="7765521">,</span>&nbsp;<span class="ident" id="7765523"><a href="/math/big/rat_test.go.html#7765191">x</a></span><span class="op" id="7765524">.</span><span class="ident" id="7765525">RatString</span><span class="op" id="7765534">(</span><span class="op" id="7765535">)</span><span class="op" id="7765536">,</span>&nbsp;<span class="ident" id="7765538"><a href="/math/big/rat_test.go.html#7765158">test</a></span><span class="op" id="7765542">.</span><span class="ident" id="7765543">out</span><span class="op" id="7765546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765550">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765553">}</span><br>
<span class="lineno"></span><span class="op" id="7765555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7765558">var</span>&nbsp;<span class="ident" id="7765562">floatStringTests</span>&nbsp;<span class="op" id="7765579">=</span>&nbsp;<span class="op" id="7765581">[</span><span class="op" id="7765582">]</span><span class="keyword" id="7765583">struct</span>&nbsp;<span class="op" id="7765590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765593">in</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7765598">string</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765606">prec</span>&nbsp;<span class="builtintype" id="7765611">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7765616">out</span>&nbsp;&nbsp;<span class="builtintype" id="7765621">string</span><br>
<span class="lineno"></span><span class="op" id="7765628">}</span><span class="op" id="7765629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765632">{</span><span class="string" id="7765633">&#34;0&#34;</span><span class="op" id="7765636">,</span>&nbsp;<span class="num" id="7765638">0</span><span class="op" id="7765639">,</span>&nbsp;<span class="string" id="7765641">&#34;0&#34;</span><span class="op" id="7765644">}</span><span class="op" id="7765645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765648">{</span><span class="string" id="7765649">&#34;0&#34;</span><span class="op" id="7765652">,</span>&nbsp;<span class="num" id="7765654">4</span><span class="op" id="7765655">,</span>&nbsp;<span class="string" id="7765657">&#34;0.0000&#34;</span><span class="op" id="7765665">}</span><span class="op" id="7765666">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765669">{</span><span class="string" id="7765670">&#34;1&#34;</span><span class="op" id="7765673">,</span>&nbsp;<span class="num" id="7765675">0</span><span class="op" id="7765676">,</span>&nbsp;<span class="string" id="7765678">&#34;1&#34;</span><span class="op" id="7765681">}</span><span class="op" id="7765682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765685">{</span><span class="string" id="7765686">&#34;1&#34;</span><span class="op" id="7765689">,</span>&nbsp;<span class="num" id="7765691">2</span><span class="op" id="7765692">,</span>&nbsp;<span class="string" id="7765694">&#34;1.00&#34;</span><span class="op" id="7765700">}</span><span class="op" id="7765701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765704">{</span><span class="string" id="7765705">&#34;-1&#34;</span><span class="op" id="7765709">,</span>&nbsp;<span class="num" id="7765711">0</span><span class="op" id="7765712">,</span>&nbsp;<span class="string" id="7765714">&#34;-1&#34;</span><span class="op" id="7765718">}</span><span class="op" id="7765719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765722">{</span><span class="string" id="7765723">&#34;.25&#34;</span><span class="op" id="7765728">,</span>&nbsp;<span class="num" id="7765730">2</span><span class="op" id="7765731">,</span>&nbsp;<span class="string" id="7765733">&#34;0.25&#34;</span><span class="op" id="7765739">}</span><span class="op" id="7765740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765743">{</span><span class="string" id="7765744">&#34;.25&#34;</span><span class="op" id="7765749">,</span>&nbsp;<span class="num" id="7765751">1</span><span class="op" id="7765752">,</span>&nbsp;<span class="string" id="7765754">&#34;0.3&#34;</span><span class="op" id="7765759">}</span><span class="op" id="7765760">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765763">{</span><span class="string" id="7765764">&#34;.25&#34;</span><span class="op" id="7765769">,</span>&nbsp;<span class="num" id="7765771">3</span><span class="op" id="7765772">,</span>&nbsp;<span class="string" id="7765774">&#34;0.250&#34;</span><span class="op" id="7765781">}</span><span class="op" id="7765782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765785">{</span><span class="string" id="7765786">&#34;-1/3&#34;</span><span class="op" id="7765792">,</span>&nbsp;<span class="num" id="7765794">3</span><span class="op" id="7765795">,</span>&nbsp;<span class="string" id="7765797">&#34;-0.333&#34;</span><span class="op" id="7765805">}</span><span class="op" id="7765806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765809">{</span><span class="string" id="7765810">&#34;-2/3&#34;</span><span class="op" id="7765816">,</span>&nbsp;<span class="num" id="7765818">4</span><span class="op" id="7765819">,</span>&nbsp;<span class="string" id="7765821">&#34;-0.6667&#34;</span><span class="op" id="7765830">}</span><span class="op" id="7765831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765834">{</span><span class="string" id="7765835">&#34;0.96&#34;</span><span class="op" id="7765841">,</span>&nbsp;<span class="num" id="7765843">1</span><span class="op" id="7765844">,</span>&nbsp;<span class="string" id="7765846">&#34;1.0&#34;</span><span class="op" id="7765851">}</span><span class="op" id="7765852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765855">{</span><span class="string" id="7765856">&#34;0.999&#34;</span><span class="op" id="7765863">,</span>&nbsp;<span class="num" id="7765865">2</span><span class="op" id="7765866">,</span>&nbsp;<span class="string" id="7765868">&#34;1.00&#34;</span><span class="op" id="7765874">}</span><span class="op" id="7765875">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765878">{</span><span class="string" id="7765879">&#34;0.9&#34;</span><span class="op" id="7765884">,</span>&nbsp;<span class="num" id="7765886">0</span><span class="op" id="7765887">,</span>&nbsp;<span class="string" id="7765889">&#34;1&#34;</span><span class="op" id="7765892">}</span><span class="op" id="7765893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765896">{</span><span class="string" id="7765897">&#34;.25&#34;</span><span class="op" id="7765902">,</span>&nbsp;<span class="op" id="7765904">-</span><span class="num" id="7765905">1</span><span class="op" id="7765906">,</span>&nbsp;<span class="string" id="7765908">&#34;0&#34;</span><span class="op" id="7765911">}</span><span class="op" id="7765912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7765915">{</span><span class="string" id="7765916">&#34;.55&#34;</span><span class="op" id="7765921">,</span>&nbsp;<span class="op" id="7765923">-</span><span class="num" id="7765924">1</span><span class="op" id="7765925">,</span>&nbsp;<span class="string" id="7765927">&#34;1&#34;</span><span class="op" id="7765930">}</span><span class="op" id="7765931">,</span><br>
<span class="lineno"></span><span class="op" id="7765933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="7765936">func</span>&nbsp;<span class="ident" id="7765941">TestFloatString</span><span class="op" id="7765956">(</span><span class="ident" id="7765957">t</span>&nbsp;<span class="op" id="7765959">*</span><span class="ident" id="7765960"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7765967">.</span><span class="ident" id="7765968">T</span><span class="op" id="7765969">)</span>&nbsp;<span class="op" id="7765971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7765974">for</span>&nbsp;<span class="ident" id="7765978">i</span><span class="op" id="7765979">,</span>&nbsp;<span class="ident" id="7765981">test</span>&nbsp;<span class="op" id="7765986">:=</span>&nbsp;<span class="keyword" id="7765989">range</span>&nbsp;<span class="ident" id="7765995"><a href="/math/big/rat_test.go.html#7765562">floatStringTests</a></span>&nbsp;<span class="op" id="7766012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766016">x</span><span class="op" id="7766017">,</span>&nbsp;<span class="ident" id="7766019">_</span>&nbsp;<span class="op" id="7766021">:=</span>&nbsp;<span class="builtinfunc" id="7766024">new</span><span class="op" id="7766027">(</span><span class="ident" id="7766028"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7766031">)</span><span class="op" id="7766032">.</span><span class="ident" id="7766033">SetString</span><span class="op" id="7766042">(</span><span class="ident" id="7766043"><a href="/math/big/rat_test.go.html#7765981">test</a></span><span class="op" id="7766047">.</span><span class="ident" id="7766048">in</span><span class="op" id="7766050">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766055">if</span>&nbsp;<span class="ident" id="7766058"><a href="/math/big/rat_test.go.html#7766016">x</a></span><span class="op" id="7766059">.</span><span class="ident" id="7766060">FloatString</span><span class="op" id="7766071">(</span><span class="ident" id="7766072"><a href="/math/big/rat_test.go.html#7765981">test</a></span><span class="op" id="7766076">.</span><span class="ident" id="7766077">prec</span><span class="op" id="7766081">)</span>&nbsp;<span class="op" id="7766083">!=</span>&nbsp;<span class="ident" id="7766086"><a href="/math/big/rat_test.go.html#7765981">test</a></span><span class="op" id="7766090">.</span><span class="ident" id="7766091">out</span>&nbsp;<span class="op" id="7766095">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766100"><a href="/math/big/rat_test.go.html#7765957">t</a></span><span class="op" id="7766101">.</span><span class="ident" id="7766102">Errorf</span><span class="op" id="7766108">(</span><span class="string" id="7766109">&#34;#%d&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7766129">,</span>&nbsp;<span class="ident" id="7766131"><a href="/math/big/rat_test.go.html#7765978">i</a></span><span class="op" id="7766132">,</span>&nbsp;<span class="ident" id="7766134"><a href="/math/big/rat_test.go.html#7766016">x</a></span><span class="op" id="7766135">.</span><span class="ident" id="7766136">FloatString</span><span class="op" id="7766147">(</span><span class="ident" id="7766148"><a href="/math/big/rat_test.go.html#7765981">test</a></span><span class="op" id="7766152">.</span><span class="ident" id="7766153">prec</span><span class="op" id="7766157">)</span><span class="op" id="7766158">,</span>&nbsp;<span class="ident" id="7766160"><a href="/math/big/rat_test.go.html#7765981">test</a></span><span class="op" id="7766164">.</span><span class="ident" id="7766165">out</span><span class="op" id="7766168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766175">}</span><br>
<span class="lineno"></span><span class="op" id="7766177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="7766180">func</span>&nbsp;<span class="ident" id="7766185">TestRatSign</span><span class="op" id="7766196">(</span><span class="ident" id="7766197">t</span>&nbsp;<span class="op" id="7766199">*</span><span class="ident" id="7766200"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7766207">.</span><span class="ident" id="7766208">T</span><span class="op" id="7766209">)</span>&nbsp;<span class="op" id="7766211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766214">zero</span>&nbsp;<span class="op" id="7766219">:=</span>&nbsp;<span class="ident" id="7766222"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7766228">(</span><span class="num" id="7766229">0</span><span class="op" id="7766230">,</span>&nbsp;<span class="num" id="7766232">1</span><span class="op" id="7766233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766236">for</span>&nbsp;<span class="ident" id="7766240">_</span><span class="op" id="7766241">,</span>&nbsp;<span class="ident" id="7766243">a</span>&nbsp;<span class="op" id="7766245">:=</span>&nbsp;<span class="keyword" id="7766248">range</span>&nbsp;<span class="ident" id="7766254"><a href="/math/big/rat_test.go.html#7763520">setStringTests</a></span>&nbsp;<span class="op" id="7766269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766273">x</span><span class="op" id="7766274">,</span>&nbsp;<span class="ident" id="7766276">ok</span>&nbsp;<span class="op" id="7766279">:=</span>&nbsp;<span class="builtinfunc" id="7766282">new</span><span class="op" id="7766285">(</span><span class="ident" id="7766286"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7766289">)</span><span class="op" id="7766290">.</span><span class="ident" id="7766291">SetString</span><span class="op" id="7766300">(</span><span class="ident" id="7766301"><a href="/math/big/rat_test.go.html#7766243">a</a></span><span class="op" id="7766302">.</span><span class="ident" id="7766303">in</span><span class="op" id="7766305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766309">if</span>&nbsp;<span class="op" id="7766312">!</span><span class="ident" id="7766313"><a href="/math/big/rat_test.go.html#7766276">ok</a></span>&nbsp;<span class="op" id="7766316">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766321">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766336">s</span>&nbsp;<span class="op" id="7766338">:=</span>&nbsp;<span class="ident" id="7766341"><a href="/math/big/rat_test.go.html#7766273">x</a></span><span class="op" id="7766342">.</span><span class="ident" id="7766343">Sign</span><span class="op" id="7766347">(</span><span class="op" id="7766348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766352">e</span>&nbsp;<span class="op" id="7766354">:=</span>&nbsp;<span class="ident" id="7766357"><a href="/math/big/rat_test.go.html#7766273">x</a></span><span class="op" id="7766358">.</span><span class="ident" id="7766359">Cmp</span><span class="op" id="7766362">(</span><span class="ident" id="7766363"><a href="/math/big/rat_test.go.html#7766214">zero</a></span><span class="op" id="7766367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766371">if</span>&nbsp;<span class="ident" id="7766374"><a href="/math/big/rat_test.go.html#7766336">s</a></span>&nbsp;<span class="op" id="7766376">!=</span>&nbsp;<span class="ident" id="7766379"><a href="/math/big/rat_test.go.html#7766352">e</a></span>&nbsp;<span class="op" id="7766381">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766386"><a href="/math/big/rat_test.go.html#7766197">t</a></span><span class="op" id="7766387">.</span><span class="ident" id="7766388">Errorf</span><span class="op" id="7766394">(</span><span class="string" id="7766395">&#34;got&nbsp;%d;&nbsp;want&nbsp;%d&nbsp;for&nbsp;z&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7766423">,</span>&nbsp;<span class="ident" id="7766425"><a href="/math/big/rat_test.go.html#7766336">s</a></span><span class="op" id="7766426">,</span>&nbsp;<span class="ident" id="7766428"><a href="/math/big/rat_test.go.html#7766352">e</a></span><span class="op" id="7766429">,</span>&nbsp;<span class="op" id="7766431">&amp;</span><span class="ident" id="7766432"><a href="/math/big/rat_test.go.html#7766273">x</a></span><span class="op" id="7766433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766440">}</span><br>
<span class="lineno"></span><span class="op" id="7766442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="7766445">var</span>&nbsp;<span class="ident" id="7766449">ratCmpTests</span>&nbsp;<span class="op" id="7766461">=</span>&nbsp;<span class="op" id="7766463">[</span><span class="op" id="7766464">]</span><span class="keyword" id="7766465">struct</span>&nbsp;<span class="op" id="7766472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766475">rat1</span><span class="op" id="7766479">,</span>&nbsp;<span class="ident" id="7766481">rat2</span>&nbsp;<span class="builtintype" id="7766486">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766494">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7766505">int</span><br>
<span class="lineno"></span><span class="op" id="7766509">}</span><span class="op" id="7766510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766513">{</span><span class="string" id="7766514">&#34;0&#34;</span><span class="op" id="7766517">,</span>&nbsp;<span class="string" id="7766519">&#34;0/1&#34;</span><span class="op" id="7766524">,</span>&nbsp;<span class="num" id="7766526">0</span><span class="op" id="7766527">}</span><span class="op" id="7766528">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766531">{</span><span class="string" id="7766532">&#34;1/1&#34;</span><span class="op" id="7766537">,</span>&nbsp;<span class="string" id="7766539">&#34;1&#34;</span><span class="op" id="7766542">,</span>&nbsp;<span class="num" id="7766544">0</span><span class="op" id="7766545">}</span><span class="op" id="7766546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766549">{</span><span class="string" id="7766550">&#34;-1&#34;</span><span class="op" id="7766554">,</span>&nbsp;<span class="string" id="7766556">&#34;-2/2&#34;</span><span class="op" id="7766562">,</span>&nbsp;<span class="num" id="7766564">0</span><span class="op" id="7766565">}</span><span class="op" id="7766566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766569">{</span><span class="string" id="7766570">&#34;1&#34;</span><span class="op" id="7766573">,</span>&nbsp;<span class="string" id="7766575">&#34;0&#34;</span><span class="op" id="7766578">,</span>&nbsp;<span class="num" id="7766580">1</span><span class="op" id="7766581">}</span><span class="op" id="7766582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766585">{</span><span class="string" id="7766586">&#34;0/1&#34;</span><span class="op" id="7766591">,</span>&nbsp;<span class="string" id="7766593">&#34;1/1&#34;</span><span class="op" id="7766598">,</span>&nbsp;<span class="op" id="7766600">-</span><span class="num" id="7766601">1</span><span class="op" id="7766602">}</span><span class="op" id="7766603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766606">{</span><span class="string" id="7766607">&#34;-5/1434770811533343057144&#34;</span><span class="op" id="7766634">,</span>&nbsp;<span class="string" id="7766636">&#34;-5/1434770811533343057145&#34;</span><span class="op" id="7766663">,</span>&nbsp;<span class="op" id="7766665">-</span><span class="num" id="7766666">1</span><span class="op" id="7766667">}</span><span class="op" id="7766668">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766671">{</span><span class="string" id="7766672">&#34;49832350382626108453/8964749413&#34;</span><span class="op" id="7766705">,</span>&nbsp;<span class="string" id="7766707">&#34;49832350382626108454/8964749413&#34;</span><span class="op" id="7766740">,</span>&nbsp;<span class="op" id="7766742">-</span><span class="num" id="7766743">1</span><span class="op" id="7766744">}</span><span class="op" id="7766745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766748">{</span><span class="string" id="7766749">&#34;-37414950961700930/7204075375675961&#34;</span><span class="op" id="7766786">,</span>&nbsp;<span class="string" id="7766788">&#34;37414950961700930/7204075375675961&#34;</span><span class="op" id="7766824">,</span>&nbsp;<span class="op" id="7766826">-</span><span class="num" id="7766827">1</span><span class="op" id="7766828">}</span><span class="op" id="7766829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7766832">{</span><span class="string" id="7766833">&#34;37414950961700930/7204075375675961&#34;</span><span class="op" id="7766869">,</span>&nbsp;<span class="string" id="7766871">&#34;74829901923401860/14408150751351922&#34;</span><span class="op" id="7766908">,</span>&nbsp;<span class="num" id="7766910">0</span><span class="op" id="7766911">}</span><span class="op" id="7766912">,</span><br>
<span class="lineno"></span><span class="op" id="7766914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="7766917">func</span>&nbsp;<span class="ident" id="7766922">TestRatCmp</span><span class="op" id="7766932">(</span><span class="ident" id="7766933">t</span>&nbsp;<span class="op" id="7766935">*</span><span class="ident" id="7766936"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7766943">.</span><span class="ident" id="7766944">T</span><span class="op" id="7766945">)</span>&nbsp;<span class="op" id="7766947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7766950">for</span>&nbsp;<span class="ident" id="7766954">i</span><span class="op" id="7766955">,</span>&nbsp;<span class="ident" id="7766957">test</span>&nbsp;<span class="op" id="7766962">:=</span>&nbsp;<span class="keyword" id="7766965">range</span>&nbsp;<span class="ident" id="7766971"><a href="/math/big/rat_test.go.html#7766449">ratCmpTests</a></span>&nbsp;<span class="op" id="7766983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7766987">x</span><span class="op" id="7766988">,</span>&nbsp;<span class="ident" id="7766990">_</span>&nbsp;<span class="op" id="7766992">:=</span>&nbsp;<span class="builtinfunc" id="7766995">new</span><span class="op" id="7766998">(</span><span class="ident" id="7766999"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767002">)</span><span class="op" id="7767003">.</span><span class="ident" id="7767004">SetString</span><span class="op" id="7767013">(</span><span class="ident" id="7767014"><a href="/math/big/rat_test.go.html#7766957">test</a></span><span class="op" id="7767018">.</span><span class="ident" id="7767019">rat1</span><span class="op" id="7767023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767027">y</span><span class="op" id="7767028">,</span>&nbsp;<span class="ident" id="7767030">_</span>&nbsp;<span class="op" id="7767032">:=</span>&nbsp;<span class="builtinfunc" id="7767035">new</span><span class="op" id="7767038">(</span><span class="ident" id="7767039"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767042">)</span><span class="op" id="7767043">.</span><span class="ident" id="7767044">SetString</span><span class="op" id="7767053">(</span><span class="ident" id="7767054"><a href="/math/big/rat_test.go.html#7766957">test</a></span><span class="op" id="7767058">.</span><span class="ident" id="7767059">rat2</span><span class="op" id="7767063">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767068">out</span>&nbsp;<span class="op" id="7767072">:=</span>&nbsp;<span class="ident" id="7767075"><a href="/math/big/rat_test.go.html#7766987">x</a></span><span class="op" id="7767076">.</span><span class="ident" id="7767077">Cmp</span><span class="op" id="7767080">(</span><span class="ident" id="7767081"><a href="/math/big/rat_test.go.html#7767027">y</a></span><span class="op" id="7767082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767086">if</span>&nbsp;<span class="ident" id="7767089"><a href="/math/big/rat_test.go.html#7767068">out</a></span>&nbsp;<span class="op" id="7767093">!=</span>&nbsp;<span class="ident" id="7767096"><a href="/math/big/rat_test.go.html#7766957">test</a></span><span class="op" id="7767100">.</span><span class="ident" id="7767101">out</span>&nbsp;<span class="op" id="7767105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767110"><a href="/math/big/rat_test.go.html#7766933">t</a></span><span class="op" id="7767111">.</span><span class="ident" id="7767112">Errorf</span><span class="op" id="7767118">(</span><span class="string" id="7767119">&#34;#%d&nbsp;got&nbsp;out&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7767146">,</span>&nbsp;<span class="ident" id="7767148"><a href="/math/big/rat_test.go.html#7766954">i</a></span><span class="op" id="7767149">,</span>&nbsp;<span class="ident" id="7767151"><a href="/math/big/rat_test.go.html#7767068">out</a></span><span class="op" id="7767154">,</span>&nbsp;<span class="ident" id="7767156"><a href="/math/big/rat_test.go.html#7766957">test</a></span><span class="op" id="7767160">.</span><span class="ident" id="7767161">out</span><span class="op" id="7767164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767171">}</span><br>
<span class="lineno">205</span><span class="op" id="7767173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7767176">func</span>&nbsp;<span class="ident" id="7767181">TestIsInt</span><span class="op" id="7767190">(</span><span class="ident" id="7767191">t</span>&nbsp;<span class="op" id="7767193">*</span><span class="ident" id="7767194"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7767201">.</span><span class="ident" id="7767202">T</span><span class="op" id="7767203">)</span>&nbsp;<span class="op" id="7767205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767208">one</span>&nbsp;<span class="op" id="7767212">:=</span>&nbsp;<span class="ident" id="7767215"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7767221">(</span><span class="num" id="7767222">1</span><span class="op" id="7767223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767226">for</span>&nbsp;<span class="ident" id="7767230">_</span><span class="op" id="7767231">,</span>&nbsp;<span class="ident" id="7767233">a</span>&nbsp;<span class="op" id="7767235">:=</span>&nbsp;<span class="keyword" id="7767238">range</span>&nbsp;<span class="ident" id="7767244"><a href="/math/big/rat_test.go.html#7763520">setStringTests</a></span>&nbsp;<span class="op" id="7767259">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767263">x</span><span class="op" id="7767264">,</span>&nbsp;<span class="ident" id="7767266">ok</span>&nbsp;<span class="op" id="7767269">:=</span>&nbsp;<span class="builtinfunc" id="7767272">new</span><span class="op" id="7767275">(</span><span class="ident" id="7767276"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767279">)</span><span class="op" id="7767280">.</span><span class="ident" id="7767281">SetString</span><span class="op" id="7767290">(</span><span class="ident" id="7767291"><a href="/math/big/rat_test.go.html#7767233">a</a></span><span class="op" id="7767292">.</span><span class="ident" id="7767293">in</span><span class="op" id="7767295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767299">if</span>&nbsp;<span class="op" id="7767302">!</span><span class="ident" id="7767303"><a href="/math/big/rat_test.go.html#7767266">ok</a></span>&nbsp;<span class="op" id="7767306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767311">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767326">i</span>&nbsp;<span class="op" id="7767328">:=</span>&nbsp;<span class="ident" id="7767331"><a href="/math/big/rat_test.go.html#7767263">x</a></span><span class="op" id="7767332">.</span><span class="ident" id="7767333">IsInt</span><span class="op" id="7767338">(</span><span class="op" id="7767339">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767343">e</span>&nbsp;<span class="op" id="7767345">:=</span>&nbsp;<span class="ident" id="7767348"><a href="/math/big/rat_test.go.html#7767263">x</a></span><span class="op" id="7767349">.</span><span class="ident" id="7767350">Denom</span><span class="op" id="7767355">(</span><span class="op" id="7767356">)</span><span class="op" id="7767357">.</span><span class="ident" id="7767358">Cmp</span><span class="op" id="7767361">(</span><span class="ident" id="7767362"><a href="/math/big/rat_test.go.html#7767208">one</a></span><span class="op" id="7767365">)</span>&nbsp;<span class="op" id="7767367">==</span>&nbsp;<span class="num" id="7767370">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767374">if</span>&nbsp;<span class="ident" id="7767377"><a href="/math/big/rat_test.go.html#7767326">i</a></span>&nbsp;<span class="op" id="7767379">!=</span>&nbsp;<span class="ident" id="7767382"><a href="/math/big/rat_test.go.html#7767343">e</a></span>&nbsp;<span class="op" id="7767384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767389"><a href="/math/big/rat_test.go.html#7767191">t</a></span><span class="op" id="7767390">.</span><span class="ident" id="7767391">Errorf</span><span class="op" id="7767397">(</span><span class="string" id="7767398">&#34;got&nbsp;IsInt(%v)&nbsp;==&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7767428">,</span>&nbsp;<span class="ident" id="7767430"><a href="/math/big/rat_test.go.html#7767263">x</a></span><span class="op" id="7767431">,</span>&nbsp;<span class="ident" id="7767433"><a href="/math/big/rat_test.go.html#7767326">i</a></span><span class="op" id="7767434">,</span>&nbsp;<span class="ident" id="7767436"><a href="/math/big/rat_test.go.html#7767343">e</a></span><span class="op" id="7767437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767444">}</span><br>
<span class="lineno">220</span><span class="op" id="7767446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7767449">func</span>&nbsp;<span class="ident" id="7767454">TestRatAbs</span><span class="op" id="7767464">(</span><span class="ident" id="7767465">t</span>&nbsp;<span class="op" id="7767467">*</span><span class="ident" id="7767468"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7767475">.</span><span class="ident" id="7767476">T</span><span class="op" id="7767477">)</span>&nbsp;<span class="op" id="7767479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767482">zero</span>&nbsp;<span class="op" id="7767487">:=</span>&nbsp;<span class="builtinfunc" id="7767490">new</span><span class="op" id="7767493">(</span><span class="ident" id="7767494"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767500">for</span>&nbsp;<span class="ident" id="7767504">_</span><span class="op" id="7767505">,</span>&nbsp;<span class="ident" id="7767507">a</span>&nbsp;<span class="op" id="7767509">:=</span>&nbsp;<span class="keyword" id="7767512">range</span>&nbsp;<span class="ident" id="7767518"><a href="/math/big/rat_test.go.html#7763520">setStringTests</a></span>&nbsp;<span class="op" id="7767533">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767537">x</span><span class="op" id="7767538">,</span>&nbsp;<span class="ident" id="7767540">ok</span>&nbsp;<span class="op" id="7767543">:=</span>&nbsp;<span class="builtinfunc" id="7767546">new</span><span class="op" id="7767549">(</span><span class="ident" id="7767550"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767553">)</span><span class="op" id="7767554">.</span><span class="ident" id="7767555">SetString</span><span class="op" id="7767564">(</span><span class="ident" id="7767565"><a href="/math/big/rat_test.go.html#7767507">a</a></span><span class="op" id="7767566">.</span><span class="ident" id="7767567">in</span><span class="op" id="7767569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767573">if</span>&nbsp;<span class="op" id="7767576">!</span><span class="ident" id="7767577"><a href="/math/big/rat_test.go.html#7767540">ok</a></span>&nbsp;<span class="op" id="7767580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767585">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767600">e</span>&nbsp;<span class="op" id="7767602">:=</span>&nbsp;<span class="builtinfunc" id="7767605">new</span><span class="op" id="7767608">(</span><span class="ident" id="7767609"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767612">)</span><span class="op" id="7767613">.</span><span class="ident" id="7767614">Set</span><span class="op" id="7767617">(</span><span class="ident" id="7767618"><a href="/math/big/rat_test.go.html#7767537">x</a></span><span class="op" id="7767619">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767623">if</span>&nbsp;<span class="ident" id="7767626"><a href="/math/big/rat_test.go.html#7767600">e</a></span><span class="op" id="7767627">.</span><span class="ident" id="7767628">Cmp</span><span class="op" id="7767631">(</span><span class="ident" id="7767632"><a href="/math/big/rat_test.go.html#7767482">zero</a></span><span class="op" id="7767636">)</span>&nbsp;<span class="op" id="7767638">&lt;</span>&nbsp;<span class="num" id="7767640">0</span>&nbsp;<span class="op" id="7767642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767647"><a href="/math/big/rat_test.go.html#7767600">e</a></span><span class="op" id="7767648">.</span><span class="ident" id="7767649">Sub</span><span class="op" id="7767652">(</span><span class="ident" id="7767653"><a href="/math/big/rat_test.go.html#7767482">zero</a></span><span class="op" id="7767657">,</span>&nbsp;<span class="ident" id="7767659"><a href="/math/big/rat_test.go.html#7767600">e</a></span><span class="op" id="7767660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767668">z</span>&nbsp;<span class="op" id="7767670">:=</span>&nbsp;<span class="builtinfunc" id="7767673">new</span><span class="op" id="7767676">(</span><span class="ident" id="7767677"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767680">)</span><span class="op" id="7767681">.</span><span class="ident" id="7767682">Abs</span><span class="op" id="7767685">(</span><span class="ident" id="7767686"><a href="/math/big/rat_test.go.html#7767537">x</a></span><span class="op" id="7767687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767691">if</span>&nbsp;<span class="ident" id="7767694"><a href="/math/big/rat_test.go.html#7767668">z</a></span><span class="op" id="7767695">.</span><span class="ident" id="7767696">Cmp</span><span class="op" id="7767699">(</span><span class="ident" id="7767700"><a href="/math/big/rat_test.go.html#7767600">e</a></span><span class="op" id="7767701">)</span>&nbsp;<span class="op" id="7767703">!=</span>&nbsp;<span class="num" id="7767706">0</span>&nbsp;<span class="op" id="7767708">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767713"><a href="/math/big/rat_test.go.html#7767465">t</a></span><span class="op" id="7767714">.</span><span class="ident" id="7767715">Errorf</span><span class="op" id="7767721">(</span><span class="string" id="7767722">&#34;got&nbsp;Abs(%v)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7767749">,</span>&nbsp;<span class="ident" id="7767751"><a href="/math/big/rat_test.go.html#7767537">x</a></span><span class="op" id="7767752">,</span>&nbsp;<span class="ident" id="7767754"><a href="/math/big/rat_test.go.html#7767668">z</a></span><span class="op" id="7767755">,</span>&nbsp;<span class="ident" id="7767757"><a href="/math/big/rat_test.go.html#7767600">e</a></span><span class="op" id="7767758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767765">}</span><br>
<span class="lineno"></span><span class="op" id="7767767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="7767770">func</span>&nbsp;<span class="ident" id="7767775">TestRatNeg</span><span class="op" id="7767785">(</span><span class="ident" id="7767786">t</span>&nbsp;<span class="op" id="7767788">*</span><span class="ident" id="7767789"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7767796">.</span><span class="ident" id="7767797">T</span><span class="op" id="7767798">)</span>&nbsp;<span class="op" id="7767800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767803">zero</span>&nbsp;<span class="op" id="7767808">:=</span>&nbsp;<span class="builtinfunc" id="7767811">new</span><span class="op" id="7767814">(</span><span class="ident" id="7767815"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767821">for</span>&nbsp;<span class="ident" id="7767825">_</span><span class="op" id="7767826">,</span>&nbsp;<span class="ident" id="7767828">a</span>&nbsp;<span class="op" id="7767830">:=</span>&nbsp;<span class="keyword" id="7767833">range</span>&nbsp;<span class="ident" id="7767839"><a href="/math/big/rat_test.go.html#7763520">setStringTests</a></span>&nbsp;<span class="op" id="7767854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767858">x</span><span class="op" id="7767859">,</span>&nbsp;<span class="ident" id="7767861">ok</span>&nbsp;<span class="op" id="7767864">:=</span>&nbsp;<span class="builtinfunc" id="7767867">new</span><span class="op" id="7767870">(</span><span class="ident" id="7767871"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767874">)</span><span class="op" id="7767875">.</span><span class="ident" id="7767876">SetString</span><span class="op" id="7767885">(</span><span class="ident" id="7767886"><a href="/math/big/rat_test.go.html#7767828">a</a></span><span class="op" id="7767887">.</span><span class="ident" id="7767888">in</span><span class="op" id="7767890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767894">if</span>&nbsp;<span class="op" id="7767897">!</span><span class="ident" id="7767898"><a href="/math/big/rat_test.go.html#7767861">ok</a></span>&nbsp;<span class="op" id="7767901">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767906">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7767917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767921">e</span>&nbsp;<span class="op" id="7767923">:=</span>&nbsp;<span class="builtinfunc" id="7767926">new</span><span class="op" id="7767929">(</span><span class="ident" id="7767930"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767933">)</span><span class="op" id="7767934">.</span><span class="ident" id="7767935">Sub</span><span class="op" id="7767938">(</span><span class="ident" id="7767939"><a href="/math/big/rat_test.go.html#7767803">zero</a></span><span class="op" id="7767943">,</span>&nbsp;<span class="ident" id="7767945"><a href="/math/big/rat_test.go.html#7767858">x</a></span><span class="op" id="7767946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767950">z</span>&nbsp;<span class="op" id="7767952">:=</span>&nbsp;<span class="builtinfunc" id="7767955">new</span><span class="op" id="7767958">(</span><span class="ident" id="7767959"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7767962">)</span><span class="op" id="7767963">.</span><span class="ident" id="7767964">Neg</span><span class="op" id="7767967">(</span><span class="ident" id="7767968"><a href="/math/big/rat_test.go.html#7767858">x</a></span><span class="op" id="7767969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7767973">if</span>&nbsp;<span class="ident" id="7767976"><a href="/math/big/rat_test.go.html#7767950">z</a></span><span class="op" id="7767977">.</span><span class="ident" id="7767978">Cmp</span><span class="op" id="7767981">(</span><span class="ident" id="7767982"><a href="/math/big/rat_test.go.html#7767921">e</a></span><span class="op" id="7767983">)</span>&nbsp;<span class="op" id="7767985">!=</span>&nbsp;<span class="num" id="7767988">0</span>&nbsp;<span class="op" id="7767990">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7767995"><a href="/math/big/rat_test.go.html#7767786">t</a></span><span class="op" id="7767996">.</span><span class="ident" id="7767997">Errorf</span><span class="op" id="7768003">(</span><span class="string" id="7768004">&#34;got&nbsp;Neg(%v)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7768031">,</span>&nbsp;<span class="ident" id="7768033"><a href="/math/big/rat_test.go.html#7767858">x</a></span><span class="op" id="7768034">,</span>&nbsp;<span class="ident" id="7768036"><a href="/math/big/rat_test.go.html#7767950">z</a></span><span class="op" id="7768037">,</span>&nbsp;<span class="ident" id="7768039"><a href="/math/big/rat_test.go.html#7767921">e</a></span><span class="op" id="7768040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768047">}</span><br>
<span class="lineno"></span><span class="op" id="7768049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="7768052">func</span>&nbsp;<span class="ident" id="7768057">TestRatInv</span><span class="op" id="7768067">(</span><span class="ident" id="7768068">t</span>&nbsp;<span class="op" id="7768070">*</span><span class="ident" id="7768071"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7768078">.</span><span class="ident" id="7768079">T</span><span class="op" id="7768080">)</span>&nbsp;<span class="op" id="7768082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768085">zero</span>&nbsp;<span class="op" id="7768090">:=</span>&nbsp;<span class="builtinfunc" id="7768093">new</span><span class="op" id="7768096">(</span><span class="ident" id="7768097"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7768100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768103">for</span>&nbsp;<span class="ident" id="7768107">_</span><span class="op" id="7768108">,</span>&nbsp;<span class="ident" id="7768110">a</span>&nbsp;<span class="op" id="7768112">:=</span>&nbsp;<span class="keyword" id="7768115">range</span>&nbsp;<span class="ident" id="7768121"><a href="/math/big/rat_test.go.html#7763520">setStringTests</a></span>&nbsp;<span class="op" id="7768136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768140">x</span><span class="op" id="7768141">,</span>&nbsp;<span class="ident" id="7768143">ok</span>&nbsp;<span class="op" id="7768146">:=</span>&nbsp;<span class="builtinfunc" id="7768149">new</span><span class="op" id="7768152">(</span><span class="ident" id="7768153"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7768156">)</span><span class="op" id="7768157">.</span><span class="ident" id="7768158">SetString</span><span class="op" id="7768167">(</span><span class="ident" id="7768168"><a href="/math/big/rat_test.go.html#7768110">a</a></span><span class="op" id="7768169">.</span><span class="ident" id="7768170">in</span><span class="op" id="7768172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768176">if</span>&nbsp;<span class="op" id="7768179">!</span><span class="ident" id="7768180"><a href="/math/big/rat_test.go.html#7768143">ok</a></span>&nbsp;<span class="op" id="7768183">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768188">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768203">if</span>&nbsp;<span class="ident" id="7768206"><a href="/math/big/rat_test.go.html#7768140">x</a></span><span class="op" id="7768207">.</span><span class="ident" id="7768208">Cmp</span><span class="op" id="7768211">(</span><span class="ident" id="7768212"><a href="/math/big/rat_test.go.html#7768085">zero</a></span><span class="op" id="7768216">)</span>&nbsp;<span class="op" id="7768218">==</span>&nbsp;<span class="num" id="7768221">0</span>&nbsp;<span class="op" id="7768223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768228">continue</span>&nbsp;<span class="comment" id="7768237">//&nbsp;avoid&nbsp;division&nbsp;by&nbsp;zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768265">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768269">e</span>&nbsp;<span class="op" id="7768271">:=</span>&nbsp;<span class="builtinfunc" id="7768274">new</span><span class="op" id="7768277">(</span><span class="ident" id="7768278"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7768281">)</span><span class="op" id="7768282">.</span><span class="ident" id="7768283">SetFrac</span><span class="op" id="7768290">(</span><span class="ident" id="7768291"><a href="/math/big/rat_test.go.html#7768140">x</a></span><span class="op" id="7768292">.</span><span class="ident" id="7768293">Denom</span><span class="op" id="7768298">(</span><span class="op" id="7768299">)</span><span class="op" id="7768300">,</span>&nbsp;<span class="ident" id="7768302"><a href="/math/big/rat_test.go.html#7768140">x</a></span><span class="op" id="7768303">.</span><span class="ident" id="7768304">Num</span><span class="op" id="7768307">(</span><span class="op" id="7768308">)</span><span class="op" id="7768309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768313">z</span>&nbsp;<span class="op" id="7768315">:=</span>&nbsp;<span class="builtinfunc" id="7768318">new</span><span class="op" id="7768321">(</span><span class="ident" id="7768322"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7768325">)</span><span class="op" id="7768326">.</span><span class="ident" id="7768327">Inv</span><span class="op" id="7768330">(</span><span class="ident" id="7768331"><a href="/math/big/rat_test.go.html#7768140">x</a></span><span class="op" id="7768332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768336">if</span>&nbsp;<span class="ident" id="7768339"><a href="/math/big/rat_test.go.html#7768313">z</a></span><span class="op" id="7768340">.</span><span class="ident" id="7768341">Cmp</span><span class="op" id="7768344">(</span><span class="ident" id="7768345"><a href="/math/big/rat_test.go.html#7768269">e</a></span><span class="op" id="7768346">)</span>&nbsp;<span class="op" id="7768348">!=</span>&nbsp;<span class="num" id="7768351">0</span>&nbsp;<span class="op" id="7768353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768358"><a href="/math/big/rat_test.go.html#7768068">t</a></span><span class="op" id="7768359">.</span><span class="ident" id="7768360">Errorf</span><span class="op" id="7768366">(</span><span class="string" id="7768367">&#34;got&nbsp;Inv(%v)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7768394">,</span>&nbsp;<span class="ident" id="7768396"><a href="/math/big/rat_test.go.html#7768140">x</a></span><span class="op" id="7768397">,</span>&nbsp;<span class="ident" id="7768399"><a href="/math/big/rat_test.go.html#7768313">z</a></span><span class="op" id="7768400">,</span>&nbsp;<span class="ident" id="7768402"><a href="/math/big/rat_test.go.html#7768269">e</a></span><span class="op" id="7768403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768407">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768410">}</span><br>
<span class="lineno"></span><span class="op" id="7768412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7768415">type</span>&nbsp;<span class="ident" id="7768420">ratBinFun</span>&nbsp;<span class="keyword" id="7768430">func</span><span class="op" id="7768434">(</span><span class="ident" id="7768435">z</span><span class="op" id="7768436">,</span>&nbsp;<span class="ident" id="7768438">x</span><span class="op" id="7768439">,</span>&nbsp;<span class="ident" id="7768441">y</span>&nbsp;<span class="op" id="7768443">*</span><span class="ident" id="7768444"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7768447">)</span>&nbsp;<span class="op" id="7768449">*</span><span class="ident" id="7768450"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span><span class="keyword" id="7768454">type</span>&nbsp;<span class="ident" id="7768459">ratBinArg</span>&nbsp;<span class="keyword" id="7768469">struct</span>&nbsp;<span class="op" id="7768476">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768479">x</span><span class="op" id="7768480">,</span>&nbsp;<span class="ident" id="7768482">y</span><span class="op" id="7768483">,</span>&nbsp;<span class="ident" id="7768485">z</span>&nbsp;<span class="builtintype" id="7768487">string</span><br>
<span class="lineno"></span><span class="op" id="7768494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7768497">func</span>&nbsp;<span class="ident" id="7768502">testRatBin</span><span class="op" id="7768512">(</span><span class="ident" id="7768513">t</span>&nbsp;<span class="op" id="7768515">*</span><span class="ident" id="7768516"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7768523">.</span><span class="ident" id="7768524">T</span><span class="op" id="7768525">,</span>&nbsp;<span class="ident" id="7768527">i</span>&nbsp;<span class="builtintype" id="7768529">int</span><span class="op" id="7768532">,</span>&nbsp;<span class="ident" id="7768534">name</span>&nbsp;<span class="builtintype" id="7768539">string</span><span class="op" id="7768545">,</span>&nbsp;<span class="ident" id="7768547">f</span>&nbsp;<span class="ident" id="7768549"><a href="/math/big/rat_test.go.html#7768420">ratBinFun</a></span><span class="op" id="7768558">,</span>&nbsp;<span class="ident" id="7768560">a</span>&nbsp;<span class="ident" id="7768562"><a href="/math/big/rat_test.go.html#7768459">ratBinArg</a></span><span class="op" id="7768571">)</span>&nbsp;<span class="op" id="7768573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768576">x</span><span class="op" id="7768577">,</span>&nbsp;<span class="ident" id="7768579">_</span>&nbsp;<span class="op" id="7768581">:=</span>&nbsp;<span class="builtinfunc" id="7768584">new</span><span class="op" id="7768587">(</span><span class="ident" id="7768588"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7768591">)</span><span class="op" id="7768592">.</span><span class="ident" id="7768593">SetString</span><span class="op" id="7768602">(</span><span class="ident" id="7768603"><a href="/math/big/rat_test.go.html#7768560">a</a></span><span class="op" id="7768604">.</span><span class="ident" id="7768605">x</span><span class="op" id="7768606">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768609">y</span><span class="op" id="7768610">,</span>&nbsp;<span class="ident" id="7768612">_</span>&nbsp;<span class="op" id="7768614">:=</span>&nbsp;<span class="builtinfunc" id="7768617">new</span><span class="op" id="7768620">(</span><span class="ident" id="7768621"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7768624">)</span><span class="op" id="7768625">.</span><span class="ident" id="7768626">SetString</span><span class="op" id="7768635">(</span><span class="ident" id="7768636"><a href="/math/big/rat_test.go.html#7768560">a</a></span><span class="op" id="7768637">.</span><span class="ident" id="7768638">y</span><span class="op" id="7768639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768642">z</span><span class="op" id="7768643">,</span>&nbsp;<span class="ident" id="7768645">_</span>&nbsp;<span class="op" id="7768647">:=</span>&nbsp;<span class="builtinfunc" id="7768650">new</span><span class="op" id="7768653">(</span><span class="ident" id="7768654"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7768657">)</span><span class="op" id="7768658">.</span><span class="ident" id="7768659">SetString</span><span class="op" id="7768668">(</span><span class="ident" id="7768669"><a href="/math/big/rat_test.go.html#7768560">a</a></span><span class="op" id="7768670">.</span><span class="ident" id="7768671">z</span><span class="op" id="7768672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768675">out</span>&nbsp;<span class="op" id="7768679">:=</span>&nbsp;<span class="ident" id="7768682"><a href="/math/big/rat_test.go.html#7768547">f</a></span><span class="op" id="7768683">(</span><span class="builtinfunc" id="7768684">new</span><span class="op" id="7768687">(</span><span class="ident" id="7768688"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7768691">)</span><span class="op" id="7768692">,</span>&nbsp;<span class="ident" id="7768694"><a href="/math/big/rat_test.go.html#7768576">x</a></span><span class="op" id="7768695">,</span>&nbsp;<span class="ident" id="7768697"><a href="/math/big/rat_test.go.html#7768609">y</a></span><span class="op" id="7768698">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7768702">if</span>&nbsp;<span class="ident" id="7768705"><a href="/math/big/rat_test.go.html#7768675">out</a></span><span class="op" id="7768708">.</span><span class="ident" id="7768709">Cmp</span><span class="op" id="7768712">(</span><span class="ident" id="7768713"><a href="/math/big/rat_test.go.html#7768642">z</a></span><span class="op" id="7768714">)</span>&nbsp;<span class="op" id="7768716">!=</span>&nbsp;<span class="num" id="7768719">0</span>&nbsp;<span class="op" id="7768721">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768725"><a href="/math/big/rat_test.go.html#7768513">t</a></span><span class="op" id="7768726">.</span><span class="ident" id="7768727">Errorf</span><span class="op" id="7768733">(</span><span class="string" id="7768734">&#34;%s&nbsp;#%d&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7768757">,</span>&nbsp;<span class="ident" id="7768759"><a href="/math/big/rat_test.go.html#7768534">name</a></span><span class="op" id="7768763">,</span>&nbsp;<span class="ident" id="7768765"><a href="/math/big/rat_test.go.html#7768527">i</a></span><span class="op" id="7768766">,</span>&nbsp;<span class="ident" id="7768768"><a href="/math/big/rat_test.go.html#7768675">out</a></span><span class="op" id="7768771">,</span>&nbsp;<span class="ident" id="7768773"><a href="/math/big/rat_test.go.html#7768642">z</a></span><span class="op" id="7768774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768777">}</span><br>
<span class="lineno"></span><span class="op" id="7768779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7768782">var</span>&nbsp;<span class="ident" id="7768786">ratBinTests</span>&nbsp;<span class="op" id="7768798">=</span>&nbsp;<span class="op" id="7768800">[</span><span class="op" id="7768801">]</span><span class="keyword" id="7768802">struct</span>&nbsp;<span class="op" id="7768809">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768812">x</span><span class="op" id="7768813">,</span>&nbsp;<span class="ident" id="7768815">y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7768822">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7768830">sum</span><span class="op" id="7768833">,</span>&nbsp;<span class="ident" id="7768835">prod</span>&nbsp;<span class="builtintype" id="7768840">string</span><br>
<span class="lineno"></span><span class="op" id="7768847">}</span><span class="op" id="7768848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768851">{</span><span class="string" id="7768852">&#34;0&#34;</span><span class="op" id="7768855">,</span>&nbsp;<span class="string" id="7768857">&#34;0&#34;</span><span class="op" id="7768860">,</span>&nbsp;<span class="string" id="7768862">&#34;0&#34;</span><span class="op" id="7768865">,</span>&nbsp;<span class="string" id="7768867">&#34;0&#34;</span><span class="op" id="7768870">}</span><span class="op" id="7768871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768874">{</span><span class="string" id="7768875">&#34;0&#34;</span><span class="op" id="7768878">,</span>&nbsp;<span class="string" id="7768880">&#34;1&#34;</span><span class="op" id="7768883">,</span>&nbsp;<span class="string" id="7768885">&#34;1&#34;</span><span class="op" id="7768888">,</span>&nbsp;<span class="string" id="7768890">&#34;0&#34;</span><span class="op" id="7768893">}</span><span class="op" id="7768894">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768897">{</span><span class="string" id="7768898">&#34;-1&#34;</span><span class="op" id="7768902">,</span>&nbsp;<span class="string" id="7768904">&#34;0&#34;</span><span class="op" id="7768907">,</span>&nbsp;<span class="string" id="7768909">&#34;-1&#34;</span><span class="op" id="7768913">,</span>&nbsp;<span class="string" id="7768915">&#34;0&#34;</span><span class="op" id="7768918">}</span><span class="op" id="7768919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768922">{</span><span class="string" id="7768923">&#34;-1&#34;</span><span class="op" id="7768927">,</span>&nbsp;<span class="string" id="7768929">&#34;1&#34;</span><span class="op" id="7768932">,</span>&nbsp;<span class="string" id="7768934">&#34;0&#34;</span><span class="op" id="7768937">,</span>&nbsp;<span class="string" id="7768939">&#34;-1&#34;</span><span class="op" id="7768943">}</span><span class="op" id="7768944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768947">{</span><span class="string" id="7768948">&#34;1&#34;</span><span class="op" id="7768951">,</span>&nbsp;<span class="string" id="7768953">&#34;1&#34;</span><span class="op" id="7768956">,</span>&nbsp;<span class="string" id="7768958">&#34;2&#34;</span><span class="op" id="7768961">,</span>&nbsp;<span class="string" id="7768963">&#34;1&#34;</span><span class="op" id="7768966">}</span><span class="op" id="7768967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768970">{</span><span class="string" id="7768971">&#34;1/2&#34;</span><span class="op" id="7768976">,</span>&nbsp;<span class="string" id="7768978">&#34;1/2&#34;</span><span class="op" id="7768983">,</span>&nbsp;<span class="string" id="7768985">&#34;1&#34;</span><span class="op" id="7768988">,</span>&nbsp;<span class="string" id="7768990">&#34;1/4&#34;</span><span class="op" id="7768995">}</span><span class="op" id="7768996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7768999">{</span><span class="string" id="7769000">&#34;1/4&#34;</span><span class="op" id="7769005">,</span>&nbsp;<span class="string" id="7769007">&#34;1/3&#34;</span><span class="op" id="7769012">,</span>&nbsp;<span class="string" id="7769014">&#34;7/12&#34;</span><span class="op" id="7769020">,</span>&nbsp;<span class="string" id="7769022">&#34;1/12&#34;</span><span class="op" id="7769028">}</span><span class="op" id="7769029">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769032">{</span><span class="string" id="7769033">&#34;2/5&#34;</span><span class="op" id="7769038">,</span>&nbsp;<span class="string" id="7769040">&#34;-14/3&#34;</span><span class="op" id="7769047">,</span>&nbsp;<span class="string" id="7769049">&#34;-64/15&#34;</span><span class="op" id="7769057">,</span>&nbsp;<span class="string" id="7769059">&#34;-28/15&#34;</span><span class="op" id="7769067">}</span><span class="op" id="7769068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769071">{</span><span class="string" id="7769072">&#34;4707/49292519774798173060&#34;</span><span class="op" id="7769099">,</span>&nbsp;<span class="string" id="7769101">&#34;-3367/70976135186689855734&#34;</span><span class="op" id="7769129">,</span>&nbsp;<span class="string" id="7769131">&#34;84058377121001851123459/1749296273614329067191168098769082663020&#34;</span><span class="op" id="7769197">,</span>&nbsp;<span class="string" id="7769199">&#34;-1760941/388732505247628681598037355282018369560&#34;</span><span class="op" id="7769249">}</span><span class="op" id="7769250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769253">{</span><span class="string" id="7769254">&#34;-61204110018146728334/3&#34;</span><span class="op" id="7769279">,</span>&nbsp;<span class="string" id="7769281">&#34;-31052192278051565633/2&#34;</span><span class="op" id="7769306">,</span>&nbsp;<span class="string" id="7769308">&#34;-215564796870448153567/6&#34;</span><span class="op" id="7769334">,</span>&nbsp;<span class="string" id="7769336">&#34;950260896245257153059642991192710872711/3&#34;</span><span class="op" id="7769379">}</span><span class="op" id="7769380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769383">{</span><span class="string" id="7769384">&#34;-854857841473707320655/4237645934602118692642972629634714039&#34;</span><span class="op" id="7769446">,</span>&nbsp;<span class="string" id="7769448">&#34;-18/31750379913563777419&#34;</span><span class="op" id="7769474">,</span>&nbsp;<span class="string" id="7769476">&#34;-27/133467566250814981&#34;</span><span class="op" id="7769500">,</span>&nbsp;<span class="string" id="7769502">&#34;15387441146526731771790/134546868362786310073779084329032722548987800600710485341&#34;</span><span class="op" id="7769585">}</span><span class="op" id="7769586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769589">{</span><span class="string" id="7769590">&#34;618575745270541348005638912139/19198433543745179392300736&#34;</span><span class="op" id="7769649">,</span>&nbsp;<span class="string" id="7769651">&#34;-19948846211000086/637313996471&#34;</span><span class="op" id="7769684">,</span>&nbsp;<span class="string" id="7769686">&#34;27674141753240653/30123979153216&#34;</span><span class="op" id="7769720">,</span>&nbsp;<span class="string" id="7769722">&#34;-6169936206128396568797607742807090270137721977/6117715203873571641674006593837351328&#34;</span><span class="op" id="7769809">}</span><span class="op" id="7769810">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769813">{</span><span class="string" id="7769814">&#34;-3/26206484091896184128&#34;</span><span class="op" id="7769839">,</span>&nbsp;<span class="string" id="7769841">&#34;5/2848423294177090248&#34;</span><span class="op" id="7769864">,</span>&nbsp;<span class="string" id="7769866">&#34;15310893822118706237/9330894968229805033368778458685147968&#34;</span><span class="op" id="7769926">,</span>&nbsp;<span class="string" id="7769928">&#34;-5/24882386581946146755650075889827061248&#34;</span><span class="op" id="7769971">}</span><span class="op" id="7769972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7769975">{</span><span class="string" id="7769976">&#34;26946729/330400702820&#34;</span><span class="op" id="7769999">,</span>&nbsp;<span class="string" id="7770001">&#34;41563965/225583428284&#34;</span><span class="op" id="7770024">,</span>&nbsp;<span class="string" id="7770026">&#34;1238218672302860271/4658307703098666660055&#34;</span><span class="op" id="7770070">,</span>&nbsp;<span class="string" id="7770072">&#34;224002580204097/14906584649915733312176&#34;</span><span class="op" id="7770113">}</span><span class="op" id="7770114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770117">{</span><span class="string" id="7770118">&#34;-8259900599013409474/7&#34;</span><span class="op" id="7770142">,</span>&nbsp;<span class="string" id="7770144">&#34;-84829337473700364773/56707961321161574960&#34;</span><span class="op" id="7770188">,</span>&nbsp;<span class="string" id="7770190">&#34;-468402123685491748914621885145127724451/396955729248131024720&#34;</span><span class="op" id="7770254">,</span>&nbsp;<span class="string" id="7770256">&#34;350340947706464153265156004876107029701/198477864624065512360&#34;</span><span class="op" id="7770319">}</span><span class="op" id="7770320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770323">{</span><span class="string" id="7770324">&#34;575775209696864/1320203974639986246357&#34;</span><span class="op" id="7770364">,</span>&nbsp;<span class="string" id="7770366">&#34;29/712593081308&#34;</span><span class="op" id="7770383">,</span>&nbsp;<span class="string" id="7770385">&#34;410331716733912717985762465/940768218243776489278275419794956&#34;</span><span class="op" id="7770448">,</span>&nbsp;<span class="string" id="7770450">&#34;808/45524274987585732633&#34;</span><span class="op" id="7770476">}</span><span class="op" id="7770477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770480">{</span><span class="string" id="7770481">&#34;1786597389946320496771/2066653520653241&#34;</span><span class="op" id="7770522">,</span>&nbsp;<span class="string" id="7770524">&#34;6269770/1992362624741777&#34;</span><span class="op" id="7770550">,</span>&nbsp;<span class="string" id="7770552">&#34;3559549865190272133656109052308126637/4117523232840525481453983149257&#34;</span><span class="op" id="7770623">,</span>&nbsp;<span class="string" id="7770625">&#34;8967230/3296219033&#34;</span><span class="op" id="7770645">}</span><span class="op" id="7770646">,</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7770649">{</span><span class="string" id="7770650">&#34;-36459180403360509753/32150500941194292113930&#34;</span><span class="op" id="7770697">,</span>&nbsp;<span class="string" id="7770699">&#34;9381566963714/9633539&#34;</span><span class="op" id="7770722">,</span>&nbsp;<span class="string" id="7770724">&#34;301622077145533298008420642898530153/309723104686531919656937098270&#34;</span><span class="op" id="7770793">,</span>&nbsp;<span class="string" id="7770795">&#34;-3784609207827/3426986245&#34;</span><span class="op" id="7770822">}</span><span class="op" id="7770823">,</span><br>
<span class="lineno"></span><span class="op" id="7770825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7770828">func</span>&nbsp;<span class="ident" id="7770833">TestRatBin</span><span class="op" id="7770843">(</span><span class="ident" id="7770844">t</span>&nbsp;<span class="op" id="7770846">*</span><span class="ident" id="7770847"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7770854">.</span><span class="ident" id="7770855">T</span><span class="op" id="7770856">)</span>&nbsp;<span class="op" id="7770858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7770861">for</span>&nbsp;<span class="ident" id="7770865">i</span><span class="op" id="7770866">,</span>&nbsp;<span class="ident" id="7770868">test</span>&nbsp;<span class="op" id="7770873">:=</span>&nbsp;<span class="keyword" id="7770876">range</span>&nbsp;<span class="ident" id="7770882"><a href="/math/big/rat_test.go.html#7768786">ratBinTests</a></span>&nbsp;<span class="op" id="7770894">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7770898">arg</span>&nbsp;<span class="op" id="7770902">:=</span>&nbsp;<span class="ident" id="7770905"><a href="/math/big/rat_test.go.html#7768459">ratBinArg</a></span><span class="op" id="7770914">{</span><span class="ident" id="7770915"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7770919">.</span><span class="ident" id="7770920">x</span><span class="op" id="7770921">,</span>&nbsp;<span class="ident" id="7770923"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7770927">.</span><span class="ident" id="7770928">y</span><span class="op" id="7770929">,</span>&nbsp;<span class="ident" id="7770931"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7770935">.</span><span class="ident" id="7770936">sum</span><span class="op" id="7770939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7770943"><a href="/math/big/rat_test.go.html#7768502">testRatBin</a></span><span class="op" id="7770953">(</span><span class="ident" id="7770954"><a href="/math/big/rat_test.go.html#7770844">t</a></span><span class="op" id="7770955">,</span>&nbsp;<span class="ident" id="7770957"><a href="/math/big/rat_test.go.html#7770865">i</a></span><span class="op" id="7770958">,</span>&nbsp;<span class="string" id="7770960">&#34;Add&#34;</span><span class="op" id="7770965">,</span>&nbsp;<span class="op" id="7770967">(</span><span class="op" id="7770968">*</span><span class="ident" id="7770969"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7770972">)</span><span class="op" id="7770973">.</span><span class="ident" id="7770974">Add</span><span class="op" id="7770977">,</span>&nbsp;<span class="ident" id="7770979"><a href="/math/big/rat_test.go.html#7770898">arg</a></span><span class="op" id="7770982">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7770987"><a href="/math/big/rat_test.go.html#7770898">arg</a></span>&nbsp;<span class="op" id="7770991">=</span>&nbsp;<span class="ident" id="7770993"><a href="/math/big/rat_test.go.html#7768459">ratBinArg</a></span><span class="op" id="7771002">{</span><span class="ident" id="7771003"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771007">.</span><span class="ident" id="7771008">y</span><span class="op" id="7771009">,</span>&nbsp;<span class="ident" id="7771011"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771015">.</span><span class="ident" id="7771016">x</span><span class="op" id="7771017">,</span>&nbsp;<span class="ident" id="7771019"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771023">.</span><span class="ident" id="7771024">sum</span><span class="op" id="7771027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771031"><a href="/math/big/rat_test.go.html#7768502">testRatBin</a></span><span class="op" id="7771041">(</span><span class="ident" id="7771042"><a href="/math/big/rat_test.go.html#7770844">t</a></span><span class="op" id="7771043">,</span>&nbsp;<span class="ident" id="7771045"><a href="/math/big/rat_test.go.html#7770865">i</a></span><span class="op" id="7771046">,</span>&nbsp;<span class="string" id="7771048">&#34;Add&nbsp;symmetric&#34;</span><span class="op" id="7771063">,</span>&nbsp;<span class="op" id="7771065">(</span><span class="op" id="7771066">*</span><span class="ident" id="7771067"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7771070">)</span><span class="op" id="7771071">.</span><span class="ident" id="7771072">Add</span><span class="op" id="7771075">,</span>&nbsp;<span class="ident" id="7771077"><a href="/math/big/rat_test.go.html#7770898">arg</a></span><span class="op" id="7771080">)</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771085"><a href="/math/big/rat_test.go.html#7770898">arg</a></span>&nbsp;<span class="op" id="7771089">=</span>&nbsp;<span class="ident" id="7771091"><a href="/math/big/rat_test.go.html#7768459">ratBinArg</a></span><span class="op" id="7771100">{</span><span class="ident" id="7771101"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771105">.</span><span class="ident" id="7771106">sum</span><span class="op" id="7771109">,</span>&nbsp;<span class="ident" id="7771111"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771115">.</span><span class="ident" id="7771116">x</span><span class="op" id="7771117">,</span>&nbsp;<span class="ident" id="7771119"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771123">.</span><span class="ident" id="7771124">y</span><span class="op" id="7771125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771129"><a href="/math/big/rat_test.go.html#7768502">testRatBin</a></span><span class="op" id="7771139">(</span><span class="ident" id="7771140"><a href="/math/big/rat_test.go.html#7770844">t</a></span><span class="op" id="7771141">,</span>&nbsp;<span class="ident" id="7771143"><a href="/math/big/rat_test.go.html#7770865">i</a></span><span class="op" id="7771144">,</span>&nbsp;<span class="string" id="7771146">&#34;Sub&#34;</span><span class="op" id="7771151">,</span>&nbsp;<span class="op" id="7771153">(</span><span class="op" id="7771154">*</span><span class="ident" id="7771155"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7771158">)</span><span class="op" id="7771159">.</span><span class="ident" id="7771160">Sub</span><span class="op" id="7771163">,</span>&nbsp;<span class="ident" id="7771165"><a href="/math/big/rat_test.go.html#7770898">arg</a></span><span class="op" id="7771168">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771173"><a href="/math/big/rat_test.go.html#7770898">arg</a></span>&nbsp;<span class="op" id="7771177">=</span>&nbsp;<span class="ident" id="7771179"><a href="/math/big/rat_test.go.html#7768459">ratBinArg</a></span><span class="op" id="7771188">{</span><span class="ident" id="7771189"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771193">.</span><span class="ident" id="7771194">sum</span><span class="op" id="7771197">,</span>&nbsp;<span class="ident" id="7771199"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771203">.</span><span class="ident" id="7771204">y</span><span class="op" id="7771205">,</span>&nbsp;<span class="ident" id="7771207"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771211">.</span><span class="ident" id="7771212">x</span><span class="op" id="7771213">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771217"><a href="/math/big/rat_test.go.html#7768502">testRatBin</a></span><span class="op" id="7771227">(</span><span class="ident" id="7771228"><a href="/math/big/rat_test.go.html#7770844">t</a></span><span class="op" id="7771229">,</span>&nbsp;<span class="ident" id="7771231"><a href="/math/big/rat_test.go.html#7770865">i</a></span><span class="op" id="7771232">,</span>&nbsp;<span class="string" id="7771234">&#34;Sub&nbsp;symmetric&#34;</span><span class="op" id="7771249">,</span>&nbsp;<span class="op" id="7771251">(</span><span class="op" id="7771252">*</span><span class="ident" id="7771253"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7771256">)</span><span class="op" id="7771257">.</span><span class="ident" id="7771258">Sub</span><span class="op" id="7771261">,</span>&nbsp;<span class="ident" id="7771263"><a href="/math/big/rat_test.go.html#7770898">arg</a></span><span class="op" id="7771266">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771271"><a href="/math/big/rat_test.go.html#7770898">arg</a></span>&nbsp;<span class="op" id="7771275">=</span>&nbsp;<span class="ident" id="7771277"><a href="/math/big/rat_test.go.html#7768459">ratBinArg</a></span><span class="op" id="7771286">{</span><span class="ident" id="7771287"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771291">.</span><span class="ident" id="7771292">x</span><span class="op" id="7771293">,</span>&nbsp;<span class="ident" id="7771295"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771299">.</span><span class="ident" id="7771300">y</span><span class="op" id="7771301">,</span>&nbsp;<span class="ident" id="7771303"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771307">.</span><span class="ident" id="7771308">prod</span><span class="op" id="7771312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771316"><a href="/math/big/rat_test.go.html#7768502">testRatBin</a></span><span class="op" id="7771326">(</span><span class="ident" id="7771327"><a href="/math/big/rat_test.go.html#7770844">t</a></span><span class="op" id="7771328">,</span>&nbsp;<span class="ident" id="7771330"><a href="/math/big/rat_test.go.html#7770865">i</a></span><span class="op" id="7771331">,</span>&nbsp;<span class="string" id="7771333">&#34;Mul&#34;</span><span class="op" id="7771338">,</span>&nbsp;<span class="op" id="7771340">(</span><span class="op" id="7771341">*</span><span class="ident" id="7771342"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7771345">)</span><span class="op" id="7771346">.</span><span class="ident" id="7771347">Mul</span><span class="op" id="7771350">,</span>&nbsp;<span class="ident" id="7771352"><a href="/math/big/rat_test.go.html#7770898">arg</a></span><span class="op" id="7771355">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771360"><a href="/math/big/rat_test.go.html#7770898">arg</a></span>&nbsp;<span class="op" id="7771364">=</span>&nbsp;<span class="ident" id="7771366"><a href="/math/big/rat_test.go.html#7768459">ratBinArg</a></span><span class="op" id="7771375">{</span><span class="ident" id="7771376"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771380">.</span><span class="ident" id="7771381">y</span><span class="op" id="7771382">,</span>&nbsp;<span class="ident" id="7771384"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771388">.</span><span class="ident" id="7771389">x</span><span class="op" id="7771390">,</span>&nbsp;<span class="ident" id="7771392"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771396">.</span><span class="ident" id="7771397">prod</span><span class="op" id="7771401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771405"><a href="/math/big/rat_test.go.html#7768502">testRatBin</a></span><span class="op" id="7771415">(</span><span class="ident" id="7771416"><a href="/math/big/rat_test.go.html#7770844">t</a></span><span class="op" id="7771417">,</span>&nbsp;<span class="ident" id="7771419"><a href="/math/big/rat_test.go.html#7770865">i</a></span><span class="op" id="7771420">,</span>&nbsp;<span class="string" id="7771422">&#34;Mul&nbsp;symmetric&#34;</span><span class="op" id="7771437">,</span>&nbsp;<span class="op" id="7771439">(</span><span class="op" id="7771440">*</span><span class="ident" id="7771441"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7771444">)</span><span class="op" id="7771445">.</span><span class="ident" id="7771446">Mul</span><span class="op" id="7771449">,</span>&nbsp;<span class="ident" id="7771451"><a href="/math/big/rat_test.go.html#7770898">arg</a></span><span class="op" id="7771454">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7771459">if</span>&nbsp;<span class="ident" id="7771462"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771466">.</span><span class="ident" id="7771467">x</span>&nbsp;<span class="op" id="7771469">!=</span>&nbsp;<span class="string" id="7771472">&#34;0&#34;</span>&nbsp;<span class="op" id="7771476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771481"><a href="/math/big/rat_test.go.html#7770898">arg</a></span>&nbsp;<span class="op" id="7771485">=</span>&nbsp;<span class="ident" id="7771487"><a href="/math/big/rat_test.go.html#7768459">ratBinArg</a></span><span class="op" id="7771496">{</span><span class="ident" id="7771497"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771501">.</span><span class="ident" id="7771502">prod</span><span class="op" id="7771506">,</span>&nbsp;<span class="ident" id="7771508"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771512">.</span><span class="ident" id="7771513">x</span><span class="op" id="7771514">,</span>&nbsp;<span class="ident" id="7771516"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771520">.</span><span class="ident" id="7771521">y</span><span class="op" id="7771522">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771527"><a href="/math/big/rat_test.go.html#7768502">testRatBin</a></span><span class="op" id="7771537">(</span><span class="ident" id="7771538"><a href="/math/big/rat_test.go.html#7770844">t</a></span><span class="op" id="7771539">,</span>&nbsp;<span class="ident" id="7771541"><a href="/math/big/rat_test.go.html#7770865">i</a></span><span class="op" id="7771542">,</span>&nbsp;<span class="string" id="7771544">&#34;Quo&#34;</span><span class="op" id="7771549">,</span>&nbsp;<span class="op" id="7771551">(</span><span class="op" id="7771552">*</span><span class="ident" id="7771553"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7771556">)</span><span class="op" id="7771557">.</span><span class="ident" id="7771558">Quo</span><span class="op" id="7771561">,</span>&nbsp;<span class="ident" id="7771563"><a href="/math/big/rat_test.go.html#7770898">arg</a></span><span class="op" id="7771566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7771575">if</span>&nbsp;<span class="ident" id="7771578"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771582">.</span><span class="ident" id="7771583">y</span>&nbsp;<span class="op" id="7771585">!=</span>&nbsp;<span class="string" id="7771588">&#34;0&#34;</span>&nbsp;<span class="op" id="7771592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771597"><a href="/math/big/rat_test.go.html#7770898">arg</a></span>&nbsp;<span class="op" id="7771601">=</span>&nbsp;<span class="ident" id="7771603"><a href="/math/big/rat_test.go.html#7768459">ratBinArg</a></span><span class="op" id="7771612">{</span><span class="ident" id="7771613"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771617">.</span><span class="ident" id="7771618">prod</span><span class="op" id="7771622">,</span>&nbsp;<span class="ident" id="7771624"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771628">.</span><span class="ident" id="7771629">y</span><span class="op" id="7771630">,</span>&nbsp;<span class="ident" id="7771632"><a href="/math/big/rat_test.go.html#7770868">test</a></span><span class="op" id="7771636">.</span><span class="ident" id="7771637">x</span><span class="op" id="7771638">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771643"><a href="/math/big/rat_test.go.html#7768502">testRatBin</a></span><span class="op" id="7771653">(</span><span class="ident" id="7771654"><a href="/math/big/rat_test.go.html#7770844">t</a></span><span class="op" id="7771655">,</span>&nbsp;<span class="ident" id="7771657"><a href="/math/big/rat_test.go.html#7770865">i</a></span><span class="op" id="7771658">,</span>&nbsp;<span class="string" id="7771660">&#34;Quo&nbsp;symmetric&#34;</span><span class="op" id="7771675">,</span>&nbsp;<span class="op" id="7771677">(</span><span class="op" id="7771678">*</span><span class="ident" id="7771679"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7771682">)</span><span class="op" id="7771683">.</span><span class="ident" id="7771684">Quo</span><span class="op" id="7771687">,</span>&nbsp;<span class="ident" id="7771689"><a href="/math/big/rat_test.go.html#7770898">arg</a></span><span class="op" id="7771692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771699">}</span><br>
<span class="lineno"></span><span class="op" id="7771701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="7771704">func</span>&nbsp;<span class="ident" id="7771709">TestIssue820</span><span class="op" id="7771721">(</span><span class="ident" id="7771722">t</span>&nbsp;<span class="op" id="7771724">*</span><span class="ident" id="7771725"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7771732">.</span><span class="ident" id="7771733">T</span><span class="op" id="7771734">)</span>&nbsp;<span class="op" id="7771736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771739">x</span>&nbsp;<span class="op" id="7771741">:=</span>&nbsp;<span class="ident" id="7771744"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7771750">(</span><span class="num" id="7771751">3</span><span class="op" id="7771752">,</span>&nbsp;<span class="num" id="7771754">1</span><span class="op" id="7771755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771758">y</span>&nbsp;<span class="op" id="7771760">:=</span>&nbsp;<span class="ident" id="7771763"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7771769">(</span><span class="num" id="7771770">2</span><span class="op" id="7771771">,</span>&nbsp;<span class="num" id="7771773">1</span><span class="op" id="7771774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771777">z</span>&nbsp;<span class="op" id="7771779">:=</span>&nbsp;<span class="ident" id="7771782"><a href="/math/big/rat_test.go.html#7771758">y</a></span><span class="op" id="7771783">.</span><span class="ident" id="7771784">Quo</span><span class="op" id="7771787">(</span><span class="ident" id="7771788"><a href="/math/big/rat_test.go.html#7771739">x</a></span><span class="op" id="7771789">,</span>&nbsp;<span class="ident" id="7771791"><a href="/math/big/rat_test.go.html#7771758">y</a></span><span class="op" id="7771792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771795">q</span>&nbsp;<span class="op" id="7771797">:=</span>&nbsp;<span class="ident" id="7771800"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7771806">(</span><span class="num" id="7771807">3</span><span class="op" id="7771808">,</span>&nbsp;<span class="num" id="7771810">2</span><span class="op" id="7771811">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7771814">if</span>&nbsp;<span class="ident" id="7771817"><a href="/math/big/rat_test.go.html#7771777">z</a></span><span class="op" id="7771818">.</span><span class="ident" id="7771819">Cmp</span><span class="op" id="7771822">(</span><span class="ident" id="7771823"><a href="/math/big/rat_test.go.html#7771795">q</a></span><span class="op" id="7771824">)</span>&nbsp;<span class="op" id="7771826">!=</span>&nbsp;<span class="num" id="7771829">0</span>&nbsp;<span class="op" id="7771831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771835"><a href="/math/big/rat_test.go.html#7771722">t</a></span><span class="op" id="7771836">.</span><span class="ident" id="7771837">Errorf</span><span class="op" id="7771843">(</span><span class="string" id="7771844">&#34;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7771860">,</span>&nbsp;<span class="ident" id="7771862"><a href="/math/big/rat_test.go.html#7771777">z</a></span><span class="op" id="7771863">,</span>&nbsp;<span class="ident" id="7771865"><a href="/math/big/rat_test.go.html#7771795">q</a></span><span class="op" id="7771866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771873"><a href="/math/big/rat_test.go.html#7771758">y</a></span>&nbsp;<span class="op" id="7771875">=</span>&nbsp;<span class="ident" id="7771877"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7771883">(</span><span class="num" id="7771884">3</span><span class="op" id="7771885">,</span>&nbsp;<span class="num" id="7771887">1</span><span class="op" id="7771888">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771891"><a href="/math/big/rat_test.go.html#7771739">x</a></span>&nbsp;<span class="op" id="7771893">=</span>&nbsp;<span class="ident" id="7771895"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7771901">(</span><span class="num" id="7771902">2</span><span class="op" id="7771903">,</span>&nbsp;<span class="num" id="7771905">1</span><span class="op" id="7771906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771909"><a href="/math/big/rat_test.go.html#7771777">z</a></span>&nbsp;<span class="op" id="7771911">=</span>&nbsp;<span class="ident" id="7771913"><a href="/math/big/rat_test.go.html#7771758">y</a></span><span class="op" id="7771914">.</span><span class="ident" id="7771915">Quo</span><span class="op" id="7771918">(</span><span class="ident" id="7771919"><a href="/math/big/rat_test.go.html#7771739">x</a></span><span class="op" id="7771920">,</span>&nbsp;<span class="ident" id="7771922"><a href="/math/big/rat_test.go.html#7771758">y</a></span><span class="op" id="7771923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771926"><a href="/math/big/rat_test.go.html#7771795">q</a></span>&nbsp;<span class="op" id="7771928">=</span>&nbsp;<span class="ident" id="7771930"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7771936">(</span><span class="num" id="7771937">2</span><span class="op" id="7771938">,</span>&nbsp;<span class="num" id="7771940">3</span><span class="op" id="7771941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7771944">if</span>&nbsp;<span class="ident" id="7771947"><a href="/math/big/rat_test.go.html#7771777">z</a></span><span class="op" id="7771948">.</span><span class="ident" id="7771949">Cmp</span><span class="op" id="7771952">(</span><span class="ident" id="7771953"><a href="/math/big/rat_test.go.html#7771795">q</a></span><span class="op" id="7771954">)</span>&nbsp;<span class="op" id="7771956">!=</span>&nbsp;<span class="num" id="7771959">0</span>&nbsp;<span class="op" id="7771961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7771965"><a href="/math/big/rat_test.go.html#7771722">t</a></span><span class="op" id="7771966">.</span><span class="ident" id="7771967">Errorf</span><span class="op" id="7771973">(</span><span class="string" id="7771974">&#34;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7771990">,</span>&nbsp;<span class="ident" id="7771992"><a href="/math/big/rat_test.go.html#7771777">z</a></span><span class="op" id="7771993">,</span>&nbsp;<span class="ident" id="7771995"><a href="/math/big/rat_test.go.html#7771795">q</a></span><span class="op" id="7771996">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7771999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772003"><a href="/math/big/rat_test.go.html#7771739">x</a></span>&nbsp;<span class="op" id="7772005">=</span>&nbsp;<span class="ident" id="7772007"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7772013">(</span><span class="num" id="7772014">3</span><span class="op" id="7772015">,</span>&nbsp;<span class="num" id="7772017">1</span><span class="op" id="7772018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772021"><a href="/math/big/rat_test.go.html#7771777">z</a></span>&nbsp;<span class="op" id="7772023">=</span>&nbsp;<span class="ident" id="7772025"><a href="/math/big/rat_test.go.html#7771739">x</a></span><span class="op" id="7772026">.</span><span class="ident" id="7772027">Quo</span><span class="op" id="7772030">(</span><span class="ident" id="7772031"><a href="/math/big/rat_test.go.html#7771739">x</a></span><span class="op" id="7772032">,</span>&nbsp;<span class="ident" id="7772034"><a href="/math/big/rat_test.go.html#7771739">x</a></span><span class="op" id="7772035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772038"><a href="/math/big/rat_test.go.html#7771795">q</a></span>&nbsp;<span class="op" id="7772040">=</span>&nbsp;<span class="ident" id="7772042"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7772048">(</span><span class="num" id="7772049">3</span><span class="op" id="7772050">,</span>&nbsp;<span class="num" id="7772052">3</span><span class="op" id="7772053">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7772056">if</span>&nbsp;<span class="ident" id="7772059"><a href="/math/big/rat_test.go.html#7771777">z</a></span><span class="op" id="7772060">.</span><span class="ident" id="7772061">Cmp</span><span class="op" id="7772064">(</span><span class="ident" id="7772065"><a href="/math/big/rat_test.go.html#7771795">q</a></span><span class="op" id="7772066">)</span>&nbsp;<span class="op" id="7772068">!=</span>&nbsp;<span class="num" id="7772071">0</span>&nbsp;<span class="op" id="7772073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772077"><a href="/math/big/rat_test.go.html#7771722">t</a></span><span class="op" id="7772078">.</span><span class="ident" id="7772079">Errorf</span><span class="op" id="7772085">(</span><span class="string" id="7772086">&#34;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7772102">,</span>&nbsp;<span class="ident" id="7772104"><a href="/math/big/rat_test.go.html#7771777">z</a></span><span class="op" id="7772105">,</span>&nbsp;<span class="ident" id="7772107"><a href="/math/big/rat_test.go.html#7771795">q</a></span><span class="op" id="7772108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772111">}</span><br>
<span class="lineno"></span><span class="op" id="7772113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="7772116">var</span>&nbsp;<span class="ident" id="7772120">setFrac64Tests</span>&nbsp;<span class="op" id="7772135">=</span>&nbsp;<span class="op" id="7772137">[</span><span class="op" id="7772138">]</span><span class="keyword" id="7772139">struct</span>&nbsp;<span class="op" id="7772146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772149">a</span><span class="op" id="7772150">,</span>&nbsp;<span class="ident" id="7772152">b</span>&nbsp;<span class="ident" id="7772154">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772161">out</span>&nbsp;&nbsp;<span class="builtintype" id="7772166">string</span><br>
<span class="lineno"></span><span class="op" id="7772173">}</span><span class="op" id="7772174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772177">{</span><span class="num" id="7772178">0</span><span class="op" id="7772179">,</span>&nbsp;<span class="num" id="7772181">1</span><span class="op" id="7772182">,</span>&nbsp;<span class="string" id="7772184">&#34;0&#34;</span><span class="op" id="7772187">}</span><span class="op" id="7772188">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772191">{</span><span class="num" id="7772192">0</span><span class="op" id="7772193">,</span>&nbsp;<span class="op" id="7772195">-</span><span class="num" id="7772196">1</span><span class="op" id="7772197">,</span>&nbsp;<span class="string" id="7772199">&#34;0&#34;</span><span class="op" id="7772202">}</span><span class="op" id="7772203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772206">{</span><span class="num" id="7772207">1</span><span class="op" id="7772208">,</span>&nbsp;<span class="num" id="7772210">1</span><span class="op" id="7772211">,</span>&nbsp;<span class="string" id="7772213">&#34;1&#34;</span><span class="op" id="7772216">}</span><span class="op" id="7772217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772220">{</span><span class="op" id="7772221">-</span><span class="num" id="7772222">1</span><span class="op" id="7772223">,</span>&nbsp;<span class="num" id="7772225">1</span><span class="op" id="7772226">,</span>&nbsp;<span class="string" id="7772228">&#34;-1&#34;</span><span class="op" id="7772232">}</span><span class="op" id="7772233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772236">{</span><span class="num" id="7772237">1</span><span class="op" id="7772238">,</span>&nbsp;<span class="op" id="7772240">-</span><span class="num" id="7772241">1</span><span class="op" id="7772242">,</span>&nbsp;<span class="string" id="7772244">&#34;-1&#34;</span><span class="op" id="7772248">}</span><span class="op" id="7772249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772252">{</span><span class="op" id="7772253">-</span><span class="num" id="7772254">1</span><span class="op" id="7772255">,</span>&nbsp;<span class="op" id="7772257">-</span><span class="num" id="7772258">1</span><span class="op" id="7772259">,</span>&nbsp;<span class="string" id="7772261">&#34;1&#34;</span><span class="op" id="7772264">}</span><span class="op" id="7772265">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772268">{</span><span class="op" id="7772269">-</span><span class="num" id="7772270">9223372036854775808</span><span class="op" id="7772289">,</span>&nbsp;<span class="op" id="7772291">-</span><span class="num" id="7772292">9223372036854775808</span><span class="op" id="7772311">,</span>&nbsp;<span class="string" id="7772313">&#34;1&#34;</span><span class="op" id="7772316">}</span><span class="op" id="7772317">,</span><br>
<span class="lineno"></span><span class="op" id="7772319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7772322">func</span>&nbsp;<span class="ident" id="7772327">TestRatSetFrac64Rat</span><span class="op" id="7772346">(</span><span class="ident" id="7772347">t</span>&nbsp;<span class="op" id="7772349">*</span><span class="ident" id="7772350"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7772357">.</span><span class="ident" id="7772358">T</span><span class="op" id="7772359">)</span>&nbsp;<span class="op" id="7772361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7772364">for</span>&nbsp;<span class="ident" id="7772368">i</span><span class="op" id="7772369">,</span>&nbsp;<span class="ident" id="7772371">test</span>&nbsp;<span class="op" id="7772376">:=</span>&nbsp;<span class="keyword" id="7772379">range</span>&nbsp;<span class="ident" id="7772385"><a href="/math/big/rat_test.go.html#7772120">setFrac64Tests</a></span>&nbsp;<span class="op" id="7772400">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772404">x</span>&nbsp;<span class="op" id="7772406">:=</span>&nbsp;<span class="builtinfunc" id="7772409">new</span><span class="op" id="7772412">(</span><span class="ident" id="7772413"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7772416">)</span><span class="op" id="7772417">.</span><span class="ident" id="7772418">SetFrac64</span><span class="op" id="7772427">(</span><span class="ident" id="7772428"><a href="/math/big/rat_test.go.html#7772371">test</a></span><span class="op" id="7772432">.</span><span class="ident" id="7772433">a</span><span class="op" id="7772434">,</span>&nbsp;<span class="ident" id="7772436"><a href="/math/big/rat_test.go.html#7772371">test</a></span><span class="op" id="7772440">.</span><span class="ident" id="7772441">b</span><span class="op" id="7772442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7772446">if</span>&nbsp;<span class="ident" id="7772449"><a href="/math/big/rat_test.go.html#7772404">x</a></span><span class="op" id="7772450">.</span><span class="ident" id="7772451">RatString</span><span class="op" id="7772460">(</span><span class="op" id="7772461">)</span>&nbsp;<span class="op" id="7772463">!=</span>&nbsp;<span class="ident" id="7772466"><a href="/math/big/rat_test.go.html#7772371">test</a></span><span class="op" id="7772470">.</span><span class="ident" id="7772471">out</span>&nbsp;<span class="op" id="7772475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772480"><a href="/math/big/rat_test.go.html#7772347">t</a></span><span class="op" id="7772481">.</span><span class="ident" id="7772482">Errorf</span><span class="op" id="7772488">(</span><span class="string" id="7772489">&#34;#%d&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7772509">,</span>&nbsp;<span class="ident" id="7772511"><a href="/math/big/rat_test.go.html#7772368">i</a></span><span class="op" id="7772512">,</span>&nbsp;<span class="ident" id="7772514"><a href="/math/big/rat_test.go.html#7772404">x</a></span><span class="op" id="7772515">.</span><span class="ident" id="7772516">RatString</span><span class="op" id="7772525">(</span><span class="op" id="7772526">)</span><span class="op" id="7772527">,</span>&nbsp;<span class="ident" id="7772529"><a href="/math/big/rat_test.go.html#7772371">test</a></span><span class="op" id="7772533">.</span><span class="ident" id="7772534">out</span><span class="op" id="7772537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772544">}</span><br>
<span class="lineno">390</span><span class="op" id="7772546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7772549">func</span>&nbsp;<span class="ident" id="7772554">TestRatGobEncoding</span><span class="op" id="7772572">(</span><span class="ident" id="7772573">t</span>&nbsp;<span class="op" id="7772575">*</span><span class="ident" id="7772576"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7772583">.</span><span class="ident" id="7772584">T</span><span class="op" id="7772585">)</span>&nbsp;<span class="op" id="7772587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7772590">var</span>&nbsp;<span class="ident" id="7772594">medium</span>&nbsp;<span class="ident" id="7772601"><a href="/math/big/rat_test.go.html#7762679">bytes</a></span><span class="op" id="7772606">.</span><span class="ident" id="7772607">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772615">enc</span>&nbsp;<span class="op" id="7772619">:=</span>&nbsp;<span class="ident" id="7772622"><a href="/math/big/rat_test.go.html#7762688">gob</a></span><span class="op" id="7772625">.</span><span class="ident" id="7772626">NewEncoder</span><span class="op" id="7772636">(</span><span class="op" id="7772637">&amp;</span><span class="ident" id="7772638"><a href="/math/big/rat_test.go.html#7772594">medium</a></span><span class="op" id="7772644">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772647">dec</span>&nbsp;<span class="op" id="7772651">:=</span>&nbsp;<span class="ident" id="7772654"><a href="/math/big/rat_test.go.html#7762688">gob</a></span><span class="op" id="7772657">.</span><span class="ident" id="7772658">NewDecoder</span><span class="op" id="7772668">(</span><span class="op" id="7772669">&amp;</span><span class="ident" id="7772670"><a href="/math/big/rat_test.go.html#7772594">medium</a></span><span class="op" id="7772676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7772679">for</span>&nbsp;<span class="ident" id="7772683">_</span><span class="op" id="7772684">,</span>&nbsp;<span class="ident" id="7772686">test</span>&nbsp;<span class="op" id="7772691">:=</span>&nbsp;<span class="keyword" id="7772694">range</span>&nbsp;<span class="ident" id="7772700"><a href="/math/big/int_test.go.html#7733153">encodingTests</a></span>&nbsp;<span class="op" id="7772714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772718"><a href="/math/big/rat_test.go.html#7772594">medium</a></span><span class="op" id="7772724">.</span><span class="ident" id="7772725">Reset</span><span class="op" id="7772730">(</span><span class="op" id="7772731">)</span>&nbsp;<span class="comment" id="7772733">//&nbsp;empty&nbsp;buffer&nbsp;for&nbsp;each&nbsp;test&nbsp;case&nbsp;(in&nbsp;case&nbsp;of&nbsp;failures)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7772792">var</span>&nbsp;<span class="ident" id="7772796">tx</span>&nbsp;<span class="ident" id="7772799"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772805"><a href="/math/big/rat_test.go.html#7772796">tx</a></span><span class="op" id="7772807">.</span><span class="ident" id="7772808">SetString</span><span class="op" id="7772817">(</span><span class="ident" id="7772818"><a href="/math/big/rat_test.go.html#7772686">test</a></span>&nbsp;<span class="op" id="7772823">+</span>&nbsp;<span class="string" id="7772825">&#34;.14159265&#34;</span><span class="op" id="7772836">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7772840">if</span>&nbsp;<span class="ident" id="7772843">err</span>&nbsp;<span class="op" id="7772847">:=</span>&nbsp;<span class="ident" id="7772850"><a href="/math/big/rat_test.go.html#7772615">enc</a></span><span class="op" id="7772853">.</span><span class="ident" id="7772854">Encode</span><span class="op" id="7772860">(</span><span class="op" id="7772861">&amp;</span><span class="ident" id="7772862"><a href="/math/big/rat_test.go.html#7772796">tx</a></span><span class="op" id="7772864">)</span><span class="op" id="7772865">;</span>&nbsp;<span class="ident" id="7772867"><a href="/math/big/rat_test.go.html#7772843">err</a></span>&nbsp;<span class="op" id="7772871">!=</span>&nbsp;<span class="ident" id="7772874">nil</span>&nbsp;<span class="op" id="7772878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772883"><a href="/math/big/rat_test.go.html#7772573">t</a></span><span class="op" id="7772884">.</span><span class="ident" id="7772885">Errorf</span><span class="op" id="7772891">(</span><span class="string" id="7772892">&#34;encoding&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7772919">,</span>&nbsp;<span class="op" id="7772921">&amp;</span><span class="ident" id="7772922"><a href="/math/big/rat_test.go.html#7772796">tx</a></span><span class="op" id="7772924">,</span>&nbsp;<span class="ident" id="7772926"><a href="/math/big/rat_test.go.html#7772843">err</a></span><span class="op" id="7772929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7772933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7772937">var</span>&nbsp;<span class="ident" id="7772941">rx</span>&nbsp;<span class="ident" id="7772944"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7772950">if</span>&nbsp;<span class="ident" id="7772953">err</span>&nbsp;<span class="op" id="7772957">:=</span>&nbsp;<span class="ident" id="7772960"><a href="/math/big/rat_test.go.html#7772647">dec</a></span><span class="op" id="7772963">.</span><span class="ident" id="7772964">Decode</span><span class="op" id="7772970">(</span><span class="op" id="7772971">&amp;</span><span class="ident" id="7772972"><a href="/math/big/rat_test.go.html#7772941">rx</a></span><span class="op" id="7772974">)</span><span class="op" id="7772975">;</span>&nbsp;<span class="ident" id="7772977"><a href="/math/big/rat_test.go.html#7772953">err</a></span>&nbsp;<span class="op" id="7772981">!=</span>&nbsp;<span class="ident" id="7772984">nil</span>&nbsp;<span class="op" id="7772988">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7772993"><a href="/math/big/rat_test.go.html#7772573">t</a></span><span class="op" id="7772994">.</span><span class="ident" id="7772995">Errorf</span><span class="op" id="7773001">(</span><span class="string" id="7773002">&#34;decoding&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7773029">,</span>&nbsp;<span class="op" id="7773031">&amp;</span><span class="ident" id="7773032"><a href="/math/big/rat_test.go.html#7772796">tx</a></span><span class="op" id="7773034">,</span>&nbsp;<span class="ident" id="7773036"><a href="/math/big/rat_test.go.html#7772953">err</a></span><span class="op" id="7773039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773047">if</span>&nbsp;<span class="ident" id="7773050"><a href="/math/big/rat_test.go.html#7772941">rx</a></span><span class="op" id="7773052">.</span><span class="ident" id="7773053">Cmp</span><span class="op" id="7773056">(</span><span class="op" id="7773057">&amp;</span><span class="ident" id="7773058"><a href="/math/big/rat_test.go.html#7772796">tx</a></span><span class="op" id="7773060">)</span>&nbsp;<span class="op" id="7773062">!=</span>&nbsp;<span class="num" id="7773065">0</span>&nbsp;<span class="op" id="7773067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773072"><a href="/math/big/rat_test.go.html#7772573">t</a></span><span class="op" id="7773073">.</span><span class="ident" id="7773074">Errorf</span><span class="op" id="7773080">(</span><span class="string" id="7773081">&#34;transmission&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7773124">,</span>&nbsp;<span class="op" id="7773126">&amp;</span><span class="ident" id="7773127"><a href="/math/big/rat_test.go.html#7772796">tx</a></span><span class="op" id="7773129">,</span>&nbsp;<span class="op" id="7773131">&amp;</span><span class="ident" id="7773132"><a href="/math/big/rat_test.go.html#7772941">rx</a></span><span class="op" id="7773134">,</span>&nbsp;<span class="op" id="7773136">&amp;</span><span class="ident" id="7773137"><a href="/math/big/rat_test.go.html#7772796">tx</a></span><span class="op" id="7773139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773143">}</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773146">}</span><br>
<span class="lineno"></span><span class="op" id="7773148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7773151">//&nbsp;Sending&nbsp;a&nbsp;nil&nbsp;Rat&nbsp;pointer&nbsp;(inside&nbsp;a&nbsp;slice)&nbsp;on&nbsp;a&nbsp;round&nbsp;trip&nbsp;through&nbsp;gob&nbsp;should&nbsp;yield&nbsp;a&nbsp;zero.</span><br>
<span class="lineno"></span><span class="comment" id="7773246">//&nbsp;TODO:&nbsp;top-level&nbsp;nils.</span><br>
<span class="lineno">415</span><span class="keyword" id="7773271">func</span>&nbsp;<span class="ident" id="7773276">TestGobEncodingNilRatInSlice</span><span class="op" id="7773304">(</span><span class="ident" id="7773305">t</span>&nbsp;<span class="op" id="7773307">*</span><span class="ident" id="7773308"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7773315">.</span><span class="ident" id="7773316">T</span><span class="op" id="7773317">)</span>&nbsp;<span class="op" id="7773319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773322">buf</span>&nbsp;<span class="op" id="7773326">:=</span>&nbsp;<span class="builtinfunc" id="7773329">new</span><span class="op" id="7773332">(</span><span class="ident" id="7773333"><a href="/math/big/rat_test.go.html#7762679">bytes</a></span><span class="op" id="7773338">.</span><span class="ident" id="7773339">Buffer</span><span class="op" id="7773345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773348">enc</span>&nbsp;<span class="op" id="7773352">:=</span>&nbsp;<span class="ident" id="7773355"><a href="/math/big/rat_test.go.html#7762688">gob</a></span><span class="op" id="7773358">.</span><span class="ident" id="7773359">NewEncoder</span><span class="op" id="7773369">(</span><span class="ident" id="7773370"><a href="/math/big/rat_test.go.html#7773322">buf</a></span><span class="op" id="7773373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773376">dec</span>&nbsp;<span class="op" id="7773380">:=</span>&nbsp;<span class="ident" id="7773383"><a href="/math/big/rat_test.go.html#7762688">gob</a></span><span class="op" id="7773386">.</span><span class="ident" id="7773387">NewDecoder</span><span class="op" id="7773397">(</span><span class="ident" id="7773398"><a href="/math/big/rat_test.go.html#7773322">buf</a></span><span class="op" id="7773401">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773405">var</span>&nbsp;<span class="ident" id="7773409">in</span>&nbsp;<span class="op" id="7773412">=</span>&nbsp;<span class="builtinfunc" id="7773414">make</span><span class="op" id="7773418">(</span><span class="op" id="7773419">[</span><span class="op" id="7773420">]</span><span class="op" id="7773421">*</span><span class="ident" id="7773422"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7773425">,</span>&nbsp;<span class="num" id="7773427">1</span><span class="op" id="7773428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773431">err</span>&nbsp;<span class="op" id="7773435">:=</span>&nbsp;<span class="ident" id="7773438"><a href="/math/big/rat_test.go.html#7773348">enc</a></span><span class="op" id="7773441">.</span><span class="ident" id="7773442">Encode</span><span class="op" id="7773448">(</span><span class="op" id="7773449">&amp;</span><span class="ident" id="7773450"><a href="/math/big/rat_test.go.html#7773409">in</a></span><span class="op" id="7773452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773455">if</span>&nbsp;<span class="ident" id="7773458"><a href="/math/big/rat_test.go.html#7773431">err</a></span>&nbsp;<span class="op" id="7773462">!=</span>&nbsp;<span class="ident" id="7773465">nil</span>&nbsp;<span class="op" id="7773469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773473"><a href="/math/big/rat_test.go.html#7773305">t</a></span><span class="op" id="7773474">.</span><span class="ident" id="7773475">Errorf</span><span class="op" id="7773481">(</span><span class="string" id="7773482">&#34;gob&nbsp;encode&nbsp;failed:&nbsp;%q&#34;</span><span class="op" id="7773505">,</span>&nbsp;<span class="ident" id="7773507"><a href="/math/big/rat_test.go.html#7773431">err</a></span><span class="op" id="7773510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773513">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773516">var</span>&nbsp;<span class="ident" id="7773520">out</span>&nbsp;<span class="op" id="7773524">[</span><span class="op" id="7773525">]</span><span class="op" id="7773526">*</span><span class="ident" id="7773527"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773532"><a href="/math/big/rat_test.go.html#7773431">err</a></span>&nbsp;<span class="op" id="7773536">=</span>&nbsp;<span class="ident" id="7773538"><a href="/math/big/rat_test.go.html#7773376">dec</a></span><span class="op" id="7773541">.</span><span class="ident" id="7773542">Decode</span><span class="op" id="7773548">(</span><span class="op" id="7773549">&amp;</span><span class="ident" id="7773550"><a href="/math/big/rat_test.go.html#7773520">out</a></span><span class="op" id="7773553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773556">if</span>&nbsp;<span class="ident" id="7773559"><a href="/math/big/rat_test.go.html#7773431">err</a></span>&nbsp;<span class="op" id="7773563">!=</span>&nbsp;<span class="ident" id="7773566">nil</span>&nbsp;<span class="op" id="7773570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773574"><a href="/math/big/rat_test.go.html#7773305">t</a></span><span class="op" id="7773575">.</span><span class="ident" id="7773576">Fatalf</span><span class="op" id="7773582">(</span><span class="string" id="7773583">&#34;gob&nbsp;decode&nbsp;failed:&nbsp;%q&#34;</span><span class="op" id="7773606">,</span>&nbsp;<span class="ident" id="7773608"><a href="/math/big/rat_test.go.html#7773431">err</a></span><span class="op" id="7773611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773614">}</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773617">if</span>&nbsp;<span class="builtinfunc" id="7773620">len</span><span class="op" id="7773623">(</span><span class="ident" id="7773624"><a href="/math/big/rat_test.go.html#7773520">out</a></span><span class="op" id="7773627">)</span>&nbsp;<span class="op" id="7773629">!=</span>&nbsp;<span class="num" id="7773632">1</span>&nbsp;<span class="op" id="7773634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773638"><a href="/math/big/rat_test.go.html#7773305">t</a></span><span class="op" id="7773639">.</span><span class="ident" id="7773640">Fatalf</span><span class="op" id="7773646">(</span><span class="string" id="7773647">&#34;wrong&nbsp;len;&nbsp;want&nbsp;1&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7773673">,</span>&nbsp;<span class="builtinfunc" id="7773675">len</span><span class="op" id="7773678">(</span><span class="ident" id="7773679"><a href="/math/big/rat_test.go.html#7773520">out</a></span><span class="op" id="7773682">)</span><span class="op" id="7773683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773689">var</span>&nbsp;<span class="ident" id="7773693">zero</span>&nbsp;<span class="ident" id="7773698"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7773703">if</span>&nbsp;<span class="ident" id="7773706"><a href="/math/big/rat_test.go.html#7773520">out</a></span><span class="op" id="7773709">[</span><span class="num" id="7773710">0</span><span class="op" id="7773711">]</span><span class="op" id="7773712">.</span><span class="ident" id="7773713">Cmp</span><span class="op" id="7773716">(</span><span class="op" id="7773717">&amp;</span><span class="ident" id="7773718"><a href="/math/big/rat_test.go.html#7773693">zero</a></span><span class="op" id="7773722">)</span>&nbsp;<span class="op" id="7773724">!=</span>&nbsp;<span class="num" id="7773727">0</span>&nbsp;<span class="op" id="7773729">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7773733"><a href="/math/big/rat_test.go.html#7773305">t</a></span><span class="op" id="7773734">.</span><span class="ident" id="7773735">Errorf</span><span class="op" id="7773741">(</span><span class="string" id="7773742">&#34;transmission&nbsp;of&nbsp;(*Int)(nill)&nbsp;failed:&nbsp;got&nbsp;%s&nbsp;want&nbsp;0&#34;</span><span class="op" id="7773794">,</span>&nbsp;<span class="ident" id="7773796"><a href="/math/big/rat_test.go.html#7773520">out</a></span><span class="op" id="7773799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7773802">}</span><br>
<span class="lineno"></span><span class="op" id="7773804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7773807">var</span>&nbsp;<span class="ident" id="7773811">ratNums</span>&nbsp;<span class="op" id="7773819">=</span>&nbsp;<span class="op" id="7773821">[</span><span class="op" id="7773822">]</span><span class="builtintype" id="7773823">string</span><span class="op" id="7773829">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7773832">&#34;-141592653589793238462643383279502884197169399375105820974944592307816406286&#34;</span><span class="op" id="7773910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7773913">&#34;-1415926535897932384626433832795028841971&#34;</span><span class="op" id="7773956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7773959">&#34;-141592653589793&#34;</span><span class="op" id="7773977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7773980">&#34;-1&#34;</span><span class="op" id="7773984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7773987">&#34;0&#34;</span><span class="op" id="7773990">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7773993">&#34;1&#34;</span><span class="op" id="7773996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7773999">&#34;141592653589793&#34;</span><span class="op" id="7774016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7774019">&#34;1415926535897932384626433832795028841971&#34;</span><span class="op" id="7774061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7774064">&#34;141592653589793238462643383279502884197169399375105820974944592307816406286&#34;</span><span class="op" id="7774141">,</span><br>
<span class="lineno"></span><span class="op" id="7774143">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="7774146">var</span>&nbsp;<span class="ident" id="7774150">ratDenoms</span>&nbsp;<span class="op" id="7774160">=</span>&nbsp;<span class="op" id="7774162">[</span><span class="op" id="7774163">]</span><span class="builtintype" id="7774164">string</span><span class="op" id="7774170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7774173">&#34;1&#34;</span><span class="op" id="7774176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7774179">&#34;718281828459045&#34;</span><span class="op" id="7774196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7774199">&#34;7182818284590452353602874713526624977572&#34;</span><span class="op" id="7774241">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7774244">&#34;718281828459045235360287471352662497757247093699959574966967627724076630353&#34;</span><span class="op" id="7774321">,</span><br>
<span class="lineno"></span><span class="op" id="7774323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7774326">func</span>&nbsp;<span class="ident" id="7774331">TestRatJSONEncoding</span><span class="op" id="7774350">(</span><span class="ident" id="7774351">t</span>&nbsp;<span class="op" id="7774353">*</span><span class="ident" id="7774354"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7774361">.</span><span class="ident" id="7774362">T</span><span class="op" id="7774363">)</span>&nbsp;<span class="op" id="7774365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774368">for</span>&nbsp;<span class="ident" id="7774372">_</span><span class="op" id="7774373">,</span>&nbsp;<span class="ident" id="7774375">num</span>&nbsp;<span class="op" id="7774379">:=</span>&nbsp;<span class="keyword" id="7774382">range</span>&nbsp;<span class="ident" id="7774388"><a href="/math/big/rat_test.go.html#7773811">ratNums</a></span>&nbsp;<span class="op" id="7774396">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774400">for</span>&nbsp;<span class="ident" id="7774404">_</span><span class="op" id="7774405">,</span>&nbsp;<span class="ident" id="7774407">denom</span>&nbsp;<span class="op" id="7774413">:=</span>&nbsp;<span class="keyword" id="7774416">range</span>&nbsp;<span class="ident" id="7774422"><a href="/math/big/rat_test.go.html#7774150">ratDenoms</a></span>&nbsp;<span class="op" id="7774432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774437">var</span>&nbsp;<span class="ident" id="7774441">tx</span>&nbsp;<span class="ident" id="7774444"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774451"><a href="/math/big/rat_test.go.html#7774441">tx</a></span><span class="op" id="7774453">.</span><span class="ident" id="7774454">SetString</span><span class="op" id="7774463">(</span><span class="ident" id="7774464"><a href="/math/big/rat_test.go.html#7774375">num</a></span>&nbsp;<span class="op" id="7774468">+</span>&nbsp;<span class="string" id="7774470">&#34;/&#34;</span>&nbsp;<span class="op" id="7774474">+</span>&nbsp;<span class="ident" id="7774476"><a href="/math/big/rat_test.go.html#7774407">denom</a></span><span class="op" id="7774481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774486">b</span><span class="op" id="7774487">,</span>&nbsp;<span class="ident" id="7774489">err</span>&nbsp;<span class="op" id="7774493">:=</span>&nbsp;<span class="ident" id="7774496"><a href="/math/big/rat_test.go.html#7762704">json</a></span><span class="op" id="7774500">.</span><span class="ident" id="7774501">Marshal</span><span class="op" id="7774508">(</span><span class="op" id="7774509">&amp;</span><span class="ident" id="7774510"><a href="/math/big/rat_test.go.html#7774441">tx</a></span><span class="op" id="7774512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774517">if</span>&nbsp;<span class="ident" id="7774520"><a href="/math/big/rat_test.go.html#7774489">err</a></span>&nbsp;<span class="op" id="7774524">!=</span>&nbsp;<span class="ident" id="7774527">nil</span>&nbsp;<span class="op" id="7774531">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774537"><a href="/math/big/rat_test.go.html#7774351">t</a></span><span class="op" id="7774538">.</span><span class="ident" id="7774539">Errorf</span><span class="op" id="7774545">(</span><span class="string" id="7774546">&#34;marshaling&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7774575">,</span>&nbsp;<span class="op" id="7774577">&amp;</span><span class="ident" id="7774578"><a href="/math/big/rat_test.go.html#7774441">tx</a></span><span class="op" id="7774580">,</span>&nbsp;<span class="ident" id="7774582"><a href="/math/big/rat_test.go.html#7774489">err</a></span><span class="op" id="7774585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774591">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774608">var</span>&nbsp;<span class="ident" id="7774612">rx</span>&nbsp;<span class="ident" id="7774615"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774622">if</span>&nbsp;<span class="ident" id="7774625">err</span>&nbsp;<span class="op" id="7774629">:=</span>&nbsp;<span class="ident" id="7774632"><a href="/math/big/rat_test.go.html#7762704">json</a></span><span class="op" id="7774636">.</span><span class="ident" id="7774637">Unmarshal</span><span class="op" id="7774646">(</span><span class="ident" id="7774647"><a href="/math/big/rat_test.go.html#7774486">b</a></span><span class="op" id="7774648">,</span>&nbsp;<span class="op" id="7774650">&amp;</span><span class="ident" id="7774651"><a href="/math/big/rat_test.go.html#7774612">rx</a></span><span class="op" id="7774653">)</span><span class="op" id="7774654">;</span>&nbsp;<span class="ident" id="7774656"><a href="/math/big/rat_test.go.html#7774625">err</a></span>&nbsp;<span class="op" id="7774660">!=</span>&nbsp;<span class="ident" id="7774663">nil</span>&nbsp;<span class="op" id="7774667">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774673"><a href="/math/big/rat_test.go.html#7774351">t</a></span><span class="op" id="7774674">.</span><span class="ident" id="7774675">Errorf</span><span class="op" id="7774681">(</span><span class="string" id="7774682">&#34;unmarshaling&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7774713">,</span>&nbsp;<span class="op" id="7774715">&amp;</span><span class="ident" id="7774716"><a href="/math/big/rat_test.go.html#7774441">tx</a></span><span class="op" id="7774718">,</span>&nbsp;<span class="ident" id="7774720"><a href="/math/big/rat_test.go.html#7774625">err</a></span><span class="op" id="7774723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774729">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774746">if</span>&nbsp;<span class="ident" id="7774749"><a href="/math/big/rat_test.go.html#7774612">rx</a></span><span class="op" id="7774751">.</span><span class="ident" id="7774752">Cmp</span><span class="op" id="7774755">(</span><span class="op" id="7774756">&amp;</span><span class="ident" id="7774757"><a href="/math/big/rat_test.go.html#7774441">tx</a></span><span class="op" id="7774759">)</span>&nbsp;<span class="op" id="7774761">!=</span>&nbsp;<span class="num" id="7774764">0</span>&nbsp;<span class="op" id="7774766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774772"><a href="/math/big/rat_test.go.html#7774351">t</a></span><span class="op" id="7774773">.</span><span class="ident" id="7774774">Errorf</span><span class="op" id="7774780">(</span><span class="string" id="7774781">&#34;JSON&nbsp;encoding&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7774825">,</span>&nbsp;<span class="op" id="7774827">&amp;</span><span class="ident" id="7774828"><a href="/math/big/rat_test.go.html#7774441">tx</a></span><span class="op" id="7774830">,</span>&nbsp;<span class="op" id="7774832">&amp;</span><span class="ident" id="7774833"><a href="/math/big/rat_test.go.html#7774612">rx</a></span><span class="op" id="7774835">,</span>&nbsp;<span class="op" id="7774837">&amp;</span><span class="ident" id="7774838"><a href="/math/big/rat_test.go.html#7774441">tx</a></span><span class="op" id="7774840">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7774852">}</span><br>
<span class="lineno"></span><span class="op" id="7774854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="7774857">func</span>&nbsp;<span class="ident" id="7774862">TestRatXMLEncoding</span><span class="op" id="7774880">(</span><span class="ident" id="7774881">t</span>&nbsp;<span class="op" id="7774883">*</span><span class="ident" id="7774884"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7774891">.</span><span class="ident" id="7774892">T</span><span class="op" id="7774893">)</span>&nbsp;<span class="op" id="7774895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774898">for</span>&nbsp;<span class="ident" id="7774902">_</span><span class="op" id="7774903">,</span>&nbsp;<span class="ident" id="7774905">num</span>&nbsp;<span class="op" id="7774909">:=</span>&nbsp;<span class="keyword" id="7774912">range</span>&nbsp;<span class="ident" id="7774918"><a href="/math/big/rat_test.go.html#7773811">ratNums</a></span>&nbsp;<span class="op" id="7774926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774930">for</span>&nbsp;<span class="ident" id="7774934">_</span><span class="op" id="7774935">,</span>&nbsp;<span class="ident" id="7774937">denom</span>&nbsp;<span class="op" id="7774943">:=</span>&nbsp;<span class="keyword" id="7774946">range</span>&nbsp;<span class="ident" id="7774952"><a href="/math/big/rat_test.go.html#7774150">ratDenoms</a></span>&nbsp;<span class="op" id="7774962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7774967">var</span>&nbsp;<span class="ident" id="7774971">tx</span>&nbsp;<span class="ident" id="7774974"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7774981"><a href="/math/big/rat_test.go.html#7774971">tx</a></span><span class="op" id="7774983">.</span><span class="ident" id="7774984">SetString</span><span class="op" id="7774993">(</span><span class="ident" id="7774994"><a href="/math/big/rat_test.go.html#7774905">num</a></span>&nbsp;<span class="op" id="7774998">+</span>&nbsp;<span class="string" id="7775000">&#34;/&#34;</span>&nbsp;<span class="op" id="7775004">+</span>&nbsp;<span class="ident" id="7775006"><a href="/math/big/rat_test.go.html#7774937">denom</a></span><span class="op" id="7775011">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775016">b</span><span class="op" id="7775017">,</span>&nbsp;<span class="ident" id="7775019">err</span>&nbsp;<span class="op" id="7775023">:=</span>&nbsp;<span class="ident" id="7775026"><a href="/math/big/rat_test.go.html#7762721">xml</a></span><span class="op" id="7775029">.</span><span class="ident" id="7775030">Marshal</span><span class="op" id="7775037">(</span><span class="op" id="7775038">&amp;</span><span class="ident" id="7775039"><a href="/math/big/rat_test.go.html#7774971">tx</a></span><span class="op" id="7775041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775046">if</span>&nbsp;<span class="ident" id="7775049"><a href="/math/big/rat_test.go.html#7775019">err</a></span>&nbsp;<span class="op" id="7775053">!=</span>&nbsp;<span class="ident" id="7775056">nil</span>&nbsp;<span class="op" id="7775060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775066"><a href="/math/big/rat_test.go.html#7774881">t</a></span><span class="op" id="7775067">.</span><span class="ident" id="7775068">Errorf</span><span class="op" id="7775074">(</span><span class="string" id="7775075">&#34;marshaling&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7775104">,</span>&nbsp;<span class="op" id="7775106">&amp;</span><span class="ident" id="7775107"><a href="/math/big/rat_test.go.html#7774971">tx</a></span><span class="op" id="7775109">,</span>&nbsp;<span class="ident" id="7775111"><a href="/math/big/rat_test.go.html#7775019">err</a></span><span class="op" id="7775114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775120">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775132">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775137">var</span>&nbsp;<span class="ident" id="7775141">rx</span>&nbsp;<span class="ident" id="7775144"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775151">if</span>&nbsp;<span class="ident" id="7775154">err</span>&nbsp;<span class="op" id="7775158">:=</span>&nbsp;<span class="ident" id="7775161"><a href="/math/big/rat_test.go.html#7762721">xml</a></span><span class="op" id="7775164">.</span><span class="ident" id="7775165">Unmarshal</span><span class="op" id="7775174">(</span><span class="ident" id="7775175"><a href="/math/big/rat_test.go.html#7775016">b</a></span><span class="op" id="7775176">,</span>&nbsp;<span class="op" id="7775178">&amp;</span><span class="ident" id="7775179"><a href="/math/big/rat_test.go.html#7775141">rx</a></span><span class="op" id="7775181">)</span><span class="op" id="7775182">;</span>&nbsp;<span class="ident" id="7775184"><a href="/math/big/rat_test.go.html#7775154">err</a></span>&nbsp;<span class="op" id="7775188">!=</span>&nbsp;<span class="ident" id="7775191">nil</span>&nbsp;<span class="op" id="7775195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775201"><a href="/math/big/rat_test.go.html#7774881">t</a></span><span class="op" id="7775202">.</span><span class="ident" id="7775203">Errorf</span><span class="op" id="7775209">(</span><span class="string" id="7775210">&#34;unmarshaling&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="7775241">,</span>&nbsp;<span class="op" id="7775243">&amp;</span><span class="ident" id="7775244"><a href="/math/big/rat_test.go.html#7774971">tx</a></span><span class="op" id="7775246">,</span>&nbsp;<span class="ident" id="7775248"><a href="/math/big/rat_test.go.html#7775154">err</a></span><span class="op" id="7775251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775257">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775269">}</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775274">if</span>&nbsp;<span class="ident" id="7775277"><a href="/math/big/rat_test.go.html#7775141">rx</a></span><span class="op" id="7775279">.</span><span class="ident" id="7775280">Cmp</span><span class="op" id="7775283">(</span><span class="op" id="7775284">&amp;</span><span class="ident" id="7775285"><a href="/math/big/rat_test.go.html#7774971">tx</a></span><span class="op" id="7775287">)</span>&nbsp;<span class="op" id="7775289">!=</span>&nbsp;<span class="num" id="7775292">0</span>&nbsp;<span class="op" id="7775294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775300"><a href="/math/big/rat_test.go.html#7774881">t</a></span><span class="op" id="7775301">.</span><span class="ident" id="7775302">Errorf</span><span class="op" id="7775308">(</span><span class="string" id="7775309">&#34;XML&nbsp;encoding&nbsp;of&nbsp;%s&nbsp;failed:&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7775352">,</span>&nbsp;<span class="op" id="7775354">&amp;</span><span class="ident" id="7775355"><a href="/math/big/rat_test.go.html#7774971">tx</a></span><span class="op" id="7775357">,</span>&nbsp;<span class="op" id="7775359">&amp;</span><span class="ident" id="7775360"><a href="/math/big/rat_test.go.html#7775141">rx</a></span><span class="op" id="7775362">,</span>&nbsp;<span class="op" id="7775364">&amp;</span><span class="ident" id="7775365"><a href="/math/big/rat_test.go.html#7774971">tx</a></span><span class="op" id="7775367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775379">}</span><br>
<span class="lineno">500</span><span class="op" id="7775381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7775384">func</span>&nbsp;<span class="ident" id="7775389">TestIssue2379</span><span class="op" id="7775402">(</span><span class="ident" id="7775403">t</span>&nbsp;<span class="op" id="7775405">*</span><span class="ident" id="7775406"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7775413">.</span><span class="ident" id="7775414">T</span><span class="op" id="7775415">)</span>&nbsp;<span class="op" id="7775417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7775420">//&nbsp;1)&nbsp;no&nbsp;aliasing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775439">q</span>&nbsp;<span class="op" id="7775441">:=</span>&nbsp;<span class="ident" id="7775444"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7775450">(</span><span class="num" id="7775451">3</span><span class="op" id="7775452">,</span>&nbsp;<span class="num" id="7775454">2</span><span class="op" id="7775455">)</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775458">x</span>&nbsp;<span class="op" id="7775460">:=</span>&nbsp;<span class="builtinfunc" id="7775463">new</span><span class="op" id="7775466">(</span><span class="ident" id="7775467"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7775470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775473"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775474">.</span><span class="ident" id="7775475">SetFrac</span><span class="op" id="7775482">(</span><span class="ident" id="7775483"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7775489">(</span><span class="num" id="7775490">3</span><span class="op" id="7775491">)</span><span class="op" id="7775492">,</span>&nbsp;<span class="ident" id="7775494"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7775500">(</span><span class="num" id="7775501">2</span><span class="op" id="7775502">)</span><span class="op" id="7775503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775506">if</span>&nbsp;<span class="ident" id="7775509"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775510">.</span><span class="ident" id="7775511">Cmp</span><span class="op" id="7775514">(</span><span class="ident" id="7775515"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7775516">)</span>&nbsp;<span class="op" id="7775518">!=</span>&nbsp;<span class="num" id="7775521">0</span>&nbsp;<span class="op" id="7775523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775527"><a href="/math/big/rat_test.go.html#7775403">t</a></span><span class="op" id="7775528">.</span><span class="ident" id="7775529">Errorf</span><span class="op" id="7775535">(</span><span class="string" id="7775536">&#34;1)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7775555">,</span>&nbsp;<span class="ident" id="7775557"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775558">,</span>&nbsp;<span class="ident" id="7775560"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7775561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775564">}</span><br>
<span class="lineno">510</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7775568">//&nbsp;2)&nbsp;aliasing&nbsp;of&nbsp;numerator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775597"><a href="/math/big/rat_test.go.html#7775458">x</a></span>&nbsp;<span class="op" id="7775599">=</span>&nbsp;<span class="ident" id="7775601"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7775607">(</span><span class="num" id="7775608">2</span><span class="op" id="7775609">,</span>&nbsp;<span class="num" id="7775611">3</span><span class="op" id="7775612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775615"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775616">.</span><span class="ident" id="7775617">SetFrac</span><span class="op" id="7775624">(</span><span class="ident" id="7775625"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7775631">(</span><span class="num" id="7775632">3</span><span class="op" id="7775633">)</span><span class="op" id="7775634">,</span>&nbsp;<span class="ident" id="7775636"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775637">.</span><span class="ident" id="7775638">Num</span><span class="op" id="7775641">(</span><span class="op" id="7775642">)</span><span class="op" id="7775643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775646">if</span>&nbsp;<span class="ident" id="7775649"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775650">.</span><span class="ident" id="7775651">Cmp</span><span class="op" id="7775654">(</span><span class="ident" id="7775655"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7775656">)</span>&nbsp;<span class="op" id="7775658">!=</span>&nbsp;<span class="num" id="7775661">0</span>&nbsp;<span class="op" id="7775663">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775667"><a href="/math/big/rat_test.go.html#7775403">t</a></span><span class="op" id="7775668">.</span><span class="ident" id="7775669">Errorf</span><span class="op" id="7775675">(</span><span class="string" id="7775676">&#34;2)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7775695">,</span>&nbsp;<span class="ident" id="7775697"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775698">,</span>&nbsp;<span class="ident" id="7775700"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7775701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7775708">//&nbsp;3)&nbsp;aliasing&nbsp;of&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775739"><a href="/math/big/rat_test.go.html#7775458">x</a></span>&nbsp;<span class="op" id="7775741">=</span>&nbsp;<span class="ident" id="7775743"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7775749">(</span><span class="num" id="7775750">2</span><span class="op" id="7775751">,</span>&nbsp;<span class="num" id="7775753">3</span><span class="op" id="7775754">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775757"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775758">.</span><span class="ident" id="7775759">SetFrac</span><span class="op" id="7775766">(</span><span class="ident" id="7775767"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775768">.</span><span class="ident" id="7775769">Denom</span><span class="op" id="7775774">(</span><span class="op" id="7775775">)</span><span class="op" id="7775776">,</span>&nbsp;<span class="ident" id="7775778"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7775784">(</span><span class="num" id="7775785">2</span><span class="op" id="7775786">)</span><span class="op" id="7775787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775790">if</span>&nbsp;<span class="ident" id="7775793"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775794">.</span><span class="ident" id="7775795">Cmp</span><span class="op" id="7775798">(</span><span class="ident" id="7775799"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7775800">)</span>&nbsp;<span class="op" id="7775802">!=</span>&nbsp;<span class="num" id="7775805">0</span>&nbsp;<span class="op" id="7775807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775811"><a href="/math/big/rat_test.go.html#7775403">t</a></span><span class="op" id="7775812">.</span><span class="ident" id="7775813">Errorf</span><span class="op" id="7775819">(</span><span class="string" id="7775820">&#34;3)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7775839">,</span>&nbsp;<span class="ident" id="7775841"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775842">,</span>&nbsp;<span class="ident" id="7775844"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7775845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7775848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7775852">//&nbsp;4)&nbsp;aliasing&nbsp;of&nbsp;numerator&nbsp;and&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775897"><a href="/math/big/rat_test.go.html#7775458">x</a></span>&nbsp;<span class="op" id="7775899">=</span>&nbsp;<span class="ident" id="7775901"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7775907">(</span><span class="num" id="7775908">2</span><span class="op" id="7775909">,</span>&nbsp;<span class="num" id="7775911">3</span><span class="op" id="7775912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775915"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775916">.</span><span class="ident" id="7775917">SetFrac</span><span class="op" id="7775924">(</span><span class="ident" id="7775925"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775926">.</span><span class="ident" id="7775927">Denom</span><span class="op" id="7775932">(</span><span class="op" id="7775933">)</span><span class="op" id="7775934">,</span>&nbsp;<span class="ident" id="7775936"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775937">.</span><span class="ident" id="7775938">Num</span><span class="op" id="7775941">(</span><span class="op" id="7775942">)</span><span class="op" id="7775943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7775946">if</span>&nbsp;<span class="ident" id="7775949"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775950">.</span><span class="ident" id="7775951">Cmp</span><span class="op" id="7775954">(</span><span class="ident" id="7775955"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7775956">)</span>&nbsp;<span class="op" id="7775958">!=</span>&nbsp;<span class="num" id="7775961">0</span>&nbsp;<span class="op" id="7775963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7775967"><a href="/math/big/rat_test.go.html#7775403">t</a></span><span class="op" id="7775968">.</span><span class="ident" id="7775969">Errorf</span><span class="op" id="7775975">(</span><span class="string" id="7775976">&#34;4)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7775995">,</span>&nbsp;<span class="ident" id="7775997"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7775998">,</span>&nbsp;<span class="ident" id="7776000"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7776001">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7776008">//&nbsp;5)&nbsp;numerator&nbsp;and&nbsp;denominator&nbsp;are&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776054"><a href="/math/big/rat_test.go.html#7775439">q</a></span>&nbsp;<span class="op" id="7776056">=</span>&nbsp;<span class="ident" id="7776058"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7776064">(</span><span class="num" id="7776065">1</span><span class="op" id="7776066">,</span>&nbsp;<span class="num" id="7776068">1</span><span class="op" id="7776069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776072"><a href="/math/big/rat_test.go.html#7775458">x</a></span>&nbsp;<span class="op" id="7776074">=</span>&nbsp;<span class="builtinfunc" id="7776076">new</span><span class="op" id="7776079">(</span><span class="ident" id="7776080"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7776083">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776086">n</span>&nbsp;<span class="op" id="7776088">:=</span>&nbsp;<span class="ident" id="7776091"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7776097">(</span><span class="num" id="7776098">7</span><span class="op" id="7776099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776102"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7776103">.</span><span class="ident" id="7776104">SetFrac</span><span class="op" id="7776111">(</span><span class="ident" id="7776112"><a href="/math/big/rat_test.go.html#7776086">n</a></span><span class="op" id="7776113">,</span>&nbsp;<span class="ident" id="7776115"><a href="/math/big/rat_test.go.html#7776086">n</a></span><span class="op" id="7776116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7776119">if</span>&nbsp;<span class="ident" id="7776122"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7776123">.</span><span class="ident" id="7776124">Cmp</span><span class="op" id="7776127">(</span><span class="ident" id="7776128"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7776129">)</span>&nbsp;<span class="op" id="7776131">!=</span>&nbsp;<span class="num" id="7776134">0</span>&nbsp;<span class="op" id="7776136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776140"><a href="/math/big/rat_test.go.html#7775403">t</a></span><span class="op" id="7776141">.</span><span class="ident" id="7776142">Errorf</span><span class="op" id="7776148">(</span><span class="string" id="7776149">&#34;5)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7776168">,</span>&nbsp;<span class="ident" id="7776170"><a href="/math/big/rat_test.go.html#7775458">x</a></span><span class="op" id="7776171">,</span>&nbsp;<span class="ident" id="7776173"><a href="/math/big/rat_test.go.html#7775439">q</a></span><span class="op" id="7776174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776177">}</span><br>
<span class="lineno">540</span><span class="op" id="7776179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7776182">func</span>&nbsp;<span class="ident" id="7776187">TestIssue3521</span><span class="op" id="7776200">(</span><span class="ident" id="7776201">t</span>&nbsp;<span class="op" id="7776203">*</span><span class="ident" id="7776204"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7776211">.</span><span class="ident" id="7776212">T</span><span class="op" id="7776213">)</span>&nbsp;<span class="op" id="7776215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776218">a</span>&nbsp;<span class="op" id="7776220">:=</span>&nbsp;<span class="builtinfunc" id="7776223">new</span><span class="op" id="7776226">(</span><span class="ident" id="7776227"><a href="/math/big/int.go.html#2847707">Int</a></span><span class="op" id="7776230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776233">b</span>&nbsp;<span class="op" id="7776235">:=</span>&nbsp;<span class="builtinfunc" id="7776238">new</span><span class="op" id="7776241">(</span><span class="ident" id="7776242"><a href="/math/big/int.go.html#2847707">Int</a></span><span class="op" id="7776245">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776248"><a href="/math/big/rat_test.go.html#7776218">a</a></span><span class="op" id="7776249">.</span><span class="ident" id="7776250">SetString</span><span class="op" id="7776259">(</span><span class="string" id="7776260">&#34;64375784358435883458348587&#34;</span><span class="op" id="7776288">,</span>&nbsp;<span class="num" id="7776290">0</span><span class="op" id="7776291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776294"><a href="/math/big/rat_test.go.html#7776233">b</a></span><span class="op" id="7776295">.</span><span class="ident" id="7776296">SetString</span><span class="op" id="7776305">(</span><span class="string" id="7776306">&#34;4789759874531&#34;</span><span class="op" id="7776321">,</span>&nbsp;<span class="num" id="7776323">0</span><span class="op" id="7776324">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7776328">//&nbsp;0)&nbsp;a&nbsp;raw&nbsp;zero&nbsp;value&nbsp;has&nbsp;1&nbsp;as&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776373">zero</span>&nbsp;<span class="op" id="7776378">:=</span>&nbsp;<span class="builtinfunc" id="7776381">new</span><span class="op" id="7776384">(</span><span class="ident" id="7776385"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7776388">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776391">one</span>&nbsp;<span class="op" id="7776395">:=</span>&nbsp;<span class="ident" id="7776398"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7776404">(</span><span class="num" id="7776405">1</span><span class="op" id="7776406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7776409">if</span>&nbsp;<span class="ident" id="7776412"><a href="/math/big/rat_test.go.html#7776373">zero</a></span><span class="op" id="7776416">.</span><span class="ident" id="7776417">Denom</span><span class="op" id="7776422">(</span><span class="op" id="7776423">)</span><span class="op" id="7776424">.</span><span class="ident" id="7776425">Cmp</span><span class="op" id="7776428">(</span><span class="ident" id="7776429"><a href="/math/big/rat_test.go.html#7776391">one</a></span><span class="op" id="7776432">)</span>&nbsp;<span class="op" id="7776434">!=</span>&nbsp;<span class="num" id="7776437">0</span>&nbsp;<span class="op" id="7776439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776443"><a href="/math/big/rat_test.go.html#7776201">t</a></span><span class="op" id="7776444">.</span><span class="ident" id="7776445">Errorf</span><span class="op" id="7776451">(</span><span class="string" id="7776452">&#34;0)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7776471">,</span>&nbsp;<span class="ident" id="7776473"><a href="/math/big/rat_test.go.html#7776373">zero</a></span><span class="op" id="7776477">.</span><span class="ident" id="7776478">Denom</span><span class="op" id="7776483">(</span><span class="op" id="7776484">)</span><span class="op" id="7776485">,</span>&nbsp;<span class="ident" id="7776487"><a href="/math/big/rat_test.go.html#7776391">one</a></span><span class="op" id="7776490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7776497">//&nbsp;1a)&nbsp;a&nbsp;zero&nbsp;value&nbsp;remains&nbsp;zero&nbsp;independent&nbsp;of&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776558">x</span>&nbsp;<span class="op" id="7776560">:=</span>&nbsp;<span class="builtinfunc" id="7776563">new</span><span class="op" id="7776566">(</span><span class="ident" id="7776567"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7776570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776573"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7776574">.</span><span class="ident" id="7776575">Denom</span><span class="op" id="7776580">(</span><span class="op" id="7776581">)</span><span class="op" id="7776582">.</span><span class="ident" id="7776583">Set</span><span class="op" id="7776586">(</span><span class="builtinfunc" id="7776587">new</span><span class="op" id="7776590">(</span><span class="ident" id="7776591"><a href="/math/big/int.go.html#2847707">Int</a></span><span class="op" id="7776594">)</span><span class="op" id="7776595">.</span><span class="ident" id="7776596">Neg</span><span class="op" id="7776599">(</span><span class="ident" id="7776600"><a href="/math/big/rat_test.go.html#7776233">b</a></span><span class="op" id="7776601">)</span><span class="op" id="7776602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7776605">if</span>&nbsp;<span class="ident" id="7776608"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7776609">.</span><span class="ident" id="7776610">Cmp</span><span class="op" id="7776613">(</span><span class="ident" id="7776614"><a href="/math/big/rat_test.go.html#7776373">zero</a></span><span class="op" id="7776618">)</span>&nbsp;<span class="op" id="7776620">!=</span>&nbsp;<span class="num" id="7776623">0</span>&nbsp;<span class="op" id="7776625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776629"><a href="/math/big/rat_test.go.html#7776201">t</a></span><span class="op" id="7776630">.</span><span class="ident" id="7776631">Errorf</span><span class="op" id="7776637">(</span><span class="string" id="7776638">&#34;1a)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7776658">,</span>&nbsp;<span class="ident" id="7776660"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7776661">,</span>&nbsp;<span class="ident" id="7776663"><a href="/math/big/rat_test.go.html#7776373">zero</a></span><span class="op" id="7776667">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7776674">//&nbsp;1b)&nbsp;a&nbsp;zero&nbsp;value&nbsp;may&nbsp;have&nbsp;a&nbsp;denominator&nbsp;!=&nbsp;0&nbsp;and&nbsp;!=&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776732"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7776733">.</span><span class="ident" id="7776734">Num</span><span class="op" id="7776737">(</span><span class="op" id="7776738">)</span><span class="op" id="7776739">.</span><span class="ident" id="7776740">Set</span><span class="op" id="7776743">(</span><span class="ident" id="7776744"><a href="/math/big/rat_test.go.html#7776218">a</a></span><span class="op" id="7776745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776748">qab</span>&nbsp;<span class="op" id="7776752">:=</span>&nbsp;<span class="builtinfunc" id="7776755">new</span><span class="op" id="7776758">(</span><span class="ident" id="7776759"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7776762">)</span><span class="op" id="7776763">.</span><span class="ident" id="7776764">SetFrac</span><span class="op" id="7776771">(</span><span class="ident" id="7776772"><a href="/math/big/rat_test.go.html#7776218">a</a></span><span class="op" id="7776773">,</span>&nbsp;<span class="ident" id="7776775"><a href="/math/big/rat_test.go.html#7776233">b</a></span><span class="op" id="7776776">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7776779">if</span>&nbsp;<span class="ident" id="7776782"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7776783">.</span><span class="ident" id="7776784">Cmp</span><span class="op" id="7776787">(</span><span class="ident" id="7776788"><a href="/math/big/rat_test.go.html#7776748">qab</a></span><span class="op" id="7776791">)</span>&nbsp;<span class="op" id="7776793">!=</span>&nbsp;<span class="num" id="7776796">0</span>&nbsp;<span class="op" id="7776798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776802"><a href="/math/big/rat_test.go.html#7776201">t</a></span><span class="op" id="7776803">.</span><span class="ident" id="7776804">Errorf</span><span class="op" id="7776810">(</span><span class="string" id="7776811">&#34;1b)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7776831">,</span>&nbsp;<span class="ident" id="7776833"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7776834">,</span>&nbsp;<span class="ident" id="7776836"><a href="/math/big/rat_test.go.html#7776748">qab</a></span><span class="op" id="7776839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7776842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7776846">//&nbsp;2a)&nbsp;an&nbsp;integral&nbsp;value&nbsp;becomes&nbsp;a&nbsp;fraction&nbsp;depending&nbsp;on&nbsp;denominator</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776916"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7776917">.</span><span class="ident" id="7776918">SetFrac64</span><span class="op" id="7776927">(</span><span class="num" id="7776928">10</span><span class="op" id="7776930">,</span>&nbsp;<span class="num" id="7776932">2</span><span class="op" id="7776933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776936"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7776937">.</span><span class="ident" id="7776938">Denom</span><span class="op" id="7776943">(</span><span class="op" id="7776944">)</span><span class="op" id="7776945">.</span><span class="ident" id="7776946">SetInt64</span><span class="op" id="7776954">(</span><span class="num" id="7776955">3</span><span class="op" id="7776956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7776959">q53</span>&nbsp;<span class="op" id="7776963">:=</span>&nbsp;<span class="ident" id="7776966"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7776972">(</span><span class="num" id="7776973">5</span><span class="op" id="7776974">,</span>&nbsp;<span class="num" id="7776976">3</span><span class="op" id="7776977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7776980">if</span>&nbsp;<span class="ident" id="7776983"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7776984">.</span><span class="ident" id="7776985">Cmp</span><span class="op" id="7776988">(</span><span class="ident" id="7776989"><a href="/math/big/rat_test.go.html#7776959">q53</a></span><span class="op" id="7776992">)</span>&nbsp;<span class="op" id="7776994">!=</span>&nbsp;<span class="num" id="7776997">0</span>&nbsp;<span class="op" id="7776999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777003"><a href="/math/big/rat_test.go.html#7776201">t</a></span><span class="op" id="7777004">.</span><span class="ident" id="7777005">Errorf</span><span class="op" id="7777011">(</span><span class="string" id="7777012">&#34;2a)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7777032">,</span>&nbsp;<span class="ident" id="7777034"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7777035">,</span>&nbsp;<span class="ident" id="7777037"><a href="/math/big/rat_test.go.html#7776959">q53</a></span><span class="op" id="7777040">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7777047">//&nbsp;2b)&nbsp;an&nbsp;integral&nbsp;value&nbsp;becomes&nbsp;a&nbsp;fraction&nbsp;depending&nbsp;on&nbsp;denominator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777117"><a href="/math/big/rat_test.go.html#7776558">x</a></span>&nbsp;<span class="op" id="7777119">=</span>&nbsp;<span class="ident" id="7777121"><a href="/math/big/rat.go.html#2908236">NewRat</a></span><span class="op" id="7777127">(</span><span class="num" id="7777128">10</span><span class="op" id="7777130">,</span>&nbsp;<span class="num" id="7777132">2</span><span class="op" id="7777133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777136"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7777137">.</span><span class="ident" id="7777138">Denom</span><span class="op" id="7777143">(</span><span class="op" id="7777144">)</span><span class="op" id="7777145">.</span><span class="ident" id="7777146">SetInt64</span><span class="op" id="7777154">(</span><span class="num" id="7777155">3</span><span class="op" id="7777156">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7777159">if</span>&nbsp;<span class="ident" id="7777162"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7777163">.</span><span class="ident" id="7777164">Cmp</span><span class="op" id="7777167">(</span><span class="ident" id="7777168"><a href="/math/big/rat_test.go.html#7776959">q53</a></span><span class="op" id="7777171">)</span>&nbsp;<span class="op" id="7777173">!=</span>&nbsp;<span class="num" id="7777176">0</span>&nbsp;<span class="op" id="7777178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777182"><a href="/math/big/rat_test.go.html#7776201">t</a></span><span class="op" id="7777183">.</span><span class="ident" id="7777184">Errorf</span><span class="op" id="7777190">(</span><span class="string" id="7777191">&#34;2b)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7777211">,</span>&nbsp;<span class="ident" id="7777213"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7777214">,</span>&nbsp;<span class="ident" id="7777216"><a href="/math/big/rat_test.go.html#7776959">q53</a></span><span class="op" id="7777219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7777226">//&nbsp;3)&nbsp;changing&nbsp;the&nbsp;numerator/denominator&nbsp;of&nbsp;a&nbsp;Rat&nbsp;changes&nbsp;the&nbsp;Rat</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777293"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7777294">.</span><span class="ident" id="7777295">SetFrac</span><span class="op" id="7777302">(</span><span class="ident" id="7777303"><a href="/math/big/rat_test.go.html#7776218">a</a></span><span class="op" id="7777304">,</span>&nbsp;<span class="ident" id="7777306"><a href="/math/big/rat_test.go.html#7776233">b</a></span><span class="op" id="7777307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777310"><a href="/math/big/rat_test.go.html#7776218">a</a></span>&nbsp;<span class="op" id="7777312">=</span>&nbsp;<span class="ident" id="7777314"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7777315">.</span><span class="ident" id="7777316">Num</span><span class="op" id="7777319">(</span><span class="op" id="7777320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777323"><a href="/math/big/rat_test.go.html#7776233">b</a></span>&nbsp;<span class="op" id="7777325">=</span>&nbsp;<span class="ident" id="7777327"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7777328">.</span><span class="ident" id="7777329">Denom</span><span class="op" id="7777334">(</span><span class="op" id="7777335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777338"><a href="/math/big/rat_test.go.html#7776218">a</a></span><span class="op" id="7777339">.</span><span class="ident" id="7777340">SetInt64</span><span class="op" id="7777348">(</span><span class="num" id="7777349">5</span><span class="op" id="7777350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777353"><a href="/math/big/rat_test.go.html#7776233">b</a></span><span class="op" id="7777354">.</span><span class="ident" id="7777355">SetInt64</span><span class="op" id="7777363">(</span><span class="num" id="7777364">3</span><span class="op" id="7777365">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7777368">if</span>&nbsp;<span class="ident" id="7777371"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7777372">.</span><span class="ident" id="7777373">Cmp</span><span class="op" id="7777376">(</span><span class="ident" id="7777377"><a href="/math/big/rat_test.go.html#7776959">q53</a></span><span class="op" id="7777380">)</span>&nbsp;<span class="op" id="7777382">!=</span>&nbsp;<span class="num" id="7777385">0</span>&nbsp;<span class="op" id="7777387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7777391"><a href="/math/big/rat_test.go.html#7776201">t</a></span><span class="op" id="7777392">.</span><span class="ident" id="7777393">Errorf</span><span class="op" id="7777399">(</span><span class="string" id="7777400">&#34;3)&nbsp;got&nbsp;%s&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7777419">,</span>&nbsp;<span class="ident" id="7777421"><a href="/math/big/rat_test.go.html#7776558">x</a></span><span class="op" id="7777422">,</span>&nbsp;<span class="ident" id="7777424"><a href="/math/big/rat_test.go.html#7776959">q53</a></span><span class="op" id="7777427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7777430">}</span><br>
<span class="lineno"></span><span class="op" id="7777432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span><span class="comment" id="7777435">//&nbsp;Test&nbsp;inputs&nbsp;to&nbsp;Rat.SetString.&nbsp;&nbsp;The&nbsp;prefix&nbsp;&#34;long:&#34;&nbsp;causes&nbsp;the&nbsp;test</span><br>
<span class="lineno"></span><span class="comment" id="7777504">//&nbsp;to&nbsp;be&nbsp;skipped&nbsp;in&nbsp;--test.short&nbsp;mode.&nbsp;&nbsp;(The&nbsp;threshold&nbsp;is&nbsp;about&nbsp;500us.)</span><br>
<span class="lineno"></span><span class="keyword" id="7777576">var</span>&nbsp;<span class="ident" id="7777580">float64inputs</span>&nbsp;<span class="op" id="7777594">=</span>&nbsp;<span class="op" id="7777596">[</span><span class="op" id="7777597">]</span><span class="builtintype" id="7777598">string</span><span class="op" id="7777604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7777607">//&nbsp;Constants&nbsp;plundered&nbsp;from&nbsp;strconv/testfp.txt.</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7777657">//&nbsp;Table&nbsp;1:&nbsp;Stress&nbsp;Inputs&nbsp;for&nbsp;Conversion&nbsp;to&nbsp;53-bit&nbsp;Binary,&nbsp;&lt;&nbsp;1/2&nbsp;ULP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777727">&#34;5e+125&#34;</span><span class="op" id="7777735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777738">&#34;69e+267&#34;</span><span class="op" id="7777747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777750">&#34;999e-026&#34;</span><span class="op" id="7777760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777763">&#34;7861e-034&#34;</span><span class="op" id="7777774">,</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777777">&#34;75569e-254&#34;</span><span class="op" id="7777789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777792">&#34;928609e-261&#34;</span><span class="op" id="7777805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777808">&#34;9210917e+080&#34;</span><span class="op" id="7777822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777825">&#34;84863171e+114&#34;</span><span class="op" id="7777840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777843">&#34;653777767e+273&#34;</span><span class="op" id="7777859">,</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777862">&#34;5232604057e-298&#34;</span><span class="op" id="7777879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777882">&#34;27235667517e-109&#34;</span><span class="op" id="7777900">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777903">&#34;653532977297e-123&#34;</span><span class="op" id="7777922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777925">&#34;3142213164987e-294&#34;</span><span class="op" id="7777945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777948">&#34;46202199371337e-072&#34;</span><span class="op" id="7777969">,</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777972">&#34;231010996856685e-073&#34;</span><span class="op" id="7777994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7777997">&#34;9324754620109615e+212&#34;</span><span class="op" id="7778020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778023">&#34;78459735791271921e+049&#34;</span><span class="op" id="7778047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778050">&#34;272104041512242479e+200&#34;</span><span class="op" id="7778075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778078">&#34;6802601037806061975e+198&#34;</span><span class="op" id="7778104">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778107">&#34;20505426358836677347e-221&#34;</span><span class="op" id="7778134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778137">&#34;836168422905420598437e-234&#34;</span><span class="op" id="7778165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778168">&#34;4891559871276714924261e+222&#34;</span><span class="op" id="7778197">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7778201">//&nbsp;Table&nbsp;2:&nbsp;Stress&nbsp;Inputs&nbsp;for&nbsp;Conversion&nbsp;to&nbsp;53-bit&nbsp;Binary,&nbsp;&gt;&nbsp;1/2&nbsp;ULP</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778271">&#34;9e-265&#34;</span><span class="op" id="7778279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778282">&#34;85e-037&#34;</span><span class="op" id="7778291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778294">&#34;623e+100&#34;</span><span class="op" id="7778304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778307">&#34;3571e+263&#34;</span><span class="op" id="7778318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778321">&#34;81661e+153&#34;</span><span class="op" id="7778333">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778336">&#34;920657e-023&#34;</span><span class="op" id="7778349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778352">&#34;4603285e-024&#34;</span><span class="op" id="7778366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778369">&#34;87575437e-309&#34;</span><span class="op" id="7778384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778387">&#34;245540327e+122&#34;</span><span class="op" id="7778403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778406">&#34;6138508175e+120&#34;</span><span class="op" id="7778423">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778426">&#34;83356057653e+193&#34;</span><span class="op" id="7778444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778447">&#34;619534293513e+124&#34;</span><span class="op" id="7778466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778469">&#34;2335141086879e+218&#34;</span><span class="op" id="7778489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778492">&#34;36167929443327e-159&#34;</span><span class="op" id="7778513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778516">&#34;609610927149051e-255&#34;</span><span class="op" id="7778538">,</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778541">&#34;3743626360493413e-165&#34;</span><span class="op" id="7778564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778567">&#34;94080055902682397e-242&#34;</span><span class="op" id="7778591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778594">&#34;899810892172646163e+283&#34;</span><span class="op" id="7778619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778622">&#34;7120190517612959703e+120&#34;</span><span class="op" id="7778648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778651">&#34;25188282901709339043e-252&#34;</span><span class="op" id="7778678">,</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778681">&#34;308984926168550152811e-052&#34;</span><span class="op" id="7778709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778712">&#34;6372891218502368041059e+064&#34;</span><span class="op" id="7778741">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7778745">//&nbsp;Table&nbsp;14:&nbsp;Stress&nbsp;Inputs&nbsp;for&nbsp;Conversion&nbsp;to&nbsp;24-bit&nbsp;Binary,&nbsp;&lt;1/2&nbsp;ULP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778815">&#34;5e-20&#34;</span><span class="op" id="7778822">,</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778825">&#34;67e+14&#34;</span><span class="op" id="7778833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778836">&#34;985e+15&#34;</span><span class="op" id="7778845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778848">&#34;7693e-42&#34;</span><span class="op" id="7778858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778861">&#34;55895e-16&#34;</span><span class="op" id="7778872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778875">&#34;996622e-44&#34;</span><span class="op" id="7778887">,</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778890">&#34;7038531e-32&#34;</span><span class="op" id="7778903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778906">&#34;60419369e-46&#34;</span><span class="op" id="7778920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778923">&#34;702990899e-20&#34;</span><span class="op" id="7778938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778941">&#34;6930161142e-48&#34;</span><span class="op" id="7778957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778960">&#34;25933168707e+13&#34;</span><span class="op" id="7778977">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7778980">&#34;596428896559e+20&#34;</span><span class="op" id="7778998">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7779002">//&nbsp;Table&nbsp;15:&nbsp;Stress&nbsp;Inputs&nbsp;for&nbsp;Conversion&nbsp;to&nbsp;24-bit&nbsp;Binary,&nbsp;&gt;1/2&nbsp;ULP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779072">&#34;3e-23&#34;</span><span class="op" id="7779079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779082">&#34;57e+18&#34;</span><span class="op" id="7779090">,</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779093">&#34;789e-35&#34;</span><span class="op" id="7779102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779105">&#34;2539e-18&#34;</span><span class="op" id="7779115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779118">&#34;76173e+28&#34;</span><span class="op" id="7779129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779132">&#34;887745e-11&#34;</span><span class="op" id="7779144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779147">&#34;5382571e-37&#34;</span><span class="op" id="7779160">,</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779163">&#34;82381273e-35&#34;</span><span class="op" id="7779177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779180">&#34;750486563e-38&#34;</span><span class="op" id="7779195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779198">&#34;3752432815e-39&#34;</span><span class="op" id="7779214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779217">&#34;75224575729e-45&#34;</span><span class="op" id="7779234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779237">&#34;459926601011e+15&#34;</span><span class="op" id="7779255">,</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7779259">//&nbsp;Constants&nbsp;plundered&nbsp;from&nbsp;strconv/atof_test.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779311">&#34;0&#34;</span><span class="op" id="7779314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779317">&#34;1&#34;</span><span class="op" id="7779320">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779323">&#34;+1&#34;</span><span class="op" id="7779327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779330">&#34;1e23&#34;</span><span class="op" id="7779336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779339">&#34;1E23&#34;</span><span class="op" id="7779345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779348">&#34;100000000000000000000000&#34;</span><span class="op" id="7779374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779377">&#34;1e-100&#34;</span><span class="op" id="7779385">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779388">&#34;123456700&#34;</span><span class="op" id="7779399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779402">&#34;99999999999999974834176&#34;</span><span class="op" id="7779427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779430">&#34;100000000000000000000001&#34;</span><span class="op" id="7779456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779459">&#34;100000000000000008388608&#34;</span><span class="op" id="7779485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779488">&#34;100000000000000016777215&#34;</span><span class="op" id="7779514">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779517">&#34;100000000000000016777216&#34;</span><span class="op" id="7779543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779546">&#34;-1&#34;</span><span class="op" id="7779550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779553">&#34;-0.1&#34;</span><span class="op" id="7779559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779562">&#34;-0&#34;</span><span class="op" id="7779566">,</span>&nbsp;<span class="comment" id="7779568">//&nbsp;NB:&nbsp;exception&nbsp;made&nbsp;for&nbsp;this&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779606">&#34;1e-20&#34;</span><span class="op" id="7779613">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779616">&#34;625e-3&#34;</span><span class="op" id="7779624">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7779628">//&nbsp;largest&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779648">&#34;1.7976931348623157e308&#34;</span><span class="op" id="7779672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779675">&#34;-1.7976931348623157e308&#34;</span><span class="op" id="7779700">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7779703">//&nbsp;next&nbsp;float64&nbsp;-&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779732">&#34;1.7976931348623159e308&#34;</span><span class="op" id="7779756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779759">&#34;-1.7976931348623159e308&#34;</span><span class="op" id="7779784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7779787">//&nbsp;the&nbsp;border&nbsp;is&nbsp;...158079</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7779815">//&nbsp;borderline&nbsp;-&nbsp;okay</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779837">&#34;1.7976931348623158e308&#34;</span><span class="op" id="7779861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779864">&#34;-1.7976931348623158e308&#34;</span><span class="op" id="7779889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7779892">//&nbsp;borderline&nbsp;-&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779919">&#34;1.797693134862315808e308&#34;</span><span class="op" id="7779945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7779948">&#34;-1.797693134862315808e308&#34;</span><span class="op" id="7779975">,</span><br>
<span class="lineno">710</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7779979">//&nbsp;a&nbsp;little&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780002">&#34;1e308&#34;</span><span class="op" id="7780009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780012">&#34;2e308&#34;</span><span class="op" id="7780019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780022">&#34;1e309&#34;</span><span class="op" id="7780029">,</span><br>
<span class="lineno">715</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780033">//&nbsp;way&nbsp;too&nbsp;large</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780051">&#34;1e310&#34;</span><span class="op" id="7780058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780061">&#34;-1e310&#34;</span><span class="op" id="7780069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780072">&#34;1e400&#34;</span><span class="op" id="7780079">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780082">&#34;-1e400&#34;</span><span class="op" id="7780090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780093">&#34;long:1e400000&#34;</span><span class="op" id="7780108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780111">&#34;long:-1e400000&#34;</span><span class="op" id="7780127">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780131">//&nbsp;denormalized</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780148">&#34;1e-305&#34;</span><span class="op" id="7780156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780159">&#34;1e-306&#34;</span><span class="op" id="7780167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780170">&#34;1e-307&#34;</span><span class="op" id="7780178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780181">&#34;1e-308&#34;</span><span class="op" id="7780189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780192">&#34;1e-309&#34;</span><span class="op" id="7780200">,</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780203">&#34;1e-310&#34;</span><span class="op" id="7780211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780214">&#34;1e-322&#34;</span><span class="op" id="7780222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780225">//&nbsp;smallest&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780247">&#34;5e-324&#34;</span><span class="op" id="7780255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780258">&#34;4e-324&#34;</span><span class="op" id="7780266">,</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780269">&#34;3e-324&#34;</span><span class="op" id="7780277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780280">//&nbsp;too&nbsp;small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780294">&#34;2e-324&#34;</span><span class="op" id="7780302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780305">//&nbsp;way&nbsp;too&nbsp;small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780323">&#34;1e-350&#34;</span><span class="op" id="7780331">,</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780334">&#34;long:1e-400000&#34;</span><span class="op" id="7780350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780353">//&nbsp;way&nbsp;too&nbsp;small,&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780381">&#34;-1e-350&#34;</span><span class="op" id="7780390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780393">&#34;long:-1e-400000&#34;</span><span class="op" id="7780410">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780414">//&nbsp;try&nbsp;to&nbsp;overflow&nbsp;exponent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780443">//&nbsp;[Disabled:&nbsp;too&nbsp;slow&nbsp;and&nbsp;memory-hungry&nbsp;with&nbsp;rationals.]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780502">//&nbsp;&#34;1e-4294967296&#34;,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780523">//&nbsp;&#34;1e+4294967296&#34;,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780544">//&nbsp;&#34;1e-18446744073709551616&#34;,</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780575">//&nbsp;&#34;1e+18446744073709551616&#34;,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780607">//&nbsp;http://www.exploringbinary.com/java-hangs-when-converting-2-2250738585072012e-308/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780694">&#34;2.2250738585072012e-308&#34;</span><span class="op" id="7780719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780722">//&nbsp;http://www.exploringbinary.com/php-hangs-on-numeric-value-2-2250738585072011e-308/</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780809">&#34;2.2250738585072011e-308&#34;</span><span class="op" id="7780834">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780838">//&nbsp;A&nbsp;very&nbsp;large&nbsp;number&nbsp;(initially&nbsp;wrongly&nbsp;parsed&nbsp;by&nbsp;the&nbsp;fast&nbsp;algorithm).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780912">&#34;4.630813248087435e+307&#34;</span><span class="op" id="7780936">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7780940">//&nbsp;A&nbsp;different&nbsp;kind&nbsp;of&nbsp;very&nbsp;large&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7780983">&#34;22.222222222222222&#34;</span><span class="op" id="7781003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7781006">&#34;long:2.&#34;</span>&nbsp;<span class="op" id="7781016">+</span>&nbsp;<span class="ident" id="7781018"><a href="/math/big/rat_test.go.html#7762763">strings</a></span><span class="op" id="7781025">.</span><span class="ident" id="7781026">Repeat</span><span class="op" id="7781032">(</span><span class="string" id="7781033">&#34;2&#34;</span><span class="op" id="7781036">,</span>&nbsp;<span class="num" id="7781038">4000</span><span class="op" id="7781042">)</span>&nbsp;<span class="op" id="7781044">+</span>&nbsp;<span class="string" id="7781046">&#34;e+1&#34;</span><span class="op" id="7781051">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781055">//&nbsp;Exactly&nbsp;halfway&nbsp;between&nbsp;1&nbsp;and&nbsp;math.Nextafter(1,&nbsp;2).</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781111">//&nbsp;Round&nbsp;to&nbsp;even&nbsp;(down).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7781137">&#34;1.00000000000000011102230246251565404236316680908203125&#34;</span><span class="op" id="7781194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781197">//&nbsp;Slightly&nbsp;lower;&nbsp;still&nbsp;round&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7781235">&#34;1.00000000000000011102230246251565404236316680908203124&#34;</span><span class="op" id="7781292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781295">//&nbsp;Slightly&nbsp;higher;&nbsp;round&nbsp;up.</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7781326">&#34;1.00000000000000011102230246251565404236316680908203126&#34;</span><span class="op" id="7781383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781386">//&nbsp;Slightly&nbsp;higher,&nbsp;but&nbsp;you&nbsp;have&nbsp;to&nbsp;read&nbsp;all&nbsp;the&nbsp;way&nbsp;to&nbsp;the&nbsp;end.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7781452">&#34;long:1.00000000000000011102230246251565404236316680908203125&#34;</span>&nbsp;<span class="op" id="7781515">+</span>&nbsp;<span class="ident" id="7781517"><a href="/math/big/rat_test.go.html#7762763">strings</a></span><span class="op" id="7781524">.</span><span class="ident" id="7781525">Repeat</span><span class="op" id="7781531">(</span><span class="string" id="7781532">&#34;0&#34;</span><span class="op" id="7781535">,</span>&nbsp;<span class="num" id="7781537">10000</span><span class="op" id="7781542">)</span>&nbsp;<span class="op" id="7781544">+</span>&nbsp;<span class="string" id="7781546">&#34;1&#34;</span><span class="op" id="7781549">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781553">//&nbsp;Smallest&nbsp;denormal,&nbsp;2^(-1022-52)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7781589">&#34;4.940656458412465441765687928682213723651e-324&#34;</span><span class="op" id="7781637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781640">//&nbsp;Half&nbsp;of&nbsp;smallest&nbsp;denormal,&nbsp;2^(-1022-53)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7781684">&#34;2.470328229206232720882843964341106861825e-324&#34;</span><span class="op" id="7781732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781735">//&nbsp;A&nbsp;little&nbsp;more&nbsp;than&nbsp;the&nbsp;exact&nbsp;half&nbsp;of&nbsp;smallest&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781794">//&nbsp;2^-1075&nbsp;+&nbsp;2^-1100.&nbsp;&nbsp;(Rounds&nbsp;to&nbsp;1p-1074.)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7781839">&#34;2.470328302827751011111470718709768633275e-324&#34;</span><span class="op" id="7781887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781890">//&nbsp;The&nbsp;exact&nbsp;halfway&nbsp;between&nbsp;smallest&nbsp;normal&nbsp;and&nbsp;largest&nbsp;denormal:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7781958">//&nbsp;2^-1022&nbsp;-&nbsp;2^-1075.&nbsp;&nbsp;(Rounds&nbsp;to&nbsp;2^-1022.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7782003">&#34;2.225073858507201136057409796709131975935e-308&#34;</span><span class="op" id="7782051">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7782055">&#34;1152921504606846975&#34;</span><span class="op" id="7782076">,</span>&nbsp;&nbsp;<span class="comment" id="7782079">//&nbsp;&nbsp;&nbsp;1&lt;&lt;60&nbsp;-&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7782095">&#34;-1152921504606846975&#34;</span><span class="op" id="7782117">,</span>&nbsp;<span class="comment" id="7782119">//&nbsp;-(1&lt;&lt;60&nbsp;-&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7782136">&#34;1152921504606846977&#34;</span><span class="op" id="7782157">,</span>&nbsp;&nbsp;<span class="comment" id="7782160">//&nbsp;&nbsp;&nbsp;1&lt;&lt;60&nbsp;+&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7782176">&#34;-1152921504606846977&#34;</span><span class="op" id="7782198">,</span>&nbsp;<span class="comment" id="7782200">//&nbsp;-(1&lt;&lt;60&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7782218">&#34;1/3&#34;</span><span class="op" id="7782223">,</span><br>
<span class="lineno"></span><span class="op" id="7782225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7782228">//&nbsp;isFinite&nbsp;reports&nbsp;whether&nbsp;f&nbsp;represents&nbsp;a&nbsp;finite&nbsp;rational&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="7782294">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;!math.IsNan(f)&nbsp;&amp;&amp;&nbsp;!math.IsInf(f,&nbsp;0).</span><br>
<span class="lineno">795</span><span class="keyword" id="7782354">func</span>&nbsp;<span class="ident" id="7782359">isFinite</span><span class="op" id="7782367">(</span><span class="ident" id="7782368">f</span>&nbsp;<span class="builtintype" id="7782370">float64</span><span class="op" id="7782377">)</span>&nbsp;<span class="builtintype" id="7782379">bool</span>&nbsp;<span class="op" id="7782384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7782387">return</span>&nbsp;<span class="ident" id="7782394"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7782398">.</span><span class="ident" id="7782399">Abs</span><span class="op" id="7782402">(</span><span class="ident" id="7782403"><a href="/math/big/rat_test.go.html#7782368">f</a></span><span class="op" id="7782404">)</span>&nbsp;<span class="op" id="7782406">&lt;=</span>&nbsp;<span class="ident" id="7782409"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7782413">.</span><span class="ident" id="7782414">MaxFloat64</span><br>
<span class="lineno"></span><span class="op" id="7782425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7782428">func</span>&nbsp;<span class="ident" id="7782433">TestFloat32SpecialCases</span><span class="op" id="7782456">(</span><span class="ident" id="7782457">t</span>&nbsp;<span class="op" id="7782459">*</span><span class="ident" id="7782460"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7782467">.</span><span class="ident" id="7782468">T</span><span class="op" id="7782469">)</span>&nbsp;<span class="op" id="7782471">{</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7782474">for</span>&nbsp;<span class="ident" id="7782478">_</span><span class="op" id="7782479">,</span>&nbsp;<span class="ident" id="7782481">input</span>&nbsp;<span class="op" id="7782487">:=</span>&nbsp;<span class="keyword" id="7782490">range</span>&nbsp;<span class="ident" id="7782496"><a href="/math/big/rat_test.go.html#7777580">float64inputs</a></span>&nbsp;<span class="op" id="7782510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7782514">if</span>&nbsp;<span class="ident" id="7782517"><a href="/math/big/rat_test.go.html#7762763">strings</a></span><span class="op" id="7782524">.</span><span class="ident" id="7782525">HasPrefix</span><span class="op" id="7782534">(</span><span class="ident" id="7782535"><a href="/math/big/rat_test.go.html#7782481">input</a></span><span class="op" id="7782540">,</span>&nbsp;<span class="string" id="7782542">&#34;long:&#34;</span><span class="op" id="7782549">)</span>&nbsp;<span class="op" id="7782551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7782556">if</span>&nbsp;<span class="ident" id="7782559"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7782566">.</span><span class="ident" id="7782567">Short</span><span class="op" id="7782572">(</span><span class="op" id="7782573">)</span>&nbsp;<span class="op" id="7782575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7782581">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7782593">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7782598"><a href="/math/big/rat_test.go.html#7782481">input</a></span>&nbsp;<span class="op" id="7782604">=</span>&nbsp;<span class="ident" id="7782606"><a href="/math/big/rat_test.go.html#7782481">input</a></span><span class="op" id="7782611">[</span><span class="builtinfunc" id="7782612">len</span><span class="op" id="7782615">(</span><span class="string" id="7782616">&#34;long:&#34;</span><span class="op" id="7782623">)</span><span class="op" id="7782624">:</span><span class="op" id="7782625">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7782629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7782634">r</span><span class="op" id="7782635">,</span>&nbsp;<span class="ident" id="7782637">ok</span>&nbsp;<span class="op" id="7782640">:=</span>&nbsp;<span class="builtinfunc" id="7782643">new</span><span class="op" id="7782646">(</span><span class="ident" id="7782647"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7782650">)</span><span class="op" id="7782651">.</span><span class="ident" id="7782652">SetString</span><span class="op" id="7782661">(</span><span class="ident" id="7782662"><a href="/math/big/rat_test.go.html#7782481">input</a></span><span class="op" id="7782667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7782671">if</span>&nbsp;<span class="op" id="7782674">!</span><span class="ident" id="7782675"><a href="/math/big/rat_test.go.html#7782637">ok</a></span>&nbsp;<span class="op" id="7782678">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7782683"><a href="/math/big/rat_test.go.html#7782457">t</a></span><span class="op" id="7782684">.</span><span class="ident" id="7782685">Errorf</span><span class="op" id="7782691">(</span><span class="string" id="7782692">&#34;Rat.SetString(%q)&nbsp;failed&#34;</span><span class="op" id="7782718">,</span>&nbsp;<span class="ident" id="7782720"><a href="/math/big/rat_test.go.html#7782481">input</a></span><span class="op" id="7782725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7782730">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7782741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7782745">f</span><span class="op" id="7782746">,</span>&nbsp;<span class="ident" id="7782748">exact</span>&nbsp;<span class="op" id="7782754">:=</span>&nbsp;<span class="ident" id="7782757"><a href="/math/big/rat_test.go.html#7782634">r</a></span><span class="op" id="7782758">.</span><span class="ident" id="7782759">Float32</span><span class="op" id="7782766">(</span><span class="op" id="7782767">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7782772">//&nbsp;1.&nbsp;Check&nbsp;string&nbsp;-&gt;&nbsp;Rat&nbsp;-&gt;&nbsp;float32&nbsp;conversions&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7782827">//&nbsp;consistent&nbsp;with&nbsp;strconv.ParseFloat.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7782868">//&nbsp;Skip&nbsp;this&nbsp;check&nbsp;if&nbsp;the&nbsp;input&nbsp;uses&nbsp;&#34;a/b&#34;&nbsp;rational&nbsp;syntax.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7782930">if</span>&nbsp;<span class="op" id="7782933">!</span><span class="ident" id="7782934"><a href="/math/big/rat_test.go.html#7762763">strings</a></span><span class="op" id="7782941">.</span><span class="ident" id="7782942">Contains</span><span class="op" id="7782950">(</span><span class="ident" id="7782951"><a href="/math/big/rat_test.go.html#7782481">input</a></span><span class="op" id="7782956">,</span>&nbsp;<span class="string" id="7782958">&#34;/&#34;</span><span class="op" id="7782961">)</span>&nbsp;<span class="op" id="7782963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7782968">e64</span><span class="op" id="7782971">,</span>&nbsp;<span class="ident" id="7782973">_</span>&nbsp;<span class="op" id="7782975">:=</span>&nbsp;<span class="ident" id="7782978"><a href="/math/big/rat_test.go.html#7762752">strconv</a></span><span class="op" id="7782985">.</span><span class="ident" id="7782986">ParseFloat</span><span class="op" id="7782996">(</span><span class="ident" id="7782997"><a href="/math/big/rat_test.go.html#7782481">input</a></span><span class="op" id="7783002">,</span>&nbsp;<span class="num" id="7783004">32</span><span class="op" id="7783006">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7783011">e</span>&nbsp;<span class="op" id="7783013">:=</span>&nbsp;<span class="builtintype" id="7783016">float32</span><span class="op" id="7783023">(</span><span class="ident" id="7783024"><a href="/math/big/rat_test.go.html#7782968">e64</a></span><span class="op" id="7783027">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7783033">//&nbsp;Careful:&nbsp;negative&nbsp;Rats&nbsp;too&nbsp;small&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7783076">//&nbsp;float64&nbsp;become&nbsp;-0,&nbsp;but&nbsp;Rat&nbsp;obviously&nbsp;cannot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7783126">//&nbsp;preserve&nbsp;the&nbsp;sign&nbsp;from&nbsp;SetString(&#34;-0&#34;).</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7783172">switch</span>&nbsp;<span class="op" id="7783179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7783184">case</span>&nbsp;<span class="ident" id="7783189"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7783193">.</span><span class="ident" id="7783194">Float32bits</span><span class="op" id="7783205">(</span><span class="ident" id="7783206"><a href="/math/big/rat_test.go.html#7783011">e</a></span><span class="op" id="7783207">)</span>&nbsp;<span class="op" id="7783209">==</span>&nbsp;<span class="ident" id="7783212"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7783216">.</span><span class="ident" id="7783217">Float32bits</span><span class="op" id="7783228">(</span><span class="ident" id="7783229"><a href="/math/big/rat_test.go.html#7782745">f</a></span><span class="op" id="7783230">)</span><span class="op" id="7783231">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7783237">//&nbsp;Ok:&nbsp;bitwise&nbsp;equal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7783262">case</span>&nbsp;<span class="ident" id="7783267"><a href="/math/big/rat_test.go.html#7782745">f</a></span>&nbsp;<span class="op" id="7783269">==</span>&nbsp;<span class="num" id="7783272">0</span>&nbsp;<span class="op" id="7783274">&amp;&amp;</span>&nbsp;<span class="ident" id="7783277"><a href="/math/big/rat_test.go.html#7782634">r</a></span><span class="op" id="7783278">.</span><span class="ident" id="7783279">Num</span><span class="op" id="7783282">(</span><span class="op" id="7783283">)</span><span class="op" id="7783284">.</span><span class="ident" id="7783285">BitLen</span><span class="op" id="7783291">(</span><span class="op" id="7783292">)</span>&nbsp;<span class="op" id="7783294">==</span>&nbsp;<span class="num" id="7783297">0</span><span class="op" id="7783298">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7783304">//&nbsp;Ok:&nbsp;Rat(0)&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;both&nbsp;+/-&nbsp;float64(0).</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7783359">default</span><span class="op" id="7783366">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7783372"><a href="/math/big/rat_test.go.html#7782457">t</a></span><span class="op" id="7783373">.</span><span class="ident" id="7783374">Errorf</span><span class="op" id="7783380">(</span><span class="string" id="7783381">&#34;strconv.ParseFloat(%q)&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;want&nbsp;%g&nbsp;(%b);&nbsp;delta&nbsp;=&nbsp;%g&#34;</span><span class="op" id="7783441">,</span>&nbsp;<span class="ident" id="7783443"><a href="/math/big/rat_test.go.html#7782481">input</a></span><span class="op" id="7783448">,</span>&nbsp;<span class="ident" id="7783450"><a href="/math/big/rat_test.go.html#7783011">e</a></span><span class="op" id="7783451">,</span>&nbsp;<span class="ident" id="7783453"><a href="/math/big/rat_test.go.html#7783011">e</a></span><span class="op" id="7783454">,</span>&nbsp;<span class="ident" id="7783456"><a href="/math/big/rat_test.go.html#7782745">f</a></span><span class="op" id="7783457">,</span>&nbsp;<span class="ident" id="7783459"><a href="/math/big/rat_test.go.html#7782745">f</a></span><span class="op" id="7783460">,</span>&nbsp;<span class="ident" id="7783462"><a href="/math/big/rat_test.go.html#7782745">f</a></span><span class="op" id="7783463">-</span><span class="ident" id="7783464"><a href="/math/big/rat_test.go.html#7783011">e</a></span><span class="op" id="7783465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7783470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7783474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7783479">if</span>&nbsp;<span class="op" id="7783482">!</span><span class="ident" id="7783483"><a href="/math/big/rat_test.go.html#7782359">isFinite</a></span><span class="op" id="7783491">(</span><span class="builtintype" id="7783492">float64</span><span class="op" id="7783499">(</span><span class="ident" id="7783500"><a href="/math/big/rat_test.go.html#7782745">f</a></span><span class="op" id="7783501">)</span><span class="op" id="7783502">)</span>&nbsp;<span class="op" id="7783504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7783509">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7783520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7783525">//&nbsp;2.&nbsp;Check&nbsp;f&nbsp;is&nbsp;best&nbsp;approximation&nbsp;to&nbsp;r.</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7783569">if</span>&nbsp;<span class="op" id="7783572">!</span><span class="ident" id="7783573"><a href="/math/big/rat_test.go.html#7789301">checkIsBestApprox32</a></span><span class="op" id="7783592">(</span><span class="ident" id="7783593"><a href="/math/big/rat_test.go.html#7782457">t</a></span><span class="op" id="7783594">,</span>&nbsp;<span class="ident" id="7783596"><a href="/math/big/rat_test.go.html#7782745">f</a></span><span class="op" id="7783597">,</span>&nbsp;<span class="ident" id="7783599"><a href="/math/big/rat_test.go.html#7782634">r</a></span><span class="op" id="7783600">)</span>&nbsp;<span class="op" id="7783602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7783607">//&nbsp;Append&nbsp;context&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7783641"><a href="/math/big/rat_test.go.html#7782457">t</a></span><span class="op" id="7783642">.</span><span class="ident" id="7783643">Errorf</span><span class="op" id="7783649">(</span><span class="string" id="7783650">&#34;(input&nbsp;was&nbsp;%q)&#34;</span><span class="op" id="7783666">,</span>&nbsp;<span class="ident" id="7783668"><a href="/math/big/rat_test.go.html#7782481">input</a></span><span class="op" id="7783673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7783677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7783682">//&nbsp;3.&nbsp;Check&nbsp;f-&gt;R-&gt;f&nbsp;roundtrip&nbsp;is&nbsp;non-lossy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7783728"><a href="/math/big/rat_test.go.html#7788133">checkNonLossyRoundtrip32</a></span><span class="op" id="7783752">(</span><span class="ident" id="7783753"><a href="/math/big/rat_test.go.html#7782457">t</a></span><span class="op" id="7783754">,</span>&nbsp;<span class="ident" id="7783756"><a href="/math/big/rat_test.go.html#7782745">f</a></span><span class="op" id="7783757">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7783762">//&nbsp;4.&nbsp;Check&nbsp;exactness&nbsp;using&nbsp;slow&nbsp;algorithm.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7783808">if</span>&nbsp;<span class="ident" id="7783811">wasExact</span>&nbsp;<span class="op" id="7783820">:=</span>&nbsp;<span class="builtinfunc" id="7783823">new</span><span class="op" id="7783826">(</span><span class="ident" id="7783827"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7783830">)</span><span class="op" id="7783831">.</span><span class="ident" id="7783832">SetFloat64</span><span class="op" id="7783842">(</span><span class="builtintype" id="7783843">float64</span><span class="op" id="7783850">(</span><span class="ident" id="7783851"><a href="/math/big/rat_test.go.html#7782745">f</a></span><span class="op" id="7783852">)</span><span class="op" id="7783853">)</span><span class="op" id="7783854">.</span><span class="ident" id="7783855">Cmp</span><span class="op" id="7783858">(</span><span class="ident" id="7783859"><a href="/math/big/rat_test.go.html#7782634">r</a></span><span class="op" id="7783860">)</span>&nbsp;<span class="op" id="7783862">==</span>&nbsp;<span class="num" id="7783865">0</span><span class="op" id="7783866">;</span>&nbsp;<span class="ident" id="7783868"><a href="/math/big/rat_test.go.html#7783811">wasExact</a></span>&nbsp;<span class="op" id="7783877">!=</span>&nbsp;<span class="ident" id="7783880"><a href="/math/big/rat_test.go.html#7782748">exact</a></span>&nbsp;<span class="op" id="7783886">{</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7783891"><a href="/math/big/rat_test.go.html#7782457">t</a></span><span class="op" id="7783892">.</span><span class="ident" id="7783893">Errorf</span><span class="op" id="7783899">(</span><span class="string" id="7783900">&#34;Rat.SetString(%q).Float32().exact&nbsp;=&nbsp;%t,&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7783949">,</span>&nbsp;<span class="ident" id="7783951"><a href="/math/big/rat_test.go.html#7782481">input</a></span><span class="op" id="7783956">,</span>&nbsp;<span class="ident" id="7783958"><a href="/math/big/rat_test.go.html#7782748">exact</a></span><span class="op" id="7783963">,</span>&nbsp;<span class="ident" id="7783965"><a href="/math/big/rat_test.go.html#7783811">wasExact</a></span><span class="op" id="7783973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7783977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7783980">}</span><br>
<span class="lineno"></span><span class="op" id="7783982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">855</span><span class="keyword" id="7783985">func</span>&nbsp;<span class="ident" id="7783990">TestFloat64SpecialCases</span><span class="op" id="7784013">(</span><span class="ident" id="7784014">t</span>&nbsp;<span class="op" id="7784016">*</span><span class="ident" id="7784017"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7784024">.</span><span class="ident" id="7784025">T</span><span class="op" id="7784026">)</span>&nbsp;<span class="op" id="7784028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784031">for</span>&nbsp;<span class="ident" id="7784035">_</span><span class="op" id="7784036">,</span>&nbsp;<span class="ident" id="7784038">input</span>&nbsp;<span class="op" id="7784044">:=</span>&nbsp;<span class="keyword" id="7784047">range</span>&nbsp;<span class="ident" id="7784053"><a href="/math/big/rat_test.go.html#7777580">float64inputs</a></span>&nbsp;<span class="op" id="7784067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784071">if</span>&nbsp;<span class="ident" id="7784074"><a href="/math/big/rat_test.go.html#7762763">strings</a></span><span class="op" id="7784081">.</span><span class="ident" id="7784082">HasPrefix</span><span class="op" id="7784091">(</span><span class="ident" id="7784092"><a href="/math/big/rat_test.go.html#7784038">input</a></span><span class="op" id="7784097">,</span>&nbsp;<span class="string" id="7784099">&#34;long:&#34;</span><span class="op" id="7784106">)</span>&nbsp;<span class="op" id="7784108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784113">if</span>&nbsp;<span class="ident" id="7784116"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7784123">.</span><span class="ident" id="7784124">Short</span><span class="op" id="7784129">(</span><span class="op" id="7784130">)</span>&nbsp;<span class="op" id="7784132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784138">continue</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7784150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7784155"><a href="/math/big/rat_test.go.html#7784038">input</a></span>&nbsp;<span class="op" id="7784161">=</span>&nbsp;<span class="ident" id="7784163"><a href="/math/big/rat_test.go.html#7784038">input</a></span><span class="op" id="7784168">[</span><span class="builtinfunc" id="7784169">len</span><span class="op" id="7784172">(</span><span class="string" id="7784173">&#34;long:&#34;</span><span class="op" id="7784180">)</span><span class="op" id="7784181">:</span><span class="op" id="7784182">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7784186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7784191">r</span><span class="op" id="7784192">,</span>&nbsp;<span class="ident" id="7784194">ok</span>&nbsp;<span class="op" id="7784197">:=</span>&nbsp;<span class="builtinfunc" id="7784200">new</span><span class="op" id="7784203">(</span><span class="ident" id="7784204"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7784207">)</span><span class="op" id="7784208">.</span><span class="ident" id="7784209">SetString</span><span class="op" id="7784218">(</span><span class="ident" id="7784219"><a href="/math/big/rat_test.go.html#7784038">input</a></span><span class="op" id="7784224">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784228">if</span>&nbsp;<span class="op" id="7784231">!</span><span class="ident" id="7784232"><a href="/math/big/rat_test.go.html#7784194">ok</a></span>&nbsp;<span class="op" id="7784235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7784240"><a href="/math/big/rat_test.go.html#7784014">t</a></span><span class="op" id="7784241">.</span><span class="ident" id="7784242">Errorf</span><span class="op" id="7784248">(</span><span class="string" id="7784249">&#34;Rat.SetString(%q)&nbsp;failed&#34;</span><span class="op" id="7784275">,</span>&nbsp;<span class="ident" id="7784277"><a href="/math/big/rat_test.go.html#7784038">input</a></span><span class="op" id="7784282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784287">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7784298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7784302">f</span><span class="op" id="7784303">,</span>&nbsp;<span class="ident" id="7784305">exact</span>&nbsp;<span class="op" id="7784311">:=</span>&nbsp;<span class="ident" id="7784314"><a href="/math/big/rat_test.go.html#7784191">r</a></span><span class="op" id="7784315">.</span><span class="ident" id="7784316">Float64</span><span class="op" id="7784323">(</span><span class="op" id="7784324">)</span><br>
<span class="lineno">870</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7784329">//&nbsp;1.&nbsp;Check&nbsp;string&nbsp;-&gt;&nbsp;Rat&nbsp;-&gt;&nbsp;float64&nbsp;conversions&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7784384">//&nbsp;consistent&nbsp;with&nbsp;strconv.ParseFloat.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7784425">//&nbsp;Skip&nbsp;this&nbsp;check&nbsp;if&nbsp;the&nbsp;input&nbsp;uses&nbsp;&#34;a/b&#34;&nbsp;rational&nbsp;syntax.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784487">if</span>&nbsp;<span class="op" id="7784490">!</span><span class="ident" id="7784491"><a href="/math/big/rat_test.go.html#7762763">strings</a></span><span class="op" id="7784498">.</span><span class="ident" id="7784499">Contains</span><span class="op" id="7784507">(</span><span class="ident" id="7784508"><a href="/math/big/rat_test.go.html#7784038">input</a></span><span class="op" id="7784513">,</span>&nbsp;<span class="string" id="7784515">&#34;/&#34;</span><span class="op" id="7784518">)</span>&nbsp;<span class="op" id="7784520">{</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7784525">e</span><span class="op" id="7784526">,</span>&nbsp;<span class="ident" id="7784528">_</span>&nbsp;<span class="op" id="7784530">:=</span>&nbsp;<span class="ident" id="7784533"><a href="/math/big/rat_test.go.html#7762752">strconv</a></span><span class="op" id="7784540">.</span><span class="ident" id="7784541">ParseFloat</span><span class="op" id="7784551">(</span><span class="ident" id="7784552"><a href="/math/big/rat_test.go.html#7784038">input</a></span><span class="op" id="7784557">,</span>&nbsp;<span class="num" id="7784559">64</span><span class="op" id="7784561">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7784567">//&nbsp;Careful:&nbsp;negative&nbsp;Rats&nbsp;too&nbsp;small&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7784610">//&nbsp;float64&nbsp;become&nbsp;-0,&nbsp;but&nbsp;Rat&nbsp;obviously&nbsp;cannot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7784660">//&nbsp;preserve&nbsp;the&nbsp;sign&nbsp;from&nbsp;SetString(&#34;-0&#34;).</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784706">switch</span>&nbsp;<span class="op" id="7784713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784718">case</span>&nbsp;<span class="ident" id="7784723"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7784727">.</span><span class="ident" id="7784728">Float64bits</span><span class="op" id="7784739">(</span><span class="ident" id="7784740"><a href="/math/big/rat_test.go.html#7784525">e</a></span><span class="op" id="7784741">)</span>&nbsp;<span class="op" id="7784743">==</span>&nbsp;<span class="ident" id="7784746"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7784750">.</span><span class="ident" id="7784751">Float64bits</span><span class="op" id="7784762">(</span><span class="ident" id="7784763"><a href="/math/big/rat_test.go.html#7784302">f</a></span><span class="op" id="7784764">)</span><span class="op" id="7784765">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7784771">//&nbsp;Ok:&nbsp;bitwise&nbsp;equal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784796">case</span>&nbsp;<span class="ident" id="7784801"><a href="/math/big/rat_test.go.html#7784302">f</a></span>&nbsp;<span class="op" id="7784803">==</span>&nbsp;<span class="num" id="7784806">0</span>&nbsp;<span class="op" id="7784808">&amp;&amp;</span>&nbsp;<span class="ident" id="7784811"><a href="/math/big/rat_test.go.html#7784191">r</a></span><span class="op" id="7784812">.</span><span class="ident" id="7784813">Num</span><span class="op" id="7784816">(</span><span class="op" id="7784817">)</span><span class="op" id="7784818">.</span><span class="ident" id="7784819">BitLen</span><span class="op" id="7784825">(</span><span class="op" id="7784826">)</span>&nbsp;<span class="op" id="7784828">==</span>&nbsp;<span class="num" id="7784831">0</span><span class="op" id="7784832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7784838">//&nbsp;Ok:&nbsp;Rat(0)&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;both&nbsp;+/-&nbsp;float64(0).</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7784893">default</span><span class="op" id="7784900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7784906"><a href="/math/big/rat_test.go.html#7784014">t</a></span><span class="op" id="7784907">.</span><span class="ident" id="7784908">Errorf</span><span class="op" id="7784914">(</span><span class="string" id="7784915">&#34;strconv.ParseFloat(%q)&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;want&nbsp;%g&nbsp;(%b);&nbsp;delta&nbsp;=&nbsp;%g&#34;</span><span class="op" id="7784975">,</span>&nbsp;<span class="ident" id="7784977"><a href="/math/big/rat_test.go.html#7784038">input</a></span><span class="op" id="7784982">,</span>&nbsp;<span class="ident" id="7784984"><a href="/math/big/rat_test.go.html#7784525">e</a></span><span class="op" id="7784985">,</span>&nbsp;<span class="ident" id="7784987"><a href="/math/big/rat_test.go.html#7784525">e</a></span><span class="op" id="7784988">,</span>&nbsp;<span class="ident" id="7784990"><a href="/math/big/rat_test.go.html#7784302">f</a></span><span class="op" id="7784991">,</span>&nbsp;<span class="ident" id="7784993"><a href="/math/big/rat_test.go.html#7784302">f</a></span><span class="op" id="7784994">,</span>&nbsp;<span class="ident" id="7784996"><a href="/math/big/rat_test.go.html#7784302">f</a></span><span class="op" id="7784997">-</span><span class="ident" id="7784998"><a href="/math/big/rat_test.go.html#7784525">e</a></span><span class="op" id="7784999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785013">if</span>&nbsp;<span class="op" id="7785016">!</span><span class="ident" id="7785017"><a href="/math/big/rat_test.go.html#7782359">isFinite</a></span><span class="op" id="7785025">(</span><span class="ident" id="7785026"><a href="/math/big/rat_test.go.html#7784302">f</a></span><span class="op" id="7785027">)</span>&nbsp;<span class="op" id="7785029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785034">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785050">//&nbsp;2.&nbsp;Check&nbsp;f&nbsp;is&nbsp;best&nbsp;approximation&nbsp;to&nbsp;r.</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785094">if</span>&nbsp;<span class="op" id="7785097">!</span><span class="ident" id="7785098"><a href="/math/big/rat_test.go.html#7790605">checkIsBestApprox64</a></span><span class="op" id="7785117">(</span><span class="ident" id="7785118"><a href="/math/big/rat_test.go.html#7784014">t</a></span><span class="op" id="7785119">,</span>&nbsp;<span class="ident" id="7785121"><a href="/math/big/rat_test.go.html#7784302">f</a></span><span class="op" id="7785122">,</span>&nbsp;<span class="ident" id="7785124"><a href="/math/big/rat_test.go.html#7784191">r</a></span><span class="op" id="7785125">)</span>&nbsp;<span class="op" id="7785127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785132">//&nbsp;Append&nbsp;context&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785166"><a href="/math/big/rat_test.go.html#7784014">t</a></span><span class="op" id="7785167">.</span><span class="ident" id="7785168">Errorf</span><span class="op" id="7785174">(</span><span class="string" id="7785175">&#34;(input&nbsp;was&nbsp;%q)&#34;</span><span class="op" id="7785191">,</span>&nbsp;<span class="ident" id="7785193"><a href="/math/big/rat_test.go.html#7784038">input</a></span><span class="op" id="7785198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785207">//&nbsp;3.&nbsp;Check&nbsp;f-&gt;R-&gt;f&nbsp;roundtrip&nbsp;is&nbsp;non-lossy.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785253"><a href="/math/big/rat_test.go.html#7788646">checkNonLossyRoundtrip64</a></span><span class="op" id="7785277">(</span><span class="ident" id="7785278"><a href="/math/big/rat_test.go.html#7784014">t</a></span><span class="op" id="7785279">,</span>&nbsp;<span class="ident" id="7785281"><a href="/math/big/rat_test.go.html#7784302">f</a></span><span class="op" id="7785282">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785287">//&nbsp;4.&nbsp;Check&nbsp;exactness&nbsp;using&nbsp;slow&nbsp;algorithm.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785333">if</span>&nbsp;<span class="ident" id="7785336">wasExact</span>&nbsp;<span class="op" id="7785345">:=</span>&nbsp;<span class="builtinfunc" id="7785348">new</span><span class="op" id="7785351">(</span><span class="ident" id="7785352"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7785355">)</span><span class="op" id="7785356">.</span><span class="ident" id="7785357">SetFloat64</span><span class="op" id="7785367">(</span><span class="ident" id="7785368"><a href="/math/big/rat_test.go.html#7784302">f</a></span><span class="op" id="7785369">)</span><span class="op" id="7785370">.</span><span class="ident" id="7785371">Cmp</span><span class="op" id="7785374">(</span><span class="ident" id="7785375"><a href="/math/big/rat_test.go.html#7784191">r</a></span><span class="op" id="7785376">)</span>&nbsp;<span class="op" id="7785378">==</span>&nbsp;<span class="num" id="7785381">0</span><span class="op" id="7785382">;</span>&nbsp;<span class="ident" id="7785384"><a href="/math/big/rat_test.go.html#7785336">wasExact</a></span>&nbsp;<span class="op" id="7785393">!=</span>&nbsp;<span class="ident" id="7785396"><a href="/math/big/rat_test.go.html#7784305">exact</a></span>&nbsp;<span class="op" id="7785402">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785407"><a href="/math/big/rat_test.go.html#7784014">t</a></span><span class="op" id="7785408">.</span><span class="ident" id="7785409">Errorf</span><span class="op" id="7785415">(</span><span class="string" id="7785416">&#34;Rat.SetString(%q).Float64().exact&nbsp;=&nbsp;%t,&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7785465">,</span>&nbsp;<span class="ident" id="7785467"><a href="/math/big/rat_test.go.html#7784038">input</a></span><span class="op" id="7785472">,</span>&nbsp;<span class="ident" id="7785474"><a href="/math/big/rat_test.go.html#7784305">exact</a></span><span class="op" id="7785479">,</span>&nbsp;<span class="ident" id="7785481"><a href="/math/big/rat_test.go.html#7785336">wasExact</a></span><span class="op" id="7785489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785496">}</span><br>
<span class="lineno"></span><span class="op" id="7785498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">910</span><span class="keyword" id="7785501">func</span>&nbsp;<span class="ident" id="7785506">TestFloat32Distribution</span><span class="op" id="7785529">(</span><span class="ident" id="7785530">t</span>&nbsp;<span class="op" id="7785532">*</span><span class="ident" id="7785533"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7785540">.</span><span class="ident" id="7785541">T</span><span class="op" id="7785542">)</span>&nbsp;<span class="op" id="7785544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785547">//&nbsp;Generate&nbsp;a&nbsp;distribution&nbsp;of&nbsp;(sign,&nbsp;mantissa,&nbsp;exp)&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785607">//&nbsp;broader&nbsp;than&nbsp;the&nbsp;float32&nbsp;range,&nbsp;and&nbsp;check&nbsp;Rat.Float32()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785667">//&nbsp;always&nbsp;picks&nbsp;the&nbsp;closest&nbsp;float32&nbsp;approximation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785719">var</span>&nbsp;<span class="ident" id="7785723">add</span>&nbsp;<span class="op" id="7785727">=</span>&nbsp;<span class="op" id="7785729">[</span><span class="op" id="7785730">]</span><span class="ident" id="7785731">int64</span><span class="op" id="7785736">{</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7785740">0</span><span class="op" id="7785741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7785745">1</span><span class="op" id="7785746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7785750">3</span><span class="op" id="7785751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7785755">5</span><span class="op" id="7785756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7785760">7</span><span class="op" id="7785761">,</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7785765">9</span><span class="op" id="7785766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7785770">11</span><span class="op" id="7785772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785778">var</span>&nbsp;<span class="ident" id="7785782">winc</span><span class="op" id="7785786">,</span>&nbsp;<span class="ident" id="7785788">einc</span>&nbsp;<span class="op" id="7785793">=</span>&nbsp;<span class="ident" id="7785795">uint64</span><span class="op" id="7785801">(</span><span class="num" id="7785802">1</span><span class="op" id="7785803">)</span><span class="op" id="7785804">,</span>&nbsp;<span class="num" id="7785806">1</span>&nbsp;<span class="comment" id="7785808">//&nbsp;soak&nbsp;test&nbsp;(~1.5s&nbsp;on&nbsp;x86-64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785840">if</span>&nbsp;<span class="ident" id="7785843"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7785850">.</span><span class="ident" id="7785851">Short</span><span class="op" id="7785856">(</span><span class="op" id="7785857">)</span>&nbsp;<span class="op" id="7785859">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785863"><a href="/math/big/rat_test.go.html#7785782">winc</a></span><span class="op" id="7785867">,</span>&nbsp;<span class="ident" id="7785869"><a href="/math/big/rat_test.go.html#7785788">einc</a></span>&nbsp;<span class="op" id="7785874">=</span>&nbsp;<span class="num" id="7785876">5</span><span class="op" id="7785877">,</span>&nbsp;<span class="num" id="7785879">15</span>&nbsp;<span class="comment" id="7785882">//&nbsp;quick&nbsp;test&nbsp;(~60ms&nbsp;on&nbsp;x86-64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785919">for</span>&nbsp;<span class="ident" id="7785923">_</span><span class="op" id="7785924">,</span>&nbsp;<span class="ident" id="7785926">sign</span>&nbsp;<span class="op" id="7785931">:=</span>&nbsp;<span class="keyword" id="7785934">range</span>&nbsp;<span class="string" id="7785940">&#34;+-&#34;</span>&nbsp;<span class="op" id="7785945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785949">for</span>&nbsp;<span class="ident" id="7785953">_</span><span class="op" id="7785954">,</span>&nbsp;<span class="ident" id="7785956">a</span>&nbsp;<span class="op" id="7785958">:=</span>&nbsp;<span class="keyword" id="7785961">range</span>&nbsp;<span class="ident" id="7785967"><a href="/math/big/rat_test.go.html#7785723">add</a></span>&nbsp;<span class="op" id="7785971">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785976">for</span>&nbsp;<span class="ident" id="7785980">wid</span>&nbsp;<span class="op" id="7785984">:=</span>&nbsp;<span class="ident" id="7785987">uint64</span><span class="op" id="7785993">(</span><span class="num" id="7785994">0</span><span class="op" id="7785995">)</span><span class="op" id="7785996">;</span>&nbsp;<span class="ident" id="7785998"><a href="/math/big/rat_test.go.html#7785980">wid</a></span>&nbsp;<span class="op" id="7786002">&lt;</span>&nbsp;<span class="num" id="7786004">30</span><span class="op" id="7786006">;</span>&nbsp;<span class="ident" id="7786008"><a href="/math/big/rat_test.go.html#7785980">wid</a></span>&nbsp;<span class="op" id="7786012">+=</span>&nbsp;<span class="ident" id="7786015"><a href="/math/big/rat_test.go.html#7785782">winc</a></span>&nbsp;<span class="op" id="7786020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786026">b</span>&nbsp;<span class="op" id="7786028">:=</span>&nbsp;<span class="num" id="7786031">1</span><span class="op" id="7786032">&lt;&lt;</span><span class="ident" id="7786034"><a href="/math/big/rat_test.go.html#7785980">wid</a></span>&nbsp;<span class="op" id="7786038">+</span>&nbsp;<span class="ident" id="7786040"><a href="/math/big/rat_test.go.html#7785956">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786046">if</span>&nbsp;<span class="ident" id="7786049"><a href="/math/big/rat_test.go.html#7785926">sign</a></span>&nbsp;<span class="op" id="7786054">==</span>&nbsp;<span class="string" id="7786057">&#39;-&#39;</span>&nbsp;<span class="op" id="7786061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786068"><a href="/math/big/rat_test.go.html#7786026">b</a></span>&nbsp;<span class="op" id="7786070">=</span>&nbsp;<span class="op" id="7786072">-</span><span class="ident" id="7786073"><a href="/math/big/rat_test.go.html#7786026">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786079">}</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786085">for</span>&nbsp;<span class="ident" id="7786089">exp</span>&nbsp;<span class="op" id="7786093">:=</span>&nbsp;<span class="op" id="7786096">-</span><span class="num" id="7786097">150</span><span class="op" id="7786100">;</span>&nbsp;<span class="ident" id="7786102"><a href="/math/big/rat_test.go.html#7786089">exp</a></span>&nbsp;<span class="op" id="7786106">&lt;</span>&nbsp;<span class="num" id="7786108">150</span><span class="op" id="7786111">;</span>&nbsp;<span class="ident" id="7786113"><a href="/math/big/rat_test.go.html#7786089">exp</a></span>&nbsp;<span class="op" id="7786117">+=</span>&nbsp;<span class="ident" id="7786120"><a href="/math/big/rat_test.go.html#7785788">einc</a></span>&nbsp;<span class="op" id="7786125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786132">num</span><span class="op" id="7786135">,</span>&nbsp;<span class="ident" id="7786137">den</span>&nbsp;<span class="op" id="7786141">:=</span>&nbsp;<span class="ident" id="7786144"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7786150">(</span><span class="ident" id="7786151"><a href="/math/big/rat_test.go.html#7786026">b</a></span><span class="op" id="7786152">)</span><span class="op" id="7786153">,</span>&nbsp;<span class="ident" id="7786155"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7786161">(</span><span class="num" id="7786162">1</span><span class="op" id="7786163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786170">if</span>&nbsp;<span class="ident" id="7786173"><a href="/math/big/rat_test.go.html#7786089">exp</a></span>&nbsp;<span class="op" id="7786177">&gt;</span>&nbsp;<span class="num" id="7786179">0</span>&nbsp;<span class="op" id="7786181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786189"><a href="/math/big/rat_test.go.html#7786132">num</a></span><span class="op" id="7786192">.</span><span class="ident" id="7786193">Lsh</span><span class="op" id="7786196">(</span><span class="ident" id="7786197"><a href="/math/big/rat_test.go.html#7786132">num</a></span><span class="op" id="7786200">,</span>&nbsp;<span class="builtintype" id="7786202">uint</span><span class="op" id="7786206">(</span><span class="ident" id="7786207"><a href="/math/big/rat_test.go.html#7786089">exp</a></span><span class="op" id="7786210">)</span><span class="op" id="7786211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786218">}</span>&nbsp;<span class="keyword" id="7786220">else</span>&nbsp;<span class="op" id="7786225">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786233"><a href="/math/big/rat_test.go.html#7786137">den</a></span><span class="op" id="7786236">.</span><span class="ident" id="7786237">Lsh</span><span class="op" id="7786240">(</span><span class="ident" id="7786241"><a href="/math/big/rat_test.go.html#7786137">den</a></span><span class="op" id="7786244">,</span>&nbsp;<span class="builtintype" id="7786246">uint</span><span class="op" id="7786250">(</span><span class="op" id="7786251">-</span><span class="ident" id="7786252"><a href="/math/big/rat_test.go.html#7786089">exp</a></span><span class="op" id="7786255">)</span><span class="op" id="7786256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786270">r</span>&nbsp;<span class="op" id="7786272">:=</span>&nbsp;<span class="builtinfunc" id="7786275">new</span><span class="op" id="7786278">(</span><span class="ident" id="7786279"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7786282">)</span><span class="op" id="7786283">.</span><span class="ident" id="7786284">SetFrac</span><span class="op" id="7786291">(</span><span class="ident" id="7786292"><a href="/math/big/rat_test.go.html#7786132">num</a></span><span class="op" id="7786295">,</span>&nbsp;<span class="ident" id="7786297"><a href="/math/big/rat_test.go.html#7786137">den</a></span><span class="op" id="7786300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786307">f</span><span class="op" id="7786308">,</span>&nbsp;<span class="ident" id="7786310">_</span>&nbsp;<span class="op" id="7786312">:=</span>&nbsp;<span class="ident" id="7786315"><a href="/math/big/rat_test.go.html#7786270">r</a></span><span class="op" id="7786316">.</span><span class="ident" id="7786317">Float32</span><span class="op" id="7786324">(</span><span class="op" id="7786325">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786333">if</span>&nbsp;<span class="op" id="7786336">!</span><span class="ident" id="7786337"><a href="/math/big/rat_test.go.html#7789301">checkIsBestApprox32</a></span><span class="op" id="7786356">(</span><span class="ident" id="7786357"><a href="/math/big/rat_test.go.html#7785530">t</a></span><span class="op" id="7786358">,</span>&nbsp;<span class="ident" id="7786360"><a href="/math/big/rat_test.go.html#7786307">f</a></span><span class="op" id="7786361">,</span>&nbsp;<span class="ident" id="7786363"><a href="/math/big/rat_test.go.html#7786270">r</a></span><span class="op" id="7786364">)</span>&nbsp;<span class="op" id="7786366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7786374">//&nbsp;Append&nbsp;context&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786411"><a href="/math/big/rat_test.go.html#7785530">t</a></span><span class="op" id="7786412">.</span><span class="ident" id="7786413">Errorf</span><span class="op" id="7786419">(</span><span class="string" id="7786420">&#34;(input&nbsp;was&nbsp;mantissa&nbsp;%#x,&nbsp;exp&nbsp;%d;&nbsp;f&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;f&nbsp;~&nbsp;%g;&nbsp;r&nbsp;=&nbsp;%v)&#34;</span><span class="op" id="7786483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786492"><a href="/math/big/rat_test.go.html#7786026">b</a></span><span class="op" id="7786493">,</span>&nbsp;<span class="ident" id="7786495"><a href="/math/big/rat_test.go.html#7786089">exp</a></span><span class="op" id="7786498">,</span>&nbsp;<span class="ident" id="7786500"><a href="/math/big/rat_test.go.html#7786307">f</a></span><span class="op" id="7786501">,</span>&nbsp;<span class="ident" id="7786503"><a href="/math/big/rat_test.go.html#7786307">f</a></span><span class="op" id="7786504">,</span>&nbsp;<span class="ident" id="7786506"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7786510">.</span><span class="ident" id="7786511">Ldexp</span><span class="op" id="7786516">(</span><span class="builtintype" id="7786517">float64</span><span class="op" id="7786524">(</span><span class="ident" id="7786525"><a href="/math/big/rat_test.go.html#7786026">b</a></span><span class="op" id="7786526">)</span><span class="op" id="7786527">,</span>&nbsp;<span class="ident" id="7786529"><a href="/math/big/rat_test.go.html#7786089">exp</a></span><span class="op" id="7786532">)</span><span class="op" id="7786533">,</span>&nbsp;<span class="ident" id="7786535"><a href="/math/big/rat_test.go.html#7786270">r</a></span><span class="op" id="7786536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786543">}</span><br>
<span class="lineno">950</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786551"><a href="/math/big/rat_test.go.html#7788133">checkNonLossyRoundtrip32</a></span><span class="op" id="7786575">(</span><span class="ident" id="7786576"><a href="/math/big/rat_test.go.html#7785530">t</a></span><span class="op" id="7786577">,</span>&nbsp;<span class="ident" id="7786579"><a href="/math/big/rat_test.go.html#7786307">f</a></span><span class="op" id="7786580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786595">}</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786598">}</span><br>
<span class="lineno"></span><span class="op" id="7786600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7786603">func</span>&nbsp;<span class="ident" id="7786608">TestFloat64Distribution</span><span class="op" id="7786631">(</span><span class="ident" id="7786632">t</span>&nbsp;<span class="op" id="7786634">*</span><span class="ident" id="7786635"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7786642">.</span><span class="ident" id="7786643">T</span><span class="op" id="7786644">)</span>&nbsp;<span class="op" id="7786646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7786649">//&nbsp;Generate&nbsp;a&nbsp;distribution&nbsp;of&nbsp;(sign,&nbsp;mantissa,&nbsp;exp)&nbsp;values</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7786709">//&nbsp;broader&nbsp;than&nbsp;the&nbsp;float64&nbsp;range,&nbsp;and&nbsp;check&nbsp;Rat.Float64()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7786769">//&nbsp;always&nbsp;picks&nbsp;the&nbsp;closest&nbsp;float64&nbsp;approximation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786821">var</span>&nbsp;<span class="ident" id="7786825">add</span>&nbsp;<span class="op" id="7786829">=</span>&nbsp;<span class="op" id="7786831">[</span><span class="op" id="7786832">]</span><span class="ident" id="7786833">int64</span><span class="op" id="7786838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7786842">0</span><span class="op" id="7786843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7786847">1</span><span class="op" id="7786848">,</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7786852">3</span><span class="op" id="7786853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7786857">5</span><span class="op" id="7786858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7786862">7</span><span class="op" id="7786863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7786867">9</span><span class="op" id="7786868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7786872">11</span><span class="op" id="7786874">,</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786877">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786880">var</span>&nbsp;<span class="ident" id="7786884">winc</span><span class="op" id="7786888">,</span>&nbsp;<span class="ident" id="7786890">einc</span>&nbsp;<span class="op" id="7786895">=</span>&nbsp;<span class="ident" id="7786897">uint64</span><span class="op" id="7786903">(</span><span class="num" id="7786904">1</span><span class="op" id="7786905">)</span><span class="op" id="7786906">,</span>&nbsp;<span class="num" id="7786908">1</span>&nbsp;<span class="comment" id="7786910">//&nbsp;soak&nbsp;test&nbsp;(~75s&nbsp;on&nbsp;x86-64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786941">if</span>&nbsp;<span class="ident" id="7786944"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7786951">.</span><span class="ident" id="7786952">Short</span><span class="op" id="7786957">(</span><span class="op" id="7786958">)</span>&nbsp;<span class="op" id="7786960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786964"><a href="/math/big/rat_test.go.html#7786884">winc</a></span><span class="op" id="7786968">,</span>&nbsp;<span class="ident" id="7786970"><a href="/math/big/rat_test.go.html#7786890">einc</a></span>&nbsp;<span class="op" id="7786975">=</span>&nbsp;<span class="num" id="7786977">10</span><span class="op" id="7786979">,</span>&nbsp;<span class="num" id="7786981">500</span>&nbsp;<span class="comment" id="7786985">//&nbsp;quick&nbsp;test&nbsp;(~12ms&nbsp;on&nbsp;x86-64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787018">}</span><br>
<span class="lineno">975</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787022">for</span>&nbsp;<span class="ident" id="7787026">_</span><span class="op" id="7787027">,</span>&nbsp;<span class="ident" id="7787029">sign</span>&nbsp;<span class="op" id="7787034">:=</span>&nbsp;<span class="keyword" id="7787037">range</span>&nbsp;<span class="string" id="7787043">&#34;+-&#34;</span>&nbsp;<span class="op" id="7787048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787052">for</span>&nbsp;<span class="ident" id="7787056">_</span><span class="op" id="7787057">,</span>&nbsp;<span class="ident" id="7787059">a</span>&nbsp;<span class="op" id="7787061">:=</span>&nbsp;<span class="keyword" id="7787064">range</span>&nbsp;<span class="ident" id="7787070"><a href="/math/big/rat_test.go.html#7786825">add</a></span>&nbsp;<span class="op" id="7787074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787079">for</span>&nbsp;<span class="ident" id="7787083">wid</span>&nbsp;<span class="op" id="7787087">:=</span>&nbsp;<span class="ident" id="7787090">uint64</span><span class="op" id="7787096">(</span><span class="num" id="7787097">0</span><span class="op" id="7787098">)</span><span class="op" id="7787099">;</span>&nbsp;<span class="ident" id="7787101"><a href="/math/big/rat_test.go.html#7787083">wid</a></span>&nbsp;<span class="op" id="7787105">&lt;</span>&nbsp;<span class="num" id="7787107">60</span><span class="op" id="7787109">;</span>&nbsp;<span class="ident" id="7787111"><a href="/math/big/rat_test.go.html#7787083">wid</a></span>&nbsp;<span class="op" id="7787115">+=</span>&nbsp;<span class="ident" id="7787118"><a href="/math/big/rat_test.go.html#7786884">winc</a></span>&nbsp;<span class="op" id="7787123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787129">b</span>&nbsp;<span class="op" id="7787131">:=</span>&nbsp;<span class="num" id="7787134">1</span><span class="op" id="7787135">&lt;&lt;</span><span class="ident" id="7787137"><a href="/math/big/rat_test.go.html#7787083">wid</a></span>&nbsp;<span class="op" id="7787141">+</span>&nbsp;<span class="ident" id="7787143"><a href="/math/big/rat_test.go.html#7787059">a</a></span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787149">if</span>&nbsp;<span class="ident" id="7787152"><a href="/math/big/rat_test.go.html#7787029">sign</a></span>&nbsp;<span class="op" id="7787157">==</span>&nbsp;<span class="string" id="7787160">&#39;-&#39;</span>&nbsp;<span class="op" id="7787164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787171"><a href="/math/big/rat_test.go.html#7787129">b</a></span>&nbsp;<span class="op" id="7787173">=</span>&nbsp;<span class="op" id="7787175">-</span><span class="ident" id="7787176"><a href="/math/big/rat_test.go.html#7787129">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787188">for</span>&nbsp;<span class="ident" id="7787192">exp</span>&nbsp;<span class="op" id="7787196">:=</span>&nbsp;<span class="op" id="7787199">-</span><span class="num" id="7787200">1100</span><span class="op" id="7787204">;</span>&nbsp;<span class="ident" id="7787206"><a href="/math/big/rat_test.go.html#7787192">exp</a></span>&nbsp;<span class="op" id="7787210">&lt;</span>&nbsp;<span class="num" id="7787212">1100</span><span class="op" id="7787216">;</span>&nbsp;<span class="ident" id="7787218"><a href="/math/big/rat_test.go.html#7787192">exp</a></span>&nbsp;<span class="op" id="7787222">+=</span>&nbsp;<span class="ident" id="7787225"><a href="/math/big/rat_test.go.html#7786890">einc</a></span>&nbsp;<span class="op" id="7787230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787237">num</span><span class="op" id="7787240">,</span>&nbsp;<span class="ident" id="7787242">den</span>&nbsp;<span class="op" id="7787246">:=</span>&nbsp;<span class="ident" id="7787249"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7787255">(</span><span class="ident" id="7787256"><a href="/math/big/rat_test.go.html#7787129">b</a></span><span class="op" id="7787257">)</span><span class="op" id="7787258">,</span>&nbsp;<span class="ident" id="7787260"><a href="/math/big/int.go.html#2848377">NewInt</a></span><span class="op" id="7787266">(</span><span class="num" id="7787267">1</span><span class="op" id="7787268">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787275">if</span>&nbsp;<span class="ident" id="7787278"><a href="/math/big/rat_test.go.html#7787192">exp</a></span>&nbsp;<span class="op" id="7787282">&gt;</span>&nbsp;<span class="num" id="7787284">0</span>&nbsp;<span class="op" id="7787286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787294"><a href="/math/big/rat_test.go.html#7787237">num</a></span><span class="op" id="7787297">.</span><span class="ident" id="7787298">Lsh</span><span class="op" id="7787301">(</span><span class="ident" id="7787302"><a href="/math/big/rat_test.go.html#7787237">num</a></span><span class="op" id="7787305">,</span>&nbsp;<span class="builtintype" id="7787307">uint</span><span class="op" id="7787311">(</span><span class="ident" id="7787312"><a href="/math/big/rat_test.go.html#7787192">exp</a></span><span class="op" id="7787315">)</span><span class="op" id="7787316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787323">}</span>&nbsp;<span class="keyword" id="7787325">else</span>&nbsp;<span class="op" id="7787330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787338"><a href="/math/big/rat_test.go.html#7787242">den</a></span><span class="op" id="7787341">.</span><span class="ident" id="7787342">Lsh</span><span class="op" id="7787345">(</span><span class="ident" id="7787346"><a href="/math/big/rat_test.go.html#7787242">den</a></span><span class="op" id="7787349">,</span>&nbsp;<span class="builtintype" id="7787351">uint</span><span class="op" id="7787355">(</span><span class="op" id="7787356">-</span><span class="ident" id="7787357"><a href="/math/big/rat_test.go.html#7787192">exp</a></span><span class="op" id="7787360">)</span><span class="op" id="7787361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787368">}</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787375">r</span>&nbsp;<span class="op" id="7787377">:=</span>&nbsp;<span class="builtinfunc" id="7787380">new</span><span class="op" id="7787383">(</span><span class="ident" id="7787384"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7787387">)</span><span class="op" id="7787388">.</span><span class="ident" id="7787389">SetFrac</span><span class="op" id="7787396">(</span><span class="ident" id="7787397"><a href="/math/big/rat_test.go.html#7787237">num</a></span><span class="op" id="7787400">,</span>&nbsp;<span class="ident" id="7787402"><a href="/math/big/rat_test.go.html#7787242">den</a></span><span class="op" id="7787405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787412">f</span><span class="op" id="7787413">,</span>&nbsp;<span class="ident" id="7787415">_</span>&nbsp;<span class="op" id="7787417">:=</span>&nbsp;<span class="ident" id="7787420"><a href="/math/big/rat_test.go.html#7787375">r</a></span><span class="op" id="7787421">.</span><span class="ident" id="7787422">Float64</span><span class="op" id="7787429">(</span><span class="op" id="7787430">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787438">if</span>&nbsp;<span class="op" id="7787441">!</span><span class="ident" id="7787442"><a href="/math/big/rat_test.go.html#7790605">checkIsBestApprox64</a></span><span class="op" id="7787461">(</span><span class="ident" id="7787462"><a href="/math/big/rat_test.go.html#7786632">t</a></span><span class="op" id="7787463">,</span>&nbsp;<span class="ident" id="7787465"><a href="/math/big/rat_test.go.html#7787412">f</a></span><span class="op" id="7787466">,</span>&nbsp;<span class="ident" id="7787468"><a href="/math/big/rat_test.go.html#7787375">r</a></span><span class="op" id="7787469">)</span>&nbsp;<span class="op" id="7787471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7787479">//&nbsp;Append&nbsp;context&nbsp;information.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787516"><a href="/math/big/rat_test.go.html#7786632">t</a></span><span class="op" id="7787517">.</span><span class="ident" id="7787518">Errorf</span><span class="op" id="7787524">(</span><span class="string" id="7787525">&#34;(input&nbsp;was&nbsp;mantissa&nbsp;%#x,&nbsp;exp&nbsp;%d;&nbsp;f&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;f&nbsp;~&nbsp;%g;&nbsp;r&nbsp;=&nbsp;%v)&#34;</span><span class="op" id="7787588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787597"><a href="/math/big/rat_test.go.html#7787129">b</a></span><span class="op" id="7787598">,</span>&nbsp;<span class="ident" id="7787600"><a href="/math/big/rat_test.go.html#7787192">exp</a></span><span class="op" id="7787603">,</span>&nbsp;<span class="ident" id="7787605"><a href="/math/big/rat_test.go.html#7787412">f</a></span><span class="op" id="7787606">,</span>&nbsp;<span class="ident" id="7787608"><a href="/math/big/rat_test.go.html#7787412">f</a></span><span class="op" id="7787609">,</span>&nbsp;<span class="ident" id="7787611"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7787615">.</span><span class="ident" id="7787616">Ldexp</span><span class="op" id="7787621">(</span><span class="builtintype" id="7787622">float64</span><span class="op" id="7787629">(</span><span class="ident" id="7787630"><a href="/math/big/rat_test.go.html#7787129">b</a></span><span class="op" id="7787631">)</span><span class="op" id="7787632">,</span>&nbsp;<span class="ident" id="7787634"><a href="/math/big/rat_test.go.html#7787192">exp</a></span><span class="op" id="7787637">)</span><span class="op" id="7787638">,</span>&nbsp;<span class="ident" id="7787640"><a href="/math/big/rat_test.go.html#7787375">r</a></span><span class="op" id="7787641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787656"><a href="/math/big/rat_test.go.html#7788646">checkNonLossyRoundtrip64</a></span><span class="op" id="7787680">(</span><span class="ident" id="7787681"><a href="/math/big/rat_test.go.html#7786632">t</a></span><span class="op" id="7787682">,</span>&nbsp;<span class="ident" id="7787684"><a href="/math/big/rat_test.go.html#7787412">f</a></span><span class="op" id="7787685">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787703">}</span><br>
<span class="lineno"></span><span class="op" id="7787705">}</span><br>
<span class="lineno">1005</span><br>
<span class="lineno"></span><span class="comment" id="7787708">//&nbsp;TestSetFloat64NonFinite&nbsp;checks&nbsp;that&nbsp;SetFloat64&nbsp;of&nbsp;a&nbsp;non-finite&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="7787780">//&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="7787796">func</span>&nbsp;<span class="ident" id="7787801">TestSetFloat64NonFinite</span><span class="op" id="7787824">(</span><span class="ident" id="7787825">t</span>&nbsp;<span class="op" id="7787827">*</span><span class="ident" id="7787828"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7787835">.</span><span class="ident" id="7787836">T</span><span class="op" id="7787837">)</span>&nbsp;<span class="op" id="7787839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787842">for</span>&nbsp;<span class="ident" id="7787846">_</span><span class="op" id="7787847">,</span>&nbsp;<span class="ident" id="7787849">f</span>&nbsp;<span class="op" id="7787851">:=</span>&nbsp;<span class="keyword" id="7787854">range</span>&nbsp;<span class="op" id="7787860">[</span><span class="op" id="7787861">]</span><span class="builtintype" id="7787862">float64</span><span class="op" id="7787869">{</span><span class="ident" id="7787870"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7787874">.</span><span class="ident" id="7787875">NaN</span><span class="op" id="7787878">(</span><span class="op" id="7787879">)</span><span class="op" id="7787880">,</span>&nbsp;<span class="ident" id="7787882"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7787886">.</span><span class="ident" id="7787887">Inf</span><span class="op" id="7787890">(</span><span class="op" id="7787891">+</span><span class="num" id="7787892">1</span><span class="op" id="7787893">)</span><span class="op" id="7787894">,</span>&nbsp;<span class="ident" id="7787896"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7787900">.</span><span class="ident" id="7787901">Inf</span><span class="op" id="7787904">(</span><span class="op" id="7787905">-</span><span class="num" id="7787906">1</span><span class="op" id="7787907">)</span><span class="op" id="7787908">}</span>&nbsp;<span class="op" id="7787910">{</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787914">var</span>&nbsp;<span class="ident" id="7787918">r</span>&nbsp;<span class="ident" id="7787920"><a href="/math/big/rat.go.html#2907970">Rat</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787926">if</span>&nbsp;<span class="ident" id="7787929">r2</span>&nbsp;<span class="op" id="7787932">:=</span>&nbsp;<span class="ident" id="7787935"><a href="/math/big/rat_test.go.html#7787918">r</a></span><span class="op" id="7787936">.</span><span class="ident" id="7787937">SetFloat64</span><span class="op" id="7787947">(</span><span class="ident" id="7787948"><a href="/math/big/rat_test.go.html#7787849">f</a></span><span class="op" id="7787949">)</span><span class="op" id="7787950">;</span>&nbsp;<span class="ident" id="7787952"><a href="/math/big/rat_test.go.html#7787929">r2</a></span>&nbsp;<span class="op" id="7787955">!=</span>&nbsp;<span class="ident" id="7787958">nil</span>&nbsp;<span class="op" id="7787962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787967"><a href="/math/big/rat_test.go.html#7787825">t</a></span><span class="op" id="7787968">.</span><span class="ident" id="7787969">Errorf</span><span class="op" id="7787975">(</span><span class="string" id="7787976">&#34;SetFloat64(%g)&nbsp;was&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7788009">,</span>&nbsp;<span class="ident" id="7788011"><a href="/math/big/rat_test.go.html#7787849">f</a></span><span class="op" id="7788012">,</span>&nbsp;<span class="ident" id="7788014"><a href="/math/big/rat_test.go.html#7787929">r2</a></span><span class="op" id="7788016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788023">}</span><br>
<span class="lineno">1015</span><span class="op" id="7788025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7788028">//&nbsp;checkNonLossyRoundtrip32&nbsp;checks&nbsp;that&nbsp;a&nbsp;float-&gt;Rat-&gt;float&nbsp;roundtrip&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="7788101">//&nbsp;non-lossy&nbsp;for&nbsp;finite&nbsp;f.</span><br>
<span class="lineno"></span><span class="keyword" id="7788128">func</span>&nbsp;<span class="ident" id="7788133">checkNonLossyRoundtrip32</span><span class="op" id="7788157">(</span><span class="ident" id="7788158">t</span>&nbsp;<span class="op" id="7788160">*</span><span class="ident" id="7788161"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7788168">.</span><span class="ident" id="7788169">T</span><span class="op" id="7788170">,</span>&nbsp;<span class="ident" id="7788172">f</span>&nbsp;<span class="builtintype" id="7788174">float32</span><span class="op" id="7788181">)</span>&nbsp;<span class="op" id="7788183">{</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788186">if</span>&nbsp;<span class="op" id="7788189">!</span><span class="ident" id="7788190"><a href="/math/big/rat_test.go.html#7782359">isFinite</a></span><span class="op" id="7788198">(</span><span class="builtintype" id="7788199">float64</span><span class="op" id="7788206">(</span><span class="ident" id="7788207"><a href="/math/big/rat_test.go.html#7788172">f</a></span><span class="op" id="7788208">)</span><span class="op" id="7788209">)</span>&nbsp;<span class="op" id="7788211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788215">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788226">r</span>&nbsp;<span class="op" id="7788228">:=</span>&nbsp;<span class="builtinfunc" id="7788231">new</span><span class="op" id="7788234">(</span><span class="ident" id="7788235"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7788238">)</span><span class="op" id="7788239">.</span><span class="ident" id="7788240">SetFloat64</span><span class="op" id="7788250">(</span><span class="builtintype" id="7788251">float64</span><span class="op" id="7788258">(</span><span class="ident" id="7788259"><a href="/math/big/rat_test.go.html#7788172">f</a></span><span class="op" id="7788260">)</span><span class="op" id="7788261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788264">if</span>&nbsp;<span class="ident" id="7788267"><a href="/math/big/rat_test.go.html#7788226">r</a></span>&nbsp;<span class="op" id="7788269">==</span>&nbsp;<span class="ident" id="7788272">nil</span>&nbsp;<span class="op" id="7788276">{</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788280"><a href="/math/big/rat_test.go.html#7788158">t</a></span><span class="op" id="7788281">.</span><span class="ident" id="7788282">Errorf</span><span class="op" id="7788288">(</span><span class="string" id="7788289">&#34;Rat.SetFloat64(float64(%g)&nbsp;(%b))&nbsp;==&nbsp;nil&#34;</span><span class="op" id="7788330">,</span>&nbsp;<span class="ident" id="7788332"><a href="/math/big/rat_test.go.html#7788172">f</a></span><span class="op" id="7788333">,</span>&nbsp;<span class="ident" id="7788335"><a href="/math/big/rat_test.go.html#7788172">f</a></span><span class="op" id="7788336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788340">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788351">f2</span><span class="op" id="7788353">,</span>&nbsp;<span class="ident" id="7788355">exact</span>&nbsp;<span class="op" id="7788361">:=</span>&nbsp;<span class="ident" id="7788364"><a href="/math/big/rat_test.go.html#7788226">r</a></span><span class="op" id="7788365">.</span><span class="ident" id="7788366">Float32</span><span class="op" id="7788373">(</span><span class="op" id="7788374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788377">if</span>&nbsp;<span class="ident" id="7788380"><a href="/math/big/rat_test.go.html#7788172">f</a></span>&nbsp;<span class="op" id="7788382">!=</span>&nbsp;<span class="ident" id="7788385"><a href="/math/big/rat_test.go.html#7788351">f2</a></span>&nbsp;<span class="op" id="7788388">||</span>&nbsp;<span class="op" id="7788391">!</span><span class="ident" id="7788392"><a href="/math/big/rat_test.go.html#7788355">exact</a></span>&nbsp;<span class="op" id="7788398">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788402"><a href="/math/big/rat_test.go.html#7788158">t</a></span><span class="op" id="7788403">.</span><span class="ident" id="7788404">Errorf</span><span class="op" id="7788410">(</span><span class="string" id="7788411">&#34;Rat.SetFloat64(float64(%g)).Float32()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;%v,&nbsp;want&nbsp;%g&nbsp;(%b),&nbsp;%v;&nbsp;delta&nbsp;=&nbsp;%b&#34;</span><span class="op" id="7788494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788499"><a href="/math/big/rat_test.go.html#7788172">f</a></span><span class="op" id="7788500">,</span>&nbsp;<span class="ident" id="7788502"><a href="/math/big/rat_test.go.html#7788351">f2</a></span><span class="op" id="7788504">,</span>&nbsp;<span class="ident" id="7788506"><a href="/math/big/rat_test.go.html#7788351">f2</a></span><span class="op" id="7788508">,</span>&nbsp;<span class="ident" id="7788510"><a href="/math/big/rat_test.go.html#7788355">exact</a></span><span class="op" id="7788515">,</span>&nbsp;<span class="ident" id="7788517"><a href="/math/big/rat_test.go.html#7788172">f</a></span><span class="op" id="7788518">,</span>&nbsp;<span class="ident" id="7788520"><a href="/math/big/rat_test.go.html#7788172">f</a></span><span class="op" id="7788521">,</span>&nbsp;<span class="ident" id="7788523">true</span><span class="op" id="7788527">,</span>&nbsp;<span class="ident" id="7788529"><a href="/math/big/rat_test.go.html#7788351">f2</a></span><span class="op" id="7788531">-</span><span class="ident" id="7788532"><a href="/math/big/rat_test.go.html#7788172">f</a></span><span class="op" id="7788533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788536">}</span><br>
<span class="lineno"></span><span class="op" id="7788538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1035</span><span class="comment" id="7788541">//&nbsp;checkNonLossyRoundtrip64&nbsp;checks&nbsp;that&nbsp;a&nbsp;float-&gt;Rat-&gt;float&nbsp;roundtrip&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="7788614">//&nbsp;non-lossy&nbsp;for&nbsp;finite&nbsp;f.</span><br>
<span class="lineno"></span><span class="keyword" id="7788641">func</span>&nbsp;<span class="ident" id="7788646">checkNonLossyRoundtrip64</span><span class="op" id="7788670">(</span><span class="ident" id="7788671">t</span>&nbsp;<span class="op" id="7788673">*</span><span class="ident" id="7788674"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7788681">.</span><span class="ident" id="7788682">T</span><span class="op" id="7788683">,</span>&nbsp;<span class="ident" id="7788685">f</span>&nbsp;<span class="builtintype" id="7788687">float64</span><span class="op" id="7788694">)</span>&nbsp;<span class="op" id="7788696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788699">if</span>&nbsp;<span class="op" id="7788702">!</span><span class="ident" id="7788703"><a href="/math/big/rat_test.go.html#7782359">isFinite</a></span><span class="op" id="7788711">(</span><span class="ident" id="7788712"><a href="/math/big/rat_test.go.html#7788685">f</a></span><span class="op" id="7788713">)</span>&nbsp;<span class="op" id="7788715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788719">return</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788730">r</span>&nbsp;<span class="op" id="7788732">:=</span>&nbsp;<span class="builtinfunc" id="7788735">new</span><span class="op" id="7788738">(</span><span class="ident" id="7788739"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7788742">)</span><span class="op" id="7788743">.</span><span class="ident" id="7788744">SetFloat64</span><span class="op" id="7788754">(</span><span class="ident" id="7788755"><a href="/math/big/rat_test.go.html#7788685">f</a></span><span class="op" id="7788756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788759">if</span>&nbsp;<span class="ident" id="7788762"><a href="/math/big/rat_test.go.html#7788730">r</a></span>&nbsp;<span class="op" id="7788764">==</span>&nbsp;<span class="ident" id="7788767">nil</span>&nbsp;<span class="op" id="7788771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788775"><a href="/math/big/rat_test.go.html#7788671">t</a></span><span class="op" id="7788776">.</span><span class="ident" id="7788777">Errorf</span><span class="op" id="7788783">(</span><span class="string" id="7788784">&#34;Rat.SetFloat64(%g&nbsp;(%b))&nbsp;==&nbsp;nil&#34;</span><span class="op" id="7788816">,</span>&nbsp;<span class="ident" id="7788818"><a href="/math/big/rat_test.go.html#7788685">f</a></span><span class="op" id="7788819">,</span>&nbsp;<span class="ident" id="7788821"><a href="/math/big/rat_test.go.html#7788685">f</a></span><span class="op" id="7788822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788826">return</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788837">f2</span><span class="op" id="7788839">,</span>&nbsp;<span class="ident" id="7788841">exact</span>&nbsp;<span class="op" id="7788847">:=</span>&nbsp;<span class="ident" id="7788850"><a href="/math/big/rat_test.go.html#7788730">r</a></span><span class="op" id="7788851">.</span><span class="ident" id="7788852">Float64</span><span class="op" id="7788859">(</span><span class="op" id="7788860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788863">if</span>&nbsp;<span class="ident" id="7788866"><a href="/math/big/rat_test.go.html#7788685">f</a></span>&nbsp;<span class="op" id="7788868">!=</span>&nbsp;<span class="ident" id="7788871"><a href="/math/big/rat_test.go.html#7788837">f2</a></span>&nbsp;<span class="op" id="7788874">||</span>&nbsp;<span class="op" id="7788877">!</span><span class="ident" id="7788878"><a href="/math/big/rat_test.go.html#7788841">exact</a></span>&nbsp;<span class="op" id="7788884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788888"><a href="/math/big/rat_test.go.html#7788671">t</a></span><span class="op" id="7788889">.</span><span class="ident" id="7788890">Errorf</span><span class="op" id="7788896">(</span><span class="string" id="7788897">&#34;Rat.SetFloat64(%g).Float64()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;%v,&nbsp;want&nbsp;%g&nbsp;(%b),&nbsp;%v;&nbsp;delta&nbsp;=&nbsp;%b&#34;</span><span class="op" id="7788971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788976"><a href="/math/big/rat_test.go.html#7788685">f</a></span><span class="op" id="7788977">,</span>&nbsp;<span class="ident" id="7788979"><a href="/math/big/rat_test.go.html#7788837">f2</a></span><span class="op" id="7788981">,</span>&nbsp;<span class="ident" id="7788983"><a href="/math/big/rat_test.go.html#7788837">f2</a></span><span class="op" id="7788985">,</span>&nbsp;<span class="ident" id="7788987"><a href="/math/big/rat_test.go.html#7788841">exact</a></span><span class="op" id="7788992">,</span>&nbsp;<span class="ident" id="7788994"><a href="/math/big/rat_test.go.html#7788685">f</a></span><span class="op" id="7788995">,</span>&nbsp;<span class="ident" id="7788997"><a href="/math/big/rat_test.go.html#7788685">f</a></span><span class="op" id="7788998">,</span>&nbsp;<span class="ident" id="7789000">true</span><span class="op" id="7789004">,</span>&nbsp;<span class="ident" id="7789006"><a href="/math/big/rat_test.go.html#7788837">f2</a></span><span class="op" id="7789008">-</span><span class="ident" id="7789009"><a href="/math/big/rat_test.go.html#7788685">f</a></span><span class="op" id="7789010">)</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789013">}</span><br>
<span class="lineno"></span><span class="op" id="7789015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7789018">//&nbsp;delta&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;difference&nbsp;between&nbsp;r&nbsp;and&nbsp;f.</span><br>
<span class="lineno"></span><span class="keyword" id="7789076">func</span>&nbsp;<span class="ident" id="7789081">delta</span><span class="op" id="7789086">(</span><span class="ident" id="7789087">r</span>&nbsp;<span class="op" id="7789089">*</span><span class="ident" id="7789090"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7789093">,</span>&nbsp;<span class="ident" id="7789095">f</span>&nbsp;<span class="builtintype" id="7789097">float64</span><span class="op" id="7789104">)</span>&nbsp;<span class="op" id="7789106">*</span><span class="ident" id="7789107"><a href="/math/big/rat.go.html#2907970">Rat</a></span>&nbsp;<span class="op" id="7789111">{</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789114">d</span>&nbsp;<span class="op" id="7789116">:=</span>&nbsp;<span class="builtinfunc" id="7789119">new</span><span class="op" id="7789122">(</span><span class="ident" id="7789123"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7789126">)</span><span class="op" id="7789127">.</span><span class="ident" id="7789128">Sub</span><span class="op" id="7789131">(</span><span class="ident" id="7789132"><a href="/math/big/rat_test.go.html#7789087">r</a></span><span class="op" id="7789133">,</span>&nbsp;<span class="builtinfunc" id="7789135">new</span><span class="op" id="7789138">(</span><span class="ident" id="7789139"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7789142">)</span><span class="op" id="7789143">.</span><span class="ident" id="7789144">SetFloat64</span><span class="op" id="7789154">(</span><span class="ident" id="7789155"><a href="/math/big/rat_test.go.html#7789095">f</a></span><span class="op" id="7789156">)</span><span class="op" id="7789157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789160">return</span>&nbsp;<span class="ident" id="7789167"><a href="/math/big/rat_test.go.html#7789114">d</a></span><span class="op" id="7789168">.</span><span class="ident" id="7789169">Abs</span><span class="op" id="7789172">(</span><span class="ident" id="7789173"><a href="/math/big/rat_test.go.html#7789114">d</a></span><span class="op" id="7789174">)</span><br>
<span class="lineno"></span><span class="op" id="7789176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7789179">//&nbsp;checkIsBestApprox32&nbsp;checks&nbsp;that&nbsp;f&nbsp;is&nbsp;the&nbsp;best&nbsp;possible&nbsp;float32</span><br>
<span class="lineno">1060</span><span class="comment" id="7789245">//&nbsp;approximation&nbsp;of&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="7789268">//&nbsp;Returns&nbsp;true&nbsp;on&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="7789296">func</span>&nbsp;<span class="ident" id="7789301">checkIsBestApprox32</span><span class="op" id="7789320">(</span><span class="ident" id="7789321">t</span>&nbsp;<span class="op" id="7789323">*</span><span class="ident" id="7789324"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7789331">.</span><span class="ident" id="7789332">T</span><span class="op" id="7789333">,</span>&nbsp;<span class="ident" id="7789335">f</span>&nbsp;<span class="builtintype" id="7789337">float32</span><span class="op" id="7789344">,</span>&nbsp;<span class="ident" id="7789346">r</span>&nbsp;<span class="op" id="7789348">*</span><span class="ident" id="7789349"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7789352">)</span>&nbsp;<span class="builtintype" id="7789354">bool</span>&nbsp;<span class="op" id="7789359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789362">if</span>&nbsp;<span class="ident" id="7789365"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7789369">.</span><span class="ident" id="7789370">Abs</span><span class="op" id="7789373">(</span><span class="builtintype" id="7789374">float64</span><span class="op" id="7789381">(</span><span class="ident" id="7789382"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7789383">)</span><span class="op" id="7789384">)</span>&nbsp;<span class="op" id="7789386">&gt;=</span>&nbsp;<span class="ident" id="7789389"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7789393">.</span><span class="ident" id="7789394">MaxFloat32</span>&nbsp;<span class="op" id="7789405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7789409">//&nbsp;Cannot&nbsp;check&nbsp;+Inf,&nbsp;-Inf,&nbsp;nor&nbsp;the&nbsp;float&nbsp;next&nbsp;to&nbsp;them&nbsp;(MaxFloat32).</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7789480">//&nbsp;But&nbsp;we&nbsp;have&nbsp;tests&nbsp;for&nbsp;these&nbsp;special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789528">return</span>&nbsp;<span class="ident" id="7789535">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7789545">//&nbsp;r&nbsp;must&nbsp;be&nbsp;strictly&nbsp;between&nbsp;f0&nbsp;and&nbsp;f1,&nbsp;the&nbsp;floats&nbsp;bracketing&nbsp;f.</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789612">f0</span>&nbsp;<span class="op" id="7789615">:=</span>&nbsp;<span class="ident" id="7789618"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7789622">.</span><span class="ident" id="7789623">Nextafter32</span><span class="op" id="7789634">(</span><span class="ident" id="7789635"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7789636">,</span>&nbsp;<span class="builtintype" id="7789638">float32</span><span class="op" id="7789645">(</span><span class="ident" id="7789646"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7789650">.</span><span class="ident" id="7789651">Inf</span><span class="op" id="7789654">(</span><span class="op" id="7789655">-</span><span class="num" id="7789656">1</span><span class="op" id="7789657">)</span><span class="op" id="7789658">)</span><span class="op" id="7789659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789662">f1</span>&nbsp;<span class="op" id="7789665">:=</span>&nbsp;<span class="ident" id="7789668"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7789672">.</span><span class="ident" id="7789673">Nextafter32</span><span class="op" id="7789684">(</span><span class="ident" id="7789685"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7789686">,</span>&nbsp;<span class="builtintype" id="7789688">float32</span><span class="op" id="7789695">(</span><span class="ident" id="7789696"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7789700">.</span><span class="ident" id="7789701">Inf</span><span class="op" id="7789704">(</span><span class="op" id="7789705">+</span><span class="num" id="7789706">1</span><span class="op" id="7789707">)</span><span class="op" id="7789708">)</span><span class="op" id="7789709">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7789713">//&nbsp;For&nbsp;f&nbsp;to&nbsp;be&nbsp;correct,&nbsp;r&nbsp;must&nbsp;be&nbsp;closer&nbsp;to&nbsp;f&nbsp;than&nbsp;to&nbsp;f0&nbsp;or&nbsp;f1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789778">df</span>&nbsp;<span class="op" id="7789781">:=</span>&nbsp;<span class="ident" id="7789784"><a href="/math/big/rat_test.go.html#7789081">delta</a></span><span class="op" id="7789789">(</span><span class="ident" id="7789790"><a href="/math/big/rat_test.go.html#7789346">r</a></span><span class="op" id="7789791">,</span>&nbsp;<span class="builtintype" id="7789793">float64</span><span class="op" id="7789800">(</span><span class="ident" id="7789801"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7789802">)</span><span class="op" id="7789803">)</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789806">df0</span>&nbsp;<span class="op" id="7789810">:=</span>&nbsp;<span class="ident" id="7789813"><a href="/math/big/rat_test.go.html#7789081">delta</a></span><span class="op" id="7789818">(</span><span class="ident" id="7789819"><a href="/math/big/rat_test.go.html#7789346">r</a></span><span class="op" id="7789820">,</span>&nbsp;<span class="builtintype" id="7789822">float64</span><span class="op" id="7789829">(</span><span class="ident" id="7789830"><a href="/math/big/rat_test.go.html#7789612">f0</a></span><span class="op" id="7789832">)</span><span class="op" id="7789833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789836">df1</span>&nbsp;<span class="op" id="7789840">:=</span>&nbsp;<span class="ident" id="7789843"><a href="/math/big/rat_test.go.html#7789081">delta</a></span><span class="op" id="7789848">(</span><span class="ident" id="7789849"><a href="/math/big/rat_test.go.html#7789346">r</a></span><span class="op" id="7789850">,</span>&nbsp;<span class="builtintype" id="7789852">float64</span><span class="op" id="7789859">(</span><span class="ident" id="7789860"><a href="/math/big/rat_test.go.html#7789662">f1</a></span><span class="op" id="7789862">)</span><span class="op" id="7789863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789866">if</span>&nbsp;<span class="ident" id="7789869"><a href="/math/big/rat_test.go.html#7789778">df</a></span><span class="op" id="7789871">.</span><span class="ident" id="7789872">Cmp</span><span class="op" id="7789875">(</span><span class="ident" id="7789876"><a href="/math/big/rat_test.go.html#7789806">df0</a></span><span class="op" id="7789879">)</span>&nbsp;<span class="op" id="7789881">&gt;</span>&nbsp;<span class="num" id="7789883">0</span>&nbsp;<span class="op" id="7789885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789889"><a href="/math/big/rat_test.go.html#7789321">t</a></span><span class="op" id="7789890">.</span><span class="ident" id="7789891">Errorf</span><span class="op" id="7789897">(</span><span class="string" id="7789898">&#34;Rat(%v).Float32()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;but&nbsp;previous&nbsp;float32&nbsp;%g&nbsp;(%b)&nbsp;is&nbsp;closer&#34;</span><span class="op" id="7789967">,</span>&nbsp;<span class="ident" id="7789969"><a href="/math/big/rat_test.go.html#7789346">r</a></span><span class="op" id="7789970">,</span>&nbsp;<span class="ident" id="7789972"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7789973">,</span>&nbsp;<span class="ident" id="7789975"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7789976">,</span>&nbsp;<span class="ident" id="7789978"><a href="/math/big/rat_test.go.html#7789612">f0</a></span><span class="op" id="7789980">,</span>&nbsp;<span class="ident" id="7789982"><a href="/math/big/rat_test.go.html#7789612">f0</a></span><span class="op" id="7789984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789988">return</span>&nbsp;<span class="ident" id="7789995">false</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790005">if</span>&nbsp;<span class="ident" id="7790008"><a href="/math/big/rat_test.go.html#7789778">df</a></span><span class="op" id="7790010">.</span><span class="ident" id="7790011">Cmp</span><span class="op" id="7790014">(</span><span class="ident" id="7790015"><a href="/math/big/rat_test.go.html#7789836">df1</a></span><span class="op" id="7790018">)</span>&nbsp;<span class="op" id="7790020">&gt;</span>&nbsp;<span class="num" id="7790022">0</span>&nbsp;<span class="op" id="7790024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790028"><a href="/math/big/rat_test.go.html#7789321">t</a></span><span class="op" id="7790029">.</span><span class="ident" id="7790030">Errorf</span><span class="op" id="7790036">(</span><span class="string" id="7790037">&#34;Rat(%v).Float32()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;but&nbsp;next&nbsp;float32&nbsp;%g&nbsp;(%b)&nbsp;is&nbsp;closer&#34;</span><span class="op" id="7790102">,</span>&nbsp;<span class="ident" id="7790104"><a href="/math/big/rat_test.go.html#7789346">r</a></span><span class="op" id="7790105">,</span>&nbsp;<span class="ident" id="7790107"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7790108">,</span>&nbsp;<span class="ident" id="7790110"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7790111">,</span>&nbsp;<span class="ident" id="7790113"><a href="/math/big/rat_test.go.html#7789662">f1</a></span><span class="op" id="7790115">,</span>&nbsp;<span class="ident" id="7790117"><a href="/math/big/rat_test.go.html#7789662">f1</a></span><span class="op" id="7790119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790123">return</span>&nbsp;<span class="ident" id="7790130">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790137">}</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790140">if</span>&nbsp;<span class="ident" id="7790143"><a href="/math/big/rat_test.go.html#7789778">df</a></span><span class="op" id="7790145">.</span><span class="ident" id="7790146">Cmp</span><span class="op" id="7790149">(</span><span class="ident" id="7790150"><a href="/math/big/rat_test.go.html#7789806">df0</a></span><span class="op" id="7790153">)</span>&nbsp;<span class="op" id="7790155">==</span>&nbsp;<span class="num" id="7790158">0</span>&nbsp;<span class="op" id="7790160">&amp;&amp;</span>&nbsp;<span class="op" id="7790163">!</span><span class="ident" id="7790164"><a href="/math/big/rat_test.go.html#7791734">isEven32</a></span><span class="op" id="7790172">(</span><span class="ident" id="7790173"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7790174">)</span>&nbsp;<span class="op" id="7790176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790180"><a href="/math/big/rat_test.go.html#7789321">t</a></span><span class="op" id="7790181">.</span><span class="ident" id="7790182">Errorf</span><span class="op" id="7790188">(</span><span class="string" id="7790189">&#34;Rat(%v).Float32()&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;halfway&nbsp;should&nbsp;have&nbsp;rounded&nbsp;to&nbsp;%g&nbsp;(%b)&nbsp;instead&#34;</span><span class="op" id="7790266">,</span>&nbsp;<span class="ident" id="7790268"><a href="/math/big/rat_test.go.html#7789346">r</a></span><span class="op" id="7790269">,</span>&nbsp;<span class="ident" id="7790271"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7790272">,</span>&nbsp;<span class="ident" id="7790274"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7790275">,</span>&nbsp;<span class="ident" id="7790277"><a href="/math/big/rat_test.go.html#7789612">f0</a></span><span class="op" id="7790279">,</span>&nbsp;<span class="ident" id="7790281"><a href="/math/big/rat_test.go.html#7789612">f0</a></span><span class="op" id="7790283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790287">return</span>&nbsp;<span class="ident" id="7790294">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790304">if</span>&nbsp;<span class="ident" id="7790307"><a href="/math/big/rat_test.go.html#7789778">df</a></span><span class="op" id="7790309">.</span><span class="ident" id="7790310">Cmp</span><span class="op" id="7790313">(</span><span class="ident" id="7790314"><a href="/math/big/rat_test.go.html#7789836">df1</a></span><span class="op" id="7790317">)</span>&nbsp;<span class="op" id="7790319">==</span>&nbsp;<span class="num" id="7790322">0</span>&nbsp;<span class="op" id="7790324">&amp;&amp;</span>&nbsp;<span class="op" id="7790327">!</span><span class="ident" id="7790328"><a href="/math/big/rat_test.go.html#7791734">isEven32</a></span><span class="op" id="7790336">(</span><span class="ident" id="7790337"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7790338">)</span>&nbsp;<span class="op" id="7790340">{</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790344"><a href="/math/big/rat_test.go.html#7789321">t</a></span><span class="op" id="7790345">.</span><span class="ident" id="7790346">Errorf</span><span class="op" id="7790352">(</span><span class="string" id="7790353">&#34;Rat(%v).Float32()&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;halfway&nbsp;should&nbsp;have&nbsp;rounded&nbsp;to&nbsp;%g&nbsp;(%b)&nbsp;instead&#34;</span><span class="op" id="7790430">,</span>&nbsp;<span class="ident" id="7790432"><a href="/math/big/rat_test.go.html#7789346">r</a></span><span class="op" id="7790433">,</span>&nbsp;<span class="ident" id="7790435"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7790436">,</span>&nbsp;<span class="ident" id="7790438"><a href="/math/big/rat_test.go.html#7789335">f</a></span><span class="op" id="7790439">,</span>&nbsp;<span class="ident" id="7790441"><a href="/math/big/rat_test.go.html#7789662">f1</a></span><span class="op" id="7790443">,</span>&nbsp;<span class="ident" id="7790445"><a href="/math/big/rat_test.go.html#7789662">f1</a></span><span class="op" id="7790447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790451">return</span>&nbsp;<span class="ident" id="7790458">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790468">return</span>&nbsp;<span class="ident" id="7790475">true</span><br>
<span class="lineno"></span><span class="op" id="7790480">}</span><br>
<span class="lineno">1095</span><br>
<span class="lineno"></span><span class="comment" id="7790483">//&nbsp;checkIsBestApprox64&nbsp;checks&nbsp;that&nbsp;f&nbsp;is&nbsp;the&nbsp;best&nbsp;possible&nbsp;float64</span><br>
<span class="lineno"></span><span class="comment" id="7790549">//&nbsp;approximation&nbsp;of&nbsp;r.</span><br>
<span class="lineno"></span><span class="comment" id="7790572">//&nbsp;Returns&nbsp;true&nbsp;on&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="7790600">func</span>&nbsp;<span class="ident" id="7790605">checkIsBestApprox64</span><span class="op" id="7790624">(</span><span class="ident" id="7790625">t</span>&nbsp;<span class="op" id="7790627">*</span><span class="ident" id="7790628"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7790635">.</span><span class="ident" id="7790636">T</span><span class="op" id="7790637">,</span>&nbsp;<span class="ident" id="7790639">f</span>&nbsp;<span class="builtintype" id="7790641">float64</span><span class="op" id="7790648">,</span>&nbsp;<span class="ident" id="7790650">r</span>&nbsp;<span class="op" id="7790652">*</span><span class="ident" id="7790653"><a href="/math/big/rat.go.html#2907970">Rat</a></span><span class="op" id="7790656">)</span>&nbsp;<span class="builtintype" id="7790658">bool</span>&nbsp;<span class="op" id="7790663">{</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790666">if</span>&nbsp;<span class="ident" id="7790669"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7790673">.</span><span class="ident" id="7790674">Abs</span><span class="op" id="7790677">(</span><span class="ident" id="7790678"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7790679">)</span>&nbsp;<span class="op" id="7790681">&gt;=</span>&nbsp;<span class="ident" id="7790684"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7790688">.</span><span class="ident" id="7790689">MaxFloat64</span>&nbsp;<span class="op" id="7790700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7790704">//&nbsp;Cannot&nbsp;check&nbsp;+Inf,&nbsp;-Inf,&nbsp;nor&nbsp;the&nbsp;float&nbsp;next&nbsp;to&nbsp;them&nbsp;(MaxFloat64).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7790775">//&nbsp;But&nbsp;we&nbsp;have&nbsp;tests&nbsp;for&nbsp;these&nbsp;special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790823">return</span>&nbsp;<span class="ident" id="7790830">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790836">}</span><br>
<span class="lineno">1105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7790840">//&nbsp;r&nbsp;must&nbsp;be&nbsp;strictly&nbsp;between&nbsp;f0&nbsp;and&nbsp;f1,&nbsp;the&nbsp;floats&nbsp;bracketing&nbsp;f.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790907">f0</span>&nbsp;<span class="op" id="7790910">:=</span>&nbsp;<span class="ident" id="7790913"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7790917">.</span><span class="ident" id="7790918">Nextafter</span><span class="op" id="7790927">(</span><span class="ident" id="7790928"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7790929">,</span>&nbsp;<span class="ident" id="7790931"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7790935">.</span><span class="ident" id="7790936">Inf</span><span class="op" id="7790939">(</span><span class="op" id="7790940">-</span><span class="num" id="7790941">1</span><span class="op" id="7790942">)</span><span class="op" id="7790943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790946">f1</span>&nbsp;<span class="op" id="7790949">:=</span>&nbsp;<span class="ident" id="7790952"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7790956">.</span><span class="ident" id="7790957">Nextafter</span><span class="op" id="7790966">(</span><span class="ident" id="7790967"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7790968">,</span>&nbsp;<span class="ident" id="7790970"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7790974">.</span><span class="ident" id="7790975">Inf</span><span class="op" id="7790978">(</span><span class="op" id="7790979">+</span><span class="num" id="7790980">1</span><span class="op" id="7790981">)</span><span class="op" id="7790982">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7790986">//&nbsp;For&nbsp;f&nbsp;to&nbsp;be&nbsp;correct,&nbsp;r&nbsp;must&nbsp;be&nbsp;closer&nbsp;to&nbsp;f&nbsp;than&nbsp;to&nbsp;f0&nbsp;or&nbsp;f1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791051">df</span>&nbsp;<span class="op" id="7791054">:=</span>&nbsp;<span class="ident" id="7791057"><a href="/math/big/rat_test.go.html#7789081">delta</a></span><span class="op" id="7791062">(</span><span class="ident" id="7791063"><a href="/math/big/rat_test.go.html#7790650">r</a></span><span class="op" id="7791064">,</span>&nbsp;<span class="ident" id="7791066"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791070">df0</span>&nbsp;<span class="op" id="7791074">:=</span>&nbsp;<span class="ident" id="7791077"><a href="/math/big/rat_test.go.html#7789081">delta</a></span><span class="op" id="7791082">(</span><span class="ident" id="7791083"><a href="/math/big/rat_test.go.html#7790650">r</a></span><span class="op" id="7791084">,</span>&nbsp;<span class="ident" id="7791086"><a href="/math/big/rat_test.go.html#7790907">f0</a></span><span class="op" id="7791088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791091">df1</span>&nbsp;<span class="op" id="7791095">:=</span>&nbsp;<span class="ident" id="7791098"><a href="/math/big/rat_test.go.html#7789081">delta</a></span><span class="op" id="7791103">(</span><span class="ident" id="7791104"><a href="/math/big/rat_test.go.html#7790650">r</a></span><span class="op" id="7791105">,</span>&nbsp;<span class="ident" id="7791107"><a href="/math/big/rat_test.go.html#7790946">f1</a></span><span class="op" id="7791109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791112">if</span>&nbsp;<span class="ident" id="7791115"><a href="/math/big/rat_test.go.html#7791051">df</a></span><span class="op" id="7791117">.</span><span class="ident" id="7791118">Cmp</span><span class="op" id="7791121">(</span><span class="ident" id="7791122"><a href="/math/big/rat_test.go.html#7791070">df0</a></span><span class="op" id="7791125">)</span>&nbsp;<span class="op" id="7791127">&gt;</span>&nbsp;<span class="num" id="7791129">0</span>&nbsp;<span class="op" id="7791131">{</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791135"><a href="/math/big/rat_test.go.html#7790625">t</a></span><span class="op" id="7791136">.</span><span class="ident" id="7791137">Errorf</span><span class="op" id="7791143">(</span><span class="string" id="7791144">&#34;Rat(%v).Float64()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;but&nbsp;previous&nbsp;float64&nbsp;%g&nbsp;(%b)&nbsp;is&nbsp;closer&#34;</span><span class="op" id="7791213">,</span>&nbsp;<span class="ident" id="7791215"><a href="/math/big/rat_test.go.html#7790650">r</a></span><span class="op" id="7791216">,</span>&nbsp;<span class="ident" id="7791218"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791219">,</span>&nbsp;<span class="ident" id="7791221"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791222">,</span>&nbsp;<span class="ident" id="7791224"><a href="/math/big/rat_test.go.html#7790907">f0</a></span><span class="op" id="7791226">,</span>&nbsp;<span class="ident" id="7791228"><a href="/math/big/rat_test.go.html#7790907">f0</a></span><span class="op" id="7791230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791234">return</span>&nbsp;<span class="ident" id="7791241">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791251">if</span>&nbsp;<span class="ident" id="7791254"><a href="/math/big/rat_test.go.html#7791051">df</a></span><span class="op" id="7791256">.</span><span class="ident" id="7791257">Cmp</span><span class="op" id="7791260">(</span><span class="ident" id="7791261"><a href="/math/big/rat_test.go.html#7791091">df1</a></span><span class="op" id="7791264">)</span>&nbsp;<span class="op" id="7791266">&gt;</span>&nbsp;<span class="num" id="7791268">0</span>&nbsp;<span class="op" id="7791270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791274"><a href="/math/big/rat_test.go.html#7790625">t</a></span><span class="op" id="7791275">.</span><span class="ident" id="7791276">Errorf</span><span class="op" id="7791282">(</span><span class="string" id="7791283">&#34;Rat(%v).Float64()&nbsp;=&nbsp;%g&nbsp;(%b),&nbsp;but&nbsp;next&nbsp;float64&nbsp;%g&nbsp;(%b)&nbsp;is&nbsp;closer&#34;</span><span class="op" id="7791348">,</span>&nbsp;<span class="ident" id="7791350"><a href="/math/big/rat_test.go.html#7790650">r</a></span><span class="op" id="7791351">,</span>&nbsp;<span class="ident" id="7791353"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791354">,</span>&nbsp;<span class="ident" id="7791356"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791357">,</span>&nbsp;<span class="ident" id="7791359"><a href="/math/big/rat_test.go.html#7790946">f1</a></span><span class="op" id="7791361">,</span>&nbsp;<span class="ident" id="7791363"><a href="/math/big/rat_test.go.html#7790946">f1</a></span><span class="op" id="7791365">)</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791369">return</span>&nbsp;<span class="ident" id="7791376">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791386">if</span>&nbsp;<span class="ident" id="7791389"><a href="/math/big/rat_test.go.html#7791051">df</a></span><span class="op" id="7791391">.</span><span class="ident" id="7791392">Cmp</span><span class="op" id="7791395">(</span><span class="ident" id="7791396"><a href="/math/big/rat_test.go.html#7791070">df0</a></span><span class="op" id="7791399">)</span>&nbsp;<span class="op" id="7791401">==</span>&nbsp;<span class="num" id="7791404">0</span>&nbsp;<span class="op" id="7791406">&amp;&amp;</span>&nbsp;<span class="op" id="7791409">!</span><span class="ident" id="7791410"><a href="/math/big/rat_test.go.html#7791802">isEven64</a></span><span class="op" id="7791418">(</span><span class="ident" id="7791419"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791420">)</span>&nbsp;<span class="op" id="7791422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791426"><a href="/math/big/rat_test.go.html#7790625">t</a></span><span class="op" id="7791427">.</span><span class="ident" id="7791428">Errorf</span><span class="op" id="7791434">(</span><span class="string" id="7791435">&#34;Rat(%v).Float64()&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;halfway&nbsp;should&nbsp;have&nbsp;rounded&nbsp;to&nbsp;%g&nbsp;(%b)&nbsp;instead&#34;</span><span class="op" id="7791512">,</span>&nbsp;<span class="ident" id="7791514"><a href="/math/big/rat_test.go.html#7790650">r</a></span><span class="op" id="7791515">,</span>&nbsp;<span class="ident" id="7791517"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791518">,</span>&nbsp;<span class="ident" id="7791520"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791521">,</span>&nbsp;<span class="ident" id="7791523"><a href="/math/big/rat_test.go.html#7790907">f0</a></span><span class="op" id="7791525">,</span>&nbsp;<span class="ident" id="7791527"><a href="/math/big/rat_test.go.html#7790907">f0</a></span><span class="op" id="7791529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791533">return</span>&nbsp;<span class="ident" id="7791540">false</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791550">if</span>&nbsp;<span class="ident" id="7791553"><a href="/math/big/rat_test.go.html#7791051">df</a></span><span class="op" id="7791555">.</span><span class="ident" id="7791556">Cmp</span><span class="op" id="7791559">(</span><span class="ident" id="7791560"><a href="/math/big/rat_test.go.html#7791091">df1</a></span><span class="op" id="7791563">)</span>&nbsp;<span class="op" id="7791565">==</span>&nbsp;<span class="num" id="7791568">0</span>&nbsp;<span class="op" id="7791570">&amp;&amp;</span>&nbsp;<span class="op" id="7791573">!</span><span class="ident" id="7791574"><a href="/math/big/rat_test.go.html#7791802">isEven64</a></span><span class="op" id="7791582">(</span><span class="ident" id="7791583"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791584">)</span>&nbsp;<span class="op" id="7791586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791590"><a href="/math/big/rat_test.go.html#7790625">t</a></span><span class="op" id="7791591">.</span><span class="ident" id="7791592">Errorf</span><span class="op" id="7791598">(</span><span class="string" id="7791599">&#34;Rat(%v).Float64()&nbsp;=&nbsp;%g&nbsp;(%b);&nbsp;halfway&nbsp;should&nbsp;have&nbsp;rounded&nbsp;to&nbsp;%g&nbsp;(%b)&nbsp;instead&#34;</span><span class="op" id="7791676">,</span>&nbsp;<span class="ident" id="7791678"><a href="/math/big/rat_test.go.html#7790650">r</a></span><span class="op" id="7791679">,</span>&nbsp;<span class="ident" id="7791681"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791682">,</span>&nbsp;<span class="ident" id="7791684"><a href="/math/big/rat_test.go.html#7790639">f</a></span><span class="op" id="7791685">,</span>&nbsp;<span class="ident" id="7791687"><a href="/math/big/rat_test.go.html#7790946">f1</a></span><span class="op" id="7791689">,</span>&nbsp;<span class="ident" id="7791691"><a href="/math/big/rat_test.go.html#7790946">f1</a></span><span class="op" id="7791693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791697">return</span>&nbsp;<span class="ident" id="7791704">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791711">}</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791714">return</span>&nbsp;<span class="ident" id="7791721">true</span><br>
<span class="lineno"></span><span class="op" id="7791726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7791729">func</span>&nbsp;<span class="ident" id="7791734">isEven32</span><span class="op" id="7791742">(</span><span class="ident" id="7791743">f</span>&nbsp;<span class="builtintype" id="7791745">float32</span><span class="op" id="7791752">)</span>&nbsp;<span class="builtintype" id="7791754">bool</span>&nbsp;<span class="op" id="7791759">{</span>&nbsp;<span class="keyword" id="7791761">return</span>&nbsp;<span class="ident" id="7791768"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7791772">.</span><span class="ident" id="7791773">Float32bits</span><span class="op" id="7791784">(</span><span class="ident" id="7791785"><a href="/math/big/rat_test.go.html#7791743">f</a></span><span class="op" id="7791786">)</span><span class="op" id="7791787">&amp;</span><span class="num" id="7791788">1</span>&nbsp;<span class="op" id="7791790">==</span>&nbsp;<span class="num" id="7791793">0</span>&nbsp;<span class="op" id="7791795">}</span><br>
<span class="lineno"></span><span class="keyword" id="7791797">func</span>&nbsp;<span class="ident" id="7791802">isEven64</span><span class="op" id="7791810">(</span><span class="ident" id="7791811">f</span>&nbsp;<span class="builtintype" id="7791813">float64</span><span class="op" id="7791820">)</span>&nbsp;<span class="builtintype" id="7791822">bool</span>&nbsp;<span class="op" id="7791827">{</span>&nbsp;<span class="keyword" id="7791829">return</span>&nbsp;<span class="ident" id="7791836"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7791840">.</span><span class="ident" id="7791841">Float64bits</span><span class="op" id="7791852">(</span><span class="ident" id="7791853"><a href="/math/big/rat_test.go.html#7791811">f</a></span><span class="op" id="7791854">)</span><span class="op" id="7791855">&amp;</span><span class="num" id="7791856">1</span>&nbsp;<span class="op" id="7791858">==</span>&nbsp;<span class="num" id="7791861">0</span>&nbsp;<span class="op" id="7791863">}</span><br>
<span class="lineno">1135</span><br>
<span class="lineno"></span><span class="keyword" id="7791866">func</span>&nbsp;<span class="ident" id="7791871">TestIsFinite</span><span class="op" id="7791883">(</span><span class="ident" id="7791884">t</span>&nbsp;<span class="op" id="7791886">*</span><span class="ident" id="7791887"><a href="/math/big/rat_test.go.html#7762774">testing</a></span><span class="op" id="7791894">.</span><span class="ident" id="7791895">T</span><span class="op" id="7791896">)</span>&nbsp;<span class="op" id="7791898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791901">finites</span>&nbsp;<span class="op" id="7791909">:=</span>&nbsp;<span class="op" id="7791912">[</span><span class="op" id="7791913">]</span><span class="builtintype" id="7791914">float64</span><span class="op" id="7791921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7791925">1.0</span>&nbsp;<span class="op" id="7791929">/</span>&nbsp;<span class="num" id="7791931">3</span><span class="op" id="7791932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7791936">4891559871276714924261e+222</span><span class="op" id="7791963">,</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791967"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7791971">.</span><span class="ident" id="7791972">MaxFloat64</span><span class="op" id="7791982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791986"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7791990">.</span><span class="ident" id="7791991">SmallestNonzeroFloat64</span><span class="op" id="7792013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7792017">-</span><span class="ident" id="7792018"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7792022">.</span><span class="ident" id="7792023">MaxFloat64</span><span class="op" id="7792033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7792037">-</span><span class="ident" id="7792038"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7792042">.</span><span class="ident" id="7792043">SmallestNonzeroFloat64</span><span class="op" id="7792065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7792068">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7792071">for</span>&nbsp;<span class="ident" id="7792075">_</span><span class="op" id="7792076">,</span>&nbsp;<span class="ident" id="7792078">f</span>&nbsp;<span class="op" id="7792080">:=</span>&nbsp;<span class="keyword" id="7792083">range</span>&nbsp;<span class="ident" id="7792089"><a href="/math/big/rat_test.go.html#7791901">finites</a></span>&nbsp;<span class="op" id="7792097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7792101">if</span>&nbsp;<span class="op" id="7792104">!</span><span class="ident" id="7792105"><a href="/math/big/rat_test.go.html#7782359">isFinite</a></span><span class="op" id="7792113">(</span><span class="ident" id="7792114"><a href="/math/big/rat_test.go.html#7792078">f</a></span><span class="op" id="7792115">)</span>&nbsp;<span class="op" id="7792117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7792122"><a href="/math/big/rat_test.go.html#7791884">t</a></span><span class="op" id="7792123">.</span><span class="ident" id="7792124">Errorf</span><span class="op" id="7792130">(</span><span class="string" id="7792131">&#34;!IsFinite(%g&nbsp;(%b))&#34;</span><span class="op" id="7792151">,</span>&nbsp;<span class="ident" id="7792153"><a href="/math/big/rat_test.go.html#7792078">f</a></span><span class="op" id="7792154">,</span>&nbsp;<span class="ident" id="7792156"><a href="/math/big/rat_test.go.html#7792078">f</a></span><span class="op" id="7792157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7792161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7792164">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7792167">nonfinites</span>&nbsp;<span class="op" id="7792178">:=</span>&nbsp;<span class="op" id="7792181">[</span><span class="op" id="7792182">]</span><span class="builtintype" id="7792183">float64</span><span class="op" id="7792190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7792194"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7792198">.</span><span class="ident" id="7792199">NaN</span><span class="op" id="7792202">(</span><span class="op" id="7792203">)</span><span class="op" id="7792204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7792208"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7792212">.</span><span class="ident" id="7792213">Inf</span><span class="op" id="7792216">(</span><span class="op" id="7792217">-</span><span class="num" id="7792218">1</span><span class="op" id="7792219">)</span><span class="op" id="7792220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7792224"><a href="/math/big/rat_test.go.html#7762744">math</a></span><span class="op" id="7792228">.</span><span class="ident" id="7792229">Inf</span><span class="op" id="7792232">(</span><span class="op" id="7792233">+</span><span class="num" id="7792234">1</span><span class="op" id="7792235">)</span><span class="op" id="7792236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7792239">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7792242">for</span>&nbsp;<span class="ident" id="7792246">_</span><span class="op" id="7792247">,</span>&nbsp;<span class="ident" id="7792249">f</span>&nbsp;<span class="op" id="7792251">:=</span>&nbsp;<span class="keyword" id="7792254">range</span>&nbsp;<span class="ident" id="7792260"><a href="/math/big/rat_test.go.html#7792167">nonfinites</a></span>&nbsp;<span class="op" id="7792271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7792275">if</span>&nbsp;<span class="ident" id="7792278"><a href="/math/big/rat_test.go.html#7782359">isFinite</a></span><span class="op" id="7792286">(</span><span class="ident" id="7792287"><a href="/math/big/rat_test.go.html#7792249">f</a></span><span class="op" id="7792288">)</span>&nbsp;<span class="op" id="7792290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7792295"><a href="/math/big/rat_test.go.html#7791884">t</a></span><span class="op" id="7792296">.</span><span class="ident" id="7792297">Errorf</span><span class="op" id="7792303">(</span><span class="string" id="7792304">&#34;IsFinite(%g,&nbsp;(%b))&#34;</span><span class="op" id="7792324">,</span>&nbsp;<span class="ident" id="7792326"><a href="/math/big/rat_test.go.html#7792249">f</a></span><span class="op" id="7792327">,</span>&nbsp;<span class="ident" id="7792329"><a href="/math/big/rat_test.go.html#7792249">f</a></span><span class="op" id="7792330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7792334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7792337">}</span><br>
<span class="lineno">1160</span><span class="op" id="7792339">}</span>
</div>
</body>
</html>
