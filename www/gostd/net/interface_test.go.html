<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html" class="current">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6682498">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6682554">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6682608">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6682659">package</span>&nbsp;<span class="ident" id="6682667">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6682672">import</span>&nbsp;<span class="op" id="6682679">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6682682">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6682693">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6682703">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6682706">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="6682774">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6682841">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="6682851">func</span>&nbsp;<span class="ident" id="6682856">loopbackInterface</span><span class="op" id="6682873">(</span><span class="op" id="6682874">)</span>&nbsp;<span class="op" id="6682876">*</span><span class="ident" id="6682877">Interface</span>&nbsp;<span class="op" id="6682887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6682890">ift</span><span class="op" id="6682893">,</span>&nbsp;<span class="ident" id="6682895">err</span>&nbsp;<span class="op" id="6682899">:=</span>&nbsp;<span class="ident" id="6682902">Interfaces</span><span class="op" id="6682912">(</span><span class="op" id="6682913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6682916">if</span>&nbsp;<span class="ident" id="6682919">err</span>&nbsp;<span class="op" id="6682923">!=</span>&nbsp;<span class="builtintype" id="6682926">nil</span>&nbsp;<span class="op" id="6682930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6682934">return</span>&nbsp;<span class="builtintype" id="6682941">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6682946">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6682949">for</span>&nbsp;<span class="ident" id="6682953">_</span><span class="op" id="6682954">,</span>&nbsp;<span class="ident" id="6682956">ifi</span>&nbsp;<span class="op" id="6682960">:=</span>&nbsp;<span class="keyword" id="6682963">range</span>&nbsp;<span class="ident" id="6682969">ift</span>&nbsp;<span class="op" id="6682973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6682977">if</span>&nbsp;<span class="ident" id="6682980">ifi</span><span class="op" id="6682983">.</span><span class="ident" id="6682984">Flags</span><span class="op" id="6682989">&amp;</span><span class="ident" id="6682990">FlagLoopback</span>&nbsp;<span class="op" id="6683003">!=</span>&nbsp;<span class="num" id="6683006">0</span>&nbsp;<span class="op" id="6683008">&amp;&amp;</span>&nbsp;<span class="ident" id="6683011">ifi</span><span class="op" id="6683014">.</span><span class="ident" id="6683015">Flags</span><span class="op" id="6683020">&amp;</span><span class="ident" id="6683021">FlagUp</span>&nbsp;<span class="op" id="6683028">!=</span>&nbsp;<span class="num" id="6683031">0</span>&nbsp;<span class="op" id="6683033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683038">return</span>&nbsp;<span class="op" id="6683045">&amp;</span><span class="ident" id="6683046">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683055">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683058">return</span>&nbsp;<span class="builtintype" id="6683065">nil</span><br>
<span class="lineno"></span><span class="op" id="6683069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6683072">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="6683143">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="6683208">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6683238">func</span>&nbsp;<span class="ident" id="6683243">ipv6LinkLocalUnicastAddr</span><span class="op" id="6683267">(</span><span class="ident" id="6683268">ifi</span>&nbsp;<span class="op" id="6683272">*</span><span class="ident" id="6683273">Interface</span><span class="op" id="6683282">)</span>&nbsp;<span class="builtintype" id="6683284">string</span>&nbsp;<span class="op" id="6683291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683294">if</span>&nbsp;<span class="ident" id="6683297">ifi</span>&nbsp;<span class="op" id="6683301">==</span>&nbsp;<span class="builtintype" id="6683304">nil</span>&nbsp;<span class="op" id="6683308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683312">return</span>&nbsp;<span class="string" id="6683319">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683323">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683326">ifat</span><span class="op" id="6683330">,</span>&nbsp;<span class="ident" id="6683332">err</span>&nbsp;<span class="op" id="6683336">:=</span>&nbsp;<span class="ident" id="6683339">ifi</span><span class="op" id="6683342">.</span><span class="ident" id="6683343">Addrs</span><span class="op" id="6683348">(</span><span class="op" id="6683349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683352">if</span>&nbsp;<span class="ident" id="6683355">err</span>&nbsp;<span class="op" id="6683359">!=</span>&nbsp;<span class="builtintype" id="6683362">nil</span>&nbsp;<span class="op" id="6683366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683370">return</span>&nbsp;<span class="string" id="6683377">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683384">for</span>&nbsp;<span class="ident" id="6683388">_</span><span class="op" id="6683389">,</span>&nbsp;<span class="ident" id="6683391">ifa</span>&nbsp;<span class="op" id="6683395">:=</span>&nbsp;<span class="keyword" id="6683398">range</span>&nbsp;<span class="ident" id="6683404">ifat</span>&nbsp;<span class="op" id="6683409">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683413">switch</span>&nbsp;<span class="ident" id="6683420">ifa</span>&nbsp;<span class="op" id="6683424">:=</span>&nbsp;<span class="ident" id="6683427">ifa</span><span class="op" id="6683430">.</span><span class="op" id="6683431">(</span><span class="keyword" id="6683432">type</span><span class="op" id="6683436">)</span>&nbsp;<span class="op" id="6683438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683442">case</span>&nbsp;<span class="op" id="6683447">*</span><span class="ident" id="6683448">IPAddr</span><span class="op" id="6683454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683459">if</span>&nbsp;<span class="ident" id="6683462">ifa</span><span class="op" id="6683465">.</span><span class="ident" id="6683466">IP</span><span class="op" id="6683468">.</span><span class="ident" id="6683469">To4</span><span class="op" id="6683472">(</span><span class="op" id="6683473">)</span>&nbsp;<span class="op" id="6683475">==</span>&nbsp;<span class="builtintype" id="6683478">nil</span>&nbsp;<span class="op" id="6683482">&amp;&amp;</span>&nbsp;<span class="ident" id="6683485">ifa</span><span class="op" id="6683488">.</span><span class="ident" id="6683489">IP</span><span class="op" id="6683491">.</span><span class="ident" id="6683492">IsLinkLocalUnicast</span><span class="op" id="6683510">(</span><span class="op" id="6683511">)</span>&nbsp;<span class="op" id="6683513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683519">return</span>&nbsp;<span class="ident" id="6683526">ifa</span><span class="op" id="6683529">.</span><span class="ident" id="6683530">IP</span><span class="op" id="6683532">.</span><span class="ident" id="6683533">String</span><span class="op" id="6683539">(</span><span class="op" id="6683540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683545">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683549">case</span>&nbsp;<span class="op" id="6683554">*</span><span class="ident" id="6683555">IPNet</span><span class="op" id="6683560">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683565">if</span>&nbsp;<span class="ident" id="6683568">ifa</span><span class="op" id="6683571">.</span><span class="ident" id="6683572">IP</span><span class="op" id="6683574">.</span><span class="ident" id="6683575">To4</span><span class="op" id="6683578">(</span><span class="op" id="6683579">)</span>&nbsp;<span class="op" id="6683581">==</span>&nbsp;<span class="builtintype" id="6683584">nil</span>&nbsp;<span class="op" id="6683588">&amp;&amp;</span>&nbsp;<span class="ident" id="6683591">ifa</span><span class="op" id="6683594">.</span><span class="ident" id="6683595">IP</span><span class="op" id="6683597">.</span><span class="ident" id="6683598">IsLinkLocalUnicast</span><span class="op" id="6683616">(</span><span class="op" id="6683617">)</span>&nbsp;<span class="op" id="6683619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683625">return</span>&nbsp;<span class="ident" id="6683632">ifa</span><span class="op" id="6683635">.</span><span class="ident" id="6683636">IP</span><span class="op" id="6683638">.</span><span class="ident" id="6683639">String</span><span class="op" id="6683645">(</span><span class="op" id="6683646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683655">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683661">return</span>&nbsp;<span class="string" id="6683668">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6683671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6683674">func</span>&nbsp;<span class="ident" id="6683679">TestInterfaces</span><span class="op" id="6683693">(</span><span class="ident" id="6683694">t</span>&nbsp;<span class="op" id="6683696">*</span><span class="ident" id="6683697">testing</span><span class="op" id="6683704">.</span><span class="ident" id="6683705">T</span><span class="op" id="6683706">)</span>&nbsp;<span class="op" id="6683708">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683711">ift</span><span class="op" id="6683714">,</span>&nbsp;<span class="ident" id="6683716">err</span>&nbsp;<span class="op" id="6683720">:=</span>&nbsp;<span class="ident" id="6683723">Interfaces</span><span class="op" id="6683733">(</span><span class="op" id="6683734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683737">if</span>&nbsp;<span class="ident" id="6683740">err</span>&nbsp;<span class="op" id="6683744">!=</span>&nbsp;<span class="builtintype" id="6683747">nil</span>&nbsp;<span class="op" id="6683751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683755">t</span><span class="op" id="6683756">.</span><span class="ident" id="6683757">Fatalf</span><span class="op" id="6683763">(</span><span class="string" id="6683764">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6683787">,</span>&nbsp;<span class="ident" id="6683789">err</span><span class="op" id="6683792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6683795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683798">t</span><span class="op" id="6683799">.</span><span class="ident" id="6683800">Logf</span><span class="op" id="6683804">(</span><span class="string" id="6683805">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6683829">,</span>&nbsp;<span class="builtinfunc" id="6683831">len</span><span class="op" id="6683834">(</span><span class="ident" id="6683835">ift</span><span class="op" id="6683838">)</span><span class="op" id="6683839">,</span>&nbsp;<span class="builtinfunc" id="6683841">cap</span><span class="op" id="6683844">(</span><span class="ident" id="6683845">ift</span><span class="op" id="6683848">)</span><span class="op" id="6683849">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683853">for</span>&nbsp;<span class="ident" id="6683857">_</span><span class="op" id="6683858">,</span>&nbsp;<span class="ident" id="6683860">ifi</span>&nbsp;<span class="op" id="6683864">:=</span>&nbsp;<span class="keyword" id="6683867">range</span>&nbsp;<span class="ident" id="6683873">ift</span>&nbsp;<span class="op" id="6683877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683881">ifxi</span><span class="op" id="6683885">,</span>&nbsp;<span class="ident" id="6683887">err</span>&nbsp;<span class="op" id="6683891">:=</span>&nbsp;<span class="ident" id="6683894">InterfaceByIndex</span><span class="op" id="6683910">(</span><span class="ident" id="6683911">ifi</span><span class="op" id="6683914">.</span><span class="ident" id="6683915">Index</span><span class="op" id="6683920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6683924">if</span>&nbsp;<span class="ident" id="6683927">err</span>&nbsp;<span class="op" id="6683931">!=</span>&nbsp;<span class="builtintype" id="6683934">nil</span>&nbsp;<span class="op" id="6683938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6683943">t</span><span class="op" id="6683944">.</span><span class="ident" id="6683945">Fatalf</span><span class="op" id="6683951">(</span><span class="string" id="6683952">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6683985">,</span>&nbsp;<span class="ident" id="6683987">ifi</span><span class="op" id="6683990">.</span><span class="ident" id="6683991">Index</span><span class="op" id="6683996">,</span>&nbsp;<span class="ident" id="6683998">err</span><span class="op" id="6684001">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684009">if</span>&nbsp;<span class="op" id="6684012">!</span><span class="ident" id="6684013">reflect</span><span class="op" id="6684020">.</span><span class="ident" id="6684021">DeepEqual</span><span class="op" id="6684030">(</span><span class="ident" id="6684031">ifxi</span><span class="op" id="6684035">,</span>&nbsp;<span class="op" id="6684037">&amp;</span><span class="ident" id="6684038">ifi</span><span class="op" id="6684041">)</span>&nbsp;<span class="op" id="6684043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684048">t</span><span class="op" id="6684049">.</span><span class="ident" id="6684050">Fatalf</span><span class="op" id="6684056">(</span><span class="string" id="6684057">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6684093">,</span>&nbsp;<span class="ident" id="6684095">ifi</span><span class="op" id="6684098">.</span><span class="ident" id="6684099">Index</span><span class="op" id="6684104">,</span>&nbsp;<span class="ident" id="6684106">ifxi</span><span class="op" id="6684110">,</span>&nbsp;<span class="ident" id="6684112">ifi</span><span class="op" id="6684115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684123">ifxn</span><span class="op" id="6684127">,</span>&nbsp;<span class="ident" id="6684129">err</span>&nbsp;<span class="op" id="6684133">:=</span>&nbsp;<span class="ident" id="6684136">InterfaceByName</span><span class="op" id="6684151">(</span><span class="ident" id="6684152">ifi</span><span class="op" id="6684155">.</span><span class="ident" id="6684156">Name</span><span class="op" id="6684160">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684164">if</span>&nbsp;<span class="ident" id="6684167">err</span>&nbsp;<span class="op" id="6684171">!=</span>&nbsp;<span class="builtintype" id="6684174">nil</span>&nbsp;<span class="op" id="6684178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684183">t</span><span class="op" id="6684184">.</span><span class="ident" id="6684185">Fatalf</span><span class="op" id="6684191">(</span><span class="string" id="6684192">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6684224">,</span>&nbsp;<span class="ident" id="6684226">ifi</span><span class="op" id="6684229">.</span><span class="ident" id="6684230">Name</span><span class="op" id="6684234">,</span>&nbsp;<span class="ident" id="6684236">err</span><span class="op" id="6684239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684247">if</span>&nbsp;<span class="op" id="6684250">!</span><span class="ident" id="6684251">reflect</span><span class="op" id="6684258">.</span><span class="ident" id="6684259">DeepEqual</span><span class="op" id="6684268">(</span><span class="ident" id="6684269">ifxn</span><span class="op" id="6684273">,</span>&nbsp;<span class="op" id="6684275">&amp;</span><span class="ident" id="6684276">ifi</span><span class="op" id="6684279">)</span>&nbsp;<span class="op" id="6684281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684286">t</span><span class="op" id="6684287">.</span><span class="ident" id="6684288">Fatalf</span><span class="op" id="6684294">(</span><span class="string" id="6684295">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6684330">,</span>&nbsp;<span class="ident" id="6684332">ifi</span><span class="op" id="6684335">.</span><span class="ident" id="6684336">Name</span><span class="op" id="6684340">,</span>&nbsp;<span class="ident" id="6684342">ifxn</span><span class="op" id="6684346">,</span>&nbsp;<span class="ident" id="6684348">ifi</span><span class="op" id="6684351">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684359">t</span><span class="op" id="6684360">.</span><span class="ident" id="6684361">Logf</span><span class="op" id="6684365">(</span><span class="string" id="6684366">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="6684400">,</span>&nbsp;<span class="ident" id="6684402">ifi</span><span class="op" id="6684405">.</span><span class="ident" id="6684406">Name</span><span class="op" id="6684410">,</span>&nbsp;<span class="ident" id="6684412">ifi</span><span class="op" id="6684415">.</span><span class="ident" id="6684416">Flags</span><span class="op" id="6684421">.</span><span class="ident" id="6684422">String</span><span class="op" id="6684428">(</span><span class="op" id="6684429">)</span><span class="op" id="6684430">,</span>&nbsp;<span class="ident" id="6684432">ifi</span><span class="op" id="6684435">.</span><span class="ident" id="6684436">Index</span><span class="op" id="6684441">,</span>&nbsp;<span class="ident" id="6684443">ifi</span><span class="op" id="6684446">.</span><span class="ident" id="6684447">MTU</span><span class="op" id="6684450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684454">t</span><span class="op" id="6684455">.</span><span class="ident" id="6684456">Logf</span><span class="op" id="6684460">(</span><span class="string" id="6684461">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6684484">,</span>&nbsp;<span class="ident" id="6684486">ifi</span><span class="op" id="6684489">.</span><span class="ident" id="6684490">HardwareAddr</span><span class="op" id="6684502">.</span><span class="ident" id="6684503">String</span><span class="op" id="6684509">(</span><span class="op" id="6684510">)</span><span class="op" id="6684511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684515">testInterfaceAddrs</span><span class="op" id="6684533">(</span><span class="ident" id="6684534">t</span><span class="op" id="6684535">,</span>&nbsp;<span class="op" id="6684537">&amp;</span><span class="ident" id="6684538">ifi</span><span class="op" id="6684541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684545">testInterfaceMulticastAddrs</span><span class="op" id="6684572">(</span><span class="ident" id="6684573">t</span><span class="op" id="6684574">,</span>&nbsp;<span class="op" id="6684576">&amp;</span><span class="ident" id="6684577">ifi</span><span class="op" id="6684580">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684583">}</span><br>
<span class="lineno"></span><span class="op" id="6684585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6684588">func</span>&nbsp;<span class="ident" id="6684593">TestInterfaceAddrs</span><span class="op" id="6684611">(</span><span class="ident" id="6684612">t</span>&nbsp;<span class="op" id="6684614">*</span><span class="ident" id="6684615">testing</span><span class="op" id="6684622">.</span><span class="ident" id="6684623">T</span><span class="op" id="6684624">)</span>&nbsp;<span class="op" id="6684626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684629">ifat</span><span class="op" id="6684633">,</span>&nbsp;<span class="ident" id="6684635">err</span>&nbsp;<span class="op" id="6684639">:=</span>&nbsp;<span class="ident" id="6684642">InterfaceAddrs</span><span class="op" id="6684656">(</span><span class="op" id="6684657">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684660">if</span>&nbsp;<span class="ident" id="6684663">err</span>&nbsp;<span class="op" id="6684667">!=</span>&nbsp;<span class="builtintype" id="6684670">nil</span>&nbsp;<span class="op" id="6684674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684678">t</span><span class="op" id="6684679">.</span><span class="ident" id="6684680">Fatalf</span><span class="op" id="6684686">(</span><span class="string" id="6684687">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6684714">,</span>&nbsp;<span class="ident" id="6684716">err</span><span class="op" id="6684719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684725">t</span><span class="op" id="6684726">.</span><span class="ident" id="6684727">Logf</span><span class="op" id="6684731">(</span><span class="string" id="6684732">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6684756">,</span>&nbsp;<span class="builtinfunc" id="6684758">len</span><span class="op" id="6684761">(</span><span class="ident" id="6684762">ifat</span><span class="op" id="6684766">)</span><span class="op" id="6684767">,</span>&nbsp;<span class="builtinfunc" id="6684769">cap</span><span class="op" id="6684772">(</span><span class="ident" id="6684773">ifat</span><span class="op" id="6684777">)</span><span class="op" id="6684778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684781">testAddrs</span><span class="op" id="6684790">(</span><span class="ident" id="6684791">t</span><span class="op" id="6684792">,</span>&nbsp;<span class="ident" id="6684794">ifat</span><span class="op" id="6684798">)</span><br>
<span class="lineno">90</span><span class="op" id="6684800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6684803">func</span>&nbsp;<span class="ident" id="6684808">testInterfaceAddrs</span><span class="op" id="6684826">(</span><span class="ident" id="6684827">t</span>&nbsp;<span class="op" id="6684829">*</span><span class="ident" id="6684830">testing</span><span class="op" id="6684837">.</span><span class="ident" id="6684838">T</span><span class="op" id="6684839">,</span>&nbsp;<span class="ident" id="6684841">ifi</span>&nbsp;<span class="op" id="6684845">*</span><span class="ident" id="6684846">Interface</span><span class="op" id="6684855">)</span>&nbsp;<span class="op" id="6684857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684860">ifat</span><span class="op" id="6684864">,</span>&nbsp;<span class="ident" id="6684866">err</span>&nbsp;<span class="op" id="6684870">:=</span>&nbsp;<span class="ident" id="6684873">ifi</span><span class="op" id="6684876">.</span><span class="ident" id="6684877">Addrs</span><span class="op" id="6684882">(</span><span class="op" id="6684883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6684886">if</span>&nbsp;<span class="ident" id="6684889">err</span>&nbsp;<span class="op" id="6684893">!=</span>&nbsp;<span class="builtintype" id="6684896">nil</span>&nbsp;<span class="op" id="6684900">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684904">t</span><span class="op" id="6684905">.</span><span class="ident" id="6684906">Fatalf</span><span class="op" id="6684912">(</span><span class="string" id="6684913">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6684941">,</span>&nbsp;<span class="ident" id="6684943">err</span><span class="op" id="6684946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6684949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6684952">testAddrs</span><span class="op" id="6684961">(</span><span class="ident" id="6684962">t</span><span class="op" id="6684963">,</span>&nbsp;<span class="ident" id="6684965">ifat</span><span class="op" id="6684969">)</span><br>
<span class="lineno"></span><span class="op" id="6684971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6684974">func</span>&nbsp;<span class="ident" id="6684979">testInterfaceMulticastAddrs</span><span class="op" id="6685006">(</span><span class="ident" id="6685007">t</span>&nbsp;<span class="op" id="6685009">*</span><span class="ident" id="6685010">testing</span><span class="op" id="6685017">.</span><span class="ident" id="6685018">T</span><span class="op" id="6685019">,</span>&nbsp;<span class="ident" id="6685021">ifi</span>&nbsp;<span class="op" id="6685025">*</span><span class="ident" id="6685026">Interface</span><span class="op" id="6685035">)</span>&nbsp;<span class="op" id="6685037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685040">ifmat</span><span class="op" id="6685045">,</span>&nbsp;<span class="ident" id="6685047">err</span>&nbsp;<span class="op" id="6685051">:=</span>&nbsp;<span class="ident" id="6685054">ifi</span><span class="op" id="6685057">.</span><span class="ident" id="6685058">MulticastAddrs</span><span class="op" id="6685072">(</span><span class="op" id="6685073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685076">if</span>&nbsp;<span class="ident" id="6685079">err</span>&nbsp;<span class="op" id="6685083">!=</span>&nbsp;<span class="builtintype" id="6685086">nil</span>&nbsp;<span class="op" id="6685090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685094">t</span><span class="op" id="6685095">.</span><span class="ident" id="6685096">Fatalf</span><span class="op" id="6685102">(</span><span class="string" id="6685103">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6685140">,</span>&nbsp;<span class="ident" id="6685142">err</span><span class="op" id="6685145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685148">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685151">testMulticastAddrs</span><span class="op" id="6685169">(</span><span class="ident" id="6685170">t</span><span class="op" id="6685171">,</span>&nbsp;<span class="ident" id="6685173">ifmat</span><span class="op" id="6685178">)</span><br>
<span class="lineno"></span><span class="op" id="6685180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6685183">func</span>&nbsp;<span class="ident" id="6685188">testAddrs</span><span class="op" id="6685197">(</span><span class="ident" id="6685198">t</span>&nbsp;<span class="op" id="6685200">*</span><span class="ident" id="6685201">testing</span><span class="op" id="6685208">.</span><span class="ident" id="6685209">T</span><span class="op" id="6685210">,</span>&nbsp;<span class="ident" id="6685212">ifat</span>&nbsp;<span class="op" id="6685217">[</span><span class="op" id="6685218">]</span><span class="ident" id="6685219">Addr</span><span class="op" id="6685223">)</span>&nbsp;<span class="op" id="6685225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685228">for</span>&nbsp;<span class="ident" id="6685232">_</span><span class="op" id="6685233">,</span>&nbsp;<span class="ident" id="6685235">ifa</span>&nbsp;<span class="op" id="6685239">:=</span>&nbsp;<span class="keyword" id="6685242">range</span>&nbsp;<span class="ident" id="6685248">ifat</span>&nbsp;<span class="op" id="6685253">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685257">switch</span>&nbsp;<span class="ident" id="6685264">ifa</span>&nbsp;<span class="op" id="6685268">:=</span>&nbsp;<span class="ident" id="6685271">ifa</span><span class="op" id="6685274">.</span><span class="op" id="6685275">(</span><span class="keyword" id="6685276">type</span><span class="op" id="6685280">)</span>&nbsp;<span class="op" id="6685282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685286">case</span>&nbsp;<span class="op" id="6685291">*</span><span class="ident" id="6685292">IPAddr</span><span class="op" id="6685298">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685303">if</span>&nbsp;<span class="ident" id="6685306">ifa</span>&nbsp;<span class="op" id="6685310">==</span>&nbsp;<span class="builtintype" id="6685313">nil</span>&nbsp;<span class="op" id="6685317">||</span>&nbsp;<span class="ident" id="6685320">ifa</span><span class="op" id="6685323">.</span><span class="ident" id="6685324">IP</span>&nbsp;<span class="op" id="6685327">==</span>&nbsp;<span class="builtintype" id="6685330">nil</span>&nbsp;<span class="op" id="6685334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685340">t</span><span class="op" id="6685341">.</span><span class="ident" id="6685342">Errorf</span><span class="op" id="6685348">(</span><span class="string" id="6685349">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6685377">,</span>&nbsp;<span class="ident" id="6685379">ifa</span><span class="op" id="6685382">,</span>&nbsp;<span class="ident" id="6685384">ifa</span><span class="op" id="6685387">.</span><span class="ident" id="6685388">IP</span><span class="op" id="6685390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685395">}</span>&nbsp;<span class="keyword" id="6685397">else</span>&nbsp;<span class="op" id="6685402">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685408">t</span><span class="op" id="6685409">.</span><span class="ident" id="6685410">Logf</span><span class="op" id="6685414">(</span><span class="string" id="6685415">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6685439">,</span>&nbsp;<span class="ident" id="6685441">ifa</span><span class="op" id="6685444">.</span><span class="ident" id="6685445">String</span><span class="op" id="6685451">(</span><span class="op" id="6685452">)</span><span class="op" id="6685453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685462">case</span>&nbsp;<span class="op" id="6685467">*</span><span class="ident" id="6685468">IPNet</span><span class="op" id="6685473">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685478">if</span>&nbsp;<span class="ident" id="6685481">ifa</span>&nbsp;<span class="op" id="6685485">==</span>&nbsp;<span class="builtintype" id="6685488">nil</span>&nbsp;<span class="op" id="6685492">||</span>&nbsp;<span class="ident" id="6685495">ifa</span><span class="op" id="6685498">.</span><span class="ident" id="6685499">IP</span>&nbsp;<span class="op" id="6685502">==</span>&nbsp;<span class="builtintype" id="6685505">nil</span>&nbsp;<span class="op" id="6685509">||</span>&nbsp;<span class="ident" id="6685512">ifa</span><span class="op" id="6685515">.</span><span class="ident" id="6685516">Mask</span>&nbsp;<span class="op" id="6685521">==</span>&nbsp;<span class="builtintype" id="6685524">nil</span>&nbsp;<span class="op" id="6685528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685534">t</span><span class="op" id="6685535">.</span><span class="ident" id="6685536">Errorf</span><span class="op" id="6685542">(</span><span class="string" id="6685543">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6685575">,</span>&nbsp;<span class="ident" id="6685577">ifa</span><span class="op" id="6685580">,</span>&nbsp;<span class="ident" id="6685582">ifa</span><span class="op" id="6685585">.</span><span class="ident" id="6685586">IP</span><span class="op" id="6685588">,</span>&nbsp;<span class="ident" id="6685590">ifa</span><span class="op" id="6685593">.</span><span class="ident" id="6685594">Mask</span><span class="op" id="6685598">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685603">}</span>&nbsp;<span class="keyword" id="6685605">else</span>&nbsp;<span class="op" id="6685610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685616">_</span><span class="op" id="6685617">,</span>&nbsp;<span class="ident" id="6685619">prefixLen</span>&nbsp;<span class="op" id="6685629">:=</span>&nbsp;<span class="ident" id="6685632">ifa</span><span class="op" id="6685635">.</span><span class="ident" id="6685636">Mask</span><span class="op" id="6685640">.</span><span class="ident" id="6685641">Size</span><span class="op" id="6685645">(</span><span class="op" id="6685646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685652">if</span>&nbsp;<span class="ident" id="6685655">ifa</span><span class="op" id="6685658">.</span><span class="ident" id="6685659">IP</span><span class="op" id="6685661">.</span><span class="ident" id="6685662">To4</span><span class="op" id="6685665">(</span><span class="op" id="6685666">)</span>&nbsp;<span class="op" id="6685668">!=</span>&nbsp;<span class="builtintype" id="6685671">nil</span>&nbsp;<span class="op" id="6685675">&amp;&amp;</span>&nbsp;<span class="ident" id="6685678">prefixLen</span>&nbsp;<span class="op" id="6685688">!=</span>&nbsp;<span class="num" id="6685691">8</span><span class="op" id="6685692">*</span><span class="ident" id="6685693">IPv4len</span>&nbsp;<span class="op" id="6685701">||</span>&nbsp;<span class="ident" id="6685704">ifa</span><span class="op" id="6685707">.</span><span class="ident" id="6685708">IP</span><span class="op" id="6685710">.</span><span class="ident" id="6685711">To16</span><span class="op" id="6685715">(</span><span class="op" id="6685716">)</span>&nbsp;<span class="op" id="6685718">!=</span>&nbsp;<span class="builtintype" id="6685721">nil</span>&nbsp;<span class="op" id="6685725">&amp;&amp;</span>&nbsp;<span class="ident" id="6685728">ifa</span><span class="op" id="6685731">.</span><span class="ident" id="6685732">IP</span><span class="op" id="6685734">.</span><span class="ident" id="6685735">To4</span><span class="op" id="6685738">(</span><span class="op" id="6685739">)</span>&nbsp;<span class="op" id="6685741">==</span>&nbsp;<span class="builtintype" id="6685744">nil</span>&nbsp;<span class="op" id="6685748">&amp;&amp;</span>&nbsp;<span class="ident" id="6685751">prefixLen</span>&nbsp;<span class="op" id="6685761">!=</span>&nbsp;<span class="num" id="6685764">8</span><span class="op" id="6685765">*</span><span class="ident" id="6685766">IPv6len</span>&nbsp;<span class="op" id="6685774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685781">t</span><span class="op" id="6685782">.</span><span class="ident" id="6685783">Errorf</span><span class="op" id="6685789">(</span><span class="string" id="6685790">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6685826">,</span>&nbsp;<span class="ident" id="6685828">ifa</span><span class="op" id="6685831">,</span>&nbsp;<span class="ident" id="6685833">ifa</span><span class="op" id="6685836">.</span><span class="ident" id="6685837">IP</span><span class="op" id="6685839">,</span>&nbsp;<span class="ident" id="6685841">ifa</span><span class="op" id="6685844">.</span><span class="ident" id="6685845">Mask</span><span class="op" id="6685849">,</span>&nbsp;<span class="ident" id="6685851">prefixLen</span><span class="op" id="6685860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685866">}</span>&nbsp;<span class="keyword" id="6685868">else</span>&nbsp;<span class="op" id="6685873">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685880">t</span><span class="op" id="6685881">.</span><span class="ident" id="6685882">Logf</span><span class="op" id="6685886">(</span><span class="string" id="6685887">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6685911">,</span>&nbsp;<span class="ident" id="6685913">ifa</span><span class="op" id="6685916">.</span><span class="ident" id="6685917">String</span><span class="op" id="6685923">(</span><span class="op" id="6685924">)</span><span class="op" id="6685925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6685940">default</span><span class="op" id="6685947">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6685952">t</span><span class="op" id="6685953">.</span><span class="ident" id="6685954">Errorf</span><span class="op" id="6685960">(</span><span class="string" id="6685961">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6685984">,</span>&nbsp;<span class="ident" id="6685986">ifa</span><span class="op" id="6685989">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6685996">}</span><br>
<span class="lineno"></span><span class="op" id="6685998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6686001">func</span>&nbsp;<span class="ident" id="6686006">testMulticastAddrs</span><span class="op" id="6686024">(</span><span class="ident" id="6686025">t</span>&nbsp;<span class="op" id="6686027">*</span><span class="ident" id="6686028">testing</span><span class="op" id="6686035">.</span><span class="ident" id="6686036">T</span><span class="op" id="6686037">,</span>&nbsp;<span class="ident" id="6686039">ifmat</span>&nbsp;<span class="op" id="6686045">[</span><span class="op" id="6686046">]</span><span class="ident" id="6686047">Addr</span><span class="op" id="6686051">)</span>&nbsp;<span class="op" id="6686053">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686056">for</span>&nbsp;<span class="ident" id="6686060">_</span><span class="op" id="6686061">,</span>&nbsp;<span class="ident" id="6686063">ifma</span>&nbsp;<span class="op" id="6686068">:=</span>&nbsp;<span class="keyword" id="6686071">range</span>&nbsp;<span class="ident" id="6686077">ifmat</span>&nbsp;<span class="op" id="6686083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686087">switch</span>&nbsp;<span class="ident" id="6686094">ifma</span>&nbsp;<span class="op" id="6686099">:=</span>&nbsp;<span class="ident" id="6686102">ifma</span><span class="op" id="6686106">.</span><span class="op" id="6686107">(</span><span class="keyword" id="6686108">type</span><span class="op" id="6686112">)</span>&nbsp;<span class="op" id="6686114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686118">case</span>&nbsp;<span class="op" id="6686123">*</span><span class="ident" id="6686124">IPAddr</span><span class="op" id="6686130">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686135">if</span>&nbsp;<span class="ident" id="6686138">ifma</span>&nbsp;<span class="op" id="6686143">==</span>&nbsp;<span class="builtintype" id="6686146">nil</span>&nbsp;<span class="op" id="6686150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686156">t</span><span class="op" id="6686157">.</span><span class="ident" id="6686158">Errorf</span><span class="op" id="6686164">(</span><span class="string" id="6686165">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="6686189">,</span>&nbsp;<span class="ident" id="6686191">ifma</span><span class="op" id="6686195">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686200">}</span>&nbsp;<span class="keyword" id="6686202">else</span>&nbsp;<span class="op" id="6686207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686213">t</span><span class="op" id="6686214">.</span><span class="ident" id="6686215">Logf</span><span class="op" id="6686219">(</span><span class="string" id="6686220">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6686247">,</span>&nbsp;<span class="ident" id="6686249">ifma</span><span class="op" id="6686253">.</span><span class="ident" id="6686254">String</span><span class="op" id="6686260">(</span><span class="op" id="6686261">)</span><span class="op" id="6686262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686271">default</span><span class="op" id="6686278">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686283">t</span><span class="op" id="6686284">.</span><span class="ident" id="6686285">Errorf</span><span class="op" id="6686291">(</span><span class="string" id="6686292">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6686315">,</span>&nbsp;<span class="ident" id="6686317">ifma</span><span class="op" id="6686321">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686328">}</span><br>
<span class="lineno"></span><span class="op" id="6686330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6686333">func</span>&nbsp;<span class="ident" id="6686338">BenchmarkInterfaces</span><span class="op" id="6686357">(</span><span class="ident" id="6686358">b</span>&nbsp;<span class="op" id="6686360">*</span><span class="ident" id="6686361">testing</span><span class="op" id="6686368">.</span><span class="ident" id="6686369">B</span><span class="op" id="6686370">)</span>&nbsp;<span class="op" id="6686372">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686375">for</span>&nbsp;<span class="ident" id="6686379">i</span>&nbsp;<span class="op" id="6686381">:=</span>&nbsp;<span class="num" id="6686384">0</span><span class="op" id="6686385">;</span>&nbsp;<span class="ident" id="6686387">i</span>&nbsp;<span class="op" id="6686389">&lt;</span>&nbsp;<span class="ident" id="6686391">b</span><span class="op" id="6686392">.</span><span class="ident" id="6686393">N</span><span class="op" id="6686394">;</span>&nbsp;<span class="ident" id="6686396">i</span><span class="op" id="6686397">++</span>&nbsp;<span class="op" id="6686400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686404">if</span>&nbsp;<span class="ident" id="6686407">_</span><span class="op" id="6686408">,</span>&nbsp;<span class="ident" id="6686410">err</span>&nbsp;<span class="op" id="6686414">:=</span>&nbsp;<span class="ident" id="6686417">Interfaces</span><span class="op" id="6686427">(</span><span class="op" id="6686428">)</span><span class="op" id="6686429">;</span>&nbsp;<span class="ident" id="6686431">err</span>&nbsp;<span class="op" id="6686435">!=</span>&nbsp;<span class="builtintype" id="6686438">nil</span>&nbsp;<span class="op" id="6686442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686447">b</span><span class="op" id="6686448">.</span><span class="ident" id="6686449">Fatalf</span><span class="op" id="6686455">(</span><span class="string" id="6686456">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6686479">,</span>&nbsp;<span class="ident" id="6686481">err</span><span class="op" id="6686484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686491">}</span><br>
<span class="lineno">155</span><span class="op" id="6686493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6686496">func</span>&nbsp;<span class="ident" id="6686501">BenchmarkInterfaceByIndex</span><span class="op" id="6686526">(</span><span class="ident" id="6686527">b</span>&nbsp;<span class="op" id="6686529">*</span><span class="ident" id="6686530">testing</span><span class="op" id="6686537">.</span><span class="ident" id="6686538">B</span><span class="op" id="6686539">)</span>&nbsp;<span class="op" id="6686541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686544">ifi</span>&nbsp;<span class="op" id="6686548">:=</span>&nbsp;<span class="ident" id="6686551">loopbackInterface</span><span class="op" id="6686568">(</span><span class="op" id="6686569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686572">if</span>&nbsp;<span class="ident" id="6686575">ifi</span>&nbsp;<span class="op" id="6686579">==</span>&nbsp;<span class="builtintype" id="6686582">nil</span>&nbsp;<span class="op" id="6686586">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686590">b</span><span class="op" id="6686591">.</span><span class="ident" id="6686592">Skip</span><span class="op" id="6686596">(</span><span class="string" id="6686597">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6686627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686633">for</span>&nbsp;<span class="ident" id="6686637">i</span>&nbsp;<span class="op" id="6686639">:=</span>&nbsp;<span class="num" id="6686642">0</span><span class="op" id="6686643">;</span>&nbsp;<span class="ident" id="6686645">i</span>&nbsp;<span class="op" id="6686647">&lt;</span>&nbsp;<span class="ident" id="6686649">b</span><span class="op" id="6686650">.</span><span class="ident" id="6686651">N</span><span class="op" id="6686652">;</span>&nbsp;<span class="ident" id="6686654">i</span><span class="op" id="6686655">++</span>&nbsp;<span class="op" id="6686658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686662">if</span>&nbsp;<span class="ident" id="6686665">_</span><span class="op" id="6686666">,</span>&nbsp;<span class="ident" id="6686668">err</span>&nbsp;<span class="op" id="6686672">:=</span>&nbsp;<span class="ident" id="6686675">InterfaceByIndex</span><span class="op" id="6686691">(</span><span class="ident" id="6686692">ifi</span><span class="op" id="6686695">.</span><span class="ident" id="6686696">Index</span><span class="op" id="6686701">)</span><span class="op" id="6686702">;</span>&nbsp;<span class="ident" id="6686704">err</span>&nbsp;<span class="op" id="6686708">!=</span>&nbsp;<span class="builtintype" id="6686711">nil</span>&nbsp;<span class="op" id="6686715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686720">b</span><span class="op" id="6686721">.</span><span class="ident" id="6686722">Fatalf</span><span class="op" id="6686728">(</span><span class="string" id="6686729">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6686758">,</span>&nbsp;<span class="ident" id="6686760">err</span><span class="op" id="6686763">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686770">}</span><br>
<span class="lineno"></span><span class="op" id="6686772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6686775">func</span>&nbsp;<span class="ident" id="6686780">BenchmarkInterfaceByName</span><span class="op" id="6686804">(</span><span class="ident" id="6686805">b</span>&nbsp;<span class="op" id="6686807">*</span><span class="ident" id="6686808">testing</span><span class="op" id="6686815">.</span><span class="ident" id="6686816">B</span><span class="op" id="6686817">)</span>&nbsp;<span class="op" id="6686819">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686822">ifi</span>&nbsp;<span class="op" id="6686826">:=</span>&nbsp;<span class="ident" id="6686829">loopbackInterface</span><span class="op" id="6686846">(</span><span class="op" id="6686847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686850">if</span>&nbsp;<span class="ident" id="6686853">ifi</span>&nbsp;<span class="op" id="6686857">==</span>&nbsp;<span class="builtintype" id="6686860">nil</span>&nbsp;<span class="op" id="6686864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686868">b</span><span class="op" id="6686869">.</span><span class="ident" id="6686870">Skip</span><span class="op" id="6686874">(</span><span class="string" id="6686875">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6686905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6686908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686911">for</span>&nbsp;<span class="ident" id="6686915">i</span>&nbsp;<span class="op" id="6686917">:=</span>&nbsp;<span class="num" id="6686920">0</span><span class="op" id="6686921">;</span>&nbsp;<span class="ident" id="6686923">i</span>&nbsp;<span class="op" id="6686925">&lt;</span>&nbsp;<span class="ident" id="6686927">b</span><span class="op" id="6686928">.</span><span class="ident" id="6686929">N</span><span class="op" id="6686930">;</span>&nbsp;<span class="ident" id="6686932">i</span><span class="op" id="6686933">++</span>&nbsp;<span class="op" id="6686936">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6686940">if</span>&nbsp;<span class="ident" id="6686943">_</span><span class="op" id="6686944">,</span>&nbsp;<span class="ident" id="6686946">err</span>&nbsp;<span class="op" id="6686950">:=</span>&nbsp;<span class="ident" id="6686953">InterfaceByName</span><span class="op" id="6686968">(</span><span class="ident" id="6686969">ifi</span><span class="op" id="6686972">.</span><span class="ident" id="6686973">Name</span><span class="op" id="6686977">)</span><span class="op" id="6686978">;</span>&nbsp;<span class="ident" id="6686980">err</span>&nbsp;<span class="op" id="6686984">!=</span>&nbsp;<span class="builtintype" id="6686987">nil</span>&nbsp;<span class="op" id="6686991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6686996">b</span><span class="op" id="6686997">.</span><span class="ident" id="6686998">Fatalf</span><span class="op" id="6687004">(</span><span class="string" id="6687005">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6687033">,</span>&nbsp;<span class="ident" id="6687035">err</span><span class="op" id="6687038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687045">}</span><br>
<span class="lineno"></span><span class="op" id="6687047">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="6687050">func</span>&nbsp;<span class="ident" id="6687055">BenchmarkInterfaceAddrs</span><span class="op" id="6687078">(</span><span class="ident" id="6687079">b</span>&nbsp;<span class="op" id="6687081">*</span><span class="ident" id="6687082">testing</span><span class="op" id="6687089">.</span><span class="ident" id="6687090">B</span><span class="op" id="6687091">)</span>&nbsp;<span class="op" id="6687093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6687096">for</span>&nbsp;<span class="ident" id="6687100">i</span>&nbsp;<span class="op" id="6687102">:=</span>&nbsp;<span class="num" id="6687105">0</span><span class="op" id="6687106">;</span>&nbsp;<span class="ident" id="6687108">i</span>&nbsp;<span class="op" id="6687110">&lt;</span>&nbsp;<span class="ident" id="6687112">b</span><span class="op" id="6687113">.</span><span class="ident" id="6687114">N</span><span class="op" id="6687115">;</span>&nbsp;<span class="ident" id="6687117">i</span><span class="op" id="6687118">++</span>&nbsp;<span class="op" id="6687121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6687125">if</span>&nbsp;<span class="ident" id="6687128">_</span><span class="op" id="6687129">,</span>&nbsp;<span class="ident" id="6687131">err</span>&nbsp;<span class="op" id="6687135">:=</span>&nbsp;<span class="ident" id="6687138">InterfaceAddrs</span><span class="op" id="6687152">(</span><span class="op" id="6687153">)</span><span class="op" id="6687154">;</span>&nbsp;<span class="ident" id="6687156">err</span>&nbsp;<span class="op" id="6687160">!=</span>&nbsp;<span class="builtintype" id="6687163">nil</span>&nbsp;<span class="op" id="6687167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687172">b</span><span class="op" id="6687173">.</span><span class="ident" id="6687174">Fatalf</span><span class="op" id="6687180">(</span><span class="string" id="6687181">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6687208">,</span>&nbsp;<span class="ident" id="6687210">err</span><span class="op" id="6687213">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687220">}</span><br>
<span class="lineno"></span><span class="op" id="6687222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6687225">func</span>&nbsp;<span class="ident" id="6687230">BenchmarkInterfacesAndAddrs</span><span class="op" id="6687257">(</span><span class="ident" id="6687258">b</span>&nbsp;<span class="op" id="6687260">*</span><span class="ident" id="6687261">testing</span><span class="op" id="6687268">.</span><span class="ident" id="6687269">B</span><span class="op" id="6687270">)</span>&nbsp;<span class="op" id="6687272">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687275">ifi</span>&nbsp;<span class="op" id="6687279">:=</span>&nbsp;<span class="ident" id="6687282">loopbackInterface</span><span class="op" id="6687299">(</span><span class="op" id="6687300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6687303">if</span>&nbsp;<span class="ident" id="6687306">ifi</span>&nbsp;<span class="op" id="6687310">==</span>&nbsp;<span class="builtintype" id="6687313">nil</span>&nbsp;<span class="op" id="6687317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687321">b</span><span class="op" id="6687322">.</span><span class="ident" id="6687323">Skip</span><span class="op" id="6687327">(</span><span class="string" id="6687328">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6687358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6687364">for</span>&nbsp;<span class="ident" id="6687368">i</span>&nbsp;<span class="op" id="6687370">:=</span>&nbsp;<span class="num" id="6687373">0</span><span class="op" id="6687374">;</span>&nbsp;<span class="ident" id="6687376">i</span>&nbsp;<span class="op" id="6687378">&lt;</span>&nbsp;<span class="ident" id="6687380">b</span><span class="op" id="6687381">.</span><span class="ident" id="6687382">N</span><span class="op" id="6687383">;</span>&nbsp;<span class="ident" id="6687385">i</span><span class="op" id="6687386">++</span>&nbsp;<span class="op" id="6687389">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6687393">if</span>&nbsp;<span class="ident" id="6687396">_</span><span class="op" id="6687397">,</span>&nbsp;<span class="ident" id="6687399">err</span>&nbsp;<span class="op" id="6687403">:=</span>&nbsp;<span class="ident" id="6687406">ifi</span><span class="op" id="6687409">.</span><span class="ident" id="6687410">Addrs</span><span class="op" id="6687415">(</span><span class="op" id="6687416">)</span><span class="op" id="6687417">;</span>&nbsp;<span class="ident" id="6687419">err</span>&nbsp;<span class="op" id="6687423">!=</span>&nbsp;<span class="builtintype" id="6687426">nil</span>&nbsp;<span class="op" id="6687430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687435">b</span><span class="op" id="6687436">.</span><span class="ident" id="6687437">Fatalf</span><span class="op" id="6687443">(</span><span class="string" id="6687444">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6687472">,</span>&nbsp;<span class="ident" id="6687474">err</span><span class="op" id="6687477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687484">}</span><br>
<span class="lineno"></span><span class="op" id="6687486">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6687489">func</span>&nbsp;<span class="ident" id="6687494">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="6687530">(</span><span class="ident" id="6687531">b</span>&nbsp;<span class="op" id="6687533">*</span><span class="ident" id="6687534">testing</span><span class="op" id="6687541">.</span><span class="ident" id="6687542">B</span><span class="op" id="6687543">)</span>&nbsp;<span class="op" id="6687545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687548">ifi</span>&nbsp;<span class="op" id="6687552">:=</span>&nbsp;<span class="ident" id="6687555">loopbackInterface</span><span class="op" id="6687572">(</span><span class="op" id="6687573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6687576">if</span>&nbsp;<span class="ident" id="6687579">ifi</span>&nbsp;<span class="op" id="6687583">==</span>&nbsp;<span class="builtintype" id="6687586">nil</span>&nbsp;<span class="op" id="6687590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687594">b</span><span class="op" id="6687595">.</span><span class="ident" id="6687596">Skip</span><span class="op" id="6687600">(</span><span class="string" id="6687601">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6687631">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6687637">for</span>&nbsp;<span class="ident" id="6687641">i</span>&nbsp;<span class="op" id="6687643">:=</span>&nbsp;<span class="num" id="6687646">0</span><span class="op" id="6687647">;</span>&nbsp;<span class="ident" id="6687649">i</span>&nbsp;<span class="op" id="6687651">&lt;</span>&nbsp;<span class="ident" id="6687653">b</span><span class="op" id="6687654">.</span><span class="ident" id="6687655">N</span><span class="op" id="6687656">;</span>&nbsp;<span class="ident" id="6687658">i</span><span class="op" id="6687659">++</span>&nbsp;<span class="op" id="6687662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6687666">if</span>&nbsp;<span class="ident" id="6687669">_</span><span class="op" id="6687670">,</span>&nbsp;<span class="ident" id="6687672">err</span>&nbsp;<span class="op" id="6687676">:=</span>&nbsp;<span class="ident" id="6687679">ifi</span><span class="op" id="6687682">.</span><span class="ident" id="6687683">MulticastAddrs</span><span class="op" id="6687697">(</span><span class="op" id="6687698">)</span><span class="op" id="6687699">;</span>&nbsp;<span class="ident" id="6687701">err</span>&nbsp;<span class="op" id="6687705">!=</span>&nbsp;<span class="builtintype" id="6687708">nil</span>&nbsp;<span class="op" id="6687712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6687717">b</span><span class="op" id="6687718">.</span><span class="ident" id="6687719">Fatalf</span><span class="op" id="6687725">(</span><span class="string" id="6687726">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6687763">,</span>&nbsp;<span class="ident" id="6687765">err</span><span class="op" id="6687768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687772">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6687775">}</span><br>
<span class="lineno"></span><span class="op" id="6687777">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
