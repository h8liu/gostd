<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html" class="current">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6606700">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6606755">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6606809">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6606860">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6606925">package</span>&nbsp;<span class="ident" id="6606933">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6606938">import</span>&nbsp;<span class="op" id="6606945">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6606948">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6606954">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6606965">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6606975">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6606978">var</span>&nbsp;<span class="ident" id="6606982">chkReadErrTests</span>&nbsp;<span class="op" id="6606998">=</span>&nbsp;<span class="op" id="6607000">[</span><span class="op" id="6607001">]</span><span class="keyword" id="6607002">struct</span>&nbsp;<span class="op" id="6607009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607012">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6607021">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607026">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6607035">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607042">fd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6607051">*</span><span class="ident" id="6607052">netFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6607059">expected</span>&nbsp;<span class="builtintype" id="6607068">error</span><br>
<span class="lineno">20</span><span class="op" id="6607074">}</span><span class="op" id="6607075">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607079">{</span><span class="num" id="6607080">100</span><span class="op" id="6607083">,</span>&nbsp;<span class="ident" id="6607085">nil</span><span class="op" id="6607088">,</span>&nbsp;<span class="op" id="6607090">&amp;</span><span class="ident" id="6607091">netFD</span><span class="op" id="6607096">{</span><span class="ident" id="6607097">sotype</span><span class="op" id="6607103">:</span>&nbsp;<span class="ident" id="6607105">syscall</span><span class="op" id="6607112">.</span><span class="ident" id="6607113">SOCK_STREAM</span><span class="op" id="6607124">}</span><span class="op" id="6607125">,</span>&nbsp;<span class="ident" id="6607127">nil</span><span class="op" id="6607130">}</span><span class="op" id="6607131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607134">{</span><span class="num" id="6607135">100</span><span class="op" id="6607138">,</span>&nbsp;<span class="ident" id="6607140">io</span><span class="op" id="6607142">.</span><span class="ident" id="6607143">EOF</span><span class="op" id="6607146">,</span>&nbsp;<span class="op" id="6607148">&amp;</span><span class="ident" id="6607149">netFD</span><span class="op" id="6607154">{</span><span class="ident" id="6607155">sotype</span><span class="op" id="6607161">:</span>&nbsp;<span class="ident" id="6607163">syscall</span><span class="op" id="6607170">.</span><span class="ident" id="6607171">SOCK_STREAM</span><span class="op" id="6607182">}</span><span class="op" id="6607183">,</span>&nbsp;<span class="ident" id="6607185">io</span><span class="op" id="6607187">.</span><span class="ident" id="6607188">EOF</span><span class="op" id="6607191">}</span><span class="op" id="6607192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607195">{</span><span class="num" id="6607196">100</span><span class="op" id="6607199">,</span>&nbsp;<span class="ident" id="6607201">errClosing</span><span class="op" id="6607211">,</span>&nbsp;<span class="op" id="6607213">&amp;</span><span class="ident" id="6607214">netFD</span><span class="op" id="6607219">{</span><span class="ident" id="6607220">sotype</span><span class="op" id="6607226">:</span>&nbsp;<span class="ident" id="6607228">syscall</span><span class="op" id="6607235">.</span><span class="ident" id="6607236">SOCK_STREAM</span><span class="op" id="6607247">}</span><span class="op" id="6607248">,</span>&nbsp;<span class="ident" id="6607250">errClosing</span><span class="op" id="6607260">}</span><span class="op" id="6607261">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607264">{</span><span class="num" id="6607265">0</span><span class="op" id="6607266">,</span>&nbsp;<span class="ident" id="6607268">nil</span><span class="op" id="6607271">,</span>&nbsp;<span class="op" id="6607273">&amp;</span><span class="ident" id="6607274">netFD</span><span class="op" id="6607279">{</span><span class="ident" id="6607280">sotype</span><span class="op" id="6607286">:</span>&nbsp;<span class="ident" id="6607288">syscall</span><span class="op" id="6607295">.</span><span class="ident" id="6607296">SOCK_STREAM</span><span class="op" id="6607307">}</span><span class="op" id="6607308">,</span>&nbsp;<span class="ident" id="6607310">io</span><span class="op" id="6607312">.</span><span class="ident" id="6607313">EOF</span><span class="op" id="6607316">}</span><span class="op" id="6607317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607320">{</span><span class="num" id="6607321">0</span><span class="op" id="6607322">,</span>&nbsp;<span class="ident" id="6607324">io</span><span class="op" id="6607326">.</span><span class="ident" id="6607327">EOF</span><span class="op" id="6607330">,</span>&nbsp;<span class="op" id="6607332">&amp;</span><span class="ident" id="6607333">netFD</span><span class="op" id="6607338">{</span><span class="ident" id="6607339">sotype</span><span class="op" id="6607345">:</span>&nbsp;<span class="ident" id="6607347">syscall</span><span class="op" id="6607354">.</span><span class="ident" id="6607355">SOCK_STREAM</span><span class="op" id="6607366">}</span><span class="op" id="6607367">,</span>&nbsp;<span class="ident" id="6607369">io</span><span class="op" id="6607371">.</span><span class="ident" id="6607372">EOF</span><span class="op" id="6607375">}</span><span class="op" id="6607376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607379">{</span><span class="num" id="6607380">0</span><span class="op" id="6607381">,</span>&nbsp;<span class="ident" id="6607383">errClosing</span><span class="op" id="6607393">,</span>&nbsp;<span class="op" id="6607395">&amp;</span><span class="ident" id="6607396">netFD</span><span class="op" id="6607401">{</span><span class="ident" id="6607402">sotype</span><span class="op" id="6607408">:</span>&nbsp;<span class="ident" id="6607410">syscall</span><span class="op" id="6607417">.</span><span class="ident" id="6607418">SOCK_STREAM</span><span class="op" id="6607429">}</span><span class="op" id="6607430">,</span>&nbsp;<span class="ident" id="6607432">errClosing</span><span class="op" id="6607442">}</span><span class="op" id="6607443">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607447">{</span><span class="num" id="6607448">100</span><span class="op" id="6607451">,</span>&nbsp;<span class="ident" id="6607453">nil</span><span class="op" id="6607456">,</span>&nbsp;<span class="op" id="6607458">&amp;</span><span class="ident" id="6607459">netFD</span><span class="op" id="6607464">{</span><span class="ident" id="6607465">sotype</span><span class="op" id="6607471">:</span>&nbsp;<span class="ident" id="6607473">syscall</span><span class="op" id="6607480">.</span><span class="ident" id="6607481">SOCK_DGRAM</span><span class="op" id="6607491">}</span><span class="op" id="6607492">,</span>&nbsp;<span class="ident" id="6607494">nil</span><span class="op" id="6607497">}</span><span class="op" id="6607498">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607501">{</span><span class="num" id="6607502">100</span><span class="op" id="6607505">,</span>&nbsp;<span class="ident" id="6607507">io</span><span class="op" id="6607509">.</span><span class="ident" id="6607510">EOF</span><span class="op" id="6607513">,</span>&nbsp;<span class="op" id="6607515">&amp;</span><span class="ident" id="6607516">netFD</span><span class="op" id="6607521">{</span><span class="ident" id="6607522">sotype</span><span class="op" id="6607528">:</span>&nbsp;<span class="ident" id="6607530">syscall</span><span class="op" id="6607537">.</span><span class="ident" id="6607538">SOCK_DGRAM</span><span class="op" id="6607548">}</span><span class="op" id="6607549">,</span>&nbsp;<span class="ident" id="6607551">io</span><span class="op" id="6607553">.</span><span class="ident" id="6607554">EOF</span><span class="op" id="6607557">}</span><span class="op" id="6607558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607561">{</span><span class="num" id="6607562">100</span><span class="op" id="6607565">,</span>&nbsp;<span class="ident" id="6607567">errClosing</span><span class="op" id="6607577">,</span>&nbsp;<span class="op" id="6607579">&amp;</span><span class="ident" id="6607580">netFD</span><span class="op" id="6607585">{</span><span class="ident" id="6607586">sotype</span><span class="op" id="6607592">:</span>&nbsp;<span class="ident" id="6607594">syscall</span><span class="op" id="6607601">.</span><span class="ident" id="6607602">SOCK_DGRAM</span><span class="op" id="6607612">}</span><span class="op" id="6607613">,</span>&nbsp;<span class="ident" id="6607615">errClosing</span><span class="op" id="6607625">}</span><span class="op" id="6607626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607629">{</span><span class="num" id="6607630">0</span><span class="op" id="6607631">,</span>&nbsp;<span class="ident" id="6607633">nil</span><span class="op" id="6607636">,</span>&nbsp;<span class="op" id="6607638">&amp;</span><span class="ident" id="6607639">netFD</span><span class="op" id="6607644">{</span><span class="ident" id="6607645">sotype</span><span class="op" id="6607651">:</span>&nbsp;<span class="ident" id="6607653">syscall</span><span class="op" id="6607660">.</span><span class="ident" id="6607661">SOCK_DGRAM</span><span class="op" id="6607671">}</span><span class="op" id="6607672">,</span>&nbsp;<span class="ident" id="6607674">nil</span><span class="op" id="6607677">}</span><span class="op" id="6607678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607681">{</span><span class="num" id="6607682">0</span><span class="op" id="6607683">,</span>&nbsp;<span class="ident" id="6607685">io</span><span class="op" id="6607687">.</span><span class="ident" id="6607688">EOF</span><span class="op" id="6607691">,</span>&nbsp;<span class="op" id="6607693">&amp;</span><span class="ident" id="6607694">netFD</span><span class="op" id="6607699">{</span><span class="ident" id="6607700">sotype</span><span class="op" id="6607706">:</span>&nbsp;<span class="ident" id="6607708">syscall</span><span class="op" id="6607715">.</span><span class="ident" id="6607716">SOCK_DGRAM</span><span class="op" id="6607726">}</span><span class="op" id="6607727">,</span>&nbsp;<span class="ident" id="6607729">io</span><span class="op" id="6607731">.</span><span class="ident" id="6607732">EOF</span><span class="op" id="6607735">}</span><span class="op" id="6607736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607739">{</span><span class="num" id="6607740">0</span><span class="op" id="6607741">,</span>&nbsp;<span class="ident" id="6607743">errClosing</span><span class="op" id="6607753">,</span>&nbsp;<span class="op" id="6607755">&amp;</span><span class="ident" id="6607756">netFD</span><span class="op" id="6607761">{</span><span class="ident" id="6607762">sotype</span><span class="op" id="6607768">:</span>&nbsp;<span class="ident" id="6607770">syscall</span><span class="op" id="6607777">.</span><span class="ident" id="6607778">SOCK_DGRAM</span><span class="op" id="6607788">}</span><span class="op" id="6607789">,</span>&nbsp;<span class="ident" id="6607791">errClosing</span><span class="op" id="6607801">}</span><span class="op" id="6607802">,</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607806">{</span><span class="num" id="6607807">100</span><span class="op" id="6607810">,</span>&nbsp;<span class="ident" id="6607812">nil</span><span class="op" id="6607815">,</span>&nbsp;<span class="op" id="6607817">&amp;</span><span class="ident" id="6607818">netFD</span><span class="op" id="6607823">{</span><span class="ident" id="6607824">sotype</span><span class="op" id="6607830">:</span>&nbsp;<span class="ident" id="6607832">syscall</span><span class="op" id="6607839">.</span><span class="ident" id="6607840">SOCK_SEQPACKET</span><span class="op" id="6607854">}</span><span class="op" id="6607855">,</span>&nbsp;<span class="ident" id="6607857">nil</span><span class="op" id="6607860">}</span><span class="op" id="6607861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607864">{</span><span class="num" id="6607865">100</span><span class="op" id="6607868">,</span>&nbsp;<span class="ident" id="6607870">io</span><span class="op" id="6607872">.</span><span class="ident" id="6607873">EOF</span><span class="op" id="6607876">,</span>&nbsp;<span class="op" id="6607878">&amp;</span><span class="ident" id="6607879">netFD</span><span class="op" id="6607884">{</span><span class="ident" id="6607885">sotype</span><span class="op" id="6607891">:</span>&nbsp;<span class="ident" id="6607893">syscall</span><span class="op" id="6607900">.</span><span class="ident" id="6607901">SOCK_SEQPACKET</span><span class="op" id="6607915">}</span><span class="op" id="6607916">,</span>&nbsp;<span class="ident" id="6607918">io</span><span class="op" id="6607920">.</span><span class="ident" id="6607921">EOF</span><span class="op" id="6607924">}</span><span class="op" id="6607925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6607928">{</span><span class="num" id="6607929">100</span><span class="op" id="6607932">,</span>&nbsp;<span class="ident" id="6607934">errClosing</span><span class="op" id="6607944">,</span>&nbsp;<span class="op" id="6607946">&amp;</span><span class="ident" id="6607947">netFD</span><span class="op" id="6607952">{</span><span class="ident" id="6607953">sotype</span><span class="op" id="6607959">:</span>&nbsp;<span class="ident" id="6607961">syscall</span><span class="op" id="6607968">.</span><span class="ident" id="6607969">SOCK_SEQPACKET</span><span class="op" id="6607983">}</span><span class="op" id="6607984">,</span>&nbsp;<span class="ident" id="6607986">errClosing</span><span class="op" id="6607996">}</span><span class="op" id="6607997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608000">{</span><span class="num" id="6608001">0</span><span class="op" id="6608002">,</span>&nbsp;<span class="ident" id="6608004">nil</span><span class="op" id="6608007">,</span>&nbsp;<span class="op" id="6608009">&amp;</span><span class="ident" id="6608010">netFD</span><span class="op" id="6608015">{</span><span class="ident" id="6608016">sotype</span><span class="op" id="6608022">:</span>&nbsp;<span class="ident" id="6608024">syscall</span><span class="op" id="6608031">.</span><span class="ident" id="6608032">SOCK_SEQPACKET</span><span class="op" id="6608046">}</span><span class="op" id="6608047">,</span>&nbsp;<span class="ident" id="6608049">io</span><span class="op" id="6608051">.</span><span class="ident" id="6608052">EOF</span><span class="op" id="6608055">}</span><span class="op" id="6608056">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608059">{</span><span class="num" id="6608060">0</span><span class="op" id="6608061">,</span>&nbsp;<span class="ident" id="6608063">io</span><span class="op" id="6608065">.</span><span class="ident" id="6608066">EOF</span><span class="op" id="6608069">,</span>&nbsp;<span class="op" id="6608071">&amp;</span><span class="ident" id="6608072">netFD</span><span class="op" id="6608077">{</span><span class="ident" id="6608078">sotype</span><span class="op" id="6608084">:</span>&nbsp;<span class="ident" id="6608086">syscall</span><span class="op" id="6608093">.</span><span class="ident" id="6608094">SOCK_SEQPACKET</span><span class="op" id="6608108">}</span><span class="op" id="6608109">,</span>&nbsp;<span class="ident" id="6608111">io</span><span class="op" id="6608113">.</span><span class="ident" id="6608114">EOF</span><span class="op" id="6608117">}</span><span class="op" id="6608118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608121">{</span><span class="num" id="6608122">0</span><span class="op" id="6608123">,</span>&nbsp;<span class="ident" id="6608125">errClosing</span><span class="op" id="6608135">,</span>&nbsp;<span class="op" id="6608137">&amp;</span><span class="ident" id="6608138">netFD</span><span class="op" id="6608143">{</span><span class="ident" id="6608144">sotype</span><span class="op" id="6608150">:</span>&nbsp;<span class="ident" id="6608152">syscall</span><span class="op" id="6608159">.</span><span class="ident" id="6608160">SOCK_SEQPACKET</span><span class="op" id="6608174">}</span><span class="op" id="6608175">,</span>&nbsp;<span class="ident" id="6608177">errClosing</span><span class="op" id="6608187">}</span><span class="op" id="6608188">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608192">{</span><span class="num" id="6608193">100</span><span class="op" id="6608196">,</span>&nbsp;<span class="ident" id="6608198">nil</span><span class="op" id="6608201">,</span>&nbsp;<span class="op" id="6608203">&amp;</span><span class="ident" id="6608204">netFD</span><span class="op" id="6608209">{</span><span class="ident" id="6608210">sotype</span><span class="op" id="6608216">:</span>&nbsp;<span class="ident" id="6608218">syscall</span><span class="op" id="6608225">.</span><span class="ident" id="6608226">SOCK_RAW</span><span class="op" id="6608234">}</span><span class="op" id="6608235">,</span>&nbsp;<span class="ident" id="6608237">nil</span><span class="op" id="6608240">}</span><span class="op" id="6608241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608244">{</span><span class="num" id="6608245">100</span><span class="op" id="6608248">,</span>&nbsp;<span class="ident" id="6608250">io</span><span class="op" id="6608252">.</span><span class="ident" id="6608253">EOF</span><span class="op" id="6608256">,</span>&nbsp;<span class="op" id="6608258">&amp;</span><span class="ident" id="6608259">netFD</span><span class="op" id="6608264">{</span><span class="ident" id="6608265">sotype</span><span class="op" id="6608271">:</span>&nbsp;<span class="ident" id="6608273">syscall</span><span class="op" id="6608280">.</span><span class="ident" id="6608281">SOCK_RAW</span><span class="op" id="6608289">}</span><span class="op" id="6608290">,</span>&nbsp;<span class="ident" id="6608292">io</span><span class="op" id="6608294">.</span><span class="ident" id="6608295">EOF</span><span class="op" id="6608298">}</span><span class="op" id="6608299">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608302">{</span><span class="num" id="6608303">100</span><span class="op" id="6608306">,</span>&nbsp;<span class="ident" id="6608308">errClosing</span><span class="op" id="6608318">,</span>&nbsp;<span class="op" id="6608320">&amp;</span><span class="ident" id="6608321">netFD</span><span class="op" id="6608326">{</span><span class="ident" id="6608327">sotype</span><span class="op" id="6608333">:</span>&nbsp;<span class="ident" id="6608335">syscall</span><span class="op" id="6608342">.</span><span class="ident" id="6608343">SOCK_RAW</span><span class="op" id="6608351">}</span><span class="op" id="6608352">,</span>&nbsp;<span class="ident" id="6608354">errClosing</span><span class="op" id="6608364">}</span><span class="op" id="6608365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608368">{</span><span class="num" id="6608369">0</span><span class="op" id="6608370">,</span>&nbsp;<span class="ident" id="6608372">nil</span><span class="op" id="6608375">,</span>&nbsp;<span class="op" id="6608377">&amp;</span><span class="ident" id="6608378">netFD</span><span class="op" id="6608383">{</span><span class="ident" id="6608384">sotype</span><span class="op" id="6608390">:</span>&nbsp;<span class="ident" id="6608392">syscall</span><span class="op" id="6608399">.</span><span class="ident" id="6608400">SOCK_RAW</span><span class="op" id="6608408">}</span><span class="op" id="6608409">,</span>&nbsp;<span class="ident" id="6608411">nil</span><span class="op" id="6608414">}</span><span class="op" id="6608415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608418">{</span><span class="num" id="6608419">0</span><span class="op" id="6608420">,</span>&nbsp;<span class="ident" id="6608422">io</span><span class="op" id="6608424">.</span><span class="ident" id="6608425">EOF</span><span class="op" id="6608428">,</span>&nbsp;<span class="op" id="6608430">&amp;</span><span class="ident" id="6608431">netFD</span><span class="op" id="6608436">{</span><span class="ident" id="6608437">sotype</span><span class="op" id="6608443">:</span>&nbsp;<span class="ident" id="6608445">syscall</span><span class="op" id="6608452">.</span><span class="ident" id="6608453">SOCK_RAW</span><span class="op" id="6608461">}</span><span class="op" id="6608462">,</span>&nbsp;<span class="ident" id="6608464">io</span><span class="op" id="6608466">.</span><span class="ident" id="6608467">EOF</span><span class="op" id="6608470">}</span><span class="op" id="6608471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608474">{</span><span class="num" id="6608475">0</span><span class="op" id="6608476">,</span>&nbsp;<span class="ident" id="6608478">errClosing</span><span class="op" id="6608488">,</span>&nbsp;<span class="op" id="6608490">&amp;</span><span class="ident" id="6608491">netFD</span><span class="op" id="6608496">{</span><span class="ident" id="6608497">sotype</span><span class="op" id="6608503">:</span>&nbsp;<span class="ident" id="6608505">syscall</span><span class="op" id="6608512">.</span><span class="ident" id="6608513">SOCK_RAW</span><span class="op" id="6608521">}</span><span class="op" id="6608522">,</span>&nbsp;<span class="ident" id="6608524">errClosing</span><span class="op" id="6608534">}</span><span class="op" id="6608535">,</span><br>
<span class="lineno"></span><span class="op" id="6608537">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6608540">func</span>&nbsp;<span class="ident" id="6608545">TestChkReadErr</span><span class="op" id="6608559">(</span><span class="ident" id="6608560">t</span>&nbsp;<span class="op" id="6608562">*</span><span class="ident" id="6608563">testing</span><span class="op" id="6608570">.</span><span class="ident" id="6608571">T</span><span class="op" id="6608572">)</span>&nbsp;<span class="op" id="6608574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608577">for</span>&nbsp;<span class="ident" id="6608581">_</span><span class="op" id="6608582">,</span>&nbsp;<span class="ident" id="6608584">tt</span>&nbsp;<span class="op" id="6608587">:=</span>&nbsp;<span class="keyword" id="6608590">range</span>&nbsp;<span class="ident" id="6608596">chkReadErrTests</span>&nbsp;<span class="op" id="6608612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608616">actual</span>&nbsp;<span class="op" id="6608623">:=</span>&nbsp;<span class="ident" id="6608626">chkReadErr</span><span class="op" id="6608636">(</span><span class="ident" id="6608637">tt</span><span class="op" id="6608639">.</span><span class="ident" id="6608640">n</span><span class="op" id="6608641">,</span>&nbsp;<span class="ident" id="6608643">tt</span><span class="op" id="6608645">.</span><span class="ident" id="6608646">err</span><span class="op" id="6608649">,</span>&nbsp;<span class="ident" id="6608651">tt</span><span class="op" id="6608653">.</span><span class="ident" id="6608654">fd</span><span class="op" id="6608656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6608660">if</span>&nbsp;<span class="ident" id="6608663">actual</span>&nbsp;<span class="op" id="6608670">!=</span>&nbsp;<span class="ident" id="6608673">tt</span><span class="op" id="6608675">.</span><span class="ident" id="6608676">expected</span>&nbsp;<span class="op" id="6608685">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6608690">t</span><span class="op" id="6608691">.</span><span class="ident" id="6608692">Errorf</span><span class="op" id="6608698">(</span><span class="string" id="6608699">&#34;chkReadError(%v,&nbsp;%v,&nbsp;%v):&nbsp;expected&nbsp;%v,&nbsp;actual&nbsp;%v&#34;</span><span class="op" id="6608749">,</span>&nbsp;<span class="ident" id="6608751">tt</span><span class="op" id="6608753">.</span><span class="ident" id="6608754">n</span><span class="op" id="6608755">,</span>&nbsp;<span class="ident" id="6608757">tt</span><span class="op" id="6608759">.</span><span class="ident" id="6608760">err</span><span class="op" id="6608763">,</span>&nbsp;<span class="ident" id="6608765">tt</span><span class="op" id="6608767">.</span><span class="ident" id="6608768">fd</span><span class="op" id="6608770">.</span><span class="ident" id="6608771">sotype</span><span class="op" id="6608777">,</span>&nbsp;<span class="ident" id="6608779">tt</span><span class="op" id="6608781">.</span><span class="ident" id="6608782">expected</span><span class="op" id="6608790">,</span>&nbsp;<span class="ident" id="6608792">actual</span><span class="op" id="6608798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6608805">}</span><br>
<span class="lineno"></span><span class="op" id="6608807">}</span>
</div>
</body>
</html>
