<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6899516">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6899571">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6899625">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6899676">package</span>&nbsp;<span class="ident" id="6899684">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6899692">import</span>&nbsp;<span class="op" id="6899699">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899702">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899713">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899730">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899741">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6899751">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6899754">var</span>&nbsp;<span class="ident" id="6899758">good_re</span>&nbsp;<span class="op" id="6899766">=</span>&nbsp;<span class="op" id="6899768">[</span><span class="op" id="6899769">]</span><span class="builtintype" id="6899770">string</span><span class="op" id="6899776">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899779">``</span><span class="op" id="6899781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899784">`.`</span><span class="op" id="6899787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899790">`^.$`</span><span class="op" id="6899795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899798">`a`</span><span class="op" id="6899801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899804">`a*`</span><span class="op" id="6899808">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899811">`a+`</span><span class="op" id="6899815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899818">`a?`</span><span class="op" id="6899822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899825">`a|b`</span><span class="op" id="6899830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899833">`a*|b*`</span><span class="op" id="6899840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899843">`(a*|b)(c*|d)`</span><span class="op" id="6899857">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899860">`[a-z]`</span><span class="op" id="6899867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899870">`[a-abc-c\-\]\[]`</span><span class="op" id="6899887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899890">`[a-z]+`</span><span class="op" id="6899898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899901">`[abc]`</span><span class="op" id="6899908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899911">`[^1234]`</span><span class="op" id="6899920">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899923">`[^\n]`</span><span class="op" id="6899930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6899933">`\!\\`</span><span class="op" id="6899939">,</span><br>
<span class="lineno"></span><span class="op" id="6899941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6899944">type</span>&nbsp;<span class="ident" id="6899949">stringError</span>&nbsp;<span class="keyword" id="6899961">struct</span>&nbsp;<span class="op" id="6899968">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6899971">re</span>&nbsp;&nbsp;<span class="builtintype" id="6899975">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6899983">err</span>&nbsp;<span class="builtintype" id="6899987">string</span><br>
<span class="lineno"></span><span class="op" id="6899994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6899997">var</span>&nbsp;<span class="ident" id="6900001">bad_re</span>&nbsp;<span class="op" id="6900008">=</span>&nbsp;<span class="op" id="6900010">[</span><span class="op" id="6900011">]</span><span class="ident" id="6900012">stringError</span><span class="op" id="6900023">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900026">{</span><span class="string" id="6900027">`*`</span><span class="op" id="6900030">,</span>&nbsp;<span class="string" id="6900032">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`*`&#34;</span><span class="op" id="6900078">}</span><span class="op" id="6900079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900082">{</span><span class="string" id="6900083">`+`</span><span class="op" id="6900086">,</span>&nbsp;<span class="string" id="6900088">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`+`&#34;</span><span class="op" id="6900134">}</span><span class="op" id="6900135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900138">{</span><span class="string" id="6900139">`?`</span><span class="op" id="6900142">,</span>&nbsp;<span class="string" id="6900144">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`?`&#34;</span><span class="op" id="6900190">}</span><span class="op" id="6900191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900194">{</span><span class="string" id="6900195">`(abc`</span><span class="op" id="6900201">,</span>&nbsp;<span class="string" id="6900203">&#34;missing&nbsp;closing&nbsp;):&nbsp;`(abc`&#34;</span><span class="op" id="6900230">}</span><span class="op" id="6900231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900234">{</span><span class="string" id="6900235">`abc)`</span><span class="op" id="6900241">,</span>&nbsp;<span class="string" id="6900243">&#34;unexpected&nbsp;):&nbsp;`abc)`&#34;</span><span class="op" id="6900265">}</span><span class="op" id="6900266">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900269">{</span><span class="string" id="6900270">`x[a-z`</span><span class="op" id="6900277">,</span>&nbsp;<span class="string" id="6900279">&#34;missing&nbsp;closing&nbsp;]:&nbsp;`[a-z`&#34;</span><span class="op" id="6900306">}</span><span class="op" id="6900307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900310">{</span><span class="string" id="6900311">`[z-a]`</span><span class="op" id="6900318">,</span>&nbsp;<span class="string" id="6900320">&#34;invalid&nbsp;character&nbsp;class&nbsp;range:&nbsp;`z-a`&#34;</span><span class="op" id="6900358">}</span><span class="op" id="6900359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900362">{</span><span class="string" id="6900363">`abc\`</span><span class="op" id="6900369">,</span>&nbsp;<span class="string" id="6900371">&#34;trailing&nbsp;backslash&nbsp;at&nbsp;end&nbsp;of&nbsp;expression&#34;</span><span class="op" id="6900412">}</span><span class="op" id="6900413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900416">{</span><span class="string" id="6900417">`a**`</span><span class="op" id="6900422">,</span>&nbsp;<span class="string" id="6900424">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`**`&#34;</span><span class="op" id="6900466">}</span><span class="op" id="6900467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900470">{</span><span class="string" id="6900471">`a*+`</span><span class="op" id="6900476">,</span>&nbsp;<span class="string" id="6900478">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`*+`&#34;</span><span class="op" id="6900520">}</span><span class="op" id="6900521">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900524">{</span><span class="string" id="6900525">`\x`</span><span class="op" id="6900529">,</span>&nbsp;<span class="string" id="6900531">&#34;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\x`&#34;</span><span class="op" id="6900563">}</span><span class="op" id="6900564">,</span><br>
<span class="lineno"></span><span class="op" id="6900566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6900569">func</span>&nbsp;<span class="ident" id="6900574">compileTest</span><span class="op" id="6900585">(</span><span class="ident" id="6900586">t</span>&nbsp;<span class="op" id="6900588">*</span><span class="ident" id="6900589">testing</span><span class="op" id="6900596">.</span><span class="ident" id="6900597">T</span><span class="op" id="6900598">,</span>&nbsp;<span class="ident" id="6900600">expr</span>&nbsp;<span class="builtintype" id="6900605">string</span><span class="op" id="6900611">,</span>&nbsp;<span class="builtintype" id="6900613">error</span>&nbsp;<span class="builtintype" id="6900619">string</span><span class="op" id="6900625">)</span>&nbsp;<span class="op" id="6900627">*</span><span class="ident" id="6900628">Regexp</span>&nbsp;<span class="op" id="6900635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900638">re</span><span class="op" id="6900640">,</span>&nbsp;<span class="ident" id="6900642">err</span>&nbsp;<span class="op" id="6900646">:=</span>&nbsp;<span class="ident" id="6900649">Compile</span><span class="op" id="6900656">(</span><span class="ident" id="6900657">expr</span><span class="op" id="6900661">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900664">if</span>&nbsp;<span class="builtintype" id="6900667">error</span>&nbsp;<span class="op" id="6900673">==</span>&nbsp;<span class="string" id="6900676">&#34;&#34;</span>&nbsp;<span class="op" id="6900679">&amp;&amp;</span>&nbsp;<span class="ident" id="6900682">err</span>&nbsp;<span class="op" id="6900686">!=</span>&nbsp;<span class="ident" id="6900689">nil</span>&nbsp;<span class="op" id="6900693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900697">t</span><span class="op" id="6900698">.</span><span class="ident" id="6900699">Error</span><span class="op" id="6900704">(</span><span class="string" id="6900705">&#34;compiling&nbsp;`&#34;</span><span class="op" id="6900718">,</span>&nbsp;<span class="ident" id="6900720">expr</span><span class="op" id="6900724">,</span>&nbsp;<span class="string" id="6900726">&#34;`;&nbsp;unexpected&nbsp;error:&nbsp;&#34;</span><span class="op" id="6900749">,</span>&nbsp;<span class="ident" id="6900751">err</span><span class="op" id="6900754">.</span><span class="ident" id="6900755">Error</span><span class="op" id="6900760">(</span><span class="op" id="6900761">)</span><span class="op" id="6900762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6900768">if</span>&nbsp;<span class="builtintype" id="6900771">error</span>&nbsp;<span class="op" id="6900777">!=</span>&nbsp;<span class="string" id="6900780">&#34;&#34;</span>&nbsp;<span class="op" id="6900783">&amp;&amp;</span>&nbsp;<span class="ident" id="6900786">err</span>&nbsp;<span class="op" id="6900790">==</span>&nbsp;<span class="ident" id="6900793">nil</span>&nbsp;<span class="op" id="6900797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900801">t</span><span class="op" id="6900802">.</span><span class="ident" id="6900803">Error</span><span class="op" id="6900808">(</span><span class="string" id="6900809">&#34;compiling&nbsp;`&#34;</span><span class="op" id="6900822">,</span>&nbsp;<span class="ident" id="6900824">expr</span><span class="op" id="6900828">,</span>&nbsp;<span class="string" id="6900830">&#34;`;&nbsp;missing&nbsp;error&#34;</span><span class="op" id="6900848">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900851">}</span>&nbsp;<span class="keyword" id="6900853">else</span>&nbsp;<span class="keyword" id="6900858">if</span>&nbsp;<span class="builtintype" id="6900861">error</span>&nbsp;<span class="op" id="6900867">!=</span>&nbsp;<span class="string" id="6900870">&#34;&#34;</span>&nbsp;<span class="op" id="6900873">&amp;&amp;</span>&nbsp;<span class="op" id="6900876">!</span><span class="ident" id="6900877">strings</span><span class="op" id="6900884">.</span><span class="ident" id="6900885">Contains</span><span class="op" id="6900893">(</span><span class="ident" id="6900894">err</span><span class="op" id="6900897">.</span><span class="ident" id="6900898">Error</span><span class="op" id="6900903">(</span><span class="op" id="6900904">)</span><span class="op" id="6900905">,</span>&nbsp;<span class="builtintype" id="6900907">error</span><span class="op" id="6900912">)</span>&nbsp;<span class="op" id="6900914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6900918">t</span><span class="op" id="6900919">.</span><span class="ident" id="6900920">Error</span><span class="op" id="6900925">(</span><span class="string" id="6900926">&#34;compiling&nbsp;`&#34;</span><span class="op" id="6900939">,</span>&nbsp;<span class="ident" id="6900941">expr</span><span class="op" id="6900945">,</span>&nbsp;<span class="string" id="6900947">&#34;`;&nbsp;wrong&nbsp;error:&nbsp;&#34;</span><span class="op" id="6900965">,</span>&nbsp;<span class="ident" id="6900967">err</span><span class="op" id="6900970">.</span><span class="ident" id="6900971">Error</span><span class="op" id="6900976">(</span><span class="op" id="6900977">)</span><span class="op" id="6900978">,</span>&nbsp;<span class="string" id="6900980">&#34;;&nbsp;want&nbsp;&#34;</span><span class="op" id="6900989">,</span>&nbsp;<span class="builtintype" id="6900991">error</span><span class="op" id="6900996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6900999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901002">return</span>&nbsp;<span class="ident" id="6901009">re</span><br>
<span class="lineno"></span><span class="op" id="6901012">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6901015">func</span>&nbsp;<span class="ident" id="6901020">TestGoodCompile</span><span class="op" id="6901035">(</span><span class="ident" id="6901036">t</span>&nbsp;<span class="op" id="6901038">*</span><span class="ident" id="6901039">testing</span><span class="op" id="6901046">.</span><span class="ident" id="6901047">T</span><span class="op" id="6901048">)</span>&nbsp;<span class="op" id="6901050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901053">for</span>&nbsp;<span class="ident" id="6901057">i</span>&nbsp;<span class="op" id="6901059">:=</span>&nbsp;<span class="num" id="6901062">0</span><span class="op" id="6901063">;</span>&nbsp;<span class="ident" id="6901065">i</span>&nbsp;<span class="op" id="6901067">&lt;</span>&nbsp;<span class="builtinfunc" id="6901069">len</span><span class="op" id="6901072">(</span><span class="ident" id="6901073">good_re</span><span class="op" id="6901080">)</span><span class="op" id="6901081">;</span>&nbsp;<span class="ident" id="6901083">i</span><span class="op" id="6901084">++</span>&nbsp;<span class="op" id="6901087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901091">compileTest</span><span class="op" id="6901102">(</span><span class="ident" id="6901103">t</span><span class="op" id="6901104">,</span>&nbsp;<span class="ident" id="6901106">good_re</span><span class="op" id="6901113">[</span><span class="ident" id="6901114">i</span><span class="op" id="6901115">]</span><span class="op" id="6901116">,</span>&nbsp;<span class="string" id="6901118">&#34;&#34;</span><span class="op" id="6901120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901123">}</span><br>
<span class="lineno">70</span><span class="op" id="6901125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6901128">func</span>&nbsp;<span class="ident" id="6901133">TestBadCompile</span><span class="op" id="6901147">(</span><span class="ident" id="6901148">t</span>&nbsp;<span class="op" id="6901150">*</span><span class="ident" id="6901151">testing</span><span class="op" id="6901158">.</span><span class="ident" id="6901159">T</span><span class="op" id="6901160">)</span>&nbsp;<span class="op" id="6901162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901165">for</span>&nbsp;<span class="ident" id="6901169">i</span>&nbsp;<span class="op" id="6901171">:=</span>&nbsp;<span class="num" id="6901174">0</span><span class="op" id="6901175">;</span>&nbsp;<span class="ident" id="6901177">i</span>&nbsp;<span class="op" id="6901179">&lt;</span>&nbsp;<span class="builtinfunc" id="6901181">len</span><span class="op" id="6901184">(</span><span class="ident" id="6901185">bad_re</span><span class="op" id="6901191">)</span><span class="op" id="6901192">;</span>&nbsp;<span class="ident" id="6901194">i</span><span class="op" id="6901195">++</span>&nbsp;<span class="op" id="6901198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901202">compileTest</span><span class="op" id="6901213">(</span><span class="ident" id="6901214">t</span><span class="op" id="6901215">,</span>&nbsp;<span class="ident" id="6901217">bad_re</span><span class="op" id="6901223">[</span><span class="ident" id="6901224">i</span><span class="op" id="6901225">]</span><span class="op" id="6901226">.</span><span class="ident" id="6901227">re</span><span class="op" id="6901229">,</span>&nbsp;<span class="ident" id="6901231">bad_re</span><span class="op" id="6901237">[</span><span class="ident" id="6901238">i</span><span class="op" id="6901239">]</span><span class="op" id="6901240">.</span><span class="ident" id="6901241">err</span><span class="op" id="6901244">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901247">}</span><br>
<span class="lineno"></span><span class="op" id="6901249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6901252">func</span>&nbsp;<span class="ident" id="6901257">matchTest</span><span class="op" id="6901266">(</span><span class="ident" id="6901267">t</span>&nbsp;<span class="op" id="6901269">*</span><span class="ident" id="6901270">testing</span><span class="op" id="6901277">.</span><span class="ident" id="6901278">T</span><span class="op" id="6901279">,</span>&nbsp;<span class="ident" id="6901281">test</span>&nbsp;<span class="op" id="6901286">*</span><span class="ident" id="6901287">FindTest</span><span class="op" id="6901295">)</span>&nbsp;<span class="op" id="6901297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901300">re</span>&nbsp;<span class="op" id="6901303">:=</span>&nbsp;<span class="ident" id="6901306">compileTest</span><span class="op" id="6901317">(</span><span class="ident" id="6901318">t</span><span class="op" id="6901319">,</span>&nbsp;<span class="ident" id="6901321">test</span><span class="op" id="6901325">.</span><span class="ident" id="6901326">pat</span><span class="op" id="6901329">,</span>&nbsp;<span class="string" id="6901331">&#34;&#34;</span><span class="op" id="6901333">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901336">if</span>&nbsp;<span class="ident" id="6901339">re</span>&nbsp;<span class="op" id="6901342">==</span>&nbsp;<span class="ident" id="6901345">nil</span>&nbsp;<span class="op" id="6901349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901353">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901364">m</span>&nbsp;<span class="op" id="6901366">:=</span>&nbsp;<span class="ident" id="6901369">re</span><span class="op" id="6901371">.</span><span class="ident" id="6901372">MatchString</span><span class="op" id="6901383">(</span><span class="ident" id="6901384">test</span><span class="op" id="6901388">.</span><span class="ident" id="6901389">text</span><span class="op" id="6901393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901396">if</span>&nbsp;<span class="ident" id="6901399">m</span>&nbsp;<span class="op" id="6901401">!=</span>&nbsp;<span class="op" id="6901404">(</span><span class="builtinfunc" id="6901405">len</span><span class="op" id="6901408">(</span><span class="ident" id="6901409">test</span><span class="op" id="6901413">.</span><span class="ident" id="6901414">matches</span><span class="op" id="6901421">)</span>&nbsp;<span class="op" id="6901423">&gt;</span>&nbsp;<span class="num" id="6901425">0</span><span class="op" id="6901426">)</span>&nbsp;<span class="op" id="6901428">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901432">t</span><span class="op" id="6901433">.</span><span class="ident" id="6901434">Errorf</span><span class="op" id="6901440">(</span><span class="string" id="6901441">&#34;MatchString&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6901485">,</span>&nbsp;<span class="ident" id="6901487">test</span><span class="op" id="6901491">,</span>&nbsp;<span class="ident" id="6901493">m</span><span class="op" id="6901494">,</span>&nbsp;<span class="builtinfunc" id="6901496">len</span><span class="op" id="6901499">(</span><span class="ident" id="6901500">test</span><span class="op" id="6901504">.</span><span class="ident" id="6901505">matches</span><span class="op" id="6901512">)</span>&nbsp;<span class="op" id="6901514">&gt;</span>&nbsp;<span class="num" id="6901516">0</span><span class="op" id="6901517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6901523">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901541">m</span>&nbsp;<span class="op" id="6901543">=</span>&nbsp;<span class="ident" id="6901545">re</span><span class="op" id="6901547">.</span><span class="ident" id="6901548">Match</span><span class="op" id="6901553">(</span><span class="op" id="6901554">[</span><span class="op" id="6901555">]</span><span class="builtintype" id="6901556">byte</span><span class="op" id="6901560">(</span><span class="ident" id="6901561">test</span><span class="op" id="6901565">.</span><span class="ident" id="6901566">text</span><span class="op" id="6901570">)</span><span class="op" id="6901571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901574">if</span>&nbsp;<span class="ident" id="6901577">m</span>&nbsp;<span class="op" id="6901579">!=</span>&nbsp;<span class="op" id="6901582">(</span><span class="builtinfunc" id="6901583">len</span><span class="op" id="6901586">(</span><span class="ident" id="6901587">test</span><span class="op" id="6901591">.</span><span class="ident" id="6901592">matches</span><span class="op" id="6901599">)</span>&nbsp;<span class="op" id="6901601">&gt;</span>&nbsp;<span class="num" id="6901603">0</span><span class="op" id="6901604">)</span>&nbsp;<span class="op" id="6901606">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901610">t</span><span class="op" id="6901611">.</span><span class="ident" id="6901612">Errorf</span><span class="op" id="6901618">(</span><span class="string" id="6901619">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6901657">,</span>&nbsp;<span class="ident" id="6901659">test</span><span class="op" id="6901663">,</span>&nbsp;<span class="ident" id="6901665">m</span><span class="op" id="6901666">,</span>&nbsp;<span class="builtinfunc" id="6901668">len</span><span class="op" id="6901671">(</span><span class="ident" id="6901672">test</span><span class="op" id="6901676">.</span><span class="ident" id="6901677">matches</span><span class="op" id="6901684">)</span>&nbsp;<span class="op" id="6901686">&gt;</span>&nbsp;<span class="num" id="6901688">0</span><span class="op" id="6901689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901692">}</span><br>
<span class="lineno"></span><span class="op" id="6901694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6901697">func</span>&nbsp;<span class="ident" id="6901702">TestMatch</span><span class="op" id="6901711">(</span><span class="ident" id="6901712">t</span>&nbsp;<span class="op" id="6901714">*</span><span class="ident" id="6901715">testing</span><span class="op" id="6901722">.</span><span class="ident" id="6901723">T</span><span class="op" id="6901724">)</span>&nbsp;<span class="op" id="6901726">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901729">for</span>&nbsp;<span class="ident" id="6901733">_</span><span class="op" id="6901734">,</span>&nbsp;<span class="ident" id="6901736">test</span>&nbsp;<span class="op" id="6901741">:=</span>&nbsp;<span class="keyword" id="6901744">range</span>&nbsp;<span class="ident" id="6901750">findTests</span>&nbsp;<span class="op" id="6901760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901764">matchTest</span><span class="op" id="6901773">(</span><span class="ident" id="6901774">t</span><span class="op" id="6901775">,</span>&nbsp;<span class="op" id="6901777">&amp;</span><span class="ident" id="6901778">test</span><span class="op" id="6901782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901785">}</span><br>
<span class="lineno"></span><span class="op" id="6901787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6901790">func</span>&nbsp;<span class="ident" id="6901795">matchFunctionTest</span><span class="op" id="6901812">(</span><span class="ident" id="6901813">t</span>&nbsp;<span class="op" id="6901815">*</span><span class="ident" id="6901816">testing</span><span class="op" id="6901823">.</span><span class="ident" id="6901824">T</span><span class="op" id="6901825">,</span>&nbsp;<span class="ident" id="6901827">test</span>&nbsp;<span class="op" id="6901832">*</span><span class="ident" id="6901833">FindTest</span><span class="op" id="6901841">)</span>&nbsp;<span class="op" id="6901843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901846">m</span><span class="op" id="6901847">,</span>&nbsp;<span class="ident" id="6901849">err</span>&nbsp;<span class="op" id="6901853">:=</span>&nbsp;<span class="ident" id="6901856">MatchString</span><span class="op" id="6901867">(</span><span class="ident" id="6901868">test</span><span class="op" id="6901872">.</span><span class="ident" id="6901873">pat</span><span class="op" id="6901876">,</span>&nbsp;<span class="ident" id="6901878">test</span><span class="op" id="6901882">.</span><span class="ident" id="6901883">text</span><span class="op" id="6901887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901890">if</span>&nbsp;<span class="ident" id="6901893">err</span>&nbsp;<span class="op" id="6901897">==</span>&nbsp;<span class="ident" id="6901900">nil</span>&nbsp;<span class="op" id="6901904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901908">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6901916">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6901919">if</span>&nbsp;<span class="ident" id="6901922">m</span>&nbsp;<span class="op" id="6901924">!=</span>&nbsp;<span class="op" id="6901927">(</span><span class="builtinfunc" id="6901928">len</span><span class="op" id="6901931">(</span><span class="ident" id="6901932">test</span><span class="op" id="6901936">.</span><span class="ident" id="6901937">matches</span><span class="op" id="6901944">)</span>&nbsp;<span class="op" id="6901946">&gt;</span>&nbsp;<span class="num" id="6901948">0</span><span class="op" id="6901949">)</span>&nbsp;<span class="op" id="6901951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6901955">t</span><span class="op" id="6901956">.</span><span class="ident" id="6901957">Errorf</span><span class="op" id="6901963">(</span><span class="string" id="6901964">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="6902002">,</span>&nbsp;<span class="ident" id="6902004">test</span><span class="op" id="6902008">,</span>&nbsp;<span class="ident" id="6902010">m</span><span class="op" id="6902011">,</span>&nbsp;<span class="builtinfunc" id="6902013">len</span><span class="op" id="6902016">(</span><span class="ident" id="6902017">test</span><span class="op" id="6902021">.</span><span class="ident" id="6902022">matches</span><span class="op" id="6902029">)</span>&nbsp;<span class="op" id="6902031">&gt;</span>&nbsp;<span class="num" id="6902033">0</span><span class="op" id="6902034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902037">}</span><br>
<span class="lineno"></span><span class="op" id="6902039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="6902042">func</span>&nbsp;<span class="ident" id="6902047">TestMatchFunction</span><span class="op" id="6902064">(</span><span class="ident" id="6902065">t</span>&nbsp;<span class="op" id="6902067">*</span><span class="ident" id="6902068">testing</span><span class="op" id="6902075">.</span><span class="ident" id="6902076">T</span><span class="op" id="6902077">)</span>&nbsp;<span class="op" id="6902079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6902082">for</span>&nbsp;<span class="ident" id="6902086">_</span><span class="op" id="6902087">,</span>&nbsp;<span class="ident" id="6902089">test</span>&nbsp;<span class="op" id="6902094">:=</span>&nbsp;<span class="keyword" id="6902097">range</span>&nbsp;<span class="ident" id="6902103">findTests</span>&nbsp;<span class="op" id="6902113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6902117">matchFunctionTest</span><span class="op" id="6902134">(</span><span class="ident" id="6902135">t</span><span class="op" id="6902136">,</span>&nbsp;<span class="op" id="6902138">&amp;</span><span class="ident" id="6902139">test</span><span class="op" id="6902143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902146">}</span><br>
<span class="lineno"></span><span class="op" id="6902148">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="6902151">type</span>&nbsp;<span class="ident" id="6902156">ReplaceTest</span>&nbsp;<span class="keyword" id="6902168">struct</span>&nbsp;<span class="op" id="6902175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6902178">pattern</span><span class="op" id="6902185">,</span>&nbsp;<span class="ident" id="6902187">replacement</span><span class="op" id="6902198">,</span>&nbsp;<span class="ident" id="6902200">input</span><span class="op" id="6902205">,</span>&nbsp;<span class="ident" id="6902207">output</span>&nbsp;<span class="builtintype" id="6902214">string</span><br>
<span class="lineno"></span><span class="op" id="6902221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="6902224">var</span>&nbsp;<span class="ident" id="6902228">replaceTests</span>&nbsp;<span class="op" id="6902241">=</span>&nbsp;<span class="op" id="6902243">[</span><span class="op" id="6902244">]</span><span class="ident" id="6902245">ReplaceTest</span><span class="op" id="6902256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6902259">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902344">{</span><span class="string" id="6902345">&#34;&#34;</span><span class="op" id="6902347">,</span>&nbsp;<span class="string" id="6902349">&#34;&#34;</span><span class="op" id="6902351">,</span>&nbsp;<span class="string" id="6902353">&#34;&#34;</span><span class="op" id="6902355">,</span>&nbsp;<span class="string" id="6902357">&#34;&#34;</span><span class="op" id="6902359">}</span><span class="op" id="6902360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902363">{</span><span class="string" id="6902364">&#34;&#34;</span><span class="op" id="6902366">,</span>&nbsp;<span class="string" id="6902368">&#34;x&#34;</span><span class="op" id="6902371">,</span>&nbsp;<span class="string" id="6902373">&#34;&#34;</span><span class="op" id="6902375">,</span>&nbsp;<span class="string" id="6902377">&#34;x&#34;</span><span class="op" id="6902380">}</span><span class="op" id="6902381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902384">{</span><span class="string" id="6902385">&#34;&#34;</span><span class="op" id="6902387">,</span>&nbsp;<span class="string" id="6902389">&#34;&#34;</span><span class="op" id="6902391">,</span>&nbsp;<span class="string" id="6902393">&#34;abc&#34;</span><span class="op" id="6902398">,</span>&nbsp;<span class="string" id="6902400">&#34;abc&#34;</span><span class="op" id="6902405">}</span><span class="op" id="6902406">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902409">{</span><span class="string" id="6902410">&#34;&#34;</span><span class="op" id="6902412">,</span>&nbsp;<span class="string" id="6902414">&#34;x&#34;</span><span class="op" id="6902417">,</span>&nbsp;<span class="string" id="6902419">&#34;abc&#34;</span><span class="op" id="6902424">,</span>&nbsp;<span class="string" id="6902426">&#34;xaxbxcx&#34;</span><span class="op" id="6902435">}</span><span class="op" id="6902436">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6902440">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902532">{</span><span class="string" id="6902533">&#34;b&#34;</span><span class="op" id="6902536">,</span>&nbsp;<span class="string" id="6902538">&#34;&#34;</span><span class="op" id="6902540">,</span>&nbsp;<span class="string" id="6902542">&#34;&#34;</span><span class="op" id="6902544">,</span>&nbsp;<span class="string" id="6902546">&#34;&#34;</span><span class="op" id="6902548">}</span><span class="op" id="6902549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902552">{</span><span class="string" id="6902553">&#34;b&#34;</span><span class="op" id="6902556">,</span>&nbsp;<span class="string" id="6902558">&#34;x&#34;</span><span class="op" id="6902561">,</span>&nbsp;<span class="string" id="6902563">&#34;&#34;</span><span class="op" id="6902565">,</span>&nbsp;<span class="string" id="6902567">&#34;&#34;</span><span class="op" id="6902569">}</span><span class="op" id="6902570">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902573">{</span><span class="string" id="6902574">&#34;b&#34;</span><span class="op" id="6902577">,</span>&nbsp;<span class="string" id="6902579">&#34;&#34;</span><span class="op" id="6902581">,</span>&nbsp;<span class="string" id="6902583">&#34;abc&#34;</span><span class="op" id="6902588">,</span>&nbsp;<span class="string" id="6902590">&#34;ac&#34;</span><span class="op" id="6902594">}</span><span class="op" id="6902595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902598">{</span><span class="string" id="6902599">&#34;b&#34;</span><span class="op" id="6902602">,</span>&nbsp;<span class="string" id="6902604">&#34;x&#34;</span><span class="op" id="6902607">,</span>&nbsp;<span class="string" id="6902609">&#34;abc&#34;</span><span class="op" id="6902614">,</span>&nbsp;<span class="string" id="6902616">&#34;axc&#34;</span><span class="op" id="6902621">}</span><span class="op" id="6902622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902625">{</span><span class="string" id="6902626">&#34;y&#34;</span><span class="op" id="6902629">,</span>&nbsp;<span class="string" id="6902631">&#34;&#34;</span><span class="op" id="6902633">,</span>&nbsp;<span class="string" id="6902635">&#34;&#34;</span><span class="op" id="6902637">,</span>&nbsp;<span class="string" id="6902639">&#34;&#34;</span><span class="op" id="6902641">}</span><span class="op" id="6902642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902645">{</span><span class="string" id="6902646">&#34;y&#34;</span><span class="op" id="6902649">,</span>&nbsp;<span class="string" id="6902651">&#34;x&#34;</span><span class="op" id="6902654">,</span>&nbsp;<span class="string" id="6902656">&#34;&#34;</span><span class="op" id="6902658">,</span>&nbsp;<span class="string" id="6902660">&#34;&#34;</span><span class="op" id="6902662">}</span><span class="op" id="6902663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902666">{</span><span class="string" id="6902667">&#34;y&#34;</span><span class="op" id="6902670">,</span>&nbsp;<span class="string" id="6902672">&#34;&#34;</span><span class="op" id="6902674">,</span>&nbsp;<span class="string" id="6902676">&#34;abc&#34;</span><span class="op" id="6902681">,</span>&nbsp;<span class="string" id="6902683">&#34;abc&#34;</span><span class="op" id="6902688">}</span><span class="op" id="6902689">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902692">{</span><span class="string" id="6902693">&#34;y&#34;</span><span class="op" id="6902696">,</span>&nbsp;<span class="string" id="6902698">&#34;x&#34;</span><span class="op" id="6902701">,</span>&nbsp;<span class="string" id="6902703">&#34;abc&#34;</span><span class="op" id="6902708">,</span>&nbsp;<span class="string" id="6902710">&#34;abc&#34;</span><span class="op" id="6902715">}</span><span class="op" id="6902716">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6902720">//&nbsp;Multibyte&nbsp;characters&nbsp;--&nbsp;verify&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;match&nbsp;in&nbsp;the&nbsp;middle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6902796">//&nbsp;of&nbsp;a&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902816">{</span><span class="string" id="6902817">&#34;[a-c]*&#34;</span><span class="op" id="6902825">,</span>&nbsp;<span class="string" id="6902827">&#34;x&#34;</span><span class="op" id="6902830">,</span>&nbsp;<span class="string" id="6902832">&#34;\u65e5&#34;</span><span class="op" id="6902840">,</span>&nbsp;<span class="string" id="6902842">&#34;x\u65e5x&#34;</span><span class="op" id="6902852">}</span><span class="op" id="6902853">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902856">{</span><span class="string" id="6902857">&#34;[^\u65e5]&#34;</span><span class="op" id="6902868">,</span>&nbsp;<span class="string" id="6902870">&#34;x&#34;</span><span class="op" id="6902873">,</span>&nbsp;<span class="string" id="6902875">&#34;abc\u65e5def&#34;</span><span class="op" id="6902889">,</span>&nbsp;<span class="string" id="6902891">&#34;xxx\u65e5xxx&#34;</span><span class="op" id="6902905">}</span><span class="op" id="6902906">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6902910">//&nbsp;Start&nbsp;and&nbsp;end&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902941">{</span><span class="string" id="6902942">&#34;^[a-c]*&#34;</span><span class="op" id="6902951">,</span>&nbsp;<span class="string" id="6902953">&#34;x&#34;</span><span class="op" id="6902956">,</span>&nbsp;<span class="string" id="6902958">&#34;abcdabc&#34;</span><span class="op" id="6902967">,</span>&nbsp;<span class="string" id="6902969">&#34;xdabc&#34;</span><span class="op" id="6902976">}</span><span class="op" id="6902977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6902980">{</span><span class="string" id="6902981">&#34;[a-c]*$&#34;</span><span class="op" id="6902990">,</span>&nbsp;<span class="string" id="6902992">&#34;x&#34;</span><span class="op" id="6902995">,</span>&nbsp;<span class="string" id="6902997">&#34;abcdabc&#34;</span><span class="op" id="6903006">,</span>&nbsp;<span class="string" id="6903008">&#34;abcdx&#34;</span><span class="op" id="6903015">}</span><span class="op" id="6903016">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903019">{</span><span class="string" id="6903020">&#34;^[a-c]*$&#34;</span><span class="op" id="6903030">,</span>&nbsp;<span class="string" id="6903032">&#34;x&#34;</span><span class="op" id="6903035">,</span>&nbsp;<span class="string" id="6903037">&#34;abcdabc&#34;</span><span class="op" id="6903046">,</span>&nbsp;<span class="string" id="6903048">&#34;abcdabc&#34;</span><span class="op" id="6903057">}</span><span class="op" id="6903058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903061">{</span><span class="string" id="6903062">&#34;^[a-c]*&#34;</span><span class="op" id="6903071">,</span>&nbsp;<span class="string" id="6903073">&#34;x&#34;</span><span class="op" id="6903076">,</span>&nbsp;<span class="string" id="6903078">&#34;abc&#34;</span><span class="op" id="6903083">,</span>&nbsp;<span class="string" id="6903085">&#34;x&#34;</span><span class="op" id="6903088">}</span><span class="op" id="6903089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903092">{</span><span class="string" id="6903093">&#34;[a-c]*$&#34;</span><span class="op" id="6903102">,</span>&nbsp;<span class="string" id="6903104">&#34;x&#34;</span><span class="op" id="6903107">,</span>&nbsp;<span class="string" id="6903109">&#34;abc&#34;</span><span class="op" id="6903114">,</span>&nbsp;<span class="string" id="6903116">&#34;x&#34;</span><span class="op" id="6903119">}</span><span class="op" id="6903120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903123">{</span><span class="string" id="6903124">&#34;^[a-c]*$&#34;</span><span class="op" id="6903134">,</span>&nbsp;<span class="string" id="6903136">&#34;x&#34;</span><span class="op" id="6903139">,</span>&nbsp;<span class="string" id="6903141">&#34;abc&#34;</span><span class="op" id="6903146">,</span>&nbsp;<span class="string" id="6903148">&#34;x&#34;</span><span class="op" id="6903151">}</span><span class="op" id="6903152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903155">{</span><span class="string" id="6903156">&#34;^[a-c]*&#34;</span><span class="op" id="6903165">,</span>&nbsp;<span class="string" id="6903167">&#34;x&#34;</span><span class="op" id="6903170">,</span>&nbsp;<span class="string" id="6903172">&#34;dabce&#34;</span><span class="op" id="6903179">,</span>&nbsp;<span class="string" id="6903181">&#34;xdabce&#34;</span><span class="op" id="6903189">}</span><span class="op" id="6903190">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903193">{</span><span class="string" id="6903194">&#34;[a-c]*$&#34;</span><span class="op" id="6903203">,</span>&nbsp;<span class="string" id="6903205">&#34;x&#34;</span><span class="op" id="6903208">,</span>&nbsp;<span class="string" id="6903210">&#34;dabce&#34;</span><span class="op" id="6903217">,</span>&nbsp;<span class="string" id="6903219">&#34;dabcex&#34;</span><span class="op" id="6903227">}</span><span class="op" id="6903228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903231">{</span><span class="string" id="6903232">&#34;^[a-c]*$&#34;</span><span class="op" id="6903242">,</span>&nbsp;<span class="string" id="6903244">&#34;x&#34;</span><span class="op" id="6903247">,</span>&nbsp;<span class="string" id="6903249">&#34;dabce&#34;</span><span class="op" id="6903256">,</span>&nbsp;<span class="string" id="6903258">&#34;dabce&#34;</span><span class="op" id="6903265">}</span><span class="op" id="6903266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903269">{</span><span class="string" id="6903270">&#34;^[a-c]*&#34;</span><span class="op" id="6903279">,</span>&nbsp;<span class="string" id="6903281">&#34;x&#34;</span><span class="op" id="6903284">,</span>&nbsp;<span class="string" id="6903286">&#34;&#34;</span><span class="op" id="6903288">,</span>&nbsp;<span class="string" id="6903290">&#34;x&#34;</span><span class="op" id="6903293">}</span><span class="op" id="6903294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903297">{</span><span class="string" id="6903298">&#34;[a-c]*$&#34;</span><span class="op" id="6903307">,</span>&nbsp;<span class="string" id="6903309">&#34;x&#34;</span><span class="op" id="6903312">,</span>&nbsp;<span class="string" id="6903314">&#34;&#34;</span><span class="op" id="6903316">,</span>&nbsp;<span class="string" id="6903318">&#34;x&#34;</span><span class="op" id="6903321">}</span><span class="op" id="6903322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903325">{</span><span class="string" id="6903326">&#34;^[a-c]*$&#34;</span><span class="op" id="6903336">,</span>&nbsp;<span class="string" id="6903338">&#34;x&#34;</span><span class="op" id="6903341">,</span>&nbsp;<span class="string" id="6903343">&#34;&#34;</span><span class="op" id="6903345">,</span>&nbsp;<span class="string" id="6903347">&#34;x&#34;</span><span class="op" id="6903350">}</span><span class="op" id="6903351">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903355">{</span><span class="string" id="6903356">&#34;^[a-c]+&#34;</span><span class="op" id="6903365">,</span>&nbsp;<span class="string" id="6903367">&#34;x&#34;</span><span class="op" id="6903370">,</span>&nbsp;<span class="string" id="6903372">&#34;abcdabc&#34;</span><span class="op" id="6903381">,</span>&nbsp;<span class="string" id="6903383">&#34;xdabc&#34;</span><span class="op" id="6903390">}</span><span class="op" id="6903391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903394">{</span><span class="string" id="6903395">&#34;[a-c]+$&#34;</span><span class="op" id="6903404">,</span>&nbsp;<span class="string" id="6903406">&#34;x&#34;</span><span class="op" id="6903409">,</span>&nbsp;<span class="string" id="6903411">&#34;abcdabc&#34;</span><span class="op" id="6903420">,</span>&nbsp;<span class="string" id="6903422">&#34;abcdx&#34;</span><span class="op" id="6903429">}</span><span class="op" id="6903430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903433">{</span><span class="string" id="6903434">&#34;^[a-c]+$&#34;</span><span class="op" id="6903444">,</span>&nbsp;<span class="string" id="6903446">&#34;x&#34;</span><span class="op" id="6903449">,</span>&nbsp;<span class="string" id="6903451">&#34;abcdabc&#34;</span><span class="op" id="6903460">,</span>&nbsp;<span class="string" id="6903462">&#34;abcdabc&#34;</span><span class="op" id="6903471">}</span><span class="op" id="6903472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903475">{</span><span class="string" id="6903476">&#34;^[a-c]+&#34;</span><span class="op" id="6903485">,</span>&nbsp;<span class="string" id="6903487">&#34;x&#34;</span><span class="op" id="6903490">,</span>&nbsp;<span class="string" id="6903492">&#34;abc&#34;</span><span class="op" id="6903497">,</span>&nbsp;<span class="string" id="6903499">&#34;x&#34;</span><span class="op" id="6903502">}</span><span class="op" id="6903503">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903506">{</span><span class="string" id="6903507">&#34;[a-c]+$&#34;</span><span class="op" id="6903516">,</span>&nbsp;<span class="string" id="6903518">&#34;x&#34;</span><span class="op" id="6903521">,</span>&nbsp;<span class="string" id="6903523">&#34;abc&#34;</span><span class="op" id="6903528">,</span>&nbsp;<span class="string" id="6903530">&#34;x&#34;</span><span class="op" id="6903533">}</span><span class="op" id="6903534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903537">{</span><span class="string" id="6903538">&#34;^[a-c]+$&#34;</span><span class="op" id="6903548">,</span>&nbsp;<span class="string" id="6903550">&#34;x&#34;</span><span class="op" id="6903553">,</span>&nbsp;<span class="string" id="6903555">&#34;abc&#34;</span><span class="op" id="6903560">,</span>&nbsp;<span class="string" id="6903562">&#34;x&#34;</span><span class="op" id="6903565">}</span><span class="op" id="6903566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903569">{</span><span class="string" id="6903570">&#34;^[a-c]+&#34;</span><span class="op" id="6903579">,</span>&nbsp;<span class="string" id="6903581">&#34;x&#34;</span><span class="op" id="6903584">,</span>&nbsp;<span class="string" id="6903586">&#34;dabce&#34;</span><span class="op" id="6903593">,</span>&nbsp;<span class="string" id="6903595">&#34;dabce&#34;</span><span class="op" id="6903602">}</span><span class="op" id="6903603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903606">{</span><span class="string" id="6903607">&#34;[a-c]+$&#34;</span><span class="op" id="6903616">,</span>&nbsp;<span class="string" id="6903618">&#34;x&#34;</span><span class="op" id="6903621">,</span>&nbsp;<span class="string" id="6903623">&#34;dabce&#34;</span><span class="op" id="6903630">,</span>&nbsp;<span class="string" id="6903632">&#34;dabce&#34;</span><span class="op" id="6903639">}</span><span class="op" id="6903640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903643">{</span><span class="string" id="6903644">&#34;^[a-c]+$&#34;</span><span class="op" id="6903654">,</span>&nbsp;<span class="string" id="6903656">&#34;x&#34;</span><span class="op" id="6903659">,</span>&nbsp;<span class="string" id="6903661">&#34;dabce&#34;</span><span class="op" id="6903668">,</span>&nbsp;<span class="string" id="6903670">&#34;dabce&#34;</span><span class="op" id="6903677">}</span><span class="op" id="6903678">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903681">{</span><span class="string" id="6903682">&#34;^[a-c]+&#34;</span><span class="op" id="6903691">,</span>&nbsp;<span class="string" id="6903693">&#34;x&#34;</span><span class="op" id="6903696">,</span>&nbsp;<span class="string" id="6903698">&#34;&#34;</span><span class="op" id="6903700">,</span>&nbsp;<span class="string" id="6903702">&#34;&#34;</span><span class="op" id="6903704">}</span><span class="op" id="6903705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903708">{</span><span class="string" id="6903709">&#34;[a-c]+$&#34;</span><span class="op" id="6903718">,</span>&nbsp;<span class="string" id="6903720">&#34;x&#34;</span><span class="op" id="6903723">,</span>&nbsp;<span class="string" id="6903725">&#34;&#34;</span><span class="op" id="6903727">,</span>&nbsp;<span class="string" id="6903729">&#34;&#34;</span><span class="op" id="6903731">}</span><span class="op" id="6903732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903735">{</span><span class="string" id="6903736">&#34;^[a-c]+$&#34;</span><span class="op" id="6903746">,</span>&nbsp;<span class="string" id="6903748">&#34;x&#34;</span><span class="op" id="6903751">,</span>&nbsp;<span class="string" id="6903753">&#34;&#34;</span><span class="op" id="6903755">,</span>&nbsp;<span class="string" id="6903757">&#34;&#34;</span><span class="op" id="6903759">}</span><span class="op" id="6903760">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6903764">//&nbsp;Other&nbsp;cases.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903781">{</span><span class="string" id="6903782">&#34;abc&#34;</span><span class="op" id="6903787">,</span>&nbsp;<span class="string" id="6903789">&#34;def&#34;</span><span class="op" id="6903794">,</span>&nbsp;<span class="string" id="6903796">&#34;abcdefg&#34;</span><span class="op" id="6903805">,</span>&nbsp;<span class="string" id="6903807">&#34;defdefg&#34;</span><span class="op" id="6903816">}</span><span class="op" id="6903817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903820">{</span><span class="string" id="6903821">&#34;bc&#34;</span><span class="op" id="6903825">,</span>&nbsp;<span class="string" id="6903827">&#34;BC&#34;</span><span class="op" id="6903831">,</span>&nbsp;<span class="string" id="6903833">&#34;abcbcdcdedef&#34;</span><span class="op" id="6903847">,</span>&nbsp;<span class="string" id="6903849">&#34;aBCBCdcdedef&#34;</span><span class="op" id="6903863">}</span><span class="op" id="6903864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903867">{</span><span class="string" id="6903868">&#34;abc&#34;</span><span class="op" id="6903873">,</span>&nbsp;<span class="string" id="6903875">&#34;&#34;</span><span class="op" id="6903877">,</span>&nbsp;<span class="string" id="6903879">&#34;abcdabc&#34;</span><span class="op" id="6903888">,</span>&nbsp;<span class="string" id="6903890">&#34;d&#34;</span><span class="op" id="6903893">}</span><span class="op" id="6903894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903897">{</span><span class="string" id="6903898">&#34;x&#34;</span><span class="op" id="6903901">,</span>&nbsp;<span class="string" id="6903903">&#34;xXx&#34;</span><span class="op" id="6903908">,</span>&nbsp;<span class="string" id="6903910">&#34;xxxXxxx&#34;</span><span class="op" id="6903919">,</span>&nbsp;<span class="string" id="6903921">&#34;xXxxXxxXxXxXxxXxxXx&#34;</span><span class="op" id="6903942">}</span><span class="op" id="6903943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903946">{</span><span class="string" id="6903947">&#34;abc&#34;</span><span class="op" id="6903952">,</span>&nbsp;<span class="string" id="6903954">&#34;d&#34;</span><span class="op" id="6903957">,</span>&nbsp;<span class="string" id="6903959">&#34;&#34;</span><span class="op" id="6903961">,</span>&nbsp;<span class="string" id="6903963">&#34;&#34;</span><span class="op" id="6903965">}</span><span class="op" id="6903966">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903969">{</span><span class="string" id="6903970">&#34;abc&#34;</span><span class="op" id="6903975">,</span>&nbsp;<span class="string" id="6903977">&#34;d&#34;</span><span class="op" id="6903980">,</span>&nbsp;<span class="string" id="6903982">&#34;abc&#34;</span><span class="op" id="6903987">,</span>&nbsp;<span class="string" id="6903989">&#34;d&#34;</span><span class="op" id="6903992">}</span><span class="op" id="6903993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6903996">{</span><span class="string" id="6903997">&#34;.+&#34;</span><span class="op" id="6904001">,</span>&nbsp;<span class="string" id="6904003">&#34;x&#34;</span><span class="op" id="6904006">,</span>&nbsp;<span class="string" id="6904008">&#34;abc&#34;</span><span class="op" id="6904013">,</span>&nbsp;<span class="string" id="6904015">&#34;x&#34;</span><span class="op" id="6904018">}</span><span class="op" id="6904019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904022">{</span><span class="string" id="6904023">&#34;[a-c]*&#34;</span><span class="op" id="6904031">,</span>&nbsp;<span class="string" id="6904033">&#34;x&#34;</span><span class="op" id="6904036">,</span>&nbsp;<span class="string" id="6904038">&#34;def&#34;</span><span class="op" id="6904043">,</span>&nbsp;<span class="string" id="6904045">&#34;xdxexfx&#34;</span><span class="op" id="6904054">}</span><span class="op" id="6904055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904058">{</span><span class="string" id="6904059">&#34;[a-c]+&#34;</span><span class="op" id="6904067">,</span>&nbsp;<span class="string" id="6904069">&#34;x&#34;</span><span class="op" id="6904072">,</span>&nbsp;<span class="string" id="6904074">&#34;abcbcdcdedef&#34;</span><span class="op" id="6904088">,</span>&nbsp;<span class="string" id="6904090">&#34;xdxdedef&#34;</span><span class="op" id="6904100">}</span><span class="op" id="6904101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904104">{</span><span class="string" id="6904105">&#34;[a-c]*&#34;</span><span class="op" id="6904113">,</span>&nbsp;<span class="string" id="6904115">&#34;x&#34;</span><span class="op" id="6904118">,</span>&nbsp;<span class="string" id="6904120">&#34;abcbcdcdedef&#34;</span><span class="op" id="6904134">,</span>&nbsp;<span class="string" id="6904136">&#34;xdxdxexdxexfx&#34;</span><span class="op" id="6904151">}</span><span class="op" id="6904152">,</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6904156">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904174">{</span><span class="string" id="6904175">&#34;a+&#34;</span><span class="op" id="6904179">,</span>&nbsp;<span class="string" id="6904181">&#34;($0)&#34;</span><span class="op" id="6904187">,</span>&nbsp;<span class="string" id="6904189">&#34;banana&#34;</span><span class="op" id="6904197">,</span>&nbsp;<span class="string" id="6904199">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="6904213">}</span><span class="op" id="6904214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904217">{</span><span class="string" id="6904218">&#34;a+&#34;</span><span class="op" id="6904222">,</span>&nbsp;<span class="string" id="6904224">&#34;(${0})&#34;</span><span class="op" id="6904232">,</span>&nbsp;<span class="string" id="6904234">&#34;banana&#34;</span><span class="op" id="6904242">,</span>&nbsp;<span class="string" id="6904244">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="6904258">}</span><span class="op" id="6904259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904262">{</span><span class="string" id="6904263">&#34;a+&#34;</span><span class="op" id="6904267">,</span>&nbsp;<span class="string" id="6904269">&#34;(${0})$0&#34;</span><span class="op" id="6904279">,</span>&nbsp;<span class="string" id="6904281">&#34;banana&#34;</span><span class="op" id="6904289">,</span>&nbsp;<span class="string" id="6904291">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="6904308">}</span><span class="op" id="6904309">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904312">{</span><span class="string" id="6904313">&#34;a+&#34;</span><span class="op" id="6904317">,</span>&nbsp;<span class="string" id="6904319">&#34;(${0})$0&#34;</span><span class="op" id="6904329">,</span>&nbsp;<span class="string" id="6904331">&#34;banana&#34;</span><span class="op" id="6904339">,</span>&nbsp;<span class="string" id="6904341">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="6904358">}</span><span class="op" id="6904359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904362">{</span><span class="string" id="6904363">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6904376">,</span>&nbsp;<span class="string" id="6904378">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="6904393">,</span>&nbsp;<span class="string" id="6904395">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6904409">,</span>&nbsp;<span class="string" id="6904411">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6904427">}</span><span class="op" id="6904428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904431">{</span><span class="string" id="6904432">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6904445">,</span>&nbsp;<span class="string" id="6904447">&#34;goodbye,&nbsp;$1x&#34;</span><span class="op" id="6904461">,</span>&nbsp;<span class="string" id="6904463">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6904477">,</span>&nbsp;<span class="string" id="6904479">&#34;goodbye,&nbsp;&#34;</span><span class="op" id="6904490">}</span><span class="op" id="6904491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904494">{</span><span class="string" id="6904495">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6904508">,</span>&nbsp;<span class="string" id="6904510">&#34;goodbye,&nbsp;${1}x&#34;</span><span class="op" id="6904526">,</span>&nbsp;<span class="string" id="6904528">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6904542">,</span>&nbsp;<span class="string" id="6904544">&#34;goodbye,&nbsp;worldx&#34;</span><span class="op" id="6904561">}</span><span class="op" id="6904562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904565">{</span><span class="string" id="6904566">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6904579">,</span>&nbsp;<span class="string" id="6904581">&#34;&lt;$0&gt;&lt;$1&gt;&lt;$2&gt;&lt;$3&gt;&#34;</span><span class="op" id="6904599">,</span>&nbsp;<span class="string" id="6904601">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6904615">,</span>&nbsp;<span class="string" id="6904617">&#34;&lt;hello,&nbsp;world&gt;&lt;world&gt;&lt;&gt;&lt;&gt;&#34;</span><span class="op" id="6904644">}</span><span class="op" id="6904645">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904648">{</span><span class="string" id="6904649">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6904670">,</span>&nbsp;<span class="string" id="6904672">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="6904689">,</span>&nbsp;<span class="string" id="6904691">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6904705">,</span>&nbsp;<span class="string" id="6904707">&#34;goodbye,&nbsp;world!&#34;</span><span class="op" id="6904724">}</span><span class="op" id="6904725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904728">{</span><span class="string" id="6904729">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6904750">,</span>&nbsp;<span class="string" id="6904752">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="6904770">,</span>&nbsp;<span class="string" id="6904772">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6904786">,</span>&nbsp;<span class="string" id="6904788">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="6904804">}</span><span class="op" id="6904805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904808">{</span><span class="string" id="6904809">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6904831">,</span>&nbsp;<span class="string" id="6904833">&#34;$x$x$x&#34;</span><span class="op" id="6904841">,</span>&nbsp;<span class="string" id="6904843">&#34;hi&#34;</span><span class="op" id="6904847">,</span>&nbsp;<span class="string" id="6904849">&#34;hihihi&#34;</span><span class="op" id="6904857">}</span><span class="op" id="6904858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904861">{</span><span class="string" id="6904862">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6904884">,</span>&nbsp;<span class="string" id="6904886">&#34;$x$x$x&#34;</span><span class="op" id="6904894">,</span>&nbsp;<span class="string" id="6904896">&#34;bye&#34;</span><span class="op" id="6904901">,</span>&nbsp;<span class="string" id="6904903">&#34;byebyebye&#34;</span><span class="op" id="6904914">}</span><span class="op" id="6904915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904918">{</span><span class="string" id="6904919">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6904941">,</span>&nbsp;<span class="string" id="6904943">&#34;$xyz&#34;</span><span class="op" id="6904949">,</span>&nbsp;<span class="string" id="6904951">&#34;hi&#34;</span><span class="op" id="6904955">,</span>&nbsp;<span class="string" id="6904957">&#34;&#34;</span><span class="op" id="6904959">}</span><span class="op" id="6904960">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6904963">{</span><span class="string" id="6904964">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6904986">,</span>&nbsp;<span class="string" id="6904988">&#34;${x}yz&#34;</span><span class="op" id="6904996">,</span>&nbsp;<span class="string" id="6904998">&#34;hi&#34;</span><span class="op" id="6905002">,</span>&nbsp;<span class="string" id="6905004">&#34;hiyz&#34;</span><span class="op" id="6905010">}</span><span class="op" id="6905011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905014">{</span><span class="string" id="6905015">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6905037">,</span>&nbsp;<span class="string" id="6905039">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="6905050">,</span>&nbsp;<span class="string" id="6905052">&#34;hi&#34;</span><span class="op" id="6905056">,</span>&nbsp;<span class="string" id="6905058">&#34;hello&nbsp;$x&#34;</span><span class="op" id="6905068">}</span><span class="op" id="6905069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905072">{</span><span class="string" id="6905073">&#34;a+&#34;</span><span class="op" id="6905077">,</span>&nbsp;<span class="string" id="6905079">&#34;${oops&#34;</span><span class="op" id="6905087">,</span>&nbsp;<span class="string" id="6905089">&#34;aaa&#34;</span><span class="op" id="6905094">,</span>&nbsp;<span class="string" id="6905096">&#34;${oops&#34;</span><span class="op" id="6905104">}</span><span class="op" id="6905105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905108">{</span><span class="string" id="6905109">&#34;a+&#34;</span><span class="op" id="6905113">,</span>&nbsp;<span class="string" id="6905115">&#34;$$&#34;</span><span class="op" id="6905119">,</span>&nbsp;<span class="string" id="6905121">&#34;aaa&#34;</span><span class="op" id="6905126">,</span>&nbsp;<span class="string" id="6905128">&#34;$&#34;</span><span class="op" id="6905131">}</span><span class="op" id="6905132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905135">{</span><span class="string" id="6905136">&#34;a+&#34;</span><span class="op" id="6905140">,</span>&nbsp;<span class="string" id="6905142">&#34;$&#34;</span><span class="op" id="6905145">,</span>&nbsp;<span class="string" id="6905147">&#34;aaa&#34;</span><span class="op" id="6905152">,</span>&nbsp;<span class="string" id="6905154">&#34;$&#34;</span><span class="op" id="6905157">}</span><span class="op" id="6905158">,</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6905162">//&nbsp;Substitution&nbsp;when&nbsp;subexpression&nbsp;isn&#39;t&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905210">{</span><span class="string" id="6905211">&#34;(x)?&#34;</span><span class="op" id="6905217">,</span>&nbsp;<span class="string" id="6905219">&#34;$1&#34;</span><span class="op" id="6905223">,</span>&nbsp;<span class="string" id="6905225">&#34;123&#34;</span><span class="op" id="6905230">,</span>&nbsp;<span class="string" id="6905232">&#34;123&#34;</span><span class="op" id="6905237">}</span><span class="op" id="6905238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905241">{</span><span class="string" id="6905242">&#34;abc&#34;</span><span class="op" id="6905247">,</span>&nbsp;<span class="string" id="6905249">&#34;$1&#34;</span><span class="op" id="6905253">,</span>&nbsp;<span class="string" id="6905255">&#34;123&#34;</span><span class="op" id="6905260">,</span>&nbsp;<span class="string" id="6905262">&#34;123&#34;</span><span class="op" id="6905267">}</span><span class="op" id="6905268">,</span><br>
<span class="lineno"></span><span class="op" id="6905270">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="6905273">var</span>&nbsp;<span class="ident" id="6905277">replaceLiteralTests</span>&nbsp;<span class="op" id="6905297">=</span>&nbsp;<span class="op" id="6905299">[</span><span class="op" id="6905300">]</span><span class="ident" id="6905301">ReplaceTest</span><span class="op" id="6905312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6905315">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905333">{</span><span class="string" id="6905334">&#34;a+&#34;</span><span class="op" id="6905338">,</span>&nbsp;<span class="string" id="6905340">&#34;($0)&#34;</span><span class="op" id="6905346">,</span>&nbsp;<span class="string" id="6905348">&#34;banana&#34;</span><span class="op" id="6905356">,</span>&nbsp;<span class="string" id="6905358">&#34;b($0)n($0)n($0)&#34;</span><span class="op" id="6905375">}</span><span class="op" id="6905376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905379">{</span><span class="string" id="6905380">&#34;a+&#34;</span><span class="op" id="6905384">,</span>&nbsp;<span class="string" id="6905386">&#34;(${0})&#34;</span><span class="op" id="6905394">,</span>&nbsp;<span class="string" id="6905396">&#34;banana&#34;</span><span class="op" id="6905404">,</span>&nbsp;<span class="string" id="6905406">&#34;b(${0})n(${0})n(${0})&#34;</span><span class="op" id="6905429">}</span><span class="op" id="6905430">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905433">{</span><span class="string" id="6905434">&#34;a+&#34;</span><span class="op" id="6905438">,</span>&nbsp;<span class="string" id="6905440">&#34;(${0})$0&#34;</span><span class="op" id="6905450">,</span>&nbsp;<span class="string" id="6905452">&#34;banana&#34;</span><span class="op" id="6905460">,</span>&nbsp;<span class="string" id="6905462">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="6905491">}</span><span class="op" id="6905492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905495">{</span><span class="string" id="6905496">&#34;a+&#34;</span><span class="op" id="6905500">,</span>&nbsp;<span class="string" id="6905502">&#34;(${0})$0&#34;</span><span class="op" id="6905512">,</span>&nbsp;<span class="string" id="6905514">&#34;banana&#34;</span><span class="op" id="6905522">,</span>&nbsp;<span class="string" id="6905524">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="6905553">}</span><span class="op" id="6905554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905557">{</span><span class="string" id="6905558">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="6905571">,</span>&nbsp;<span class="string" id="6905573">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="6905588">,</span>&nbsp;<span class="string" id="6905590">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6905604">,</span>&nbsp;<span class="string" id="6905606">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="6905621">}</span><span class="op" id="6905622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905625">{</span><span class="string" id="6905626">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6905647">,</span>&nbsp;<span class="string" id="6905649">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="6905666">,</span>&nbsp;<span class="string" id="6905668">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6905682">,</span>&nbsp;<span class="string" id="6905684">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="6905701">}</span><span class="op" id="6905702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905705">{</span><span class="string" id="6905706">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="6905727">,</span>&nbsp;<span class="string" id="6905729">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="6905747">,</span>&nbsp;<span class="string" id="6905749">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6905763">,</span>&nbsp;<span class="string" id="6905765">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="6905783">}</span><span class="op" id="6905784">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905787">{</span><span class="string" id="6905788">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6905810">,</span>&nbsp;<span class="string" id="6905812">&#34;$x$x$x&#34;</span><span class="op" id="6905820">,</span>&nbsp;<span class="string" id="6905822">&#34;hi&#34;</span><span class="op" id="6905826">,</span>&nbsp;<span class="string" id="6905828">&#34;$x$x$x&#34;</span><span class="op" id="6905836">}</span><span class="op" id="6905837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905840">{</span><span class="string" id="6905841">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6905863">,</span>&nbsp;<span class="string" id="6905865">&#34;$x$x$x&#34;</span><span class="op" id="6905873">,</span>&nbsp;<span class="string" id="6905875">&#34;bye&#34;</span><span class="op" id="6905880">,</span>&nbsp;<span class="string" id="6905882">&#34;$x$x$x&#34;</span><span class="op" id="6905890">}</span><span class="op" id="6905891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905894">{</span><span class="string" id="6905895">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6905917">,</span>&nbsp;<span class="string" id="6905919">&#34;$xyz&#34;</span><span class="op" id="6905925">,</span>&nbsp;<span class="string" id="6905927">&#34;hi&#34;</span><span class="op" id="6905931">,</span>&nbsp;<span class="string" id="6905933">&#34;$xyz&#34;</span><span class="op" id="6905939">}</span><span class="op" id="6905940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905943">{</span><span class="string" id="6905944">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6905966">,</span>&nbsp;<span class="string" id="6905968">&#34;${x}yz&#34;</span><span class="op" id="6905976">,</span>&nbsp;<span class="string" id="6905978">&#34;hi&#34;</span><span class="op" id="6905982">,</span>&nbsp;<span class="string" id="6905984">&#34;${x}yz&#34;</span><span class="op" id="6905992">}</span><span class="op" id="6905993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6905996">{</span><span class="string" id="6905997">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="6906019">,</span>&nbsp;<span class="string" id="6906021">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="6906032">,</span>&nbsp;<span class="string" id="6906034">&#34;hi&#34;</span><span class="op" id="6906038">,</span>&nbsp;<span class="string" id="6906040">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="6906051">}</span><span class="op" id="6906052">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906055">{</span><span class="string" id="6906056">&#34;a+&#34;</span><span class="op" id="6906060">,</span>&nbsp;<span class="string" id="6906062">&#34;${oops&#34;</span><span class="op" id="6906070">,</span>&nbsp;<span class="string" id="6906072">&#34;aaa&#34;</span><span class="op" id="6906077">,</span>&nbsp;<span class="string" id="6906079">&#34;${oops&#34;</span><span class="op" id="6906087">}</span><span class="op" id="6906088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906091">{</span><span class="string" id="6906092">&#34;a+&#34;</span><span class="op" id="6906096">,</span>&nbsp;<span class="string" id="6906098">&#34;$$&#34;</span><span class="op" id="6906102">,</span>&nbsp;<span class="string" id="6906104">&#34;aaa&#34;</span><span class="op" id="6906109">,</span>&nbsp;<span class="string" id="6906111">&#34;$$&#34;</span><span class="op" id="6906115">}</span><span class="op" id="6906116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906119">{</span><span class="string" id="6906120">&#34;a+&#34;</span><span class="op" id="6906124">,</span>&nbsp;<span class="string" id="6906126">&#34;$&#34;</span><span class="op" id="6906129">,</span>&nbsp;<span class="string" id="6906131">&#34;aaa&#34;</span><span class="op" id="6906136">,</span>&nbsp;<span class="string" id="6906138">&#34;$&#34;</span><span class="op" id="6906141">}</span><span class="op" id="6906142">,</span><br>
<span class="lineno"></span><span class="op" id="6906144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="6906147">type</span>&nbsp;<span class="ident" id="6906152">ReplaceFuncTest</span>&nbsp;<span class="keyword" id="6906168">struct</span>&nbsp;<span class="op" id="6906175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906178">pattern</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6906192">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906200">replacement</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="6906214">func</span><span class="op" id="6906218">(</span><span class="builtintype" id="6906219">string</span><span class="op" id="6906225">)</span>&nbsp;<span class="builtintype" id="6906227">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906235">input</span><span class="op" id="6906240">,</span>&nbsp;<span class="ident" id="6906242">output</span>&nbsp;<span class="builtintype" id="6906249">string</span><br>
<span class="lineno"></span><span class="op" id="6906256">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="6906259">var</span>&nbsp;<span class="ident" id="6906263">replaceFuncTests</span>&nbsp;<span class="op" id="6906280">=</span>&nbsp;<span class="op" id="6906282">[</span><span class="op" id="6906283">]</span><span class="ident" id="6906284">ReplaceFuncTest</span><span class="op" id="6906299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906302">{</span><span class="string" id="6906303">&#34;[a-c]&#34;</span><span class="op" id="6906310">,</span>&nbsp;<span class="keyword" id="6906312">func</span><span class="op" id="6906316">(</span><span class="ident" id="6906317">s</span>&nbsp;<span class="builtintype" id="6906319">string</span><span class="op" id="6906325">)</span>&nbsp;<span class="builtintype" id="6906327">string</span>&nbsp;<span class="op" id="6906334">{</span>&nbsp;<span class="keyword" id="6906336">return</span>&nbsp;<span class="string" id="6906343">&#34;x&#34;</span>&nbsp;<span class="op" id="6906347">+</span>&nbsp;<span class="ident" id="6906349">s</span>&nbsp;<span class="op" id="6906351">+</span>&nbsp;<span class="string" id="6906353">&#34;y&#34;</span>&nbsp;<span class="op" id="6906357">}</span><span class="op" id="6906358">,</span>&nbsp;<span class="string" id="6906360">&#34;defabcdef&#34;</span><span class="op" id="6906371">,</span>&nbsp;<span class="string" id="6906373">&#34;defxayxbyxcydef&#34;</span><span class="op" id="6906390">}</span><span class="op" id="6906391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906394">{</span><span class="string" id="6906395">&#34;[a-c]+&#34;</span><span class="op" id="6906403">,</span>&nbsp;<span class="keyword" id="6906405">func</span><span class="op" id="6906409">(</span><span class="ident" id="6906410">s</span>&nbsp;<span class="builtintype" id="6906412">string</span><span class="op" id="6906418">)</span>&nbsp;<span class="builtintype" id="6906420">string</span>&nbsp;<span class="op" id="6906427">{</span>&nbsp;<span class="keyword" id="6906429">return</span>&nbsp;<span class="string" id="6906436">&#34;x&#34;</span>&nbsp;<span class="op" id="6906440">+</span>&nbsp;<span class="ident" id="6906442">s</span>&nbsp;<span class="op" id="6906444">+</span>&nbsp;<span class="string" id="6906446">&#34;y&#34;</span>&nbsp;<span class="op" id="6906450">}</span><span class="op" id="6906451">,</span>&nbsp;<span class="string" id="6906453">&#34;defabcdef&#34;</span><span class="op" id="6906464">,</span>&nbsp;<span class="string" id="6906466">&#34;defxabcydef&#34;</span><span class="op" id="6906479">}</span><span class="op" id="6906480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906483">{</span><span class="string" id="6906484">&#34;[a-c]*&#34;</span><span class="op" id="6906492">,</span>&nbsp;<span class="keyword" id="6906494">func</span><span class="op" id="6906498">(</span><span class="ident" id="6906499">s</span>&nbsp;<span class="builtintype" id="6906501">string</span><span class="op" id="6906507">)</span>&nbsp;<span class="builtintype" id="6906509">string</span>&nbsp;<span class="op" id="6906516">{</span>&nbsp;<span class="keyword" id="6906518">return</span>&nbsp;<span class="string" id="6906525">&#34;x&#34;</span>&nbsp;<span class="op" id="6906529">+</span>&nbsp;<span class="ident" id="6906531">s</span>&nbsp;<span class="op" id="6906533">+</span>&nbsp;<span class="string" id="6906535">&#34;y&#34;</span>&nbsp;<span class="op" id="6906539">}</span><span class="op" id="6906540">,</span>&nbsp;<span class="string" id="6906542">&#34;defabcdef&#34;</span><span class="op" id="6906553">,</span>&nbsp;<span class="string" id="6906555">&#34;xydxyexyfxabcydxyexyfxy&#34;</span><span class="op" id="6906580">}</span><span class="op" id="6906581">,</span><br>
<span class="lineno">235</span><span class="op" id="6906583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6906586">func</span>&nbsp;<span class="ident" id="6906591">TestReplaceAll</span><span class="op" id="6906605">(</span><span class="ident" id="6906606">t</span>&nbsp;<span class="op" id="6906608">*</span><span class="ident" id="6906609">testing</span><span class="op" id="6906616">.</span><span class="ident" id="6906617">T</span><span class="op" id="6906618">)</span>&nbsp;<span class="op" id="6906620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906623">for</span>&nbsp;<span class="ident" id="6906627">_</span><span class="op" id="6906628">,</span>&nbsp;<span class="ident" id="6906630">tc</span>&nbsp;<span class="op" id="6906633">:=</span>&nbsp;<span class="keyword" id="6906636">range</span>&nbsp;<span class="ident" id="6906642">replaceTests</span>&nbsp;<span class="op" id="6906655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906659">re</span><span class="op" id="6906661">,</span>&nbsp;<span class="ident" id="6906663">err</span>&nbsp;<span class="op" id="6906667">:=</span>&nbsp;<span class="ident" id="6906670">Compile</span><span class="op" id="6906677">(</span><span class="ident" id="6906678">tc</span><span class="op" id="6906680">.</span><span class="ident" id="6906681">pattern</span><span class="op" id="6906688">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906692">if</span>&nbsp;<span class="ident" id="6906695">err</span>&nbsp;<span class="op" id="6906699">!=</span>&nbsp;<span class="ident" id="6906702">nil</span>&nbsp;<span class="op" id="6906706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906711">t</span><span class="op" id="6906712">.</span><span class="ident" id="6906713">Errorf</span><span class="op" id="6906719">(</span><span class="string" id="6906720">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6906755">,</span>&nbsp;<span class="ident" id="6906757">tc</span><span class="op" id="6906759">.</span><span class="ident" id="6906760">pattern</span><span class="op" id="6906767">,</span>&nbsp;<span class="ident" id="6906769">err</span><span class="op" id="6906772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906777">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906792">actual</span>&nbsp;<span class="op" id="6906799">:=</span>&nbsp;<span class="ident" id="6906802">re</span><span class="op" id="6906804">.</span><span class="ident" id="6906805">ReplaceAllString</span><span class="op" id="6906821">(</span><span class="ident" id="6906822">tc</span><span class="op" id="6906824">.</span><span class="ident" id="6906825">input</span><span class="op" id="6906830">,</span>&nbsp;<span class="ident" id="6906832">tc</span><span class="op" id="6906834">.</span><span class="ident" id="6906835">replacement</span><span class="op" id="6906846">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6906850">if</span>&nbsp;<span class="ident" id="6906853">actual</span>&nbsp;<span class="op" id="6906860">!=</span>&nbsp;<span class="ident" id="6906863">tc</span><span class="op" id="6906865">.</span><span class="ident" id="6906866">output</span>&nbsp;<span class="op" id="6906873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906878">t</span><span class="op" id="6906879">.</span><span class="ident" id="6906880">Errorf</span><span class="op" id="6906886">(</span><span class="string" id="6906887">&#34;%q.ReplaceAllString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6906929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6906935">tc</span><span class="op" id="6906937">.</span><span class="ident" id="6906938">pattern</span><span class="op" id="6906945">,</span>&nbsp;<span class="ident" id="6906947">tc</span><span class="op" id="6906949">.</span><span class="ident" id="6906950">input</span><span class="op" id="6906955">,</span>&nbsp;<span class="ident" id="6906957">tc</span><span class="op" id="6906959">.</span><span class="ident" id="6906960">replacement</span><span class="op" id="6906971">,</span>&nbsp;<span class="ident" id="6906973">actual</span><span class="op" id="6906979">,</span>&nbsp;<span class="ident" id="6906981">tc</span><span class="op" id="6906983">.</span><span class="ident" id="6906984">output</span><span class="op" id="6906990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6906994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6906998">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907017">actual</span>&nbsp;<span class="op" id="6907024">=</span>&nbsp;<span class="builtintype" id="6907026">string</span><span class="op" id="6907032">(</span><span class="ident" id="6907033">re</span><span class="op" id="6907035">.</span><span class="ident" id="6907036">ReplaceAll</span><span class="op" id="6907046">(</span><span class="op" id="6907047">[</span><span class="op" id="6907048">]</span><span class="builtintype" id="6907049">byte</span><span class="op" id="6907053">(</span><span class="ident" id="6907054">tc</span><span class="op" id="6907056">.</span><span class="ident" id="6907057">input</span><span class="op" id="6907062">)</span><span class="op" id="6907063">,</span>&nbsp;<span class="op" id="6907065">[</span><span class="op" id="6907066">]</span><span class="builtintype" id="6907067">byte</span><span class="op" id="6907071">(</span><span class="ident" id="6907072">tc</span><span class="op" id="6907074">.</span><span class="ident" id="6907075">replacement</span><span class="op" id="6907086">)</span><span class="op" id="6907087">)</span><span class="op" id="6907088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907092">if</span>&nbsp;<span class="ident" id="6907095">actual</span>&nbsp;<span class="op" id="6907102">!=</span>&nbsp;<span class="ident" id="6907105">tc</span><span class="op" id="6907107">.</span><span class="ident" id="6907108">output</span>&nbsp;<span class="op" id="6907115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907120">t</span><span class="op" id="6907121">.</span><span class="ident" id="6907122">Errorf</span><span class="op" id="6907128">(</span><span class="string" id="6907129">&#34;%q.ReplaceAll(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6907165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907171">tc</span><span class="op" id="6907173">.</span><span class="ident" id="6907174">pattern</span><span class="op" id="6907181">,</span>&nbsp;<span class="ident" id="6907183">tc</span><span class="op" id="6907185">.</span><span class="ident" id="6907186">input</span><span class="op" id="6907191">,</span>&nbsp;<span class="ident" id="6907193">tc</span><span class="op" id="6907195">.</span><span class="ident" id="6907196">replacement</span><span class="op" id="6907207">,</span>&nbsp;<span class="ident" id="6907209">actual</span><span class="op" id="6907215">,</span>&nbsp;<span class="ident" id="6907217">tc</span><span class="op" id="6907219">.</span><span class="ident" id="6907220">output</span><span class="op" id="6907226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907230">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907233">}</span><br>
<span class="lineno"></span><span class="op" id="6907235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6907238">func</span>&nbsp;<span class="ident" id="6907243">TestReplaceAllLiteral</span><span class="op" id="6907264">(</span><span class="ident" id="6907265">t</span>&nbsp;<span class="op" id="6907267">*</span><span class="ident" id="6907268">testing</span><span class="op" id="6907275">.</span><span class="ident" id="6907276">T</span><span class="op" id="6907277">)</span>&nbsp;<span class="op" id="6907279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6907282">//&nbsp;Run&nbsp;ReplaceAll&nbsp;tests&nbsp;that&nbsp;do&nbsp;not&nbsp;have&nbsp;$&nbsp;expansions.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907338">for</span>&nbsp;<span class="ident" id="6907342">_</span><span class="op" id="6907343">,</span>&nbsp;<span class="ident" id="6907345">tc</span>&nbsp;<span class="op" id="6907348">:=</span>&nbsp;<span class="keyword" id="6907351">range</span>&nbsp;<span class="ident" id="6907357">replaceTests</span>&nbsp;<span class="op" id="6907370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907374">if</span>&nbsp;<span class="ident" id="6907377">strings</span><span class="op" id="6907384">.</span><span class="ident" id="6907385">Contains</span><span class="op" id="6907393">(</span><span class="ident" id="6907394">tc</span><span class="op" id="6907396">.</span><span class="ident" id="6907397">replacement</span><span class="op" id="6907408">,</span>&nbsp;<span class="string" id="6907410">&#34;$&#34;</span><span class="op" id="6907413">)</span>&nbsp;<span class="op" id="6907415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907420">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907435">re</span><span class="op" id="6907437">,</span>&nbsp;<span class="ident" id="6907439">err</span>&nbsp;<span class="op" id="6907443">:=</span>&nbsp;<span class="ident" id="6907446">Compile</span><span class="op" id="6907453">(</span><span class="ident" id="6907454">tc</span><span class="op" id="6907456">.</span><span class="ident" id="6907457">pattern</span><span class="op" id="6907464">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907468">if</span>&nbsp;<span class="ident" id="6907471">err</span>&nbsp;<span class="op" id="6907475">!=</span>&nbsp;<span class="ident" id="6907478">nil</span>&nbsp;<span class="op" id="6907482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907487">t</span><span class="op" id="6907488">.</span><span class="ident" id="6907489">Errorf</span><span class="op" id="6907495">(</span><span class="string" id="6907496">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6907531">,</span>&nbsp;<span class="ident" id="6907533">tc</span><span class="op" id="6907535">.</span><span class="ident" id="6907536">pattern</span><span class="op" id="6907543">,</span>&nbsp;<span class="ident" id="6907545">err</span><span class="op" id="6907548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907553">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907568">actual</span>&nbsp;<span class="op" id="6907575">:=</span>&nbsp;<span class="ident" id="6907578">re</span><span class="op" id="6907580">.</span><span class="ident" id="6907581">ReplaceAllLiteralString</span><span class="op" id="6907604">(</span><span class="ident" id="6907605">tc</span><span class="op" id="6907607">.</span><span class="ident" id="6907608">input</span><span class="op" id="6907613">,</span>&nbsp;<span class="ident" id="6907615">tc</span><span class="op" id="6907617">.</span><span class="ident" id="6907618">replacement</span><span class="op" id="6907629">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907633">if</span>&nbsp;<span class="ident" id="6907636">actual</span>&nbsp;<span class="op" id="6907643">!=</span>&nbsp;<span class="ident" id="6907646">tc</span><span class="op" id="6907648">.</span><span class="ident" id="6907649">output</span>&nbsp;<span class="op" id="6907656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907661">t</span><span class="op" id="6907662">.</span><span class="ident" id="6907663">Errorf</span><span class="op" id="6907669">(</span><span class="string" id="6907670">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6907719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907725">tc</span><span class="op" id="6907727">.</span><span class="ident" id="6907728">pattern</span><span class="op" id="6907735">,</span>&nbsp;<span class="ident" id="6907737">tc</span><span class="op" id="6907739">.</span><span class="ident" id="6907740">input</span><span class="op" id="6907745">,</span>&nbsp;<span class="ident" id="6907747">tc</span><span class="op" id="6907749">.</span><span class="ident" id="6907750">replacement</span><span class="op" id="6907761">,</span>&nbsp;<span class="ident" id="6907763">actual</span><span class="op" id="6907769">,</span>&nbsp;<span class="ident" id="6907771">tc</span><span class="op" id="6907773">.</span><span class="ident" id="6907774">output</span><span class="op" id="6907780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6907784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6907788">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907807">actual</span>&nbsp;<span class="op" id="6907814">=</span>&nbsp;<span class="builtintype" id="6907816">string</span><span class="op" id="6907822">(</span><span class="ident" id="6907823">re</span><span class="op" id="6907825">.</span><span class="ident" id="6907826">ReplaceAllLiteral</span><span class="op" id="6907843">(</span><span class="op" id="6907844">[</span><span class="op" id="6907845">]</span><span class="builtintype" id="6907846">byte</span><span class="op" id="6907850">(</span><span class="ident" id="6907851">tc</span><span class="op" id="6907853">.</span><span class="ident" id="6907854">input</span><span class="op" id="6907859">)</span><span class="op" id="6907860">,</span>&nbsp;<span class="op" id="6907862">[</span><span class="op" id="6907863">]</span><span class="builtintype" id="6907864">byte</span><span class="op" id="6907868">(</span><span class="ident" id="6907869">tc</span><span class="op" id="6907871">.</span><span class="ident" id="6907872">replacement</span><span class="op" id="6907883">)</span><span class="op" id="6907884">)</span><span class="op" id="6907885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6907889">if</span>&nbsp;<span class="ident" id="6907892">actual</span>&nbsp;<span class="op" id="6907899">!=</span>&nbsp;<span class="ident" id="6907902">tc</span><span class="op" id="6907904">.</span><span class="ident" id="6907905">output</span>&nbsp;<span class="op" id="6907912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907917">t</span><span class="op" id="6907918">.</span><span class="ident" id="6907919">Errorf</span><span class="op" id="6907925">(</span><span class="string" id="6907926">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6907969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6907975">tc</span><span class="op" id="6907977">.</span><span class="ident" id="6907978">pattern</span><span class="op" id="6907985">,</span>&nbsp;<span class="ident" id="6907987">tc</span><span class="op" id="6907989">.</span><span class="ident" id="6907990">input</span><span class="op" id="6907995">,</span>&nbsp;<span class="ident" id="6907997">tc</span><span class="op" id="6907999">.</span><span class="ident" id="6908000">replacement</span><span class="op" id="6908011">,</span>&nbsp;<span class="ident" id="6908013">actual</span><span class="op" id="6908019">,</span>&nbsp;<span class="ident" id="6908021">tc</span><span class="op" id="6908023">.</span><span class="ident" id="6908024">output</span><span class="op" id="6908030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908034">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6908041">//&nbsp;Run&nbsp;literal-specific&nbsp;tests.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908073">for</span>&nbsp;<span class="ident" id="6908077">_</span><span class="op" id="6908078">,</span>&nbsp;<span class="ident" id="6908080">tc</span>&nbsp;<span class="op" id="6908083">:=</span>&nbsp;<span class="keyword" id="6908086">range</span>&nbsp;<span class="ident" id="6908092">replaceLiteralTests</span>&nbsp;<span class="op" id="6908112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908116">re</span><span class="op" id="6908118">,</span>&nbsp;<span class="ident" id="6908120">err</span>&nbsp;<span class="op" id="6908124">:=</span>&nbsp;<span class="ident" id="6908127">Compile</span><span class="op" id="6908134">(</span><span class="ident" id="6908135">tc</span><span class="op" id="6908137">.</span><span class="ident" id="6908138">pattern</span><span class="op" id="6908145">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908149">if</span>&nbsp;<span class="ident" id="6908152">err</span>&nbsp;<span class="op" id="6908156">!=</span>&nbsp;<span class="ident" id="6908159">nil</span>&nbsp;<span class="op" id="6908163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908168">t</span><span class="op" id="6908169">.</span><span class="ident" id="6908170">Errorf</span><span class="op" id="6908176">(</span><span class="string" id="6908177">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6908212">,</span>&nbsp;<span class="ident" id="6908214">tc</span><span class="op" id="6908216">.</span><span class="ident" id="6908217">pattern</span><span class="op" id="6908224">,</span>&nbsp;<span class="ident" id="6908226">err</span><span class="op" id="6908229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908234">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908249">actual</span>&nbsp;<span class="op" id="6908256">:=</span>&nbsp;<span class="ident" id="6908259">re</span><span class="op" id="6908261">.</span><span class="ident" id="6908262">ReplaceAllLiteralString</span><span class="op" id="6908285">(</span><span class="ident" id="6908286">tc</span><span class="op" id="6908288">.</span><span class="ident" id="6908289">input</span><span class="op" id="6908294">,</span>&nbsp;<span class="ident" id="6908296">tc</span><span class="op" id="6908298">.</span><span class="ident" id="6908299">replacement</span><span class="op" id="6908310">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908314">if</span>&nbsp;<span class="ident" id="6908317">actual</span>&nbsp;<span class="op" id="6908324">!=</span>&nbsp;<span class="ident" id="6908327">tc</span><span class="op" id="6908329">.</span><span class="ident" id="6908330">output</span>&nbsp;<span class="op" id="6908337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908342">t</span><span class="op" id="6908343">.</span><span class="ident" id="6908344">Errorf</span><span class="op" id="6908350">(</span><span class="string" id="6908351">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6908400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908406">tc</span><span class="op" id="6908408">.</span><span class="ident" id="6908409">pattern</span><span class="op" id="6908416">,</span>&nbsp;<span class="ident" id="6908418">tc</span><span class="op" id="6908420">.</span><span class="ident" id="6908421">input</span><span class="op" id="6908426">,</span>&nbsp;<span class="ident" id="6908428">tc</span><span class="op" id="6908430">.</span><span class="ident" id="6908431">replacement</span><span class="op" id="6908442">,</span>&nbsp;<span class="ident" id="6908444">actual</span><span class="op" id="6908450">,</span>&nbsp;<span class="ident" id="6908452">tc</span><span class="op" id="6908454">.</span><span class="ident" id="6908455">output</span><span class="op" id="6908461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6908469">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908488">actual</span>&nbsp;<span class="op" id="6908495">=</span>&nbsp;<span class="builtintype" id="6908497">string</span><span class="op" id="6908503">(</span><span class="ident" id="6908504">re</span><span class="op" id="6908506">.</span><span class="ident" id="6908507">ReplaceAllLiteral</span><span class="op" id="6908524">(</span><span class="op" id="6908525">[</span><span class="op" id="6908526">]</span><span class="builtintype" id="6908527">byte</span><span class="op" id="6908531">(</span><span class="ident" id="6908532">tc</span><span class="op" id="6908534">.</span><span class="ident" id="6908535">input</span><span class="op" id="6908540">)</span><span class="op" id="6908541">,</span>&nbsp;<span class="op" id="6908543">[</span><span class="op" id="6908544">]</span><span class="builtintype" id="6908545">byte</span><span class="op" id="6908549">(</span><span class="ident" id="6908550">tc</span><span class="op" id="6908552">.</span><span class="ident" id="6908553">replacement</span><span class="op" id="6908564">)</span><span class="op" id="6908565">)</span><span class="op" id="6908566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908570">if</span>&nbsp;<span class="ident" id="6908573">actual</span>&nbsp;<span class="op" id="6908580">!=</span>&nbsp;<span class="ident" id="6908583">tc</span><span class="op" id="6908585">.</span><span class="ident" id="6908586">output</span>&nbsp;<span class="op" id="6908593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908598">t</span><span class="op" id="6908599">.</span><span class="ident" id="6908600">Errorf</span><span class="op" id="6908606">(</span><span class="string" id="6908607">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6908650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908656">tc</span><span class="op" id="6908658">.</span><span class="ident" id="6908659">pattern</span><span class="op" id="6908666">,</span>&nbsp;<span class="ident" id="6908668">tc</span><span class="op" id="6908670">.</span><span class="ident" id="6908671">input</span><span class="op" id="6908676">,</span>&nbsp;<span class="ident" id="6908678">tc</span><span class="op" id="6908680">.</span><span class="ident" id="6908681">replacement</span><span class="op" id="6908692">,</span>&nbsp;<span class="ident" id="6908694">actual</span><span class="op" id="6908700">,</span>&nbsp;<span class="ident" id="6908702">tc</span><span class="op" id="6908704">.</span><span class="ident" id="6908705">output</span><span class="op" id="6908711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908715">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908718">}</span><br>
<span class="lineno"></span><span class="op" id="6908720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6908723">func</span>&nbsp;<span class="ident" id="6908728">TestReplaceAllFunc</span><span class="op" id="6908746">(</span><span class="ident" id="6908747">t</span>&nbsp;<span class="op" id="6908749">*</span><span class="ident" id="6908750">testing</span><span class="op" id="6908757">.</span><span class="ident" id="6908758">T</span><span class="op" id="6908759">)</span>&nbsp;<span class="op" id="6908761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908764">for</span>&nbsp;<span class="ident" id="6908768">_</span><span class="op" id="6908769">,</span>&nbsp;<span class="ident" id="6908771">tc</span>&nbsp;<span class="op" id="6908774">:=</span>&nbsp;<span class="keyword" id="6908777">range</span>&nbsp;<span class="ident" id="6908783">replaceFuncTests</span>&nbsp;<span class="op" id="6908800">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908804">re</span><span class="op" id="6908806">,</span>&nbsp;<span class="ident" id="6908808">err</span>&nbsp;<span class="op" id="6908812">:=</span>&nbsp;<span class="ident" id="6908815">Compile</span><span class="op" id="6908822">(</span><span class="ident" id="6908823">tc</span><span class="op" id="6908825">.</span><span class="ident" id="6908826">pattern</span><span class="op" id="6908833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908837">if</span>&nbsp;<span class="ident" id="6908840">err</span>&nbsp;<span class="op" id="6908844">!=</span>&nbsp;<span class="ident" id="6908847">nil</span>&nbsp;<span class="op" id="6908851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908856">t</span><span class="op" id="6908857">.</span><span class="ident" id="6908858">Errorf</span><span class="op" id="6908864">(</span><span class="string" id="6908865">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6908900">,</span>&nbsp;<span class="ident" id="6908902">tc</span><span class="op" id="6908904">.</span><span class="ident" id="6908905">pattern</span><span class="op" id="6908912">,</span>&nbsp;<span class="ident" id="6908914">err</span><span class="op" id="6908917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908922">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6908933">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6908937">actual</span>&nbsp;<span class="op" id="6908944">:=</span>&nbsp;<span class="ident" id="6908947">re</span><span class="op" id="6908949">.</span><span class="ident" id="6908950">ReplaceAllStringFunc</span><span class="op" id="6908970">(</span><span class="ident" id="6908971">tc</span><span class="op" id="6908973">.</span><span class="ident" id="6908974">input</span><span class="op" id="6908979">,</span>&nbsp;<span class="ident" id="6908981">tc</span><span class="op" id="6908983">.</span><span class="ident" id="6908984">replacement</span><span class="op" id="6908995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6908999">if</span>&nbsp;<span class="ident" id="6909002">actual</span>&nbsp;<span class="op" id="6909009">!=</span>&nbsp;<span class="ident" id="6909012">tc</span><span class="op" id="6909014">.</span><span class="ident" id="6909015">output</span>&nbsp;<span class="op" id="6909022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909027">t</span><span class="op" id="6909028">.</span><span class="ident" id="6909029">Errorf</span><span class="op" id="6909035">(</span><span class="string" id="6909036">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6909073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909079">tc</span><span class="op" id="6909081">.</span><span class="ident" id="6909082">pattern</span><span class="op" id="6909089">,</span>&nbsp;<span class="ident" id="6909091">tc</span><span class="op" id="6909093">.</span><span class="ident" id="6909094">input</span><span class="op" id="6909099">,</span>&nbsp;<span class="ident" id="6909101">actual</span><span class="op" id="6909107">,</span>&nbsp;<span class="ident" id="6909109">tc</span><span class="op" id="6909111">.</span><span class="ident" id="6909112">output</span><span class="op" id="6909118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909122">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6909126">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909145">actual</span>&nbsp;<span class="op" id="6909152">=</span>&nbsp;<span class="builtintype" id="6909154">string</span><span class="op" id="6909160">(</span><span class="ident" id="6909161">re</span><span class="op" id="6909163">.</span><span class="ident" id="6909164">ReplaceAllFunc</span><span class="op" id="6909178">(</span><span class="op" id="6909179">[</span><span class="op" id="6909180">]</span><span class="builtintype" id="6909181">byte</span><span class="op" id="6909185">(</span><span class="ident" id="6909186">tc</span><span class="op" id="6909188">.</span><span class="ident" id="6909189">input</span><span class="op" id="6909194">)</span><span class="op" id="6909195">,</span>&nbsp;<span class="keyword" id="6909197">func</span><span class="op" id="6909201">(</span><span class="ident" id="6909202">s</span>&nbsp;<span class="op" id="6909204">[</span><span class="op" id="6909205">]</span><span class="builtintype" id="6909206">byte</span><span class="op" id="6909210">)</span>&nbsp;<span class="op" id="6909212">[</span><span class="op" id="6909213">]</span><span class="builtintype" id="6909214">byte</span>&nbsp;<span class="op" id="6909219">{</span>&nbsp;<span class="keyword" id="6909221">return</span>&nbsp;<span class="op" id="6909228">[</span><span class="op" id="6909229">]</span><span class="builtintype" id="6909230">byte</span><span class="op" id="6909234">(</span><span class="ident" id="6909235">tc</span><span class="op" id="6909237">.</span><span class="ident" id="6909238">replacement</span><span class="op" id="6909249">(</span><span class="builtintype" id="6909250">string</span><span class="op" id="6909256">(</span><span class="ident" id="6909257">s</span><span class="op" id="6909258">)</span><span class="op" id="6909259">)</span><span class="op" id="6909260">)</span>&nbsp;<span class="op" id="6909262">}</span><span class="op" id="6909263">)</span><span class="op" id="6909264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6909268">if</span>&nbsp;<span class="ident" id="6909271">actual</span>&nbsp;<span class="op" id="6909278">!=</span>&nbsp;<span class="ident" id="6909281">tc</span><span class="op" id="6909283">.</span><span class="ident" id="6909284">output</span>&nbsp;<span class="op" id="6909291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909296">t</span><span class="op" id="6909297">.</span><span class="ident" id="6909298">Errorf</span><span class="op" id="6909304">(</span><span class="string" id="6909305">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6909342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909348">tc</span><span class="op" id="6909350">.</span><span class="ident" id="6909351">pattern</span><span class="op" id="6909358">,</span>&nbsp;<span class="ident" id="6909360">tc</span><span class="op" id="6909362">.</span><span class="ident" id="6909363">input</span><span class="op" id="6909368">,</span>&nbsp;<span class="ident" id="6909370">actual</span><span class="op" id="6909376">,</span>&nbsp;<span class="ident" id="6909378">tc</span><span class="op" id="6909380">.</span><span class="ident" id="6909381">output</span><span class="op" id="6909387">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909394">}</span><br>
<span class="lineno"></span><span class="op" id="6909396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6909399">type</span>&nbsp;<span class="ident" id="6909404">MetaTest</span>&nbsp;<span class="keyword" id="6909413">struct</span>&nbsp;<span class="op" id="6909420">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909423">pattern</span><span class="op" id="6909430">,</span>&nbsp;<span class="ident" id="6909432">output</span><span class="op" id="6909438">,</span>&nbsp;<span class="ident" id="6909440">literal</span>&nbsp;<span class="builtintype" id="6909448">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909456">isLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6909481">bool</span><br>
<span class="lineno"></span><span class="op" id="6909486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6909489">var</span>&nbsp;<span class="ident" id="6909493">metaTests</span>&nbsp;<span class="op" id="6909503">=</span>&nbsp;<span class="op" id="6909505">[</span><span class="op" id="6909506">]</span><span class="ident" id="6909507">MetaTest</span><span class="op" id="6909515">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909518">{</span><span class="string" id="6909519">``</span><span class="op" id="6909521">,</span>&nbsp;<span class="string" id="6909523">``</span><span class="op" id="6909525">,</span>&nbsp;<span class="string" id="6909527">``</span><span class="op" id="6909529">,</span>&nbsp;<span class="builtintype" id="6909531">true</span><span class="op" id="6909535">}</span><span class="op" id="6909536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909539">{</span><span class="string" id="6909540">`foo`</span><span class="op" id="6909545">,</span>&nbsp;<span class="string" id="6909547">`foo`</span><span class="op" id="6909552">,</span>&nbsp;<span class="string" id="6909554">`foo`</span><span class="op" id="6909559">,</span>&nbsp;<span class="builtintype" id="6909561">true</span><span class="op" id="6909565">}</span><span class="op" id="6909566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909569">{</span><span class="string" id="6909570">`foo\.\$`</span><span class="op" id="6909579">,</span>&nbsp;<span class="string" id="6909581">`foo\\\.\\\$`</span><span class="op" id="6909594">,</span>&nbsp;<span class="string" id="6909596">`foo.$`</span><span class="op" id="6909603">,</span>&nbsp;<span class="builtintype" id="6909605">true</span><span class="op" id="6909609">}</span><span class="op" id="6909610">,</span>&nbsp;<span class="comment" id="6909612">//&nbsp;has&nbsp;meta&nbsp;but&nbsp;no&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909641">{</span><span class="string" id="6909642">`foo.\$`</span><span class="op" id="6909650">,</span>&nbsp;<span class="string" id="6909652">`foo\.\\\$`</span><span class="op" id="6909663">,</span>&nbsp;<span class="string" id="6909665">`foo`</span><span class="op" id="6909670">,</span>&nbsp;<span class="builtintype" id="6909672">false</span><span class="op" id="6909677">}</span><span class="op" id="6909678">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6909684">//&nbsp;has&nbsp;escaped&nbsp;operators&nbsp;and&nbsp;real&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6909729">{</span><span class="string" id="6909730">`!@#$%^&amp;*()_+-=[{]}\|,&lt;.&gt;/?~`</span><span class="op" id="6909759">,</span>&nbsp;<span class="string" id="6909761">`!@#\$%\^&amp;\*\(\)_\+-=\[\{\]\}\\\|,&lt;\.&gt;/\?~`</span><span class="op" id="6909804">,</span>&nbsp;<span class="string" id="6909806">`!@#`</span><span class="op" id="6909811">,</span>&nbsp;<span class="builtintype" id="6909813">false</span><span class="op" id="6909818">}</span><span class="op" id="6909819">,</span><br>
<span class="lineno">335</span><span class="op" id="6909821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6909824">func</span>&nbsp;<span class="ident" id="6909829">TestQuoteMeta</span><span class="op" id="6909842">(</span><span class="ident" id="6909843">t</span>&nbsp;<span class="op" id="6909845">*</span><span class="ident" id="6909846">testing</span><span class="op" id="6909853">.</span><span class="ident" id="6909854">T</span><span class="op" id="6909855">)</span>&nbsp;<span class="op" id="6909857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6909860">for</span>&nbsp;<span class="ident" id="6909864">_</span><span class="op" id="6909865">,</span>&nbsp;<span class="ident" id="6909867">tc</span>&nbsp;<span class="op" id="6909870">:=</span>&nbsp;<span class="keyword" id="6909873">range</span>&nbsp;<span class="ident" id="6909879">metaTests</span>&nbsp;<span class="op" id="6909889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6909893">//&nbsp;Verify&nbsp;that&nbsp;QuoteMeta&nbsp;returns&nbsp;the&nbsp;expected&nbsp;string.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6909949">quoted</span>&nbsp;<span class="op" id="6909956">:=</span>&nbsp;<span class="ident" id="6909959">QuoteMeta</span><span class="op" id="6909968">(</span><span class="ident" id="6909969">tc</span><span class="op" id="6909971">.</span><span class="ident" id="6909972">pattern</span><span class="op" id="6909979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6909983">if</span>&nbsp;<span class="ident" id="6909986">quoted</span>&nbsp;<span class="op" id="6909993">!=</span>&nbsp;<span class="ident" id="6909996">tc</span><span class="op" id="6909998">.</span><span class="ident" id="6909999">output</span>&nbsp;<span class="op" id="6910006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910011">t</span><span class="op" id="6910012">.</span><span class="ident" id="6910013">Errorf</span><span class="op" id="6910019">(</span><span class="string" id="6910020">&#34;QuoteMeta(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="6910055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910061">tc</span><span class="op" id="6910063">.</span><span class="ident" id="6910064">pattern</span><span class="op" id="6910071">,</span>&nbsp;<span class="ident" id="6910073">quoted</span><span class="op" id="6910079">,</span>&nbsp;<span class="ident" id="6910081">tc</span><span class="op" id="6910083">.</span><span class="ident" id="6910084">output</span><span class="op" id="6910090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910095">continue</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6910111">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;quoted&nbsp;string&nbsp;is&nbsp;in&nbsp;fact&nbsp;treated&nbsp;as&nbsp;expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6910177">//&nbsp;by&nbsp;Compile&nbsp;--&nbsp;i.e.&nbsp;that&nbsp;it&nbsp;matches&nbsp;the&nbsp;original,&nbsp;unquoted&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910248">if</span>&nbsp;<span class="ident" id="6910251">tc</span><span class="op" id="6910253">.</span><span class="ident" id="6910254">pattern</span>&nbsp;<span class="op" id="6910262">!=</span>&nbsp;<span class="string" id="6910265">&#34;&#34;</span>&nbsp;<span class="op" id="6910268">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910273">re</span><span class="op" id="6910275">,</span>&nbsp;<span class="ident" id="6910277">err</span>&nbsp;<span class="op" id="6910281">:=</span>&nbsp;<span class="ident" id="6910284">Compile</span><span class="op" id="6910291">(</span><span class="ident" id="6910292">quoted</span><span class="op" id="6910298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910303">if</span>&nbsp;<span class="ident" id="6910306">err</span>&nbsp;<span class="op" id="6910310">!=</span>&nbsp;<span class="ident" id="6910313">nil</span>&nbsp;<span class="op" id="6910317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910323">t</span><span class="op" id="6910324">.</span><span class="ident" id="6910325">Errorf</span><span class="op" id="6910331">(</span><span class="string" id="6910332">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;QuoteMeta(`%s`):&nbsp;%v&#34;</span><span class="op" id="6910380">,</span>&nbsp;<span class="ident" id="6910382">tc</span><span class="op" id="6910384">.</span><span class="ident" id="6910385">pattern</span><span class="op" id="6910392">,</span>&nbsp;<span class="ident" id="6910394">err</span><span class="op" id="6910397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910403">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910415">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910420">src</span>&nbsp;<span class="op" id="6910424">:=</span>&nbsp;<span class="string" id="6910427">&#34;abc&#34;</span>&nbsp;<span class="op" id="6910433">+</span>&nbsp;<span class="ident" id="6910435">tc</span><span class="op" id="6910437">.</span><span class="ident" id="6910438">pattern</span>&nbsp;<span class="op" id="6910446">+</span>&nbsp;<span class="string" id="6910448">&#34;def&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910457">repl</span>&nbsp;<span class="op" id="6910462">:=</span>&nbsp;<span class="string" id="6910465">&#34;xyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910474">replaced</span>&nbsp;<span class="op" id="6910483">:=</span>&nbsp;<span class="ident" id="6910486">re</span><span class="op" id="6910488">.</span><span class="ident" id="6910489">ReplaceAllString</span><span class="op" id="6910505">(</span><span class="ident" id="6910506">src</span><span class="op" id="6910509">,</span>&nbsp;<span class="ident" id="6910511">repl</span><span class="op" id="6910515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910520">expected</span>&nbsp;<span class="op" id="6910529">:=</span>&nbsp;<span class="string" id="6910532">&#34;abcxyzdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910547">if</span>&nbsp;<span class="ident" id="6910550">replaced</span>&nbsp;<span class="op" id="6910559">!=</span>&nbsp;<span class="ident" id="6910562">expected</span>&nbsp;<span class="op" id="6910571">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910577">t</span><span class="op" id="6910578">.</span><span class="ident" id="6910579">Errorf</span><span class="op" id="6910585">(</span><span class="string" id="6910586">&#34;QuoteMeta(`%s`).Replace(`%s`,`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="6910640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910647">tc</span><span class="op" id="6910649">.</span><span class="ident" id="6910650">pattern</span><span class="op" id="6910657">,</span>&nbsp;<span class="ident" id="6910659">src</span><span class="op" id="6910662">,</span>&nbsp;<span class="ident" id="6910664">repl</span><span class="op" id="6910668">,</span>&nbsp;<span class="ident" id="6910670">replaced</span><span class="op" id="6910678">,</span>&nbsp;<span class="ident" id="6910680">expected</span><span class="op" id="6910688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6910700">}</span><br>
<span class="lineno">365</span><span class="op" id="6910702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6910705">func</span>&nbsp;<span class="ident" id="6910710">TestLiteralPrefix</span><span class="op" id="6910727">(</span><span class="ident" id="6910728">t</span>&nbsp;<span class="op" id="6910730">*</span><span class="ident" id="6910731">testing</span><span class="op" id="6910738">.</span><span class="ident" id="6910739">T</span><span class="op" id="6910740">)</span>&nbsp;<span class="op" id="6910742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910745">for</span>&nbsp;<span class="ident" id="6910749">_</span><span class="op" id="6910750">,</span>&nbsp;<span class="ident" id="6910752">tc</span>&nbsp;<span class="op" id="6910755">:=</span>&nbsp;<span class="keyword" id="6910758">range</span>&nbsp;<span class="ident" id="6910764">metaTests</span>&nbsp;<span class="op" id="6910774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6910778">//&nbsp;Literal&nbsp;method&nbsp;needs&nbsp;to&nbsp;scan&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910825">re</span>&nbsp;<span class="op" id="6910828">:=</span>&nbsp;<span class="ident" id="6910831">MustCompile</span><span class="op" id="6910842">(</span><span class="ident" id="6910843">tc</span><span class="op" id="6910845">.</span><span class="ident" id="6910846">pattern</span><span class="op" id="6910853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910857">str</span><span class="op" id="6910860">,</span>&nbsp;<span class="ident" id="6910862">complete</span>&nbsp;<span class="op" id="6910871">:=</span>&nbsp;<span class="ident" id="6910874">re</span><span class="op" id="6910876">.</span><span class="ident" id="6910877">LiteralPrefix</span><span class="op" id="6910890">(</span><span class="op" id="6910891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6910895">if</span>&nbsp;<span class="ident" id="6910898">complete</span>&nbsp;<span class="op" id="6910907">!=</span>&nbsp;<span class="ident" id="6910910">tc</span><span class="op" id="6910912">.</span><span class="ident" id="6910913">isLiteral</span>&nbsp;<span class="op" id="6910923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6910928">t</span><span class="op" id="6910929">.</span><span class="ident" id="6910930">Errorf</span><span class="op" id="6910936">(</span><span class="string" id="6910937">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="6910972">,</span>&nbsp;<span class="ident" id="6910974">tc</span><span class="op" id="6910976">.</span><span class="ident" id="6910977">pattern</span><span class="op" id="6910984">,</span>&nbsp;<span class="ident" id="6910986">complete</span><span class="op" id="6910994">,</span>&nbsp;<span class="ident" id="6910996">tc</span><span class="op" id="6910998">.</span><span class="ident" id="6910999">isLiteral</span><span class="op" id="6911008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911012">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6911016">if</span>&nbsp;<span class="ident" id="6911019">str</span>&nbsp;<span class="op" id="6911023">!=</span>&nbsp;<span class="ident" id="6911026">tc</span><span class="op" id="6911028">.</span><span class="ident" id="6911029">literal</span>&nbsp;<span class="op" id="6911037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6911042">t</span><span class="op" id="6911043">.</span><span class="ident" id="6911044">Errorf</span><span class="op" id="6911050">(</span><span class="string" id="6911051">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="6911090">,</span>&nbsp;<span class="ident" id="6911092">tc</span><span class="op" id="6911094">.</span><span class="ident" id="6911095">pattern</span><span class="op" id="6911102">,</span>&nbsp;<span class="ident" id="6911104">str</span><span class="op" id="6911107">,</span>&nbsp;<span class="ident" id="6911109">tc</span><span class="op" id="6911111">.</span><span class="ident" id="6911112">literal</span><span class="op" id="6911119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911126">}</span><br>
<span class="lineno"></span><span class="op" id="6911128">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="6911131">type</span>&nbsp;<span class="ident" id="6911136">subexpCase</span>&nbsp;<span class="keyword" id="6911147">struct</span>&nbsp;<span class="op" id="6911154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6911157">input</span>&nbsp;<span class="builtintype" id="6911163">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6911171">num</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6911177">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6911182">names</span>&nbsp;<span class="op" id="6911188">[</span><span class="op" id="6911189">]</span><span class="builtintype" id="6911190">string</span><br>
<span class="lineno">385</span><span class="op" id="6911197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6911200">var</span>&nbsp;<span class="ident" id="6911204">subexpCases</span>&nbsp;<span class="op" id="6911216">=</span>&nbsp;<span class="op" id="6911218">[</span><span class="op" id="6911219">]</span><span class="ident" id="6911220">subexpCase</span><span class="op" id="6911230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911233">{</span><span class="string" id="6911234">``</span><span class="op" id="6911236">,</span>&nbsp;<span class="num" id="6911238">0</span><span class="op" id="6911239">,</span>&nbsp;<span class="ident" id="6911241">nil</span><span class="op" id="6911244">}</span><span class="op" id="6911245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911248">{</span><span class="string" id="6911249">`.*`</span><span class="op" id="6911253">,</span>&nbsp;<span class="num" id="6911255">0</span><span class="op" id="6911256">,</span>&nbsp;<span class="ident" id="6911258">nil</span><span class="op" id="6911261">}</span><span class="op" id="6911262">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911265">{</span><span class="string" id="6911266">`abba`</span><span class="op" id="6911272">,</span>&nbsp;<span class="num" id="6911274">0</span><span class="op" id="6911275">,</span>&nbsp;<span class="ident" id="6911277">nil</span><span class="op" id="6911280">}</span><span class="op" id="6911281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911284">{</span><span class="string" id="6911285">`ab(b)a`</span><span class="op" id="6911293">,</span>&nbsp;<span class="num" id="6911295">1</span><span class="op" id="6911296">,</span>&nbsp;<span class="op" id="6911298">[</span><span class="op" id="6911299">]</span><span class="builtintype" id="6911300">string</span><span class="op" id="6911306">{</span><span class="string" id="6911307">&#34;&#34;</span><span class="op" id="6911309">,</span>&nbsp;<span class="string" id="6911311">&#34;&#34;</span><span class="op" id="6911313">}</span><span class="op" id="6911314">}</span><span class="op" id="6911315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911318">{</span><span class="string" id="6911319">`ab(.*)a`</span><span class="op" id="6911328">,</span>&nbsp;<span class="num" id="6911330">1</span><span class="op" id="6911331">,</span>&nbsp;<span class="op" id="6911333">[</span><span class="op" id="6911334">]</span><span class="builtintype" id="6911335">string</span><span class="op" id="6911341">{</span><span class="string" id="6911342">&#34;&#34;</span><span class="op" id="6911344">,</span>&nbsp;<span class="string" id="6911346">&#34;&#34;</span><span class="op" id="6911348">}</span><span class="op" id="6911349">}</span><span class="op" id="6911350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911353">{</span><span class="string" id="6911354">`(.*)ab(.*)a`</span><span class="op" id="6911367">,</span>&nbsp;<span class="num" id="6911369">2</span><span class="op" id="6911370">,</span>&nbsp;<span class="op" id="6911372">[</span><span class="op" id="6911373">]</span><span class="builtintype" id="6911374">string</span><span class="op" id="6911380">{</span><span class="string" id="6911381">&#34;&#34;</span><span class="op" id="6911383">,</span>&nbsp;<span class="string" id="6911385">&#34;&#34;</span><span class="op" id="6911387">,</span>&nbsp;<span class="string" id="6911389">&#34;&#34;</span><span class="op" id="6911391">}</span><span class="op" id="6911392">}</span><span class="op" id="6911393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911396">{</span><span class="string" id="6911397">`(.*)(ab)(.*)a`</span><span class="op" id="6911412">,</span>&nbsp;<span class="num" id="6911414">3</span><span class="op" id="6911415">,</span>&nbsp;<span class="op" id="6911417">[</span><span class="op" id="6911418">]</span><span class="builtintype" id="6911419">string</span><span class="op" id="6911425">{</span><span class="string" id="6911426">&#34;&#34;</span><span class="op" id="6911428">,</span>&nbsp;<span class="string" id="6911430">&#34;&#34;</span><span class="op" id="6911432">,</span>&nbsp;<span class="string" id="6911434">&#34;&#34;</span><span class="op" id="6911436">,</span>&nbsp;<span class="string" id="6911438">&#34;&#34;</span><span class="op" id="6911440">}</span><span class="op" id="6911441">}</span><span class="op" id="6911442">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911445">{</span><span class="string" id="6911446">`(.*)((a)b)(.*)a`</span><span class="op" id="6911463">,</span>&nbsp;<span class="num" id="6911465">4</span><span class="op" id="6911466">,</span>&nbsp;<span class="op" id="6911468">[</span><span class="op" id="6911469">]</span><span class="builtintype" id="6911470">string</span><span class="op" id="6911476">{</span><span class="string" id="6911477">&#34;&#34;</span><span class="op" id="6911479">,</span>&nbsp;<span class="string" id="6911481">&#34;&#34;</span><span class="op" id="6911483">,</span>&nbsp;<span class="string" id="6911485">&#34;&#34;</span><span class="op" id="6911487">,</span>&nbsp;<span class="string" id="6911489">&#34;&#34;</span><span class="op" id="6911491">,</span>&nbsp;<span class="string" id="6911493">&#34;&#34;</span><span class="op" id="6911495">}</span><span class="op" id="6911496">}</span><span class="op" id="6911497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911500">{</span><span class="string" id="6911501">`(.*)(\(ab)(.*)a`</span><span class="op" id="6911518">,</span>&nbsp;<span class="num" id="6911520">3</span><span class="op" id="6911521">,</span>&nbsp;<span class="op" id="6911523">[</span><span class="op" id="6911524">]</span><span class="builtintype" id="6911525">string</span><span class="op" id="6911531">{</span><span class="string" id="6911532">&#34;&#34;</span><span class="op" id="6911534">,</span>&nbsp;<span class="string" id="6911536">&#34;&#34;</span><span class="op" id="6911538">,</span>&nbsp;<span class="string" id="6911540">&#34;&#34;</span><span class="op" id="6911542">,</span>&nbsp;<span class="string" id="6911544">&#34;&#34;</span><span class="op" id="6911546">}</span><span class="op" id="6911547">}</span><span class="op" id="6911548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911551">{</span><span class="string" id="6911552">`(.*)(\(a\)b)(.*)a`</span><span class="op" id="6911571">,</span>&nbsp;<span class="num" id="6911573">3</span><span class="op" id="6911574">,</span>&nbsp;<span class="op" id="6911576">[</span><span class="op" id="6911577">]</span><span class="builtintype" id="6911578">string</span><span class="op" id="6911584">{</span><span class="string" id="6911585">&#34;&#34;</span><span class="op" id="6911587">,</span>&nbsp;<span class="string" id="6911589">&#34;&#34;</span><span class="op" id="6911591">,</span>&nbsp;<span class="string" id="6911593">&#34;&#34;</span><span class="op" id="6911595">,</span>&nbsp;<span class="string" id="6911597">&#34;&#34;</span><span class="op" id="6911599">}</span><span class="op" id="6911600">}</span><span class="op" id="6911601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911604">{</span><span class="string" id="6911605">`(?P&lt;foo&gt;.*)(?P&lt;bar&gt;(a)b)(?P&lt;foo&gt;.*)a`</span><span class="op" id="6911643">,</span>&nbsp;<span class="num" id="6911645">4</span><span class="op" id="6911646">,</span>&nbsp;<span class="op" id="6911648">[</span><span class="op" id="6911649">]</span><span class="builtintype" id="6911650">string</span><span class="op" id="6911656">{</span><span class="string" id="6911657">&#34;&#34;</span><span class="op" id="6911659">,</span>&nbsp;<span class="string" id="6911661">&#34;foo&#34;</span><span class="op" id="6911666">,</span>&nbsp;<span class="string" id="6911668">&#34;bar&#34;</span><span class="op" id="6911673">,</span>&nbsp;<span class="string" id="6911675">&#34;&#34;</span><span class="op" id="6911677">,</span>&nbsp;<span class="string" id="6911679">&#34;foo&#34;</span><span class="op" id="6911684">}</span><span class="op" id="6911685">}</span><span class="op" id="6911686">,</span><br>
<span class="lineno"></span><span class="op" id="6911688">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="6911691">func</span>&nbsp;<span class="ident" id="6911696">TestSubexp</span><span class="op" id="6911706">(</span><span class="ident" id="6911707">t</span>&nbsp;<span class="op" id="6911709">*</span><span class="ident" id="6911710">testing</span><span class="op" id="6911717">.</span><span class="ident" id="6911718">T</span><span class="op" id="6911719">)</span>&nbsp;<span class="op" id="6911721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6911724">for</span>&nbsp;<span class="ident" id="6911728">_</span><span class="op" id="6911729">,</span>&nbsp;<span class="ident" id="6911731">c</span>&nbsp;<span class="op" id="6911733">:=</span>&nbsp;<span class="keyword" id="6911736">range</span>&nbsp;<span class="ident" id="6911742">subexpCases</span>&nbsp;<span class="op" id="6911754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6911758">re</span>&nbsp;<span class="op" id="6911761">:=</span>&nbsp;<span class="ident" id="6911764">MustCompile</span><span class="op" id="6911775">(</span><span class="ident" id="6911776">c</span><span class="op" id="6911777">.</span><span class="ident" id="6911778">input</span><span class="op" id="6911783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6911787">n</span>&nbsp;<span class="op" id="6911789">:=</span>&nbsp;<span class="ident" id="6911792">re</span><span class="op" id="6911794">.</span><span class="ident" id="6911795">NumSubexp</span><span class="op" id="6911804">(</span><span class="op" id="6911805">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6911809">if</span>&nbsp;<span class="ident" id="6911812">n</span>&nbsp;<span class="op" id="6911814">!=</span>&nbsp;<span class="ident" id="6911817">c</span><span class="op" id="6911818">.</span><span class="ident" id="6911819">num</span>&nbsp;<span class="op" id="6911823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6911828">t</span><span class="op" id="6911829">.</span><span class="ident" id="6911830">Errorf</span><span class="op" id="6911836">(</span><span class="string" id="6911837">&#34;%q:&nbsp;NumSubexp&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6911866">,</span>&nbsp;<span class="ident" id="6911868">c</span><span class="op" id="6911869">.</span><span class="ident" id="6911870">input</span><span class="op" id="6911875">,</span>&nbsp;<span class="ident" id="6911877">n</span><span class="op" id="6911878">,</span>&nbsp;<span class="ident" id="6911880">c</span><span class="op" id="6911881">.</span><span class="ident" id="6911882">num</span><span class="op" id="6911885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6911890">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6911901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6911905">names</span>&nbsp;<span class="op" id="6911911">:=</span>&nbsp;<span class="ident" id="6911914">re</span><span class="op" id="6911916">.</span><span class="ident" id="6911917">SubexpNames</span><span class="op" id="6911928">(</span><span class="op" id="6911929">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6911933">if</span>&nbsp;<span class="builtinfunc" id="6911936">len</span><span class="op" id="6911939">(</span><span class="ident" id="6911940">names</span><span class="op" id="6911945">)</span>&nbsp;<span class="op" id="6911947">!=</span>&nbsp;<span class="num" id="6911950">1</span><span class="op" id="6911951">+</span><span class="ident" id="6911952">n</span>&nbsp;<span class="op" id="6911954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6911959">t</span><span class="op" id="6911960">.</span><span class="ident" id="6911961">Errorf</span><span class="op" id="6911967">(</span><span class="string" id="6911968">&#34;%q:&nbsp;len(SubexpNames)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6912004">,</span>&nbsp;<span class="ident" id="6912006">c</span><span class="op" id="6912007">.</span><span class="ident" id="6912008">input</span><span class="op" id="6912013">,</span>&nbsp;<span class="builtinfunc" id="6912015">len</span><span class="op" id="6912018">(</span><span class="ident" id="6912019">names</span><span class="op" id="6912024">)</span><span class="op" id="6912025">,</span>&nbsp;<span class="ident" id="6912027">n</span><span class="op" id="6912028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6912033">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6912048">if</span>&nbsp;<span class="ident" id="6912051">c</span><span class="op" id="6912052">.</span><span class="ident" id="6912053">names</span>&nbsp;<span class="op" id="6912059">!=</span>&nbsp;<span class="ident" id="6912062">nil</span>&nbsp;<span class="op" id="6912066">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6912071">for</span>&nbsp;<span class="ident" id="6912075">i</span>&nbsp;<span class="op" id="6912077">:=</span>&nbsp;<span class="num" id="6912080">0</span><span class="op" id="6912081">;</span>&nbsp;<span class="ident" id="6912083">i</span>&nbsp;<span class="op" id="6912085">&lt;</span>&nbsp;<span class="num" id="6912087">1</span><span class="op" id="6912088">+</span><span class="ident" id="6912089">n</span><span class="op" id="6912090">;</span>&nbsp;<span class="ident" id="6912092">i</span><span class="op" id="6912093">++</span>&nbsp;<span class="op" id="6912096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6912102">if</span>&nbsp;<span class="ident" id="6912105">names</span><span class="op" id="6912110">[</span><span class="ident" id="6912111">i</span><span class="op" id="6912112">]</span>&nbsp;<span class="op" id="6912114">!=</span>&nbsp;<span class="ident" id="6912117">c</span><span class="op" id="6912118">.</span><span class="ident" id="6912119">names</span><span class="op" id="6912124">[</span><span class="ident" id="6912125">i</span><span class="op" id="6912126">]</span>&nbsp;<span class="op" id="6912128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6912135">t</span><span class="op" id="6912136">.</span><span class="ident" id="6912137">Errorf</span><span class="op" id="6912143">(</span><span class="string" id="6912144">&#34;%q:&nbsp;SubexpNames[%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6912179">,</span>&nbsp;<span class="ident" id="6912181">c</span><span class="op" id="6912182">.</span><span class="ident" id="6912183">input</span><span class="op" id="6912188">,</span>&nbsp;<span class="ident" id="6912190">i</span><span class="op" id="6912191">,</span>&nbsp;<span class="ident" id="6912193">names</span><span class="op" id="6912198">[</span><span class="ident" id="6912199">i</span><span class="op" id="6912200">]</span><span class="op" id="6912201">,</span>&nbsp;<span class="ident" id="6912203">c</span><span class="op" id="6912204">.</span><span class="ident" id="6912205">names</span><span class="op" id="6912210">[</span><span class="ident" id="6912211">i</span><span class="op" id="6912212">]</span><span class="op" id="6912213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912224">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912231">}</span><br>
<span class="lineno"></span><span class="op" id="6912233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6912236">var</span>&nbsp;<span class="ident" id="6912240">splitTests</span>&nbsp;<span class="op" id="6912251">=</span>&nbsp;<span class="op" id="6912253">[</span><span class="op" id="6912254">]</span><span class="keyword" id="6912255">struct</span>&nbsp;<span class="op" id="6912262">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6912265">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6912269">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6912277">r</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6912281">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6912289">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6912293">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6912298">out</span>&nbsp;<span class="op" id="6912302">[</span><span class="op" id="6912303">]</span><span class="builtintype" id="6912304">string</span><br>
<span class="lineno"></span><span class="op" id="6912311">}</span><span class="op" id="6912312">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912315">{</span><span class="string" id="6912316">&#34;foo:and:bar&#34;</span><span class="op" id="6912329">,</span>&nbsp;<span class="string" id="6912331">&#34;:&#34;</span><span class="op" id="6912334">,</span>&nbsp;<span class="op" id="6912336">-</span><span class="num" id="6912337">1</span><span class="op" id="6912338">,</span>&nbsp;<span class="op" id="6912340">[</span><span class="op" id="6912341">]</span><span class="builtintype" id="6912342">string</span><span class="op" id="6912348">{</span><span class="string" id="6912349">&#34;foo&#34;</span><span class="op" id="6912354">,</span>&nbsp;<span class="string" id="6912356">&#34;and&#34;</span><span class="op" id="6912361">,</span>&nbsp;<span class="string" id="6912363">&#34;bar&#34;</span><span class="op" id="6912368">}</span><span class="op" id="6912369">}</span><span class="op" id="6912370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912373">{</span><span class="string" id="6912374">&#34;foo:and:bar&#34;</span><span class="op" id="6912387">,</span>&nbsp;<span class="string" id="6912389">&#34;:&#34;</span><span class="op" id="6912392">,</span>&nbsp;<span class="num" id="6912394">1</span><span class="op" id="6912395">,</span>&nbsp;<span class="op" id="6912397">[</span><span class="op" id="6912398">]</span><span class="builtintype" id="6912399">string</span><span class="op" id="6912405">{</span><span class="string" id="6912406">&#34;foo:and:bar&#34;</span><span class="op" id="6912419">}</span><span class="op" id="6912420">}</span><span class="op" id="6912421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912424">{</span><span class="string" id="6912425">&#34;foo:and:bar&#34;</span><span class="op" id="6912438">,</span>&nbsp;<span class="string" id="6912440">&#34;:&#34;</span><span class="op" id="6912443">,</span>&nbsp;<span class="num" id="6912445">2</span><span class="op" id="6912446">,</span>&nbsp;<span class="op" id="6912448">[</span><span class="op" id="6912449">]</span><span class="builtintype" id="6912450">string</span><span class="op" id="6912456">{</span><span class="string" id="6912457">&#34;foo&#34;</span><span class="op" id="6912462">,</span>&nbsp;<span class="string" id="6912464">&#34;and:bar&#34;</span><span class="op" id="6912473">}</span><span class="op" id="6912474">}</span><span class="op" id="6912475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912478">{</span><span class="string" id="6912479">&#34;foo:and:bar&#34;</span><span class="op" id="6912492">,</span>&nbsp;<span class="string" id="6912494">&#34;foo&#34;</span><span class="op" id="6912499">,</span>&nbsp;<span class="op" id="6912501">-</span><span class="num" id="6912502">1</span><span class="op" id="6912503">,</span>&nbsp;<span class="op" id="6912505">[</span><span class="op" id="6912506">]</span><span class="builtintype" id="6912507">string</span><span class="op" id="6912513">{</span><span class="string" id="6912514">&#34;&#34;</span><span class="op" id="6912516">,</span>&nbsp;<span class="string" id="6912518">&#34;:and:bar&#34;</span><span class="op" id="6912528">}</span><span class="op" id="6912529">}</span><span class="op" id="6912530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912533">{</span><span class="string" id="6912534">&#34;foo:and:bar&#34;</span><span class="op" id="6912547">,</span>&nbsp;<span class="string" id="6912549">&#34;bar&#34;</span><span class="op" id="6912554">,</span>&nbsp;<span class="op" id="6912556">-</span><span class="num" id="6912557">1</span><span class="op" id="6912558">,</span>&nbsp;<span class="op" id="6912560">[</span><span class="op" id="6912561">]</span><span class="builtintype" id="6912562">string</span><span class="op" id="6912568">{</span><span class="string" id="6912569">&#34;foo:and:&#34;</span><span class="op" id="6912579">,</span>&nbsp;<span class="string" id="6912581">&#34;&#34;</span><span class="op" id="6912583">}</span><span class="op" id="6912584">}</span><span class="op" id="6912585">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912588">{</span><span class="string" id="6912589">&#34;foo:and:bar&#34;</span><span class="op" id="6912602">,</span>&nbsp;<span class="string" id="6912604">&#34;baz&#34;</span><span class="op" id="6912609">,</span>&nbsp;<span class="op" id="6912611">-</span><span class="num" id="6912612">1</span><span class="op" id="6912613">,</span>&nbsp;<span class="op" id="6912615">[</span><span class="op" id="6912616">]</span><span class="builtintype" id="6912617">string</span><span class="op" id="6912623">{</span><span class="string" id="6912624">&#34;foo:and:bar&#34;</span><span class="op" id="6912637">}</span><span class="op" id="6912638">}</span><span class="op" id="6912639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912642">{</span><span class="string" id="6912643">&#34;baabaab&#34;</span><span class="op" id="6912652">,</span>&nbsp;<span class="string" id="6912654">&#34;a&#34;</span><span class="op" id="6912657">,</span>&nbsp;<span class="op" id="6912659">-</span><span class="num" id="6912660">1</span><span class="op" id="6912661">,</span>&nbsp;<span class="op" id="6912663">[</span><span class="op" id="6912664">]</span><span class="builtintype" id="6912665">string</span><span class="op" id="6912671">{</span><span class="string" id="6912672">&#34;b&#34;</span><span class="op" id="6912675">,</span>&nbsp;<span class="string" id="6912677">&#34;&#34;</span><span class="op" id="6912679">,</span>&nbsp;<span class="string" id="6912681">&#34;b&#34;</span><span class="op" id="6912684">,</span>&nbsp;<span class="string" id="6912686">&#34;&#34;</span><span class="op" id="6912688">,</span>&nbsp;<span class="string" id="6912690">&#34;b&#34;</span><span class="op" id="6912693">}</span><span class="op" id="6912694">}</span><span class="op" id="6912695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912698">{</span><span class="string" id="6912699">&#34;baabaab&#34;</span><span class="op" id="6912708">,</span>&nbsp;<span class="string" id="6912710">&#34;a*&#34;</span><span class="op" id="6912714">,</span>&nbsp;<span class="op" id="6912716">-</span><span class="num" id="6912717">1</span><span class="op" id="6912718">,</span>&nbsp;<span class="op" id="6912720">[</span><span class="op" id="6912721">]</span><span class="builtintype" id="6912722">string</span><span class="op" id="6912728">{</span><span class="string" id="6912729">&#34;b&#34;</span><span class="op" id="6912732">,</span>&nbsp;<span class="string" id="6912734">&#34;b&#34;</span><span class="op" id="6912737">,</span>&nbsp;<span class="string" id="6912739">&#34;b&#34;</span><span class="op" id="6912742">}</span><span class="op" id="6912743">}</span><span class="op" id="6912744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912747">{</span><span class="string" id="6912748">&#34;baabaab&#34;</span><span class="op" id="6912757">,</span>&nbsp;<span class="string" id="6912759">&#34;ba*&#34;</span><span class="op" id="6912764">,</span>&nbsp;<span class="op" id="6912766">-</span><span class="num" id="6912767">1</span><span class="op" id="6912768">,</span>&nbsp;<span class="op" id="6912770">[</span><span class="op" id="6912771">]</span><span class="builtintype" id="6912772">string</span><span class="op" id="6912778">{</span><span class="string" id="6912779">&#34;&#34;</span><span class="op" id="6912781">,</span>&nbsp;<span class="string" id="6912783">&#34;&#34;</span><span class="op" id="6912785">,</span>&nbsp;<span class="string" id="6912787">&#34;&#34;</span><span class="op" id="6912789">,</span>&nbsp;<span class="string" id="6912791">&#34;&#34;</span><span class="op" id="6912793">}</span><span class="op" id="6912794">}</span><span class="op" id="6912795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912798">{</span><span class="string" id="6912799">&#34;foobar&#34;</span><span class="op" id="6912807">,</span>&nbsp;<span class="string" id="6912809">&#34;f*b*&#34;</span><span class="op" id="6912815">,</span>&nbsp;<span class="op" id="6912817">-</span><span class="num" id="6912818">1</span><span class="op" id="6912819">,</span>&nbsp;<span class="op" id="6912821">[</span><span class="op" id="6912822">]</span><span class="builtintype" id="6912823">string</span><span class="op" id="6912829">{</span><span class="string" id="6912830">&#34;&#34;</span><span class="op" id="6912832">,</span>&nbsp;<span class="string" id="6912834">&#34;o&#34;</span><span class="op" id="6912837">,</span>&nbsp;<span class="string" id="6912839">&#34;o&#34;</span><span class="op" id="6912842">,</span>&nbsp;<span class="string" id="6912844">&#34;a&#34;</span><span class="op" id="6912847">,</span>&nbsp;<span class="string" id="6912849">&#34;r&#34;</span><span class="op" id="6912852">}</span><span class="op" id="6912853">}</span><span class="op" id="6912854">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912857">{</span><span class="string" id="6912858">&#34;foobar&#34;</span><span class="op" id="6912866">,</span>&nbsp;<span class="string" id="6912868">&#34;f+.*b+&#34;</span><span class="op" id="6912876">,</span>&nbsp;<span class="op" id="6912878">-</span><span class="num" id="6912879">1</span><span class="op" id="6912880">,</span>&nbsp;<span class="op" id="6912882">[</span><span class="op" id="6912883">]</span><span class="builtintype" id="6912884">string</span><span class="op" id="6912890">{</span><span class="string" id="6912891">&#34;&#34;</span><span class="op" id="6912893">,</span>&nbsp;<span class="string" id="6912895">&#34;ar&#34;</span><span class="op" id="6912899">}</span><span class="op" id="6912900">}</span><span class="op" id="6912901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912904">{</span><span class="string" id="6912905">&#34;foobooboar&#34;</span><span class="op" id="6912917">,</span>&nbsp;<span class="string" id="6912919">&#34;o{2}&#34;</span><span class="op" id="6912925">,</span>&nbsp;<span class="op" id="6912927">-</span><span class="num" id="6912928">1</span><span class="op" id="6912929">,</span>&nbsp;<span class="op" id="6912931">[</span><span class="op" id="6912932">]</span><span class="builtintype" id="6912933">string</span><span class="op" id="6912939">{</span><span class="string" id="6912940">&#34;f&#34;</span><span class="op" id="6912943">,</span>&nbsp;<span class="string" id="6912945">&#34;b&#34;</span><span class="op" id="6912948">,</span>&nbsp;<span class="string" id="6912950">&#34;boar&#34;</span><span class="op" id="6912956">}</span><span class="op" id="6912957">}</span><span class="op" id="6912958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6912961">{</span><span class="string" id="6912962">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="6912975">,</span>&nbsp;<span class="string" id="6912977">&#34;,&#34;</span><span class="op" id="6912980">,</span>&nbsp;<span class="num" id="6912982">3</span><span class="op" id="6912983">,</span>&nbsp;<span class="op" id="6912985">[</span><span class="op" id="6912986">]</span><span class="builtintype" id="6912987">string</span><span class="op" id="6912993">{</span><span class="string" id="6912994">&#34;a&#34;</span><span class="op" id="6912997">,</span>&nbsp;<span class="string" id="6912999">&#34;b&#34;</span><span class="op" id="6913002">,</span>&nbsp;<span class="string" id="6913004">&#34;c,d,e,f&#34;</span><span class="op" id="6913013">}</span><span class="op" id="6913014">}</span><span class="op" id="6913015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913018">{</span><span class="string" id="6913019">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="6913032">,</span>&nbsp;<span class="string" id="6913034">&#34;,&#34;</span><span class="op" id="6913037">,</span>&nbsp;<span class="num" id="6913039">0</span><span class="op" id="6913040">,</span>&nbsp;<span class="ident" id="6913042">nil</span><span class="op" id="6913045">}</span><span class="op" id="6913046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913049">{</span><span class="string" id="6913050">&#34;,&#34;</span><span class="op" id="6913053">,</span>&nbsp;<span class="string" id="6913055">&#34;,&#34;</span><span class="op" id="6913058">,</span>&nbsp;<span class="op" id="6913060">-</span><span class="num" id="6913061">1</span><span class="op" id="6913062">,</span>&nbsp;<span class="op" id="6913064">[</span><span class="op" id="6913065">]</span><span class="builtintype" id="6913066">string</span><span class="op" id="6913072">{</span><span class="string" id="6913073">&#34;&#34;</span><span class="op" id="6913075">,</span>&nbsp;<span class="string" id="6913077">&#34;&#34;</span><span class="op" id="6913079">}</span><span class="op" id="6913080">}</span><span class="op" id="6913081">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913084">{</span><span class="string" id="6913085">&#34;,,,&#34;</span><span class="op" id="6913090">,</span>&nbsp;<span class="string" id="6913092">&#34;,&#34;</span><span class="op" id="6913095">,</span>&nbsp;<span class="op" id="6913097">-</span><span class="num" id="6913098">1</span><span class="op" id="6913099">,</span>&nbsp;<span class="op" id="6913101">[</span><span class="op" id="6913102">]</span><span class="builtintype" id="6913103">string</span><span class="op" id="6913109">{</span><span class="string" id="6913110">&#34;&#34;</span><span class="op" id="6913112">,</span>&nbsp;<span class="string" id="6913114">&#34;&#34;</span><span class="op" id="6913116">,</span>&nbsp;<span class="string" id="6913118">&#34;&#34;</span><span class="op" id="6913120">,</span>&nbsp;<span class="string" id="6913122">&#34;&#34;</span><span class="op" id="6913124">}</span><span class="op" id="6913125">}</span><span class="op" id="6913126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913129">{</span><span class="string" id="6913130">&#34;&#34;</span><span class="op" id="6913132">,</span>&nbsp;<span class="string" id="6913134">&#34;,&#34;</span><span class="op" id="6913137">,</span>&nbsp;<span class="op" id="6913139">-</span><span class="num" id="6913140">1</span><span class="op" id="6913141">,</span>&nbsp;<span class="op" id="6913143">[</span><span class="op" id="6913144">]</span><span class="builtintype" id="6913145">string</span><span class="op" id="6913151">{</span><span class="string" id="6913152">&#34;&#34;</span><span class="op" id="6913154">}</span><span class="op" id="6913155">}</span><span class="op" id="6913156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913159">{</span><span class="string" id="6913160">&#34;&#34;</span><span class="op" id="6913162">,</span>&nbsp;<span class="string" id="6913164">&#34;.*&#34;</span><span class="op" id="6913168">,</span>&nbsp;<span class="op" id="6913170">-</span><span class="num" id="6913171">1</span><span class="op" id="6913172">,</span>&nbsp;<span class="op" id="6913174">[</span><span class="op" id="6913175">]</span><span class="builtintype" id="6913176">string</span><span class="op" id="6913182">{</span><span class="string" id="6913183">&#34;&#34;</span><span class="op" id="6913185">}</span><span class="op" id="6913186">}</span><span class="op" id="6913187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913190">{</span><span class="string" id="6913191">&#34;&#34;</span><span class="op" id="6913193">,</span>&nbsp;<span class="string" id="6913195">&#34;.+&#34;</span><span class="op" id="6913199">,</span>&nbsp;<span class="op" id="6913201">-</span><span class="num" id="6913202">1</span><span class="op" id="6913203">,</span>&nbsp;<span class="op" id="6913205">[</span><span class="op" id="6913206">]</span><span class="builtintype" id="6913207">string</span><span class="op" id="6913213">{</span><span class="string" id="6913214">&#34;&#34;</span><span class="op" id="6913216">}</span><span class="op" id="6913217">}</span><span class="op" id="6913218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913221">{</span><span class="string" id="6913222">&#34;&#34;</span><span class="op" id="6913224">,</span>&nbsp;<span class="string" id="6913226">&#34;&#34;</span><span class="op" id="6913228">,</span>&nbsp;<span class="op" id="6913230">-</span><span class="num" id="6913231">1</span><span class="op" id="6913232">,</span>&nbsp;<span class="op" id="6913234">[</span><span class="op" id="6913235">]</span><span class="builtintype" id="6913236">string</span><span class="op" id="6913242">{</span><span class="op" id="6913243">}</span><span class="op" id="6913244">}</span><span class="op" id="6913245">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913248">{</span><span class="string" id="6913249">&#34;foobar&#34;</span><span class="op" id="6913257">,</span>&nbsp;<span class="string" id="6913259">&#34;&#34;</span><span class="op" id="6913261">,</span>&nbsp;<span class="op" id="6913263">-</span><span class="num" id="6913264">1</span><span class="op" id="6913265">,</span>&nbsp;<span class="op" id="6913267">[</span><span class="op" id="6913268">]</span><span class="builtintype" id="6913269">string</span><span class="op" id="6913275">{</span><span class="string" id="6913276">&#34;f&#34;</span><span class="op" id="6913279">,</span>&nbsp;<span class="string" id="6913281">&#34;o&#34;</span><span class="op" id="6913284">,</span>&nbsp;<span class="string" id="6913286">&#34;o&#34;</span><span class="op" id="6913289">,</span>&nbsp;<span class="string" id="6913291">&#34;b&#34;</span><span class="op" id="6913294">,</span>&nbsp;<span class="string" id="6913296">&#34;a&#34;</span><span class="op" id="6913299">,</span>&nbsp;<span class="string" id="6913301">&#34;r&#34;</span><span class="op" id="6913304">}</span><span class="op" id="6913305">}</span><span class="op" id="6913306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913309">{</span><span class="string" id="6913310">&#34;abaabaccadaaae&#34;</span><span class="op" id="6913326">,</span>&nbsp;<span class="string" id="6913328">&#34;a*&#34;</span><span class="op" id="6913332">,</span>&nbsp;<span class="num" id="6913334">5</span><span class="op" id="6913335">,</span>&nbsp;<span class="op" id="6913337">[</span><span class="op" id="6913338">]</span><span class="builtintype" id="6913339">string</span><span class="op" id="6913345">{</span><span class="string" id="6913346">&#34;&#34;</span><span class="op" id="6913348">,</span>&nbsp;<span class="string" id="6913350">&#34;b&#34;</span><span class="op" id="6913353">,</span>&nbsp;<span class="string" id="6913355">&#34;b&#34;</span><span class="op" id="6913358">,</span>&nbsp;<span class="string" id="6913360">&#34;c&#34;</span><span class="op" id="6913363">,</span>&nbsp;<span class="string" id="6913365">&#34;cadaaae&#34;</span><span class="op" id="6913374">}</span><span class="op" id="6913375">}</span><span class="op" id="6913376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913379">{</span><span class="string" id="6913380">&#34;:x:y:z:&#34;</span><span class="op" id="6913389">,</span>&nbsp;<span class="string" id="6913391">&#34;:&#34;</span><span class="op" id="6913394">,</span>&nbsp;<span class="op" id="6913396">-</span><span class="num" id="6913397">1</span><span class="op" id="6913398">,</span>&nbsp;<span class="op" id="6913400">[</span><span class="op" id="6913401">]</span><span class="builtintype" id="6913402">string</span><span class="op" id="6913408">{</span><span class="string" id="6913409">&#34;&#34;</span><span class="op" id="6913411">,</span>&nbsp;<span class="string" id="6913413">&#34;x&#34;</span><span class="op" id="6913416">,</span>&nbsp;<span class="string" id="6913418">&#34;y&#34;</span><span class="op" id="6913421">,</span>&nbsp;<span class="string" id="6913423">&#34;z&#34;</span><span class="op" id="6913426">,</span>&nbsp;<span class="string" id="6913428">&#34;&#34;</span><span class="op" id="6913430">}</span><span class="op" id="6913431">}</span><span class="op" id="6913432">,</span><br>
<span class="lineno"></span><span class="op" id="6913434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="6913437">func</span>&nbsp;<span class="ident" id="6913442">TestSplit</span><span class="op" id="6913451">(</span><span class="ident" id="6913452">t</span>&nbsp;<span class="op" id="6913454">*</span><span class="ident" id="6913455">testing</span><span class="op" id="6913462">.</span><span class="ident" id="6913463">T</span><span class="op" id="6913464">)</span>&nbsp;<span class="op" id="6913466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913469">for</span>&nbsp;<span class="ident" id="6913473">i</span><span class="op" id="6913474">,</span>&nbsp;<span class="ident" id="6913476">test</span>&nbsp;<span class="op" id="6913481">:=</span>&nbsp;<span class="keyword" id="6913484">range</span>&nbsp;<span class="ident" id="6913490">splitTests</span>&nbsp;<span class="op" id="6913501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913505">re</span><span class="op" id="6913507">,</span>&nbsp;<span class="ident" id="6913509">err</span>&nbsp;<span class="op" id="6913513">:=</span>&nbsp;<span class="ident" id="6913516">Compile</span><span class="op" id="6913523">(</span><span class="ident" id="6913524">test</span><span class="op" id="6913528">.</span><span class="ident" id="6913529">r</span><span class="op" id="6913530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913534">if</span>&nbsp;<span class="ident" id="6913537">err</span>&nbsp;<span class="op" id="6913541">!=</span>&nbsp;<span class="ident" id="6913544">nil</span>&nbsp;<span class="op" id="6913548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913553">t</span><span class="op" id="6913554">.</span><span class="ident" id="6913555">Errorf</span><span class="op" id="6913561">(</span><span class="string" id="6913562">&#34;#%d:&nbsp;%q:&nbsp;compile&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="6913590">,</span>&nbsp;<span class="ident" id="6913592">i</span><span class="op" id="6913593">,</span>&nbsp;<span class="ident" id="6913595">test</span><span class="op" id="6913599">.</span><span class="ident" id="6913600">r</span><span class="op" id="6913601">,</span>&nbsp;<span class="ident" id="6913603">err</span><span class="op" id="6913606">.</span><span class="ident" id="6913607">Error</span><span class="op" id="6913612">(</span><span class="op" id="6913613">)</span><span class="op" id="6913614">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913619">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913635">split</span>&nbsp;<span class="op" id="6913641">:=</span>&nbsp;<span class="ident" id="6913644">re</span><span class="op" id="6913646">.</span><span class="ident" id="6913647">Split</span><span class="op" id="6913652">(</span><span class="ident" id="6913653">test</span><span class="op" id="6913657">.</span><span class="ident" id="6913658">s</span><span class="op" id="6913659">,</span>&nbsp;<span class="ident" id="6913661">test</span><span class="op" id="6913665">.</span><span class="ident" id="6913666">n</span><span class="op" id="6913667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913671">if</span>&nbsp;<span class="op" id="6913674">!</span><span class="ident" id="6913675">reflect</span><span class="op" id="6913682">.</span><span class="ident" id="6913683">DeepEqual</span><span class="op" id="6913692">(</span><span class="ident" id="6913693">split</span><span class="op" id="6913698">,</span>&nbsp;<span class="ident" id="6913700">test</span><span class="op" id="6913704">.</span><span class="ident" id="6913705">out</span><span class="op" id="6913708">)</span>&nbsp;<span class="op" id="6913710">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913715">t</span><span class="op" id="6913716">.</span><span class="ident" id="6913717">Errorf</span><span class="op" id="6913723">(</span><span class="string" id="6913724">&#34;#%d:&nbsp;%q:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6913750">,</span>&nbsp;<span class="ident" id="6913752">i</span><span class="op" id="6913753">,</span>&nbsp;<span class="ident" id="6913755">test</span><span class="op" id="6913759">.</span><span class="ident" id="6913760">r</span><span class="op" id="6913761">,</span>&nbsp;<span class="ident" id="6913763">split</span><span class="op" id="6913768">,</span>&nbsp;<span class="ident" id="6913770">test</span><span class="op" id="6913774">.</span><span class="ident" id="6913775">out</span><span class="op" id="6913778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6913782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913787">if</span>&nbsp;<span class="ident" id="6913790">QuoteMeta</span><span class="op" id="6913799">(</span><span class="ident" id="6913800">test</span><span class="op" id="6913804">.</span><span class="ident" id="6913805">r</span><span class="op" id="6913806">)</span>&nbsp;<span class="op" id="6913808">==</span>&nbsp;<span class="ident" id="6913811">test</span><span class="op" id="6913815">.</span><span class="ident" id="6913816">r</span>&nbsp;<span class="op" id="6913818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913823">strsplit</span>&nbsp;<span class="op" id="6913832">:=</span>&nbsp;<span class="ident" id="6913835">strings</span><span class="op" id="6913842">.</span><span class="ident" id="6913843">SplitN</span><span class="op" id="6913849">(</span><span class="ident" id="6913850">test</span><span class="op" id="6913854">.</span><span class="ident" id="6913855">s</span><span class="op" id="6913856">,</span>&nbsp;<span class="ident" id="6913858">test</span><span class="op" id="6913862">.</span><span class="ident" id="6913863">r</span><span class="op" id="6913864">,</span>&nbsp;<span class="ident" id="6913866">test</span><span class="op" id="6913870">.</span><span class="ident" id="6913871">n</span><span class="op" id="6913872">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6913877">if</span>&nbsp;<span class="op" id="6913880">!</span><span class="ident" id="6913881">reflect</span><span class="op" id="6913888">.</span><span class="ident" id="6913889">DeepEqual</span><span class="op" id="6913898">(</span><span class="ident" id="6913899">split</span><span class="op" id="6913904">,</span>&nbsp;<span class="ident" id="6913906">strsplit</span><span class="op" id="6913914">)</span>&nbsp;<span class="op" id="6913916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6913922">t</span><span class="op" id="6913923">.</span><span class="ident" id="6913924">Errorf</span><span class="op" id="6913930">(</span><span class="string" id="6913931">&#34;#%d:&nbsp;Split(%q,&nbsp;%q,&nbsp;%d):&nbsp;regexp&nbsp;vs&nbsp;strings&nbsp;mismatch\nregexp=%q\nstrings=%q&#34;</span><span class="op" id="6914006">,</span>&nbsp;<span class="ident" id="6914008">i</span><span class="op" id="6914009">,</span>&nbsp;<span class="ident" id="6914011">test</span><span class="op" id="6914015">.</span><span class="ident" id="6914016">s</span><span class="op" id="6914017">,</span>&nbsp;<span class="ident" id="6914019">test</span><span class="op" id="6914023">.</span><span class="ident" id="6914024">r</span><span class="op" id="6914025">,</span>&nbsp;<span class="ident" id="6914027">test</span><span class="op" id="6914031">.</span><span class="ident" id="6914032">n</span><span class="op" id="6914033">,</span>&nbsp;<span class="ident" id="6914035">split</span><span class="op" id="6914040">,</span>&nbsp;<span class="ident" id="6914042">strsplit</span><span class="op" id="6914050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914062">}</span><br>
<span class="lineno">475</span><span class="op" id="6914064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6914067">//&nbsp;Check&nbsp;that&nbsp;one-pass&nbsp;cutoff&nbsp;does&nbsp;trigger.</span><br>
<span class="lineno"></span><span class="keyword" id="6914111">func</span>&nbsp;<span class="ident" id="6914116">TestOnePassCutoff</span><span class="op" id="6914133">(</span><span class="ident" id="6914134">t</span>&nbsp;<span class="op" id="6914136">*</span><span class="ident" id="6914137">testing</span><span class="op" id="6914144">.</span><span class="ident" id="6914145">T</span><span class="op" id="6914146">)</span>&nbsp;<span class="op" id="6914148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914151">re</span><span class="op" id="6914153">,</span>&nbsp;<span class="ident" id="6914155">err</span>&nbsp;<span class="op" id="6914159">:=</span>&nbsp;<span class="ident" id="6914162">syntax</span><span class="op" id="6914168">.</span><span class="ident" id="6914169">Parse</span><span class="op" id="6914174">(</span><span class="string" id="6914175">`^x{1,1000}y{1,1000}$`</span><span class="op" id="6914197">,</span>&nbsp;<span class="ident" id="6914199">syntax</span><span class="op" id="6914205">.</span><span class="ident" id="6914206">Perl</span><span class="op" id="6914210">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914213">if</span>&nbsp;<span class="ident" id="6914216">err</span>&nbsp;<span class="op" id="6914220">!=</span>&nbsp;<span class="ident" id="6914223">nil</span>&nbsp;<span class="op" id="6914227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914231">t</span><span class="op" id="6914232">.</span><span class="ident" id="6914233">Fatalf</span><span class="op" id="6914239">(</span><span class="string" id="6914240">&#34;parse:&nbsp;%v&#34;</span><span class="op" id="6914251">,</span>&nbsp;<span class="ident" id="6914253">err</span><span class="op" id="6914256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914262">p</span><span class="op" id="6914263">,</span>&nbsp;<span class="ident" id="6914265">err</span>&nbsp;<span class="op" id="6914269">:=</span>&nbsp;<span class="ident" id="6914272">syntax</span><span class="op" id="6914278">.</span><span class="ident" id="6914279">Compile</span><span class="op" id="6914286">(</span><span class="ident" id="6914287">re</span><span class="op" id="6914289">.</span><span class="ident" id="6914290">Simplify</span><span class="op" id="6914298">(</span><span class="op" id="6914299">)</span><span class="op" id="6914300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914303">if</span>&nbsp;<span class="ident" id="6914306">err</span>&nbsp;<span class="op" id="6914310">!=</span>&nbsp;<span class="ident" id="6914313">nil</span>&nbsp;<span class="op" id="6914317">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914321">t</span><span class="op" id="6914322">.</span><span class="ident" id="6914323">Fatalf</span><span class="op" id="6914329">(</span><span class="string" id="6914330">&#34;compile:&nbsp;%v&#34;</span><span class="op" id="6914343">,</span>&nbsp;<span class="ident" id="6914345">err</span><span class="op" id="6914348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914354">if</span>&nbsp;<span class="ident" id="6914357">compileOnePass</span><span class="op" id="6914371">(</span><span class="ident" id="6914372">p</span><span class="op" id="6914373">)</span>&nbsp;<span class="op" id="6914375">!=</span>&nbsp;<span class="ident" id="6914378">notOnePass</span>&nbsp;<span class="op" id="6914389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914393">t</span><span class="op" id="6914394">.</span><span class="ident" id="6914395">Fatalf</span><span class="op" id="6914401">(</span><span class="string" id="6914402">&#34;makeOnePass&nbsp;succeeded;&nbsp;wanted&nbsp;notOnePass&#34;</span><span class="op" id="6914444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914447">}</span><br>
<span class="lineno">490</span><span class="op" id="6914449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6914452">func</span>&nbsp;<span class="ident" id="6914457">BenchmarkLiteral</span><span class="op" id="6914473">(</span><span class="ident" id="6914474">b</span>&nbsp;<span class="op" id="6914476">*</span><span class="ident" id="6914477">testing</span><span class="op" id="6914484">.</span><span class="ident" id="6914485">B</span><span class="op" id="6914486">)</span>&nbsp;<span class="op" id="6914488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914491">x</span>&nbsp;<span class="op" id="6914493">:=</span>&nbsp;<span class="ident" id="6914496">strings</span><span class="op" id="6914503">.</span><span class="ident" id="6914504">Repeat</span><span class="op" id="6914510">(</span><span class="string" id="6914511">&#34;x&#34;</span><span class="op" id="6914514">,</span>&nbsp;<span class="num" id="6914516">50</span><span class="op" id="6914518">)</span>&nbsp;<span class="op" id="6914520">+</span>&nbsp;<span class="string" id="6914522">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914527">b</span><span class="op" id="6914528">.</span><span class="ident" id="6914529">StopTimer</span><span class="op" id="6914538">(</span><span class="op" id="6914539">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914542">re</span>&nbsp;<span class="op" id="6914545">:=</span>&nbsp;<span class="ident" id="6914548">MustCompile</span><span class="op" id="6914559">(</span><span class="string" id="6914560">&#34;y&#34;</span><span class="op" id="6914563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914566">b</span><span class="op" id="6914567">.</span><span class="ident" id="6914568">StartTimer</span><span class="op" id="6914578">(</span><span class="op" id="6914579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914582">for</span>&nbsp;<span class="ident" id="6914586">i</span>&nbsp;<span class="op" id="6914588">:=</span>&nbsp;<span class="num" id="6914591">0</span><span class="op" id="6914592">;</span>&nbsp;<span class="ident" id="6914594">i</span>&nbsp;<span class="op" id="6914596">&lt;</span>&nbsp;<span class="ident" id="6914598">b</span><span class="op" id="6914599">.</span><span class="ident" id="6914600">N</span><span class="op" id="6914601">;</span>&nbsp;<span class="ident" id="6914603">i</span><span class="op" id="6914604">++</span>&nbsp;<span class="op" id="6914607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914611">if</span>&nbsp;<span class="op" id="6914614">!</span><span class="ident" id="6914615">re</span><span class="op" id="6914617">.</span><span class="ident" id="6914618">MatchString</span><span class="op" id="6914629">(</span><span class="ident" id="6914630">x</span><span class="op" id="6914631">)</span>&nbsp;<span class="op" id="6914633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914638">b</span><span class="op" id="6914639">.</span><span class="ident" id="6914640">Fatalf</span><span class="op" id="6914646">(</span><span class="string" id="6914647">&#34;no&nbsp;match!&#34;</span><span class="op" id="6914658">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914665">}</span><br>
<span class="lineno"></span><span class="op" id="6914667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6914670">func</span>&nbsp;<span class="ident" id="6914675">BenchmarkNotLiteral</span><span class="op" id="6914694">(</span><span class="ident" id="6914695">b</span>&nbsp;<span class="op" id="6914697">*</span><span class="ident" id="6914698">testing</span><span class="op" id="6914705">.</span><span class="ident" id="6914706">B</span><span class="op" id="6914707">)</span>&nbsp;<span class="op" id="6914709">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914712">x</span>&nbsp;<span class="op" id="6914714">:=</span>&nbsp;<span class="ident" id="6914717">strings</span><span class="op" id="6914724">.</span><span class="ident" id="6914725">Repeat</span><span class="op" id="6914731">(</span><span class="string" id="6914732">&#34;x&#34;</span><span class="op" id="6914735">,</span>&nbsp;<span class="num" id="6914737">50</span><span class="op" id="6914739">)</span>&nbsp;<span class="op" id="6914741">+</span>&nbsp;<span class="string" id="6914743">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914748">b</span><span class="op" id="6914749">.</span><span class="ident" id="6914750">StopTimer</span><span class="op" id="6914759">(</span><span class="op" id="6914760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914763">re</span>&nbsp;<span class="op" id="6914766">:=</span>&nbsp;<span class="ident" id="6914769">MustCompile</span><span class="op" id="6914780">(</span><span class="string" id="6914781">&#34;.y&#34;</span><span class="op" id="6914785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914788">b</span><span class="op" id="6914789">.</span><span class="ident" id="6914790">StartTimer</span><span class="op" id="6914800">(</span><span class="op" id="6914801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914804">for</span>&nbsp;<span class="ident" id="6914808">i</span>&nbsp;<span class="op" id="6914810">:=</span>&nbsp;<span class="num" id="6914813">0</span><span class="op" id="6914814">;</span>&nbsp;<span class="ident" id="6914816">i</span>&nbsp;<span class="op" id="6914818">&lt;</span>&nbsp;<span class="ident" id="6914820">b</span><span class="op" id="6914821">.</span><span class="ident" id="6914822">N</span><span class="op" id="6914823">;</span>&nbsp;<span class="ident" id="6914825">i</span><span class="op" id="6914826">++</span>&nbsp;<span class="op" id="6914829">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6914833">if</span>&nbsp;<span class="op" id="6914836">!</span><span class="ident" id="6914837">re</span><span class="op" id="6914839">.</span><span class="ident" id="6914840">MatchString</span><span class="op" id="6914851">(</span><span class="ident" id="6914852">x</span><span class="op" id="6914853">)</span>&nbsp;<span class="op" id="6914855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914860">b</span><span class="op" id="6914861">.</span><span class="ident" id="6914862">Fatalf</span><span class="op" id="6914868">(</span><span class="string" id="6914869">&#34;no&nbsp;match!&#34;</span><span class="op" id="6914880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6914887">}</span><br>
<span class="lineno"></span><span class="op" id="6914889">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="6914892">func</span>&nbsp;<span class="ident" id="6914897">BenchmarkMatchClass</span><span class="op" id="6914916">(</span><span class="ident" id="6914917">b</span>&nbsp;<span class="op" id="6914919">*</span><span class="ident" id="6914920">testing</span><span class="op" id="6914927">.</span><span class="ident" id="6914928">B</span><span class="op" id="6914929">)</span>&nbsp;<span class="op" id="6914931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914934">b</span><span class="op" id="6914935">.</span><span class="ident" id="6914936">StopTimer</span><span class="op" id="6914945">(</span><span class="op" id="6914946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914949">x</span>&nbsp;<span class="op" id="6914951">:=</span>&nbsp;<span class="ident" id="6914954">strings</span><span class="op" id="6914961">.</span><span class="ident" id="6914962">Repeat</span><span class="op" id="6914968">(</span><span class="string" id="6914969">&#34;xxxx&#34;</span><span class="op" id="6914975">,</span>&nbsp;<span class="num" id="6914977">20</span><span class="op" id="6914979">)</span>&nbsp;<span class="op" id="6914981">+</span>&nbsp;<span class="string" id="6914983">&#34;w&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6914988">re</span>&nbsp;<span class="op" id="6914991">:=</span>&nbsp;<span class="ident" id="6914994">MustCompile</span><span class="op" id="6915005">(</span><span class="string" id="6915006">&#34;[abcdw]&#34;</span><span class="op" id="6915015">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915018">b</span><span class="op" id="6915019">.</span><span class="ident" id="6915020">StartTimer</span><span class="op" id="6915030">(</span><span class="op" id="6915031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915034">for</span>&nbsp;<span class="ident" id="6915038">i</span>&nbsp;<span class="op" id="6915040">:=</span>&nbsp;<span class="num" id="6915043">0</span><span class="op" id="6915044">;</span>&nbsp;<span class="ident" id="6915046">i</span>&nbsp;<span class="op" id="6915048">&lt;</span>&nbsp;<span class="ident" id="6915050">b</span><span class="op" id="6915051">.</span><span class="ident" id="6915052">N</span><span class="op" id="6915053">;</span>&nbsp;<span class="ident" id="6915055">i</span><span class="op" id="6915056">++</span>&nbsp;<span class="op" id="6915059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915063">if</span>&nbsp;<span class="op" id="6915066">!</span><span class="ident" id="6915067">re</span><span class="op" id="6915069">.</span><span class="ident" id="6915070">MatchString</span><span class="op" id="6915081">(</span><span class="ident" id="6915082">x</span><span class="op" id="6915083">)</span>&nbsp;<span class="op" id="6915085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915090">b</span><span class="op" id="6915091">.</span><span class="ident" id="6915092">Fatalf</span><span class="op" id="6915098">(</span><span class="string" id="6915099">&#34;no&nbsp;match!&#34;</span><span class="op" id="6915110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915114">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915117">}</span><br>
<span class="lineno"></span><span class="op" id="6915119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6915122">func</span>&nbsp;<span class="ident" id="6915127">BenchmarkMatchClass_InRange</span><span class="op" id="6915154">(</span><span class="ident" id="6915155">b</span>&nbsp;<span class="op" id="6915157">*</span><span class="ident" id="6915158">testing</span><span class="op" id="6915165">.</span><span class="ident" id="6915166">B</span><span class="op" id="6915167">)</span>&nbsp;<span class="op" id="6915169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915172">b</span><span class="op" id="6915173">.</span><span class="ident" id="6915174">StopTimer</span><span class="op" id="6915183">(</span><span class="op" id="6915184">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6915187">//&nbsp;&#39;b&#39;&nbsp;is&nbsp;between&nbsp;&#39;a&#39;&nbsp;and&nbsp;&#39;c&#39;,&nbsp;so&nbsp;the&nbsp;charclass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6915236">//&nbsp;range&nbsp;checking&nbsp;is&nbsp;no&nbsp;help&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915272">x</span>&nbsp;<span class="op" id="6915274">:=</span>&nbsp;<span class="ident" id="6915277">strings</span><span class="op" id="6915284">.</span><span class="ident" id="6915285">Repeat</span><span class="op" id="6915291">(</span><span class="string" id="6915292">&#34;bbbb&#34;</span><span class="op" id="6915298">,</span>&nbsp;<span class="num" id="6915300">20</span><span class="op" id="6915302">)</span>&nbsp;<span class="op" id="6915304">+</span>&nbsp;<span class="string" id="6915306">&#34;c&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915311">re</span>&nbsp;<span class="op" id="6915314">:=</span>&nbsp;<span class="ident" id="6915317">MustCompile</span><span class="op" id="6915328">(</span><span class="string" id="6915329">&#34;[ac]&#34;</span><span class="op" id="6915335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915338">b</span><span class="op" id="6915339">.</span><span class="ident" id="6915340">StartTimer</span><span class="op" id="6915350">(</span><span class="op" id="6915351">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915354">for</span>&nbsp;<span class="ident" id="6915358">i</span>&nbsp;<span class="op" id="6915360">:=</span>&nbsp;<span class="num" id="6915363">0</span><span class="op" id="6915364">;</span>&nbsp;<span class="ident" id="6915366">i</span>&nbsp;<span class="op" id="6915368">&lt;</span>&nbsp;<span class="ident" id="6915370">b</span><span class="op" id="6915371">.</span><span class="ident" id="6915372">N</span><span class="op" id="6915373">;</span>&nbsp;<span class="ident" id="6915375">i</span><span class="op" id="6915376">++</span>&nbsp;<span class="op" id="6915379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915383">if</span>&nbsp;<span class="op" id="6915386">!</span><span class="ident" id="6915387">re</span><span class="op" id="6915389">.</span><span class="ident" id="6915390">MatchString</span><span class="op" id="6915401">(</span><span class="ident" id="6915402">x</span><span class="op" id="6915403">)</span>&nbsp;<span class="op" id="6915405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915410">b</span><span class="op" id="6915411">.</span><span class="ident" id="6915412">Fatalf</span><span class="op" id="6915418">(</span><span class="string" id="6915419">&#34;no&nbsp;match!&#34;</span><span class="op" id="6915430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915437">}</span><br>
<span class="lineno">540</span><span class="op" id="6915439">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6915442">func</span>&nbsp;<span class="ident" id="6915447">BenchmarkReplaceAll</span><span class="op" id="6915466">(</span><span class="ident" id="6915467">b</span>&nbsp;<span class="op" id="6915469">*</span><span class="ident" id="6915470">testing</span><span class="op" id="6915477">.</span><span class="ident" id="6915478">B</span><span class="op" id="6915479">)</span>&nbsp;<span class="op" id="6915481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915484">x</span>&nbsp;<span class="op" id="6915486">:=</span>&nbsp;<span class="string" id="6915489">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915519">b</span><span class="op" id="6915520">.</span><span class="ident" id="6915521">StopTimer</span><span class="op" id="6915530">(</span><span class="op" id="6915531">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915534">re</span>&nbsp;<span class="op" id="6915537">:=</span>&nbsp;<span class="ident" id="6915540">MustCompile</span><span class="op" id="6915551">(</span><span class="string" id="6915552">&#34;[cjrw]&#34;</span><span class="op" id="6915560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915563">b</span><span class="op" id="6915564">.</span><span class="ident" id="6915565">StartTimer</span><span class="op" id="6915575">(</span><span class="op" id="6915576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915579">for</span>&nbsp;<span class="ident" id="6915583">i</span>&nbsp;<span class="op" id="6915585">:=</span>&nbsp;<span class="num" id="6915588">0</span><span class="op" id="6915589">;</span>&nbsp;<span class="ident" id="6915591">i</span>&nbsp;<span class="op" id="6915593">&lt;</span>&nbsp;<span class="ident" id="6915595">b</span><span class="op" id="6915596">.</span><span class="ident" id="6915597">N</span><span class="op" id="6915598">;</span>&nbsp;<span class="ident" id="6915600">i</span><span class="op" id="6915601">++</span>&nbsp;<span class="op" id="6915604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915608">re</span><span class="op" id="6915610">.</span><span class="ident" id="6915611">ReplaceAllString</span><span class="op" id="6915627">(</span><span class="ident" id="6915628">x</span><span class="op" id="6915629">,</span>&nbsp;<span class="string" id="6915631">&#34;&#34;</span><span class="op" id="6915633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915636">}</span><br>
<span class="lineno">550</span><span class="op" id="6915638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6915641">func</span>&nbsp;<span class="ident" id="6915646">BenchmarkAnchoredLiteralShortNonMatch</span><span class="op" id="6915683">(</span><span class="ident" id="6915684">b</span>&nbsp;<span class="op" id="6915686">*</span><span class="ident" id="6915687">testing</span><span class="op" id="6915694">.</span><span class="ident" id="6915695">B</span><span class="op" id="6915696">)</span>&nbsp;<span class="op" id="6915698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915701">b</span><span class="op" id="6915702">.</span><span class="ident" id="6915703">StopTimer</span><span class="op" id="6915712">(</span><span class="op" id="6915713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915716">x</span>&nbsp;<span class="op" id="6915718">:=</span>&nbsp;<span class="op" id="6915721">[</span><span class="op" id="6915722">]</span><span class="builtintype" id="6915723">byte</span><span class="op" id="6915727">(</span><span class="string" id="6915728">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6915756">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915759">re</span>&nbsp;<span class="op" id="6915762">:=</span>&nbsp;<span class="ident" id="6915765">MustCompile</span><span class="op" id="6915776">(</span><span class="string" id="6915777">&#34;^zbc(d|e)&#34;</span><span class="op" id="6915788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915791">b</span><span class="op" id="6915792">.</span><span class="ident" id="6915793">StartTimer</span><span class="op" id="6915803">(</span><span class="op" id="6915804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915807">for</span>&nbsp;<span class="ident" id="6915811">i</span>&nbsp;<span class="op" id="6915813">:=</span>&nbsp;<span class="num" id="6915816">0</span><span class="op" id="6915817">;</span>&nbsp;<span class="ident" id="6915819">i</span>&nbsp;<span class="op" id="6915821">&lt;</span>&nbsp;<span class="ident" id="6915823">b</span><span class="op" id="6915824">.</span><span class="ident" id="6915825">N</span><span class="op" id="6915826">;</span>&nbsp;<span class="ident" id="6915828">i</span><span class="op" id="6915829">++</span>&nbsp;<span class="op" id="6915832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915836">re</span><span class="op" id="6915838">.</span><span class="ident" id="6915839">Match</span><span class="op" id="6915844">(</span><span class="ident" id="6915845">x</span><span class="op" id="6915846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6915849">}</span><br>
<span class="lineno">560</span><span class="op" id="6915851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6915854">func</span>&nbsp;<span class="ident" id="6915859">BenchmarkAnchoredLiteralLongNonMatch</span><span class="op" id="6915895">(</span><span class="ident" id="6915896">b</span>&nbsp;<span class="op" id="6915898">*</span><span class="ident" id="6915899">testing</span><span class="op" id="6915906">.</span><span class="ident" id="6915907">B</span><span class="op" id="6915908">)</span>&nbsp;<span class="op" id="6915910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915913">b</span><span class="op" id="6915914">.</span><span class="ident" id="6915915">StopTimer</span><span class="op" id="6915924">(</span><span class="op" id="6915925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915928">x</span>&nbsp;<span class="op" id="6915930">:=</span>&nbsp;<span class="op" id="6915933">[</span><span class="op" id="6915934">]</span><span class="builtintype" id="6915935">byte</span><span class="op" id="6915939">(</span><span class="string" id="6915940">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6915968">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6915971">for</span>&nbsp;<span class="ident" id="6915975">i</span>&nbsp;<span class="op" id="6915977">:=</span>&nbsp;<span class="num" id="6915980">0</span><span class="op" id="6915981">;</span>&nbsp;<span class="ident" id="6915983">i</span>&nbsp;<span class="op" id="6915985">&lt;</span>&nbsp;<span class="num" id="6915987">15</span><span class="op" id="6915989">;</span>&nbsp;<span class="ident" id="6915991">i</span><span class="op" id="6915992">++</span>&nbsp;<span class="op" id="6915995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6915999">x</span>&nbsp;<span class="op" id="6916001">=</span>&nbsp;<span class="builtinfunc" id="6916003">append</span><span class="op" id="6916009">(</span><span class="ident" id="6916010">x</span><span class="op" id="6916011">,</span>&nbsp;<span class="ident" id="6916013">x</span><span class="op" id="6916014">...</span><span class="op" id="6916017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916023">re</span>&nbsp;<span class="op" id="6916026">:=</span>&nbsp;<span class="ident" id="6916029">MustCompile</span><span class="op" id="6916040">(</span><span class="string" id="6916041">&#34;^zbc(d|e)&#34;</span><span class="op" id="6916052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916055">b</span><span class="op" id="6916056">.</span><span class="ident" id="6916057">StartTimer</span><span class="op" id="6916067">(</span><span class="op" id="6916068">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916071">for</span>&nbsp;<span class="ident" id="6916075">i</span>&nbsp;<span class="op" id="6916077">:=</span>&nbsp;<span class="num" id="6916080">0</span><span class="op" id="6916081">;</span>&nbsp;<span class="ident" id="6916083">i</span>&nbsp;<span class="op" id="6916085">&lt;</span>&nbsp;<span class="ident" id="6916087">b</span><span class="op" id="6916088">.</span><span class="ident" id="6916089">N</span><span class="op" id="6916090">;</span>&nbsp;<span class="ident" id="6916092">i</span><span class="op" id="6916093">++</span>&nbsp;<span class="op" id="6916096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916100">re</span><span class="op" id="6916102">.</span><span class="ident" id="6916103">Match</span><span class="op" id="6916108">(</span><span class="ident" id="6916109">x</span><span class="op" id="6916110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916113">}</span><br>
<span class="lineno"></span><span class="op" id="6916115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="6916118">func</span>&nbsp;<span class="ident" id="6916123">BenchmarkAnchoredShortMatch</span><span class="op" id="6916150">(</span><span class="ident" id="6916151">b</span>&nbsp;<span class="op" id="6916153">*</span><span class="ident" id="6916154">testing</span><span class="op" id="6916161">.</span><span class="ident" id="6916162">B</span><span class="op" id="6916163">)</span>&nbsp;<span class="op" id="6916165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916168">b</span><span class="op" id="6916169">.</span><span class="ident" id="6916170">StopTimer</span><span class="op" id="6916179">(</span><span class="op" id="6916180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916183">x</span>&nbsp;<span class="op" id="6916185">:=</span>&nbsp;<span class="op" id="6916188">[</span><span class="op" id="6916189">]</span><span class="builtintype" id="6916190">byte</span><span class="op" id="6916194">(</span><span class="string" id="6916195">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6916223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916226">re</span>&nbsp;<span class="op" id="6916229">:=</span>&nbsp;<span class="ident" id="6916232">MustCompile</span><span class="op" id="6916243">(</span><span class="string" id="6916244">&#34;^.bc(d|e)&#34;</span><span class="op" id="6916255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916258">b</span><span class="op" id="6916259">.</span><span class="ident" id="6916260">StartTimer</span><span class="op" id="6916270">(</span><span class="op" id="6916271">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916274">for</span>&nbsp;<span class="ident" id="6916278">i</span>&nbsp;<span class="op" id="6916280">:=</span>&nbsp;<span class="num" id="6916283">0</span><span class="op" id="6916284">;</span>&nbsp;<span class="ident" id="6916286">i</span>&nbsp;<span class="op" id="6916288">&lt;</span>&nbsp;<span class="ident" id="6916290">b</span><span class="op" id="6916291">.</span><span class="ident" id="6916292">N</span><span class="op" id="6916293">;</span>&nbsp;<span class="ident" id="6916295">i</span><span class="op" id="6916296">++</span>&nbsp;<span class="op" id="6916299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916303">re</span><span class="op" id="6916305">.</span><span class="ident" id="6916306">Match</span><span class="op" id="6916311">(</span><span class="ident" id="6916312">x</span><span class="op" id="6916313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916316">}</span><br>
<span class="lineno"></span><span class="op" id="6916318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="6916321">func</span>&nbsp;<span class="ident" id="6916326">BenchmarkAnchoredLongMatch</span><span class="op" id="6916352">(</span><span class="ident" id="6916353">b</span>&nbsp;<span class="op" id="6916355">*</span><span class="ident" id="6916356">testing</span><span class="op" id="6916363">.</span><span class="ident" id="6916364">B</span><span class="op" id="6916365">)</span>&nbsp;<span class="op" id="6916367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916370">b</span><span class="op" id="6916371">.</span><span class="ident" id="6916372">StopTimer</span><span class="op" id="6916381">(</span><span class="op" id="6916382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916385">x</span>&nbsp;<span class="op" id="6916387">:=</span>&nbsp;<span class="op" id="6916390">[</span><span class="op" id="6916391">]</span><span class="builtintype" id="6916392">byte</span><span class="op" id="6916396">(</span><span class="string" id="6916397">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6916425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916428">for</span>&nbsp;<span class="ident" id="6916432">i</span>&nbsp;<span class="op" id="6916434">:=</span>&nbsp;<span class="num" id="6916437">0</span><span class="op" id="6916438">;</span>&nbsp;<span class="ident" id="6916440">i</span>&nbsp;<span class="op" id="6916442">&lt;</span>&nbsp;<span class="num" id="6916444">15</span><span class="op" id="6916446">;</span>&nbsp;<span class="ident" id="6916448">i</span><span class="op" id="6916449">++</span>&nbsp;<span class="op" id="6916452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916456">x</span>&nbsp;<span class="op" id="6916458">=</span>&nbsp;<span class="builtinfunc" id="6916460">append</span><span class="op" id="6916466">(</span><span class="ident" id="6916467">x</span><span class="op" id="6916468">,</span>&nbsp;<span class="ident" id="6916470">x</span><span class="op" id="6916471">...</span><span class="op" id="6916474">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916480">re</span>&nbsp;<span class="op" id="6916483">:=</span>&nbsp;<span class="ident" id="6916486">MustCompile</span><span class="op" id="6916497">(</span><span class="string" id="6916498">&#34;^.bc(d|e)&#34;</span><span class="op" id="6916509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916512">b</span><span class="op" id="6916513">.</span><span class="ident" id="6916514">StartTimer</span><span class="op" id="6916524">(</span><span class="op" id="6916525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916528">for</span>&nbsp;<span class="ident" id="6916532">i</span>&nbsp;<span class="op" id="6916534">:=</span>&nbsp;<span class="num" id="6916537">0</span><span class="op" id="6916538">;</span>&nbsp;<span class="ident" id="6916540">i</span>&nbsp;<span class="op" id="6916542">&lt;</span>&nbsp;<span class="ident" id="6916544">b</span><span class="op" id="6916545">.</span><span class="ident" id="6916546">N</span><span class="op" id="6916547">;</span>&nbsp;<span class="ident" id="6916549">i</span><span class="op" id="6916550">++</span>&nbsp;<span class="op" id="6916553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916557">re</span><span class="op" id="6916559">.</span><span class="ident" id="6916560">Match</span><span class="op" id="6916565">(</span><span class="ident" id="6916566">x</span><span class="op" id="6916567">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916570">}</span><br>
<span class="lineno"></span><span class="op" id="6916572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6916575">func</span>&nbsp;<span class="ident" id="6916580">BenchmarkOnePassShortA</span><span class="op" id="6916602">(</span><span class="ident" id="6916603">b</span>&nbsp;<span class="op" id="6916605">*</span><span class="ident" id="6916606">testing</span><span class="op" id="6916613">.</span><span class="ident" id="6916614">B</span><span class="op" id="6916615">)</span>&nbsp;<span class="op" id="6916617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916620">b</span><span class="op" id="6916621">.</span><span class="ident" id="6916622">StopTimer</span><span class="op" id="6916631">(</span><span class="op" id="6916632">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916635">x</span>&nbsp;<span class="op" id="6916637">:=</span>&nbsp;<span class="op" id="6916640">[</span><span class="op" id="6916641">]</span><span class="builtintype" id="6916642">byte</span><span class="op" id="6916646">(</span><span class="string" id="6916647">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6916666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916669">re</span>&nbsp;<span class="op" id="6916672">:=</span>&nbsp;<span class="ident" id="6916675">MustCompile</span><span class="op" id="6916686">(</span><span class="string" id="6916687">&#34;^.bc(d|e)*$&#34;</span><span class="op" id="6916700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916703">b</span><span class="op" id="6916704">.</span><span class="ident" id="6916705">StartTimer</span><span class="op" id="6916715">(</span><span class="op" id="6916716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916719">for</span>&nbsp;<span class="ident" id="6916723">i</span>&nbsp;<span class="op" id="6916725">:=</span>&nbsp;<span class="num" id="6916728">0</span><span class="op" id="6916729">;</span>&nbsp;<span class="ident" id="6916731">i</span>&nbsp;<span class="op" id="6916733">&lt;</span>&nbsp;<span class="ident" id="6916735">b</span><span class="op" id="6916736">.</span><span class="ident" id="6916737">N</span><span class="op" id="6916738">;</span>&nbsp;<span class="ident" id="6916740">i</span><span class="op" id="6916741">++</span>&nbsp;<span class="op" id="6916744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916748">re</span><span class="op" id="6916750">.</span><span class="ident" id="6916751">Match</span><span class="op" id="6916756">(</span><span class="ident" id="6916757">x</span><span class="op" id="6916758">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916761">}</span><br>
<span class="lineno"></span><span class="op" id="6916763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6916766">func</span>&nbsp;<span class="ident" id="6916771">BenchmarkNotOnePassShortA</span><span class="op" id="6916796">(</span><span class="ident" id="6916797">b</span>&nbsp;<span class="op" id="6916799">*</span><span class="ident" id="6916800">testing</span><span class="op" id="6916807">.</span><span class="ident" id="6916808">B</span><span class="op" id="6916809">)</span>&nbsp;<span class="op" id="6916811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916814">b</span><span class="op" id="6916815">.</span><span class="ident" id="6916816">StopTimer</span><span class="op" id="6916825">(</span><span class="op" id="6916826">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916829">x</span>&nbsp;<span class="op" id="6916831">:=</span>&nbsp;<span class="op" id="6916834">[</span><span class="op" id="6916835">]</span><span class="builtintype" id="6916836">byte</span><span class="op" id="6916840">(</span><span class="string" id="6916841">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6916860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916863">re</span>&nbsp;<span class="op" id="6916866">:=</span>&nbsp;<span class="ident" id="6916869">MustCompile</span><span class="op" id="6916880">(</span><span class="string" id="6916881">&#34;.bc(d|e)*$&#34;</span><span class="op" id="6916893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916896">b</span><span class="op" id="6916897">.</span><span class="ident" id="6916898">StartTimer</span><span class="op" id="6916908">(</span><span class="op" id="6916909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6916912">for</span>&nbsp;<span class="ident" id="6916916">i</span>&nbsp;<span class="op" id="6916918">:=</span>&nbsp;<span class="num" id="6916921">0</span><span class="op" id="6916922">;</span>&nbsp;<span class="ident" id="6916924">i</span>&nbsp;<span class="op" id="6916926">&lt;</span>&nbsp;<span class="ident" id="6916928">b</span><span class="op" id="6916929">.</span><span class="ident" id="6916930">N</span><span class="op" id="6916931">;</span>&nbsp;<span class="ident" id="6916933">i</span><span class="op" id="6916934">++</span>&nbsp;<span class="op" id="6916937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6916941">re</span><span class="op" id="6916943">.</span><span class="ident" id="6916944">Match</span><span class="op" id="6916949">(</span><span class="ident" id="6916950">x</span><span class="op" id="6916951">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6916954">}</span><br>
<span class="lineno"></span><span class="op" id="6916956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6916959">func</span>&nbsp;<span class="ident" id="6916964">BenchmarkOnePassShortB</span><span class="op" id="6916986">(</span><span class="ident" id="6916987">b</span>&nbsp;<span class="op" id="6916989">*</span><span class="ident" id="6916990">testing</span><span class="op" id="6916997">.</span><span class="ident" id="6916998">B</span><span class="op" id="6916999">)</span>&nbsp;<span class="op" id="6917001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917004">b</span><span class="op" id="6917005">.</span><span class="ident" id="6917006">StopTimer</span><span class="op" id="6917015">(</span><span class="op" id="6917016">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917019">x</span>&nbsp;<span class="op" id="6917021">:=</span>&nbsp;<span class="op" id="6917024">[</span><span class="op" id="6917025">]</span><span class="builtintype" id="6917026">byte</span><span class="op" id="6917030">(</span><span class="string" id="6917031">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6917050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917053">re</span>&nbsp;<span class="op" id="6917056">:=</span>&nbsp;<span class="ident" id="6917059">MustCompile</span><span class="op" id="6917070">(</span><span class="string" id="6917071">&#34;^.bc(?:d|e)*$&#34;</span><span class="op" id="6917086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917089">b</span><span class="op" id="6917090">.</span><span class="ident" id="6917091">StartTimer</span><span class="op" id="6917101">(</span><span class="op" id="6917102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6917105">for</span>&nbsp;<span class="ident" id="6917109">i</span>&nbsp;<span class="op" id="6917111">:=</span>&nbsp;<span class="num" id="6917114">0</span><span class="op" id="6917115">;</span>&nbsp;<span class="ident" id="6917117">i</span>&nbsp;<span class="op" id="6917119">&lt;</span>&nbsp;<span class="ident" id="6917121">b</span><span class="op" id="6917122">.</span><span class="ident" id="6917123">N</span><span class="op" id="6917124">;</span>&nbsp;<span class="ident" id="6917126">i</span><span class="op" id="6917127">++</span>&nbsp;<span class="op" id="6917130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917134">re</span><span class="op" id="6917136">.</span><span class="ident" id="6917137">Match</span><span class="op" id="6917142">(</span><span class="ident" id="6917143">x</span><span class="op" id="6917144">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6917147">}</span><br>
<span class="lineno"></span><span class="op" id="6917149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6917152">func</span>&nbsp;<span class="ident" id="6917157">BenchmarkNotOnePassShortB</span><span class="op" id="6917182">(</span><span class="ident" id="6917183">b</span>&nbsp;<span class="op" id="6917185">*</span><span class="ident" id="6917186">testing</span><span class="op" id="6917193">.</span><span class="ident" id="6917194">B</span><span class="op" id="6917195">)</span>&nbsp;<span class="op" id="6917197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917200">b</span><span class="op" id="6917201">.</span><span class="ident" id="6917202">StopTimer</span><span class="op" id="6917211">(</span><span class="op" id="6917212">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917215">x</span>&nbsp;<span class="op" id="6917217">:=</span>&nbsp;<span class="op" id="6917220">[</span><span class="op" id="6917221">]</span><span class="builtintype" id="6917222">byte</span><span class="op" id="6917226">(</span><span class="string" id="6917227">&#34;abcddddddeeeededd&#34;</span><span class="op" id="6917246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917249">re</span>&nbsp;<span class="op" id="6917252">:=</span>&nbsp;<span class="ident" id="6917255">MustCompile</span><span class="op" id="6917266">(</span><span class="string" id="6917267">&#34;.bc(?:d|e)*$&#34;</span><span class="op" id="6917281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917284">b</span><span class="op" id="6917285">.</span><span class="ident" id="6917286">StartTimer</span><span class="op" id="6917296">(</span><span class="op" id="6917297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6917300">for</span>&nbsp;<span class="ident" id="6917304">i</span>&nbsp;<span class="op" id="6917306">:=</span>&nbsp;<span class="num" id="6917309">0</span><span class="op" id="6917310">;</span>&nbsp;<span class="ident" id="6917312">i</span>&nbsp;<span class="op" id="6917314">&lt;</span>&nbsp;<span class="ident" id="6917316">b</span><span class="op" id="6917317">.</span><span class="ident" id="6917318">N</span><span class="op" id="6917319">;</span>&nbsp;<span class="ident" id="6917321">i</span><span class="op" id="6917322">++</span>&nbsp;<span class="op" id="6917325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917329">re</span><span class="op" id="6917331">.</span><span class="ident" id="6917332">Match</span><span class="op" id="6917337">(</span><span class="ident" id="6917338">x</span><span class="op" id="6917339">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6917342">}</span><br>
<span class="lineno"></span><span class="op" id="6917344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6917347">func</span>&nbsp;<span class="ident" id="6917352">BenchmarkOnePassLongPrefix</span><span class="op" id="6917378">(</span><span class="ident" id="6917379">b</span>&nbsp;<span class="op" id="6917381">*</span><span class="ident" id="6917382">testing</span><span class="op" id="6917389">.</span><span class="ident" id="6917390">B</span><span class="op" id="6917391">)</span>&nbsp;<span class="op" id="6917393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917396">b</span><span class="op" id="6917397">.</span><span class="ident" id="6917398">StopTimer</span><span class="op" id="6917407">(</span><span class="op" id="6917408">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917411">x</span>&nbsp;<span class="op" id="6917413">:=</span>&nbsp;<span class="op" id="6917416">[</span><span class="op" id="6917417">]</span><span class="builtintype" id="6917418">byte</span><span class="op" id="6917422">(</span><span class="string" id="6917423">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6917451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917454">re</span>&nbsp;<span class="op" id="6917457">:=</span>&nbsp;<span class="ident" id="6917460">MustCompile</span><span class="op" id="6917471">(</span><span class="string" id="6917472">&#34;^abcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="6917504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917507">b</span><span class="op" id="6917508">.</span><span class="ident" id="6917509">StartTimer</span><span class="op" id="6917519">(</span><span class="op" id="6917520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6917523">for</span>&nbsp;<span class="ident" id="6917527">i</span>&nbsp;<span class="op" id="6917529">:=</span>&nbsp;<span class="num" id="6917532">0</span><span class="op" id="6917533">;</span>&nbsp;<span class="ident" id="6917535">i</span>&nbsp;<span class="op" id="6917537">&lt;</span>&nbsp;<span class="ident" id="6917539">b</span><span class="op" id="6917540">.</span><span class="ident" id="6917541">N</span><span class="op" id="6917542">;</span>&nbsp;<span class="ident" id="6917544">i</span><span class="op" id="6917545">++</span>&nbsp;<span class="op" id="6917548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917552">re</span><span class="op" id="6917554">.</span><span class="ident" id="6917555">Match</span><span class="op" id="6917560">(</span><span class="ident" id="6917561">x</span><span class="op" id="6917562">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6917565">}</span><br>
<span class="lineno"></span><span class="op" id="6917567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6917570">func</span>&nbsp;<span class="ident" id="6917575">BenchmarkOnePassLongNotPrefix</span><span class="op" id="6917604">(</span><span class="ident" id="6917605">b</span>&nbsp;<span class="op" id="6917607">*</span><span class="ident" id="6917608">testing</span><span class="op" id="6917615">.</span><span class="ident" id="6917616">B</span><span class="op" id="6917617">)</span>&nbsp;<span class="op" id="6917619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917622">b</span><span class="op" id="6917623">.</span><span class="ident" id="6917624">StopTimer</span><span class="op" id="6917633">(</span><span class="op" id="6917634">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917637">x</span>&nbsp;<span class="op" id="6917639">:=</span>&nbsp;<span class="op" id="6917642">[</span><span class="op" id="6917643">]</span><span class="builtintype" id="6917644">byte</span><span class="op" id="6917648">(</span><span class="string" id="6917649">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="6917677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917680">re</span>&nbsp;<span class="op" id="6917683">:=</span>&nbsp;<span class="ident" id="6917686">MustCompile</span><span class="op" id="6917697">(</span><span class="string" id="6917698">&#34;^.bcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="6917730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917733">b</span><span class="op" id="6917734">.</span><span class="ident" id="6917735">StartTimer</span><span class="op" id="6917745">(</span><span class="op" id="6917746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6917749">for</span>&nbsp;<span class="ident" id="6917753">i</span>&nbsp;<span class="op" id="6917755">:=</span>&nbsp;<span class="num" id="6917758">0</span><span class="op" id="6917759">;</span>&nbsp;<span class="ident" id="6917761">i</span>&nbsp;<span class="op" id="6917763">&lt;</span>&nbsp;<span class="ident" id="6917765">b</span><span class="op" id="6917766">.</span><span class="ident" id="6917767">N</span><span class="op" id="6917768">;</span>&nbsp;<span class="ident" id="6917770">i</span><span class="op" id="6917771">++</span>&nbsp;<span class="op" id="6917774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6917778">re</span><span class="op" id="6917780">.</span><span class="ident" id="6917781">Match</span><span class="op" id="6917786">(</span><span class="ident" id="6917787">x</span><span class="op" id="6917788">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6917791">}</span><br>
<span class="lineno"></span><span class="op" id="6917793">}</span>
</div>
</body>
</html>
