<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html" class="current">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3327584">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3327640">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3327694">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3327745">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3327810">package</span>&nbsp;<span class="ident" id="3327818">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3327823">import</span>&nbsp;<span class="op" id="3327830">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3327833">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3327843">&#34;sync&#34;</span><br>
<span class="lineno"></span><span class="op" id="3327850">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3327853">var</span>&nbsp;<span class="ident" id="3327857">onceReadProtocols</span>&nbsp;<span class="ident" id="3327875"><a href="/gostd/net/lookup_unix.go.html#3327843">sync</a></span><span class="op" id="3327879">.</span><span class="ident" id="3327880"><a href="/gostd/sync/once.go.html#1446221">Once</a></span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3327886">//&nbsp;readProtocols&nbsp;loads&nbsp;contents&nbsp;of&nbsp;/etc/protocols&nbsp;into&nbsp;protocols&nbsp;map</span><br>
<span class="lineno"></span><span class="comment" id="3327955">//&nbsp;for&nbsp;quick&nbsp;access.</span><br>
<span class="lineno"></span><span class="keyword" id="3327976">func</span>&nbsp;<span class="ident" id="3327981">readProtocols</span><span class="op" id="3327994">(</span><span class="op" id="3327995">)</span>&nbsp;<span class="op" id="3327997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328000">if</span>&nbsp;<span class="ident" id="3328003">file</span><span class="op" id="3328007">,</span>&nbsp;<span class="ident" id="3328009">err</span>&nbsp;<span class="op" id="3328013">:=</span>&nbsp;<span class="ident" id="3328016"><a href="/gostd/net/parse.go.html#3345879">open</a></span><span class="op" id="3328020">(</span><span class="string" id="3328021">&#34;/etc/protocols&#34;</span><span class="op" id="3328037">)</span><span class="op" id="3328038">;</span>&nbsp;<span class="ident" id="3328040"><a href="/gostd/net/lookup_unix.go.html#3328009">err</a></span>&nbsp;<span class="op" id="3328044">==</span>&nbsp;<span class="builtintype" id="3328047">nil</span>&nbsp;<span class="op" id="3328051">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328055">for</span>&nbsp;<span class="ident" id="3328059">line</span><span class="op" id="3328063">,</span>&nbsp;<span class="ident" id="3328065">ok</span>&nbsp;<span class="op" id="3328068">:=</span>&nbsp;<span class="ident" id="3328071"><a href="/gostd/net/lookup_unix.go.html#3328003">file</a></span><span class="op" id="3328075">.</span><span class="ident" id="3328076"><a href="/gostd/net/parse.go.html#3345520">readLine</a></span><span class="op" id="3328084">(</span><span class="op" id="3328085">)</span><span class="op" id="3328086">;</span>&nbsp;<span class="ident" id="3328088"><a href="/gostd/net/lookup_unix.go.html#3328065">ok</a></span><span class="op" id="3328090">;</span>&nbsp;<span class="ident" id="3328092"><a href="/gostd/net/lookup_unix.go.html#3328059">line</a></span><span class="op" id="3328096">,</span>&nbsp;<span class="ident" id="3328098"><a href="/gostd/net/lookup_unix.go.html#3328065">ok</a></span>&nbsp;<span class="op" id="3328101">=</span>&nbsp;<span class="ident" id="3328103"><a href="/gostd/net/lookup_unix.go.html#3328003">file</a></span><span class="op" id="3328107">.</span><span class="ident" id="3328108"><a href="/gostd/net/parse.go.html#3345520">readLine</a></span><span class="op" id="3328116">(</span><span class="op" id="3328117">)</span>&nbsp;<span class="op" id="3328119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3328124">//&nbsp;tcp&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp;&nbsp;&nbsp;TCP&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;transmission&nbsp;control&nbsp;protocol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328180">if</span>&nbsp;<span class="ident" id="3328183">i</span>&nbsp;<span class="op" id="3328185">:=</span>&nbsp;<span class="ident" id="3328188"><a href="/gostd/net/parse.go.html#3346051">byteIndex</a></span><span class="op" id="3328197">(</span><span class="ident" id="3328198"><a href="/gostd/net/lookup_unix.go.html#3328059">line</a></span><span class="op" id="3328202">,</span>&nbsp;<span class="string" id="3328204">&#39;#&#39;</span><span class="op" id="3328207">)</span><span class="op" id="3328208">;</span>&nbsp;<span class="ident" id="3328210"><a href="/gostd/net/lookup_unix.go.html#3328183">i</a></span>&nbsp;<span class="op" id="3328212">&gt;=</span>&nbsp;<span class="num" id="3328215">0</span>&nbsp;<span class="op" id="3328217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3328223"><a href="/gostd/net/lookup_unix.go.html#3328059">line</a></span>&nbsp;<span class="op" id="3328228">=</span>&nbsp;<span class="ident" id="3328230"><a href="/gostd/net/lookup_unix.go.html#3328059">line</a></span><span class="op" id="3328234">[</span><span class="num" id="3328235">0</span><span class="op" id="3328236">:</span><span class="ident" id="3328237"><a href="/gostd/net/lookup_unix.go.html#3328183">i</a></span><span class="op" id="3328238">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3328243">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3328248">f</span>&nbsp;<span class="op" id="3328250">:=</span>&nbsp;<span class="ident" id="3328253"><a href="/gostd/net/parse.go.html#3346715">getFields</a></span><span class="op" id="3328262">(</span><span class="ident" id="3328263"><a href="/gostd/net/lookup_unix.go.html#3328059">line</a></span><span class="op" id="3328267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328272">if</span>&nbsp;<span class="builtinfunc" id="3328275">len</span><span class="op" id="3328278">(</span><span class="ident" id="3328279"><a href="/gostd/net/lookup_unix.go.html#3328248">f</a></span><span class="op" id="3328280">)</span>&nbsp;<span class="op" id="3328282">&lt;</span>&nbsp;<span class="num" id="3328284">2</span>&nbsp;<span class="op" id="3328286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328292">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3328304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328309">if</span>&nbsp;<span class="ident" id="3328312">proto</span><span class="op" id="3328317">,</span>&nbsp;<span class="ident" id="3328319">_</span><span class="op" id="3328320">,</span>&nbsp;<span class="ident" id="3328322">ok</span>&nbsp;<span class="op" id="3328325">:=</span>&nbsp;<span class="ident" id="3328328"><a href="/gostd/net/parse.go.html#3346952">dtoi</a></span><span class="op" id="3328332">(</span><span class="ident" id="3328333"><a href="/gostd/net/lookup_unix.go.html#3328248">f</a></span><span class="op" id="3328334">[</span><span class="num" id="3328335">1</span><span class="op" id="3328336">]</span><span class="op" id="3328337">,</span>&nbsp;<span class="num" id="3328339">0</span><span class="op" id="3328340">)</span><span class="op" id="3328341">;</span>&nbsp;<span class="ident" id="3328343"><a href="/gostd/net/lookup_unix.go.html#3328322">ok</a></span>&nbsp;<span class="op" id="3328346">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328352">if</span>&nbsp;<span class="ident" id="3328355">_</span><span class="op" id="3328356">,</span>&nbsp;<span class="ident" id="3328358">ok</span>&nbsp;<span class="op" id="3328361">:=</span>&nbsp;<span class="ident" id="3328364"><a href="/gostd/net/lookup.go.html#3323548">protocols</a></span><span class="op" id="3328373">[</span><span class="ident" id="3328374"><a href="/gostd/net/lookup_unix.go.html#3328248">f</a></span><span class="op" id="3328375">[</span><span class="num" id="3328376">0</span><span class="op" id="3328377">]</span><span class="op" id="3328378">]</span><span class="op" id="3328379">;</span>&nbsp;<span class="op" id="3328381">!</span><span class="ident" id="3328382"><a href="/gostd/net/lookup_unix.go.html#3328358">ok</a></span>&nbsp;<span class="op" id="3328385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3328392"><a href="/gostd/net/lookup.go.html#3323548">protocols</a></span><span class="op" id="3328401">[</span><span class="ident" id="3328402"><a href="/gostd/net/lookup_unix.go.html#3328248">f</a></span><span class="op" id="3328403">[</span><span class="num" id="3328404">0</span><span class="op" id="3328405">]</span><span class="op" id="3328406">]</span>&nbsp;<span class="op" id="3328408">=</span>&nbsp;<span class="ident" id="3328410"><a href="/gostd/net/lookup_unix.go.html#3328312">proto</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3328420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328426">for</span>&nbsp;<span class="ident" id="3328430">_</span><span class="op" id="3328431">,</span>&nbsp;<span class="ident" id="3328433">alias</span>&nbsp;<span class="op" id="3328439">:=</span>&nbsp;<span class="keyword" id="3328442">range</span>&nbsp;<span class="ident" id="3328448"><a href="/gostd/net/lookup_unix.go.html#3328248">f</a></span><span class="op" id="3328449">[</span><span class="num" id="3328450">2</span><span class="op" id="3328451">:</span><span class="op" id="3328452">]</span>&nbsp;<span class="op" id="3328454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328461">if</span>&nbsp;<span class="ident" id="3328464">_</span><span class="op" id="3328465">,</span>&nbsp;<span class="ident" id="3328467">ok</span>&nbsp;<span class="op" id="3328470">:=</span>&nbsp;<span class="ident" id="3328473"><a href="/gostd/net/lookup.go.html#3323548">protocols</a></span><span class="op" id="3328482">[</span><span class="ident" id="3328483"><a href="/gostd/net/lookup_unix.go.html#3328433">alias</a></span><span class="op" id="3328488">]</span><span class="op" id="3328489">;</span>&nbsp;<span class="op" id="3328491">!</span><span class="ident" id="3328492"><a href="/gostd/net/lookup_unix.go.html#3328467">ok</a></span>&nbsp;<span class="op" id="3328495">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3328503"><a href="/gostd/net/lookup.go.html#3323548">protocols</a></span><span class="op" id="3328512">[</span><span class="ident" id="3328513"><a href="/gostd/net/lookup_unix.go.html#3328433">alias</a></span><span class="op" id="3328518">]</span>&nbsp;<span class="op" id="3328520">=</span>&nbsp;<span class="ident" id="3328522"><a href="/gostd/net/lookup_unix.go.html#3328312">proto</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3328533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3328539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3328544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3328548">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3328552"><a href="/gostd/net/lookup_unix.go.html#3328003">file</a></span><span class="op" id="3328556">.</span><span class="builtinfunc" id="3328557"><a href="/gostd/net/parse.go.html#3345062">close</a></span><span class="op" id="3328562">(</span><span class="op" id="3328563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3328566">}</span><br>
<span class="lineno"></span><span class="op" id="3328568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3328571">//&nbsp;lookupProtocol&nbsp;looks&nbsp;up&nbsp;IP&nbsp;protocol&nbsp;name&nbsp;in&nbsp;/etc/protocols&nbsp;and</span><br>
<span class="lineno">45</span><span class="comment" id="3328637">//&nbsp;returns&nbsp;correspondent&nbsp;protocol&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="3328679">func</span>&nbsp;<span class="ident" id="3328684">lookupProtocol</span><span class="op" id="3328698">(</span><span class="ident" id="3328699">name</span>&nbsp;<span class="builtintype" id="3328704">string</span><span class="op" id="3328710">)</span>&nbsp;<span class="op" id="3328712">(</span><span class="ident" id="3328713">proto</span>&nbsp;<span class="builtintype" id="3328719">int</span><span class="op" id="3328722">,</span>&nbsp;<span class="ident" id="3328724">err</span>&nbsp;<span class="builtintype" id="3328728">error</span><span class="op" id="3328733">)</span>&nbsp;<span class="op" id="3328735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3328738"><a href="/gostd/net/lookup_unix.go.html#3327857">onceReadProtocols</a></span><span class="op" id="3328755">.</span><span class="ident" id="3328756"><a href="/gostd/sync/once.go.html#1447110">Do</a></span><span class="op" id="3328758">(</span><span class="ident" id="3328759"><a href="/gostd/net/lookup_unix.go.html#3327981">readProtocols</a></span><span class="op" id="3328772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3328775"><a href="/gostd/net/lookup_unix.go.html#3328713">proto</a></span><span class="op" id="3328780">,</span>&nbsp;<span class="ident" id="3328782">found</span>&nbsp;<span class="op" id="3328788">:=</span>&nbsp;<span class="ident" id="3328791"><a href="/gostd/net/lookup.go.html#3323548">protocols</a></span><span class="op" id="3328800">[</span><span class="ident" id="3328801"><a href="/gostd/net/lookup_unix.go.html#3328699">name</a></span><span class="op" id="3328805">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328808">if</span>&nbsp;<span class="op" id="3328811">!</span><span class="ident" id="3328812"><a href="/gostd/net/lookup_unix.go.html#3328782">found</a></span>&nbsp;<span class="op" id="3328818">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328822">return</span>&nbsp;<span class="num" id="3328829">0</span><span class="op" id="3328830">,</span>&nbsp;<span class="ident" id="3328832"><a href="/gostd/net/lookup_unix.go.html#3327833">errors</a></span><span class="op" id="3328838">.</span><span class="ident" id="3328839"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3328842">(</span><span class="string" id="3328843">&#34;unknown&nbsp;IP&nbsp;protocol&nbsp;specified:&nbsp;&#34;</span>&nbsp;<span class="op" id="3328877">+</span>&nbsp;<span class="ident" id="3328879"><a href="/gostd/net/lookup_unix.go.html#3328699">name</a></span><span class="op" id="3328883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3328886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328889">return</span><br>
<span class="lineno"></span><span class="op" id="3328896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="3328899">func</span>&nbsp;<span class="ident" id="3328904">lookupHost</span><span class="op" id="3328914">(</span><span class="ident" id="3328915">host</span>&nbsp;<span class="builtintype" id="3328920">string</span><span class="op" id="3328926">)</span>&nbsp;<span class="op" id="3328928">(</span><span class="ident" id="3328929">addrs</span>&nbsp;<span class="op" id="3328935">[</span><span class="op" id="3328936">]</span><span class="builtintype" id="3328937">string</span><span class="op" id="3328943">,</span>&nbsp;<span class="ident" id="3328945">err</span>&nbsp;<span class="builtintype" id="3328949">error</span><span class="op" id="3328954">)</span>&nbsp;<span class="op" id="3328956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3328959"><a href="/gostd/net/lookup_unix.go.html#3328929">addrs</a></span><span class="op" id="3328964">,</span>&nbsp;<span class="ident" id="3328966"><a href="/gostd/net/lookup_unix.go.html#3328945">err</a></span><span class="op" id="3328969">,</span>&nbsp;<span class="ident" id="3328971">ok</span>&nbsp;<span class="op" id="3328974">:=</span>&nbsp;<span class="ident" id="3328977"><a href="/gostd/net/cgo_stub.go.html#3198892">cgoLookupHost</a></span><span class="op" id="3328990">(</span><span class="ident" id="3328991"><a href="/gostd/net/lookup_unix.go.html#3328915">host</a></span><span class="op" id="3328995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3328998">if</span>&nbsp;<span class="op" id="3329001">!</span><span class="ident" id="3329002"><a href="/gostd/net/lookup_unix.go.html#3328971">ok</a></span>&nbsp;<span class="op" id="3329005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329009"><a href="/gostd/net/lookup_unix.go.html#3328929">addrs</a></span><span class="op" id="3329014">,</span>&nbsp;<span class="ident" id="3329016"><a href="/gostd/net/lookup_unix.go.html#3328945">err</a></span>&nbsp;<span class="op" id="3329020">=</span>&nbsp;<span class="ident" id="3329022"><a href="/gostd/net/dnsclient_unix.go.html#3223104">goLookupHost</a></span><span class="op" id="3329034">(</span><span class="ident" id="3329035"><a href="/gostd/net/lookup_unix.go.html#3328915">host</a></span><span class="op" id="3329039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3329042">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329045">return</span><br>
<span class="lineno"></span><span class="op" id="3329052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3329055">func</span>&nbsp;<span class="ident" id="3329060">lookupIP</span><span class="op" id="3329068">(</span><span class="ident" id="3329069">host</span>&nbsp;<span class="builtintype" id="3329074">string</span><span class="op" id="3329080">)</span>&nbsp;<span class="op" id="3329082">(</span><span class="ident" id="3329083">addrs</span>&nbsp;<span class="op" id="3329089">[</span><span class="op" id="3329090">]</span><span class="ident" id="3329091"><a href="/gostd/net/ip.go.html#3286271">IP</a></span><span class="op" id="3329093">,</span>&nbsp;<span class="ident" id="3329095">err</span>&nbsp;<span class="builtintype" id="3329099">error</span><span class="op" id="3329104">)</span>&nbsp;<span class="op" id="3329106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329109"><a href="/gostd/net/lookup_unix.go.html#3329083">addrs</a></span><span class="op" id="3329114">,</span>&nbsp;<span class="ident" id="3329116"><a href="/gostd/net/lookup_unix.go.html#3329095">err</a></span><span class="op" id="3329119">,</span>&nbsp;<span class="ident" id="3329121">ok</span>&nbsp;<span class="op" id="3329124">:=</span>&nbsp;<span class="ident" id="3329127"><a href="/gostd/net/cgo_stub.go.html#3199106">cgoLookupIP</a></span><span class="op" id="3329138">(</span><span class="ident" id="3329139"><a href="/gostd/net/lookup_unix.go.html#3329069">host</a></span><span class="op" id="3329143">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329146">if</span>&nbsp;<span class="op" id="3329149">!</span><span class="ident" id="3329150"><a href="/gostd/net/lookup_unix.go.html#3329121">ok</a></span>&nbsp;<span class="op" id="3329153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329157"><a href="/gostd/net/lookup_unix.go.html#3329083">addrs</a></span><span class="op" id="3329162">,</span>&nbsp;<span class="ident" id="3329164"><a href="/gostd/net/lookup_unix.go.html#3329095">err</a></span>&nbsp;<span class="op" id="3329168">=</span>&nbsp;<span class="ident" id="3329170"><a href="/gostd/net/dnsclient_unix.go.html#3223765">goLookupIP</a></span><span class="op" id="3329180">(</span><span class="ident" id="3329181"><a href="/gostd/net/lookup_unix.go.html#3329069">host</a></span><span class="op" id="3329185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3329188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329191">return</span><br>
<span class="lineno"></span><span class="op" id="3329198">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="3329201">func</span>&nbsp;<span class="ident" id="3329206">lookupPort</span><span class="op" id="3329216">(</span><span class="ident" id="3329217">network</span><span class="op" id="3329224">,</span>&nbsp;<span class="ident" id="3329226">service</span>&nbsp;<span class="builtintype" id="3329234">string</span><span class="op" id="3329240">)</span>&nbsp;<span class="op" id="3329242">(</span><span class="ident" id="3329243">port</span>&nbsp;<span class="builtintype" id="3329248">int</span><span class="op" id="3329251">,</span>&nbsp;<span class="ident" id="3329253">err</span>&nbsp;<span class="builtintype" id="3329257">error</span><span class="op" id="3329262">)</span>&nbsp;<span class="op" id="3329264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329267"><a href="/gostd/net/lookup_unix.go.html#3329243">port</a></span><span class="op" id="3329271">,</span>&nbsp;<span class="ident" id="3329273"><a href="/gostd/net/lookup_unix.go.html#3329253">err</a></span><span class="op" id="3329276">,</span>&nbsp;<span class="ident" id="3329278">ok</span>&nbsp;<span class="op" id="3329281">:=</span>&nbsp;<span class="ident" id="3329284"><a href="/gostd/net/cgo_stub.go.html#3198997">cgoLookupPort</a></span><span class="op" id="3329297">(</span><span class="ident" id="3329298"><a href="/gostd/net/lookup_unix.go.html#3329217">network</a></span><span class="op" id="3329305">,</span>&nbsp;<span class="ident" id="3329307"><a href="/gostd/net/lookup_unix.go.html#3329226">service</a></span><span class="op" id="3329314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329317">if</span>&nbsp;<span class="op" id="3329320">!</span><span class="ident" id="3329321"><a href="/gostd/net/lookup_unix.go.html#3329278">ok</a></span>&nbsp;<span class="op" id="3329324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329328"><a href="/gostd/net/lookup_unix.go.html#3329243">port</a></span><span class="op" id="3329332">,</span>&nbsp;<span class="ident" id="3329334"><a href="/gostd/net/lookup_unix.go.html#3329253">err</a></span>&nbsp;<span class="op" id="3329338">=</span>&nbsp;<span class="ident" id="3329340"><a href="/gostd/net/port_unix.go.html#3352588">goLookupPort</a></span><span class="op" id="3329352">(</span><span class="ident" id="3329353"><a href="/gostd/net/lookup_unix.go.html#3329217">network</a></span><span class="op" id="3329360">,</span>&nbsp;<span class="ident" id="3329362"><a href="/gostd/net/lookup_unix.go.html#3329226">service</a></span><span class="op" id="3329369">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3329372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329375">return</span><br>
<span class="lineno"></span><span class="op" id="3329382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3329385">func</span>&nbsp;<span class="ident" id="3329390">lookupCNAME</span><span class="op" id="3329401">(</span><span class="ident" id="3329402">name</span>&nbsp;<span class="builtintype" id="3329407">string</span><span class="op" id="3329413">)</span>&nbsp;<span class="op" id="3329415">(</span><span class="ident" id="3329416">cname</span>&nbsp;<span class="builtintype" id="3329422">string</span><span class="op" id="3329428">,</span>&nbsp;<span class="ident" id="3329430">err</span>&nbsp;<span class="builtintype" id="3329434">error</span><span class="op" id="3329439">)</span>&nbsp;<span class="op" id="3329441">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329444"><a href="/gostd/net/lookup_unix.go.html#3329416">cname</a></span><span class="op" id="3329449">,</span>&nbsp;<span class="ident" id="3329451"><a href="/gostd/net/lookup_unix.go.html#3329430">err</a></span><span class="op" id="3329454">,</span>&nbsp;<span class="ident" id="3329456">ok</span>&nbsp;<span class="op" id="3329459">:=</span>&nbsp;<span class="ident" id="3329462"><a href="/gostd/net/cgo_stub.go.html#3199205">cgoLookupCNAME</a></span><span class="op" id="3329476">(</span><span class="ident" id="3329477"><a href="/gostd/net/lookup_unix.go.html#3329402">name</a></span><span class="op" id="3329481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329484">if</span>&nbsp;<span class="op" id="3329487">!</span><span class="ident" id="3329488"><a href="/gostd/net/lookup_unix.go.html#3329456">ok</a></span>&nbsp;<span class="op" id="3329491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329495"><a href="/gostd/net/lookup_unix.go.html#3329416">cname</a></span><span class="op" id="3329500">,</span>&nbsp;<span class="ident" id="3329502"><a href="/gostd/net/lookup_unix.go.html#3329430">err</a></span>&nbsp;<span class="op" id="3329506">=</span>&nbsp;<span class="ident" id="3329508"><a href="/gostd/net/dnsclient_unix.go.html#3225066">goLookupCNAME</a></span><span class="op" id="3329521">(</span><span class="ident" id="3329522"><a href="/gostd/net/lookup_unix.go.html#3329402">name</a></span><span class="op" id="3329526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3329529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329532">return</span><br>
<span class="lineno">85</span><span class="op" id="3329539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3329542">func</span>&nbsp;<span class="ident" id="3329547">lookupSRV</span><span class="op" id="3329556">(</span><span class="ident" id="3329557">service</span><span class="op" id="3329564">,</span>&nbsp;<span class="ident" id="3329566">proto</span><span class="op" id="3329571">,</span>&nbsp;<span class="ident" id="3329573">name</span>&nbsp;<span class="builtintype" id="3329578">string</span><span class="op" id="3329584">)</span>&nbsp;<span class="op" id="3329586">(</span><span class="ident" id="3329587">cname</span>&nbsp;<span class="builtintype" id="3329593">string</span><span class="op" id="3329599">,</span>&nbsp;<span class="ident" id="3329601">addrs</span>&nbsp;<span class="op" id="3329607">[</span><span class="op" id="3329608">]</span><span class="op" id="3329609">*</span><span class="ident" id="3329610"><a href="/gostd/net/dnsclient.go.html#3212752">SRV</a></span><span class="op" id="3329613">,</span>&nbsp;<span class="ident" id="3329615">err</span>&nbsp;<span class="builtintype" id="3329619">error</span><span class="op" id="3329624">)</span>&nbsp;<span class="op" id="3329626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329629">var</span>&nbsp;<span class="ident" id="3329633">target</span>&nbsp;<span class="builtintype" id="3329640">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329648">if</span>&nbsp;<span class="ident" id="3329651"><a href="/gostd/net/lookup_unix.go.html#3329557">service</a></span>&nbsp;<span class="op" id="3329659">==</span>&nbsp;<span class="string" id="3329662">&#34;&#34;</span>&nbsp;<span class="op" id="3329665">&amp;&amp;</span>&nbsp;<span class="ident" id="3329668"><a href="/gostd/net/lookup_unix.go.html#3329566">proto</a></span>&nbsp;<span class="op" id="3329674">==</span>&nbsp;<span class="string" id="3329677">&#34;&#34;</span>&nbsp;<span class="op" id="3329680">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329684"><a href="/gostd/net/lookup_unix.go.html#3329633">target</a></span>&nbsp;<span class="op" id="3329691">=</span>&nbsp;<span class="ident" id="3329693"><a href="/gostd/net/lookup_unix.go.html#3329573">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3329699">}</span>&nbsp;<span class="keyword" id="3329701">else</span>&nbsp;<span class="op" id="3329706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329710"><a href="/gostd/net/lookup_unix.go.html#3329633">target</a></span>&nbsp;<span class="op" id="3329717">=</span>&nbsp;<span class="string" id="3329719">&#34;_&#34;</span>&nbsp;<span class="op" id="3329723">+</span>&nbsp;<span class="ident" id="3329725"><a href="/gostd/net/lookup_unix.go.html#3329557">service</a></span>&nbsp;<span class="op" id="3329733">+</span>&nbsp;<span class="string" id="3329735">&#34;._&#34;</span>&nbsp;<span class="op" id="3329740">+</span>&nbsp;<span class="ident" id="3329742"><a href="/gostd/net/lookup_unix.go.html#3329566">proto</a></span>&nbsp;<span class="op" id="3329748">+</span>&nbsp;<span class="string" id="3329750">&#34;.&#34;</span>&nbsp;<span class="op" id="3329754">+</span>&nbsp;<span class="ident" id="3329756"><a href="/gostd/net/lookup_unix.go.html#3329573">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3329762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329765">var</span>&nbsp;<span class="ident" id="3329769">records</span>&nbsp;<span class="op" id="3329777">[</span><span class="op" id="3329778">]</span><span class="ident" id="3329779"><a href="/gostd/net/dnsmsg.go.html#3231784">dnsRR</a></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329786"><a href="/gostd/net/lookup_unix.go.html#3329587">cname</a></span><span class="op" id="3329791">,</span>&nbsp;<span class="ident" id="3329793"><a href="/gostd/net/lookup_unix.go.html#3329769">records</a></span><span class="op" id="3329800">,</span>&nbsp;<span class="ident" id="3329802"><a href="/gostd/net/lookup_unix.go.html#3329615">err</a></span>&nbsp;<span class="op" id="3329806">=</span>&nbsp;<span class="ident" id="3329808"><a href="/gostd/net/dnsclient_unix.go.html#3221207">lookup</a></span><span class="op" id="3329814">(</span><span class="ident" id="3329815"><a href="/gostd/net/lookup_unix.go.html#3329633">target</a></span><span class="op" id="3329821">,</span>&nbsp;<span class="ident" id="3329823"><a href="/gostd/net/dnsmsg.go.html#3229100">dnsTypeSRV</a></span><span class="op" id="3329833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329836">if</span>&nbsp;<span class="ident" id="3329839"><a href="/gostd/net/lookup_unix.go.html#3329615">err</a></span>&nbsp;<span class="op" id="3329843">!=</span>&nbsp;<span class="builtintype" id="3329846">nil</span>&nbsp;<span class="op" id="3329850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329854">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3329862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329865"><a href="/gostd/net/lookup_unix.go.html#3329601">addrs</a></span>&nbsp;<span class="op" id="3329871">=</span>&nbsp;<span class="builtinfunc" id="3329873">make</span><span class="op" id="3329877">(</span><span class="op" id="3329878">[</span><span class="op" id="3329879">]</span><span class="op" id="3329880">*</span><span class="ident" id="3329881"><a href="/gostd/net/dnsclient.go.html#3212752">SRV</a></span><span class="op" id="3329884">,</span>&nbsp;<span class="builtinfunc" id="3329886">len</span><span class="op" id="3329889">(</span><span class="ident" id="3329890"><a href="/gostd/net/lookup_unix.go.html#3329769">records</a></span><span class="op" id="3329897">)</span><span class="op" id="3329898">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3329901">for</span>&nbsp;<span class="ident" id="3329905">i</span><span class="op" id="3329906">,</span>&nbsp;<span class="ident" id="3329908">rr</span>&nbsp;<span class="op" id="3329911">:=</span>&nbsp;<span class="keyword" id="3329914">range</span>&nbsp;<span class="ident" id="3329920"><a href="/gostd/net/lookup_unix.go.html#3329769">records</a></span>&nbsp;<span class="op" id="3329928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329932">r</span>&nbsp;<span class="op" id="3329934">:=</span>&nbsp;<span class="ident" id="3329937"><a href="/gostd/net/lookup_unix.go.html#3329908">rr</a></span><span class="op" id="3329939">.</span><span class="op" id="3329940">(</span><span class="op" id="3329941">*</span><span class="ident" id="3329942"><a href="/gostd/net/dnsmsg.go.html#3235398">dnsRR_SRV</a></span><span class="op" id="3329951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3329955"><a href="/gostd/net/lookup_unix.go.html#3329601">addrs</a></span><span class="op" id="3329960">[</span><span class="ident" id="3329961"><a href="/gostd/net/lookup_unix.go.html#3329905">i</a></span><span class="op" id="3329962">]</span>&nbsp;<span class="op" id="3329964">=</span>&nbsp;<span class="op" id="3329966">&amp;</span><span class="ident" id="3329967"><a href="/gostd/net/dnsclient.go.html#3212752">SRV</a></span><span class="op" id="3329970">{</span><span class="ident" id="3329971"><a href="/gostd/net/lookup_unix.go.html#3329932">r</a></span><span class="op" id="3329972">.</span><span class="ident" id="3329973"><a href="/gostd/net/dnsmsg.go.html#3235492">Target</a></span><span class="op" id="3329979">,</span>&nbsp;<span class="ident" id="3329981"><a href="/gostd/net/lookup_unix.go.html#3329932">r</a></span><span class="op" id="3329982">.</span><span class="ident" id="3329983"><a href="/gostd/net/dnsmsg.go.html#3235475">Port</a></span><span class="op" id="3329987">,</span>&nbsp;<span class="ident" id="3329989"><a href="/gostd/net/lookup_unix.go.html#3329932">r</a></span><span class="op" id="3329990">.</span><span class="ident" id="3329991"><a href="/gostd/net/dnsmsg.go.html#3235441">Priority</a></span><span class="op" id="3329999">,</span>&nbsp;<span class="ident" id="3330001"><a href="/gostd/net/lookup_unix.go.html#3329932">r</a></span><span class="op" id="3330002">.</span><span class="ident" id="3330003"><a href="/gostd/net/dnsmsg.go.html#3235458">Weight</a></span><span class="op" id="3330009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3330012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330015"><a href="/gostd/net/dnsclient.go.html#3212913">byPriorityWeight</a></span><span class="op" id="3330031">(</span><span class="ident" id="3330032"><a href="/gostd/net/lookup_unix.go.html#3329601">addrs</a></span><span class="op" id="3330037">)</span><span class="op" id="3330038">.</span><span class="ident" id="3330039"><a href="/gostd/net/dnsclient.go.html#3213792">sort</a></span><span class="op" id="3330043">(</span><span class="op" id="3330044">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330047">return</span><br>
<span class="lineno"></span><span class="op" id="3330054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3330057">func</span>&nbsp;<span class="ident" id="3330062">lookupMX</span><span class="op" id="3330070">(</span><span class="ident" id="3330071">name</span>&nbsp;<span class="builtintype" id="3330076">string</span><span class="op" id="3330082">)</span>&nbsp;<span class="op" id="3330084">(</span><span class="ident" id="3330085">mx</span>&nbsp;<span class="op" id="3330088">[</span><span class="op" id="3330089">]</span><span class="op" id="3330090">*</span><span class="ident" id="3330091"><a href="/gostd/net/dnsclient.go.html#3214037">MX</a></span><span class="op" id="3330093">,</span>&nbsp;<span class="ident" id="3330095">err</span>&nbsp;<span class="builtintype" id="3330099">error</span><span class="op" id="3330104">)</span>&nbsp;<span class="op" id="3330106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330109">_</span><span class="op" id="3330110">,</span>&nbsp;<span class="ident" id="3330112">records</span><span class="op" id="3330119">,</span>&nbsp;<span class="ident" id="3330121"><a href="/gostd/net/lookup_unix.go.html#3330095">err</a></span>&nbsp;<span class="op" id="3330125">:=</span>&nbsp;<span class="ident" id="3330128"><a href="/gostd/net/dnsclient_unix.go.html#3221207">lookup</a></span><span class="op" id="3330134">(</span><span class="ident" id="3330135"><a href="/gostd/net/lookup_unix.go.html#3330071">name</a></span><span class="op" id="3330139">,</span>&nbsp;<span class="ident" id="3330141"><a href="/gostd/net/dnsmsg.go.html#3229043">dnsTypeMX</a></span><span class="op" id="3330150">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330153">if</span>&nbsp;<span class="ident" id="3330156"><a href="/gostd/net/lookup_unix.go.html#3330095">err</a></span>&nbsp;<span class="op" id="3330160">!=</span>&nbsp;<span class="builtintype" id="3330163">nil</span>&nbsp;<span class="op" id="3330167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330171">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3330179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330182"><a href="/gostd/net/lookup_unix.go.html#3330085">mx</a></span>&nbsp;<span class="op" id="3330185">=</span>&nbsp;<span class="builtinfunc" id="3330187">make</span><span class="op" id="3330191">(</span><span class="op" id="3330192">[</span><span class="op" id="3330193">]</span><span class="op" id="3330194">*</span><span class="ident" id="3330195"><a href="/gostd/net/dnsclient.go.html#3214037">MX</a></span><span class="op" id="3330197">,</span>&nbsp;<span class="builtinfunc" id="3330199">len</span><span class="op" id="3330202">(</span><span class="ident" id="3330203"><a href="/gostd/net/lookup_unix.go.html#3330112">records</a></span><span class="op" id="3330210">)</span><span class="op" id="3330211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330214">for</span>&nbsp;<span class="ident" id="3330218">i</span><span class="op" id="3330219">,</span>&nbsp;<span class="ident" id="3330221">rr</span>&nbsp;<span class="op" id="3330224">:=</span>&nbsp;<span class="keyword" id="3330227">range</span>&nbsp;<span class="ident" id="3330233"><a href="/gostd/net/lookup_unix.go.html#3330112">records</a></span>&nbsp;<span class="op" id="3330241">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330245">r</span>&nbsp;<span class="op" id="3330247">:=</span>&nbsp;<span class="ident" id="3330250"><a href="/gostd/net/lookup_unix.go.html#3330221">rr</a></span><span class="op" id="3330252">.</span><span class="op" id="3330253">(</span><span class="op" id="3330254">*</span><span class="ident" id="3330255"><a href="/gostd/net/dnsmsg.go.html#3233659">dnsRR_MX</a></span><span class="op" id="3330263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330267"><a href="/gostd/net/lookup_unix.go.html#3330085">mx</a></span><span class="op" id="3330269">[</span><span class="ident" id="3330270"><a href="/gostd/net/lookup_unix.go.html#3330218">i</a></span><span class="op" id="3330271">]</span>&nbsp;<span class="op" id="3330273">=</span>&nbsp;<span class="op" id="3330275">&amp;</span><span class="ident" id="3330276"><a href="/gostd/net/dnsclient.go.html#3214037">MX</a></span><span class="op" id="3330278">{</span><span class="ident" id="3330279"><a href="/gostd/net/lookup_unix.go.html#3330245">r</a></span><span class="op" id="3330280">.</span><span class="ident" id="3330281"><a href="/gostd/net/dnsmsg.go.html#3233710">Mx</a></span><span class="op" id="3330283">,</span>&nbsp;<span class="ident" id="3330285"><a href="/gostd/net/lookup_unix.go.html#3330245">r</a></span><span class="op" id="3330286">.</span><span class="ident" id="3330287"><a href="/gostd/net/dnsmsg.go.html#3233697">Pref</a></span><span class="op" id="3330291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3330294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330297"><a href="/gostd/net/dnsclient.go.html#3214152">byPref</a></span><span class="op" id="3330303">(</span><span class="ident" id="3330304"><a href="/gostd/net/lookup_unix.go.html#3330085">mx</a></span><span class="op" id="3330306">)</span><span class="op" id="3330307">.</span><span class="ident" id="3330308"><a href="/gostd/net/dnsclient.go.html#3214411">sort</a></span><span class="op" id="3330312">(</span><span class="op" id="3330313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330316">return</span><br>
<span class="lineno">120</span><span class="op" id="3330323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3330326">func</span>&nbsp;<span class="ident" id="3330331">lookupNS</span><span class="op" id="3330339">(</span><span class="ident" id="3330340">name</span>&nbsp;<span class="builtintype" id="3330345">string</span><span class="op" id="3330351">)</span>&nbsp;<span class="op" id="3330353">(</span><span class="ident" id="3330354">ns</span>&nbsp;<span class="op" id="3330357">[</span><span class="op" id="3330358">]</span><span class="op" id="3330359">*</span><span class="ident" id="3330360"><a href="/gostd/net/dnsclient.go.html#3214559">NS</a></span><span class="op" id="3330362">,</span>&nbsp;<span class="ident" id="3330364">err</span>&nbsp;<span class="builtintype" id="3330368">error</span><span class="op" id="3330373">)</span>&nbsp;<span class="op" id="3330375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330378">_</span><span class="op" id="3330379">,</span>&nbsp;<span class="ident" id="3330381">records</span><span class="op" id="3330388">,</span>&nbsp;<span class="ident" id="3330390"><a href="/gostd/net/lookup_unix.go.html#3330364">err</a></span>&nbsp;<span class="op" id="3330394">:=</span>&nbsp;<span class="ident" id="3330397"><a href="/gostd/net/dnsclient_unix.go.html#3221207">lookup</a></span><span class="op" id="3330403">(</span><span class="ident" id="3330404"><a href="/gostd/net/lookup_unix.go.html#3330340">name</a></span><span class="op" id="3330408">,</span>&nbsp;<span class="ident" id="3330410"><a href="/gostd/net/dnsmsg.go.html#3228804">dnsTypeNS</a></span><span class="op" id="3330419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330422">if</span>&nbsp;<span class="ident" id="3330425"><a href="/gostd/net/lookup_unix.go.html#3330364">err</a></span>&nbsp;<span class="op" id="3330429">!=</span>&nbsp;<span class="builtintype" id="3330432">nil</span>&nbsp;<span class="op" id="3330436">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330440">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3330448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330451"><a href="/gostd/net/lookup_unix.go.html#3330354">ns</a></span>&nbsp;<span class="op" id="3330454">=</span>&nbsp;<span class="builtinfunc" id="3330456">make</span><span class="op" id="3330460">(</span><span class="op" id="3330461">[</span><span class="op" id="3330462">]</span><span class="op" id="3330463">*</span><span class="ident" id="3330464"><a href="/gostd/net/dnsclient.go.html#3214559">NS</a></span><span class="op" id="3330466">,</span>&nbsp;<span class="builtinfunc" id="3330468">len</span><span class="op" id="3330471">(</span><span class="ident" id="3330472"><a href="/gostd/net/lookup_unix.go.html#3330381">records</a></span><span class="op" id="3330479">)</span><span class="op" id="3330480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330483">for</span>&nbsp;<span class="ident" id="3330487">i</span><span class="op" id="3330488">,</span>&nbsp;<span class="ident" id="3330490">r</span>&nbsp;<span class="op" id="3330492">:=</span>&nbsp;<span class="keyword" id="3330495">range</span>&nbsp;<span class="ident" id="3330501"><a href="/gostd/net/lookup_unix.go.html#3330381">records</a></span>&nbsp;<span class="op" id="3330509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330513">r</span>&nbsp;<span class="op" id="3330515">:=</span>&nbsp;<span class="ident" id="3330518"><a href="/gostd/net/lookup_unix.go.html#3330490">r</a></span><span class="op" id="3330519">.</span><span class="op" id="3330520">(</span><span class="op" id="3330521">*</span><span class="ident" id="3330522"><a href="/gostd/net/dnsmsg.go.html#3233974">dnsRR_NS</a></span><span class="op" id="3330530">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330534"><a href="/gostd/net/lookup_unix.go.html#3330354">ns</a></span><span class="op" id="3330536">[</span><span class="ident" id="3330537"><a href="/gostd/net/lookup_unix.go.html#3330487">i</a></span><span class="op" id="3330538">]</span>&nbsp;<span class="op" id="3330540">=</span>&nbsp;<span class="op" id="3330542">&amp;</span><span class="ident" id="3330543"><a href="/gostd/net/dnsclient.go.html#3214559">NS</a></span><span class="op" id="3330545">{</span><span class="ident" id="3330546"><a href="/gostd/net/lookup_unix.go.html#3330513">r</a></span><span class="op" id="3330547">.</span><span class="ident" id="3330548"><a href="/gostd/net/dnsmsg.go.html#3234011">Ns</a></span><span class="op" id="3330550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3330553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330556">return</span><br>
<span class="lineno"></span><span class="op" id="3330563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="3330566">func</span>&nbsp;<span class="ident" id="3330571">lookupTXT</span><span class="op" id="3330580">(</span><span class="ident" id="3330581">name</span>&nbsp;<span class="builtintype" id="3330586">string</span><span class="op" id="3330592">)</span>&nbsp;<span class="op" id="3330594">(</span><span class="ident" id="3330595">txt</span>&nbsp;<span class="op" id="3330599">[</span><span class="op" id="3330600">]</span><span class="builtintype" id="3330601">string</span><span class="op" id="3330607">,</span>&nbsp;<span class="ident" id="3330609">err</span>&nbsp;<span class="builtintype" id="3330613">error</span><span class="op" id="3330618">)</span>&nbsp;<span class="op" id="3330620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330623">_</span><span class="op" id="3330624">,</span>&nbsp;<span class="ident" id="3330626">records</span><span class="op" id="3330633">,</span>&nbsp;<span class="ident" id="3330635"><a href="/gostd/net/lookup_unix.go.html#3330609">err</a></span>&nbsp;<span class="op" id="3330639">:=</span>&nbsp;<span class="ident" id="3330642"><a href="/gostd/net/dnsclient_unix.go.html#3221207">lookup</a></span><span class="op" id="3330648">(</span><span class="ident" id="3330649"><a href="/gostd/net/lookup_unix.go.html#3330581">name</a></span><span class="op" id="3330653">,</span>&nbsp;<span class="ident" id="3330655"><a href="/gostd/net/dnsmsg.go.html#3229062">dnsTypeTXT</a></span><span class="op" id="3330665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330668">if</span>&nbsp;<span class="ident" id="3330671"><a href="/gostd/net/lookup_unix.go.html#3330609">err</a></span>&nbsp;<span class="op" id="3330675">!=</span>&nbsp;<span class="builtintype" id="3330678">nil</span>&nbsp;<span class="op" id="3330682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330686">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3330694">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330697"><a href="/gostd/net/lookup_unix.go.html#3330595">txt</a></span>&nbsp;<span class="op" id="3330701">=</span>&nbsp;<span class="builtinfunc" id="3330703">make</span><span class="op" id="3330707">(</span><span class="op" id="3330708">[</span><span class="op" id="3330709">]</span><span class="builtintype" id="3330710">string</span><span class="op" id="3330716">,</span>&nbsp;<span class="builtinfunc" id="3330718">len</span><span class="op" id="3330721">(</span><span class="ident" id="3330722"><a href="/gostd/net/lookup_unix.go.html#3330626">records</a></span><span class="op" id="3330729">)</span><span class="op" id="3330730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330733">for</span>&nbsp;<span class="ident" id="3330737">i</span><span class="op" id="3330738">,</span>&nbsp;<span class="ident" id="3330740">r</span>&nbsp;<span class="op" id="3330742">:=</span>&nbsp;<span class="keyword" id="3330745">range</span>&nbsp;<span class="ident" id="3330751"><a href="/gostd/net/lookup_unix.go.html#3330626">records</a></span>&nbsp;<span class="op" id="3330759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330763"><a href="/gostd/net/lookup_unix.go.html#3330595">txt</a></span><span class="op" id="3330766">[</span><span class="ident" id="3330767"><a href="/gostd/net/lookup_unix.go.html#3330737">i</a></span><span class="op" id="3330768">]</span>&nbsp;<span class="op" id="3330770">=</span>&nbsp;<span class="ident" id="3330772"><a href="/gostd/net/lookup_unix.go.html#3330740">r</a></span><span class="op" id="3330773">.</span><span class="op" id="3330774">(</span><span class="op" id="3330775">*</span><span class="ident" id="3330776"><a href="/gostd/net/dnsmsg.go.html#3235127">dnsRR_TXT</a></span><span class="op" id="3330785">)</span><span class="op" id="3330786">.</span><span class="ident" id="3330787"><a href="/gostd/net/dnsmsg.go.html#3235165">Txt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3330792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330795">return</span><br>
<span class="lineno">145</span><span class="op" id="3330802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3330805">func</span>&nbsp;<span class="ident" id="3330810">lookupAddr</span><span class="op" id="3330820">(</span><span class="ident" id="3330821">addr</span>&nbsp;<span class="builtintype" id="3330826">string</span><span class="op" id="3330832">)</span>&nbsp;<span class="op" id="3330834">(</span><span class="ident" id="3330835">name</span>&nbsp;<span class="op" id="3330840">[</span><span class="op" id="3330841">]</span><span class="builtintype" id="3330842">string</span><span class="op" id="3330848">,</span>&nbsp;<span class="ident" id="3330850">err</span>&nbsp;<span class="builtintype" id="3330854">error</span><span class="op" id="3330859">)</span>&nbsp;<span class="op" id="3330861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330864"><a href="/gostd/net/lookup_unix.go.html#3330835">name</a></span>&nbsp;<span class="op" id="3330869">=</span>&nbsp;<span class="ident" id="3330871"><a href="/gostd/net/hosts.go.html#3274542">lookupStaticAddr</a></span><span class="op" id="3330887">(</span><span class="ident" id="3330888"><a href="/gostd/net/lookup_unix.go.html#3330821">addr</a></span><span class="op" id="3330892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330895">if</span>&nbsp;<span class="builtinfunc" id="3330898">len</span><span class="op" id="3330901">(</span><span class="ident" id="3330902"><a href="/gostd/net/lookup_unix.go.html#3330835">name</a></span><span class="op" id="3330906">)</span>&nbsp;<span class="op" id="3330908">&gt;</span>&nbsp;<span class="num" id="3330910">0</span>&nbsp;<span class="op" id="3330912">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330916">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3330924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330927">var</span>&nbsp;<span class="ident" id="3330931">arpa</span>&nbsp;<span class="builtintype" id="3330936">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3330944"><a href="/gostd/net/lookup_unix.go.html#3330931">arpa</a></span><span class="op" id="3330948">,</span>&nbsp;<span class="ident" id="3330950"><a href="/gostd/net/lookup_unix.go.html#3330850">err</a></span>&nbsp;<span class="op" id="3330954">=</span>&nbsp;<span class="ident" id="3330956"><a href="/gostd/net/dnsclient.go.html#3209463">reverseaddr</a></span><span class="op" id="3330967">(</span><span class="ident" id="3330968"><a href="/gostd/net/lookup_unix.go.html#3330821">addr</a></span><span class="op" id="3330972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330975">if</span>&nbsp;<span class="ident" id="3330978"><a href="/gostd/net/lookup_unix.go.html#3330850">err</a></span>&nbsp;<span class="op" id="3330982">!=</span>&nbsp;<span class="builtintype" id="3330985">nil</span>&nbsp;<span class="op" id="3330989">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3330993">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3331001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3331004">var</span>&nbsp;<span class="ident" id="3331008">records</span>&nbsp;<span class="op" id="3331016">[</span><span class="op" id="3331017">]</span><span class="ident" id="3331018"><a href="/gostd/net/dnsmsg.go.html#3231784">dnsRR</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3331025">_</span><span class="op" id="3331026">,</span>&nbsp;<span class="ident" id="3331028"><a href="/gostd/net/lookup_unix.go.html#3331008">records</a></span><span class="op" id="3331035">,</span>&nbsp;<span class="ident" id="3331037"><a href="/gostd/net/lookup_unix.go.html#3330850">err</a></span>&nbsp;<span class="op" id="3331041">=</span>&nbsp;<span class="ident" id="3331043"><a href="/gostd/net/dnsclient_unix.go.html#3221207">lookup</a></span><span class="op" id="3331049">(</span><span class="ident" id="3331050"><a href="/gostd/net/lookup_unix.go.html#3330931">arpa</a></span><span class="op" id="3331054">,</span>&nbsp;<span class="ident" id="3331056"><a href="/gostd/net/dnsmsg.go.html#3228986">dnsTypePTR</a></span><span class="op" id="3331066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3331069">if</span>&nbsp;<span class="ident" id="3331072"><a href="/gostd/net/lookup_unix.go.html#3330850">err</a></span>&nbsp;<span class="op" id="3331076">!=</span>&nbsp;<span class="builtintype" id="3331079">nil</span>&nbsp;<span class="op" id="3331083">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3331087">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3331095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3331098"><a href="/gostd/net/lookup_unix.go.html#3330835">name</a></span>&nbsp;<span class="op" id="3331103">=</span>&nbsp;<span class="builtinfunc" id="3331105">make</span><span class="op" id="3331109">(</span><span class="op" id="3331110">[</span><span class="op" id="3331111">]</span><span class="builtintype" id="3331112">string</span><span class="op" id="3331118">,</span>&nbsp;<span class="builtinfunc" id="3331120">len</span><span class="op" id="3331123">(</span><span class="ident" id="3331124"><a href="/gostd/net/lookup_unix.go.html#3331008">records</a></span><span class="op" id="3331131">)</span><span class="op" id="3331132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3331135">for</span>&nbsp;<span class="ident" id="3331139">i</span>&nbsp;<span class="op" id="3331141">:=</span>&nbsp;<span class="keyword" id="3331144">range</span>&nbsp;<span class="ident" id="3331150"><a href="/gostd/net/lookup_unix.go.html#3331008">records</a></span>&nbsp;<span class="op" id="3331158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3331162">r</span>&nbsp;<span class="op" id="3331164">:=</span>&nbsp;<span class="ident" id="3331167"><a href="/gostd/net/lookup_unix.go.html#3331008">records</a></span><span class="op" id="3331174">[</span><span class="ident" id="3331175"><a href="/gostd/net/lookup_unix.go.html#3331139">i</a></span><span class="op" id="3331176">]</span><span class="op" id="3331177">.</span><span class="op" id="3331178">(</span><span class="op" id="3331179">*</span><span class="ident" id="3331180"><a href="/gostd/net/dnsmsg.go.html#3234247">dnsRR_PTR</a></span><span class="op" id="3331189">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3331193"><a href="/gostd/net/lookup_unix.go.html#3330835">name</a></span><span class="op" id="3331197">[</span><span class="ident" id="3331198"><a href="/gostd/net/lookup_unix.go.html#3331139">i</a></span><span class="op" id="3331199">]</span>&nbsp;<span class="op" id="3331201">=</span>&nbsp;<span class="ident" id="3331203"><a href="/gostd/net/lookup_unix.go.html#3331162">r</a></span><span class="op" id="3331204">.</span><span class="ident" id="3331205"><a href="/gostd/net/dnsmsg.go.html#3234285">Ptr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3331210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3331213">return</span><br>
<span class="lineno"></span><span class="op" id="3331220">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
