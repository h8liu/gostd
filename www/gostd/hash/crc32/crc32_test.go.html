<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc32</h2>
<ul>
<li><a href="/gostd/hash/crc32/crc32.go.html">crc32.go</a></li>
<li><a href="/gostd/hash/crc32/crc32_amd64x.go.html">crc32_amd64x.go</a></li>
<li><a href="/gostd/hash/crc32/crc32_test.go.html" class="current">crc32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8445565">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8445620">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8445674">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8445725">package</span>&nbsp;<span class="ident" id="8445733">crc32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8445740">import</span>&nbsp;<span class="op" id="8445747">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445750">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445756">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8445766">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8445769">type</span>&nbsp;<span class="ident" id="8445774">test</span>&nbsp;<span class="keyword" id="8445779">struct</span>&nbsp;<span class="op" id="8445786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445789">ieee</span><span class="op" id="8445793">,</span>&nbsp;<span class="ident" id="8445795">castagnoli</span>&nbsp;<span class="builtintype" id="8445806">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445814">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8445831">string</span><br>
<span class="lineno">15</span><span class="op" id="8445838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8445841">var</span>&nbsp;<span class="ident" id="8445845">golden</span>&nbsp;<span class="op" id="8445852">=</span>&nbsp;<span class="op" id="8445854">[</span><span class="op" id="8445855">]</span><span class="ident" id="8445856">test</span><span class="op" id="8445860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445863">{</span><span class="num" id="8445864">0x0</span><span class="op" id="8445867">,</span>&nbsp;<span class="num" id="8445869">0x0</span><span class="op" id="8445872">,</span>&nbsp;<span class="string" id="8445874">&#34;&#34;</span><span class="op" id="8445876">}</span><span class="op" id="8445877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445880">{</span><span class="num" id="8445881">0xe8b7be43</span><span class="op" id="8445891">,</span>&nbsp;<span class="num" id="8445893">0xc1d04330</span><span class="op" id="8445903">,</span>&nbsp;<span class="string" id="8445905">&#34;a&#34;</span><span class="op" id="8445908">}</span><span class="op" id="8445909">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445912">{</span><span class="num" id="8445913">0x9e83486d</span><span class="op" id="8445923">,</span>&nbsp;<span class="num" id="8445925">0xe2a22936</span><span class="op" id="8445935">,</span>&nbsp;<span class="string" id="8445937">&#34;ab&#34;</span><span class="op" id="8445941">}</span><span class="op" id="8445942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445945">{</span><span class="num" id="8445946">0x352441c2</span><span class="op" id="8445956">,</span>&nbsp;<span class="num" id="8445958">0x364b3fb7</span><span class="op" id="8445968">,</span>&nbsp;<span class="string" id="8445970">&#34;abc&#34;</span><span class="op" id="8445975">}</span><span class="op" id="8445976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445979">{</span><span class="num" id="8445980">0xed82cd11</span><span class="op" id="8445990">,</span>&nbsp;<span class="num" id="8445992">0x92c80a31</span><span class="op" id="8446002">,</span>&nbsp;<span class="string" id="8446004">&#34;abcd&#34;</span><span class="op" id="8446010">}</span><span class="op" id="8446011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446014">{</span><span class="num" id="8446015">0x8587d865</span><span class="op" id="8446025">,</span>&nbsp;<span class="num" id="8446027">0xc450d697</span><span class="op" id="8446037">,</span>&nbsp;<span class="string" id="8446039">&#34;abcde&#34;</span><span class="op" id="8446046">}</span><span class="op" id="8446047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446050">{</span><span class="num" id="8446051">0x4b8e39ef</span><span class="op" id="8446061">,</span>&nbsp;<span class="num" id="8446063">0x53bceff1</span><span class="op" id="8446073">,</span>&nbsp;<span class="string" id="8446075">&#34;abcdef&#34;</span><span class="op" id="8446083">}</span><span class="op" id="8446084">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446087">{</span><span class="num" id="8446088">0x312a6aa6</span><span class="op" id="8446098">,</span>&nbsp;<span class="num" id="8446100">0xe627f441</span><span class="op" id="8446110">,</span>&nbsp;<span class="string" id="8446112">&#34;abcdefg&#34;</span><span class="op" id="8446121">}</span><span class="op" id="8446122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446125">{</span><span class="num" id="8446126">0xaeef2a50</span><span class="op" id="8446136">,</span>&nbsp;<span class="num" id="8446138">0xa9421b7</span><span class="op" id="8446147">,</span>&nbsp;<span class="string" id="8446149">&#34;abcdefgh&#34;</span><span class="op" id="8446159">}</span><span class="op" id="8446160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446163">{</span><span class="num" id="8446164">0x8da988af</span><span class="op" id="8446174">,</span>&nbsp;<span class="num" id="8446176">0x2ddc99fc</span><span class="op" id="8446186">,</span>&nbsp;<span class="string" id="8446188">&#34;abcdefghi&#34;</span><span class="op" id="8446199">}</span><span class="op" id="8446200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446203">{</span><span class="num" id="8446204">0x3981703a</span><span class="op" id="8446214">,</span>&nbsp;<span class="num" id="8446216">0xe6599437</span><span class="op" id="8446226">,</span>&nbsp;<span class="string" id="8446228">&#34;abcdefghij&#34;</span><span class="op" id="8446240">}</span><span class="op" id="8446241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446244">{</span><span class="num" id="8446245">0x6b9cdfe7</span><span class="op" id="8446255">,</span>&nbsp;<span class="num" id="8446257">0xb2cc01fe</span><span class="op" id="8446267">,</span>&nbsp;<span class="string" id="8446269">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="8446312">}</span><span class="op" id="8446313">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446316">{</span><span class="num" id="8446317">0xc90ef73f</span><span class="op" id="8446327">,</span>&nbsp;<span class="num" id="8446329">0xe28207f</span><span class="op" id="8446338">,</span>&nbsp;<span class="string" id="8446340">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="8446399">}</span><span class="op" id="8446400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446403">{</span><span class="num" id="8446404">0xb902341f</span><span class="op" id="8446414">,</span>&nbsp;<span class="num" id="8446416">0xbe93f964</span><span class="op" id="8446426">,</span>&nbsp;<span class="string" id="8446428">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="8446472">}</span><span class="op" id="8446473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446476">{</span><span class="num" id="8446477">0x42080e8</span><span class="op" id="8446486">,</span>&nbsp;<span class="num" id="8446488">0x9e3be0c3</span><span class="op" id="8446498">,</span>&nbsp;<span class="string" id="8446500">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="8446559">}</span><span class="op" id="8446560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446563">{</span><span class="num" id="8446564">0x154c6d11</span><span class="op" id="8446574">,</span>&nbsp;<span class="num" id="8446576">0xf505ef04</span><span class="op" id="8446586">,</span>&nbsp;<span class="string" id="8446588">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="8446648">}</span><span class="op" id="8446649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446652">{</span><span class="num" id="8446653">0x4c418325</span><span class="op" id="8446663">,</span>&nbsp;<span class="num" id="8446665">0x85d3dc82</span><span class="op" id="8446675">,</span>&nbsp;<span class="string" id="8446677">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="8446706">}</span><span class="op" id="8446707">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446710">{</span><span class="num" id="8446711">0x33955150</span><span class="op" id="8446721">,</span>&nbsp;<span class="num" id="8446723">0xc5142380</span><span class="op" id="8446733">,</span>&nbsp;<span class="string" id="8446735">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="8446804">}</span><span class="op" id="8446805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446808">{</span><span class="num" id="8446809">0x26216a4b</span><span class="op" id="8446819">,</span>&nbsp;<span class="num" id="8446821">0x75eb77dd</span><span class="op" id="8446831">,</span>&nbsp;<span class="string" id="8446833">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="8446892">}</span><span class="op" id="8446893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446896">{</span><span class="num" id="8446897">0x1abbe45e</span><span class="op" id="8446907">,</span>&nbsp;<span class="num" id="8446909">0x91ebe9f7</span><span class="op" id="8446919">,</span>&nbsp;<span class="string" id="8446921">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="8447011">}</span><span class="op" id="8447012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447015">{</span><span class="num" id="8447016">0xc89a94f7</span><span class="op" id="8447026">,</span>&nbsp;<span class="num" id="8447028">0xf0b1168e</span><span class="op" id="8447038">,</span>&nbsp;<span class="string" id="8447040">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="8447117">}</span><span class="op" id="8447118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447121">{</span><span class="num" id="8447122">0xab3abe14</span><span class="op" id="8447132">,</span>&nbsp;<span class="num" id="8447134">0x572b74e2</span><span class="op" id="8447144">,</span>&nbsp;<span class="string" id="8447146">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="8447172">}</span><span class="op" id="8447173">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447176">{</span><span class="num" id="8447177">0xbab102b6</span><span class="op" id="8447187">,</span>&nbsp;<span class="num" id="8447189">0x8a58a6d5</span><span class="op" id="8447199">,</span>&nbsp;<span class="string" id="8447201">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="8447252">}</span><span class="op" id="8447253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447256">{</span><span class="num" id="8447257">0x999149d7</span><span class="op" id="8447267">,</span>&nbsp;<span class="num" id="8447269">0x9c426c50</span><span class="op" id="8447279">,</span>&nbsp;<span class="string" id="8447281">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="8447355">}</span><span class="op" id="8447356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447359">{</span><span class="num" id="8447360">0x6d52a33c</span><span class="op" id="8447370">,</span>&nbsp;<span class="num" id="8447372">0x735400a4</span><span class="op" id="8447382">,</span>&nbsp;<span class="string" id="8447384">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="8447432">}</span><span class="op" id="8447433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447436">{</span><span class="num" id="8447437">0x90631e8d</span><span class="op" id="8447447">,</span>&nbsp;<span class="num" id="8447449">0xbec49c95</span><span class="op" id="8447459">,</span>&nbsp;<span class="string" id="8447461">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="8447533">}</span><span class="op" id="8447534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447537">{</span><span class="num" id="8447538">0x78309130</span><span class="op" id="8447548">,</span>&nbsp;<span class="num" id="8447550">0xa95a2079</span><span class="op" id="8447560">,</span>&nbsp;<span class="string" id="8447562">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="8447632">}</span><span class="op" id="8447633">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447636">{</span><span class="num" id="8447637">0x7d0a377f</span><span class="op" id="8447647">,</span>&nbsp;<span class="num" id="8447649">0xde2e65c5</span><span class="op" id="8447659">,</span>&nbsp;<span class="string" id="8447661">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="8447695">}</span><span class="op" id="8447696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447699">{</span><span class="num" id="8447700">0x8c79fd79</span><span class="op" id="8447710">,</span>&nbsp;<span class="num" id="8447712">0x297a88ed</span><span class="op" id="8447722">,</span>&nbsp;<span class="string" id="8447724">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="8447814">}</span><span class="op" id="8447815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447818">{</span><span class="num" id="8447819">0xa20b7167</span><span class="op" id="8447829">,</span>&nbsp;<span class="num" id="8447831">0x66ed1d8b</span><span class="op" id="8447841">,</span>&nbsp;<span class="string" id="8447843">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="8447977">}</span><span class="op" id="8447978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447981">{</span><span class="num" id="8447982">0x8e0bb443</span><span class="op" id="8447992">,</span>&nbsp;<span class="num" id="8447994">0xdcded527</span><span class="op" id="8448004">,</span>&nbsp;<span class="string" id="8448006">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="8448064">}</span><span class="op" id="8448065">,</span><br>
<span class="lineno"></span><span class="op" id="8448067">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="8448070">func</span>&nbsp;<span class="ident" id="8448075">TestGolden</span><span class="op" id="8448085">(</span><span class="ident" id="8448086">t</span>&nbsp;<span class="op" id="8448088">*</span><span class="ident" id="8448089">testing</span><span class="op" id="8448096">.</span><span class="ident" id="8448097">T</span><span class="op" id="8448098">)</span>&nbsp;<span class="op" id="8448100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448103">castagnoliTab</span>&nbsp;<span class="op" id="8448117">:=</span>&nbsp;<span class="ident" id="8448120">MakeTable</span><span class="op" id="8448129">(</span><span class="ident" id="8448130">Castagnoli</span><span class="op" id="8448140">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8448144">for</span>&nbsp;<span class="ident" id="8448148">_</span><span class="op" id="8448149">,</span>&nbsp;<span class="ident" id="8448151">g</span>&nbsp;<span class="op" id="8448153">:=</span>&nbsp;<span class="keyword" id="8448156">range</span>&nbsp;<span class="ident" id="8448162">golden</span>&nbsp;<span class="op" id="8448169">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448173">ieee</span>&nbsp;<span class="op" id="8448178">:=</span>&nbsp;<span class="ident" id="8448181">NewIEEE</span><span class="op" id="8448188">(</span><span class="op" id="8448189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448193">io</span><span class="op" id="8448195">.</span><span class="ident" id="8448196">WriteString</span><span class="op" id="8448207">(</span><span class="ident" id="8448208">ieee</span><span class="op" id="8448212">,</span>&nbsp;<span class="ident" id="8448214">g</span><span class="op" id="8448215">.</span><span class="ident" id="8448216">in</span><span class="op" id="8448218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448222">s</span>&nbsp;<span class="op" id="8448224">:=</span>&nbsp;<span class="ident" id="8448227">ieee</span><span class="op" id="8448231">.</span><span class="ident" id="8448232">Sum32</span><span class="op" id="8448237">(</span><span class="op" id="8448238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8448242">if</span>&nbsp;<span class="ident" id="8448245">s</span>&nbsp;<span class="op" id="8448247">!=</span>&nbsp;<span class="ident" id="8448250">g</span><span class="op" id="8448251">.</span><span class="ident" id="8448252">ieee</span>&nbsp;<span class="op" id="8448257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448262">t</span><span class="op" id="8448263">.</span><span class="ident" id="8448264">Errorf</span><span class="op" id="8448270">(</span><span class="string" id="8448271">&#34;IEEE(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="8448298">,</span>&nbsp;<span class="ident" id="8448300">g</span><span class="op" id="8448301">.</span><span class="ident" id="8448302">in</span><span class="op" id="8448304">,</span>&nbsp;<span class="ident" id="8448306">s</span><span class="op" id="8448307">,</span>&nbsp;<span class="ident" id="8448309">g</span><span class="op" id="8448310">.</span><span class="ident" id="8448311">ieee</span><span class="op" id="8448315">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8448319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448324">castagnoli</span>&nbsp;<span class="op" id="8448335">:=</span>&nbsp;<span class="ident" id="8448338">New</span><span class="op" id="8448341">(</span><span class="ident" id="8448342">castagnoliTab</span><span class="op" id="8448355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448359">io</span><span class="op" id="8448361">.</span><span class="ident" id="8448362">WriteString</span><span class="op" id="8448373">(</span><span class="ident" id="8448374">castagnoli</span><span class="op" id="8448384">,</span>&nbsp;<span class="ident" id="8448386">g</span><span class="op" id="8448387">.</span><span class="ident" id="8448388">in</span><span class="op" id="8448390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448394">s</span>&nbsp;<span class="op" id="8448396">=</span>&nbsp;<span class="ident" id="8448398">castagnoli</span><span class="op" id="8448408">.</span><span class="ident" id="8448409">Sum32</span><span class="op" id="8448414">(</span><span class="op" id="8448415">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8448419">if</span>&nbsp;<span class="ident" id="8448422">s</span>&nbsp;<span class="op" id="8448424">!=</span>&nbsp;<span class="ident" id="8448427">g</span><span class="op" id="8448428">.</span><span class="ident" id="8448429">castagnoli</span>&nbsp;<span class="op" id="8448440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448445">t</span><span class="op" id="8448446">.</span><span class="ident" id="8448447">Errorf</span><span class="op" id="8448453">(</span><span class="string" id="8448454">&#34;Castagnoli(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="8448487">,</span>&nbsp;<span class="ident" id="8448489">g</span><span class="op" id="8448490">.</span><span class="ident" id="8448491">in</span><span class="op" id="8448493">,</span>&nbsp;<span class="ident" id="8448495">s</span><span class="op" id="8448496">,</span>&nbsp;<span class="ident" id="8448498">g</span><span class="op" id="8448499">.</span><span class="ident" id="8448500">castagnoli</span><span class="op" id="8448510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8448514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8448519">if</span>&nbsp;<span class="builtinfunc" id="8448522">len</span><span class="op" id="8448525">(</span><span class="ident" id="8448526">g</span><span class="op" id="8448527">.</span><span class="ident" id="8448528">in</span><span class="op" id="8448530">)</span>&nbsp;<span class="op" id="8448532">&gt;</span>&nbsp;<span class="num" id="8448534">0</span>&nbsp;<span class="op" id="8448536">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8448541">//&nbsp;The&nbsp;SSE4.2&nbsp;implementation&nbsp;of&nbsp;this&nbsp;has&nbsp;code&nbsp;to&nbsp;deal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8448598">//&nbsp;with&nbsp;misaligned&nbsp;data&nbsp;so&nbsp;we&nbsp;ensure&nbsp;that&nbsp;we&nbsp;test&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8448656">//&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448667">castagnoli</span>&nbsp;<span class="op" id="8448678">=</span>&nbsp;<span class="ident" id="8448680">New</span><span class="op" id="8448683">(</span><span class="ident" id="8448684">castagnoliTab</span><span class="op" id="8448697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448702">io</span><span class="op" id="8448704">.</span><span class="ident" id="8448705">WriteString</span><span class="op" id="8448716">(</span><span class="ident" id="8448717">castagnoli</span><span class="op" id="8448727">,</span>&nbsp;<span class="ident" id="8448729">g</span><span class="op" id="8448730">.</span><span class="ident" id="8448731">in</span><span class="op" id="8448733">[</span><span class="op" id="8448734">:</span><span class="num" id="8448735">1</span><span class="op" id="8448736">]</span><span class="op" id="8448737">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448742">io</span><span class="op" id="8448744">.</span><span class="ident" id="8448745">WriteString</span><span class="op" id="8448756">(</span><span class="ident" id="8448757">castagnoli</span><span class="op" id="8448767">,</span>&nbsp;<span class="ident" id="8448769">g</span><span class="op" id="8448770">.</span><span class="ident" id="8448771">in</span><span class="op" id="8448773">[</span><span class="num" id="8448774">1</span><span class="op" id="8448775">:</span><span class="op" id="8448776">]</span><span class="op" id="8448777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448782">s</span>&nbsp;<span class="op" id="8448784">=</span>&nbsp;<span class="ident" id="8448786">castagnoli</span><span class="op" id="8448796">.</span><span class="ident" id="8448797">Sum32</span><span class="op" id="8448802">(</span><span class="op" id="8448803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8448808">if</span>&nbsp;<span class="ident" id="8448811">s</span>&nbsp;<span class="op" id="8448813">!=</span>&nbsp;<span class="ident" id="8448816">g</span><span class="op" id="8448817">.</span><span class="ident" id="8448818">castagnoli</span>&nbsp;<span class="op" id="8448829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448835">t</span><span class="op" id="8448836">.</span><span class="ident" id="8448837">Errorf</span><span class="op" id="8448843">(</span><span class="string" id="8448844">&#34;Castagnoli[misaligned](%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="8448889">,</span>&nbsp;<span class="ident" id="8448891">g</span><span class="op" id="8448892">.</span><span class="ident" id="8448893">in</span><span class="op" id="8448895">,</span>&nbsp;<span class="ident" id="8448897">s</span><span class="op" id="8448898">,</span>&nbsp;<span class="ident" id="8448900">g</span><span class="op" id="8448901">.</span><span class="ident" id="8448902">castagnoli</span><span class="op" id="8448912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8448917">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8448921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8448924">}</span><br>
<span class="lineno"></span><span class="op" id="8448926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8448929">func</span>&nbsp;<span class="ident" id="8448934">BenchmarkCrc32KB</span><span class="op" id="8448950">(</span><span class="ident" id="8448951">b</span>&nbsp;<span class="op" id="8448953">*</span><span class="ident" id="8448954">testing</span><span class="op" id="8448961">.</span><span class="ident" id="8448962">B</span><span class="op" id="8448963">)</span>&nbsp;<span class="op" id="8448965">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448968">b</span><span class="op" id="8448969">.</span><span class="ident" id="8448970">SetBytes</span><span class="op" id="8448978">(</span><span class="num" id="8448979">1024</span><span class="op" id="8448983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8448986">data</span>&nbsp;<span class="op" id="8448991">:=</span>&nbsp;<span class="builtinfunc" id="8448994">make</span><span class="op" id="8448998">(</span><span class="op" id="8448999">[</span><span class="op" id="8449000">]</span><span class="builtintype" id="8449001">byte</span><span class="op" id="8449005">,</span>&nbsp;<span class="num" id="8449007">1024</span><span class="op" id="8449011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8449014">for</span>&nbsp;<span class="ident" id="8449018">i</span>&nbsp;<span class="op" id="8449020">:=</span>&nbsp;<span class="keyword" id="8449023">range</span>&nbsp;<span class="ident" id="8449029">data</span>&nbsp;<span class="op" id="8449034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8449038">data</span><span class="op" id="8449042">[</span><span class="ident" id="8449043">i</span><span class="op" id="8449044">]</span>&nbsp;<span class="op" id="8449046">=</span>&nbsp;<span class="builtintype" id="8449048">byte</span><span class="op" id="8449052">(</span><span class="ident" id="8449053">i</span><span class="op" id="8449054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8449057">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8449060">h</span>&nbsp;<span class="op" id="8449062">:=</span>&nbsp;<span class="ident" id="8449065">NewIEEE</span><span class="op" id="8449072">(</span><span class="op" id="8449073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8449076">in</span>&nbsp;<span class="op" id="8449079">:=</span>&nbsp;<span class="builtinfunc" id="8449082">make</span><span class="op" id="8449086">(</span><span class="op" id="8449087">[</span><span class="op" id="8449088">]</span><span class="builtintype" id="8449089">byte</span><span class="op" id="8449093">,</span>&nbsp;<span class="num" id="8449095">0</span><span class="op" id="8449096">,</span>&nbsp;<span class="ident" id="8449098">h</span><span class="op" id="8449099">.</span><span class="ident" id="8449100">Size</span><span class="op" id="8449104">(</span><span class="op" id="8449105">)</span><span class="op" id="8449106">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8449110">b</span><span class="op" id="8449111">.</span><span class="ident" id="8449112">ResetTimer</span><span class="op" id="8449122">(</span><span class="op" id="8449123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8449126">for</span>&nbsp;<span class="ident" id="8449130">i</span>&nbsp;<span class="op" id="8449132">:=</span>&nbsp;<span class="num" id="8449135">0</span><span class="op" id="8449136">;</span>&nbsp;<span class="ident" id="8449138">i</span>&nbsp;<span class="op" id="8449140">&lt;</span>&nbsp;<span class="ident" id="8449142">b</span><span class="op" id="8449143">.</span><span class="ident" id="8449144">N</span><span class="op" id="8449145">;</span>&nbsp;<span class="ident" id="8449147">i</span><span class="op" id="8449148">++</span>&nbsp;<span class="op" id="8449151">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8449155">h</span><span class="op" id="8449156">.</span><span class="ident" id="8449157">Reset</span><span class="op" id="8449162">(</span><span class="op" id="8449163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8449167">h</span><span class="op" id="8449168">.</span><span class="ident" id="8449169">Write</span><span class="op" id="8449174">(</span><span class="ident" id="8449175">data</span><span class="op" id="8449179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8449183">h</span><span class="op" id="8449184">.</span><span class="ident" id="8449185">Sum</span><span class="op" id="8449188">(</span><span class="ident" id="8449189">in</span><span class="op" id="8449191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8449194">}</span><br>
<span class="lineno"></span><span class="op" id="8449196">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
