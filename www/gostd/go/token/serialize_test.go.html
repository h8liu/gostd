<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/token</h2>
<ul>
<li><a href="/gostd/go/token/position.go.html">position.go</a></li>
<li><a href="/gostd/go/token/position_test.go.html">position_test.go</a></li>
<li><a href="/gostd/go/token/serialize.go.html">serialize.go</a></li>
<li><a href="/gostd/go/token/serialize_test.go.html" class="current">serialize_test.go</a></li>
<li><a href="/gostd/go/token/token.go.html">token.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8221860">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8221915">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8221969">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8222020">package</span>&nbsp;<span class="ident" id="8222028">token</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8222035">import</span>&nbsp;<span class="op" id="8222042">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8222045">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8222054">&#34;encoding/gob&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8222070">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8222077">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8222087">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8222090">//&nbsp;equal&nbsp;returns&nbsp;nil&nbsp;if&nbsp;p&nbsp;and&nbsp;q&nbsp;describe&nbsp;the&nbsp;same&nbsp;file&nbsp;set;</span><br>
<span class="lineno">15</span><span class="comment" id="8222150">//&nbsp;otherwise&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;discrepancy.</span><br>
<span class="lineno"></span><span class="keyword" id="8222211">func</span>&nbsp;<span class="ident" id="8222216">equal</span><span class="op" id="8222221">(</span><span class="ident" id="8222222">p</span><span class="op" id="8222223">,</span>&nbsp;<span class="ident" id="8222225">q</span>&nbsp;<span class="op" id="8222227">*</span><span class="ident" id="8222228"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><span class="op" id="8222235">)</span>&nbsp;<span class="builtintype" id="8222237">error</span>&nbsp;<span class="op" id="8222243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222246">if</span>&nbsp;<span class="ident" id="8222249"><a href="/gostd/go/token/serialize_test.go.html#8222222">p</a></span>&nbsp;<span class="op" id="8222251">==</span>&nbsp;<span class="ident" id="8222254"><a href="/gostd/go/token/serialize_test.go.html#8222225">q</a></span>&nbsp;<span class="op" id="8222256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8222260">//&nbsp;avoid&nbsp;deadlock&nbsp;if&nbsp;p&nbsp;==&nbsp;q</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222290">return</span>&nbsp;<span class="builtintype" id="8222297">nil</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8222302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8222306">//&nbsp;not&nbsp;strictly&nbsp;needed&nbsp;for&nbsp;the&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8222343"><a href="/gostd/go/token/serialize_test.go.html#8222222">p</a></span><span class="op" id="8222344">.</span><span class="ident" id="8222345"><a href="/gostd/go/token/position.go.html#3883384">mutex</a></span><span class="op" id="8222350">.</span><span class="ident" id="8222351"><a href="/gostd/sync/rwmutex.go.html#1457713">Lock</a></span><span class="op" id="8222355">(</span><span class="op" id="8222356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8222359"><a href="/gostd/go/token/serialize_test.go.html#8222225">q</a></span><span class="op" id="8222360">.</span><span class="ident" id="8222361"><a href="/gostd/go/token/position.go.html#3883384">mutex</a></span><span class="op" id="8222366">.</span><span class="ident" id="8222367"><a href="/gostd/sync/rwmutex.go.html#1457713">Lock</a></span><span class="op" id="8222371">(</span><span class="op" id="8222372">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222375">defer</span>&nbsp;<span class="ident" id="8222381"><a href="/gostd/go/token/serialize_test.go.html#8222225">q</a></span><span class="op" id="8222382">.</span><span class="ident" id="8222383"><a href="/gostd/go/token/position.go.html#3883384">mutex</a></span><span class="op" id="8222388">.</span><span class="ident" id="8222389"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="8222395">(</span><span class="op" id="8222396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222399">defer</span>&nbsp;<span class="ident" id="8222405"><a href="/gostd/go/token/serialize_test.go.html#8222222">p</a></span><span class="op" id="8222406">.</span><span class="ident" id="8222407"><a href="/gostd/go/token/position.go.html#3883384">mutex</a></span><span class="op" id="8222412">.</span><span class="ident" id="8222413"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="8222419">(</span><span class="op" id="8222420">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222424">if</span>&nbsp;<span class="ident" id="8222427"><a href="/gostd/go/token/serialize_test.go.html#8222222">p</a></span><span class="op" id="8222428">.</span><span class="ident" id="8222429"><a href="/gostd/go/token/position.go.html#3883429">base</a></span>&nbsp;<span class="op" id="8222434">!=</span>&nbsp;<span class="ident" id="8222437"><a href="/gostd/go/token/serialize_test.go.html#8222225">q</a></span><span class="op" id="8222438">.</span><span class="ident" id="8222439"><a href="/gostd/go/token/position.go.html#3883429">base</a></span>&nbsp;<span class="op" id="8222444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222448">return</span>&nbsp;<span class="ident" id="8222455"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8222458">.</span><span class="ident" id="8222459"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8222465">(</span><span class="string" id="8222466">&#34;different&nbsp;bases:&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="8222493">,</span>&nbsp;<span class="ident" id="8222495"><a href="/gostd/go/token/serialize_test.go.html#8222222">p</a></span><span class="op" id="8222496">.</span><span class="ident" id="8222497"><a href="/gostd/go/token/position.go.html#3883429">base</a></span><span class="op" id="8222501">,</span>&nbsp;<span class="ident" id="8222503"><a href="/gostd/go/token/serialize_test.go.html#8222225">q</a></span><span class="op" id="8222504">.</span><span class="ident" id="8222505"><a href="/gostd/go/token/position.go.html#3883429">base</a></span><span class="op" id="8222509">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8222512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222516">if</span>&nbsp;<span class="builtinfunc" id="8222519">len</span><span class="op" id="8222522">(</span><span class="ident" id="8222523"><a href="/gostd/go/token/serialize_test.go.html#8222222">p</a></span><span class="op" id="8222524">.</span><span class="ident" id="8222525"><a href="/gostd/go/token/position.go.html#3883482">files</a></span><span class="op" id="8222530">)</span>&nbsp;<span class="op" id="8222532">!=</span>&nbsp;<span class="builtinfunc" id="8222535">len</span><span class="op" id="8222538">(</span><span class="ident" id="8222539"><a href="/gostd/go/token/serialize_test.go.html#8222225">q</a></span><span class="op" id="8222540">.</span><span class="ident" id="8222541"><a href="/gostd/go/token/position.go.html#3883482">files</a></span><span class="op" id="8222546">)</span>&nbsp;<span class="op" id="8222548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222552">return</span>&nbsp;<span class="ident" id="8222559"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8222562">.</span><span class="ident" id="8222563"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8222569">(</span><span class="string" id="8222570">&#34;different&nbsp;number&nbsp;of&nbsp;files:&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="8222607">,</span>&nbsp;<span class="builtinfunc" id="8222609">len</span><span class="op" id="8222612">(</span><span class="ident" id="8222613"><a href="/gostd/go/token/serialize_test.go.html#8222222">p</a></span><span class="op" id="8222614">.</span><span class="ident" id="8222615"><a href="/gostd/go/token/position.go.html#3883482">files</a></span><span class="op" id="8222620">)</span><span class="op" id="8222621">,</span>&nbsp;<span class="builtinfunc" id="8222623">len</span><span class="op" id="8222626">(</span><span class="ident" id="8222627"><a href="/gostd/go/token/serialize_test.go.html#8222225">q</a></span><span class="op" id="8222628">.</span><span class="ident" id="8222629"><a href="/gostd/go/token/position.go.html#3883482">files</a></span><span class="op" id="8222634">)</span><span class="op" id="8222635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8222638">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222642">for</span>&nbsp;<span class="ident" id="8222646">i</span><span class="op" id="8222647">,</span>&nbsp;<span class="ident" id="8222649">f</span>&nbsp;<span class="op" id="8222651">:=</span>&nbsp;<span class="keyword" id="8222654">range</span>&nbsp;<span class="ident" id="8222660"><a href="/gostd/go/token/serialize_test.go.html#8222222">p</a></span><span class="op" id="8222661">.</span><span class="ident" id="8222662"><a href="/gostd/go/token/position.go.html#3883482">files</a></span>&nbsp;<span class="op" id="8222668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8222672">g</span>&nbsp;<span class="op" id="8222674">:=</span>&nbsp;<span class="ident" id="8222677"><a href="/gostd/go/token/serialize_test.go.html#8222225">q</a></span><span class="op" id="8222678">.</span><span class="ident" id="8222679"><a href="/gostd/go/token/position.go.html#3883482">files</a></span><span class="op" id="8222684">[</span><span class="ident" id="8222685"><a href="/gostd/go/token/serialize_test.go.html#8222646">i</a></span><span class="op" id="8222686">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222690">if</span>&nbsp;<span class="ident" id="8222693"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8222694">.</span><span class="ident" id="8222695"><a href="/gostd/go/token/position.go.html#3876411">set</a></span>&nbsp;<span class="op" id="8222699">!=</span>&nbsp;<span class="ident" id="8222702"><a href="/gostd/go/token/serialize_test.go.html#8222222">p</a></span>&nbsp;<span class="op" id="8222704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222709">return</span>&nbsp;<span class="ident" id="8222716"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8222719">.</span><span class="ident" id="8222720"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8222726">(</span><span class="string" id="8222727">&#34;wrong&nbsp;fileset&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8222749">,</span>&nbsp;<span class="ident" id="8222751"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8222752">.</span><span class="ident" id="8222753"><a href="/gostd/go/token/position.go.html#3876426">name</a></span><span class="op" id="8222757">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8222761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222765">if</span>&nbsp;<span class="ident" id="8222768"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8222769">.</span><span class="ident" id="8222770"><a href="/gostd/go/token/position.go.html#3876411">set</a></span>&nbsp;<span class="op" id="8222774">!=</span>&nbsp;<span class="ident" id="8222777"><a href="/gostd/go/token/serialize_test.go.html#8222225">q</a></span>&nbsp;<span class="op" id="8222779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222784">return</span>&nbsp;<span class="ident" id="8222791"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8222794">.</span><span class="ident" id="8222795"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8222801">(</span><span class="string" id="8222802">&#34;wrong&nbsp;fileset&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8222824">,</span>&nbsp;<span class="ident" id="8222826"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8222827">.</span><span class="ident" id="8222828"><a href="/gostd/go/token/position.go.html#3876426">name</a></span><span class="op" id="8222832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8222836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222840">if</span>&nbsp;<span class="ident" id="8222843"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8222844">.</span><span class="ident" id="8222845"><a href="/gostd/go/token/position.go.html#3876426">name</a></span>&nbsp;<span class="op" id="8222850">!=</span>&nbsp;<span class="ident" id="8222853"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8222854">.</span><span class="ident" id="8222855"><a href="/gostd/go/token/position.go.html#3876426">name</a></span>&nbsp;<span class="op" id="8222860">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222865">return</span>&nbsp;<span class="ident" id="8222872"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8222875">.</span><span class="ident" id="8222876"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8222882">(</span><span class="string" id="8222883">&#34;different&nbsp;filenames:&nbsp;%q&nbsp;!=&nbsp;%q&#34;</span><span class="op" id="8222914">,</span>&nbsp;<span class="ident" id="8222916"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8222917">.</span><span class="ident" id="8222918"><a href="/gostd/go/token/position.go.html#3876426">name</a></span><span class="op" id="8222922">,</span>&nbsp;<span class="ident" id="8222924"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8222925">.</span><span class="ident" id="8222926"><a href="/gostd/go/token/position.go.html#3876426">name</a></span><span class="op" id="8222930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8222934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222938">if</span>&nbsp;<span class="ident" id="8222941"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8222942">.</span><span class="ident" id="8222943"><a href="/gostd/go/token/position.go.html#3876475">base</a></span>&nbsp;<span class="op" id="8222948">!=</span>&nbsp;<span class="ident" id="8222951"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8222952">.</span><span class="ident" id="8222953"><a href="/gostd/go/token/position.go.html#3876475">base</a></span>&nbsp;<span class="op" id="8222958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8222963">return</span>&nbsp;<span class="ident" id="8222970"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8222973">.</span><span class="ident" id="8222974"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8222980">(</span><span class="string" id="8222981">&#34;different&nbsp;base&nbsp;for&nbsp;%q:&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="8223014">,</span>&nbsp;<span class="ident" id="8223016"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8223017">.</span><span class="ident" id="8223018"><a href="/gostd/go/token/position.go.html#3876426">name</a></span><span class="op" id="8223022">,</span>&nbsp;<span class="ident" id="8223024"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8223025">.</span><span class="ident" id="8223026"><a href="/gostd/go/token/position.go.html#3876475">base</a></span><span class="op" id="8223030">,</span>&nbsp;<span class="ident" id="8223032"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8223033">.</span><span class="ident" id="8223034"><a href="/gostd/go/token/position.go.html#3876475">base</a></span><span class="op" id="8223038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223042">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223046">if</span>&nbsp;<span class="ident" id="8223049"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8223050">.</span><span class="ident" id="8223051"><a href="/gostd/go/token/position.go.html#3876543">size</a></span>&nbsp;<span class="op" id="8223056">!=</span>&nbsp;<span class="ident" id="8223059"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8223060">.</span><span class="ident" id="8223061"><a href="/gostd/go/token/position.go.html#3876543">size</a></span>&nbsp;<span class="op" id="8223066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223071">return</span>&nbsp;<span class="ident" id="8223078"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8223081">.</span><span class="ident" id="8223082"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8223088">(</span><span class="string" id="8223089">&#34;different&nbsp;size&nbsp;for&nbsp;%q:&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="8223122">,</span>&nbsp;<span class="ident" id="8223124"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8223125">.</span><span class="ident" id="8223126"><a href="/gostd/go/token/position.go.html#3876426">name</a></span><span class="op" id="8223130">,</span>&nbsp;<span class="ident" id="8223132"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8223133">.</span><span class="ident" id="8223134"><a href="/gostd/go/token/position.go.html#3876543">size</a></span><span class="op" id="8223138">,</span>&nbsp;<span class="ident" id="8223140"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8223141">.</span><span class="ident" id="8223142"><a href="/gostd/go/token/position.go.html#3876543">size</a></span><span class="op" id="8223146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223154">for</span>&nbsp;<span class="ident" id="8223158">j</span><span class="op" id="8223159">,</span>&nbsp;<span class="ident" id="8223161">l</span>&nbsp;<span class="op" id="8223163">:=</span>&nbsp;<span class="keyword" id="8223166">range</span>&nbsp;<span class="ident" id="8223172"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8223173">.</span><span class="ident" id="8223174"><a href="/gostd/go/token/position.go.html#3876640">lines</a></span>&nbsp;<span class="op" id="8223180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8223185">m</span>&nbsp;<span class="op" id="8223187">:=</span>&nbsp;<span class="ident" id="8223190"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8223191">.</span><span class="ident" id="8223192"><a href="/gostd/go/token/position.go.html#3876640">lines</a></span><span class="op" id="8223197">[</span><span class="ident" id="8223198"><a href="/gostd/go/token/serialize_test.go.html#8223158">j</a></span><span class="op" id="8223199">]</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223204">if</span>&nbsp;<span class="ident" id="8223207"><a href="/gostd/go/token/serialize_test.go.html#8223161">l</a></span>&nbsp;<span class="op" id="8223209">!=</span>&nbsp;<span class="ident" id="8223212"><a href="/gostd/go/token/serialize_test.go.html#8223185">m</a></span>&nbsp;<span class="op" id="8223214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223220">return</span>&nbsp;<span class="ident" id="8223227"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8223230">.</span><span class="ident" id="8223231"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8223237">(</span><span class="string" id="8223238">&#34;different&nbsp;offsets&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8223264">,</span>&nbsp;<span class="ident" id="8223266"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8223267">.</span><span class="ident" id="8223268"><a href="/gostd/go/token/position.go.html#3876426">name</a></span><span class="op" id="8223272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223285">for</span>&nbsp;<span class="ident" id="8223289">j</span><span class="op" id="8223290">,</span>&nbsp;<span class="ident" id="8223292">l</span>&nbsp;<span class="op" id="8223294">:=</span>&nbsp;<span class="keyword" id="8223297">range</span>&nbsp;<span class="ident" id="8223303"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8223304">.</span><span class="ident" id="8223305"><a href="/gostd/go/token/position.go.html#3876749">infos</a></span>&nbsp;<span class="op" id="8223311">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8223316">m</span>&nbsp;<span class="op" id="8223318">:=</span>&nbsp;<span class="ident" id="8223321"><a href="/gostd/go/token/serialize_test.go.html#8222672">g</a></span><span class="op" id="8223322">.</span><span class="ident" id="8223323"><a href="/gostd/go/token/position.go.html#3876749">infos</a></span><span class="op" id="8223328">[</span><span class="ident" id="8223329"><a href="/gostd/go/token/serialize_test.go.html#8223289">j</a></span><span class="op" id="8223330">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223335">if</span>&nbsp;<span class="ident" id="8223338"><a href="/gostd/go/token/serialize_test.go.html#8223292">l</a></span><span class="op" id="8223339">.</span><span class="ident" id="8223340"><a href="/gostd/go/token/position.go.html#3879986">Offset</a></span>&nbsp;<span class="op" id="8223347">!=</span>&nbsp;<span class="ident" id="8223350"><a href="/gostd/go/token/serialize_test.go.html#8223316">m</a></span><span class="op" id="8223351">.</span><span class="ident" id="8223352"><a href="/gostd/go/token/position.go.html#3879986">Offset</a></span>&nbsp;<span class="op" id="8223359">||</span>&nbsp;<span class="ident" id="8223362"><a href="/gostd/go/token/serialize_test.go.html#8223292">l</a></span><span class="op" id="8223363">.</span><span class="ident" id="8223364"><a href="/gostd/go/token/position.go.html#3880000">Filename</a></span>&nbsp;<span class="op" id="8223373">!=</span>&nbsp;<span class="ident" id="8223376"><a href="/gostd/go/token/serialize_test.go.html#8223316">m</a></span><span class="op" id="8223377">.</span><span class="ident" id="8223378"><a href="/gostd/go/token/position.go.html#3880000">Filename</a></span>&nbsp;<span class="op" id="8223387">||</span>&nbsp;<span class="ident" id="8223390"><a href="/gostd/go/token/serialize_test.go.html#8223292">l</a></span><span class="op" id="8223391">.</span><span class="ident" id="8223392"><a href="/gostd/go/token/position.go.html#3880017">Line</a></span>&nbsp;<span class="op" id="8223397">!=</span>&nbsp;<span class="ident" id="8223400"><a href="/gostd/go/token/serialize_test.go.html#8223316">m</a></span><span class="op" id="8223401">.</span><span class="ident" id="8223402"><a href="/gostd/go/token/position.go.html#3880017">Line</a></span>&nbsp;<span class="op" id="8223407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223413">return</span>&nbsp;<span class="ident" id="8223420"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8223423">.</span><span class="ident" id="8223424"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="8223430">(</span><span class="string" id="8223431">&#34;different&nbsp;infos&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8223455">,</span>&nbsp;<span class="ident" id="8223457"><a href="/gostd/go/token/serialize_test.go.html#8222649">f</a></span><span class="op" id="8223458">.</span><span class="ident" id="8223459"><a href="/gostd/go/token/position.go.html#3876426">name</a></span><span class="op" id="8223463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223472">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8223479">//&nbsp;we&nbsp;don&#39;t&nbsp;care&nbsp;about&nbsp;.last&nbsp;-&nbsp;it&#39;s&nbsp;just&nbsp;a&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223529">return</span>&nbsp;<span class="builtintype" id="8223536">nil</span><br>
<span class="lineno"></span><span class="op" id="8223540">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8223543">func</span>&nbsp;<span class="ident" id="8223548">checkSerialize</span><span class="op" id="8223562">(</span><span class="ident" id="8223563">t</span>&nbsp;<span class="op" id="8223565">*</span><span class="ident" id="8223566"><a href="/gostd/go/token/serialize_test.go.html#8222077">testing</a></span><span class="op" id="8223573">.</span><span class="ident" id="8223574"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8223575">,</span>&nbsp;<span class="ident" id="8223577">p</span>&nbsp;<span class="op" id="8223579">*</span><span class="ident" id="8223580"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><span class="op" id="8223587">)</span>&nbsp;<span class="op" id="8223589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223592">var</span>&nbsp;<span class="ident" id="8223596">buf</span>&nbsp;<span class="ident" id="8223600"><a href="/gostd/go/token/serialize_test.go.html#8222045">bytes</a></span><span class="op" id="8223605">.</span><span class="ident" id="8223606"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8223614">encode</span>&nbsp;<span class="op" id="8223621">:=</span>&nbsp;<span class="keyword" id="8223624">func</span><span class="op" id="8223628">(</span><span class="ident" id="8223629">x</span>&nbsp;<span class="keyword" id="8223631">interface</span><span class="op" id="8223640">{</span><span class="op" id="8223641">}</span><span class="op" id="8223642">)</span>&nbsp;<span class="builtintype" id="8223644">error</span>&nbsp;<span class="op" id="8223650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223654">return</span>&nbsp;<span class="ident" id="8223661"><a href="/gostd/go/token/serialize_test.go.html#8222054">gob</a></span><span class="op" id="8223664">.</span><span class="ident" id="8223665"><a href="/gostd/encoding/gob/encoder.go.html#5399935">NewEncoder</a></span><span class="op" id="8223675">(</span><span class="op" id="8223676">&amp;</span><span class="ident" id="8223677"><a href="/gostd/go/token/serialize_test.go.html#8223596">buf</a></span><span class="op" id="8223680">)</span><span class="op" id="8223681">.</span><span class="ident" id="8223682"><a href="/gostd/encoding/gob/encoder.go.html#5403967">Encode</a></span><span class="op" id="8223688">(</span><span class="ident" id="8223689"><a href="/gostd/go/token/serialize_test.go.html#8223629">x</a></span><span class="op" id="8223690">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223696">if</span>&nbsp;<span class="ident" id="8223699">err</span>&nbsp;<span class="op" id="8223703">:=</span>&nbsp;<span class="ident" id="8223706"><a href="/gostd/go/token/serialize_test.go.html#8223577">p</a></span><span class="op" id="8223707">.</span><span class="ident" id="8223708"><a href="/gostd/go/token/serialize.go.html#3888880">Write</a></span><span class="op" id="8223713">(</span><span class="ident" id="8223714"><a href="/gostd/go/token/serialize_test.go.html#8223614">encode</a></span><span class="op" id="8223720">)</span><span class="op" id="8223721">;</span>&nbsp;<span class="ident" id="8223723"><a href="/gostd/go/token/serialize_test.go.html#8223699">err</a></span>&nbsp;<span class="op" id="8223727">!=</span>&nbsp;<span class="builtintype" id="8223730">nil</span>&nbsp;<span class="op" id="8223734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8223738"><a href="/gostd/go/token/serialize_test.go.html#8223563">t</a></span><span class="op" id="8223739">.</span><span class="ident" id="8223740"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8223746">(</span><span class="string" id="8223747">&#34;writing&nbsp;fileset&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="8223775">,</span>&nbsp;<span class="ident" id="8223777"><a href="/gostd/go/token/serialize_test.go.html#8223699">err</a></span><span class="op" id="8223780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223784">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223792">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8223795">q</span>&nbsp;<span class="op" id="8223797">:=</span>&nbsp;<span class="ident" id="8223800"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8223810">(</span><span class="op" id="8223811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8223814">decode</span>&nbsp;<span class="op" id="8223821">:=</span>&nbsp;<span class="keyword" id="8223824">func</span><span class="op" id="8223828">(</span><span class="ident" id="8223829">x</span>&nbsp;<span class="keyword" id="8223831">interface</span><span class="op" id="8223840">{</span><span class="op" id="8223841">}</span><span class="op" id="8223842">)</span>&nbsp;<span class="builtintype" id="8223844">error</span>&nbsp;<span class="op" id="8223850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223854">return</span>&nbsp;<span class="ident" id="8223861"><a href="/gostd/go/token/serialize_test.go.html#8222054">gob</a></span><span class="op" id="8223864">.</span><span class="ident" id="8223865"><a href="/gostd/encoding/gob/decoder.go.html#5347520">NewDecoder</a></span><span class="op" id="8223875">(</span><span class="op" id="8223876">&amp;</span><span class="ident" id="8223877"><a href="/gostd/go/token/serialize_test.go.html#8223596">buf</a></span><span class="op" id="8223880">)</span><span class="op" id="8223881">.</span><span class="ident" id="8223882"><a href="/gostd/encoding/gob/decoder.go.html#5351182">Decode</a></span><span class="op" id="8223888">(</span><span class="ident" id="8223889"><a href="/gostd/go/token/serialize_test.go.html#8223829">x</a></span><span class="op" id="8223890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223896">if</span>&nbsp;<span class="ident" id="8223899">err</span>&nbsp;<span class="op" id="8223903">:=</span>&nbsp;<span class="ident" id="8223906"><a href="/gostd/go/token/serialize_test.go.html#8223795">q</a></span><span class="op" id="8223907">.</span><span class="ident" id="8223908"><a href="/gostd/go/token/serialize.go.html#3888423">Read</a></span><span class="op" id="8223912">(</span><span class="ident" id="8223913"><a href="/gostd/go/token/serialize_test.go.html#8223814">decode</a></span><span class="op" id="8223919">)</span><span class="op" id="8223920">;</span>&nbsp;<span class="ident" id="8223922"><a href="/gostd/go/token/serialize_test.go.html#8223899">err</a></span>&nbsp;<span class="op" id="8223926">!=</span>&nbsp;<span class="builtintype" id="8223929">nil</span>&nbsp;<span class="op" id="8223933">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8223937"><a href="/gostd/go/token/serialize_test.go.html#8223563">t</a></span><span class="op" id="8223938">.</span><span class="ident" id="8223939"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8223945">(</span><span class="string" id="8223946">&#34;reading&nbsp;fileset&nbsp;failed:&nbsp;%s&#34;</span><span class="op" id="8223974">,</span>&nbsp;<span class="ident" id="8223976"><a href="/gostd/go/token/serialize_test.go.html#8223899">err</a></span><span class="op" id="8223979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223983">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8223991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8223994">if</span>&nbsp;<span class="ident" id="8223997">err</span>&nbsp;<span class="op" id="8224001">:=</span>&nbsp;<span class="ident" id="8224004"><a href="/gostd/go/token/serialize_test.go.html#8222216">equal</a></span><span class="op" id="8224009">(</span><span class="ident" id="8224010"><a href="/gostd/go/token/serialize_test.go.html#8223577">p</a></span><span class="op" id="8224011">,</span>&nbsp;<span class="ident" id="8224013"><a href="/gostd/go/token/serialize_test.go.html#8223795">q</a></span><span class="op" id="8224014">)</span><span class="op" id="8224015">;</span>&nbsp;<span class="ident" id="8224017"><a href="/gostd/go/token/serialize_test.go.html#8223997">err</a></span>&nbsp;<span class="op" id="8224021">!=</span>&nbsp;<span class="builtintype" id="8224024">nil</span>&nbsp;<span class="op" id="8224028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224032"><a href="/gostd/go/token/serialize_test.go.html#8223563">t</a></span><span class="op" id="8224033">.</span><span class="ident" id="8224034"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8224040">(</span><span class="string" id="8224041">&#34;filesets&nbsp;not&nbsp;identical:&nbsp;%s&#34;</span><span class="op" id="8224069">,</span>&nbsp;<span class="ident" id="8224071"><a href="/gostd/go/token/serialize_test.go.html#8223997">err</a></span><span class="op" id="8224074">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8224077">}</span><br>
<span class="lineno"></span><span class="op" id="8224079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8224082">func</span>&nbsp;<span class="ident" id="8224087">TestSerialization</span><span class="op" id="8224104">(</span><span class="ident" id="8224105">t</span>&nbsp;<span class="op" id="8224107">*</span><span class="ident" id="8224108"><a href="/gostd/go/token/serialize_test.go.html#8222077">testing</a></span><span class="op" id="8224115">.</span><span class="ident" id="8224116"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8224117">)</span>&nbsp;<span class="op" id="8224119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224122">p</span>&nbsp;<span class="op" id="8224124">:=</span>&nbsp;<span class="ident" id="8224127"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8224137">(</span><span class="op" id="8224138">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224141"><a href="/gostd/go/token/serialize_test.go.html#8223548">checkSerialize</a></span><span class="op" id="8224155">(</span><span class="ident" id="8224156"><a href="/gostd/go/token/serialize_test.go.html#8224105">t</a></span><span class="op" id="8224157">,</span>&nbsp;<span class="ident" id="8224159"><a href="/gostd/go/token/serialize_test.go.html#8224122">p</a></span><span class="op" id="8224160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8224163">//&nbsp;add&nbsp;some&nbsp;files</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8224182">for</span>&nbsp;<span class="ident" id="8224186">i</span>&nbsp;<span class="op" id="8224188">:=</span>&nbsp;<span class="num" id="8224191">0</span><span class="op" id="8224192">;</span>&nbsp;<span class="ident" id="8224194"><a href="/gostd/go/token/serialize_test.go.html#8224186">i</a></span>&nbsp;<span class="op" id="8224196">&lt;</span>&nbsp;<span class="num" id="8224198">10</span><span class="op" id="8224200">;</span>&nbsp;<span class="ident" id="8224202"><a href="/gostd/go/token/serialize_test.go.html#8224186">i</a></span><span class="op" id="8224203">++</span>&nbsp;<span class="op" id="8224206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224210">f</span>&nbsp;<span class="op" id="8224212">:=</span>&nbsp;<span class="ident" id="8224215"><a href="/gostd/go/token/serialize_test.go.html#8224122">p</a></span><span class="op" id="8224216">.</span><span class="ident" id="8224217"><a href="/gostd/go/token/position.go.html#3884740">AddFile</a></span><span class="op" id="8224224">(</span><span class="ident" id="8224225"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8224228">.</span><span class="ident" id="8224229"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="8224236">(</span><span class="string" id="8224237">&#34;file%d&#34;</span><span class="op" id="8224245">,</span>&nbsp;<span class="ident" id="8224247"><a href="/gostd/go/token/serialize_test.go.html#8224186">i</a></span><span class="op" id="8224248">)</span><span class="op" id="8224249">,</span>&nbsp;<span class="ident" id="8224251"><a href="/gostd/go/token/serialize_test.go.html#8224122">p</a></span><span class="op" id="8224252">.</span><span class="ident" id="8224253"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8224257">(</span><span class="op" id="8224258">)</span><span class="op" id="8224259">+</span><span class="ident" id="8224260"><a href="/gostd/go/token/serialize_test.go.html#8224186">i</a></span><span class="op" id="8224261">,</span>&nbsp;<span class="ident" id="8224263"><a href="/gostd/go/token/serialize_test.go.html#8224186">i</a></span><span class="op" id="8224264">*</span><span class="num" id="8224265">100</span><span class="op" id="8224268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224272"><a href="/gostd/go/token/serialize_test.go.html#8223548">checkSerialize</a></span><span class="op" id="8224286">(</span><span class="ident" id="8224287"><a href="/gostd/go/token/serialize_test.go.html#8224105">t</a></span><span class="op" id="8224288">,</span>&nbsp;<span class="ident" id="8224290"><a href="/gostd/go/token/serialize_test.go.html#8224122">p</a></span><span class="op" id="8224291">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8224295">//&nbsp;add&nbsp;some&nbsp;lines&nbsp;and&nbsp;alternative&nbsp;file&nbsp;infos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224342">line</span>&nbsp;<span class="op" id="8224347">:=</span>&nbsp;<span class="num" id="8224350">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8224357">for</span>&nbsp;<span class="ident" id="8224361">offs</span>&nbsp;<span class="op" id="8224366">:=</span>&nbsp;<span class="num" id="8224369">0</span><span class="op" id="8224370">;</span>&nbsp;<span class="ident" id="8224372"><a href="/gostd/go/token/serialize_test.go.html#8224361">offs</a></span>&nbsp;<span class="op" id="8224377">&lt;</span>&nbsp;<span class="ident" id="8224379"><a href="/gostd/go/token/serialize_test.go.html#8224210">f</a></span><span class="op" id="8224380">.</span><span class="ident" id="8224381"><a href="/gostd/go/token/position.go.html#3877080">Size</a></span><span class="op" id="8224385">(</span><span class="op" id="8224386">)</span><span class="op" id="8224387">;</span>&nbsp;<span class="ident" id="8224389"><a href="/gostd/go/token/serialize_test.go.html#8224361">offs</a></span>&nbsp;<span class="op" id="8224394">+=</span>&nbsp;<span class="num" id="8224397">40</span>&nbsp;<span class="op" id="8224400">+</span>&nbsp;<span class="ident" id="8224402"><a href="/gostd/go/token/serialize_test.go.html#8224186">i</a></span>&nbsp;<span class="op" id="8224404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224409"><a href="/gostd/go/token/serialize_test.go.html#8224210">f</a></span><span class="op" id="8224410">.</span><span class="ident" id="8224411"><a href="/gostd/go/token/position.go.html#3877483">AddLine</a></span><span class="op" id="8224418">(</span><span class="ident" id="8224419"><a href="/gostd/go/token/serialize_test.go.html#8224361">offs</a></span><span class="op" id="8224423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8224428">if</span>&nbsp;<span class="ident" id="8224431"><a href="/gostd/go/token/serialize_test.go.html#8224361">offs</a></span><span class="op" id="8224435">%</span><span class="num" id="8224436">7</span>&nbsp;<span class="op" id="8224438">==</span>&nbsp;<span class="num" id="8224441">0</span>&nbsp;<span class="op" id="8224443">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224449"><a href="/gostd/go/token/serialize_test.go.html#8224210">f</a></span><span class="op" id="8224450">.</span><span class="ident" id="8224451"><a href="/gostd/go/token/position.go.html#3880444">AddLineInfo</a></span><span class="op" id="8224462">(</span><span class="ident" id="8224463"><a href="/gostd/go/token/serialize_test.go.html#8224361">offs</a></span><span class="op" id="8224467">,</span>&nbsp;<span class="ident" id="8224469"><a href="/gostd/go/token/serialize_test.go.html#8222070">fmt</a></span><span class="op" id="8224472">.</span><span class="ident" id="8224473"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="8224480">(</span><span class="string" id="8224481">&#34;file%d&#34;</span><span class="op" id="8224489">,</span>&nbsp;<span class="ident" id="8224491"><a href="/gostd/go/token/serialize_test.go.html#8224361">offs</a></span><span class="op" id="8224495">)</span><span class="op" id="8224496">,</span>&nbsp;<span class="ident" id="8224498"><a href="/gostd/go/token/serialize_test.go.html#8224342">line</a></span><span class="op" id="8224502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224508"><a href="/gostd/go/token/serialize_test.go.html#8224342">line</a></span>&nbsp;<span class="op" id="8224513">+=</span>&nbsp;<span class="num" id="8224516">33</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8224522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8224526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8224530"><a href="/gostd/go/token/serialize_test.go.html#8223548">checkSerialize</a></span><span class="op" id="8224544">(</span><span class="ident" id="8224545"><a href="/gostd/go/token/serialize_test.go.html#8224105">t</a></span><span class="op" id="8224546">,</span>&nbsp;<span class="ident" id="8224548"><a href="/gostd/go/token/serialize_test.go.html#8224122">p</a></span><span class="op" id="8224549">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8224552">}</span><br>
<span class="lineno"></span><span class="op" id="8224554">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
