<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8023472">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8023528">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8023582">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8023633">//&nbsp;+build&nbsp;!nacl,!plan9,!windows</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8023666">package</span>&nbsp;<span class="ident" id="8023674">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8023679">import</span>&nbsp;<span class="op" id="8023686">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8023689">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8023698">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8023704">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8023715">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8023726">&#34;syscall&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8023737">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8023748">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8023755">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8023758">func</span>&nbsp;<span class="ident" id="8023763">TestReadUnixgramWithUnnamedSocket</span><span class="op" id="8023796">(</span><span class="ident" id="8023797">t</span>&nbsp;<span class="op" id="8023799">*</span><span class="ident" id="8023800"><a href="/net/unix_test.go.html#8023737">testing</a></span><span class="op" id="8023807">.</span><span class="ident" id="8023808">T</span><span class="op" id="8023809">)</span>&nbsp;<span class="op" id="8023811">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023814">addr</span>&nbsp;<span class="op" id="8023819">:=</span>&nbsp;<span class="ident" id="8023822"><a href="/net/protoconn_test.go.html#7945768">testUnixAddr</a></span><span class="op" id="8023834">(</span><span class="op" id="8023835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023838">la</span><span class="op" id="8023840">,</span>&nbsp;<span class="ident" id="8023842">err</span>&nbsp;<span class="op" id="8023846">:=</span>&nbsp;<span class="ident" id="8023849"><a href="/net/unixsock.go.html#1526926">ResolveUnixAddr</a></span><span class="op" id="8023864">(</span><span class="string" id="8023865">&#34;unixgram&#34;</span><span class="op" id="8023875">,</span>&nbsp;<span class="ident" id="8023877"><a href="/net/unix_test.go.html#8023814">addr</a></span><span class="op" id="8023881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8023884">if</span>&nbsp;<span class="ident" id="8023887"><a href="/net/unix_test.go.html#8023842">err</a></span>&nbsp;<span class="op" id="8023891">!=</span>&nbsp;<span class="ident" id="8023894">nil</span>&nbsp;<span class="op" id="8023898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023902"><a href="/net/unix_test.go.html#8023797">t</a></span><span class="op" id="8023903">.</span><span class="ident" id="8023904">Fatalf</span><span class="op" id="8023910">(</span><span class="string" id="8023911">&#34;ResolveUnixAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8023939">,</span>&nbsp;<span class="ident" id="8023941"><a href="/net/unix_test.go.html#8023842">err</a></span><span class="op" id="8023944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8023947">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8023950">c</span><span class="op" id="8023951">,</span>&nbsp;<span class="ident" id="8023953"><a href="/net/unix_test.go.html#8023842">err</a></span>&nbsp;<span class="op" id="8023957">:=</span>&nbsp;<span class="ident" id="8023960"><a href="/net/unixsock_posix.go.html#1537208">ListenUnixgram</a></span><span class="op" id="8023974">(</span><span class="string" id="8023975">&#34;unixgram&#34;</span><span class="op" id="8023985">,</span>&nbsp;<span class="ident" id="8023987"><a href="/net/unix_test.go.html#8023838">la</a></span><span class="op" id="8023989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8023992">if</span>&nbsp;<span class="ident" id="8023995"><a href="/net/unix_test.go.html#8023842">err</a></span>&nbsp;<span class="op" id="8023999">!=</span>&nbsp;<span class="ident" id="8024002">nil</span>&nbsp;<span class="op" id="8024006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024010"><a href="/net/unix_test.go.html#8023797">t</a></span><span class="op" id="8024011">.</span><span class="ident" id="8024012">Fatalf</span><span class="op" id="8024018">(</span><span class="string" id="8024019">&#34;ListenUnixgram&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8024046">,</span>&nbsp;<span class="ident" id="8024048"><a href="/net/unix_test.go.html#8023842">err</a></span><span class="op" id="8024051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024057">defer</span>&nbsp;<span class="keyword" id="8024063">func</span><span class="op" id="8024067">(</span><span class="op" id="8024068">)</span>&nbsp;<span class="op" id="8024070">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024074"><a href="/net/unix_test.go.html#8023950">c</a></span><span class="op" id="8024075">.</span><span class="ident" id="8024076">Close</span><span class="op" id="8024081">(</span><span class="op" id="8024082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024086"><a href="/net/unix_test.go.html#8023698">os</a></span><span class="op" id="8024088">.</span><span class="ident" id="8024089">Remove</span><span class="op" id="8024095">(</span><span class="ident" id="8024096"><a href="/net/unix_test.go.html#8023814">addr</a></span><span class="op" id="8024100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024103">}</span><span class="op" id="8024104">(</span><span class="op" id="8024105">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024109">off</span>&nbsp;<span class="op" id="8024113">:=</span>&nbsp;<span class="builtinfunc" id="8024116">make</span><span class="op" id="8024120">(</span><span class="keyword" id="8024121">chan</span>&nbsp;<span class="builtintype" id="8024126">bool</span><span class="op" id="8024130">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024133">data</span>&nbsp;<span class="op" id="8024138">:=</span>&nbsp;<span class="op" id="8024141">[</span><span class="num" id="8024142">5</span><span class="op" id="8024143">]</span><span class="builtintype" id="8024144">byte</span><span class="op" id="8024148">{</span><span class="num" id="8024149">1</span><span class="op" id="8024150">,</span>&nbsp;<span class="num" id="8024152">2</span><span class="op" id="8024153">,</span>&nbsp;<span class="num" id="8024155">3</span><span class="op" id="8024156">,</span>&nbsp;<span class="num" id="8024158">4</span><span class="op" id="8024159">,</span>&nbsp;<span class="num" id="8024161">5</span><span class="op" id="8024162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024165">go</span>&nbsp;<span class="keyword" id="8024168">func</span><span class="op" id="8024172">(</span><span class="op" id="8024173">)</span>&nbsp;<span class="op" id="8024175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024179">defer</span>&nbsp;<span class="keyword" id="8024185">func</span><span class="op" id="8024189">(</span><span class="op" id="8024190">)</span>&nbsp;<span class="op" id="8024192">{</span>&nbsp;<span class="ident" id="8024194"><a href="/net/unix_test.go.html#8024109">off</a></span>&nbsp;<span class="op" id="8024198">&lt;-</span>&nbsp;<span class="builtintype" id="8024201">true</span>&nbsp;<span class="op" id="8024206">}</span><span class="op" id="8024207">(</span><span class="op" id="8024208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024212">s</span><span class="op" id="8024213">,</span>&nbsp;<span class="ident" id="8024215">err</span>&nbsp;<span class="op" id="8024219">:=</span>&nbsp;<span class="ident" id="8024222"><a href="/net/unix_test.go.html#8023726">syscall</a></span><span class="op" id="8024229">.</span><span class="ident" id="8024230">Socket</span><span class="op" id="8024236">(</span><span class="ident" id="8024237"><a href="/net/unix_test.go.html#8023726">syscall</a></span><span class="op" id="8024244">.</span><span class="ident" id="8024245">AF_UNIX</span><span class="op" id="8024252">,</span>&nbsp;<span class="ident" id="8024254"><a href="/net/unix_test.go.html#8023726">syscall</a></span><span class="op" id="8024261">.</span><span class="ident" id="8024262">SOCK_DGRAM</span><span class="op" id="8024272">,</span>&nbsp;<span class="num" id="8024274">0</span><span class="op" id="8024275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024279">if</span>&nbsp;<span class="ident" id="8024282"><a href="/net/unix_test.go.html#8024215">err</a></span>&nbsp;<span class="op" id="8024286">!=</span>&nbsp;<span class="ident" id="8024289">nil</span>&nbsp;<span class="op" id="8024293">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024298"><a href="/net/unix_test.go.html#8023797">t</a></span><span class="op" id="8024299">.</span><span class="ident" id="8024300">Errorf</span><span class="op" id="8024306">(</span><span class="string" id="8024307">&#34;syscall.Socket&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8024334">,</span>&nbsp;<span class="ident" id="8024336"><a href="/net/unix_test.go.html#8024215">err</a></span><span class="op" id="8024339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024344">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024357">defer</span>&nbsp;<span class="ident" id="8024363"><a href="/net/unix_test.go.html#8023726">syscall</a></span><span class="op" id="8024370">.</span><span class="ident" id="8024371">Close</span><span class="op" id="8024376">(</span><span class="ident" id="8024377"><a href="/net/unix_test.go.html#8024212">s</a></span><span class="op" id="8024378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024382">rsa</span>&nbsp;<span class="op" id="8024386">:=</span>&nbsp;<span class="op" id="8024389">&amp;</span><span class="ident" id="8024390"><a href="/net/unix_test.go.html#8023726">syscall</a></span><span class="op" id="8024397">.</span><span class="ident" id="8024398">SockaddrUnix</span><span class="op" id="8024410">{</span><span class="ident" id="8024411">Name</span><span class="op" id="8024415">:</span>&nbsp;<span class="ident" id="8024417"><a href="/net/unix_test.go.html#8023814">addr</a></span><span class="op" id="8024421">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024425">if</span>&nbsp;<span class="ident" id="8024428">err</span>&nbsp;<span class="op" id="8024432">:=</span>&nbsp;<span class="ident" id="8024435"><a href="/net/unix_test.go.html#8023726">syscall</a></span><span class="op" id="8024442">.</span><span class="ident" id="8024443">Sendto</span><span class="op" id="8024449">(</span><span class="ident" id="8024450"><a href="/net/unix_test.go.html#8024212">s</a></span><span class="op" id="8024451">,</span>&nbsp;<span class="ident" id="8024453"><a href="/net/unix_test.go.html#8024133">data</a></span><span class="op" id="8024457">[</span><span class="op" id="8024458">:</span><span class="op" id="8024459">]</span><span class="op" id="8024460">,</span>&nbsp;<span class="num" id="8024462">0</span><span class="op" id="8024463">,</span>&nbsp;<span class="ident" id="8024465"><a href="/net/unix_test.go.html#8024382">rsa</a></span><span class="op" id="8024468">)</span><span class="op" id="8024469">;</span>&nbsp;<span class="ident" id="8024471"><a href="/net/unix_test.go.html#8024428">err</a></span>&nbsp;<span class="op" id="8024475">!=</span>&nbsp;<span class="ident" id="8024478">nil</span>&nbsp;<span class="op" id="8024482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024487"><a href="/net/unix_test.go.html#8023797">t</a></span><span class="op" id="8024488">.</span><span class="ident" id="8024489">Errorf</span><span class="op" id="8024495">(</span><span class="string" id="8024496">&#34;syscall.Sendto&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8024523">,</span>&nbsp;<span class="ident" id="8024525"><a href="/net/unix_test.go.html#8024428">err</a></span><span class="op" id="8024528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024533">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024545">}</span><span class="op" id="8024546">(</span><span class="op" id="8024547">)</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024551">&lt;-</span><span class="ident" id="8024553"><a href="/net/unix_test.go.html#8024109">off</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024558">b</span>&nbsp;<span class="op" id="8024560">:=</span>&nbsp;<span class="builtinfunc" id="8024563">make</span><span class="op" id="8024567">(</span><span class="op" id="8024568">[</span><span class="op" id="8024569">]</span><span class="builtintype" id="8024570">byte</span><span class="op" id="8024574">,</span>&nbsp;<span class="num" id="8024576">64</span><span class="op" id="8024578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024581"><a href="/net/unix_test.go.html#8023950">c</a></span><span class="op" id="8024582">.</span><span class="ident" id="8024583">SetReadDeadline</span><span class="op" id="8024598">(</span><span class="ident" id="8024599"><a href="/net/unix_test.go.html#8023748">time</a></span><span class="op" id="8024603">.</span><span class="ident" id="8024604">Now</span><span class="op" id="8024607">(</span><span class="op" id="8024608">)</span><span class="op" id="8024609">.</span><span class="ident" id="8024610">Add</span><span class="op" id="8024613">(</span><span class="num" id="8024614">100</span>&nbsp;<span class="op" id="8024618">*</span>&nbsp;<span class="ident" id="8024620"><a href="/net/unix_test.go.html#8023748">time</a></span><span class="op" id="8024624">.</span><span class="ident" id="8024625">Millisecond</span><span class="op" id="8024636">)</span><span class="op" id="8024637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024640">n</span><span class="op" id="8024641">,</span>&nbsp;<span class="ident" id="8024643">from</span><span class="op" id="8024647">,</span>&nbsp;<span class="ident" id="8024649"><a href="/net/unix_test.go.html#8023842">err</a></span>&nbsp;<span class="op" id="8024653">:=</span>&nbsp;<span class="ident" id="8024656"><a href="/net/unix_test.go.html#8023950">c</a></span><span class="op" id="8024657">.</span><span class="ident" id="8024658">ReadFrom</span><span class="op" id="8024666">(</span><span class="ident" id="8024667"><a href="/net/unix_test.go.html#8024558">b</a></span><span class="op" id="8024668">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024671">if</span>&nbsp;<span class="ident" id="8024674"><a href="/net/unix_test.go.html#8023842">err</a></span>&nbsp;<span class="op" id="8024678">!=</span>&nbsp;<span class="ident" id="8024681">nil</span>&nbsp;<span class="op" id="8024685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024689"><a href="/net/unix_test.go.html#8023797">t</a></span><span class="op" id="8024690">.</span><span class="ident" id="8024691">Fatalf</span><span class="op" id="8024697">(</span><span class="string" id="8024698">&#34;UnixConn.ReadFrom&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8024728">,</span>&nbsp;<span class="ident" id="8024730"><a href="/net/unix_test.go.html#8023842">err</a></span><span class="op" id="8024733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024739">if</span>&nbsp;<span class="ident" id="8024742"><a href="/net/unix_test.go.html#8024643">from</a></span>&nbsp;<span class="op" id="8024747">!=</span>&nbsp;<span class="ident" id="8024750">nil</span>&nbsp;<span class="op" id="8024754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024758"><a href="/net/unix_test.go.html#8023797">t</a></span><span class="op" id="8024759">.</span><span class="ident" id="8024760">Fatalf</span><span class="op" id="8024766">(</span><span class="string" id="8024767">&#34;neighbor&nbsp;address&nbsp;is&nbsp;%v&#34;</span><span class="op" id="8024791">,</span>&nbsp;<span class="ident" id="8024793"><a href="/net/unix_test.go.html#8024643">from</a></span><span class="op" id="8024797">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8024803">if</span>&nbsp;<span class="op" id="8024806">!</span><span class="ident" id="8024807"><a href="/net/unix_test.go.html#8023689">bytes</a></span><span class="op" id="8024812">.</span><span class="ident" id="8024813">Equal</span><span class="op" id="8024818">(</span><span class="ident" id="8024819"><a href="/net/unix_test.go.html#8024558">b</a></span><span class="op" id="8024820">[</span><span class="op" id="8024821">:</span><span class="ident" id="8024822"><a href="/net/unix_test.go.html#8024640">n</a></span><span class="op" id="8024823">]</span><span class="op" id="8024824">,</span>&nbsp;<span class="ident" id="8024826"><a href="/net/unix_test.go.html#8024133">data</a></span><span class="op" id="8024830">[</span><span class="op" id="8024831">:</span><span class="op" id="8024832">]</span><span class="op" id="8024833">)</span>&nbsp;<span class="op" id="8024835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8024839"><a href="/net/unix_test.go.html#8023797">t</a></span><span class="op" id="8024840">.</span><span class="ident" id="8024841">Fatalf</span><span class="op" id="8024847">(</span><span class="string" id="8024848">&#34;got&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8024865">,</span>&nbsp;<span class="ident" id="8024867"><a href="/net/unix_test.go.html#8024558">b</a></span><span class="op" id="8024868">[</span><span class="op" id="8024869">:</span><span class="ident" id="8024870"><a href="/net/unix_test.go.html#8024640">n</a></span><span class="op" id="8024871">]</span><span class="op" id="8024872">,</span>&nbsp;<span class="ident" id="8024874"><a href="/net/unix_test.go.html#8024133">data</a></span><span class="op" id="8024878">[</span><span class="op" id="8024879">:</span><span class="op" id="8024880">]</span><span class="op" id="8024881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8024884">}</span><br>
<span class="lineno"></span><span class="op" id="8024886">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8024889">func</span>&nbsp;<span class="ident" id="8024894">TestReadUnixgramWithZeroBytesBuffer</span><span class="op" id="8024929">(</span><span class="ident" id="8024930">t</span>&nbsp;<span class="op" id="8024932">*</span><span class="ident" id="8024933"><a href="/net/unix_test.go.html#8023737">testing</a></span><span class="op" id="8024940">.</span><span class="ident" id="8024941">T</span><span class="op" id="8024942">)</span>&nbsp;<span class="op" id="8024944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8024947">//&nbsp;issue&nbsp;4352:&nbsp;Recvfrom&nbsp;failed&nbsp;with&nbsp;&#34;address&nbsp;family&nbsp;not</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8025004">//&nbsp;supported&nbsp;by&nbsp;protocol&nbsp;family&#34;&nbsp;if&nbsp;zero-length&nbsp;buffer&nbsp;provided</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025070">addr</span>&nbsp;<span class="op" id="8025075">:=</span>&nbsp;<span class="ident" id="8025078"><a href="/net/protoconn_test.go.html#7945768">testUnixAddr</a></span><span class="op" id="8025090">(</span><span class="op" id="8025091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025094">la</span><span class="op" id="8025096">,</span>&nbsp;<span class="ident" id="8025098">err</span>&nbsp;<span class="op" id="8025102">:=</span>&nbsp;<span class="ident" id="8025105"><a href="/net/unixsock.go.html#1526926">ResolveUnixAddr</a></span><span class="op" id="8025120">(</span><span class="string" id="8025121">&#34;unixgram&#34;</span><span class="op" id="8025131">,</span>&nbsp;<span class="ident" id="8025133"><a href="/net/unix_test.go.html#8025070">addr</a></span><span class="op" id="8025137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025140">if</span>&nbsp;<span class="ident" id="8025143"><a href="/net/unix_test.go.html#8025098">err</a></span>&nbsp;<span class="op" id="8025147">!=</span>&nbsp;<span class="ident" id="8025150">nil</span>&nbsp;<span class="op" id="8025154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025158"><a href="/net/unix_test.go.html#8024930">t</a></span><span class="op" id="8025159">.</span><span class="ident" id="8025160">Fatalf</span><span class="op" id="8025166">(</span><span class="string" id="8025167">&#34;ResolveUnixAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8025195">,</span>&nbsp;<span class="ident" id="8025197"><a href="/net/unix_test.go.html#8025098">err</a></span><span class="op" id="8025200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025203">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025206">c</span><span class="op" id="8025207">,</span>&nbsp;<span class="ident" id="8025209"><a href="/net/unix_test.go.html#8025098">err</a></span>&nbsp;<span class="op" id="8025213">:=</span>&nbsp;<span class="ident" id="8025216"><a href="/net/unixsock_posix.go.html#1537208">ListenUnixgram</a></span><span class="op" id="8025230">(</span><span class="string" id="8025231">&#34;unixgram&#34;</span><span class="op" id="8025241">,</span>&nbsp;<span class="ident" id="8025243"><a href="/net/unix_test.go.html#8025094">la</a></span><span class="op" id="8025245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025248">if</span>&nbsp;<span class="ident" id="8025251"><a href="/net/unix_test.go.html#8025098">err</a></span>&nbsp;<span class="op" id="8025255">!=</span>&nbsp;<span class="ident" id="8025258">nil</span>&nbsp;<span class="op" id="8025262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025266"><a href="/net/unix_test.go.html#8024930">t</a></span><span class="op" id="8025267">.</span><span class="ident" id="8025268">Fatalf</span><span class="op" id="8025274">(</span><span class="string" id="8025275">&#34;ListenUnixgram&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8025302">,</span>&nbsp;<span class="ident" id="8025304"><a href="/net/unix_test.go.html#8025098">err</a></span><span class="op" id="8025307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025313">defer</span>&nbsp;<span class="keyword" id="8025319">func</span><span class="op" id="8025323">(</span><span class="op" id="8025324">)</span>&nbsp;<span class="op" id="8025326">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025330"><a href="/net/unix_test.go.html#8025206">c</a></span><span class="op" id="8025331">.</span><span class="ident" id="8025332">Close</span><span class="op" id="8025337">(</span><span class="op" id="8025338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025342"><a href="/net/unix_test.go.html#8023698">os</a></span><span class="op" id="8025344">.</span><span class="ident" id="8025345">Remove</span><span class="op" id="8025351">(</span><span class="ident" id="8025352"><a href="/net/unix_test.go.html#8025070">addr</a></span><span class="op" id="8025356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025359">}</span><span class="op" id="8025360">(</span><span class="op" id="8025361">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025365">off</span>&nbsp;<span class="op" id="8025369">:=</span>&nbsp;<span class="builtinfunc" id="8025372">make</span><span class="op" id="8025376">(</span><span class="keyword" id="8025377">chan</span>&nbsp;<span class="builtintype" id="8025382">bool</span><span class="op" id="8025386">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025389">go</span>&nbsp;<span class="keyword" id="8025392">func</span><span class="op" id="8025396">(</span><span class="op" id="8025397">)</span>&nbsp;<span class="op" id="8025399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025403">defer</span>&nbsp;<span class="keyword" id="8025409">func</span><span class="op" id="8025413">(</span><span class="op" id="8025414">)</span>&nbsp;<span class="op" id="8025416">{</span>&nbsp;<span class="ident" id="8025418"><a href="/net/unix_test.go.html#8025365">off</a></span>&nbsp;<span class="op" id="8025422">&lt;-</span>&nbsp;<span class="builtintype" id="8025425">true</span>&nbsp;<span class="op" id="8025430">}</span><span class="op" id="8025431">(</span><span class="op" id="8025432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025436">c</span><span class="op" id="8025437">,</span>&nbsp;<span class="ident" id="8025439">err</span>&nbsp;<span class="op" id="8025443">:=</span>&nbsp;<span class="ident" id="8025446"><a href="/net/unixsock_posix.go.html#1533427">DialUnix</a></span><span class="op" id="8025454">(</span><span class="string" id="8025455">&#34;unixgram&#34;</span><span class="op" id="8025465">,</span>&nbsp;<span class="ident" id="8025467">nil</span><span class="op" id="8025470">,</span>&nbsp;<span class="ident" id="8025472"><a href="/net/unix_test.go.html#8025094">la</a></span><span class="op" id="8025474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025478">if</span>&nbsp;<span class="ident" id="8025481"><a href="/net/unix_test.go.html#8025439">err</a></span>&nbsp;<span class="op" id="8025485">!=</span>&nbsp;<span class="ident" id="8025488">nil</span>&nbsp;<span class="op" id="8025492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025497"><a href="/net/unix_test.go.html#8024930">t</a></span><span class="op" id="8025498">.</span><span class="ident" id="8025499">Errorf</span><span class="op" id="8025505">(</span><span class="string" id="8025506">&#34;DialUnix&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8025527">,</span>&nbsp;<span class="ident" id="8025529"><a href="/net/unix_test.go.html#8025439">err</a></span><span class="op" id="8025532">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025537">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025550">defer</span>&nbsp;<span class="ident" id="8025556"><a href="/net/unix_test.go.html#8025436">c</a></span><span class="op" id="8025557">.</span><span class="ident" id="8025558">Close</span><span class="op" id="8025563">(</span><span class="op" id="8025564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025568">if</span>&nbsp;<span class="ident" id="8025571">_</span><span class="op" id="8025572">,</span>&nbsp;<span class="ident" id="8025574">err</span>&nbsp;<span class="op" id="8025578">:=</span>&nbsp;<span class="ident" id="8025581"><a href="/net/unix_test.go.html#8025436">c</a></span><span class="op" id="8025582">.</span><span class="ident" id="8025583">Write</span><span class="op" id="8025588">(</span><span class="op" id="8025589">[</span><span class="op" id="8025590">]</span><span class="builtintype" id="8025591">byte</span><span class="op" id="8025595">{</span><span class="num" id="8025596">1</span><span class="op" id="8025597">,</span>&nbsp;<span class="num" id="8025599">2</span><span class="op" id="8025600">,</span>&nbsp;<span class="num" id="8025602">3</span><span class="op" id="8025603">,</span>&nbsp;<span class="num" id="8025605">4</span><span class="op" id="8025606">,</span>&nbsp;<span class="num" id="8025608">5</span><span class="op" id="8025609">}</span><span class="op" id="8025610">)</span><span class="op" id="8025611">;</span>&nbsp;<span class="ident" id="8025613"><a href="/net/unix_test.go.html#8025574">err</a></span>&nbsp;<span class="op" id="8025617">!=</span>&nbsp;<span class="ident" id="8025620">nil</span>&nbsp;<span class="op" id="8025624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025629"><a href="/net/unix_test.go.html#8024930">t</a></span><span class="op" id="8025630">.</span><span class="ident" id="8025631">Errorf</span><span class="op" id="8025637">(</span><span class="string" id="8025638">&#34;UnixConn.Write&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8025665">,</span>&nbsp;<span class="ident" id="8025667"><a href="/net/unix_test.go.html#8025574">err</a></span><span class="op" id="8025670">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025675">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025687">}</span><span class="op" id="8025688">(</span><span class="op" id="8025689">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025693">&lt;-</span><span class="ident" id="8025695"><a href="/net/unix_test.go.html#8025365">off</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025700"><a href="/net/unix_test.go.html#8025206">c</a></span><span class="op" id="8025701">.</span><span class="ident" id="8025702">SetReadDeadline</span><span class="op" id="8025717">(</span><span class="ident" id="8025718"><a href="/net/unix_test.go.html#8023748">time</a></span><span class="op" id="8025722">.</span><span class="ident" id="8025723">Now</span><span class="op" id="8025726">(</span><span class="op" id="8025727">)</span><span class="op" id="8025728">.</span><span class="ident" id="8025729">Add</span><span class="op" id="8025732">(</span><span class="num" id="8025733">100</span>&nbsp;<span class="op" id="8025737">*</span>&nbsp;<span class="ident" id="8025739"><a href="/net/unix_test.go.html#8023748">time</a></span><span class="op" id="8025743">.</span><span class="ident" id="8025744">Millisecond</span><span class="op" id="8025755">)</span><span class="op" id="8025756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025759">_</span><span class="op" id="8025760">,</span>&nbsp;<span class="ident" id="8025762">from</span><span class="op" id="8025766">,</span>&nbsp;<span class="ident" id="8025768"><a href="/net/unix_test.go.html#8025098">err</a></span>&nbsp;<span class="op" id="8025772">:=</span>&nbsp;<span class="ident" id="8025775"><a href="/net/unix_test.go.html#8025206">c</a></span><span class="op" id="8025776">.</span><span class="ident" id="8025777">ReadFrom</span><span class="op" id="8025785">(</span><span class="ident" id="8025786">nil</span><span class="op" id="8025789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025792">if</span>&nbsp;<span class="ident" id="8025795"><a href="/net/unix_test.go.html#8025098">err</a></span>&nbsp;<span class="op" id="8025799">!=</span>&nbsp;<span class="ident" id="8025802">nil</span>&nbsp;<span class="op" id="8025806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025810"><a href="/net/unix_test.go.html#8024930">t</a></span><span class="op" id="8025811">.</span><span class="ident" id="8025812">Fatalf</span><span class="op" id="8025818">(</span><span class="string" id="8025819">&#34;UnixConn.ReadFrom&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8025849">,</span>&nbsp;<span class="ident" id="8025851"><a href="/net/unix_test.go.html#8025098">err</a></span><span class="op" id="8025854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025857">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025860">if</span>&nbsp;<span class="ident" id="8025863"><a href="/net/unix_test.go.html#8025762">from</a></span>&nbsp;<span class="op" id="8025868">!=</span>&nbsp;<span class="ident" id="8025871">nil</span>&nbsp;<span class="op" id="8025875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8025879"><a href="/net/unix_test.go.html#8024930">t</a></span><span class="op" id="8025880">.</span><span class="ident" id="8025881">Fatalf</span><span class="op" id="8025887">(</span><span class="string" id="8025888">&#34;neighbor&nbsp;address&nbsp;is&nbsp;%v&#34;</span><span class="op" id="8025912">,</span>&nbsp;<span class="ident" id="8025914"><a href="/net/unix_test.go.html#8025762">from</a></span><span class="op" id="8025918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8025921">}</span><br>
<span class="lineno"></span><span class="op" id="8025923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="8025926">func</span>&nbsp;<span class="ident" id="8025931">TestUnixgramAutobind</span><span class="op" id="8025951">(</span><span class="ident" id="8025952">t</span>&nbsp;<span class="op" id="8025954">*</span><span class="ident" id="8025955"><a href="/net/unix_test.go.html#8023737">testing</a></span><span class="op" id="8025962">.</span><span class="ident" id="8025963">T</span><span class="op" id="8025964">)</span>&nbsp;<span class="op" id="8025966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8025969">if</span>&nbsp;<span class="ident" id="8025972"><a href="/net/unix_test.go.html#8023715">runtime</a></span><span class="op" id="8025979">.</span><span class="ident" id="8025980">GOOS</span>&nbsp;<span class="op" id="8025985">!=</span>&nbsp;<span class="string" id="8025988">&#34;linux&#34;</span>&nbsp;<span class="op" id="8025996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026000"><a href="/net/unix_test.go.html#8025952">t</a></span><span class="op" id="8026001">.</span><span class="ident" id="8026002">Skip</span><span class="op" id="8026006">(</span><span class="string" id="8026007">&#34;skipping:&nbsp;autobind&nbsp;is&nbsp;linux&nbsp;only&#34;</span><span class="op" id="8026041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026048">laddr</span>&nbsp;<span class="op" id="8026054">:=</span>&nbsp;<span class="op" id="8026057">&amp;</span><span class="ident" id="8026058"><a href="/net/unixsock.go.html#1526419">UnixAddr</a></span><span class="op" id="8026066">{</span><span class="ident" id="8026067">Name</span><span class="op" id="8026071">:</span>&nbsp;<span class="string" id="8026073">&#34;&#34;</span><span class="op" id="8026075">,</span>&nbsp;<span class="ident" id="8026077">Net</span><span class="op" id="8026080">:</span>&nbsp;<span class="string" id="8026082">&#34;unixgram&#34;</span><span class="op" id="8026092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026095">c1</span><span class="op" id="8026097">,</span>&nbsp;<span class="ident" id="8026099">err</span>&nbsp;<span class="op" id="8026103">:=</span>&nbsp;<span class="ident" id="8026106"><a href="/net/unixsock_posix.go.html#1537208">ListenUnixgram</a></span><span class="op" id="8026120">(</span><span class="string" id="8026121">&#34;unixgram&#34;</span><span class="op" id="8026131">,</span>&nbsp;<span class="ident" id="8026133"><a href="/net/unix_test.go.html#8026048">laddr</a></span><span class="op" id="8026138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026141">if</span>&nbsp;<span class="ident" id="8026144"><a href="/net/unix_test.go.html#8026099">err</a></span>&nbsp;<span class="op" id="8026148">!=</span>&nbsp;<span class="ident" id="8026151">nil</span>&nbsp;<span class="op" id="8026155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026159"><a href="/net/unix_test.go.html#8025952">t</a></span><span class="op" id="8026160">.</span><span class="ident" id="8026161">Fatalf</span><span class="op" id="8026167">(</span><span class="string" id="8026168">&#34;ListenUnixgram&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8026195">,</span>&nbsp;<span class="ident" id="8026197"><a href="/net/unix_test.go.html#8026099">err</a></span><span class="op" id="8026200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026203">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026206">defer</span>&nbsp;<span class="ident" id="8026212"><a href="/net/unix_test.go.html#8026095">c1</a></span><span class="op" id="8026214">.</span><span class="ident" id="8026215">Close</span><span class="op" id="8026220">(</span><span class="op" id="8026221">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8026225">//&nbsp;retrieve&nbsp;the&nbsp;autobind&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026259">autoAddr</span>&nbsp;<span class="op" id="8026268">:=</span>&nbsp;<span class="ident" id="8026271"><a href="/net/unix_test.go.html#8026095">c1</a></span><span class="op" id="8026273">.</span><span class="ident" id="8026274">LocalAddr</span><span class="op" id="8026283">(</span><span class="op" id="8026284">)</span><span class="op" id="8026285">.</span><span class="op" id="8026286">(</span><span class="op" id="8026287">*</span><span class="ident" id="8026288"><a href="/net/unixsock.go.html#1526419">UnixAddr</a></span><span class="op" id="8026296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026299">if</span>&nbsp;<span class="builtinfunc" id="8026302">len</span><span class="op" id="8026305">(</span><span class="ident" id="8026306"><a href="/net/unix_test.go.html#8026259">autoAddr</a></span><span class="op" id="8026314">.</span><span class="ident" id="8026315">Name</span><span class="op" id="8026319">)</span>&nbsp;<span class="op" id="8026321">&lt;=</span>&nbsp;<span class="num" id="8026324">1</span>&nbsp;<span class="op" id="8026326">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026330"><a href="/net/unix_test.go.html#8025952">t</a></span><span class="op" id="8026331">.</span><span class="ident" id="8026332">Fatalf</span><span class="op" id="8026338">(</span><span class="string" id="8026339">&#34;invalid&nbsp;autobind&nbsp;address:&nbsp;%v&#34;</span><span class="op" id="8026369">,</span>&nbsp;<span class="ident" id="8026371"><a href="/net/unix_test.go.html#8026259">autoAddr</a></span><span class="op" id="8026379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026385">if</span>&nbsp;<span class="ident" id="8026388"><a href="/net/unix_test.go.html#8026259">autoAddr</a></span><span class="op" id="8026396">.</span><span class="ident" id="8026397">Name</span><span class="op" id="8026401">[</span><span class="num" id="8026402">0</span><span class="op" id="8026403">]</span>&nbsp;<span class="op" id="8026405">!=</span>&nbsp;<span class="string" id="8026408">&#39;@&#39;</span>&nbsp;<span class="op" id="8026412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026416"><a href="/net/unix_test.go.html#8025952">t</a></span><span class="op" id="8026417">.</span><span class="ident" id="8026418">Fatalf</span><span class="op" id="8026424">(</span><span class="string" id="8026425">&#34;invalid&nbsp;autobind&nbsp;address:&nbsp;%v&#34;</span><span class="op" id="8026455">,</span>&nbsp;<span class="ident" id="8026457"><a href="/net/unix_test.go.html#8026259">autoAddr</a></span><span class="op" id="8026465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026468">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026472">c2</span><span class="op" id="8026474">,</span>&nbsp;<span class="ident" id="8026476"><a href="/net/unix_test.go.html#8026099">err</a></span>&nbsp;<span class="op" id="8026480">:=</span>&nbsp;<span class="ident" id="8026483"><a href="/net/unixsock_posix.go.html#1533427">DialUnix</a></span><span class="op" id="8026491">(</span><span class="string" id="8026492">&#34;unixgram&#34;</span><span class="op" id="8026502">,</span>&nbsp;<span class="ident" id="8026504">nil</span><span class="op" id="8026507">,</span>&nbsp;<span class="ident" id="8026509"><a href="/net/unix_test.go.html#8026259">autoAddr</a></span><span class="op" id="8026517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026520">if</span>&nbsp;<span class="ident" id="8026523"><a href="/net/unix_test.go.html#8026099">err</a></span>&nbsp;<span class="op" id="8026527">!=</span>&nbsp;<span class="ident" id="8026530">nil</span>&nbsp;<span class="op" id="8026534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026538"><a href="/net/unix_test.go.html#8025952">t</a></span><span class="op" id="8026539">.</span><span class="ident" id="8026540">Fatalf</span><span class="op" id="8026546">(</span><span class="string" id="8026547">&#34;DialUnix&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8026568">,</span>&nbsp;<span class="ident" id="8026570"><a href="/net/unix_test.go.html#8026099">err</a></span><span class="op" id="8026573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026576">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026579">defer</span>&nbsp;<span class="ident" id="8026585"><a href="/net/unix_test.go.html#8026472">c2</a></span><span class="op" id="8026587">.</span><span class="ident" id="8026588">Close</span><span class="op" id="8026593">(</span><span class="op" id="8026594">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026598">if</span>&nbsp;<span class="op" id="8026601">!</span><span class="ident" id="8026602"><a href="/net/unix_test.go.html#8023704">reflect</a></span><span class="op" id="8026609">.</span><span class="ident" id="8026610">DeepEqual</span><span class="op" id="8026619">(</span><span class="ident" id="8026620"><a href="/net/unix_test.go.html#8026095">c1</a></span><span class="op" id="8026622">.</span><span class="ident" id="8026623">LocalAddr</span><span class="op" id="8026632">(</span><span class="op" id="8026633">)</span><span class="op" id="8026634">,</span>&nbsp;<span class="ident" id="8026636"><a href="/net/unix_test.go.html#8026472">c2</a></span><span class="op" id="8026638">.</span><span class="ident" id="8026639">RemoteAddr</span><span class="op" id="8026649">(</span><span class="op" id="8026650">)</span><span class="op" id="8026651">)</span>&nbsp;<span class="op" id="8026653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026657"><a href="/net/unix_test.go.html#8025952">t</a></span><span class="op" id="8026658">.</span><span class="ident" id="8026659">Fatalf</span><span class="op" id="8026665">(</span><span class="string" id="8026666">&#34;expected&nbsp;autobind&nbsp;address&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8026704">,</span>&nbsp;<span class="ident" id="8026706"><a href="/net/unix_test.go.html#8026095">c1</a></span><span class="op" id="8026708">.</span><span class="ident" id="8026709">LocalAddr</span><span class="op" id="8026718">(</span><span class="op" id="8026719">)</span><span class="op" id="8026720">,</span>&nbsp;<span class="ident" id="8026722"><a href="/net/unix_test.go.html#8026472">c2</a></span><span class="op" id="8026724">.</span><span class="ident" id="8026725">RemoteAddr</span><span class="op" id="8026735">(</span><span class="op" id="8026736">)</span><span class="op" id="8026737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026740">}</span><br>
<span class="lineno">140</span><span class="op" id="8026742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8026745">func</span>&nbsp;<span class="ident" id="8026750">TestUnixAutobindClose</span><span class="op" id="8026771">(</span><span class="ident" id="8026772">t</span>&nbsp;<span class="op" id="8026774">*</span><span class="ident" id="8026775"><a href="/net/unix_test.go.html#8023737">testing</a></span><span class="op" id="8026782">.</span><span class="ident" id="8026783">T</span><span class="op" id="8026784">)</span>&nbsp;<span class="op" id="8026786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026789">if</span>&nbsp;<span class="ident" id="8026792"><a href="/net/unix_test.go.html#8023715">runtime</a></span><span class="op" id="8026799">.</span><span class="ident" id="8026800">GOOS</span>&nbsp;<span class="op" id="8026805">!=</span>&nbsp;<span class="string" id="8026808">&#34;linux&#34;</span>&nbsp;<span class="op" id="8026816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026820"><a href="/net/unix_test.go.html#8026772">t</a></span><span class="op" id="8026821">.</span><span class="ident" id="8026822">Skip</span><span class="op" id="8026826">(</span><span class="string" id="8026827">&#34;skipping:&nbsp;autobind&nbsp;is&nbsp;linux&nbsp;only&#34;</span><span class="op" id="8026861">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8026864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026867">laddr</span>&nbsp;<span class="op" id="8026873">:=</span>&nbsp;<span class="op" id="8026876">&amp;</span><span class="ident" id="8026877"><a href="/net/unixsock.go.html#1526419">UnixAddr</a></span><span class="op" id="8026885">{</span><span class="ident" id="8026886">Name</span><span class="op" id="8026890">:</span>&nbsp;<span class="string" id="8026892">&#34;&#34;</span><span class="op" id="8026894">,</span>&nbsp;<span class="ident" id="8026896">Net</span><span class="op" id="8026899">:</span>&nbsp;<span class="string" id="8026901">&#34;unix&#34;</span><span class="op" id="8026907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026910">ln</span><span class="op" id="8026912">,</span>&nbsp;<span class="ident" id="8026914">err</span>&nbsp;<span class="op" id="8026918">:=</span>&nbsp;<span class="ident" id="8026921"><a href="/net/unixsock_posix.go.html#1534323">ListenUnix</a></span><span class="op" id="8026931">(</span><span class="string" id="8026932">&#34;unix&#34;</span><span class="op" id="8026938">,</span>&nbsp;<span class="ident" id="8026940"><a href="/net/unix_test.go.html#8026867">laddr</a></span><span class="op" id="8026945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8026948">if</span>&nbsp;<span class="ident" id="8026951"><a href="/net/unix_test.go.html#8026914">err</a></span>&nbsp;<span class="op" id="8026955">!=</span>&nbsp;<span class="ident" id="8026958">nil</span>&nbsp;<span class="op" id="8026962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8026966"><a href="/net/unix_test.go.html#8026772">t</a></span><span class="op" id="8026967">.</span><span class="ident" id="8026968">Fatalf</span><span class="op" id="8026974">(</span><span class="string" id="8026975">&#34;ListenUnix&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8026998">,</span>&nbsp;<span class="ident" id="8027000"><a href="/net/unix_test.go.html#8026914">err</a></span><span class="op" id="8027003">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027009"><a href="/net/unix_test.go.html#8026910">ln</a></span><span class="op" id="8027011">.</span><span class="ident" id="8027012">Close</span><span class="op" id="8027017">(</span><span class="op" id="8027018">)</span><br>
<span class="lineno"></span><span class="op" id="8027020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8027023">func</span>&nbsp;<span class="ident" id="8027028">TestUnixgramWrite</span><span class="op" id="8027045">(</span><span class="ident" id="8027046">t</span>&nbsp;<span class="op" id="8027048">*</span><span class="ident" id="8027049"><a href="/net/unix_test.go.html#8023737">testing</a></span><span class="op" id="8027056">.</span><span class="ident" id="8027057">T</span><span class="op" id="8027058">)</span>&nbsp;<span class="op" id="8027060">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027063">addr</span>&nbsp;<span class="op" id="8027068">:=</span>&nbsp;<span class="ident" id="8027071"><a href="/net/protoconn_test.go.html#7945768">testUnixAddr</a></span><span class="op" id="8027083">(</span><span class="op" id="8027084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027087">laddr</span><span class="op" id="8027092">,</span>&nbsp;<span class="ident" id="8027094">err</span>&nbsp;<span class="op" id="8027098">:=</span>&nbsp;<span class="ident" id="8027101"><a href="/net/unixsock.go.html#1526926">ResolveUnixAddr</a></span><span class="op" id="8027116">(</span><span class="string" id="8027117">&#34;unixgram&#34;</span><span class="op" id="8027127">,</span>&nbsp;<span class="ident" id="8027129"><a href="/net/unix_test.go.html#8027063">addr</a></span><span class="op" id="8027133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027136">if</span>&nbsp;<span class="ident" id="8027139"><a href="/net/unix_test.go.html#8027094">err</a></span>&nbsp;<span class="op" id="8027143">!=</span>&nbsp;<span class="ident" id="8027146">nil</span>&nbsp;<span class="op" id="8027150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027154"><a href="/net/unix_test.go.html#8027046">t</a></span><span class="op" id="8027155">.</span><span class="ident" id="8027156">Fatalf</span><span class="op" id="8027162">(</span><span class="string" id="8027163">&#34;ResolveUnixAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8027191">,</span>&nbsp;<span class="ident" id="8027193"><a href="/net/unix_test.go.html#8027094">err</a></span><span class="op" id="8027196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027199">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027202">c</span><span class="op" id="8027203">,</span>&nbsp;<span class="ident" id="8027205"><a href="/net/unix_test.go.html#8027094">err</a></span>&nbsp;<span class="op" id="8027209">:=</span>&nbsp;<span class="ident" id="8027212"><a href="/net/dial.go.html#1338827">ListenPacket</a></span><span class="op" id="8027224">(</span><span class="string" id="8027225">&#34;unixgram&#34;</span><span class="op" id="8027235">,</span>&nbsp;<span class="ident" id="8027237"><a href="/net/unix_test.go.html#8027063">addr</a></span><span class="op" id="8027241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027244">if</span>&nbsp;<span class="ident" id="8027247"><a href="/net/unix_test.go.html#8027094">err</a></span>&nbsp;<span class="op" id="8027251">!=</span>&nbsp;<span class="ident" id="8027254">nil</span>&nbsp;<span class="op" id="8027258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027262"><a href="/net/unix_test.go.html#8027046">t</a></span><span class="op" id="8027263">.</span><span class="ident" id="8027264">Fatalf</span><span class="op" id="8027270">(</span><span class="string" id="8027271">&#34;ListenPacket&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8027296">,</span>&nbsp;<span class="ident" id="8027298"><a href="/net/unix_test.go.html#8027094">err</a></span><span class="op" id="8027301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027307">defer</span>&nbsp;<span class="ident" id="8027313"><a href="/net/unix_test.go.html#8023698">os</a></span><span class="op" id="8027315">.</span><span class="ident" id="8027316">Remove</span><span class="op" id="8027322">(</span><span class="ident" id="8027323"><a href="/net/unix_test.go.html#8027063">addr</a></span><span class="op" id="8027327">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027330">defer</span>&nbsp;<span class="ident" id="8027336"><a href="/net/unix_test.go.html#8027202">c</a></span><span class="op" id="8027337">.</span><span class="ident" id="8027338">Close</span><span class="op" id="8027343">(</span><span class="op" id="8027344">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027348"><a href="/net/unix_test.go.html#8027427">testUnixgramWriteConn</a></span><span class="op" id="8027369">(</span><span class="ident" id="8027370"><a href="/net/unix_test.go.html#8027046">t</a></span><span class="op" id="8027371">,</span>&nbsp;<span class="ident" id="8027373"><a href="/net/unix_test.go.html#8027087">laddr</a></span><span class="op" id="8027378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027381"><a href="/net/unix_test.go.html#8028524">testUnixgramWritePacketConn</a></span><span class="op" id="8027408">(</span><span class="ident" id="8027409"><a href="/net/unix_test.go.html#8027046">t</a></span><span class="op" id="8027410">,</span>&nbsp;<span class="ident" id="8027412"><a href="/net/unix_test.go.html#8027087">laddr</a></span><span class="op" id="8027417">)</span><br>
<span class="lineno"></span><span class="op" id="8027419">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="8027422">func</span>&nbsp;<span class="ident" id="8027427">testUnixgramWriteConn</span><span class="op" id="8027448">(</span><span class="ident" id="8027449">t</span>&nbsp;<span class="op" id="8027451">*</span><span class="ident" id="8027452"><a href="/net/unix_test.go.html#8023737">testing</a></span><span class="op" id="8027459">.</span><span class="ident" id="8027460">T</span><span class="op" id="8027461">,</span>&nbsp;<span class="ident" id="8027463">raddr</span>&nbsp;<span class="op" id="8027469">*</span><span class="ident" id="8027470"><a href="/net/unixsock.go.html#1526419">UnixAddr</a></span><span class="op" id="8027478">)</span>&nbsp;<span class="op" id="8027480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027483">c</span><span class="op" id="8027484">,</span>&nbsp;<span class="ident" id="8027486">err</span>&nbsp;<span class="op" id="8027490">:=</span>&nbsp;<span class="ident" id="8027493"><a href="/net/dial.go.html#1334377">Dial</a></span><span class="op" id="8027497">(</span><span class="string" id="8027498">&#34;unixgram&#34;</span><span class="op" id="8027508">,</span>&nbsp;<span class="ident" id="8027510"><a href="/net/unix_test.go.html#8027463">raddr</a></span><span class="op" id="8027515">.</span><span class="ident" id="8027516">String</span><span class="op" id="8027522">(</span><span class="op" id="8027523">)</span><span class="op" id="8027524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027527">if</span>&nbsp;<span class="ident" id="8027530"><a href="/net/unix_test.go.html#8027486">err</a></span>&nbsp;<span class="op" id="8027534">!=</span>&nbsp;<span class="ident" id="8027537">nil</span>&nbsp;<span class="op" id="8027541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027545"><a href="/net/unix_test.go.html#8027449">t</a></span><span class="op" id="8027546">.</span><span class="ident" id="8027547">Fatalf</span><span class="op" id="8027553">(</span><span class="string" id="8027554">&#34;Dial&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8027571">,</span>&nbsp;<span class="ident" id="8027573"><a href="/net/unix_test.go.html#8027486">err</a></span><span class="op" id="8027576">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027582">defer</span>&nbsp;<span class="ident" id="8027588"><a href="/net/unix_test.go.html#8027483">c</a></span><span class="op" id="8027589">.</span><span class="ident" id="8027590">Close</span><span class="op" id="8027595">(</span><span class="op" id="8027596">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027600">if</span>&nbsp;<span class="ident" id="8027603">_</span><span class="op" id="8027604">,</span>&nbsp;<span class="ident" id="8027606">err</span>&nbsp;<span class="op" id="8027610">:=</span>&nbsp;<span class="ident" id="8027613"><a href="/net/unix_test.go.html#8027483">c</a></span><span class="op" id="8027614">.</span><span class="op" id="8027615">(</span><span class="op" id="8027616">*</span><span class="ident" id="8027617"><a href="/net/unixsock_posix.go.html#1529389">UnixConn</a></span><span class="op" id="8027625">)</span><span class="op" id="8027626">.</span><span class="ident" id="8027627">WriteToUnix</span><span class="op" id="8027638">(</span><span class="op" id="8027639">[</span><span class="op" id="8027640">]</span><span class="builtintype" id="8027641">byte</span><span class="op" id="8027645">(</span><span class="string" id="8027646">&#34;Connection-oriented&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="8027679">)</span><span class="op" id="8027680">,</span>&nbsp;<span class="ident" id="8027682"><a href="/net/unix_test.go.html#8027463">raddr</a></span><span class="op" id="8027687">)</span><span class="op" id="8027688">;</span>&nbsp;<span class="ident" id="8027690"><a href="/net/unix_test.go.html#8027606">err</a></span>&nbsp;<span class="op" id="8027694">==</span>&nbsp;<span class="ident" id="8027697">nil</span>&nbsp;<span class="op" id="8027701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027705"><a href="/net/unix_test.go.html#8027449">t</a></span><span class="op" id="8027706">.</span><span class="ident" id="8027707">Fatal</span><span class="op" id="8027712">(</span><span class="string" id="8027713">&#34;WriteToUnix&nbsp;should&nbsp;fail&#34;</span><span class="op" id="8027738">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027741">}</span>&nbsp;<span class="keyword" id="8027743">else</span>&nbsp;<span class="keyword" id="8027748">if</span>&nbsp;<span class="ident" id="8027751"><a href="/net/unix_test.go.html#8027606">err</a></span><span class="op" id="8027754">.</span><span class="op" id="8027755">(</span><span class="op" id="8027756">*</span><span class="ident" id="8027757"><a href="/net/net.go.html#1472480">OpError</a></span><span class="op" id="8027764">)</span><span class="op" id="8027765">.</span><span class="ident" id="8027766">Err</span>&nbsp;<span class="op" id="8027770">!=</span>&nbsp;<span class="ident" id="8027773"><a href="/net/net.go.html#1472233">ErrWriteToConnected</a></span>&nbsp;<span class="op" id="8027793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027797"><a href="/net/unix_test.go.html#8027449">t</a></span><span class="op" id="8027798">.</span><span class="ident" id="8027799">Fatalf</span><span class="op" id="8027805">(</span><span class="string" id="8027806">&#34;WriteToUnix&nbsp;should&nbsp;fail&nbsp;as&nbsp;ErrWriteToConnected:&nbsp;%v&#34;</span><span class="op" id="8027858">,</span>&nbsp;<span class="ident" id="8027860"><a href="/net/unix_test.go.html#8027606">err</a></span><span class="op" id="8027863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8027866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8027869">if</span>&nbsp;<span class="ident" id="8027872">_</span><span class="op" id="8027873">,</span>&nbsp;<span class="ident" id="8027875"><a href="/net/unix_test.go.html#8027486">err</a></span>&nbsp;<span class="op" id="8027879">=</span>&nbsp;<span class="ident" id="8027881"><a href="/net/unix_test.go.html#8027483">c</a></span><span class="op" id="8027882">.</span><span class="op" id="8027883">(</span><span class="op" id="8027884">*</span><span class="ident" id="8027885"><a href="/net/unixsock_posix.go.html#1529389">UnixConn</a></span><span class="op" id="8027893">)</span><span class="op" id="8027894">.</span><span class="ident" id="8027895">WriteTo</span><span class="op" id="8027902">(</span><span class="op" id="8027903">[</span><span class="op" id="8027904">]</span><span class="builtintype" id="8027905">byte</span><span class="op" id="8027909">(</span><span class="string" id="8027910">&#34;Connection-oriented&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="8027943">)</span><span class="op" id="8027944">,</span>&nbsp;<span class="ident" id="8027946"><a href="/net/unix_test.go.html#8027463">raddr</a></span><span class="op" id="8027951">)</span><span class="op" id="8027952">;</span>&nbsp;<span class="ident" id="8027954"><a href="/net/unix_test.go.html#8027486">err</a></span>&nbsp;<span class="op" id="8027958">==</span>&nbsp;<span class="ident" id="8027961">nil</span>&nbsp;<span class="op" id="8027965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8027969"><a href="/net/unix_test.go.html#8027449">t</a></span><span class="op" id="8027970">.</span><span class="ident" id="8027971">Fatal</span><span class="op" id="8027976">(</span><span class="string" id="8027977">&#34;WriteTo&nbsp;should&nbsp;fail&#34;</span><span class="op" id="8027998">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028001">}</span>&nbsp;<span class="keyword" id="8028003">else</span>&nbsp;<span class="keyword" id="8028008">if</span>&nbsp;<span class="ident" id="8028011"><a href="/net/unix_test.go.html#8027486">err</a></span><span class="op" id="8028014">.</span><span class="op" id="8028015">(</span><span class="op" id="8028016">*</span><span class="ident" id="8028017"><a href="/net/net.go.html#1472480">OpError</a></span><span class="op" id="8028024">)</span><span class="op" id="8028025">.</span><span class="ident" id="8028026">Err</span>&nbsp;<span class="op" id="8028030">!=</span>&nbsp;<span class="ident" id="8028033"><a href="/net/net.go.html#1472233">ErrWriteToConnected</a></span>&nbsp;<span class="op" id="8028053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028057"><a href="/net/unix_test.go.html#8027449">t</a></span><span class="op" id="8028058">.</span><span class="ident" id="8028059">Fatalf</span><span class="op" id="8028065">(</span><span class="string" id="8028066">&#34;WriteTo&nbsp;should&nbsp;fail&nbsp;as&nbsp;ErrWriteToConnected:&nbsp;%v&#34;</span><span class="op" id="8028114">,</span>&nbsp;<span class="ident" id="8028116"><a href="/net/unix_test.go.html#8027486">err</a></span><span class="op" id="8028119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028125">if</span>&nbsp;<span class="ident" id="8028128">_</span><span class="op" id="8028129">,</span>&nbsp;<span class="ident" id="8028131">_</span><span class="op" id="8028132">,</span>&nbsp;<span class="ident" id="8028134"><a href="/net/unix_test.go.html#8027486">err</a></span>&nbsp;<span class="op" id="8028138">=</span>&nbsp;<span class="ident" id="8028140"><a href="/net/unix_test.go.html#8027483">c</a></span><span class="op" id="8028141">.</span><span class="op" id="8028142">(</span><span class="op" id="8028143">*</span><span class="ident" id="8028144"><a href="/net/unixsock_posix.go.html#1529389">UnixConn</a></span><span class="op" id="8028152">)</span><span class="op" id="8028153">.</span><span class="ident" id="8028154">WriteMsgUnix</span><span class="op" id="8028166">(</span><span class="op" id="8028167">[</span><span class="op" id="8028168">]</span><span class="builtintype" id="8028169">byte</span><span class="op" id="8028173">(</span><span class="string" id="8028174">&#34;Connection-oriented&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="8028207">)</span><span class="op" id="8028208">,</span>&nbsp;<span class="ident" id="8028210">nil</span><span class="op" id="8028213">,</span>&nbsp;<span class="ident" id="8028215"><a href="/net/unix_test.go.html#8027463">raddr</a></span><span class="op" id="8028220">)</span><span class="op" id="8028221">;</span>&nbsp;<span class="ident" id="8028223"><a href="/net/unix_test.go.html#8027486">err</a></span>&nbsp;<span class="op" id="8028227">==</span>&nbsp;<span class="ident" id="8028230">nil</span>&nbsp;<span class="op" id="8028234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028238"><a href="/net/unix_test.go.html#8027449">t</a></span><span class="op" id="8028239">.</span><span class="ident" id="8028240">Fatal</span><span class="op" id="8028245">(</span><span class="string" id="8028246">&#34;WriteTo&nbsp;should&nbsp;fail&#34;</span><span class="op" id="8028267">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028270">}</span>&nbsp;<span class="keyword" id="8028272">else</span>&nbsp;<span class="keyword" id="8028277">if</span>&nbsp;<span class="ident" id="8028280"><a href="/net/unix_test.go.html#8027486">err</a></span><span class="op" id="8028283">.</span><span class="op" id="8028284">(</span><span class="op" id="8028285">*</span><span class="ident" id="8028286"><a href="/net/net.go.html#1472480">OpError</a></span><span class="op" id="8028293">)</span><span class="op" id="8028294">.</span><span class="ident" id="8028295">Err</span>&nbsp;<span class="op" id="8028299">!=</span>&nbsp;<span class="ident" id="8028302"><a href="/net/net.go.html#1472233">ErrWriteToConnected</a></span>&nbsp;<span class="op" id="8028322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028326"><a href="/net/unix_test.go.html#8027449">t</a></span><span class="op" id="8028327">.</span><span class="ident" id="8028328">Fatalf</span><span class="op" id="8028334">(</span><span class="string" id="8028335">&#34;WriteMsgUnix&nbsp;should&nbsp;fail&nbsp;as&nbsp;ErrWriteToConnected:&nbsp;%v&#34;</span><span class="op" id="8028388">,</span>&nbsp;<span class="ident" id="8028390"><a href="/net/unix_test.go.html#8027486">err</a></span><span class="op" id="8028393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028399">if</span>&nbsp;<span class="ident" id="8028402">_</span><span class="op" id="8028403">,</span>&nbsp;<span class="ident" id="8028405">err</span>&nbsp;<span class="op" id="8028409">:=</span>&nbsp;<span class="ident" id="8028412"><a href="/net/unix_test.go.html#8027483">c</a></span><span class="op" id="8028413">.</span><span class="ident" id="8028414">Write</span><span class="op" id="8028419">(</span><span class="op" id="8028420">[</span><span class="op" id="8028421">]</span><span class="builtintype" id="8028422">byte</span><span class="op" id="8028426">(</span><span class="string" id="8028427">&#34;Connection-oriented&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="8028460">)</span><span class="op" id="8028461">)</span><span class="op" id="8028462">;</span>&nbsp;<span class="ident" id="8028464"><a href="/net/unix_test.go.html#8028405">err</a></span>&nbsp;<span class="op" id="8028468">!=</span>&nbsp;<span class="ident" id="8028471">nil</span>&nbsp;<span class="op" id="8028475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028479"><a href="/net/unix_test.go.html#8027449">t</a></span><span class="op" id="8028480">.</span><span class="ident" id="8028481">Fatalf</span><span class="op" id="8028487">(</span><span class="string" id="8028488">&#34;Write&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8028506">,</span>&nbsp;<span class="ident" id="8028508"><a href="/net/unix_test.go.html#8028405">err</a></span><span class="op" id="8028511">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028514">}</span><br>
<span class="lineno"></span><span class="op" id="8028516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8028519">func</span>&nbsp;<span class="ident" id="8028524">testUnixgramWritePacketConn</span><span class="op" id="8028551">(</span><span class="ident" id="8028552">t</span>&nbsp;<span class="op" id="8028554">*</span><span class="ident" id="8028555"><a href="/net/unix_test.go.html#8023737">testing</a></span><span class="op" id="8028562">.</span><span class="ident" id="8028563">T</span><span class="op" id="8028564">,</span>&nbsp;<span class="ident" id="8028566">raddr</span>&nbsp;<span class="op" id="8028572">*</span><span class="ident" id="8028573"><a href="/net/unixsock.go.html#1526419">UnixAddr</a></span><span class="op" id="8028581">)</span>&nbsp;<span class="op" id="8028583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028586">addr</span>&nbsp;<span class="op" id="8028591">:=</span>&nbsp;<span class="ident" id="8028594"><a href="/net/protoconn_test.go.html#7945768">testUnixAddr</a></span><span class="op" id="8028606">(</span><span class="op" id="8028607">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028610">c</span><span class="op" id="8028611">,</span>&nbsp;<span class="ident" id="8028613">err</span>&nbsp;<span class="op" id="8028617">:=</span>&nbsp;<span class="ident" id="8028620"><a href="/net/dial.go.html#1338827">ListenPacket</a></span><span class="op" id="8028632">(</span><span class="string" id="8028633">&#34;unixgram&#34;</span><span class="op" id="8028643">,</span>&nbsp;<span class="ident" id="8028645"><a href="/net/unix_test.go.html#8028586">addr</a></span><span class="op" id="8028649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028652">if</span>&nbsp;<span class="ident" id="8028655"><a href="/net/unix_test.go.html#8028613">err</a></span>&nbsp;<span class="op" id="8028659">!=</span>&nbsp;<span class="ident" id="8028662">nil</span>&nbsp;<span class="op" id="8028666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028670"><a href="/net/unix_test.go.html#8028552">t</a></span><span class="op" id="8028671">.</span><span class="ident" id="8028672">Fatalf</span><span class="op" id="8028678">(</span><span class="string" id="8028679">&#34;ListenPacket&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8028704">,</span>&nbsp;<span class="ident" id="8028706"><a href="/net/unix_test.go.html#8028613">err</a></span><span class="op" id="8028709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028715">defer</span>&nbsp;<span class="ident" id="8028721"><a href="/net/unix_test.go.html#8023698">os</a></span><span class="op" id="8028723">.</span><span class="ident" id="8028724">Remove</span><span class="op" id="8028730">(</span><span class="ident" id="8028731"><a href="/net/unix_test.go.html#8028586">addr</a></span><span class="op" id="8028735">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028738">defer</span>&nbsp;<span class="ident" id="8028744"><a href="/net/unix_test.go.html#8028610">c</a></span><span class="op" id="8028745">.</span><span class="ident" id="8028746">Close</span><span class="op" id="8028751">(</span><span class="op" id="8028752">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028756">if</span>&nbsp;<span class="ident" id="8028759">_</span><span class="op" id="8028760">,</span>&nbsp;<span class="ident" id="8028762">err</span>&nbsp;<span class="op" id="8028766">:=</span>&nbsp;<span class="ident" id="8028769"><a href="/net/unix_test.go.html#8028610">c</a></span><span class="op" id="8028770">.</span><span class="op" id="8028771">(</span><span class="op" id="8028772">*</span><span class="ident" id="8028773"><a href="/net/unixsock_posix.go.html#1529389">UnixConn</a></span><span class="op" id="8028781">)</span><span class="op" id="8028782">.</span><span class="ident" id="8028783">WriteToUnix</span><span class="op" id="8028794">(</span><span class="op" id="8028795">[</span><span class="op" id="8028796">]</span><span class="builtintype" id="8028797">byte</span><span class="op" id="8028801">(</span><span class="string" id="8028802">&#34;Connectionless&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="8028830">)</span><span class="op" id="8028831">,</span>&nbsp;<span class="ident" id="8028833"><a href="/net/unix_test.go.html#8028566">raddr</a></span><span class="op" id="8028838">)</span><span class="op" id="8028839">;</span>&nbsp;<span class="ident" id="8028841"><a href="/net/unix_test.go.html#8028762">err</a></span>&nbsp;<span class="op" id="8028845">!=</span>&nbsp;<span class="ident" id="8028848">nil</span>&nbsp;<span class="op" id="8028852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028856"><a href="/net/unix_test.go.html#8028552">t</a></span><span class="op" id="8028857">.</span><span class="ident" id="8028858">Fatalf</span><span class="op" id="8028864">(</span><span class="string" id="8028865">&#34;WriteToUnix&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8028889">,</span>&nbsp;<span class="ident" id="8028891"><a href="/net/unix_test.go.html#8028762">err</a></span><span class="op" id="8028894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8028897">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8028900">if</span>&nbsp;<span class="ident" id="8028903">_</span><span class="op" id="8028904">,</span>&nbsp;<span class="ident" id="8028906">err</span>&nbsp;<span class="op" id="8028910">:=</span>&nbsp;<span class="ident" id="8028913"><a href="/net/unix_test.go.html#8028610">c</a></span><span class="op" id="8028914">.</span><span class="ident" id="8028915">WriteTo</span><span class="op" id="8028922">(</span><span class="op" id="8028923">[</span><span class="op" id="8028924">]</span><span class="builtintype" id="8028925">byte</span><span class="op" id="8028929">(</span><span class="string" id="8028930">&#34;Connectionless&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="8028958">)</span><span class="op" id="8028959">,</span>&nbsp;<span class="ident" id="8028961"><a href="/net/unix_test.go.html#8028566">raddr</a></span><span class="op" id="8028966">)</span><span class="op" id="8028967">;</span>&nbsp;<span class="ident" id="8028969"><a href="/net/unix_test.go.html#8028906">err</a></span>&nbsp;<span class="op" id="8028973">!=</span>&nbsp;<span class="ident" id="8028976">nil</span>&nbsp;<span class="op" id="8028980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8028984"><a href="/net/unix_test.go.html#8028552">t</a></span><span class="op" id="8028985">.</span><span class="ident" id="8028986">Fatalf</span><span class="op" id="8028992">(</span><span class="string" id="8028993">&#34;WriteTo&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8029013">,</span>&nbsp;<span class="ident" id="8029015"><a href="/net/unix_test.go.html#8028906">err</a></span><span class="op" id="8029018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029024">if</span>&nbsp;<span class="ident" id="8029027">_</span><span class="op" id="8029028">,</span>&nbsp;<span class="ident" id="8029030">_</span><span class="op" id="8029031">,</span>&nbsp;<span class="ident" id="8029033">err</span>&nbsp;<span class="op" id="8029037">:=</span>&nbsp;<span class="ident" id="8029040"><a href="/net/unix_test.go.html#8028610">c</a></span><span class="op" id="8029041">.</span><span class="op" id="8029042">(</span><span class="op" id="8029043">*</span><span class="ident" id="8029044"><a href="/net/unixsock_posix.go.html#1529389">UnixConn</a></span><span class="op" id="8029052">)</span><span class="op" id="8029053">.</span><span class="ident" id="8029054">WriteMsgUnix</span><span class="op" id="8029066">(</span><span class="op" id="8029067">[</span><span class="op" id="8029068">]</span><span class="builtintype" id="8029069">byte</span><span class="op" id="8029073">(</span><span class="string" id="8029074">&#34;Connectionless&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="8029102">)</span><span class="op" id="8029103">,</span>&nbsp;<span class="ident" id="8029105">nil</span><span class="op" id="8029108">,</span>&nbsp;<span class="ident" id="8029110"><a href="/net/unix_test.go.html#8028566">raddr</a></span><span class="op" id="8029115">)</span><span class="op" id="8029116">;</span>&nbsp;<span class="ident" id="8029118"><a href="/net/unix_test.go.html#8029033">err</a></span>&nbsp;<span class="op" id="8029122">!=</span>&nbsp;<span class="ident" id="8029125">nil</span>&nbsp;<span class="op" id="8029129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029133"><a href="/net/unix_test.go.html#8028552">t</a></span><span class="op" id="8029134">.</span><span class="ident" id="8029135">Fatalf</span><span class="op" id="8029141">(</span><span class="string" id="8029142">&#34;WriteMsgUnix&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8029167">,</span>&nbsp;<span class="ident" id="8029169"><a href="/net/unix_test.go.html#8029033">err</a></span><span class="op" id="8029172">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029178">if</span>&nbsp;<span class="ident" id="8029181">_</span><span class="op" id="8029182">,</span>&nbsp;<span class="ident" id="8029184">err</span>&nbsp;<span class="op" id="8029188">:=</span>&nbsp;<span class="ident" id="8029191"><a href="/net/unix_test.go.html#8028610">c</a></span><span class="op" id="8029192">.</span><span class="op" id="8029193">(</span><span class="op" id="8029194">*</span><span class="ident" id="8029195"><a href="/net/unixsock_posix.go.html#1529389">UnixConn</a></span><span class="op" id="8029203">)</span><span class="op" id="8029204">.</span><span class="ident" id="8029205">Write</span><span class="op" id="8029210">(</span><span class="op" id="8029211">[</span><span class="op" id="8029212">]</span><span class="builtintype" id="8029213">byte</span><span class="op" id="8029217">(</span><span class="string" id="8029218">&#34;Connectionless&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="8029246">)</span><span class="op" id="8029247">)</span><span class="op" id="8029248">;</span>&nbsp;<span class="ident" id="8029250"><a href="/net/unix_test.go.html#8029184">err</a></span>&nbsp;<span class="op" id="8029254">==</span>&nbsp;<span class="ident" id="8029257">nil</span>&nbsp;<span class="op" id="8029261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029265"><a href="/net/unix_test.go.html#8028552">t</a></span><span class="op" id="8029266">.</span><span class="ident" id="8029267">Fatal</span><span class="op" id="8029272">(</span><span class="string" id="8029273">&#34;Write&nbsp;should&nbsp;fail&#34;</span><span class="op" id="8029292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029295">}</span><br>
<span class="lineno"></span><span class="op" id="8029297">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="8029300">func</span>&nbsp;<span class="ident" id="8029305">TestUnixConnLocalAndRemoteNames</span><span class="op" id="8029336">(</span><span class="ident" id="8029337">t</span>&nbsp;<span class="op" id="8029339">*</span><span class="ident" id="8029340"><a href="/net/unix_test.go.html#8023737">testing</a></span><span class="op" id="8029347">.</span><span class="ident" id="8029348">T</span><span class="op" id="8029349">)</span>&nbsp;<span class="op" id="8029351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029354">for</span>&nbsp;<span class="ident" id="8029358">_</span><span class="op" id="8029359">,</span>&nbsp;<span class="ident" id="8029361">laddr</span>&nbsp;<span class="op" id="8029367">:=</span>&nbsp;<span class="keyword" id="8029370">range</span>&nbsp;<span class="op" id="8029376">[</span><span class="op" id="8029377">]</span><span class="builtintype" id="8029378">string</span><span class="op" id="8029384">{</span><span class="string" id="8029385">&#34;&#34;</span><span class="op" id="8029387">,</span>&nbsp;<span class="ident" id="8029389"><a href="/net/protoconn_test.go.html#7945768">testUnixAddr</a></span><span class="op" id="8029401">(</span><span class="op" id="8029402">)</span><span class="op" id="8029403">}</span>&nbsp;<span class="op" id="8029405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029409">laddr</span>&nbsp;<span class="op" id="8029415">:=</span>&nbsp;<span class="ident" id="8029418"><a href="/net/unix_test.go.html#8029361">laddr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029426">taddr</span>&nbsp;<span class="op" id="8029432">:=</span>&nbsp;<span class="ident" id="8029435"><a href="/net/protoconn_test.go.html#7945768">testUnixAddr</a></span><span class="op" id="8029447">(</span><span class="op" id="8029448">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029452">ta</span><span class="op" id="8029454">,</span>&nbsp;<span class="ident" id="8029456">err</span>&nbsp;<span class="op" id="8029460">:=</span>&nbsp;<span class="ident" id="8029463"><a href="/net/unixsock.go.html#1526926">ResolveUnixAddr</a></span><span class="op" id="8029478">(</span><span class="string" id="8029479">&#34;unix&#34;</span><span class="op" id="8029485">,</span>&nbsp;<span class="ident" id="8029487"><a href="/net/unix_test.go.html#8029426">taddr</a></span><span class="op" id="8029492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029496">if</span>&nbsp;<span class="ident" id="8029499"><a href="/net/unix_test.go.html#8029456">err</a></span>&nbsp;<span class="op" id="8029503">!=</span>&nbsp;<span class="ident" id="8029506">nil</span>&nbsp;<span class="op" id="8029510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029515"><a href="/net/unix_test.go.html#8029337">t</a></span><span class="op" id="8029516">.</span><span class="ident" id="8029517">Fatalf</span><span class="op" id="8029523">(</span><span class="string" id="8029524">&#34;ResolveUnixAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8029552">,</span>&nbsp;<span class="ident" id="8029554"><a href="/net/unix_test.go.html#8029456">err</a></span><span class="op" id="8029557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029565">ln</span><span class="op" id="8029567">,</span>&nbsp;<span class="ident" id="8029569"><a href="/net/unix_test.go.html#8029456">err</a></span>&nbsp;<span class="op" id="8029573">:=</span>&nbsp;<span class="ident" id="8029576"><a href="/net/unixsock_posix.go.html#1534323">ListenUnix</a></span><span class="op" id="8029586">(</span><span class="string" id="8029587">&#34;unix&#34;</span><span class="op" id="8029593">,</span>&nbsp;<span class="ident" id="8029595"><a href="/net/unix_test.go.html#8029452">ta</a></span><span class="op" id="8029597">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029601">if</span>&nbsp;<span class="ident" id="8029604"><a href="/net/unix_test.go.html#8029456">err</a></span>&nbsp;<span class="op" id="8029608">!=</span>&nbsp;<span class="ident" id="8029611">nil</span>&nbsp;<span class="op" id="8029615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029620"><a href="/net/unix_test.go.html#8029337">t</a></span><span class="op" id="8029621">.</span><span class="ident" id="8029622">Fatalf</span><span class="op" id="8029628">(</span><span class="string" id="8029629">&#34;ListenUnix&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8029652">,</span>&nbsp;<span class="ident" id="8029654"><a href="/net/unix_test.go.html#8029456">err</a></span><span class="op" id="8029657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029665">defer</span>&nbsp;<span class="keyword" id="8029671">func</span><span class="op" id="8029675">(</span><span class="op" id="8029676">)</span>&nbsp;<span class="op" id="8029678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029683"><a href="/net/unix_test.go.html#8029565">ln</a></span><span class="op" id="8029685">.</span><span class="ident" id="8029686">Close</span><span class="op" id="8029691">(</span><span class="op" id="8029692">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029697"><a href="/net/unix_test.go.html#8023698">os</a></span><span class="op" id="8029699">.</span><span class="ident" id="8029700">Remove</span><span class="op" id="8029706">(</span><span class="ident" id="8029707"><a href="/net/unix_test.go.html#8029426">taddr</a></span><span class="op" id="8029712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029716">}</span><span class="op" id="8029717">(</span><span class="op" id="8029718">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029723">done</span>&nbsp;<span class="op" id="8029728">:=</span>&nbsp;<span class="builtinfunc" id="8029731">make</span><span class="op" id="8029735">(</span><span class="keyword" id="8029736">chan</span>&nbsp;<span class="builtintype" id="8029741">int</span><span class="op" id="8029744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029748">go</span>&nbsp;<span class="ident" id="8029751"><a href="/net/conn_test.go.html#7826187">transponder</a></span><span class="op" id="8029762">(</span><span class="ident" id="8029763"><a href="/net/unix_test.go.html#8029337">t</a></span><span class="op" id="8029764">,</span>&nbsp;<span class="ident" id="8029766"><a href="/net/unix_test.go.html#8029565">ln</a></span><span class="op" id="8029768">,</span>&nbsp;<span class="ident" id="8029770"><a href="/net/unix_test.go.html#8029723">done</a></span><span class="op" id="8029774">)</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029779">la</span><span class="op" id="8029781">,</span>&nbsp;<span class="ident" id="8029783"><a href="/net/unix_test.go.html#8029456">err</a></span>&nbsp;<span class="op" id="8029787">:=</span>&nbsp;<span class="ident" id="8029790"><a href="/net/unixsock.go.html#1526926">ResolveUnixAddr</a></span><span class="op" id="8029805">(</span><span class="string" id="8029806">&#34;unix&#34;</span><span class="op" id="8029812">,</span>&nbsp;<span class="ident" id="8029814"><a href="/net/unix_test.go.html#8029409">laddr</a></span><span class="op" id="8029819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029823">if</span>&nbsp;<span class="ident" id="8029826"><a href="/net/unix_test.go.html#8029456">err</a></span>&nbsp;<span class="op" id="8029830">!=</span>&nbsp;<span class="ident" id="8029833">nil</span>&nbsp;<span class="op" id="8029837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029842"><a href="/net/unix_test.go.html#8029337">t</a></span><span class="op" id="8029843">.</span><span class="ident" id="8029844">Fatalf</span><span class="op" id="8029850">(</span><span class="string" id="8029851">&#34;ResolveUnixAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8029879">,</span>&nbsp;<span class="ident" id="8029881"><a href="/net/unix_test.go.html#8029456">err</a></span><span class="op" id="8029884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029888">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029892">c</span><span class="op" id="8029893">,</span>&nbsp;<span class="ident" id="8029895"><a href="/net/unix_test.go.html#8029456">err</a></span>&nbsp;<span class="op" id="8029899">:=</span>&nbsp;<span class="ident" id="8029902"><a href="/net/unixsock_posix.go.html#1533427">DialUnix</a></span><span class="op" id="8029910">(</span><span class="string" id="8029911">&#34;unix&#34;</span><span class="op" id="8029917">,</span>&nbsp;<span class="ident" id="8029919"><a href="/net/unix_test.go.html#8029779">la</a></span><span class="op" id="8029921">,</span>&nbsp;<span class="ident" id="8029923"><a href="/net/unix_test.go.html#8029452">ta</a></span><span class="op" id="8029925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029929">if</span>&nbsp;<span class="ident" id="8029932"><a href="/net/unix_test.go.html#8029456">err</a></span>&nbsp;<span class="op" id="8029936">!=</span>&nbsp;<span class="ident" id="8029939">nil</span>&nbsp;<span class="op" id="8029943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8029948"><a href="/net/unix_test.go.html#8029337">t</a></span><span class="op" id="8029949">.</span><span class="ident" id="8029950">Fatalf</span><span class="op" id="8029956">(</span><span class="string" id="8029957">&#34;DialUnix&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8029978">,</span>&nbsp;<span class="ident" id="8029980"><a href="/net/unix_test.go.html#8029456">err</a></span><span class="op" id="8029983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8029987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8029991">defer</span>&nbsp;<span class="keyword" id="8029997">func</span><span class="op" id="8030001">(</span><span class="op" id="8030002">)</span>&nbsp;<span class="op" id="8030004">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030009"><a href="/net/unix_test.go.html#8029892">c</a></span><span class="op" id="8030010">.</span><span class="ident" id="8030011">Close</span><span class="op" id="8030016">(</span><span class="op" id="8030017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030022">if</span>&nbsp;<span class="ident" id="8030025"><a href="/net/unix_test.go.html#8029779">la</a></span>&nbsp;<span class="op" id="8030028">!=</span>&nbsp;<span class="ident" id="8030031">nil</span>&nbsp;<span class="op" id="8030035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030041">defer</span>&nbsp;<span class="ident" id="8030047"><a href="/net/unix_test.go.html#8023698">os</a></span><span class="op" id="8030049">.</span><span class="ident" id="8030050">Remove</span><span class="op" id="8030056">(</span><span class="ident" id="8030057"><a href="/net/unix_test.go.html#8029409">laddr</a></span><span class="op" id="8030062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030071">}</span><span class="op" id="8030072">(</span><span class="op" id="8030073">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030077">if</span>&nbsp;<span class="ident" id="8030080">_</span><span class="op" id="8030081">,</span>&nbsp;<span class="ident" id="8030083">err</span>&nbsp;<span class="op" id="8030087">:=</span>&nbsp;<span class="ident" id="8030090"><a href="/net/unix_test.go.html#8029892">c</a></span><span class="op" id="8030091">.</span><span class="ident" id="8030092">Write</span><span class="op" id="8030097">(</span><span class="op" id="8030098">[</span><span class="op" id="8030099">]</span><span class="builtintype" id="8030100">byte</span><span class="op" id="8030104">(</span><span class="string" id="8030105">&#34;UNIXCONN&nbsp;LOCAL&nbsp;AND&nbsp;REMOTE&nbsp;NAME&nbsp;TEST&#34;</span><span class="op" id="8030142">)</span><span class="op" id="8030143">)</span><span class="op" id="8030144">;</span>&nbsp;<span class="ident" id="8030146"><a href="/net/unix_test.go.html#8030083">err</a></span>&nbsp;<span class="op" id="8030150">!=</span>&nbsp;<span class="ident" id="8030153">nil</span>&nbsp;<span class="op" id="8030157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030162"><a href="/net/unix_test.go.html#8029337">t</a></span><span class="op" id="8030163">.</span><span class="ident" id="8030164">Fatalf</span><span class="op" id="8030170">(</span><span class="string" id="8030171">&#34;UnixConn.Write&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8030198">,</span>&nbsp;<span class="ident" id="8030200"><a href="/net/unix_test.go.html#8030083">err</a></span><span class="op" id="8030203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030212">switch</span>&nbsp;<span class="ident" id="8030219"><a href="/net/unix_test.go.html#8023715">runtime</a></span><span class="op" id="8030226">.</span><span class="ident" id="8030227">GOOS</span>&nbsp;<span class="op" id="8030232">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030236">case</span>&nbsp;<span class="string" id="8030241">&#34;android&#34;</span><span class="op" id="8030250">,</span>&nbsp;<span class="string" id="8030252">&#34;linux&#34;</span><span class="op" id="8030259">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030264">if</span>&nbsp;<span class="ident" id="8030267"><a href="/net/unix_test.go.html#8029409">laddr</a></span>&nbsp;<span class="op" id="8030273">==</span>&nbsp;<span class="string" id="8030276">&#34;&#34;</span>&nbsp;<span class="op" id="8030279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030285"><a href="/net/unix_test.go.html#8029409">laddr</a></span>&nbsp;<span class="op" id="8030291">=</span>&nbsp;<span class="string" id="8030293">&#34;@&#34;</span>&nbsp;<span class="comment" id="8030297">//&nbsp;autobind&nbsp;feature</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030324">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030328">var</span>&nbsp;<span class="ident" id="8030332">connAddrs</span>&nbsp;<span class="op" id="8030342">=</span>&nbsp;<span class="op" id="8030344">[</span><span class="num" id="8030345">3</span><span class="op" id="8030346">]</span><span class="keyword" id="8030347">struct</span><span class="op" id="8030353">{</span>&nbsp;<span class="ident" id="8030355">got</span><span class="op" id="8030358">,</span>&nbsp;<span class="ident" id="8030360">want</span>&nbsp;<span class="ident" id="8030365"><a href="/net/net.go.html#1465097">Addr</a></span>&nbsp;<span class="op" id="8030370">}</span><span class="op" id="8030371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030376">{</span><span class="ident" id="8030377"><a href="/net/unix_test.go.html#8029565">ln</a></span><span class="op" id="8030379">.</span><span class="ident" id="8030380">Addr</span><span class="op" id="8030384">(</span><span class="op" id="8030385">)</span><span class="op" id="8030386">,</span>&nbsp;<span class="ident" id="8030388"><a href="/net/unix_test.go.html#8029452">ta</a></span><span class="op" id="8030390">}</span><span class="op" id="8030391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030396">{</span><span class="ident" id="8030397"><a href="/net/unix_test.go.html#8029892">c</a></span><span class="op" id="8030398">.</span><span class="ident" id="8030399">LocalAddr</span><span class="op" id="8030408">(</span><span class="op" id="8030409">)</span><span class="op" id="8030410">,</span>&nbsp;<span class="op" id="8030412">&amp;</span><span class="ident" id="8030413"><a href="/net/unixsock.go.html#1526419">UnixAddr</a></span><span class="op" id="8030421">{</span><span class="ident" id="8030422">Name</span><span class="op" id="8030426">:</span>&nbsp;<span class="ident" id="8030428"><a href="/net/unix_test.go.html#8029409">laddr</a></span><span class="op" id="8030433">,</span>&nbsp;<span class="ident" id="8030435">Net</span><span class="op" id="8030438">:</span>&nbsp;<span class="string" id="8030440">&#34;unix&#34;</span><span class="op" id="8030446">}</span><span class="op" id="8030447">}</span><span class="op" id="8030448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030453">{</span><span class="ident" id="8030454"><a href="/net/unix_test.go.html#8029892">c</a></span><span class="op" id="8030455">.</span><span class="ident" id="8030456">RemoteAddr</span><span class="op" id="8030466">(</span><span class="op" id="8030467">)</span><span class="op" id="8030468">,</span>&nbsp;<span class="ident" id="8030470"><a href="/net/unix_test.go.html#8029452">ta</a></span><span class="op" id="8030472">}</span><span class="op" id="8030473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030477">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030481">for</span>&nbsp;<span class="ident" id="8030485">_</span><span class="op" id="8030486">,</span>&nbsp;<span class="ident" id="8030488">ca</span>&nbsp;<span class="op" id="8030491">:=</span>&nbsp;<span class="keyword" id="8030494">range</span>&nbsp;<span class="ident" id="8030500"><a href="/net/unix_test.go.html#8030332">connAddrs</a></span>&nbsp;<span class="op" id="8030510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030515">if</span>&nbsp;<span class="op" id="8030518">!</span><span class="ident" id="8030519"><a href="/net/unix_test.go.html#8023704">reflect</a></span><span class="op" id="8030526">.</span><span class="ident" id="8030527">DeepEqual</span><span class="op" id="8030536">(</span><span class="ident" id="8030537"><a href="/net/unix_test.go.html#8030488">ca</a></span><span class="op" id="8030539">.</span><span class="ident" id="8030540">got</span><span class="op" id="8030543">,</span>&nbsp;<span class="ident" id="8030545"><a href="/net/unix_test.go.html#8030488">ca</a></span><span class="op" id="8030547">.</span><span class="ident" id="8030548">want</span><span class="op" id="8030552">)</span>&nbsp;<span class="op" id="8030554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030560"><a href="/net/unix_test.go.html#8029337">t</a></span><span class="op" id="8030561">.</span><span class="ident" id="8030562">Fatalf</span><span class="op" id="8030568">(</span><span class="string" id="8030569">&#34;got&nbsp;%#v,&nbsp;expected&nbsp;%#v&#34;</span><span class="op" id="8030592">,</span>&nbsp;<span class="ident" id="8030594"><a href="/net/unix_test.go.html#8030488">ca</a></span><span class="op" id="8030596">.</span><span class="ident" id="8030597">got</span><span class="op" id="8030600">,</span>&nbsp;<span class="ident" id="8030602"><a href="/net/unix_test.go.html#8030488">ca</a></span><span class="op" id="8030604">.</span><span class="ident" id="8030605">want</span><span class="op" id="8030609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030618">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030623">&lt;-</span><span class="ident" id="8030625"><a href="/net/unix_test.go.html#8029723">done</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030631">}</span><br>
<span class="lineno"></span><span class="op" id="8030633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="8030636">func</span>&nbsp;<span class="ident" id="8030641">TestUnixgramConnLocalAndRemoteNames</span><span class="op" id="8030676">(</span><span class="ident" id="8030677">t</span>&nbsp;<span class="op" id="8030679">*</span><span class="ident" id="8030680"><a href="/net/unix_test.go.html#8023737">testing</a></span><span class="op" id="8030687">.</span><span class="ident" id="8030688">T</span><span class="op" id="8030689">)</span>&nbsp;<span class="op" id="8030691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030694">for</span>&nbsp;<span class="ident" id="8030698">_</span><span class="op" id="8030699">,</span>&nbsp;<span class="ident" id="8030701">laddr</span>&nbsp;<span class="op" id="8030707">:=</span>&nbsp;<span class="keyword" id="8030710">range</span>&nbsp;<span class="op" id="8030716">[</span><span class="op" id="8030717">]</span><span class="builtintype" id="8030718">string</span><span class="op" id="8030724">{</span><span class="string" id="8030725">&#34;&#34;</span><span class="op" id="8030727">,</span>&nbsp;<span class="ident" id="8030729"><a href="/net/protoconn_test.go.html#7945768">testUnixAddr</a></span><span class="op" id="8030741">(</span><span class="op" id="8030742">)</span><span class="op" id="8030743">}</span>&nbsp;<span class="op" id="8030745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030749">laddr</span>&nbsp;<span class="op" id="8030755">:=</span>&nbsp;<span class="ident" id="8030758"><a href="/net/unix_test.go.html#8030701">laddr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030766">taddr</span>&nbsp;<span class="op" id="8030772">:=</span>&nbsp;<span class="ident" id="8030775"><a href="/net/protoconn_test.go.html#7945768">testUnixAddr</a></span><span class="op" id="8030787">(</span><span class="op" id="8030788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030792">ta</span><span class="op" id="8030794">,</span>&nbsp;<span class="ident" id="8030796">err</span>&nbsp;<span class="op" id="8030800">:=</span>&nbsp;<span class="ident" id="8030803"><a href="/net/unixsock.go.html#1526926">ResolveUnixAddr</a></span><span class="op" id="8030818">(</span><span class="string" id="8030819">&#34;unixgram&#34;</span><span class="op" id="8030829">,</span>&nbsp;<span class="ident" id="8030831"><a href="/net/unix_test.go.html#8030766">taddr</a></span><span class="op" id="8030836">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030840">if</span>&nbsp;<span class="ident" id="8030843"><a href="/net/unix_test.go.html#8030796">err</a></span>&nbsp;<span class="op" id="8030847">!=</span>&nbsp;<span class="ident" id="8030850">nil</span>&nbsp;<span class="op" id="8030854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030859"><a href="/net/unix_test.go.html#8030677">t</a></span><span class="op" id="8030860">.</span><span class="ident" id="8030861">Fatalf</span><span class="op" id="8030867">(</span><span class="string" id="8030868">&#34;ResolveUnixAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8030896">,</span>&nbsp;<span class="ident" id="8030898"><a href="/net/unix_test.go.html#8030796">err</a></span><span class="op" id="8030901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8030905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030909">c1</span><span class="op" id="8030911">,</span>&nbsp;<span class="ident" id="8030913"><a href="/net/unix_test.go.html#8030796">err</a></span>&nbsp;<span class="op" id="8030917">:=</span>&nbsp;<span class="ident" id="8030920"><a href="/net/unixsock_posix.go.html#1537208">ListenUnixgram</a></span><span class="op" id="8030934">(</span><span class="string" id="8030935">&#34;unixgram&#34;</span><span class="op" id="8030945">,</span>&nbsp;<span class="ident" id="8030947"><a href="/net/unix_test.go.html#8030792">ta</a></span><span class="op" id="8030949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8030953">if</span>&nbsp;<span class="ident" id="8030956"><a href="/net/unix_test.go.html#8030796">err</a></span>&nbsp;<span class="op" id="8030960">!=</span>&nbsp;<span class="ident" id="8030963">nil</span>&nbsp;<span class="op" id="8030967">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8030972"><a href="/net/unix_test.go.html#8030677">t</a></span><span class="op" id="8030973">.</span><span class="ident" id="8030974">Fatalf</span><span class="op" id="8030980">(</span><span class="string" id="8030981">&#34;ListenUnixgram&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8031008">,</span>&nbsp;<span class="ident" id="8031010"><a href="/net/unix_test.go.html#8030796">err</a></span><span class="op" id="8031013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031021">defer</span>&nbsp;<span class="keyword" id="8031027">func</span><span class="op" id="8031031">(</span><span class="op" id="8031032">)</span>&nbsp;<span class="op" id="8031034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031039"><a href="/net/unix_test.go.html#8030909">c1</a></span><span class="op" id="8031041">.</span><span class="ident" id="8031042">Close</span><span class="op" id="8031047">(</span><span class="op" id="8031048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031053"><a href="/net/unix_test.go.html#8023698">os</a></span><span class="op" id="8031055">.</span><span class="ident" id="8031056">Remove</span><span class="op" id="8031062">(</span><span class="ident" id="8031063"><a href="/net/unix_test.go.html#8030766">taddr</a></span><span class="op" id="8031068">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031072">}</span><span class="op" id="8031073">(</span><span class="op" id="8031074">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031079">var</span>&nbsp;<span class="ident" id="8031083">la</span>&nbsp;<span class="op" id="8031086">*</span><span class="ident" id="8031087"><a href="/net/unixsock.go.html#1526419">UnixAddr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031098">if</span>&nbsp;<span class="ident" id="8031101"><a href="/net/unix_test.go.html#8030749">laddr</a></span>&nbsp;<span class="op" id="8031107">!=</span>&nbsp;<span class="string" id="8031110">&#34;&#34;</span>&nbsp;<span class="op" id="8031113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031118">if</span>&nbsp;<span class="ident" id="8031121"><a href="/net/unix_test.go.html#8031083">la</a></span><span class="op" id="8031123">,</span>&nbsp;<span class="ident" id="8031125"><a href="/net/unix_test.go.html#8030796">err</a></span>&nbsp;<span class="op" id="8031129">=</span>&nbsp;<span class="ident" id="8031131"><a href="/net/unixsock.go.html#1526926">ResolveUnixAddr</a></span><span class="op" id="8031146">(</span><span class="string" id="8031147">&#34;unixgram&#34;</span><span class="op" id="8031157">,</span>&nbsp;<span class="ident" id="8031159"><a href="/net/unix_test.go.html#8030749">laddr</a></span><span class="op" id="8031164">)</span><span class="op" id="8031165">;</span>&nbsp;<span class="ident" id="8031167"><a href="/net/unix_test.go.html#8030796">err</a></span>&nbsp;<span class="op" id="8031171">!=</span>&nbsp;<span class="ident" id="8031174">nil</span>&nbsp;<span class="op" id="8031178">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031184"><a href="/net/unix_test.go.html#8030677">t</a></span><span class="op" id="8031185">.</span><span class="ident" id="8031186">Fatalf</span><span class="op" id="8031192">(</span><span class="string" id="8031193">&#34;ResolveUnixAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8031221">,</span>&nbsp;<span class="ident" id="8031223"><a href="/net/unix_test.go.html#8030796">err</a></span><span class="op" id="8031226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031239">c2</span><span class="op" id="8031241">,</span>&nbsp;<span class="ident" id="8031243"><a href="/net/unix_test.go.html#8030796">err</a></span>&nbsp;<span class="op" id="8031247">:=</span>&nbsp;<span class="ident" id="8031250"><a href="/net/unixsock_posix.go.html#1533427">DialUnix</a></span><span class="op" id="8031258">(</span><span class="string" id="8031259">&#34;unixgram&#34;</span><span class="op" id="8031269">,</span>&nbsp;<span class="ident" id="8031271"><a href="/net/unix_test.go.html#8031083">la</a></span><span class="op" id="8031273">,</span>&nbsp;<span class="ident" id="8031275"><a href="/net/unix_test.go.html#8030792">ta</a></span><span class="op" id="8031277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031281">if</span>&nbsp;<span class="ident" id="8031284"><a href="/net/unix_test.go.html#8030796">err</a></span>&nbsp;<span class="op" id="8031288">!=</span>&nbsp;<span class="ident" id="8031291">nil</span>&nbsp;<span class="op" id="8031295">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031300"><a href="/net/unix_test.go.html#8030677">t</a></span><span class="op" id="8031301">.</span><span class="ident" id="8031302">Fatalf</span><span class="op" id="8031308">(</span><span class="string" id="8031309">&#34;DialUnix&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8031330">,</span>&nbsp;<span class="ident" id="8031332"><a href="/net/unix_test.go.html#8030796">err</a></span><span class="op" id="8031335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031343">defer</span>&nbsp;<span class="keyword" id="8031349">func</span><span class="op" id="8031353">(</span><span class="op" id="8031354">)</span>&nbsp;<span class="op" id="8031356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031361"><a href="/net/unix_test.go.html#8031239">c2</a></span><span class="op" id="8031363">.</span><span class="ident" id="8031364">Close</span><span class="op" id="8031369">(</span><span class="op" id="8031370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031375">if</span>&nbsp;<span class="ident" id="8031378"><a href="/net/unix_test.go.html#8031083">la</a></span>&nbsp;<span class="op" id="8031381">!=</span>&nbsp;<span class="ident" id="8031384">nil</span>&nbsp;<span class="op" id="8031388">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031394">defer</span>&nbsp;<span class="ident" id="8031400"><a href="/net/unix_test.go.html#8023698">os</a></span><span class="op" id="8031402">.</span><span class="ident" id="8031403">Remove</span><span class="op" id="8031409">(</span><span class="ident" id="8031410"><a href="/net/unix_test.go.html#8030749">laddr</a></span><span class="op" id="8031415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031424">}</span><span class="op" id="8031425">(</span><span class="op" id="8031426">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031431">switch</span>&nbsp;<span class="ident" id="8031438"><a href="/net/unix_test.go.html#8023715">runtime</a></span><span class="op" id="8031445">.</span><span class="ident" id="8031446">GOOS</span>&nbsp;<span class="op" id="8031451">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031455">case</span>&nbsp;<span class="string" id="8031460">&#34;android&#34;</span><span class="op" id="8031469">,</span>&nbsp;<span class="string" id="8031471">&#34;linux&#34;</span><span class="op" id="8031478">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031483">if</span>&nbsp;<span class="ident" id="8031486"><a href="/net/unix_test.go.html#8030749">laddr</a></span>&nbsp;<span class="op" id="8031492">==</span>&nbsp;<span class="string" id="8031495">&#34;&#34;</span>&nbsp;<span class="op" id="8031498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031504"><a href="/net/unix_test.go.html#8030749">laddr</a></span>&nbsp;<span class="op" id="8031510">=</span>&nbsp;<span class="string" id="8031512">&#34;@&#34;</span>&nbsp;<span class="comment" id="8031516">//&nbsp;autobind&nbsp;feature</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031543">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031548">var</span>&nbsp;<span class="ident" id="8031552">connAddrs</span>&nbsp;<span class="op" id="8031562">=</span>&nbsp;<span class="op" id="8031564">[</span><span class="num" id="8031565">4</span><span class="op" id="8031566">]</span><span class="keyword" id="8031567">struct</span><span class="op" id="8031573">{</span>&nbsp;<span class="ident" id="8031575">got</span><span class="op" id="8031578">,</span>&nbsp;<span class="ident" id="8031580">want</span>&nbsp;<span class="ident" id="8031585"><a href="/net/net.go.html#1465097">Addr</a></span>&nbsp;<span class="op" id="8031590">}</span><span class="op" id="8031591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031596">{</span><span class="ident" id="8031597"><a href="/net/unix_test.go.html#8030909">c1</a></span><span class="op" id="8031599">.</span><span class="ident" id="8031600">LocalAddr</span><span class="op" id="8031609">(</span><span class="op" id="8031610">)</span><span class="op" id="8031611">,</span>&nbsp;<span class="ident" id="8031613"><a href="/net/unix_test.go.html#8030792">ta</a></span><span class="op" id="8031615">}</span><span class="op" id="8031616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031621">{</span><span class="ident" id="8031622"><a href="/net/unix_test.go.html#8030909">c1</a></span><span class="op" id="8031624">.</span><span class="ident" id="8031625">RemoteAddr</span><span class="op" id="8031635">(</span><span class="op" id="8031636">)</span><span class="op" id="8031637">,</span>&nbsp;<span class="ident" id="8031639">nil</span><span class="op" id="8031642">}</span><span class="op" id="8031643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031648">{</span><span class="ident" id="8031649"><a href="/net/unix_test.go.html#8031239">c2</a></span><span class="op" id="8031651">.</span><span class="ident" id="8031652">LocalAddr</span><span class="op" id="8031661">(</span><span class="op" id="8031662">)</span><span class="op" id="8031663">,</span>&nbsp;<span class="op" id="8031665">&amp;</span><span class="ident" id="8031666"><a href="/net/unixsock.go.html#1526419">UnixAddr</a></span><span class="op" id="8031674">{</span><span class="ident" id="8031675">Name</span><span class="op" id="8031679">:</span>&nbsp;<span class="ident" id="8031681"><a href="/net/unix_test.go.html#8030749">laddr</a></span><span class="op" id="8031686">,</span>&nbsp;<span class="ident" id="8031688">Net</span><span class="op" id="8031691">:</span>&nbsp;<span class="string" id="8031693">&#34;unixgram&#34;</span><span class="op" id="8031703">}</span><span class="op" id="8031704">}</span><span class="op" id="8031705">,</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031710">{</span><span class="ident" id="8031711"><a href="/net/unix_test.go.html#8031239">c2</a></span><span class="op" id="8031713">.</span><span class="ident" id="8031714">RemoteAddr</span><span class="op" id="8031724">(</span><span class="op" id="8031725">)</span><span class="op" id="8031726">,</span>&nbsp;<span class="ident" id="8031728"><a href="/net/unix_test.go.html#8030792">ta</a></span><span class="op" id="8031730">}</span><span class="op" id="8031731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031739">for</span>&nbsp;<span class="ident" id="8031743">_</span><span class="op" id="8031744">,</span>&nbsp;<span class="ident" id="8031746">ca</span>&nbsp;<span class="op" id="8031749">:=</span>&nbsp;<span class="keyword" id="8031752">range</span>&nbsp;<span class="ident" id="8031758"><a href="/net/unix_test.go.html#8031552">connAddrs</a></span>&nbsp;<span class="op" id="8031768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8031773">if</span>&nbsp;<span class="op" id="8031776">!</span><span class="ident" id="8031777"><a href="/net/unix_test.go.html#8023704">reflect</a></span><span class="op" id="8031784">.</span><span class="ident" id="8031785">DeepEqual</span><span class="op" id="8031794">(</span><span class="ident" id="8031795"><a href="/net/unix_test.go.html#8031746">ca</a></span><span class="op" id="8031797">.</span><span class="ident" id="8031798">got</span><span class="op" id="8031801">,</span>&nbsp;<span class="ident" id="8031803"><a href="/net/unix_test.go.html#8031746">ca</a></span><span class="op" id="8031805">.</span><span class="ident" id="8031806">want</span><span class="op" id="8031810">)</span>&nbsp;<span class="op" id="8031812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8031818"><a href="/net/unix_test.go.html#8030677">t</a></span><span class="op" id="8031819">.</span><span class="ident" id="8031820">Fatalf</span><span class="op" id="8031826">(</span><span class="string" id="8031827">&#34;got&nbsp;%#v,&nbsp;expected&nbsp;%#v&#34;</span><span class="op" id="8031850">,</span>&nbsp;<span class="ident" id="8031852"><a href="/net/unix_test.go.html#8031746">ca</a></span><span class="op" id="8031854">.</span><span class="ident" id="8031855">got</span><span class="op" id="8031858">,</span>&nbsp;<span class="ident" id="8031860"><a href="/net/unix_test.go.html#8031746">ca</a></span><span class="op" id="8031862">.</span><span class="ident" id="8031863">want</span><span class="op" id="8031867">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8031879">}</span><br>
<span class="lineno"></span><span class="op" id="8031881">}</span>
</div>
</body>
</html>
