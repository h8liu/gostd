<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/binary</h2>
<ul>
<li><a href="/gostd/encoding/binary/binary.go.html">binary.go</a></li>
<li><a href="/gostd/encoding/binary/binary_test.go.html" class="current">binary_test.go</a></li>
<li><a href="/gostd/encoding/binary/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/binary/varint.go.html">varint.go</a></li>
<li><a href="/gostd/encoding/binary/varint_test.go.html">varint_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8318652">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8318708">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8318762">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8318813">package</span>&nbsp;<span class="ident" id="8318821">binary</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8318829">import</span>&nbsp;<span class="op" id="8318836">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8318839">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8318848">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8318854">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8318862">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8318873">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8318884">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8318894">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8318897">type</span>&nbsp;<span class="ident" id="8318902">Struct</span>&nbsp;<span class="keyword" id="8318909">struct</span>&nbsp;<span class="op" id="8318916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318919">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8318930">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318936">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8318947">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318954">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8318965">int32</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318972">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8318983">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8318990">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8319001">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319008">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8319019">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319027">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8319038">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319046">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8319057">uint64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319065">Float32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8319076">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319085">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8319096">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319105">Complex64</span>&nbsp;&nbsp;<span class="builtintype" id="8319116">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319127">Complex128</span>&nbsp;<span class="builtintype" id="8319138">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319150">Array</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8319161">[</span><span class="num" id="8319162">4</span><span class="op" id="8319163">]</span><span class="builtintype" id="8319164">uint8</span><br>
<span class="lineno">30</span><span class="op" id="8319170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8319173">type</span>&nbsp;<span class="ident" id="8319178">T</span>&nbsp;<span class="keyword" id="8319180">struct</span>&nbsp;<span class="op" id="8319187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319190">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8319198">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319203">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8319211">uint</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319217">Uintptr</span>&nbsp;<span class="builtintype" id="8319225">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319234">Array</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8319242">[</span><span class="num" id="8319243">4</span><span class="op" id="8319244">]</span><span class="builtintype" id="8319245">int</span><br>
<span class="lineno"></span><span class="op" id="8319249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8319252">var</span>&nbsp;<span class="ident" id="8319256">s</span>&nbsp;<span class="op" id="8319258">=</span>&nbsp;<span class="ident" id="8319260">Struct</span><span class="op" id="8319266">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319269">0x01</span><span class="op" id="8319273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319276">0x0203</span><span class="op" id="8319282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319285">0x04050607</span><span class="op" id="8319295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319298">0x08090a0b0c0d0e0f</span><span class="op" id="8319316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319319">0x10</span><span class="op" id="8319323">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319326">0x1112</span><span class="op" id="8319332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319335">0x13141516</span><span class="op" id="8319345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319348">0x1718191a1b1c1d1e</span><span class="op" id="8319366">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319370">math</span><span class="op" id="8319374">.</span><span class="ident" id="8319375">Float32frombits</span><span class="op" id="8319390">(</span><span class="num" id="8319391">0x1f202122</span><span class="op" id="8319401">)</span><span class="op" id="8319402">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319405">math</span><span class="op" id="8319409">.</span><span class="ident" id="8319410">Float64frombits</span><span class="op" id="8319425">(</span><span class="num" id="8319426">0x232425262728292a</span><span class="op" id="8319444">)</span><span class="op" id="8319445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8319448">complex</span><span class="op" id="8319455">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319459">math</span><span class="op" id="8319463">.</span><span class="ident" id="8319464">Float32frombits</span><span class="op" id="8319479">(</span><span class="num" id="8319480">0x2b2c2d2e</span><span class="op" id="8319490">)</span><span class="op" id="8319491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319495">math</span><span class="op" id="8319499">.</span><span class="ident" id="8319500">Float32frombits</span><span class="op" id="8319515">(</span><span class="num" id="8319516">0x2f303132</span><span class="op" id="8319526">)</span><span class="op" id="8319527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8319530">)</span><span class="op" id="8319531">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8319534">complex</span><span class="op" id="8319541">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319545">math</span><span class="op" id="8319549">.</span><span class="ident" id="8319550">Float64frombits</span><span class="op" id="8319565">(</span><span class="num" id="8319566">0x333435363738393a</span><span class="op" id="8319584">)</span><span class="op" id="8319585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8319589">math</span><span class="op" id="8319593">.</span><span class="ident" id="8319594">Float64frombits</span><span class="op" id="8319609">(</span><span class="num" id="8319610">0x3b3c3d3e3f404142</span><span class="op" id="8319628">)</span><span class="op" id="8319629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8319632">)</span><span class="op" id="8319633">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8319637">[</span><span class="num" id="8319638">4</span><span class="op" id="8319639">]</span><span class="builtintype" id="8319640">uint8</span><span class="op" id="8319645">{</span><span class="num" id="8319646">0x43</span><span class="op" id="8319650">,</span>&nbsp;<span class="num" id="8319652">0x44</span><span class="op" id="8319656">,</span>&nbsp;<span class="num" id="8319658">0x45</span><span class="op" id="8319662">,</span>&nbsp;<span class="num" id="8319664">0x46</span><span class="op" id="8319668">}</span><span class="op" id="8319669">,</span><br>
<span class="lineno"></span><span class="op" id="8319671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8319674">var</span>&nbsp;<span class="ident" id="8319678">big</span>&nbsp;<span class="op" id="8319682">=</span>&nbsp;<span class="op" id="8319684">[</span><span class="op" id="8319685">]</span><span class="builtintype" id="8319686">byte</span><span class="op" id="8319690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319693">1</span><span class="op" id="8319694">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319697">2</span><span class="op" id="8319698">,</span>&nbsp;<span class="num" id="8319700">3</span><span class="op" id="8319701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319704">4</span><span class="op" id="8319705">,</span>&nbsp;<span class="num" id="8319707">5</span><span class="op" id="8319708">,</span>&nbsp;<span class="num" id="8319710">6</span><span class="op" id="8319711">,</span>&nbsp;<span class="num" id="8319713">7</span><span class="op" id="8319714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319717">8</span><span class="op" id="8319718">,</span>&nbsp;<span class="num" id="8319720">9</span><span class="op" id="8319721">,</span>&nbsp;<span class="num" id="8319723">10</span><span class="op" id="8319725">,</span>&nbsp;<span class="num" id="8319727">11</span><span class="op" id="8319729">,</span>&nbsp;<span class="num" id="8319731">12</span><span class="op" id="8319733">,</span>&nbsp;<span class="num" id="8319735">13</span><span class="op" id="8319737">,</span>&nbsp;<span class="num" id="8319739">14</span><span class="op" id="8319741">,</span>&nbsp;<span class="num" id="8319743">15</span><span class="op" id="8319745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319748">16</span><span class="op" id="8319750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319753">17</span><span class="op" id="8319755">,</span>&nbsp;<span class="num" id="8319757">18</span><span class="op" id="8319759">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319762">19</span><span class="op" id="8319764">,</span>&nbsp;<span class="num" id="8319766">20</span><span class="op" id="8319768">,</span>&nbsp;<span class="num" id="8319770">21</span><span class="op" id="8319772">,</span>&nbsp;<span class="num" id="8319774">22</span><span class="op" id="8319776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319779">23</span><span class="op" id="8319781">,</span>&nbsp;<span class="num" id="8319783">24</span><span class="op" id="8319785">,</span>&nbsp;<span class="num" id="8319787">25</span><span class="op" id="8319789">,</span>&nbsp;<span class="num" id="8319791">26</span><span class="op" id="8319793">,</span>&nbsp;<span class="num" id="8319795">27</span><span class="op" id="8319797">,</span>&nbsp;<span class="num" id="8319799">28</span><span class="op" id="8319801">,</span>&nbsp;<span class="num" id="8319803">29</span><span class="op" id="8319805">,</span>&nbsp;<span class="num" id="8319807">30</span><span class="op" id="8319809">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319813">31</span><span class="op" id="8319815">,</span>&nbsp;<span class="num" id="8319817">32</span><span class="op" id="8319819">,</span>&nbsp;<span class="num" id="8319821">33</span><span class="op" id="8319823">,</span>&nbsp;<span class="num" id="8319825">34</span><span class="op" id="8319827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319830">35</span><span class="op" id="8319832">,</span>&nbsp;<span class="num" id="8319834">36</span><span class="op" id="8319836">,</span>&nbsp;<span class="num" id="8319838">37</span><span class="op" id="8319840">,</span>&nbsp;<span class="num" id="8319842">38</span><span class="op" id="8319844">,</span>&nbsp;<span class="num" id="8319846">39</span><span class="op" id="8319848">,</span>&nbsp;<span class="num" id="8319850">40</span><span class="op" id="8319852">,</span>&nbsp;<span class="num" id="8319854">41</span><span class="op" id="8319856">,</span>&nbsp;<span class="num" id="8319858">42</span><span class="op" id="8319860">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319863">43</span><span class="op" id="8319865">,</span>&nbsp;<span class="num" id="8319867">44</span><span class="op" id="8319869">,</span>&nbsp;<span class="num" id="8319871">45</span><span class="op" id="8319873">,</span>&nbsp;<span class="num" id="8319875">46</span><span class="op" id="8319877">,</span>&nbsp;<span class="num" id="8319879">47</span><span class="op" id="8319881">,</span>&nbsp;<span class="num" id="8319883">48</span><span class="op" id="8319885">,</span>&nbsp;<span class="num" id="8319887">49</span><span class="op" id="8319889">,</span>&nbsp;<span class="num" id="8319891">50</span><span class="op" id="8319893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319896">51</span><span class="op" id="8319898">,</span>&nbsp;<span class="num" id="8319900">52</span><span class="op" id="8319902">,</span>&nbsp;<span class="num" id="8319904">53</span><span class="op" id="8319906">,</span>&nbsp;<span class="num" id="8319908">54</span><span class="op" id="8319910">,</span>&nbsp;<span class="num" id="8319912">55</span><span class="op" id="8319914">,</span>&nbsp;<span class="num" id="8319916">56</span><span class="op" id="8319918">,</span>&nbsp;<span class="num" id="8319920">57</span><span class="op" id="8319922">,</span>&nbsp;<span class="num" id="8319924">58</span><span class="op" id="8319926">,</span>&nbsp;<span class="num" id="8319928">59</span><span class="op" id="8319930">,</span>&nbsp;<span class="num" id="8319932">60</span><span class="op" id="8319934">,</span>&nbsp;<span class="num" id="8319936">61</span><span class="op" id="8319938">,</span>&nbsp;<span class="num" id="8319940">62</span><span class="op" id="8319942">,</span>&nbsp;<span class="num" id="8319944">63</span><span class="op" id="8319946">,</span>&nbsp;<span class="num" id="8319948">64</span><span class="op" id="8319950">,</span>&nbsp;<span class="num" id="8319952">65</span><span class="op" id="8319954">,</span>&nbsp;<span class="num" id="8319956">66</span><span class="op" id="8319958">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8319962">67</span><span class="op" id="8319964">,</span>&nbsp;<span class="num" id="8319966">68</span><span class="op" id="8319968">,</span>&nbsp;<span class="num" id="8319970">69</span><span class="op" id="8319972">,</span>&nbsp;<span class="num" id="8319974">70</span><span class="op" id="8319976">,</span><br>
<span class="lineno"></span><span class="op" id="8319978">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="keyword" id="8319981">var</span>&nbsp;<span class="ident" id="8319985">little</span>&nbsp;<span class="op" id="8319992">=</span>&nbsp;<span class="op" id="8319994">[</span><span class="op" id="8319995">]</span><span class="builtintype" id="8319996">byte</span><span class="op" id="8320000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320003">1</span><span class="op" id="8320004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320007">3</span><span class="op" id="8320008">,</span>&nbsp;<span class="num" id="8320010">2</span><span class="op" id="8320011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320014">7</span><span class="op" id="8320015">,</span>&nbsp;<span class="num" id="8320017">6</span><span class="op" id="8320018">,</span>&nbsp;<span class="num" id="8320020">5</span><span class="op" id="8320021">,</span>&nbsp;<span class="num" id="8320023">4</span><span class="op" id="8320024">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320027">15</span><span class="op" id="8320029">,</span>&nbsp;<span class="num" id="8320031">14</span><span class="op" id="8320033">,</span>&nbsp;<span class="num" id="8320035">13</span><span class="op" id="8320037">,</span>&nbsp;<span class="num" id="8320039">12</span><span class="op" id="8320041">,</span>&nbsp;<span class="num" id="8320043">11</span><span class="op" id="8320045">,</span>&nbsp;<span class="num" id="8320047">10</span><span class="op" id="8320049">,</span>&nbsp;<span class="num" id="8320051">9</span><span class="op" id="8320052">,</span>&nbsp;<span class="num" id="8320054">8</span><span class="op" id="8320055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320058">16</span><span class="op" id="8320060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320063">18</span><span class="op" id="8320065">,</span>&nbsp;<span class="num" id="8320067">17</span><span class="op" id="8320069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320072">22</span><span class="op" id="8320074">,</span>&nbsp;<span class="num" id="8320076">21</span><span class="op" id="8320078">,</span>&nbsp;<span class="num" id="8320080">20</span><span class="op" id="8320082">,</span>&nbsp;<span class="num" id="8320084">19</span><span class="op" id="8320086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320089">30</span><span class="op" id="8320091">,</span>&nbsp;<span class="num" id="8320093">29</span><span class="op" id="8320095">,</span>&nbsp;<span class="num" id="8320097">28</span><span class="op" id="8320099">,</span>&nbsp;<span class="num" id="8320101">27</span><span class="op" id="8320103">,</span>&nbsp;<span class="num" id="8320105">26</span><span class="op" id="8320107">,</span>&nbsp;<span class="num" id="8320109">25</span><span class="op" id="8320111">,</span>&nbsp;<span class="num" id="8320113">24</span><span class="op" id="8320115">,</span>&nbsp;<span class="num" id="8320117">23</span><span class="op" id="8320119">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320123">34</span><span class="op" id="8320125">,</span>&nbsp;<span class="num" id="8320127">33</span><span class="op" id="8320129">,</span>&nbsp;<span class="num" id="8320131">32</span><span class="op" id="8320133">,</span>&nbsp;<span class="num" id="8320135">31</span><span class="op" id="8320137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320140">42</span><span class="op" id="8320142">,</span>&nbsp;<span class="num" id="8320144">41</span><span class="op" id="8320146">,</span>&nbsp;<span class="num" id="8320148">40</span><span class="op" id="8320150">,</span>&nbsp;<span class="num" id="8320152">39</span><span class="op" id="8320154">,</span>&nbsp;<span class="num" id="8320156">38</span><span class="op" id="8320158">,</span>&nbsp;<span class="num" id="8320160">37</span><span class="op" id="8320162">,</span>&nbsp;<span class="num" id="8320164">36</span><span class="op" id="8320166">,</span>&nbsp;<span class="num" id="8320168">35</span><span class="op" id="8320170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320173">46</span><span class="op" id="8320175">,</span>&nbsp;<span class="num" id="8320177">45</span><span class="op" id="8320179">,</span>&nbsp;<span class="num" id="8320181">44</span><span class="op" id="8320183">,</span>&nbsp;<span class="num" id="8320185">43</span><span class="op" id="8320187">,</span>&nbsp;<span class="num" id="8320189">50</span><span class="op" id="8320191">,</span>&nbsp;<span class="num" id="8320193">49</span><span class="op" id="8320195">,</span>&nbsp;<span class="num" id="8320197">48</span><span class="op" id="8320199">,</span>&nbsp;<span class="num" id="8320201">47</span><span class="op" id="8320203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320206">58</span><span class="op" id="8320208">,</span>&nbsp;<span class="num" id="8320210">57</span><span class="op" id="8320212">,</span>&nbsp;<span class="num" id="8320214">56</span><span class="op" id="8320216">,</span>&nbsp;<span class="num" id="8320218">55</span><span class="op" id="8320220">,</span>&nbsp;<span class="num" id="8320222">54</span><span class="op" id="8320224">,</span>&nbsp;<span class="num" id="8320226">53</span><span class="op" id="8320228">,</span>&nbsp;<span class="num" id="8320230">52</span><span class="op" id="8320232">,</span>&nbsp;<span class="num" id="8320234">51</span><span class="op" id="8320236">,</span>&nbsp;<span class="num" id="8320238">66</span><span class="op" id="8320240">,</span>&nbsp;<span class="num" id="8320242">65</span><span class="op" id="8320244">,</span>&nbsp;<span class="num" id="8320246">64</span><span class="op" id="8320248">,</span>&nbsp;<span class="num" id="8320250">63</span><span class="op" id="8320252">,</span>&nbsp;<span class="num" id="8320254">62</span><span class="op" id="8320256">,</span>&nbsp;<span class="num" id="8320258">61</span><span class="op" id="8320260">,</span>&nbsp;<span class="num" id="8320262">60</span><span class="op" id="8320264">,</span>&nbsp;<span class="num" id="8320266">59</span><span class="op" id="8320268">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8320272">67</span><span class="op" id="8320274">,</span>&nbsp;<span class="num" id="8320276">68</span><span class="op" id="8320278">,</span>&nbsp;<span class="num" id="8320280">69</span><span class="op" id="8320282">,</span>&nbsp;<span class="num" id="8320284">70</span><span class="op" id="8320286">,</span><br>
<span class="lineno"></span><span class="op" id="8320288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8320291">var</span>&nbsp;<span class="ident" id="8320295">src</span>&nbsp;<span class="op" id="8320299">=</span>&nbsp;<span class="op" id="8320301">[</span><span class="op" id="8320302">]</span><span class="builtintype" id="8320303">byte</span><span class="op" id="8320307">{</span><span class="num" id="8320308">1</span><span class="op" id="8320309">,</span>&nbsp;<span class="num" id="8320311">2</span><span class="op" id="8320312">,</span>&nbsp;<span class="num" id="8320314">3</span><span class="op" id="8320315">,</span>&nbsp;<span class="num" id="8320317">4</span><span class="op" id="8320318">,</span>&nbsp;<span class="num" id="8320320">5</span><span class="op" id="8320321">,</span>&nbsp;<span class="num" id="8320323">6</span><span class="op" id="8320324">,</span>&nbsp;<span class="num" id="8320326">7</span><span class="op" id="8320327">,</span>&nbsp;<span class="num" id="8320329">8</span><span class="op" id="8320330">}</span><br>
<span class="lineno">100</span><span class="keyword" id="8320332">var</span>&nbsp;<span class="ident" id="8320336">res</span>&nbsp;<span class="op" id="8320340">=</span>&nbsp;<span class="op" id="8320342">[</span><span class="op" id="8320343">]</span><span class="builtintype" id="8320344">int32</span><span class="op" id="8320349">{</span><span class="num" id="8320350">0x01020304</span><span class="op" id="8320360">,</span>&nbsp;<span class="num" id="8320362">0x05060708</span><span class="op" id="8320372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8320375">func</span>&nbsp;<span class="ident" id="8320380">checkResult</span><span class="op" id="8320391">(</span><span class="ident" id="8320392">t</span>&nbsp;<span class="op" id="8320394">*</span><span class="ident" id="8320395">testing</span><span class="op" id="8320402">.</span><span class="ident" id="8320403">T</span><span class="op" id="8320404">,</span>&nbsp;<span class="ident" id="8320406">dir</span>&nbsp;<span class="builtintype" id="8320410">string</span><span class="op" id="8320416">,</span>&nbsp;<span class="ident" id="8320418">order</span>&nbsp;<span class="ident" id="8320424">ByteOrder</span><span class="op" id="8320433">,</span>&nbsp;<span class="ident" id="8320435">err</span>&nbsp;<span class="builtintype" id="8320439">error</span><span class="op" id="8320444">,</span>&nbsp;<span class="ident" id="8320446">have</span><span class="op" id="8320450">,</span>&nbsp;<span class="ident" id="8320452">want</span>&nbsp;<span class="keyword" id="8320457">interface</span><span class="op" id="8320466">{</span><span class="op" id="8320467">}</span><span class="op" id="8320468">)</span>&nbsp;<span class="op" id="8320470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320473">if</span>&nbsp;<span class="ident" id="8320476">err</span>&nbsp;<span class="op" id="8320480">!=</span>&nbsp;<span class="ident" id="8320483">nil</span>&nbsp;<span class="op" id="8320487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320491">t</span><span class="op" id="8320492">.</span><span class="ident" id="8320493">Errorf</span><span class="op" id="8320499">(</span><span class="string" id="8320500">&#34;%v&nbsp;%v:&nbsp;%v&#34;</span><span class="op" id="8320511">,</span>&nbsp;<span class="ident" id="8320513">dir</span><span class="op" id="8320516">,</span>&nbsp;<span class="ident" id="8320518">order</span><span class="op" id="8320523">,</span>&nbsp;<span class="ident" id="8320525">err</span><span class="op" id="8320528">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320532">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320543">if</span>&nbsp;<span class="op" id="8320546">!</span><span class="ident" id="8320547">reflect</span><span class="op" id="8320554">.</span><span class="ident" id="8320555">DeepEqual</span><span class="op" id="8320564">(</span><span class="ident" id="8320565">have</span><span class="op" id="8320569">,</span>&nbsp;<span class="ident" id="8320571">want</span><span class="op" id="8320575">)</span>&nbsp;<span class="op" id="8320577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320581">t</span><span class="op" id="8320582">.</span><span class="ident" id="8320583">Errorf</span><span class="op" id="8320589">(</span><span class="string" id="8320590">&#34;%v&nbsp;%v:\n\thave&nbsp;%+v\n\twant&nbsp;%+v&#34;</span><span class="op" id="8320622">,</span>&nbsp;<span class="ident" id="8320624">dir</span><span class="op" id="8320627">,</span>&nbsp;<span class="ident" id="8320629">order</span><span class="op" id="8320634">,</span>&nbsp;<span class="ident" id="8320636">have</span><span class="op" id="8320640">,</span>&nbsp;<span class="ident" id="8320642">want</span><span class="op" id="8320646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8320649">}</span><br>
<span class="lineno">110</span><span class="op" id="8320651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8320654">func</span>&nbsp;<span class="ident" id="8320659">testRead</span><span class="op" id="8320667">(</span><span class="ident" id="8320668">t</span>&nbsp;<span class="op" id="8320670">*</span><span class="ident" id="8320671">testing</span><span class="op" id="8320678">.</span><span class="ident" id="8320679">T</span><span class="op" id="8320680">,</span>&nbsp;<span class="ident" id="8320682">order</span>&nbsp;<span class="ident" id="8320688">ByteOrder</span><span class="op" id="8320697">,</span>&nbsp;<span class="ident" id="8320699">b</span>&nbsp;<span class="op" id="8320701">[</span><span class="op" id="8320702">]</span><span class="builtintype" id="8320703">byte</span><span class="op" id="8320707">,</span>&nbsp;<span class="ident" id="8320709">s1</span>&nbsp;<span class="keyword" id="8320712">interface</span><span class="op" id="8320721">{</span><span class="op" id="8320722">}</span><span class="op" id="8320723">)</span>&nbsp;<span class="op" id="8320725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8320728">var</span>&nbsp;<span class="ident" id="8320732">s2</span>&nbsp;<span class="ident" id="8320735">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320743">err</span>&nbsp;<span class="op" id="8320747">:=</span>&nbsp;<span class="ident" id="8320750">Read</span><span class="op" id="8320754">(</span><span class="ident" id="8320755">bytes</span><span class="op" id="8320760">.</span><span class="ident" id="8320761">NewReader</span><span class="op" id="8320770">(</span><span class="ident" id="8320771">b</span><span class="op" id="8320772">)</span><span class="op" id="8320773">,</span>&nbsp;<span class="ident" id="8320775">order</span><span class="op" id="8320780">,</span>&nbsp;<span class="op" id="8320782">&amp;</span><span class="ident" id="8320783">s2</span><span class="op" id="8320785">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320788">checkResult</span><span class="op" id="8320799">(</span><span class="ident" id="8320800">t</span><span class="op" id="8320801">,</span>&nbsp;<span class="string" id="8320803">&#34;Read&#34;</span><span class="op" id="8320809">,</span>&nbsp;<span class="ident" id="8320811">order</span><span class="op" id="8320816">,</span>&nbsp;<span class="ident" id="8320818">err</span><span class="op" id="8320821">,</span>&nbsp;<span class="ident" id="8320823">s2</span><span class="op" id="8320825">,</span>&nbsp;<span class="ident" id="8320827">s1</span><span class="op" id="8320829">)</span><br>
<span class="lineno"></span><span class="op" id="8320831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8320834">func</span>&nbsp;<span class="ident" id="8320839">testWrite</span><span class="op" id="8320848">(</span><span class="ident" id="8320849">t</span>&nbsp;<span class="op" id="8320851">*</span><span class="ident" id="8320852">testing</span><span class="op" id="8320859">.</span><span class="ident" id="8320860">T</span><span class="op" id="8320861">,</span>&nbsp;<span class="ident" id="8320863">order</span>&nbsp;<span class="ident" id="8320869">ByteOrder</span><span class="op" id="8320878">,</span>&nbsp;<span class="ident" id="8320880">b</span>&nbsp;<span class="op" id="8320882">[</span><span class="op" id="8320883">]</span><span class="builtintype" id="8320884">byte</span><span class="op" id="8320888">,</span>&nbsp;<span class="ident" id="8320890">s1</span>&nbsp;<span class="keyword" id="8320893">interface</span><span class="op" id="8320902">{</span><span class="op" id="8320903">}</span><span class="op" id="8320904">)</span>&nbsp;<span class="op" id="8320906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320909">buf</span>&nbsp;<span class="op" id="8320913">:=</span>&nbsp;<span class="builtinfunc" id="8320916">new</span><span class="op" id="8320919">(</span><span class="ident" id="8320920">bytes</span><span class="op" id="8320925">.</span><span class="ident" id="8320926">Buffer</span><span class="op" id="8320932">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320935">err</span>&nbsp;<span class="op" id="8320939">:=</span>&nbsp;<span class="ident" id="8320942">Write</span><span class="op" id="8320947">(</span><span class="ident" id="8320948">buf</span><span class="op" id="8320951">,</span>&nbsp;<span class="ident" id="8320953">order</span><span class="op" id="8320958">,</span>&nbsp;<span class="ident" id="8320960">s1</span><span class="op" id="8320962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8320965">checkResult</span><span class="op" id="8320976">(</span><span class="ident" id="8320977">t</span><span class="op" id="8320978">,</span>&nbsp;<span class="string" id="8320980">&#34;Write&#34;</span><span class="op" id="8320987">,</span>&nbsp;<span class="ident" id="8320989">order</span><span class="op" id="8320994">,</span>&nbsp;<span class="ident" id="8320996">err</span><span class="op" id="8320999">,</span>&nbsp;<span class="ident" id="8321001">buf</span><span class="op" id="8321004">.</span><span class="ident" id="8321005">Bytes</span><span class="op" id="8321010">(</span><span class="op" id="8321011">)</span><span class="op" id="8321012">,</span>&nbsp;<span class="ident" id="8321014">b</span><span class="op" id="8321015">)</span><br>
<span class="lineno"></span><span class="op" id="8321017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8321020">func</span>&nbsp;<span class="ident" id="8321025">TestLittleEndianRead</span><span class="op" id="8321045">(</span><span class="ident" id="8321046">t</span>&nbsp;<span class="op" id="8321048">*</span><span class="ident" id="8321049">testing</span><span class="op" id="8321056">.</span><span class="ident" id="8321057">T</span><span class="op" id="8321058">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321064">{</span>&nbsp;<span class="ident" id="8321066">testRead</span><span class="op" id="8321074">(</span><span class="ident" id="8321075">t</span><span class="op" id="8321076">,</span>&nbsp;<span class="ident" id="8321078">LittleEndian</span><span class="op" id="8321090">,</span>&nbsp;<span class="ident" id="8321092">little</span><span class="op" id="8321098">,</span>&nbsp;<span class="ident" id="8321100">s</span><span class="op" id="8321101">)</span>&nbsp;<span class="op" id="8321103">}</span><br>
<span class="lineno">125</span><span class="keyword" id="8321105">func</span>&nbsp;<span class="ident" id="8321110">TestLittleEndianWrite</span><span class="op" id="8321131">(</span><span class="ident" id="8321132">t</span>&nbsp;<span class="op" id="8321134">*</span><span class="ident" id="8321135">testing</span><span class="op" id="8321142">.</span><span class="ident" id="8321143">T</span><span class="op" id="8321144">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321149">{</span>&nbsp;<span class="ident" id="8321151">testWrite</span><span class="op" id="8321160">(</span><span class="ident" id="8321161">t</span><span class="op" id="8321162">,</span>&nbsp;<span class="ident" id="8321164">LittleEndian</span><span class="op" id="8321176">,</span>&nbsp;<span class="ident" id="8321178">little</span><span class="op" id="8321184">,</span>&nbsp;<span class="ident" id="8321186">s</span><span class="op" id="8321187">)</span>&nbsp;<span class="op" id="8321189">}</span><br>
<span class="lineno"></span><span class="keyword" id="8321191">func</span>&nbsp;<span class="ident" id="8321196">TestLittleEndianPtrWrite</span><span class="op" id="8321220">(</span><span class="ident" id="8321221">t</span>&nbsp;<span class="op" id="8321223">*</span><span class="ident" id="8321224">testing</span><span class="op" id="8321231">.</span><span class="ident" id="8321232">T</span><span class="op" id="8321233">)</span>&nbsp;<span class="op" id="8321235">{</span>&nbsp;<span class="ident" id="8321237">testWrite</span><span class="op" id="8321246">(</span><span class="ident" id="8321247">t</span><span class="op" id="8321248">,</span>&nbsp;<span class="ident" id="8321250">LittleEndian</span><span class="op" id="8321262">,</span>&nbsp;<span class="ident" id="8321264">little</span><span class="op" id="8321270">,</span>&nbsp;<span class="op" id="8321272">&amp;</span><span class="ident" id="8321273">s</span><span class="op" id="8321274">)</span>&nbsp;<span class="op" id="8321276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8321279">func</span>&nbsp;<span class="ident" id="8321284">TestBigEndianRead</span><span class="op" id="8321301">(</span><span class="ident" id="8321302">t</span>&nbsp;<span class="op" id="8321304">*</span><span class="ident" id="8321305">testing</span><span class="op" id="8321312">.</span><span class="ident" id="8321313">T</span><span class="op" id="8321314">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321320">{</span>&nbsp;<span class="ident" id="8321322">testRead</span><span class="op" id="8321330">(</span><span class="ident" id="8321331">t</span><span class="op" id="8321332">,</span>&nbsp;<span class="ident" id="8321334">BigEndian</span><span class="op" id="8321343">,</span>&nbsp;<span class="ident" id="8321345">big</span><span class="op" id="8321348">,</span>&nbsp;<span class="ident" id="8321350">s</span><span class="op" id="8321351">)</span>&nbsp;<span class="op" id="8321353">}</span><br>
<span class="lineno"></span><span class="keyword" id="8321355">func</span>&nbsp;<span class="ident" id="8321360">TestBigEndianWrite</span><span class="op" id="8321378">(</span><span class="ident" id="8321379">t</span>&nbsp;<span class="op" id="8321381">*</span><span class="ident" id="8321382">testing</span><span class="op" id="8321389">.</span><span class="ident" id="8321390">T</span><span class="op" id="8321391">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8321396">{</span>&nbsp;<span class="ident" id="8321398">testWrite</span><span class="op" id="8321407">(</span><span class="ident" id="8321408">t</span><span class="op" id="8321409">,</span>&nbsp;<span class="ident" id="8321411">BigEndian</span><span class="op" id="8321420">,</span>&nbsp;<span class="ident" id="8321422">big</span><span class="op" id="8321425">,</span>&nbsp;<span class="ident" id="8321427">s</span><span class="op" id="8321428">)</span>&nbsp;<span class="op" id="8321430">}</span><br>
<span class="lineno">130</span><span class="keyword" id="8321432">func</span>&nbsp;<span class="ident" id="8321437">TestBigEndianPtrWrite</span><span class="op" id="8321458">(</span><span class="ident" id="8321459">t</span>&nbsp;<span class="op" id="8321461">*</span><span class="ident" id="8321462">testing</span><span class="op" id="8321469">.</span><span class="ident" id="8321470">T</span><span class="op" id="8321471">)</span>&nbsp;<span class="op" id="8321473">{</span>&nbsp;<span class="ident" id="8321475">testWrite</span><span class="op" id="8321484">(</span><span class="ident" id="8321485">t</span><span class="op" id="8321486">,</span>&nbsp;<span class="ident" id="8321488">BigEndian</span><span class="op" id="8321497">,</span>&nbsp;<span class="ident" id="8321499">big</span><span class="op" id="8321502">,</span>&nbsp;<span class="op" id="8321504">&amp;</span><span class="ident" id="8321505">s</span><span class="op" id="8321506">)</span>&nbsp;<span class="op" id="8321508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8321511">func</span>&nbsp;<span class="ident" id="8321516">TestReadSlice</span><span class="op" id="8321529">(</span><span class="ident" id="8321530">t</span>&nbsp;<span class="op" id="8321532">*</span><span class="ident" id="8321533">testing</span><span class="op" id="8321540">.</span><span class="ident" id="8321541">T</span><span class="op" id="8321542">)</span>&nbsp;<span class="op" id="8321544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321547">slice</span>&nbsp;<span class="op" id="8321553">:=</span>&nbsp;<span class="builtinfunc" id="8321556">make</span><span class="op" id="8321560">(</span><span class="op" id="8321561">[</span><span class="op" id="8321562">]</span><span class="builtintype" id="8321563">int32</span><span class="op" id="8321568">,</span>&nbsp;<span class="num" id="8321570">2</span><span class="op" id="8321571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321574">err</span>&nbsp;<span class="op" id="8321578">:=</span>&nbsp;<span class="ident" id="8321581">Read</span><span class="op" id="8321585">(</span><span class="ident" id="8321586">bytes</span><span class="op" id="8321591">.</span><span class="ident" id="8321592">NewReader</span><span class="op" id="8321601">(</span><span class="ident" id="8321602">src</span><span class="op" id="8321605">)</span><span class="op" id="8321606">,</span>&nbsp;<span class="ident" id="8321608">BigEndian</span><span class="op" id="8321617">,</span>&nbsp;<span class="ident" id="8321619">slice</span><span class="op" id="8321624">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321627">checkResult</span><span class="op" id="8321638">(</span><span class="ident" id="8321639">t</span><span class="op" id="8321640">,</span>&nbsp;<span class="string" id="8321642">&#34;ReadSlice&#34;</span><span class="op" id="8321653">,</span>&nbsp;<span class="ident" id="8321655">BigEndian</span><span class="op" id="8321664">,</span>&nbsp;<span class="ident" id="8321666">err</span><span class="op" id="8321669">,</span>&nbsp;<span class="ident" id="8321671">slice</span><span class="op" id="8321676">,</span>&nbsp;<span class="ident" id="8321678">res</span><span class="op" id="8321681">)</span><br>
<span class="lineno"></span><span class="op" id="8321683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8321686">func</span>&nbsp;<span class="ident" id="8321691">TestWriteSlice</span><span class="op" id="8321705">(</span><span class="ident" id="8321706">t</span>&nbsp;<span class="op" id="8321708">*</span><span class="ident" id="8321709">testing</span><span class="op" id="8321716">.</span><span class="ident" id="8321717">T</span><span class="op" id="8321718">)</span>&nbsp;<span class="op" id="8321720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321723">buf</span>&nbsp;<span class="op" id="8321727">:=</span>&nbsp;<span class="builtinfunc" id="8321730">new</span><span class="op" id="8321733">(</span><span class="ident" id="8321734">bytes</span><span class="op" id="8321739">.</span><span class="ident" id="8321740">Buffer</span><span class="op" id="8321746">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321749">err</span>&nbsp;<span class="op" id="8321753">:=</span>&nbsp;<span class="ident" id="8321756">Write</span><span class="op" id="8321761">(</span><span class="ident" id="8321762">buf</span><span class="op" id="8321765">,</span>&nbsp;<span class="ident" id="8321767">BigEndian</span><span class="op" id="8321776">,</span>&nbsp;<span class="ident" id="8321778">res</span><span class="op" id="8321781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8321784">checkResult</span><span class="op" id="8321795">(</span><span class="ident" id="8321796">t</span><span class="op" id="8321797">,</span>&nbsp;<span class="string" id="8321799">&#34;WriteSlice&#34;</span><span class="op" id="8321811">,</span>&nbsp;<span class="ident" id="8321813">BigEndian</span><span class="op" id="8321822">,</span>&nbsp;<span class="ident" id="8321824">err</span><span class="op" id="8321827">,</span>&nbsp;<span class="ident" id="8321829">buf</span><span class="op" id="8321832">.</span><span class="ident" id="8321833">Bytes</span><span class="op" id="8321838">(</span><span class="op" id="8321839">)</span><span class="op" id="8321840">,</span>&nbsp;<span class="ident" id="8321842">src</span><span class="op" id="8321845">)</span><br>
<span class="lineno"></span><span class="op" id="8321847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8321850">//&nbsp;Addresses&nbsp;of&nbsp;arrays&nbsp;are&nbsp;easier&nbsp;to&nbsp;manipulate&nbsp;with&nbsp;reflection&nbsp;than&nbsp;are&nbsp;slices.</span><br>
<span class="lineno">145</span><span class="keyword" id="8321931">var</span>&nbsp;<span class="ident" id="8321935">intArrays</span>&nbsp;<span class="op" id="8321945">=</span>&nbsp;<span class="op" id="8321947">[</span><span class="op" id="8321948">]</span><span class="keyword" id="8321949">interface</span><span class="op" id="8321958">{</span><span class="op" id="8321959">}</span><span class="op" id="8321960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8321963">&amp;</span><span class="op" id="8321964">[</span><span class="num" id="8321965">100</span><span class="op" id="8321968">]</span><span class="builtintype" id="8321969">int8</span><span class="op" id="8321973">{</span><span class="op" id="8321974">}</span><span class="op" id="8321975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8321978">&amp;</span><span class="op" id="8321979">[</span><span class="num" id="8321980">100</span><span class="op" id="8321983">]</span><span class="builtintype" id="8321984">int16</span><span class="op" id="8321989">{</span><span class="op" id="8321990">}</span><span class="op" id="8321991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8321994">&amp;</span><span class="op" id="8321995">[</span><span class="num" id="8321996">100</span><span class="op" id="8321999">]</span><span class="builtintype" id="8322000">int32</span><span class="op" id="8322005">{</span><span class="op" id="8322006">}</span><span class="op" id="8322007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322010">&amp;</span><span class="op" id="8322011">[</span><span class="num" id="8322012">100</span><span class="op" id="8322015">]</span><span class="ident" id="8322016">int64</span><span class="op" id="8322021">{</span><span class="op" id="8322022">}</span><span class="op" id="8322023">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322026">&amp;</span><span class="op" id="8322027">[</span><span class="num" id="8322028">100</span><span class="op" id="8322031">]</span><span class="builtintype" id="8322032">uint8</span><span class="op" id="8322037">{</span><span class="op" id="8322038">}</span><span class="op" id="8322039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322042">&amp;</span><span class="op" id="8322043">[</span><span class="num" id="8322044">100</span><span class="op" id="8322047">]</span><span class="builtintype" id="8322048">uint16</span><span class="op" id="8322054">{</span><span class="op" id="8322055">}</span><span class="op" id="8322056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322059">&amp;</span><span class="op" id="8322060">[</span><span class="num" id="8322061">100</span><span class="op" id="8322064">]</span><span class="builtintype" id="8322065">uint32</span><span class="op" id="8322071">{</span><span class="op" id="8322072">}</span><span class="op" id="8322073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322076">&amp;</span><span class="op" id="8322077">[</span><span class="num" id="8322078">100</span><span class="op" id="8322081">]</span><span class="ident" id="8322082">uint64</span><span class="op" id="8322088">{</span><span class="op" id="8322089">}</span><span class="op" id="8322090">,</span><br>
<span class="lineno"></span><span class="op" id="8322092">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="8322095">func</span>&nbsp;<span class="ident" id="8322100">TestSliceRoundTrip</span><span class="op" id="8322118">(</span><span class="ident" id="8322119">t</span>&nbsp;<span class="op" id="8322121">*</span><span class="ident" id="8322122">testing</span><span class="op" id="8322129">.</span><span class="ident" id="8322130">T</span><span class="op" id="8322131">)</span>&nbsp;<span class="op" id="8322133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322136">buf</span>&nbsp;<span class="op" id="8322140">:=</span>&nbsp;<span class="builtinfunc" id="8322143">new</span><span class="op" id="8322146">(</span><span class="ident" id="8322147">bytes</span><span class="op" id="8322152">.</span><span class="ident" id="8322153">Buffer</span><span class="op" id="8322159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322162">for</span>&nbsp;<span class="ident" id="8322166">_</span><span class="op" id="8322167">,</span>&nbsp;<span class="ident" id="8322169">array</span>&nbsp;<span class="op" id="8322175">:=</span>&nbsp;<span class="keyword" id="8322178">range</span>&nbsp;<span class="ident" id="8322184">intArrays</span>&nbsp;<span class="op" id="8322194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322198">src</span>&nbsp;<span class="op" id="8322202">:=</span>&nbsp;<span class="ident" id="8322205">reflect</span><span class="op" id="8322212">.</span><span class="ident" id="8322213">ValueOf</span><span class="op" id="8322220">(</span><span class="ident" id="8322221">array</span><span class="op" id="8322226">)</span><span class="op" id="8322227">.</span><span class="ident" id="8322228">Elem</span><span class="op" id="8322232">(</span><span class="op" id="8322233">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322237">unsigned</span>&nbsp;<span class="op" id="8322246">:=</span>&nbsp;<span class="builtintype" id="8322249">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322257">switch</span>&nbsp;<span class="ident" id="8322264">src</span><span class="op" id="8322267">.</span><span class="ident" id="8322268">Index</span><span class="op" id="8322273">(</span><span class="num" id="8322274">0</span><span class="op" id="8322275">)</span><span class="op" id="8322276">.</span><span class="ident" id="8322277">Kind</span><span class="op" id="8322281">(</span><span class="op" id="8322282">)</span>&nbsp;<span class="op" id="8322284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322288">case</span>&nbsp;<span class="ident" id="8322293">reflect</span><span class="op" id="8322300">.</span><span class="ident" id="8322301">Uint8</span><span class="op" id="8322306">,</span>&nbsp;<span class="ident" id="8322308">reflect</span><span class="op" id="8322315">.</span><span class="ident" id="8322316">Uint16</span><span class="op" id="8322322">,</span>&nbsp;<span class="ident" id="8322324">reflect</span><span class="op" id="8322331">.</span><span class="ident" id="8322332">Uint32</span><span class="op" id="8322338">,</span>&nbsp;<span class="ident" id="8322340">reflect</span><span class="op" id="8322347">.</span><span class="ident" id="8322348">Uint64</span><span class="op" id="8322354">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322359">unsigned</span>&nbsp;<span class="op" id="8322368">=</span>&nbsp;<span class="builtintype" id="8322370">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322377">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322381">for</span>&nbsp;<span class="ident" id="8322385">i</span>&nbsp;<span class="op" id="8322387">:=</span>&nbsp;<span class="num" id="8322390">0</span><span class="op" id="8322391">;</span>&nbsp;<span class="ident" id="8322393">i</span>&nbsp;<span class="op" id="8322395">&lt;</span>&nbsp;<span class="ident" id="8322397">src</span><span class="op" id="8322400">.</span><span class="ident" id="8322401">Len</span><span class="op" id="8322404">(</span><span class="op" id="8322405">)</span><span class="op" id="8322406">;</span>&nbsp;<span class="ident" id="8322408">i</span><span class="op" id="8322409">++</span>&nbsp;<span class="op" id="8322412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322417">if</span>&nbsp;<span class="ident" id="8322420">unsigned</span>&nbsp;<span class="op" id="8322429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322435">src</span><span class="op" id="8322438">.</span><span class="ident" id="8322439">Index</span><span class="op" id="8322444">(</span><span class="ident" id="8322445">i</span><span class="op" id="8322446">)</span><span class="op" id="8322447">.</span><span class="ident" id="8322448">SetUint</span><span class="op" id="8322455">(</span><span class="ident" id="8322456">uint64</span><span class="op" id="8322462">(</span><span class="ident" id="8322463">i</span>&nbsp;<span class="op" id="8322465">*</span>&nbsp;<span class="num" id="8322467">0x07654321</span><span class="op" id="8322477">)</span><span class="op" id="8322478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322483">}</span>&nbsp;<span class="keyword" id="8322485">else</span>&nbsp;<span class="op" id="8322490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322496">src</span><span class="op" id="8322499">.</span><span class="ident" id="8322500">Index</span><span class="op" id="8322505">(</span><span class="ident" id="8322506">i</span><span class="op" id="8322507">)</span><span class="op" id="8322508">.</span><span class="ident" id="8322509">SetInt</span><span class="op" id="8322515">(</span><span class="ident" id="8322516">int64</span><span class="op" id="8322521">(</span><span class="ident" id="8322522">i</span>&nbsp;<span class="op" id="8322524">*</span>&nbsp;<span class="num" id="8322526">0x07654321</span><span class="op" id="8322536">)</span><span class="op" id="8322537">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322550">buf</span><span class="op" id="8322553">.</span><span class="ident" id="8322554">Reset</span><span class="op" id="8322559">(</span><span class="op" id="8322560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322564">srcSlice</span>&nbsp;<span class="op" id="8322573">:=</span>&nbsp;<span class="ident" id="8322576">src</span><span class="op" id="8322579">.</span><span class="ident" id="8322580">Slice</span><span class="op" id="8322585">(</span><span class="num" id="8322586">0</span><span class="op" id="8322587">,</span>&nbsp;<span class="ident" id="8322589">src</span><span class="op" id="8322592">.</span><span class="ident" id="8322593">Len</span><span class="op" id="8322596">(</span><span class="op" id="8322597">)</span><span class="op" id="8322598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322602">err</span>&nbsp;<span class="op" id="8322606">:=</span>&nbsp;<span class="ident" id="8322609">Write</span><span class="op" id="8322614">(</span><span class="ident" id="8322615">buf</span><span class="op" id="8322618">,</span>&nbsp;<span class="ident" id="8322620">BigEndian</span><span class="op" id="8322629">,</span>&nbsp;<span class="ident" id="8322631">srcSlice</span><span class="op" id="8322639">.</span><span class="ident" id="8322640">Interface</span><span class="op" id="8322649">(</span><span class="op" id="8322650">)</span><span class="op" id="8322651">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322655">if</span>&nbsp;<span class="ident" id="8322658">err</span>&nbsp;<span class="op" id="8322662">!=</span>&nbsp;<span class="ident" id="8322665">nil</span>&nbsp;<span class="op" id="8322669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322674">t</span><span class="op" id="8322675">.</span><span class="ident" id="8322676">Fatal</span><span class="op" id="8322681">(</span><span class="ident" id="8322682">err</span><span class="op" id="8322685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322693">dst</span>&nbsp;<span class="op" id="8322697">:=</span>&nbsp;<span class="ident" id="8322700">reflect</span><span class="op" id="8322707">.</span><span class="ident" id="8322708">New</span><span class="op" id="8322711">(</span><span class="ident" id="8322712">src</span><span class="op" id="8322715">.</span><span class="ident" id="8322716">Type</span><span class="op" id="8322720">(</span><span class="op" id="8322721">)</span><span class="op" id="8322722">)</span><span class="op" id="8322723">.</span><span class="ident" id="8322724">Elem</span><span class="op" id="8322728">(</span><span class="op" id="8322729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322733">dstSlice</span>&nbsp;<span class="op" id="8322742">:=</span>&nbsp;<span class="ident" id="8322745">dst</span><span class="op" id="8322748">.</span><span class="ident" id="8322749">Slice</span><span class="op" id="8322754">(</span><span class="num" id="8322755">0</span><span class="op" id="8322756">,</span>&nbsp;<span class="ident" id="8322758">dst</span><span class="op" id="8322761">.</span><span class="ident" id="8322762">Len</span><span class="op" id="8322765">(</span><span class="op" id="8322766">)</span><span class="op" id="8322767">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322771">err</span>&nbsp;<span class="op" id="8322775">=</span>&nbsp;<span class="ident" id="8322777">Read</span><span class="op" id="8322781">(</span><span class="ident" id="8322782">buf</span><span class="op" id="8322785">,</span>&nbsp;<span class="ident" id="8322787">BigEndian</span><span class="op" id="8322796">,</span>&nbsp;<span class="ident" id="8322798">dstSlice</span><span class="op" id="8322806">.</span><span class="ident" id="8322807">Interface</span><span class="op" id="8322816">(</span><span class="op" id="8322817">)</span><span class="op" id="8322818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322822">if</span>&nbsp;<span class="ident" id="8322825">err</span>&nbsp;<span class="op" id="8322829">!=</span>&nbsp;<span class="ident" id="8322832">nil</span>&nbsp;<span class="op" id="8322836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322841">t</span><span class="op" id="8322842">.</span><span class="ident" id="8322843">Fatal</span><span class="op" id="8322848">(</span><span class="ident" id="8322849">err</span><span class="op" id="8322852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8322860">if</span>&nbsp;<span class="op" id="8322863">!</span><span class="ident" id="8322864">reflect</span><span class="op" id="8322871">.</span><span class="ident" id="8322872">DeepEqual</span><span class="op" id="8322881">(</span><span class="ident" id="8322882">src</span><span class="op" id="8322885">.</span><span class="ident" id="8322886">Interface</span><span class="op" id="8322895">(</span><span class="op" id="8322896">)</span><span class="op" id="8322897">,</span>&nbsp;<span class="ident" id="8322899">dst</span><span class="op" id="8322902">.</span><span class="ident" id="8322903">Interface</span><span class="op" id="8322912">(</span><span class="op" id="8322913">)</span><span class="op" id="8322914">)</span>&nbsp;<span class="op" id="8322916">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322921">t</span><span class="op" id="8322922">.</span><span class="ident" id="8322923">Fatal</span><span class="op" id="8322928">(</span><span class="ident" id="8322929">src</span><span class="op" id="8322932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8322939">}</span><br>
<span class="lineno"></span><span class="op" id="8322941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="8322944">func</span>&nbsp;<span class="ident" id="8322949">TestWriteT</span><span class="op" id="8322959">(</span><span class="ident" id="8322960">t</span>&nbsp;<span class="op" id="8322962">*</span><span class="ident" id="8322963">testing</span><span class="op" id="8322970">.</span><span class="ident" id="8322971">T</span><span class="op" id="8322972">)</span>&nbsp;<span class="op" id="8322974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8322977">buf</span>&nbsp;<span class="op" id="8322981">:=</span>&nbsp;<span class="builtinfunc" id="8322984">new</span><span class="op" id="8322987">(</span><span class="ident" id="8322988">bytes</span><span class="op" id="8322993">.</span><span class="ident" id="8322994">Buffer</span><span class="op" id="8323000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323003">ts</span>&nbsp;<span class="op" id="8323006">:=</span>&nbsp;<span class="ident" id="8323009">T</span><span class="op" id="8323010">{</span><span class="op" id="8323011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323014">if</span>&nbsp;<span class="ident" id="8323017">err</span>&nbsp;<span class="op" id="8323021">:=</span>&nbsp;<span class="ident" id="8323024">Write</span><span class="op" id="8323029">(</span><span class="ident" id="8323030">buf</span><span class="op" id="8323033">,</span>&nbsp;<span class="ident" id="8323035">BigEndian</span><span class="op" id="8323044">,</span>&nbsp;<span class="ident" id="8323046">ts</span><span class="op" id="8323048">)</span><span class="op" id="8323049">;</span>&nbsp;<span class="ident" id="8323051">err</span>&nbsp;<span class="op" id="8323055">==</span>&nbsp;<span class="ident" id="8323058">nil</span>&nbsp;<span class="op" id="8323062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323066">t</span><span class="op" id="8323067">.</span><span class="ident" id="8323068">Errorf</span><span class="op" id="8323074">(</span><span class="string" id="8323075">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="8323114">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323121">tv</span>&nbsp;<span class="op" id="8323124">:=</span>&nbsp;<span class="ident" id="8323127">reflect</span><span class="op" id="8323134">.</span><span class="ident" id="8323135">Indirect</span><span class="op" id="8323143">(</span><span class="ident" id="8323144">reflect</span><span class="op" id="8323151">.</span><span class="ident" id="8323152">ValueOf</span><span class="op" id="8323159">(</span><span class="ident" id="8323160">ts</span><span class="op" id="8323162">)</span><span class="op" id="8323163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323166">for</span>&nbsp;<span class="ident" id="8323170">i</span><span class="op" id="8323171">,</span>&nbsp;<span class="ident" id="8323173">n</span>&nbsp;<span class="op" id="8323175">:=</span>&nbsp;<span class="num" id="8323178">0</span><span class="op" id="8323179">,</span>&nbsp;<span class="ident" id="8323181">tv</span><span class="op" id="8323183">.</span><span class="ident" id="8323184">NumField</span><span class="op" id="8323192">(</span><span class="op" id="8323193">)</span><span class="op" id="8323194">;</span>&nbsp;<span class="ident" id="8323196">i</span>&nbsp;<span class="op" id="8323198">&lt;</span>&nbsp;<span class="ident" id="8323200">n</span><span class="op" id="8323201">;</span>&nbsp;<span class="ident" id="8323203">i</span><span class="op" id="8323204">++</span>&nbsp;<span class="op" id="8323207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323211">typ</span>&nbsp;<span class="op" id="8323215">:=</span>&nbsp;<span class="ident" id="8323218">tv</span><span class="op" id="8323220">.</span><span class="ident" id="8323221">Field</span><span class="op" id="8323226">(</span><span class="ident" id="8323227">i</span><span class="op" id="8323228">)</span><span class="op" id="8323229">.</span><span class="ident" id="8323230">Type</span><span class="op" id="8323234">(</span><span class="op" id="8323235">)</span><span class="op" id="8323236">.</span><span class="ident" id="8323237">String</span><span class="op" id="8323243">(</span><span class="op" id="8323244">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323248">if</span>&nbsp;<span class="ident" id="8323251">typ</span>&nbsp;<span class="op" id="8323255">==</span>&nbsp;<span class="string" id="8323258">&#34;[4]int&#34;</span>&nbsp;<span class="op" id="8323267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323272">typ</span>&nbsp;<span class="op" id="8323276">=</span>&nbsp;<span class="string" id="8323278">&#34;int&#34;</span>&nbsp;<span class="comment" id="8323284">//&nbsp;the&nbsp;problem&nbsp;is&nbsp;int,&nbsp;not&nbsp;the&nbsp;[4]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323325">if</span>&nbsp;<span class="ident" id="8323328">err</span>&nbsp;<span class="op" id="8323332">:=</span>&nbsp;<span class="ident" id="8323335">Write</span><span class="op" id="8323340">(</span><span class="ident" id="8323341">buf</span><span class="op" id="8323344">,</span>&nbsp;<span class="ident" id="8323346">BigEndian</span><span class="op" id="8323355">,</span>&nbsp;<span class="ident" id="8323357">tv</span><span class="op" id="8323359">.</span><span class="ident" id="8323360">Field</span><span class="op" id="8323365">(</span><span class="ident" id="8323366">i</span><span class="op" id="8323367">)</span><span class="op" id="8323368">.</span><span class="ident" id="8323369">Interface</span><span class="op" id="8323378">(</span><span class="op" id="8323379">)</span><span class="op" id="8323380">)</span><span class="op" id="8323381">;</span>&nbsp;<span class="ident" id="8323383">err</span>&nbsp;<span class="op" id="8323387">==</span>&nbsp;<span class="ident" id="8323390">nil</span>&nbsp;<span class="op" id="8323394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323399">t</span><span class="op" id="8323400">.</span><span class="ident" id="8323401">Errorf</span><span class="op" id="8323407">(</span><span class="string" id="8323408">&#34;WriteT.%v:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="8323450">,</span>&nbsp;<span class="ident" id="8323452">tv</span><span class="op" id="8323454">.</span><span class="ident" id="8323455">Field</span><span class="op" id="8323460">(</span><span class="ident" id="8323461">i</span><span class="op" id="8323462">)</span><span class="op" id="8323463">.</span><span class="ident" id="8323464">Type</span><span class="op" id="8323468">(</span><span class="op" id="8323469">)</span><span class="op" id="8323470">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323474">}</span>&nbsp;<span class="keyword" id="8323476">else</span>&nbsp;<span class="keyword" id="8323481">if</span>&nbsp;<span class="op" id="8323484">!</span><span class="ident" id="8323485">strings</span><span class="op" id="8323492">.</span><span class="ident" id="8323493">Contains</span><span class="op" id="8323501">(</span><span class="ident" id="8323502">err</span><span class="op" id="8323505">.</span><span class="ident" id="8323506">Error</span><span class="op" id="8323511">(</span><span class="op" id="8323512">)</span><span class="op" id="8323513">,</span>&nbsp;<span class="ident" id="8323515">typ</span><span class="op" id="8323518">)</span>&nbsp;<span class="op" id="8323520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323525">t</span><span class="op" id="8323526">.</span><span class="ident" id="8323527">Errorf</span><span class="op" id="8323533">(</span><span class="string" id="8323534">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;%q,&nbsp;want&nbsp;it&nbsp;to&nbsp;mention&nbsp;%s&#34;</span><span class="op" id="8323581">,</span>&nbsp;<span class="ident" id="8323583">err</span><span class="op" id="8323586">,</span>&nbsp;<span class="ident" id="8323588">typ</span><span class="op" id="8323591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323598">}</span><br>
<span class="lineno"></span><span class="op" id="8323600">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="8323603">type</span>&nbsp;<span class="ident" id="8323608">BlankFields</span>&nbsp;<span class="keyword" id="8323620">struct</span>&nbsp;<span class="op" id="8323627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323630">A</span>&nbsp;<span class="builtintype" id="8323632">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323640">_</span>&nbsp;<span class="builtintype" id="8323642">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323649">B</span>&nbsp;<span class="builtintype" id="8323651">float64</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323660">_</span>&nbsp;<span class="op" id="8323662">[</span><span class="num" id="8323663">4</span><span class="op" id="8323664">]</span><span class="builtintype" id="8323665">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323672">C</span>&nbsp;<span class="builtintype" id="8323674">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323680">_</span>&nbsp;<span class="op" id="8323682">[</span><span class="num" id="8323683">7</span><span class="op" id="8323684">]</span><span class="builtintype" id="8323685">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323691">_</span>&nbsp;<span class="keyword" id="8323693">struct</span>&nbsp;<span class="op" id="8323700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323704">f</span>&nbsp;<span class="op" id="8323706">[</span><span class="num" id="8323707">8</span><span class="op" id="8323708">]</span><span class="builtintype" id="8323709">float32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323718">}</span><br>
<span class="lineno"></span><span class="op" id="8323720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8323723">type</span>&nbsp;<span class="ident" id="8323728">BlankFieldsProbe</span>&nbsp;<span class="keyword" id="8323745">struct</span>&nbsp;<span class="op" id="8323752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323755">A</span>&nbsp;&nbsp;<span class="builtintype" id="8323758">uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323766">P0</span>&nbsp;<span class="builtintype" id="8323769">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323776">B</span>&nbsp;&nbsp;<span class="builtintype" id="8323779">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323788">P1</span>&nbsp;<span class="op" id="8323791">[</span><span class="num" id="8323792">4</span><span class="op" id="8323793">]</span><span class="builtintype" id="8323794">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323801">C</span>&nbsp;&nbsp;<span class="builtintype" id="8323804">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323810">P2</span>&nbsp;<span class="op" id="8323813">[</span><span class="num" id="8323814">7</span><span class="op" id="8323815">]</span><span class="builtintype" id="8323816">byte</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323822">P3</span>&nbsp;<span class="keyword" id="8323825">struct</span>&nbsp;<span class="op" id="8323832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323836">F</span>&nbsp;<span class="op" id="8323838">[</span><span class="num" id="8323839">8</span><span class="op" id="8323840">]</span><span class="builtintype" id="8323841">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8323850">}</span><br>
<span class="lineno"></span><span class="op" id="8323852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="8323855">func</span>&nbsp;<span class="ident" id="8323860">TestBlankFields</span><span class="op" id="8323875">(</span><span class="ident" id="8323876">t</span>&nbsp;<span class="op" id="8323878">*</span><span class="ident" id="8323879">testing</span><span class="op" id="8323886">.</span><span class="ident" id="8323887">T</span><span class="op" id="8323888">)</span>&nbsp;<span class="op" id="8323890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323893">buf</span>&nbsp;<span class="op" id="8323897">:=</span>&nbsp;<span class="builtinfunc" id="8323900">new</span><span class="op" id="8323903">(</span><span class="ident" id="8323904">bytes</span><span class="op" id="8323909">.</span><span class="ident" id="8323910">Buffer</span><span class="op" id="8323916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8323919">b1</span>&nbsp;<span class="op" id="8323922">:=</span>&nbsp;<span class="ident" id="8323925">BlankFields</span><span class="op" id="8323936">{</span><span class="ident" id="8323937">A</span><span class="op" id="8323938">:</span>&nbsp;<span class="num" id="8323940">1234567890</span><span class="op" id="8323950">,</span>&nbsp;<span class="ident" id="8323952">B</span><span class="op" id="8323953">:</span>&nbsp;<span class="num" id="8323955">2.718281828</span><span class="op" id="8323966">,</span>&nbsp;<span class="ident" id="8323968">C</span><span class="op" id="8323969">:</span>&nbsp;<span class="num" id="8323971">42</span><span class="op" id="8323973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8323976">if</span>&nbsp;<span class="ident" id="8323979">err</span>&nbsp;<span class="op" id="8323983">:=</span>&nbsp;<span class="ident" id="8323986">Write</span><span class="op" id="8323991">(</span><span class="ident" id="8323992">buf</span><span class="op" id="8323995">,</span>&nbsp;<span class="ident" id="8323997">LittleEndian</span><span class="op" id="8324009">,</span>&nbsp;<span class="op" id="8324011">&amp;</span><span class="ident" id="8324012">b1</span><span class="op" id="8324014">)</span><span class="op" id="8324015">;</span>&nbsp;<span class="ident" id="8324017">err</span>&nbsp;<span class="op" id="8324021">!=</span>&nbsp;<span class="ident" id="8324024">nil</span>&nbsp;<span class="op" id="8324028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324032">t</span><span class="op" id="8324033">.</span><span class="ident" id="8324034">Error</span><span class="op" id="8324039">(</span><span class="ident" id="8324040">err</span><span class="op" id="8324043">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8324046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8324050">//&nbsp;zero&nbsp;values&nbsp;must&nbsp;have&nbsp;been&nbsp;written&nbsp;for&nbsp;blank&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324106">var</span>&nbsp;<span class="ident" id="8324110">p</span>&nbsp;<span class="ident" id="8324112">BlankFieldsProbe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324130">if</span>&nbsp;<span class="ident" id="8324133">err</span>&nbsp;<span class="op" id="8324137">:=</span>&nbsp;<span class="ident" id="8324140">Read</span><span class="op" id="8324144">(</span><span class="ident" id="8324145">buf</span><span class="op" id="8324148">,</span>&nbsp;<span class="ident" id="8324150">LittleEndian</span><span class="op" id="8324162">,</span>&nbsp;<span class="op" id="8324164">&amp;</span><span class="ident" id="8324165">p</span><span class="op" id="8324166">)</span><span class="op" id="8324167">;</span>&nbsp;<span class="ident" id="8324169">err</span>&nbsp;<span class="op" id="8324173">!=</span>&nbsp;<span class="ident" id="8324176">nil</span>&nbsp;<span class="op" id="8324180">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324184">t</span><span class="op" id="8324185">.</span><span class="ident" id="8324186">Error</span><span class="op" id="8324191">(</span><span class="ident" id="8324192">err</span><span class="op" id="8324195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8324198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8324202">//&nbsp;quick&nbsp;test:&nbsp;only&nbsp;check&nbsp;first&nbsp;value&nbsp;of&nbsp;slices</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324251">if</span>&nbsp;<span class="ident" id="8324254">p</span><span class="op" id="8324255">.</span><span class="ident" id="8324256">P0</span>&nbsp;<span class="op" id="8324259">!=</span>&nbsp;<span class="num" id="8324262">0</span>&nbsp;<span class="op" id="8324264">||</span>&nbsp;<span class="ident" id="8324267">p</span><span class="op" id="8324268">.</span><span class="ident" id="8324269">P1</span><span class="op" id="8324271">[</span><span class="num" id="8324272">0</span><span class="op" id="8324273">]</span>&nbsp;<span class="op" id="8324275">!=</span>&nbsp;<span class="num" id="8324278">0</span>&nbsp;<span class="op" id="8324280">||</span>&nbsp;<span class="ident" id="8324283">p</span><span class="op" id="8324284">.</span><span class="ident" id="8324285">P2</span><span class="op" id="8324287">[</span><span class="num" id="8324288">0</span><span class="op" id="8324289">]</span>&nbsp;<span class="op" id="8324291">!=</span>&nbsp;<span class="num" id="8324294">0</span>&nbsp;<span class="op" id="8324296">||</span>&nbsp;<span class="ident" id="8324299">p</span><span class="op" id="8324300">.</span><span class="ident" id="8324301">P3</span><span class="op" id="8324303">.</span><span class="ident" id="8324304">F</span><span class="op" id="8324305">[</span><span class="num" id="8324306">0</span><span class="op" id="8324307">]</span>&nbsp;<span class="op" id="8324309">!=</span>&nbsp;<span class="num" id="8324312">0</span>&nbsp;<span class="op" id="8324314">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324318">t</span><span class="op" id="8324319">.</span><span class="ident" id="8324320">Errorf</span><span class="op" id="8324326">(</span><span class="string" id="8324327">&#34;non-zero&nbsp;values&nbsp;for&nbsp;originally&nbsp;blank&nbsp;fields:&nbsp;%#v&#34;</span><span class="op" id="8324377">,</span>&nbsp;<span class="ident" id="8324379">p</span><span class="op" id="8324380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8324383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8324387">//&nbsp;write&nbsp;p&nbsp;and&nbsp;see&nbsp;if&nbsp;we&nbsp;can&nbsp;probe&nbsp;only&nbsp;some&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324440">if</span>&nbsp;<span class="ident" id="8324443">err</span>&nbsp;<span class="op" id="8324447">:=</span>&nbsp;<span class="ident" id="8324450">Write</span><span class="op" id="8324455">(</span><span class="ident" id="8324456">buf</span><span class="op" id="8324459">,</span>&nbsp;<span class="ident" id="8324461">LittleEndian</span><span class="op" id="8324473">,</span>&nbsp;<span class="op" id="8324475">&amp;</span><span class="ident" id="8324476">p</span><span class="op" id="8324477">)</span><span class="op" id="8324478">;</span>&nbsp;<span class="ident" id="8324480">err</span>&nbsp;<span class="op" id="8324484">!=</span>&nbsp;<span class="ident" id="8324487">nil</span>&nbsp;<span class="op" id="8324491">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324495">t</span><span class="op" id="8324496">.</span><span class="ident" id="8324497">Error</span><span class="op" id="8324502">(</span><span class="ident" id="8324503">err</span><span class="op" id="8324506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8324509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8324513">//&nbsp;read&nbsp;should&nbsp;ignore&nbsp;blank&nbsp;fields&nbsp;in&nbsp;b2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324555">var</span>&nbsp;<span class="ident" id="8324559">b2</span>&nbsp;<span class="ident" id="8324562">BlankFields</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324575">if</span>&nbsp;<span class="ident" id="8324578">err</span>&nbsp;<span class="op" id="8324582">:=</span>&nbsp;<span class="ident" id="8324585">Read</span><span class="op" id="8324589">(</span><span class="ident" id="8324590">buf</span><span class="op" id="8324593">,</span>&nbsp;<span class="ident" id="8324595">LittleEndian</span><span class="op" id="8324607">,</span>&nbsp;<span class="op" id="8324609">&amp;</span><span class="ident" id="8324610">b2</span><span class="op" id="8324612">)</span><span class="op" id="8324613">;</span>&nbsp;<span class="ident" id="8324615">err</span>&nbsp;<span class="op" id="8324619">!=</span>&nbsp;<span class="ident" id="8324622">nil</span>&nbsp;<span class="op" id="8324626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324630">t</span><span class="op" id="8324631">.</span><span class="ident" id="8324632">Error</span><span class="op" id="8324637">(</span><span class="ident" id="8324638">err</span><span class="op" id="8324641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8324644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324647">if</span>&nbsp;<span class="ident" id="8324650">b1</span><span class="op" id="8324652">.</span><span class="ident" id="8324653">A</span>&nbsp;<span class="op" id="8324655">!=</span>&nbsp;<span class="ident" id="8324658">b2</span><span class="op" id="8324660">.</span><span class="ident" id="8324661">A</span>&nbsp;<span class="op" id="8324663">||</span>&nbsp;<span class="ident" id="8324666">b1</span><span class="op" id="8324668">.</span><span class="ident" id="8324669">B</span>&nbsp;<span class="op" id="8324671">!=</span>&nbsp;<span class="ident" id="8324674">b2</span><span class="op" id="8324676">.</span><span class="ident" id="8324677">B</span>&nbsp;<span class="op" id="8324679">||</span>&nbsp;<span class="ident" id="8324682">b1</span><span class="op" id="8324684">.</span><span class="ident" id="8324685">C</span>&nbsp;<span class="op" id="8324687">!=</span>&nbsp;<span class="ident" id="8324690">b2</span><span class="op" id="8324692">.</span><span class="ident" id="8324693">C</span>&nbsp;<span class="op" id="8324695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324699">t</span><span class="op" id="8324700">.</span><span class="ident" id="8324701">Errorf</span><span class="op" id="8324707">(</span><span class="string" id="8324708">&#34;%#v&nbsp;!=&nbsp;%#v&#34;</span><span class="op" id="8324720">,</span>&nbsp;<span class="ident" id="8324722">b1</span><span class="op" id="8324724">,</span>&nbsp;<span class="ident" id="8324726">b2</span><span class="op" id="8324728">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8324731">}</span><br>
<span class="lineno"></span><span class="op" id="8324733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8324736">//&nbsp;An&nbsp;attempt&nbsp;to&nbsp;read&nbsp;into&nbsp;a&nbsp;struct&nbsp;with&nbsp;an&nbsp;unexported&nbsp;field&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="8324802">//&nbsp;panic.&nbsp;&nbsp;This&nbsp;is&nbsp;probably&nbsp;not&nbsp;the&nbsp;best&nbsp;choice,&nbsp;but&nbsp;at&nbsp;this&nbsp;point</span><br>
<span class="lineno">270</span><span class="comment" id="8324869">//&nbsp;anything&nbsp;else&nbsp;would&nbsp;be&nbsp;an&nbsp;API&nbsp;change.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8324911">type</span>&nbsp;<span class="ident" id="8324916">Unexported</span>&nbsp;<span class="keyword" id="8324927">struct</span>&nbsp;<span class="op" id="8324934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8324937">a</span>&nbsp;<span class="builtintype" id="8324939">int32</span><br>
<span class="lineno"></span><span class="op" id="8324945">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="8324948">func</span>&nbsp;<span class="ident" id="8324953">TestUnexportedRead</span><span class="op" id="8324971">(</span><span class="ident" id="8324972">t</span>&nbsp;<span class="op" id="8324974">*</span><span class="ident" id="8324975">testing</span><span class="op" id="8324982">.</span><span class="ident" id="8324983">T</span><span class="op" id="8324984">)</span>&nbsp;<span class="op" id="8324986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8324989">var</span>&nbsp;<span class="ident" id="8324993">buf</span>&nbsp;<span class="ident" id="8324997">bytes</span><span class="op" id="8325002">.</span><span class="ident" id="8325003">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325011">u1</span>&nbsp;<span class="op" id="8325014">:=</span>&nbsp;<span class="ident" id="8325017">Unexported</span><span class="op" id="8325027">{</span><span class="ident" id="8325028">a</span><span class="op" id="8325029">:</span>&nbsp;<span class="num" id="8325031">1</span><span class="op" id="8325032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325035">if</span>&nbsp;<span class="ident" id="8325038">err</span>&nbsp;<span class="op" id="8325042">:=</span>&nbsp;<span class="ident" id="8325045">Write</span><span class="op" id="8325050">(</span><span class="op" id="8325051">&amp;</span><span class="ident" id="8325052">buf</span><span class="op" id="8325055">,</span>&nbsp;<span class="ident" id="8325057">LittleEndian</span><span class="op" id="8325069">,</span>&nbsp;<span class="op" id="8325071">&amp;</span><span class="ident" id="8325072">u1</span><span class="op" id="8325074">)</span><span class="op" id="8325075">;</span>&nbsp;<span class="ident" id="8325077">err</span>&nbsp;<span class="op" id="8325081">!=</span>&nbsp;<span class="ident" id="8325084">nil</span>&nbsp;<span class="op" id="8325088">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325092">t</span><span class="op" id="8325093">.</span><span class="ident" id="8325094">Fatal</span><span class="op" id="8325099">(</span><span class="ident" id="8325100">err</span><span class="op" id="8325103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325110">defer</span>&nbsp;<span class="keyword" id="8325116">func</span><span class="op" id="8325120">(</span><span class="op" id="8325121">)</span>&nbsp;<span class="op" id="8325123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325127">if</span>&nbsp;<span class="builtinfunc" id="8325130">recover</span><span class="op" id="8325137">(</span><span class="op" id="8325138">)</span>&nbsp;<span class="op" id="8325140">==</span>&nbsp;<span class="ident" id="8325143">nil</span>&nbsp;<span class="op" id="8325147">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325152">t</span><span class="op" id="8325153">.</span><span class="ident" id="8325154">Fatal</span><span class="op" id="8325159">(</span><span class="string" id="8325160">&#34;did&nbsp;not&nbsp;panic&#34;</span><span class="op" id="8325175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325182">}</span><span class="op" id="8325183">(</span><span class="op" id="8325184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325187">var</span>&nbsp;<span class="ident" id="8325191">u2</span>&nbsp;<span class="ident" id="8325194">Unexported</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325206">Read</span><span class="op" id="8325210">(</span><span class="op" id="8325211">&amp;</span><span class="ident" id="8325212">buf</span><span class="op" id="8325215">,</span>&nbsp;<span class="ident" id="8325217">LittleEndian</span><span class="op" id="8325229">,</span>&nbsp;<span class="op" id="8325231">&amp;</span><span class="ident" id="8325232">u2</span><span class="op" id="8325234">)</span><br>
<span class="lineno">290</span><span class="op" id="8325236">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325239">func</span>&nbsp;<span class="ident" id="8325244">TestReadErrorMsg</span><span class="op" id="8325260">(</span><span class="ident" id="8325261">t</span>&nbsp;<span class="op" id="8325263">*</span><span class="ident" id="8325264">testing</span><span class="op" id="8325271">.</span><span class="ident" id="8325272">T</span><span class="op" id="8325273">)</span>&nbsp;<span class="op" id="8325275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325278">var</span>&nbsp;<span class="ident" id="8325282">buf</span>&nbsp;<span class="ident" id="8325286">bytes</span><span class="op" id="8325291">.</span><span class="ident" id="8325292">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325300">read</span>&nbsp;<span class="op" id="8325305">:=</span>&nbsp;<span class="keyword" id="8325308">func</span><span class="op" id="8325312">(</span><span class="ident" id="8325313">data</span>&nbsp;<span class="keyword" id="8325318">interface</span><span class="op" id="8325327">{</span><span class="op" id="8325328">}</span><span class="op" id="8325329">)</span>&nbsp;<span class="op" id="8325331">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325335">err</span>&nbsp;<span class="op" id="8325339">:=</span>&nbsp;<span class="ident" id="8325342">Read</span><span class="op" id="8325346">(</span><span class="op" id="8325347">&amp;</span><span class="ident" id="8325348">buf</span><span class="op" id="8325351">,</span>&nbsp;<span class="ident" id="8325353">LittleEndian</span><span class="op" id="8325365">,</span>&nbsp;<span class="ident" id="8325367">data</span><span class="op" id="8325371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325375">want</span>&nbsp;<span class="op" id="8325380">:=</span>&nbsp;<span class="string" id="8325383">&#34;binary.Read:&nbsp;invalid&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="8325412">+</span>&nbsp;<span class="ident" id="8325414">reflect</span><span class="op" id="8325421">.</span><span class="ident" id="8325422">TypeOf</span><span class="op" id="8325428">(</span><span class="ident" id="8325429">data</span><span class="op" id="8325433">)</span><span class="op" id="8325434">.</span><span class="ident" id="8325435">String</span><span class="op" id="8325441">(</span><span class="op" id="8325442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325446">if</span>&nbsp;<span class="ident" id="8325449">err</span>&nbsp;<span class="op" id="8325453">==</span>&nbsp;<span class="ident" id="8325456">nil</span>&nbsp;<span class="op" id="8325460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325465">t</span><span class="op" id="8325466">.</span><span class="ident" id="8325467">Errorf</span><span class="op" id="8325473">(</span><span class="string" id="8325474">&#34;%T:&nbsp;got&nbsp;no&nbsp;error;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8325501">,</span>&nbsp;<span class="ident" id="8325503">data</span><span class="op" id="8325507">,</span>&nbsp;<span class="ident" id="8325509">want</span><span class="op" id="8325513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325518">return</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325531">if</span>&nbsp;<span class="ident" id="8325534">got</span>&nbsp;<span class="op" id="8325538">:=</span>&nbsp;<span class="ident" id="8325541">err</span><span class="op" id="8325544">.</span><span class="ident" id="8325545">Error</span><span class="op" id="8325550">(</span><span class="op" id="8325551">)</span><span class="op" id="8325552">;</span>&nbsp;<span class="ident" id="8325554">got</span>&nbsp;<span class="op" id="8325558">!=</span>&nbsp;<span class="ident" id="8325561">want</span>&nbsp;<span class="op" id="8325566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325571">t</span><span class="op" id="8325572">.</span><span class="ident" id="8325573">Errorf</span><span class="op" id="8325579">(</span><span class="string" id="8325580">&#34;%T:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8325601">,</span>&nbsp;<span class="ident" id="8325603">data</span><span class="op" id="8325607">,</span>&nbsp;<span class="ident" id="8325609">got</span><span class="op" id="8325612">,</span>&nbsp;<span class="ident" id="8325614">want</span><span class="op" id="8325618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8325625">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325628">read</span><span class="op" id="8325632">(</span><span class="num" id="8325633">0</span><span class="op" id="8325634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325637">s</span>&nbsp;<span class="op" id="8325639">:=</span>&nbsp;<span class="builtinfunc" id="8325642">new</span><span class="op" id="8325645">(</span><span class="keyword" id="8325646">struct</span><span class="op" id="8325652">{</span><span class="op" id="8325653">}</span><span class="op" id="8325654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325657">read</span><span class="op" id="8325661">(</span><span class="op" id="8325662">&amp;</span><span class="ident" id="8325663">s</span><span class="op" id="8325664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325667">p</span>&nbsp;<span class="op" id="8325669">:=</span>&nbsp;<span class="op" id="8325672">&amp;</span><span class="ident" id="8325673">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325676">read</span><span class="op" id="8325680">(</span><span class="op" id="8325681">&amp;</span><span class="ident" id="8325682">p</span><span class="op" id="8325683">)</span><br>
<span class="lineno">310</span><span class="op" id="8325685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325688">type</span>&nbsp;<span class="ident" id="8325693">byteSliceReader</span>&nbsp;<span class="keyword" id="8325709">struct</span>&nbsp;<span class="op" id="8325716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325719">remain</span>&nbsp;<span class="op" id="8325726">[</span><span class="op" id="8325727">]</span><span class="builtintype" id="8325728">byte</span><br>
<span class="lineno"></span><span class="op" id="8325733">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="8325736">func</span>&nbsp;<span class="op" id="8325741">(</span><span class="ident" id="8325742">br</span>&nbsp;<span class="op" id="8325745">*</span><span class="ident" id="8325746">byteSliceReader</span><span class="op" id="8325761">)</span>&nbsp;<span class="ident" id="8325763">Read</span><span class="op" id="8325767">(</span><span class="ident" id="8325768">p</span>&nbsp;<span class="op" id="8325770">[</span><span class="op" id="8325771">]</span><span class="builtintype" id="8325772">byte</span><span class="op" id="8325776">)</span>&nbsp;<span class="op" id="8325778">(</span><span class="builtintype" id="8325779">int</span><span class="op" id="8325782">,</span>&nbsp;<span class="builtintype" id="8325784">error</span><span class="op" id="8325789">)</span>&nbsp;<span class="op" id="8325791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325794">n</span>&nbsp;<span class="op" id="8325796">:=</span>&nbsp;<span class="builtinfunc" id="8325799">copy</span><span class="op" id="8325803">(</span><span class="ident" id="8325804">p</span><span class="op" id="8325805">,</span>&nbsp;<span class="ident" id="8325807">br</span><span class="op" id="8325809">.</span><span class="ident" id="8325810">remain</span><span class="op" id="8325816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325819">br</span><span class="op" id="8325821">.</span><span class="ident" id="8325822">remain</span>&nbsp;<span class="op" id="8325829">=</span>&nbsp;<span class="ident" id="8325831">br</span><span class="op" id="8325833">.</span><span class="ident" id="8325834">remain</span><span class="op" id="8325840">[</span><span class="ident" id="8325841">n</span><span class="op" id="8325842">:</span><span class="op" id="8325843">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8325846">return</span>&nbsp;<span class="ident" id="8325853">n</span><span class="op" id="8325854">,</span>&nbsp;<span class="ident" id="8325856">nil</span><br>
<span class="lineno">320</span><span class="op" id="8325860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8325863">func</span>&nbsp;<span class="ident" id="8325868">BenchmarkReadSlice1000Int32s</span><span class="op" id="8325896">(</span><span class="ident" id="8325897">b</span>&nbsp;<span class="op" id="8325899">*</span><span class="ident" id="8325900">testing</span><span class="op" id="8325907">.</span><span class="ident" id="8325908">B</span><span class="op" id="8325909">)</span>&nbsp;<span class="op" id="8325911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325914">bsr</span>&nbsp;<span class="op" id="8325918">:=</span>&nbsp;<span class="op" id="8325921">&amp;</span><span class="ident" id="8325922">byteSliceReader</span><span class="op" id="8325937">{</span><span class="op" id="8325938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325941">slice</span>&nbsp;<span class="op" id="8325947">:=</span>&nbsp;<span class="builtinfunc" id="8325950">make</span><span class="op" id="8325954">(</span><span class="op" id="8325955">[</span><span class="op" id="8325956">]</span><span class="builtintype" id="8325957">int32</span><span class="op" id="8325962">,</span>&nbsp;<span class="num" id="8325964">1000</span><span class="op" id="8325968">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8325971">buf</span>&nbsp;<span class="op" id="8325975">:=</span>&nbsp;<span class="builtinfunc" id="8325978">make</span><span class="op" id="8325982">(</span><span class="op" id="8325983">[</span><span class="op" id="8325984">]</span><span class="builtintype" id="8325985">byte</span><span class="op" id="8325989">,</span>&nbsp;<span class="builtinfunc" id="8325991">len</span><span class="op" id="8325994">(</span><span class="ident" id="8325995">slice</span><span class="op" id="8326000">)</span><span class="op" id="8326001">*</span><span class="num" id="8326002">4</span><span class="op" id="8326003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326006">b</span><span class="op" id="8326007">.</span><span class="ident" id="8326008">SetBytes</span><span class="op" id="8326016">(</span><span class="ident" id="8326017">int64</span><span class="op" id="8326022">(</span><span class="builtinfunc" id="8326023">len</span><span class="op" id="8326026">(</span><span class="ident" id="8326027">buf</span><span class="op" id="8326030">)</span><span class="op" id="8326031">)</span><span class="op" id="8326032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326035">b</span><span class="op" id="8326036">.</span><span class="ident" id="8326037">ResetTimer</span><span class="op" id="8326047">(</span><span class="op" id="8326048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326051">for</span>&nbsp;<span class="ident" id="8326055">i</span>&nbsp;<span class="op" id="8326057">:=</span>&nbsp;<span class="num" id="8326060">0</span><span class="op" id="8326061">;</span>&nbsp;<span class="ident" id="8326063">i</span>&nbsp;<span class="op" id="8326065">&lt;</span>&nbsp;<span class="ident" id="8326067">b</span><span class="op" id="8326068">.</span><span class="ident" id="8326069">N</span><span class="op" id="8326070">;</span>&nbsp;<span class="ident" id="8326072">i</span><span class="op" id="8326073">++</span>&nbsp;<span class="op" id="8326076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326080">bsr</span><span class="op" id="8326083">.</span><span class="ident" id="8326084">remain</span>&nbsp;<span class="op" id="8326091">=</span>&nbsp;<span class="ident" id="8326093">buf</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326099">Read</span><span class="op" id="8326103">(</span><span class="ident" id="8326104">bsr</span><span class="op" id="8326107">,</span>&nbsp;<span class="ident" id="8326109">BigEndian</span><span class="op" id="8326118">,</span>&nbsp;<span class="ident" id="8326120">slice</span><span class="op" id="8326125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8326128">}</span><br>
<span class="lineno"></span><span class="op" id="8326130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8326133">func</span>&nbsp;<span class="ident" id="8326138">BenchmarkReadStruct</span><span class="op" id="8326157">(</span><span class="ident" id="8326158">b</span>&nbsp;<span class="op" id="8326160">*</span><span class="ident" id="8326161">testing</span><span class="op" id="8326168">.</span><span class="ident" id="8326169">B</span><span class="op" id="8326170">)</span>&nbsp;<span class="op" id="8326172">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326175">bsr</span>&nbsp;<span class="op" id="8326179">:=</span>&nbsp;<span class="op" id="8326182">&amp;</span><span class="ident" id="8326183">byteSliceReader</span><span class="op" id="8326198">{</span><span class="op" id="8326199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326202">var</span>&nbsp;<span class="ident" id="8326206">buf</span>&nbsp;<span class="ident" id="8326210">bytes</span><span class="op" id="8326215">.</span><span class="ident" id="8326216">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326224">Write</span><span class="op" id="8326229">(</span><span class="op" id="8326230">&amp;</span><span class="ident" id="8326231">buf</span><span class="op" id="8326234">,</span>&nbsp;<span class="ident" id="8326236">BigEndian</span><span class="op" id="8326245">,</span>&nbsp;<span class="op" id="8326247">&amp;</span><span class="ident" id="8326248">s</span><span class="op" id="8326249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326252">b</span><span class="op" id="8326253">.</span><span class="ident" id="8326254">SetBytes</span><span class="op" id="8326262">(</span><span class="ident" id="8326263">int64</span><span class="op" id="8326268">(</span><span class="ident" id="8326269">dataSize</span><span class="op" id="8326277">(</span><span class="ident" id="8326278">reflect</span><span class="op" id="8326285">.</span><span class="ident" id="8326286">ValueOf</span><span class="op" id="8326293">(</span><span class="ident" id="8326294">s</span><span class="op" id="8326295">)</span><span class="op" id="8326296">)</span><span class="op" id="8326297">)</span><span class="op" id="8326298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326301">t</span>&nbsp;<span class="op" id="8326303">:=</span>&nbsp;<span class="ident" id="8326306">s</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326309">b</span><span class="op" id="8326310">.</span><span class="ident" id="8326311">ResetTimer</span><span class="op" id="8326321">(</span><span class="op" id="8326322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326325">for</span>&nbsp;<span class="ident" id="8326329">i</span>&nbsp;<span class="op" id="8326331">:=</span>&nbsp;<span class="num" id="8326334">0</span><span class="op" id="8326335">;</span>&nbsp;<span class="ident" id="8326337">i</span>&nbsp;<span class="op" id="8326339">&lt;</span>&nbsp;<span class="ident" id="8326341">b</span><span class="op" id="8326342">.</span><span class="ident" id="8326343">N</span><span class="op" id="8326344">;</span>&nbsp;<span class="ident" id="8326346">i</span><span class="op" id="8326347">++</span>&nbsp;<span class="op" id="8326350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326354">bsr</span><span class="op" id="8326357">.</span><span class="ident" id="8326358">remain</span>&nbsp;<span class="op" id="8326365">=</span>&nbsp;<span class="ident" id="8326367">buf</span><span class="op" id="8326370">.</span><span class="ident" id="8326371">Bytes</span><span class="op" id="8326376">(</span><span class="op" id="8326377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326381">Read</span><span class="op" id="8326385">(</span><span class="ident" id="8326386">bsr</span><span class="op" id="8326389">,</span>&nbsp;<span class="ident" id="8326391">BigEndian</span><span class="op" id="8326400">,</span>&nbsp;<span class="op" id="8326402">&amp;</span><span class="ident" id="8326403">t</span><span class="op" id="8326404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8326407">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326410">b</span><span class="op" id="8326411">.</span><span class="ident" id="8326412">StopTimer</span><span class="op" id="8326421">(</span><span class="op" id="8326422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326425">if</span>&nbsp;<span class="op" id="8326428">!</span><span class="ident" id="8326429">reflect</span><span class="op" id="8326436">.</span><span class="ident" id="8326437">DeepEqual</span><span class="op" id="8326446">(</span><span class="ident" id="8326447">s</span><span class="op" id="8326448">,</span>&nbsp;<span class="ident" id="8326450">t</span><span class="op" id="8326451">)</span>&nbsp;<span class="op" id="8326453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326457">b</span><span class="op" id="8326458">.</span><span class="ident" id="8326459">Fatal</span><span class="op" id="8326464">(</span><span class="string" id="8326465">&#34;no&nbsp;match&#34;</span><span class="op" id="8326475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8326478">}</span><br>
<span class="lineno"></span><span class="op" id="8326480">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="8326483">func</span>&nbsp;<span class="ident" id="8326488">BenchmarkReadInts</span><span class="op" id="8326505">(</span><span class="ident" id="8326506">b</span>&nbsp;<span class="op" id="8326508">*</span><span class="ident" id="8326509">testing</span><span class="op" id="8326516">.</span><span class="ident" id="8326517">B</span><span class="op" id="8326518">)</span>&nbsp;<span class="op" id="8326520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326523">var</span>&nbsp;<span class="ident" id="8326527">ls</span>&nbsp;<span class="ident" id="8326530">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326538">bsr</span>&nbsp;<span class="op" id="8326542">:=</span>&nbsp;<span class="op" id="8326545">&amp;</span><span class="ident" id="8326546">byteSliceReader</span><span class="op" id="8326561">{</span><span class="op" id="8326562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326565">var</span>&nbsp;<span class="ident" id="8326569">r</span>&nbsp;<span class="ident" id="8326571">io</span><span class="op" id="8326573">.</span><span class="ident" id="8326574">Reader</span>&nbsp;<span class="op" id="8326581">=</span>&nbsp;<span class="ident" id="8326583">bsr</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326588">b</span><span class="op" id="8326589">.</span><span class="ident" id="8326590">SetBytes</span><span class="op" id="8326598">(</span><span class="num" id="8326599">2</span>&nbsp;<span class="op" id="8326601">*</span>&nbsp;<span class="op" id="8326603">(</span><span class="num" id="8326604">1</span>&nbsp;<span class="op" id="8326606">+</span>&nbsp;<span class="num" id="8326608">2</span>&nbsp;<span class="op" id="8326610">+</span>&nbsp;<span class="num" id="8326612">4</span>&nbsp;<span class="op" id="8326614">+</span>&nbsp;<span class="num" id="8326616">8</span><span class="op" id="8326617">)</span><span class="op" id="8326618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326621">b</span><span class="op" id="8326622">.</span><span class="ident" id="8326623">ResetTimer</span><span class="op" id="8326633">(</span><span class="op" id="8326634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8326637">for</span>&nbsp;<span class="ident" id="8326641">i</span>&nbsp;<span class="op" id="8326643">:=</span>&nbsp;<span class="num" id="8326646">0</span><span class="op" id="8326647">;</span>&nbsp;<span class="ident" id="8326649">i</span>&nbsp;<span class="op" id="8326651">&lt;</span>&nbsp;<span class="ident" id="8326653">b</span><span class="op" id="8326654">.</span><span class="ident" id="8326655">N</span><span class="op" id="8326656">;</span>&nbsp;<span class="ident" id="8326658">i</span><span class="op" id="8326659">++</span>&nbsp;<span class="op" id="8326662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326666">bsr</span><span class="op" id="8326669">.</span><span class="ident" id="8326670">remain</span>&nbsp;<span class="op" id="8326677">=</span>&nbsp;<span class="ident" id="8326679">big</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326685">Read</span><span class="op" id="8326689">(</span><span class="ident" id="8326690">r</span><span class="op" id="8326691">,</span>&nbsp;<span class="ident" id="8326693">BigEndian</span><span class="op" id="8326702">,</span>&nbsp;<span class="op" id="8326704">&amp;</span><span class="ident" id="8326705">ls</span><span class="op" id="8326707">.</span><span class="ident" id="8326708">Int8</span><span class="op" id="8326712">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326716">Read</span><span class="op" id="8326720">(</span><span class="ident" id="8326721">r</span><span class="op" id="8326722">,</span>&nbsp;<span class="ident" id="8326724">BigEndian</span><span class="op" id="8326733">,</span>&nbsp;<span class="op" id="8326735">&amp;</span><span class="ident" id="8326736">ls</span><span class="op" id="8326738">.</span><span class="ident" id="8326739">Int16</span><span class="op" id="8326744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326748">Read</span><span class="op" id="8326752">(</span><span class="ident" id="8326753">r</span><span class="op" id="8326754">,</span>&nbsp;<span class="ident" id="8326756">BigEndian</span><span class="op" id="8326765">,</span>&nbsp;<span class="op" id="8326767">&amp;</span><span class="ident" id="8326768">ls</span><span class="op" id="8326770">.</span><span class="ident" id="8326771">Int32</span><span class="op" id="8326776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326780">Read</span><span class="op" id="8326784">(</span><span class="ident" id="8326785">r</span><span class="op" id="8326786">,</span>&nbsp;<span class="ident" id="8326788">BigEndian</span><span class="op" id="8326797">,</span>&nbsp;<span class="op" id="8326799">&amp;</span><span class="ident" id="8326800">ls</span><span class="op" id="8326802">.</span><span class="ident" id="8326803">Int64</span><span class="op" id="8326808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326812">Read</span><span class="op" id="8326816">(</span><span class="ident" id="8326817">r</span><span class="op" id="8326818">,</span>&nbsp;<span class="ident" id="8326820">BigEndian</span><span class="op" id="8326829">,</span>&nbsp;<span class="op" id="8326831">&amp;</span><span class="ident" id="8326832">ls</span><span class="op" id="8326834">.</span><span class="ident" id="8326835">Uint8</span><span class="op" id="8326840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326844">Read</span><span class="op" id="8326848">(</span><span class="ident" id="8326849">r</span><span class="op" id="8326850">,</span>&nbsp;<span class="ident" id="8326852">BigEndian</span><span class="op" id="8326861">,</span>&nbsp;<span class="op" id="8326863">&amp;</span><span class="ident" id="8326864">ls</span><span class="op" id="8326866">.</span><span class="ident" id="8326867">Uint16</span><span class="op" id="8326873">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326877">Read</span><span class="op" id="8326881">(</span><span class="ident" id="8326882">r</span><span class="op" id="8326883">,</span>&nbsp;<span class="ident" id="8326885">BigEndian</span><span class="op" id="8326894">,</span>&nbsp;<span class="op" id="8326896">&amp;</span><span class="ident" id="8326897">ls</span><span class="op" id="8326899">.</span><span class="ident" id="8326900">Uint32</span><span class="op" id="8326906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326910">Read</span><span class="op" id="8326914">(</span><span class="ident" id="8326915">r</span><span class="op" id="8326916">,</span>&nbsp;<span class="ident" id="8326918">BigEndian</span><span class="op" id="8326927">,</span>&nbsp;<span class="op" id="8326929">&amp;</span><span class="ident" id="8326930">ls</span><span class="op" id="8326932">.</span><span class="ident" id="8326933">Uint64</span><span class="op" id="8326939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8326942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326946">want</span>&nbsp;<span class="op" id="8326951">:=</span>&nbsp;<span class="ident" id="8326954">s</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326957">want</span><span class="op" id="8326961">.</span><span class="ident" id="8326962">Float32</span>&nbsp;<span class="op" id="8326970">=</span>&nbsp;<span class="num" id="8326972">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326975">want</span><span class="op" id="8326979">.</span><span class="ident" id="8326980">Float64</span>&nbsp;<span class="op" id="8326988">=</span>&nbsp;<span class="num" id="8326990">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8326993">want</span><span class="op" id="8326997">.</span><span class="ident" id="8326998">Complex64</span>&nbsp;<span class="op" id="8327008">=</span>&nbsp;<span class="num" id="8327010">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327013">want</span><span class="op" id="8327017">.</span><span class="ident" id="8327018">Complex128</span>&nbsp;<span class="op" id="8327029">=</span>&nbsp;<span class="num" id="8327031">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327034">for</span>&nbsp;<span class="ident" id="8327038">i</span>&nbsp;<span class="op" id="8327040">:=</span>&nbsp;<span class="keyword" id="8327043">range</span>&nbsp;<span class="ident" id="8327049">want</span><span class="op" id="8327053">.</span><span class="ident" id="8327054">Array</span>&nbsp;<span class="op" id="8327060">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327064">want</span><span class="op" id="8327068">.</span><span class="ident" id="8327069">Array</span><span class="op" id="8327074">[</span><span class="ident" id="8327075">i</span><span class="op" id="8327076">]</span>&nbsp;<span class="op" id="8327078">=</span>&nbsp;<span class="num" id="8327080">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327086">b</span><span class="op" id="8327087">.</span><span class="ident" id="8327088">StopTimer</span><span class="op" id="8327097">(</span><span class="op" id="8327098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327101">if</span>&nbsp;<span class="op" id="8327104">!</span><span class="ident" id="8327105">reflect</span><span class="op" id="8327112">.</span><span class="ident" id="8327113">DeepEqual</span><span class="op" id="8327122">(</span><span class="ident" id="8327123">ls</span><span class="op" id="8327125">,</span>&nbsp;<span class="ident" id="8327127">want</span><span class="op" id="8327131">)</span>&nbsp;<span class="op" id="8327133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8327137">panic</span><span class="op" id="8327142">(</span><span class="string" id="8327143">&#34;no&nbsp;match&#34;</span><span class="op" id="8327153">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327156">}</span><br>
<span class="lineno"></span><span class="op" id="8327158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8327161">func</span>&nbsp;<span class="ident" id="8327166">BenchmarkWriteInts</span><span class="op" id="8327184">(</span><span class="ident" id="8327185">b</span>&nbsp;<span class="op" id="8327187">*</span><span class="ident" id="8327188">testing</span><span class="op" id="8327195">.</span><span class="ident" id="8327196">B</span><span class="op" id="8327197">)</span>&nbsp;<span class="op" id="8327199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327202">buf</span>&nbsp;<span class="op" id="8327206">:=</span>&nbsp;<span class="builtinfunc" id="8327209">new</span><span class="op" id="8327212">(</span><span class="ident" id="8327213">bytes</span><span class="op" id="8327218">.</span><span class="ident" id="8327219">Buffer</span><span class="op" id="8327225">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327228">var</span>&nbsp;<span class="ident" id="8327232">w</span>&nbsp;<span class="ident" id="8327234">io</span><span class="op" id="8327236">.</span><span class="ident" id="8327237">Writer</span>&nbsp;<span class="op" id="8327244">=</span>&nbsp;<span class="ident" id="8327246">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327251">b</span><span class="op" id="8327252">.</span><span class="ident" id="8327253">SetBytes</span><span class="op" id="8327261">(</span><span class="num" id="8327262">2</span>&nbsp;<span class="op" id="8327264">*</span>&nbsp;<span class="op" id="8327266">(</span><span class="num" id="8327267">1</span>&nbsp;<span class="op" id="8327269">+</span>&nbsp;<span class="num" id="8327271">2</span>&nbsp;<span class="op" id="8327273">+</span>&nbsp;<span class="num" id="8327275">4</span>&nbsp;<span class="op" id="8327277">+</span>&nbsp;<span class="num" id="8327279">8</span><span class="op" id="8327280">)</span><span class="op" id="8327281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327284">b</span><span class="op" id="8327285">.</span><span class="ident" id="8327286">ResetTimer</span><span class="op" id="8327296">(</span><span class="op" id="8327297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327300">for</span>&nbsp;<span class="ident" id="8327304">i</span>&nbsp;<span class="op" id="8327306">:=</span>&nbsp;<span class="num" id="8327309">0</span><span class="op" id="8327310">;</span>&nbsp;<span class="ident" id="8327312">i</span>&nbsp;<span class="op" id="8327314">&lt;</span>&nbsp;<span class="ident" id="8327316">b</span><span class="op" id="8327317">.</span><span class="ident" id="8327318">N</span><span class="op" id="8327319">;</span>&nbsp;<span class="ident" id="8327321">i</span><span class="op" id="8327322">++</span>&nbsp;<span class="op" id="8327325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327329">buf</span><span class="op" id="8327332">.</span><span class="ident" id="8327333">Reset</span><span class="op" id="8327338">(</span><span class="op" id="8327339">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327343">Write</span><span class="op" id="8327348">(</span><span class="ident" id="8327349">w</span><span class="op" id="8327350">,</span>&nbsp;<span class="ident" id="8327352">BigEndian</span><span class="op" id="8327361">,</span>&nbsp;<span class="ident" id="8327363">s</span><span class="op" id="8327364">.</span><span class="ident" id="8327365">Int8</span><span class="op" id="8327369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327373">Write</span><span class="op" id="8327378">(</span><span class="ident" id="8327379">w</span><span class="op" id="8327380">,</span>&nbsp;<span class="ident" id="8327382">BigEndian</span><span class="op" id="8327391">,</span>&nbsp;<span class="ident" id="8327393">s</span><span class="op" id="8327394">.</span><span class="ident" id="8327395">Int16</span><span class="op" id="8327400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327404">Write</span><span class="op" id="8327409">(</span><span class="ident" id="8327410">w</span><span class="op" id="8327411">,</span>&nbsp;<span class="ident" id="8327413">BigEndian</span><span class="op" id="8327422">,</span>&nbsp;<span class="ident" id="8327424">s</span><span class="op" id="8327425">.</span><span class="ident" id="8327426">Int32</span><span class="op" id="8327431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327435">Write</span><span class="op" id="8327440">(</span><span class="ident" id="8327441">w</span><span class="op" id="8327442">,</span>&nbsp;<span class="ident" id="8327444">BigEndian</span><span class="op" id="8327453">,</span>&nbsp;<span class="ident" id="8327455">s</span><span class="op" id="8327456">.</span><span class="ident" id="8327457">Int64</span><span class="op" id="8327462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327466">Write</span><span class="op" id="8327471">(</span><span class="ident" id="8327472">w</span><span class="op" id="8327473">,</span>&nbsp;<span class="ident" id="8327475">BigEndian</span><span class="op" id="8327484">,</span>&nbsp;<span class="ident" id="8327486">s</span><span class="op" id="8327487">.</span><span class="ident" id="8327488">Uint8</span><span class="op" id="8327493">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327497">Write</span><span class="op" id="8327502">(</span><span class="ident" id="8327503">w</span><span class="op" id="8327504">,</span>&nbsp;<span class="ident" id="8327506">BigEndian</span><span class="op" id="8327515">,</span>&nbsp;<span class="ident" id="8327517">s</span><span class="op" id="8327518">.</span><span class="ident" id="8327519">Uint16</span><span class="op" id="8327525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327529">Write</span><span class="op" id="8327534">(</span><span class="ident" id="8327535">w</span><span class="op" id="8327536">,</span>&nbsp;<span class="ident" id="8327538">BigEndian</span><span class="op" id="8327547">,</span>&nbsp;<span class="ident" id="8327549">s</span><span class="op" id="8327550">.</span><span class="ident" id="8327551">Uint32</span><span class="op" id="8327557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327561">Write</span><span class="op" id="8327566">(</span><span class="ident" id="8327567">w</span><span class="op" id="8327568">,</span>&nbsp;<span class="ident" id="8327570">BigEndian</span><span class="op" id="8327579">,</span>&nbsp;<span class="ident" id="8327581">s</span><span class="op" id="8327582">.</span><span class="ident" id="8327583">Uint64</span><span class="op" id="8327589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327595">b</span><span class="op" id="8327596">.</span><span class="ident" id="8327597">StopTimer</span><span class="op" id="8327606">(</span><span class="op" id="8327607">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327610">if</span>&nbsp;<span class="op" id="8327613">!</span><span class="ident" id="8327614">bytes</span><span class="op" id="8327619">.</span><span class="ident" id="8327620">Equal</span><span class="op" id="8327625">(</span><span class="ident" id="8327626">buf</span><span class="op" id="8327629">.</span><span class="ident" id="8327630">Bytes</span><span class="op" id="8327635">(</span><span class="op" id="8327636">)</span><span class="op" id="8327637">,</span>&nbsp;<span class="ident" id="8327639">big</span><span class="op" id="8327642">[</span><span class="op" id="8327643">:</span><span class="num" id="8327644">30</span><span class="op" id="8327646">]</span><span class="op" id="8327647">)</span>&nbsp;<span class="op" id="8327649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327653">b</span><span class="op" id="8327654">.</span><span class="ident" id="8327655">Fatalf</span><span class="op" id="8327661">(</span><span class="string" id="8327662">&#34;first&nbsp;half&nbsp;doesn&#39;t&nbsp;match:&nbsp;%x&nbsp;%x&#34;</span><span class="op" id="8327695">,</span>&nbsp;<span class="ident" id="8327697">buf</span><span class="op" id="8327700">.</span><span class="ident" id="8327701">Bytes</span><span class="op" id="8327706">(</span><span class="op" id="8327707">)</span><span class="op" id="8327708">,</span>&nbsp;<span class="ident" id="8327710">big</span><span class="op" id="8327713">[</span><span class="op" id="8327714">:</span><span class="num" id="8327715">30</span><span class="op" id="8327717">]</span><span class="op" id="8327718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327721">}</span><br>
<span class="lineno"></span><span class="op" id="8327723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="8327726">func</span>&nbsp;<span class="ident" id="8327731">BenchmarkWriteSlice1000Int32s</span><span class="op" id="8327760">(</span><span class="ident" id="8327761">b</span>&nbsp;<span class="op" id="8327763">*</span><span class="ident" id="8327764">testing</span><span class="op" id="8327771">.</span><span class="ident" id="8327772">B</span><span class="op" id="8327773">)</span>&nbsp;<span class="op" id="8327775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327778">slice</span>&nbsp;<span class="op" id="8327784">:=</span>&nbsp;<span class="builtinfunc" id="8327787">make</span><span class="op" id="8327791">(</span><span class="op" id="8327792">[</span><span class="op" id="8327793">]</span><span class="builtintype" id="8327794">int32</span><span class="op" id="8327799">,</span>&nbsp;<span class="num" id="8327801">1000</span><span class="op" id="8327805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327808">buf</span>&nbsp;<span class="op" id="8327812">:=</span>&nbsp;<span class="builtinfunc" id="8327815">new</span><span class="op" id="8327818">(</span><span class="ident" id="8327819">bytes</span><span class="op" id="8327824">.</span><span class="ident" id="8327825">Buffer</span><span class="op" id="8327831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327834">var</span>&nbsp;<span class="ident" id="8327838">w</span>&nbsp;<span class="ident" id="8327840">io</span><span class="op" id="8327842">.</span><span class="ident" id="8327843">Writer</span>&nbsp;<span class="op" id="8327850">=</span>&nbsp;<span class="ident" id="8327852">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327857">b</span><span class="op" id="8327858">.</span><span class="ident" id="8327859">SetBytes</span><span class="op" id="8327867">(</span><span class="num" id="8327868">4</span>&nbsp;<span class="op" id="8327870">*</span>&nbsp;<span class="num" id="8327872">1000</span><span class="op" id="8327876">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327879">b</span><span class="op" id="8327880">.</span><span class="ident" id="8327881">ResetTimer</span><span class="op" id="8327891">(</span><span class="op" id="8327892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8327895">for</span>&nbsp;<span class="ident" id="8327899">i</span>&nbsp;<span class="op" id="8327901">:=</span>&nbsp;<span class="num" id="8327904">0</span><span class="op" id="8327905">;</span>&nbsp;<span class="ident" id="8327907">i</span>&nbsp;<span class="op" id="8327909">&lt;</span>&nbsp;<span class="ident" id="8327911">b</span><span class="op" id="8327912">.</span><span class="ident" id="8327913">N</span><span class="op" id="8327914">;</span>&nbsp;<span class="ident" id="8327916">i</span><span class="op" id="8327917">++</span>&nbsp;<span class="op" id="8327920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327924">buf</span><span class="op" id="8327927">.</span><span class="ident" id="8327928">Reset</span><span class="op" id="8327933">(</span><span class="op" id="8327934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327938">Write</span><span class="op" id="8327943">(</span><span class="ident" id="8327944">w</span><span class="op" id="8327945">,</span>&nbsp;<span class="ident" id="8327947">BigEndian</span><span class="op" id="8327956">,</span>&nbsp;<span class="ident" id="8327958">slice</span><span class="op" id="8327963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8327966">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8327969">b</span><span class="op" id="8327970">.</span><span class="ident" id="8327971">StopTimer</span><span class="op" id="8327980">(</span><span class="op" id="8327981">)</span><br>
<span class="lineno"></span><span class="op" id="8327983">}</span>
</div>
</body>
</html>
