<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2049652">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2049708">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2049762">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2049813">//&nbsp;Software&nbsp;IEEE754&nbsp;64-bit&nbsp;floating&nbsp;point.</span><br>
<span class="lineno"></span><span class="comment" id="2049856">//&nbsp;Only&nbsp;referred&nbsp;to&nbsp;(and&nbsp;thus&nbsp;linked&nbsp;in)&nbsp;by&nbsp;arm&nbsp;port</span><br>
<span class="lineno"></span><span class="comment" id="2049909">//&nbsp;and&nbsp;by&nbsp;tests&nbsp;in&nbsp;this&nbsp;directory.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2049945">package</span>&nbsp;<span class="ident" id="2049953">runtime</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="2049962">const</span>&nbsp;<span class="op" id="2049968">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049971">mantbits64</span>&nbsp;<span class="builtintype" id="2049982">uint</span>&nbsp;<span class="op" id="2049987">=</span>&nbsp;<span class="num" id="2049989">52</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2049993">expbits64</span>&nbsp;&nbsp;<span class="builtintype" id="2050004">uint</span>&nbsp;<span class="op" id="2050009">=</span>&nbsp;<span class="num" id="2050011">11</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050015">bias64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2050031">=</span>&nbsp;<span class="op" id="2050033">-</span><span class="num" id="2050034">1</span><span class="op" id="2050035">&lt;&lt;</span><span class="op" id="2050037">(</span><span class="ident" id="2050038">expbits64</span><span class="op" id="2050047">-</span><span class="num" id="2050048">1</span><span class="op" id="2050049">)</span>&nbsp;<span class="op" id="2050051">+</span>&nbsp;<span class="num" id="2050053">1</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050057">nan64</span>&nbsp;<span class="ident" id="2050063">uint64</span>&nbsp;<span class="op" id="2050070">=</span>&nbsp;<span class="op" id="2050072">(</span><span class="num" id="2050073">1</span><span class="op" id="2050074">&lt;&lt;</span><span class="ident" id="2050076">expbits64</span><span class="op" id="2050085">-</span><span class="num" id="2050086">1</span><span class="op" id="2050087">)</span><span class="op" id="2050088">&lt;&lt;</span><span class="ident" id="2050090">mantbits64</span>&nbsp;<span class="op" id="2050101">+</span>&nbsp;<span class="num" id="2050103">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050106">inf64</span>&nbsp;<span class="ident" id="2050112">uint64</span>&nbsp;<span class="op" id="2050119">=</span>&nbsp;<span class="op" id="2050121">(</span><span class="num" id="2050122">1</span><span class="op" id="2050123">&lt;&lt;</span><span class="ident" id="2050125">expbits64</span>&nbsp;<span class="op" id="2050135">-</span>&nbsp;<span class="num" id="2050137">1</span><span class="op" id="2050138">)</span>&nbsp;<span class="op" id="2050140">&lt;&lt;</span>&nbsp;<span class="ident" id="2050143">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050155">neg64</span>&nbsp;<span class="ident" id="2050161">uint64</span>&nbsp;<span class="op" id="2050168">=</span>&nbsp;<span class="num" id="2050170">1</span>&nbsp;<span class="op" id="2050172">&lt;&lt;</span>&nbsp;<span class="op" id="2050175">(</span><span class="ident" id="2050176">expbits64</span>&nbsp;<span class="op" id="2050186">+</span>&nbsp;<span class="ident" id="2050188">mantbits64</span><span class="op" id="2050198">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050202">mantbits32</span>&nbsp;<span class="builtintype" id="2050213">uint</span>&nbsp;<span class="op" id="2050218">=</span>&nbsp;<span class="num" id="2050220">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050224">expbits32</span>&nbsp;&nbsp;<span class="builtintype" id="2050235">uint</span>&nbsp;<span class="op" id="2050240">=</span>&nbsp;<span class="num" id="2050242">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050245">bias32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2050261">=</span>&nbsp;<span class="op" id="2050263">-</span><span class="num" id="2050264">1</span><span class="op" id="2050265">&lt;&lt;</span><span class="op" id="2050267">(</span><span class="ident" id="2050268">expbits32</span><span class="op" id="2050277">-</span><span class="num" id="2050278">1</span><span class="op" id="2050279">)</span>&nbsp;<span class="op" id="2050281">+</span>&nbsp;<span class="num" id="2050283">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050287">nan32</span>&nbsp;<span class="builtintype" id="2050293">uint32</span>&nbsp;<span class="op" id="2050300">=</span>&nbsp;<span class="op" id="2050302">(</span><span class="num" id="2050303">1</span><span class="op" id="2050304">&lt;&lt;</span><span class="ident" id="2050306">expbits32</span><span class="op" id="2050315">-</span><span class="num" id="2050316">1</span><span class="op" id="2050317">)</span><span class="op" id="2050318">&lt;&lt;</span><span class="ident" id="2050320">mantbits32</span>&nbsp;<span class="op" id="2050331">+</span>&nbsp;<span class="num" id="2050333">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050336">inf32</span>&nbsp;<span class="builtintype" id="2050342">uint32</span>&nbsp;<span class="op" id="2050349">=</span>&nbsp;<span class="op" id="2050351">(</span><span class="num" id="2050352">1</span><span class="op" id="2050353">&lt;&lt;</span><span class="ident" id="2050355">expbits32</span>&nbsp;<span class="op" id="2050365">-</span>&nbsp;<span class="num" id="2050367">1</span><span class="op" id="2050368">)</span>&nbsp;<span class="op" id="2050370">&lt;&lt;</span>&nbsp;<span class="ident" id="2050373">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050385">neg32</span>&nbsp;<span class="builtintype" id="2050391">uint32</span>&nbsp;<span class="op" id="2050398">=</span>&nbsp;<span class="num" id="2050400">1</span>&nbsp;<span class="op" id="2050402">&lt;&lt;</span>&nbsp;<span class="op" id="2050405">(</span><span class="ident" id="2050406">expbits32</span>&nbsp;<span class="op" id="2050416">+</span>&nbsp;<span class="ident" id="2050418">mantbits32</span><span class="op" id="2050428">)</span><br>
<span class="lineno"></span><span class="op" id="2050430">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2050433">func</span>&nbsp;<span class="ident" id="2050438">funpack64</span><span class="op" id="2050447">(</span><span class="ident" id="2050448">f</span>&nbsp;<span class="ident" id="2050450">uint64</span><span class="op" id="2050456">)</span>&nbsp;<span class="op" id="2050458">(</span><span class="ident" id="2050459">sign</span><span class="op" id="2050463">,</span>&nbsp;<span class="ident" id="2050465">mant</span>&nbsp;<span class="ident" id="2050470">uint64</span><span class="op" id="2050476">,</span>&nbsp;<span class="ident" id="2050478">exp</span>&nbsp;<span class="builtintype" id="2050482">int</span><span class="op" id="2050485">,</span>&nbsp;<span class="ident" id="2050487">inf</span><span class="op" id="2050490">,</span>&nbsp;<span class="ident" id="2050492">nan</span>&nbsp;<span class="builtintype" id="2050496">bool</span><span class="op" id="2050500">)</span>&nbsp;<span class="op" id="2050502">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050505">sign</span>&nbsp;<span class="op" id="2050510">=</span>&nbsp;<span class="ident" id="2050512">f</span>&nbsp;<span class="op" id="2050514">&amp;</span>&nbsp;<span class="op" id="2050516">(</span><span class="num" id="2050517">1</span>&nbsp;<span class="op" id="2050519">&lt;&lt;</span>&nbsp;<span class="op" id="2050522">(</span><span class="ident" id="2050523">mantbits64</span>&nbsp;<span class="op" id="2050534">+</span>&nbsp;<span class="ident" id="2050536">expbits64</span><span class="op" id="2050545">)</span><span class="op" id="2050546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050549">mant</span>&nbsp;<span class="op" id="2050554">=</span>&nbsp;<span class="ident" id="2050556">f</span>&nbsp;<span class="op" id="2050558">&amp;</span>&nbsp;<span class="op" id="2050560">(</span><span class="num" id="2050561">1</span><span class="op" id="2050562">&lt;&lt;</span><span class="ident" id="2050564">mantbits64</span>&nbsp;<span class="op" id="2050575">-</span>&nbsp;<span class="num" id="2050577">1</span><span class="op" id="2050578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050581">exp</span>&nbsp;<span class="op" id="2050585">=</span>&nbsp;<span class="builtintype" id="2050587">int</span><span class="op" id="2050590">(</span><span class="ident" id="2050591">f</span><span class="op" id="2050592">&gt;&gt;</span><span class="ident" id="2050594">mantbits64</span><span class="op" id="2050604">)</span>&nbsp;<span class="op" id="2050606">&amp;</span>&nbsp;<span class="op" id="2050608">(</span><span class="num" id="2050609">1</span><span class="op" id="2050610">&lt;&lt;</span><span class="ident" id="2050612">expbits64</span>&nbsp;<span class="op" id="2050622">-</span>&nbsp;<span class="num" id="2050624">1</span><span class="op" id="2050625">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050629">switch</span>&nbsp;<span class="ident" id="2050636">exp</span>&nbsp;<span class="op" id="2050640">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050643">case</span>&nbsp;<span class="num" id="2050648">1</span><span class="op" id="2050649">&lt;&lt;</span><span class="ident" id="2050651">expbits64</span>&nbsp;<span class="op" id="2050661">-</span>&nbsp;<span class="num" id="2050663">1</span><span class="op" id="2050664">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050668">if</span>&nbsp;<span class="ident" id="2050671">mant</span>&nbsp;<span class="op" id="2050676">!=</span>&nbsp;<span class="num" id="2050679">0</span>&nbsp;<span class="op" id="2050681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050686">nan</span>&nbsp;<span class="op" id="2050690">=</span>&nbsp;<span class="builtintype" id="2050692">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050700">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050709">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050713">inf</span>&nbsp;<span class="op" id="2050717">=</span>&nbsp;<span class="builtintype" id="2050719">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050726">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050735">case</span>&nbsp;<span class="num" id="2050740">0</span><span class="op" id="2050741">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050745">//&nbsp;denormalized</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050763">if</span>&nbsp;<span class="ident" id="2050766">mant</span>&nbsp;<span class="op" id="2050771">!=</span>&nbsp;<span class="num" id="2050774">0</span>&nbsp;<span class="op" id="2050776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050781">exp</span>&nbsp;<span class="op" id="2050785">+=</span>&nbsp;<span class="ident" id="2050788">bias64</span>&nbsp;<span class="op" id="2050795">+</span>&nbsp;<span class="num" id="2050797">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050802">for</span>&nbsp;<span class="ident" id="2050806">mant</span>&nbsp;<span class="op" id="2050811">&lt;</span>&nbsp;<span class="num" id="2050813">1</span><span class="op" id="2050814">&lt;&lt;</span><span class="ident" id="2050816">mantbits64</span>&nbsp;<span class="op" id="2050827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050833">mant</span>&nbsp;<span class="op" id="2050838">&lt;&lt;=</span>&nbsp;<span class="num" id="2050842">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050848">exp</span><span class="op" id="2050851">--</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050865">default</span><span class="op" id="2050872">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2050876">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050902">mant</span>&nbsp;<span class="op" id="2050907">|=</span>&nbsp;<span class="num" id="2050910">1</span>&nbsp;<span class="op" id="2050912">&lt;&lt;</span>&nbsp;<span class="ident" id="2050915">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2050928">exp</span>&nbsp;<span class="op" id="2050932">+=</span>&nbsp;<span class="ident" id="2050935">bias64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2050943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2050946">return</span><br>
<span class="lineno"></span><span class="op" id="2050953">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="2050956">func</span>&nbsp;<span class="ident" id="2050961">funpack32</span><span class="op" id="2050970">(</span><span class="ident" id="2050971">f</span>&nbsp;<span class="builtintype" id="2050973">uint32</span><span class="op" id="2050979">)</span>&nbsp;<span class="op" id="2050981">(</span><span class="ident" id="2050982">sign</span><span class="op" id="2050986">,</span>&nbsp;<span class="ident" id="2050988">mant</span>&nbsp;<span class="builtintype" id="2050993">uint32</span><span class="op" id="2050999">,</span>&nbsp;<span class="ident" id="2051001">exp</span>&nbsp;<span class="builtintype" id="2051005">int</span><span class="op" id="2051008">,</span>&nbsp;<span class="ident" id="2051010">inf</span><span class="op" id="2051013">,</span>&nbsp;<span class="ident" id="2051015">nan</span>&nbsp;<span class="builtintype" id="2051019">bool</span><span class="op" id="2051023">)</span>&nbsp;<span class="op" id="2051025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051028">sign</span>&nbsp;<span class="op" id="2051033">=</span>&nbsp;<span class="ident" id="2051035">f</span>&nbsp;<span class="op" id="2051037">&amp;</span>&nbsp;<span class="op" id="2051039">(</span><span class="num" id="2051040">1</span>&nbsp;<span class="op" id="2051042">&lt;&lt;</span>&nbsp;<span class="op" id="2051045">(</span><span class="ident" id="2051046">mantbits32</span>&nbsp;<span class="op" id="2051057">+</span>&nbsp;<span class="ident" id="2051059">expbits32</span><span class="op" id="2051068">)</span><span class="op" id="2051069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051072">mant</span>&nbsp;<span class="op" id="2051077">=</span>&nbsp;<span class="ident" id="2051079">f</span>&nbsp;<span class="op" id="2051081">&amp;</span>&nbsp;<span class="op" id="2051083">(</span><span class="num" id="2051084">1</span><span class="op" id="2051085">&lt;&lt;</span><span class="ident" id="2051087">mantbits32</span>&nbsp;<span class="op" id="2051098">-</span>&nbsp;<span class="num" id="2051100">1</span><span class="op" id="2051101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051104">exp</span>&nbsp;<span class="op" id="2051108">=</span>&nbsp;<span class="builtintype" id="2051110">int</span><span class="op" id="2051113">(</span><span class="ident" id="2051114">f</span><span class="op" id="2051115">&gt;&gt;</span><span class="ident" id="2051117">mantbits32</span><span class="op" id="2051127">)</span>&nbsp;<span class="op" id="2051129">&amp;</span>&nbsp;<span class="op" id="2051131">(</span><span class="num" id="2051132">1</span><span class="op" id="2051133">&lt;&lt;</span><span class="ident" id="2051135">expbits32</span>&nbsp;<span class="op" id="2051145">-</span>&nbsp;<span class="num" id="2051147">1</span><span class="op" id="2051148">)</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051152">switch</span>&nbsp;<span class="ident" id="2051159">exp</span>&nbsp;<span class="op" id="2051163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051166">case</span>&nbsp;<span class="num" id="2051171">1</span><span class="op" id="2051172">&lt;&lt;</span><span class="ident" id="2051174">expbits32</span>&nbsp;<span class="op" id="2051184">-</span>&nbsp;<span class="num" id="2051186">1</span><span class="op" id="2051187">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051191">if</span>&nbsp;<span class="ident" id="2051194">mant</span>&nbsp;<span class="op" id="2051199">!=</span>&nbsp;<span class="num" id="2051202">0</span>&nbsp;<span class="op" id="2051204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051209">nan</span>&nbsp;<span class="op" id="2051213">=</span>&nbsp;<span class="builtintype" id="2051215">true</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051223">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051236">inf</span>&nbsp;<span class="op" id="2051240">=</span>&nbsp;<span class="builtintype" id="2051242">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051249">return</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051258">case</span>&nbsp;<span class="num" id="2051263">0</span><span class="op" id="2051264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2051268">//&nbsp;denormalized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051286">if</span>&nbsp;<span class="ident" id="2051289">mant</span>&nbsp;<span class="op" id="2051294">!=</span>&nbsp;<span class="num" id="2051297">0</span>&nbsp;<span class="op" id="2051299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051304">exp</span>&nbsp;<span class="op" id="2051308">+=</span>&nbsp;<span class="ident" id="2051311">bias32</span>&nbsp;<span class="op" id="2051318">+</span>&nbsp;<span class="num" id="2051320">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051325">for</span>&nbsp;<span class="ident" id="2051329">mant</span>&nbsp;<span class="op" id="2051334">&lt;</span>&nbsp;<span class="num" id="2051336">1</span><span class="op" id="2051337">&lt;&lt;</span><span class="ident" id="2051339">mantbits32</span>&nbsp;<span class="op" id="2051350">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051356">mant</span>&nbsp;<span class="op" id="2051361">&lt;&lt;=</span>&nbsp;<span class="num" id="2051365">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051371">exp</span><span class="op" id="2051374">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051388">default</span><span class="op" id="2051395">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2051399">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051425">mant</span>&nbsp;<span class="op" id="2051430">|=</span>&nbsp;<span class="num" id="2051433">1</span>&nbsp;<span class="op" id="2051435">&lt;&lt;</span>&nbsp;<span class="ident" id="2051438">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051451">exp</span>&nbsp;<span class="op" id="2051455">+=</span>&nbsp;<span class="ident" id="2051458">bias32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051466">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051469">return</span><br>
<span class="lineno"></span><span class="op" id="2051476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2051479">func</span>&nbsp;<span class="ident" id="2051484">fpack64</span><span class="op" id="2051491">(</span><span class="ident" id="2051492">sign</span><span class="op" id="2051496">,</span>&nbsp;<span class="ident" id="2051498">mant</span>&nbsp;<span class="ident" id="2051503">uint64</span><span class="op" id="2051509">,</span>&nbsp;<span class="ident" id="2051511">exp</span>&nbsp;<span class="builtintype" id="2051515">int</span><span class="op" id="2051518">,</span>&nbsp;<span class="ident" id="2051520">trunc</span>&nbsp;<span class="ident" id="2051526">uint64</span><span class="op" id="2051532">)</span>&nbsp;<span class="ident" id="2051534">uint64</span>&nbsp;<span class="op" id="2051541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051544">mant0</span><span class="op" id="2051549">,</span>&nbsp;<span class="ident" id="2051551">exp0</span><span class="op" id="2051555">,</span>&nbsp;<span class="ident" id="2051557">trunc0</span>&nbsp;<span class="op" id="2051564">:=</span>&nbsp;<span class="ident" id="2051567">mant</span><span class="op" id="2051571">,</span>&nbsp;<span class="ident" id="2051573">exp</span><span class="op" id="2051576">,</span>&nbsp;<span class="ident" id="2051578">trunc</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051585">if</span>&nbsp;<span class="ident" id="2051588">mant</span>&nbsp;<span class="op" id="2051593">==</span>&nbsp;<span class="num" id="2051596">0</span>&nbsp;<span class="op" id="2051598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051602">return</span>&nbsp;<span class="ident" id="2051609">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051618">for</span>&nbsp;<span class="ident" id="2051622">mant</span>&nbsp;<span class="op" id="2051627">&lt;</span>&nbsp;<span class="num" id="2051629">1</span><span class="op" id="2051630">&lt;&lt;</span><span class="ident" id="2051632">mantbits64</span>&nbsp;<span class="op" id="2051643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051647">mant</span>&nbsp;<span class="op" id="2051652">&lt;&lt;=</span>&nbsp;<span class="num" id="2051656">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051660">exp</span><span class="op" id="2051663">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051670">for</span>&nbsp;<span class="ident" id="2051674">mant</span>&nbsp;<span class="op" id="2051679">&gt;=</span>&nbsp;<span class="num" id="2051682">4</span><span class="op" id="2051683">&lt;&lt;</span><span class="ident" id="2051685">mantbits64</span>&nbsp;<span class="op" id="2051696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051700">trunc</span>&nbsp;<span class="op" id="2051706">|=</span>&nbsp;<span class="ident" id="2051709">mant</span>&nbsp;<span class="op" id="2051714">&amp;</span>&nbsp;<span class="num" id="2051716">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051720">mant</span>&nbsp;<span class="op" id="2051725">&gt;&gt;=</span>&nbsp;<span class="num" id="2051729">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051733">exp</span><span class="op" id="2051736">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051743">if</span>&nbsp;<span class="ident" id="2051746">mant</span>&nbsp;<span class="op" id="2051751">&gt;=</span>&nbsp;<span class="num" id="2051754">2</span><span class="op" id="2051755">&lt;&lt;</span><span class="ident" id="2051757">mantbits64</span>&nbsp;<span class="op" id="2051768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051772">if</span>&nbsp;<span class="ident" id="2051775">mant</span><span class="op" id="2051779">&amp;</span><span class="num" id="2051780">1</span>&nbsp;<span class="op" id="2051782">!=</span>&nbsp;<span class="num" id="2051785">0</span>&nbsp;<span class="op" id="2051787">&amp;&amp;</span>&nbsp;<span class="op" id="2051790">(</span><span class="ident" id="2051791">trunc</span>&nbsp;<span class="op" id="2051797">!=</span>&nbsp;<span class="num" id="2051800">0</span>&nbsp;<span class="op" id="2051802">||</span>&nbsp;<span class="ident" id="2051805">mant</span><span class="op" id="2051809">&amp;</span><span class="num" id="2051810">2</span>&nbsp;<span class="op" id="2051812">!=</span>&nbsp;<span class="num" id="2051815">0</span><span class="op" id="2051816">)</span>&nbsp;<span class="op" id="2051818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051823">mant</span><span class="op" id="2051827">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051833">if</span>&nbsp;<span class="ident" id="2051836">mant</span>&nbsp;<span class="op" id="2051841">&gt;=</span>&nbsp;<span class="num" id="2051844">4</span><span class="op" id="2051845">&lt;&lt;</span><span class="ident" id="2051847">mantbits64</span>&nbsp;<span class="op" id="2051858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051864">mant</span>&nbsp;<span class="op" id="2051869">&gt;&gt;=</span>&nbsp;<span class="num" id="2051873">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051879">exp</span><span class="op" id="2051882">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051892">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051896">mant</span>&nbsp;<span class="op" id="2051901">&gt;&gt;=</span>&nbsp;<span class="num" id="2051905">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2051909">exp</span><span class="op" id="2051912">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051919">if</span>&nbsp;<span class="ident" id="2051922">exp</span>&nbsp;<span class="op" id="2051926">&gt;=</span>&nbsp;<span class="num" id="2051929">1</span><span class="op" id="2051930">&lt;&lt;</span><span class="ident" id="2051932">expbits64</span><span class="op" id="2051941">-</span><span class="num" id="2051942">1</span><span class="op" id="2051943">+</span><span class="ident" id="2051944">bias64</span>&nbsp;<span class="op" id="2051951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051955">return</span>&nbsp;<span class="ident" id="2051962">sign</span>&nbsp;<span class="op" id="2051967">^</span>&nbsp;<span class="ident" id="2051969">inf64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2051976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2051979">if</span>&nbsp;<span class="ident" id="2051982">exp</span>&nbsp;<span class="op" id="2051986">&lt;</span>&nbsp;<span class="ident" id="2051988">bias64</span><span class="op" id="2051994">+</span><span class="num" id="2051995">1</span>&nbsp;<span class="op" id="2051997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052001">if</span>&nbsp;<span class="ident" id="2052004">exp</span>&nbsp;<span class="op" id="2052008">&lt;</span>&nbsp;<span class="ident" id="2052010">bias64</span><span class="op" id="2052016">-</span><span class="builtintype" id="2052017">int</span><span class="op" id="2052020">(</span><span class="ident" id="2052021">mantbits64</span><span class="op" id="2052031">)</span>&nbsp;<span class="op" id="2052033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052038">return</span>&nbsp;<span class="ident" id="2052045">sign</span>&nbsp;<span class="op" id="2052050">|</span>&nbsp;<span class="num" id="2052052">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052056">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2052060">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052091">mant</span><span class="op" id="2052095">,</span>&nbsp;<span class="ident" id="2052097">exp</span><span class="op" id="2052100">,</span>&nbsp;<span class="ident" id="2052102">trunc</span>&nbsp;<span class="op" id="2052108">=</span>&nbsp;<span class="ident" id="2052110">mant0</span><span class="op" id="2052115">,</span>&nbsp;<span class="ident" id="2052117">exp0</span><span class="op" id="2052121">,</span>&nbsp;<span class="ident" id="2052123">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052132">for</span>&nbsp;<span class="ident" id="2052136">exp</span>&nbsp;<span class="op" id="2052140">&lt;</span>&nbsp;<span class="ident" id="2052142">bias64</span>&nbsp;<span class="op" id="2052149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052154">trunc</span>&nbsp;<span class="op" id="2052160">|=</span>&nbsp;<span class="ident" id="2052163">mant</span>&nbsp;<span class="op" id="2052168">&amp;</span>&nbsp;<span class="num" id="2052170">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052175">mant</span>&nbsp;<span class="op" id="2052180">&gt;&gt;=</span>&nbsp;<span class="num" id="2052184">1</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052189">exp</span><span class="op" id="2052192">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052201">if</span>&nbsp;<span class="ident" id="2052204">mant</span><span class="op" id="2052208">&amp;</span><span class="num" id="2052209">1</span>&nbsp;<span class="op" id="2052211">!=</span>&nbsp;<span class="num" id="2052214">0</span>&nbsp;<span class="op" id="2052216">&amp;&amp;</span>&nbsp;<span class="op" id="2052219">(</span><span class="ident" id="2052220">trunc</span>&nbsp;<span class="op" id="2052226">!=</span>&nbsp;<span class="num" id="2052229">0</span>&nbsp;<span class="op" id="2052231">||</span>&nbsp;<span class="ident" id="2052234">mant</span><span class="op" id="2052238">&amp;</span><span class="num" id="2052239">2</span>&nbsp;<span class="op" id="2052241">!=</span>&nbsp;<span class="num" id="2052244">0</span><span class="op" id="2052245">)</span>&nbsp;<span class="op" id="2052247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052252">mant</span><span class="op" id="2052256">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052261">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052265">mant</span>&nbsp;<span class="op" id="2052270">&gt;&gt;=</span>&nbsp;<span class="num" id="2052274">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052278">exp</span><span class="op" id="2052281">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052286">if</span>&nbsp;<span class="ident" id="2052289">mant</span>&nbsp;<span class="op" id="2052294">&lt;</span>&nbsp;<span class="num" id="2052296">1</span><span class="op" id="2052297">&lt;&lt;</span><span class="ident" id="2052299">mantbits64</span>&nbsp;<span class="op" id="2052310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052315">return</span>&nbsp;<span class="ident" id="2052322">sign</span>&nbsp;<span class="op" id="2052327">|</span>&nbsp;<span class="ident" id="2052329">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052336">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052342">return</span>&nbsp;<span class="ident" id="2052349">sign</span>&nbsp;<span class="op" id="2052354">|</span>&nbsp;<span class="ident" id="2052356">uint64</span><span class="op" id="2052362">(</span><span class="ident" id="2052363">exp</span><span class="op" id="2052366">-</span><span class="ident" id="2052367">bias64</span><span class="op" id="2052373">)</span><span class="op" id="2052374">&lt;&lt;</span><span class="ident" id="2052376">mantbits64</span>&nbsp;<span class="op" id="2052387">|</span>&nbsp;<span class="ident" id="2052389">mant</span><span class="op" id="2052393">&amp;</span><span class="op" id="2052394">(</span><span class="num" id="2052395">1</span><span class="op" id="2052396">&lt;&lt;</span><span class="ident" id="2052398">mantbits64</span><span class="op" id="2052408">-</span><span class="num" id="2052409">1</span><span class="op" id="2052410">)</span><br>
<span class="lineno"></span><span class="op" id="2052412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2052415">func</span>&nbsp;<span class="ident" id="2052420">fpack32</span><span class="op" id="2052427">(</span><span class="ident" id="2052428">sign</span><span class="op" id="2052432">,</span>&nbsp;<span class="ident" id="2052434">mant</span>&nbsp;<span class="builtintype" id="2052439">uint32</span><span class="op" id="2052445">,</span>&nbsp;<span class="ident" id="2052447">exp</span>&nbsp;<span class="builtintype" id="2052451">int</span><span class="op" id="2052454">,</span>&nbsp;<span class="ident" id="2052456">trunc</span>&nbsp;<span class="builtintype" id="2052462">uint32</span><span class="op" id="2052468">)</span>&nbsp;<span class="builtintype" id="2052470">uint32</span>&nbsp;<span class="op" id="2052477">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052480">mant0</span><span class="op" id="2052485">,</span>&nbsp;<span class="ident" id="2052487">exp0</span><span class="op" id="2052491">,</span>&nbsp;<span class="ident" id="2052493">trunc0</span>&nbsp;<span class="op" id="2052500">:=</span>&nbsp;<span class="ident" id="2052503">mant</span><span class="op" id="2052507">,</span>&nbsp;<span class="ident" id="2052509">exp</span><span class="op" id="2052512">,</span>&nbsp;<span class="ident" id="2052514">trunc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052521">if</span>&nbsp;<span class="ident" id="2052524">mant</span>&nbsp;<span class="op" id="2052529">==</span>&nbsp;<span class="num" id="2052532">0</span>&nbsp;<span class="op" id="2052534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052538">return</span>&nbsp;<span class="ident" id="2052545">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052554">for</span>&nbsp;<span class="ident" id="2052558">mant</span>&nbsp;<span class="op" id="2052563">&lt;</span>&nbsp;<span class="num" id="2052565">1</span><span class="op" id="2052566">&lt;&lt;</span><span class="ident" id="2052568">mantbits32</span>&nbsp;<span class="op" id="2052579">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052583">mant</span>&nbsp;<span class="op" id="2052588">&lt;&lt;=</span>&nbsp;<span class="num" id="2052592">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052596">exp</span><span class="op" id="2052599">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052606">for</span>&nbsp;<span class="ident" id="2052610">mant</span>&nbsp;<span class="op" id="2052615">&gt;=</span>&nbsp;<span class="num" id="2052618">4</span><span class="op" id="2052619">&lt;&lt;</span><span class="ident" id="2052621">mantbits32</span>&nbsp;<span class="op" id="2052632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052636">trunc</span>&nbsp;<span class="op" id="2052642">|=</span>&nbsp;<span class="ident" id="2052645">mant</span>&nbsp;<span class="op" id="2052650">&amp;</span>&nbsp;<span class="num" id="2052652">1</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052656">mant</span>&nbsp;<span class="op" id="2052661">&gt;&gt;=</span>&nbsp;<span class="num" id="2052665">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052669">exp</span><span class="op" id="2052672">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052679">if</span>&nbsp;<span class="ident" id="2052682">mant</span>&nbsp;<span class="op" id="2052687">&gt;=</span>&nbsp;<span class="num" id="2052690">2</span><span class="op" id="2052691">&lt;&lt;</span><span class="ident" id="2052693">mantbits32</span>&nbsp;<span class="op" id="2052704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052708">if</span>&nbsp;<span class="ident" id="2052711">mant</span><span class="op" id="2052715">&amp;</span><span class="num" id="2052716">1</span>&nbsp;<span class="op" id="2052718">!=</span>&nbsp;<span class="num" id="2052721">0</span>&nbsp;<span class="op" id="2052723">&amp;&amp;</span>&nbsp;<span class="op" id="2052726">(</span><span class="ident" id="2052727">trunc</span>&nbsp;<span class="op" id="2052733">!=</span>&nbsp;<span class="num" id="2052736">0</span>&nbsp;<span class="op" id="2052738">||</span>&nbsp;<span class="ident" id="2052741">mant</span><span class="op" id="2052745">&amp;</span><span class="num" id="2052746">2</span>&nbsp;<span class="op" id="2052748">!=</span>&nbsp;<span class="num" id="2052751">0</span><span class="op" id="2052752">)</span>&nbsp;<span class="op" id="2052754">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052759">mant</span><span class="op" id="2052763">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052769">if</span>&nbsp;<span class="ident" id="2052772">mant</span>&nbsp;<span class="op" id="2052777">&gt;=</span>&nbsp;<span class="num" id="2052780">4</span><span class="op" id="2052781">&lt;&lt;</span><span class="ident" id="2052783">mantbits32</span>&nbsp;<span class="op" id="2052794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052800">mant</span>&nbsp;<span class="op" id="2052805">&gt;&gt;=</span>&nbsp;<span class="num" id="2052809">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052815">exp</span><span class="op" id="2052818">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052824">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052832">mant</span>&nbsp;<span class="op" id="2052837">&gt;&gt;=</span>&nbsp;<span class="num" id="2052841">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2052845">exp</span><span class="op" id="2052848">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052855">if</span>&nbsp;<span class="ident" id="2052858">exp</span>&nbsp;<span class="op" id="2052862">&gt;=</span>&nbsp;<span class="num" id="2052865">1</span><span class="op" id="2052866">&lt;&lt;</span><span class="ident" id="2052868">expbits32</span><span class="op" id="2052877">-</span><span class="num" id="2052878">1</span><span class="op" id="2052879">+</span><span class="ident" id="2052880">bias32</span>&nbsp;<span class="op" id="2052887">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052891">return</span>&nbsp;<span class="ident" id="2052898">sign</span>&nbsp;<span class="op" id="2052903">^</span>&nbsp;<span class="ident" id="2052905">inf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052915">if</span>&nbsp;<span class="ident" id="2052918">exp</span>&nbsp;<span class="op" id="2052922">&lt;</span>&nbsp;<span class="ident" id="2052924">bias32</span><span class="op" id="2052930">+</span><span class="num" id="2052931">1</span>&nbsp;<span class="op" id="2052933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052937">if</span>&nbsp;<span class="ident" id="2052940">exp</span>&nbsp;<span class="op" id="2052944">&lt;</span>&nbsp;<span class="ident" id="2052946">bias32</span><span class="op" id="2052952">-</span><span class="builtintype" id="2052953">int</span><span class="op" id="2052956">(</span><span class="ident" id="2052957">mantbits32</span><span class="op" id="2052967">)</span>&nbsp;<span class="op" id="2052969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2052974">return</span>&nbsp;<span class="ident" id="2052981">sign</span>&nbsp;<span class="op" id="2052986">|</span>&nbsp;<span class="num" id="2052988">0</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2052992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2052996">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053027">mant</span><span class="op" id="2053031">,</span>&nbsp;<span class="ident" id="2053033">exp</span><span class="op" id="2053036">,</span>&nbsp;<span class="ident" id="2053038">trunc</span>&nbsp;<span class="op" id="2053044">=</span>&nbsp;<span class="ident" id="2053046">mant0</span><span class="op" id="2053051">,</span>&nbsp;<span class="ident" id="2053053">exp0</span><span class="op" id="2053057">,</span>&nbsp;<span class="ident" id="2053059">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053068">for</span>&nbsp;<span class="ident" id="2053072">exp</span>&nbsp;<span class="op" id="2053076">&lt;</span>&nbsp;<span class="ident" id="2053078">bias32</span>&nbsp;<span class="op" id="2053085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053090">trunc</span>&nbsp;<span class="op" id="2053096">|=</span>&nbsp;<span class="ident" id="2053099">mant</span>&nbsp;<span class="op" id="2053104">&amp;</span>&nbsp;<span class="num" id="2053106">1</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053111">mant</span>&nbsp;<span class="op" id="2053116">&gt;&gt;=</span>&nbsp;<span class="num" id="2053120">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053125">exp</span><span class="op" id="2053128">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053137">if</span>&nbsp;<span class="ident" id="2053140">mant</span><span class="op" id="2053144">&amp;</span><span class="num" id="2053145">1</span>&nbsp;<span class="op" id="2053147">!=</span>&nbsp;<span class="num" id="2053150">0</span>&nbsp;<span class="op" id="2053152">&amp;&amp;</span>&nbsp;<span class="op" id="2053155">(</span><span class="ident" id="2053156">trunc</span>&nbsp;<span class="op" id="2053162">!=</span>&nbsp;<span class="num" id="2053165">0</span>&nbsp;<span class="op" id="2053167">||</span>&nbsp;<span class="ident" id="2053170">mant</span><span class="op" id="2053174">&amp;</span><span class="num" id="2053175">2</span>&nbsp;<span class="op" id="2053177">!=</span>&nbsp;<span class="num" id="2053180">0</span><span class="op" id="2053181">)</span>&nbsp;<span class="op" id="2053183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053188">mant</span><span class="op" id="2053192">++</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053201">mant</span>&nbsp;<span class="op" id="2053206">&gt;&gt;=</span>&nbsp;<span class="num" id="2053210">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053214">exp</span><span class="op" id="2053217">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053222">if</span>&nbsp;<span class="ident" id="2053225">mant</span>&nbsp;<span class="op" id="2053230">&lt;</span>&nbsp;<span class="num" id="2053232">1</span><span class="op" id="2053233">&lt;&lt;</span><span class="ident" id="2053235">mantbits32</span>&nbsp;<span class="op" id="2053246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053251">return</span>&nbsp;<span class="ident" id="2053258">sign</span>&nbsp;<span class="op" id="2053263">|</span>&nbsp;<span class="ident" id="2053265">mant</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053278">return</span>&nbsp;<span class="ident" id="2053285">sign</span>&nbsp;<span class="op" id="2053290">|</span>&nbsp;<span class="builtintype" id="2053292">uint32</span><span class="op" id="2053298">(</span><span class="ident" id="2053299">exp</span><span class="op" id="2053302">-</span><span class="ident" id="2053303">bias32</span><span class="op" id="2053309">)</span><span class="op" id="2053310">&lt;&lt;</span><span class="ident" id="2053312">mantbits32</span>&nbsp;<span class="op" id="2053323">|</span>&nbsp;<span class="ident" id="2053325">mant</span><span class="op" id="2053329">&amp;</span><span class="op" id="2053330">(</span><span class="num" id="2053331">1</span><span class="op" id="2053332">&lt;&lt;</span><span class="ident" id="2053334">mantbits32</span><span class="op" id="2053344">-</span><span class="num" id="2053345">1</span><span class="op" id="2053346">)</span><br>
<span class="lineno"></span><span class="op" id="2053348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="2053351">func</span>&nbsp;<span class="ident" id="2053356">fadd64</span><span class="op" id="2053362">(</span><span class="ident" id="2053363">f</span><span class="op" id="2053364">,</span>&nbsp;<span class="ident" id="2053366">g</span>&nbsp;<span class="ident" id="2053368">uint64</span><span class="op" id="2053374">)</span>&nbsp;<span class="ident" id="2053376">uint64</span>&nbsp;<span class="op" id="2053383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053386">fs</span><span class="op" id="2053388">,</span>&nbsp;<span class="ident" id="2053390">fm</span><span class="op" id="2053392">,</span>&nbsp;<span class="ident" id="2053394">fe</span><span class="op" id="2053396">,</span>&nbsp;<span class="ident" id="2053398">fi</span><span class="op" id="2053400">,</span>&nbsp;<span class="ident" id="2053402">fn</span>&nbsp;<span class="op" id="2053405">:=</span>&nbsp;<span class="ident" id="2053408">funpack64</span><span class="op" id="2053417">(</span><span class="ident" id="2053418">f</span><span class="op" id="2053419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053422">gs</span><span class="op" id="2053424">,</span>&nbsp;<span class="ident" id="2053426">gm</span><span class="op" id="2053428">,</span>&nbsp;<span class="ident" id="2053430">ge</span><span class="op" id="2053432">,</span>&nbsp;<span class="ident" id="2053434">gi</span><span class="op" id="2053436">,</span>&nbsp;<span class="ident" id="2053438">gn</span>&nbsp;<span class="op" id="2053441">:=</span>&nbsp;<span class="ident" id="2053444">funpack64</span><span class="op" id="2053453">(</span><span class="ident" id="2053454">g</span><span class="op" id="2053455">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2053459">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053478">switch</span>&nbsp;<span class="op" id="2053485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053488">case</span>&nbsp;<span class="ident" id="2053493">fn</span>&nbsp;<span class="op" id="2053496">||</span>&nbsp;<span class="ident" id="2053499">gn</span><span class="op" id="2053501">:</span>&nbsp;<span class="comment" id="2053503">//&nbsp;NaN&nbsp;+&nbsp;x&nbsp;or&nbsp;x&nbsp;+&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053533">return</span>&nbsp;<span class="ident" id="2053540">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053548">case</span>&nbsp;<span class="ident" id="2053553">fi</span>&nbsp;<span class="op" id="2053556">&amp;&amp;</span>&nbsp;<span class="ident" id="2053559">gi</span>&nbsp;<span class="op" id="2053562">&amp;&amp;</span>&nbsp;<span class="ident" id="2053565">fs</span>&nbsp;<span class="op" id="2053568">!=</span>&nbsp;<span class="ident" id="2053571">gs</span><span class="op" id="2053573">:</span>&nbsp;<span class="comment" id="2053575">//&nbsp;+Inf&nbsp;+&nbsp;-Inf&nbsp;or&nbsp;-Inf&nbsp;+&nbsp;+Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053613">return</span>&nbsp;<span class="ident" id="2053620">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053628">case</span>&nbsp;<span class="ident" id="2053633">fi</span><span class="op" id="2053635">:</span>&nbsp;<span class="comment" id="2053637">//&nbsp;Inf&nbsp;+&nbsp;g&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053660">return</span>&nbsp;<span class="ident" id="2053667">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053671">case</span>&nbsp;<span class="ident" id="2053676">gi</span><span class="op" id="2053678">:</span>&nbsp;<span class="comment" id="2053680">//&nbsp;f&nbsp;+&nbsp;Inf&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053703">return</span>&nbsp;<span class="ident" id="2053710">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053714">case</span>&nbsp;<span class="ident" id="2053719">fm</span>&nbsp;<span class="op" id="2053722">==</span>&nbsp;<span class="num" id="2053725">0</span>&nbsp;<span class="op" id="2053727">&amp;&amp;</span>&nbsp;<span class="ident" id="2053730">gm</span>&nbsp;<span class="op" id="2053733">==</span>&nbsp;<span class="num" id="2053736">0</span>&nbsp;<span class="op" id="2053738">&amp;&amp;</span>&nbsp;<span class="ident" id="2053741">fs</span>&nbsp;<span class="op" id="2053744">!=</span>&nbsp;<span class="num" id="2053747">0</span>&nbsp;<span class="op" id="2053749">&amp;&amp;</span>&nbsp;<span class="ident" id="2053752">gs</span>&nbsp;<span class="op" id="2053755">!=</span>&nbsp;<span class="num" id="2053758">0</span><span class="op" id="2053759">:</span>&nbsp;<span class="comment" id="2053761">//&nbsp;-0&nbsp;+&nbsp;-0&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053779">return</span>&nbsp;<span class="ident" id="2053786">f</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053790">case</span>&nbsp;<span class="ident" id="2053795">fm</span>&nbsp;<span class="op" id="2053798">==</span>&nbsp;<span class="num" id="2053801">0</span><span class="op" id="2053802">:</span>&nbsp;<span class="comment" id="2053804">//&nbsp;0&nbsp;+&nbsp;g&nbsp;=&nbsp;g&nbsp;but&nbsp;0&nbsp;+&nbsp;-0&nbsp;=&nbsp;+0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053835">if</span>&nbsp;<span class="ident" id="2053838">gm</span>&nbsp;<span class="op" id="2053841">==</span>&nbsp;<span class="num" id="2053844">0</span>&nbsp;<span class="op" id="2053846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053851">g</span>&nbsp;<span class="op" id="2053853">^=</span>&nbsp;<span class="ident" id="2053856">gs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053861">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053865">return</span>&nbsp;<span class="ident" id="2053872">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053876">case</span>&nbsp;<span class="ident" id="2053881">gm</span>&nbsp;<span class="op" id="2053884">==</span>&nbsp;<span class="num" id="2053887">0</span><span class="op" id="2053888">:</span>&nbsp;<span class="comment" id="2053890">//&nbsp;f&nbsp;+&nbsp;0&nbsp;=&nbsp;f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053905">return</span>&nbsp;<span class="ident" id="2053912">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2053916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2053920">if</span>&nbsp;<span class="ident" id="2053923">fe</span>&nbsp;<span class="op" id="2053926">&lt;</span>&nbsp;<span class="ident" id="2053928">ge</span>&nbsp;<span class="op" id="2053931">||</span>&nbsp;<span class="ident" id="2053934">fe</span>&nbsp;<span class="op" id="2053937">==</span>&nbsp;<span class="ident" id="2053940">ge</span>&nbsp;<span class="op" id="2053943">&amp;&amp;</span>&nbsp;<span class="ident" id="2053946">fm</span>&nbsp;<span class="op" id="2053949">&lt;</span>&nbsp;<span class="ident" id="2053951">gm</span>&nbsp;<span class="op" id="2053954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2053958">f</span><span class="op" id="2053959">,</span>&nbsp;<span class="ident" id="2053961">g</span><span class="op" id="2053962">,</span>&nbsp;<span class="ident" id="2053964">fs</span><span class="op" id="2053966">,</span>&nbsp;<span class="ident" id="2053968">fm</span><span class="op" id="2053970">,</span>&nbsp;<span class="ident" id="2053972">fe</span><span class="op" id="2053974">,</span>&nbsp;<span class="ident" id="2053976">gs</span><span class="op" id="2053978">,</span>&nbsp;<span class="ident" id="2053980">gm</span><span class="op" id="2053982">,</span>&nbsp;<span class="ident" id="2053984">ge</span>&nbsp;<span class="op" id="2053987">=</span>&nbsp;<span class="ident" id="2053989">g</span><span class="op" id="2053990">,</span>&nbsp;<span class="ident" id="2053992">f</span><span class="op" id="2053993">,</span>&nbsp;<span class="ident" id="2053995">gs</span><span class="op" id="2053997">,</span>&nbsp;<span class="ident" id="2053999">gm</span><span class="op" id="2054001">,</span>&nbsp;<span class="ident" id="2054003">ge</span><span class="op" id="2054005">,</span>&nbsp;<span class="ident" id="2054007">fs</span><span class="op" id="2054009">,</span>&nbsp;<span class="ident" id="2054011">fm</span><span class="op" id="2054013">,</span>&nbsp;<span class="ident" id="2054015">fe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2054019">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054023">shift</span>&nbsp;<span class="op" id="2054029">:=</span>&nbsp;<span class="builtintype" id="2054032">uint</span><span class="op" id="2054036">(</span><span class="ident" id="2054037">fe</span>&nbsp;<span class="op" id="2054040">-</span>&nbsp;<span class="ident" id="2054042">ge</span><span class="op" id="2054044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054047">fm</span>&nbsp;<span class="op" id="2054050">&lt;&lt;=</span>&nbsp;<span class="num" id="2054054">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054057">gm</span>&nbsp;<span class="op" id="2054060">&lt;&lt;=</span>&nbsp;<span class="num" id="2054064">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054067">trunc</span>&nbsp;<span class="op" id="2054073">:=</span>&nbsp;<span class="ident" id="2054076">gm</span>&nbsp;<span class="op" id="2054079">&amp;</span>&nbsp;<span class="op" id="2054081">(</span><span class="num" id="2054082">1</span><span class="op" id="2054083">&lt;&lt;</span><span class="ident" id="2054085">shift</span>&nbsp;<span class="op" id="2054091">-</span>&nbsp;<span class="num" id="2054093">1</span><span class="op" id="2054094">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054097">gm</span>&nbsp;<span class="op" id="2054100">&gt;&gt;=</span>&nbsp;<span class="ident" id="2054104">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054111">if</span>&nbsp;<span class="ident" id="2054114">fs</span>&nbsp;<span class="op" id="2054117">==</span>&nbsp;<span class="ident" id="2054120">gs</span>&nbsp;<span class="op" id="2054123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054127">fm</span>&nbsp;<span class="op" id="2054130">+=</span>&nbsp;<span class="ident" id="2054133">gm</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2054137">}</span>&nbsp;<span class="keyword" id="2054139">else</span>&nbsp;<span class="op" id="2054144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054148">fm</span>&nbsp;<span class="op" id="2054151">-=</span>&nbsp;<span class="ident" id="2054154">gm</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054159">if</span>&nbsp;<span class="ident" id="2054162">trunc</span>&nbsp;<span class="op" id="2054168">!=</span>&nbsp;<span class="num" id="2054171">0</span>&nbsp;<span class="op" id="2054173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054178">fm</span><span class="op" id="2054180">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2054185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2054188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054191">if</span>&nbsp;<span class="ident" id="2054194">fm</span>&nbsp;<span class="op" id="2054197">==</span>&nbsp;<span class="num" id="2054200">0</span>&nbsp;<span class="op" id="2054202">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054206">fs</span>&nbsp;<span class="op" id="2054209">=</span>&nbsp;<span class="num" id="2054211">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2054214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054217">return</span>&nbsp;<span class="ident" id="2054224">fpack64</span><span class="op" id="2054231">(</span><span class="ident" id="2054232">fs</span><span class="op" id="2054234">,</span>&nbsp;<span class="ident" id="2054236">fm</span><span class="op" id="2054238">,</span>&nbsp;<span class="ident" id="2054240">fe</span><span class="op" id="2054242">-</span><span class="num" id="2054243">2</span><span class="op" id="2054244">,</span>&nbsp;<span class="ident" id="2054246">trunc</span><span class="op" id="2054251">)</span><br>
<span class="lineno"></span><span class="op" id="2054253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="2054256">func</span>&nbsp;<span class="ident" id="2054261">fsub64</span><span class="op" id="2054267">(</span><span class="ident" id="2054268">f</span><span class="op" id="2054269">,</span>&nbsp;<span class="ident" id="2054271">g</span>&nbsp;<span class="ident" id="2054273">uint64</span><span class="op" id="2054279">)</span>&nbsp;<span class="ident" id="2054281">uint64</span>&nbsp;<span class="op" id="2054288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054291">return</span>&nbsp;<span class="ident" id="2054298">fadd64</span><span class="op" id="2054304">(</span><span class="ident" id="2054305">f</span><span class="op" id="2054306">,</span>&nbsp;<span class="ident" id="2054308">fneg64</span><span class="op" id="2054314">(</span><span class="ident" id="2054315">g</span><span class="op" id="2054316">)</span><span class="op" id="2054317">)</span><br>
<span class="lineno"></span><span class="op" id="2054319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2054322">func</span>&nbsp;<span class="ident" id="2054327">fneg64</span><span class="op" id="2054333">(</span><span class="ident" id="2054334">f</span>&nbsp;<span class="ident" id="2054336">uint64</span><span class="op" id="2054342">)</span>&nbsp;<span class="ident" id="2054344">uint64</span>&nbsp;<span class="op" id="2054351">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054354">return</span>&nbsp;<span class="ident" id="2054361">f</span>&nbsp;<span class="op" id="2054363">^</span>&nbsp;<span class="op" id="2054365">(</span><span class="num" id="2054366">1</span>&nbsp;<span class="op" id="2054368">&lt;&lt;</span>&nbsp;<span class="op" id="2054371">(</span><span class="ident" id="2054372">mantbits64</span>&nbsp;<span class="op" id="2054383">+</span>&nbsp;<span class="ident" id="2054385">expbits64</span><span class="op" id="2054394">)</span><span class="op" id="2054395">)</span><br>
<span class="lineno"></span><span class="op" id="2054397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2054400">func</span>&nbsp;<span class="ident" id="2054405">fmul64</span><span class="op" id="2054411">(</span><span class="ident" id="2054412">f</span><span class="op" id="2054413">,</span>&nbsp;<span class="ident" id="2054415">g</span>&nbsp;<span class="ident" id="2054417">uint64</span><span class="op" id="2054423">)</span>&nbsp;<span class="ident" id="2054425">uint64</span>&nbsp;<span class="op" id="2054432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054435">fs</span><span class="op" id="2054437">,</span>&nbsp;<span class="ident" id="2054439">fm</span><span class="op" id="2054441">,</span>&nbsp;<span class="ident" id="2054443">fe</span><span class="op" id="2054445">,</span>&nbsp;<span class="ident" id="2054447">fi</span><span class="op" id="2054449">,</span>&nbsp;<span class="ident" id="2054451">fn</span>&nbsp;<span class="op" id="2054454">:=</span>&nbsp;<span class="ident" id="2054457">funpack64</span><span class="op" id="2054466">(</span><span class="ident" id="2054467">f</span><span class="op" id="2054468">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054471">gs</span><span class="op" id="2054473">,</span>&nbsp;<span class="ident" id="2054475">gm</span><span class="op" id="2054477">,</span>&nbsp;<span class="ident" id="2054479">ge</span><span class="op" id="2054481">,</span>&nbsp;<span class="ident" id="2054483">gi</span><span class="op" id="2054485">,</span>&nbsp;<span class="ident" id="2054487">gn</span>&nbsp;<span class="op" id="2054490">:=</span>&nbsp;<span class="ident" id="2054493">funpack64</span><span class="op" id="2054502">(</span><span class="ident" id="2054503">g</span><span class="op" id="2054504">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2054508">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054527">switch</span>&nbsp;<span class="op" id="2054534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054537">case</span>&nbsp;<span class="ident" id="2054542">fn</span>&nbsp;<span class="op" id="2054545">||</span>&nbsp;<span class="ident" id="2054548">gn</span><span class="op" id="2054550">:</span>&nbsp;<span class="comment" id="2054552">//&nbsp;NaN&nbsp;*&nbsp;g&nbsp;or&nbsp;f&nbsp;*&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054582">return</span>&nbsp;<span class="ident" id="2054589">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054597">case</span>&nbsp;<span class="ident" id="2054602">fi</span>&nbsp;<span class="op" id="2054605">&amp;&amp;</span>&nbsp;<span class="ident" id="2054608">gi</span><span class="op" id="2054610">:</span>&nbsp;<span class="comment" id="2054612">//&nbsp;Inf&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054654">return</span>&nbsp;<span class="ident" id="2054661">f</span>&nbsp;<span class="op" id="2054663">^</span>&nbsp;<span class="ident" id="2054665">gs</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054670">case</span>&nbsp;<span class="ident" id="2054675">fi</span>&nbsp;<span class="op" id="2054678">&amp;&amp;</span>&nbsp;<span class="ident" id="2054681">gm</span>&nbsp;<span class="op" id="2054684">==</span>&nbsp;<span class="num" id="2054687">0</span><span class="op" id="2054688">,</span>&nbsp;<span class="ident" id="2054690">fm</span>&nbsp;<span class="op" id="2054693">==</span>&nbsp;<span class="num" id="2054696">0</span>&nbsp;<span class="op" id="2054698">&amp;&amp;</span>&nbsp;<span class="ident" id="2054701">gi</span><span class="op" id="2054703">:</span>&nbsp;<span class="comment" id="2054705">//&nbsp;0&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;*&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054734">return</span>&nbsp;<span class="ident" id="2054741">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054749">case</span>&nbsp;<span class="ident" id="2054754">fm</span>&nbsp;<span class="op" id="2054757">==</span>&nbsp;<span class="num" id="2054760">0</span><span class="op" id="2054761">:</span>&nbsp;<span class="comment" id="2054763">//&nbsp;0&nbsp;*&nbsp;x&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054799">return</span>&nbsp;<span class="ident" id="2054806">f</span>&nbsp;<span class="op" id="2054808">^</span>&nbsp;<span class="ident" id="2054810">gs</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054815">case</span>&nbsp;<span class="ident" id="2054820">gm</span>&nbsp;<span class="op" id="2054823">==</span>&nbsp;<span class="num" id="2054826">0</span><span class="op" id="2054827">:</span>&nbsp;<span class="comment" id="2054829">//&nbsp;x&nbsp;*&nbsp;0&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2054865">return</span>&nbsp;<span class="ident" id="2054872">g</span>&nbsp;<span class="op" id="2054874">^</span>&nbsp;<span class="ident" id="2054876">fs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2054880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2054884">//&nbsp;53-bit&nbsp;*&nbsp;53-bit&nbsp;=&nbsp;107-&nbsp;or&nbsp;108-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054922">lo</span><span class="op" id="2054924">,</span>&nbsp;<span class="ident" id="2054926">hi</span>&nbsp;<span class="op" id="2054929">:=</span>&nbsp;<span class="ident" id="2054932">mullu</span><span class="op" id="2054937">(</span><span class="ident" id="2054938">fm</span><span class="op" id="2054940">,</span>&nbsp;<span class="ident" id="2054942">gm</span><span class="op" id="2054944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054947">shift</span>&nbsp;<span class="op" id="2054953">:=</span>&nbsp;<span class="ident" id="2054956">mantbits64</span>&nbsp;<span class="op" id="2054967">-</span>&nbsp;<span class="num" id="2054969">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2054972">trunc</span>&nbsp;<span class="op" id="2054978">:=</span>&nbsp;<span class="ident" id="2054981">lo</span>&nbsp;<span class="op" id="2054984">&amp;</span>&nbsp;<span class="op" id="2054986">(</span><span class="num" id="2054987">1</span><span class="op" id="2054988">&lt;&lt;</span><span class="ident" id="2054990">shift</span>&nbsp;<span class="op" id="2054996">-</span>&nbsp;<span class="num" id="2054998">1</span><span class="op" id="2054999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055002">mant</span>&nbsp;<span class="op" id="2055007">:=</span>&nbsp;<span class="ident" id="2055010">hi</span><span class="op" id="2055012">&lt;&lt;</span><span class="op" id="2055014">(</span><span class="num" id="2055015">64</span><span class="op" id="2055017">-</span><span class="ident" id="2055018">shift</span><span class="op" id="2055023">)</span>&nbsp;<span class="op" id="2055025">|</span>&nbsp;<span class="ident" id="2055027">lo</span><span class="op" id="2055029">&gt;&gt;</span><span class="ident" id="2055031">shift</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055038">return</span>&nbsp;<span class="ident" id="2055045">fpack64</span><span class="op" id="2055052">(</span><span class="ident" id="2055053">fs</span><span class="op" id="2055055">^</span><span class="ident" id="2055056">gs</span><span class="op" id="2055058">,</span>&nbsp;<span class="ident" id="2055060">mant</span><span class="op" id="2055064">,</span>&nbsp;<span class="ident" id="2055066">fe</span><span class="op" id="2055068">+</span><span class="ident" id="2055069">ge</span><span class="op" id="2055071">-</span><span class="num" id="2055072">1</span><span class="op" id="2055073">,</span>&nbsp;<span class="ident" id="2055075">trunc</span><span class="op" id="2055080">)</span><br>
<span class="lineno"></span><span class="op" id="2055082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2055085">func</span>&nbsp;<span class="ident" id="2055090">fdiv64</span><span class="op" id="2055096">(</span><span class="ident" id="2055097">f</span><span class="op" id="2055098">,</span>&nbsp;<span class="ident" id="2055100">g</span>&nbsp;<span class="ident" id="2055102">uint64</span><span class="op" id="2055108">)</span>&nbsp;<span class="ident" id="2055110">uint64</span>&nbsp;<span class="op" id="2055117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055120">fs</span><span class="op" id="2055122">,</span>&nbsp;<span class="ident" id="2055124">fm</span><span class="op" id="2055126">,</span>&nbsp;<span class="ident" id="2055128">fe</span><span class="op" id="2055130">,</span>&nbsp;<span class="ident" id="2055132">fi</span><span class="op" id="2055134">,</span>&nbsp;<span class="ident" id="2055136">fn</span>&nbsp;<span class="op" id="2055139">:=</span>&nbsp;<span class="ident" id="2055142">funpack64</span><span class="op" id="2055151">(</span><span class="ident" id="2055152">f</span><span class="op" id="2055153">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055156">gs</span><span class="op" id="2055158">,</span>&nbsp;<span class="ident" id="2055160">gm</span><span class="op" id="2055162">,</span>&nbsp;<span class="ident" id="2055164">ge</span><span class="op" id="2055166">,</span>&nbsp;<span class="ident" id="2055168">gi</span><span class="op" id="2055170">,</span>&nbsp;<span class="ident" id="2055172">gn</span>&nbsp;<span class="op" id="2055175">:=</span>&nbsp;<span class="ident" id="2055178">funpack64</span><span class="op" id="2055187">(</span><span class="ident" id="2055188">g</span><span class="op" id="2055189">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2055193">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055212">switch</span>&nbsp;<span class="op" id="2055219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055222">case</span>&nbsp;<span class="ident" id="2055227">fn</span>&nbsp;<span class="op" id="2055230">||</span>&nbsp;<span class="ident" id="2055233">gn</span><span class="op" id="2055235">:</span>&nbsp;<span class="comment" id="2055237">//&nbsp;NaN&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055266">return</span>&nbsp;<span class="ident" id="2055273">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055281">case</span>&nbsp;<span class="ident" id="2055286">fi</span>&nbsp;<span class="op" id="2055289">&amp;&amp;</span>&nbsp;<span class="ident" id="2055292">gi</span><span class="op" id="2055294">:</span>&nbsp;<span class="comment" id="2055296">//&nbsp;Inf&nbsp;/&nbsp;Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055321">return</span>&nbsp;<span class="ident" id="2055328">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055336">case</span>&nbsp;<span class="op" id="2055341">!</span><span class="ident" id="2055342">fi</span>&nbsp;<span class="op" id="2055345">&amp;&amp;</span>&nbsp;<span class="op" id="2055348">!</span><span class="ident" id="2055349">gi</span>&nbsp;<span class="op" id="2055352">&amp;&amp;</span>&nbsp;<span class="ident" id="2055355">fm</span>&nbsp;<span class="op" id="2055358">==</span>&nbsp;<span class="num" id="2055361">0</span>&nbsp;<span class="op" id="2055363">&amp;&amp;</span>&nbsp;<span class="ident" id="2055366">gm</span>&nbsp;<span class="op" id="2055369">==</span>&nbsp;<span class="num" id="2055372">0</span><span class="op" id="2055373">:</span>&nbsp;<span class="comment" id="2055375">//&nbsp;0&nbsp;/&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055392">return</span>&nbsp;<span class="ident" id="2055399">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055407">case</span>&nbsp;<span class="ident" id="2055412">fi</span><span class="op" id="2055414">,</span>&nbsp;<span class="op" id="2055416">!</span><span class="ident" id="2055417">gi</span>&nbsp;<span class="op" id="2055420">&amp;&amp;</span>&nbsp;<span class="ident" id="2055423">gm</span>&nbsp;<span class="op" id="2055426">==</span>&nbsp;<span class="num" id="2055429">0</span><span class="op" id="2055430">:</span>&nbsp;<span class="comment" id="2055432">//&nbsp;Inf&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;0&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055459">return</span>&nbsp;<span class="ident" id="2055466">fs</span>&nbsp;<span class="op" id="2055469">^</span>&nbsp;<span class="ident" id="2055471">gs</span>&nbsp;<span class="op" id="2055474">^</span>&nbsp;<span class="ident" id="2055476">inf64</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055484">case</span>&nbsp;<span class="ident" id="2055489">gi</span><span class="op" id="2055491">,</span>&nbsp;<span class="ident" id="2055493">fm</span>&nbsp;<span class="op" id="2055496">==</span>&nbsp;<span class="num" id="2055499">0</span><span class="op" id="2055500">:</span>&nbsp;<span class="comment" id="2055502">//&nbsp;f&nbsp;/&nbsp;Inf&nbsp;=&nbsp;0&nbsp;/&nbsp;g&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055529">return</span>&nbsp;<span class="ident" id="2055536">fs</span>&nbsp;<span class="op" id="2055539">^</span>&nbsp;<span class="ident" id="2055541">gs</span>&nbsp;<span class="op" id="2055544">^</span>&nbsp;<span class="num" id="2055546">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055552">_</span><span class="op" id="2055553">,</span>&nbsp;<span class="ident" id="2055555">_</span><span class="op" id="2055556">,</span>&nbsp;<span class="ident" id="2055558">_</span><span class="op" id="2055559">,</span>&nbsp;<span class="ident" id="2055561">_</span>&nbsp;<span class="op" id="2055563">=</span>&nbsp;<span class="ident" id="2055565">fi</span><span class="op" id="2055567">,</span>&nbsp;<span class="ident" id="2055569">fn</span><span class="op" id="2055571">,</span>&nbsp;<span class="ident" id="2055573">gi</span><span class="op" id="2055575">,</span>&nbsp;<span class="ident" id="2055577">gn</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2055582">//&nbsp;53-bit&lt;&lt;54&nbsp;/&nbsp;53-bit&nbsp;=&nbsp;53-&nbsp;or&nbsp;54-bit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055623">shift</span>&nbsp;<span class="op" id="2055629">:=</span>&nbsp;<span class="ident" id="2055632">mantbits64</span>&nbsp;<span class="op" id="2055643">+</span>&nbsp;<span class="num" id="2055645">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055648">q</span><span class="op" id="2055649">,</span>&nbsp;<span class="ident" id="2055651">r</span>&nbsp;<span class="op" id="2055653">:=</span>&nbsp;<span class="ident" id="2055656">divlu</span><span class="op" id="2055661">(</span><span class="ident" id="2055662">fm</span><span class="op" id="2055664">&gt;&gt;</span><span class="op" id="2055666">(</span><span class="num" id="2055667">64</span><span class="op" id="2055669">-</span><span class="ident" id="2055670">shift</span><span class="op" id="2055675">)</span><span class="op" id="2055676">,</span>&nbsp;<span class="ident" id="2055678">fm</span><span class="op" id="2055680">&lt;&lt;</span><span class="ident" id="2055682">shift</span><span class="op" id="2055687">,</span>&nbsp;<span class="ident" id="2055689">gm</span><span class="op" id="2055691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055694">return</span>&nbsp;<span class="ident" id="2055701">fpack64</span><span class="op" id="2055708">(</span><span class="ident" id="2055709">fs</span><span class="op" id="2055711">^</span><span class="ident" id="2055712">gs</span><span class="op" id="2055714">,</span>&nbsp;<span class="ident" id="2055716">q</span><span class="op" id="2055717">,</span>&nbsp;<span class="ident" id="2055719">fe</span><span class="op" id="2055721">-</span><span class="ident" id="2055722">ge</span><span class="op" id="2055724">-</span><span class="num" id="2055725">2</span><span class="op" id="2055726">,</span>&nbsp;<span class="ident" id="2055728">r</span><span class="op" id="2055729">)</span><br>
<span class="lineno">315</span><span class="op" id="2055731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2055734">func</span>&nbsp;<span class="ident" id="2055739">f64to32</span><span class="op" id="2055746">(</span><span class="ident" id="2055747">f</span>&nbsp;<span class="ident" id="2055749">uint64</span><span class="op" id="2055755">)</span>&nbsp;<span class="builtintype" id="2055757">uint32</span>&nbsp;<span class="op" id="2055764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055767">fs</span><span class="op" id="2055769">,</span>&nbsp;<span class="ident" id="2055771">fm</span><span class="op" id="2055773">,</span>&nbsp;<span class="ident" id="2055775">fe</span><span class="op" id="2055777">,</span>&nbsp;<span class="ident" id="2055779">fi</span><span class="op" id="2055781">,</span>&nbsp;<span class="ident" id="2055783">fn</span>&nbsp;<span class="op" id="2055786">:=</span>&nbsp;<span class="ident" id="2055789">funpack64</span><span class="op" id="2055798">(</span><span class="ident" id="2055799">f</span><span class="op" id="2055800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055803">if</span>&nbsp;<span class="ident" id="2055806">fn</span>&nbsp;<span class="op" id="2055809">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055813">return</span>&nbsp;<span class="ident" id="2055820">nan32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2055830">fs32</span>&nbsp;<span class="op" id="2055835">:=</span>&nbsp;<span class="builtintype" id="2055838">uint32</span><span class="op" id="2055844">(</span><span class="ident" id="2055845">fs</span>&nbsp;<span class="op" id="2055848">&gt;&gt;</span>&nbsp;<span class="num" id="2055851">32</span><span class="op" id="2055853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055856">if</span>&nbsp;<span class="ident" id="2055859">fi</span>&nbsp;<span class="op" id="2055862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055866">return</span>&nbsp;<span class="ident" id="2055873">fs32</span>&nbsp;<span class="op" id="2055878">^</span>&nbsp;<span class="ident" id="2055880">inf32</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2055887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055890">const</span>&nbsp;<span class="ident" id="2055896">d</span>&nbsp;<span class="op" id="2055898">=</span>&nbsp;<span class="ident" id="2055900">mantbits64</span>&nbsp;<span class="op" id="2055911">-</span>&nbsp;<span class="ident" id="2055913">mantbits32</span>&nbsp;<span class="op" id="2055924">-</span>&nbsp;<span class="num" id="2055926">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2055929">return</span>&nbsp;<span class="ident" id="2055936">fpack32</span><span class="op" id="2055943">(</span><span class="ident" id="2055944">fs32</span><span class="op" id="2055948">,</span>&nbsp;<span class="builtintype" id="2055950">uint32</span><span class="op" id="2055956">(</span><span class="ident" id="2055957">fm</span><span class="op" id="2055959">&gt;&gt;</span><span class="ident" id="2055961">d</span><span class="op" id="2055962">)</span><span class="op" id="2055963">,</span>&nbsp;<span class="ident" id="2055965">fe</span><span class="op" id="2055967">-</span><span class="num" id="2055968">1</span><span class="op" id="2055969">,</span>&nbsp;<span class="builtintype" id="2055971">uint32</span><span class="op" id="2055977">(</span><span class="ident" id="2055978">fm</span><span class="op" id="2055980">&amp;</span><span class="op" id="2055981">(</span><span class="num" id="2055982">1</span><span class="op" id="2055983">&lt;&lt;</span><span class="ident" id="2055985">d</span><span class="op" id="2055986">-</span><span class="num" id="2055987">1</span><span class="op" id="2055988">)</span><span class="op" id="2055989">)</span><span class="op" id="2055990">)</span><br>
<span class="lineno"></span><span class="op" id="2055992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span><span class="keyword" id="2055995">func</span>&nbsp;<span class="ident" id="2056000">f32to64</span><span class="op" id="2056007">(</span><span class="ident" id="2056008">f</span>&nbsp;<span class="builtintype" id="2056010">uint32</span><span class="op" id="2056016">)</span>&nbsp;<span class="ident" id="2056018">uint64</span>&nbsp;<span class="op" id="2056025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056028">const</span>&nbsp;<span class="ident" id="2056034">d</span>&nbsp;<span class="op" id="2056036">=</span>&nbsp;<span class="ident" id="2056038">mantbits64</span>&nbsp;<span class="op" id="2056049">-</span>&nbsp;<span class="ident" id="2056051">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056063">fs</span><span class="op" id="2056065">,</span>&nbsp;<span class="ident" id="2056067">fm</span><span class="op" id="2056069">,</span>&nbsp;<span class="ident" id="2056071">fe</span><span class="op" id="2056073">,</span>&nbsp;<span class="ident" id="2056075">fi</span><span class="op" id="2056077">,</span>&nbsp;<span class="ident" id="2056079">fn</span>&nbsp;<span class="op" id="2056082">:=</span>&nbsp;<span class="ident" id="2056085">funpack32</span><span class="op" id="2056094">(</span><span class="ident" id="2056095">f</span><span class="op" id="2056096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056099">if</span>&nbsp;<span class="ident" id="2056102">fn</span>&nbsp;<span class="op" id="2056105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056109">return</span>&nbsp;<span class="ident" id="2056116">nan64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056126">fs64</span>&nbsp;<span class="op" id="2056131">:=</span>&nbsp;<span class="ident" id="2056134">uint64</span><span class="op" id="2056140">(</span><span class="ident" id="2056141">fs</span><span class="op" id="2056143">)</span>&nbsp;<span class="op" id="2056145">&lt;&lt;</span>&nbsp;<span class="num" id="2056148">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056152">if</span>&nbsp;<span class="ident" id="2056155">fi</span>&nbsp;<span class="op" id="2056158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056162">return</span>&nbsp;<span class="ident" id="2056169">fs64</span>&nbsp;<span class="op" id="2056174">^</span>&nbsp;<span class="ident" id="2056176">inf64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056183">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056186">return</span>&nbsp;<span class="ident" id="2056193">fpack64</span><span class="op" id="2056200">(</span><span class="ident" id="2056201">fs64</span><span class="op" id="2056205">,</span>&nbsp;<span class="ident" id="2056207">uint64</span><span class="op" id="2056213">(</span><span class="ident" id="2056214">fm</span><span class="op" id="2056216">)</span><span class="op" id="2056217">&lt;&lt;</span><span class="ident" id="2056219">d</span><span class="op" id="2056220">,</span>&nbsp;<span class="ident" id="2056222">fe</span><span class="op" id="2056224">,</span>&nbsp;<span class="num" id="2056226">0</span><span class="op" id="2056227">)</span><br>
<span class="lineno"></span><span class="op" id="2056229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2056232">func</span>&nbsp;<span class="ident" id="2056237">fcmp64</span><span class="op" id="2056243">(</span><span class="ident" id="2056244">f</span><span class="op" id="2056245">,</span>&nbsp;<span class="ident" id="2056247">g</span>&nbsp;<span class="ident" id="2056249">uint64</span><span class="op" id="2056255">)</span>&nbsp;<span class="op" id="2056257">(</span><span class="ident" id="2056258">cmp</span>&nbsp;<span class="builtintype" id="2056262">int</span><span class="op" id="2056265">,</span>&nbsp;<span class="ident" id="2056267">isnan</span>&nbsp;<span class="builtintype" id="2056273">bool</span><span class="op" id="2056277">)</span>&nbsp;<span class="op" id="2056279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056282">fs</span><span class="op" id="2056284">,</span>&nbsp;<span class="ident" id="2056286">fm</span><span class="op" id="2056288">,</span>&nbsp;<span class="ident" id="2056290">_</span><span class="op" id="2056291">,</span>&nbsp;<span class="ident" id="2056293">fi</span><span class="op" id="2056295">,</span>&nbsp;<span class="ident" id="2056297">fn</span>&nbsp;<span class="op" id="2056300">:=</span>&nbsp;<span class="ident" id="2056303">funpack64</span><span class="op" id="2056312">(</span><span class="ident" id="2056313">f</span><span class="op" id="2056314">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056317">gs</span><span class="op" id="2056319">,</span>&nbsp;<span class="ident" id="2056321">gm</span><span class="op" id="2056323">,</span>&nbsp;<span class="ident" id="2056325">_</span><span class="op" id="2056326">,</span>&nbsp;<span class="ident" id="2056328">gi</span><span class="op" id="2056330">,</span>&nbsp;<span class="ident" id="2056332">gn</span>&nbsp;<span class="op" id="2056335">:=</span>&nbsp;<span class="ident" id="2056338">funpack64</span><span class="op" id="2056347">(</span><span class="ident" id="2056348">g</span><span class="op" id="2056349">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056353">switch</span>&nbsp;<span class="op" id="2056360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056363">case</span>&nbsp;<span class="ident" id="2056368">fn</span><span class="op" id="2056370">,</span>&nbsp;<span class="ident" id="2056372">gn</span><span class="op" id="2056374">:</span>&nbsp;<span class="comment" id="2056376">//&nbsp;flag&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056390">return</span>&nbsp;<span class="num" id="2056397">0</span><span class="op" id="2056398">,</span>&nbsp;<span class="builtintype" id="2056400">true</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056407">case</span>&nbsp;<span class="op" id="2056412">!</span><span class="ident" id="2056413">fi</span>&nbsp;<span class="op" id="2056416">&amp;&amp;</span>&nbsp;<span class="op" id="2056419">!</span><span class="ident" id="2056420">gi</span>&nbsp;<span class="op" id="2056423">&amp;&amp;</span>&nbsp;<span class="ident" id="2056426">fm</span>&nbsp;<span class="op" id="2056429">==</span>&nbsp;<span class="num" id="2056432">0</span>&nbsp;<span class="op" id="2056434">&amp;&amp;</span>&nbsp;<span class="ident" id="2056437">gm</span>&nbsp;<span class="op" id="2056440">==</span>&nbsp;<span class="num" id="2056443">0</span><span class="op" id="2056444">:</span>&nbsp;<span class="comment" id="2056446">//&nbsp;0&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056462">return</span>&nbsp;<span class="num" id="2056469">0</span><span class="op" id="2056470">,</span>&nbsp;<span class="builtintype" id="2056472">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056480">case</span>&nbsp;<span class="ident" id="2056485">fs</span>&nbsp;<span class="op" id="2056488">&gt;</span>&nbsp;<span class="ident" id="2056490">gs</span><span class="op" id="2056492">:</span>&nbsp;<span class="comment" id="2056494">//&nbsp;f&nbsp;&lt;&nbsp;0,&nbsp;g&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056512">return</span>&nbsp;<span class="op" id="2056519">-</span><span class="num" id="2056520">1</span><span class="op" id="2056521">,</span>&nbsp;<span class="builtintype" id="2056523">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056531">case</span>&nbsp;<span class="ident" id="2056536">fs</span>&nbsp;<span class="op" id="2056539">&lt;</span>&nbsp;<span class="ident" id="2056541">gs</span><span class="op" id="2056543">:</span>&nbsp;<span class="comment" id="2056545">//&nbsp;f&nbsp;&gt;&nbsp;0,&nbsp;g&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056563">return</span>&nbsp;<span class="op" id="2056570">+</span><span class="num" id="2056571">1</span><span class="op" id="2056572">,</span>&nbsp;<span class="builtintype" id="2056574">false</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2056582">//&nbsp;Same&nbsp;sign,&nbsp;not&nbsp;NaN.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2056606">//&nbsp;Can&nbsp;compare&nbsp;encodings&nbsp;directly&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2056646">//&nbsp;Reverse&nbsp;for&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056668">case</span>&nbsp;<span class="ident" id="2056673">fs</span>&nbsp;<span class="op" id="2056676">==</span>&nbsp;<span class="num" id="2056679">0</span>&nbsp;<span class="op" id="2056681">&amp;&amp;</span>&nbsp;<span class="ident" id="2056684">f</span>&nbsp;<span class="op" id="2056686">&lt;</span>&nbsp;<span class="ident" id="2056688">g</span><span class="op" id="2056689">,</span>&nbsp;<span class="ident" id="2056691">fs</span>&nbsp;<span class="op" id="2056694">!=</span>&nbsp;<span class="num" id="2056697">0</span>&nbsp;<span class="op" id="2056699">&amp;&amp;</span>&nbsp;<span class="ident" id="2056702">f</span>&nbsp;<span class="op" id="2056704">&gt;</span>&nbsp;<span class="ident" id="2056706">g</span><span class="op" id="2056707">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056711">return</span>&nbsp;<span class="op" id="2056718">-</span><span class="num" id="2056719">1</span><span class="op" id="2056720">,</span>&nbsp;<span class="builtintype" id="2056722">false</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056730">case</span>&nbsp;<span class="ident" id="2056735">fs</span>&nbsp;<span class="op" id="2056738">==</span>&nbsp;<span class="num" id="2056741">0</span>&nbsp;<span class="op" id="2056743">&amp;&amp;</span>&nbsp;<span class="ident" id="2056746">f</span>&nbsp;<span class="op" id="2056748">&gt;</span>&nbsp;<span class="ident" id="2056750">g</span><span class="op" id="2056751">,</span>&nbsp;<span class="ident" id="2056753">fs</span>&nbsp;<span class="op" id="2056756">!=</span>&nbsp;<span class="num" id="2056759">0</span>&nbsp;<span class="op" id="2056761">&amp;&amp;</span>&nbsp;<span class="ident" id="2056764">f</span>&nbsp;<span class="op" id="2056766">&lt;</span>&nbsp;<span class="ident" id="2056768">g</span><span class="op" id="2056769">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056773">return</span>&nbsp;<span class="op" id="2056780">+</span><span class="num" id="2056781">1</span><span class="op" id="2056782">,</span>&nbsp;<span class="builtintype" id="2056784">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2056791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2056795">//&nbsp;f&nbsp;==&nbsp;g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056806">return</span>&nbsp;<span class="num" id="2056813">0</span><span class="op" id="2056814">,</span>&nbsp;<span class="builtintype" id="2056816">false</span><br>
<span class="lineno"></span><span class="op" id="2056822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2056825">func</span>&nbsp;<span class="ident" id="2056830">f64toint</span><span class="op" id="2056838">(</span><span class="ident" id="2056839">f</span>&nbsp;<span class="ident" id="2056841">uint64</span><span class="op" id="2056847">)</span>&nbsp;<span class="op" id="2056849">(</span><span class="ident" id="2056850">val</span>&nbsp;<span class="ident" id="2056854">int64</span><span class="op" id="2056859">,</span>&nbsp;<span class="ident" id="2056861">ok</span>&nbsp;<span class="builtintype" id="2056864">bool</span><span class="op" id="2056868">)</span>&nbsp;<span class="op" id="2056870">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2056873">fs</span><span class="op" id="2056875">,</span>&nbsp;<span class="ident" id="2056877">fm</span><span class="op" id="2056879">,</span>&nbsp;<span class="ident" id="2056881">fe</span><span class="op" id="2056883">,</span>&nbsp;<span class="ident" id="2056885">fi</span><span class="op" id="2056887">,</span>&nbsp;<span class="ident" id="2056889">fn</span>&nbsp;<span class="op" id="2056892">:=</span>&nbsp;<span class="ident" id="2056895">funpack64</span><span class="op" id="2056904">(</span><span class="ident" id="2056905">f</span><span class="op" id="2056906">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056910">switch</span>&nbsp;<span class="op" id="2056917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056920">case</span>&nbsp;<span class="ident" id="2056925">fi</span><span class="op" id="2056927">,</span>&nbsp;<span class="ident" id="2056929">fn</span><span class="op" id="2056931">:</span>&nbsp;<span class="comment" id="2056933">//&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056942">return</span>&nbsp;<span class="num" id="2056949">0</span><span class="op" id="2056950">,</span>&nbsp;<span class="builtintype" id="2056952">false</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056960">case</span>&nbsp;<span class="ident" id="2056965">fe</span>&nbsp;<span class="op" id="2056968">&lt;</span>&nbsp;<span class="op" id="2056970">-</span><span class="num" id="2056971">1</span><span class="op" id="2056972">:</span>&nbsp;<span class="comment" id="2056974">//&nbsp;f&nbsp;&lt;&nbsp;0.5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2056987">return</span>&nbsp;<span class="num" id="2056994">0</span><span class="op" id="2056995">,</span>&nbsp;<span class="builtintype" id="2056997">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057005">case</span>&nbsp;<span class="ident" id="2057010">fe</span>&nbsp;<span class="op" id="2057013">&gt;</span>&nbsp;<span class="num" id="2057015">63</span><span class="op" id="2057017">:</span>&nbsp;<span class="comment" id="2057019">//&nbsp;f&nbsp;&gt;=&nbsp;2^63</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057034">if</span>&nbsp;<span class="ident" id="2057037">fs</span>&nbsp;<span class="op" id="2057040">!=</span>&nbsp;<span class="num" id="2057043">0</span>&nbsp;<span class="op" id="2057045">&amp;&amp;</span>&nbsp;<span class="ident" id="2057048">fm</span>&nbsp;<span class="op" id="2057051">==</span>&nbsp;<span class="num" id="2057054">0</span>&nbsp;<span class="op" id="2057056">{</span>&nbsp;<span class="comment" id="2057058">//&nbsp;f&nbsp;==&nbsp;-2^63</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057075">return</span>&nbsp;<span class="op" id="2057082">-</span><span class="num" id="2057083">1</span>&nbsp;<span class="op" id="2057085">&lt;&lt;</span>&nbsp;<span class="num" id="2057088">63</span><span class="op" id="2057090">,</span>&nbsp;<span class="builtintype" id="2057092">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057103">if</span>&nbsp;<span class="ident" id="2057106">fs</span>&nbsp;<span class="op" id="2057109">!=</span>&nbsp;<span class="num" id="2057112">0</span>&nbsp;<span class="op" id="2057114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057119">return</span>&nbsp;<span class="num" id="2057126">0</span><span class="op" id="2057127">,</span>&nbsp;<span class="builtintype" id="2057129">false</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057141">return</span>&nbsp;<span class="num" id="2057148">0</span><span class="op" id="2057149">,</span>&nbsp;<span class="builtintype" id="2057151">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057162">for</span>&nbsp;<span class="ident" id="2057166">fe</span>&nbsp;<span class="op" id="2057169">&gt;</span>&nbsp;<span class="builtintype" id="2057171">int</span><span class="op" id="2057174">(</span><span class="ident" id="2057175">mantbits64</span><span class="op" id="2057185">)</span>&nbsp;<span class="op" id="2057187">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057191">fe</span><span class="op" id="2057193">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057198">fm</span>&nbsp;<span class="op" id="2057201">&lt;&lt;=</span>&nbsp;<span class="num" id="2057205">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057211">for</span>&nbsp;<span class="ident" id="2057215">fe</span>&nbsp;<span class="op" id="2057218">&lt;</span>&nbsp;<span class="builtintype" id="2057220">int</span><span class="op" id="2057223">(</span><span class="ident" id="2057224">mantbits64</span><span class="op" id="2057234">)</span>&nbsp;<span class="op" id="2057236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057240">fe</span><span class="op" id="2057242">++</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057247">fm</span>&nbsp;<span class="op" id="2057250">&gt;&gt;=</span>&nbsp;<span class="num" id="2057254">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057260">val</span>&nbsp;<span class="op" id="2057264">=</span>&nbsp;<span class="ident" id="2057266">int64</span><span class="op" id="2057271">(</span><span class="ident" id="2057272">fm</span><span class="op" id="2057274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057277">if</span>&nbsp;<span class="ident" id="2057280">fs</span>&nbsp;<span class="op" id="2057283">!=</span>&nbsp;<span class="num" id="2057286">0</span>&nbsp;<span class="op" id="2057288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057292">val</span>&nbsp;<span class="op" id="2057296">=</span>&nbsp;<span class="op" id="2057298">-</span><span class="ident" id="2057299">val</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057307">return</span>&nbsp;<span class="ident" id="2057314">val</span><span class="op" id="2057317">,</span>&nbsp;<span class="builtintype" id="2057319">true</span><br>
<span class="lineno"></span><span class="op" id="2057324">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2057327">func</span>&nbsp;<span class="ident" id="2057332">fintto64</span><span class="op" id="2057340">(</span><span class="ident" id="2057341">val</span>&nbsp;<span class="ident" id="2057345">int64</span><span class="op" id="2057350">)</span>&nbsp;<span class="op" id="2057352">(</span><span class="ident" id="2057353">f</span>&nbsp;<span class="ident" id="2057355">uint64</span><span class="op" id="2057361">)</span>&nbsp;<span class="op" id="2057363">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057366">fs</span>&nbsp;<span class="op" id="2057369">:=</span>&nbsp;<span class="ident" id="2057372">uint64</span><span class="op" id="2057378">(</span><span class="ident" id="2057379">val</span><span class="op" id="2057382">)</span>&nbsp;<span class="op" id="2057384">&amp;</span>&nbsp;<span class="op" id="2057386">(</span><span class="num" id="2057387">1</span>&nbsp;<span class="op" id="2057389">&lt;&lt;</span>&nbsp;<span class="num" id="2057392">63</span><span class="op" id="2057394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057397">mant</span>&nbsp;<span class="op" id="2057402">:=</span>&nbsp;<span class="ident" id="2057405">uint64</span><span class="op" id="2057411">(</span><span class="ident" id="2057412">val</span><span class="op" id="2057415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057418">if</span>&nbsp;<span class="ident" id="2057421">fs</span>&nbsp;<span class="op" id="2057424">!=</span>&nbsp;<span class="num" id="2057427">0</span>&nbsp;<span class="op" id="2057429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057433">mant</span>&nbsp;<span class="op" id="2057438">=</span>&nbsp;<span class="op" id="2057440">-</span><span class="ident" id="2057441">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057447">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057450">return</span>&nbsp;<span class="ident" id="2057457">fpack64</span><span class="op" id="2057464">(</span><span class="ident" id="2057465">fs</span><span class="op" id="2057467">,</span>&nbsp;<span class="ident" id="2057469">mant</span><span class="op" id="2057473">,</span>&nbsp;<span class="builtintype" id="2057475">int</span><span class="op" id="2057478">(</span><span class="ident" id="2057479">mantbits64</span><span class="op" id="2057489">)</span><span class="op" id="2057490">,</span>&nbsp;<span class="num" id="2057492">0</span><span class="op" id="2057493">)</span><br>
<span class="lineno"></span><span class="op" id="2057495">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2057498">//&nbsp;64x64&nbsp;-&gt;&nbsp;128&nbsp;multiply.</span><br>
<span class="lineno"></span><span class="comment" id="2057524">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight.</span><br>
<span class="lineno">420</span><span class="keyword" id="2057558">func</span>&nbsp;<span class="ident" id="2057563">mullu</span><span class="op" id="2057568">(</span><span class="ident" id="2057569">u</span><span class="op" id="2057570">,</span>&nbsp;<span class="ident" id="2057572">v</span>&nbsp;<span class="ident" id="2057574">uint64</span><span class="op" id="2057580">)</span>&nbsp;<span class="op" id="2057582">(</span><span class="ident" id="2057583">lo</span><span class="op" id="2057585">,</span>&nbsp;<span class="ident" id="2057587">hi</span>&nbsp;<span class="ident" id="2057590">uint64</span><span class="op" id="2057596">)</span>&nbsp;<span class="op" id="2057598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057601">const</span>&nbsp;<span class="op" id="2057607">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057611">s</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2057616">=</span>&nbsp;<span class="num" id="2057618">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057623">mask</span>&nbsp;<span class="op" id="2057628">=</span>&nbsp;<span class="num" id="2057630">1</span><span class="op" id="2057631">&lt;&lt;</span><span class="ident" id="2057633">s</span>&nbsp;<span class="op" id="2057635">-</span>&nbsp;<span class="num" id="2057637">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2057640">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057643">u0</span>&nbsp;<span class="op" id="2057646">:=</span>&nbsp;<span class="ident" id="2057649">u</span>&nbsp;<span class="op" id="2057651">&amp;</span>&nbsp;<span class="ident" id="2057653">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057659">u1</span>&nbsp;<span class="op" id="2057662">:=</span>&nbsp;<span class="ident" id="2057665">u</span>&nbsp;<span class="op" id="2057667">&gt;&gt;</span>&nbsp;<span class="ident" id="2057670">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057673">v0</span>&nbsp;<span class="op" id="2057676">:=</span>&nbsp;<span class="ident" id="2057679">v</span>&nbsp;<span class="op" id="2057681">&amp;</span>&nbsp;<span class="ident" id="2057683">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057689">v1</span>&nbsp;<span class="op" id="2057692">:=</span>&nbsp;<span class="ident" id="2057695">v</span>&nbsp;<span class="op" id="2057697">&gt;&gt;</span>&nbsp;<span class="ident" id="2057700">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057703">w0</span>&nbsp;<span class="op" id="2057706">:=</span>&nbsp;<span class="ident" id="2057709">u0</span>&nbsp;<span class="op" id="2057712">*</span>&nbsp;<span class="ident" id="2057714">v0</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057718">t</span>&nbsp;<span class="op" id="2057720">:=</span>&nbsp;<span class="ident" id="2057723">u1</span><span class="op" id="2057725">*</span><span class="ident" id="2057726">v0</span>&nbsp;<span class="op" id="2057729">+</span>&nbsp;<span class="ident" id="2057731">w0</span><span class="op" id="2057733">&gt;&gt;</span><span class="ident" id="2057735">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057738">w1</span>&nbsp;<span class="op" id="2057741">:=</span>&nbsp;<span class="ident" id="2057744">t</span>&nbsp;<span class="op" id="2057746">&amp;</span>&nbsp;<span class="ident" id="2057748">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057754">w2</span>&nbsp;<span class="op" id="2057757">:=</span>&nbsp;<span class="ident" id="2057760">t</span>&nbsp;<span class="op" id="2057762">&gt;&gt;</span>&nbsp;<span class="ident" id="2057765">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2057768">w1</span>&nbsp;<span class="op" id="2057771">+=</span>&nbsp;<span class="ident" id="2057774">u0</span>&nbsp;<span class="op" id="2057777">*</span>&nbsp;<span class="ident" id="2057779">v1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057783">return</span>&nbsp;<span class="ident" id="2057790">u</span>&nbsp;<span class="op" id="2057792">*</span>&nbsp;<span class="ident" id="2057794">v</span><span class="op" id="2057795">,</span>&nbsp;<span class="ident" id="2057797">u1</span><span class="op" id="2057799">*</span><span class="ident" id="2057800">v1</span>&nbsp;<span class="op" id="2057803">+</span>&nbsp;<span class="ident" id="2057805">w2</span>&nbsp;<span class="op" id="2057808">+</span>&nbsp;<span class="ident" id="2057810">w1</span><span class="op" id="2057812">&gt;&gt;</span><span class="ident" id="2057814">s</span><br>
<span class="lineno">435</span><span class="op" id="2057816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2057819">//&nbsp;128/64&nbsp;-&gt;&nbsp;64&nbsp;quotient,&nbsp;64&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="2057859">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight</span><br>
<span class="lineno"></span><span class="keyword" id="2057892">func</span>&nbsp;<span class="ident" id="2057897">divlu</span><span class="op" id="2057902">(</span><span class="ident" id="2057903">u1</span><span class="op" id="2057905">,</span>&nbsp;<span class="ident" id="2057907">u0</span><span class="op" id="2057909">,</span>&nbsp;<span class="ident" id="2057911">v</span>&nbsp;<span class="ident" id="2057913">uint64</span><span class="op" id="2057919">)</span>&nbsp;<span class="op" id="2057921">(</span><span class="ident" id="2057922">q</span><span class="op" id="2057923">,</span>&nbsp;<span class="ident" id="2057925">r</span>&nbsp;<span class="ident" id="2057927">uint64</span><span class="op" id="2057933">)</span>&nbsp;<span class="op" id="2057935">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057938">const</span>&nbsp;<span class="ident" id="2057944">b</span>&nbsp;<span class="op" id="2057946">=</span>&nbsp;<span class="num" id="2057948">1</span>&nbsp;<span class="op" id="2057950">&lt;&lt;</span>&nbsp;<span class="num" id="2057953">32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057958">if</span>&nbsp;<span class="ident" id="2057961">u1</span>&nbsp;<span class="op" id="2057964">&gt;=</span>&nbsp;<span class="ident" id="2057967">v</span>&nbsp;<span class="op" id="2057969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2057973">return</span>&nbsp;<span class="num" id="2057980">1</span><span class="op" id="2057981">&lt;&lt;</span><span class="num" id="2057983">64</span>&nbsp;<span class="op" id="2057986">-</span>&nbsp;<span class="num" id="2057988">1</span><span class="op" id="2057989">,</span>&nbsp;<span class="num" id="2057991">1</span><span class="op" id="2057992">&lt;&lt;</span><span class="num" id="2057994">64</span>&nbsp;<span class="op" id="2057997">-</span>&nbsp;<span class="num" id="2057999">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058002">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2058006">//&nbsp;s&nbsp;=&nbsp;nlz(v);&nbsp;v&nbsp;&lt;&lt;=&nbsp;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058030">s</span>&nbsp;<span class="op" id="2058032">:=</span>&nbsp;<span class="builtintype" id="2058035">uint</span><span class="op" id="2058039">(</span><span class="num" id="2058040">0</span><span class="op" id="2058041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058044">for</span>&nbsp;<span class="ident" id="2058048">v</span><span class="op" id="2058049">&amp;</span><span class="op" id="2058050">(</span><span class="num" id="2058051">1</span><span class="op" id="2058052">&lt;&lt;</span><span class="num" id="2058054">63</span><span class="op" id="2058056">)</span>&nbsp;<span class="op" id="2058058">==</span>&nbsp;<span class="num" id="2058061">0</span>&nbsp;<span class="op" id="2058063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058067">s</span><span class="op" id="2058068">++</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058073">v</span>&nbsp;<span class="op" id="2058075">&lt;&lt;=</span>&nbsp;<span class="num" id="2058079">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058086">vn1</span>&nbsp;<span class="op" id="2058090">:=</span>&nbsp;<span class="ident" id="2058093">v</span>&nbsp;<span class="op" id="2058095">&gt;&gt;</span>&nbsp;<span class="num" id="2058098">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058102">vn0</span>&nbsp;<span class="op" id="2058106">:=</span>&nbsp;<span class="ident" id="2058109">v</span>&nbsp;<span class="op" id="2058111">&amp;</span>&nbsp;<span class="op" id="2058113">(</span><span class="num" id="2058114">1</span><span class="op" id="2058115">&lt;&lt;</span><span class="num" id="2058117">32</span>&nbsp;<span class="op" id="2058120">-</span>&nbsp;<span class="num" id="2058122">1</span><span class="op" id="2058123">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058126">un32</span>&nbsp;<span class="op" id="2058131">:=</span>&nbsp;<span class="ident" id="2058134">u1</span><span class="op" id="2058136">&lt;&lt;</span><span class="ident" id="2058138">s</span>&nbsp;<span class="op" id="2058140">|</span>&nbsp;<span class="ident" id="2058142">u0</span><span class="op" id="2058144">&gt;&gt;</span><span class="op" id="2058146">(</span><span class="num" id="2058147">64</span><span class="op" id="2058149">-</span><span class="ident" id="2058150">s</span><span class="op" id="2058151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058154">un10</span>&nbsp;<span class="op" id="2058159">:=</span>&nbsp;<span class="ident" id="2058162">u0</span>&nbsp;<span class="op" id="2058165">&lt;&lt;</span>&nbsp;<span class="ident" id="2058168">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058171">un1</span>&nbsp;<span class="op" id="2058175">:=</span>&nbsp;<span class="ident" id="2058178">un10</span>&nbsp;<span class="op" id="2058183">&gt;&gt;</span>&nbsp;<span class="num" id="2058186">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058190">un0</span>&nbsp;<span class="op" id="2058194">:=</span>&nbsp;<span class="ident" id="2058197">un10</span>&nbsp;<span class="op" id="2058202">&amp;</span>&nbsp;<span class="op" id="2058204">(</span><span class="num" id="2058205">1</span><span class="op" id="2058206">&lt;&lt;</span><span class="num" id="2058208">32</span>&nbsp;<span class="op" id="2058211">-</span>&nbsp;<span class="num" id="2058213">1</span><span class="op" id="2058214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058217">q1</span>&nbsp;<span class="op" id="2058220">:=</span>&nbsp;<span class="ident" id="2058223">un32</span>&nbsp;<span class="op" id="2058228">/</span>&nbsp;<span class="ident" id="2058230">vn1</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058235">rhat</span>&nbsp;<span class="op" id="2058240">:=</span>&nbsp;<span class="ident" id="2058243">un32</span>&nbsp;<span class="op" id="2058248">-</span>&nbsp;<span class="ident" id="2058250">q1</span><span class="op" id="2058252">*</span><span class="ident" id="2058253">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="2058258">again1</span><span class="op" id="2058264">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058267">if</span>&nbsp;<span class="ident" id="2058270">q1</span>&nbsp;<span class="op" id="2058273">&gt;=</span>&nbsp;<span class="ident" id="2058276">b</span>&nbsp;<span class="op" id="2058278">||</span>&nbsp;<span class="ident" id="2058281">q1</span><span class="op" id="2058283">*</span><span class="ident" id="2058284">vn0</span>&nbsp;<span class="op" id="2058288">&gt;</span>&nbsp;<span class="ident" id="2058290">b</span><span class="op" id="2058291">*</span><span class="ident" id="2058292">rhat</span><span class="op" id="2058296">+</span><span class="ident" id="2058297">un1</span>&nbsp;<span class="op" id="2058301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058305">q1</span><span class="op" id="2058307">--</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058312">rhat</span>&nbsp;<span class="op" id="2058317">+=</span>&nbsp;<span class="ident" id="2058320">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058326">if</span>&nbsp;<span class="ident" id="2058329">rhat</span>&nbsp;<span class="op" id="2058334">&lt;</span>&nbsp;<span class="ident" id="2058336">b</span>&nbsp;<span class="op" id="2058338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058343">goto</span>&nbsp;<span class="ident" id="2058348">again1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058360">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058364">un21</span>&nbsp;<span class="op" id="2058369">:=</span>&nbsp;<span class="ident" id="2058372">un32</span><span class="op" id="2058376">*</span><span class="ident" id="2058377">b</span>&nbsp;<span class="op" id="2058379">+</span>&nbsp;<span class="ident" id="2058381">un1</span>&nbsp;<span class="op" id="2058385">-</span>&nbsp;<span class="ident" id="2058387">q1</span><span class="op" id="2058389">*</span><span class="ident" id="2058390">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058393">q0</span>&nbsp;<span class="op" id="2058396">:=</span>&nbsp;<span class="ident" id="2058399">un21</span>&nbsp;<span class="op" id="2058404">/</span>&nbsp;<span class="ident" id="2058406">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058411">rhat</span>&nbsp;<span class="op" id="2058416">=</span>&nbsp;<span class="ident" id="2058418">un21</span>&nbsp;<span class="op" id="2058423">-</span>&nbsp;<span class="ident" id="2058425">q0</span><span class="op" id="2058427">*</span><span class="ident" id="2058428">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span><span class="ident" id="2058433">again2</span><span class="op" id="2058439">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058442">if</span>&nbsp;<span class="ident" id="2058445">q0</span>&nbsp;<span class="op" id="2058448">&gt;=</span>&nbsp;<span class="ident" id="2058451">b</span>&nbsp;<span class="op" id="2058453">||</span>&nbsp;<span class="ident" id="2058456">q0</span><span class="op" id="2058458">*</span><span class="ident" id="2058459">vn0</span>&nbsp;<span class="op" id="2058463">&gt;</span>&nbsp;<span class="ident" id="2058465">b</span><span class="op" id="2058466">*</span><span class="ident" id="2058467">rhat</span><span class="op" id="2058471">+</span><span class="ident" id="2058472">un0</span>&nbsp;<span class="op" id="2058476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058480">q0</span><span class="op" id="2058482">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2058487">rhat</span>&nbsp;<span class="op" id="2058492">+=</span>&nbsp;<span class="ident" id="2058495">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058501">if</span>&nbsp;<span class="ident" id="2058504">rhat</span>&nbsp;<span class="op" id="2058509">&lt;</span>&nbsp;<span class="ident" id="2058511">b</span>&nbsp;<span class="op" id="2058513">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058518">goto</span>&nbsp;<span class="ident" id="2058523">again2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2058535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2058539">return</span>&nbsp;<span class="ident" id="2058546">q1</span><span class="op" id="2058548">*</span><span class="ident" id="2058549">b</span>&nbsp;<span class="op" id="2058551">+</span>&nbsp;<span class="ident" id="2058553">q0</span><span class="op" id="2058555">,</span>&nbsp;<span class="op" id="2058557">(</span><span class="ident" id="2058558">un21</span><span class="op" id="2058562">*</span><span class="ident" id="2058563">b</span>&nbsp;<span class="op" id="2058565">+</span>&nbsp;<span class="ident" id="2058567">un0</span>&nbsp;<span class="op" id="2058571">-</span>&nbsp;<span class="ident" id="2058573">q0</span><span class="op" id="2058575">*</span><span class="ident" id="2058576">v</span><span class="op" id="2058577">)</span>&nbsp;<span class="op" id="2058579">&gt;&gt;</span>&nbsp;<span class="ident" id="2058582">s</span><br>
<span class="lineno">485</span><span class="op" id="2058584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2058587">//&nbsp;callable&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2058607">func</span>&nbsp;<span class="ident" id="2058612">fadd64c</span><span class="op" id="2058619">(</span><span class="ident" id="2058620">f</span><span class="op" id="2058621">,</span>&nbsp;<span class="ident" id="2058623">g</span>&nbsp;<span class="ident" id="2058625">uint64</span><span class="op" id="2058631">,</span>&nbsp;<span class="ident" id="2058633">ret</span>&nbsp;<span class="op" id="2058637">*</span><span class="ident" id="2058638">uint64</span><span class="op" id="2058644">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058657">{</span>&nbsp;<span class="op" id="2058659">*</span><span class="ident" id="2058660">ret</span>&nbsp;<span class="op" id="2058664">=</span>&nbsp;<span class="ident" id="2058666">fadd64</span><span class="op" id="2058672">(</span><span class="ident" id="2058673">f</span><span class="op" id="2058674">,</span>&nbsp;<span class="ident" id="2058676">g</span><span class="op" id="2058677">)</span>&nbsp;<span class="op" id="2058679">}</span><br>
<span class="lineno">490</span><span class="keyword" id="2058681">func</span>&nbsp;<span class="ident" id="2058686">fsub64c</span><span class="op" id="2058693">(</span><span class="ident" id="2058694">f</span><span class="op" id="2058695">,</span>&nbsp;<span class="ident" id="2058697">g</span>&nbsp;<span class="ident" id="2058699">uint64</span><span class="op" id="2058705">,</span>&nbsp;<span class="ident" id="2058707">ret</span>&nbsp;<span class="op" id="2058711">*</span><span class="ident" id="2058712">uint64</span><span class="op" id="2058718">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058731">{</span>&nbsp;<span class="op" id="2058733">*</span><span class="ident" id="2058734">ret</span>&nbsp;<span class="op" id="2058738">=</span>&nbsp;<span class="ident" id="2058740">fsub64</span><span class="op" id="2058746">(</span><span class="ident" id="2058747">f</span><span class="op" id="2058748">,</span>&nbsp;<span class="ident" id="2058750">g</span><span class="op" id="2058751">)</span>&nbsp;<span class="op" id="2058753">}</span><br>
<span class="lineno"></span><span class="keyword" id="2058755">func</span>&nbsp;<span class="ident" id="2058760">fmul64c</span><span class="op" id="2058767">(</span><span class="ident" id="2058768">f</span><span class="op" id="2058769">,</span>&nbsp;<span class="ident" id="2058771">g</span>&nbsp;<span class="ident" id="2058773">uint64</span><span class="op" id="2058779">,</span>&nbsp;<span class="ident" id="2058781">ret</span>&nbsp;<span class="op" id="2058785">*</span><span class="ident" id="2058786">uint64</span><span class="op" id="2058792">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058805">{</span>&nbsp;<span class="op" id="2058807">*</span><span class="ident" id="2058808">ret</span>&nbsp;<span class="op" id="2058812">=</span>&nbsp;<span class="ident" id="2058814">fmul64</span><span class="op" id="2058820">(</span><span class="ident" id="2058821">f</span><span class="op" id="2058822">,</span>&nbsp;<span class="ident" id="2058824">g</span><span class="op" id="2058825">)</span>&nbsp;<span class="op" id="2058827">}</span><br>
<span class="lineno"></span><span class="keyword" id="2058829">func</span>&nbsp;<span class="ident" id="2058834">fdiv64c</span><span class="op" id="2058841">(</span><span class="ident" id="2058842">f</span><span class="op" id="2058843">,</span>&nbsp;<span class="ident" id="2058845">g</span>&nbsp;<span class="ident" id="2058847">uint64</span><span class="op" id="2058853">,</span>&nbsp;<span class="ident" id="2058855">ret</span>&nbsp;<span class="op" id="2058859">*</span><span class="ident" id="2058860">uint64</span><span class="op" id="2058866">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058879">{</span>&nbsp;<span class="op" id="2058881">*</span><span class="ident" id="2058882">ret</span>&nbsp;<span class="op" id="2058886">=</span>&nbsp;<span class="ident" id="2058888">fdiv64</span><span class="op" id="2058894">(</span><span class="ident" id="2058895">f</span><span class="op" id="2058896">,</span>&nbsp;<span class="ident" id="2058898">g</span><span class="op" id="2058899">)</span>&nbsp;<span class="op" id="2058901">}</span><br>
<span class="lineno"></span><span class="keyword" id="2058903">func</span>&nbsp;<span class="ident" id="2058908">fneg64c</span><span class="op" id="2058915">(</span><span class="ident" id="2058916">f</span>&nbsp;<span class="ident" id="2058918">uint64</span><span class="op" id="2058924">,</span>&nbsp;<span class="ident" id="2058926">ret</span>&nbsp;<span class="op" id="2058930">*</span><span class="ident" id="2058931">uint64</span><span class="op" id="2058937">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2058953">{</span>&nbsp;<span class="op" id="2058955">*</span><span class="ident" id="2058956">ret</span>&nbsp;<span class="op" id="2058960">=</span>&nbsp;<span class="ident" id="2058962">fneg64</span><span class="op" id="2058968">(</span><span class="ident" id="2058969">f</span><span class="op" id="2058970">)</span>&nbsp;<span class="op" id="2058972">}</span><br>
<span class="lineno"></span><span class="keyword" id="2058974">func</span>&nbsp;<span class="ident" id="2058979">f32to64c</span><span class="op" id="2058987">(</span><span class="ident" id="2058988">f</span>&nbsp;<span class="builtintype" id="2058990">uint32</span><span class="op" id="2058996">,</span>&nbsp;<span class="ident" id="2058998">ret</span>&nbsp;<span class="op" id="2059002">*</span><span class="ident" id="2059003">uint64</span><span class="op" id="2059009">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059024">{</span>&nbsp;<span class="op" id="2059026">*</span><span class="ident" id="2059027">ret</span>&nbsp;<span class="op" id="2059031">=</span>&nbsp;<span class="ident" id="2059033">f32to64</span><span class="op" id="2059040">(</span><span class="ident" id="2059041">f</span><span class="op" id="2059042">)</span>&nbsp;<span class="op" id="2059044">}</span><br>
<span class="lineno">495</span><span class="keyword" id="2059046">func</span>&nbsp;<span class="ident" id="2059051">f64to32c</span><span class="op" id="2059059">(</span><span class="ident" id="2059060">f</span>&nbsp;<span class="ident" id="2059062">uint64</span><span class="op" id="2059068">,</span>&nbsp;<span class="ident" id="2059070">ret</span>&nbsp;<span class="op" id="2059074">*</span><span class="builtintype" id="2059075">uint32</span><span class="op" id="2059081">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059096">{</span>&nbsp;<span class="op" id="2059098">*</span><span class="ident" id="2059099">ret</span>&nbsp;<span class="op" id="2059103">=</span>&nbsp;<span class="ident" id="2059105">f64to32</span><span class="op" id="2059112">(</span><span class="ident" id="2059113">f</span><span class="op" id="2059114">)</span>&nbsp;<span class="op" id="2059116">}</span><br>
<span class="lineno"></span><span class="keyword" id="2059118">func</span>&nbsp;<span class="ident" id="2059123">fcmp64c</span><span class="op" id="2059130">(</span><span class="ident" id="2059131">f</span><span class="op" id="2059132">,</span>&nbsp;<span class="ident" id="2059134">g</span>&nbsp;<span class="ident" id="2059136">uint64</span><span class="op" id="2059142">,</span>&nbsp;<span class="ident" id="2059144">ret</span>&nbsp;<span class="op" id="2059148">*</span><span class="builtintype" id="2059149">int</span><span class="op" id="2059152">,</span>&nbsp;<span class="ident" id="2059154">retnan</span>&nbsp;<span class="op" id="2059161">*</span><span class="builtintype" id="2059162">bool</span><span class="op" id="2059166">)</span>&nbsp;<span class="op" id="2059168">{</span>&nbsp;<span class="op" id="2059170">*</span><span class="ident" id="2059171">ret</span><span class="op" id="2059174">,</span>&nbsp;<span class="op" id="2059176">*</span><span class="ident" id="2059177">retnan</span>&nbsp;<span class="op" id="2059184">=</span>&nbsp;<span class="ident" id="2059186">fcmp64</span><span class="op" id="2059192">(</span><span class="ident" id="2059193">f</span><span class="op" id="2059194">,</span>&nbsp;<span class="ident" id="2059196">g</span><span class="op" id="2059197">)</span>&nbsp;<span class="op" id="2059199">}</span><br>
<span class="lineno"></span><span class="keyword" id="2059201">func</span>&nbsp;<span class="ident" id="2059206">fintto64c</span><span class="op" id="2059215">(</span><span class="ident" id="2059216">val</span>&nbsp;<span class="ident" id="2059220">int64</span><span class="op" id="2059225">,</span>&nbsp;<span class="ident" id="2059227">ret</span>&nbsp;<span class="op" id="2059231">*</span><span class="ident" id="2059232">uint64</span><span class="op" id="2059238">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2059251">{</span>&nbsp;<span class="op" id="2059253">*</span><span class="ident" id="2059254">ret</span>&nbsp;<span class="op" id="2059258">=</span>&nbsp;<span class="ident" id="2059260">fintto64</span><span class="op" id="2059268">(</span><span class="ident" id="2059269">val</span><span class="op" id="2059272">)</span>&nbsp;<span class="op" id="2059274">}</span><br>
<span class="lineno"></span><span class="keyword" id="2059276">func</span>&nbsp;<span class="ident" id="2059281">f64tointc</span><span class="op" id="2059290">(</span><span class="ident" id="2059291">f</span>&nbsp;<span class="ident" id="2059293">uint64</span><span class="op" id="2059299">,</span>&nbsp;<span class="ident" id="2059301">ret</span>&nbsp;<span class="op" id="2059305">*</span><span class="ident" id="2059306">int64</span><span class="op" id="2059311">,</span>&nbsp;<span class="ident" id="2059313">retok</span>&nbsp;<span class="op" id="2059319">*</span><span class="builtintype" id="2059320">bool</span><span class="op" id="2059324">)</span>&nbsp;<span class="op" id="2059326">{</span>&nbsp;<span class="op" id="2059328">*</span><span class="ident" id="2059329">ret</span><span class="op" id="2059332">,</span>&nbsp;<span class="op" id="2059334">*</span><span class="ident" id="2059335">retok</span>&nbsp;<span class="op" id="2059341">=</span>&nbsp;<span class="ident" id="2059343">f64toint</span><span class="op" id="2059351">(</span><span class="ident" id="2059352">f</span><span class="op" id="2059353">)</span>&nbsp;<span class="op" id="2059355">}</span>
</div>
</body>
</html>
