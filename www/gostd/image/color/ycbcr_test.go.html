<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/color</h2>
<ul>
<li><a href="/gostd/image/color/color.go.html">color.go</a></li>
<li><a href="/gostd/image/color/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/color/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8230086">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8230141">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8230195">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8230246">package</span>&nbsp;<span class="ident" id="8230254">color</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8230261">import</span>&nbsp;<span class="op" id="8230268">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8230271">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8230281">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8230284">func</span>&nbsp;<span class="ident" id="8230289">delta</span><span class="op" id="8230294">(</span><span class="ident" id="8230295">x</span><span class="op" id="8230296">,</span>&nbsp;<span class="ident" id="8230298">y</span>&nbsp;<span class="builtintype" id="8230300">uint8</span><span class="op" id="8230305">)</span>&nbsp;<span class="builtintype" id="8230307">uint8</span>&nbsp;<span class="op" id="8230313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230316">if</span>&nbsp;<span class="ident" id="8230319">x</span>&nbsp;<span class="op" id="8230321">&gt;=</span>&nbsp;<span class="ident" id="8230324">y</span>&nbsp;<span class="op" id="8230326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230330">return</span>&nbsp;<span class="ident" id="8230337">x</span>&nbsp;<span class="op" id="8230339">-</span>&nbsp;<span class="ident" id="8230341">y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230344">}</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230347">return</span>&nbsp;<span class="ident" id="8230354">y</span>&nbsp;<span class="op" id="8230356">-</span>&nbsp;<span class="ident" id="8230358">x</span><br>
<span class="lineno"></span><span class="op" id="8230360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8230363">//&nbsp;Test&nbsp;that&nbsp;a&nbsp;subset&nbsp;of&nbsp;RGB&nbsp;space&nbsp;can&nbsp;be&nbsp;converted&nbsp;to&nbsp;YCbCr&nbsp;and&nbsp;back&nbsp;to&nbsp;within</span><br>
<span class="lineno"></span><span class="comment" id="8230443">//&nbsp;1/256&nbsp;tolerance.</span><br>
<span class="lineno">20</span><span class="keyword" id="8230463">func</span>&nbsp;<span class="ident" id="8230468">TestRoundtrip</span><span class="op" id="8230481">(</span><span class="ident" id="8230482">t</span>&nbsp;<span class="op" id="8230484">*</span><span class="ident" id="8230485">testing</span><span class="op" id="8230492">.</span><span class="ident" id="8230493">T</span><span class="op" id="8230494">)</span>&nbsp;<span class="op" id="8230496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230499">for</span>&nbsp;<span class="ident" id="8230503">r</span>&nbsp;<span class="op" id="8230505">:=</span>&nbsp;<span class="num" id="8230508">0</span><span class="op" id="8230509">;</span>&nbsp;<span class="ident" id="8230511">r</span>&nbsp;<span class="op" id="8230513">&lt;</span>&nbsp;<span class="num" id="8230515">255</span><span class="op" id="8230518">;</span>&nbsp;<span class="ident" id="8230520">r</span>&nbsp;<span class="op" id="8230522">+=</span>&nbsp;<span class="num" id="8230525">7</span>&nbsp;<span class="op" id="8230527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230531">for</span>&nbsp;<span class="ident" id="8230535">g</span>&nbsp;<span class="op" id="8230537">:=</span>&nbsp;<span class="num" id="8230540">0</span><span class="op" id="8230541">;</span>&nbsp;<span class="ident" id="8230543">g</span>&nbsp;<span class="op" id="8230545">&lt;</span>&nbsp;<span class="num" id="8230547">255</span><span class="op" id="8230550">;</span>&nbsp;<span class="ident" id="8230552">g</span>&nbsp;<span class="op" id="8230554">+=</span>&nbsp;<span class="num" id="8230557">5</span>&nbsp;<span class="op" id="8230559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230564">for</span>&nbsp;<span class="ident" id="8230568">b</span>&nbsp;<span class="op" id="8230570">:=</span>&nbsp;<span class="num" id="8230573">0</span><span class="op" id="8230574">;</span>&nbsp;<span class="ident" id="8230576">b</span>&nbsp;<span class="op" id="8230578">&lt;</span>&nbsp;<span class="num" id="8230580">255</span><span class="op" id="8230583">;</span>&nbsp;<span class="ident" id="8230585">b</span>&nbsp;<span class="op" id="8230587">+=</span>&nbsp;<span class="num" id="8230590">3</span>&nbsp;<span class="op" id="8230592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230598">r0</span><span class="op" id="8230600">,</span>&nbsp;<span class="ident" id="8230602">g0</span><span class="op" id="8230604">,</span>&nbsp;<span class="ident" id="8230606">b0</span>&nbsp;<span class="op" id="8230609">:=</span>&nbsp;<span class="builtintype" id="8230612">uint8</span><span class="op" id="8230617">(</span><span class="ident" id="8230618">r</span><span class="op" id="8230619">)</span><span class="op" id="8230620">,</span>&nbsp;<span class="builtintype" id="8230622">uint8</span><span class="op" id="8230627">(</span><span class="ident" id="8230628">g</span><span class="op" id="8230629">)</span><span class="op" id="8230630">,</span>&nbsp;<span class="builtintype" id="8230632">uint8</span><span class="op" id="8230637">(</span><span class="ident" id="8230638">b</span><span class="op" id="8230639">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230645">y</span><span class="op" id="8230646">,</span>&nbsp;<span class="ident" id="8230648">cb</span><span class="op" id="8230650">,</span>&nbsp;<span class="ident" id="8230652">cr</span>&nbsp;<span class="op" id="8230655">:=</span>&nbsp;<span class="ident" id="8230658">RGBToYCbCr</span><span class="op" id="8230668">(</span><span class="ident" id="8230669">r0</span><span class="op" id="8230671">,</span>&nbsp;<span class="ident" id="8230673">g0</span><span class="op" id="8230675">,</span>&nbsp;<span class="ident" id="8230677">b0</span><span class="op" id="8230679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230685">r1</span><span class="op" id="8230687">,</span>&nbsp;<span class="ident" id="8230689">g1</span><span class="op" id="8230691">,</span>&nbsp;<span class="ident" id="8230693">b1</span>&nbsp;<span class="op" id="8230696">:=</span>&nbsp;<span class="ident" id="8230699">YCbCrToRGB</span><span class="op" id="8230709">(</span><span class="ident" id="8230710">y</span><span class="op" id="8230711">,</span>&nbsp;<span class="ident" id="8230713">cb</span><span class="op" id="8230715">,</span>&nbsp;<span class="ident" id="8230717">cr</span><span class="op" id="8230719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8230725">if</span>&nbsp;<span class="ident" id="8230728">delta</span><span class="op" id="8230733">(</span><span class="ident" id="8230734">r0</span><span class="op" id="8230736">,</span>&nbsp;<span class="ident" id="8230738">r1</span><span class="op" id="8230740">)</span>&nbsp;<span class="op" id="8230742">&gt;</span>&nbsp;<span class="num" id="8230744">1</span>&nbsp;<span class="op" id="8230746">||</span>&nbsp;<span class="ident" id="8230749">delta</span><span class="op" id="8230754">(</span><span class="ident" id="8230755">g0</span><span class="op" id="8230757">,</span>&nbsp;<span class="ident" id="8230759">g1</span><span class="op" id="8230761">)</span>&nbsp;<span class="op" id="8230763">&gt;</span>&nbsp;<span class="num" id="8230765">1</span>&nbsp;<span class="op" id="8230767">||</span>&nbsp;<span class="ident" id="8230770">delta</span><span class="op" id="8230775">(</span><span class="ident" id="8230776">b0</span><span class="op" id="8230778">,</span>&nbsp;<span class="ident" id="8230780">b1</span><span class="op" id="8230782">)</span>&nbsp;<span class="op" id="8230784">&gt;</span>&nbsp;<span class="num" id="8230786">1</span>&nbsp;<span class="op" id="8230788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8230795">t</span><span class="op" id="8230796">.</span><span class="ident" id="8230797">Fatalf</span><span class="op" id="8230803">(</span><span class="string" id="8230804">&#34;r0,&nbsp;g0,&nbsp;b0&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&nbsp;&nbsp;&nbsp;r1,&nbsp;g1,&nbsp;b1&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="8230855">,</span>&nbsp;<span class="ident" id="8230857">r0</span><span class="op" id="8230859">,</span>&nbsp;<span class="ident" id="8230861">g0</span><span class="op" id="8230863">,</span>&nbsp;<span class="ident" id="8230865">b0</span><span class="op" id="8230867">,</span>&nbsp;<span class="ident" id="8230869">r1</span><span class="op" id="8230871">,</span>&nbsp;<span class="ident" id="8230873">g1</span><span class="op" id="8230875">,</span>&nbsp;<span class="ident" id="8230877">b1</span><span class="op" id="8230879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230885">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8230897">}</span><br>
<span class="lineno"></span><span class="op" id="8230899">}</span>
</div>
</body>
</html>
