<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6503016">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6503071">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6503125">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6503176">package</span>&nbsp;<span class="ident" id="6503184">cookiejar</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6503195">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;the&nbsp;Punycode&nbsp;algorithm&nbsp;from&nbsp;RFC&nbsp;3492.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6503258">import</span>&nbsp;<span class="op" id="6503265">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6503268">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6503275">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6503286">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6503301">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6503304">//&nbsp;These&nbsp;parameter&nbsp;values&nbsp;are&nbsp;specified&nbsp;in&nbsp;section&nbsp;5.</span><br>
<span class="lineno"></span><span class="comment" id="6503358">//</span><br>
<span class="lineno"></span><span class="comment" id="6503361">//&nbsp;All&nbsp;computation&nbsp;is&nbsp;done&nbsp;with&nbsp;int32s,&nbsp;so&nbsp;that&nbsp;overflow&nbsp;behavior&nbsp;is&nbsp;identical</span><br>
<span class="lineno"></span><span class="comment" id="6503440">//&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;int&nbsp;is&nbsp;32-bit&nbsp;or&nbsp;64-bit.</span><br>
<span class="lineno"></span><span class="keyword" id="6503490">const</span>&nbsp;<span class="op" id="6503496">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503499">base</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6503511">int32</span>&nbsp;<span class="op" id="6503517">=</span>&nbsp;<span class="num" id="6503519">36</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503523">damp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6503535">int32</span>&nbsp;<span class="op" id="6503541">=</span>&nbsp;<span class="num" id="6503543">700</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503548">initialBias</span>&nbsp;<span class="builtintype" id="6503560">int32</span>&nbsp;<span class="op" id="6503566">=</span>&nbsp;<span class="num" id="6503568">72</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503572">initialN</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6503584">int32</span>&nbsp;<span class="op" id="6503590">=</span>&nbsp;<span class="num" id="6503592">128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503597">skew</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6503609">int32</span>&nbsp;<span class="op" id="6503615">=</span>&nbsp;<span class="num" id="6503617">38</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503621">tmax</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6503633">int32</span>&nbsp;<span class="op" id="6503639">=</span>&nbsp;<span class="num" id="6503641">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503645">tmin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6503657">int32</span>&nbsp;<span class="op" id="6503663">=</span>&nbsp;<span class="num" id="6503665">1</span><br>
<span class="lineno"></span><span class="op" id="6503667">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6503670">//&nbsp;encode&nbsp;encodes&nbsp;a&nbsp;string&nbsp;as&nbsp;specified&nbsp;in&nbsp;section&nbsp;6.3&nbsp;and&nbsp;prepends&nbsp;prefix&nbsp;to</span><br>
<span class="lineno">30</span><span class="comment" id="6503748">//&nbsp;the&nbsp;result.</span><br>
<span class="lineno"></span><span class="comment" id="6503763">//</span><br>
<span class="lineno"></span><span class="comment" id="6503766">//&nbsp;The&nbsp;&#34;while&nbsp;h&nbsp;&lt;&nbsp;length(input)&#34;&nbsp;line&nbsp;in&nbsp;the&nbsp;specification&nbsp;becomes&nbsp;&#34;for</span><br>
<span class="lineno"></span><span class="comment" id="6503838">//&nbsp;remaining&nbsp;!=&nbsp;0&#34;&nbsp;in&nbsp;the&nbsp;Go&nbsp;code,&nbsp;because&nbsp;len(s)&nbsp;in&nbsp;Go&nbsp;is&nbsp;in&nbsp;bytes,&nbsp;not&nbsp;runes.</span><br>
<span class="lineno"></span><span class="keyword" id="6503918">func</span>&nbsp;<span class="ident" id="6503923">encode</span><span class="op" id="6503929">(</span><span class="ident" id="6503930">prefix</span><span class="op" id="6503936">,</span>&nbsp;<span class="ident" id="6503938">s</span>&nbsp;<span class="builtintype" id="6503940">string</span><span class="op" id="6503946">)</span>&nbsp;<span class="op" id="6503948">(</span><span class="builtintype" id="6503949">string</span><span class="op" id="6503955">,</span>&nbsp;<span class="builtintype" id="6503957">error</span><span class="op" id="6503962">)</span>&nbsp;<span class="op" id="6503964">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6503967">output</span>&nbsp;<span class="op" id="6503974">:=</span>&nbsp;<span class="builtinfunc" id="6503977">make</span><span class="op" id="6503981">(</span><span class="op" id="6503982">[</span><span class="op" id="6503983">]</span><span class="builtintype" id="6503984">byte</span><span class="op" id="6503988">,</span>&nbsp;<span class="builtinfunc" id="6503990">len</span><span class="op" id="6503993">(</span><span class="ident" id="6503994">prefix</span><span class="op" id="6504000">)</span><span class="op" id="6504001">,</span>&nbsp;<span class="builtinfunc" id="6504003">len</span><span class="op" id="6504006">(</span><span class="ident" id="6504007">prefix</span><span class="op" id="6504013">)</span><span class="op" id="6504014">+</span><span class="num" id="6504015">1</span><span class="op" id="6504016">+</span><span class="num" id="6504017">2</span><span class="op" id="6504018">*</span><span class="builtinfunc" id="6504019">len</span><span class="op" id="6504022">(</span><span class="ident" id="6504023">s</span><span class="op" id="6504024">)</span><span class="op" id="6504025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6504028">copy</span><span class="op" id="6504032">(</span><span class="ident" id="6504033">output</span><span class="op" id="6504039">,</span>&nbsp;<span class="ident" id="6504041">prefix</span><span class="op" id="6504047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504050">delta</span><span class="op" id="6504055">,</span>&nbsp;<span class="ident" id="6504057">n</span><span class="op" id="6504058">,</span>&nbsp;<span class="ident" id="6504060">bias</span>&nbsp;<span class="op" id="6504065">:=</span>&nbsp;<span class="builtintype" id="6504068">int32</span><span class="op" id="6504073">(</span><span class="num" id="6504074">0</span><span class="op" id="6504075">)</span><span class="op" id="6504076">,</span>&nbsp;<span class="ident" id="6504078">initialN</span><span class="op" id="6504086">,</span>&nbsp;<span class="ident" id="6504088">initialBias</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504101">b</span><span class="op" id="6504102">,</span>&nbsp;<span class="ident" id="6504104">remaining</span>&nbsp;<span class="op" id="6504114">:=</span>&nbsp;<span class="builtintype" id="6504117">int32</span><span class="op" id="6504122">(</span><span class="num" id="6504123">0</span><span class="op" id="6504124">)</span><span class="op" id="6504125">,</span>&nbsp;<span class="builtintype" id="6504127">int32</span><span class="op" id="6504132">(</span><span class="num" id="6504133">0</span><span class="op" id="6504134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504137">for</span>&nbsp;<span class="ident" id="6504141">_</span><span class="op" id="6504142">,</span>&nbsp;<span class="ident" id="6504144">r</span>&nbsp;<span class="op" id="6504146">:=</span>&nbsp;<span class="keyword" id="6504149">range</span>&nbsp;<span class="ident" id="6504155">s</span>&nbsp;<span class="op" id="6504157">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504161">if</span>&nbsp;<span class="ident" id="6504164">r</span>&nbsp;<span class="op" id="6504166">&lt;</span>&nbsp;<span class="num" id="6504168">0x80</span>&nbsp;<span class="op" id="6504173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504178">b</span><span class="op" id="6504179">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504185">output</span>&nbsp;<span class="op" id="6504192">=</span>&nbsp;<span class="builtinfunc" id="6504194">append</span><span class="op" id="6504200">(</span><span class="ident" id="6504201">output</span><span class="op" id="6504207">,</span>&nbsp;<span class="builtintype" id="6504209">byte</span><span class="op" id="6504213">(</span><span class="ident" id="6504214">r</span><span class="op" id="6504215">)</span><span class="op" id="6504216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504220">}</span>&nbsp;<span class="keyword" id="6504222">else</span>&nbsp;<span class="op" id="6504227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504232">remaining</span><span class="op" id="6504241">++</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504252">h</span>&nbsp;<span class="op" id="6504254">:=</span>&nbsp;<span class="ident" id="6504257">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504260">if</span>&nbsp;<span class="ident" id="6504263">b</span>&nbsp;<span class="op" id="6504265">&gt;</span>&nbsp;<span class="num" id="6504267">0</span>&nbsp;<span class="op" id="6504269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504273">output</span>&nbsp;<span class="op" id="6504280">=</span>&nbsp;<span class="builtinfunc" id="6504282">append</span><span class="op" id="6504288">(</span><span class="ident" id="6504289">output</span><span class="op" id="6504295">,</span>&nbsp;<span class="string" id="6504297">&#39;-&#39;</span><span class="op" id="6504300">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504306">for</span>&nbsp;<span class="ident" id="6504310">remaining</span>&nbsp;<span class="op" id="6504320">!=</span>&nbsp;<span class="num" id="6504323">0</span>&nbsp;<span class="op" id="6504325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504329">m</span>&nbsp;<span class="op" id="6504331">:=</span>&nbsp;<span class="builtintype" id="6504334">int32</span><span class="op" id="6504339">(</span><span class="num" id="6504340">0x7fffffff</span><span class="op" id="6504350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504354">for</span>&nbsp;<span class="ident" id="6504358">_</span><span class="op" id="6504359">,</span>&nbsp;<span class="ident" id="6504361">r</span>&nbsp;<span class="op" id="6504363">:=</span>&nbsp;<span class="keyword" id="6504366">range</span>&nbsp;<span class="ident" id="6504372">s</span>&nbsp;<span class="op" id="6504374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504379">if</span>&nbsp;<span class="ident" id="6504382">m</span>&nbsp;<span class="op" id="6504384">&gt;</span>&nbsp;<span class="ident" id="6504386">r</span>&nbsp;<span class="op" id="6504388">&amp;&amp;</span>&nbsp;<span class="ident" id="6504391">r</span>&nbsp;<span class="op" id="6504393">&gt;=</span>&nbsp;<span class="ident" id="6504396">n</span>&nbsp;<span class="op" id="6504398">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504404">m</span>&nbsp;<span class="op" id="6504406">=</span>&nbsp;<span class="ident" id="6504408">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504421">delta</span>&nbsp;<span class="op" id="6504427">+=</span>&nbsp;<span class="op" id="6504430">(</span><span class="ident" id="6504431">m</span>&nbsp;<span class="op" id="6504433">-</span>&nbsp;<span class="ident" id="6504435">n</span><span class="op" id="6504436">)</span>&nbsp;<span class="op" id="6504438">*</span>&nbsp;<span class="op" id="6504440">(</span><span class="ident" id="6504441">h</span>&nbsp;<span class="op" id="6504443">+</span>&nbsp;<span class="num" id="6504445">1</span><span class="op" id="6504446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504450">if</span>&nbsp;<span class="ident" id="6504453">delta</span>&nbsp;<span class="op" id="6504459">&lt;</span>&nbsp;<span class="num" id="6504461">0</span>&nbsp;<span class="op" id="6504463">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504468">return</span>&nbsp;<span class="string" id="6504475">&#34;&#34;</span><span class="op" id="6504477">,</span>&nbsp;<span class="ident" id="6504479">fmt</span><span class="op" id="6504482">.</span><span class="ident" id="6504483">Errorf</span><span class="op" id="6504489">(</span><span class="string" id="6504490">&#34;cookiejar:&nbsp;invalid&nbsp;label&nbsp;%q&#34;</span><span class="op" id="6504519">,</span>&nbsp;<span class="ident" id="6504521">s</span><span class="op" id="6504522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504530">n</span>&nbsp;<span class="op" id="6504532">=</span>&nbsp;<span class="ident" id="6504534">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504538">for</span>&nbsp;<span class="ident" id="6504542">_</span><span class="op" id="6504543">,</span>&nbsp;<span class="ident" id="6504545">r</span>&nbsp;<span class="op" id="6504547">:=</span>&nbsp;<span class="keyword" id="6504550">range</span>&nbsp;<span class="ident" id="6504556">s</span>&nbsp;<span class="op" id="6504558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504563">if</span>&nbsp;<span class="ident" id="6504566">r</span>&nbsp;<span class="op" id="6504568">&lt;</span>&nbsp;<span class="ident" id="6504570">n</span>&nbsp;<span class="op" id="6504572">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504578">delta</span><span class="op" id="6504583">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504590">if</span>&nbsp;<span class="ident" id="6504593">delta</span>&nbsp;<span class="op" id="6504599">&lt;</span>&nbsp;<span class="num" id="6504601">0</span>&nbsp;<span class="op" id="6504603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504610">return</span>&nbsp;<span class="string" id="6504617">&#34;&#34;</span><span class="op" id="6504619">,</span>&nbsp;<span class="ident" id="6504621">fmt</span><span class="op" id="6504624">.</span><span class="ident" id="6504625">Errorf</span><span class="op" id="6504631">(</span><span class="string" id="6504632">&#34;cookiejar:&nbsp;invalid&nbsp;label&nbsp;%q&#34;</span><span class="op" id="6504661">,</span>&nbsp;<span class="ident" id="6504663">s</span><span class="op" id="6504664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504676">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504693">if</span>&nbsp;<span class="ident" id="6504696">r</span>&nbsp;<span class="op" id="6504698">&gt;</span>&nbsp;<span class="ident" id="6504700">n</span>&nbsp;<span class="op" id="6504702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504708">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504725">q</span>&nbsp;<span class="op" id="6504727">:=</span>&nbsp;<span class="ident" id="6504730">delta</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504739">for</span>&nbsp;<span class="ident" id="6504743">k</span>&nbsp;<span class="op" id="6504745">:=</span>&nbsp;<span class="ident" id="6504748">base</span><span class="op" id="6504752">;</span>&nbsp;<span class="op" id="6504754">;</span>&nbsp;<span class="ident" id="6504756">k</span>&nbsp;<span class="op" id="6504758">+=</span>&nbsp;<span class="ident" id="6504761">base</span>&nbsp;<span class="op" id="6504766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504772">t</span>&nbsp;<span class="op" id="6504774">:=</span>&nbsp;<span class="ident" id="6504777">k</span>&nbsp;<span class="op" id="6504779">-</span>&nbsp;<span class="ident" id="6504781">bias</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504790">if</span>&nbsp;<span class="ident" id="6504793">t</span>&nbsp;<span class="op" id="6504795">&lt;</span>&nbsp;<span class="ident" id="6504797">tmin</span>&nbsp;<span class="op" id="6504802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504809">t</span>&nbsp;<span class="op" id="6504811">=</span>&nbsp;<span class="ident" id="6504813">tmin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504822">}</span>&nbsp;<span class="keyword" id="6504824">else</span>&nbsp;<span class="keyword" id="6504829">if</span>&nbsp;<span class="ident" id="6504832">t</span>&nbsp;<span class="op" id="6504834">&gt;</span>&nbsp;<span class="ident" id="6504836">tmax</span>&nbsp;<span class="op" id="6504841">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504848">t</span>&nbsp;<span class="op" id="6504850">=</span>&nbsp;<span class="ident" id="6504852">tmax</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504867">if</span>&nbsp;<span class="ident" id="6504870">q</span>&nbsp;<span class="op" id="6504872">&lt;</span>&nbsp;<span class="ident" id="6504874">t</span>&nbsp;<span class="op" id="6504876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6504883">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504893">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504899">output</span>&nbsp;<span class="op" id="6504906">=</span>&nbsp;<span class="builtinfunc" id="6504908">append</span><span class="op" id="6504914">(</span><span class="ident" id="6504915">output</span><span class="op" id="6504921">,</span>&nbsp;<span class="ident" id="6504923">encodeDigit</span><span class="op" id="6504934">(</span><span class="ident" id="6504935">t</span><span class="op" id="6504936">+</span><span class="op" id="6504937">(</span><span class="ident" id="6504938">q</span><span class="op" id="6504939">-</span><span class="ident" id="6504940">t</span><span class="op" id="6504941">)</span><span class="op" id="6504942">%</span><span class="op" id="6504943">(</span><span class="ident" id="6504944">base</span><span class="op" id="6504948">-</span><span class="ident" id="6504949">t</span><span class="op" id="6504950">)</span><span class="op" id="6504951">)</span><span class="op" id="6504952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504958">q</span>&nbsp;<span class="op" id="6504960">=</span>&nbsp;<span class="op" id="6504962">(</span><span class="ident" id="6504963">q</span>&nbsp;<span class="op" id="6504965">-</span>&nbsp;<span class="ident" id="6504967">t</span><span class="op" id="6504968">)</span>&nbsp;<span class="op" id="6504970">/</span>&nbsp;<span class="op" id="6504972">(</span><span class="ident" id="6504973">base</span>&nbsp;<span class="op" id="6504978">-</span>&nbsp;<span class="ident" id="6504980">t</span><span class="op" id="6504981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6504986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6504991">output</span>&nbsp;<span class="op" id="6504998">=</span>&nbsp;<span class="builtinfunc" id="6505000">append</span><span class="op" id="6505006">(</span><span class="ident" id="6505007">output</span><span class="op" id="6505013">,</span>&nbsp;<span class="ident" id="6505015">encodeDigit</span><span class="op" id="6505026">(</span><span class="ident" id="6505027">q</span><span class="op" id="6505028">)</span><span class="op" id="6505029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505034">bias</span>&nbsp;<span class="op" id="6505039">=</span>&nbsp;<span class="ident" id="6505041">adapt</span><span class="op" id="6505046">(</span><span class="ident" id="6505047">delta</span><span class="op" id="6505052">,</span>&nbsp;<span class="ident" id="6505054">h</span><span class="op" id="6505055">+</span><span class="num" id="6505056">1</span><span class="op" id="6505057">,</span>&nbsp;<span class="ident" id="6505059">h</span>&nbsp;<span class="op" id="6505061">==</span>&nbsp;<span class="ident" id="6505064">b</span><span class="op" id="6505065">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505070">delta</span>&nbsp;<span class="op" id="6505076">=</span>&nbsp;<span class="num" id="6505078">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505083">h</span><span class="op" id="6505084">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505090">remaining</span><span class="op" id="6505099">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505108">delta</span><span class="op" id="6505113">++</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505118">n</span><span class="op" id="6505119">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505126">return</span>&nbsp;<span class="builtintype" id="6505133">string</span><span class="op" id="6505139">(</span><span class="ident" id="6505140">output</span><span class="op" id="6505146">)</span><span class="op" id="6505147">,</span>&nbsp;<span class="ident" id="6505149">nil</span><br>
<span class="lineno"></span><span class="op" id="6505153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6505156">func</span>&nbsp;<span class="ident" id="6505161">encodeDigit</span><span class="op" id="6505172">(</span><span class="ident" id="6505173">digit</span>&nbsp;<span class="builtintype" id="6505179">int32</span><span class="op" id="6505184">)</span>&nbsp;<span class="builtintype" id="6505186">byte</span>&nbsp;<span class="op" id="6505191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505194">switch</span>&nbsp;<span class="op" id="6505201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505204">case</span>&nbsp;<span class="num" id="6505209">0</span>&nbsp;<span class="op" id="6505211">&lt;=</span>&nbsp;<span class="ident" id="6505214">digit</span>&nbsp;<span class="op" id="6505220">&amp;&amp;</span>&nbsp;<span class="ident" id="6505223">digit</span>&nbsp;<span class="op" id="6505229">&lt;</span>&nbsp;<span class="num" id="6505231">26</span><span class="op" id="6505233">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505237">return</span>&nbsp;<span class="builtintype" id="6505244">byte</span><span class="op" id="6505248">(</span><span class="ident" id="6505249">digit</span>&nbsp;<span class="op" id="6505255">+</span>&nbsp;<span class="string" id="6505257">&#39;a&#39;</span><span class="op" id="6505260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505263">case</span>&nbsp;<span class="num" id="6505268">26</span>&nbsp;<span class="op" id="6505271">&lt;=</span>&nbsp;<span class="ident" id="6505274">digit</span>&nbsp;<span class="op" id="6505280">&amp;&amp;</span>&nbsp;<span class="ident" id="6505283">digit</span>&nbsp;<span class="op" id="6505289">&lt;</span>&nbsp;<span class="num" id="6505291">36</span><span class="op" id="6505293">:</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505297">return</span>&nbsp;<span class="builtintype" id="6505304">byte</span><span class="op" id="6505308">(</span><span class="ident" id="6505309">digit</span>&nbsp;<span class="op" id="6505315">+</span>&nbsp;<span class="op" id="6505317">(</span><span class="string" id="6505318">&#39;0&#39;</span>&nbsp;<span class="op" id="6505322">-</span>&nbsp;<span class="num" id="6505324">26</span><span class="op" id="6505326">)</span><span class="op" id="6505327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6505333">panic</span><span class="op" id="6505338">(</span><span class="string" id="6505339">&#34;cookiejar:&nbsp;internal&nbsp;error&nbsp;in&nbsp;punycode&nbsp;encoding&#34;</span><span class="op" id="6505387">)</span><br>
<span class="lineno"></span><span class="op" id="6505389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="6505392">//&nbsp;adapt&nbsp;is&nbsp;the&nbsp;bias&nbsp;adaptation&nbsp;function&nbsp;specified&nbsp;in&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span><span class="keyword" id="6505459">func</span>&nbsp;<span class="ident" id="6505464">adapt</span><span class="op" id="6505469">(</span><span class="ident" id="6505470">delta</span><span class="op" id="6505475">,</span>&nbsp;<span class="ident" id="6505477">numPoints</span>&nbsp;<span class="builtintype" id="6505487">int32</span><span class="op" id="6505492">,</span>&nbsp;<span class="ident" id="6505494">firstTime</span>&nbsp;<span class="builtintype" id="6505504">bool</span><span class="op" id="6505508">)</span>&nbsp;<span class="builtintype" id="6505510">int32</span>&nbsp;<span class="op" id="6505516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505519">if</span>&nbsp;<span class="ident" id="6505522">firstTime</span>&nbsp;<span class="op" id="6505532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505536">delta</span>&nbsp;<span class="op" id="6505542">/=</span>&nbsp;<span class="ident" id="6505545">damp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505551">}</span>&nbsp;<span class="keyword" id="6505553">else</span>&nbsp;<span class="op" id="6505558">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505562">delta</span>&nbsp;<span class="op" id="6505568">/=</span>&nbsp;<span class="num" id="6505571">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505577">delta</span>&nbsp;<span class="op" id="6505583">+=</span>&nbsp;<span class="ident" id="6505586">delta</span>&nbsp;<span class="op" id="6505592">/</span>&nbsp;<span class="ident" id="6505594">numPoints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505605">k</span>&nbsp;<span class="op" id="6505607">:=</span>&nbsp;<span class="builtintype" id="6505610">int32</span><span class="op" id="6505615">(</span><span class="num" id="6505616">0</span><span class="op" id="6505617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505620">for</span>&nbsp;<span class="ident" id="6505624">delta</span>&nbsp;<span class="op" id="6505630">&gt;</span>&nbsp;<span class="op" id="6505632">(</span><span class="op" id="6505633">(</span><span class="ident" id="6505634">base</span><span class="op" id="6505638">-</span><span class="ident" id="6505639">tmin</span><span class="op" id="6505643">)</span><span class="op" id="6505644">*</span><span class="ident" id="6505645">tmax</span><span class="op" id="6505649">)</span><span class="op" id="6505650">/</span><span class="num" id="6505651">2</span>&nbsp;<span class="op" id="6505653">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505657">delta</span>&nbsp;<span class="op" id="6505663">/=</span>&nbsp;<span class="ident" id="6505666">base</span>&nbsp;<span class="op" id="6505671">-</span>&nbsp;<span class="ident" id="6505673">tmin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6505680">k</span>&nbsp;<span class="op" id="6505682">+=</span>&nbsp;<span class="ident" id="6505685">base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6505691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6505694">return</span>&nbsp;<span class="ident" id="6505701">k</span>&nbsp;<span class="op" id="6505703">+</span>&nbsp;<span class="op" id="6505705">(</span><span class="ident" id="6505706">base</span><span class="op" id="6505710">-</span><span class="ident" id="6505711">tmin</span><span class="op" id="6505715">+</span><span class="num" id="6505716">1</span><span class="op" id="6505717">)</span><span class="op" id="6505718">*</span><span class="ident" id="6505719">delta</span><span class="op" id="6505724">/</span><span class="op" id="6505725">(</span><span class="ident" id="6505726">delta</span><span class="op" id="6505731">+</span><span class="ident" id="6505732">skew</span><span class="op" id="6505736">)</span><br>
<span class="lineno"></span><span class="op" id="6505738">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="6505741">//&nbsp;Strictly&nbsp;speaking,&nbsp;the&nbsp;remaining&nbsp;code&nbsp;below&nbsp;deals&nbsp;with&nbsp;IDNA&nbsp;(RFC&nbsp;5890&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="6505818">//&nbsp;friends)&nbsp;and&nbsp;not&nbsp;Punycode&nbsp;(RFC&nbsp;3492)&nbsp;per&nbsp;se.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6505867">//&nbsp;acePrefix&nbsp;is&nbsp;the&nbsp;ASCII&nbsp;Compatible&nbsp;Encoding&nbsp;prefix.</span><br>
<span class="lineno">130</span><span class="keyword" id="6505921">const</span>&nbsp;<span class="ident" id="6505927">acePrefix</span>&nbsp;<span class="op" id="6505937">=</span>&nbsp;<span class="string" id="6505939">&#34;xn--&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6505947">//&nbsp;toASCII&nbsp;converts&nbsp;a&nbsp;domain&nbsp;or&nbsp;domain&nbsp;label&nbsp;to&nbsp;its&nbsp;ASCII&nbsp;form.&nbsp;For&nbsp;example,</span><br>
<span class="lineno"></span><span class="comment" id="6506024">//&nbsp;toASCII(&#34;b√ºcher.example.com&#34;)&nbsp;is&nbsp;&#34;xn--bcher-kva.example.com&#34;,&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="6506094">//&nbsp;toASCII(&#34;golang&#34;)&nbsp;is&nbsp;&#34;golang&#34;.</span><br>
<span class="lineno">135</span><span class="keyword" id="6506128">func</span>&nbsp;<span class="ident" id="6506133">toASCII</span><span class="op" id="6506140">(</span><span class="ident" id="6506141">s</span>&nbsp;<span class="builtintype" id="6506143">string</span><span class="op" id="6506149">)</span>&nbsp;<span class="op" id="6506151">(</span><span class="builtintype" id="6506152">string</span><span class="op" id="6506158">,</span>&nbsp;<span class="builtintype" id="6506160">error</span><span class="op" id="6506165">)</span>&nbsp;<span class="op" id="6506167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506170">if</span>&nbsp;<span class="ident" id="6506173">ascii</span><span class="op" id="6506178">(</span><span class="ident" id="6506179">s</span><span class="op" id="6506180">)</span>&nbsp;<span class="op" id="6506182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506186">return</span>&nbsp;<span class="ident" id="6506193">s</span><span class="op" id="6506194">,</span>&nbsp;<span class="ident" id="6506196">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506204">labels</span>&nbsp;<span class="op" id="6506211">:=</span>&nbsp;<span class="ident" id="6506214">strings</span><span class="op" id="6506221">.</span><span class="ident" id="6506222">Split</span><span class="op" id="6506227">(</span><span class="ident" id="6506228">s</span><span class="op" id="6506229">,</span>&nbsp;<span class="string" id="6506231">&#34;.&#34;</span><span class="op" id="6506234">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506237">for</span>&nbsp;<span class="ident" id="6506241">i</span><span class="op" id="6506242">,</span>&nbsp;<span class="ident" id="6506244">label</span>&nbsp;<span class="op" id="6506250">:=</span>&nbsp;<span class="keyword" id="6506253">range</span>&nbsp;<span class="ident" id="6506259">labels</span>&nbsp;<span class="op" id="6506266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506270">if</span>&nbsp;<span class="op" id="6506273">!</span><span class="ident" id="6506274">ascii</span><span class="op" id="6506279">(</span><span class="ident" id="6506280">label</span><span class="op" id="6506285">)</span>&nbsp;<span class="op" id="6506287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506292">a</span><span class="op" id="6506293">,</span>&nbsp;<span class="ident" id="6506295">err</span>&nbsp;<span class="op" id="6506299">:=</span>&nbsp;<span class="ident" id="6506302">encode</span><span class="op" id="6506308">(</span><span class="ident" id="6506309">acePrefix</span><span class="op" id="6506318">,</span>&nbsp;<span class="ident" id="6506320">label</span><span class="op" id="6506325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506330">if</span>&nbsp;<span class="ident" id="6506333">err</span>&nbsp;<span class="op" id="6506337">!=</span>&nbsp;<span class="ident" id="6506340">nil</span>&nbsp;<span class="op" id="6506344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506350">return</span>&nbsp;<span class="string" id="6506357">&#34;&#34;</span><span class="op" id="6506359">,</span>&nbsp;<span class="ident" id="6506361">err</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6506373">labels</span><span class="op" id="6506379">[</span><span class="ident" id="6506380">i</span><span class="op" id="6506381">]</span>&nbsp;<span class="op" id="6506383">=</span>&nbsp;<span class="ident" id="6506385">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506395">return</span>&nbsp;<span class="ident" id="6506402">strings</span><span class="op" id="6506409">.</span><span class="ident" id="6506410">Join</span><span class="op" id="6506414">(</span><span class="ident" id="6506415">labels</span><span class="op" id="6506421">,</span>&nbsp;<span class="string" id="6506423">&#34;.&#34;</span><span class="op" id="6506426">)</span><span class="op" id="6506427">,</span>&nbsp;<span class="ident" id="6506429">nil</span><br>
<span class="lineno">150</span><span class="op" id="6506433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6506436">func</span>&nbsp;<span class="ident" id="6506441">ascii</span><span class="op" id="6506446">(</span><span class="ident" id="6506447">s</span>&nbsp;<span class="builtintype" id="6506449">string</span><span class="op" id="6506455">)</span>&nbsp;<span class="builtintype" id="6506457">bool</span>&nbsp;<span class="op" id="6506462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506465">for</span>&nbsp;<span class="ident" id="6506469">i</span>&nbsp;<span class="op" id="6506471">:=</span>&nbsp;<span class="num" id="6506474">0</span><span class="op" id="6506475">;</span>&nbsp;<span class="ident" id="6506477">i</span>&nbsp;<span class="op" id="6506479">&lt;</span>&nbsp;<span class="builtinfunc" id="6506481">len</span><span class="op" id="6506484">(</span><span class="ident" id="6506485">s</span><span class="op" id="6506486">)</span><span class="op" id="6506487">;</span>&nbsp;<span class="ident" id="6506489">i</span><span class="op" id="6506490">++</span>&nbsp;<span class="op" id="6506493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506497">if</span>&nbsp;<span class="ident" id="6506500">s</span><span class="op" id="6506501">[</span><span class="ident" id="6506502">i</span><span class="op" id="6506503">]</span>&nbsp;<span class="op" id="6506505">&gt;=</span>&nbsp;<span class="ident" id="6506508">utf8</span><span class="op" id="6506512">.</span><span class="ident" id="6506513">RuneSelf</span>&nbsp;<span class="op" id="6506522">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506527">return</span>&nbsp;<span class="builtintype" id="6506534">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6506545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6506548">return</span>&nbsp;<span class="builtintype" id="6506555">true</span><br>
<span class="lineno"></span><span class="op" id="6506560">}</span>
</div>
</body>
</html>
