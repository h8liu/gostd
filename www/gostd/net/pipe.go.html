<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html" class="current">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4152267">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4152323">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4152377">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4152428">package</span>&nbsp;<span class="ident" id="4152436">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4152441">import</span>&nbsp;<span class="op" id="4152448">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4152451">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4152461">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4152467">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="4152474">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4152477">//&nbsp;Pipe&nbsp;creates&nbsp;a&nbsp;synchronous,&nbsp;in-memory,&nbsp;full&nbsp;duplex</span><br>
<span class="lineno"></span><span class="comment" id="4152531">//&nbsp;network&nbsp;connection;&nbsp;both&nbsp;ends&nbsp;implement&nbsp;the&nbsp;Conn&nbsp;interface.</span><br>
<span class="lineno">15</span><span class="comment" id="4152594">//&nbsp;Reads&nbsp;on&nbsp;one&nbsp;end&nbsp;are&nbsp;matched&nbsp;with&nbsp;writes&nbsp;on&nbsp;the&nbsp;other,</span><br>
<span class="lineno"></span><span class="comment" id="4152652">//&nbsp;copying&nbsp;data&nbsp;directly&nbsp;between&nbsp;the&nbsp;two;&nbsp;there&nbsp;is&nbsp;no&nbsp;internal</span><br>
<span class="lineno"></span><span class="comment" id="4152715">//&nbsp;buffering.</span><br>
<span class="lineno"></span><span class="keyword" id="4152729">func</span>&nbsp;<span class="ident" id="4152734">Pipe</span><span class="op" id="4152738">(</span><span class="op" id="4152739">)</span>&nbsp;<span class="op" id="4152741">(</span><span class="ident" id="4152742">Conn</span><span class="op" id="4152746">,</span>&nbsp;<span class="ident" id="4152748">Conn</span><span class="op" id="4152752">)</span>&nbsp;<span class="op" id="4152754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4152757">r1</span><span class="op" id="4152759">,</span>&nbsp;<span class="ident" id="4152761">w1</span>&nbsp;<span class="op" id="4152764">:=</span>&nbsp;<span class="ident" id="4152767">io</span><span class="op" id="4152769">.</span><span class="ident" id="4152770">Pipe</span><span class="op" id="4152774">(</span><span class="op" id="4152775">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4152778">r2</span><span class="op" id="4152780">,</span>&nbsp;<span class="ident" id="4152782">w2</span>&nbsp;<span class="op" id="4152785">:=</span>&nbsp;<span class="ident" id="4152788">io</span><span class="op" id="4152790">.</span><span class="ident" id="4152791">Pipe</span><span class="op" id="4152795">(</span><span class="op" id="4152796">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4152800">return</span>&nbsp;<span class="op" id="4152807">&amp;</span><span class="ident" id="4152808">pipe</span><span class="op" id="4152812">{</span><span class="ident" id="4152813">r1</span><span class="op" id="4152815">,</span>&nbsp;<span class="ident" id="4152817">w2</span><span class="op" id="4152819">}</span><span class="op" id="4152820">,</span>&nbsp;<span class="op" id="4152822">&amp;</span><span class="ident" id="4152823">pipe</span><span class="op" id="4152827">{</span><span class="ident" id="4152828">r2</span><span class="op" id="4152830">,</span>&nbsp;<span class="ident" id="4152832">w1</span><span class="op" id="4152834">}</span><br>
<span class="lineno"></span><span class="op" id="4152836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="4152839">type</span>&nbsp;<span class="ident" id="4152844">pipe</span>&nbsp;<span class="keyword" id="4152849">struct</span>&nbsp;<span class="op" id="4152856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4152859">*</span><span class="ident" id="4152860">io</span><span class="op" id="4152862">.</span><span class="ident" id="4152863">PipeReader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4152875">*</span><span class="ident" id="4152876">io</span><span class="op" id="4152878">.</span><span class="ident" id="4152879">PipeWriter</span><br>
<span class="lineno"></span><span class="op" id="4152890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="4152893">type</span>&nbsp;<span class="ident" id="4152898">pipeAddr</span>&nbsp;<span class="builtintype" id="4152907">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4152912">func</span>&nbsp;<span class="op" id="4152917">(</span><span class="ident" id="4152918">pipeAddr</span><span class="op" id="4152926">)</span>&nbsp;<span class="ident" id="4152928">Network</span><span class="op" id="4152935">(</span><span class="op" id="4152936">)</span>&nbsp;<span class="builtintype" id="4152938">string</span>&nbsp;<span class="op" id="4152945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4152948">return</span>&nbsp;<span class="string" id="4152955">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="4152962">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="4152965">func</span>&nbsp;<span class="op" id="4152970">(</span><span class="ident" id="4152971">pipeAddr</span><span class="op" id="4152979">)</span>&nbsp;<span class="ident" id="4152981">String</span><span class="op" id="4152987">(</span><span class="op" id="4152988">)</span>&nbsp;<span class="builtintype" id="4152990">string</span>&nbsp;<span class="op" id="4152997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4153000">return</span>&nbsp;<span class="string" id="4153007">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="4153014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="4153017">func</span>&nbsp;<span class="op" id="4153022">(</span><span class="ident" id="4153023">p</span>&nbsp;<span class="op" id="4153025">*</span><span class="ident" id="4153026">pipe</span><span class="op" id="4153030">)</span>&nbsp;<span class="ident" id="4153032">Close</span><span class="op" id="4153037">(</span><span class="op" id="4153038">)</span>&nbsp;<span class="builtintype" id="4153040">error</span>&nbsp;<span class="op" id="4153046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4153049">err</span>&nbsp;<span class="op" id="4153053">:=</span>&nbsp;<span class="ident" id="4153056">p</span><span class="op" id="4153057">.</span><span class="ident" id="4153058">PipeReader</span><span class="op" id="4153068">.</span><span class="ident" id="4153069">Close</span><span class="op" id="4153074">(</span><span class="op" id="4153075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4153078">err1</span>&nbsp;<span class="op" id="4153083">:=</span>&nbsp;<span class="ident" id="4153086">p</span><span class="op" id="4153087">.</span><span class="ident" id="4153088">PipeWriter</span><span class="op" id="4153098">.</span><span class="ident" id="4153099">Close</span><span class="op" id="4153104">(</span><span class="op" id="4153105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4153108">if</span>&nbsp;<span class="ident" id="4153111">err</span>&nbsp;<span class="op" id="4153115">==</span>&nbsp;<span class="ident" id="4153118">nil</span>&nbsp;<span class="op" id="4153122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4153126">err</span>&nbsp;<span class="op" id="4153130">=</span>&nbsp;<span class="ident" id="4153132">err1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4153138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4153141">return</span>&nbsp;<span class="ident" id="4153148">err</span><br>
<span class="lineno"></span><span class="op" id="4153152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4153155">func</span>&nbsp;<span class="op" id="4153160">(</span><span class="ident" id="4153161">p</span>&nbsp;<span class="op" id="4153163">*</span><span class="ident" id="4153164">pipe</span><span class="op" id="4153168">)</span>&nbsp;<span class="ident" id="4153170">LocalAddr</span><span class="op" id="4153179">(</span><span class="op" id="4153180">)</span>&nbsp;<span class="ident" id="4153182">Addr</span>&nbsp;<span class="op" id="4153187">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4153190">return</span>&nbsp;<span class="ident" id="4153197">pipeAddr</span><span class="op" id="4153205">(</span><span class="num" id="4153206">0</span><span class="op" id="4153207">)</span><br>
<span class="lineno"></span><span class="op" id="4153209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4153212">func</span>&nbsp;<span class="op" id="4153217">(</span><span class="ident" id="4153218">p</span>&nbsp;<span class="op" id="4153220">*</span><span class="ident" id="4153221">pipe</span><span class="op" id="4153225">)</span>&nbsp;<span class="ident" id="4153227">RemoteAddr</span><span class="op" id="4153237">(</span><span class="op" id="4153238">)</span>&nbsp;<span class="ident" id="4153240">Addr</span>&nbsp;<span class="op" id="4153245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4153248">return</span>&nbsp;<span class="ident" id="4153255">pipeAddr</span><span class="op" id="4153263">(</span><span class="num" id="4153264">0</span><span class="op" id="4153265">)</span><br>
<span class="lineno">55</span><span class="op" id="4153267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4153270">func</span>&nbsp;<span class="op" id="4153275">(</span><span class="ident" id="4153276">p</span>&nbsp;<span class="op" id="4153278">*</span><span class="ident" id="4153279">pipe</span><span class="op" id="4153283">)</span>&nbsp;<span class="ident" id="4153285">SetDeadline</span><span class="op" id="4153296">(</span><span class="ident" id="4153297">t</span>&nbsp;<span class="ident" id="4153299">time</span><span class="op" id="4153303">.</span><span class="ident" id="4153304">Time</span><span class="op" id="4153308">)</span>&nbsp;<span class="builtintype" id="4153310">error</span>&nbsp;<span class="op" id="4153316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4153319">return</span>&nbsp;<span class="ident" id="4153326">errors</span><span class="op" id="4153332">.</span><span class="ident" id="4153333">New</span><span class="op" id="4153336">(</span><span class="string" id="4153337">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="4153374">)</span><br>
<span class="lineno"></span><span class="op" id="4153376">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="4153379">func</span>&nbsp;<span class="op" id="4153384">(</span><span class="ident" id="4153385">p</span>&nbsp;<span class="op" id="4153387">*</span><span class="ident" id="4153388">pipe</span><span class="op" id="4153392">)</span>&nbsp;<span class="ident" id="4153394">SetReadDeadline</span><span class="op" id="4153409">(</span><span class="ident" id="4153410">t</span>&nbsp;<span class="ident" id="4153412">time</span><span class="op" id="4153416">.</span><span class="ident" id="4153417">Time</span><span class="op" id="4153421">)</span>&nbsp;<span class="builtintype" id="4153423">error</span>&nbsp;<span class="op" id="4153429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4153432">return</span>&nbsp;<span class="ident" id="4153439">errors</span><span class="op" id="4153445">.</span><span class="ident" id="4153446">New</span><span class="op" id="4153449">(</span><span class="string" id="4153450">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="4153487">)</span><br>
<span class="lineno"></span><span class="op" id="4153489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="4153492">func</span>&nbsp;<span class="op" id="4153497">(</span><span class="ident" id="4153498">p</span>&nbsp;<span class="op" id="4153500">*</span><span class="ident" id="4153501">pipe</span><span class="op" id="4153505">)</span>&nbsp;<span class="ident" id="4153507">SetWriteDeadline</span><span class="op" id="4153523">(</span><span class="ident" id="4153524">t</span>&nbsp;<span class="ident" id="4153526">time</span><span class="op" id="4153530">.</span><span class="ident" id="4153531">Time</span><span class="op" id="4153535">)</span>&nbsp;<span class="builtintype" id="4153537">error</span>&nbsp;<span class="op" id="4153543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4153546">return</span>&nbsp;<span class="ident" id="4153553">errors</span><span class="op" id="4153559">.</span><span class="ident" id="4153560">New</span><span class="op" id="4153563">(</span><span class="string" id="4153564">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="4153601">)</span><br>
<span class="lineno"></span><span class="op" id="4153603">}</span>
</div>
</body>
</html>
