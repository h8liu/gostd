<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html" class="current">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7140394">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7140450">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7140504">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7140555">package</span>&nbsp;<span class="ident" id="7140563">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7140571">import</span>&nbsp;<span class="string" id="7140578">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7140589">var</span>&nbsp;<span class="ident" id="7140593">simplifyTests</span>&nbsp;<span class="op" id="7140607">=</span>&nbsp;<span class="op" id="7140609">[</span><span class="op" id="7140610">]</span><span class="keyword" id="7140611">struct</span>&nbsp;<span class="op" id="7140618">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140621">Regexp</span>&nbsp;<span class="builtintype" id="7140628">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7140636">Simple</span>&nbsp;<span class="builtintype" id="7140643">string</span><br>
<span class="lineno"></span><span class="op" id="7140650">}</span><span class="op" id="7140651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7140654">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140684">{</span><span class="string" id="7140685">`a`</span><span class="op" id="7140688">,</span>&nbsp;<span class="string" id="7140690">`a`</span><span class="op" id="7140693">}</span><span class="op" id="7140694">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140697">{</span><span class="string" id="7140698">`ab`</span><span class="op" id="7140702">,</span>&nbsp;<span class="string" id="7140704">`ab`</span><span class="op" id="7140708">}</span><span class="op" id="7140709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140712">{</span><span class="string" id="7140713">`a|b`</span><span class="op" id="7140718">,</span>&nbsp;<span class="string" id="7140720">`[a-b]`</span><span class="op" id="7140727">}</span><span class="op" id="7140728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140731">{</span><span class="string" id="7140732">`ab|cd`</span><span class="op" id="7140739">,</span>&nbsp;<span class="string" id="7140741">`ab|cd`</span><span class="op" id="7140748">}</span><span class="op" id="7140749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140752">{</span><span class="string" id="7140753">`(ab)*`</span><span class="op" id="7140760">,</span>&nbsp;<span class="string" id="7140762">`(ab)*`</span><span class="op" id="7140769">}</span><span class="op" id="7140770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140773">{</span><span class="string" id="7140774">`(ab)+`</span><span class="op" id="7140781">,</span>&nbsp;<span class="string" id="7140783">`(ab)+`</span><span class="op" id="7140790">}</span><span class="op" id="7140791">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140794">{</span><span class="string" id="7140795">`(ab)?`</span><span class="op" id="7140802">,</span>&nbsp;<span class="string" id="7140804">`(ab)?`</span><span class="op" id="7140811">}</span><span class="op" id="7140812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140815">{</span><span class="string" id="7140816">`.`</span><span class="op" id="7140819">,</span>&nbsp;<span class="string" id="7140821">`(?s:.)`</span><span class="op" id="7140829">}</span><span class="op" id="7140830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140833">{</span><span class="string" id="7140834">`^`</span><span class="op" id="7140837">,</span>&nbsp;<span class="string" id="7140839">`^`</span><span class="op" id="7140842">}</span><span class="op" id="7140843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140846">{</span><span class="string" id="7140847">`$`</span><span class="op" id="7140850">,</span>&nbsp;<span class="string" id="7140852">`$`</span><span class="op" id="7140855">}</span><span class="op" id="7140856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140859">{</span><span class="string" id="7140860">`[ac]`</span><span class="op" id="7140866">,</span>&nbsp;<span class="string" id="7140868">`[ac]`</span><span class="op" id="7140874">}</span><span class="op" id="7140875">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140878">{</span><span class="string" id="7140879">`[^ac]`</span><span class="op" id="7140886">,</span>&nbsp;<span class="string" id="7140888">`[^ac]`</span><span class="op" id="7140895">}</span><span class="op" id="7140896">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7140900">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140928">{</span><span class="string" id="7140929">`[[:alnum:]]`</span><span class="op" id="7140942">,</span>&nbsp;<span class="string" id="7140944">`[0-9A-Za-z]`</span><span class="op" id="7140957">}</span><span class="op" id="7140958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140961">{</span><span class="string" id="7140962">`[[:alpha:]]`</span><span class="op" id="7140975">,</span>&nbsp;<span class="string" id="7140977">`[A-Za-z]`</span><span class="op" id="7140987">}</span><span class="op" id="7140988">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7140991">{</span><span class="string" id="7140992">`[[:blank:]]`</span><span class="op" id="7141005">,</span>&nbsp;<span class="string" id="7141007">`[\t&nbsp;]`</span><span class="op" id="7141014">}</span><span class="op" id="7141015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141018">{</span><span class="string" id="7141019">`[[:cntrl:]]`</span><span class="op" id="7141032">,</span>&nbsp;<span class="string" id="7141034">`[\x00-\x1f\x7f]`</span><span class="op" id="7141051">}</span><span class="op" id="7141052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141055">{</span><span class="string" id="7141056">`[[:digit:]]`</span><span class="op" id="7141069">,</span>&nbsp;<span class="string" id="7141071">`[0-9]`</span><span class="op" id="7141078">}</span><span class="op" id="7141079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141082">{</span><span class="string" id="7141083">`[[:graph:]]`</span><span class="op" id="7141096">,</span>&nbsp;<span class="string" id="7141098">`[!-~]`</span><span class="op" id="7141105">}</span><span class="op" id="7141106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141109">{</span><span class="string" id="7141110">`[[:lower:]]`</span><span class="op" id="7141123">,</span>&nbsp;<span class="string" id="7141125">`[a-z]`</span><span class="op" id="7141132">}</span><span class="op" id="7141133">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141136">{</span><span class="string" id="7141137">`[[:print:]]`</span><span class="op" id="7141150">,</span>&nbsp;<span class="string" id="7141152">`[&nbsp;-~]`</span><span class="op" id="7141159">}</span><span class="op" id="7141160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141163">{</span><span class="string" id="7141164">`[[:punct:]]`</span><span class="op" id="7141177">,</span>&nbsp;<span class="string" id="7141179">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="7141199">}</span><span class="op" id="7141200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141203">{</span><span class="string" id="7141204">`[[:space:]]`</span><span class="op" id="7141217">,</span>&nbsp;<span class="string" id="7141219">`[\t-\r&nbsp;]`</span><span class="op" id="7141229">}</span><span class="op" id="7141230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141233">{</span><span class="string" id="7141234">`[[:upper:]]`</span><span class="op" id="7141247">,</span>&nbsp;<span class="string" id="7141249">`[A-Z]`</span><span class="op" id="7141256">}</span><span class="op" id="7141257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141260">{</span><span class="string" id="7141261">`[[:xdigit:]]`</span><span class="op" id="7141275">,</span>&nbsp;<span class="string" id="7141277">`[0-9A-Fa-f]`</span><span class="op" id="7141290">}</span><span class="op" id="7141291">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7141295">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141322">{</span><span class="string" id="7141323">`\d`</span><span class="op" id="7141327">,</span>&nbsp;<span class="string" id="7141329">`[0-9]`</span><span class="op" id="7141336">}</span><span class="op" id="7141337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141340">{</span><span class="string" id="7141341">`\s`</span><span class="op" id="7141345">,</span>&nbsp;<span class="string" id="7141347">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7141362">}</span><span class="op" id="7141363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141366">{</span><span class="string" id="7141367">`\w`</span><span class="op" id="7141371">,</span>&nbsp;<span class="string" id="7141373">`[0-9A-Z_a-z]`</span><span class="op" id="7141387">}</span><span class="op" id="7141388">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141391">{</span><span class="string" id="7141392">`\D`</span><span class="op" id="7141396">,</span>&nbsp;<span class="string" id="7141398">`[^0-9]`</span><span class="op" id="7141406">}</span><span class="op" id="7141407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141410">{</span><span class="string" id="7141411">`\S`</span><span class="op" id="7141415">,</span>&nbsp;<span class="string" id="7141417">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7141433">}</span><span class="op" id="7141434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141437">{</span><span class="string" id="7141438">`\W`</span><span class="op" id="7141442">,</span>&nbsp;<span class="string" id="7141444">`[^0-9A-Z_a-z]`</span><span class="op" id="7141459">}</span><span class="op" id="7141460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141463">{</span><span class="string" id="7141464">`[\d]`</span><span class="op" id="7141470">,</span>&nbsp;<span class="string" id="7141472">`[0-9]`</span><span class="op" id="7141479">}</span><span class="op" id="7141480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141483">{</span><span class="string" id="7141484">`[\s]`</span><span class="op" id="7141490">,</span>&nbsp;<span class="string" id="7141492">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7141507">}</span><span class="op" id="7141508">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141511">{</span><span class="string" id="7141512">`[\w]`</span><span class="op" id="7141518">,</span>&nbsp;<span class="string" id="7141520">`[0-9A-Z_a-z]`</span><span class="op" id="7141534">}</span><span class="op" id="7141535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141538">{</span><span class="string" id="7141539">`[\D]`</span><span class="op" id="7141545">,</span>&nbsp;<span class="string" id="7141547">`[^0-9]`</span><span class="op" id="7141555">}</span><span class="op" id="7141556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141559">{</span><span class="string" id="7141560">`[\S]`</span><span class="op" id="7141566">,</span>&nbsp;<span class="string" id="7141568">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7141584">}</span><span class="op" id="7141585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141588">{</span><span class="string" id="7141589">`[\W]`</span><span class="op" id="7141595">,</span>&nbsp;<span class="string" id="7141597">`[^0-9A-Z_a-z]`</span><span class="op" id="7141612">}</span><span class="op" id="7141613">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7141617">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141639">{</span><span class="string" id="7141640">`a{1}`</span><span class="op" id="7141646">,</span>&nbsp;<span class="string" id="7141648">`a`</span><span class="op" id="7141651">}</span><span class="op" id="7141652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141655">{</span><span class="string" id="7141656">`a{2}`</span><span class="op" id="7141662">,</span>&nbsp;<span class="string" id="7141664">`aa`</span><span class="op" id="7141668">}</span><span class="op" id="7141669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141672">{</span><span class="string" id="7141673">`a{5}`</span><span class="op" id="7141679">,</span>&nbsp;<span class="string" id="7141681">`aaaaa`</span><span class="op" id="7141688">}</span><span class="op" id="7141689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141692">{</span><span class="string" id="7141693">`a{0,1}`</span><span class="op" id="7141701">,</span>&nbsp;<span class="string" id="7141703">`a?`</span><span class="op" id="7141707">}</span><span class="op" id="7141708">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7141711">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7141774">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7141830">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141907">{</span><span class="string" id="7141908">`(a){0,2}`</span><span class="op" id="7141918">,</span>&nbsp;<span class="string" id="7141920">`(?:(a)(a)?)?`</span><span class="op" id="7141934">}</span><span class="op" id="7141935">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7141959">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7141976">{</span><span class="string" id="7141977">`(a){0,4}`</span><span class="op" id="7141987">,</span>&nbsp;<span class="string" id="7141989">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7142019">}</span><span class="op" id="7142020">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142028">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142049">{</span><span class="string" id="7142050">`(a){2,6}`</span><span class="op" id="7142060">,</span>&nbsp;<span class="string" id="7142062">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7142098">}</span><span class="op" id="7142099">,</span>&nbsp;<span class="comment" id="7142101">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142122">{</span><span class="string" id="7142123">`a{0,2}`</span><span class="op" id="7142131">,</span>&nbsp;<span class="string" id="7142133">`(?:aa?)?`</span><span class="op" id="7142143">}</span><span class="op" id="7142144">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142174">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142191">{</span><span class="string" id="7142192">`a{0,4}`</span><span class="op" id="7142200">,</span>&nbsp;<span class="string" id="7142202">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7142224">}</span><span class="op" id="7142225">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142243">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142264">{</span><span class="string" id="7142265">`a{2,6}`</span><span class="op" id="7142273">,</span>&nbsp;<span class="string" id="7142275">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7142299">}</span><span class="op" id="7142300">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142316">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142337">{</span><span class="string" id="7142338">`a{0,}`</span><span class="op" id="7142345">,</span>&nbsp;<span class="string" id="7142347">`a*`</span><span class="op" id="7142351">}</span><span class="op" id="7142352">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142355">{</span><span class="string" id="7142356">`a{1,}`</span><span class="op" id="7142363">,</span>&nbsp;<span class="string" id="7142365">`a+`</span><span class="op" id="7142369">}</span><span class="op" id="7142370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142373">{</span><span class="string" id="7142374">`a{2,}`</span><span class="op" id="7142381">,</span>&nbsp;<span class="string" id="7142383">`aa+`</span><span class="op" id="7142388">}</span><span class="op" id="7142389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142392">{</span><span class="string" id="7142393">`a{5,}`</span><span class="op" id="7142400">,</span>&nbsp;<span class="string" id="7142402">`aaaaa+`</span><span class="op" id="7142410">}</span><span class="op" id="7142411">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142415">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142465">{</span><span class="string" id="7142466">`(?:a{1,}){1,}`</span><span class="op" id="7142481">,</span>&nbsp;<span class="string" id="7142483">`a+`</span><span class="op" id="7142487">}</span><span class="op" id="7142488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142491">{</span><span class="string" id="7142492">`(a{1,}b{1,})`</span><span class="op" id="7142506">,</span>&nbsp;<span class="string" id="7142508">`(a+b+)`</span><span class="op" id="7142516">}</span><span class="op" id="7142517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142520">{</span><span class="string" id="7142521">`a{1,}|b{1,}`</span><span class="op" id="7142534">,</span>&nbsp;<span class="string" id="7142536">`a+|b+`</span><span class="op" id="7142543">}</span><span class="op" id="7142544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142547">{</span><span class="string" id="7142548">`(?:a{1,})*`</span><span class="op" id="7142560">,</span>&nbsp;<span class="string" id="7142562">`(?:a+)*`</span><span class="op" id="7142571">}</span><span class="op" id="7142572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142575">{</span><span class="string" id="7142576">`(?:a{1,})+`</span><span class="op" id="7142588">,</span>&nbsp;<span class="string" id="7142590">`a+`</span><span class="op" id="7142594">}</span><span class="op" id="7142595">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142598">{</span><span class="string" id="7142599">`(?:a{1,})?`</span><span class="op" id="7142611">,</span>&nbsp;<span class="string" id="7142613">`(?:a+)?`</span><span class="op" id="7142622">}</span><span class="op" id="7142623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142626">{</span><span class="string" id="7142627">``</span><span class="op" id="7142629">,</span>&nbsp;<span class="string" id="7142631">`(?:)`</span><span class="op" id="7142637">}</span><span class="op" id="7142638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142641">{</span><span class="string" id="7142642">`a{0}`</span><span class="op" id="7142648">,</span>&nbsp;<span class="string" id="7142650">`(?:)`</span><span class="op" id="7142656">}</span><span class="op" id="7142657">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142661">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142696">{</span><span class="string" id="7142697">`[ab]`</span><span class="op" id="7142703">,</span>&nbsp;<span class="string" id="7142705">`[a-b]`</span><span class="op" id="7142712">}</span><span class="op" id="7142713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142716">{</span><span class="string" id="7142717">`[a-za-za-z]`</span><span class="op" id="7142730">,</span>&nbsp;<span class="string" id="7142732">`[a-z]`</span><span class="op" id="7142739">}</span><span class="op" id="7142740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142743">{</span><span class="string" id="7142744">`[A-Za-zA-Za-z]`</span><span class="op" id="7142760">,</span>&nbsp;<span class="string" id="7142762">`[A-Za-z]`</span><span class="op" id="7142772">}</span><span class="op" id="7142773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142776">{</span><span class="string" id="7142777">`[ABCDEFGH]`</span><span class="op" id="7142789">,</span>&nbsp;<span class="string" id="7142791">`[A-H]`</span><span class="op" id="7142798">}</span><span class="op" id="7142799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142802">{</span><span class="string" id="7142803">`[AB-CD-EF-GH]`</span><span class="op" id="7142818">,</span>&nbsp;<span class="string" id="7142820">`[A-H]`</span><span class="op" id="7142827">}</span><span class="op" id="7142828">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142831">{</span><span class="string" id="7142832">`[W-ZP-XE-R]`</span><span class="op" id="7142845">,</span>&nbsp;<span class="string" id="7142847">`[E-Z]`</span><span class="op" id="7142854">}</span><span class="op" id="7142855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142858">{</span><span class="string" id="7142859">`[a-ee-gg-m]`</span><span class="op" id="7142872">,</span>&nbsp;<span class="string" id="7142874">`[a-m]`</span><span class="op" id="7142881">}</span><span class="op" id="7142882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142885">{</span><span class="string" id="7142886">`[a-ea-ha-m]`</span><span class="op" id="7142899">,</span>&nbsp;<span class="string" id="7142901">`[a-m]`</span><span class="op" id="7142908">}</span><span class="op" id="7142909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142912">{</span><span class="string" id="7142913">`[a-ma-ha-e]`</span><span class="op" id="7142926">,</span>&nbsp;<span class="string" id="7142928">`[a-m]`</span><span class="op" id="7142935">}</span><span class="op" id="7142936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142939">{</span><span class="string" id="7142940">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="7142956">,</span>&nbsp;<span class="string" id="7142958">`[&nbsp;-~]`</span><span class="op" id="7142965">}</span><span class="op" id="7142966">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7142970">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7142998">{</span><span class="string" id="7142999">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="7143023">,</span>&nbsp;<span class="string" id="7143025">`[^\x00-\x{10FFFF}]`</span><span class="op" id="7143045">}</span><span class="op" id="7143046">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7143050">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143077">{</span><span class="string" id="7143078">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="7143101">,</span>&nbsp;<span class="string" id="7143103">`(?s:.)`</span><span class="op" id="7143111">}</span><span class="op" id="7143112">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7143116">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143142">{</span><span class="string" id="7143143">`(?i)A`</span><span class="op" id="7143150">,</span>&nbsp;<span class="string" id="7143152">`(?i:A)`</span><span class="op" id="7143160">}</span><span class="op" id="7143161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143164">{</span><span class="string" id="7143165">`(?i)a`</span><span class="op" id="7143172">,</span>&nbsp;<span class="string" id="7143174">`(?i:A)`</span><span class="op" id="7143182">}</span><span class="op" id="7143183">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143186">{</span><span class="string" id="7143187">`(?i)[A]`</span><span class="op" id="7143196">,</span>&nbsp;<span class="string" id="7143198">`(?i:A)`</span><span class="op" id="7143206">}</span><span class="op" id="7143207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143210">{</span><span class="string" id="7143211">`(?i)[a]`</span><span class="op" id="7143220">,</span>&nbsp;<span class="string" id="7143222">`(?i:A)`</span><span class="op" id="7143230">}</span><span class="op" id="7143231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143234">{</span><span class="string" id="7143235">`(?i)K`</span><span class="op" id="7143242">,</span>&nbsp;<span class="string" id="7143244">`(?i:K)`</span><span class="op" id="7143252">}</span><span class="op" id="7143253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143256">{</span><span class="string" id="7143257">`(?i)k`</span><span class="op" id="7143264">,</span>&nbsp;<span class="string" id="7143266">`(?i:K)`</span><span class="op" id="7143274">}</span><span class="op" id="7143275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143278">{</span><span class="string" id="7143279">`(?i)\x{212a}`</span><span class="op" id="7143293">,</span>&nbsp;<span class="string" id="7143295">&#34;(?i:K)&#34;</span><span class="op" id="7143303">}</span><span class="op" id="7143304">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143307">{</span><span class="string" id="7143308">`(?i)[K]`</span><span class="op" id="7143317">,</span>&nbsp;<span class="string" id="7143319">&#34;[Kk\u212A]&#34;</span><span class="op" id="7143331">}</span><span class="op" id="7143332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143335">{</span><span class="string" id="7143336">`(?i)[k]`</span><span class="op" id="7143345">,</span>&nbsp;<span class="string" id="7143347">&#34;[Kk\u212A]&#34;</span><span class="op" id="7143359">}</span><span class="op" id="7143360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143363">{</span><span class="string" id="7143364">`(?i)[\x{212a}]`</span><span class="op" id="7143380">,</span>&nbsp;<span class="string" id="7143382">&#34;[Kk\u212A]&#34;</span><span class="op" id="7143394">}</span><span class="op" id="7143395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143398">{</span><span class="string" id="7143399">`(?i)[a-z]`</span><span class="op" id="7143410">,</span>&nbsp;<span class="string" id="7143412">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="7143434">}</span><span class="op" id="7143435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143438">{</span><span class="string" id="7143439">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="7143460">,</span>&nbsp;<span class="string" id="7143462">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="7143478">}</span><span class="op" id="7143479">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143482">{</span><span class="string" id="7143483">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="7143506">,</span>&nbsp;<span class="string" id="7143508">`(?s:.)`</span><span class="op" id="7143516">}</span><span class="op" id="7143517">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7143521">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7143563">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7143625">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7143684">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7143746">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7143809">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143860">{</span><span class="string" id="7143861">`(a|b|)`</span><span class="op" id="7143869">,</span>&nbsp;<span class="string" id="7143871">`([a-b]|(?:))`</span><span class="op" id="7143885">}</span><span class="op" id="7143886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143889">{</span><span class="string" id="7143890">`(|)`</span><span class="op" id="7143895">,</span>&nbsp;<span class="string" id="7143897">`()`</span><span class="op" id="7143901">}</span><span class="op" id="7143902">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143905">{</span><span class="string" id="7143906">`a()`</span><span class="op" id="7143911">,</span>&nbsp;<span class="string" id="7143913">`a()`</span><span class="op" id="7143918">}</span><span class="op" id="7143919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143922">{</span><span class="string" id="7143923">`(()|())`</span><span class="op" id="7143932">,</span>&nbsp;<span class="string" id="7143934">`(()|())`</span><span class="op" id="7143943">}</span><span class="op" id="7143944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143947">{</span><span class="string" id="7143948">`(a|)`</span><span class="op" id="7143954">,</span>&nbsp;<span class="string" id="7143956">`(a|(?:))`</span><span class="op" id="7143966">}</span><span class="op" id="7143967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143970">{</span><span class="string" id="7143971">`ab()cd()`</span><span class="op" id="7143981">,</span>&nbsp;<span class="string" id="7143983">`ab()cd()`</span><span class="op" id="7143993">}</span><span class="op" id="7143994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7143997">{</span><span class="string" id="7143998">`()`</span><span class="op" id="7144002">,</span>&nbsp;<span class="string" id="7144004">`()`</span><span class="op" id="7144008">}</span><span class="op" id="7144009">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144012">{</span><span class="string" id="7144013">`()*`</span><span class="op" id="7144018">,</span>&nbsp;<span class="string" id="7144020">`()*`</span><span class="op" id="7144025">}</span><span class="op" id="7144026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144029">{</span><span class="string" id="7144030">`()+`</span><span class="op" id="7144035">,</span>&nbsp;<span class="string" id="7144037">`()+`</span><span class="op" id="7144042">}</span><span class="op" id="7144043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144046">{</span><span class="string" id="7144047">`()?`</span><span class="op" id="7144052">,</span>&nbsp;<span class="string" id="7144054">`()?`</span><span class="op" id="7144059">}</span><span class="op" id="7144060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144063">{</span><span class="string" id="7144064">`(){0}`</span><span class="op" id="7144071">,</span>&nbsp;<span class="string" id="7144073">`(?:)`</span><span class="op" id="7144079">}</span><span class="op" id="7144080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144083">{</span><span class="string" id="7144084">`(){1}`</span><span class="op" id="7144091">,</span>&nbsp;<span class="string" id="7144093">`()`</span><span class="op" id="7144097">}</span><span class="op" id="7144098">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144101">{</span><span class="string" id="7144102">`(){1,}`</span><span class="op" id="7144110">,</span>&nbsp;<span class="string" id="7144112">`()+`</span><span class="op" id="7144117">}</span><span class="op" id="7144118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144121">{</span><span class="string" id="7144122">`(){0,2}`</span><span class="op" id="7144131">,</span>&nbsp;<span class="string" id="7144133">`(?:()()?)?`</span><span class="op" id="7144145">}</span><span class="op" id="7144146">,</span><br>
<span class="lineno"></span><span class="op" id="7144148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7144151">func</span>&nbsp;<span class="ident" id="7144156">TestSimplify</span><span class="op" id="7144168">(</span><span class="ident" id="7144169">t</span>&nbsp;<span class="op" id="7144171">*</span><span class="ident" id="7144172">testing</span><span class="op" id="7144179">.</span><span class="ident" id="7144180">T</span><span class="op" id="7144181">)</span>&nbsp;<span class="op" id="7144183">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144186">for</span>&nbsp;<span class="ident" id="7144190">_</span><span class="op" id="7144191">,</span>&nbsp;<span class="ident" id="7144193">tt</span>&nbsp;<span class="op" id="7144196">:=</span>&nbsp;<span class="keyword" id="7144199">range</span>&nbsp;<span class="ident" id="7144205">simplifyTests</span>&nbsp;<span class="op" id="7144219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144223">re</span><span class="op" id="7144225">,</span>&nbsp;<span class="ident" id="7144227">err</span>&nbsp;<span class="op" id="7144231">:=</span>&nbsp;<span class="ident" id="7144234">Parse</span><span class="op" id="7144239">(</span><span class="ident" id="7144240">tt</span><span class="op" id="7144242">.</span><span class="ident" id="7144243">Regexp</span><span class="op" id="7144249">,</span>&nbsp;<span class="ident" id="7144251">MatchNL</span><span class="op" id="7144258">|</span><span class="ident" id="7144259">Perl</span><span class="op" id="7144263">&amp;^</span><span class="ident" id="7144265">OneLine</span><span class="op" id="7144272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144276">if</span>&nbsp;<span class="ident" id="7144279">err</span>&nbsp;<span class="op" id="7144283">!=</span>&nbsp;<span class="builtintype" id="7144286">nil</span>&nbsp;<span class="op" id="7144290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144295">t</span><span class="op" id="7144296">.</span><span class="ident" id="7144297">Errorf</span><span class="op" id="7144303">(</span><span class="string" id="7144304">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="7144327">,</span>&nbsp;<span class="ident" id="7144329">tt</span><span class="op" id="7144331">.</span><span class="ident" id="7144332">Regexp</span><span class="op" id="7144338">,</span>&nbsp;<span class="ident" id="7144340">err</span><span class="op" id="7144343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144348">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144363">s</span>&nbsp;<span class="op" id="7144365">:=</span>&nbsp;<span class="ident" id="7144368">re</span><span class="op" id="7144370">.</span><span class="ident" id="7144371">Simplify</span><span class="op" id="7144379">(</span><span class="op" id="7144380">)</span><span class="op" id="7144381">.</span><span class="ident" id="7144382">String</span><span class="op" id="7144388">(</span><span class="op" id="7144389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7144393">if</span>&nbsp;<span class="ident" id="7144396">s</span>&nbsp;<span class="op" id="7144398">!=</span>&nbsp;<span class="ident" id="7144401">tt</span><span class="op" id="7144403">.</span><span class="ident" id="7144404">Simple</span>&nbsp;<span class="op" id="7144411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7144416">t</span><span class="op" id="7144417">.</span><span class="ident" id="7144418">Errorf</span><span class="op" id="7144424">(</span><span class="string" id="7144425">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7144456">,</span>&nbsp;<span class="ident" id="7144458">tt</span><span class="op" id="7144460">.</span><span class="ident" id="7144461">Regexp</span><span class="op" id="7144467">,</span>&nbsp;<span class="ident" id="7144469">s</span><span class="op" id="7144470">,</span>&nbsp;<span class="ident" id="7144472">tt</span><span class="op" id="7144474">.</span><span class="ident" id="7144475">Simple</span><span class="op" id="7144481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144485">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7144488">}</span><br>
<span class="lineno"></span><span class="op" id="7144490">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
