<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/adler32</h2>
<ul>
<li><a href="/gostd/hash/adler32/adler32.go.html">adler32.go</a></li>
<li><a href="/gostd/hash/adler32/adler32_test.go.html">adler32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7222039">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7222094">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7222148">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7222199">package</span>&nbsp;<span class="ident" id="7222207">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7222216">import</span>&nbsp;<span class="op" id="7222223">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7222226">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7222237">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7222247">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7222250">var</span>&nbsp;<span class="ident" id="7222254">golden</span>&nbsp;<span class="op" id="7222261">=</span>&nbsp;<span class="op" id="7222263">[</span><span class="op" id="7222264">]</span><span class="keyword" id="7222265">struct</span>&nbsp;<span class="op" id="7222272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7222275">out</span>&nbsp;<span class="builtintype" id="7222279">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7222287">in</span>&nbsp;&nbsp;<span class="builtintype" id="7222291">string</span><br>
<span class="lineno">15</span><span class="op" id="7222298">}</span><span class="op" id="7222299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222302">{</span><span class="num" id="7222303">0x00000001</span><span class="op" id="7222313">,</span>&nbsp;<span class="string" id="7222315">&#34;&#34;</span><span class="op" id="7222317">}</span><span class="op" id="7222318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222321">{</span><span class="num" id="7222322">0x00620062</span><span class="op" id="7222332">,</span>&nbsp;<span class="string" id="7222334">&#34;a&#34;</span><span class="op" id="7222337">}</span><span class="op" id="7222338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222341">{</span><span class="num" id="7222342">0x012600c4</span><span class="op" id="7222352">,</span>&nbsp;<span class="string" id="7222354">&#34;ab&#34;</span><span class="op" id="7222358">}</span><span class="op" id="7222359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222362">{</span><span class="num" id="7222363">0x024d0127</span><span class="op" id="7222373">,</span>&nbsp;<span class="string" id="7222375">&#34;abc&#34;</span><span class="op" id="7222380">}</span><span class="op" id="7222381">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222384">{</span><span class="num" id="7222385">0x03d8018b</span><span class="op" id="7222395">,</span>&nbsp;<span class="string" id="7222397">&#34;abcd&#34;</span><span class="op" id="7222403">}</span><span class="op" id="7222404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222407">{</span><span class="num" id="7222408">0x05c801f0</span><span class="op" id="7222418">,</span>&nbsp;<span class="string" id="7222420">&#34;abcde&#34;</span><span class="op" id="7222427">}</span><span class="op" id="7222428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222431">{</span><span class="num" id="7222432">0x081e0256</span><span class="op" id="7222442">,</span>&nbsp;<span class="string" id="7222444">&#34;abcdef&#34;</span><span class="op" id="7222452">}</span><span class="op" id="7222453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222456">{</span><span class="num" id="7222457">0x0adb02bd</span><span class="op" id="7222467">,</span>&nbsp;<span class="string" id="7222469">&#34;abcdefg&#34;</span><span class="op" id="7222478">}</span><span class="op" id="7222479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222482">{</span><span class="num" id="7222483">0x0e000325</span><span class="op" id="7222493">,</span>&nbsp;<span class="string" id="7222495">&#34;abcdefgh&#34;</span><span class="op" id="7222505">}</span><span class="op" id="7222506">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222509">{</span><span class="num" id="7222510">0x118e038e</span><span class="op" id="7222520">,</span>&nbsp;<span class="string" id="7222522">&#34;abcdefghi&#34;</span><span class="op" id="7222533">}</span><span class="op" id="7222534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222537">{</span><span class="num" id="7222538">0x158603f8</span><span class="op" id="7222548">,</span>&nbsp;<span class="string" id="7222550">&#34;abcdefghij&#34;</span><span class="op" id="7222562">}</span><span class="op" id="7222563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222566">{</span><span class="num" id="7222567">0x3f090f02</span><span class="op" id="7222577">,</span>&nbsp;<span class="string" id="7222579">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7222622">}</span><span class="op" id="7222623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222626">{</span><span class="num" id="7222627">0x46d81477</span><span class="op" id="7222637">,</span>&nbsp;<span class="string" id="7222639">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7222698">}</span><span class="op" id="7222699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222702">{</span><span class="num" id="7222703">0x40ee0ee1</span><span class="op" id="7222713">,</span>&nbsp;<span class="string" id="7222715">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7222759">}</span><span class="op" id="7222760">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222763">{</span><span class="num" id="7222764">0x16661315</span><span class="op" id="7222774">,</span>&nbsp;<span class="string" id="7222776">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7222835">}</span><span class="op" id="7222836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222839">{</span><span class="num" id="7222840">0x5b2e1480</span><span class="op" id="7222850">,</span>&nbsp;<span class="string" id="7222852">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7222912">}</span><span class="op" id="7222913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222916">{</span><span class="num" id="7222917">0x8c3c09ea</span><span class="op" id="7222927">,</span>&nbsp;<span class="string" id="7222929">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7222958">}</span><span class="op" id="7222959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7222962">{</span><span class="num" id="7222963">0x45ac18fd</span><span class="op" id="7222973">,</span>&nbsp;<span class="string" id="7222975">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7223044">}</span><span class="op" id="7223045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223048">{</span><span class="num" id="7223049">0x53c61462</span><span class="op" id="7223059">,</span>&nbsp;<span class="string" id="7223061">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7223120">}</span><span class="op" id="7223121">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223124">{</span><span class="num" id="7223125">0x7e511e63</span><span class="op" id="7223135">,</span>&nbsp;<span class="string" id="7223137">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7223227">}</span><span class="op" id="7223228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223231">{</span><span class="num" id="7223232">0xe4801a6a</span><span class="op" id="7223242">,</span>&nbsp;<span class="string" id="7223244">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7223321">}</span><span class="op" id="7223322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223325">{</span><span class="num" id="7223326">0x61b507df</span><span class="op" id="7223336">,</span>&nbsp;<span class="string" id="7223338">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7223364">}</span><span class="op" id="7223365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223368">{</span><span class="num" id="7223369">0xb8631171</span><span class="op" id="7223379">,</span>&nbsp;<span class="string" id="7223381">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7223432">}</span><span class="op" id="7223433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223436">{</span><span class="num" id="7223437">0x8b5e1904</span><span class="op" id="7223447">,</span>&nbsp;<span class="string" id="7223449">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7223523">}</span><span class="op" id="7223524">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223527">{</span><span class="num" id="7223528">0x7cc6102b</span><span class="op" id="7223538">,</span>&nbsp;<span class="string" id="7223540">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7223588">}</span><span class="op" id="7223589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223592">{</span><span class="num" id="7223593">0x700318e7</span><span class="op" id="7223603">,</span>&nbsp;<span class="string" id="7223605">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7223677">}</span><span class="op" id="7223678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223681">{</span><span class="num" id="7223682">0x1e601747</span><span class="op" id="7223692">,</span>&nbsp;<span class="string" id="7223694">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7223764">}</span><span class="op" id="7223765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223768">{</span><span class="num" id="7223769">0xb55b0b09</span><span class="op" id="7223779">,</span>&nbsp;<span class="string" id="7223781">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7223815">}</span><span class="op" id="7223816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223819">{</span><span class="num" id="7223820">0x39111dd0</span><span class="op" id="7223830">,</span>&nbsp;<span class="string" id="7223832">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7223922">}</span><span class="op" id="7223923">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7223926">{</span><span class="num" id="7223927">0x91dd304f</span><span class="op" id="7223937">,</span>&nbsp;<span class="string" id="7223939">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7224073">}</span><span class="op" id="7224074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224077">{</span><span class="num" id="7224078">0x2e5d1316</span><span class="op" id="7224088">,</span>&nbsp;<span class="string" id="7224090">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7224148">}</span><span class="op" id="7224149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224152">{</span><span class="num" id="7224153">0xd0201df6</span><span class="op" id="7224163">,</span>&nbsp;<span class="string" id="7224165">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="7224248">}</span><span class="op" id="7224249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224252">{</span><span class="num" id="7224253">0x211297c8</span><span class="op" id="7224263">,</span>&nbsp;<span class="ident" id="7224265">strings</span><span class="op" id="7224272">.</span><span class="ident" id="7224273">Repeat</span><span class="op" id="7224279">(</span><span class="string" id="7224280">&#34;\xff&#34;</span><span class="op" id="7224286">,</span>&nbsp;<span class="num" id="7224288">5548</span><span class="op" id="7224292">)</span>&nbsp;<span class="op" id="7224294">+</span>&nbsp;<span class="string" id="7224296">&#34;8&#34;</span><span class="op" id="7224299">}</span><span class="op" id="7224300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224303">{</span><span class="num" id="7224304">0xbaa198c8</span><span class="op" id="7224314">,</span>&nbsp;<span class="ident" id="7224316">strings</span><span class="op" id="7224323">.</span><span class="ident" id="7224324">Repeat</span><span class="op" id="7224330">(</span><span class="string" id="7224331">&#34;\xff&#34;</span><span class="op" id="7224337">,</span>&nbsp;<span class="num" id="7224339">5549</span><span class="op" id="7224343">)</span>&nbsp;<span class="op" id="7224345">+</span>&nbsp;<span class="string" id="7224347">&#34;9&#34;</span><span class="op" id="7224350">}</span><span class="op" id="7224351">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224354">{</span><span class="num" id="7224355">0x553499be</span><span class="op" id="7224365">,</span>&nbsp;<span class="ident" id="7224367">strings</span><span class="op" id="7224374">.</span><span class="ident" id="7224375">Repeat</span><span class="op" id="7224381">(</span><span class="string" id="7224382">&#34;\xff&#34;</span><span class="op" id="7224388">,</span>&nbsp;<span class="num" id="7224390">5550</span><span class="op" id="7224394">)</span>&nbsp;<span class="op" id="7224396">+</span>&nbsp;<span class="string" id="7224398">&#34;0&#34;</span><span class="op" id="7224401">}</span><span class="op" id="7224402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224405">{</span><span class="num" id="7224406">0xf0c19abe</span><span class="op" id="7224416">,</span>&nbsp;<span class="ident" id="7224418">strings</span><span class="op" id="7224425">.</span><span class="ident" id="7224426">Repeat</span><span class="op" id="7224432">(</span><span class="string" id="7224433">&#34;\xff&#34;</span><span class="op" id="7224439">,</span>&nbsp;<span class="num" id="7224441">5551</span><span class="op" id="7224445">)</span>&nbsp;<span class="op" id="7224447">+</span>&nbsp;<span class="string" id="7224449">&#34;1&#34;</span><span class="op" id="7224452">}</span><span class="op" id="7224453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224456">{</span><span class="num" id="7224457">0x8d5c9bbe</span><span class="op" id="7224467">,</span>&nbsp;<span class="ident" id="7224469">strings</span><span class="op" id="7224476">.</span><span class="ident" id="7224477">Repeat</span><span class="op" id="7224483">(</span><span class="string" id="7224484">&#34;\xff&#34;</span><span class="op" id="7224490">,</span>&nbsp;<span class="num" id="7224492">5552</span><span class="op" id="7224496">)</span>&nbsp;<span class="op" id="7224498">+</span>&nbsp;<span class="string" id="7224500">&#34;2&#34;</span><span class="op" id="7224503">}</span><span class="op" id="7224504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224507">{</span><span class="num" id="7224508">0x2af69cbe</span><span class="op" id="7224518">,</span>&nbsp;<span class="ident" id="7224520">strings</span><span class="op" id="7224527">.</span><span class="ident" id="7224528">Repeat</span><span class="op" id="7224534">(</span><span class="string" id="7224535">&#34;\xff&#34;</span><span class="op" id="7224541">,</span>&nbsp;<span class="num" id="7224543">5553</span><span class="op" id="7224547">)</span>&nbsp;<span class="op" id="7224549">+</span>&nbsp;<span class="string" id="7224551">&#34;3&#34;</span><span class="op" id="7224554">}</span><span class="op" id="7224555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224558">{</span><span class="num" id="7224559">0xc9809dbe</span><span class="op" id="7224569">,</span>&nbsp;<span class="ident" id="7224571">strings</span><span class="op" id="7224578">.</span><span class="ident" id="7224579">Repeat</span><span class="op" id="7224585">(</span><span class="string" id="7224586">&#34;\xff&#34;</span><span class="op" id="7224592">,</span>&nbsp;<span class="num" id="7224594">5554</span><span class="op" id="7224598">)</span>&nbsp;<span class="op" id="7224600">+</span>&nbsp;<span class="string" id="7224602">&#34;4&#34;</span><span class="op" id="7224605">}</span><span class="op" id="7224606">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224609">{</span><span class="num" id="7224610">0x69189ebe</span><span class="op" id="7224620">,</span>&nbsp;<span class="ident" id="7224622">strings</span><span class="op" id="7224629">.</span><span class="ident" id="7224630">Repeat</span><span class="op" id="7224636">(</span><span class="string" id="7224637">&#34;\xff&#34;</span><span class="op" id="7224643">,</span>&nbsp;<span class="num" id="7224645">5555</span><span class="op" id="7224649">)</span>&nbsp;<span class="op" id="7224651">+</span>&nbsp;<span class="string" id="7224653">&#34;5&#34;</span><span class="op" id="7224656">}</span><span class="op" id="7224657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224660">{</span><span class="num" id="7224661">0x86af0001</span><span class="op" id="7224671">,</span>&nbsp;<span class="ident" id="7224673">strings</span><span class="op" id="7224680">.</span><span class="ident" id="7224681">Repeat</span><span class="op" id="7224687">(</span><span class="string" id="7224688">&#34;\x00&#34;</span><span class="op" id="7224694">,</span>&nbsp;<span class="num" id="7224696">1e5</span><span class="op" id="7224699">)</span><span class="op" id="7224700">}</span><span class="op" id="7224701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224704">{</span><span class="num" id="7224705">0x79660b4d</span><span class="op" id="7224715">,</span>&nbsp;<span class="ident" id="7224717">strings</span><span class="op" id="7224724">.</span><span class="ident" id="7224725">Repeat</span><span class="op" id="7224731">(</span><span class="string" id="7224732">&#34;a&#34;</span><span class="op" id="7224735">,</span>&nbsp;<span class="num" id="7224737">1e5</span><span class="op" id="7224740">)</span><span class="op" id="7224741">}</span><span class="op" id="7224742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7224745">{</span><span class="num" id="7224746">0x110588ee</span><span class="op" id="7224756">,</span>&nbsp;<span class="ident" id="7224758">strings</span><span class="op" id="7224765">.</span><span class="ident" id="7224766">Repeat</span><span class="op" id="7224772">(</span><span class="string" id="7224773">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="7224801">,</span>&nbsp;<span class="num" id="7224803">1e4</span><span class="op" id="7224806">)</span><span class="op" id="7224807">}</span><span class="op" id="7224808">,</span><br>
<span class="lineno"></span><span class="op" id="7224810">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="7224813">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="7224887">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="7224954">func</span>&nbsp;<span class="ident" id="7224959">checksum</span><span class="op" id="7224967">(</span><span class="ident" id="7224968">p</span>&nbsp;<span class="op" id="7224970">[</span><span class="op" id="7224971">]</span><span class="builtintype" id="7224972">byte</span><span class="op" id="7224976">)</span>&nbsp;<span class="builtintype" id="7224978">uint32</span>&nbsp;<span class="op" id="7224985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7224988">s1</span><span class="op" id="7224990">,</span>&nbsp;<span class="ident" id="7224992">s2</span>&nbsp;<span class="op" id="7224995">:=</span>&nbsp;<span class="builtintype" id="7224998">uint32</span><span class="op" id="7225004">(</span><span class="num" id="7225005">1</span><span class="op" id="7225006">)</span><span class="op" id="7225007">,</span>&nbsp;<span class="builtintype" id="7225009">uint32</span><span class="op" id="7225015">(</span><span class="num" id="7225016">0</span><span class="op" id="7225017">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225020">for</span>&nbsp;<span class="ident" id="7225024">_</span><span class="op" id="7225025">,</span>&nbsp;<span class="ident" id="7225027">x</span>&nbsp;<span class="op" id="7225029">:=</span>&nbsp;<span class="keyword" id="7225032">range</span>&nbsp;<span class="ident" id="7225038">p</span>&nbsp;<span class="op" id="7225040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225044">s1</span>&nbsp;<span class="op" id="7225047">=</span>&nbsp;<span class="op" id="7225049">(</span><span class="ident" id="7225050">s1</span>&nbsp;<span class="op" id="7225053">+</span>&nbsp;<span class="builtintype" id="7225055">uint32</span><span class="op" id="7225061">(</span><span class="ident" id="7225062">x</span><span class="op" id="7225063">)</span><span class="op" id="7225064">)</span>&nbsp;<span class="op" id="7225066">%</span>&nbsp;<span class="ident" id="7225068">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225074">s2</span>&nbsp;<span class="op" id="7225077">=</span>&nbsp;<span class="op" id="7225079">(</span><span class="ident" id="7225080">s2</span>&nbsp;<span class="op" id="7225083">+</span>&nbsp;<span class="ident" id="7225085">s1</span><span class="op" id="7225087">)</span>&nbsp;<span class="op" id="7225089">%</span>&nbsp;<span class="ident" id="7225091">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7225096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225099">return</span>&nbsp;<span class="ident" id="7225106">s2</span><span class="op" id="7225108">&lt;&lt;</span><span class="num" id="7225110">16</span>&nbsp;<span class="op" id="7225113">|</span>&nbsp;<span class="ident" id="7225115">s1</span><br>
<span class="lineno">70</span><span class="op" id="7225118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7225121">func</span>&nbsp;<span class="ident" id="7225126">TestGolden</span><span class="op" id="7225136">(</span><span class="ident" id="7225137">t</span>&nbsp;<span class="op" id="7225139">*</span><span class="ident" id="7225140">testing</span><span class="op" id="7225147">.</span><span class="ident" id="7225148">T</span><span class="op" id="7225149">)</span>&nbsp;<span class="op" id="7225151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225154">for</span>&nbsp;<span class="ident" id="7225158">_</span><span class="op" id="7225159">,</span>&nbsp;<span class="ident" id="7225161">g</span>&nbsp;<span class="op" id="7225163">:=</span>&nbsp;<span class="keyword" id="7225166">range</span>&nbsp;<span class="ident" id="7225172">golden</span>&nbsp;<span class="op" id="7225179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225183">in</span>&nbsp;<span class="op" id="7225186">:=</span>&nbsp;<span class="ident" id="7225189">g</span><span class="op" id="7225190">.</span><span class="ident" id="7225191">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225196">if</span>&nbsp;<span class="builtinfunc" id="7225199">len</span><span class="op" id="7225202">(</span><span class="ident" id="7225203">in</span><span class="op" id="7225205">)</span>&nbsp;<span class="op" id="7225207">&gt;</span>&nbsp;<span class="num" id="7225209">220</span>&nbsp;<span class="op" id="7225213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225218">in</span>&nbsp;<span class="op" id="7225221">=</span>&nbsp;<span class="ident" id="7225223">in</span><span class="op" id="7225225">[</span><span class="op" id="7225226">:</span><span class="num" id="7225227">100</span><span class="op" id="7225230">]</span>&nbsp;<span class="op" id="7225232">+</span>&nbsp;<span class="string" id="7225234">&#34;...&#34;</span>&nbsp;<span class="op" id="7225240">+</span>&nbsp;<span class="ident" id="7225242">in</span><span class="op" id="7225244">[</span><span class="builtinfunc" id="7225245">len</span><span class="op" id="7225248">(</span><span class="ident" id="7225249">in</span><span class="op" id="7225251">)</span><span class="op" id="7225252">-</span><span class="num" id="7225253">100</span><span class="op" id="7225256">:</span><span class="op" id="7225257">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7225261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225265">p</span>&nbsp;<span class="op" id="7225267">:=</span>&nbsp;<span class="op" id="7225270">[</span><span class="op" id="7225271">]</span><span class="builtintype" id="7225272">byte</span><span class="op" id="7225276">(</span><span class="ident" id="7225277">g</span><span class="op" id="7225278">.</span><span class="ident" id="7225279">in</span><span class="op" id="7225281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225285">if</span>&nbsp;<span class="ident" id="7225288">got</span>&nbsp;<span class="op" id="7225292">:=</span>&nbsp;<span class="ident" id="7225295">checksum</span><span class="op" id="7225303">(</span><span class="ident" id="7225304">p</span><span class="op" id="7225305">)</span><span class="op" id="7225306">;</span>&nbsp;<span class="ident" id="7225308">got</span>&nbsp;<span class="op" id="7225312">!=</span>&nbsp;<span class="ident" id="7225315">g</span><span class="op" id="7225316">.</span><span class="ident" id="7225317">out</span>&nbsp;<span class="op" id="7225321">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225326">t</span><span class="op" id="7225327">.</span><span class="ident" id="7225328">Errorf</span><span class="op" id="7225334">(</span><span class="string" id="7225335">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7225389">,</span>&nbsp;<span class="ident" id="7225391">in</span><span class="op" id="7225393">,</span>&nbsp;<span class="ident" id="7225395">got</span><span class="op" id="7225398">,</span>&nbsp;<span class="ident" id="7225400">g</span><span class="op" id="7225401">.</span><span class="ident" id="7225402">out</span><span class="op" id="7225405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225410">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7225421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225425">if</span>&nbsp;<span class="ident" id="7225428">got</span>&nbsp;<span class="op" id="7225432">:=</span>&nbsp;<span class="ident" id="7225435">Checksum</span><span class="op" id="7225443">(</span><span class="ident" id="7225444">p</span><span class="op" id="7225445">)</span><span class="op" id="7225446">;</span>&nbsp;<span class="ident" id="7225448">got</span>&nbsp;<span class="op" id="7225452">!=</span>&nbsp;<span class="ident" id="7225455">g</span><span class="op" id="7225456">.</span><span class="ident" id="7225457">out</span>&nbsp;<span class="op" id="7225461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225466">t</span><span class="op" id="7225467">.</span><span class="ident" id="7225468">Errorf</span><span class="op" id="7225474">(</span><span class="string" id="7225475">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7225532">,</span>&nbsp;<span class="ident" id="7225534">in</span><span class="op" id="7225536">,</span>&nbsp;<span class="ident" id="7225538">got</span><span class="op" id="7225541">,</span>&nbsp;<span class="ident" id="7225543">g</span><span class="op" id="7225544">.</span><span class="ident" id="7225545">out</span><span class="op" id="7225548">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225553">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7225564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7225567">}</span><br>
<span class="lineno"></span><span class="op" id="7225569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7225572">func</span>&nbsp;<span class="ident" id="7225577">BenchmarkAdler32KB</span><span class="op" id="7225595">(</span><span class="ident" id="7225596">b</span>&nbsp;<span class="op" id="7225598">*</span><span class="ident" id="7225599">testing</span><span class="op" id="7225606">.</span><span class="ident" id="7225607">B</span><span class="op" id="7225608">)</span>&nbsp;<span class="op" id="7225610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225613">b</span><span class="op" id="7225614">.</span><span class="ident" id="7225615">SetBytes</span><span class="op" id="7225623">(</span><span class="num" id="7225624">1024</span><span class="op" id="7225628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225631">data</span>&nbsp;<span class="op" id="7225636">:=</span>&nbsp;<span class="builtinfunc" id="7225639">make</span><span class="op" id="7225643">(</span><span class="op" id="7225644">[</span><span class="op" id="7225645">]</span><span class="builtintype" id="7225646">byte</span><span class="op" id="7225650">,</span>&nbsp;<span class="num" id="7225652">1024</span><span class="op" id="7225656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225659">for</span>&nbsp;<span class="ident" id="7225663">i</span>&nbsp;<span class="op" id="7225665">:=</span>&nbsp;<span class="keyword" id="7225668">range</span>&nbsp;<span class="ident" id="7225674">data</span>&nbsp;<span class="op" id="7225679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225683">data</span><span class="op" id="7225687">[</span><span class="ident" id="7225688">i</span><span class="op" id="7225689">]</span>&nbsp;<span class="op" id="7225691">=</span>&nbsp;<span class="builtintype" id="7225693">byte</span><span class="op" id="7225697">(</span><span class="ident" id="7225698">i</span><span class="op" id="7225699">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7225702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225705">h</span>&nbsp;<span class="op" id="7225707">:=</span>&nbsp;<span class="ident" id="7225710">New</span><span class="op" id="7225713">(</span><span class="op" id="7225714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225717">in</span>&nbsp;<span class="op" id="7225720">:=</span>&nbsp;<span class="builtinfunc" id="7225723">make</span><span class="op" id="7225727">(</span><span class="op" id="7225728">[</span><span class="op" id="7225729">]</span><span class="builtintype" id="7225730">byte</span><span class="op" id="7225734">,</span>&nbsp;<span class="num" id="7225736">0</span><span class="op" id="7225737">,</span>&nbsp;<span class="ident" id="7225739">h</span><span class="op" id="7225740">.</span><span class="ident" id="7225741">Size</span><span class="op" id="7225745">(</span><span class="op" id="7225746">)</span><span class="op" id="7225747">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225751">b</span><span class="op" id="7225752">.</span><span class="ident" id="7225753">ResetTimer</span><span class="op" id="7225763">(</span><span class="op" id="7225764">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7225767">for</span>&nbsp;<span class="ident" id="7225771">i</span>&nbsp;<span class="op" id="7225773">:=</span>&nbsp;<span class="num" id="7225776">0</span><span class="op" id="7225777">;</span>&nbsp;<span class="ident" id="7225779">i</span>&nbsp;<span class="op" id="7225781">&lt;</span>&nbsp;<span class="ident" id="7225783">b</span><span class="op" id="7225784">.</span><span class="ident" id="7225785">N</span><span class="op" id="7225786">;</span>&nbsp;<span class="ident" id="7225788">i</span><span class="op" id="7225789">++</span>&nbsp;<span class="op" id="7225792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225796">h</span><span class="op" id="7225797">.</span><span class="ident" id="7225798">Reset</span><span class="op" id="7225803">(</span><span class="op" id="7225804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225808">h</span><span class="op" id="7225809">.</span><span class="ident" id="7225810">Write</span><span class="op" id="7225815">(</span><span class="ident" id="7225816">data</span><span class="op" id="7225820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7225824">h</span><span class="op" id="7225825">.</span><span class="ident" id="7225826">Sum</span><span class="op" id="7225829">(</span><span class="ident" id="7225830">in</span><span class="op" id="7225832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7225835">}</span><br>
<span class="lineno">105</span><span class="op" id="7225837">}</span>
</div>
</body>
</html>
