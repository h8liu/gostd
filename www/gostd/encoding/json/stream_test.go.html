<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html" class="current">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6946309">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6946365">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6946419">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6946470">package</span>&nbsp;<span class="ident" id="6946478">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6946484">import</span>&nbsp;<span class="op" id="6946491">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6946494">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6946503">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6946516">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6946523">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6946534">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6946545">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6946555">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="6946558">//&nbsp;Test&nbsp;values&nbsp;for&nbsp;the&nbsp;stream&nbsp;test.</span><br>
<span class="lineno"></span><span class="comment" id="6946594">//&nbsp;One&nbsp;of&nbsp;each&nbsp;JSON&nbsp;kind.</span><br>
<span class="lineno"></span><span class="keyword" id="6946620">var</span>&nbsp;<span class="ident" id="6946624">streamTest</span>&nbsp;<span class="op" id="6946635">=</span>&nbsp;<span class="op" id="6946637">[</span><span class="op" id="6946638">]</span><span class="keyword" id="6946639">interface</span><span class="op" id="6946648">{</span><span class="op" id="6946649">}</span><span class="op" id="6946650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6946653">0.1</span><span class="op" id="6946656">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6946659">&#34;hello&#34;</span><span class="op" id="6946666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6946669">nil</span><span class="op" id="6946672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6946675">true</span><span class="op" id="6946679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6946682">false</span><span class="op" id="6946687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6946690">[</span><span class="op" id="6946691">]</span><span class="keyword" id="6946692">interface</span><span class="op" id="6946701">{</span><span class="op" id="6946702">}</span><span class="op" id="6946703">{</span><span class="string" id="6946704">&#34;a&#34;</span><span class="op" id="6946707">,</span>&nbsp;<span class="string" id="6946709">&#34;b&#34;</span><span class="op" id="6946712">,</span>&nbsp;<span class="string" id="6946714">&#34;c&#34;</span><span class="op" id="6946717">}</span><span class="op" id="6946718">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6946721">map</span><span class="op" id="6946724">[</span><span class="builtintype" id="6946725">string</span><span class="op" id="6946731">]</span><span class="keyword" id="6946732">interface</span><span class="op" id="6946741">{</span><span class="op" id="6946742">}</span><span class="op" id="6946743">{</span><span class="string" id="6946744">&#34;K&#34;</span><span class="op" id="6946749">:</span>&nbsp;<span class="string" id="6946751">&#34;Kelvin&#34;</span><span class="op" id="6946759">,</span>&nbsp;<span class="string" id="6946761">&#34;ß&#34;</span><span class="op" id="6946765">:</span>&nbsp;<span class="string" id="6946767">&#34;long&nbsp;s&#34;</span><span class="op" id="6946775">}</span><span class="op" id="6946776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6946779">3.14</span><span class="op" id="6946783">,</span>&nbsp;<span class="comment" id="6946785">//&nbsp;another&nbsp;value&nbsp;to&nbsp;make&nbsp;sure&nbsp;something&nbsp;can&nbsp;follow&nbsp;map</span><br>
<span class="lineno"></span><span class="op" id="6946840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6946843">var</span>&nbsp;<span class="ident" id="6946847">streamEncoded</span>&nbsp;<span class="op" id="6946861">=</span>&nbsp;<span class="string" id="6946863">`0.1<br>
<span class="lineno">30</span>&#34;hello&#34;<br>
<span class="lineno"></span>null<br>
<span class="lineno"></span>true<br>
<span class="lineno"></span>false<br>
<span class="lineno"></span>[&#34;a&#34;,&#34;b&#34;,&#34;c&#34;]<br>
<span class="lineno">35</span>{&#34;ß&#34;:&#34;long&nbsp;s&#34;,&#34;K&#34;:&#34;Kelvin&#34;}<br>
<span class="lineno"></span>3.14<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6946945">func</span>&nbsp;<span class="ident" id="6946950">TestEncoder</span><span class="op" id="6946961">(</span><span class="ident" id="6946962">t</span>&nbsp;<span class="op" id="6946964">*</span><span class="ident" id="6946965">testing</span><span class="op" id="6946972">.</span><span class="ident" id="6946973">T</span><span class="op" id="6946974">)</span>&nbsp;<span class="op" id="6946976">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6946979">for</span>&nbsp;<span class="ident" id="6946983">i</span>&nbsp;<span class="op" id="6946985">:=</span>&nbsp;<span class="num" id="6946988">0</span><span class="op" id="6946989">;</span>&nbsp;<span class="ident" id="6946991">i</span>&nbsp;<span class="op" id="6946993">&lt;=</span>&nbsp;<span class="builtinfunc" id="6946996">len</span><span class="op" id="6946999">(</span><span class="ident" id="6947000">streamTest</span><span class="op" id="6947010">)</span><span class="op" id="6947011">;</span>&nbsp;<span class="ident" id="6947013">i</span><span class="op" id="6947014">++</span>&nbsp;<span class="op" id="6947017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947021">var</span>&nbsp;<span class="ident" id="6947025">buf</span>&nbsp;<span class="ident" id="6947029">bytes</span><span class="op" id="6947034">.</span><span class="ident" id="6947035">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6947044">enc</span>&nbsp;<span class="op" id="6947048">:=</span>&nbsp;<span class="ident" id="6947051">NewEncoder</span><span class="op" id="6947061">(</span><span class="op" id="6947062">&amp;</span><span class="ident" id="6947063">buf</span><span class="op" id="6947066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947070">for</span>&nbsp;<span class="ident" id="6947074">j</span><span class="op" id="6947075">,</span>&nbsp;<span class="ident" id="6947077">v</span>&nbsp;<span class="op" id="6947079">:=</span>&nbsp;<span class="keyword" id="6947082">range</span>&nbsp;<span class="ident" id="6947088">streamTest</span><span class="op" id="6947098">[</span><span class="num" id="6947099">0</span><span class="op" id="6947100">:</span><span class="ident" id="6947101">i</span><span class="op" id="6947102">]</span>&nbsp;<span class="op" id="6947104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947109">if</span>&nbsp;<span class="ident" id="6947112">err</span>&nbsp;<span class="op" id="6947116">:=</span>&nbsp;<span class="ident" id="6947119">enc</span><span class="op" id="6947122">.</span><span class="ident" id="6947123">Encode</span><span class="op" id="6947129">(</span><span class="ident" id="6947130">v</span><span class="op" id="6947131">)</span><span class="op" id="6947132">;</span>&nbsp;<span class="ident" id="6947134">err</span>&nbsp;<span class="op" id="6947138">!=</span>&nbsp;<span class="builtintype" id="6947141">nil</span>&nbsp;<span class="op" id="6947145">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6947151">t</span><span class="op" id="6947152">.</span><span class="ident" id="6947153">Fatalf</span><span class="op" id="6947159">(</span><span class="string" id="6947160">&#34;encode&nbsp;#%d:&nbsp;%v&#34;</span><span class="op" id="6947176">,</span>&nbsp;<span class="ident" id="6947178">j</span><span class="op" id="6947179">,</span>&nbsp;<span class="ident" id="6947181">err</span><span class="op" id="6947184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6947189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6947193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947197">if</span>&nbsp;<span class="ident" id="6947200">have</span><span class="op" id="6947204">,</span>&nbsp;<span class="ident" id="6947206">want</span>&nbsp;<span class="op" id="6947211">:=</span>&nbsp;<span class="ident" id="6947214">buf</span><span class="op" id="6947217">.</span><span class="ident" id="6947218">String</span><span class="op" id="6947224">(</span><span class="op" id="6947225">)</span><span class="op" id="6947226">,</span>&nbsp;<span class="ident" id="6947228">nlines</span><span class="op" id="6947234">(</span><span class="ident" id="6947235">streamEncoded</span><span class="op" id="6947248">,</span>&nbsp;<span class="ident" id="6947250">i</span><span class="op" id="6947251">)</span><span class="op" id="6947252">;</span>&nbsp;<span class="ident" id="6947254">have</span>&nbsp;<span class="op" id="6947259">!=</span>&nbsp;<span class="ident" id="6947262">want</span>&nbsp;<span class="op" id="6947267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6947272">t</span><span class="op" id="6947273">.</span><span class="ident" id="6947274">Errorf</span><span class="op" id="6947280">(</span><span class="string" id="6947281">&#34;encoding&nbsp;%d&nbsp;items:&nbsp;mismatch&#34;</span><span class="op" id="6947310">,</span>&nbsp;<span class="ident" id="6947312">i</span><span class="op" id="6947313">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6947318">diff</span><span class="op" id="6947322">(</span><span class="ident" id="6947323">t</span><span class="op" id="6947324">,</span>&nbsp;<span class="op" id="6947326">[</span><span class="op" id="6947327">]</span><span class="builtintype" id="6947328">byte</span><span class="op" id="6947332">(</span><span class="ident" id="6947333">have</span><span class="op" id="6947337">)</span><span class="op" id="6947338">,</span>&nbsp;<span class="op" id="6947340">[</span><span class="op" id="6947341">]</span><span class="builtintype" id="6947342">byte</span><span class="op" id="6947346">(</span><span class="ident" id="6947347">want</span><span class="op" id="6947351">)</span><span class="op" id="6947352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947357">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6947365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6947368">}</span><br>
<span class="lineno"></span><span class="op" id="6947370">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="6947373">func</span>&nbsp;<span class="ident" id="6947378">TestDecoder</span><span class="op" id="6947389">(</span><span class="ident" id="6947390">t</span>&nbsp;<span class="op" id="6947392">*</span><span class="ident" id="6947393">testing</span><span class="op" id="6947400">.</span><span class="ident" id="6947401">T</span><span class="op" id="6947402">)</span>&nbsp;<span class="op" id="6947404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947407">for</span>&nbsp;<span class="ident" id="6947411">i</span>&nbsp;<span class="op" id="6947413">:=</span>&nbsp;<span class="num" id="6947416">0</span><span class="op" id="6947417">;</span>&nbsp;<span class="ident" id="6947419">i</span>&nbsp;<span class="op" id="6947421">&lt;=</span>&nbsp;<span class="builtinfunc" id="6947424">len</span><span class="op" id="6947427">(</span><span class="ident" id="6947428">streamTest</span><span class="op" id="6947438">)</span><span class="op" id="6947439">;</span>&nbsp;<span class="ident" id="6947441">i</span><span class="op" id="6947442">++</span>&nbsp;<span class="op" id="6947445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6947449">//&nbsp;Use&nbsp;stream&nbsp;without&nbsp;newlines&nbsp;as&nbsp;input,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6947492">//&nbsp;just&nbsp;to&nbsp;stress&nbsp;the&nbsp;decoder&nbsp;even&nbsp;more.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6947535">//&nbsp;Our&nbsp;test&nbsp;input&nbsp;does&nbsp;not&nbsp;include&nbsp;back-to-back&nbsp;numbers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6947594">//&nbsp;Otherwise&nbsp;stripping&nbsp;the&nbsp;newlines&nbsp;would</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6947638">//&nbsp;merge&nbsp;two&nbsp;adjacent&nbsp;JSON&nbsp;values.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947675">var</span>&nbsp;<span class="ident" id="6947679">buf</span>&nbsp;<span class="ident" id="6947683">bytes</span><span class="op" id="6947688">.</span><span class="ident" id="6947689">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947698">for</span>&nbsp;<span class="ident" id="6947702">_</span><span class="op" id="6947703">,</span>&nbsp;<span class="ident" id="6947705">c</span>&nbsp;<span class="op" id="6947707">:=</span>&nbsp;<span class="keyword" id="6947710">range</span>&nbsp;<span class="ident" id="6947716">nlines</span><span class="op" id="6947722">(</span><span class="ident" id="6947723">streamEncoded</span><span class="op" id="6947736">,</span>&nbsp;<span class="ident" id="6947738">i</span><span class="op" id="6947739">)</span>&nbsp;<span class="op" id="6947741">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947746">if</span>&nbsp;<span class="ident" id="6947749">c</span>&nbsp;<span class="op" id="6947751">!=</span>&nbsp;<span class="string" id="6947754">&#39;\n&#39;</span>&nbsp;<span class="op" id="6947759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6947765">buf</span><span class="op" id="6947768">.</span><span class="ident" id="6947769">WriteRune</span><span class="op" id="6947778">(</span><span class="ident" id="6947779">c</span><span class="op" id="6947780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6947785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6947789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6947793">out</span>&nbsp;<span class="op" id="6947797">:=</span>&nbsp;<span class="builtinfunc" id="6947800">make</span><span class="op" id="6947804">(</span><span class="op" id="6947805">[</span><span class="op" id="6947806">]</span><span class="keyword" id="6947807">interface</span><span class="op" id="6947816">{</span><span class="op" id="6947817">}</span><span class="op" id="6947818">,</span>&nbsp;<span class="ident" id="6947820">i</span><span class="op" id="6947821">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6947825">dec</span>&nbsp;<span class="op" id="6947829">:=</span>&nbsp;<span class="ident" id="6947832">NewDecoder</span><span class="op" id="6947842">(</span><span class="op" id="6947843">&amp;</span><span class="ident" id="6947844">buf</span><span class="op" id="6947847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947851">for</span>&nbsp;<span class="ident" id="6947855">j</span>&nbsp;<span class="op" id="6947857">:=</span>&nbsp;<span class="keyword" id="6947860">range</span>&nbsp;<span class="ident" id="6947866">out</span>&nbsp;<span class="op" id="6947870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947875">if</span>&nbsp;<span class="ident" id="6947878">err</span>&nbsp;<span class="op" id="6947882">:=</span>&nbsp;<span class="ident" id="6947885">dec</span><span class="op" id="6947888">.</span><span class="ident" id="6947889">Decode</span><span class="op" id="6947895">(</span><span class="op" id="6947896">&amp;</span><span class="ident" id="6947897">out</span><span class="op" id="6947900">[</span><span class="ident" id="6947901">j</span><span class="op" id="6947902">]</span><span class="op" id="6947903">)</span><span class="op" id="6947904">;</span>&nbsp;<span class="ident" id="6947906">err</span>&nbsp;<span class="op" id="6947910">!=</span>&nbsp;<span class="builtintype" id="6947913">nil</span>&nbsp;<span class="op" id="6947917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6947923">t</span><span class="op" id="6947924">.</span><span class="ident" id="6947925">Fatalf</span><span class="op" id="6947931">(</span><span class="string" id="6947932">&#34;decode&nbsp;#%d/%d:&nbsp;%v&#34;</span><span class="op" id="6947951">,</span>&nbsp;<span class="ident" id="6947953">j</span><span class="op" id="6947954">,</span>&nbsp;<span class="ident" id="6947956">i</span><span class="op" id="6947957">,</span>&nbsp;<span class="ident" id="6947959">err</span><span class="op" id="6947962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6947967">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6947971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6947975">if</span>&nbsp;<span class="op" id="6947978">!</span><span class="ident" id="6947979">reflect</span><span class="op" id="6947986">.</span><span class="ident" id="6947987">DeepEqual</span><span class="op" id="6947996">(</span><span class="ident" id="6947997">out</span><span class="op" id="6948000">,</span>&nbsp;<span class="ident" id="6948002">streamTest</span><span class="op" id="6948012">[</span><span class="num" id="6948013">0</span><span class="op" id="6948014">:</span><span class="ident" id="6948015">i</span><span class="op" id="6948016">]</span><span class="op" id="6948017">)</span>&nbsp;<span class="op" id="6948019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948024">t</span><span class="op" id="6948025">.</span><span class="ident" id="6948026">Errorf</span><span class="op" id="6948032">(</span><span class="string" id="6948033">&#34;decoding&nbsp;%d&nbsp;items:&nbsp;mismatch&#34;</span><span class="op" id="6948062">,</span>&nbsp;<span class="ident" id="6948064">i</span><span class="op" id="6948065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948070">for</span>&nbsp;<span class="ident" id="6948074">j</span>&nbsp;<span class="op" id="6948076">:=</span>&nbsp;<span class="keyword" id="6948079">range</span>&nbsp;<span class="ident" id="6948085">out</span>&nbsp;<span class="op" id="6948089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948095">if</span>&nbsp;<span class="op" id="6948098">!</span><span class="ident" id="6948099">reflect</span><span class="op" id="6948106">.</span><span class="ident" id="6948107">DeepEqual</span><span class="op" id="6948116">(</span><span class="ident" id="6948117">out</span><span class="op" id="6948120">[</span><span class="ident" id="6948121">j</span><span class="op" id="6948122">]</span><span class="op" id="6948123">,</span>&nbsp;<span class="ident" id="6948125">streamTest</span><span class="op" id="6948135">[</span><span class="ident" id="6948136">j</span><span class="op" id="6948137">]</span><span class="op" id="6948138">)</span>&nbsp;<span class="op" id="6948140">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948147">t</span><span class="op" id="6948148">.</span><span class="ident" id="6948149">Errorf</span><span class="op" id="6948155">(</span><span class="string" id="6948156">&#34;#%d:&nbsp;have&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6948178">,</span>&nbsp;<span class="ident" id="6948180">j</span><span class="op" id="6948181">,</span>&nbsp;<span class="ident" id="6948183">out</span><span class="op" id="6948186">[</span><span class="ident" id="6948187">j</span><span class="op" id="6948188">]</span><span class="op" id="6948189">,</span>&nbsp;<span class="ident" id="6948191">streamTest</span><span class="op" id="6948201">[</span><span class="ident" id="6948202">j</span><span class="op" id="6948203">]</span><span class="op" id="6948204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948220">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948228">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948231">}</span><br>
<span class="lineno"></span><span class="op" id="6948233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6948236">func</span>&nbsp;<span class="ident" id="6948241">TestDecoderBuffered</span><span class="op" id="6948260">(</span><span class="ident" id="6948261">t</span>&nbsp;<span class="op" id="6948263">*</span><span class="ident" id="6948264">testing</span><span class="op" id="6948271">.</span><span class="ident" id="6948272">T</span><span class="op" id="6948273">)</span>&nbsp;<span class="op" id="6948275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948278">r</span>&nbsp;<span class="op" id="6948280">:=</span>&nbsp;<span class="ident" id="6948283">strings</span><span class="op" id="6948290">.</span><span class="ident" id="6948291">NewReader</span><span class="op" id="6948300">(</span><span class="string" id="6948301">`{&#34;Name&#34;:&nbsp;&#34;Gopher&#34;}&nbsp;extra&nbsp;`</span><span class="op" id="6948328">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948331">var</span>&nbsp;<span class="ident" id="6948335">m</span>&nbsp;<span class="keyword" id="6948337">struct</span>&nbsp;<span class="op" id="6948344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948348">Name</span>&nbsp;<span class="builtintype" id="6948353">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948364">d</span>&nbsp;<span class="op" id="6948366">:=</span>&nbsp;<span class="ident" id="6948369">NewDecoder</span><span class="op" id="6948379">(</span><span class="ident" id="6948380">r</span><span class="op" id="6948381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948384">err</span>&nbsp;<span class="op" id="6948388">:=</span>&nbsp;<span class="ident" id="6948391">d</span><span class="op" id="6948392">.</span><span class="ident" id="6948393">Decode</span><span class="op" id="6948399">(</span><span class="op" id="6948400">&amp;</span><span class="ident" id="6948401">m</span><span class="op" id="6948402">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948405">if</span>&nbsp;<span class="ident" id="6948408">err</span>&nbsp;<span class="op" id="6948412">!=</span>&nbsp;<span class="builtintype" id="6948415">nil</span>&nbsp;<span class="op" id="6948419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948423">t</span><span class="op" id="6948424">.</span><span class="ident" id="6948425">Fatal</span><span class="op" id="6948430">(</span><span class="ident" id="6948431">err</span><span class="op" id="6948434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948440">if</span>&nbsp;<span class="ident" id="6948443">m</span><span class="op" id="6948444">.</span><span class="ident" id="6948445">Name</span>&nbsp;<span class="op" id="6948450">!=</span>&nbsp;<span class="string" id="6948453">&#34;Gopher&#34;</span>&nbsp;<span class="op" id="6948462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948466">t</span><span class="op" id="6948467">.</span><span class="ident" id="6948468">Errorf</span><span class="op" id="6948474">(</span><span class="string" id="6948475">&#34;Name&nbsp;=&nbsp;%q;&nbsp;want&nbsp;Gopher&#34;</span><span class="op" id="6948499">,</span>&nbsp;<span class="ident" id="6948501">m</span><span class="op" id="6948502">.</span><span class="ident" id="6948503">Name</span><span class="op" id="6948507">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948513">rest</span><span class="op" id="6948517">,</span>&nbsp;<span class="ident" id="6948519">err</span>&nbsp;<span class="op" id="6948523">:=</span>&nbsp;<span class="ident" id="6948526">ioutil</span><span class="op" id="6948532">.</span><span class="ident" id="6948533">ReadAll</span><span class="op" id="6948540">(</span><span class="ident" id="6948541">d</span><span class="op" id="6948542">.</span><span class="ident" id="6948543">Buffered</span><span class="op" id="6948551">(</span><span class="op" id="6948552">)</span><span class="op" id="6948553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948556">if</span>&nbsp;<span class="ident" id="6948559">err</span>&nbsp;<span class="op" id="6948563">!=</span>&nbsp;<span class="builtintype" id="6948566">nil</span>&nbsp;<span class="op" id="6948570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948574">t</span><span class="op" id="6948575">.</span><span class="ident" id="6948576">Fatal</span><span class="op" id="6948581">(</span><span class="ident" id="6948582">err</span><span class="op" id="6948585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948588">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948591">if</span>&nbsp;<span class="ident" id="6948594">g</span><span class="op" id="6948595">,</span>&nbsp;<span class="ident" id="6948597">w</span>&nbsp;<span class="op" id="6948599">:=</span>&nbsp;<span class="builtintype" id="6948602">string</span><span class="op" id="6948608">(</span><span class="ident" id="6948609">rest</span><span class="op" id="6948613">)</span><span class="op" id="6948614">,</span>&nbsp;<span class="string" id="6948616">&#34;&nbsp;extra&nbsp;&#34;</span><span class="op" id="6948625">;</span>&nbsp;<span class="ident" id="6948627">g</span>&nbsp;<span class="op" id="6948629">!=</span>&nbsp;<span class="ident" id="6948632">w</span>&nbsp;<span class="op" id="6948634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948638">t</span><span class="op" id="6948639">.</span><span class="ident" id="6948640">Errorf</span><span class="op" id="6948646">(</span><span class="string" id="6948647">&#34;Remaining&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6948672">,</span>&nbsp;<span class="ident" id="6948674">g</span><span class="op" id="6948675">,</span>&nbsp;<span class="ident" id="6948677">w</span><span class="op" id="6948678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948681">}</span><br>
<span class="lineno"></span><span class="op" id="6948683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="6948686">func</span>&nbsp;<span class="ident" id="6948691">nlines</span><span class="op" id="6948697">(</span><span class="ident" id="6948698">s</span>&nbsp;<span class="builtintype" id="6948700">string</span><span class="op" id="6948706">,</span>&nbsp;<span class="ident" id="6948708">n</span>&nbsp;<span class="builtintype" id="6948710">int</span><span class="op" id="6948713">)</span>&nbsp;<span class="builtintype" id="6948715">string</span>&nbsp;<span class="op" id="6948722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948725">if</span>&nbsp;<span class="ident" id="6948728">n</span>&nbsp;<span class="op" id="6948730">&lt;=</span>&nbsp;<span class="num" id="6948733">0</span>&nbsp;<span class="op" id="6948735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948739">return</span>&nbsp;<span class="string" id="6948746">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948753">for</span>&nbsp;<span class="ident" id="6948757">i</span><span class="op" id="6948758">,</span>&nbsp;<span class="ident" id="6948760">c</span>&nbsp;<span class="op" id="6948762">:=</span>&nbsp;<span class="keyword" id="6948765">range</span>&nbsp;<span class="ident" id="6948771">s</span>&nbsp;<span class="op" id="6948773">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948777">if</span>&nbsp;<span class="ident" id="6948780">c</span>&nbsp;<span class="op" id="6948782">==</span>&nbsp;<span class="string" id="6948785">&#39;\n&#39;</span>&nbsp;<span class="op" id="6948790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948795">if</span>&nbsp;<span class="ident" id="6948798">n</span><span class="op" id="6948799">--</span><span class="op" id="6948801">;</span>&nbsp;<span class="ident" id="6948803">n</span>&nbsp;<span class="op" id="6948805">==</span>&nbsp;<span class="num" id="6948808">0</span>&nbsp;<span class="op" id="6948810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948816">return</span>&nbsp;<span class="ident" id="6948823">s</span><span class="op" id="6948824">[</span><span class="num" id="6948825">0</span>&nbsp;<span class="op" id="6948827">:</span>&nbsp;<span class="ident" id="6948829">i</span><span class="op" id="6948830">+</span><span class="num" id="6948831">1</span><span class="op" id="6948832">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948841">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6948844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948847">return</span>&nbsp;<span class="ident" id="6948854">s</span><br>
<span class="lineno"></span><span class="op" id="6948856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6948859">func</span>&nbsp;<span class="ident" id="6948864">TestRawMessage</span><span class="op" id="6948878">(</span><span class="ident" id="6948879">t</span>&nbsp;<span class="op" id="6948881">*</span><span class="ident" id="6948882">testing</span><span class="op" id="6948889">.</span><span class="ident" id="6948890">T</span><span class="op" id="6948891">)</span>&nbsp;<span class="op" id="6948893">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6948896">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;not&nbsp;need&nbsp;the&nbsp;*&nbsp;in&nbsp;*RawMessage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6948948">var</span>&nbsp;<span class="ident" id="6948952">data</span>&nbsp;<span class="keyword" id="6948957">struct</span>&nbsp;<span class="op" id="6948964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948968">X</span>&nbsp;&nbsp;<span class="builtintype" id="6948971">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948981">Id</span>&nbsp;<span class="op" id="6948984">*</span><span class="ident" id="6948985">RawMessage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6948998">Y</span>&nbsp;&nbsp;<span class="builtintype" id="6949001">float32</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949013">const</span>&nbsp;<span class="ident" id="6949019">raw</span>&nbsp;<span class="op" id="6949023">=</span>&nbsp;<span class="string" id="6949025">`[&#34;\u0056&#34;,null]`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949044">const</span>&nbsp;<span class="ident" id="6949050">msg</span>&nbsp;<span class="op" id="6949054">=</span>&nbsp;<span class="string" id="6949056">`{&#34;X&#34;:0.1,&#34;Id&#34;:[&#34;\u0056&#34;,null],&#34;Y&#34;:0.2}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949098">err</span>&nbsp;<span class="op" id="6949102">:=</span>&nbsp;<span class="ident" id="6949105">Unmarshal</span><span class="op" id="6949114">(</span><span class="op" id="6949115">[</span><span class="op" id="6949116">]</span><span class="builtintype" id="6949117">byte</span><span class="op" id="6949121">(</span><span class="ident" id="6949122">msg</span><span class="op" id="6949125">)</span><span class="op" id="6949126">,</span>&nbsp;<span class="op" id="6949128">&amp;</span><span class="ident" id="6949129">data</span><span class="op" id="6949133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949136">if</span>&nbsp;<span class="ident" id="6949139">err</span>&nbsp;<span class="op" id="6949143">!=</span>&nbsp;<span class="builtintype" id="6949146">nil</span>&nbsp;<span class="op" id="6949150">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949154">t</span><span class="op" id="6949155">.</span><span class="ident" id="6949156">Fatalf</span><span class="op" id="6949162">(</span><span class="string" id="6949163">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6949178">,</span>&nbsp;<span class="ident" id="6949180">err</span><span class="op" id="6949183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949189">if</span>&nbsp;<span class="builtintype" id="6949192">string</span><span class="op" id="6949198">(</span><span class="op" id="6949199">[</span><span class="op" id="6949200">]</span><span class="builtintype" id="6949201">byte</span><span class="op" id="6949205">(</span><span class="op" id="6949206">*</span><span class="ident" id="6949207">data</span><span class="op" id="6949211">.</span><span class="ident" id="6949212">Id</span><span class="op" id="6949214">)</span><span class="op" id="6949215">)</span>&nbsp;<span class="op" id="6949217">!=</span>&nbsp;<span class="ident" id="6949220">raw</span>&nbsp;<span class="op" id="6949224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949228">t</span><span class="op" id="6949229">.</span><span class="ident" id="6949230">Fatalf</span><span class="op" id="6949236">(</span><span class="string" id="6949237">&#34;Raw&nbsp;mismatch:&nbsp;have&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="6949270">,</span>&nbsp;<span class="op" id="6949272">[</span><span class="op" id="6949273">]</span><span class="builtintype" id="6949274">byte</span><span class="op" id="6949278">(</span><span class="op" id="6949279">*</span><span class="ident" id="6949280">data</span><span class="op" id="6949284">.</span><span class="ident" id="6949285">Id</span><span class="op" id="6949287">)</span><span class="op" id="6949288">,</span>&nbsp;<span class="ident" id="6949290">raw</span><span class="op" id="6949293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949296">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949299">b</span><span class="op" id="6949300">,</span>&nbsp;<span class="ident" id="6949302">err</span>&nbsp;<span class="op" id="6949306">:=</span>&nbsp;<span class="ident" id="6949309">Marshal</span><span class="op" id="6949316">(</span><span class="op" id="6949317">&amp;</span><span class="ident" id="6949318">data</span><span class="op" id="6949322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949325">if</span>&nbsp;<span class="ident" id="6949328">err</span>&nbsp;<span class="op" id="6949332">!=</span>&nbsp;<span class="builtintype" id="6949335">nil</span>&nbsp;<span class="op" id="6949339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949343">t</span><span class="op" id="6949344">.</span><span class="ident" id="6949345">Fatalf</span><span class="op" id="6949351">(</span><span class="string" id="6949352">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="6949365">,</span>&nbsp;<span class="ident" id="6949367">err</span><span class="op" id="6949370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949376">if</span>&nbsp;<span class="builtintype" id="6949379">string</span><span class="op" id="6949385">(</span><span class="ident" id="6949386">b</span><span class="op" id="6949387">)</span>&nbsp;<span class="op" id="6949389">!=</span>&nbsp;<span class="ident" id="6949392">msg</span>&nbsp;<span class="op" id="6949396">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949400">t</span><span class="op" id="6949401">.</span><span class="ident" id="6949402">Fatalf</span><span class="op" id="6949408">(</span><span class="string" id="6949409">&#34;Marshal:&nbsp;have&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="6949437">,</span>&nbsp;<span class="ident" id="6949439">b</span><span class="op" id="6949440">,</span>&nbsp;<span class="ident" id="6949442">msg</span><span class="op" id="6949445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949448">}</span><br>
<span class="lineno"></span><span class="op" id="6949450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6949453">func</span>&nbsp;<span class="ident" id="6949458">TestNullRawMessage</span><span class="op" id="6949476">(</span><span class="ident" id="6949477">t</span>&nbsp;<span class="op" id="6949479">*</span><span class="ident" id="6949480">testing</span><span class="op" id="6949487">.</span><span class="ident" id="6949488">T</span><span class="op" id="6949489">)</span>&nbsp;<span class="op" id="6949491">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6949494">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;not&nbsp;need&nbsp;the&nbsp;*&nbsp;in&nbsp;*RawMessage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949546">var</span>&nbsp;<span class="ident" id="6949550">data</span>&nbsp;<span class="keyword" id="6949555">struct</span>&nbsp;<span class="op" id="6949562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949566">X</span>&nbsp;&nbsp;<span class="builtintype" id="6949569">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949579">Id</span>&nbsp;<span class="op" id="6949582">*</span><span class="ident" id="6949583">RawMessage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949596">Y</span>&nbsp;&nbsp;<span class="builtintype" id="6949599">float32</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949611">data</span><span class="op" id="6949615">.</span><span class="ident" id="6949616">Id</span>&nbsp;<span class="op" id="6949619">=</span>&nbsp;<span class="builtinfunc" id="6949621">new</span><span class="op" id="6949624">(</span><span class="ident" id="6949625">RawMessage</span><span class="op" id="6949635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949638">const</span>&nbsp;<span class="ident" id="6949644">msg</span>&nbsp;<span class="op" id="6949648">=</span>&nbsp;<span class="string" id="6949650">`{&#34;X&#34;:0.1,&#34;Id&#34;:null,&#34;Y&#34;:0.2}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949681">err</span>&nbsp;<span class="op" id="6949685">:=</span>&nbsp;<span class="ident" id="6949688">Unmarshal</span><span class="op" id="6949697">(</span><span class="op" id="6949698">[</span><span class="op" id="6949699">]</span><span class="builtintype" id="6949700">byte</span><span class="op" id="6949704">(</span><span class="ident" id="6949705">msg</span><span class="op" id="6949708">)</span><span class="op" id="6949709">,</span>&nbsp;<span class="op" id="6949711">&amp;</span><span class="ident" id="6949712">data</span><span class="op" id="6949716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949719">if</span>&nbsp;<span class="ident" id="6949722">err</span>&nbsp;<span class="op" id="6949726">!=</span>&nbsp;<span class="builtintype" id="6949729">nil</span>&nbsp;<span class="op" id="6949733">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949737">t</span><span class="op" id="6949738">.</span><span class="ident" id="6949739">Fatalf</span><span class="op" id="6949745">(</span><span class="string" id="6949746">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="6949761">,</span>&nbsp;<span class="ident" id="6949763">err</span><span class="op" id="6949766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949772">if</span>&nbsp;<span class="ident" id="6949775">data</span><span class="op" id="6949779">.</span><span class="ident" id="6949780">Id</span>&nbsp;<span class="op" id="6949783">!=</span>&nbsp;<span class="builtintype" id="6949786">nil</span>&nbsp;<span class="op" id="6949790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949794">t</span><span class="op" id="6949795">.</span><span class="ident" id="6949796">Fatalf</span><span class="op" id="6949802">(</span><span class="string" id="6949803">&#34;Raw&nbsp;mismatch:&nbsp;have&nbsp;non-nil,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="6949841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949844">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949847">b</span><span class="op" id="6949848">,</span>&nbsp;<span class="ident" id="6949850">err</span>&nbsp;<span class="op" id="6949854">:=</span>&nbsp;<span class="ident" id="6949857">Marshal</span><span class="op" id="6949864">(</span><span class="op" id="6949865">&amp;</span><span class="ident" id="6949866">data</span><span class="op" id="6949870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949873">if</span>&nbsp;<span class="ident" id="6949876">err</span>&nbsp;<span class="op" id="6949880">!=</span>&nbsp;<span class="builtintype" id="6949883">nil</span>&nbsp;<span class="op" id="6949887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949891">t</span><span class="op" id="6949892">.</span><span class="ident" id="6949893">Fatalf</span><span class="op" id="6949899">(</span><span class="string" id="6949900">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="6949913">,</span>&nbsp;<span class="ident" id="6949915">err</span><span class="op" id="6949918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6949924">if</span>&nbsp;<span class="builtintype" id="6949927">string</span><span class="op" id="6949933">(</span><span class="ident" id="6949934">b</span><span class="op" id="6949935">)</span>&nbsp;<span class="op" id="6949937">!=</span>&nbsp;<span class="ident" id="6949940">msg</span>&nbsp;<span class="op" id="6949944">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6949948">t</span><span class="op" id="6949949">.</span><span class="ident" id="6949950">Fatalf</span><span class="op" id="6949956">(</span><span class="string" id="6949957">&#34;Marshal:&nbsp;have&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="6949985">,</span>&nbsp;<span class="ident" id="6949987">b</span><span class="op" id="6949988">,</span>&nbsp;<span class="ident" id="6949990">msg</span><span class="op" id="6949993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6949996">}</span><br>
<span class="lineno"></span><span class="op" id="6949998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6950001">var</span>&nbsp;<span class="ident" id="6950005">blockingTests</span>&nbsp;<span class="op" id="6950019">=</span>&nbsp;<span class="op" id="6950021">[</span><span class="op" id="6950022">]</span><span class="builtintype" id="6950023">string</span><span class="op" id="6950029">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6950032">`{&#34;x&#34;:&nbsp;1}`</span><span class="op" id="6950042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6950045">`[1,&nbsp;2,&nbsp;3]`</span><span class="op" id="6950056">,</span><br>
<span class="lineno"></span><span class="op" id="6950058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6950061">func</span>&nbsp;<span class="ident" id="6950066">TestBlocking</span><span class="op" id="6950078">(</span><span class="ident" id="6950079">t</span>&nbsp;<span class="op" id="6950081">*</span><span class="ident" id="6950082">testing</span><span class="op" id="6950089">.</span><span class="ident" id="6950090">T</span><span class="op" id="6950091">)</span>&nbsp;<span class="op" id="6950093">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6950096">for</span>&nbsp;<span class="ident" id="6950100">_</span><span class="op" id="6950101">,</span>&nbsp;<span class="ident" id="6950103">enc</span>&nbsp;<span class="op" id="6950107">:=</span>&nbsp;<span class="keyword" id="6950110">range</span>&nbsp;<span class="ident" id="6950116">blockingTests</span>&nbsp;<span class="op" id="6950130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6950134">r</span><span class="op" id="6950135">,</span>&nbsp;<span class="ident" id="6950137">w</span>&nbsp;<span class="op" id="6950139">:=</span>&nbsp;<span class="ident" id="6950142">net</span><span class="op" id="6950145">.</span><span class="ident" id="6950146">Pipe</span><span class="op" id="6950150">(</span><span class="op" id="6950151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6950155">go</span>&nbsp;<span class="ident" id="6950158">w</span><span class="op" id="6950159">.</span><span class="ident" id="6950160">Write</span><span class="op" id="6950165">(</span><span class="op" id="6950166">[</span><span class="op" id="6950167">]</span><span class="builtintype" id="6950168">byte</span><span class="op" id="6950172">(</span><span class="ident" id="6950173">enc</span><span class="op" id="6950176">)</span><span class="op" id="6950177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6950181">var</span>&nbsp;<span class="ident" id="6950185">val</span>&nbsp;<span class="keyword" id="6950189">interface</span><span class="op" id="6950198">{</span><span class="op" id="6950199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6950204">//&nbsp;If&nbsp;Decode&nbsp;reads&nbsp;beyond&nbsp;what&nbsp;w.Write&nbsp;writes&nbsp;above,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6950259">//&nbsp;it&nbsp;will&nbsp;block,&nbsp;and&nbsp;the&nbsp;test&nbsp;will&nbsp;deadlock.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6950307">if</span>&nbsp;<span class="ident" id="6950310">err</span>&nbsp;<span class="op" id="6950314">:=</span>&nbsp;<span class="ident" id="6950317">NewDecoder</span><span class="op" id="6950327">(</span><span class="ident" id="6950328">r</span><span class="op" id="6950329">)</span><span class="op" id="6950330">.</span><span class="ident" id="6950331">Decode</span><span class="op" id="6950337">(</span><span class="op" id="6950338">&amp;</span><span class="ident" id="6950339">val</span><span class="op" id="6950342">)</span><span class="op" id="6950343">;</span>&nbsp;<span class="ident" id="6950345">err</span>&nbsp;<span class="op" id="6950349">!=</span>&nbsp;<span class="builtintype" id="6950352">nil</span>&nbsp;<span class="op" id="6950356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6950361">t</span><span class="op" id="6950362">.</span><span class="ident" id="6950363">Errorf</span><span class="op" id="6950369">(</span><span class="string" id="6950370">&#34;decoding&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6950387">,</span>&nbsp;<span class="ident" id="6950389">enc</span><span class="op" id="6950392">,</span>&nbsp;<span class="ident" id="6950394">err</span><span class="op" id="6950397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6950401">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6950405">r</span><span class="op" id="6950406">.</span><span class="ident" id="6950407">Close</span><span class="op" id="6950412">(</span><span class="op" id="6950413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6950417">w</span><span class="op" id="6950418">.</span><span class="ident" id="6950419">Close</span><span class="op" id="6950424">(</span><span class="op" id="6950425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6950428">}</span><br>
<span class="lineno"></span><span class="op" id="6950430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="6950433">func</span>&nbsp;<span class="ident" id="6950438">BenchmarkEncoderEncode</span><span class="op" id="6950460">(</span><span class="ident" id="6950461">b</span>&nbsp;<span class="op" id="6950463">*</span><span class="ident" id="6950464">testing</span><span class="op" id="6950471">.</span><span class="ident" id="6950472">B</span><span class="op" id="6950473">)</span>&nbsp;<span class="op" id="6950475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6950478">b</span><span class="op" id="6950479">.</span><span class="ident" id="6950480">ReportAllocs</span><span class="op" id="6950492">(</span><span class="op" id="6950493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6950496">type</span>&nbsp;<span class="ident" id="6950501">T</span>&nbsp;<span class="keyword" id="6950503">struct</span>&nbsp;<span class="op" id="6950510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6950514">X</span><span class="op" id="6950515">,</span>&nbsp;<span class="ident" id="6950517">Y</span>&nbsp;<span class="builtintype" id="6950519">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6950527">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6950530">v</span>&nbsp;<span class="op" id="6950532">:=</span>&nbsp;<span class="op" id="6950535">&amp;</span><span class="ident" id="6950536">T</span><span class="op" id="6950537">{</span><span class="string" id="6950538">&#34;foo&#34;</span><span class="op" id="6950543">,</span>&nbsp;<span class="string" id="6950545">&#34;bar&#34;</span><span class="op" id="6950550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6950553">for</span>&nbsp;<span class="ident" id="6950557">i</span>&nbsp;<span class="op" id="6950559">:=</span>&nbsp;<span class="num" id="6950562">0</span><span class="op" id="6950563">;</span>&nbsp;<span class="ident" id="6950565">i</span>&nbsp;<span class="op" id="6950567">&lt;</span>&nbsp;<span class="ident" id="6950569">b</span><span class="op" id="6950570">.</span><span class="ident" id="6950571">N</span><span class="op" id="6950572">;</span>&nbsp;<span class="ident" id="6950574">i</span><span class="op" id="6950575">++</span>&nbsp;<span class="op" id="6950578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6950582">if</span>&nbsp;<span class="ident" id="6950585">err</span>&nbsp;<span class="op" id="6950589">:=</span>&nbsp;<span class="ident" id="6950592">NewEncoder</span><span class="op" id="6950602">(</span><span class="ident" id="6950603">ioutil</span><span class="op" id="6950609">.</span><span class="ident" id="6950610">Discard</span><span class="op" id="6950617">)</span><span class="op" id="6950618">.</span><span class="ident" id="6950619">Encode</span><span class="op" id="6950625">(</span><span class="ident" id="6950626">v</span><span class="op" id="6950627">)</span><span class="op" id="6950628">;</span>&nbsp;<span class="ident" id="6950630">err</span>&nbsp;<span class="op" id="6950634">!=</span>&nbsp;<span class="builtintype" id="6950637">nil</span>&nbsp;<span class="op" id="6950641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6950646">b</span><span class="op" id="6950647">.</span><span class="ident" id="6950648">Fatal</span><span class="op" id="6950653">(</span><span class="ident" id="6950654">err</span><span class="op" id="6950657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6950661">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6950664">}</span><br>
<span class="lineno"></span><span class="op" id="6950666">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
