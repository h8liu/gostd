<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7347446">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7347502">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7347556">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7347607">package</span>&nbsp;<span class="ident" id="7347615">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7347623">import</span>&nbsp;<span class="op" id="7347630">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7347633">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7347642">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7347649">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7347660">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="7347670">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7347673">type</span>&nbsp;<span class="ident" id="7347678">parseTest</span>&nbsp;<span class="keyword" id="7347688">struct</span>&nbsp;<span class="op" id="7347695">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7347698">Regexp</span>&nbsp;<span class="builtintype" id="7347705">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7347713">Dump</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7347720">string</span><br>
<span class="lineno"></span><span class="op" id="7347727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7347730">var</span>&nbsp;<span class="ident" id="7347734">parseTests</span>&nbsp;<span class="op" id="7347745">=</span>&nbsp;<span class="op" id="7347747">[</span><span class="op" id="7347748">]</span><span class="ident" id="7347749"><a href="/regexp/syntax/parse_test.go.html#7347678">parseTest</a></span><span class="op" id="7347758">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7347761">//&nbsp;Base&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7347776">{</span><span class="string" id="7347777">`a`</span><span class="op" id="7347780">,</span>&nbsp;<span class="string" id="7347782">`lit{a}`</span><span class="op" id="7347790">}</span><span class="op" id="7347791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7347794">{</span><span class="string" id="7347795">`a.`</span><span class="op" id="7347799">,</span>&nbsp;<span class="string" id="7347801">`cat{lit{a}dot{}}`</span><span class="op" id="7347819">}</span><span class="op" id="7347820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7347823">{</span><span class="string" id="7347824">`a.b`</span><span class="op" id="7347829">,</span>&nbsp;<span class="string" id="7347831">`cat{lit{a}dot{}lit{b}}`</span><span class="op" id="7347855">}</span><span class="op" id="7347856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7347859">{</span><span class="string" id="7347860">`ab`</span><span class="op" id="7347864">,</span>&nbsp;<span class="string" id="7347866">`str{ab}`</span><span class="op" id="7347875">}</span><span class="op" id="7347876">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7347879">{</span><span class="string" id="7347880">`a.b.c`</span><span class="op" id="7347887">,</span>&nbsp;<span class="string" id="7347889">`cat{lit{a}dot{}lit{b}dot{}lit{c}}`</span><span class="op" id="7347924">}</span><span class="op" id="7347925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7347928">{</span><span class="string" id="7347929">`abc`</span><span class="op" id="7347934">,</span>&nbsp;<span class="string" id="7347936">`str{abc}`</span><span class="op" id="7347946">}</span><span class="op" id="7347947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7347950">{</span><span class="string" id="7347951">`a|^`</span><span class="op" id="7347956">,</span>&nbsp;<span class="string" id="7347958">`alt{lit{a}bol{}}`</span><span class="op" id="7347976">}</span><span class="op" id="7347977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7347980">{</span><span class="string" id="7347981">`a|b`</span><span class="op" id="7347986">,</span>&nbsp;<span class="string" id="7347988">`cc{0x61-0x62}`</span><span class="op" id="7348003">}</span><span class="op" id="7348004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348007">{</span><span class="string" id="7348008">`(a)`</span><span class="op" id="7348013">,</span>&nbsp;<span class="string" id="7348015">`cap{lit{a}}`</span><span class="op" id="7348028">}</span><span class="op" id="7348029">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348032">{</span><span class="string" id="7348033">`(a)|b`</span><span class="op" id="7348040">,</span>&nbsp;<span class="string" id="7348042">`alt{cap{lit{a}}lit{b}}`</span><span class="op" id="7348066">}</span><span class="op" id="7348067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348070">{</span><span class="string" id="7348071">`a*`</span><span class="op" id="7348075">,</span>&nbsp;<span class="string" id="7348077">`star{lit{a}}`</span><span class="op" id="7348091">}</span><span class="op" id="7348092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348095">{</span><span class="string" id="7348096">`a+`</span><span class="op" id="7348100">,</span>&nbsp;<span class="string" id="7348102">`plus{lit{a}}`</span><span class="op" id="7348116">}</span><span class="op" id="7348117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348120">{</span><span class="string" id="7348121">`a?`</span><span class="op" id="7348125">,</span>&nbsp;<span class="string" id="7348127">`que{lit{a}}`</span><span class="op" id="7348140">}</span><span class="op" id="7348141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348144">{</span><span class="string" id="7348145">`a{2}`</span><span class="op" id="7348151">,</span>&nbsp;<span class="string" id="7348153">`rep{2,2&nbsp;lit{a}}`</span><span class="op" id="7348170">}</span><span class="op" id="7348171">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348174">{</span><span class="string" id="7348175">`a{2,3}`</span><span class="op" id="7348183">,</span>&nbsp;<span class="string" id="7348185">`rep{2,3&nbsp;lit{a}}`</span><span class="op" id="7348202">}</span><span class="op" id="7348203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348206">{</span><span class="string" id="7348207">`a{2,}`</span><span class="op" id="7348214">,</span>&nbsp;<span class="string" id="7348216">`rep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7348234">}</span><span class="op" id="7348235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348238">{</span><span class="string" id="7348239">`a*?`</span><span class="op" id="7348244">,</span>&nbsp;<span class="string" id="7348246">`nstar{lit{a}}`</span><span class="op" id="7348261">}</span><span class="op" id="7348262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348265">{</span><span class="string" id="7348266">`a+?`</span><span class="op" id="7348271">,</span>&nbsp;<span class="string" id="7348273">`nplus{lit{a}}`</span><span class="op" id="7348288">}</span><span class="op" id="7348289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348292">{</span><span class="string" id="7348293">`a??`</span><span class="op" id="7348298">,</span>&nbsp;<span class="string" id="7348300">`nque{lit{a}}`</span><span class="op" id="7348314">}</span><span class="op" id="7348315">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348318">{</span><span class="string" id="7348319">`a{2}?`</span><span class="op" id="7348326">,</span>&nbsp;<span class="string" id="7348328">`nrep{2,2&nbsp;lit{a}}`</span><span class="op" id="7348346">}</span><span class="op" id="7348347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348350">{</span><span class="string" id="7348351">`a{2,3}?`</span><span class="op" id="7348360">,</span>&nbsp;<span class="string" id="7348362">`nrep{2,3&nbsp;lit{a}}`</span><span class="op" id="7348380">}</span><span class="op" id="7348381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348384">{</span><span class="string" id="7348385">`a{2,}?`</span><span class="op" id="7348393">,</span>&nbsp;<span class="string" id="7348395">`nrep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7348414">}</span><span class="op" id="7348415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7348418">//&nbsp;Malformed&nbsp;{&nbsp;}&nbsp;are&nbsp;treated&nbsp;as&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348461">{</span><span class="string" id="7348462">`x{1001`</span><span class="op" id="7348470">,</span>&nbsp;<span class="string" id="7348472">`str{x{1001}`</span><span class="op" id="7348485">}</span><span class="op" id="7348486">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348489">{</span><span class="string" id="7348490">`x{9876543210`</span><span class="op" id="7348504">,</span>&nbsp;<span class="string" id="7348506">`str{x{9876543210}`</span><span class="op" id="7348525">}</span><span class="op" id="7348526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348529">{</span><span class="string" id="7348530">`x{9876543210,`</span><span class="op" id="7348545">,</span>&nbsp;<span class="string" id="7348547">`str{x{9876543210,}`</span><span class="op" id="7348567">}</span><span class="op" id="7348568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348571">{</span><span class="string" id="7348572">`x{2,1`</span><span class="op" id="7348579">,</span>&nbsp;<span class="string" id="7348581">`str{x{2,1}`</span><span class="op" id="7348593">}</span><span class="op" id="7348594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348597">{</span><span class="string" id="7348598">`x{1,9876543210`</span><span class="op" id="7348614">,</span>&nbsp;<span class="string" id="7348616">`str{x{1,9876543210}`</span><span class="op" id="7348637">}</span><span class="op" id="7348638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348641">{</span><span class="string" id="7348642">``</span><span class="op" id="7348644">,</span>&nbsp;<span class="string" id="7348646">`emp{}`</span><span class="op" id="7348653">}</span><span class="op" id="7348654">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348657">{</span><span class="string" id="7348658">`|`</span><span class="op" id="7348661">,</span>&nbsp;<span class="string" id="7348663">`emp{}`</span><span class="op" id="7348670">}</span><span class="op" id="7348671">,</span>&nbsp;<span class="comment" id="7348673">//&nbsp;alt{emp{}emp{}}&nbsp;but&nbsp;got&nbsp;factored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348710">{</span><span class="string" id="7348711">`|x|`</span><span class="op" id="7348716">,</span>&nbsp;<span class="string" id="7348718">`alt{emp{}lit{x}emp{}}`</span><span class="op" id="7348741">}</span><span class="op" id="7348742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348745">{</span><span class="string" id="7348746">`.`</span><span class="op" id="7348749">,</span>&nbsp;<span class="string" id="7348751">`dot{}`</span><span class="op" id="7348758">}</span><span class="op" id="7348759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348762">{</span><span class="string" id="7348763">`^`</span><span class="op" id="7348766">,</span>&nbsp;<span class="string" id="7348768">`bol{}`</span><span class="op" id="7348775">}</span><span class="op" id="7348776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348779">{</span><span class="string" id="7348780">`$`</span><span class="op" id="7348783">,</span>&nbsp;<span class="string" id="7348785">`eol{}`</span><span class="op" id="7348792">}</span><span class="op" id="7348793">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348796">{</span><span class="string" id="7348797">`\|`</span><span class="op" id="7348801">,</span>&nbsp;<span class="string" id="7348803">`lit{|}`</span><span class="op" id="7348811">}</span><span class="op" id="7348812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348815">{</span><span class="string" id="7348816">`\(`</span><span class="op" id="7348820">,</span>&nbsp;<span class="string" id="7348822">`lit{(}`</span><span class="op" id="7348830">}</span><span class="op" id="7348831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348834">{</span><span class="string" id="7348835">`\)`</span><span class="op" id="7348839">,</span>&nbsp;<span class="string" id="7348841">`lit{)}`</span><span class="op" id="7348849">}</span><span class="op" id="7348850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348853">{</span><span class="string" id="7348854">`\*`</span><span class="op" id="7348858">,</span>&nbsp;<span class="string" id="7348860">`lit{*}`</span><span class="op" id="7348868">}</span><span class="op" id="7348869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348872">{</span><span class="string" id="7348873">`\+`</span><span class="op" id="7348877">,</span>&nbsp;<span class="string" id="7348879">`lit{+}`</span><span class="op" id="7348887">}</span><span class="op" id="7348888">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348891">{</span><span class="string" id="7348892">`\?`</span><span class="op" id="7348896">,</span>&nbsp;<span class="string" id="7348898">`lit{?}`</span><span class="op" id="7348906">}</span><span class="op" id="7348907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348910">{</span><span class="string" id="7348911">`{`</span><span class="op" id="7348914">,</span>&nbsp;<span class="string" id="7348916">`lit{{}`</span><span class="op" id="7348924">}</span><span class="op" id="7348925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348928">{</span><span class="string" id="7348929">`}`</span><span class="op" id="7348932">,</span>&nbsp;<span class="string" id="7348934">`lit{}}`</span><span class="op" id="7348942">}</span><span class="op" id="7348943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348946">{</span><span class="string" id="7348947">`\.`</span><span class="op" id="7348951">,</span>&nbsp;<span class="string" id="7348953">`lit{.}`</span><span class="op" id="7348961">}</span><span class="op" id="7348962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348965">{</span><span class="string" id="7348966">`\^`</span><span class="op" id="7348970">,</span>&nbsp;<span class="string" id="7348972">`lit{^}`</span><span class="op" id="7348980">}</span><span class="op" id="7348981">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7348984">{</span><span class="string" id="7348985">`\$`</span><span class="op" id="7348989">,</span>&nbsp;<span class="string" id="7348991">`lit{$}`</span><span class="op" id="7348999">}</span><span class="op" id="7349000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349003">{</span><span class="string" id="7349004">`\\`</span><span class="op" id="7349008">,</span>&nbsp;<span class="string" id="7349010">`lit{\}`</span><span class="op" id="7349018">}</span><span class="op" id="7349019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349022">{</span><span class="string" id="7349023">`[ace]`</span><span class="op" id="7349030">,</span>&nbsp;<span class="string" id="7349032">`cc{0x61&nbsp;0x63&nbsp;0x65}`</span><span class="op" id="7349052">}</span><span class="op" id="7349053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349056">{</span><span class="string" id="7349057">`[abc]`</span><span class="op" id="7349064">,</span>&nbsp;<span class="string" id="7349066">`cc{0x61-0x63}`</span><span class="op" id="7349081">}</span><span class="op" id="7349082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349085">{</span><span class="string" id="7349086">`[a-z]`</span><span class="op" id="7349093">,</span>&nbsp;<span class="string" id="7349095">`cc{0x61-0x7a}`</span><span class="op" id="7349110">}</span><span class="op" id="7349111">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349114">{</span><span class="string" id="7349115">`[a]`</span><span class="op" id="7349120">,</span>&nbsp;<span class="string" id="7349122">`lit{a}`</span><span class="op" id="7349130">}</span><span class="op" id="7349131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349134">{</span><span class="string" id="7349135">`\-`</span><span class="op" id="7349139">,</span>&nbsp;<span class="string" id="7349141">`lit{-}`</span><span class="op" id="7349149">}</span><span class="op" id="7349150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349153">{</span><span class="string" id="7349154">`-`</span><span class="op" id="7349157">,</span>&nbsp;<span class="string" id="7349159">`lit{-}`</span><span class="op" id="7349167">}</span><span class="op" id="7349168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349171">{</span><span class="string" id="7349172">`\_`</span><span class="op" id="7349176">,</span>&nbsp;<span class="string" id="7349178">`lit{_}`</span><span class="op" id="7349186">}</span><span class="op" id="7349187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349190">{</span><span class="string" id="7349191">`abc`</span><span class="op" id="7349196">,</span>&nbsp;<span class="string" id="7349198">`str{abc}`</span><span class="op" id="7349208">}</span><span class="op" id="7349209">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349212">{</span><span class="string" id="7349213">`abc|def`</span><span class="op" id="7349222">,</span>&nbsp;<span class="string" id="7349224">`alt{str{abc}str{def}}`</span><span class="op" id="7349247">}</span><span class="op" id="7349248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349251">{</span><span class="string" id="7349252">`abc|def|ghi`</span><span class="op" id="7349265">,</span>&nbsp;<span class="string" id="7349267">`alt{str{abc}str{def}str{ghi}}`</span><span class="op" id="7349298">}</span><span class="op" id="7349299">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7349303">//&nbsp;Posix&nbsp;and&nbsp;Perl&nbsp;extensions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349333">{</span><span class="string" id="7349334">`[[:lower:]]`</span><span class="op" id="7349347">,</span>&nbsp;<span class="string" id="7349349">`cc{0x61-0x7a}`</span><span class="op" id="7349364">}</span><span class="op" id="7349365">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349368">{</span><span class="string" id="7349369">`[a-z]`</span><span class="op" id="7349376">,</span>&nbsp;<span class="string" id="7349378">`cc{0x61-0x7a}`</span><span class="op" id="7349393">}</span><span class="op" id="7349394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349397">{</span><span class="string" id="7349398">`[^[:lower:]]`</span><span class="op" id="7349412">,</span>&nbsp;<span class="string" id="7349414">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7349442">}</span><span class="op" id="7349443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349446">{</span><span class="string" id="7349447">`[[:^lower:]]`</span><span class="op" id="7349461">,</span>&nbsp;<span class="string" id="7349463">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7349491">}</span><span class="op" id="7349492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349495">{</span><span class="string" id="7349496">`(?i)[[:lower:]]`</span><span class="op" id="7349513">,</span>&nbsp;<span class="string" id="7349515">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7349553">}</span><span class="op" id="7349554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349557">{</span><span class="string" id="7349558">`(?i)[a-z]`</span><span class="op" id="7349569">,</span>&nbsp;<span class="string" id="7349571">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7349609">}</span><span class="op" id="7349610">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349613">{</span><span class="string" id="7349614">`(?i)[^[:lower:]]`</span><span class="op" id="7349632">,</span>&nbsp;<span class="string" id="7349634">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7349698">}</span><span class="op" id="7349699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349702">{</span><span class="string" id="7349703">`(?i)[[:^lower:]]`</span><span class="op" id="7349721">,</span>&nbsp;<span class="string" id="7349723">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7349787">}</span><span class="op" id="7349788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349791">{</span><span class="string" id="7349792">`\d`</span><span class="op" id="7349796">,</span>&nbsp;<span class="string" id="7349798">`cc{0x30-0x39}`</span><span class="op" id="7349813">}</span><span class="op" id="7349814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349817">{</span><span class="string" id="7349818">`\D`</span><span class="op" id="7349822">,</span>&nbsp;<span class="string" id="7349824">`cc{0x0-0x2f&nbsp;0x3a-0x10ffff}`</span><span class="op" id="7349852">}</span><span class="op" id="7349853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349856">{</span><span class="string" id="7349857">`\s`</span><span class="op" id="7349861">,</span>&nbsp;<span class="string" id="7349863">`cc{0x9-0xa&nbsp;0xc-0xd&nbsp;0x20}`</span><span class="op" id="7349889">}</span><span class="op" id="7349890">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349893">{</span><span class="string" id="7349894">`\S`</span><span class="op" id="7349898">,</span>&nbsp;<span class="string" id="7349900">`cc{0x0-0x8&nbsp;0xb&nbsp;0xe-0x1f&nbsp;0x21-0x10ffff}`</span><span class="op" id="7349940">}</span><span class="op" id="7349941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349944">{</span><span class="string" id="7349945">`\w`</span><span class="op" id="7349949">,</span>&nbsp;<span class="string" id="7349951">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a}`</span><span class="op" id="7349991">}</span><span class="op" id="7349992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7349995">{</span><span class="string" id="7349996">`\W`</span><span class="op" id="7350000">,</span>&nbsp;<span class="string" id="7350002">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7350055">}</span><span class="op" id="7350056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350059">{</span><span class="string" id="7350060">`(?i)\w`</span><span class="op" id="7350068">,</span>&nbsp;<span class="string" id="7350070">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7350123">}</span><span class="op" id="7350124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350127">{</span><span class="string" id="7350128">`(?i)\W`</span><span class="op" id="7350136">,</span>&nbsp;<span class="string" id="7350138">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7350217">}</span><span class="op" id="7350218">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350221">{</span><span class="string" id="7350222">`[^\\]`</span><span class="op" id="7350229">,</span>&nbsp;<span class="string" id="7350231">`cc{0x0-0x5b&nbsp;0x5d-0x10ffff}`</span><span class="op" id="7350259">}</span><span class="op" id="7350260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7350263">//&nbsp;&nbsp;&nbsp;&nbsp{&nbsp;`\C`,&nbsp;`byte{}`&nbsp;},&nbsp;&nbsp;//&nbsp;probably&nbsp;never</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7350307">//&nbsp;Unicode,&nbsp;negatives,&nbsp;and&nbsp;a&nbsp;double&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350354">{</span><span class="string" id="7350355">`\p{Braille}`</span><span class="op" id="7350368">,</span>&nbsp;<span class="string" id="7350370">`cc{0x2800-0x28ff}`</span><span class="op" id="7350389">}</span><span class="op" id="7350390">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350393">{</span><span class="string" id="7350394">`\P{Braille}`</span><span class="op" id="7350407">,</span>&nbsp;<span class="string" id="7350409">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7350441">}</span><span class="op" id="7350442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350445">{</span><span class="string" id="7350446">`\p{^Braille}`</span><span class="op" id="7350460">,</span>&nbsp;<span class="string" id="7350462">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7350494">}</span><span class="op" id="7350495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350498">{</span><span class="string" id="7350499">`\P{^Braille}`</span><span class="op" id="7350513">,</span>&nbsp;<span class="string" id="7350515">`cc{0x2800-0x28ff}`</span><span class="op" id="7350534">}</span><span class="op" id="7350535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350538">{</span><span class="string" id="7350539">`\pZ`</span><span class="op" id="7350544">,</span>&nbsp;<span class="string" id="7350546">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7350617">}</span><span class="op" id="7350618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350621">{</span><span class="string" id="7350622">`[\p{Braille}]`</span><span class="op" id="7350637">,</span>&nbsp;<span class="string" id="7350639">`cc{0x2800-0x28ff}`</span><span class="op" id="7350658">}</span><span class="op" id="7350659">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350662">{</span><span class="string" id="7350663">`[\P{Braille}]`</span><span class="op" id="7350678">,</span>&nbsp;<span class="string" id="7350680">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7350712">}</span><span class="op" id="7350713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350716">{</span><span class="string" id="7350717">`[\p{^Braille}]`</span><span class="op" id="7350733">,</span>&nbsp;<span class="string" id="7350735">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7350767">}</span><span class="op" id="7350768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350771">{</span><span class="string" id="7350772">`[\P{^Braille}]`</span><span class="op" id="7350788">,</span>&nbsp;<span class="string" id="7350790">`cc{0x2800-0x28ff}`</span><span class="op" id="7350809">}</span><span class="op" id="7350810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350813">{</span><span class="string" id="7350814">`[\pZ]`</span><span class="op" id="7350821">,</span>&nbsp;<span class="string" id="7350823">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7350894">}</span><span class="op" id="7350895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350898">{</span><span class="string" id="7350899">`\p{Lu}`</span><span class="op" id="7350907">,</span>&nbsp;<span class="ident" id="7350909"><a href="/regexp/syntax/parse_test.go.html#7358037">mkCharClass</a></span><span class="op" id="7350920">(</span><span class="ident" id="7350921"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7350928">.</span><span class="ident" id="7350929">IsUpper</span><span class="op" id="7350936">)</span><span class="op" id="7350937">}</span><span class="op" id="7350938">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350941">{</span><span class="string" id="7350942">`[\p{Lu}]`</span><span class="op" id="7350952">,</span>&nbsp;<span class="ident" id="7350954"><a href="/regexp/syntax/parse_test.go.html#7358037">mkCharClass</a></span><span class="op" id="7350965">(</span><span class="ident" id="7350966"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7350973">.</span><span class="ident" id="7350974">IsUpper</span><span class="op" id="7350981">)</span><span class="op" id="7350982">}</span><span class="op" id="7350983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7350986">{</span><span class="string" id="7350987">`(?i)[\p{Lu}]`</span><span class="op" id="7351001">,</span>&nbsp;<span class="ident" id="7351003"><a href="/regexp/syntax/parse_test.go.html#7358037">mkCharClass</a></span><span class="op" id="7351014">(</span><span class="ident" id="7351015"><a href="/regexp/syntax/parse_test.go.html#7358396">isUpperFold</a></span><span class="op" id="7351026">)</span><span class="op" id="7351027">}</span><span class="op" id="7351028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351031">{</span><span class="string" id="7351032">`\p{Any}`</span><span class="op" id="7351041">,</span>&nbsp;<span class="string" id="7351043">`dot{}`</span><span class="op" id="7351050">}</span><span class="op" id="7351051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351054">{</span><span class="string" id="7351055">`\p{^Any}`</span><span class="op" id="7351065">,</span>&nbsp;<span class="string" id="7351067">`cc{}`</span><span class="op" id="7351073">}</span><span class="op" id="7351074">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7351078">//&nbsp;Hex,&nbsp;octal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351094">{</span><span class="string" id="7351095">`[\012-\234]\141`</span><span class="op" id="7351112">,</span>&nbsp;<span class="string" id="7351114">`cat{cc{0xa-0x9c}lit{a}}`</span><span class="op" id="7351139">}</span><span class="op" id="7351140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351143">{</span><span class="string" id="7351144">`[\x{41}-\x7a]\x61`</span><span class="op" id="7351163">,</span>&nbsp;<span class="string" id="7351165">`cat{cc{0x41-0x7a}lit{a}}`</span><span class="op" id="7351191">}</span><span class="op" id="7351192">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7351196">//&nbsp;More&nbsp;interesting&nbsp;regular&nbsp;expressions.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351238">{</span><span class="string" id="7351239">`a{,2}`</span><span class="op" id="7351246">,</span>&nbsp;<span class="string" id="7351248">`str{a{,2}}`</span><span class="op" id="7351260">}</span><span class="op" id="7351261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351264">{</span><span class="string" id="7351265">`\.\^\$\\`</span><span class="op" id="7351275">,</span>&nbsp;<span class="string" id="7351277">`str{.^$\}`</span><span class="op" id="7351288">}</span><span class="op" id="7351289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351292">{</span><span class="string" id="7351293">`[a-zABC]`</span><span class="op" id="7351303">,</span>&nbsp;<span class="string" id="7351305">`cc{0x41-0x43&nbsp;0x61-0x7a}`</span><span class="op" id="7351330">}</span><span class="op" id="7351331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351334">{</span><span class="string" id="7351335">`[^a]`</span><span class="op" id="7351341">,</span>&nbsp;<span class="string" id="7351343">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7351371">}</span><span class="op" id="7351372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351375">{</span><span class="string" id="7351376">`[α-ε☺]`</span><span class="op" id="7351388">,</span>&nbsp;<span class="string" id="7351390">`cc{0x3b1-0x3b5&nbsp;0x263a}`</span><span class="op" id="7351414">}</span><span class="op" id="7351415">,</span>&nbsp;<span class="comment" id="7351417">//&nbsp;utf-8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351427">{</span><span class="string" id="7351428">`a*{`</span><span class="op" id="7351433">,</span>&nbsp;<span class="string" id="7351435">`cat{star{lit{a}}lit{{}}`</span><span class="op" id="7351460">}</span><span class="op" id="7351461">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7351465">//&nbsp;Test&nbsp;precedences</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351486">{</span><span class="string" id="7351487">`(?:ab)*`</span><span class="op" id="7351496">,</span>&nbsp;<span class="string" id="7351498">`star{str{ab}}`</span><span class="op" id="7351513">}</span><span class="op" id="7351514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351517">{</span><span class="string" id="7351518">`(ab)*`</span><span class="op" id="7351525">,</span>&nbsp;<span class="string" id="7351527">`star{cap{str{ab}}}`</span><span class="op" id="7351547">}</span><span class="op" id="7351548">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351551">{</span><span class="string" id="7351552">`ab|cd`</span><span class="op" id="7351559">,</span>&nbsp;<span class="string" id="7351561">`alt{str{ab}str{cd}}`</span><span class="op" id="7351582">}</span><span class="op" id="7351583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351586">{</span><span class="string" id="7351587">`a(b|c)d`</span><span class="op" id="7351596">,</span>&nbsp;<span class="string" id="7351598">`cat{lit{a}cap{cc{0x62-0x63}}lit{d}}`</span><span class="op" id="7351635">}</span><span class="op" id="7351636">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7351640">//&nbsp;Test&nbsp;flattening.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351661">{</span><span class="string" id="7351662">`(?:a)`</span><span class="op" id="7351669">,</span>&nbsp;<span class="string" id="7351671">`lit{a}`</span><span class="op" id="7351679">}</span><span class="op" id="7351680">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351683">{</span><span class="string" id="7351684">`(?:ab)(?:cd)`</span><span class="op" id="7351698">,</span>&nbsp;<span class="string" id="7351700">`str{abcd}`</span><span class="op" id="7351711">}</span><span class="op" id="7351712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351715">{</span><span class="string" id="7351716">`(?:a+b+)(?:c+d+)`</span><span class="op" id="7351734">,</span>&nbsp;<span class="string" id="7351736">`cat{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7351791">}</span><span class="op" id="7351792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351795">{</span><span class="string" id="7351796">`(?:a+|b+)|(?:c+|d+)`</span><span class="op" id="7351817">,</span>&nbsp;<span class="string" id="7351819">`alt{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7351874">}</span><span class="op" id="7351875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351878">{</span><span class="string" id="7351879">`(?:a|b)|(?:c|d)`</span><span class="op" id="7351896">,</span>&nbsp;<span class="string" id="7351898">`cc{0x61-0x64}`</span><span class="op" id="7351913">}</span><span class="op" id="7351914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351917">{</span><span class="string" id="7351918">`a|.`</span><span class="op" id="7351923">,</span>&nbsp;<span class="string" id="7351925">`dot{}`</span><span class="op" id="7351932">}</span><span class="op" id="7351933">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351936">{</span><span class="string" id="7351937">`.|a`</span><span class="op" id="7351942">,</span>&nbsp;<span class="string" id="7351944">`dot{}`</span><span class="op" id="7351951">}</span><span class="op" id="7351952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7351955">{</span><span class="string" id="7351956">`(?:[abc]|A|Z|hello|world)`</span><span class="op" id="7351983">,</span>&nbsp;<span class="string" id="7351985">`alt{cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}str{hello}str{world}}`</span><span class="op" id="7352035">}</span><span class="op" id="7352036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352039">{</span><span class="string" id="7352040">`(?:[abc]|A|Z)`</span><span class="op" id="7352055">,</span>&nbsp;<span class="string" id="7352057">`cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}`</span><span class="op" id="7352082">}</span><span class="op" id="7352083">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7352087">//&nbsp;Test&nbsp;Perl&nbsp;quoted&nbsp;literals</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352117">{</span><span class="string" id="7352118">`\Q+|*?{[\E`</span><span class="op" id="7352130">,</span>&nbsp;<span class="string" id="7352132">`str{+|*?{[}`</span><span class="op" id="7352145">}</span><span class="op" id="7352146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352149">{</span><span class="string" id="7352150">`\Q+\E+`</span><span class="op" id="7352158">,</span>&nbsp;<span class="string" id="7352160">`plus{lit{+}}`</span><span class="op" id="7352174">}</span><span class="op" id="7352175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352178">{</span><span class="string" id="7352179">`\Q\\E`</span><span class="op" id="7352186">,</span>&nbsp;<span class="string" id="7352188">`lit{\}`</span><span class="op" id="7352196">}</span><span class="op" id="7352197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352200">{</span><span class="string" id="7352201">`\Q\\\E`</span><span class="op" id="7352209">,</span>&nbsp;<span class="string" id="7352211">`str{\\}`</span><span class="op" id="7352220">}</span><span class="op" id="7352221">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7352225">//&nbsp;Test&nbsp;Perl&nbsp;\A&nbsp;and&nbsp;\z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352249">{</span><span class="string" id="7352250">`(?m)^`</span><span class="op" id="7352257">,</span>&nbsp;<span class="string" id="7352259">`bol{}`</span><span class="op" id="7352266">}</span><span class="op" id="7352267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352270">{</span><span class="string" id="7352271">`(?m)$`</span><span class="op" id="7352278">,</span>&nbsp;<span class="string" id="7352280">`eol{}`</span><span class="op" id="7352287">}</span><span class="op" id="7352288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352291">{</span><span class="string" id="7352292">`(?-m)^`</span><span class="op" id="7352300">,</span>&nbsp;<span class="string" id="7352302">`bot{}`</span><span class="op" id="7352309">}</span><span class="op" id="7352310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352313">{</span><span class="string" id="7352314">`(?-m)$`</span><span class="op" id="7352322">,</span>&nbsp;<span class="string" id="7352324">`eot{}`</span><span class="op" id="7352331">}</span><span class="op" id="7352332">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352335">{</span><span class="string" id="7352336">`(?m)\A`</span><span class="op" id="7352344">,</span>&nbsp;<span class="string" id="7352346">`bot{}`</span><span class="op" id="7352353">}</span><span class="op" id="7352354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352357">{</span><span class="string" id="7352358">`(?m)\z`</span><span class="op" id="7352366">,</span>&nbsp;<span class="string" id="7352368">`eot{\z}`</span><span class="op" id="7352377">}</span><span class="op" id="7352378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352381">{</span><span class="string" id="7352382">`(?-m)\A`</span><span class="op" id="7352391">,</span>&nbsp;<span class="string" id="7352393">`bot{}`</span><span class="op" id="7352400">}</span><span class="op" id="7352401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352404">{</span><span class="string" id="7352405">`(?-m)\z`</span><span class="op" id="7352414">,</span>&nbsp;<span class="string" id="7352416">`eot{\z}`</span><span class="op" id="7352425">}</span><span class="op" id="7352426">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7352430">//&nbsp;Test&nbsp;named&nbsp;captures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352454">{</span><span class="string" id="7352455">`(?P&lt;name&gt;a)`</span><span class="op" id="7352468">,</span>&nbsp;<span class="string" id="7352470">`cap{name:lit{a}}`</span><span class="op" id="7352488">}</span><span class="op" id="7352489">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7352493">//&nbsp;Case-folded&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352518">{</span><span class="string" id="7352519">`[Aa]`</span><span class="op" id="7352525">,</span>&nbsp;<span class="string" id="7352527">`litfold{A}`</span><span class="op" id="7352539">}</span><span class="op" id="7352540">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352543">{</span><span class="string" id="7352544">`[\x{100}\x{101}]`</span><span class="op" id="7352562">,</span>&nbsp;<span class="string" id="7352564">`litfold{Ā}`</span><span class="op" id="7352577">}</span><span class="op" id="7352578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352581">{</span><span class="string" id="7352582">`[Δδ]`</span><span class="op" id="7352590">,</span>&nbsp;<span class="string" id="7352592">`litfold{Δ}`</span><span class="op" id="7352605">}</span><span class="op" id="7352606">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7352610">//&nbsp;Strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352622">{</span><span class="string" id="7352623">`abcde`</span><span class="op" id="7352630">,</span>&nbsp;<span class="string" id="7352632">`str{abcde}`</span><span class="op" id="7352644">}</span><span class="op" id="7352645">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352648">{</span><span class="string" id="7352649">`[Aa][Bb]cd`</span><span class="op" id="7352661">,</span>&nbsp;<span class="string" id="7352663">`cat{strfold{AB}str{cd}}`</span><span class="op" id="7352688">}</span><span class="op" id="7352689">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7352693">//&nbsp;Factoring.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352708">{</span><span class="string" id="7352709">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7352730">,</span>&nbsp;<span class="string" id="7352732">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7352811">}</span><span class="op" id="7352812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352815">{</span><span class="string" id="7352816">`ax+y|ax+z|ay+w`</span><span class="op" id="7352832">,</span>&nbsp;<span class="string" id="7352834">`cat{lit{a}alt{cat{plus{lit{x}}cc{0x79-0x7a}}cat{plus{lit{y}}lit{w}}}}`</span><span class="op" id="7352905">}</span><span class="op" id="7352906">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7352910">//&nbsp;Bug&nbsp;fixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352925">{</span><span class="string" id="7352926">`(?:.)`</span><span class="op" id="7352933">,</span>&nbsp;<span class="string" id="7352935">`dot{}`</span><span class="op" id="7352942">}</span><span class="op" id="7352943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352946">{</span><span class="string" id="7352947">`(?:x|(?:xa))`</span><span class="op" id="7352961">,</span>&nbsp;<span class="string" id="7352963">`cat{lit{x}alt{emp{}lit{a}}}`</span><span class="op" id="7352992">}</span><span class="op" id="7352993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352996">{</span><span class="string" id="7352997">`(?:.|(?:.a))`</span><span class="op" id="7353011">,</span>&nbsp;<span class="string" id="7353013">`cat{dot{}alt{emp{}lit{a}}}`</span><span class="op" id="7353041">}</span><span class="op" id="7353042">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353045">{</span><span class="string" id="7353046">`(?:A(?:A|a))`</span><span class="op" id="7353060">,</span>&nbsp;<span class="string" id="7353062">`cat{lit{A}litfold{A}}`</span><span class="op" id="7353085">}</span><span class="op" id="7353086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353089">{</span><span class="string" id="7353090">`(?:A|a)`</span><span class="op" id="7353099">,</span>&nbsp;<span class="string" id="7353101">`litfold{A}`</span><span class="op" id="7353113">}</span><span class="op" id="7353114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353117">{</span><span class="string" id="7353118">`A|(?:A|a)`</span><span class="op" id="7353129">,</span>&nbsp;<span class="string" id="7353131">`litfold{A}`</span><span class="op" id="7353143">}</span><span class="op" id="7353144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353147">{</span><span class="string" id="7353148">`(?s).`</span><span class="op" id="7353155">,</span>&nbsp;<span class="string" id="7353157">`dot{}`</span><span class="op" id="7353164">}</span><span class="op" id="7353165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353168">{</span><span class="string" id="7353169">`(?-s).`</span><span class="op" id="7353177">,</span>&nbsp;<span class="string" id="7353179">`dnl{}`</span><span class="op" id="7353186">}</span><span class="op" id="7353187">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353190">{</span><span class="string" id="7353191">`(?:(?:^).)`</span><span class="op" id="7353203">,</span>&nbsp;<span class="string" id="7353205">`cat{bol{}dot{}}`</span><span class="op" id="7353222">}</span><span class="op" id="7353223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353226">{</span><span class="string" id="7353227">`(?-s)(?:(?:^).)`</span><span class="op" id="7353244">,</span>&nbsp;<span class="string" id="7353246">`cat{bol{}dnl{}}`</span><span class="op" id="7353263">}</span><span class="op" id="7353264">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7353268">//&nbsp;RE2&nbsp;prefix_tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353289">{</span><span class="string" id="7353290">`abc|abd`</span><span class="op" id="7353299">,</span>&nbsp;<span class="string" id="7353301">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7353328">}</span><span class="op" id="7353329">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353332">{</span><span class="string" id="7353333">`a(?:b)c|abd`</span><span class="op" id="7353346">,</span>&nbsp;<span class="string" id="7353348">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7353375">}</span><span class="op" id="7353376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353379">{</span><span class="string" id="7353380">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7353401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353405">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}`</span>&nbsp;<span class="op" id="7353459">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353464">`cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7353492">}</span><span class="op" id="7353493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353496">{</span><span class="string" id="7353497">`abc|x|abd`</span><span class="op" id="7353508">,</span>&nbsp;<span class="string" id="7353510">`alt{str{abc}lit{x}str{abd}}`</span><span class="op" id="7353539">}</span><span class="op" id="7353540">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353543">{</span><span class="string" id="7353544">`(?i)abc|ABD`</span><span class="op" id="7353557">,</span>&nbsp;<span class="string" id="7353559">`cat{strfold{AB}cc{0x43-0x44&nbsp;0x63-0x64}}`</span><span class="op" id="7353600">}</span><span class="op" id="7353601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353604">{</span><span class="string" id="7353605">`[ab]c|[ab]d`</span><span class="op" id="7353618">,</span>&nbsp;<span class="string" id="7353620">`cat{cc{0x61-0x62}cc{0x63-0x64}}`</span><span class="op" id="7353653">}</span><span class="op" id="7353654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353657">{</span><span class="string" id="7353658">`(?:xx|yy)c|(?:xx|yy)d`</span><span class="op" id="7353681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353685">`cat{alt{str{xx}str{yy}}cc{0x63-0x64}}`</span><span class="op" id="7353724">}</span><span class="op" id="7353725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353728">{</span><span class="string" id="7353729">`x{2}|x{2}[0-9]`</span><span class="op" id="7353745">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353749">`cat{rep{2,2&nbsp;lit{x}}alt{emp{}cc{0x30-0x39}}}`</span><span class="op" id="7353794">}</span><span class="op" id="7353795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353798">{</span><span class="string" id="7353799">`x{2}y|x{2}[0-9]y`</span><span class="op" id="7353817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353821">`cat{rep{2,2&nbsp;lit{x}}alt{lit{y}cat{cc{0x30-0x39}lit{y}}}}`</span><span class="op" id="7353878">}</span><span class="op" id="7353879">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7353883">//&nbsp;Valid&nbsp;repetitions.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353906">{</span><span class="string" id="7353907">`((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}))`</span><span class="op" id="7353957">,</span>&nbsp;<span class="string" id="7353959">``</span><span class="op" id="7353961">}</span><span class="op" id="7353962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353965">{</span><span class="string" id="7353966">`((((((((((x{1}){2}){2}){2}){2}){2}){2}){2}){2}){2})`</span><span class="op" id="7354019">,</span>&nbsp;<span class="string" id="7354021">``</span><span class="op" id="7354023">}</span><span class="op" id="7354024">,</span><br>
<span class="lineno"></span><span class="op" id="7354026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7354029">const</span>&nbsp;<span class="ident" id="7354035">testFlags</span>&nbsp;<span class="op" id="7354045">=</span>&nbsp;<span class="ident" id="7354047"><a href="/regexp/syntax/parse.go.html#4745198">MatchNL</a></span>&nbsp;<span class="op" id="7354055">|</span>&nbsp;<span class="ident" id="7354057"><a href="/regexp/syntax/parse.go.html#4744908">PerlX</a></span>&nbsp;<span class="op" id="7354063">|</span>&nbsp;<span class="ident" id="7354065"><a href="/regexp/syntax/parse.go.html#4744966">UnicodeGroups</a></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7354080">func</span>&nbsp;<span class="ident" id="7354085">TestParseSimple</span><span class="op" id="7354100">(</span><span class="ident" id="7354101">t</span>&nbsp;<span class="op" id="7354103">*</span><span class="ident" id="7354104"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7354111">.</span><span class="ident" id="7354112">T</span><span class="op" id="7354113">)</span>&nbsp;<span class="op" id="7354115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354118"><a href="/regexp/syntax/parse_test.go.html#7355322">testParseDump</a></span><span class="op" id="7354131">(</span><span class="ident" id="7354132"><a href="/regexp/syntax/parse_test.go.html#7354101">t</a></span><span class="op" id="7354133">,</span>&nbsp;<span class="ident" id="7354135"><a href="/regexp/syntax/parse_test.go.html#7347734">parseTests</a></span><span class="op" id="7354145">,</span>&nbsp;<span class="ident" id="7354147"><a href="/regexp/syntax/parse_test.go.html#7354035">testFlags</a></span><span class="op" id="7354156">)</span><br>
<span class="lineno"></span><span class="op" id="7354158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7354161">var</span>&nbsp;<span class="ident" id="7354165">foldcaseTests</span>&nbsp;<span class="op" id="7354179">=</span>&nbsp;<span class="op" id="7354181">[</span><span class="op" id="7354182">]</span><span class="ident" id="7354183"><a href="/regexp/syntax/parse_test.go.html#7347678">parseTest</a></span><span class="op" id="7354192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354195">{</span><span class="string" id="7354196">`AbCdE`</span><span class="op" id="7354203">,</span>&nbsp;<span class="string" id="7354205">`strfold{ABCDE}`</span><span class="op" id="7354221">}</span><span class="op" id="7354222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354225">{</span><span class="string" id="7354226">`[Aa]`</span><span class="op" id="7354232">,</span>&nbsp;<span class="string" id="7354234">`litfold{A}`</span><span class="op" id="7354246">}</span><span class="op" id="7354247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354250">{</span><span class="string" id="7354251">`a`</span><span class="op" id="7354254">,</span>&nbsp;<span class="string" id="7354256">`litfold{A}`</span><span class="op" id="7354268">}</span><span class="op" id="7354269">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7354273">//&nbsp;0x17F&nbsp;is&nbsp;an&nbsp;old&nbsp;English&nbsp;long&nbsp;s&nbsp;(looks&nbsp;like&nbsp;an&nbsp;f)&nbsp;and&nbsp;folds&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7354342">//&nbsp;0x212A&nbsp;is&nbsp;the&nbsp;Kelvin&nbsp;symbol&nbsp;and&nbsp;folds&nbsp;to&nbsp;k.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354390">{</span><span class="string" id="7354391">`A[F-g]`</span><span class="op" id="7354399">,</span>&nbsp;<span class="string" id="7354401">`cat{litfold{A}cc{0x41-0x7a&nbsp;0x17f&nbsp;0x212a}}`</span><span class="op" id="7354444">}</span><span class="op" id="7354445">,</span>&nbsp;<span class="comment" id="7354447">//&nbsp;[Aa][A-z...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354464">{</span><span class="string" id="7354465">`[[:upper:]]`</span><span class="op" id="7354478">,</span>&nbsp;<span class="string" id="7354480">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7354518">}</span><span class="op" id="7354519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354522">{</span><span class="string" id="7354523">`[[:lower:]]`</span><span class="op" id="7354536">,</span>&nbsp;<span class="string" id="7354538">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7354576">}</span><span class="op" id="7354577">,</span><br>
<span class="lineno">225</span><span class="op" id="7354579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7354582">func</span>&nbsp;<span class="ident" id="7354587">TestParseFoldCase</span><span class="op" id="7354604">(</span><span class="ident" id="7354605">t</span>&nbsp;<span class="op" id="7354607">*</span><span class="ident" id="7354608"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7354615">.</span><span class="ident" id="7354616">T</span><span class="op" id="7354617">)</span>&nbsp;<span class="op" id="7354619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354622"><a href="/regexp/syntax/parse_test.go.html#7355322">testParseDump</a></span><span class="op" id="7354635">(</span><span class="ident" id="7354636"><a href="/regexp/syntax/parse_test.go.html#7354605">t</a></span><span class="op" id="7354637">,</span>&nbsp;<span class="ident" id="7354639"><a href="/regexp/syntax/parse_test.go.html#7354165">foldcaseTests</a></span><span class="op" id="7354652">,</span>&nbsp;<span class="ident" id="7354654"><a href="/regexp/syntax/parse.go.html#4744435">FoldCase</a></span><span class="op" id="7354662">)</span><br>
<span class="lineno"></span><span class="op" id="7354664">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7354667">var</span>&nbsp;<span class="ident" id="7354671">literalTests</span>&nbsp;<span class="op" id="7354684">=</span>&nbsp;<span class="op" id="7354686">[</span><span class="op" id="7354687">]</span><span class="ident" id="7354688"><a href="/regexp/syntax/parse_test.go.html#7347678">parseTest</a></span><span class="op" id="7354697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354700">{</span><span class="string" id="7354701">&#34;(|)^$.[*+?]{5,10},\\&#34;</span><span class="op" id="7354723">,</span>&nbsp;<span class="string" id="7354725">&#34;str{(|)^$.[*+?]{5,10},\\}&#34;</span><span class="op" id="7354752">}</span><span class="op" id="7354753">,</span><br>
<span class="lineno"></span><span class="op" id="7354755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7354758">func</span>&nbsp;<span class="ident" id="7354763">TestParseLiteral</span><span class="op" id="7354779">(</span><span class="ident" id="7354780">t</span>&nbsp;<span class="op" id="7354782">*</span><span class="ident" id="7354783"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7354790">.</span><span class="ident" id="7354791">T</span><span class="op" id="7354792">)</span>&nbsp;<span class="op" id="7354794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354797"><a href="/regexp/syntax/parse_test.go.html#7355322">testParseDump</a></span><span class="op" id="7354810">(</span><span class="ident" id="7354811"><a href="/regexp/syntax/parse_test.go.html#7354780">t</a></span><span class="op" id="7354812">,</span>&nbsp;<span class="ident" id="7354814"><a href="/regexp/syntax/parse_test.go.html#7354671">literalTests</a></span><span class="op" id="7354826">,</span>&nbsp;<span class="ident" id="7354828"><a href="/regexp/syntax/parse.go.html#4744494">Literal</a></span><span class="op" id="7354835">)</span><br>
<span class="lineno"></span><span class="op" id="7354837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7354840">var</span>&nbsp;<span class="ident" id="7354844">matchnlTests</span>&nbsp;<span class="op" id="7354857">=</span>&nbsp;<span class="op" id="7354859">[</span><span class="op" id="7354860">]</span><span class="ident" id="7354861"><a href="/regexp/syntax/parse_test.go.html#7347678">parseTest</a></span><span class="op" id="7354870">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354873">{</span><span class="string" id="7354874">`.`</span><span class="op" id="7354877">,</span>&nbsp;<span class="string" id="7354879">`dot{}`</span><span class="op" id="7354886">}</span><span class="op" id="7354887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354890">{</span><span class="string" id="7354891">&#34;\n&#34;</span><span class="op" id="7354895">,</span>&nbsp;<span class="string" id="7354897">&#34;lit{\n}&#34;</span><span class="op" id="7354906">}</span><span class="op" id="7354907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354910">{</span><span class="string" id="7354911">`[^a]`</span><span class="op" id="7354917">,</span>&nbsp;<span class="string" id="7354919">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7354947">}</span><span class="op" id="7354948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354951">{</span><span class="string" id="7354952">`[a\n]`</span><span class="op" id="7354959">,</span>&nbsp;<span class="string" id="7354961">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7354975">}</span><span class="op" id="7354976">,</span><br>
<span class="lineno"></span><span class="op" id="7354978">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="7354981">func</span>&nbsp;<span class="ident" id="7354986">TestParseMatchNL</span><span class="op" id="7355002">(</span><span class="ident" id="7355003">t</span>&nbsp;<span class="op" id="7355005">*</span><span class="ident" id="7355006"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7355013">.</span><span class="ident" id="7355014">T</span><span class="op" id="7355015">)</span>&nbsp;<span class="op" id="7355017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355020"><a href="/regexp/syntax/parse_test.go.html#7355322">testParseDump</a></span><span class="op" id="7355033">(</span><span class="ident" id="7355034"><a href="/regexp/syntax/parse_test.go.html#7355003">t</a></span><span class="op" id="7355035">,</span>&nbsp;<span class="ident" id="7355037"><a href="/regexp/syntax/parse_test.go.html#7354844">matchnlTests</a></span><span class="op" id="7355049">,</span>&nbsp;<span class="ident" id="7355051"><a href="/regexp/syntax/parse.go.html#4745198">MatchNL</a></span><span class="op" id="7355058">)</span><br>
<span class="lineno"></span><span class="op" id="7355060">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="7355063">var</span>&nbsp;<span class="ident" id="7355067">nomatchnlTests</span>&nbsp;<span class="op" id="7355082">=</span>&nbsp;<span class="op" id="7355084">[</span><span class="op" id="7355085">]</span><span class="ident" id="7355086"><a href="/regexp/syntax/parse_test.go.html#7347678">parseTest</a></span><span class="op" id="7355095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7355098">{</span><span class="string" id="7355099">`.`</span><span class="op" id="7355102">,</span>&nbsp;<span class="string" id="7355104">`dnl{}`</span><span class="op" id="7355111">}</span><span class="op" id="7355112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7355115">{</span><span class="string" id="7355116">&#34;\n&#34;</span><span class="op" id="7355120">,</span>&nbsp;<span class="string" id="7355122">&#34;lit{\n}&#34;</span><span class="op" id="7355131">}</span><span class="op" id="7355132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7355135">{</span><span class="string" id="7355136">`[^a]`</span><span class="op" id="7355142">,</span>&nbsp;<span class="string" id="7355144">`cc{0x0-0x9&nbsp;0xb-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7355180">}</span><span class="op" id="7355181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7355184">{</span><span class="string" id="7355185">`[a\n]`</span><span class="op" id="7355192">,</span>&nbsp;<span class="string" id="7355194">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7355208">}</span><span class="op" id="7355209">,</span><br>
<span class="lineno">255</span><span class="op" id="7355211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7355214">func</span>&nbsp;<span class="ident" id="7355219">TestParseNoMatchNL</span><span class="op" id="7355237">(</span><span class="ident" id="7355238">t</span>&nbsp;<span class="op" id="7355240">*</span><span class="ident" id="7355241"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7355248">.</span><span class="ident" id="7355249">T</span><span class="op" id="7355250">)</span>&nbsp;<span class="op" id="7355252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355255"><a href="/regexp/syntax/parse_test.go.html#7355322">testParseDump</a></span><span class="op" id="7355268">(</span><span class="ident" id="7355269"><a href="/regexp/syntax/parse_test.go.html#7355238">t</a></span><span class="op" id="7355270">,</span>&nbsp;<span class="ident" id="7355272"><a href="/regexp/syntax/parse_test.go.html#7355067">nomatchnlTests</a></span><span class="op" id="7355286">,</span>&nbsp;<span class="num" id="7355288">0</span><span class="op" id="7355289">)</span><br>
<span class="lineno"></span><span class="op" id="7355291">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="7355294">//&nbsp;Test&nbsp;Parse&nbsp;-&gt;&nbsp;Dump.</span><br>
<span class="lineno"></span><span class="keyword" id="7355317">func</span>&nbsp;<span class="ident" id="7355322">testParseDump</span><span class="op" id="7355335">(</span><span class="ident" id="7355336">t</span>&nbsp;<span class="op" id="7355338">*</span><span class="ident" id="7355339"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7355346">.</span><span class="ident" id="7355347">T</span><span class="op" id="7355348">,</span>&nbsp;<span class="ident" id="7355350">tests</span>&nbsp;<span class="op" id="7355356">[</span><span class="op" id="7355357">]</span><span class="ident" id="7355358"><a href="/regexp/syntax/parse_test.go.html#7347678">parseTest</a></span><span class="op" id="7355367">,</span>&nbsp;<span class="ident" id="7355369">flags</span>&nbsp;<span class="ident" id="7355375"><a href="/regexp/syntax/parse.go.html#4744412">Flags</a></span><span class="op" id="7355380">)</span>&nbsp;<span class="op" id="7355382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7355385">for</span>&nbsp;<span class="ident" id="7355389">_</span><span class="op" id="7355390">,</span>&nbsp;<span class="ident" id="7355392">tt</span>&nbsp;<span class="op" id="7355395">:=</span>&nbsp;<span class="keyword" id="7355398">range</span>&nbsp;<span class="ident" id="7355404"><a href="/regexp/syntax/parse_test.go.html#7355350">tests</a></span>&nbsp;<span class="op" id="7355410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355414">re</span><span class="op" id="7355416">,</span>&nbsp;<span class="ident" id="7355418">err</span>&nbsp;<span class="op" id="7355422">:=</span>&nbsp;<span class="ident" id="7355425"><a href="/regexp/syntax/parse.go.html#4761596">Parse</a></span><span class="op" id="7355430">(</span><span class="ident" id="7355431"><a href="/regexp/syntax/parse_test.go.html#7355392">tt</a></span><span class="op" id="7355433">.</span><span class="ident" id="7355434">Regexp</span><span class="op" id="7355440">,</span>&nbsp;<span class="ident" id="7355442"><a href="/regexp/syntax/parse_test.go.html#7355369">flags</a></span><span class="op" id="7355447">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7355451">if</span>&nbsp;<span class="ident" id="7355454"><a href="/regexp/syntax/parse_test.go.html#7355418">err</a></span>&nbsp;<span class="op" id="7355458">!=</span>&nbsp;<span class="ident" id="7355461">nil</span>&nbsp;<span class="op" id="7355465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355470"><a href="/regexp/syntax/parse_test.go.html#7355336">t</a></span><span class="op" id="7355471">.</span><span class="ident" id="7355472">Errorf</span><span class="op" id="7355478">(</span><span class="string" id="7355479">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7355495">,</span>&nbsp;<span class="ident" id="7355497"><a href="/regexp/syntax/parse_test.go.html#7355392">tt</a></span><span class="op" id="7355499">.</span><span class="ident" id="7355500">Regexp</span><span class="op" id="7355506">,</span>&nbsp;<span class="ident" id="7355508"><a href="/regexp/syntax/parse_test.go.html#7355418">err</a></span><span class="op" id="7355511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7355516">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7355527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7355531">if</span>&nbsp;<span class="ident" id="7355534"><a href="/regexp/syntax/parse_test.go.html#7355392">tt</a></span><span class="op" id="7355536">.</span><span class="ident" id="7355537">Dump</span>&nbsp;<span class="op" id="7355542">==</span>&nbsp;<span class="string" id="7355545">&#34;&#34;</span>&nbsp;<span class="op" id="7355548">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7355553">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7355596">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7355607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355611">d</span>&nbsp;<span class="op" id="7355613">:=</span>&nbsp;<span class="ident" id="7355616"><a href="/regexp/syntax/parse_test.go.html#7355821">dump</a></span><span class="op" id="7355620">(</span><span class="ident" id="7355621"><a href="/regexp/syntax/parse_test.go.html#7355414">re</a></span><span class="op" id="7355623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7355627">if</span>&nbsp;<span class="ident" id="7355630"><a href="/regexp/syntax/parse_test.go.html#7355611">d</a></span>&nbsp;<span class="op" id="7355632">!=</span>&nbsp;<span class="ident" id="7355635"><a href="/regexp/syntax/parse_test.go.html#7355392">tt</a></span><span class="op" id="7355637">.</span><span class="ident" id="7355638">Dump</span>&nbsp;<span class="op" id="7355643">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355648"><a href="/regexp/syntax/parse_test.go.html#7355336">t</a></span><span class="op" id="7355649">.</span><span class="ident" id="7355650">Errorf</span><span class="op" id="7355656">(</span><span class="string" id="7355657">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7355691">,</span>&nbsp;<span class="ident" id="7355693"><a href="/regexp/syntax/parse_test.go.html#7355392">tt</a></span><span class="op" id="7355695">.</span><span class="ident" id="7355696">Regexp</span><span class="op" id="7355702">,</span>&nbsp;<span class="ident" id="7355704"><a href="/regexp/syntax/parse_test.go.html#7355611">d</a></span><span class="op" id="7355705">,</span>&nbsp;<span class="ident" id="7355707"><a href="/regexp/syntax/parse_test.go.html#7355392">tt</a></span><span class="op" id="7355709">.</span><span class="ident" id="7355710">Dump</span><span class="op" id="7355714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7355718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7355721">}</span><br>
<span class="lineno"></span><span class="op" id="7355723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="7355726">//&nbsp;dump&nbsp;prints&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;regexp&nbsp;showing</span><br>
<span class="lineno"></span><span class="comment" id="7355787">//&nbsp;the&nbsp;structure&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="keyword" id="7355816">func</span>&nbsp;<span class="ident" id="7355821">dump</span><span class="op" id="7355825">(</span><span class="ident" id="7355826">re</span>&nbsp;<span class="op" id="7355829">*</span><span class="ident" id="7355830"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="7355836">)</span>&nbsp;<span class="builtintype" id="7355838">string</span>&nbsp;<span class="op" id="7355845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7355848">var</span>&nbsp;<span class="ident" id="7355852">b</span>&nbsp;<span class="ident" id="7355854"><a href="/regexp/syntax/parse_test.go.html#7347633">bytes</a></span><span class="op" id="7355859">.</span><span class="ident" id="7355860">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355868"><a href="/regexp/syntax/parse_test.go.html#7356624">dumpRegexp</a></span><span class="op" id="7355878">(</span><span class="op" id="7355879">&amp;</span><span class="ident" id="7355880"><a href="/regexp/syntax/parse_test.go.html#7355852">b</a></span><span class="op" id="7355881">,</span>&nbsp;<span class="ident" id="7355883"><a href="/regexp/syntax/parse_test.go.html#7355826">re</a></span><span class="op" id="7355885">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7355888">return</span>&nbsp;<span class="ident" id="7355895"><a href="/regexp/syntax/parse_test.go.html#7355852">b</a></span><span class="op" id="7355896">.</span><span class="ident" id="7355897">String</span><span class="op" id="7355903">(</span><span class="op" id="7355904">)</span><br>
<span class="lineno"></span><span class="op" id="7355906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7355909">var</span>&nbsp;<span class="ident" id="7355913">opNames</span>&nbsp;<span class="op" id="7355921">=</span>&nbsp;<span class="op" id="7355923">[</span><span class="op" id="7355924">]</span><span class="builtintype" id="7355925">string</span><span class="op" id="7355931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355934"><a href="/regexp/syntax/regexp.go.html#4800825">OpNoMatch</a></span><span class="op" id="7355943">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7355952">&#34;no&#34;</span><span class="op" id="7355956">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355959"><a href="/regexp/syntax/regexp.go.html#4800879">OpEmptyMatch</a></span><span class="op" id="7355971">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7355977">&#34;emp&#34;</span><span class="op" id="7355982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7355985"><a href="/regexp/syntax/regexp.go.html#4800935">OpLiteral</a></span><span class="op" id="7355994">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356003">&#34;lit&#34;</span><span class="op" id="7356008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356011"><a href="/regexp/syntax/regexp.go.html#4800993">OpCharClass</a></span><span class="op" id="7356022">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356029">&#34;cc&#34;</span><span class="op" id="7356033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356036"><a href="/regexp/syntax/regexp.go.html#4801073">OpAnyCharNotNL</a></span><span class="op" id="7356050">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7356054">&#34;dnl&#34;</span><span class="op" id="7356059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356062"><a href="/regexp/syntax/regexp.go.html#4801145">OpAnyChar</a></span><span class="op" id="7356071">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356080">&#34;dot&#34;</span><span class="op" id="7356085">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356088"><a href="/regexp/syntax/regexp.go.html#4801202">OpBeginLine</a></span><span class="op" id="7356099">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356106">&#34;bol&#34;</span><span class="op" id="7356111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356114"><a href="/regexp/syntax/regexp.go.html#4801279">OpEndLine</a></span><span class="op" id="7356123">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356132">&#34;eol&#34;</span><span class="op" id="7356137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356140"><a href="/regexp/syntax/regexp.go.html#4801350">OpBeginText</a></span><span class="op" id="7356151">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356158">&#34;bot&#34;</span><span class="op" id="7356163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356166"><a href="/regexp/syntax/regexp.go.html#4801427">OpEndText</a></span><span class="op" id="7356175">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356184">&#34;eot&#34;</span><span class="op" id="7356189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356192"><a href="/regexp/syntax/regexp.go.html#4801498">OpWordBoundary</a></span><span class="op" id="7356206">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7356210">&#34;wb&#34;</span><span class="op" id="7356214">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356217"><a href="/regexp/syntax/regexp.go.html#4801560">OpNoWordBoundary</a></span><span class="op" id="7356233">:</span>&nbsp;<span class="string" id="7356235">&#34;nwb&#34;</span><span class="op" id="7356240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356243"><a href="/regexp/syntax/regexp.go.html#4801626">OpCapture</a></span><span class="op" id="7356252">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356261">&#34;cap&#34;</span><span class="op" id="7356266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356269"><a href="/regexp/syntax/regexp.go.html#4801720">OpStar</a></span><span class="op" id="7356275">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356287">&#34;star&#34;</span><span class="op" id="7356293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356296"><a href="/regexp/syntax/regexp.go.html#4801789">OpPlus</a></span><span class="op" id="7356302">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356314">&#34;plus&#34;</span><span class="op" id="7356320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356323"><a href="/regexp/syntax/regexp.go.html#4801857">OpQuest</a></span><span class="op" id="7356330">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356341">&#34;que&#34;</span><span class="op" id="7356346">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356349"><a href="/regexp/syntax/regexp.go.html#4801925">OpRepeat</a></span><span class="op" id="7356357">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356367">&#34;rep&#34;</span><span class="op" id="7356372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356375"><a href="/regexp/syntax/regexp.go.html#4802031">OpConcat</a></span><span class="op" id="7356383">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356393">&#34;cat&#34;</span><span class="op" id="7356398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356401"><a href="/regexp/syntax/regexp.go.html#4802096">OpAlternate</a></span><span class="op" id="7356412">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7356419">&#34;alt&#34;</span><span class="op" id="7356424">,</span><br>
<span class="lineno"></span><span class="op" id="7356426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="7356429">//&nbsp;dumpRegexp&nbsp;writes&nbsp;an&nbsp;encoding&nbsp;of&nbsp;the&nbsp;syntax&nbsp;tree&nbsp;for&nbsp;the&nbsp;regexp&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="7356505">//&nbsp;It&nbsp;is&nbsp;used&nbsp;during&nbsp;testing&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;parses&nbsp;that&nbsp;might&nbsp;print</span><br>
<span class="lineno"></span><span class="comment" id="7356581">//&nbsp;the&nbsp;same&nbsp;using&nbsp;re&#39;s&nbsp;String&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="7356619">func</span>&nbsp;<span class="ident" id="7356624">dumpRegexp</span><span class="op" id="7356634">(</span><span class="ident" id="7356635">b</span>&nbsp;<span class="op" id="7356637">*</span><span class="ident" id="7356638"><a href="/regexp/syntax/parse_test.go.html#7347633">bytes</a></span><span class="op" id="7356643">.</span><span class="ident" id="7356644">Buffer</span><span class="op" id="7356650">,</span>&nbsp;<span class="ident" id="7356652">re</span>&nbsp;<span class="op" id="7356655">*</span><span class="ident" id="7356656"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="7356662">)</span>&nbsp;<span class="op" id="7356664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7356667">if</span>&nbsp;<span class="builtintype" id="7356670">int</span><span class="op" id="7356673">(</span><span class="ident" id="7356674"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7356676">.</span><span class="ident" id="7356677">Op</span><span class="op" id="7356679">)</span>&nbsp;<span class="op" id="7356681">&gt;=</span>&nbsp;<span class="builtinfunc" id="7356684">len</span><span class="op" id="7356687">(</span><span class="ident" id="7356688"><a href="/regexp/syntax/parse_test.go.html#7355913">opNames</a></span><span class="op" id="7356695">)</span>&nbsp;<span class="op" id="7356697">||</span>&nbsp;<span class="ident" id="7356700"><a href="/regexp/syntax/parse_test.go.html#7355913">opNames</a></span><span class="op" id="7356707">[</span><span class="ident" id="7356708"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7356710">.</span><span class="ident" id="7356711">Op</span><span class="op" id="7356713">]</span>&nbsp;<span class="op" id="7356715">==</span>&nbsp;<span class="string" id="7356718">&#34;&#34;</span>&nbsp;<span class="op" id="7356721">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356725"><a href="/regexp/syntax/parse_test.go.html#7347642">fmt</a></span><span class="op" id="7356728">.</span><span class="ident" id="7356729">Fprintf</span><span class="op" id="7356736">(</span><span class="ident" id="7356737"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7356738">,</span>&nbsp;<span class="string" id="7356740">&#34;op%d&#34;</span><span class="op" id="7356746">,</span>&nbsp;<span class="ident" id="7356748"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7356750">.</span><span class="ident" id="7356751">Op</span><span class="op" id="7356753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7356756">}</span>&nbsp;<span class="keyword" id="7356758">else</span>&nbsp;<span class="op" id="7356763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7356767">switch</span>&nbsp;<span class="ident" id="7356774"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7356776">.</span><span class="ident" id="7356777">Op</span>&nbsp;<span class="op" id="7356780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7356784">default</span><span class="op" id="7356791">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356796"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7356797">.</span><span class="ident" id="7356798">WriteString</span><span class="op" id="7356809">(</span><span class="ident" id="7356810"><a href="/regexp/syntax/parse_test.go.html#7355913">opNames</a></span><span class="op" id="7356817">[</span><span class="ident" id="7356818"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7356820">.</span><span class="ident" id="7356821">Op</span><span class="op" id="7356823">]</span><span class="op" id="7356824">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7356828">case</span>&nbsp;<span class="ident" id="7356833"><a href="/regexp/syntax/regexp.go.html#4801720">OpStar</a></span><span class="op" id="7356839">,</span>&nbsp;<span class="ident" id="7356841"><a href="/regexp/syntax/regexp.go.html#4801789">OpPlus</a></span><span class="op" id="7356847">,</span>&nbsp;<span class="ident" id="7356849"><a href="/regexp/syntax/regexp.go.html#4801857">OpQuest</a></span><span class="op" id="7356856">,</span>&nbsp;<span class="ident" id="7356858"><a href="/regexp/syntax/regexp.go.html#4801925">OpRepeat</a></span><span class="op" id="7356866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7356871">if</span>&nbsp;<span class="ident" id="7356874"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7356876">.</span><span class="ident" id="7356877">Flags</span><span class="op" id="7356882">&amp;</span><span class="ident" id="7356883"><a href="/regexp/syntax/parse.go.html#4744824">NonGreedy</a></span>&nbsp;<span class="op" id="7356893">!=</span>&nbsp;<span class="num" id="7356896">0</span>&nbsp;<span class="op" id="7356898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356904"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7356905">.</span><span class="ident" id="7356906">WriteByte</span><span class="op" id="7356915">(</span><span class="string" id="7356916">&#39;n&#39;</span><span class="op" id="7356919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7356924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7356929"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7356930">.</span><span class="ident" id="7356931">WriteString</span><span class="op" id="7356942">(</span><span class="ident" id="7356943"><a href="/regexp/syntax/parse_test.go.html#7355913">opNames</a></span><span class="op" id="7356950">[</span><span class="ident" id="7356951"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7356953">.</span><span class="ident" id="7356954">Op</span><span class="op" id="7356956">]</span><span class="op" id="7356957">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7356961">case</span>&nbsp;<span class="ident" id="7356966"><a href="/regexp/syntax/regexp.go.html#4800935">OpLiteral</a></span><span class="op" id="7356975">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7356980">if</span>&nbsp;<span class="builtinfunc" id="7356983">len</span><span class="op" id="7356986">(</span><span class="ident" id="7356987"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7356989">.</span><span class="ident" id="7356990">Rune</span><span class="op" id="7356994">)</span>&nbsp;<span class="op" id="7356996">&gt;</span>&nbsp;<span class="num" id="7356998">1</span>&nbsp;<span class="op" id="7357000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357006"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357007">.</span><span class="ident" id="7357008">WriteString</span><span class="op" id="7357019">(</span><span class="string" id="7357020">&#34;str&#34;</span><span class="op" id="7357025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357030">}</span>&nbsp;<span class="keyword" id="7357032">else</span>&nbsp;<span class="op" id="7357037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357043"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357044">.</span><span class="ident" id="7357045">WriteString</span><span class="op" id="7357056">(</span><span class="string" id="7357057">&#34;lit&#34;</span><span class="op" id="7357062">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357072">if</span>&nbsp;<span class="ident" id="7357075"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357077">.</span><span class="ident" id="7357078">Flags</span><span class="op" id="7357083">&amp;</span><span class="ident" id="7357084"><a href="/regexp/syntax/parse.go.html#4744435">FoldCase</a></span>&nbsp;<span class="op" id="7357093">!=</span>&nbsp;<span class="num" id="7357096">0</span>&nbsp;<span class="op" id="7357098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357104">for</span>&nbsp;<span class="ident" id="7357108">_</span><span class="op" id="7357109">,</span>&nbsp;<span class="ident" id="7357111">r</span>&nbsp;<span class="op" id="7357113">:=</span>&nbsp;<span class="keyword" id="7357116">range</span>&nbsp;<span class="ident" id="7357122"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357124">.</span><span class="ident" id="7357125">Rune</span>&nbsp;<span class="op" id="7357130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357137">if</span>&nbsp;<span class="ident" id="7357140"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7357147">.</span><span class="ident" id="7357148">SimpleFold</span><span class="op" id="7357158">(</span><span class="ident" id="7357159"><a href="/regexp/syntax/parse_test.go.html#7357111">r</a></span><span class="op" id="7357160">)</span>&nbsp;<span class="op" id="7357162">!=</span>&nbsp;<span class="ident" id="7357165"><a href="/regexp/syntax/parse_test.go.html#7357111">r</a></span>&nbsp;<span class="op" id="7357167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357175"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357176">.</span><span class="ident" id="7357177">WriteString</span><span class="op" id="7357188">(</span><span class="string" id="7357189">&#34;fold&#34;</span><span class="op" id="7357195">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357203">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357229">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357235"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357236">.</span><span class="ident" id="7357237">WriteByte</span><span class="op" id="7357246">(</span><span class="string" id="7357247">&#39;{&#39;</span><span class="op" id="7357250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357253">switch</span>&nbsp;<span class="ident" id="7357260"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357262">.</span><span class="ident" id="7357263">Op</span>&nbsp;<span class="op" id="7357266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357269">case</span>&nbsp;<span class="ident" id="7357274"><a href="/regexp/syntax/regexp.go.html#4801427">OpEndText</a></span><span class="op" id="7357283">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357287">if</span>&nbsp;<span class="ident" id="7357290"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357292">.</span><span class="ident" id="7357293">Flags</span><span class="op" id="7357298">&amp;</span><span class="ident" id="7357299"><a href="/regexp/syntax/parse.go.html#4745056">WasDollar</a></span>&nbsp;<span class="op" id="7357309">==</span>&nbsp;<span class="num" id="7357312">0</span>&nbsp;<span class="op" id="7357314">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357319"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357320">.</span><span class="ident" id="7357321">WriteString</span><span class="op" id="7357332">(</span><span class="string" id="7357333">`\z`</span><span class="op" id="7357337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357344">case</span>&nbsp;<span class="ident" id="7357349"><a href="/regexp/syntax/regexp.go.html#4800935">OpLiteral</a></span><span class="op" id="7357358">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357362">for</span>&nbsp;<span class="ident" id="7357366">_</span><span class="op" id="7357367">,</span>&nbsp;<span class="ident" id="7357369">r</span>&nbsp;<span class="op" id="7357371">:=</span>&nbsp;<span class="keyword" id="7357374">range</span>&nbsp;<span class="ident" id="7357380"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357382">.</span><span class="ident" id="7357383">Rune</span>&nbsp;<span class="op" id="7357388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357393"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357394">.</span><span class="ident" id="7357395">WriteRune</span><span class="op" id="7357404">(</span><span class="ident" id="7357405"><a href="/regexp/syntax/parse_test.go.html#7357369">r</a></span><span class="op" id="7357406">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357413">case</span>&nbsp;<span class="ident" id="7357418"><a href="/regexp/syntax/regexp.go.html#4802031">OpConcat</a></span><span class="op" id="7357426">,</span>&nbsp;<span class="ident" id="7357428"><a href="/regexp/syntax/regexp.go.html#4802096">OpAlternate</a></span><span class="op" id="7357439">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357443">for</span>&nbsp;<span class="ident" id="7357447">_</span><span class="op" id="7357448">,</span>&nbsp;<span class="ident" id="7357450">sub</span>&nbsp;<span class="op" id="7357454">:=</span>&nbsp;<span class="keyword" id="7357457">range</span>&nbsp;<span class="ident" id="7357463"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357465">.</span><span class="ident" id="7357466">Sub</span>&nbsp;<span class="op" id="7357470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357475"><a href="/regexp/syntax/parse_test.go.html#7356624">dumpRegexp</a></span><span class="op" id="7357485">(</span><span class="ident" id="7357486"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357487">,</span>&nbsp;<span class="ident" id="7357489"><a href="/regexp/syntax/parse_test.go.html#7357450">sub</a></span><span class="op" id="7357492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357496">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357499">case</span>&nbsp;<span class="ident" id="7357504"><a href="/regexp/syntax/regexp.go.html#4801720">OpStar</a></span><span class="op" id="7357510">,</span>&nbsp;<span class="ident" id="7357512"><a href="/regexp/syntax/regexp.go.html#4801789">OpPlus</a></span><span class="op" id="7357518">,</span>&nbsp;<span class="ident" id="7357520"><a href="/regexp/syntax/regexp.go.html#4801857">OpQuest</a></span><span class="op" id="7357527">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357531"><a href="/regexp/syntax/parse_test.go.html#7356624">dumpRegexp</a></span><span class="op" id="7357541">(</span><span class="ident" id="7357542"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357543">,</span>&nbsp;<span class="ident" id="7357545"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357547">.</span><span class="ident" id="7357548">Sub</span><span class="op" id="7357551">[</span><span class="num" id="7357552">0</span><span class="op" id="7357553">]</span><span class="op" id="7357554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357557">case</span>&nbsp;<span class="ident" id="7357562"><a href="/regexp/syntax/regexp.go.html#4801925">OpRepeat</a></span><span class="op" id="7357570">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357574"><a href="/regexp/syntax/parse_test.go.html#7347642">fmt</a></span><span class="op" id="7357577">.</span><span class="ident" id="7357578">Fprintf</span><span class="op" id="7357585">(</span><span class="ident" id="7357586"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357587">,</span>&nbsp;<span class="string" id="7357589">&#34;%d,%d&nbsp;&#34;</span><span class="op" id="7357597">,</span>&nbsp;<span class="ident" id="7357599"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357601">.</span><span class="ident" id="7357602">Min</span><span class="op" id="7357605">,</span>&nbsp;<span class="ident" id="7357607"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357609">.</span><span class="ident" id="7357610">Max</span><span class="op" id="7357613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357617"><a href="/regexp/syntax/parse_test.go.html#7356624">dumpRegexp</a></span><span class="op" id="7357627">(</span><span class="ident" id="7357628"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357629">,</span>&nbsp;<span class="ident" id="7357631"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357633">.</span><span class="ident" id="7357634">Sub</span><span class="op" id="7357637">[</span><span class="num" id="7357638">0</span><span class="op" id="7357639">]</span><span class="op" id="7357640">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357643">case</span>&nbsp;<span class="ident" id="7357648"><a href="/regexp/syntax/regexp.go.html#4801626">OpCapture</a></span><span class="op" id="7357657">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357661">if</span>&nbsp;<span class="ident" id="7357664"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357666">.</span><span class="ident" id="7357667">Name</span>&nbsp;<span class="op" id="7357672">!=</span>&nbsp;<span class="string" id="7357675">&#34;&#34;</span>&nbsp;<span class="op" id="7357678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357683"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357684">.</span><span class="ident" id="7357685">WriteString</span><span class="op" id="7357696">(</span><span class="ident" id="7357697"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357699">.</span><span class="ident" id="7357700">Name</span><span class="op" id="7357704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357709"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357710">.</span><span class="ident" id="7357711">WriteByte</span><span class="op" id="7357720">(</span><span class="string" id="7357721">&#39;:&#39;</span><span class="op" id="7357724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357728">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357732"><a href="/regexp/syntax/parse_test.go.html#7356624">dumpRegexp</a></span><span class="op" id="7357742">(</span><span class="ident" id="7357743"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357744">,</span>&nbsp;<span class="ident" id="7357746"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357748">.</span><span class="ident" id="7357749">Sub</span><span class="op" id="7357752">[</span><span class="num" id="7357753">0</span><span class="op" id="7357754">]</span><span class="op" id="7357755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357758">case</span>&nbsp;<span class="ident" id="7357763"><a href="/regexp/syntax/regexp.go.html#4800993">OpCharClass</a></span><span class="op" id="7357774">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357778">sep</span>&nbsp;<span class="op" id="7357782">:=</span>&nbsp;<span class="string" id="7357785">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357790">for</span>&nbsp;<span class="ident" id="7357794">i</span>&nbsp;<span class="op" id="7357796">:=</span>&nbsp;<span class="num" id="7357799">0</span><span class="op" id="7357800">;</span>&nbsp;<span class="ident" id="7357802"><a href="/regexp/syntax/parse_test.go.html#7357794">i</a></span>&nbsp;<span class="op" id="7357804">&lt;</span>&nbsp;<span class="builtinfunc" id="7357806">len</span><span class="op" id="7357809">(</span><span class="ident" id="7357810"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357812">.</span><span class="ident" id="7357813">Rune</span><span class="op" id="7357817">)</span><span class="op" id="7357818">;</span>&nbsp;<span class="ident" id="7357820"><a href="/regexp/syntax/parse_test.go.html#7357794">i</a></span>&nbsp;<span class="op" id="7357822">+=</span>&nbsp;<span class="num" id="7357825">2</span>&nbsp;<span class="op" id="7357827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357832"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357833">.</span><span class="ident" id="7357834">WriteString</span><span class="op" id="7357845">(</span><span class="ident" id="7357846"><a href="/regexp/syntax/parse_test.go.html#7357778">sep</a></span><span class="op" id="7357849">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357854"><a href="/regexp/syntax/parse_test.go.html#7357778">sep</a></span>&nbsp;<span class="op" id="7357858">=</span>&nbsp;<span class="string" id="7357860">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357867">lo</span><span class="op" id="7357869">,</span>&nbsp;<span class="ident" id="7357871">hi</span>&nbsp;<span class="op" id="7357874">:=</span>&nbsp;<span class="ident" id="7357877"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357879">.</span><span class="ident" id="7357880">Rune</span><span class="op" id="7357884">[</span><span class="ident" id="7357885"><a href="/regexp/syntax/parse_test.go.html#7357794">i</a></span><span class="op" id="7357886">]</span><span class="op" id="7357887">,</span>&nbsp;<span class="ident" id="7357889"><a href="/regexp/syntax/parse_test.go.html#7356652">re</a></span><span class="op" id="7357891">.</span><span class="ident" id="7357892">Rune</span><span class="op" id="7357896">[</span><span class="ident" id="7357897"><a href="/regexp/syntax/parse_test.go.html#7357794">i</a></span><span class="op" id="7357898">+</span><span class="num" id="7357899">1</span><span class="op" id="7357900">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7357905">if</span>&nbsp;<span class="ident" id="7357908"><a href="/regexp/syntax/parse_test.go.html#7357867">lo</a></span>&nbsp;<span class="op" id="7357911">==</span>&nbsp;<span class="ident" id="7357914"><a href="/regexp/syntax/parse_test.go.html#7357871">hi</a></span>&nbsp;<span class="op" id="7357917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357923"><a href="/regexp/syntax/parse_test.go.html#7347642">fmt</a></span><span class="op" id="7357926">.</span><span class="ident" id="7357927">Fprintf</span><span class="op" id="7357934">(</span><span class="ident" id="7357935"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357936">,</span>&nbsp;<span class="string" id="7357938">&#34;%#x&#34;</span><span class="op" id="7357943">,</span>&nbsp;<span class="ident" id="7357945"><a href="/regexp/syntax/parse_test.go.html#7357867">lo</a></span><span class="op" id="7357947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7357952">}</span>&nbsp;<span class="keyword" id="7357954">else</span>&nbsp;<span class="op" id="7357959">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7357965"><a href="/regexp/syntax/parse_test.go.html#7347642">fmt</a></span><span class="op" id="7357968">.</span><span class="ident" id="7357969">Fprintf</span><span class="op" id="7357976">(</span><span class="ident" id="7357977"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7357978">,</span>&nbsp;<span class="string" id="7357980">&#34;%#x-%#x&#34;</span><span class="op" id="7357989">,</span>&nbsp;<span class="ident" id="7357991"><a href="/regexp/syntax/parse_test.go.html#7357867">lo</a></span><span class="op" id="7357993">,</span>&nbsp;<span class="ident" id="7357995"><a href="/regexp/syntax/parse_test.go.html#7357871">hi</a></span><span class="op" id="7357997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358012"><a href="/regexp/syntax/parse_test.go.html#7356635">b</a></span><span class="op" id="7358013">.</span><span class="ident" id="7358014">WriteByte</span><span class="op" id="7358023">(</span><span class="string" id="7358024">&#39;}&#39;</span><span class="op" id="7358027">)</span><br>
<span class="lineno">380</span><span class="op" id="7358029">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7358032">func</span>&nbsp;<span class="ident" id="7358037">mkCharClass</span><span class="op" id="7358048">(</span><span class="ident" id="7358049">f</span>&nbsp;<span class="keyword" id="7358051">func</span><span class="op" id="7358055">(</span><span class="builtintype" id="7358056">rune</span><span class="op" id="7358060">)</span>&nbsp;<span class="builtintype" id="7358062">bool</span><span class="op" id="7358066">)</span>&nbsp;<span class="builtintype" id="7358068">string</span>&nbsp;<span class="op" id="7358075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358078">re</span>&nbsp;<span class="op" id="7358081">:=</span>&nbsp;<span class="op" id="7358084">&amp;</span><span class="ident" id="7358085"><a href="/regexp/syntax/regexp.go.html#4800134">Regexp</a></span><span class="op" id="7358091">{</span><span class="ident" id="7358092">Op</span><span class="op" id="7358094">:</span>&nbsp;<span class="ident" id="7358096"><a href="/regexp/syntax/regexp.go.html#4800993">OpCharClass</a></span><span class="op" id="7358107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358110">lo</span>&nbsp;<span class="op" id="7358113">:=</span>&nbsp;<span class="builtintype" id="7358116">rune</span><span class="op" id="7358120">(</span><span class="op" id="7358121">-</span><span class="num" id="7358122">1</span><span class="op" id="7358123">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358126">for</span>&nbsp;<span class="ident" id="7358130">i</span>&nbsp;<span class="op" id="7358132">:=</span>&nbsp;<span class="builtintype" id="7358135">rune</span><span class="op" id="7358139">(</span><span class="num" id="7358140">0</span><span class="op" id="7358141">)</span><span class="op" id="7358142">;</span>&nbsp;<span class="ident" id="7358144"><a href="/regexp/syntax/parse_test.go.html#7358130">i</a></span>&nbsp;<span class="op" id="7358146">&lt;=</span>&nbsp;<span class="ident" id="7358149"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7358156">.</span><span class="ident" id="7358157">MaxRune</span><span class="op" id="7358164">;</span>&nbsp;<span class="ident" id="7358166"><a href="/regexp/syntax/parse_test.go.html#7358130">i</a></span><span class="op" id="7358167">++</span>&nbsp;<span class="op" id="7358170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358174">if</span>&nbsp;<span class="ident" id="7358177"><a href="/regexp/syntax/parse_test.go.html#7358049">f</a></span><span class="op" id="7358178">(</span><span class="ident" id="7358179"><a href="/regexp/syntax/parse_test.go.html#7358130">i</a></span><span class="op" id="7358180">)</span>&nbsp;<span class="op" id="7358182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358187">if</span>&nbsp;<span class="ident" id="7358190"><a href="/regexp/syntax/parse_test.go.html#7358110">lo</a></span>&nbsp;<span class="op" id="7358193">&lt;</span>&nbsp;<span class="num" id="7358195">0</span>&nbsp;<span class="op" id="7358197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358203"><a href="/regexp/syntax/parse_test.go.html#7358110">lo</a></span>&nbsp;<span class="op" id="7358206">=</span>&nbsp;<span class="ident" id="7358208"><a href="/regexp/syntax/parse_test.go.html#7358130">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358213">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358217">}</span>&nbsp;<span class="keyword" id="7358219">else</span>&nbsp;<span class="op" id="7358224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358229">if</span>&nbsp;<span class="ident" id="7358232"><a href="/regexp/syntax/parse_test.go.html#7358110">lo</a></span>&nbsp;<span class="op" id="7358235">&gt;=</span>&nbsp;<span class="num" id="7358238">0</span>&nbsp;<span class="op" id="7358240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358246"><a href="/regexp/syntax/parse_test.go.html#7358078">re</a></span><span class="op" id="7358248">.</span><span class="ident" id="7358249">Rune</span>&nbsp;<span class="op" id="7358254">=</span>&nbsp;<span class="builtinfunc" id="7358256">append</span><span class="op" id="7358262">(</span><span class="ident" id="7358263"><a href="/regexp/syntax/parse_test.go.html#7358078">re</a></span><span class="op" id="7358265">.</span><span class="ident" id="7358266">Rune</span><span class="op" id="7358270">,</span>&nbsp;<span class="ident" id="7358272"><a href="/regexp/syntax/parse_test.go.html#7358110">lo</a></span><span class="op" id="7358274">,</span>&nbsp;<span class="ident" id="7358276"><a href="/regexp/syntax/parse_test.go.html#7358130">i</a></span><span class="op" id="7358277">-</span><span class="num" id="7358278">1</span><span class="op" id="7358279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358285"><a href="/regexp/syntax/parse_test.go.html#7358110">lo</a></span>&nbsp;<span class="op" id="7358288">=</span>&nbsp;<span class="op" id="7358290">-</span><span class="num" id="7358291">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358296">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358306">if</span>&nbsp;<span class="ident" id="7358309"><a href="/regexp/syntax/parse_test.go.html#7358110">lo</a></span>&nbsp;<span class="op" id="7358312">&gt;=</span>&nbsp;<span class="num" id="7358315">0</span>&nbsp;<span class="op" id="7358317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358321"><a href="/regexp/syntax/parse_test.go.html#7358078">re</a></span><span class="op" id="7358323">.</span><span class="ident" id="7358324">Rune</span>&nbsp;<span class="op" id="7358329">=</span>&nbsp;<span class="builtinfunc" id="7358331">append</span><span class="op" id="7358337">(</span><span class="ident" id="7358338"><a href="/regexp/syntax/parse_test.go.html#7358078">re</a></span><span class="op" id="7358340">.</span><span class="ident" id="7358341">Rune</span><span class="op" id="7358345">,</span>&nbsp;<span class="ident" id="7358347"><a href="/regexp/syntax/parse_test.go.html#7358110">lo</a></span><span class="op" id="7358349">,</span>&nbsp;<span class="ident" id="7358351"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7358358">.</span><span class="ident" id="7358359">MaxRune</span><span class="op" id="7358366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358369">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358372">return</span>&nbsp;<span class="ident" id="7358379"><a href="/regexp/syntax/parse_test.go.html#7355821">dump</a></span><span class="op" id="7358383">(</span><span class="ident" id="7358384"><a href="/regexp/syntax/parse_test.go.html#7358078">re</a></span><span class="op" id="7358386">)</span><br>
<span class="lineno"></span><span class="op" id="7358388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7358391">func</span>&nbsp;<span class="ident" id="7358396">isUpperFold</span><span class="op" id="7358407">(</span><span class="ident" id="7358408">r</span>&nbsp;<span class="builtintype" id="7358410">rune</span><span class="op" id="7358414">)</span>&nbsp;<span class="builtintype" id="7358416">bool</span>&nbsp;<span class="op" id="7358421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358424">if</span>&nbsp;<span class="ident" id="7358427"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7358434">.</span><span class="ident" id="7358435">IsUpper</span><span class="op" id="7358442">(</span><span class="ident" id="7358443"><a href="/regexp/syntax/parse_test.go.html#7358408">r</a></span><span class="op" id="7358444">)</span>&nbsp;<span class="op" id="7358446">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358450">return</span>&nbsp;<span class="ident" id="7358457">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358466">c</span>&nbsp;<span class="op" id="7358468">:=</span>&nbsp;<span class="ident" id="7358471"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7358478">.</span><span class="ident" id="7358479">SimpleFold</span><span class="op" id="7358489">(</span><span class="ident" id="7358490"><a href="/regexp/syntax/parse_test.go.html#7358408">r</a></span><span class="op" id="7358491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358494">for</span>&nbsp;<span class="ident" id="7358498"><a href="/regexp/syntax/parse_test.go.html#7358466">c</a></span>&nbsp;<span class="op" id="7358500">!=</span>&nbsp;<span class="ident" id="7358503"><a href="/regexp/syntax/parse_test.go.html#7358408">r</a></span>&nbsp;<span class="op" id="7358505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358509">if</span>&nbsp;<span class="ident" id="7358512"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7358519">.</span><span class="ident" id="7358520">IsUpper</span><span class="op" id="7358527">(</span><span class="ident" id="7358528"><a href="/regexp/syntax/parse_test.go.html#7358466">c</a></span><span class="op" id="7358529">)</span>&nbsp;<span class="op" id="7358531">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358536">return</span>&nbsp;<span class="ident" id="7358543">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358554"><a href="/regexp/syntax/parse_test.go.html#7358466">c</a></span>&nbsp;<span class="op" id="7358556">=</span>&nbsp;<span class="ident" id="7358558"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7358565">.</span><span class="ident" id="7358566">SimpleFold</span><span class="op" id="7358576">(</span><span class="ident" id="7358577"><a href="/regexp/syntax/parse_test.go.html#7358466">c</a></span><span class="op" id="7358578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358584">return</span>&nbsp;<span class="ident" id="7358591">false</span><br>
<span class="lineno">415</span><span class="op" id="7358597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7358600">func</span>&nbsp;<span class="ident" id="7358605">TestFoldConstants</span><span class="op" id="7358622">(</span><span class="ident" id="7358623">t</span>&nbsp;<span class="op" id="7358625">*</span><span class="ident" id="7358626"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7358633">.</span><span class="ident" id="7358634">T</span><span class="op" id="7358635">)</span>&nbsp;<span class="op" id="7358637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358640">last</span>&nbsp;<span class="op" id="7358645">:=</span>&nbsp;<span class="builtintype" id="7358648">rune</span><span class="op" id="7358652">(</span><span class="op" id="7358653">-</span><span class="num" id="7358654">1</span><span class="op" id="7358655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358658">for</span>&nbsp;<span class="ident" id="7358662">i</span>&nbsp;<span class="op" id="7358664">:=</span>&nbsp;<span class="builtintype" id="7358667">rune</span><span class="op" id="7358671">(</span><span class="num" id="7358672">0</span><span class="op" id="7358673">)</span><span class="op" id="7358674">;</span>&nbsp;<span class="ident" id="7358676"><a href="/regexp/syntax/parse_test.go.html#7358662">i</a></span>&nbsp;<span class="op" id="7358678">&lt;=</span>&nbsp;<span class="ident" id="7358681"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7358688">.</span><span class="ident" id="7358689">MaxRune</span><span class="op" id="7358696">;</span>&nbsp;<span class="ident" id="7358698"><a href="/regexp/syntax/parse_test.go.html#7358662">i</a></span><span class="op" id="7358699">++</span>&nbsp;<span class="op" id="7358702">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358706">if</span>&nbsp;<span class="ident" id="7358709"><a href="/regexp/syntax/parse_test.go.html#7347660">unicode</a></span><span class="op" id="7358716">.</span><span class="ident" id="7358717">SimpleFold</span><span class="op" id="7358727">(</span><span class="ident" id="7358728"><a href="/regexp/syntax/parse_test.go.html#7358662">i</a></span><span class="op" id="7358729">)</span>&nbsp;<span class="op" id="7358731">==</span>&nbsp;<span class="ident" id="7358734"><a href="/regexp/syntax/parse_test.go.html#7358662">i</a></span>&nbsp;<span class="op" id="7358736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358741">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358756">if</span>&nbsp;<span class="ident" id="7358759"><a href="/regexp/syntax/parse_test.go.html#7358640">last</a></span>&nbsp;<span class="op" id="7358764">==</span>&nbsp;<span class="op" id="7358767">-</span><span class="num" id="7358768">1</span>&nbsp;<span class="op" id="7358770">&amp;&amp;</span>&nbsp;<span class="ident" id="7358773"><a href="/regexp/syntax/parse.go.html#4784275">minFold</a></span>&nbsp;<span class="op" id="7358781">!=</span>&nbsp;<span class="ident" id="7358784"><a href="/regexp/syntax/parse_test.go.html#7358662">i</a></span>&nbsp;<span class="op" id="7358786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358791"><a href="/regexp/syntax/parse_test.go.html#7358623">t</a></span><span class="op" id="7358792">.</span><span class="ident" id="7358793">Errorf</span><span class="op" id="7358799">(</span><span class="string" id="7358800">&#34;minFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7358827">,</span>&nbsp;<span class="ident" id="7358829"><a href="/regexp/syntax/parse.go.html#4784275">minFold</a></span><span class="op" id="7358836">,</span>&nbsp;<span class="ident" id="7358838"><a href="/regexp/syntax/parse_test.go.html#7358662">i</a></span><span class="op" id="7358839">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358847"><a href="/regexp/syntax/parse_test.go.html#7358640">last</a></span>&nbsp;<span class="op" id="7358852">=</span>&nbsp;<span class="ident" id="7358854"><a href="/regexp/syntax/parse_test.go.html#7358662">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7358860">if</span>&nbsp;<span class="ident" id="7358863"><a href="/regexp/syntax/parse.go.html#4784293">maxFold</a></span>&nbsp;<span class="op" id="7358871">!=</span>&nbsp;<span class="ident" id="7358874"><a href="/regexp/syntax/parse_test.go.html#7358640">last</a></span>&nbsp;<span class="op" id="7358879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7358883"><a href="/regexp/syntax/parse_test.go.html#7358623">t</a></span><span class="op" id="7358884">.</span><span class="ident" id="7358885">Errorf</span><span class="op" id="7358891">(</span><span class="string" id="7358892">&#34;maxFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7358919">,</span>&nbsp;<span class="ident" id="7358921"><a href="/regexp/syntax/parse.go.html#4784293">maxFold</a></span><span class="op" id="7358928">,</span>&nbsp;<span class="ident" id="7358930"><a href="/regexp/syntax/parse_test.go.html#7358640">last</a></span><span class="op" id="7358934">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7358937">}</span><br>
<span class="lineno"></span><span class="op" id="7358939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7358942">func</span>&nbsp;<span class="ident" id="7358947">TestAppendRangeCollapse</span><span class="op" id="7358970">(</span><span class="ident" id="7358971">t</span>&nbsp;<span class="op" id="7358973">*</span><span class="ident" id="7358974"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7358981">.</span><span class="ident" id="7358982">T</span><span class="op" id="7358983">)</span>&nbsp;<span class="op" id="7358985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7358988">//&nbsp;AppendRange&nbsp;should&nbsp;collapse&nbsp;each&nbsp;of&nbsp;the&nbsp;new&nbsp;ranges</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7359043">//&nbsp;into&nbsp;the&nbsp;earlier&nbsp;ones&nbsp;(it&nbsp;looks&nbsp;back&nbsp;two&nbsp;ranges),&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7359105">//&nbsp;the&nbsp;slice&nbsp;never&nbsp;grows&nbsp;very&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7359143">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;calling&nbsp;cleanClass.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7359188">var</span>&nbsp;<span class="ident" id="7359192">r</span>&nbsp;<span class="op" id="7359194">[</span><span class="op" id="7359195">]</span><span class="builtintype" id="7359196">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7359202">for</span>&nbsp;<span class="ident" id="7359206">i</span>&nbsp;<span class="op" id="7359208">:=</span>&nbsp;<span class="builtintype" id="7359211">rune</span><span class="op" id="7359215">(</span><span class="string" id="7359216">&#39;A&#39;</span><span class="op" id="7359219">)</span><span class="op" id="7359220">;</span>&nbsp;<span class="ident" id="7359222"><a href="/regexp/syntax/parse_test.go.html#7359206">i</a></span>&nbsp;<span class="op" id="7359224">&lt;=</span>&nbsp;<span class="string" id="7359227">&#39;Z&#39;</span><span class="op" id="7359230">;</span>&nbsp;<span class="ident" id="7359232"><a href="/regexp/syntax/parse_test.go.html#7359206">i</a></span><span class="op" id="7359233">++</span>&nbsp;<span class="op" id="7359236">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7359240"><a href="/regexp/syntax/parse_test.go.html#7359192">r</a></span>&nbsp;<span class="op" id="7359242">=</span>&nbsp;<span class="ident" id="7359244"><a href="/regexp/syntax/parse.go.html#4783645">appendRange</a></span><span class="op" id="7359255">(</span><span class="ident" id="7359256"><a href="/regexp/syntax/parse_test.go.html#7359192">r</a></span><span class="op" id="7359257">,</span>&nbsp;<span class="ident" id="7359259"><a href="/regexp/syntax/parse_test.go.html#7359206">i</a></span><span class="op" id="7359260">,</span>&nbsp;<span class="ident" id="7359262"><a href="/regexp/syntax/parse_test.go.html#7359206">i</a></span><span class="op" id="7359263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7359267"><a href="/regexp/syntax/parse_test.go.html#7359192">r</a></span>&nbsp;<span class="op" id="7359269">=</span>&nbsp;<span class="ident" id="7359271"><a href="/regexp/syntax/parse.go.html#4783645">appendRange</a></span><span class="op" id="7359282">(</span><span class="ident" id="7359283"><a href="/regexp/syntax/parse_test.go.html#7359192">r</a></span><span class="op" id="7359284">,</span>&nbsp;<span class="ident" id="7359286"><a href="/regexp/syntax/parse_test.go.html#7359206">i</a></span><span class="op" id="7359287">+</span><span class="string" id="7359288">&#39;a&#39;</span><span class="op" id="7359291">-</span><span class="string" id="7359292">&#39;A&#39;</span><span class="op" id="7359295">,</span>&nbsp;<span class="ident" id="7359297"><a href="/regexp/syntax/parse_test.go.html#7359206">i</a></span><span class="op" id="7359298">+</span><span class="string" id="7359299">&#39;a&#39;</span><span class="op" id="7359302">-</span><span class="string" id="7359303">&#39;A&#39;</span><span class="op" id="7359306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7359309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7359312">if</span>&nbsp;<span class="builtintype" id="7359315">string</span><span class="op" id="7359321">(</span><span class="ident" id="7359322"><a href="/regexp/syntax/parse_test.go.html#7359192">r</a></span><span class="op" id="7359323">)</span>&nbsp;<span class="op" id="7359325">!=</span>&nbsp;<span class="string" id="7359328">&#34;AZaz&#34;</span>&nbsp;<span class="op" id="7359335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7359339"><a href="/regexp/syntax/parse_test.go.html#7358971">t</a></span><span class="op" id="7359340">.</span><span class="ident" id="7359341">Errorf</span><span class="op" id="7359347">(</span><span class="string" id="7359348">&#34;appendRange&nbsp;interlaced&nbsp;A-Z&nbsp;a-z&nbsp;=&nbsp;%s,&nbsp;want&nbsp;AZaz&#34;</span><span class="op" id="7359396">,</span>&nbsp;<span class="builtintype" id="7359398">string</span><span class="op" id="7359404">(</span><span class="ident" id="7359405"><a href="/regexp/syntax/parse_test.go.html#7359192">r</a></span><span class="op" id="7359406">)</span><span class="op" id="7359407">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7359410">}</span><br>
<span class="lineno"></span><span class="op" id="7359412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7359415">var</span>&nbsp;<span class="ident" id="7359419">invalidRegexps</span>&nbsp;<span class="op" id="7359434">=</span>&nbsp;<span class="op" id="7359436">[</span><span class="op" id="7359437">]</span><span class="builtintype" id="7359438">string</span><span class="op" id="7359444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359447">`(`</span><span class="op" id="7359450">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359453">`)`</span><span class="op" id="7359456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359459">`(a`</span><span class="op" id="7359463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359466">`a)`</span><span class="op" id="7359470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359473">`(a))`</span><span class="op" id="7359479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359482">`(a|b|`</span><span class="op" id="7359489">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359492">`a|b|)`</span><span class="op" id="7359499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359502">`(a|b|))`</span><span class="op" id="7359511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359514">`(a|b`</span><span class="op" id="7359520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359523">`a|b)`</span><span class="op" id="7359529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359532">`(a|b))`</span><span class="op" id="7359540">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359543">`[a-z`</span><span class="op" id="7359549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359552">`([a-z)`</span><span class="op" id="7359560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359563">`[a-z)`</span><span class="op" id="7359570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359573">`([a-z]))`</span><span class="op" id="7359583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359586">`x{1001}`</span><span class="op" id="7359595">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359598">`x{9876543210}`</span><span class="op" id="7359613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359616">`x{2,1}`</span><span class="op" id="7359624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359627">`x{1,9876543210}`</span><span class="op" id="7359644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359647">&#34;\xff&#34;</span><span class="op" id="7359653">,</span>&nbsp;<span class="comment" id="7359655">//&nbsp;Invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359673">&#34;[\xff]&#34;</span><span class="op" id="7359681">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359684">&#34;[\\\xff]&#34;</span><span class="op" id="7359694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359697">&#34;\\\xff&#34;</span><span class="op" id="7359705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359708">`(?P&lt;name&gt;a`</span><span class="op" id="7359720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359723">`(?P&lt;name&gt;`</span><span class="op" id="7359734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359737">`(?P&lt;name`</span><span class="op" id="7359747">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359750">`(?P&lt;x&nbsp;y&gt;a)`</span><span class="op" id="7359762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359765">`(?P&lt;&gt;a)`</span><span class="op" id="7359774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359777">`[a-Z]`</span><span class="op" id="7359784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359787">`(?i)[a-Z]`</span><span class="op" id="7359798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359801">`a{100000}`</span><span class="op" id="7359812">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359815">`a{100000,}`</span><span class="op" id="7359827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359830">&#34;((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}){2})&#34;</span><span class="op" id="7359883">,</span><br>
<span class="lineno"></span><span class="op" id="7359885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7359888">var</span>&nbsp;<span class="ident" id="7359892">onlyPerl</span>&nbsp;<span class="op" id="7359901">=</span>&nbsp;<span class="op" id="7359903">[</span><span class="op" id="7359904">]</span><span class="builtintype" id="7359905">string</span><span class="op" id="7359911">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359914">`[a-b-c]`</span><span class="op" id="7359923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359926">`\Qabc\E`</span><span class="op" id="7359935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359938">`\Q*+?{[\E`</span><span class="op" id="7359949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359952">`\Q\\E`</span><span class="op" id="7359959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359962">`\Q\\\E`</span><span class="op" id="7359970">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359973">`\Q\\\\E`</span><span class="op" id="7359982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359985">`\Q\\\\\E`</span><span class="op" id="7359995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7359998">`(?:a)`</span><span class="op" id="7360005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7360008">`(?P&lt;name&gt;a)`</span><span class="op" id="7360021">,</span><br>
<span class="lineno"></span><span class="op" id="7360023">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="7360026">var</span>&nbsp;<span class="ident" id="7360030">onlyPOSIX</span>&nbsp;<span class="op" id="7360040">=</span>&nbsp;<span class="op" id="7360042">[</span><span class="op" id="7360043">]</span><span class="builtintype" id="7360044">string</span><span class="op" id="7360050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7360053">&#34;a++&#34;</span><span class="op" id="7360058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7360061">&#34;a**&#34;</span><span class="op" id="7360066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7360069">&#34;a?*&#34;</span><span class="op" id="7360074">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7360077">&#34;a+*&#34;</span><span class="op" id="7360082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7360085">&#34;a{1}*&#34;</span><span class="op" id="7360092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7360095">&#34;.{1}{2}.{3}&#34;</span><span class="op" id="7360108">,</span><br>
<span class="lineno"></span><span class="op" id="7360110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="keyword" id="7360113">func</span>&nbsp;<span class="ident" id="7360118">TestParseInvalidRegexps</span><span class="op" id="7360141">(</span><span class="ident" id="7360142">t</span>&nbsp;<span class="op" id="7360144">*</span><span class="ident" id="7360145"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7360152">.</span><span class="ident" id="7360153">T</span><span class="op" id="7360154">)</span>&nbsp;<span class="op" id="7360156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360159">for</span>&nbsp;<span class="ident" id="7360163">_</span><span class="op" id="7360164">,</span>&nbsp;<span class="ident" id="7360166">regexp</span>&nbsp;<span class="op" id="7360173">:=</span>&nbsp;<span class="keyword" id="7360176">range</span>&nbsp;<span class="ident" id="7360182"><a href="/regexp/syntax/parse_test.go.html#7359419">invalidRegexps</a></span>&nbsp;<span class="op" id="7360197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360201">if</span>&nbsp;<span class="ident" id="7360204">re</span><span class="op" id="7360206">,</span>&nbsp;<span class="ident" id="7360208">err</span>&nbsp;<span class="op" id="7360212">:=</span>&nbsp;<span class="ident" id="7360215"><a href="/regexp/syntax/parse.go.html#4761596">Parse</a></span><span class="op" id="7360220">(</span><span class="ident" id="7360221"><a href="/regexp/syntax/parse_test.go.html#7360166">regexp</a></span><span class="op" id="7360227">,</span>&nbsp;<span class="ident" id="7360229"><a href="/regexp/syntax/parse.go.html#4745226">Perl</a></span><span class="op" id="7360233">)</span><span class="op" id="7360234">;</span>&nbsp;<span class="ident" id="7360236"><a href="/regexp/syntax/parse_test.go.html#7360208">err</a></span>&nbsp;<span class="op" id="7360240">==</span>&nbsp;<span class="ident" id="7360243">nil</span>&nbsp;<span class="op" id="7360247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360252"><a href="/regexp/syntax/parse_test.go.html#7360142">t</a></span><span class="op" id="7360253">.</span><span class="ident" id="7360254">Errorf</span><span class="op" id="7360260">(</span><span class="string" id="7360261">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7360304">,</span>&nbsp;<span class="ident" id="7360306"><a href="/regexp/syntax/parse_test.go.html#7360166">regexp</a></span><span class="op" id="7360312">,</span>&nbsp;<span class="ident" id="7360314"><a href="/regexp/syntax/parse_test.go.html#7355821">dump</a></span><span class="op" id="7360318">(</span><span class="ident" id="7360319"><a href="/regexp/syntax/parse_test.go.html#7360204">re</a></span><span class="op" id="7360321">)</span><span class="op" id="7360322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360326">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360330">if</span>&nbsp;<span class="ident" id="7360333">re</span><span class="op" id="7360335">,</span>&nbsp;<span class="ident" id="7360337">err</span>&nbsp;<span class="op" id="7360341">:=</span>&nbsp;<span class="ident" id="7360344"><a href="/regexp/syntax/parse.go.html#4761596">Parse</a></span><span class="op" id="7360349">(</span><span class="ident" id="7360350"><a href="/regexp/syntax/parse_test.go.html#7360166">regexp</a></span><span class="op" id="7360356">,</span>&nbsp;<span class="ident" id="7360358"><a href="/regexp/syntax/parse.go.html#4745315">POSIX</a></span><span class="op" id="7360363">)</span><span class="op" id="7360364">;</span>&nbsp;<span class="ident" id="7360366"><a href="/regexp/syntax/parse_test.go.html#7360337">err</a></span>&nbsp;<span class="op" id="7360370">==</span>&nbsp;<span class="ident" id="7360373">nil</span>&nbsp;<span class="op" id="7360377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360382"><a href="/regexp/syntax/parse_test.go.html#7360142">t</a></span><span class="op" id="7360383">.</span><span class="ident" id="7360384">Errorf</span><span class="op" id="7360390">(</span><span class="string" id="7360391">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7360435">,</span>&nbsp;<span class="ident" id="7360437"><a href="/regexp/syntax/parse_test.go.html#7360166">regexp</a></span><span class="op" id="7360443">,</span>&nbsp;<span class="ident" id="7360445"><a href="/regexp/syntax/parse_test.go.html#7355821">dump</a></span><span class="op" id="7360449">(</span><span class="ident" id="7360450"><a href="/regexp/syntax/parse_test.go.html#7360333">re</a></span><span class="op" id="7360452">)</span><span class="op" id="7360453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360463">for</span>&nbsp;<span class="ident" id="7360467">_</span><span class="op" id="7360468">,</span>&nbsp;<span class="ident" id="7360470">regexp</span>&nbsp;<span class="op" id="7360477">:=</span>&nbsp;<span class="keyword" id="7360480">range</span>&nbsp;<span class="ident" id="7360486"><a href="/regexp/syntax/parse_test.go.html#7359892">onlyPerl</a></span>&nbsp;<span class="op" id="7360495">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360499">if</span>&nbsp;<span class="ident" id="7360502">_</span><span class="op" id="7360503">,</span>&nbsp;<span class="ident" id="7360505">err</span>&nbsp;<span class="op" id="7360509">:=</span>&nbsp;<span class="ident" id="7360512"><a href="/regexp/syntax/parse.go.html#4761596">Parse</a></span><span class="op" id="7360517">(</span><span class="ident" id="7360518"><a href="/regexp/syntax/parse_test.go.html#7360470">regexp</a></span><span class="op" id="7360524">,</span>&nbsp;<span class="ident" id="7360526"><a href="/regexp/syntax/parse.go.html#4745226">Perl</a></span><span class="op" id="7360530">)</span><span class="op" id="7360531">;</span>&nbsp;<span class="ident" id="7360533"><a href="/regexp/syntax/parse_test.go.html#7360505">err</a></span>&nbsp;<span class="op" id="7360537">!=</span>&nbsp;<span class="ident" id="7360540">nil</span>&nbsp;<span class="op" id="7360544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360549"><a href="/regexp/syntax/parse_test.go.html#7360142">t</a></span><span class="op" id="7360550">.</span><span class="ident" id="7360551">Errorf</span><span class="op" id="7360557">(</span><span class="string" id="7360558">&#34;Parse(%#q,&nbsp;Perl):&nbsp;%v&#34;</span><span class="op" id="7360580">,</span>&nbsp;<span class="ident" id="7360582"><a href="/regexp/syntax/parse_test.go.html#7360470">regexp</a></span><span class="op" id="7360588">,</span>&nbsp;<span class="ident" id="7360590"><a href="/regexp/syntax/parse_test.go.html#7360505">err</a></span><span class="op" id="7360593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360601">if</span>&nbsp;<span class="ident" id="7360604">re</span><span class="op" id="7360606">,</span>&nbsp;<span class="ident" id="7360608">err</span>&nbsp;<span class="op" id="7360612">:=</span>&nbsp;<span class="ident" id="7360615"><a href="/regexp/syntax/parse.go.html#4761596">Parse</a></span><span class="op" id="7360620">(</span><span class="ident" id="7360621"><a href="/regexp/syntax/parse_test.go.html#7360470">regexp</a></span><span class="op" id="7360627">,</span>&nbsp;<span class="ident" id="7360629"><a href="/regexp/syntax/parse.go.html#4745315">POSIX</a></span><span class="op" id="7360634">)</span><span class="op" id="7360635">;</span>&nbsp;<span class="ident" id="7360637"><a href="/regexp/syntax/parse_test.go.html#7360608">err</a></span>&nbsp;<span class="op" id="7360641">==</span>&nbsp;<span class="ident" id="7360644">nil</span>&nbsp;<span class="op" id="7360648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360653"><a href="/regexp/syntax/parse_test.go.html#7360142">t</a></span><span class="op" id="7360654">.</span><span class="ident" id="7360655">Errorf</span><span class="op" id="7360661">(</span><span class="string" id="7360662">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7360706">,</span>&nbsp;<span class="ident" id="7360708"><a href="/regexp/syntax/parse_test.go.html#7360470">regexp</a></span><span class="op" id="7360714">,</span>&nbsp;<span class="ident" id="7360716"><a href="/regexp/syntax/parse_test.go.html#7355821">dump</a></span><span class="op" id="7360720">(</span><span class="ident" id="7360721"><a href="/regexp/syntax/parse_test.go.html#7360604">re</a></span><span class="op" id="7360723">)</span><span class="op" id="7360724">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360734">for</span>&nbsp;<span class="ident" id="7360738">_</span><span class="op" id="7360739">,</span>&nbsp;<span class="ident" id="7360741">regexp</span>&nbsp;<span class="op" id="7360748">:=</span>&nbsp;<span class="keyword" id="7360751">range</span>&nbsp;<span class="ident" id="7360757"><a href="/regexp/syntax/parse_test.go.html#7360030">onlyPOSIX</a></span>&nbsp;<span class="op" id="7360767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360771">if</span>&nbsp;<span class="ident" id="7360774">re</span><span class="op" id="7360776">,</span>&nbsp;<span class="ident" id="7360778">err</span>&nbsp;<span class="op" id="7360782">:=</span>&nbsp;<span class="ident" id="7360785"><a href="/regexp/syntax/parse.go.html#4761596">Parse</a></span><span class="op" id="7360790">(</span><span class="ident" id="7360791"><a href="/regexp/syntax/parse_test.go.html#7360741">regexp</a></span><span class="op" id="7360797">,</span>&nbsp;<span class="ident" id="7360799"><a href="/regexp/syntax/parse.go.html#4745226">Perl</a></span><span class="op" id="7360803">)</span><span class="op" id="7360804">;</span>&nbsp;<span class="ident" id="7360806"><a href="/regexp/syntax/parse_test.go.html#7360778">err</a></span>&nbsp;<span class="op" id="7360810">==</span>&nbsp;<span class="ident" id="7360813">nil</span>&nbsp;<span class="op" id="7360817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360822"><a href="/regexp/syntax/parse_test.go.html#7360142">t</a></span><span class="op" id="7360823">.</span><span class="ident" id="7360824">Errorf</span><span class="op" id="7360830">(</span><span class="string" id="7360831">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7360874">,</span>&nbsp;<span class="ident" id="7360876"><a href="/regexp/syntax/parse_test.go.html#7360741">regexp</a></span><span class="op" id="7360882">,</span>&nbsp;<span class="ident" id="7360884"><a href="/regexp/syntax/parse_test.go.html#7355821">dump</a></span><span class="op" id="7360888">(</span><span class="ident" id="7360889"><a href="/regexp/syntax/parse_test.go.html#7360774">re</a></span><span class="op" id="7360891">)</span><span class="op" id="7360892">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7360896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7360900">if</span>&nbsp;<span class="ident" id="7360903">_</span><span class="op" id="7360904">,</span>&nbsp;<span class="ident" id="7360906">err</span>&nbsp;<span class="op" id="7360910">:=</span>&nbsp;<span class="ident" id="7360913"><a href="/regexp/syntax/parse.go.html#4761596">Parse</a></span><span class="op" id="7360918">(</span><span class="ident" id="7360919"><a href="/regexp/syntax/parse_test.go.html#7360741">regexp</a></span><span class="op" id="7360925">,</span>&nbsp;<span class="ident" id="7360927"><a href="/regexp/syntax/parse.go.html#4745315">POSIX</a></span><span class="op" id="7360932">)</span><span class="op" id="7360933">;</span>&nbsp;<span class="ident" id="7360935"><a href="/regexp/syntax/parse_test.go.html#7360906">err</a></span>&nbsp;<span class="op" id="7360939">!=</span>&nbsp;<span class="ident" id="7360942">nil</span>&nbsp;<span class="op" id="7360946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7360951"><a href="/regexp/syntax/parse_test.go.html#7360142">t</a></span><span class="op" id="7360952">.</span><span class="ident" id="7360953">Errorf</span><span class="op" id="7360959">(</span><span class="string" id="7360960">&#34;Parse(%#q,&nbsp;POSIX):&nbsp;%v&#34;</span><span class="op" id="7360983">,</span>&nbsp;<span class="ident" id="7360985"><a href="/regexp/syntax/parse_test.go.html#7360741">regexp</a></span><span class="op" id="7360991">,</span>&nbsp;<span class="ident" id="7360993"><a href="/regexp/syntax/parse_test.go.html#7360906">err</a></span><span class="op" id="7360996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7361000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7361003">}</span><br>
<span class="lineno">530</span><span class="op" id="7361005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7361008">func</span>&nbsp;<span class="ident" id="7361013">TestToStringEquivalentParse</span><span class="op" id="7361040">(</span><span class="ident" id="7361041">t</span>&nbsp;<span class="op" id="7361043">*</span><span class="ident" id="7361044"><a href="/regexp/syntax/parse_test.go.html#7347649">testing</a></span><span class="op" id="7361051">.</span><span class="ident" id="7361052">T</span><span class="op" id="7361053">)</span>&nbsp;<span class="op" id="7361055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361058">for</span>&nbsp;<span class="ident" id="7361062">_</span><span class="op" id="7361063">,</span>&nbsp;<span class="ident" id="7361065">tt</span>&nbsp;<span class="op" id="7361068">:=</span>&nbsp;<span class="keyword" id="7361071">range</span>&nbsp;<span class="ident" id="7361077"><a href="/regexp/syntax/parse_test.go.html#7347734">parseTests</a></span>&nbsp;<span class="op" id="7361088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361092">re</span><span class="op" id="7361094">,</span>&nbsp;<span class="ident" id="7361096">err</span>&nbsp;<span class="op" id="7361100">:=</span>&nbsp;<span class="ident" id="7361103"><a href="/regexp/syntax/parse.go.html#4761596">Parse</a></span><span class="op" id="7361108">(</span><span class="ident" id="7361109"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7361111">.</span><span class="ident" id="7361112">Regexp</span><span class="op" id="7361118">,</span>&nbsp;<span class="ident" id="7361120"><a href="/regexp/syntax/parse_test.go.html#7354035">testFlags</a></span><span class="op" id="7361129">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361133">if</span>&nbsp;<span class="ident" id="7361136"><a href="/regexp/syntax/parse_test.go.html#7361096">err</a></span>&nbsp;<span class="op" id="7361140">!=</span>&nbsp;<span class="ident" id="7361143">nil</span>&nbsp;<span class="op" id="7361147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361152"><a href="/regexp/syntax/parse_test.go.html#7361041">t</a></span><span class="op" id="7361153">.</span><span class="ident" id="7361154">Errorf</span><span class="op" id="7361160">(</span><span class="string" id="7361161">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7361177">,</span>&nbsp;<span class="ident" id="7361179"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7361181">.</span><span class="ident" id="7361182">Regexp</span><span class="op" id="7361188">,</span>&nbsp;<span class="ident" id="7361190"><a href="/regexp/syntax/parse_test.go.html#7361096">err</a></span><span class="op" id="7361193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361198">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7361209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361213">if</span>&nbsp;<span class="ident" id="7361216"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7361218">.</span><span class="ident" id="7361219">Dump</span>&nbsp;<span class="op" id="7361224">==</span>&nbsp;<span class="string" id="7361227">&#34;&#34;</span>&nbsp;<span class="op" id="7361230">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7361235">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361278">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7361289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361293">d</span>&nbsp;<span class="op" id="7361295">:=</span>&nbsp;<span class="ident" id="7361298"><a href="/regexp/syntax/parse_test.go.html#7355821">dump</a></span><span class="op" id="7361302">(</span><span class="ident" id="7361303"><a href="/regexp/syntax/parse_test.go.html#7361092">re</a></span><span class="op" id="7361305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361309">if</span>&nbsp;<span class="ident" id="7361312"><a href="/regexp/syntax/parse_test.go.html#7361293">d</a></span>&nbsp;<span class="op" id="7361314">!=</span>&nbsp;<span class="ident" id="7361317"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7361319">.</span><span class="ident" id="7361320">Dump</span>&nbsp;<span class="op" id="7361325">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361330"><a href="/regexp/syntax/parse_test.go.html#7361041">t</a></span><span class="op" id="7361331">.</span><span class="ident" id="7361332">Errorf</span><span class="op" id="7361338">(</span><span class="string" id="7361339">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7361373">,</span>&nbsp;<span class="ident" id="7361375"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7361377">.</span><span class="ident" id="7361378">Regexp</span><span class="op" id="7361384">,</span>&nbsp;<span class="ident" id="7361386"><a href="/regexp/syntax/parse_test.go.html#7361293">d</a></span><span class="op" id="7361387">,</span>&nbsp;<span class="ident" id="7361389"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7361391">.</span><span class="ident" id="7361392">Dump</span><span class="op" id="7361396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361401">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7361412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361417">s</span>&nbsp;<span class="op" id="7361419">:=</span>&nbsp;<span class="ident" id="7361422"><a href="/regexp/syntax/parse_test.go.html#7361092">re</a></span><span class="op" id="7361424">.</span><span class="ident" id="7361425">String</span><span class="op" id="7361431">(</span><span class="op" id="7361432">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361436">if</span>&nbsp;<span class="ident" id="7361439"><a href="/regexp/syntax/parse_test.go.html#7361417">s</a></span>&nbsp;<span class="op" id="7361441">!=</span>&nbsp;<span class="ident" id="7361444"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7361446">.</span><span class="ident" id="7361447">Regexp</span>&nbsp;<span class="op" id="7361454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7361459">//&nbsp;If&nbsp;ToString&nbsp;didn&#39;t&nbsp;return&nbsp;the&nbsp;original&nbsp;regexp,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7361512">//&nbsp;it&nbsp;must&nbsp;have&nbsp;found&nbsp;one&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7361560">//&nbsp;Unfortunately&nbsp;we&nbsp;can&#39;t&nbsp;check&nbsp;the&nbsp;length&nbsp;here,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7361620">//&nbsp;ToString&nbsp;produces&nbsp;&#34;\\{&#34;&nbsp;for&nbsp;a&nbsp;literal&nbsp;brace,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7361671">//&nbsp;but&nbsp;&#34;{&#34;&nbsp;is&nbsp;a&nbsp;shorter&nbsp;equivalent&nbsp;in&nbsp;some&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361727">nre</span><span class="op" id="7361730">,</span>&nbsp;<span class="ident" id="7361732">err</span>&nbsp;<span class="op" id="7361736">:=</span>&nbsp;<span class="ident" id="7361739"><a href="/regexp/syntax/parse.go.html#4761596">Parse</a></span><span class="op" id="7361744">(</span><span class="ident" id="7361745"><a href="/regexp/syntax/parse_test.go.html#7361417">s</a></span><span class="op" id="7361746">,</span>&nbsp;<span class="ident" id="7361748"><a href="/regexp/syntax/parse_test.go.html#7354035">testFlags</a></span><span class="op" id="7361757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361762">if</span>&nbsp;<span class="ident" id="7361765"><a href="/regexp/syntax/parse_test.go.html#7361732">err</a></span>&nbsp;<span class="op" id="7361769">!=</span>&nbsp;<span class="ident" id="7361772">nil</span>&nbsp;<span class="op" id="7361776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361782"><a href="/regexp/syntax/parse_test.go.html#7361041">t</a></span><span class="op" id="7361783">.</span><span class="ident" id="7361784">Errorf</span><span class="op" id="7361790">(</span><span class="string" id="7361791">&#34;Parse(%#q.String()&nbsp;=&nbsp;%#q):&nbsp;%v&#34;</span><span class="op" id="7361822">,</span>&nbsp;<span class="ident" id="7361824"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7361826">.</span><span class="ident" id="7361827">Regexp</span><span class="op" id="7361833">,</span>&nbsp;<span class="ident" id="7361835"><a href="/regexp/syntax/parse_test.go.html#7361417">s</a></span><span class="op" id="7361836">,</span>&nbsp;<span class="ident" id="7361838"><a href="/regexp/syntax/parse_test.go.html#7361732">err</a></span><span class="op" id="7361841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361847">continue</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7361859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361864">nd</span>&nbsp;<span class="op" id="7361867">:=</span>&nbsp;<span class="ident" id="7361870"><a href="/regexp/syntax/parse_test.go.html#7355821">dump</a></span><span class="op" id="7361874">(</span><span class="ident" id="7361875"><a href="/regexp/syntax/parse_test.go.html#7361727">nre</a></span><span class="op" id="7361878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361883">if</span>&nbsp;<span class="ident" id="7361886"><a href="/regexp/syntax/parse_test.go.html#7361293">d</a></span>&nbsp;<span class="op" id="7361888">!=</span>&nbsp;<span class="ident" id="7361891"><a href="/regexp/syntax/parse_test.go.html#7361864">nd</a></span>&nbsp;<span class="op" id="7361894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361900"><a href="/regexp/syntax/parse_test.go.html#7361041">t</a></span><span class="op" id="7361901">.</span><span class="ident" id="7361902">Errorf</span><span class="op" id="7361908">(</span><span class="string" id="7361909">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q;&nbsp;%#q&nbsp;vs&nbsp;%#q&#34;</span><span class="op" id="7361940">,</span>&nbsp;<span class="ident" id="7361942"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7361944">.</span><span class="ident" id="7361945">Regexp</span><span class="op" id="7361951">,</span>&nbsp;<span class="ident" id="7361953"><a href="/regexp/syntax/parse_test.go.html#7361417">s</a></span><span class="op" id="7361954">,</span>&nbsp;<span class="ident" id="7361956"><a href="/regexp/syntax/parse_test.go.html#7361293">d</a></span><span class="op" id="7361957">,</span>&nbsp;<span class="ident" id="7361959"><a href="/regexp/syntax/parse_test.go.html#7361864">nd</a></span><span class="op" id="7361961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7361966">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7361972">ns</span>&nbsp;<span class="op" id="7361975">:=</span>&nbsp;<span class="ident" id="7361978"><a href="/regexp/syntax/parse_test.go.html#7361727">nre</a></span><span class="op" id="7361981">.</span><span class="ident" id="7361982">String</span><span class="op" id="7361988">(</span><span class="op" id="7361989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7361994">if</span>&nbsp;<span class="ident" id="7361997"><a href="/regexp/syntax/parse_test.go.html#7361417">s</a></span>&nbsp;<span class="op" id="7361999">!=</span>&nbsp;<span class="ident" id="7362002"><a href="/regexp/syntax/parse_test.go.html#7361972">ns</a></span>&nbsp;<span class="op" id="7362005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7362011"><a href="/regexp/syntax/parse_test.go.html#7361041">t</a></span><span class="op" id="7362012">.</span><span class="ident" id="7362013">Errorf</span><span class="op" id="7362019">(</span><span class="string" id="7362020">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q&nbsp;-&gt;&nbsp;%#q&#34;</span><span class="op" id="7362046">,</span>&nbsp;<span class="ident" id="7362048"><a href="/regexp/syntax/parse_test.go.html#7361065">tt</a></span><span class="op" id="7362050">.</span><span class="ident" id="7362051">Regexp</span><span class="op" id="7362057">,</span>&nbsp;<span class="ident" id="7362059"><a href="/regexp/syntax/parse_test.go.html#7361417">s</a></span><span class="op" id="7362060">,</span>&nbsp;<span class="ident" id="7362062"><a href="/regexp/syntax/parse_test.go.html#7361972">ns</a></span><span class="op" id="7362064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7362069">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7362073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7362076">}</span><br>
<span class="lineno"></span><span class="op" id="7362078">}</span>
</div>
</body>
</html>
