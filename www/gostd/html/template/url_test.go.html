<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html" class="current">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7459696">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7459751">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7459805">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7459856">package</span>&nbsp;<span class="ident" id="7459864">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459874">import</span>&nbsp;<span class="op" id="7459881">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7459884">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7459894">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7459897">func</span>&nbsp;<span class="ident" id="7459902">TestURLNormalizer</span><span class="op" id="7459919">(</span><span class="ident" id="7459920">t</span>&nbsp;<span class="op" id="7459922">*</span><span class="ident" id="7459923">testing</span><span class="op" id="7459930">.</span><span class="ident" id="7459931">T</span><span class="op" id="7459932">)</span>&nbsp;<span class="op" id="7459934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459937">tests</span>&nbsp;<span class="op" id="7459943">:=</span>&nbsp;<span class="op" id="7459946">[</span><span class="op" id="7459947">]</span><span class="keyword" id="7459948">struct</span>&nbsp;<span class="op" id="7459955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459959">url</span><span class="op" id="7459962">,</span>&nbsp;<span class="ident" id="7459964">want</span>&nbsp;<span class="builtintype" id="7459969">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459977">}</span><span class="op" id="7459978">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459982">{</span><span class="string" id="7459983">&#34;&#34;</span><span class="op" id="7459985">,</span>&nbsp;<span class="string" id="7459987">&#34;&#34;</span><span class="op" id="7459989">}</span><span class="op" id="7459990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7459999">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7460052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7460057">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7460110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460114">}</span><span class="op" id="7460115">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460119">{</span><span class="string" id="7460120">&#34;&nbsp;&#34;</span><span class="op" id="7460123">,</span>&nbsp;<span class="string" id="7460125">&#34;%20&#34;</span><span class="op" id="7460130">}</span><span class="op" id="7460131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460135">{</span><span class="string" id="7460136">&#34;%7c&#34;</span><span class="op" id="7460141">,</span>&nbsp;<span class="string" id="7460143">&#34;%7c&#34;</span><span class="op" id="7460148">}</span><span class="op" id="7460149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460153">{</span><span class="string" id="7460154">&#34;%7C&#34;</span><span class="op" id="7460159">,</span>&nbsp;<span class="string" id="7460161">&#34;%7C&#34;</span><span class="op" id="7460166">}</span><span class="op" id="7460167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460171">{</span><span class="string" id="7460172">&#34;%2&#34;</span><span class="op" id="7460176">,</span>&nbsp;<span class="string" id="7460178">&#34;%252&#34;</span><span class="op" id="7460184">}</span><span class="op" id="7460185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460189">{</span><span class="string" id="7460190">&#34;%&#34;</span><span class="op" id="7460193">,</span>&nbsp;<span class="string" id="7460195">&#34;%25&#34;</span><span class="op" id="7460200">}</span><span class="op" id="7460201">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460205">{</span><span class="string" id="7460206">&#34;%z&#34;</span><span class="op" id="7460210">,</span>&nbsp;<span class="string" id="7460212">&#34;%25z&#34;</span><span class="op" id="7460218">}</span><span class="op" id="7460219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460223">{</span><span class="string" id="7460224">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="7460244">,</span>&nbsp;<span class="string" id="7460246">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="7460271">}</span><span class="op" id="7460272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460278">for</span>&nbsp;<span class="ident" id="7460282">_</span><span class="op" id="7460283">,</span>&nbsp;<span class="ident" id="7460285">test</span>&nbsp;<span class="op" id="7460290">:=</span>&nbsp;<span class="keyword" id="7460293">range</span>&nbsp;<span class="ident" id="7460299">tests</span>&nbsp;<span class="op" id="7460305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460309">if</span>&nbsp;<span class="ident" id="7460312">got</span>&nbsp;<span class="op" id="7460316">:=</span>&nbsp;<span class="ident" id="7460319">urlNormalizer</span><span class="op" id="7460332">(</span><span class="ident" id="7460333">test</span><span class="op" id="7460337">.</span><span class="ident" id="7460338">url</span><span class="op" id="7460341">)</span><span class="op" id="7460342">;</span>&nbsp;<span class="ident" id="7460344">test</span><span class="op" id="7460348">.</span><span class="ident" id="7460349">want</span>&nbsp;<span class="op" id="7460354">!=</span>&nbsp;<span class="ident" id="7460357">got</span>&nbsp;<span class="op" id="7460361">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460366">t</span><span class="op" id="7460367">.</span><span class="ident" id="7460368">Errorf</span><span class="op" id="7460374">(</span><span class="string" id="7460375">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="7460406">,</span>&nbsp;<span class="ident" id="7460408">test</span><span class="op" id="7460412">.</span><span class="ident" id="7460413">url</span><span class="op" id="7460416">,</span>&nbsp;<span class="ident" id="7460418">test</span><span class="op" id="7460422">.</span><span class="ident" id="7460423">want</span><span class="op" id="7460427">,</span>&nbsp;<span class="ident" id="7460429">got</span><span class="op" id="7460432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460440">if</span>&nbsp;<span class="ident" id="7460443">test</span><span class="op" id="7460447">.</span><span class="ident" id="7460448">want</span>&nbsp;<span class="op" id="7460453">!=</span>&nbsp;<span class="ident" id="7460456">urlNormalizer</span><span class="op" id="7460469">(</span><span class="ident" id="7460470">test</span><span class="op" id="7460474">.</span><span class="ident" id="7460475">want</span><span class="op" id="7460479">)</span>&nbsp;<span class="op" id="7460481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460486">t</span><span class="op" id="7460487">.</span><span class="ident" id="7460488">Errorf</span><span class="op" id="7460494">(</span><span class="string" id="7460495">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="7460515">,</span>&nbsp;<span class="ident" id="7460517">test</span><span class="op" id="7460521">.</span><span class="ident" id="7460522">want</span><span class="op" id="7460526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460530">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460533">}</span><br>
<span class="lineno"></span><span class="op" id="7460535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7460538">func</span>&nbsp;<span class="ident" id="7460543">TestURLFilters</span><span class="op" id="7460557">(</span><span class="ident" id="7460558">t</span>&nbsp;<span class="op" id="7460560">*</span><span class="ident" id="7460561">testing</span><span class="op" id="7460568">.</span><span class="ident" id="7460569">T</span><span class="op" id="7460570">)</span>&nbsp;<span class="op" id="7460572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460575">input</span>&nbsp;<span class="op" id="7460581">:=</span>&nbsp;<span class="op" id="7460584">(</span><span class="string" id="7460585">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="7460646">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7460650">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="7460717">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7460721">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="7460740">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7460744">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="7460763">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7460767">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="7460786">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7460790">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="7460809">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7460813">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7460832">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7460836">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="7460858">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7460862">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="7460904">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460908">tests</span>&nbsp;<span class="op" id="7460914">:=</span>&nbsp;<span class="op" id="7460917">[</span><span class="op" id="7460918">]</span><span class="keyword" id="7460919">struct</span>&nbsp;<span class="op" id="7460926">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460930">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7460938">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460947">escaper</span>&nbsp;<span class="keyword" id="7460955">func</span><span class="op" id="7460959">(</span><span class="op" id="7460960">...</span><span class="keyword" id="7460963">interface</span><span class="op" id="7460972">{</span><span class="op" id="7460973">}</span><span class="op" id="7460974">)</span>&nbsp;<span class="builtintype" id="7460976">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460985">escaped</span>&nbsp;<span class="builtintype" id="7460993">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461001">}</span><span class="op" id="7461002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461006">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461011">&#34;urlEscaper&#34;</span><span class="op" id="7461023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461028">urlEscaper</span><span class="op" id="7461038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461043">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7461094">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461100">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7461151">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461157">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="7461204">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461210">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="7461241">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461247">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7461268">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461274">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="7461301">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461307">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7461328">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461334">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7461361">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461367">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7461420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461424">}</span><span class="op" id="7461425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461434">&#34;urlNormalizer&#34;</span><span class="op" id="7461449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461454">urlNormalizer</span><span class="op" id="7461467">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461472">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7461523">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461529">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7461580">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461586">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="7461617">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461623">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="7461646">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461652">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7461671">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461677">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="7461700">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461706">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7461727">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461733">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7461760">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7461766">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7461819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461823">}</span><span class="op" id="7461824">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461831">for</span>&nbsp;<span class="ident" id="7461835">_</span><span class="op" id="7461836">,</span>&nbsp;<span class="ident" id="7461838">test</span>&nbsp;<span class="op" id="7461843">:=</span>&nbsp;<span class="keyword" id="7461846">range</span>&nbsp;<span class="ident" id="7461852">tests</span>&nbsp;<span class="op" id="7461858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461862">if</span>&nbsp;<span class="ident" id="7461865">s</span>&nbsp;<span class="op" id="7461867">:=</span>&nbsp;<span class="ident" id="7461870">test</span><span class="op" id="7461874">.</span><span class="ident" id="7461875">escaper</span><span class="op" id="7461882">(</span><span class="ident" id="7461883">input</span><span class="op" id="7461888">)</span><span class="op" id="7461889">;</span>&nbsp;<span class="ident" id="7461891">s</span>&nbsp;<span class="op" id="7461893">!=</span>&nbsp;<span class="ident" id="7461896">test</span><span class="op" id="7461900">.</span><span class="ident" id="7461901">escaped</span>&nbsp;<span class="op" id="7461909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461914">t</span><span class="op" id="7461915">.</span><span class="ident" id="7461916">Errorf</span><span class="op" id="7461922">(</span><span class="string" id="7461923">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="7461950">,</span>&nbsp;<span class="ident" id="7461952">test</span><span class="op" id="7461956">.</span><span class="ident" id="7461957">name</span><span class="op" id="7461961">,</span>&nbsp;<span class="ident" id="7461963">test</span><span class="op" id="7461967">.</span><span class="ident" id="7461968">escaped</span><span class="op" id="7461975">,</span>&nbsp;<span class="ident" id="7461977">s</span><span class="op" id="7461978">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7461983">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461997">}</span><br>
<span class="lineno"></span><span class="op" id="7461999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7462002">func</span>&nbsp;<span class="ident" id="7462007">BenchmarkURLEscaper</span><span class="op" id="7462026">(</span><span class="ident" id="7462027">b</span>&nbsp;<span class="op" id="7462029">*</span><span class="ident" id="7462030">testing</span><span class="op" id="7462037">.</span><span class="ident" id="7462038">B</span><span class="op" id="7462039">)</span>&nbsp;<span class="op" id="7462041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462044">for</span>&nbsp;<span class="ident" id="7462048">i</span>&nbsp;<span class="op" id="7462050">:=</span>&nbsp;<span class="num" id="7462053">0</span><span class="op" id="7462054">;</span>&nbsp;<span class="ident" id="7462056">i</span>&nbsp;<span class="op" id="7462058">&lt;</span>&nbsp;<span class="ident" id="7462060">b</span><span class="op" id="7462061">.</span><span class="ident" id="7462062">N</span><span class="op" id="7462063">;</span>&nbsp;<span class="ident" id="7462065">i</span><span class="op" id="7462066">++</span>&nbsp;<span class="op" id="7462069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462073">urlEscaper</span><span class="op" id="7462083">(</span><span class="string" id="7462084">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7462133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462136">}</span><br>
<span class="lineno"></span><span class="op" id="7462138">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="7462141">func</span>&nbsp;<span class="ident" id="7462146">BenchmarkURLEscaperNoSpecials</span><span class="op" id="7462175">(</span><span class="ident" id="7462176">b</span>&nbsp;<span class="op" id="7462178">*</span><span class="ident" id="7462179">testing</span><span class="op" id="7462186">.</span><span class="ident" id="7462187">B</span><span class="op" id="7462188">)</span>&nbsp;<span class="op" id="7462190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462193">for</span>&nbsp;<span class="ident" id="7462197">i</span>&nbsp;<span class="op" id="7462199">:=</span>&nbsp;<span class="num" id="7462202">0</span><span class="op" id="7462203">;</span>&nbsp;<span class="ident" id="7462205">i</span>&nbsp;<span class="op" id="7462207">&lt;</span>&nbsp;<span class="ident" id="7462209">b</span><span class="op" id="7462210">.</span><span class="ident" id="7462211">N</span><span class="op" id="7462212">;</span>&nbsp;<span class="ident" id="7462214">i</span><span class="op" id="7462215">++</span>&nbsp;<span class="op" id="7462218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462222">urlEscaper</span><span class="op" id="7462232">(</span><span class="string" id="7462233">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="7462271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462274">}</span><br>
<span class="lineno">100</span><span class="op" id="7462276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7462279">func</span>&nbsp;<span class="ident" id="7462284">BenchmarkURLNormalizer</span><span class="op" id="7462306">(</span><span class="ident" id="7462307">b</span>&nbsp;<span class="op" id="7462309">*</span><span class="ident" id="7462310">testing</span><span class="op" id="7462317">.</span><span class="ident" id="7462318">B</span><span class="op" id="7462319">)</span>&nbsp;<span class="op" id="7462321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462324">for</span>&nbsp;<span class="ident" id="7462328">i</span>&nbsp;<span class="op" id="7462330">:=</span>&nbsp;<span class="num" id="7462333">0</span><span class="op" id="7462334">;</span>&nbsp;<span class="ident" id="7462336">i</span>&nbsp;<span class="op" id="7462338">&lt;</span>&nbsp;<span class="ident" id="7462340">b</span><span class="op" id="7462341">.</span><span class="ident" id="7462342">N</span><span class="op" id="7462343">;</span>&nbsp;<span class="ident" id="7462345">i</span><span class="op" id="7462346">++</span>&nbsp;<span class="op" id="7462349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462353">urlNormalizer</span><span class="op" id="7462366">(</span><span class="string" id="7462367">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="7462415">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462418">}</span><br>
<span class="lineno"></span><span class="op" id="7462420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7462423">func</span>&nbsp;<span class="ident" id="7462428">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="7462460">(</span><span class="ident" id="7462461">b</span>&nbsp;<span class="op" id="7462463">*</span><span class="ident" id="7462464">testing</span><span class="op" id="7462471">.</span><span class="ident" id="7462472">B</span><span class="op" id="7462473">)</span>&nbsp;<span class="op" id="7462475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462478">for</span>&nbsp;<span class="ident" id="7462482">i</span>&nbsp;<span class="op" id="7462484">:=</span>&nbsp;<span class="num" id="7462487">0</span><span class="op" id="7462488">;</span>&nbsp;<span class="ident" id="7462490">i</span>&nbsp;<span class="op" id="7462492">&lt;</span>&nbsp;<span class="ident" id="7462494">b</span><span class="op" id="7462495">.</span><span class="ident" id="7462496">N</span><span class="op" id="7462497">;</span>&nbsp;<span class="ident" id="7462499">i</span><span class="op" id="7462500">++</span>&nbsp;<span class="op" id="7462503">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462507">urlNormalizer</span><span class="op" id="7462520">(</span><span class="string" id="7462521">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7462570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462573">}</span><br>
<span class="lineno"></span><span class="op" id="7462575">}</span>
</div>
</body>
</html>
