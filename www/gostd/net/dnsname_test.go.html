<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8219523">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8219578">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8219632">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8219683">package</span>&nbsp;<span class="ident" id="8219691">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8219696">import</span>&nbsp;<span class="op" id="8219703">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8219706">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8219717">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8219727">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8219730">type</span>&nbsp;<span class="ident" id="8219735">testCase</span>&nbsp;<span class="keyword" id="8219744">struct</span>&nbsp;<span class="op" id="8219751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219754">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8219761">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219769">result</span>&nbsp;<span class="builtintype" id="8219776">bool</span><br>
<span class="lineno">15</span><span class="op" id="8219781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8219784">var</span>&nbsp;<span class="ident" id="8219788">tests</span>&nbsp;<span class="op" id="8219794">=</span>&nbsp;<span class="op" id="8219796">[</span><span class="op" id="8219797">]</span><span class="ident" id="8219798">testCase</span><span class="op" id="8219806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8219809">//&nbsp;RFC2181,&nbsp;section&nbsp;11.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219834">{</span><span class="string" id="8219835">&#34;_xmpp-server._tcp.google.com&#34;</span><span class="op" id="8219865">,</span>&nbsp;<span class="builtintype" id="8219867">true</span><span class="op" id="8219871">}</span><span class="op" id="8219872">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219875">{</span><span class="string" id="8219876">&#34;foo.com&#34;</span><span class="op" id="8219885">,</span>&nbsp;<span class="builtintype" id="8219887">true</span><span class="op" id="8219891">}</span><span class="op" id="8219892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219895">{</span><span class="string" id="8219896">&#34;1foo.com&#34;</span><span class="op" id="8219906">,</span>&nbsp;<span class="builtintype" id="8219908">true</span><span class="op" id="8219912">}</span><span class="op" id="8219913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219916">{</span><span class="string" id="8219917">&#34;26.0.0.73.com&#34;</span><span class="op" id="8219932">,</span>&nbsp;<span class="builtintype" id="8219934">true</span><span class="op" id="8219938">}</span><span class="op" id="8219939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219942">{</span><span class="string" id="8219943">&#34;fo-o.com&#34;</span><span class="op" id="8219953">,</span>&nbsp;<span class="builtintype" id="8219955">true</span><span class="op" id="8219959">}</span><span class="op" id="8219960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219963">{</span><span class="string" id="8219964">&#34;fo1o.com&#34;</span><span class="op" id="8219974">,</span>&nbsp;<span class="builtintype" id="8219976">true</span><span class="op" id="8219980">}</span><span class="op" id="8219981">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219984">{</span><span class="string" id="8219985">&#34;foo1.com&#34;</span><span class="op" id="8219995">,</span>&nbsp;<span class="builtintype" id="8219997">true</span><span class="op" id="8220001">}</span><span class="op" id="8220002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220005">{</span><span class="string" id="8220006">&#34;a.b..com&#34;</span><span class="op" id="8220016">,</span>&nbsp;<span class="builtintype" id="8220018">false</span><span class="op" id="8220023">}</span><span class="op" id="8220024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220027">{</span><span class="string" id="8220028">&#34;a.b-.com&#34;</span><span class="op" id="8220038">,</span>&nbsp;<span class="builtintype" id="8220040">false</span><span class="op" id="8220045">}</span><span class="op" id="8220046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220049">{</span><span class="string" id="8220050">&#34;a.b.com-&#34;</span><span class="op" id="8220060">,</span>&nbsp;<span class="builtintype" id="8220062">false</span><span class="op" id="8220067">}</span><span class="op" id="8220068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220071">{</span><span class="string" id="8220072">&#34;a.b..&#34;</span><span class="op" id="8220079">,</span>&nbsp;<span class="builtintype" id="8220081">false</span><span class="op" id="8220086">}</span><span class="op" id="8220087">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220090">{</span><span class="string" id="8220091">&#34;b.com.&#34;</span><span class="op" id="8220099">,</span>&nbsp;<span class="builtintype" id="8220101">true</span><span class="op" id="8220105">}</span><span class="op" id="8220106">,</span><br>
<span class="lineno"></span><span class="op" id="8220108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8220111">func</span>&nbsp;<span class="ident" id="8220116">getTestCases</span><span class="op" id="8220128">(</span><span class="ident" id="8220129">ch</span>&nbsp;<span class="keyword" id="8220132">chan</span><span class="op" id="8220136">&lt;-</span>&nbsp;<span class="ident" id="8220139">testCase</span><span class="op" id="8220147">)</span>&nbsp;<span class="op" id="8220149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220152">defer</span>&nbsp;<span class="builtinfunc" id="8220158">close</span><span class="op" id="8220163">(</span><span class="ident" id="8220164">ch</span><span class="op" id="8220166">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220169">var</span>&nbsp;<span class="ident" id="8220173">char59</span>&nbsp;<span class="op" id="8220180">=</span>&nbsp;<span class="string" id="8220182">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220186">var</span>&nbsp;<span class="ident" id="8220190">char63</span>&nbsp;<span class="op" id="8220197">=</span>&nbsp;<span class="string" id="8220199">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220203">var</span>&nbsp;<span class="ident" id="8220207">char64</span>&nbsp;<span class="op" id="8220214">=</span>&nbsp;<span class="string" id="8220216">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220220">for</span>&nbsp;<span class="ident" id="8220224">i</span>&nbsp;<span class="op" id="8220226">:=</span>&nbsp;<span class="num" id="8220229">0</span><span class="op" id="8220230">;</span>&nbsp;<span class="ident" id="8220232">i</span>&nbsp;<span class="op" id="8220234">&lt;</span>&nbsp;<span class="num" id="8220236">59</span><span class="op" id="8220238">;</span>&nbsp;<span class="ident" id="8220240">i</span><span class="op" id="8220241">++</span>&nbsp;<span class="op" id="8220244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220248">char59</span>&nbsp;<span class="op" id="8220255">+=</span>&nbsp;<span class="string" id="8220258">&#34;a&#34;</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220266">char63</span>&nbsp;<span class="op" id="8220273">=</span>&nbsp;<span class="ident" id="8220275">char59</span>&nbsp;<span class="op" id="8220282">+</span>&nbsp;<span class="string" id="8220284">&#34;aaaa&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220292">char64</span>&nbsp;<span class="op" id="8220299">=</span>&nbsp;<span class="ident" id="8220301">char63</span>&nbsp;<span class="op" id="8220308">+</span>&nbsp;<span class="string" id="8220310">&#34;a&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220316">for</span>&nbsp;<span class="ident" id="8220320">_</span><span class="op" id="8220321">,</span>&nbsp;<span class="ident" id="8220323">tc</span>&nbsp;<span class="op" id="8220326">:=</span>&nbsp;<span class="keyword" id="8220329">range</span>&nbsp;<span class="ident" id="8220335">tests</span>&nbsp;<span class="op" id="8220341">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220345">ch</span>&nbsp;<span class="op" id="8220348">&lt;-</span>&nbsp;<span class="ident" id="8220351">tc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220359">ch</span>&nbsp;<span class="op" id="8220362">&lt;-</span>&nbsp;<span class="ident" id="8220365">testCase</span><span class="op" id="8220373">{</span><span class="ident" id="8220374">char63</span>&nbsp;<span class="op" id="8220381">+</span>&nbsp;<span class="string" id="8220383">&#34;.com&#34;</span><span class="op" id="8220389">,</span>&nbsp;<span class="builtintype" id="8220391">true</span><span class="op" id="8220395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220398">ch</span>&nbsp;<span class="op" id="8220401">&lt;-</span>&nbsp;<span class="ident" id="8220404">testCase</span><span class="op" id="8220412">{</span><span class="ident" id="8220413">char64</span>&nbsp;<span class="op" id="8220420">+</span>&nbsp;<span class="string" id="8220422">&#34;.com&#34;</span><span class="op" id="8220428">,</span>&nbsp;<span class="builtintype" id="8220430">false</span><span class="op" id="8220435">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8220438">//&nbsp;255&nbsp;char&nbsp;name&nbsp;is&nbsp;fine:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220465">ch</span>&nbsp;<span class="op" id="8220468">&lt;-</span>&nbsp;<span class="ident" id="8220471">testCase</span><span class="op" id="8220479">{</span><span class="ident" id="8220480">char59</span>&nbsp;<span class="op" id="8220487">+</span>&nbsp;<span class="string" id="8220489">&#34;.&#34;</span>&nbsp;<span class="op" id="8220493">+</span>&nbsp;<span class="ident" id="8220495">char63</span>&nbsp;<span class="op" id="8220502">+</span>&nbsp;<span class="string" id="8220504">&#34;.&#34;</span>&nbsp;<span class="op" id="8220508">+</span>&nbsp;<span class="ident" id="8220510">char63</span>&nbsp;<span class="op" id="8220517">+</span>&nbsp;<span class="string" id="8220519">&#34;.&#34;</span>&nbsp;<span class="op" id="8220523">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220527">char63</span>&nbsp;<span class="op" id="8220534">+</span>&nbsp;<span class="string" id="8220536">&#34;.com&#34;</span><span class="op" id="8220542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8220546">true</span><span class="op" id="8220550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8220553">//&nbsp;256&nbsp;char&nbsp;name&nbsp;is&nbsp;bad:</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220579">ch</span>&nbsp;<span class="op" id="8220582">&lt;-</span>&nbsp;<span class="ident" id="8220585">testCase</span><span class="op" id="8220593">{</span><span class="ident" id="8220594">char59</span>&nbsp;<span class="op" id="8220601">+</span>&nbsp;<span class="string" id="8220603">&#34;a.&#34;</span>&nbsp;<span class="op" id="8220608">+</span>&nbsp;<span class="ident" id="8220610">char63</span>&nbsp;<span class="op" id="8220617">+</span>&nbsp;<span class="string" id="8220619">&#34;.&#34;</span>&nbsp;<span class="op" id="8220623">+</span>&nbsp;<span class="ident" id="8220625">char63</span>&nbsp;<span class="op" id="8220632">+</span>&nbsp;<span class="string" id="8220634">&#34;.&#34;</span>&nbsp;<span class="op" id="8220638">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220642">char63</span>&nbsp;<span class="op" id="8220649">+</span>&nbsp;<span class="string" id="8220651">&#34;.com&#34;</span><span class="op" id="8220657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8220661">false</span><span class="op" id="8220666">}</span><br>
<span class="lineno"></span><span class="op" id="8220668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8220671">func</span>&nbsp;<span class="ident" id="8220676">TestDNSNames</span><span class="op" id="8220688">(</span><span class="ident" id="8220689">t</span>&nbsp;<span class="op" id="8220691">*</span><span class="ident" id="8220692">testing</span><span class="op" id="8220699">.</span><span class="ident" id="8220700">T</span><span class="op" id="8220701">)</span>&nbsp;<span class="op" id="8220703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220706">ch</span>&nbsp;<span class="op" id="8220709">:=</span>&nbsp;<span class="builtinfunc" id="8220712">make</span><span class="op" id="8220716">(</span><span class="keyword" id="8220717">chan</span>&nbsp;<span class="ident" id="8220722">testCase</span><span class="op" id="8220730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220733">go</span>&nbsp;<span class="ident" id="8220736">getTestCases</span><span class="op" id="8220748">(</span><span class="ident" id="8220749">ch</span><span class="op" id="8220751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220754">for</span>&nbsp;<span class="ident" id="8220758">tc</span>&nbsp;<span class="op" id="8220761">:=</span>&nbsp;<span class="keyword" id="8220764">range</span>&nbsp;<span class="ident" id="8220770">ch</span>&nbsp;<span class="op" id="8220773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220777">if</span>&nbsp;<span class="ident" id="8220780">isDomainName</span><span class="op" id="8220792">(</span><span class="ident" id="8220793">tc</span><span class="op" id="8220795">.</span><span class="ident" id="8220796">name</span><span class="op" id="8220800">)</span>&nbsp;<span class="op" id="8220802">!=</span>&nbsp;<span class="ident" id="8220805">tc</span><span class="op" id="8220807">.</span><span class="ident" id="8220808">result</span>&nbsp;<span class="op" id="8220815">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220820">t</span><span class="op" id="8220821">.</span><span class="ident" id="8220822">Errorf</span><span class="op" id="8220828">(</span><span class="string" id="8220829">&#34;isDomainName(%v)&nbsp;failed:&nbsp;Should&nbsp;be&nbsp;%v&#34;</span><span class="op" id="8220868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220874">tc</span><span class="op" id="8220876">.</span><span class="ident" id="8220877">name</span><span class="op" id="8220881">,</span>&nbsp;<span class="ident" id="8220883">tc</span><span class="op" id="8220885">.</span><span class="ident" id="8220886">result</span><span class="op" id="8220892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220899">}</span><br>
<span class="lineno"></span><span class="op" id="8220901">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8220904">func</span>&nbsp;<span class="ident" id="8220909">BenchmarkDNSNames</span><span class="op" id="8220926">(</span><span class="ident" id="8220927">b</span>&nbsp;<span class="op" id="8220929">*</span><span class="ident" id="8220930">testing</span><span class="op" id="8220937">.</span><span class="ident" id="8220938">B</span><span class="op" id="8220939">)</span>&nbsp;<span class="op" id="8220941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220944">benchmarks</span>&nbsp;<span class="op" id="8220955">:=</span>&nbsp;<span class="builtinfunc" id="8220958">append</span><span class="op" id="8220964">(</span><span class="ident" id="8220965">tests</span><span class="op" id="8220970">,</span>&nbsp;<span class="op" id="8220972">[</span><span class="op" id="8220973">]</span><span class="ident" id="8220974">testCase</span><span class="op" id="8220982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220986">{</span><span class="ident" id="8220987">strings</span><span class="op" id="8220994">.</span><span class="ident" id="8220995">Repeat</span><span class="op" id="8221001">(</span><span class="string" id="8221002">&#34;a&#34;</span><span class="op" id="8221005">,</span>&nbsp;<span class="num" id="8221007">63</span><span class="op" id="8221009">)</span><span class="op" id="8221010">,</span>&nbsp;<span class="builtintype" id="8221012">true</span><span class="op" id="8221016">}</span><span class="op" id="8221017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221021">{</span><span class="ident" id="8221022">strings</span><span class="op" id="8221029">.</span><span class="ident" id="8221030">Repeat</span><span class="op" id="8221036">(</span><span class="string" id="8221037">&#34;a&#34;</span><span class="op" id="8221040">,</span>&nbsp;<span class="num" id="8221042">64</span><span class="op" id="8221044">)</span><span class="op" id="8221045">,</span>&nbsp;<span class="builtintype" id="8221047">false</span><span class="op" id="8221052">}</span><span class="op" id="8221053">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221056">}</span><span class="op" id="8221057">...</span><span class="op" id="8221060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221063">for</span>&nbsp;<span class="ident" id="8221067">n</span>&nbsp;<span class="op" id="8221069">:=</span>&nbsp;<span class="num" id="8221072">0</span><span class="op" id="8221073">;</span>&nbsp;<span class="ident" id="8221075">n</span>&nbsp;<span class="op" id="8221077">&lt;</span>&nbsp;<span class="ident" id="8221079">b</span><span class="op" id="8221080">.</span><span class="ident" id="8221081">N</span><span class="op" id="8221082">;</span>&nbsp;<span class="ident" id="8221084">n</span><span class="op" id="8221085">++</span>&nbsp;<span class="op" id="8221088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221092">for</span>&nbsp;<span class="ident" id="8221096">_</span><span class="op" id="8221097">,</span>&nbsp;<span class="ident" id="8221099">tc</span>&nbsp;<span class="op" id="8221102">:=</span>&nbsp;<span class="keyword" id="8221105">range</span>&nbsp;<span class="ident" id="8221111">benchmarks</span>&nbsp;<span class="op" id="8221122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221127">if</span>&nbsp;<span class="ident" id="8221130">isDomainName</span><span class="op" id="8221142">(</span><span class="ident" id="8221143">tc</span><span class="op" id="8221145">.</span><span class="ident" id="8221146">name</span><span class="op" id="8221150">)</span>&nbsp;<span class="op" id="8221152">!=</span>&nbsp;<span class="ident" id="8221155">tc</span><span class="op" id="8221157">.</span><span class="ident" id="8221158">result</span>&nbsp;<span class="op" id="8221165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221171">b</span><span class="op" id="8221172">.</span><span class="ident" id="8221173">Errorf</span><span class="op" id="8221179">(</span><span class="string" id="8221180">&#34;isDomainName(%q)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8221212">,</span>&nbsp;<span class="ident" id="8221214">tc</span><span class="op" id="8221216">.</span><span class="ident" id="8221217">name</span><span class="op" id="8221221">,</span>&nbsp;<span class="op" id="8221223">!</span><span class="ident" id="8221224">tc</span><span class="op" id="8221226">.</span><span class="ident" id="8221227">result</span><span class="op" id="8221233">,</span>&nbsp;<span class="ident" id="8221235">tc</span><span class="op" id="8221237">.</span><span class="ident" id="8221238">result</span><span class="op" id="8221244">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221256">}</span><br>
<span class="lineno"></span><span class="op" id="8221258">}</span>
</div>
</body>
</html>
