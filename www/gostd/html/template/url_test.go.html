<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8116488">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8116543">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8116597">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8116648">package</span>&nbsp;<span class="ident" id="8116656">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8116666">import</span>&nbsp;<span class="op" id="8116673">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8116676">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8116686">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8116689">func</span>&nbsp;<span class="ident" id="8116694">TestURLNormalizer</span><span class="op" id="8116711">(</span><span class="ident" id="8116712">t</span>&nbsp;<span class="op" id="8116714">*</span><span class="ident" id="8116715">testing</span><span class="op" id="8116722">.</span><span class="ident" id="8116723">T</span><span class="op" id="8116724">)</span>&nbsp;<span class="op" id="8116726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116729">tests</span>&nbsp;<span class="op" id="8116735">:=</span>&nbsp;<span class="op" id="8116738">[</span><span class="op" id="8116739">]</span><span class="keyword" id="8116740">struct</span>&nbsp;<span class="op" id="8116747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116751">url</span><span class="op" id="8116754">,</span>&nbsp;<span class="ident" id="8116756">want</span>&nbsp;<span class="builtintype" id="8116761">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116769">}</span><span class="op" id="8116770">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116774">{</span><span class="string" id="8116775">&#34;&#34;</span><span class="op" id="8116777">,</span>&nbsp;<span class="string" id="8116779">&#34;&#34;</span><span class="op" id="8116781">}</span><span class="op" id="8116782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8116791">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8116844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8116849">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="8116902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116906">}</span><span class="op" id="8116907">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116911">{</span><span class="string" id="8116912">&#34;&nbsp;&#34;</span><span class="op" id="8116915">,</span>&nbsp;<span class="string" id="8116917">&#34;%20&#34;</span><span class="op" id="8116922">}</span><span class="op" id="8116923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116927">{</span><span class="string" id="8116928">&#34;%7c&#34;</span><span class="op" id="8116933">,</span>&nbsp;<span class="string" id="8116935">&#34;%7c&#34;</span><span class="op" id="8116940">}</span><span class="op" id="8116941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116945">{</span><span class="string" id="8116946">&#34;%7C&#34;</span><span class="op" id="8116951">,</span>&nbsp;<span class="string" id="8116953">&#34;%7C&#34;</span><span class="op" id="8116958">}</span><span class="op" id="8116959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116963">{</span><span class="string" id="8116964">&#34;%2&#34;</span><span class="op" id="8116968">,</span>&nbsp;<span class="string" id="8116970">&#34;%252&#34;</span><span class="op" id="8116976">}</span><span class="op" id="8116977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116981">{</span><span class="string" id="8116982">&#34;%&#34;</span><span class="op" id="8116985">,</span>&nbsp;<span class="string" id="8116987">&#34;%25&#34;</span><span class="op" id="8116992">}</span><span class="op" id="8116993">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116997">{</span><span class="string" id="8116998">&#34;%z&#34;</span><span class="op" id="8117002">,</span>&nbsp;<span class="string" id="8117004">&#34;%25z&#34;</span><span class="op" id="8117010">}</span><span class="op" id="8117011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117015">{</span><span class="string" id="8117016">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="8117036">,</span>&nbsp;<span class="string" id="8117038">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="8117063">}</span><span class="op" id="8117064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117070">for</span>&nbsp;<span class="ident" id="8117074">_</span><span class="op" id="8117075">,</span>&nbsp;<span class="ident" id="8117077">test</span>&nbsp;<span class="op" id="8117082">:=</span>&nbsp;<span class="keyword" id="8117085">range</span>&nbsp;<span class="ident" id="8117091">tests</span>&nbsp;<span class="op" id="8117097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117101">if</span>&nbsp;<span class="ident" id="8117104">got</span>&nbsp;<span class="op" id="8117108">:=</span>&nbsp;<span class="ident" id="8117111">urlNormalizer</span><span class="op" id="8117124">(</span><span class="ident" id="8117125">test</span><span class="op" id="8117129">.</span><span class="ident" id="8117130">url</span><span class="op" id="8117133">)</span><span class="op" id="8117134">;</span>&nbsp;<span class="ident" id="8117136">test</span><span class="op" id="8117140">.</span><span class="ident" id="8117141">want</span>&nbsp;<span class="op" id="8117146">!=</span>&nbsp;<span class="ident" id="8117149">got</span>&nbsp;<span class="op" id="8117153">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117158">t</span><span class="op" id="8117159">.</span><span class="ident" id="8117160">Errorf</span><span class="op" id="8117166">(</span><span class="string" id="8117167">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="8117198">,</span>&nbsp;<span class="ident" id="8117200">test</span><span class="op" id="8117204">.</span><span class="ident" id="8117205">url</span><span class="op" id="8117208">,</span>&nbsp;<span class="ident" id="8117210">test</span><span class="op" id="8117214">.</span><span class="ident" id="8117215">want</span><span class="op" id="8117219">,</span>&nbsp;<span class="ident" id="8117221">got</span><span class="op" id="8117224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8117232">if</span>&nbsp;<span class="ident" id="8117235">test</span><span class="op" id="8117239">.</span><span class="ident" id="8117240">want</span>&nbsp;<span class="op" id="8117245">!=</span>&nbsp;<span class="ident" id="8117248">urlNormalizer</span><span class="op" id="8117261">(</span><span class="ident" id="8117262">test</span><span class="op" id="8117266">.</span><span class="ident" id="8117267">want</span><span class="op" id="8117271">)</span>&nbsp;<span class="op" id="8117273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117278">t</span><span class="op" id="8117279">.</span><span class="ident" id="8117280">Errorf</span><span class="op" id="8117286">(</span><span class="string" id="8117287">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="8117307">,</span>&nbsp;<span class="ident" id="8117309">test</span><span class="op" id="8117313">.</span><span class="ident" id="8117314">want</span><span class="op" id="8117318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117322">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117325">}</span><br>
<span class="lineno"></span><span class="op" id="8117327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8117330">func</span>&nbsp;<span class="ident" id="8117335">TestURLFilters</span><span class="op" id="8117349">(</span><span class="ident" id="8117350">t</span>&nbsp;<span class="op" id="8117352">*</span><span class="ident" id="8117353">testing</span><span class="op" id="8117360">.</span><span class="ident" id="8117361">T</span><span class="op" id="8117362">)</span>&nbsp;<span class="op" id="8117364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117367">input</span>&nbsp;<span class="op" id="8117373">:=</span>&nbsp;<span class="op" id="8117376">(</span><span class="string" id="8117377">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="8117438">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117442">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="8117509">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117513">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="8117532">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117536">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="8117555">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117559">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="8117578">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117582">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="8117601">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117605">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8117624">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117628">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="8117650">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117654">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="8117696">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117700">tests</span>&nbsp;<span class="op" id="8117706">:=</span>&nbsp;<span class="op" id="8117709">[</span><span class="op" id="8117710">]</span><span class="keyword" id="8117711">struct</span>&nbsp;<span class="op" id="8117718">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117722">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8117730">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117739">escaper</span>&nbsp;<span class="keyword" id="8117747">func</span><span class="op" id="8117751">(</span><span class="op" id="8117752">...</span><span class="keyword" id="8117755">interface</span><span class="op" id="8117764">{</span><span class="op" id="8117765">}</span><span class="op" id="8117766">)</span>&nbsp;<span class="builtintype" id="8117768">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117777">escaped</span>&nbsp;<span class="builtintype" id="8117785">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117793">}</span><span class="op" id="8117794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117798">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117803">&#34;urlEscaper&#34;</span><span class="op" id="8117815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117820">urlEscaper</span><span class="op" id="8117830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117835">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8117886">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117892">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8117943">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8117949">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="8117996">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118002">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="8118033">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118039">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8118060">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118066">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="8118093">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118099">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8118120">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118126">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8118153">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118159">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8118212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118216">}</span><span class="op" id="8118217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118226">&#34;urlNormalizer&#34;</span><span class="op" id="8118241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118246">urlNormalizer</span><span class="op" id="8118259">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118264">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="8118315">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118321">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="8118372">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118378">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="8118409">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118415">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="8118438">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118444">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="8118463">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118469">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="8118492">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118498">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="8118519">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118525">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="8118552">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8118558">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="8118611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118615">}</span><span class="op" id="8118616">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8118623">for</span>&nbsp;<span class="ident" id="8118627">_</span><span class="op" id="8118628">,</span>&nbsp;<span class="ident" id="8118630">test</span>&nbsp;<span class="op" id="8118635">:=</span>&nbsp;<span class="keyword" id="8118638">range</span>&nbsp;<span class="ident" id="8118644">tests</span>&nbsp;<span class="op" id="8118650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8118654">if</span>&nbsp;<span class="ident" id="8118657">s</span>&nbsp;<span class="op" id="8118659">:=</span>&nbsp;<span class="ident" id="8118662">test</span><span class="op" id="8118666">.</span><span class="ident" id="8118667">escaper</span><span class="op" id="8118674">(</span><span class="ident" id="8118675">input</span><span class="op" id="8118680">)</span><span class="op" id="8118681">;</span>&nbsp;<span class="ident" id="8118683">s</span>&nbsp;<span class="op" id="8118685">!=</span>&nbsp;<span class="ident" id="8118688">test</span><span class="op" id="8118692">.</span><span class="ident" id="8118693">escaped</span>&nbsp;<span class="op" id="8118701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118706">t</span><span class="op" id="8118707">.</span><span class="ident" id="8118708">Errorf</span><span class="op" id="8118714">(</span><span class="string" id="8118715">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="8118742">,</span>&nbsp;<span class="ident" id="8118744">test</span><span class="op" id="8118748">.</span><span class="ident" id="8118749">name</span><span class="op" id="8118753">,</span>&nbsp;<span class="ident" id="8118755">test</span><span class="op" id="8118759">.</span><span class="ident" id="8118760">escaped</span><span class="op" id="8118767">,</span>&nbsp;<span class="ident" id="8118769">s</span><span class="op" id="8118770">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8118775">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118789">}</span><br>
<span class="lineno"></span><span class="op" id="8118791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="8118794">func</span>&nbsp;<span class="ident" id="8118799">BenchmarkURLEscaper</span><span class="op" id="8118818">(</span><span class="ident" id="8118819">b</span>&nbsp;<span class="op" id="8118821">*</span><span class="ident" id="8118822">testing</span><span class="op" id="8118829">.</span><span class="ident" id="8118830">B</span><span class="op" id="8118831">)</span>&nbsp;<span class="op" id="8118833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8118836">for</span>&nbsp;<span class="ident" id="8118840">i</span>&nbsp;<span class="op" id="8118842">:=</span>&nbsp;<span class="num" id="8118845">0</span><span class="op" id="8118846">;</span>&nbsp;<span class="ident" id="8118848">i</span>&nbsp;<span class="op" id="8118850">&lt;</span>&nbsp;<span class="ident" id="8118852">b</span><span class="op" id="8118853">.</span><span class="ident" id="8118854">N</span><span class="op" id="8118855">;</span>&nbsp;<span class="ident" id="8118857">i</span><span class="op" id="8118858">++</span>&nbsp;<span class="op" id="8118861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118865">urlEscaper</span><span class="op" id="8118875">(</span><span class="string" id="8118876">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8118925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118928">}</span><br>
<span class="lineno"></span><span class="op" id="8118930">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="8118933">func</span>&nbsp;<span class="ident" id="8118938">BenchmarkURLEscaperNoSpecials</span><span class="op" id="8118967">(</span><span class="ident" id="8118968">b</span>&nbsp;<span class="op" id="8118970">*</span><span class="ident" id="8118971">testing</span><span class="op" id="8118978">.</span><span class="ident" id="8118979">B</span><span class="op" id="8118980">)</span>&nbsp;<span class="op" id="8118982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8118985">for</span>&nbsp;<span class="ident" id="8118989">i</span>&nbsp;<span class="op" id="8118991">:=</span>&nbsp;<span class="num" id="8118994">0</span><span class="op" id="8118995">;</span>&nbsp;<span class="ident" id="8118997">i</span>&nbsp;<span class="op" id="8118999">&lt;</span>&nbsp;<span class="ident" id="8119001">b</span><span class="op" id="8119002">.</span><span class="ident" id="8119003">N</span><span class="op" id="8119004">;</span>&nbsp;<span class="ident" id="8119006">i</span><span class="op" id="8119007">++</span>&nbsp;<span class="op" id="8119010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119014">urlEscaper</span><span class="op" id="8119024">(</span><span class="string" id="8119025">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="8119063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119066">}</span><br>
<span class="lineno">100</span><span class="op" id="8119068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8119071">func</span>&nbsp;<span class="ident" id="8119076">BenchmarkURLNormalizer</span><span class="op" id="8119098">(</span><span class="ident" id="8119099">b</span>&nbsp;<span class="op" id="8119101">*</span><span class="ident" id="8119102">testing</span><span class="op" id="8119109">.</span><span class="ident" id="8119110">B</span><span class="op" id="8119111">)</span>&nbsp;<span class="op" id="8119113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119116">for</span>&nbsp;<span class="ident" id="8119120">i</span>&nbsp;<span class="op" id="8119122">:=</span>&nbsp;<span class="num" id="8119125">0</span><span class="op" id="8119126">;</span>&nbsp;<span class="ident" id="8119128">i</span>&nbsp;<span class="op" id="8119130">&lt;</span>&nbsp;<span class="ident" id="8119132">b</span><span class="op" id="8119133">.</span><span class="ident" id="8119134">N</span><span class="op" id="8119135">;</span>&nbsp;<span class="ident" id="8119137">i</span><span class="op" id="8119138">++</span>&nbsp;<span class="op" id="8119141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119145">urlNormalizer</span><span class="op" id="8119158">(</span><span class="string" id="8119159">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="8119207">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119210">}</span><br>
<span class="lineno"></span><span class="op" id="8119212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8119215">func</span>&nbsp;<span class="ident" id="8119220">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="8119252">(</span><span class="ident" id="8119253">b</span>&nbsp;<span class="op" id="8119255">*</span><span class="ident" id="8119256">testing</span><span class="op" id="8119263">.</span><span class="ident" id="8119264">B</span><span class="op" id="8119265">)</span>&nbsp;<span class="op" id="8119267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8119270">for</span>&nbsp;<span class="ident" id="8119274">i</span>&nbsp;<span class="op" id="8119276">:=</span>&nbsp;<span class="num" id="8119279">0</span><span class="op" id="8119280">;</span>&nbsp;<span class="ident" id="8119282">i</span>&nbsp;<span class="op" id="8119284">&lt;</span>&nbsp;<span class="ident" id="8119286">b</span><span class="op" id="8119287">.</span><span class="ident" id="8119288">N</span><span class="op" id="8119289">;</span>&nbsp;<span class="ident" id="8119291">i</span><span class="op" id="8119292">++</span>&nbsp;<span class="op" id="8119295">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119299">urlNormalizer</span><span class="op" id="8119312">(</span><span class="string" id="8119313">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="8119362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119365">}</span><br>
<span class="lineno"></span><span class="op" id="8119367">}</span>
</div>
</body>
</html>
