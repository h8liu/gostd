<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2793926">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2793981">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2794035">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2794086">//&nbsp;Deep&nbsp;equality&nbsp;test&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2794124">package</span>&nbsp;<span class="ident" id="2794132">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2794141">//&nbsp;During&nbsp;deepValueEqual,&nbsp;must&nbsp;keep&nbsp;track&nbsp;of&nbsp;checks&nbsp;that&nbsp;are</span><br>
<span class="lineno">10</span><span class="comment" id="2794202">//&nbsp;in&nbsp;progress.&nbsp;&nbsp;The&nbsp;comparison&nbsp;algorithm&nbsp;assumes&nbsp;that&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2794261">//&nbsp;checks&nbsp;in&nbsp;progress&nbsp;are&nbsp;true&nbsp;when&nbsp;it&nbsp;reencounters&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="2794319">//&nbsp;Visited&nbsp;comparisons&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;map&nbsp;indexed&nbsp;by&nbsp;visit.</span><br>
<span class="lineno"></span><span class="keyword" id="2794380">type</span>&nbsp;<span class="ident" id="2794385">visit</span>&nbsp;<span class="keyword" id="2794391">struct</span>&nbsp;<span class="op" id="2794398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2794401">a1</span>&nbsp;&nbsp;<span class="builtintype" id="2794405">uintptr</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2794414">a2</span>&nbsp;&nbsp;<span class="builtintype" id="2794418">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2794427">typ</span>&nbsp;<span class="ident" id="2794431">Type</span><br>
<span class="lineno"></span><span class="op" id="2794436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2794439">//&nbsp;Tests&nbsp;for&nbsp;deep&nbsp;equality&nbsp;using&nbsp;reflected&nbsp;types.&nbsp;The&nbsp;map&nbsp;argument&nbsp;tracks</span><br>
<span class="lineno">20</span><span class="comment" id="2794513">//&nbsp;comparisons&nbsp;that&nbsp;have&nbsp;already&nbsp;been&nbsp;seen,&nbsp;which&nbsp;allows&nbsp;short&nbsp;circuiting&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="2794590">//&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="2794610">func</span>&nbsp;<span class="ident" id="2794615">deepValueEqual</span><span class="op" id="2794629">(</span><span class="ident" id="2794630">v1</span><span class="op" id="2794632">,</span>&nbsp;<span class="ident" id="2794634">v2</span>&nbsp;<span class="ident" id="2794637">Value</span><span class="op" id="2794642">,</span>&nbsp;<span class="ident" id="2794644">visited</span>&nbsp;<span class="keyword" id="2794652">map</span><span class="op" id="2794655">[</span><span class="ident" id="2794656">visit</span><span class="op" id="2794661">]</span><span class="builtintype" id="2794662">bool</span><span class="op" id="2794666">,</span>&nbsp;<span class="ident" id="2794668">depth</span>&nbsp;<span class="builtintype" id="2794674">int</span><span class="op" id="2794677">)</span>&nbsp;<span class="builtintype" id="2794679">bool</span>&nbsp;<span class="op" id="2794684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2794687">if</span>&nbsp;<span class="op" id="2794690">!</span><span class="ident" id="2794691">v1</span><span class="op" id="2794693">.</span><span class="ident" id="2794694">IsValid</span><span class="op" id="2794701">(</span><span class="op" id="2794702">)</span>&nbsp;<span class="op" id="2794704">||</span>&nbsp;<span class="op" id="2794707">!</span><span class="ident" id="2794708">v2</span><span class="op" id="2794710">.</span><span class="ident" id="2794711">IsValid</span><span class="op" id="2794718">(</span><span class="op" id="2794719">)</span>&nbsp;<span class="op" id="2794721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2794725">return</span>&nbsp;<span class="ident" id="2794732">v1</span><span class="op" id="2794734">.</span><span class="ident" id="2794735">IsValid</span><span class="op" id="2794742">(</span><span class="op" id="2794743">)</span>&nbsp;<span class="op" id="2794745">==</span>&nbsp;<span class="ident" id="2794748">v2</span><span class="op" id="2794750">.</span><span class="ident" id="2794751">IsValid</span><span class="op" id="2794758">(</span><span class="op" id="2794759">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2794762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2794765">if</span>&nbsp;<span class="ident" id="2794768">v1</span><span class="op" id="2794770">.</span><span class="ident" id="2794771">Type</span><span class="op" id="2794775">(</span><span class="op" id="2794776">)</span>&nbsp;<span class="op" id="2794778">!=</span>&nbsp;<span class="ident" id="2794781">v2</span><span class="op" id="2794783">.</span><span class="ident" id="2794784">Type</span><span class="op" id="2794788">(</span><span class="op" id="2794789">)</span>&nbsp;<span class="op" id="2794791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2794795">return</span>&nbsp;<span class="builtintype" id="2794802">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2794809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2794813">//&nbsp;if&nbsp;depth&nbsp;&gt;&nbsp;10&nbsp;{&nbsp;panic(&#34;deepValueEqual&#34;)&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;for&nbsp;debugging</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2794876">hard</span>&nbsp;<span class="op" id="2794881">:=</span>&nbsp;<span class="keyword" id="2794884">func</span><span class="op" id="2794888">(</span><span class="ident" id="2794889">k</span>&nbsp;<span class="ident" id="2794891">Kind</span><span class="op" id="2794895">)</span>&nbsp;<span class="builtintype" id="2794897">bool</span>&nbsp;<span class="op" id="2794902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2794906">switch</span>&nbsp;<span class="ident" id="2794913">k</span>&nbsp;<span class="op" id="2794915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2794919">case</span>&nbsp;<span class="ident" id="2794924">Array</span><span class="op" id="2794929">,</span>&nbsp;<span class="ident" id="2794931">Map</span><span class="op" id="2794934">,</span>&nbsp;<span class="ident" id="2794936">Slice</span><span class="op" id="2794941">,</span>&nbsp;<span class="ident" id="2794943">Struct</span><span class="op" id="2794949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2794954">return</span>&nbsp;<span class="builtintype" id="2794961">true</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2794968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2794972">return</span>&nbsp;<span class="builtintype" id="2794979">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2794986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2794990">if</span>&nbsp;<span class="ident" id="2794993">v1</span><span class="op" id="2794995">.</span><span class="ident" id="2794996">CanAddr</span><span class="op" id="2795003">(</span><span class="op" id="2795004">)</span>&nbsp;<span class="op" id="2795006">&amp;&amp;</span>&nbsp;<span class="ident" id="2795009">v2</span><span class="op" id="2795011">.</span><span class="ident" id="2795012">CanAddr</span><span class="op" id="2795019">(</span><span class="op" id="2795020">)</span>&nbsp;<span class="op" id="2795022">&amp;&amp;</span>&nbsp;<span class="ident" id="2795025">hard</span><span class="op" id="2795029">(</span><span class="ident" id="2795030">v1</span><span class="op" id="2795032">.</span><span class="ident" id="2795033">Kind</span><span class="op" id="2795037">(</span><span class="op" id="2795038">)</span><span class="op" id="2795039">)</span>&nbsp;<span class="op" id="2795041">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2795045">addr1</span>&nbsp;<span class="op" id="2795051">:=</span>&nbsp;<span class="ident" id="2795054">v1</span><span class="op" id="2795056">.</span><span class="ident" id="2795057">UnsafeAddr</span><span class="op" id="2795067">(</span><span class="op" id="2795068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2795072">addr2</span>&nbsp;<span class="op" id="2795078">:=</span>&nbsp;<span class="ident" id="2795081">v2</span><span class="op" id="2795083">.</span><span class="ident" id="2795084">UnsafeAddr</span><span class="op" id="2795094">(</span><span class="op" id="2795095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795099">if</span>&nbsp;<span class="ident" id="2795102">addr1</span>&nbsp;<span class="op" id="2795108">&gt;</span>&nbsp;<span class="ident" id="2795110">addr2</span>&nbsp;<span class="op" id="2795116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2795121">//&nbsp;Canonicalize&nbsp;order&nbsp;to&nbsp;reduce&nbsp;number&nbsp;of&nbsp;entries&nbsp;in&nbsp;visited.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2795186">addr1</span><span class="op" id="2795191">,</span>&nbsp;<span class="ident" id="2795193">addr2</span>&nbsp;<span class="op" id="2795199">=</span>&nbsp;<span class="ident" id="2795201">addr2</span><span class="op" id="2795206">,</span>&nbsp;<span class="ident" id="2795208">addr1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2795221">//&nbsp;Short&nbsp;circuit&nbsp;if&nbsp;references&nbsp;are&nbsp;identical&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795272">if</span>&nbsp;<span class="ident" id="2795275">addr1</span>&nbsp;<span class="op" id="2795281">==</span>&nbsp;<span class="ident" id="2795284">addr2</span>&nbsp;<span class="op" id="2795290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795295">return</span>&nbsp;<span class="builtintype" id="2795302">true</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2795314">//&nbsp;...&nbsp;or&nbsp;already&nbsp;seen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2795339">typ</span>&nbsp;<span class="op" id="2795343">:=</span>&nbsp;<span class="ident" id="2795346">v1</span><span class="op" id="2795348">.</span><span class="ident" id="2795349">Type</span><span class="op" id="2795353">(</span><span class="op" id="2795354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2795358">v</span>&nbsp;<span class="op" id="2795360">:=</span>&nbsp;<span class="ident" id="2795363">visit</span><span class="op" id="2795368">{</span><span class="ident" id="2795369">addr1</span><span class="op" id="2795374">,</span>&nbsp;<span class="ident" id="2795376">addr2</span><span class="op" id="2795381">,</span>&nbsp;<span class="ident" id="2795383">typ</span><span class="op" id="2795386">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795390">if</span>&nbsp;<span class="ident" id="2795393">visited</span><span class="op" id="2795400">[</span><span class="ident" id="2795401">v</span><span class="op" id="2795402">]</span>&nbsp;<span class="op" id="2795404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795409">return</span>&nbsp;<span class="builtintype" id="2795416">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2795428">//&nbsp;Remember&nbsp;for&nbsp;later.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2795453">visited</span><span class="op" id="2795460">[</span><span class="ident" id="2795461">v</span><span class="op" id="2795462">]</span>&nbsp;<span class="op" id="2795464">=</span>&nbsp;<span class="builtintype" id="2795466">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795476">switch</span>&nbsp;<span class="ident" id="2795483">v1</span><span class="op" id="2795485">.</span><span class="ident" id="2795486">Kind</span><span class="op" id="2795490">(</span><span class="op" id="2795491">)</span>&nbsp;<span class="op" id="2795493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795496">case</span>&nbsp;<span class="ident" id="2795501">Array</span><span class="op" id="2795506">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795510">for</span>&nbsp;<span class="ident" id="2795514">i</span>&nbsp;<span class="op" id="2795516">:=</span>&nbsp;<span class="num" id="2795519">0</span><span class="op" id="2795520">;</span>&nbsp;<span class="ident" id="2795522">i</span>&nbsp;<span class="op" id="2795524">&lt;</span>&nbsp;<span class="ident" id="2795526">v1</span><span class="op" id="2795528">.</span><span class="ident" id="2795529">Len</span><span class="op" id="2795532">(</span><span class="op" id="2795533">)</span><span class="op" id="2795534">;</span>&nbsp;<span class="ident" id="2795536">i</span><span class="op" id="2795537">++</span>&nbsp;<span class="op" id="2795540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795545">if</span>&nbsp;<span class="op" id="2795548">!</span><span class="ident" id="2795549">deepValueEqual</span><span class="op" id="2795563">(</span><span class="ident" id="2795564">v1</span><span class="op" id="2795566">.</span><span class="ident" id="2795567">Index</span><span class="op" id="2795572">(</span><span class="ident" id="2795573">i</span><span class="op" id="2795574">)</span><span class="op" id="2795575">,</span>&nbsp;<span class="ident" id="2795577">v2</span><span class="op" id="2795579">.</span><span class="ident" id="2795580">Index</span><span class="op" id="2795585">(</span><span class="ident" id="2795586">i</span><span class="op" id="2795587">)</span><span class="op" id="2795588">,</span>&nbsp;<span class="ident" id="2795590">visited</span><span class="op" id="2795597">,</span>&nbsp;<span class="ident" id="2795599">depth</span><span class="op" id="2795604">+</span><span class="num" id="2795605">1</span><span class="op" id="2795606">)</span>&nbsp;<span class="op" id="2795608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795614">return</span>&nbsp;<span class="builtintype" id="2795621">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795634">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795638">return</span>&nbsp;<span class="builtintype" id="2795645">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795651">case</span>&nbsp;<span class="ident" id="2795656">Slice</span><span class="op" id="2795661">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795665">if</span>&nbsp;<span class="ident" id="2795668">v1</span><span class="op" id="2795670">.</span><span class="ident" id="2795671">IsNil</span><span class="op" id="2795676">(</span><span class="op" id="2795677">)</span>&nbsp;<span class="op" id="2795679">!=</span>&nbsp;<span class="ident" id="2795682">v2</span><span class="op" id="2795684">.</span><span class="ident" id="2795685">IsNil</span><span class="op" id="2795690">(</span><span class="op" id="2795691">)</span>&nbsp;<span class="op" id="2795693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795698">return</span>&nbsp;<span class="builtintype" id="2795705">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795713">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795717">if</span>&nbsp;<span class="ident" id="2795720">v1</span><span class="op" id="2795722">.</span><span class="ident" id="2795723">Len</span><span class="op" id="2795726">(</span><span class="op" id="2795727">)</span>&nbsp;<span class="op" id="2795729">!=</span>&nbsp;<span class="ident" id="2795732">v2</span><span class="op" id="2795734">.</span><span class="ident" id="2795735">Len</span><span class="op" id="2795738">(</span><span class="op" id="2795739">)</span>&nbsp;<span class="op" id="2795741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795746">return</span>&nbsp;<span class="builtintype" id="2795753">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795765">if</span>&nbsp;<span class="ident" id="2795768">v1</span><span class="op" id="2795770">.</span><span class="ident" id="2795771">Pointer</span><span class="op" id="2795778">(</span><span class="op" id="2795779">)</span>&nbsp;<span class="op" id="2795781">==</span>&nbsp;<span class="ident" id="2795784">v2</span><span class="op" id="2795786">.</span><span class="ident" id="2795787">Pointer</span><span class="op" id="2795794">(</span><span class="op" id="2795795">)</span>&nbsp;<span class="op" id="2795797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795802">return</span>&nbsp;<span class="builtintype" id="2795809">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795820">for</span>&nbsp;<span class="ident" id="2795824">i</span>&nbsp;<span class="op" id="2795826">:=</span>&nbsp;<span class="num" id="2795829">0</span><span class="op" id="2795830">;</span>&nbsp;<span class="ident" id="2795832">i</span>&nbsp;<span class="op" id="2795834">&lt;</span>&nbsp;<span class="ident" id="2795836">v1</span><span class="op" id="2795838">.</span><span class="ident" id="2795839">Len</span><span class="op" id="2795842">(</span><span class="op" id="2795843">)</span><span class="op" id="2795844">;</span>&nbsp;<span class="ident" id="2795846">i</span><span class="op" id="2795847">++</span>&nbsp;<span class="op" id="2795850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795855">if</span>&nbsp;<span class="op" id="2795858">!</span><span class="ident" id="2795859">deepValueEqual</span><span class="op" id="2795873">(</span><span class="ident" id="2795874">v1</span><span class="op" id="2795876">.</span><span class="ident" id="2795877">Index</span><span class="op" id="2795882">(</span><span class="ident" id="2795883">i</span><span class="op" id="2795884">)</span><span class="op" id="2795885">,</span>&nbsp;<span class="ident" id="2795887">v2</span><span class="op" id="2795889">.</span><span class="ident" id="2795890">Index</span><span class="op" id="2795895">(</span><span class="ident" id="2795896">i</span><span class="op" id="2795897">)</span><span class="op" id="2795898">,</span>&nbsp;<span class="ident" id="2795900">visited</span><span class="op" id="2795907">,</span>&nbsp;<span class="ident" id="2795909">depth</span><span class="op" id="2795914">+</span><span class="num" id="2795915">1</span><span class="op" id="2795916">)</span>&nbsp;<span class="op" id="2795918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795924">return</span>&nbsp;<span class="builtintype" id="2795931">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795940">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2795944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795948">return</span>&nbsp;<span class="builtintype" id="2795955">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795961">case</span>&nbsp;<span class="ident" id="2795966">Interface</span><span class="op" id="2795975">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2795979">if</span>&nbsp;<span class="ident" id="2795982">v1</span><span class="op" id="2795984">.</span><span class="ident" id="2795985">IsNil</span><span class="op" id="2795990">(</span><span class="op" id="2795991">)</span>&nbsp;<span class="op" id="2795993">||</span>&nbsp;<span class="ident" id="2795996">v2</span><span class="op" id="2795998">.</span><span class="ident" id="2795999">IsNil</span><span class="op" id="2796004">(</span><span class="op" id="2796005">)</span>&nbsp;<span class="op" id="2796007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796012">return</span>&nbsp;<span class="ident" id="2796019">v1</span><span class="op" id="2796021">.</span><span class="ident" id="2796022">IsNil</span><span class="op" id="2796027">(</span><span class="op" id="2796028">)</span>&nbsp;<span class="op" id="2796030">==</span>&nbsp;<span class="ident" id="2796033">v2</span><span class="op" id="2796035">.</span><span class="ident" id="2796036">IsNil</span><span class="op" id="2796041">(</span><span class="op" id="2796042">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796050">return</span>&nbsp;<span class="ident" id="2796057">deepValueEqual</span><span class="op" id="2796071">(</span><span class="ident" id="2796072">v1</span><span class="op" id="2796074">.</span><span class="ident" id="2796075">Elem</span><span class="op" id="2796079">(</span><span class="op" id="2796080">)</span><span class="op" id="2796081">,</span>&nbsp;<span class="ident" id="2796083">v2</span><span class="op" id="2796085">.</span><span class="ident" id="2796086">Elem</span><span class="op" id="2796090">(</span><span class="op" id="2796091">)</span><span class="op" id="2796092">,</span>&nbsp;<span class="ident" id="2796094">visited</span><span class="op" id="2796101">,</span>&nbsp;<span class="ident" id="2796103">depth</span><span class="op" id="2796108">+</span><span class="num" id="2796109">1</span><span class="op" id="2796110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796113">case</span>&nbsp;<span class="ident" id="2796118">Ptr</span><span class="op" id="2796121">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796125">return</span>&nbsp;<span class="ident" id="2796132">deepValueEqual</span><span class="op" id="2796146">(</span><span class="ident" id="2796147">v1</span><span class="op" id="2796149">.</span><span class="ident" id="2796150">Elem</span><span class="op" id="2796154">(</span><span class="op" id="2796155">)</span><span class="op" id="2796156">,</span>&nbsp;<span class="ident" id="2796158">v2</span><span class="op" id="2796160">.</span><span class="ident" id="2796161">Elem</span><span class="op" id="2796165">(</span><span class="op" id="2796166">)</span><span class="op" id="2796167">,</span>&nbsp;<span class="ident" id="2796169">visited</span><span class="op" id="2796176">,</span>&nbsp;<span class="ident" id="2796178">depth</span><span class="op" id="2796183">+</span><span class="num" id="2796184">1</span><span class="op" id="2796185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796188">case</span>&nbsp;<span class="ident" id="2796193">Struct</span><span class="op" id="2796199">:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796203">for</span>&nbsp;<span class="ident" id="2796207">i</span><span class="op" id="2796208">,</span>&nbsp;<span class="ident" id="2796210">n</span>&nbsp;<span class="op" id="2796212">:=</span>&nbsp;<span class="num" id="2796215">0</span><span class="op" id="2796216">,</span>&nbsp;<span class="ident" id="2796218">v1</span><span class="op" id="2796220">.</span><span class="ident" id="2796221">NumField</span><span class="op" id="2796229">(</span><span class="op" id="2796230">)</span><span class="op" id="2796231">;</span>&nbsp;<span class="ident" id="2796233">i</span>&nbsp;<span class="op" id="2796235">&lt;</span>&nbsp;<span class="ident" id="2796237">n</span><span class="op" id="2796238">;</span>&nbsp;<span class="ident" id="2796240">i</span><span class="op" id="2796241">++</span>&nbsp;<span class="op" id="2796244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796249">if</span>&nbsp;<span class="op" id="2796252">!</span><span class="ident" id="2796253">deepValueEqual</span><span class="op" id="2796267">(</span><span class="ident" id="2796268">v1</span><span class="op" id="2796270">.</span><span class="ident" id="2796271">Field</span><span class="op" id="2796276">(</span><span class="ident" id="2796277">i</span><span class="op" id="2796278">)</span><span class="op" id="2796279">,</span>&nbsp;<span class="ident" id="2796281">v2</span><span class="op" id="2796283">.</span><span class="ident" id="2796284">Field</span><span class="op" id="2796289">(</span><span class="ident" id="2796290">i</span><span class="op" id="2796291">)</span><span class="op" id="2796292">,</span>&nbsp;<span class="ident" id="2796294">visited</span><span class="op" id="2796301">,</span>&nbsp;<span class="ident" id="2796303">depth</span><span class="op" id="2796308">+</span><span class="num" id="2796309">1</span><span class="op" id="2796310">)</span>&nbsp;<span class="op" id="2796312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796318">return</span>&nbsp;<span class="builtintype" id="2796325">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796338">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796342">return</span>&nbsp;<span class="builtintype" id="2796349">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796355">case</span>&nbsp;<span class="ident" id="2796360">Map</span><span class="op" id="2796363">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796367">if</span>&nbsp;<span class="ident" id="2796370">v1</span><span class="op" id="2796372">.</span><span class="ident" id="2796373">IsNil</span><span class="op" id="2796378">(</span><span class="op" id="2796379">)</span>&nbsp;<span class="op" id="2796381">!=</span>&nbsp;<span class="ident" id="2796384">v2</span><span class="op" id="2796386">.</span><span class="ident" id="2796387">IsNil</span><span class="op" id="2796392">(</span><span class="op" id="2796393">)</span>&nbsp;<span class="op" id="2796395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796400">return</span>&nbsp;<span class="builtintype" id="2796407">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796415">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796419">if</span>&nbsp;<span class="ident" id="2796422">v1</span><span class="op" id="2796424">.</span><span class="ident" id="2796425">Len</span><span class="op" id="2796428">(</span><span class="op" id="2796429">)</span>&nbsp;<span class="op" id="2796431">!=</span>&nbsp;<span class="ident" id="2796434">v2</span><span class="op" id="2796436">.</span><span class="ident" id="2796437">Len</span><span class="op" id="2796440">(</span><span class="op" id="2796441">)</span>&nbsp;<span class="op" id="2796443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796448">return</span>&nbsp;<span class="builtintype" id="2796455">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796467">if</span>&nbsp;<span class="ident" id="2796470">v1</span><span class="op" id="2796472">.</span><span class="ident" id="2796473">Pointer</span><span class="op" id="2796480">(</span><span class="op" id="2796481">)</span>&nbsp;<span class="op" id="2796483">==</span>&nbsp;<span class="ident" id="2796486">v2</span><span class="op" id="2796488">.</span><span class="ident" id="2796489">Pointer</span><span class="op" id="2796496">(</span><span class="op" id="2796497">)</span>&nbsp;<span class="op" id="2796499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796504">return</span>&nbsp;<span class="builtintype" id="2796511">true</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796522">for</span>&nbsp;<span class="ident" id="2796526">_</span><span class="op" id="2796527">,</span>&nbsp;<span class="ident" id="2796529">k</span>&nbsp;<span class="op" id="2796531">:=</span>&nbsp;<span class="keyword" id="2796534">range</span>&nbsp;<span class="ident" id="2796540">v1</span><span class="op" id="2796542">.</span><span class="ident" id="2796543">MapKeys</span><span class="op" id="2796550">(</span><span class="op" id="2796551">)</span>&nbsp;<span class="op" id="2796553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796558">if</span>&nbsp;<span class="op" id="2796561">!</span><span class="ident" id="2796562">deepValueEqual</span><span class="op" id="2796576">(</span><span class="ident" id="2796577">v1</span><span class="op" id="2796579">.</span><span class="ident" id="2796580">MapIndex</span><span class="op" id="2796588">(</span><span class="ident" id="2796589">k</span><span class="op" id="2796590">)</span><span class="op" id="2796591">,</span>&nbsp;<span class="ident" id="2796593">v2</span><span class="op" id="2796595">.</span><span class="ident" id="2796596">MapIndex</span><span class="op" id="2796604">(</span><span class="ident" id="2796605">k</span><span class="op" id="2796606">)</span><span class="op" id="2796607">,</span>&nbsp;<span class="ident" id="2796609">visited</span><span class="op" id="2796616">,</span>&nbsp;<span class="ident" id="2796618">depth</span><span class="op" id="2796623">+</span><span class="num" id="2796624">1</span><span class="op" id="2796625">)</span>&nbsp;<span class="op" id="2796627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796633">return</span>&nbsp;<span class="builtintype" id="2796640">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796649">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796657">return</span>&nbsp;<span class="builtintype" id="2796664">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796670">case</span>&nbsp;<span class="ident" id="2796675">Func</span><span class="op" id="2796679">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796683">if</span>&nbsp;<span class="ident" id="2796686">v1</span><span class="op" id="2796688">.</span><span class="ident" id="2796689">IsNil</span><span class="op" id="2796694">(</span><span class="op" id="2796695">)</span>&nbsp;<span class="op" id="2796697">&amp;&amp;</span>&nbsp;<span class="ident" id="2796700">v2</span><span class="op" id="2796702">.</span><span class="ident" id="2796703">IsNil</span><span class="op" id="2796708">(</span><span class="op" id="2796709">)</span>&nbsp;<span class="op" id="2796711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796716">return</span>&nbsp;<span class="builtintype" id="2796723">true</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2796734">//&nbsp;Can&#39;t&nbsp;do&nbsp;better&nbsp;than&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796766">return</span>&nbsp;<span class="builtintype" id="2796773">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796780">default</span><span class="op" id="2796787">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2796791">//&nbsp;Normal&nbsp;equality&nbsp;suffices</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2796821">return</span>&nbsp;<span class="ident" id="2796828">valueInterface</span><span class="op" id="2796842">(</span><span class="ident" id="2796843">v1</span><span class="op" id="2796845">,</span>&nbsp;<span class="builtintype" id="2796847">false</span><span class="op" id="2796852">)</span>&nbsp;<span class="op" id="2796854">==</span>&nbsp;<span class="ident" id="2796857">valueInterface</span><span class="op" id="2796871">(</span><span class="ident" id="2796872">v2</span><span class="op" id="2796874">,</span>&nbsp;<span class="builtintype" id="2796876">false</span><span class="op" id="2796881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2796884">}</span><br>
<span class="lineno"></span><span class="op" id="2796886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2796889">//&nbsp;DeepEqual&nbsp;tests&nbsp;for&nbsp;deep&nbsp;equality.&nbsp;It&nbsp;uses&nbsp;normal&nbsp;==&nbsp;equality&nbsp;where</span><br>
<span class="lineno">130</span><span class="comment" id="2796960">//&nbsp;possible&nbsp;but&nbsp;will&nbsp;scan&nbsp;elements&nbsp;of&nbsp;arrays,&nbsp;slices,&nbsp;maps,&nbsp;and&nbsp;fields&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2797034">//&nbsp;structs.&nbsp;In&nbsp;maps,&nbsp;keys&nbsp;are&nbsp;compared&nbsp;with&nbsp;==&nbsp;but&nbsp;elements&nbsp;use&nbsp;deep</span><br>
<span class="lineno"></span><span class="comment" id="2797103">//&nbsp;equality.&nbsp;DeepEqual&nbsp;correctly&nbsp;handles&nbsp;recursive&nbsp;types.&nbsp;Functions&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2797181">//&nbsp;only&nbsp;if&nbsp;they&nbsp;are&nbsp;both&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2797211">//&nbsp;An&nbsp;empty&nbsp;slice&nbsp;is&nbsp;not&nbsp;equal&nbsp;to&nbsp;a&nbsp;nil&nbsp;slice.</span><br>
<span class="lineno">135</span><span class="keyword" id="2797258">func</span>&nbsp;<span class="ident" id="2797263">DeepEqual</span><span class="op" id="2797272">(</span><span class="ident" id="2797273">a1</span><span class="op" id="2797275">,</span>&nbsp;<span class="ident" id="2797277">a2</span>&nbsp;<span class="keyword" id="2797280">interface</span><span class="op" id="2797289">{</span><span class="op" id="2797290">}</span><span class="op" id="2797291">)</span>&nbsp;<span class="builtintype" id="2797293">bool</span>&nbsp;<span class="op" id="2797298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2797301">if</span>&nbsp;<span class="ident" id="2797304">a1</span>&nbsp;<span class="op" id="2797307">==</span>&nbsp;<span class="ident" id="2797310">nil</span>&nbsp;<span class="op" id="2797314">||</span>&nbsp;<span class="ident" id="2797317">a2</span>&nbsp;<span class="op" id="2797320">==</span>&nbsp;<span class="ident" id="2797323">nil</span>&nbsp;<span class="op" id="2797327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2797331">return</span>&nbsp;<span class="ident" id="2797338">a1</span>&nbsp;<span class="op" id="2797341">==</span>&nbsp;<span class="ident" id="2797344">a2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2797348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2797351">v1</span>&nbsp;<span class="op" id="2797354">:=</span>&nbsp;<span class="ident" id="2797357">ValueOf</span><span class="op" id="2797364">(</span><span class="ident" id="2797365">a1</span><span class="op" id="2797367">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2797370">v2</span>&nbsp;<span class="op" id="2797373">:=</span>&nbsp;<span class="ident" id="2797376">ValueOf</span><span class="op" id="2797383">(</span><span class="ident" id="2797384">a2</span><span class="op" id="2797386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2797389">if</span>&nbsp;<span class="ident" id="2797392">v1</span><span class="op" id="2797394">.</span><span class="ident" id="2797395">Type</span><span class="op" id="2797399">(</span><span class="op" id="2797400">)</span>&nbsp;<span class="op" id="2797402">!=</span>&nbsp;<span class="ident" id="2797405">v2</span><span class="op" id="2797407">.</span><span class="ident" id="2797408">Type</span><span class="op" id="2797412">(</span><span class="op" id="2797413">)</span>&nbsp;<span class="op" id="2797415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2797419">return</span>&nbsp;<span class="builtintype" id="2797426">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2797433">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2797436">return</span>&nbsp;<span class="ident" id="2797443">deepValueEqual</span><span class="op" id="2797457">(</span><span class="ident" id="2797458">v1</span><span class="op" id="2797460">,</span>&nbsp;<span class="ident" id="2797462">v2</span><span class="op" id="2797464">,</span>&nbsp;<span class="builtinfunc" id="2797466">make</span><span class="op" id="2797470">(</span><span class="keyword" id="2797471">map</span><span class="op" id="2797474">[</span><span class="ident" id="2797475">visit</span><span class="op" id="2797480">]</span><span class="builtintype" id="2797481">bool</span><span class="op" id="2797485">)</span><span class="op" id="2797486">,</span>&nbsp;<span class="num" id="2797488">0</span><span class="op" id="2797489">)</span><br>
<span class="lineno">145</span><span class="op" id="2797491">}</span>
</div>
</body>
</html>
