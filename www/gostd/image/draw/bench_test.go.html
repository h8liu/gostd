<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6852258">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6852313">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6852367">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6852418">package</span>&nbsp;<span class="ident" id="6852426">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6852432">import</span>&nbsp;<span class="op" id="6852439">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6852442">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6852451">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6852466">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6852476">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6852479">const</span>&nbsp;<span class="op" id="6852485">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852488">dstw</span><span class="op" id="6852492">,</span>&nbsp;<span class="ident" id="6852494">dsth</span>&nbsp;<span class="op" id="6852499">=</span>&nbsp;<span class="num" id="6852501">640</span><span class="op" id="6852504">,</span>&nbsp;<span class="num" id="6852506">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852511">srcw</span><span class="op" id="6852515">,</span>&nbsp;<span class="ident" id="6852517">srch</span>&nbsp;<span class="op" id="6852522">=</span>&nbsp;<span class="num" id="6852524">400</span><span class="op" id="6852527">,</span>&nbsp;<span class="num" id="6852529">300</span><br>
<span class="lineno"></span><span class="op" id="6852533">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6852536">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6852610">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="6852672">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="6852738">func</span>&nbsp;<span class="ident" id="6852743">bench</span><span class="op" id="6852748">(</span><span class="ident" id="6852749">b</span>&nbsp;<span class="op" id="6852751">*</span><span class="ident" id="6852752">testing</span><span class="op" id="6852759">.</span><span class="ident" id="6852760">B</span><span class="op" id="6852761">,</span>&nbsp;<span class="ident" id="6852763">dcm</span><span class="op" id="6852766">,</span>&nbsp;<span class="ident" id="6852768">scm</span><span class="op" id="6852771">,</span>&nbsp;<span class="ident" id="6852773">mcm</span>&nbsp;<span class="ident" id="6852777">color</span><span class="op" id="6852782">.</span><span class="ident" id="6852783">Model</span><span class="op" id="6852788">,</span>&nbsp;<span class="ident" id="6852790">op</span>&nbsp;<span class="ident" id="6852793">Op</span><span class="op" id="6852795">)</span>&nbsp;<span class="op" id="6852797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852800">b</span><span class="op" id="6852801">.</span><span class="ident" id="6852802">StopTimer</span><span class="op" id="6852811">(</span><span class="op" id="6852812">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852816">var</span>&nbsp;<span class="ident" id="6852820">dst</span>&nbsp;<span class="ident" id="6852824">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852831">switch</span>&nbsp;<span class="ident" id="6852838">dcm</span>&nbsp;<span class="op" id="6852842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852845">case</span>&nbsp;<span class="ident" id="6852850">color</span><span class="op" id="6852855">.</span><span class="ident" id="6852856">RGBAModel</span><span class="op" id="6852865">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852869">dst1</span>&nbsp;<span class="op" id="6852874">:=</span>&nbsp;<span class="ident" id="6852877">image</span><span class="op" id="6852882">.</span><span class="ident" id="6852883">NewRGBA</span><span class="op" id="6852890">(</span><span class="ident" id="6852891">image</span><span class="op" id="6852896">.</span><span class="ident" id="6852897">Rect</span><span class="op" id="6852901">(</span><span class="num" id="6852902">0</span><span class="op" id="6852903">,</span>&nbsp;<span class="num" id="6852905">0</span><span class="op" id="6852906">,</span>&nbsp;<span class="ident" id="6852908">dstw</span><span class="op" id="6852912">,</span>&nbsp;<span class="ident" id="6852914">dsth</span><span class="op" id="6852918">)</span><span class="op" id="6852919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852923">for</span>&nbsp;<span class="ident" id="6852927">y</span>&nbsp;<span class="op" id="6852929">:=</span>&nbsp;<span class="num" id="6852932">0</span><span class="op" id="6852933">;</span>&nbsp;<span class="ident" id="6852935">y</span>&nbsp;<span class="op" id="6852937">&lt;</span>&nbsp;<span class="ident" id="6852939">dsth</span><span class="op" id="6852943">;</span>&nbsp;<span class="ident" id="6852945">y</span><span class="op" id="6852946">++</span>&nbsp;<span class="op" id="6852949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852954">for</span>&nbsp;<span class="ident" id="6852958">x</span>&nbsp;<span class="op" id="6852960">:=</span>&nbsp;<span class="num" id="6852963">0</span><span class="op" id="6852964">;</span>&nbsp;<span class="ident" id="6852966">x</span>&nbsp;<span class="op" id="6852968">&lt;</span>&nbsp;<span class="ident" id="6852970">dstw</span><span class="op" id="6852974">;</span>&nbsp;<span class="ident" id="6852976">x</span><span class="op" id="6852977">++</span>&nbsp;<span class="op" id="6852980">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852986">dst1</span><span class="op" id="6852990">.</span><span class="ident" id="6852991">SetRGBA</span><span class="op" id="6852998">(</span><span class="ident" id="6852999">x</span><span class="op" id="6853000">,</span>&nbsp;<span class="ident" id="6853002">y</span><span class="op" id="6853003">,</span>&nbsp;<span class="ident" id="6853005">color</span><span class="op" id="6853010">.</span><span class="ident" id="6853011">RGBA</span><span class="op" id="6853015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6853022">uint8</span><span class="op" id="6853027">(</span><span class="num" id="6853028">5</span>&nbsp;<span class="op" id="6853030">*</span>&nbsp;<span class="ident" id="6853032">x</span>&nbsp;<span class="op" id="6853034">%</span>&nbsp;<span class="num" id="6853036">0x100</span><span class="op" id="6853041">)</span><span class="op" id="6853042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6853049">uint8</span><span class="op" id="6853054">(</span><span class="num" id="6853055">7</span>&nbsp;<span class="op" id="6853057">*</span>&nbsp;<span class="ident" id="6853059">y</span>&nbsp;<span class="op" id="6853061">%</span>&nbsp;<span class="num" id="6853063">0x100</span><span class="op" id="6853068">)</span><span class="op" id="6853069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6853076">uint8</span><span class="op" id="6853081">(</span><span class="op" id="6853082">(</span><span class="num" id="6853083">7</span><span class="op" id="6853084">*</span><span class="ident" id="6853085">x</span>&nbsp;<span class="op" id="6853087">+</span>&nbsp;<span class="num" id="6853089">5</span><span class="op" id="6853090">*</span><span class="ident" id="6853091">y</span><span class="op" id="6853092">)</span>&nbsp;<span class="op" id="6853094">%</span>&nbsp;<span class="num" id="6853096">0x100</span><span class="op" id="6853101">)</span><span class="op" id="6853102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6853109">0xff</span><span class="op" id="6853113">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853119">}</span><span class="op" id="6853120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853133">dst</span>&nbsp;<span class="op" id="6853137">=</span>&nbsp;<span class="ident" id="6853139">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853145">case</span>&nbsp;<span class="ident" id="6853150">color</span><span class="op" id="6853155">.</span><span class="ident" id="6853156">RGBA64Model</span><span class="op" id="6853167">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853171">dst1</span>&nbsp;<span class="op" id="6853176">:=</span>&nbsp;<span class="ident" id="6853179">image</span><span class="op" id="6853184">.</span><span class="ident" id="6853185">NewRGBA64</span><span class="op" id="6853194">(</span><span class="ident" id="6853195">image</span><span class="op" id="6853200">.</span><span class="ident" id="6853201">Rect</span><span class="op" id="6853205">(</span><span class="num" id="6853206">0</span><span class="op" id="6853207">,</span>&nbsp;<span class="num" id="6853209">0</span><span class="op" id="6853210">,</span>&nbsp;<span class="ident" id="6853212">dstw</span><span class="op" id="6853216">,</span>&nbsp;<span class="ident" id="6853218">dsth</span><span class="op" id="6853222">)</span><span class="op" id="6853223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853227">for</span>&nbsp;<span class="ident" id="6853231">y</span>&nbsp;<span class="op" id="6853233">:=</span>&nbsp;<span class="num" id="6853236">0</span><span class="op" id="6853237">;</span>&nbsp;<span class="ident" id="6853239">y</span>&nbsp;<span class="op" id="6853241">&lt;</span>&nbsp;<span class="ident" id="6853243">dsth</span><span class="op" id="6853247">;</span>&nbsp;<span class="ident" id="6853249">y</span><span class="op" id="6853250">++</span>&nbsp;<span class="op" id="6853253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853258">for</span>&nbsp;<span class="ident" id="6853262">x</span>&nbsp;<span class="op" id="6853264">:=</span>&nbsp;<span class="num" id="6853267">0</span><span class="op" id="6853268">;</span>&nbsp;<span class="ident" id="6853270">x</span>&nbsp;<span class="op" id="6853272">&lt;</span>&nbsp;<span class="ident" id="6853274">dstw</span><span class="op" id="6853278">;</span>&nbsp;<span class="ident" id="6853280">x</span><span class="op" id="6853281">++</span>&nbsp;<span class="op" id="6853284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853290">dst1</span><span class="op" id="6853294">.</span><span class="ident" id="6853295">SetRGBA64</span><span class="op" id="6853304">(</span><span class="ident" id="6853305">x</span><span class="op" id="6853306">,</span>&nbsp;<span class="ident" id="6853308">y</span><span class="op" id="6853309">,</span>&nbsp;<span class="ident" id="6853311">color</span><span class="op" id="6853316">.</span><span class="ident" id="6853317">RGBA64</span><span class="op" id="6853323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6853330">uint16</span><span class="op" id="6853336">(</span><span class="num" id="6853337">53</span>&nbsp;<span class="op" id="6853340">*</span>&nbsp;<span class="ident" id="6853342">x</span>&nbsp;<span class="op" id="6853344">%</span>&nbsp;<span class="num" id="6853346">0x10000</span><span class="op" id="6853353">)</span><span class="op" id="6853354">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6853361">uint16</span><span class="op" id="6853367">(</span><span class="num" id="6853368">59</span>&nbsp;<span class="op" id="6853371">*</span>&nbsp;<span class="ident" id="6853373">y</span>&nbsp;<span class="op" id="6853375">%</span>&nbsp;<span class="num" id="6853377">0x10000</span><span class="op" id="6853384">)</span><span class="op" id="6853385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6853392">uint16</span><span class="op" id="6853398">(</span><span class="op" id="6853399">(</span><span class="num" id="6853400">59</span><span class="op" id="6853402">*</span><span class="ident" id="6853403">x</span>&nbsp;<span class="op" id="6853405">+</span>&nbsp;<span class="num" id="6853407">53</span><span class="op" id="6853409">*</span><span class="ident" id="6853410">y</span><span class="op" id="6853411">)</span>&nbsp;<span class="op" id="6853413">%</span>&nbsp;<span class="num" id="6853415">0x10000</span><span class="op" id="6853422">)</span><span class="op" id="6853423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6853430">0xffff</span><span class="op" id="6853436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853442">}</span><span class="op" id="6853443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853448">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853456">dst</span>&nbsp;<span class="op" id="6853460">=</span>&nbsp;<span class="ident" id="6853462">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853468">default</span><span class="op" id="6853475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853479">b</span><span class="op" id="6853480">.</span><span class="ident" id="6853481">Fatal</span><span class="op" id="6853486">(</span><span class="string" id="6853487">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="6853520">,</span>&nbsp;<span class="ident" id="6853522">dcm</span><span class="op" id="6853525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853528">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853532">var</span>&nbsp;<span class="ident" id="6853536">src</span>&nbsp;<span class="ident" id="6853540">image</span><span class="op" id="6853545">.</span><span class="ident" id="6853546">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853553">switch</span>&nbsp;<span class="ident" id="6853560">scm</span>&nbsp;<span class="op" id="6853564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853567">case</span>&nbsp;<span class="ident" id="6853572">nil</span><span class="op" id="6853575">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853579">src</span>&nbsp;<span class="op" id="6853583">=</span>&nbsp;<span class="op" id="6853585">&amp;</span><span class="ident" id="6853586">image</span><span class="op" id="6853591">.</span><span class="ident" id="6853592">Uniform</span><span class="op" id="6853599">{</span><span class="ident" id="6853600">C</span><span class="op" id="6853601">:</span>&nbsp;<span class="ident" id="6853603">color</span><span class="op" id="6853608">.</span><span class="ident" id="6853609">RGBA</span><span class="op" id="6853613">{</span><span class="num" id="6853614">0x11</span><span class="op" id="6853618">,</span>&nbsp;<span class="num" id="6853620">0x22</span><span class="op" id="6853624">,</span>&nbsp;<span class="num" id="6853626">0x33</span><span class="op" id="6853630">,</span>&nbsp;<span class="num" id="6853632">0xff</span><span class="op" id="6853636">}</span><span class="op" id="6853637">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853640">case</span>&nbsp;<span class="ident" id="6853645">color</span><span class="op" id="6853650">.</span><span class="ident" id="6853651">RGBAModel</span><span class="op" id="6853660">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853664">src1</span>&nbsp;<span class="op" id="6853669">:=</span>&nbsp;<span class="ident" id="6853672">image</span><span class="op" id="6853677">.</span><span class="ident" id="6853678">NewRGBA</span><span class="op" id="6853685">(</span><span class="ident" id="6853686">image</span><span class="op" id="6853691">.</span><span class="ident" id="6853692">Rect</span><span class="op" id="6853696">(</span><span class="num" id="6853697">0</span><span class="op" id="6853698">,</span>&nbsp;<span class="num" id="6853700">0</span><span class="op" id="6853701">,</span>&nbsp;<span class="ident" id="6853703">srcw</span><span class="op" id="6853707">,</span>&nbsp;<span class="ident" id="6853709">srch</span><span class="op" id="6853713">)</span><span class="op" id="6853714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853718">for</span>&nbsp;<span class="ident" id="6853722">y</span>&nbsp;<span class="op" id="6853724">:=</span>&nbsp;<span class="num" id="6853727">0</span><span class="op" id="6853728">;</span>&nbsp;<span class="ident" id="6853730">y</span>&nbsp;<span class="op" id="6853732">&lt;</span>&nbsp;<span class="ident" id="6853734">srch</span><span class="op" id="6853738">;</span>&nbsp;<span class="ident" id="6853740">y</span><span class="op" id="6853741">++</span>&nbsp;<span class="op" id="6853744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853749">for</span>&nbsp;<span class="ident" id="6853753">x</span>&nbsp;<span class="op" id="6853755">:=</span>&nbsp;<span class="num" id="6853758">0</span><span class="op" id="6853759">;</span>&nbsp;<span class="ident" id="6853761">x</span>&nbsp;<span class="op" id="6853763">&lt;</span>&nbsp;<span class="ident" id="6853765">srcw</span><span class="op" id="6853769">;</span>&nbsp;<span class="ident" id="6853771">x</span><span class="op" id="6853772">++</span>&nbsp;<span class="op" id="6853775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853781">src1</span><span class="op" id="6853785">.</span><span class="ident" id="6853786">SetRGBA</span><span class="op" id="6853793">(</span><span class="ident" id="6853794">x</span><span class="op" id="6853795">,</span>&nbsp;<span class="ident" id="6853797">y</span><span class="op" id="6853798">,</span>&nbsp;<span class="ident" id="6853800">color</span><span class="op" id="6853805">.</span><span class="ident" id="6853806">RGBA</span><span class="op" id="6853810">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6853817">uint8</span><span class="op" id="6853822">(</span><span class="num" id="6853823">13</span>&nbsp;<span class="op" id="6853826">*</span>&nbsp;<span class="ident" id="6853828">x</span>&nbsp;<span class="op" id="6853830">%</span>&nbsp;<span class="num" id="6853832">0x80</span><span class="op" id="6853836">)</span><span class="op" id="6853837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6853844">uint8</span><span class="op" id="6853849">(</span><span class="num" id="6853850">11</span>&nbsp;<span class="op" id="6853853">*</span>&nbsp;<span class="ident" id="6853855">y</span>&nbsp;<span class="op" id="6853857">%</span>&nbsp;<span class="num" id="6853859">0x80</span><span class="op" id="6853863">)</span><span class="op" id="6853864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6853871">uint8</span><span class="op" id="6853876">(</span><span class="op" id="6853877">(</span><span class="num" id="6853878">11</span><span class="op" id="6853880">*</span><span class="ident" id="6853881">x</span>&nbsp;<span class="op" id="6853883">+</span>&nbsp;<span class="num" id="6853885">13</span><span class="op" id="6853887">*</span><span class="ident" id="6853888">y</span><span class="op" id="6853889">)</span>&nbsp;<span class="op" id="6853891">%</span>&nbsp;<span class="num" id="6853893">0x80</span><span class="op" id="6853897">)</span><span class="op" id="6853898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6853905">0x7f</span><span class="op" id="6853909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853915">}</span><span class="op" id="6853916">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853929">src</span>&nbsp;<span class="op" id="6853933">=</span>&nbsp;<span class="ident" id="6853935">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853941">case</span>&nbsp;<span class="ident" id="6853946">color</span><span class="op" id="6853951">.</span><span class="ident" id="6853952">RGBA64Model</span><span class="op" id="6853963">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853967">src1</span>&nbsp;<span class="op" id="6853972">:=</span>&nbsp;<span class="ident" id="6853975">image</span><span class="op" id="6853980">.</span><span class="ident" id="6853981">NewRGBA64</span><span class="op" id="6853990">(</span><span class="ident" id="6853991">image</span><span class="op" id="6853996">.</span><span class="ident" id="6853997">Rect</span><span class="op" id="6854001">(</span><span class="num" id="6854002">0</span><span class="op" id="6854003">,</span>&nbsp;<span class="num" id="6854005">0</span><span class="op" id="6854006">,</span>&nbsp;<span class="ident" id="6854008">srcw</span><span class="op" id="6854012">,</span>&nbsp;<span class="ident" id="6854014">srch</span><span class="op" id="6854018">)</span><span class="op" id="6854019">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854023">for</span>&nbsp;<span class="ident" id="6854027">y</span>&nbsp;<span class="op" id="6854029">:=</span>&nbsp;<span class="num" id="6854032">0</span><span class="op" id="6854033">;</span>&nbsp;<span class="ident" id="6854035">y</span>&nbsp;<span class="op" id="6854037">&lt;</span>&nbsp;<span class="ident" id="6854039">srch</span><span class="op" id="6854043">;</span>&nbsp;<span class="ident" id="6854045">y</span><span class="op" id="6854046">++</span>&nbsp;<span class="op" id="6854049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854054">for</span>&nbsp;<span class="ident" id="6854058">x</span>&nbsp;<span class="op" id="6854060">:=</span>&nbsp;<span class="num" id="6854063">0</span><span class="op" id="6854064">;</span>&nbsp;<span class="ident" id="6854066">x</span>&nbsp;<span class="op" id="6854068">&lt;</span>&nbsp;<span class="ident" id="6854070">srcw</span><span class="op" id="6854074">;</span>&nbsp;<span class="ident" id="6854076">x</span><span class="op" id="6854077">++</span>&nbsp;<span class="op" id="6854080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854086">src1</span><span class="op" id="6854090">.</span><span class="ident" id="6854091">SetRGBA64</span><span class="op" id="6854100">(</span><span class="ident" id="6854101">x</span><span class="op" id="6854102">,</span>&nbsp;<span class="ident" id="6854104">y</span><span class="op" id="6854105">,</span>&nbsp;<span class="ident" id="6854107">color</span><span class="op" id="6854112">.</span><span class="ident" id="6854113">RGBA64</span><span class="op" id="6854119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6854126">uint16</span><span class="op" id="6854132">(</span><span class="num" id="6854133">103</span>&nbsp;<span class="op" id="6854137">*</span>&nbsp;<span class="ident" id="6854139">x</span>&nbsp;<span class="op" id="6854141">%</span>&nbsp;<span class="num" id="6854143">0x8000</span><span class="op" id="6854149">)</span><span class="op" id="6854150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6854157">uint16</span><span class="op" id="6854163">(</span><span class="num" id="6854164">101</span>&nbsp;<span class="op" id="6854168">*</span>&nbsp;<span class="ident" id="6854170">y</span>&nbsp;<span class="op" id="6854172">%</span>&nbsp;<span class="num" id="6854174">0x8000</span><span class="op" id="6854180">)</span><span class="op" id="6854181">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6854188">uint16</span><span class="op" id="6854194">(</span><span class="op" id="6854195">(</span><span class="num" id="6854196">101</span><span class="op" id="6854199">*</span><span class="ident" id="6854200">x</span>&nbsp;<span class="op" id="6854202">+</span>&nbsp;<span class="num" id="6854204">103</span><span class="op" id="6854207">*</span><span class="ident" id="6854208">y</span><span class="op" id="6854209">)</span>&nbsp;<span class="op" id="6854211">%</span>&nbsp;<span class="num" id="6854213">0x8000</span><span class="op" id="6854219">)</span><span class="op" id="6854220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6854227">0x7fff</span><span class="op" id="6854233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6854239">}</span><span class="op" id="6854240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6854245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6854249">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854253">src</span>&nbsp;<span class="op" id="6854257">=</span>&nbsp;<span class="ident" id="6854259">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854265">case</span>&nbsp;<span class="ident" id="6854270">color</span><span class="op" id="6854275">.</span><span class="ident" id="6854276">NRGBAModel</span><span class="op" id="6854286">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854290">src1</span>&nbsp;<span class="op" id="6854295">:=</span>&nbsp;<span class="ident" id="6854298">image</span><span class="op" id="6854303">.</span><span class="ident" id="6854304">NewNRGBA</span><span class="op" id="6854312">(</span><span class="ident" id="6854313">image</span><span class="op" id="6854318">.</span><span class="ident" id="6854319">Rect</span><span class="op" id="6854323">(</span><span class="num" id="6854324">0</span><span class="op" id="6854325">,</span>&nbsp;<span class="num" id="6854327">0</span><span class="op" id="6854328">,</span>&nbsp;<span class="ident" id="6854330">srcw</span><span class="op" id="6854334">,</span>&nbsp;<span class="ident" id="6854336">srch</span><span class="op" id="6854340">)</span><span class="op" id="6854341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854345">for</span>&nbsp;<span class="ident" id="6854349">y</span>&nbsp;<span class="op" id="6854351">:=</span>&nbsp;<span class="num" id="6854354">0</span><span class="op" id="6854355">;</span>&nbsp;<span class="ident" id="6854357">y</span>&nbsp;<span class="op" id="6854359">&lt;</span>&nbsp;<span class="ident" id="6854361">srch</span><span class="op" id="6854365">;</span>&nbsp;<span class="ident" id="6854367">y</span><span class="op" id="6854368">++</span>&nbsp;<span class="op" id="6854371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854376">for</span>&nbsp;<span class="ident" id="6854380">x</span>&nbsp;<span class="op" id="6854382">:=</span>&nbsp;<span class="num" id="6854385">0</span><span class="op" id="6854386">;</span>&nbsp;<span class="ident" id="6854388">x</span>&nbsp;<span class="op" id="6854390">&lt;</span>&nbsp;<span class="ident" id="6854392">srcw</span><span class="op" id="6854396">;</span>&nbsp;<span class="ident" id="6854398">x</span><span class="op" id="6854399">++</span>&nbsp;<span class="op" id="6854402">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854408">src1</span><span class="op" id="6854412">.</span><span class="ident" id="6854413">SetNRGBA</span><span class="op" id="6854421">(</span><span class="ident" id="6854422">x</span><span class="op" id="6854423">,</span>&nbsp;<span class="ident" id="6854425">y</span><span class="op" id="6854426">,</span>&nbsp;<span class="ident" id="6854428">color</span><span class="op" id="6854433">.</span><span class="ident" id="6854434">NRGBA</span><span class="op" id="6854439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6854446">uint8</span><span class="op" id="6854451">(</span><span class="num" id="6854452">13</span>&nbsp;<span class="op" id="6854455">*</span>&nbsp;<span class="ident" id="6854457">x</span>&nbsp;<span class="op" id="6854459">%</span>&nbsp;<span class="num" id="6854461">0x100</span><span class="op" id="6854466">)</span><span class="op" id="6854467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6854474">uint8</span><span class="op" id="6854479">(</span><span class="num" id="6854480">11</span>&nbsp;<span class="op" id="6854483">*</span>&nbsp;<span class="ident" id="6854485">y</span>&nbsp;<span class="op" id="6854487">%</span>&nbsp;<span class="num" id="6854489">0x100</span><span class="op" id="6854494">)</span><span class="op" id="6854495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6854502">uint8</span><span class="op" id="6854507">(</span><span class="op" id="6854508">(</span><span class="num" id="6854509">11</span><span class="op" id="6854511">*</span><span class="ident" id="6854512">x</span>&nbsp;<span class="op" id="6854514">+</span>&nbsp;<span class="num" id="6854516">13</span><span class="op" id="6854518">*</span><span class="ident" id="6854519">y</span><span class="op" id="6854520">)</span>&nbsp;<span class="op" id="6854522">%</span>&nbsp;<span class="num" id="6854524">0x100</span><span class="op" id="6854529">)</span><span class="op" id="6854530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6854537">0x7f</span><span class="op" id="6854541">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6854547">}</span><span class="op" id="6854548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6854553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6854557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854561">src</span>&nbsp;<span class="op" id="6854565">=</span>&nbsp;<span class="ident" id="6854567">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854573">case</span>&nbsp;<span class="ident" id="6854578">color</span><span class="op" id="6854583">.</span><span class="ident" id="6854584">YCbCrModel</span><span class="op" id="6854594">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854598">yy</span>&nbsp;<span class="op" id="6854601">:=</span>&nbsp;<span class="builtinfunc" id="6854604">make</span><span class="op" id="6854608">(</span><span class="op" id="6854609">[</span><span class="op" id="6854610">]</span><span class="builtintype" id="6854611">uint8</span><span class="op" id="6854616">,</span>&nbsp;<span class="ident" id="6854618">srcw</span><span class="op" id="6854622">*</span><span class="ident" id="6854623">srch</span><span class="op" id="6854627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854631">cb</span>&nbsp;<span class="op" id="6854634">:=</span>&nbsp;<span class="builtinfunc" id="6854637">make</span><span class="op" id="6854641">(</span><span class="op" id="6854642">[</span><span class="op" id="6854643">]</span><span class="builtintype" id="6854644">uint8</span><span class="op" id="6854649">,</span>&nbsp;<span class="ident" id="6854651">srcw</span><span class="op" id="6854655">*</span><span class="ident" id="6854656">srch</span><span class="op" id="6854660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854664">cr</span>&nbsp;<span class="op" id="6854667">:=</span>&nbsp;<span class="builtinfunc" id="6854670">make</span><span class="op" id="6854674">(</span><span class="op" id="6854675">[</span><span class="op" id="6854676">]</span><span class="builtintype" id="6854677">uint8</span><span class="op" id="6854682">,</span>&nbsp;<span class="ident" id="6854684">srcw</span><span class="op" id="6854688">*</span><span class="ident" id="6854689">srch</span><span class="op" id="6854693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6854697">for</span>&nbsp;<span class="ident" id="6854701">i</span>&nbsp;<span class="op" id="6854703">:=</span>&nbsp;<span class="keyword" id="6854706">range</span>&nbsp;<span class="ident" id="6854712">yy</span>&nbsp;<span class="op" id="6854715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854720">yy</span><span class="op" id="6854722">[</span><span class="ident" id="6854723">i</span><span class="op" id="6854724">]</span>&nbsp;<span class="op" id="6854726">=</span>&nbsp;<span class="builtintype" id="6854728">uint8</span><span class="op" id="6854733">(</span><span class="num" id="6854734">3</span>&nbsp;<span class="op" id="6854736">*</span>&nbsp;<span class="ident" id="6854738">i</span>&nbsp;<span class="op" id="6854740">%</span>&nbsp;<span class="num" id="6854742">0x100</span><span class="op" id="6854747">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854752">cb</span><span class="op" id="6854754">[</span><span class="ident" id="6854755">i</span><span class="op" id="6854756">]</span>&nbsp;<span class="op" id="6854758">=</span>&nbsp;<span class="builtintype" id="6854760">uint8</span><span class="op" id="6854765">(</span><span class="num" id="6854766">5</span>&nbsp;<span class="op" id="6854768">*</span>&nbsp;<span class="ident" id="6854770">i</span>&nbsp;<span class="op" id="6854772">%</span>&nbsp;<span class="num" id="6854774">0x100</span><span class="op" id="6854779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854784">cr</span><span class="op" id="6854786">[</span><span class="ident" id="6854787">i</span><span class="op" id="6854788">]</span>&nbsp;<span class="op" id="6854790">=</span>&nbsp;<span class="builtintype" id="6854792">uint8</span><span class="op" id="6854797">(</span><span class="num" id="6854798">7</span>&nbsp;<span class="op" id="6854800">*</span>&nbsp;<span class="ident" id="6854802">i</span>&nbsp;<span class="op" id="6854804">%</span>&nbsp;<span class="num" id="6854806">0x100</span><span class="op" id="6854811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6854815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854819">src</span>&nbsp;<span class="op" id="6854823">=</span>&nbsp;<span class="op" id="6854825">&amp;</span><span class="ident" id="6854826">image</span><span class="op" id="6854831">.</span><span class="ident" id="6854832">YCbCr</span><span class="op" id="6854837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854842">Y</span><span class="op" id="6854843">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6854858">yy</span><span class="op" id="6854860">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854865">Cb</span><span class="op" id="6854867">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6854881">cb</span><span class="op" id="6854883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854888">Cr</span><span class="op" id="6854890">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6854904">cr</span><span class="op" id="6854906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854911">YStride</span><span class="op" id="6854918">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6854927">srcw</span><span class="op" id="6854931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854936">CStride</span><span class="op" id="6854943">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6854952">srcw</span><span class="op" id="6854956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854961">SubsampleRatio</span><span class="op" id="6854975">:</span>&nbsp;<span class="ident" id="6854977">image</span><span class="op" id="6854982">.</span><span class="ident" id="6854983">YCbCrSubsampleRatio444</span><span class="op" id="6855005">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855010">Rect</span><span class="op" id="6855014">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6855026">image</span><span class="op" id="6855031">.</span><span class="ident" id="6855032">Rect</span><span class="op" id="6855036">(</span><span class="num" id="6855037">0</span><span class="op" id="6855038">,</span>&nbsp;<span class="num" id="6855040">0</span><span class="op" id="6855041">,</span>&nbsp;<span class="ident" id="6855043">srcw</span><span class="op" id="6855047">,</span>&nbsp;<span class="ident" id="6855049">srch</span><span class="op" id="6855053">)</span><span class="op" id="6855054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855061">default</span><span class="op" id="6855068">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855072">b</span><span class="op" id="6855073">.</span><span class="ident" id="6855074">Fatal</span><span class="op" id="6855079">(</span><span class="string" id="6855080">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="6855108">,</span>&nbsp;<span class="ident" id="6855110">scm</span><span class="op" id="6855113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855116">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855120">var</span>&nbsp;<span class="ident" id="6855124">mask</span>&nbsp;<span class="ident" id="6855129">image</span><span class="op" id="6855134">.</span><span class="ident" id="6855135">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855142">switch</span>&nbsp;<span class="ident" id="6855149">mcm</span>&nbsp;<span class="op" id="6855153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855156">case</span>&nbsp;<span class="ident" id="6855161">nil</span><span class="op" id="6855164">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6855168">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855179">case</span>&nbsp;<span class="ident" id="6855184">color</span><span class="op" id="6855189">.</span><span class="ident" id="6855190">AlphaModel</span><span class="op" id="6855200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855204">mask1</span>&nbsp;<span class="op" id="6855210">:=</span>&nbsp;<span class="ident" id="6855213">image</span><span class="op" id="6855218">.</span><span class="ident" id="6855219">NewAlpha</span><span class="op" id="6855227">(</span><span class="ident" id="6855228">image</span><span class="op" id="6855233">.</span><span class="ident" id="6855234">Rect</span><span class="op" id="6855238">(</span><span class="num" id="6855239">0</span><span class="op" id="6855240">,</span>&nbsp;<span class="num" id="6855242">0</span><span class="op" id="6855243">,</span>&nbsp;<span class="ident" id="6855245">srcw</span><span class="op" id="6855249">,</span>&nbsp;<span class="ident" id="6855251">srch</span><span class="op" id="6855255">)</span><span class="op" id="6855256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855260">for</span>&nbsp;<span class="ident" id="6855264">y</span>&nbsp;<span class="op" id="6855266">:=</span>&nbsp;<span class="num" id="6855269">0</span><span class="op" id="6855270">;</span>&nbsp;<span class="ident" id="6855272">y</span>&nbsp;<span class="op" id="6855274">&lt;</span>&nbsp;<span class="ident" id="6855276">srch</span><span class="op" id="6855280">;</span>&nbsp;<span class="ident" id="6855282">y</span><span class="op" id="6855283">++</span>&nbsp;<span class="op" id="6855286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855291">for</span>&nbsp;<span class="ident" id="6855295">x</span>&nbsp;<span class="op" id="6855297">:=</span>&nbsp;<span class="num" id="6855300">0</span><span class="op" id="6855301">;</span>&nbsp;<span class="ident" id="6855303">x</span>&nbsp;<span class="op" id="6855305">&lt;</span>&nbsp;<span class="ident" id="6855307">srcw</span><span class="op" id="6855311">;</span>&nbsp;<span class="ident" id="6855313">x</span><span class="op" id="6855314">++</span>&nbsp;<span class="op" id="6855317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855323">a</span>&nbsp;<span class="op" id="6855325">:=</span>&nbsp;<span class="builtintype" id="6855328">uint8</span><span class="op" id="6855333">(</span><span class="op" id="6855334">(</span><span class="num" id="6855335">23</span><span class="op" id="6855337">*</span><span class="ident" id="6855338">x</span>&nbsp;<span class="op" id="6855340">+</span>&nbsp;<span class="num" id="6855342">29</span><span class="op" id="6855344">*</span><span class="ident" id="6855345">y</span><span class="op" id="6855346">)</span>&nbsp;<span class="op" id="6855348">%</span>&nbsp;<span class="num" id="6855350">0x100</span><span class="op" id="6855355">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6855361">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6855407">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855458">if</span>&nbsp;<span class="ident" id="6855461">a</span>&nbsp;<span class="op" id="6855463">&gt;=</span>&nbsp;<span class="num" id="6855466">0xc0</span>&nbsp;<span class="op" id="6855471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855478">mask1</span><span class="op" id="6855483">.</span><span class="ident" id="6855484">SetAlpha</span><span class="op" id="6855492">(</span><span class="ident" id="6855493">x</span><span class="op" id="6855494">,</span>&nbsp;<span class="ident" id="6855496">y</span><span class="op" id="6855497">,</span>&nbsp;<span class="ident" id="6855499">color</span><span class="op" id="6855504">.</span><span class="ident" id="6855505">Alpha</span><span class="op" id="6855510">{</span><span class="ident" id="6855511">a</span><span class="op" id="6855512">}</span><span class="op" id="6855513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855519">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855532">mask</span>&nbsp;<span class="op" id="6855537">=</span>&nbsp;<span class="ident" id="6855539">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855546">default</span><span class="op" id="6855553">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855557">b</span><span class="op" id="6855558">.</span><span class="ident" id="6855559">Fatal</span><span class="op" id="6855564">(</span><span class="string" id="6855565">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="6855591">,</span>&nbsp;<span class="ident" id="6855593">mcm</span><span class="op" id="6855596">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855603">b</span><span class="op" id="6855604">.</span><span class="ident" id="6855605">StartTimer</span><span class="op" id="6855615">(</span><span class="op" id="6855616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855619">for</span>&nbsp;<span class="ident" id="6855623">i</span>&nbsp;<span class="op" id="6855625">:=</span>&nbsp;<span class="num" id="6855628">0</span><span class="op" id="6855629">;</span>&nbsp;<span class="ident" id="6855631">i</span>&nbsp;<span class="op" id="6855633">&lt;</span>&nbsp;<span class="ident" id="6855635">b</span><span class="op" id="6855636">.</span><span class="ident" id="6855637">N</span><span class="op" id="6855638">;</span>&nbsp;<span class="ident" id="6855640">i</span><span class="op" id="6855641">++</span>&nbsp;<span class="op" id="6855644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6855648">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855701">x</span>&nbsp;<span class="op" id="6855703">:=</span>&nbsp;<span class="num" id="6855706">3</span>&nbsp;<span class="op" id="6855708">*</span>&nbsp;<span class="ident" id="6855710">i</span>&nbsp;<span class="op" id="6855712">%</span>&nbsp;<span class="op" id="6855714">(</span><span class="ident" id="6855715">dstw</span>&nbsp;<span class="op" id="6855720">-</span>&nbsp;<span class="ident" id="6855722">srcw</span><span class="op" id="6855726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855730">y</span>&nbsp;<span class="op" id="6855732">:=</span>&nbsp;<span class="num" id="6855735">7</span>&nbsp;<span class="op" id="6855737">*</span>&nbsp;<span class="ident" id="6855739">i</span>&nbsp;<span class="op" id="6855741">%</span>&nbsp;<span class="op" id="6855743">(</span><span class="ident" id="6855744">dsth</span>&nbsp;<span class="op" id="6855749">-</span>&nbsp;<span class="ident" id="6855751">srch</span><span class="op" id="6855755">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855760">DrawMask</span><span class="op" id="6855768">(</span><span class="ident" id="6855769">dst</span><span class="op" id="6855772">,</span>&nbsp;<span class="ident" id="6855774">dst</span><span class="op" id="6855777">.</span><span class="ident" id="6855778">Bounds</span><span class="op" id="6855784">(</span><span class="op" id="6855785">)</span><span class="op" id="6855786">.</span><span class="ident" id="6855787">Add</span><span class="op" id="6855790">(</span><span class="ident" id="6855791">image</span><span class="op" id="6855796">.</span><span class="ident" id="6855797">Pt</span><span class="op" id="6855799">(</span><span class="ident" id="6855800">x</span><span class="op" id="6855801">,</span>&nbsp;<span class="ident" id="6855803">y</span><span class="op" id="6855804">)</span><span class="op" id="6855805">)</span><span class="op" id="6855806">,</span>&nbsp;<span class="ident" id="6855808">src</span><span class="op" id="6855811">,</span>&nbsp;<span class="ident" id="6855813">image</span><span class="op" id="6855818">.</span><span class="ident" id="6855819">ZP</span><span class="op" id="6855821">,</span>&nbsp;<span class="ident" id="6855823">mask</span><span class="op" id="6855827">,</span>&nbsp;<span class="ident" id="6855829">image</span><span class="op" id="6855834">.</span><span class="ident" id="6855835">ZP</span><span class="op" id="6855837">,</span>&nbsp;<span class="ident" id="6855839">op</span><span class="op" id="6855841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855844">}</span><br>
<span class="lineno">150</span><span class="op" id="6855846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6855849">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6855930">func</span>&nbsp;<span class="ident" id="6855935">BenchmarkFillOver</span><span class="op" id="6855952">(</span><span class="ident" id="6855953">b</span>&nbsp;<span class="op" id="6855955">*</span><span class="ident" id="6855956">testing</span><span class="op" id="6855963">.</span><span class="ident" id="6855964">B</span><span class="op" id="6855965">)</span>&nbsp;<span class="op" id="6855967">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855970">bench</span><span class="op" id="6855975">(</span><span class="ident" id="6855976">b</span><span class="op" id="6855977">,</span>&nbsp;<span class="ident" id="6855979">color</span><span class="op" id="6855984">.</span><span class="ident" id="6855985">RGBAModel</span><span class="op" id="6855994">,</span>&nbsp;<span class="ident" id="6855996">nil</span><span class="op" id="6855999">,</span>&nbsp;<span class="ident" id="6856001">nil</span><span class="op" id="6856004">,</span>&nbsp;<span class="ident" id="6856006">Over</span><span class="op" id="6856010">)</span><br>
<span class="lineno"></span><span class="op" id="6856012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6856015">func</span>&nbsp;<span class="ident" id="6856020">BenchmarkFillSrc</span><span class="op" id="6856036">(</span><span class="ident" id="6856037">b</span>&nbsp;<span class="op" id="6856039">*</span><span class="ident" id="6856040">testing</span><span class="op" id="6856047">.</span><span class="ident" id="6856048">B</span><span class="op" id="6856049">)</span>&nbsp;<span class="op" id="6856051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856054">bench</span><span class="op" id="6856059">(</span><span class="ident" id="6856060">b</span><span class="op" id="6856061">,</span>&nbsp;<span class="ident" id="6856063">color</span><span class="op" id="6856068">.</span><span class="ident" id="6856069">RGBAModel</span><span class="op" id="6856078">,</span>&nbsp;<span class="ident" id="6856080">nil</span><span class="op" id="6856083">,</span>&nbsp;<span class="ident" id="6856085">nil</span><span class="op" id="6856088">,</span>&nbsp;<span class="ident" id="6856090">Src</span><span class="op" id="6856093">)</span><br>
<span class="lineno">160</span><span class="op" id="6856095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6856098">func</span>&nbsp;<span class="ident" id="6856103">BenchmarkCopyOver</span><span class="op" id="6856120">(</span><span class="ident" id="6856121">b</span>&nbsp;<span class="op" id="6856123">*</span><span class="ident" id="6856124">testing</span><span class="op" id="6856131">.</span><span class="ident" id="6856132">B</span><span class="op" id="6856133">)</span>&nbsp;<span class="op" id="6856135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856138">bench</span><span class="op" id="6856143">(</span><span class="ident" id="6856144">b</span><span class="op" id="6856145">,</span>&nbsp;<span class="ident" id="6856147">color</span><span class="op" id="6856152">.</span><span class="ident" id="6856153">RGBAModel</span><span class="op" id="6856162">,</span>&nbsp;<span class="ident" id="6856164">color</span><span class="op" id="6856169">.</span><span class="ident" id="6856170">RGBAModel</span><span class="op" id="6856179">,</span>&nbsp;<span class="ident" id="6856181">nil</span><span class="op" id="6856184">,</span>&nbsp;<span class="ident" id="6856186">Over</span><span class="op" id="6856190">)</span><br>
<span class="lineno"></span><span class="op" id="6856192">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="6856195">func</span>&nbsp;<span class="ident" id="6856200">BenchmarkCopySrc</span><span class="op" id="6856216">(</span><span class="ident" id="6856217">b</span>&nbsp;<span class="op" id="6856219">*</span><span class="ident" id="6856220">testing</span><span class="op" id="6856227">.</span><span class="ident" id="6856228">B</span><span class="op" id="6856229">)</span>&nbsp;<span class="op" id="6856231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856234">bench</span><span class="op" id="6856239">(</span><span class="ident" id="6856240">b</span><span class="op" id="6856241">,</span>&nbsp;<span class="ident" id="6856243">color</span><span class="op" id="6856248">.</span><span class="ident" id="6856249">RGBAModel</span><span class="op" id="6856258">,</span>&nbsp;<span class="ident" id="6856260">color</span><span class="op" id="6856265">.</span><span class="ident" id="6856266">RGBAModel</span><span class="op" id="6856275">,</span>&nbsp;<span class="ident" id="6856277">nil</span><span class="op" id="6856280">,</span>&nbsp;<span class="ident" id="6856282">Src</span><span class="op" id="6856285">)</span><br>
<span class="lineno"></span><span class="op" id="6856287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="6856290">func</span>&nbsp;<span class="ident" id="6856295">BenchmarkNRGBAOver</span><span class="op" id="6856313">(</span><span class="ident" id="6856314">b</span>&nbsp;<span class="op" id="6856316">*</span><span class="ident" id="6856317">testing</span><span class="op" id="6856324">.</span><span class="ident" id="6856325">B</span><span class="op" id="6856326">)</span>&nbsp;<span class="op" id="6856328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856331">bench</span><span class="op" id="6856336">(</span><span class="ident" id="6856337">b</span><span class="op" id="6856338">,</span>&nbsp;<span class="ident" id="6856340">color</span><span class="op" id="6856345">.</span><span class="ident" id="6856346">RGBAModel</span><span class="op" id="6856355">,</span>&nbsp;<span class="ident" id="6856357">color</span><span class="op" id="6856362">.</span><span class="ident" id="6856363">NRGBAModel</span><span class="op" id="6856373">,</span>&nbsp;<span class="ident" id="6856375">nil</span><span class="op" id="6856378">,</span>&nbsp;<span class="ident" id="6856380">Over</span><span class="op" id="6856384">)</span><br>
<span class="lineno"></span><span class="op" id="6856386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6856389">func</span>&nbsp;<span class="ident" id="6856394">BenchmarkNRGBASrc</span><span class="op" id="6856411">(</span><span class="ident" id="6856412">b</span>&nbsp;<span class="op" id="6856414">*</span><span class="ident" id="6856415">testing</span><span class="op" id="6856422">.</span><span class="ident" id="6856423">B</span><span class="op" id="6856424">)</span>&nbsp;<span class="op" id="6856426">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856429">bench</span><span class="op" id="6856434">(</span><span class="ident" id="6856435">b</span><span class="op" id="6856436">,</span>&nbsp;<span class="ident" id="6856438">color</span><span class="op" id="6856443">.</span><span class="ident" id="6856444">RGBAModel</span><span class="op" id="6856453">,</span>&nbsp;<span class="ident" id="6856455">color</span><span class="op" id="6856460">.</span><span class="ident" id="6856461">NRGBAModel</span><span class="op" id="6856471">,</span>&nbsp;<span class="ident" id="6856473">nil</span><span class="op" id="6856476">,</span>&nbsp;<span class="ident" id="6856478">Src</span><span class="op" id="6856481">)</span><br>
<span class="lineno"></span><span class="op" id="6856483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6856486">func</span>&nbsp;<span class="ident" id="6856491">BenchmarkYCbCr</span><span class="op" id="6856505">(</span><span class="ident" id="6856506">b</span>&nbsp;<span class="op" id="6856508">*</span><span class="ident" id="6856509">testing</span><span class="op" id="6856516">.</span><span class="ident" id="6856517">B</span><span class="op" id="6856518">)</span>&nbsp;<span class="op" id="6856520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856523">bench</span><span class="op" id="6856528">(</span><span class="ident" id="6856529">b</span><span class="op" id="6856530">,</span>&nbsp;<span class="ident" id="6856532">color</span><span class="op" id="6856537">.</span><span class="ident" id="6856538">RGBAModel</span><span class="op" id="6856547">,</span>&nbsp;<span class="ident" id="6856549">color</span><span class="op" id="6856554">.</span><span class="ident" id="6856555">YCbCrModel</span><span class="op" id="6856565">,</span>&nbsp;<span class="ident" id="6856567">nil</span><span class="op" id="6856570">,</span>&nbsp;<span class="ident" id="6856572">Over</span><span class="op" id="6856576">)</span><br>
<span class="lineno">180</span><span class="op" id="6856578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6856581">func</span>&nbsp;<span class="ident" id="6856586">BenchmarkGlyphOver</span><span class="op" id="6856604">(</span><span class="ident" id="6856605">b</span>&nbsp;<span class="op" id="6856607">*</span><span class="ident" id="6856608">testing</span><span class="op" id="6856615">.</span><span class="ident" id="6856616">B</span><span class="op" id="6856617">)</span>&nbsp;<span class="op" id="6856619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856622">bench</span><span class="op" id="6856627">(</span><span class="ident" id="6856628">b</span><span class="op" id="6856629">,</span>&nbsp;<span class="ident" id="6856631">color</span><span class="op" id="6856636">.</span><span class="ident" id="6856637">RGBAModel</span><span class="op" id="6856646">,</span>&nbsp;<span class="ident" id="6856648">nil</span><span class="op" id="6856651">,</span>&nbsp;<span class="ident" id="6856653">color</span><span class="op" id="6856658">.</span><span class="ident" id="6856659">AlphaModel</span><span class="op" id="6856669">,</span>&nbsp;<span class="ident" id="6856671">Over</span><span class="op" id="6856675">)</span><br>
<span class="lineno"></span><span class="op" id="6856677">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="6856680">func</span>&nbsp;<span class="ident" id="6856685">BenchmarkRGBA</span><span class="op" id="6856698">(</span><span class="ident" id="6856699">b</span>&nbsp;<span class="op" id="6856701">*</span><span class="ident" id="6856702">testing</span><span class="op" id="6856709">.</span><span class="ident" id="6856710">B</span><span class="op" id="6856711">)</span>&nbsp;<span class="op" id="6856713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856716">bench</span><span class="op" id="6856721">(</span><span class="ident" id="6856722">b</span><span class="op" id="6856723">,</span>&nbsp;<span class="ident" id="6856725">color</span><span class="op" id="6856730">.</span><span class="ident" id="6856731">RGBAModel</span><span class="op" id="6856740">,</span>&nbsp;<span class="ident" id="6856742">color</span><span class="op" id="6856747">.</span><span class="ident" id="6856748">RGBA64Model</span><span class="op" id="6856759">,</span>&nbsp;<span class="ident" id="6856761">nil</span><span class="op" id="6856764">,</span>&nbsp;<span class="ident" id="6856766">Src</span><span class="op" id="6856769">)</span><br>
<span class="lineno"></span><span class="op" id="6856771">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="6856774">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6856850">func</span>&nbsp;<span class="ident" id="6856855">BenchmarkGenericOver</span><span class="op" id="6856875">(</span><span class="ident" id="6856876">b</span>&nbsp;<span class="op" id="6856878">*</span><span class="ident" id="6856879">testing</span><span class="op" id="6856886">.</span><span class="ident" id="6856887">B</span><span class="op" id="6856888">)</span>&nbsp;<span class="op" id="6856890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856893">bench</span><span class="op" id="6856898">(</span><span class="ident" id="6856899">b</span><span class="op" id="6856900">,</span>&nbsp;<span class="ident" id="6856902">color</span><span class="op" id="6856907">.</span><span class="ident" id="6856908">RGBA64Model</span><span class="op" id="6856919">,</span>&nbsp;<span class="ident" id="6856921">color</span><span class="op" id="6856926">.</span><span class="ident" id="6856927">RGBA64Model</span><span class="op" id="6856938">,</span>&nbsp;<span class="ident" id="6856940">nil</span><span class="op" id="6856943">,</span>&nbsp;<span class="ident" id="6856945">Over</span><span class="op" id="6856949">)</span><br>
<span class="lineno"></span><span class="op" id="6856951">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="6856954">func</span>&nbsp;<span class="ident" id="6856959">BenchmarkGenericMaskOver</span><span class="op" id="6856983">(</span><span class="ident" id="6856984">b</span>&nbsp;<span class="op" id="6856986">*</span><span class="ident" id="6856987">testing</span><span class="op" id="6856994">.</span><span class="ident" id="6856995">B</span><span class="op" id="6856996">)</span>&nbsp;<span class="op" id="6856998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857001">bench</span><span class="op" id="6857006">(</span><span class="ident" id="6857007">b</span><span class="op" id="6857008">,</span>&nbsp;<span class="ident" id="6857010">color</span><span class="op" id="6857015">.</span><span class="ident" id="6857016">RGBA64Model</span><span class="op" id="6857027">,</span>&nbsp;<span class="ident" id="6857029">color</span><span class="op" id="6857034">.</span><span class="ident" id="6857035">RGBA64Model</span><span class="op" id="6857046">,</span>&nbsp;<span class="ident" id="6857048">color</span><span class="op" id="6857053">.</span><span class="ident" id="6857054">AlphaModel</span><span class="op" id="6857064">,</span>&nbsp;<span class="ident" id="6857066">Over</span><span class="op" id="6857070">)</span><br>
<span class="lineno"></span><span class="op" id="6857072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="6857075">func</span>&nbsp;<span class="ident" id="6857080">BenchmarkGenericSrc</span><span class="op" id="6857099">(</span><span class="ident" id="6857100">b</span>&nbsp;<span class="op" id="6857102">*</span><span class="ident" id="6857103">testing</span><span class="op" id="6857110">.</span><span class="ident" id="6857111">B</span><span class="op" id="6857112">)</span>&nbsp;<span class="op" id="6857114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857117">bench</span><span class="op" id="6857122">(</span><span class="ident" id="6857123">b</span><span class="op" id="6857124">,</span>&nbsp;<span class="ident" id="6857126">color</span><span class="op" id="6857131">.</span><span class="ident" id="6857132">RGBA64Model</span><span class="op" id="6857143">,</span>&nbsp;<span class="ident" id="6857145">color</span><span class="op" id="6857150">.</span><span class="ident" id="6857151">RGBA64Model</span><span class="op" id="6857162">,</span>&nbsp;<span class="ident" id="6857164">nil</span><span class="op" id="6857167">,</span>&nbsp;<span class="ident" id="6857169">Src</span><span class="op" id="6857172">)</span><br>
<span class="lineno"></span><span class="op" id="6857174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6857177">func</span>&nbsp;<span class="ident" id="6857182">BenchmarkGenericMaskSrc</span><span class="op" id="6857205">(</span><span class="ident" id="6857206">b</span>&nbsp;<span class="op" id="6857208">*</span><span class="ident" id="6857209">testing</span><span class="op" id="6857216">.</span><span class="ident" id="6857217">B</span><span class="op" id="6857218">)</span>&nbsp;<span class="op" id="6857220">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857223">bench</span><span class="op" id="6857228">(</span><span class="ident" id="6857229">b</span><span class="op" id="6857230">,</span>&nbsp;<span class="ident" id="6857232">color</span><span class="op" id="6857237">.</span><span class="ident" id="6857238">RGBA64Model</span><span class="op" id="6857249">,</span>&nbsp;<span class="ident" id="6857251">color</span><span class="op" id="6857256">.</span><span class="ident" id="6857257">RGBA64Model</span><span class="op" id="6857268">,</span>&nbsp;<span class="ident" id="6857270">color</span><span class="op" id="6857275">.</span><span class="ident" id="6857276">AlphaModel</span><span class="op" id="6857286">,</span>&nbsp;<span class="ident" id="6857288">Src</span><span class="op" id="6857291">)</span><br>
<span class="lineno"></span><span class="op" id="6857293">}</span>
</div>
</body>
</html>
