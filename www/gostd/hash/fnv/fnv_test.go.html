<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html" class="current">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7474877">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7474932">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7474986">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7475037">package</span>&nbsp;<span class="ident" id="7475045">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475050">import</span>&nbsp;<span class="op" id="7475057">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7475060">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7475069">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7475088">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7475096">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7475106">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475109">type</span>&nbsp;<span class="ident" id="7475114">golden</span>&nbsp;<span class="keyword" id="7475121">struct</span>&nbsp;<span class="op" id="7475128">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475131">sum</span>&nbsp;&nbsp;<span class="op" id="7475136">[</span><span class="op" id="7475137">]</span><span class="builtintype" id="7475138">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7475144">text</span>&nbsp;<span class="builtintype" id="7475149">string</span><br>
<span class="lineno"></span><span class="op" id="7475156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475159">var</span>&nbsp;<span class="ident" id="7475163">golden32</span>&nbsp;<span class="op" id="7475172">=</span>&nbsp;<span class="op" id="7475174">[</span><span class="op" id="7475175">]</span><span class="ident" id="7475176">golden</span><span class="op" id="7475182">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475185">{</span><span class="op" id="7475186">[</span><span class="op" id="7475187">]</span><span class="builtintype" id="7475188">byte</span><span class="op" id="7475192">{</span><span class="num" id="7475193">0x81</span><span class="op" id="7475197">,</span>&nbsp;<span class="num" id="7475199">0x1c</span><span class="op" id="7475203">,</span>&nbsp;<span class="num" id="7475205">0x9d</span><span class="op" id="7475209">,</span>&nbsp;<span class="num" id="7475211">0xc5</span><span class="op" id="7475215">}</span><span class="op" id="7475216">,</span>&nbsp;<span class="string" id="7475218">&#34;&#34;</span><span class="op" id="7475220">}</span><span class="op" id="7475221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475224">{</span><span class="op" id="7475225">[</span><span class="op" id="7475226">]</span><span class="builtintype" id="7475227">byte</span><span class="op" id="7475231">{</span><span class="num" id="7475232">0x05</span><span class="op" id="7475236">,</span>&nbsp;<span class="num" id="7475238">0x0c</span><span class="op" id="7475242">,</span>&nbsp;<span class="num" id="7475244">0x5d</span><span class="op" id="7475248">,</span>&nbsp;<span class="num" id="7475250">0x7e</span><span class="op" id="7475254">}</span><span class="op" id="7475255">,</span>&nbsp;<span class="string" id="7475257">&#34;a&#34;</span><span class="op" id="7475260">}</span><span class="op" id="7475261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475264">{</span><span class="op" id="7475265">[</span><span class="op" id="7475266">]</span><span class="builtintype" id="7475267">byte</span><span class="op" id="7475271">{</span><span class="num" id="7475272">0x70</span><span class="op" id="7475276">,</span>&nbsp;<span class="num" id="7475278">0x77</span><span class="op" id="7475282">,</span>&nbsp;<span class="num" id="7475284">0x2d</span><span class="op" id="7475288">,</span>&nbsp;<span class="num" id="7475290">0x38</span><span class="op" id="7475294">}</span><span class="op" id="7475295">,</span>&nbsp;<span class="string" id="7475297">&#34;ab&#34;</span><span class="op" id="7475301">}</span><span class="op" id="7475302">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475305">{</span><span class="op" id="7475306">[</span><span class="op" id="7475307">]</span><span class="builtintype" id="7475308">byte</span><span class="op" id="7475312">{</span><span class="num" id="7475313">0x43</span><span class="op" id="7475317">,</span>&nbsp;<span class="num" id="7475319">0x9c</span><span class="op" id="7475323">,</span>&nbsp;<span class="num" id="7475325">0x2f</span><span class="op" id="7475329">,</span>&nbsp;<span class="num" id="7475331">0x4b</span><span class="op" id="7475335">}</span><span class="op" id="7475336">,</span>&nbsp;<span class="string" id="7475338">&#34;abc&#34;</span><span class="op" id="7475343">}</span><span class="op" id="7475344">,</span><br>
<span class="lineno"></span><span class="op" id="7475346">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7475349">var</span>&nbsp;<span class="ident" id="7475353">golden32a</span>&nbsp;<span class="op" id="7475363">=</span>&nbsp;<span class="op" id="7475365">[</span><span class="op" id="7475366">]</span><span class="ident" id="7475367">golden</span><span class="op" id="7475373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475376">{</span><span class="op" id="7475377">[</span><span class="op" id="7475378">]</span><span class="builtintype" id="7475379">byte</span><span class="op" id="7475383">{</span><span class="num" id="7475384">0x81</span><span class="op" id="7475388">,</span>&nbsp;<span class="num" id="7475390">0x1c</span><span class="op" id="7475394">,</span>&nbsp;<span class="num" id="7475396">0x9d</span><span class="op" id="7475400">,</span>&nbsp;<span class="num" id="7475402">0xc5</span><span class="op" id="7475406">}</span><span class="op" id="7475407">,</span>&nbsp;<span class="string" id="7475409">&#34;&#34;</span><span class="op" id="7475411">}</span><span class="op" id="7475412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475415">{</span><span class="op" id="7475416">[</span><span class="op" id="7475417">]</span><span class="builtintype" id="7475418">byte</span><span class="op" id="7475422">{</span><span class="num" id="7475423">0xe4</span><span class="op" id="7475427">,</span>&nbsp;<span class="num" id="7475429">0x0c</span><span class="op" id="7475433">,</span>&nbsp;<span class="num" id="7475435">0x29</span><span class="op" id="7475439">,</span>&nbsp;<span class="num" id="7475441">0x2c</span><span class="op" id="7475445">}</span><span class="op" id="7475446">,</span>&nbsp;<span class="string" id="7475448">&#34;a&#34;</span><span class="op" id="7475451">}</span><span class="op" id="7475452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475455">{</span><span class="op" id="7475456">[</span><span class="op" id="7475457">]</span><span class="builtintype" id="7475458">byte</span><span class="op" id="7475462">{</span><span class="num" id="7475463">0x4d</span><span class="op" id="7475467">,</span>&nbsp;<span class="num" id="7475469">0x25</span><span class="op" id="7475473">,</span>&nbsp;<span class="num" id="7475475">0x05</span><span class="op" id="7475479">,</span>&nbsp;<span class="num" id="7475481">0xca</span><span class="op" id="7475485">}</span><span class="op" id="7475486">,</span>&nbsp;<span class="string" id="7475488">&#34;ab&#34;</span><span class="op" id="7475492">}</span><span class="op" id="7475493">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475496">{</span><span class="op" id="7475497">[</span><span class="op" id="7475498">]</span><span class="builtintype" id="7475499">byte</span><span class="op" id="7475503">{</span><span class="num" id="7475504">0x1a</span><span class="op" id="7475508">,</span>&nbsp;<span class="num" id="7475510">0x47</span><span class="op" id="7475514">,</span>&nbsp;<span class="num" id="7475516">0xe9</span><span class="op" id="7475520">,</span>&nbsp;<span class="num" id="7475522">0x0b</span><span class="op" id="7475526">}</span><span class="op" id="7475527">,</span>&nbsp;<span class="string" id="7475529">&#34;abc&#34;</span><span class="op" id="7475534">}</span><span class="op" id="7475535">,</span><br>
<span class="lineno"></span><span class="op" id="7475537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7475540">var</span>&nbsp;<span class="ident" id="7475544">golden64</span>&nbsp;<span class="op" id="7475553">=</span>&nbsp;<span class="op" id="7475555">[</span><span class="op" id="7475556">]</span><span class="ident" id="7475557">golden</span><span class="op" id="7475563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475566">{</span><span class="op" id="7475567">[</span><span class="op" id="7475568">]</span><span class="builtintype" id="7475569">byte</span><span class="op" id="7475573">{</span><span class="num" id="7475574">0xcb</span><span class="op" id="7475578">,</span>&nbsp;<span class="num" id="7475580">0xf2</span><span class="op" id="7475584">,</span>&nbsp;<span class="num" id="7475586">0x9c</span><span class="op" id="7475590">,</span>&nbsp;<span class="num" id="7475592">0xe4</span><span class="op" id="7475596">,</span>&nbsp;<span class="num" id="7475598">0x84</span><span class="op" id="7475602">,</span>&nbsp;<span class="num" id="7475604">0x22</span><span class="op" id="7475608">,</span>&nbsp;<span class="num" id="7475610">0x23</span><span class="op" id="7475614">,</span>&nbsp;<span class="num" id="7475616">0x25</span><span class="op" id="7475620">}</span><span class="op" id="7475621">,</span>&nbsp;<span class="string" id="7475623">&#34;&#34;</span><span class="op" id="7475625">}</span><span class="op" id="7475626">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475629">{</span><span class="op" id="7475630">[</span><span class="op" id="7475631">]</span><span class="builtintype" id="7475632">byte</span><span class="op" id="7475636">{</span><span class="num" id="7475637">0xaf</span><span class="op" id="7475641">,</span>&nbsp;<span class="num" id="7475643">0x63</span><span class="op" id="7475647">,</span>&nbsp;<span class="num" id="7475649">0xbd</span><span class="op" id="7475653">,</span>&nbsp;<span class="num" id="7475655">0x4c</span><span class="op" id="7475659">,</span>&nbsp;<span class="num" id="7475661">0x86</span><span class="op" id="7475665">,</span>&nbsp;<span class="num" id="7475667">0x01</span><span class="op" id="7475671">,</span>&nbsp;<span class="num" id="7475673">0xb7</span><span class="op" id="7475677">,</span>&nbsp;<span class="num" id="7475679">0xbe</span><span class="op" id="7475683">}</span><span class="op" id="7475684">,</span>&nbsp;<span class="string" id="7475686">&#34;a&#34;</span><span class="op" id="7475689">}</span><span class="op" id="7475690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475693">{</span><span class="op" id="7475694">[</span><span class="op" id="7475695">]</span><span class="builtintype" id="7475696">byte</span><span class="op" id="7475700">{</span><span class="num" id="7475701">0x08</span><span class="op" id="7475705">,</span>&nbsp;<span class="num" id="7475707">0x32</span><span class="op" id="7475711">,</span>&nbsp;<span class="num" id="7475713">0x67</span><span class="op" id="7475717">,</span>&nbsp;<span class="num" id="7475719">0x07</span><span class="op" id="7475723">,</span>&nbsp;<span class="num" id="7475725">0xb4</span><span class="op" id="7475729">,</span>&nbsp;<span class="num" id="7475731">0xeb</span><span class="op" id="7475735">,</span>&nbsp;<span class="num" id="7475737">0x37</span><span class="op" id="7475741">,</span>&nbsp;<span class="num" id="7475743">0xb8</span><span class="op" id="7475747">}</span><span class="op" id="7475748">,</span>&nbsp;<span class="string" id="7475750">&#34;ab&#34;</span><span class="op" id="7475754">}</span><span class="op" id="7475755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475758">{</span><span class="op" id="7475759">[</span><span class="op" id="7475760">]</span><span class="builtintype" id="7475761">byte</span><span class="op" id="7475765">{</span><span class="num" id="7475766">0xd8</span><span class="op" id="7475770">,</span>&nbsp;<span class="num" id="7475772">0xdc</span><span class="op" id="7475776">,</span>&nbsp;<span class="num" id="7475778">0xca</span><span class="op" id="7475782">,</span>&nbsp;<span class="num" id="7475784">0x18</span><span class="op" id="7475788">,</span>&nbsp;<span class="num" id="7475790">0x6b</span><span class="op" id="7475794">,</span>&nbsp;<span class="num" id="7475796">0xaf</span><span class="op" id="7475800">,</span>&nbsp;<span class="num" id="7475802">0xad</span><span class="op" id="7475806">,</span>&nbsp;<span class="num" id="7475808">0xcb</span><span class="op" id="7475812">}</span><span class="op" id="7475813">,</span>&nbsp;<span class="string" id="7475815">&#34;abc&#34;</span><span class="op" id="7475820">}</span><span class="op" id="7475821">,</span><br>
<span class="lineno"></span><span class="op" id="7475823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7475826">var</span>&nbsp;<span class="ident" id="7475830">golden64a</span>&nbsp;<span class="op" id="7475840">=</span>&nbsp;<span class="op" id="7475842">[</span><span class="op" id="7475843">]</span><span class="ident" id="7475844">golden</span><span class="op" id="7475850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475853">{</span><span class="op" id="7475854">[</span><span class="op" id="7475855">]</span><span class="builtintype" id="7475856">byte</span><span class="op" id="7475860">{</span><span class="num" id="7475861">0xcb</span><span class="op" id="7475865">,</span>&nbsp;<span class="num" id="7475867">0xf2</span><span class="op" id="7475871">,</span>&nbsp;<span class="num" id="7475873">0x9c</span><span class="op" id="7475877">,</span>&nbsp;<span class="num" id="7475879">0xe4</span><span class="op" id="7475883">,</span>&nbsp;<span class="num" id="7475885">0x84</span><span class="op" id="7475889">,</span>&nbsp;<span class="num" id="7475891">0x22</span><span class="op" id="7475895">,</span>&nbsp;<span class="num" id="7475897">0x23</span><span class="op" id="7475901">,</span>&nbsp;<span class="num" id="7475903">0x25</span><span class="op" id="7475907">}</span><span class="op" id="7475908">,</span>&nbsp;<span class="string" id="7475910">&#34;&#34;</span><span class="op" id="7475912">}</span><span class="op" id="7475913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475916">{</span><span class="op" id="7475917">[</span><span class="op" id="7475918">]</span><span class="builtintype" id="7475919">byte</span><span class="op" id="7475923">{</span><span class="num" id="7475924">0xaf</span><span class="op" id="7475928">,</span>&nbsp;<span class="num" id="7475930">0x63</span><span class="op" id="7475934">,</span>&nbsp;<span class="num" id="7475936">0xdc</span><span class="op" id="7475940">,</span>&nbsp;<span class="num" id="7475942">0x4c</span><span class="op" id="7475946">,</span>&nbsp;<span class="num" id="7475948">0x86</span><span class="op" id="7475952">,</span>&nbsp;<span class="num" id="7475954">0x01</span><span class="op" id="7475958">,</span>&nbsp;<span class="num" id="7475960">0xec</span><span class="op" id="7475964">,</span>&nbsp;<span class="num" id="7475966">0x8c</span><span class="op" id="7475970">}</span><span class="op" id="7475971">,</span>&nbsp;<span class="string" id="7475973">&#34;a&#34;</span><span class="op" id="7475976">}</span><span class="op" id="7475977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7475980">{</span><span class="op" id="7475981">[</span><span class="op" id="7475982">]</span><span class="builtintype" id="7475983">byte</span><span class="op" id="7475987">{</span><span class="num" id="7475988">0x08</span><span class="op" id="7475992">,</span>&nbsp;<span class="num" id="7475994">0x9c</span><span class="op" id="7475998">,</span>&nbsp;<span class="num" id="7476000">0x44</span><span class="op" id="7476004">,</span>&nbsp;<span class="num" id="7476006">0x07</span><span class="op" id="7476010">,</span>&nbsp;<span class="num" id="7476012">0xb5</span><span class="op" id="7476016">,</span>&nbsp;<span class="num" id="7476018">0x45</span><span class="op" id="7476022">,</span>&nbsp;<span class="num" id="7476024">0x98</span><span class="op" id="7476028">,</span>&nbsp;<span class="num" id="7476030">0x6a</span><span class="op" id="7476034">}</span><span class="op" id="7476035">,</span>&nbsp;<span class="string" id="7476037">&#34;ab&#34;</span><span class="op" id="7476041">}</span><span class="op" id="7476042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476045">{</span><span class="op" id="7476046">[</span><span class="op" id="7476047">]</span><span class="builtintype" id="7476048">byte</span><span class="op" id="7476052">{</span><span class="num" id="7476053">0xe7</span><span class="op" id="7476057">,</span>&nbsp;<span class="num" id="7476059">0x1f</span><span class="op" id="7476063">,</span>&nbsp;<span class="num" id="7476065">0xa2</span><span class="op" id="7476069">,</span>&nbsp;<span class="num" id="7476071">0x19</span><span class="op" id="7476075">,</span>&nbsp;<span class="num" id="7476077">0x05</span><span class="op" id="7476081">,</span>&nbsp;<span class="num" id="7476083">0x41</span><span class="op" id="7476087">,</span>&nbsp;<span class="num" id="7476089">0x57</span><span class="op" id="7476093">,</span>&nbsp;<span class="num" id="7476095">0x4b</span><span class="op" id="7476099">}</span><span class="op" id="7476100">,</span>&nbsp;<span class="string" id="7476102">&#34;abc&#34;</span><span class="op" id="7476107">}</span><span class="op" id="7476108">,</span><br>
<span class="lineno">45</span><span class="op" id="7476110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476113">func</span>&nbsp;<span class="ident" id="7476118">TestGolden32</span><span class="op" id="7476130">(</span><span class="ident" id="7476131">t</span>&nbsp;<span class="op" id="7476133">*</span><span class="ident" id="7476134">testing</span><span class="op" id="7476141">.</span><span class="ident" id="7476142">T</span><span class="op" id="7476143">)</span>&nbsp;<span class="op" id="7476145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476148">testGolden</span><span class="op" id="7476158">(</span><span class="ident" id="7476159">t</span><span class="op" id="7476160">,</span>&nbsp;<span class="ident" id="7476162">New32</span><span class="op" id="7476167">(</span><span class="op" id="7476168">)</span><span class="op" id="7476169">,</span>&nbsp;<span class="ident" id="7476171">golden32</span><span class="op" id="7476179">)</span><br>
<span class="lineno"></span><span class="op" id="7476181">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7476184">func</span>&nbsp;<span class="ident" id="7476189">TestGolden32a</span><span class="op" id="7476202">(</span><span class="ident" id="7476203">t</span>&nbsp;<span class="op" id="7476205">*</span><span class="ident" id="7476206">testing</span><span class="op" id="7476213">.</span><span class="ident" id="7476214">T</span><span class="op" id="7476215">)</span>&nbsp;<span class="op" id="7476217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476220">testGolden</span><span class="op" id="7476230">(</span><span class="ident" id="7476231">t</span><span class="op" id="7476232">,</span>&nbsp;<span class="ident" id="7476234">New32a</span><span class="op" id="7476240">(</span><span class="op" id="7476241">)</span><span class="op" id="7476242">,</span>&nbsp;<span class="ident" id="7476244">golden32a</span><span class="op" id="7476253">)</span><br>
<span class="lineno"></span><span class="op" id="7476255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7476258">func</span>&nbsp;<span class="ident" id="7476263">TestGolden64</span><span class="op" id="7476275">(</span><span class="ident" id="7476276">t</span>&nbsp;<span class="op" id="7476278">*</span><span class="ident" id="7476279">testing</span><span class="op" id="7476286">.</span><span class="ident" id="7476287">T</span><span class="op" id="7476288">)</span>&nbsp;<span class="op" id="7476290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476293">testGolden</span><span class="op" id="7476303">(</span><span class="ident" id="7476304">t</span><span class="op" id="7476305">,</span>&nbsp;<span class="ident" id="7476307">New64</span><span class="op" id="7476312">(</span><span class="op" id="7476313">)</span><span class="op" id="7476314">,</span>&nbsp;<span class="ident" id="7476316">golden64</span><span class="op" id="7476324">)</span><br>
<span class="lineno"></span><span class="op" id="7476326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476329">func</span>&nbsp;<span class="ident" id="7476334">TestGolden64a</span><span class="op" id="7476347">(</span><span class="ident" id="7476348">t</span>&nbsp;<span class="op" id="7476350">*</span><span class="ident" id="7476351">testing</span><span class="op" id="7476358">.</span><span class="ident" id="7476359">T</span><span class="op" id="7476360">)</span>&nbsp;<span class="op" id="7476362">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476365">testGolden</span><span class="op" id="7476375">(</span><span class="ident" id="7476376">t</span><span class="op" id="7476377">,</span>&nbsp;<span class="ident" id="7476379">New64a</span><span class="op" id="7476385">(</span><span class="op" id="7476386">)</span><span class="op" id="7476387">,</span>&nbsp;<span class="ident" id="7476389">golden64a</span><span class="op" id="7476398">)</span><br>
<span class="lineno"></span><span class="op" id="7476400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476403">func</span>&nbsp;<span class="ident" id="7476408">testGolden</span><span class="op" id="7476418">(</span><span class="ident" id="7476419">t</span>&nbsp;<span class="op" id="7476421">*</span><span class="ident" id="7476422">testing</span><span class="op" id="7476429">.</span><span class="ident" id="7476430">T</span><span class="op" id="7476431">,</span>&nbsp;<span class="ident" id="7476433">hash</span>&nbsp;<span class="ident" id="7476438">hash</span><span class="op" id="7476442">.</span><span class="ident" id="7476443">Hash</span><span class="op" id="7476447">,</span>&nbsp;<span class="ident" id="7476449">gold</span>&nbsp;<span class="op" id="7476454">[</span><span class="op" id="7476455">]</span><span class="ident" id="7476456">golden</span><span class="op" id="7476462">)</span>&nbsp;<span class="op" id="7476464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476467">for</span>&nbsp;<span class="ident" id="7476471">_</span><span class="op" id="7476472">,</span>&nbsp;<span class="ident" id="7476474">g</span>&nbsp;<span class="op" id="7476476">:=</span>&nbsp;<span class="keyword" id="7476479">range</span>&nbsp;<span class="ident" id="7476485">gold</span>&nbsp;<span class="op" id="7476490">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476494">hash</span><span class="op" id="7476498">.</span><span class="ident" id="7476499">Reset</span><span class="op" id="7476504">(</span><span class="op" id="7476505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476509">done</span><span class="op" id="7476513">,</span>&nbsp;<span class="builtintype" id="7476515">error</span>&nbsp;<span class="op" id="7476521">:=</span>&nbsp;<span class="ident" id="7476524">hash</span><span class="op" id="7476528">.</span><span class="ident" id="7476529">Write</span><span class="op" id="7476534">(</span><span class="op" id="7476535">[</span><span class="op" id="7476536">]</span><span class="builtintype" id="7476537">byte</span><span class="op" id="7476541">(</span><span class="ident" id="7476542">g</span><span class="op" id="7476543">.</span><span class="ident" id="7476544">text</span><span class="op" id="7476548">)</span><span class="op" id="7476549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476553">if</span>&nbsp;<span class="builtintype" id="7476556">error</span>&nbsp;<span class="op" id="7476562">!=</span>&nbsp;<span class="ident" id="7476565">nil</span>&nbsp;<span class="op" id="7476569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476574">t</span><span class="op" id="7476575">.</span><span class="ident" id="7476576">Fatalf</span><span class="op" id="7476582">(</span><span class="string" id="7476583">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7476600">,</span>&nbsp;<span class="builtintype" id="7476602">error</span><span class="op" id="7476607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476611">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476615">if</span>&nbsp;<span class="ident" id="7476618">done</span>&nbsp;<span class="op" id="7476623">!=</span>&nbsp;<span class="builtinfunc" id="7476626">len</span><span class="op" id="7476629">(</span><span class="ident" id="7476630">g</span><span class="op" id="7476631">.</span><span class="ident" id="7476632">text</span><span class="op" id="7476636">)</span>&nbsp;<span class="op" id="7476638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476643">t</span><span class="op" id="7476644">.</span><span class="ident" id="7476645">Fatalf</span><span class="op" id="7476651">(</span><span class="string" id="7476652">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7476683">,</span>&nbsp;<span class="ident" id="7476685">done</span><span class="op" id="7476689">,</span>&nbsp;<span class="builtinfunc" id="7476691">len</span><span class="op" id="7476694">(</span><span class="ident" id="7476695">g</span><span class="op" id="7476696">.</span><span class="ident" id="7476697">text</span><span class="op" id="7476701">)</span><span class="op" id="7476702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7476710">if</span>&nbsp;<span class="ident" id="7476713">actual</span>&nbsp;<span class="op" id="7476720">:=</span>&nbsp;<span class="ident" id="7476723">hash</span><span class="op" id="7476727">.</span><span class="ident" id="7476728">Sum</span><span class="op" id="7476731">(</span><span class="ident" id="7476732">nil</span><span class="op" id="7476735">)</span><span class="op" id="7476736">;</span>&nbsp;<span class="op" id="7476738">!</span><span class="ident" id="7476739">bytes</span><span class="op" id="7476744">.</span><span class="ident" id="7476745">Equal</span><span class="op" id="7476750">(</span><span class="ident" id="7476751">g</span><span class="op" id="7476752">.</span><span class="ident" id="7476753">sum</span><span class="op" id="7476756">,</span>&nbsp;<span class="ident" id="7476758">actual</span><span class="op" id="7476764">)</span>&nbsp;<span class="op" id="7476766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476771">t</span><span class="op" id="7476772">.</span><span class="ident" id="7476773">Errorf</span><span class="op" id="7476779">(</span><span class="string" id="7476780">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7476807">,</span>&nbsp;<span class="ident" id="7476809">g</span><span class="op" id="7476810">.</span><span class="ident" id="7476811">text</span><span class="op" id="7476815">,</span>&nbsp;<span class="ident" id="7476817">actual</span><span class="op" id="7476823">,</span>&nbsp;<span class="ident" id="7476825">g</span><span class="op" id="7476826">.</span><span class="ident" id="7476827">sum</span><span class="op" id="7476830">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7476837">}</span><br>
<span class="lineno"></span><span class="op" id="7476839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476842">func</span>&nbsp;<span class="ident" id="7476847">TestIntegrity32</span><span class="op" id="7476862">(</span><span class="ident" id="7476863">t</span>&nbsp;<span class="op" id="7476865">*</span><span class="ident" id="7476866">testing</span><span class="op" id="7476873">.</span><span class="ident" id="7476874">T</span><span class="op" id="7476875">)</span>&nbsp;<span class="op" id="7476877">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476880">testIntegrity</span><span class="op" id="7476893">(</span><span class="ident" id="7476894">t</span><span class="op" id="7476895">,</span>&nbsp;<span class="ident" id="7476897">New32</span><span class="op" id="7476902">(</span><span class="op" id="7476903">)</span><span class="op" id="7476904">)</span><br>
<span class="lineno"></span><span class="op" id="7476906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476909">func</span>&nbsp;<span class="ident" id="7476914">TestIntegrity32a</span><span class="op" id="7476930">(</span><span class="ident" id="7476931">t</span>&nbsp;<span class="op" id="7476933">*</span><span class="ident" id="7476934">testing</span><span class="op" id="7476941">.</span><span class="ident" id="7476942">T</span><span class="op" id="7476943">)</span>&nbsp;<span class="op" id="7476945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7476948">testIntegrity</span><span class="op" id="7476961">(</span><span class="ident" id="7476962">t</span><span class="op" id="7476963">,</span>&nbsp;<span class="ident" id="7476965">New32a</span><span class="op" id="7476971">(</span><span class="op" id="7476972">)</span><span class="op" id="7476973">)</span><br>
<span class="lineno">85</span><span class="op" id="7476975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7476978">func</span>&nbsp;<span class="ident" id="7476983">TestIntegrity64</span><span class="op" id="7476998">(</span><span class="ident" id="7476999">t</span>&nbsp;<span class="op" id="7477001">*</span><span class="ident" id="7477002">testing</span><span class="op" id="7477009">.</span><span class="ident" id="7477010">T</span><span class="op" id="7477011">)</span>&nbsp;<span class="op" id="7477013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477016">testIntegrity</span><span class="op" id="7477029">(</span><span class="ident" id="7477030">t</span><span class="op" id="7477031">,</span>&nbsp;<span class="ident" id="7477033">New64</span><span class="op" id="7477038">(</span><span class="op" id="7477039">)</span><span class="op" id="7477040">)</span><br>
<span class="lineno"></span><span class="op" id="7477042">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7477045">func</span>&nbsp;<span class="ident" id="7477050">TestIntegrity64a</span><span class="op" id="7477066">(</span><span class="ident" id="7477067">t</span>&nbsp;<span class="op" id="7477069">*</span><span class="ident" id="7477070">testing</span><span class="op" id="7477077">.</span><span class="ident" id="7477078">T</span><span class="op" id="7477079">)</span>&nbsp;<span class="op" id="7477081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477084">testIntegrity</span><span class="op" id="7477097">(</span><span class="ident" id="7477098">t</span><span class="op" id="7477099">,</span>&nbsp;<span class="ident" id="7477101">New64a</span><span class="op" id="7477107">(</span><span class="op" id="7477108">)</span><span class="op" id="7477109">)</span><br>
<span class="lineno"></span><span class="op" id="7477111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7477114">func</span>&nbsp;<span class="ident" id="7477119">testIntegrity</span><span class="op" id="7477132">(</span><span class="ident" id="7477133">t</span>&nbsp;<span class="op" id="7477135">*</span><span class="ident" id="7477136">testing</span><span class="op" id="7477143">.</span><span class="ident" id="7477144">T</span><span class="op" id="7477145">,</span>&nbsp;<span class="ident" id="7477147">h</span>&nbsp;<span class="ident" id="7477149">hash</span><span class="op" id="7477153">.</span><span class="ident" id="7477154">Hash</span><span class="op" id="7477158">)</span>&nbsp;<span class="op" id="7477160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477163">data</span>&nbsp;<span class="op" id="7477168">:=</span>&nbsp;<span class="op" id="7477171">[</span><span class="op" id="7477172">]</span><span class="builtintype" id="7477173">byte</span><span class="op" id="7477177">{</span><span class="string" id="7477178">&#39;1&#39;</span><span class="op" id="7477181">,</span>&nbsp;<span class="string" id="7477183">&#39;2&#39;</span><span class="op" id="7477186">,</span>&nbsp;<span class="num" id="7477188">3</span><span class="op" id="7477189">,</span>&nbsp;<span class="num" id="7477191">4</span><span class="op" id="7477192">,</span>&nbsp;<span class="num" id="7477194">5</span><span class="op" id="7477195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477198">h</span><span class="op" id="7477199">.</span><span class="ident" id="7477200">Write</span><span class="op" id="7477205">(</span><span class="ident" id="7477206">data</span><span class="op" id="7477210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477213">sum</span>&nbsp;<span class="op" id="7477217">:=</span>&nbsp;<span class="ident" id="7477220">h</span><span class="op" id="7477221">.</span><span class="ident" id="7477222">Sum</span><span class="op" id="7477225">(</span><span class="ident" id="7477226">nil</span><span class="op" id="7477229">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477233">if</span>&nbsp;<span class="ident" id="7477236">size</span>&nbsp;<span class="op" id="7477241">:=</span>&nbsp;<span class="ident" id="7477244">h</span><span class="op" id="7477245">.</span><span class="ident" id="7477246">Size</span><span class="op" id="7477250">(</span><span class="op" id="7477251">)</span><span class="op" id="7477252">;</span>&nbsp;<span class="ident" id="7477254">size</span>&nbsp;<span class="op" id="7477259">!=</span>&nbsp;<span class="builtinfunc" id="7477262">len</span><span class="op" id="7477265">(</span><span class="ident" id="7477266">sum</span><span class="op" id="7477269">)</span>&nbsp;<span class="op" id="7477271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477275">t</span><span class="op" id="7477276">.</span><span class="ident" id="7477277">Fatalf</span><span class="op" id="7477283">(</span><span class="string" id="7477284">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="7477313">,</span>&nbsp;<span class="ident" id="7477315">size</span><span class="op" id="7477319">,</span>&nbsp;<span class="builtinfunc" id="7477321">len</span><span class="op" id="7477324">(</span><span class="ident" id="7477325">sum</span><span class="op" id="7477328">)</span><span class="op" id="7477329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477336">if</span>&nbsp;<span class="ident" id="7477339">a</span>&nbsp;<span class="op" id="7477341">:=</span>&nbsp;<span class="ident" id="7477344">h</span><span class="op" id="7477345">.</span><span class="ident" id="7477346">Sum</span><span class="op" id="7477349">(</span><span class="ident" id="7477350">nil</span><span class="op" id="7477353">)</span><span class="op" id="7477354">;</span>&nbsp;<span class="op" id="7477356">!</span><span class="ident" id="7477357">bytes</span><span class="op" id="7477362">.</span><span class="ident" id="7477363">Equal</span><span class="op" id="7477368">(</span><span class="ident" id="7477369">sum</span><span class="op" id="7477372">,</span>&nbsp;<span class="ident" id="7477374">a</span><span class="op" id="7477375">)</span>&nbsp;<span class="op" id="7477377">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477381">t</span><span class="op" id="7477382">.</span><span class="ident" id="7477383">Fatalf</span><span class="op" id="7477389">(</span><span class="string" id="7477390">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7477427">,</span>&nbsp;<span class="ident" id="7477429">sum</span><span class="op" id="7477432">,</span>&nbsp;<span class="ident" id="7477434">a</span><span class="op" id="7477435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477442">h</span><span class="op" id="7477443">.</span><span class="ident" id="7477444">Reset</span><span class="op" id="7477449">(</span><span class="op" id="7477450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477453">h</span><span class="op" id="7477454">.</span><span class="ident" id="7477455">Write</span><span class="op" id="7477460">(</span><span class="ident" id="7477461">data</span><span class="op" id="7477465">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477468">if</span>&nbsp;<span class="ident" id="7477471">a</span>&nbsp;<span class="op" id="7477473">:=</span>&nbsp;<span class="ident" id="7477476">h</span><span class="op" id="7477477">.</span><span class="ident" id="7477478">Sum</span><span class="op" id="7477481">(</span><span class="ident" id="7477482">nil</span><span class="op" id="7477485">)</span><span class="op" id="7477486">;</span>&nbsp;<span class="op" id="7477488">!</span><span class="ident" id="7477489">bytes</span><span class="op" id="7477494">.</span><span class="ident" id="7477495">Equal</span><span class="op" id="7477500">(</span><span class="ident" id="7477501">sum</span><span class="op" id="7477504">,</span>&nbsp;<span class="ident" id="7477506">a</span><span class="op" id="7477507">)</span>&nbsp;<span class="op" id="7477509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477513">t</span><span class="op" id="7477514">.</span><span class="ident" id="7477515">Fatalf</span><span class="op" id="7477521">(</span><span class="string" id="7477522">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7477564">,</span>&nbsp;<span class="ident" id="7477566">sum</span><span class="op" id="7477569">,</span>&nbsp;<span class="ident" id="7477571">a</span><span class="op" id="7477572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477579">h</span><span class="op" id="7477580">.</span><span class="ident" id="7477581">Reset</span><span class="op" id="7477586">(</span><span class="op" id="7477587">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477590">h</span><span class="op" id="7477591">.</span><span class="ident" id="7477592">Write</span><span class="op" id="7477597">(</span><span class="ident" id="7477598">data</span><span class="op" id="7477602">[</span><span class="op" id="7477603">:</span><span class="num" id="7477604">2</span><span class="op" id="7477605">]</span><span class="op" id="7477606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477609">h</span><span class="op" id="7477610">.</span><span class="ident" id="7477611">Write</span><span class="op" id="7477616">(</span><span class="ident" id="7477617">data</span><span class="op" id="7477621">[</span><span class="num" id="7477622">2</span><span class="op" id="7477623">:</span><span class="op" id="7477624">]</span><span class="op" id="7477625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477628">if</span>&nbsp;<span class="ident" id="7477631">a</span>&nbsp;<span class="op" id="7477633">:=</span>&nbsp;<span class="ident" id="7477636">h</span><span class="op" id="7477637">.</span><span class="ident" id="7477638">Sum</span><span class="op" id="7477641">(</span><span class="ident" id="7477642">nil</span><span class="op" id="7477645">)</span><span class="op" id="7477646">;</span>&nbsp;<span class="op" id="7477648">!</span><span class="ident" id="7477649">bytes</span><span class="op" id="7477654">.</span><span class="ident" id="7477655">Equal</span><span class="op" id="7477660">(</span><span class="ident" id="7477661">sum</span><span class="op" id="7477664">,</span>&nbsp;<span class="ident" id="7477666">a</span><span class="op" id="7477667">)</span>&nbsp;<span class="op" id="7477669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477673">t</span><span class="op" id="7477674">.</span><span class="ident" id="7477675">Fatalf</span><span class="op" id="7477681">(</span><span class="string" id="7477682">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7477731">,</span>&nbsp;<span class="ident" id="7477733">sum</span><span class="op" id="7477736">,</span>&nbsp;<span class="ident" id="7477738">a</span><span class="op" id="7477739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477742">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477746">switch</span>&nbsp;<span class="ident" id="7477753">h</span><span class="op" id="7477754">.</span><span class="ident" id="7477755">Size</span><span class="op" id="7477759">(</span><span class="op" id="7477760">)</span>&nbsp;<span class="op" id="7477762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477765">case</span>&nbsp;<span class="num" id="7477770">4</span><span class="op" id="7477771">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477775">sum32</span>&nbsp;<span class="op" id="7477781">:=</span>&nbsp;<span class="ident" id="7477784">h</span><span class="op" id="7477785">.</span><span class="op" id="7477786">(</span><span class="ident" id="7477787">hash</span><span class="op" id="7477791">.</span><span class="ident" id="7477792">Hash32</span><span class="op" id="7477798">)</span><span class="op" id="7477799">.</span><span class="ident" id="7477800">Sum32</span><span class="op" id="7477805">(</span><span class="op" id="7477806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477810">if</span>&nbsp;<span class="ident" id="7477813">sum32</span>&nbsp;<span class="op" id="7477819">!=</span>&nbsp;<span class="ident" id="7477822">binary</span><span class="op" id="7477828">.</span><span class="ident" id="7477829">BigEndian</span><span class="op" id="7477838">.</span><span class="ident" id="7477839">Uint32</span><span class="op" id="7477845">(</span><span class="ident" id="7477846">sum</span><span class="op" id="7477849">)</span>&nbsp;<span class="op" id="7477851">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477856">t</span><span class="op" id="7477857">.</span><span class="ident" id="7477858">Fatalf</span><span class="op" id="7477864">(</span><span class="string" id="7477865">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="7477895">,</span>&nbsp;<span class="ident" id="7477897">sum</span><span class="op" id="7477900">,</span>&nbsp;<span class="ident" id="7477902">sum32</span><span class="op" id="7477907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7477911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477914">case</span>&nbsp;<span class="num" id="7477919">8</span><span class="op" id="7477920">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7477924">sum64</span>&nbsp;<span class="op" id="7477930">:=</span>&nbsp;<span class="ident" id="7477933">h</span><span class="op" id="7477934">.</span><span class="op" id="7477935">(</span><span class="ident" id="7477936">hash</span><span class="op" id="7477940">.</span><span class="ident" id="7477941">Hash64</span><span class="op" id="7477947">)</span><span class="op" id="7477948">.</span><span class="ident" id="7477949">Sum64</span><span class="op" id="7477954">(</span><span class="op" id="7477955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7477959">if</span>&nbsp;<span class="ident" id="7477962">sum64</span>&nbsp;<span class="op" id="7477968">!=</span>&nbsp;<span class="ident" id="7477971">binary</span><span class="op" id="7477977">.</span><span class="ident" id="7477978">BigEndian</span><span class="op" id="7477987">.</span><span class="ident" id="7477988">Uint64</span><span class="op" id="7477994">(</span><span class="ident" id="7477995">sum</span><span class="op" id="7477998">)</span>&nbsp;<span class="op" id="7478000">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478005">t</span><span class="op" id="7478006">.</span><span class="ident" id="7478007">Fatalf</span><span class="op" id="7478013">(</span><span class="string" id="7478014">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="7478044">,</span>&nbsp;<span class="ident" id="7478046">sum</span><span class="op" id="7478049">,</span>&nbsp;<span class="ident" id="7478051">sum64</span><span class="op" id="7478056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478063">}</span><br>
<span class="lineno"></span><span class="op" id="7478065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7478068">func</span>&nbsp;<span class="ident" id="7478073">BenchmarkFnv32KB</span><span class="op" id="7478089">(</span><span class="ident" id="7478090">b</span>&nbsp;<span class="op" id="7478092">*</span><span class="ident" id="7478093">testing</span><span class="op" id="7478100">.</span><span class="ident" id="7478101">B</span><span class="op" id="7478102">)</span>&nbsp;<span class="op" id="7478104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478107">benchmarkKB</span><span class="op" id="7478118">(</span><span class="ident" id="7478119">b</span><span class="op" id="7478120">,</span>&nbsp;<span class="ident" id="7478122">New32</span><span class="op" id="7478127">(</span><span class="op" id="7478128">)</span><span class="op" id="7478129">)</span><br>
<span class="lineno"></span><span class="op" id="7478131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7478134">func</span>&nbsp;<span class="ident" id="7478139">BenchmarkFnv32aKB</span><span class="op" id="7478156">(</span><span class="ident" id="7478157">b</span>&nbsp;<span class="op" id="7478159">*</span><span class="ident" id="7478160">testing</span><span class="op" id="7478167">.</span><span class="ident" id="7478168">B</span><span class="op" id="7478169">)</span>&nbsp;<span class="op" id="7478171">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478174">benchmarkKB</span><span class="op" id="7478185">(</span><span class="ident" id="7478186">b</span><span class="op" id="7478187">,</span>&nbsp;<span class="ident" id="7478189">New32a</span><span class="op" id="7478195">(</span><span class="op" id="7478196">)</span><span class="op" id="7478197">)</span><br>
<span class="lineno"></span><span class="op" id="7478199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7478202">func</span>&nbsp;<span class="ident" id="7478207">BenchmarkFnv64KB</span><span class="op" id="7478223">(</span><span class="ident" id="7478224">b</span>&nbsp;<span class="op" id="7478226">*</span><span class="ident" id="7478227">testing</span><span class="op" id="7478234">.</span><span class="ident" id="7478235">B</span><span class="op" id="7478236">)</span>&nbsp;<span class="op" id="7478238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478241">benchmarkKB</span><span class="op" id="7478252">(</span><span class="ident" id="7478253">b</span><span class="op" id="7478254">,</span>&nbsp;<span class="ident" id="7478256">New64</span><span class="op" id="7478261">(</span><span class="op" id="7478262">)</span><span class="op" id="7478263">)</span><br>
<span class="lineno">145</span><span class="op" id="7478265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7478268">func</span>&nbsp;<span class="ident" id="7478273">BenchmarkFnv64aKB</span><span class="op" id="7478290">(</span><span class="ident" id="7478291">b</span>&nbsp;<span class="op" id="7478293">*</span><span class="ident" id="7478294">testing</span><span class="op" id="7478301">.</span><span class="ident" id="7478302">B</span><span class="op" id="7478303">)</span>&nbsp;<span class="op" id="7478305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478308">benchmarkKB</span><span class="op" id="7478319">(</span><span class="ident" id="7478320">b</span><span class="op" id="7478321">,</span>&nbsp;<span class="ident" id="7478323">New64a</span><span class="op" id="7478329">(</span><span class="op" id="7478330">)</span><span class="op" id="7478331">)</span><br>
<span class="lineno"></span><span class="op" id="7478333">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="7478336">func</span>&nbsp;<span class="ident" id="7478341">benchmarkKB</span><span class="op" id="7478352">(</span><span class="ident" id="7478353">b</span>&nbsp;<span class="op" id="7478355">*</span><span class="ident" id="7478356">testing</span><span class="op" id="7478363">.</span><span class="ident" id="7478364">B</span><span class="op" id="7478365">,</span>&nbsp;<span class="ident" id="7478367">h</span>&nbsp;<span class="ident" id="7478369">hash</span><span class="op" id="7478373">.</span><span class="ident" id="7478374">Hash</span><span class="op" id="7478378">)</span>&nbsp;<span class="op" id="7478380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478383">b</span><span class="op" id="7478384">.</span><span class="ident" id="7478385">SetBytes</span><span class="op" id="7478393">(</span><span class="num" id="7478394">1024</span><span class="op" id="7478398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478401">data</span>&nbsp;<span class="op" id="7478406">:=</span>&nbsp;<span class="builtinfunc" id="7478409">make</span><span class="op" id="7478413">(</span><span class="op" id="7478414">[</span><span class="op" id="7478415">]</span><span class="builtintype" id="7478416">byte</span><span class="op" id="7478420">,</span>&nbsp;<span class="num" id="7478422">1024</span><span class="op" id="7478426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478429">for</span>&nbsp;<span class="ident" id="7478433">i</span>&nbsp;<span class="op" id="7478435">:=</span>&nbsp;<span class="keyword" id="7478438">range</span>&nbsp;<span class="ident" id="7478444">data</span>&nbsp;<span class="op" id="7478449">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478453">data</span><span class="op" id="7478457">[</span><span class="ident" id="7478458">i</span><span class="op" id="7478459">]</span>&nbsp;<span class="op" id="7478461">=</span>&nbsp;<span class="builtintype" id="7478463">byte</span><span class="op" id="7478467">(</span><span class="ident" id="7478468">i</span><span class="op" id="7478469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478475">in</span>&nbsp;<span class="op" id="7478478">:=</span>&nbsp;<span class="builtinfunc" id="7478481">make</span><span class="op" id="7478485">(</span><span class="op" id="7478486">[</span><span class="op" id="7478487">]</span><span class="builtintype" id="7478488">byte</span><span class="op" id="7478492">,</span>&nbsp;<span class="num" id="7478494">0</span><span class="op" id="7478495">,</span>&nbsp;<span class="ident" id="7478497">h</span><span class="op" id="7478498">.</span><span class="ident" id="7478499">Size</span><span class="op" id="7478503">(</span><span class="op" id="7478504">)</span><span class="op" id="7478505">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478509">b</span><span class="op" id="7478510">.</span><span class="ident" id="7478511">ResetTimer</span><span class="op" id="7478521">(</span><span class="op" id="7478522">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7478525">for</span>&nbsp;<span class="ident" id="7478529">i</span>&nbsp;<span class="op" id="7478531">:=</span>&nbsp;<span class="num" id="7478534">0</span><span class="op" id="7478535">;</span>&nbsp;<span class="ident" id="7478537">i</span>&nbsp;<span class="op" id="7478539">&lt;</span>&nbsp;<span class="ident" id="7478541">b</span><span class="op" id="7478542">.</span><span class="ident" id="7478543">N</span><span class="op" id="7478544">;</span>&nbsp;<span class="ident" id="7478546">i</span><span class="op" id="7478547">++</span>&nbsp;<span class="op" id="7478550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478554">h</span><span class="op" id="7478555">.</span><span class="ident" id="7478556">Reset</span><span class="op" id="7478561">(</span><span class="op" id="7478562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478566">h</span><span class="op" id="7478567">.</span><span class="ident" id="7478568">Write</span><span class="op" id="7478573">(</span><span class="ident" id="7478574">data</span><span class="op" id="7478578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7478582">h</span><span class="op" id="7478583">.</span><span class="ident" id="7478584">Sum</span><span class="op" id="7478587">(</span><span class="ident" id="7478588">in</span><span class="op" id="7478590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7478593">}</span><br>
<span class="lineno">165</span><span class="op" id="7478595">}</span>
</div>
</body>
</html>
