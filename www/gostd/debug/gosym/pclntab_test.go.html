<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html" class="current">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7897374">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7897430">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7897484">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7897535">package</span>&nbsp;<span class="ident" id="7897543">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7897550">import</span>&nbsp;<span class="op" id="7897557">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7897560">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7897573">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7897580">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7897593">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7897599">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7897610">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7897627">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7897638">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7897649">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7897659">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7897662">var</span>&nbsp;<span class="op" id="7897666">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7897669">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7897686">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7897694">pclinetestBinary</span>&nbsp;<span class="builtintype" id="7897711">string</span><br>
<span class="lineno"></span><span class="op" id="7897718">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7897721">func</span>&nbsp;<span class="ident" id="7897726">dotest</span><span class="op" id="7897732">(</span><span class="ident" id="7897733">self</span>&nbsp;<span class="builtintype" id="7897738">bool</span><span class="op" id="7897742">)</span>&nbsp;<span class="builtintype" id="7897744">bool</span>&nbsp;<span class="op" id="7897749">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7897752">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7897796">if</span>&nbsp;<span class="ident" id="7897799">runtime</span><span class="op" id="7897806">.</span><span class="ident" id="7897807">GOARCH</span>&nbsp;<span class="op" id="7897814">!=</span>&nbsp;<span class="string" id="7897817">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7897825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7897829">return</span>&nbsp;<span class="builtintype" id="7897836">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7897843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7897846">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7897900">if</span>&nbsp;<span class="ident" id="7897903">self</span>&nbsp;<span class="op" id="7897908">&amp;&amp;</span>&nbsp;<span class="ident" id="7897911">runtime</span><span class="op" id="7897918">.</span><span class="ident" id="7897919">GOOS</span>&nbsp;<span class="op" id="7897924">!=</span>&nbsp;<span class="string" id="7897927">&#34;linux&#34;</span>&nbsp;<span class="op" id="7897935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7897939">return</span>&nbsp;<span class="builtintype" id="7897946">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7897953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7897956">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7897997">if</span>&nbsp;<span class="ident" id="7898000">runtime</span><span class="op" id="7898007">.</span><span class="ident" id="7898008">GOOS</span>&nbsp;<span class="op" id="7898013">==</span>&nbsp;<span class="string" id="7898016">&#34;windows&#34;</span>&nbsp;<span class="op" id="7898026">||</span>&nbsp;<span class="ident" id="7898029">runtime</span><span class="op" id="7898036">.</span><span class="ident" id="7898037">GOOS</span>&nbsp;<span class="op" id="7898042">==</span>&nbsp;<span class="string" id="7898045">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7898053">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7898057">return</span>&nbsp;<span class="builtintype" id="7898064">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7898071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7898074">if</span>&nbsp;<span class="ident" id="7898077">pclinetestBinary</span>&nbsp;<span class="op" id="7898094">!=</span>&nbsp;<span class="string" id="7898097">&#34;&#34;</span>&nbsp;<span class="op" id="7898100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7898104">return</span>&nbsp;<span class="builtintype" id="7898111">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7898117">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7898120">var</span>&nbsp;<span class="ident" id="7898124">err</span>&nbsp;<span class="builtintype" id="7898128">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898135">pclineTempDir</span><span class="op" id="7898148">,</span>&nbsp;<span class="ident" id="7898150">err</span>&nbsp;<span class="op" id="7898154">=</span>&nbsp;<span class="ident" id="7898156">ioutil</span><span class="op" id="7898162">.</span><span class="ident" id="7898163">TempDir</span><span class="op" id="7898170">(</span><span class="string" id="7898171">&#34;&#34;</span><span class="op" id="7898173">,</span>&nbsp;<span class="string" id="7898175">&#34;pclinetest&#34;</span><span class="op" id="7898187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7898190">if</span>&nbsp;<span class="ident" id="7898193">err</span>&nbsp;<span class="op" id="7898197">!=</span>&nbsp;<span class="builtintype" id="7898200">nil</span>&nbsp;<span class="op" id="7898204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7898208">panic</span><span class="op" id="7898213">(</span><span class="ident" id="7898214">err</span><span class="op" id="7898217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7898220">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7898223">if</span>&nbsp;<span class="ident" id="7898226">strings</span><span class="op" id="7898233">.</span><span class="ident" id="7898234">Contains</span><span class="op" id="7898242">(</span><span class="ident" id="7898243">pclineTempDir</span><span class="op" id="7898256">,</span>&nbsp;<span class="string" id="7898258">&#34;&nbsp;&#34;</span><span class="op" id="7898261">)</span>&nbsp;<span class="op" id="7898263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7898267">panic</span><span class="op" id="7898272">(</span><span class="string" id="7898273">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="7898302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7898305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7898308">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7898364">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7898432">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898493">pclinetestBinary</span>&nbsp;<span class="op" id="7898510">=</span>&nbsp;<span class="ident" id="7898512">filepath</span><span class="op" id="7898520">.</span><span class="ident" id="7898521">Join</span><span class="op" id="7898525">(</span><span class="ident" id="7898526">pclineTempDir</span><span class="op" id="7898539">,</span>&nbsp;<span class="string" id="7898541">&#34;pclinetest&#34;</span><span class="op" id="7898553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898556">command</span>&nbsp;<span class="op" id="7898564">:=</span>&nbsp;<span class="ident" id="7898567">fmt</span><span class="op" id="7898570">.</span><span class="ident" id="7898571">Sprintf</span><span class="op" id="7898578">(</span><span class="string" id="7898579">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="7898656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898660">pclinetestBinary</span><span class="op" id="7898676">,</span>&nbsp;<span class="ident" id="7898678">pclinetestBinary</span><span class="op" id="7898694">,</span>&nbsp;<span class="ident" id="7898696">pclinetestBinary</span><span class="op" id="7898712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898715">cmd</span>&nbsp;<span class="op" id="7898719">:=</span>&nbsp;<span class="ident" id="7898722">exec</span><span class="op" id="7898726">.</span><span class="ident" id="7898727">Command</span><span class="op" id="7898734">(</span><span class="string" id="7898735">&#34;sh&#34;</span><span class="op" id="7898739">,</span>&nbsp;<span class="string" id="7898741">&#34;-c&#34;</span><span class="op" id="7898745">,</span>&nbsp;<span class="ident" id="7898747">command</span><span class="op" id="7898754">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898757">cmd</span><span class="op" id="7898760">.</span><span class="ident" id="7898761">Stdout</span>&nbsp;<span class="op" id="7898768">=</span>&nbsp;<span class="ident" id="7898770">os</span><span class="op" id="7898772">.</span><span class="ident" id="7898773">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898781">cmd</span><span class="op" id="7898784">.</span><span class="ident" id="7898785">Stderr</span>&nbsp;<span class="op" id="7898792">=</span>&nbsp;<span class="ident" id="7898794">os</span><span class="op" id="7898796">.</span><span class="ident" id="7898797">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7898805">if</span>&nbsp;<span class="ident" id="7898808">err</span>&nbsp;<span class="op" id="7898812">:=</span>&nbsp;<span class="ident" id="7898815">cmd</span><span class="op" id="7898818">.</span><span class="ident" id="7898819">Run</span><span class="op" id="7898822">(</span><span class="op" id="7898823">)</span><span class="op" id="7898824">;</span>&nbsp;<span class="ident" id="7898826">err</span>&nbsp;<span class="op" id="7898830">!=</span>&nbsp;<span class="builtintype" id="7898833">nil</span>&nbsp;<span class="op" id="7898837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7898841">panic</span><span class="op" id="7898846">(</span><span class="ident" id="7898847">err</span><span class="op" id="7898850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7898853">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7898856">return</span>&nbsp;<span class="builtintype" id="7898863">true</span><br>
<span class="lineno"></span><span class="op" id="7898868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7898871">func</span>&nbsp;<span class="ident" id="7898876">endtest</span><span class="op" id="7898883">(</span><span class="op" id="7898884">)</span>&nbsp;<span class="op" id="7898886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7898889">if</span>&nbsp;<span class="ident" id="7898892">pclineTempDir</span>&nbsp;<span class="op" id="7898906">!=</span>&nbsp;<span class="string" id="7898909">&#34;&#34;</span>&nbsp;<span class="op" id="7898912">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898916">os</span><span class="op" id="7898918">.</span><span class="ident" id="7898919">RemoveAll</span><span class="op" id="7898928">(</span><span class="ident" id="7898929">pclineTempDir</span><span class="op" id="7898942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898946">pclineTempDir</span>&nbsp;<span class="op" id="7898960">=</span>&nbsp;<span class="string" id="7898962">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7898967">pclinetestBinary</span>&nbsp;<span class="op" id="7898984">=</span>&nbsp;<span class="string" id="7898986">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7898990">}</span><br>
<span class="lineno"></span><span class="op" id="7898992">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7898995">func</span>&nbsp;<span class="ident" id="7899000">getTable</span><span class="op" id="7899008">(</span><span class="ident" id="7899009">t</span>&nbsp;<span class="op" id="7899011">*</span><span class="ident" id="7899012">testing</span><span class="op" id="7899019">.</span><span class="ident" id="7899020">T</span><span class="op" id="7899021">)</span>&nbsp;<span class="op" id="7899023">*</span><span class="ident" id="7899024">Table</span>&nbsp;<span class="op" id="7899030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899033">f</span><span class="op" id="7899034">,</span>&nbsp;<span class="ident" id="7899036">tab</span>&nbsp;<span class="op" id="7899040">:=</span>&nbsp;<span class="ident" id="7899043">crack</span><span class="op" id="7899048">(</span><span class="ident" id="7899049">os</span><span class="op" id="7899051">.</span><span class="ident" id="7899052">Args</span><span class="op" id="7899056">[</span><span class="num" id="7899057">0</span><span class="op" id="7899058">]</span><span class="op" id="7899059">,</span>&nbsp;<span class="ident" id="7899061">t</span><span class="op" id="7899062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899065">f</span><span class="op" id="7899066">.</span><span class="ident" id="7899067">Close</span><span class="op" id="7899072">(</span><span class="op" id="7899073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899076">return</span>&nbsp;<span class="ident" id="7899083">tab</span><br>
<span class="lineno">75</span><span class="op" id="7899087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7899090">func</span>&nbsp;<span class="ident" id="7899095">crack</span><span class="op" id="7899100">(</span><span class="ident" id="7899101">file</span>&nbsp;<span class="builtintype" id="7899106">string</span><span class="op" id="7899112">,</span>&nbsp;<span class="ident" id="7899114">t</span>&nbsp;<span class="op" id="7899116">*</span><span class="ident" id="7899117">testing</span><span class="op" id="7899124">.</span><span class="ident" id="7899125">T</span><span class="op" id="7899126">)</span>&nbsp;<span class="op" id="7899128">(</span><span class="op" id="7899129">*</span><span class="ident" id="7899130">elf</span><span class="op" id="7899133">.</span><span class="ident" id="7899134">File</span><span class="op" id="7899138">,</span>&nbsp;<span class="op" id="7899140">*</span><span class="ident" id="7899141">Table</span><span class="op" id="7899146">)</span>&nbsp;<span class="op" id="7899148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7899151">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899165">f</span><span class="op" id="7899166">,</span>&nbsp;<span class="ident" id="7899168">err</span>&nbsp;<span class="op" id="7899172">:=</span>&nbsp;<span class="ident" id="7899175">elf</span><span class="op" id="7899178">.</span><span class="ident" id="7899179">Open</span><span class="op" id="7899183">(</span><span class="ident" id="7899184">file</span><span class="op" id="7899188">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899191">if</span>&nbsp;<span class="ident" id="7899194">err</span>&nbsp;<span class="op" id="7899198">!=</span>&nbsp;<span class="builtintype" id="7899201">nil</span>&nbsp;<span class="op" id="7899205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899209">t</span><span class="op" id="7899210">.</span><span class="ident" id="7899211">Fatal</span><span class="op" id="7899216">(</span><span class="ident" id="7899217">err</span><span class="op" id="7899220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7899223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899226">return</span>&nbsp;<span class="ident" id="7899233">parse</span><span class="op" id="7899238">(</span><span class="ident" id="7899239">file</span><span class="op" id="7899243">,</span>&nbsp;<span class="ident" id="7899245">f</span><span class="op" id="7899246">,</span>&nbsp;<span class="ident" id="7899248">t</span><span class="op" id="7899249">)</span><br>
<span class="lineno"></span><span class="op" id="7899251">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="7899254">func</span>&nbsp;<span class="ident" id="7899259">parse</span><span class="op" id="7899264">(</span><span class="ident" id="7899265">file</span>&nbsp;<span class="builtintype" id="7899270">string</span><span class="op" id="7899276">,</span>&nbsp;<span class="ident" id="7899278">f</span>&nbsp;<span class="op" id="7899280">*</span><span class="ident" id="7899281">elf</span><span class="op" id="7899284">.</span><span class="ident" id="7899285">File</span><span class="op" id="7899289">,</span>&nbsp;<span class="ident" id="7899291">t</span>&nbsp;<span class="op" id="7899293">*</span><span class="ident" id="7899294">testing</span><span class="op" id="7899301">.</span><span class="ident" id="7899302">T</span><span class="op" id="7899303">)</span>&nbsp;<span class="op" id="7899305">(</span><span class="op" id="7899306">*</span><span class="ident" id="7899307">elf</span><span class="op" id="7899310">.</span><span class="ident" id="7899311">File</span><span class="op" id="7899315">,</span>&nbsp;<span class="op" id="7899317">*</span><span class="ident" id="7899318">Table</span><span class="op" id="7899323">)</span>&nbsp;<span class="op" id="7899325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899328">symdat</span><span class="op" id="7899334">,</span>&nbsp;<span class="ident" id="7899336">err</span>&nbsp;<span class="op" id="7899340">:=</span>&nbsp;<span class="ident" id="7899343">f</span><span class="op" id="7899344">.</span><span class="ident" id="7899345">Section</span><span class="op" id="7899352">(</span><span class="string" id="7899353">&#34;.gosymtab&#34;</span><span class="op" id="7899364">)</span><span class="op" id="7899365">.</span><span class="ident" id="7899366">Data</span><span class="op" id="7899370">(</span><span class="op" id="7899371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899374">if</span>&nbsp;<span class="ident" id="7899377">err</span>&nbsp;<span class="op" id="7899381">!=</span>&nbsp;<span class="builtintype" id="7899384">nil</span>&nbsp;<span class="op" id="7899388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899392">f</span><span class="op" id="7899393">.</span><span class="ident" id="7899394">Close</span><span class="op" id="7899399">(</span><span class="op" id="7899400">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899404">t</span><span class="op" id="7899405">.</span><span class="ident" id="7899406">Fatalf</span><span class="op" id="7899412">(</span><span class="string" id="7899413">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7899438">,</span>&nbsp;<span class="ident" id="7899440">file</span><span class="op" id="7899444">,</span>&nbsp;<span class="ident" id="7899446">err</span><span class="op" id="7899449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7899452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899455">pclndat</span><span class="op" id="7899462">,</span>&nbsp;<span class="ident" id="7899464">err</span>&nbsp;<span class="op" id="7899468">:=</span>&nbsp;<span class="ident" id="7899471">f</span><span class="op" id="7899472">.</span><span class="ident" id="7899473">Section</span><span class="op" id="7899480">(</span><span class="string" id="7899481">&#34;.gopclntab&#34;</span><span class="op" id="7899493">)</span><span class="op" id="7899494">.</span><span class="ident" id="7899495">Data</span><span class="op" id="7899499">(</span><span class="op" id="7899500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899503">if</span>&nbsp;<span class="ident" id="7899506">err</span>&nbsp;<span class="op" id="7899510">!=</span>&nbsp;<span class="builtintype" id="7899513">nil</span>&nbsp;<span class="op" id="7899517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899521">f</span><span class="op" id="7899522">.</span><span class="ident" id="7899523">Close</span><span class="op" id="7899528">(</span><span class="op" id="7899529">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899533">t</span><span class="op" id="7899534">.</span><span class="ident" id="7899535">Fatalf</span><span class="op" id="7899541">(</span><span class="string" id="7899542">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="7899568">,</span>&nbsp;<span class="ident" id="7899570">file</span><span class="op" id="7899574">,</span>&nbsp;<span class="ident" id="7899576">err</span><span class="op" id="7899579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7899582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899586">pcln</span>&nbsp;<span class="op" id="7899591">:=</span>&nbsp;<span class="ident" id="7899594">NewLineTable</span><span class="op" id="7899606">(</span><span class="ident" id="7899607">pclndat</span><span class="op" id="7899614">,</span>&nbsp;<span class="ident" id="7899616">f</span><span class="op" id="7899617">.</span><span class="ident" id="7899618">Section</span><span class="op" id="7899625">(</span><span class="string" id="7899626">&#34;.text&#34;</span><span class="op" id="7899633">)</span><span class="op" id="7899634">.</span><span class="ident" id="7899635">Addr</span><span class="op" id="7899639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899642">tab</span><span class="op" id="7899645">,</span>&nbsp;<span class="ident" id="7899647">err</span>&nbsp;<span class="op" id="7899651">:=</span>&nbsp;<span class="ident" id="7899654">NewTable</span><span class="op" id="7899662">(</span><span class="ident" id="7899663">symdat</span><span class="op" id="7899669">,</span>&nbsp;<span class="ident" id="7899671">pcln</span><span class="op" id="7899675">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899678">if</span>&nbsp;<span class="ident" id="7899681">err</span>&nbsp;<span class="op" id="7899685">!=</span>&nbsp;<span class="builtintype" id="7899688">nil</span>&nbsp;<span class="op" id="7899692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899696">f</span><span class="op" id="7899697">.</span><span class="ident" id="7899698">Close</span><span class="op" id="7899703">(</span><span class="op" id="7899704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899708">t</span><span class="op" id="7899709">.</span><span class="ident" id="7899710">Fatalf</span><span class="op" id="7899716">(</span><span class="string" id="7899717">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7899742">,</span>&nbsp;<span class="ident" id="7899744">file</span><span class="op" id="7899748">,</span>&nbsp;<span class="ident" id="7899750">err</span><span class="op" id="7899753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7899756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899760">return</span>&nbsp;<span class="ident" id="7899767">f</span><span class="op" id="7899768">,</span>&nbsp;<span class="ident" id="7899770">tab</span><br>
<span class="lineno"></span><span class="op" id="7899774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7899777">var</span>&nbsp;<span class="ident" id="7899781">goarch</span>&nbsp;<span class="op" id="7899788">=</span>&nbsp;<span class="ident" id="7899790">os</span><span class="op" id="7899792">.</span><span class="ident" id="7899793">Getenv</span><span class="op" id="7899799">(</span><span class="string" id="7899800">&#34;O&#34;</span><span class="op" id="7899803">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7899806">func</span>&nbsp;<span class="ident" id="7899811">TestLineFromAline</span><span class="op" id="7899828">(</span><span class="ident" id="7899829">t</span>&nbsp;<span class="op" id="7899831">*</span><span class="ident" id="7899832">testing</span><span class="op" id="7899839">.</span><span class="ident" id="7899840">T</span><span class="op" id="7899841">)</span>&nbsp;<span class="op" id="7899843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899846">if</span>&nbsp;<span class="op" id="7899849">!</span><span class="ident" id="7899850">dotest</span><span class="op" id="7899856">(</span><span class="builtintype" id="7899857">true</span><span class="op" id="7899861">)</span>&nbsp;<span class="op" id="7899863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899867">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7899875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899878">defer</span>&nbsp;<span class="ident" id="7899884">endtest</span><span class="op" id="7899891">(</span><span class="op" id="7899892">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899896">tab</span>&nbsp;<span class="op" id="7899900">:=</span>&nbsp;<span class="ident" id="7899903">getTable</span><span class="op" id="7899911">(</span><span class="ident" id="7899912">t</span><span class="op" id="7899913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7899916">if</span>&nbsp;<span class="ident" id="7899919">tab</span><span class="op" id="7899922">.</span><span class="ident" id="7899923">go12line</span>&nbsp;<span class="op" id="7899932">!=</span>&nbsp;<span class="builtintype" id="7899935">nil</span>&nbsp;<span class="op" id="7899939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7899943">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7899989">t</span><span class="op" id="7899990">.</span><span class="ident" id="7899991">Skip</span><span class="op" id="7899995">(</span><span class="string" id="7899996">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7900033">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7900036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7900040">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900065">pkg</span>&nbsp;<span class="op" id="7900069">:=</span>&nbsp;<span class="ident" id="7900072">tab</span><span class="op" id="7900075">.</span><span class="ident" id="7900076">LookupFunc</span><span class="op" id="7900086">(</span><span class="string" id="7900087">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="7900118">)</span><span class="op" id="7900119">.</span><span class="ident" id="7900120">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7900125">if</span>&nbsp;<span class="ident" id="7900128">pkg</span>&nbsp;<span class="op" id="7900132">==</span>&nbsp;<span class="builtintype" id="7900135">nil</span>&nbsp;<span class="op" id="7900139">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900143">t</span><span class="op" id="7900144">.</span><span class="ident" id="7900145">Fatalf</span><span class="op" id="7900151">(</span><span class="string" id="7900152">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="7900161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7900164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7900168">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7900226">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900256">lastline</span>&nbsp;<span class="op" id="7900265">:=</span>&nbsp;<span class="builtinfunc" id="7900268">make</span><span class="op" id="7900272">(</span><span class="keyword" id="7900273">map</span><span class="op" id="7900276">[</span><span class="builtintype" id="7900277">string</span><span class="op" id="7900283">]</span><span class="builtintype" id="7900284">int</span><span class="op" id="7900287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900290">final</span>&nbsp;<span class="op" id="7900296">:=</span>&nbsp;<span class="op" id="7900299">-</span><span class="num" id="7900300">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7900303">for</span>&nbsp;<span class="ident" id="7900307">i</span>&nbsp;<span class="op" id="7900309">:=</span>&nbsp;<span class="num" id="7900312">0</span><span class="op" id="7900313">;</span>&nbsp;<span class="ident" id="7900315">i</span>&nbsp;<span class="op" id="7900317">&lt;</span>&nbsp;<span class="num" id="7900319">10000</span><span class="op" id="7900324">;</span>&nbsp;<span class="ident" id="7900326">i</span><span class="op" id="7900327">++</span>&nbsp;<span class="op" id="7900330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900334">path</span><span class="op" id="7900338">,</span>&nbsp;<span class="ident" id="7900340">line</span>&nbsp;<span class="op" id="7900345">:=</span>&nbsp;<span class="ident" id="7900348">pkg</span><span class="op" id="7900351">.</span><span class="ident" id="7900352">lineFromAline</span><span class="op" id="7900365">(</span><span class="ident" id="7900366">i</span><span class="op" id="7900367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7900371">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7900400">if</span>&nbsp;<span class="ident" id="7900403">path</span>&nbsp;<span class="op" id="7900408">==</span>&nbsp;<span class="string" id="7900411">&#34;&#34;</span>&nbsp;<span class="op" id="7900414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7900419">if</span>&nbsp;<span class="ident" id="7900422">final</span>&nbsp;<span class="op" id="7900428">==</span>&nbsp;<span class="op" id="7900431">-</span><span class="num" id="7900432">1</span>&nbsp;<span class="op" id="7900434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900440">final</span>&nbsp;<span class="op" id="7900446">=</span>&nbsp;<span class="ident" id="7900448">i</span>&nbsp;<span class="op" id="7900450">-</span>&nbsp;<span class="num" id="7900452">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7900457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7900462">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7900473">}</span>&nbsp;<span class="keyword" id="7900475">else</span>&nbsp;<span class="keyword" id="7900480">if</span>&nbsp;<span class="ident" id="7900483">final</span>&nbsp;<span class="op" id="7900489">!=</span>&nbsp;<span class="op" id="7900492">-</span><span class="num" id="7900493">1</span>&nbsp;<span class="op" id="7900495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900500">t</span><span class="op" id="7900501">.</span><span class="ident" id="7900502">Fatalf</span><span class="op" id="7900508">(</span><span class="string" id="7900509">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="7900591">,</span>&nbsp;<span class="ident" id="7900593">final</span><span class="op" id="7900598">,</span>&nbsp;<span class="ident" id="7900600">i</span><span class="op" id="7900601">,</span>&nbsp;<span class="ident" id="7900603">path</span><span class="op" id="7900607">,</span>&nbsp;<span class="ident" id="7900609">line</span><span class="op" id="7900613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7900617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7900621">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7900678">if</span>&nbsp;<span class="ident" id="7900681">line</span>&nbsp;<span class="op" id="7900686">==</span>&nbsp;<span class="num" id="7900689">1</span>&nbsp;<span class="op" id="7900691">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900696">lastline</span><span class="op" id="7900704">[</span><span class="ident" id="7900705">path</span><span class="op" id="7900709">]</span>&nbsp;<span class="op" id="7900711">=</span>&nbsp;<span class="num" id="7900713">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7900718">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7900729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7900733">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900778">ll</span><span class="op" id="7900780">,</span>&nbsp;<span class="ident" id="7900782">ok</span>&nbsp;<span class="op" id="7900785">:=</span>&nbsp;<span class="ident" id="7900788">lastline</span><span class="op" id="7900796">[</span><span class="ident" id="7900797">path</span><span class="op" id="7900801">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7900805">if</span>&nbsp;<span class="op" id="7900808">!</span><span class="ident" id="7900809">ok</span>&nbsp;<span class="op" id="7900812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900817">t</span><span class="op" id="7900818">.</span><span class="ident" id="7900819">Errorf</span><span class="op" id="7900825">(</span><span class="string" id="7900826">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="7900853">,</span>&nbsp;<span class="ident" id="7900855">path</span><span class="op" id="7900859">,</span>&nbsp;<span class="ident" id="7900861">line</span><span class="op" id="7900865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7900869">}</span>&nbsp;<span class="keyword" id="7900871">else</span>&nbsp;<span class="keyword" id="7900876">if</span>&nbsp;<span class="ident" id="7900879">line</span>&nbsp;<span class="op" id="7900884">!=</span>&nbsp;<span class="ident" id="7900887">ll</span><span class="op" id="7900889">+</span><span class="num" id="7900890">1</span>&nbsp;<span class="op" id="7900892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900897">t</span><span class="op" id="7900898">.</span><span class="ident" id="7900899">Fatalf</span><span class="op" id="7900905">(</span><span class="string" id="7900906">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7900954">,</span>&nbsp;<span class="ident" id="7900956">path</span><span class="op" id="7900960">,</span>&nbsp;<span class="ident" id="7900962">ll</span><span class="op" id="7900964">+</span><span class="num" id="7900965">1</span><span class="op" id="7900966">,</span>&nbsp;<span class="ident" id="7900968">line</span><span class="op" id="7900972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7900976">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7900980">lastline</span><span class="op" id="7900988">[</span><span class="ident" id="7900989">path</span><span class="op" id="7900993">]</span>&nbsp;<span class="op" id="7900995">=</span>&nbsp;<span class="ident" id="7900997">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7901003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901006">if</span>&nbsp;<span class="ident" id="7901009">final</span>&nbsp;<span class="op" id="7901015">==</span>&nbsp;<span class="op" id="7901018">-</span><span class="num" id="7901019">1</span>&nbsp;<span class="op" id="7901021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7901025">t</span><span class="op" id="7901026">.</span><span class="ident" id="7901027">Errorf</span><span class="op" id="7901033">(</span><span class="string" id="7901034">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="7901063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7901066">}</span><br>
<span class="lineno">160</span><span class="op" id="7901068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7901071">func</span>&nbsp;<span class="ident" id="7901076">TestLineAline</span><span class="op" id="7901089">(</span><span class="ident" id="7901090">t</span>&nbsp;<span class="op" id="7901092">*</span><span class="ident" id="7901093">testing</span><span class="op" id="7901100">.</span><span class="ident" id="7901101">T</span><span class="op" id="7901102">)</span>&nbsp;<span class="op" id="7901104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901107">if</span>&nbsp;<span class="op" id="7901110">!</span><span class="ident" id="7901111">dotest</span><span class="op" id="7901117">(</span><span class="builtintype" id="7901118">true</span><span class="op" id="7901122">)</span>&nbsp;<span class="op" id="7901124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901128">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7901136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901139">defer</span>&nbsp;<span class="ident" id="7901145">endtest</span><span class="op" id="7901152">(</span><span class="op" id="7901153">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7901157">tab</span>&nbsp;<span class="op" id="7901161">:=</span>&nbsp;<span class="ident" id="7901164">getTable</span><span class="op" id="7901172">(</span><span class="ident" id="7901173">t</span><span class="op" id="7901174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901177">if</span>&nbsp;<span class="ident" id="7901180">tab</span><span class="op" id="7901183">.</span><span class="ident" id="7901184">go12line</span>&nbsp;<span class="op" id="7901193">!=</span>&nbsp;<span class="builtintype" id="7901196">nil</span>&nbsp;<span class="op" id="7901200">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7901204">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7901250">t</span><span class="op" id="7901251">.</span><span class="ident" id="7901252">Skip</span><span class="op" id="7901256">(</span><span class="string" id="7901257">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7901294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7901297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901301">for</span>&nbsp;<span class="ident" id="7901305">_</span><span class="op" id="7901306">,</span>&nbsp;<span class="ident" id="7901308">o</span>&nbsp;<span class="op" id="7901310">:=</span>&nbsp;<span class="keyword" id="7901313">range</span>&nbsp;<span class="ident" id="7901319">tab</span><span class="op" id="7901322">.</span><span class="ident" id="7901323">Files</span>&nbsp;<span class="op" id="7901329">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7901333">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7901383">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7901440">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7901494">found</span>&nbsp;<span class="op" id="7901500">:=</span>&nbsp;<span class="builtinfunc" id="7901503">make</span><span class="op" id="7901507">(</span><span class="keyword" id="7901508">map</span><span class="op" id="7901511">[</span><span class="builtintype" id="7901512">string</span><span class="op" id="7901518">]</span><span class="builtintype" id="7901519">int</span><span class="op" id="7901522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901526">for</span>&nbsp;<span class="ident" id="7901530">i</span>&nbsp;<span class="op" id="7901532">:=</span>&nbsp;<span class="num" id="7901535">0</span><span class="op" id="7901536">;</span>&nbsp;<span class="ident" id="7901538">i</span>&nbsp;<span class="op" id="7901540">&lt;</span>&nbsp;<span class="num" id="7901542">1000</span><span class="op" id="7901546">;</span>&nbsp;<span class="ident" id="7901548">i</span><span class="op" id="7901549">++</span>&nbsp;<span class="op" id="7901552">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7901557">path</span><span class="op" id="7901561">,</span>&nbsp;<span class="ident" id="7901563">line</span>&nbsp;<span class="op" id="7901568">:=</span>&nbsp;<span class="ident" id="7901571">o</span><span class="op" id="7901572">.</span><span class="ident" id="7901573">lineFromAline</span><span class="op" id="7901586">(</span><span class="ident" id="7901587">i</span><span class="op" id="7901588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901593">if</span>&nbsp;<span class="ident" id="7901596">path</span>&nbsp;<span class="op" id="7901601">==</span>&nbsp;<span class="string" id="7901604">&#34;&#34;</span>&nbsp;<span class="op" id="7901607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901613">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7901622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7901628">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901691">if</span>&nbsp;<span class="builtinfunc" id="7901694">len</span><span class="op" id="7901697">(</span><span class="ident" id="7901698">path</span><span class="op" id="7901702">)</span>&nbsp;<span class="op" id="7901704">&gt;</span>&nbsp;<span class="num" id="7901706">4</span>&nbsp;<span class="op" id="7901708">&amp;&amp;</span>&nbsp;<span class="ident" id="7901711">path</span><span class="op" id="7901715">[</span><span class="builtinfunc" id="7901716">len</span><span class="op" id="7901719">(</span><span class="ident" id="7901720">path</span><span class="op" id="7901724">)</span><span class="op" id="7901725">-</span><span class="num" id="7901726">4</span><span class="op" id="7901727">:</span><span class="op" id="7901728">]</span>&nbsp;<span class="op" id="7901730">==</span>&nbsp;<span class="string" id="7901733">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="7901740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901746">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7901758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901764">if</span>&nbsp;<span class="ident" id="7901767">minline</span><span class="op" id="7901774">,</span>&nbsp;<span class="ident" id="7901776">ok</span>&nbsp;<span class="op" id="7901779">:=</span>&nbsp;<span class="ident" id="7901782">found</span><span class="op" id="7901787">[</span><span class="ident" id="7901788">path</span><span class="op" id="7901792">]</span><span class="op" id="7901793">;</span>&nbsp;<span class="ident" id="7901795">path</span>&nbsp;<span class="op" id="7901800">!=</span>&nbsp;<span class="string" id="7901803">&#34;&#34;</span>&nbsp;<span class="op" id="7901806">&amp;&amp;</span>&nbsp;<span class="ident" id="7901809">ok</span>&nbsp;<span class="op" id="7901812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901818">if</span>&nbsp;<span class="ident" id="7901821">minline</span>&nbsp;<span class="op" id="7901829">&gt;=</span>&nbsp;<span class="ident" id="7901832">line</span>&nbsp;<span class="op" id="7901837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7901844">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901884">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7901897">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7901902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7901907">found</span><span class="op" id="7901912">[</span><span class="ident" id="7901913">path</span><span class="op" id="7901917">]</span>&nbsp;<span class="op" id="7901919">=</span>&nbsp;<span class="ident" id="7901921">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7901930">a</span><span class="op" id="7901931">,</span>&nbsp;<span class="ident" id="7901933">err</span>&nbsp;<span class="op" id="7901937">:=</span>&nbsp;<span class="ident" id="7901940">o</span><span class="op" id="7901941">.</span><span class="ident" id="7901942">alineFromLine</span><span class="op" id="7901955">(</span><span class="ident" id="7901956">path</span><span class="op" id="7901960">,</span>&nbsp;<span class="ident" id="7901962">line</span><span class="op" id="7901966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7901971">if</span>&nbsp;<span class="ident" id="7901974">err</span>&nbsp;<span class="op" id="7901978">!=</span>&nbsp;<span class="builtintype" id="7901981">nil</span>&nbsp;<span class="op" id="7901985">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7901991">t</span><span class="op" id="7901992">.</span><span class="ident" id="7901993">Errorf</span><span class="op" id="7901999">(</span><span class="string" id="7902000">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7902083">,</span>&nbsp;<span class="ident" id="7902085">i</span><span class="op" id="7902086">,</span>&nbsp;<span class="ident" id="7902088">o</span><span class="op" id="7902089">.</span><span class="ident" id="7902090">Paths</span><span class="op" id="7902095">[</span><span class="num" id="7902096">0</span><span class="op" id="7902097">]</span><span class="op" id="7902098">.</span><span class="ident" id="7902099">Name</span><span class="op" id="7902103">,</span>&nbsp;<span class="ident" id="7902105">path</span><span class="op" id="7902109">,</span>&nbsp;<span class="ident" id="7902111">line</span><span class="op" id="7902115">,</span>&nbsp;<span class="ident" id="7902117">err</span><span class="op" id="7902120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7902125">}</span>&nbsp;<span class="keyword" id="7902127">else</span>&nbsp;<span class="keyword" id="7902132">if</span>&nbsp;<span class="ident" id="7902135">a</span>&nbsp;<span class="op" id="7902137">!=</span>&nbsp;<span class="ident" id="7902140">i</span>&nbsp;<span class="op" id="7902142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902148">t</span><span class="op" id="7902149">.</span><span class="ident" id="7902150">Errorf</span><span class="op" id="7902156">(</span><span class="string" id="7902157">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="7902241">,</span>&nbsp;<span class="ident" id="7902243">i</span><span class="op" id="7902244">,</span>&nbsp;<span class="ident" id="7902246">o</span><span class="op" id="7902247">.</span><span class="ident" id="7902248">Paths</span><span class="op" id="7902253">[</span><span class="num" id="7902254">0</span><span class="op" id="7902255">]</span><span class="op" id="7902256">.</span><span class="ident" id="7902257">Name</span><span class="op" id="7902261">,</span>&nbsp;<span class="ident" id="7902263">path</span><span class="op" id="7902267">,</span>&nbsp;<span class="ident" id="7902269">line</span><span class="op" id="7902273">,</span>&nbsp;<span class="ident" id="7902275">a</span><span class="op" id="7902276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7902281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7902285">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7902288">}</span><br>
<span class="lineno"></span><span class="op" id="7902290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7902293">func</span>&nbsp;<span class="ident" id="7902298">TestPCLine</span><span class="op" id="7902308">(</span><span class="ident" id="7902309">t</span>&nbsp;<span class="op" id="7902311">*</span><span class="ident" id="7902312">testing</span><span class="op" id="7902319">.</span><span class="ident" id="7902320">T</span><span class="op" id="7902321">)</span>&nbsp;<span class="op" id="7902323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7902326">if</span>&nbsp;<span class="op" id="7902329">!</span><span class="ident" id="7902330">dotest</span><span class="op" id="7902336">(</span><span class="builtintype" id="7902337">false</span><span class="op" id="7902342">)</span>&nbsp;<span class="op" id="7902344">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7902348">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7902356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7902359">defer</span>&nbsp;<span class="ident" id="7902365">endtest</span><span class="op" id="7902372">(</span><span class="op" id="7902373">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902377">f</span><span class="op" id="7902378">,</span>&nbsp;<span class="ident" id="7902380">tab</span>&nbsp;<span class="op" id="7902384">:=</span>&nbsp;<span class="ident" id="7902387">crack</span><span class="op" id="7902392">(</span><span class="ident" id="7902393">pclinetestBinary</span><span class="op" id="7902409">,</span>&nbsp;<span class="ident" id="7902411">t</span><span class="op" id="7902412">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902415">text</span>&nbsp;<span class="op" id="7902420">:=</span>&nbsp;<span class="ident" id="7902423">f</span><span class="op" id="7902424">.</span><span class="ident" id="7902425">Section</span><span class="op" id="7902432">(</span><span class="string" id="7902433">&#34;.text&#34;</span><span class="op" id="7902440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902443">textdat</span><span class="op" id="7902450">,</span>&nbsp;<span class="ident" id="7902452">err</span>&nbsp;<span class="op" id="7902456">:=</span>&nbsp;<span class="ident" id="7902459">text</span><span class="op" id="7902463">.</span><span class="ident" id="7902464">Data</span><span class="op" id="7902468">(</span><span class="op" id="7902469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7902472">if</span>&nbsp;<span class="ident" id="7902475">err</span>&nbsp;<span class="op" id="7902479">!=</span>&nbsp;<span class="builtintype" id="7902482">nil</span>&nbsp;<span class="op" id="7902486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902490">t</span><span class="op" id="7902491">.</span><span class="ident" id="7902492">Fatalf</span><span class="op" id="7902498">(</span><span class="string" id="7902499">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="7902518">,</span>&nbsp;<span class="ident" id="7902520">err</span><span class="op" id="7902523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7902526">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7902530">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902548">sym</span>&nbsp;<span class="op" id="7902552">:=</span>&nbsp;<span class="ident" id="7902555">tab</span><span class="op" id="7902558">.</span><span class="ident" id="7902559">LookupFunc</span><span class="op" id="7902569">(</span><span class="string" id="7902570">&#34;linefrompc&#34;</span><span class="op" id="7902582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902585">wantLine</span>&nbsp;<span class="op" id="7902594">:=</span>&nbsp;<span class="num" id="7902597">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7902600">for</span>&nbsp;<span class="ident" id="7902604">pc</span>&nbsp;<span class="op" id="7902607">:=</span>&nbsp;<span class="ident" id="7902610">sym</span><span class="op" id="7902613">.</span><span class="ident" id="7902614">Entry</span><span class="op" id="7902619">;</span>&nbsp;<span class="ident" id="7902621">pc</span>&nbsp;<span class="op" id="7902624">&lt;</span>&nbsp;<span class="ident" id="7902626">sym</span><span class="op" id="7902629">.</span><span class="ident" id="7902630">End</span><span class="op" id="7902633">;</span>&nbsp;<span class="ident" id="7902635">pc</span><span class="op" id="7902637">++</span>&nbsp;<span class="op" id="7902640">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902644">off</span>&nbsp;<span class="op" id="7902648">:=</span>&nbsp;<span class="ident" id="7902651">pc</span>&nbsp;<span class="op" id="7902654">-</span>&nbsp;<span class="ident" id="7902656">text</span><span class="op" id="7902660">.</span><span class="ident" id="7902661">Addr</span>&nbsp;<span class="comment" id="7902666">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7902713">if</span>&nbsp;<span class="ident" id="7902716">textdat</span><span class="op" id="7902723">[</span><span class="ident" id="7902724">off</span><span class="op" id="7902727">]</span>&nbsp;<span class="op" id="7902729">==</span>&nbsp;<span class="num" id="7902732">255</span>&nbsp;<span class="op" id="7902736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7902741">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7902749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902753">wantLine</span>&nbsp;<span class="op" id="7902762">+=</span>&nbsp;<span class="builtintype" id="7902765">int</span><span class="op" id="7902768">(</span><span class="ident" id="7902769">textdat</span><span class="op" id="7902776">[</span><span class="ident" id="7902777">off</span><span class="op" id="7902780">]</span><span class="op" id="7902781">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902785">t</span><span class="op" id="7902786">.</span><span class="ident" id="7902787">Logf</span><span class="op" id="7902791">(</span><span class="string" id="7902792">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="7902816">,</span>&nbsp;<span class="ident" id="7902818">off</span><span class="op" id="7902821">,</span>&nbsp;<span class="ident" id="7902823">textdat</span><span class="op" id="7902830">[</span><span class="ident" id="7902831">off</span><span class="op" id="7902834">]</span><span class="op" id="7902835">,</span>&nbsp;<span class="ident" id="7902837">sym</span><span class="op" id="7902840">.</span><span class="ident" id="7902841">End</span><span class="op" id="7902844">-</span><span class="ident" id="7902845">pc</span><span class="op" id="7902847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902851">file</span><span class="op" id="7902855">,</span>&nbsp;<span class="ident" id="7902857">line</span><span class="op" id="7902861">,</span>&nbsp;<span class="ident" id="7902863">fn</span>&nbsp;<span class="op" id="7902866">:=</span>&nbsp;<span class="ident" id="7902869">tab</span><span class="op" id="7902872">.</span><span class="ident" id="7902873">PCToLine</span><span class="op" id="7902881">(</span><span class="ident" id="7902882">pc</span><span class="op" id="7902884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7902888">if</span>&nbsp;<span class="ident" id="7902891">fn</span>&nbsp;<span class="op" id="7902894">==</span>&nbsp;<span class="builtintype" id="7902897">nil</span>&nbsp;<span class="op" id="7902901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7902906">t</span><span class="op" id="7902907">.</span><span class="ident" id="7902908">Errorf</span><span class="op" id="7902914">(</span><span class="string" id="7902915">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="7902945">,</span>&nbsp;<span class="ident" id="7902947">pc</span><span class="op" id="7902949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7902953">}</span>&nbsp;<span class="keyword" id="7902955">else</span>&nbsp;<span class="keyword" id="7902960">if</span>&nbsp;<span class="op" id="7902963">!</span><span class="ident" id="7902964">strings</span><span class="op" id="7902971">.</span><span class="ident" id="7902972">HasSuffix</span><span class="op" id="7902981">(</span><span class="ident" id="7902982">file</span><span class="op" id="7902986">,</span>&nbsp;<span class="string" id="7902988">&#34;pclinetest.asm&#34;</span><span class="op" id="7903004">)</span>&nbsp;<span class="op" id="7903006">||</span>&nbsp;<span class="ident" id="7903009">line</span>&nbsp;<span class="op" id="7903014">!=</span>&nbsp;<span class="ident" id="7903017">wantLine</span>&nbsp;<span class="op" id="7903026">||</span>&nbsp;<span class="ident" id="7903029">fn</span>&nbsp;<span class="op" id="7903032">!=</span>&nbsp;<span class="ident" id="7903035">sym</span>&nbsp;<span class="op" id="7903039">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903044">t</span><span class="op" id="7903045">.</span><span class="ident" id="7903046">Errorf</span><span class="op" id="7903052">(</span><span class="string" id="7903053">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="7903098">,</span>&nbsp;<span class="ident" id="7903100">pc</span><span class="op" id="7903102">,</span>&nbsp;<span class="ident" id="7903104">file</span><span class="op" id="7903108">,</span>&nbsp;<span class="ident" id="7903110">line</span><span class="op" id="7903114">,</span>&nbsp;<span class="ident" id="7903116">fn</span><span class="op" id="7903118">.</span><span class="ident" id="7903119">Name</span><span class="op" id="7903123">,</span>&nbsp;<span class="string" id="7903125">&#34;pclinetest.asm&#34;</span><span class="op" id="7903141">,</span>&nbsp;<span class="ident" id="7903143">wantLine</span><span class="op" id="7903151">,</span>&nbsp;<span class="ident" id="7903153">sym</span><span class="op" id="7903156">.</span><span class="ident" id="7903157">Name</span><span class="op" id="7903161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7903172">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903190">sym</span>&nbsp;<span class="op" id="7903194">=</span>&nbsp;<span class="ident" id="7903196">tab</span><span class="op" id="7903199">.</span><span class="ident" id="7903200">LookupFunc</span><span class="op" id="7903210">(</span><span class="string" id="7903211">&#34;pcfromline&#34;</span><span class="op" id="7903223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903226">lookupline</span>&nbsp;<span class="op" id="7903237">:=</span>&nbsp;<span class="op" id="7903240">-</span><span class="num" id="7903241">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903244">wantLine</span>&nbsp;<span class="op" id="7903253">=</span>&nbsp;<span class="num" id="7903255">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903258">off</span>&nbsp;<span class="op" id="7903262">:=</span>&nbsp;<span class="ident" id="7903265">uint64</span><span class="op" id="7903271">(</span><span class="num" id="7903272">0</span><span class="op" id="7903273">)</span>&nbsp;<span class="comment" id="7903275">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903321">for</span>&nbsp;<span class="ident" id="7903325">pc</span>&nbsp;<span class="op" id="7903328">:=</span>&nbsp;<span class="ident" id="7903331">sym</span><span class="op" id="7903334">.</span><span class="ident" id="7903335">Value</span><span class="op" id="7903340">;</span>&nbsp;<span class="ident" id="7903342">pc</span>&nbsp;<span class="op" id="7903345">&lt;</span>&nbsp;<span class="ident" id="7903347">sym</span><span class="op" id="7903350">.</span><span class="ident" id="7903351">End</span><span class="op" id="7903354">;</span>&nbsp;<span class="ident" id="7903356">pc</span>&nbsp;<span class="op" id="7903359">+=</span>&nbsp;<span class="num" id="7903362">2</span>&nbsp;<span class="op" id="7903364">+</span>&nbsp;<span class="ident" id="7903366">uint64</span><span class="op" id="7903372">(</span><span class="ident" id="7903373">textdat</span><span class="op" id="7903380">[</span><span class="ident" id="7903381">off</span><span class="op" id="7903384">]</span><span class="op" id="7903385">)</span>&nbsp;<span class="op" id="7903387">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903391">file</span><span class="op" id="7903395">,</span>&nbsp;<span class="ident" id="7903397">line</span><span class="op" id="7903401">,</span>&nbsp;<span class="ident" id="7903403">fn</span>&nbsp;<span class="op" id="7903406">:=</span>&nbsp;<span class="ident" id="7903409">tab</span><span class="op" id="7903412">.</span><span class="ident" id="7903413">PCToLine</span><span class="op" id="7903421">(</span><span class="ident" id="7903422">pc</span><span class="op" id="7903424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903428">off</span>&nbsp;<span class="op" id="7903432">=</span>&nbsp;<span class="ident" id="7903434">pc</span>&nbsp;<span class="op" id="7903437">-</span>&nbsp;<span class="ident" id="7903439">text</span><span class="op" id="7903443">.</span><span class="ident" id="7903444">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903451">if</span>&nbsp;<span class="ident" id="7903454">textdat</span><span class="op" id="7903461">[</span><span class="ident" id="7903462">off</span><span class="op" id="7903465">]</span>&nbsp;<span class="op" id="7903467">==</span>&nbsp;<span class="num" id="7903470">255</span>&nbsp;<span class="op" id="7903474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903479">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903487">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903491">wantLine</span>&nbsp;<span class="op" id="7903500">+=</span>&nbsp;<span class="builtintype" id="7903503">int</span><span class="op" id="7903506">(</span><span class="ident" id="7903507">textdat</span><span class="op" id="7903514">[</span><span class="ident" id="7903515">off</span><span class="op" id="7903518">]</span><span class="op" id="7903519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903523">if</span>&nbsp;<span class="ident" id="7903526">line</span>&nbsp;<span class="op" id="7903531">!=</span>&nbsp;<span class="ident" id="7903534">wantLine</span>&nbsp;<span class="op" id="7903543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903548">t</span><span class="op" id="7903549">.</span><span class="ident" id="7903550">Errorf</span><span class="op" id="7903556">(</span><span class="string" id="7903557">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7903607">,</span>&nbsp;<span class="ident" id="7903609">wantLine</span><span class="op" id="7903617">,</span>&nbsp;<span class="ident" id="7903619">pc</span><span class="op" id="7903621">,</span>&nbsp;<span class="ident" id="7903623">line</span><span class="op" id="7903627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903632">off</span>&nbsp;<span class="op" id="7903636">=</span>&nbsp;<span class="ident" id="7903638">pc</span>&nbsp;<span class="op" id="7903641">+</span>&nbsp;<span class="num" id="7903643">1</span>&nbsp;<span class="op" id="7903645">-</span>&nbsp;<span class="ident" id="7903647">text</span><span class="op" id="7903651">.</span><span class="ident" id="7903652">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903660">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903675">if</span>&nbsp;<span class="ident" id="7903678">lookupline</span>&nbsp;<span class="op" id="7903689">==</span>&nbsp;<span class="op" id="7903692">-</span><span class="num" id="7903693">1</span>&nbsp;<span class="op" id="7903695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903700">lookupline</span>&nbsp;<span class="op" id="7903711">=</span>&nbsp;<span class="ident" id="7903713">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903724">for</span>&nbsp;<span class="op" id="7903728">;</span>&nbsp;<span class="ident" id="7903730">lookupline</span>&nbsp;<span class="op" id="7903741">&lt;=</span>&nbsp;<span class="ident" id="7903744">line</span><span class="op" id="7903748">;</span>&nbsp;<span class="ident" id="7903750">lookupline</span><span class="op" id="7903760">++</span>&nbsp;<span class="op" id="7903763">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903768">pc2</span><span class="op" id="7903771">,</span>&nbsp;<span class="ident" id="7903773">fn2</span><span class="op" id="7903776">,</span>&nbsp;<span class="ident" id="7903778">err</span>&nbsp;<span class="op" id="7903782">:=</span>&nbsp;<span class="ident" id="7903785">tab</span><span class="op" id="7903788">.</span><span class="ident" id="7903789">LineToPC</span><span class="op" id="7903797">(</span><span class="ident" id="7903798">file</span><span class="op" id="7903802">,</span>&nbsp;<span class="ident" id="7903804">lookupline</span><span class="op" id="7903814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903819">if</span>&nbsp;<span class="ident" id="7903822">lookupline</span>&nbsp;<span class="op" id="7903833">!=</span>&nbsp;<span class="ident" id="7903836">line</span>&nbsp;<span class="op" id="7903841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7903847">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7903885">if</span>&nbsp;<span class="ident" id="7903888">err</span>&nbsp;<span class="op" id="7903892">==</span>&nbsp;<span class="builtintype" id="7903895">nil</span>&nbsp;<span class="op" id="7903899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7903906">t</span><span class="op" id="7903907">.</span><span class="ident" id="7903908">Errorf</span><span class="op" id="7903914">(</span><span class="string" id="7903915">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7903956">,</span>&nbsp;<span class="ident" id="7903958">lookupline</span><span class="op" id="7903968">,</span>&nbsp;<span class="ident" id="7903970">pc2</span><span class="op" id="7903973">,</span>&nbsp;<span class="ident" id="7903975">fn2</span><span class="op" id="7903978">.</span><span class="ident" id="7903979">Name</span><span class="op" id="7903983">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7903994">}</span>&nbsp;<span class="keyword" id="7903996">else</span>&nbsp;<span class="keyword" id="7904001">if</span>&nbsp;<span class="ident" id="7904004">err</span>&nbsp;<span class="op" id="7904008">!=</span>&nbsp;<span class="builtintype" id="7904011">nil</span>&nbsp;<span class="op" id="7904015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904021">t</span><span class="op" id="7904022">.</span><span class="ident" id="7904023">Errorf</span><span class="op" id="7904029">(</span><span class="string" id="7904030">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7904063">,</span>&nbsp;<span class="ident" id="7904065">lookupline</span><span class="op" id="7904075">,</span>&nbsp;<span class="ident" id="7904077">err</span><span class="op" id="7904080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904085">}</span>&nbsp;<span class="keyword" id="7904087">else</span>&nbsp;<span class="keyword" id="7904092">if</span>&nbsp;<span class="ident" id="7904095">pc</span>&nbsp;<span class="op" id="7904098">!=</span>&nbsp;<span class="ident" id="7904101">pc2</span>&nbsp;<span class="op" id="7904105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904111">t</span><span class="op" id="7904112">.</span><span class="ident" id="7904113">Errorf</span><span class="op" id="7904119">(</span><span class="string" id="7904120">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7904170">,</span>&nbsp;<span class="ident" id="7904172">pc</span><span class="op" id="7904174">,</span>&nbsp;<span class="ident" id="7904176">fn</span><span class="op" id="7904178">.</span><span class="ident" id="7904179">Name</span><span class="op" id="7904183">,</span>&nbsp;<span class="ident" id="7904185">line</span><span class="op" id="7904189">,</span>&nbsp;<span class="ident" id="7904191">pc2</span><span class="op" id="7904194">,</span>&nbsp;<span class="ident" id="7904196">fn2</span><span class="op" id="7904199">.</span><span class="ident" id="7904200">Name</span><span class="op" id="7904204">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7904217">off</span>&nbsp;<span class="op" id="7904221">=</span>&nbsp;<span class="ident" id="7904223">pc</span>&nbsp;<span class="op" id="7904226">+</span>&nbsp;<span class="num" id="7904228">1</span>&nbsp;<span class="op" id="7904230">-</span>&nbsp;<span class="ident" id="7904232">text</span><span class="op" id="7904236">.</span><span class="ident" id="7904237">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7904243">}</span><br>
<span class="lineno"></span><span class="op" id="7904245">}</span>
</div>
</body>
</html>
