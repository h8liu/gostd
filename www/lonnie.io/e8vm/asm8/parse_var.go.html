<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5829029">package</span>&nbsp;<span class="ident" id="5829037">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5829043">import</span>&nbsp;<span class="op" id="5829050">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5829053">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5829075">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5829078">func</span>&nbsp;<span class="ident" id="5829083">parseVarStmts</span><span class="op" id="5829096">(</span><span class="ident" id="5829097">p</span>&nbsp;<span class="op" id="5829099">*</span><span class="ident" id="5829100">parser</span><span class="op" id="5829106">,</span>&nbsp;<span class="ident" id="5829108">v</span>&nbsp;<span class="op" id="5829110">*</span><span class="ident" id="5829111">varDecl</span><span class="op" id="5829118">)</span>&nbsp;<span class="op" id="5829120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829123">for</span>&nbsp;<span class="op" id="5829127">!</span><span class="op" id="5829128">(</span><span class="ident" id="5829129">p</span><span class="op" id="5829130">.</span><span class="ident" id="5829131">see</span><span class="op" id="5829134">(</span><span class="ident" id="5829135">Rbrace</span><span class="op" id="5829141">)</span>&nbsp;<span class="op" id="5829143">||</span>&nbsp;<span class="ident" id="5829146">p</span><span class="op" id="5829147">.</span><span class="ident" id="5829148">see</span><span class="op" id="5829151">(</span><span class="ident" id="5829152">lex8</span><span class="op" id="5829156">.</span><span class="ident" id="5829157">EOF</span><span class="op" id="5829160">)</span><span class="op" id="5829161">)</span>&nbsp;<span class="op" id="5829163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829167">stmt</span>&nbsp;<span class="op" id="5829172">:=</span>&nbsp;<span class="ident" id="5829175">parseVarStmt</span><span class="op" id="5829187">(</span><span class="ident" id="5829188">p</span><span class="op" id="5829189">)</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829193">if</span>&nbsp;<span class="ident" id="5829196">stmt</span>&nbsp;<span class="op" id="5829201">!=</span>&nbsp;<span class="ident" id="5829204">nil</span>&nbsp;<span class="op" id="5829208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829213">v</span><span class="op" id="5829214">.</span><span class="ident" id="5829215">stmts</span>&nbsp;<span class="op" id="5829221">=</span>&nbsp;<span class="builtinfunc" id="5829223">append</span><span class="op" id="5829229">(</span><span class="ident" id="5829230">v</span><span class="op" id="5829231">.</span><span class="ident" id="5829232">stmts</span><span class="op" id="5829237">,</span>&nbsp;<span class="ident" id="5829239">stmt</span><span class="op" id="5829243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5829247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829251">p</span><span class="op" id="5829252">.</span><span class="ident" id="5829253">clearErr</span><span class="op" id="5829261">(</span><span class="op" id="5829262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5829265">}</span><br>
<span class="lineno">15</span><span class="op" id="5829267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5829270">func</span>&nbsp;<span class="ident" id="5829275">parseVar</span><span class="op" id="5829283">(</span><span class="ident" id="5829284">p</span>&nbsp;<span class="op" id="5829286">*</span><span class="ident" id="5829287">parser</span><span class="op" id="5829293">)</span>&nbsp;<span class="op" id="5829295">*</span><span class="ident" id="5829296">varDecl</span>&nbsp;<span class="op" id="5829304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829307">ret</span>&nbsp;<span class="op" id="5829311">:=</span>&nbsp;<span class="builtinfunc" id="5829314">new</span><span class="op" id="5829317">(</span><span class="ident" id="5829318">varDecl</span><span class="op" id="5829325">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829329">ret</span><span class="op" id="5829332">.</span><span class="ident" id="5829333">kw</span>&nbsp;<span class="op" id="5829336">=</span>&nbsp;<span class="ident" id="5829338">p</span><span class="op" id="5829339">.</span><span class="ident" id="5829340">expectKeyword</span><span class="op" id="5829353">(</span><span class="string" id="5829354">&#34;var&#34;</span><span class="op" id="5829359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829362">ret</span><span class="op" id="5829365">.</span><span class="ident" id="5829366">name</span>&nbsp;<span class="op" id="5829371">=</span>&nbsp;<span class="ident" id="5829373">p</span><span class="op" id="5829374">.</span><span class="ident" id="5829375">expect</span><span class="op" id="5829381">(</span><span class="ident" id="5829382">Operand</span><span class="op" id="5829389">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829393">if</span>&nbsp;<span class="ident" id="5829396">ret</span><span class="op" id="5829399">.</span><span class="ident" id="5829400">name</span>&nbsp;<span class="op" id="5829405">!=</span>&nbsp;<span class="ident" id="5829408">nil</span>&nbsp;<span class="op" id="5829412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829416">name</span>&nbsp;<span class="op" id="5829421">:=</span>&nbsp;<span class="ident" id="5829424">ret</span><span class="op" id="5829427">.</span><span class="ident" id="5829428">name</span><span class="op" id="5829432">.</span><span class="ident" id="5829433">Lit</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829439">if</span>&nbsp;<span class="op" id="5829442">!</span><span class="ident" id="5829443">isIdent</span><span class="op" id="5829450">(</span><span class="ident" id="5829451">name</span><span class="op" id="5829455">)</span>&nbsp;<span class="op" id="5829457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829462">p</span><span class="op" id="5829463">.</span><span class="ident" id="5829464">err</span><span class="op" id="5829467">(</span><span class="ident" id="5829468">ret</span><span class="op" id="5829471">.</span><span class="ident" id="5829472">name</span><span class="op" id="5829476">.</span><span class="ident" id="5829477">Pos</span><span class="op" id="5829480">,</span>&nbsp;<span class="string" id="5829482">&#34;invalid&nbsp;var&nbsp;name&nbsp;%q&#34;</span><span class="op" id="5829503">,</span>&nbsp;<span class="ident" id="5829505">name</span><span class="op" id="5829509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5829513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5829516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829520">ret</span><span class="op" id="5829523">.</span><span class="ident" id="5829524">lbrace</span>&nbsp;<span class="op" id="5829531">=</span>&nbsp;<span class="ident" id="5829533">p</span><span class="op" id="5829534">.</span><span class="ident" id="5829535">expect</span><span class="op" id="5829541">(</span><span class="ident" id="5829542">Lbrace</span><span class="op" id="5829548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829551">if</span>&nbsp;<span class="ident" id="5829554">p</span><span class="op" id="5829555">.</span><span class="ident" id="5829556">skipErrStmt</span><span class="op" id="5829567">(</span><span class="op" id="5829568">)</span>&nbsp;<span class="op" id="5829570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829574">return</span>&nbsp;<span class="ident" id="5829581">ret</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5829586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829590">parseVarStmts</span><span class="op" id="5829603">(</span><span class="ident" id="5829604">p</span><span class="op" id="5829605">,</span>&nbsp;<span class="ident" id="5829607">ret</span><span class="op" id="5829610">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829614">ret</span><span class="op" id="5829617">.</span><span class="ident" id="5829618">rbrace</span>&nbsp;<span class="op" id="5829625">=</span>&nbsp;<span class="ident" id="5829627">p</span><span class="op" id="5829628">.</span><span class="ident" id="5829629">expect</span><span class="op" id="5829635">(</span><span class="ident" id="5829636">Rbrace</span><span class="op" id="5829642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829645">ret</span><span class="op" id="5829648">.</span><span class="ident" id="5829649">semi</span>&nbsp;<span class="op" id="5829654">=</span>&nbsp;<span class="ident" id="5829656">p</span><span class="op" id="5829657">.</span><span class="ident" id="5829658">expect</span><span class="op" id="5829664">(</span><span class="ident" id="5829665">Semi</span><span class="op" id="5829669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5829672">p</span><span class="op" id="5829673">.</span><span class="ident" id="5829674">skipErrStmt</span><span class="op" id="5829685">(</span><span class="op" id="5829686">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5829690">return</span>&nbsp;<span class="ident" id="5829697">ret</span><br>
<span class="lineno"></span><span class="op" id="5829701">}</span>
</div>
</body>
</html>
