<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html" class="current">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7150262">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7150317">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7150371">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7150422">package</span>&nbsp;<span class="ident" id="7150430">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7150437">import</span>&nbsp;<span class="op" id="7150444">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7150447">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7150456">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7150462">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7150472">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7150475">func</span>&nbsp;<span class="ident" id="7150480">TestReset</span><span class="op" id="7150489">(</span><span class="ident" id="7150490">t</span>&nbsp;<span class="op" id="7150492">*</span><span class="ident" id="7150493">testing</span><span class="op" id="7150500">.</span><span class="ident" id="7150501">T</span><span class="op" id="7150502">)</span>&nbsp;<span class="op" id="7150504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150507">ss</span>&nbsp;<span class="op" id="7150510">:=</span>&nbsp;<span class="op" id="7150513">[</span><span class="op" id="7150514">]</span><span class="builtintype" id="7150515">string</span><span class="op" id="7150521">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7150525">&#34;lorem&nbsp;ipsum&nbsp;izzle&nbsp;fo&nbsp;rizzle&#34;</span><span class="op" id="7150554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7150558">&#34;the&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&#34;</span><span class="op" id="7150591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7150594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150598">deflated</span>&nbsp;<span class="op" id="7150607">:=</span>&nbsp;<span class="builtinfunc" id="7150610">make</span><span class="op" id="7150614">(</span><span class="op" id="7150615">[</span><span class="op" id="7150616">]</span><span class="ident" id="7150617">bytes</span><span class="op" id="7150622">.</span><span class="ident" id="7150623">Buffer</span><span class="op" id="7150629">,</span>&nbsp;<span class="num" id="7150631">2</span><span class="op" id="7150632">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7150635">for</span>&nbsp;<span class="ident" id="7150639">i</span><span class="op" id="7150640">,</span>&nbsp;<span class="ident" id="7150642">s</span>&nbsp;<span class="op" id="7150644">:=</span>&nbsp;<span class="keyword" id="7150647">range</span>&nbsp;<span class="ident" id="7150653">ss</span>&nbsp;<span class="op" id="7150656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150660">w</span><span class="op" id="7150661">,</span>&nbsp;<span class="ident" id="7150663">_</span>&nbsp;<span class="op" id="7150665">:=</span>&nbsp;<span class="ident" id="7150668">NewWriter</span><span class="op" id="7150677">(</span><span class="op" id="7150678">&amp;</span><span class="ident" id="7150679">deflated</span><span class="op" id="7150687">[</span><span class="ident" id="7150688">i</span><span class="op" id="7150689">]</span><span class="op" id="7150690">,</span>&nbsp;<span class="num" id="7150692">1</span><span class="op" id="7150693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150697">w</span><span class="op" id="7150698">.</span><span class="ident" id="7150699">Write</span><span class="op" id="7150704">(</span><span class="op" id="7150705">[</span><span class="op" id="7150706">]</span><span class="builtintype" id="7150707">byte</span><span class="op" id="7150711">(</span><span class="ident" id="7150712">s</span><span class="op" id="7150713">)</span><span class="op" id="7150714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150718">w</span><span class="op" id="7150719">.</span><span class="ident" id="7150720">Close</span><span class="op" id="7150725">(</span><span class="op" id="7150726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7150729">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150733">inflated</span>&nbsp;<span class="op" id="7150742">:=</span>&nbsp;<span class="builtinfunc" id="7150745">make</span><span class="op" id="7150749">(</span><span class="op" id="7150750">[</span><span class="op" id="7150751">]</span><span class="ident" id="7150752">bytes</span><span class="op" id="7150757">.</span><span class="ident" id="7150758">Buffer</span><span class="op" id="7150764">,</span>&nbsp;<span class="num" id="7150766">2</span><span class="op" id="7150767">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150771">f</span>&nbsp;<span class="op" id="7150773">:=</span>&nbsp;<span class="ident" id="7150776">NewReader</span><span class="op" id="7150785">(</span><span class="op" id="7150786">&amp;</span><span class="ident" id="7150787">deflated</span><span class="op" id="7150795">[</span><span class="num" id="7150796">0</span><span class="op" id="7150797">]</span><span class="op" id="7150798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150801">io</span><span class="op" id="7150803">.</span><span class="ident" id="7150804">Copy</span><span class="op" id="7150808">(</span><span class="op" id="7150809">&amp;</span><span class="ident" id="7150810">inflated</span><span class="op" id="7150818">[</span><span class="num" id="7150819">0</span><span class="op" id="7150820">]</span><span class="op" id="7150821">,</span>&nbsp;<span class="ident" id="7150823">f</span><span class="op" id="7150824">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150827">f</span><span class="op" id="7150828">.</span><span class="op" id="7150829">(</span><span class="ident" id="7150830">Resetter</span><span class="op" id="7150838">)</span><span class="op" id="7150839">.</span><span class="ident" id="7150840">Reset</span><span class="op" id="7150845">(</span><span class="op" id="7150846">&amp;</span><span class="ident" id="7150847">deflated</span><span class="op" id="7150855">[</span><span class="num" id="7150856">1</span><span class="op" id="7150857">]</span><span class="op" id="7150858">,</span>&nbsp;<span class="ident" id="7150860">nil</span><span class="op" id="7150863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150866">io</span><span class="op" id="7150868">.</span><span class="ident" id="7150869">Copy</span><span class="op" id="7150873">(</span><span class="op" id="7150874">&amp;</span><span class="ident" id="7150875">inflated</span><span class="op" id="7150883">[</span><span class="num" id="7150884">1</span><span class="op" id="7150885">]</span><span class="op" id="7150886">,</span>&nbsp;<span class="ident" id="7150888">f</span><span class="op" id="7150889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150892">f</span><span class="op" id="7150893">.</span><span class="ident" id="7150894">Close</span><span class="op" id="7150899">(</span><span class="op" id="7150900">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7150904">for</span>&nbsp;<span class="ident" id="7150908">i</span><span class="op" id="7150909">,</span>&nbsp;<span class="ident" id="7150911">s</span>&nbsp;<span class="op" id="7150913">:=</span>&nbsp;<span class="keyword" id="7150916">range</span>&nbsp;<span class="ident" id="7150922">ss</span>&nbsp;<span class="op" id="7150925">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7150929">if</span>&nbsp;<span class="ident" id="7150932">s</span>&nbsp;<span class="op" id="7150934">!=</span>&nbsp;<span class="ident" id="7150937">inflated</span><span class="op" id="7150945">[</span><span class="ident" id="7150946">i</span><span class="op" id="7150947">]</span><span class="op" id="7150948">.</span><span class="ident" id="7150949">String</span><span class="op" id="7150955">(</span><span class="op" id="7150956">)</span>&nbsp;<span class="op" id="7150958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150963">t</span><span class="op" id="7150964">.</span><span class="ident" id="7150965">Errorf</span><span class="op" id="7150971">(</span><span class="string" id="7150972">&#34;inflated[%d]:\ngot&nbsp;&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="7151005">,</span>&nbsp;<span class="ident" id="7151007">i</span><span class="op" id="7151008">,</span>&nbsp;<span class="ident" id="7151010">inflated</span><span class="op" id="7151018">[</span><span class="ident" id="7151019">i</span><span class="op" id="7151020">]</span><span class="op" id="7151021">,</span>&nbsp;<span class="ident" id="7151023">s</span><span class="op" id="7151024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7151028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7151031">}</span><br>
<span class="lineno"></span><span class="op" id="7151033">}</span>
</div>
</body>
</html>
