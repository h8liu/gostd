<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/base32</h2>
<ul>
<li><a href="/gostd/encoding/base32/base32.go.html">base32.go</a></li>
<li><a href="/gostd/encoding/base32/base32_test.go.html">base32_test.go</a></li>
<li><a href="/gostd/encoding/base32/example_test.go.html">example_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6663229">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6663284">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6663338">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6663389">package</span>&nbsp;<span class="ident" id="6663397">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6663405">import</span>&nbsp;<span class="op" id="6663412">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6663415">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6663424">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6663430">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6663443">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6663454">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6663464">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6663467">type</span>&nbsp;<span class="ident" id="6663472">testpair</span>&nbsp;<span class="keyword" id="6663481">struct</span>&nbsp;<span class="op" id="6663488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6663491">decoded</span><span class="op" id="6663498">,</span>&nbsp;<span class="ident" id="6663500">encoded</span>&nbsp;<span class="builtintype" id="6663508">string</span><br>
<span class="lineno"></span><span class="op" id="6663515">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6663518">var</span>&nbsp;<span class="ident" id="6663522">pairs</span>&nbsp;<span class="op" id="6663528">=</span>&nbsp;<span class="op" id="6663530">[</span><span class="op" id="6663531">]</span><span class="ident" id="6663532">testpair</span><span class="op" id="6663540">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6663543">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663565">{</span><span class="string" id="6663566">&#34;&#34;</span><span class="op" id="6663568">,</span>&nbsp;<span class="string" id="6663570">&#34;&#34;</span><span class="op" id="6663572">}</span><span class="op" id="6663573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663576">{</span><span class="string" id="6663577">&#34;f&#34;</span><span class="op" id="6663580">,</span>&nbsp;<span class="string" id="6663582">&#34;MY======&#34;</span><span class="op" id="6663592">}</span><span class="op" id="6663593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663596">{</span><span class="string" id="6663597">&#34;fo&#34;</span><span class="op" id="6663601">,</span>&nbsp;<span class="string" id="6663603">&#34;MZXQ====&#34;</span><span class="op" id="6663613">}</span><span class="op" id="6663614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663617">{</span><span class="string" id="6663618">&#34;foo&#34;</span><span class="op" id="6663623">,</span>&nbsp;<span class="string" id="6663625">&#34;MZXW6===&#34;</span><span class="op" id="6663635">}</span><span class="op" id="6663636">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663639">{</span><span class="string" id="6663640">&#34;foob&#34;</span><span class="op" id="6663646">,</span>&nbsp;<span class="string" id="6663648">&#34;MZXW6YQ=&#34;</span><span class="op" id="6663658">}</span><span class="op" id="6663659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663662">{</span><span class="string" id="6663663">&#34;fooba&#34;</span><span class="op" id="6663670">,</span>&nbsp;<span class="string" id="6663672">&#34;MZXW6YTB&#34;</span><span class="op" id="6663682">}</span><span class="op" id="6663683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663686">{</span><span class="string" id="6663687">&#34;foobar&#34;</span><span class="op" id="6663695">,</span>&nbsp;<span class="string" id="6663697">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="6663715">}</span><span class="op" id="6663716">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6663720">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663764">{</span><span class="string" id="6663765">&#34;sure.&#34;</span><span class="op" id="6663772">,</span>&nbsp;<span class="string" id="6663774">&#34;ON2XEZJO&#34;</span><span class="op" id="6663784">}</span><span class="op" id="6663785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663788">{</span><span class="string" id="6663789">&#34;sure&#34;</span><span class="op" id="6663795">,</span>&nbsp;<span class="string" id="6663797">&#34;ON2XEZI=&#34;</span><span class="op" id="6663807">}</span><span class="op" id="6663808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663811">{</span><span class="string" id="6663812">&#34;sur&#34;</span><span class="op" id="6663817">,</span>&nbsp;<span class="string" id="6663819">&#34;ON2XE===&#34;</span><span class="op" id="6663829">}</span><span class="op" id="6663830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663833">{</span><span class="string" id="6663834">&#34;su&#34;</span><span class="op" id="6663838">,</span>&nbsp;<span class="string" id="6663840">&#34;ON2Q====&#34;</span><span class="op" id="6663850">}</span><span class="op" id="6663851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663854">{</span><span class="string" id="6663855">&#34;leasure.&#34;</span><span class="op" id="6663865">,</span>&nbsp;<span class="string" id="6663867">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="6663885">}</span><span class="op" id="6663886">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663889">{</span><span class="string" id="6663890">&#34;easure.&#34;</span><span class="op" id="6663899">,</span>&nbsp;<span class="string" id="6663901">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="6663919">}</span><span class="op" id="6663920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663923">{</span><span class="string" id="6663924">&#34;asure.&#34;</span><span class="op" id="6663932">,</span>&nbsp;<span class="string" id="6663934">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="6663952">}</span><span class="op" id="6663953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6663956">{</span><span class="string" id="6663957">&#34;sure.&#34;</span><span class="op" id="6663964">,</span>&nbsp;<span class="string" id="6663966">&#34;ON2XEZJO&#34;</span><span class="op" id="6663976">}</span><span class="op" id="6663977">,</span><br>
<span class="lineno"></span><span class="op" id="6663979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="6663982">var</span>&nbsp;<span class="ident" id="6663986">bigtest</span>&nbsp;<span class="op" id="6663994">=</span>&nbsp;<span class="ident" id="6663996">testpair</span><span class="op" id="6664004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6664007">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="6664043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6664046">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="6664104">,</span><br>
<span class="lineno"></span><span class="op" id="6664106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="6664109">func</span>&nbsp;<span class="ident" id="6664114">testEqual</span><span class="op" id="6664123">(</span><span class="ident" id="6664124">t</span>&nbsp;<span class="op" id="6664126">*</span><span class="ident" id="6664127">testing</span><span class="op" id="6664134">.</span><span class="ident" id="6664135">T</span><span class="op" id="6664136">,</span>&nbsp;<span class="ident" id="6664138">msg</span>&nbsp;<span class="builtintype" id="6664142">string</span><span class="op" id="6664148">,</span>&nbsp;<span class="ident" id="6664150">args</span>&nbsp;<span class="op" id="6664155">...</span><span class="keyword" id="6664158">interface</span><span class="op" id="6664167">{</span><span class="op" id="6664168">}</span><span class="op" id="6664169">)</span>&nbsp;<span class="builtintype" id="6664171">bool</span>&nbsp;<span class="op" id="6664176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664179">if</span>&nbsp;<span class="ident" id="6664182">args</span><span class="op" id="6664186">[</span><span class="builtinfunc" id="6664187">len</span><span class="op" id="6664190">(</span><span class="ident" id="6664191">args</span><span class="op" id="6664195">)</span><span class="op" id="6664196">-</span><span class="num" id="6664197">2</span><span class="op" id="6664198">]</span>&nbsp;<span class="op" id="6664200">!=</span>&nbsp;<span class="ident" id="6664203">args</span><span class="op" id="6664207">[</span><span class="builtinfunc" id="6664208">len</span><span class="op" id="6664211">(</span><span class="ident" id="6664212">args</span><span class="op" id="6664216">)</span><span class="op" id="6664217">-</span><span class="num" id="6664218">1</span><span class="op" id="6664219">]</span>&nbsp;<span class="op" id="6664221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664225">t</span><span class="op" id="6664226">.</span><span class="ident" id="6664227">Errorf</span><span class="op" id="6664233">(</span><span class="ident" id="6664234">msg</span><span class="op" id="6664237">,</span>&nbsp;<span class="ident" id="6664239">args</span><span class="op" id="6664243">...</span><span class="op" id="6664246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664250">return</span>&nbsp;<span class="builtintype" id="6664257">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664264">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664267">return</span>&nbsp;<span class="builtintype" id="6664274">true</span><br>
<span class="lineno"></span><span class="op" id="6664279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6664282">func</span>&nbsp;<span class="ident" id="6664287">TestEncode</span><span class="op" id="6664297">(</span><span class="ident" id="6664298">t</span>&nbsp;<span class="op" id="6664300">*</span><span class="ident" id="6664301">testing</span><span class="op" id="6664308">.</span><span class="ident" id="6664309">T</span><span class="op" id="6664310">)</span>&nbsp;<span class="op" id="6664312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664315">for</span>&nbsp;<span class="ident" id="6664319">_</span><span class="op" id="6664320">,</span>&nbsp;<span class="ident" id="6664322">p</span>&nbsp;<span class="op" id="6664324">:=</span>&nbsp;<span class="keyword" id="6664327">range</span>&nbsp;<span class="ident" id="6664333">pairs</span>&nbsp;<span class="op" id="6664339">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664343">got</span>&nbsp;<span class="op" id="6664347">:=</span>&nbsp;<span class="ident" id="6664350">StdEncoding</span><span class="op" id="6664361">.</span><span class="ident" id="6664362">EncodeToString</span><span class="op" id="6664376">(</span><span class="op" id="6664377">[</span><span class="op" id="6664378">]</span><span class="builtintype" id="6664379">byte</span><span class="op" id="6664383">(</span><span class="ident" id="6664384">p</span><span class="op" id="6664385">.</span><span class="ident" id="6664386">decoded</span><span class="op" id="6664393">)</span><span class="op" id="6664394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664398">testEqual</span><span class="op" id="6664407">(</span><span class="ident" id="6664408">t</span><span class="op" id="6664409">,</span>&nbsp;<span class="string" id="6664411">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6664437">,</span>&nbsp;<span class="ident" id="6664439">p</span><span class="op" id="6664440">.</span><span class="ident" id="6664441">decoded</span><span class="op" id="6664448">,</span>&nbsp;<span class="ident" id="6664450">got</span><span class="op" id="6664453">,</span>&nbsp;<span class="ident" id="6664455">p</span><span class="op" id="6664456">.</span><span class="ident" id="6664457">encoded</span><span class="op" id="6664464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664467">}</span><br>
<span class="lineno"></span><span class="op" id="6664469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6664472">func</span>&nbsp;<span class="ident" id="6664477">TestEncoder</span><span class="op" id="6664488">(</span><span class="ident" id="6664489">t</span>&nbsp;<span class="op" id="6664491">*</span><span class="ident" id="6664492">testing</span><span class="op" id="6664499">.</span><span class="ident" id="6664500">T</span><span class="op" id="6664501">)</span>&nbsp;<span class="op" id="6664503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664506">for</span>&nbsp;<span class="ident" id="6664510">_</span><span class="op" id="6664511">,</span>&nbsp;<span class="ident" id="6664513">p</span>&nbsp;<span class="op" id="6664515">:=</span>&nbsp;<span class="keyword" id="6664518">range</span>&nbsp;<span class="ident" id="6664524">pairs</span>&nbsp;<span class="op" id="6664530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664534">bb</span>&nbsp;<span class="op" id="6664537">:=</span>&nbsp;<span class="op" id="6664540">&amp;</span><span class="ident" id="6664541">bytes</span><span class="op" id="6664546">.</span><span class="ident" id="6664547">Buffer</span><span class="op" id="6664553">{</span><span class="op" id="6664554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664558">encoder</span>&nbsp;<span class="op" id="6664566">:=</span>&nbsp;<span class="ident" id="6664569">NewEncoder</span><span class="op" id="6664579">(</span><span class="ident" id="6664580">StdEncoding</span><span class="op" id="6664591">,</span>&nbsp;<span class="ident" id="6664593">bb</span><span class="op" id="6664595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664599">encoder</span><span class="op" id="6664606">.</span><span class="ident" id="6664607">Write</span><span class="op" id="6664612">(</span><span class="op" id="6664613">[</span><span class="op" id="6664614">]</span><span class="builtintype" id="6664615">byte</span><span class="op" id="6664619">(</span><span class="ident" id="6664620">p</span><span class="op" id="6664621">.</span><span class="ident" id="6664622">decoded</span><span class="op" id="6664629">)</span><span class="op" id="6664630">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664634">encoder</span><span class="op" id="6664641">.</span><span class="ident" id="6664642">Close</span><span class="op" id="6664647">(</span><span class="op" id="6664648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664652">testEqual</span><span class="op" id="6664661">(</span><span class="ident" id="6664662">t</span><span class="op" id="6664663">,</span>&nbsp;<span class="string" id="6664665">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6664691">,</span>&nbsp;<span class="ident" id="6664693">p</span><span class="op" id="6664694">.</span><span class="ident" id="6664695">decoded</span><span class="op" id="6664702">,</span>&nbsp;<span class="ident" id="6664704">bb</span><span class="op" id="6664706">.</span><span class="ident" id="6664707">String</span><span class="op" id="6664713">(</span><span class="op" id="6664714">)</span><span class="op" id="6664715">,</span>&nbsp;<span class="ident" id="6664717">p</span><span class="op" id="6664718">.</span><span class="ident" id="6664719">encoded</span><span class="op" id="6664726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6664729">}</span><br>
<span class="lineno"></span><span class="op" id="6664731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="6664734">func</span>&nbsp;<span class="ident" id="6664739">TestEncoderBuffering</span><span class="op" id="6664759">(</span><span class="ident" id="6664760">t</span>&nbsp;<span class="op" id="6664762">*</span><span class="ident" id="6664763">testing</span><span class="op" id="6664770">.</span><span class="ident" id="6664771">T</span><span class="op" id="6664772">)</span>&nbsp;<span class="op" id="6664774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664777">input</span>&nbsp;<span class="op" id="6664783">:=</span>&nbsp;<span class="op" id="6664786">[</span><span class="op" id="6664787">]</span><span class="builtintype" id="6664788">byte</span><span class="op" id="6664792">(</span><span class="ident" id="6664793">bigtest</span><span class="op" id="6664800">.</span><span class="ident" id="6664801">decoded</span><span class="op" id="6664808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664811">for</span>&nbsp;<span class="ident" id="6664815">bs</span>&nbsp;<span class="op" id="6664818">:=</span>&nbsp;<span class="num" id="6664821">1</span><span class="op" id="6664822">;</span>&nbsp;<span class="ident" id="6664824">bs</span>&nbsp;<span class="op" id="6664827">&lt;=</span>&nbsp;<span class="num" id="6664830">12</span><span class="op" id="6664832">;</span>&nbsp;<span class="ident" id="6664834">bs</span><span class="op" id="6664836">++</span>&nbsp;<span class="op" id="6664839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664843">bb</span>&nbsp;<span class="op" id="6664846">:=</span>&nbsp;<span class="op" id="6664849">&amp;</span><span class="ident" id="6664850">bytes</span><span class="op" id="6664855">.</span><span class="ident" id="6664856">Buffer</span><span class="op" id="6664862">{</span><span class="op" id="6664863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664867">encoder</span>&nbsp;<span class="op" id="6664875">:=</span>&nbsp;<span class="ident" id="6664878">NewEncoder</span><span class="op" id="6664888">(</span><span class="ident" id="6664889">StdEncoding</span><span class="op" id="6664900">,</span>&nbsp;<span class="ident" id="6664902">bb</span><span class="op" id="6664904">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664908">for</span>&nbsp;<span class="ident" id="6664912">pos</span>&nbsp;<span class="op" id="6664916">:=</span>&nbsp;<span class="num" id="6664919">0</span><span class="op" id="6664920">;</span>&nbsp;<span class="ident" id="6664922">pos</span>&nbsp;<span class="op" id="6664926">&lt;</span>&nbsp;<span class="builtinfunc" id="6664928">len</span><span class="op" id="6664931">(</span><span class="ident" id="6664932">input</span><span class="op" id="6664937">)</span><span class="op" id="6664938">;</span>&nbsp;<span class="ident" id="6664940">pos</span>&nbsp;<span class="op" id="6664944">+=</span>&nbsp;<span class="ident" id="6664947">bs</span>&nbsp;<span class="op" id="6664950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6664955">end</span>&nbsp;<span class="op" id="6664959">:=</span>&nbsp;<span class="ident" id="6664962">pos</span>&nbsp;<span class="op" id="6664966">+</span>&nbsp;<span class="ident" id="6664968">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6664974">if</span>&nbsp;<span class="ident" id="6664977">end</span>&nbsp;<span class="op" id="6664981">&gt;</span>&nbsp;<span class="builtinfunc" id="6664983">len</span><span class="op" id="6664986">(</span><span class="ident" id="6664987">input</span><span class="op" id="6664992">)</span>&nbsp;<span class="op" id="6664994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665000">end</span>&nbsp;<span class="op" id="6665004">=</span>&nbsp;<span class="builtinfunc" id="6665006">len</span><span class="op" id="6665009">(</span><span class="ident" id="6665010">input</span><span class="op" id="6665015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665020">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665025">n</span><span class="op" id="6665026">,</span>&nbsp;<span class="ident" id="6665028">err</span>&nbsp;<span class="op" id="6665032">:=</span>&nbsp;<span class="ident" id="6665035">encoder</span><span class="op" id="6665042">.</span><span class="ident" id="6665043">Write</span><span class="op" id="6665048">(</span><span class="ident" id="6665049">input</span><span class="op" id="6665054">[</span><span class="ident" id="6665055">pos</span><span class="op" id="6665058">:</span><span class="ident" id="6665059">end</span><span class="op" id="6665062">]</span><span class="op" id="6665063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665068">testEqual</span><span class="op" id="6665077">(</span><span class="ident" id="6665078">t</span><span class="op" id="6665079">,</span>&nbsp;<span class="string" id="6665081">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6665115">,</span>&nbsp;<span class="ident" id="6665117">input</span><span class="op" id="6665122">[</span><span class="ident" id="6665123">pos</span><span class="op" id="6665126">:</span><span class="ident" id="6665127">end</span><span class="op" id="6665130">]</span><span class="op" id="6665131">,</span>&nbsp;<span class="ident" id="6665133">err</span><span class="op" id="6665136">,</span>&nbsp;<span class="builtintype" id="6665138">error</span><span class="op" id="6665143">(</span><span class="ident" id="6665144">nil</span><span class="op" id="6665147">)</span><span class="op" id="6665148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665153">testEqual</span><span class="op" id="6665162">(</span><span class="ident" id="6665163">t</span><span class="op" id="6665164">,</span>&nbsp;<span class="string" id="6665166">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6665201">,</span>&nbsp;<span class="ident" id="6665203">input</span><span class="op" id="6665208">[</span><span class="ident" id="6665209">pos</span><span class="op" id="6665212">:</span><span class="ident" id="6665213">end</span><span class="op" id="6665216">]</span><span class="op" id="6665217">,</span>&nbsp;<span class="ident" id="6665219">n</span><span class="op" id="6665220">,</span>&nbsp;<span class="ident" id="6665222">end</span><span class="op" id="6665225">-</span><span class="ident" id="6665226">pos</span><span class="op" id="6665229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665237">err</span>&nbsp;<span class="op" id="6665241">:=</span>&nbsp;<span class="ident" id="6665244">encoder</span><span class="op" id="6665251">.</span><span class="ident" id="6665252">Close</span><span class="op" id="6665257">(</span><span class="op" id="6665258">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665262">testEqual</span><span class="op" id="6665271">(</span><span class="ident" id="6665272">t</span><span class="op" id="6665273">,</span>&nbsp;<span class="string" id="6665275">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6665305">,</span>&nbsp;<span class="ident" id="6665307">err</span><span class="op" id="6665310">,</span>&nbsp;<span class="builtintype" id="6665312">error</span><span class="op" id="6665317">(</span><span class="ident" id="6665318">nil</span><span class="op" id="6665321">)</span><span class="op" id="6665322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665326">testEqual</span><span class="op" id="6665335">(</span><span class="ident" id="6665336">t</span><span class="op" id="6665337">,</span>&nbsp;<span class="string" id="6665339">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6665372">,</span>&nbsp;<span class="ident" id="6665374">bs</span><span class="op" id="6665376">,</span>&nbsp;<span class="ident" id="6665378">bigtest</span><span class="op" id="6665385">.</span><span class="ident" id="6665386">decoded</span><span class="op" id="6665393">,</span>&nbsp;<span class="ident" id="6665395">bb</span><span class="op" id="6665397">.</span><span class="ident" id="6665398">String</span><span class="op" id="6665404">(</span><span class="op" id="6665405">)</span><span class="op" id="6665406">,</span>&nbsp;<span class="ident" id="6665408">bigtest</span><span class="op" id="6665415">.</span><span class="ident" id="6665416">encoded</span><span class="op" id="6665423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665426">}</span><br>
<span class="lineno"></span><span class="op" id="6665428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6665431">func</span>&nbsp;<span class="ident" id="6665436">TestDecode</span><span class="op" id="6665446">(</span><span class="ident" id="6665447">t</span>&nbsp;<span class="op" id="6665449">*</span><span class="ident" id="6665450">testing</span><span class="op" id="6665457">.</span><span class="ident" id="6665458">T</span><span class="op" id="6665459">)</span>&nbsp;<span class="op" id="6665461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665464">for</span>&nbsp;<span class="ident" id="6665468">_</span><span class="op" id="6665469">,</span>&nbsp;<span class="ident" id="6665471">p</span>&nbsp;<span class="op" id="6665473">:=</span>&nbsp;<span class="keyword" id="6665476">range</span>&nbsp;<span class="ident" id="6665482">pairs</span>&nbsp;<span class="op" id="6665488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665492">dbuf</span>&nbsp;<span class="op" id="6665497">:=</span>&nbsp;<span class="builtinfunc" id="6665500">make</span><span class="op" id="6665504">(</span><span class="op" id="6665505">[</span><span class="op" id="6665506">]</span><span class="builtintype" id="6665507">byte</span><span class="op" id="6665511">,</span>&nbsp;<span class="ident" id="6665513">StdEncoding</span><span class="op" id="6665524">.</span><span class="ident" id="6665525">DecodedLen</span><span class="op" id="6665535">(</span><span class="builtinfunc" id="6665536">len</span><span class="op" id="6665539">(</span><span class="ident" id="6665540">p</span><span class="op" id="6665541">.</span><span class="ident" id="6665542">encoded</span><span class="op" id="6665549">)</span><span class="op" id="6665550">)</span><span class="op" id="6665551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665555">count</span><span class="op" id="6665560">,</span>&nbsp;<span class="ident" id="6665562">end</span><span class="op" id="6665565">,</span>&nbsp;<span class="ident" id="6665567">err</span>&nbsp;<span class="op" id="6665571">:=</span>&nbsp;<span class="ident" id="6665574">StdEncoding</span><span class="op" id="6665585">.</span><span class="ident" id="6665586">decode</span><span class="op" id="6665592">(</span><span class="ident" id="6665593">dbuf</span><span class="op" id="6665597">,</span>&nbsp;<span class="op" id="6665599">[</span><span class="op" id="6665600">]</span><span class="builtintype" id="6665601">byte</span><span class="op" id="6665605">(</span><span class="ident" id="6665606">p</span><span class="op" id="6665607">.</span><span class="ident" id="6665608">encoded</span><span class="op" id="6665615">)</span><span class="op" id="6665616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665620">testEqual</span><span class="op" id="6665629">(</span><span class="ident" id="6665630">t</span><span class="op" id="6665631">,</span>&nbsp;<span class="string" id="6665633">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6665665">,</span>&nbsp;<span class="ident" id="6665667">p</span><span class="op" id="6665668">.</span><span class="ident" id="6665669">encoded</span><span class="op" id="6665676">,</span>&nbsp;<span class="ident" id="6665678">err</span><span class="op" id="6665681">,</span>&nbsp;<span class="builtintype" id="6665683">error</span><span class="op" id="6665688">(</span><span class="ident" id="6665689">nil</span><span class="op" id="6665692">)</span><span class="op" id="6665693">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665697">testEqual</span><span class="op" id="6665706">(</span><span class="ident" id="6665707">t</span><span class="op" id="6665708">,</span>&nbsp;<span class="string" id="6665710">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6665743">,</span>&nbsp;<span class="ident" id="6665745">p</span><span class="op" id="6665746">.</span><span class="ident" id="6665747">encoded</span><span class="op" id="6665754">,</span>&nbsp;<span class="ident" id="6665756">count</span><span class="op" id="6665761">,</span>&nbsp;<span class="builtinfunc" id="6665763">len</span><span class="op" id="6665766">(</span><span class="ident" id="6665767">p</span><span class="op" id="6665768">.</span><span class="ident" id="6665769">decoded</span><span class="op" id="6665776">)</span><span class="op" id="6665777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6665781">if</span>&nbsp;<span class="builtinfunc" id="6665784">len</span><span class="op" id="6665787">(</span><span class="ident" id="6665788">p</span><span class="op" id="6665789">.</span><span class="ident" id="6665790">encoded</span><span class="op" id="6665797">)</span>&nbsp;<span class="op" id="6665799">&gt;</span>&nbsp;<span class="num" id="6665801">0</span>&nbsp;<span class="op" id="6665803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665808">testEqual</span><span class="op" id="6665817">(</span><span class="ident" id="6665818">t</span><span class="op" id="6665819">,</span>&nbsp;<span class="string" id="6665821">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6665851">,</span>&nbsp;<span class="ident" id="6665853">p</span><span class="op" id="6665854">.</span><span class="ident" id="6665855">encoded</span><span class="op" id="6665862">,</span>&nbsp;<span class="ident" id="6665864">end</span><span class="op" id="6665867">,</span>&nbsp;<span class="op" id="6665869">(</span><span class="ident" id="6665870">p</span><span class="op" id="6665871">.</span><span class="ident" id="6665872">encoded</span><span class="op" id="6665879">[</span><span class="builtinfunc" id="6665880">len</span><span class="op" id="6665883">(</span><span class="ident" id="6665884">p</span><span class="op" id="6665885">.</span><span class="ident" id="6665886">encoded</span><span class="op" id="6665893">)</span><span class="op" id="6665894">-</span><span class="num" id="6665895">1</span><span class="op" id="6665896">]</span>&nbsp;<span class="op" id="6665898">==</span>&nbsp;<span class="string" id="6665901">&#39;=&#39;</span><span class="op" id="6665904">)</span><span class="op" id="6665905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6665909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665913">testEqual</span><span class="op" id="6665922">(</span><span class="ident" id="6665923">t</span><span class="op" id="6665924">,</span>&nbsp;<span class="string" id="6665926">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6665952">,</span>&nbsp;<span class="ident" id="6665954">p</span><span class="op" id="6665955">.</span><span class="ident" id="6665956">encoded</span><span class="op" id="6665963">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6665968">string</span><span class="op" id="6665974">(</span><span class="ident" id="6665975">dbuf</span><span class="op" id="6665979">[</span><span class="num" id="6665980">0</span><span class="op" id="6665981">:</span><span class="ident" id="6665982">count</span><span class="op" id="6665987">]</span><span class="op" id="6665988">)</span><span class="op" id="6665989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6665994">p</span><span class="op" id="6665995">.</span><span class="ident" id="6665996">decoded</span><span class="op" id="6666003">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666008">dbuf</span><span class="op" id="6666012">,</span>&nbsp;<span class="ident" id="6666014">err</span>&nbsp;<span class="op" id="6666018">=</span>&nbsp;<span class="ident" id="6666020">StdEncoding</span><span class="op" id="6666031">.</span><span class="ident" id="6666032">DecodeString</span><span class="op" id="6666044">(</span><span class="ident" id="6666045">p</span><span class="op" id="6666046">.</span><span class="ident" id="6666047">encoded</span><span class="op" id="6666054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666058">testEqual</span><span class="op" id="6666067">(</span><span class="ident" id="6666068">t</span><span class="op" id="6666069">,</span>&nbsp;<span class="string" id="6666071">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6666109">,</span>&nbsp;<span class="ident" id="6666111">p</span><span class="op" id="6666112">.</span><span class="ident" id="6666113">encoded</span><span class="op" id="6666120">,</span>&nbsp;<span class="ident" id="6666122">err</span><span class="op" id="6666125">,</span>&nbsp;<span class="builtintype" id="6666127">error</span><span class="op" id="6666132">(</span><span class="ident" id="6666133">nil</span><span class="op" id="6666136">)</span><span class="op" id="6666137">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666141">testEqual</span><span class="op" id="6666150">(</span><span class="ident" id="6666151">t</span><span class="op" id="6666152">,</span>&nbsp;<span class="string" id="6666154">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6666186">,</span>&nbsp;<span class="ident" id="6666188">p</span><span class="op" id="6666189">.</span><span class="ident" id="6666190">encoded</span><span class="op" id="6666197">,</span>&nbsp;<span class="builtintype" id="6666199">string</span><span class="op" id="6666205">(</span><span class="ident" id="6666206">dbuf</span><span class="op" id="6666210">)</span><span class="op" id="6666211">,</span>&nbsp;<span class="ident" id="6666213">p</span><span class="op" id="6666214">.</span><span class="ident" id="6666215">decoded</span><span class="op" id="6666222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666225">}</span><br>
<span class="lineno"></span><span class="op" id="6666227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6666230">func</span>&nbsp;<span class="ident" id="6666235">TestDecoder</span><span class="op" id="6666246">(</span><span class="ident" id="6666247">t</span>&nbsp;<span class="op" id="6666249">*</span><span class="ident" id="6666250">testing</span><span class="op" id="6666257">.</span><span class="ident" id="6666258">T</span><span class="op" id="6666259">)</span>&nbsp;<span class="op" id="6666261">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666264">for</span>&nbsp;<span class="ident" id="6666268">_</span><span class="op" id="6666269">,</span>&nbsp;<span class="ident" id="6666271">p</span>&nbsp;<span class="op" id="6666273">:=</span>&nbsp;<span class="keyword" id="6666276">range</span>&nbsp;<span class="ident" id="6666282">pairs</span>&nbsp;<span class="op" id="6666288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666292">decoder</span>&nbsp;<span class="op" id="6666300">:=</span>&nbsp;<span class="ident" id="6666303">NewDecoder</span><span class="op" id="6666313">(</span><span class="ident" id="6666314">StdEncoding</span><span class="op" id="6666325">,</span>&nbsp;<span class="ident" id="6666327">strings</span><span class="op" id="6666334">.</span><span class="ident" id="6666335">NewReader</span><span class="op" id="6666344">(</span><span class="ident" id="6666345">p</span><span class="op" id="6666346">.</span><span class="ident" id="6666347">encoded</span><span class="op" id="6666354">)</span><span class="op" id="6666355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666359">dbuf</span>&nbsp;<span class="op" id="6666364">:=</span>&nbsp;<span class="builtinfunc" id="6666367">make</span><span class="op" id="6666371">(</span><span class="op" id="6666372">[</span><span class="op" id="6666373">]</span><span class="builtintype" id="6666374">byte</span><span class="op" id="6666378">,</span>&nbsp;<span class="ident" id="6666380">StdEncoding</span><span class="op" id="6666391">.</span><span class="ident" id="6666392">DecodedLen</span><span class="op" id="6666402">(</span><span class="builtinfunc" id="6666403">len</span><span class="op" id="6666406">(</span><span class="ident" id="6666407">p</span><span class="op" id="6666408">.</span><span class="ident" id="6666409">encoded</span><span class="op" id="6666416">)</span><span class="op" id="6666417">)</span><span class="op" id="6666418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666422">count</span><span class="op" id="6666427">,</span>&nbsp;<span class="ident" id="6666429">err</span>&nbsp;<span class="op" id="6666433">:=</span>&nbsp;<span class="ident" id="6666436">decoder</span><span class="op" id="6666443">.</span><span class="ident" id="6666444">Read</span><span class="op" id="6666448">(</span><span class="ident" id="6666449">dbuf</span><span class="op" id="6666453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666457">if</span>&nbsp;<span class="ident" id="6666460">err</span>&nbsp;<span class="op" id="6666464">!=</span>&nbsp;<span class="ident" id="6666467">nil</span>&nbsp;<span class="op" id="6666471">&amp;&amp;</span>&nbsp;<span class="ident" id="6666474">err</span>&nbsp;<span class="op" id="6666478">!=</span>&nbsp;<span class="ident" id="6666481">io</span><span class="op" id="6666483">.</span><span class="ident" id="6666484">EOF</span>&nbsp;<span class="op" id="6666488">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666493">t</span><span class="op" id="6666494">.</span><span class="ident" id="6666495">Fatal</span><span class="op" id="6666500">(</span><span class="string" id="6666501">&#34;Read&nbsp;failed&#34;</span><span class="op" id="6666514">,</span>&nbsp;<span class="ident" id="6666516">err</span><span class="op" id="6666519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666527">testEqual</span><span class="op" id="6666536">(</span><span class="ident" id="6666537">t</span><span class="op" id="6666538">,</span>&nbsp;<span class="string" id="6666540">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6666575">,</span>&nbsp;<span class="ident" id="6666577">p</span><span class="op" id="6666578">.</span><span class="ident" id="6666579">encoded</span><span class="op" id="6666586">,</span>&nbsp;<span class="ident" id="6666588">count</span><span class="op" id="6666593">,</span>&nbsp;<span class="builtinfunc" id="6666595">len</span><span class="op" id="6666598">(</span><span class="ident" id="6666599">p</span><span class="op" id="6666600">.</span><span class="ident" id="6666601">decoded</span><span class="op" id="6666608">)</span><span class="op" id="6666609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666613">testEqual</span><span class="op" id="6666622">(</span><span class="ident" id="6666623">t</span><span class="op" id="6666624">,</span>&nbsp;<span class="string" id="6666626">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6666656">,</span>&nbsp;<span class="ident" id="6666658">p</span><span class="op" id="6666659">.</span><span class="ident" id="6666660">encoded</span><span class="op" id="6666667">,</span>&nbsp;<span class="builtintype" id="6666669">string</span><span class="op" id="6666675">(</span><span class="ident" id="6666676">dbuf</span><span class="op" id="6666680">[</span><span class="num" id="6666681">0</span><span class="op" id="6666682">:</span><span class="ident" id="6666683">count</span><span class="op" id="6666688">]</span><span class="op" id="6666689">)</span><span class="op" id="6666690">,</span>&nbsp;<span class="ident" id="6666692">p</span><span class="op" id="6666693">.</span><span class="ident" id="6666694">decoded</span><span class="op" id="6666701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666705">if</span>&nbsp;<span class="ident" id="6666708">err</span>&nbsp;<span class="op" id="6666712">!=</span>&nbsp;<span class="ident" id="6666715">io</span><span class="op" id="6666717">.</span><span class="ident" id="6666718">EOF</span>&nbsp;<span class="op" id="6666722">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666727">count</span><span class="op" id="6666732">,</span>&nbsp;<span class="ident" id="6666734">err</span>&nbsp;<span class="op" id="6666738">=</span>&nbsp;<span class="ident" id="6666740">decoder</span><span class="op" id="6666747">.</span><span class="ident" id="6666748">Read</span><span class="op" id="6666752">(</span><span class="ident" id="6666753">dbuf</span><span class="op" id="6666757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666765">testEqual</span><span class="op" id="6666774">(</span><span class="ident" id="6666775">t</span><span class="op" id="6666776">,</span>&nbsp;<span class="string" id="6666778">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6666806">,</span>&nbsp;<span class="ident" id="6666808">p</span><span class="op" id="6666809">.</span><span class="ident" id="6666810">encoded</span><span class="op" id="6666817">,</span>&nbsp;<span class="ident" id="6666819">err</span><span class="op" id="6666822">,</span>&nbsp;<span class="ident" id="6666824">io</span><span class="op" id="6666826">.</span><span class="ident" id="6666827">EOF</span><span class="op" id="6666830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6666833">}</span><br>
<span class="lineno"></span><span class="op" id="6666835">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="6666838">func</span>&nbsp;<span class="ident" id="6666843">TestDecoderBuffering</span><span class="op" id="6666863">(</span><span class="ident" id="6666864">t</span>&nbsp;<span class="op" id="6666866">*</span><span class="ident" id="6666867">testing</span><span class="op" id="6666874">.</span><span class="ident" id="6666875">T</span><span class="op" id="6666876">)</span>&nbsp;<span class="op" id="6666878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6666881">for</span>&nbsp;<span class="ident" id="6666885">bs</span>&nbsp;<span class="op" id="6666888">:=</span>&nbsp;<span class="num" id="6666891">1</span><span class="op" id="6666892">;</span>&nbsp;<span class="ident" id="6666894">bs</span>&nbsp;<span class="op" id="6666897">&lt;=</span>&nbsp;<span class="num" id="6666900">12</span><span class="op" id="6666902">;</span>&nbsp;<span class="ident" id="6666904">bs</span><span class="op" id="6666906">++</span>&nbsp;<span class="op" id="6666909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666913">decoder</span>&nbsp;<span class="op" id="6666921">:=</span>&nbsp;<span class="ident" id="6666924">NewDecoder</span><span class="op" id="6666934">(</span><span class="ident" id="6666935">StdEncoding</span><span class="op" id="6666946">,</span>&nbsp;<span class="ident" id="6666948">strings</span><span class="op" id="6666955">.</span><span class="ident" id="6666956">NewReader</span><span class="op" id="6666965">(</span><span class="ident" id="6666966">bigtest</span><span class="op" id="6666973">.</span><span class="ident" id="6666974">encoded</span><span class="op" id="6666981">)</span><span class="op" id="6666982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6666986">buf</span>&nbsp;<span class="op" id="6666990">:=</span>&nbsp;<span class="builtinfunc" id="6666993">make</span><span class="op" id="6666997">(</span><span class="op" id="6666998">[</span><span class="op" id="6666999">]</span><span class="builtintype" id="6667000">byte</span><span class="op" id="6667004">,</span>&nbsp;<span class="builtinfunc" id="6667006">len</span><span class="op" id="6667009">(</span><span class="ident" id="6667010">bigtest</span><span class="op" id="6667017">.</span><span class="ident" id="6667018">decoded</span><span class="op" id="6667025">)</span><span class="op" id="6667026">+</span><span class="num" id="6667027">12</span><span class="op" id="6667029">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667033">var</span>&nbsp;<span class="ident" id="6667037">total</span>&nbsp;<span class="builtintype" id="6667043">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667049">for</span>&nbsp;<span class="ident" id="6667053">total</span>&nbsp;<span class="op" id="6667059">=</span>&nbsp;<span class="num" id="6667061">0</span><span class="op" id="6667062">;</span>&nbsp;<span class="ident" id="6667064">total</span>&nbsp;<span class="op" id="6667070">&lt;</span>&nbsp;<span class="builtinfunc" id="6667072">len</span><span class="op" id="6667075">(</span><span class="ident" id="6667076">bigtest</span><span class="op" id="6667083">.</span><span class="ident" id="6667084">decoded</span><span class="op" id="6667091">)</span><span class="op" id="6667092">;</span>&nbsp;<span class="op" id="6667094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667099">n</span><span class="op" id="6667100">,</span>&nbsp;<span class="ident" id="6667102">err</span>&nbsp;<span class="op" id="6667106">:=</span>&nbsp;<span class="ident" id="6667109">decoder</span><span class="op" id="6667116">.</span><span class="ident" id="6667117">Read</span><span class="op" id="6667121">(</span><span class="ident" id="6667122">buf</span><span class="op" id="6667125">[</span><span class="ident" id="6667126">total</span>&nbsp;<span class="op" id="6667132">:</span>&nbsp;<span class="ident" id="6667134">total</span><span class="op" id="6667139">+</span><span class="ident" id="6667140">bs</span><span class="op" id="6667142">]</span><span class="op" id="6667143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667148">testEqual</span><span class="op" id="6667157">(</span><span class="ident" id="6667158">t</span><span class="op" id="6667159">,</span>&nbsp;<span class="string" id="6667161">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="6667206">,</span>&nbsp;<span class="ident" id="6667208">bigtest</span><span class="op" id="6667215">.</span><span class="ident" id="6667216">encoded</span><span class="op" id="6667223">,</span>&nbsp;<span class="ident" id="6667225">total</span><span class="op" id="6667230">,</span>&nbsp;<span class="ident" id="6667232">n</span><span class="op" id="6667233">,</span>&nbsp;<span class="ident" id="6667235">err</span><span class="op" id="6667238">,</span>&nbsp;<span class="builtintype" id="6667240">error</span><span class="op" id="6667245">(</span><span class="ident" id="6667246">nil</span><span class="op" id="6667249">)</span><span class="op" id="6667250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667255">total</span>&nbsp;<span class="op" id="6667261">+=</span>&nbsp;<span class="ident" id="6667264">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667272">testEqual</span><span class="op" id="6667281">(</span><span class="ident" id="6667282">t</span><span class="op" id="6667283">,</span>&nbsp;<span class="string" id="6667285">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6667318">,</span>&nbsp;<span class="ident" id="6667320">bs</span><span class="op" id="6667322">,</span>&nbsp;<span class="ident" id="6667324">bigtest</span><span class="op" id="6667331">.</span><span class="ident" id="6667332">encoded</span><span class="op" id="6667339">,</span>&nbsp;<span class="builtintype" id="6667341">string</span><span class="op" id="6667347">(</span><span class="ident" id="6667348">buf</span><span class="op" id="6667351">[</span><span class="num" id="6667352">0</span><span class="op" id="6667353">:</span><span class="ident" id="6667354">total</span><span class="op" id="6667359">]</span><span class="op" id="6667360">)</span><span class="op" id="6667361">,</span>&nbsp;<span class="ident" id="6667363">bigtest</span><span class="op" id="6667370">.</span><span class="ident" id="6667371">decoded</span><span class="op" id="6667378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667381">}</span><br>
<span class="lineno"></span><span class="op" id="6667383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="6667386">func</span>&nbsp;<span class="ident" id="6667391">TestDecodeCorrupt</span><span class="op" id="6667408">(</span><span class="ident" id="6667409">t</span>&nbsp;<span class="op" id="6667411">*</span><span class="ident" id="6667412">testing</span><span class="op" id="6667419">.</span><span class="ident" id="6667420">T</span><span class="op" id="6667421">)</span>&nbsp;<span class="op" id="6667423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667426">testCases</span>&nbsp;<span class="op" id="6667436">:=</span>&nbsp;<span class="op" id="6667439">[</span><span class="op" id="6667440">]</span><span class="keyword" id="6667441">struct</span>&nbsp;<span class="op" id="6667448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667452">input</span>&nbsp;&nbsp;<span class="builtintype" id="6667459">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667468">offset</span>&nbsp;<span class="builtintype" id="6667475">int</span>&nbsp;<span class="comment" id="6667479">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667507">}</span><span class="op" id="6667508">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667512">{</span><span class="string" id="6667513">&#34;&#34;</span><span class="op" id="6667515">,</span>&nbsp;<span class="op" id="6667517">-</span><span class="num" id="6667518">1</span><span class="op" id="6667519">}</span><span class="op" id="6667520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667524">{</span><span class="string" id="6667525">&#34;!!!!&#34;</span><span class="op" id="6667531">,</span>&nbsp;<span class="num" id="6667533">0</span><span class="op" id="6667534">}</span><span class="op" id="6667535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667539">{</span><span class="string" id="6667540">&#34;x===&#34;</span><span class="op" id="6667546">,</span>&nbsp;<span class="num" id="6667548">0</span><span class="op" id="6667549">}</span><span class="op" id="6667550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667554">{</span><span class="string" id="6667555">&#34;AA=A====&#34;</span><span class="op" id="6667565">,</span>&nbsp;<span class="num" id="6667567">2</span><span class="op" id="6667568">}</span><span class="op" id="6667569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667573">{</span><span class="string" id="6667574">&#34;AAA=AAAA&#34;</span><span class="op" id="6667584">,</span>&nbsp;<span class="num" id="6667586">3</span><span class="op" id="6667587">}</span><span class="op" id="6667588">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667592">{</span><span class="string" id="6667593">&#34;MMMMMMMMM&#34;</span><span class="op" id="6667604">,</span>&nbsp;<span class="num" id="6667606">8</span><span class="op" id="6667607">}</span><span class="op" id="6667608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667612">{</span><span class="string" id="6667613">&#34;MMMMMM&#34;</span><span class="op" id="6667621">,</span>&nbsp;<span class="num" id="6667623">0</span><span class="op" id="6667624">}</span><span class="op" id="6667625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667629">{</span><span class="string" id="6667630">&#34;A=&#34;</span><span class="op" id="6667634">,</span>&nbsp;<span class="num" id="6667636">1</span><span class="op" id="6667637">}</span><span class="op" id="6667638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667642">{</span><span class="string" id="6667643">&#34;AA=&#34;</span><span class="op" id="6667648">,</span>&nbsp;<span class="num" id="6667650">3</span><span class="op" id="6667651">}</span><span class="op" id="6667652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667656">{</span><span class="string" id="6667657">&#34;AA==&#34;</span><span class="op" id="6667663">,</span>&nbsp;<span class="num" id="6667665">4</span><span class="op" id="6667666">}</span><span class="op" id="6667667">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667671">{</span><span class="string" id="6667672">&#34;AA===&#34;</span><span class="op" id="6667679">,</span>&nbsp;<span class="num" id="6667681">5</span><span class="op" id="6667682">}</span><span class="op" id="6667683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667687">{</span><span class="string" id="6667688">&#34;AAAA=&#34;</span><span class="op" id="6667695">,</span>&nbsp;<span class="num" id="6667697">5</span><span class="op" id="6667698">}</span><span class="op" id="6667699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667703">{</span><span class="string" id="6667704">&#34;AAAA==&#34;</span><span class="op" id="6667712">,</span>&nbsp;<span class="num" id="6667714">6</span><span class="op" id="6667715">}</span><span class="op" id="6667716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667720">{</span><span class="string" id="6667721">&#34;AAAAA=&#34;</span><span class="op" id="6667729">,</span>&nbsp;<span class="num" id="6667731">6</span><span class="op" id="6667732">}</span><span class="op" id="6667733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667737">{</span><span class="string" id="6667738">&#34;AAAAA==&#34;</span><span class="op" id="6667747">,</span>&nbsp;<span class="num" id="6667749">7</span><span class="op" id="6667750">}</span><span class="op" id="6667751">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667755">{</span><span class="string" id="6667756">&#34;A=======&#34;</span><span class="op" id="6667766">,</span>&nbsp;<span class="num" id="6667768">1</span><span class="op" id="6667769">}</span><span class="op" id="6667770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667774">{</span><span class="string" id="6667775">&#34;AA======&#34;</span><span class="op" id="6667785">,</span>&nbsp;<span class="op" id="6667787">-</span><span class="num" id="6667788">1</span><span class="op" id="6667789">}</span><span class="op" id="6667790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667794">{</span><span class="string" id="6667795">&#34;AAA=====&#34;</span><span class="op" id="6667805">,</span>&nbsp;<span class="num" id="6667807">3</span><span class="op" id="6667808">}</span><span class="op" id="6667809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667813">{</span><span class="string" id="6667814">&#34;AAAA====&#34;</span><span class="op" id="6667824">,</span>&nbsp;<span class="op" id="6667826">-</span><span class="num" id="6667827">1</span><span class="op" id="6667828">}</span><span class="op" id="6667829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667833">{</span><span class="string" id="6667834">&#34;AAAAA===&#34;</span><span class="op" id="6667844">,</span>&nbsp;<span class="op" id="6667846">-</span><span class="num" id="6667847">1</span><span class="op" id="6667848">}</span><span class="op" id="6667849">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667853">{</span><span class="string" id="6667854">&#34;AAAAAA==&#34;</span><span class="op" id="6667864">,</span>&nbsp;<span class="num" id="6667866">6</span><span class="op" id="6667867">}</span><span class="op" id="6667868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667872">{</span><span class="string" id="6667873">&#34;AAAAAAA=&#34;</span><span class="op" id="6667883">,</span>&nbsp;<span class="op" id="6667885">-</span><span class="num" id="6667886">1</span><span class="op" id="6667887">}</span><span class="op" id="6667888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667892">{</span><span class="string" id="6667893">&#34;AAAAAAAA&#34;</span><span class="op" id="6667903">,</span>&nbsp;<span class="op" id="6667905">-</span><span class="num" id="6667906">1</span><span class="op" id="6667907">}</span><span class="op" id="6667908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6667911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6667914">for</span>&nbsp;<span class="ident" id="6667918">_</span><span class="op" id="6667919">,</span>&nbsp;<span class="ident" id="6667921">tc</span>&nbsp;<span class="op" id="6667924">:=</span>&nbsp;<span class="keyword" id="6667927">range</span>&nbsp;<span class="ident" id="6667933">testCases</span>&nbsp;<span class="op" id="6667943">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6667947">dbuf</span>&nbsp;<span class="op" id="6667952">:=</span>&nbsp;<span class="builtinfunc" id="6667955">make</span><span class="op" id="6667959">(</span><span class="op" id="6667960">[</span><span class="op" id="6667961">]</span><span class="builtintype" id="6667962">byte</span><span class="op" id="6667966">,</span>&nbsp;<span class="ident" id="6667968">StdEncoding</span><span class="op" id="6667979">.</span><span class="ident" id="6667980">DecodedLen</span><span class="op" id="6667990">(</span><span class="builtinfunc" id="6667991">len</span><span class="op" id="6667994">(</span><span class="ident" id="6667995">tc</span><span class="op" id="6667997">.</span><span class="ident" id="6667998">input</span><span class="op" id="6668003">)</span><span class="op" id="6668004">)</span><span class="op" id="6668005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668009">_</span><span class="op" id="6668010">,</span>&nbsp;<span class="ident" id="6668012">err</span>&nbsp;<span class="op" id="6668016">:=</span>&nbsp;<span class="ident" id="6668019">StdEncoding</span><span class="op" id="6668030">.</span><span class="ident" id="6668031">Decode</span><span class="op" id="6668037">(</span><span class="ident" id="6668038">dbuf</span><span class="op" id="6668042">,</span>&nbsp;<span class="op" id="6668044">[</span><span class="op" id="6668045">]</span><span class="builtintype" id="6668046">byte</span><span class="op" id="6668050">(</span><span class="ident" id="6668051">tc</span><span class="op" id="6668053">.</span><span class="ident" id="6668054">input</span><span class="op" id="6668059">)</span><span class="op" id="6668060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668064">if</span>&nbsp;<span class="ident" id="6668067">tc</span><span class="op" id="6668069">.</span><span class="ident" id="6668070">offset</span>&nbsp;<span class="op" id="6668077">==</span>&nbsp;<span class="op" id="6668080">-</span><span class="num" id="6668081">1</span>&nbsp;<span class="op" id="6668083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668088">if</span>&nbsp;<span class="ident" id="6668091">err</span>&nbsp;<span class="op" id="6668095">!=</span>&nbsp;<span class="ident" id="6668098">nil</span>&nbsp;<span class="op" id="6668102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668108">t</span><span class="op" id="6668109">.</span><span class="ident" id="6668110">Error</span><span class="op" id="6668115">(</span><span class="string" id="6668116">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="6668155">,</span>&nbsp;<span class="ident" id="6668157">tc</span><span class="op" id="6668159">.</span><span class="ident" id="6668160">input</span><span class="op" id="6668165">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6668170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668175">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6668186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668190">switch</span>&nbsp;<span class="ident" id="6668197">err</span>&nbsp;<span class="op" id="6668201">:=</span>&nbsp;<span class="ident" id="6668204">err</span><span class="op" id="6668207">.</span><span class="op" id="6668208">(</span><span class="keyword" id="6668209">type</span><span class="op" id="6668213">)</span>&nbsp;<span class="op" id="6668215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668219">case</span>&nbsp;<span class="ident" id="6668224">CorruptInputError</span><span class="op" id="6668241">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668246">testEqual</span><span class="op" id="6668255">(</span><span class="ident" id="6668256">t</span><span class="op" id="6668257">,</span>&nbsp;<span class="string" id="6668259">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6668299">,</span>&nbsp;<span class="ident" id="6668301">tc</span><span class="op" id="6668303">.</span><span class="ident" id="6668304">input</span><span class="op" id="6668309">,</span>&nbsp;<span class="builtintype" id="6668311">int</span><span class="op" id="6668314">(</span><span class="ident" id="6668315">err</span><span class="op" id="6668318">)</span><span class="op" id="6668319">,</span>&nbsp;<span class="ident" id="6668321">tc</span><span class="op" id="6668323">.</span><span class="ident" id="6668324">offset</span><span class="op" id="6668330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668334">default</span><span class="op" id="6668341">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668346">t</span><span class="op" id="6668347">.</span><span class="ident" id="6668348">Error</span><span class="op" id="6668353">(</span><span class="string" id="6668354">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="6668394">,</span>&nbsp;<span class="ident" id="6668396">tc</span><span class="op" id="6668398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6668402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6668405">}</span><br>
<span class="lineno">185</span><span class="op" id="6668407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6668410">func</span>&nbsp;<span class="ident" id="6668415">TestBig</span><span class="op" id="6668422">(</span><span class="ident" id="6668423">t</span>&nbsp;<span class="op" id="6668425">*</span><span class="ident" id="6668426">testing</span><span class="op" id="6668433">.</span><span class="ident" id="6668434">T</span><span class="op" id="6668435">)</span>&nbsp;<span class="op" id="6668437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668440">n</span>&nbsp;<span class="op" id="6668442">:=</span>&nbsp;<span class="num" id="6668445">3</span><span class="op" id="6668446">*</span><span class="num" id="6668447">1000</span>&nbsp;<span class="op" id="6668452">+</span>&nbsp;<span class="num" id="6668454">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668457">raw</span>&nbsp;<span class="op" id="6668461">:=</span>&nbsp;<span class="builtinfunc" id="6668464">make</span><span class="op" id="6668468">(</span><span class="op" id="6668469">[</span><span class="op" id="6668470">]</span><span class="builtintype" id="6668471">byte</span><span class="op" id="6668475">,</span>&nbsp;<span class="ident" id="6668477">n</span><span class="op" id="6668478">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668481">const</span>&nbsp;<span class="ident" id="6668487">alpha</span>&nbsp;<span class="op" id="6668493">=</span>&nbsp;<span class="string" id="6668495">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668561">for</span>&nbsp;<span class="ident" id="6668565">i</span>&nbsp;<span class="op" id="6668567">:=</span>&nbsp;<span class="num" id="6668570">0</span><span class="op" id="6668571">;</span>&nbsp;<span class="ident" id="6668573">i</span>&nbsp;<span class="op" id="6668575">&lt;</span>&nbsp;<span class="ident" id="6668577">n</span><span class="op" id="6668578">;</span>&nbsp;<span class="ident" id="6668580">i</span><span class="op" id="6668581">++</span>&nbsp;<span class="op" id="6668584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668588">raw</span><span class="op" id="6668591">[</span><span class="ident" id="6668592">i</span><span class="op" id="6668593">]</span>&nbsp;<span class="op" id="6668595">=</span>&nbsp;<span class="ident" id="6668597">alpha</span><span class="op" id="6668602">[</span><span class="ident" id="6668603">i</span><span class="op" id="6668604">%</span><span class="builtinfunc" id="6668605">len</span><span class="op" id="6668608">(</span><span class="ident" id="6668609">alpha</span><span class="op" id="6668614">)</span><span class="op" id="6668615">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6668618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668621">encoded</span>&nbsp;<span class="op" id="6668629">:=</span>&nbsp;<span class="builtinfunc" id="6668632">new</span><span class="op" id="6668635">(</span><span class="ident" id="6668636">bytes</span><span class="op" id="6668641">.</span><span class="ident" id="6668642">Buffer</span><span class="op" id="6668648">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668651">w</span>&nbsp;<span class="op" id="6668653">:=</span>&nbsp;<span class="ident" id="6668656">NewEncoder</span><span class="op" id="6668666">(</span><span class="ident" id="6668667">StdEncoding</span><span class="op" id="6668678">,</span>&nbsp;<span class="ident" id="6668680">encoded</span><span class="op" id="6668687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668690">nn</span><span class="op" id="6668692">,</span>&nbsp;<span class="ident" id="6668694">err</span>&nbsp;<span class="op" id="6668698">:=</span>&nbsp;<span class="ident" id="6668701">w</span><span class="op" id="6668702">.</span><span class="ident" id="6668703">Write</span><span class="op" id="6668708">(</span><span class="ident" id="6668709">raw</span><span class="op" id="6668712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668715">if</span>&nbsp;<span class="ident" id="6668718">nn</span>&nbsp;<span class="op" id="6668721">!=</span>&nbsp;<span class="ident" id="6668724">n</span>&nbsp;<span class="op" id="6668726">||</span>&nbsp;<span class="ident" id="6668729">err</span>&nbsp;<span class="op" id="6668733">!=</span>&nbsp;<span class="ident" id="6668736">nil</span>&nbsp;<span class="op" id="6668740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668744">t</span><span class="op" id="6668745">.</span><span class="ident" id="6668746">Fatalf</span><span class="op" id="6668752">(</span><span class="string" id="6668753">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="6668795">,</span>&nbsp;<span class="ident" id="6668797">nn</span><span class="op" id="6668799">,</span>&nbsp;<span class="ident" id="6668801">err</span><span class="op" id="6668804">,</span>&nbsp;<span class="ident" id="6668806">n</span><span class="op" id="6668807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6668810">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668813">err</span>&nbsp;<span class="op" id="6668817">=</span>&nbsp;<span class="ident" id="6668819">w</span><span class="op" id="6668820">.</span><span class="ident" id="6668821">Close</span><span class="op" id="6668826">(</span><span class="op" id="6668827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668830">if</span>&nbsp;<span class="ident" id="6668833">err</span>&nbsp;<span class="op" id="6668837">!=</span>&nbsp;<span class="ident" id="6668840">nil</span>&nbsp;<span class="op" id="6668844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668848">t</span><span class="op" id="6668849">.</span><span class="ident" id="6668850">Fatalf</span><span class="op" id="6668856">(</span><span class="string" id="6668857">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="6668888">,</span>&nbsp;<span class="ident" id="6668890">err</span><span class="op" id="6668893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6668896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668899">decoded</span><span class="op" id="6668906">,</span>&nbsp;<span class="ident" id="6668908">err</span>&nbsp;<span class="op" id="6668912">:=</span>&nbsp;<span class="ident" id="6668915">ioutil</span><span class="op" id="6668921">.</span><span class="ident" id="6668922">ReadAll</span><span class="op" id="6668929">(</span><span class="ident" id="6668930">NewDecoder</span><span class="op" id="6668940">(</span><span class="ident" id="6668941">StdEncoding</span><span class="op" id="6668952">,</span>&nbsp;<span class="ident" id="6668954">encoded</span><span class="op" id="6668961">)</span><span class="op" id="6668962">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6668965">if</span>&nbsp;<span class="ident" id="6668968">err</span>&nbsp;<span class="op" id="6668972">!=</span>&nbsp;<span class="ident" id="6668975">nil</span>&nbsp;<span class="op" id="6668979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6668983">t</span><span class="op" id="6668984">.</span><span class="ident" id="6668985">Fatalf</span><span class="op" id="6668991">(</span><span class="string" id="6668992">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="6669029">,</span>&nbsp;<span class="ident" id="6669031">err</span><span class="op" id="6669034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6669037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669041">if</span>&nbsp;<span class="op" id="6669044">!</span><span class="ident" id="6669045">bytes</span><span class="op" id="6669050">.</span><span class="ident" id="6669051">Equal</span><span class="op" id="6669056">(</span><span class="ident" id="6669057">raw</span><span class="op" id="6669060">,</span>&nbsp;<span class="ident" id="6669062">decoded</span><span class="op" id="6669069">)</span>&nbsp;<span class="op" id="6669071">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669075">var</span>&nbsp;<span class="ident" id="6669079">i</span>&nbsp;<span class="builtintype" id="6669081">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669087">for</span>&nbsp;<span class="ident" id="6669091">i</span>&nbsp;<span class="op" id="6669093">=</span>&nbsp;<span class="num" id="6669095">0</span><span class="op" id="6669096">;</span>&nbsp;<span class="ident" id="6669098">i</span>&nbsp;<span class="op" id="6669100">&lt;</span>&nbsp;<span class="builtinfunc" id="6669102">len</span><span class="op" id="6669105">(</span><span class="ident" id="6669106">decoded</span><span class="op" id="6669113">)</span>&nbsp;<span class="op" id="6669115">&amp;&amp;</span>&nbsp;<span class="ident" id="6669118">i</span>&nbsp;<span class="op" id="6669120">&lt;</span>&nbsp;<span class="builtinfunc" id="6669122">len</span><span class="op" id="6669125">(</span><span class="ident" id="6669126">raw</span><span class="op" id="6669129">)</span><span class="op" id="6669130">;</span>&nbsp;<span class="ident" id="6669132">i</span><span class="op" id="6669133">++</span>&nbsp;<span class="op" id="6669136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669141">if</span>&nbsp;<span class="ident" id="6669144">decoded</span><span class="op" id="6669151">[</span><span class="ident" id="6669152">i</span><span class="op" id="6669153">]</span>&nbsp;<span class="op" id="6669155">!=</span>&nbsp;<span class="ident" id="6669158">raw</span><span class="op" id="6669161">[</span><span class="ident" id="6669162">i</span><span class="op" id="6669163">]</span>&nbsp;<span class="op" id="6669165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669171">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6669180">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6669184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669188">t</span><span class="op" id="6669189">.</span><span class="ident" id="6669190">Errorf</span><span class="op" id="6669196">(</span><span class="string" id="6669197">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="6669249">,</span>&nbsp;<span class="ident" id="6669251">n</span><span class="op" id="6669252">,</span>&nbsp;<span class="ident" id="6669254">i</span><span class="op" id="6669255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6669258">}</span><br>
<span class="lineno"></span><span class="op" id="6669260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="6669263">func</span>&nbsp;<span class="ident" id="6669268">testStringEncoding</span><span class="op" id="6669286">(</span><span class="ident" id="6669287">t</span>&nbsp;<span class="op" id="6669289">*</span><span class="ident" id="6669290">testing</span><span class="op" id="6669297">.</span><span class="ident" id="6669298">T</span><span class="op" id="6669299">,</span>&nbsp;<span class="ident" id="6669301">expected</span>&nbsp;<span class="builtintype" id="6669310">string</span><span class="op" id="6669316">,</span>&nbsp;<span class="ident" id="6669318">examples</span>&nbsp;<span class="op" id="6669327">[</span><span class="op" id="6669328">]</span><span class="builtintype" id="6669329">string</span><span class="op" id="6669335">)</span>&nbsp;<span class="op" id="6669337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669340">for</span>&nbsp;<span class="ident" id="6669344">_</span><span class="op" id="6669345">,</span>&nbsp;<span class="ident" id="6669347">e</span>&nbsp;<span class="op" id="6669349">:=</span>&nbsp;<span class="keyword" id="6669352">range</span>&nbsp;<span class="ident" id="6669358">examples</span>&nbsp;<span class="op" id="6669367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669371">buf</span><span class="op" id="6669374">,</span>&nbsp;<span class="ident" id="6669376">err</span>&nbsp;<span class="op" id="6669380">:=</span>&nbsp;<span class="ident" id="6669383">StdEncoding</span><span class="op" id="6669394">.</span><span class="ident" id="6669395">DecodeString</span><span class="op" id="6669407">(</span><span class="ident" id="6669408">e</span><span class="op" id="6669409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669413">if</span>&nbsp;<span class="ident" id="6669416">err</span>&nbsp;<span class="op" id="6669420">!=</span>&nbsp;<span class="ident" id="6669423">nil</span>&nbsp;<span class="op" id="6669427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669432">t</span><span class="op" id="6669433">.</span><span class="ident" id="6669434">Errorf</span><span class="op" id="6669440">(</span><span class="string" id="6669441">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6669464">,</span>&nbsp;<span class="ident" id="6669466">e</span><span class="op" id="6669467">,</span>&nbsp;<span class="ident" id="6669469">err</span><span class="op" id="6669472">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669477">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6669488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6669492">if</span>&nbsp;<span class="ident" id="6669495">s</span>&nbsp;<span class="op" id="6669497">:=</span>&nbsp;<span class="builtintype" id="6669500">string</span><span class="op" id="6669506">(</span><span class="ident" id="6669507">buf</span><span class="op" id="6669510">)</span><span class="op" id="6669511">;</span>&nbsp;<span class="ident" id="6669513">s</span>&nbsp;<span class="op" id="6669515">!=</span>&nbsp;<span class="ident" id="6669518">expected</span>&nbsp;<span class="op" id="6669527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669532">t</span><span class="op" id="6669533">.</span><span class="ident" id="6669534">Errorf</span><span class="op" id="6669540">(</span><span class="string" id="6669541">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6669567">,</span>&nbsp;<span class="ident" id="6669569">e</span><span class="op" id="6669570">,</span>&nbsp;<span class="ident" id="6669572">s</span><span class="op" id="6669573">,</span>&nbsp;<span class="ident" id="6669575">expected</span><span class="op" id="6669583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6669587">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6669590">}</span><br>
<span class="lineno"></span><span class="op" id="6669592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6669595">func</span>&nbsp;<span class="ident" id="6669600">TestNewLineCharacters</span><span class="op" id="6669621">(</span><span class="ident" id="6669622">t</span>&nbsp;<span class="op" id="6669624">*</span><span class="ident" id="6669625">testing</span><span class="op" id="6669632">.</span><span class="ident" id="6669633">T</span><span class="op" id="6669634">)</span>&nbsp;<span class="op" id="6669636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6669639">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669709">examples</span>&nbsp;<span class="op" id="6669718">:=</span>&nbsp;<span class="op" id="6669721">[</span><span class="op" id="6669722">]</span><span class="builtintype" id="6669723">string</span><span class="op" id="6669729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6669733">&#34;ON2XEZI=&#34;</span><span class="op" id="6669743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6669747">&#34;ON2XEZI=\r&#34;</span><span class="op" id="6669759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6669763">&#34;ON2XEZI=\n&#34;</span><span class="op" id="6669775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6669779">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="6669793">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6669797">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="6669811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6669815">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="6669829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6669833">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="6669847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6669851">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="6669863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6669867">&#34;ON2XEZI\n=&#34;</span><span class="op" id="6669879">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6669882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669885">testStringEncoding</span><span class="op" id="6669903">(</span><span class="ident" id="6669904">t</span><span class="op" id="6669905">,</span>&nbsp;<span class="string" id="6669907">&#34;sure&#34;</span><span class="op" id="6669913">,</span>&nbsp;<span class="ident" id="6669915">examples</span><span class="op" id="6669923">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6669927">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6669999">examples</span>&nbsp;<span class="op" id="6670008">=</span>&nbsp;<span class="op" id="6670010">[</span><span class="op" id="6670011">]</span><span class="builtintype" id="6670012">string</span><span class="op" id="6670018">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6670022">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="6670040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6670044">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="6670066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6670069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6670072">testStringEncoding</span><span class="op" id="6670090">(</span><span class="ident" id="6670091">t</span><span class="op" id="6670092">,</span>&nbsp;<span class="string" id="6670094">&#34;foobar&#34;</span><span class="op" id="6670102">,</span>&nbsp;<span class="ident" id="6670104">examples</span><span class="op" id="6670112">)</span><br>
<span class="lineno"></span><span class="op" id="6670114">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="6670117">func</span>&nbsp;<span class="ident" id="6670122">TestDecoderIssue4779</span><span class="op" id="6670142">(</span><span class="ident" id="6670143">t</span>&nbsp;<span class="op" id="6670145">*</span><span class="ident" id="6670146">testing</span><span class="op" id="6670153">.</span><span class="ident" id="6670154">T</span><span class="op" id="6670155">)</span>&nbsp;<span class="op" id="6670157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6670160">encoded</span>&nbsp;<span class="op" id="6670168">:=</span>&nbsp;<span class="string" id="6670171">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6670905">encodedShort</span>&nbsp;<span class="op" id="6670918">:=</span>&nbsp;<span class="ident" id="6670921">strings</span><span class="op" id="6670928">.</span><span class="ident" id="6670929">Replace</span><span class="op" id="6670936">(</span><span class="ident" id="6670937">encoded</span><span class="op" id="6670944">,</span>&nbsp;<span class="string" id="6670946">&#34;\n&#34;</span><span class="op" id="6670950">,</span>&nbsp;<span class="string" id="6670952">&#34;&#34;</span><span class="op" id="6670954">,</span>&nbsp;<span class="op" id="6670956">-</span><span class="num" id="6670957">1</span><span class="op" id="6670958">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6670962">dec</span>&nbsp;<span class="op" id="6670966">:=</span>&nbsp;<span class="ident" id="6670969">NewDecoder</span><span class="op" id="6670979">(</span><span class="ident" id="6670980">StdEncoding</span><span class="op" id="6670991">,</span>&nbsp;<span class="ident" id="6670993">strings</span><span class="op" id="6671000">.</span><span class="ident" id="6671001">NewReader</span><span class="op" id="6671010">(</span><span class="ident" id="6671011">encoded</span><span class="op" id="6671018">)</span><span class="op" id="6671019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671022">res1</span><span class="op" id="6671026">,</span>&nbsp;<span class="ident" id="6671028">err</span>&nbsp;<span class="op" id="6671032">:=</span>&nbsp;<span class="ident" id="6671035">ioutil</span><span class="op" id="6671041">.</span><span class="ident" id="6671042">ReadAll</span><span class="op" id="6671049">(</span><span class="ident" id="6671050">dec</span><span class="op" id="6671053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671056">if</span>&nbsp;<span class="ident" id="6671059">err</span>&nbsp;<span class="op" id="6671063">!=</span>&nbsp;<span class="ident" id="6671066">nil</span>&nbsp;<span class="op" id="6671070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671074">t</span><span class="op" id="6671075">.</span><span class="ident" id="6671076">Errorf</span><span class="op" id="6671082">(</span><span class="string" id="6671083">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6671103">,</span>&nbsp;<span class="ident" id="6671105">err</span><span class="op" id="6671108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671111">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671115">dec</span>&nbsp;<span class="op" id="6671119">=</span>&nbsp;<span class="ident" id="6671121">NewDecoder</span><span class="op" id="6671131">(</span><span class="ident" id="6671132">StdEncoding</span><span class="op" id="6671143">,</span>&nbsp;<span class="ident" id="6671145">strings</span><span class="op" id="6671152">.</span><span class="ident" id="6671153">NewReader</span><span class="op" id="6671162">(</span><span class="ident" id="6671163">encodedShort</span><span class="op" id="6671175">)</span><span class="op" id="6671176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671179">var</span>&nbsp;<span class="ident" id="6671183">res2</span>&nbsp;<span class="op" id="6671188">[</span><span class="op" id="6671189">]</span><span class="builtintype" id="6671190">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671196">res2</span><span class="op" id="6671200">,</span>&nbsp;<span class="ident" id="6671202">err</span>&nbsp;<span class="op" id="6671206">=</span>&nbsp;<span class="ident" id="6671208">ioutil</span><span class="op" id="6671214">.</span><span class="ident" id="6671215">ReadAll</span><span class="op" id="6671222">(</span><span class="ident" id="6671223">dec</span><span class="op" id="6671226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671229">if</span>&nbsp;<span class="ident" id="6671232">err</span>&nbsp;<span class="op" id="6671236">!=</span>&nbsp;<span class="ident" id="6671239">nil</span>&nbsp;<span class="op" id="6671243">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671247">t</span><span class="op" id="6671248">.</span><span class="ident" id="6671249">Errorf</span><span class="op" id="6671255">(</span><span class="string" id="6671256">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6671276">,</span>&nbsp;<span class="ident" id="6671278">err</span><span class="op" id="6671281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671288">if</span>&nbsp;<span class="op" id="6671291">!</span><span class="ident" id="6671292">bytes</span><span class="op" id="6671297">.</span><span class="ident" id="6671298">Equal</span><span class="op" id="6671303">(</span><span class="ident" id="6671304">res1</span><span class="op" id="6671308">,</span>&nbsp;<span class="ident" id="6671310">res2</span><span class="op" id="6671314">)</span>&nbsp;<span class="op" id="6671316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671320">t</span><span class="op" id="6671321">.</span><span class="ident" id="6671322">Error</span><span class="op" id="6671327">(</span><span class="string" id="6671328">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="6671355">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671358">}</span><br>
<span class="lineno"></span><span class="op" id="6671360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671363">func</span>&nbsp;<span class="ident" id="6671368">BenchmarkEncodeToString</span><span class="op" id="6671391">(</span><span class="ident" id="6671392">b</span>&nbsp;<span class="op" id="6671394">*</span><span class="ident" id="6671395">testing</span><span class="op" id="6671402">.</span><span class="ident" id="6671403">B</span><span class="op" id="6671404">)</span>&nbsp;<span class="op" id="6671406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671409">data</span>&nbsp;<span class="op" id="6671414">:=</span>&nbsp;<span class="builtinfunc" id="6671417">make</span><span class="op" id="6671421">(</span><span class="op" id="6671422">[</span><span class="op" id="6671423">]</span><span class="builtintype" id="6671424">byte</span><span class="op" id="6671428">,</span>&nbsp;<span class="num" id="6671430">8192</span><span class="op" id="6671434">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671437">b</span><span class="op" id="6671438">.</span><span class="ident" id="6671439">SetBytes</span><span class="op" id="6671447">(</span><span class="ident" id="6671448">int64</span><span class="op" id="6671453">(</span><span class="builtinfunc" id="6671454">len</span><span class="op" id="6671457">(</span><span class="ident" id="6671458">data</span><span class="op" id="6671462">)</span><span class="op" id="6671463">)</span><span class="op" id="6671464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671467">for</span>&nbsp;<span class="ident" id="6671471">i</span>&nbsp;<span class="op" id="6671473">:=</span>&nbsp;<span class="num" id="6671476">0</span><span class="op" id="6671477">;</span>&nbsp;<span class="ident" id="6671479">i</span>&nbsp;<span class="op" id="6671481">&lt;</span>&nbsp;<span class="ident" id="6671483">b</span><span class="op" id="6671484">.</span><span class="ident" id="6671485">N</span><span class="op" id="6671486">;</span>&nbsp;<span class="ident" id="6671488">i</span><span class="op" id="6671489">++</span>&nbsp;<span class="op" id="6671492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671496">StdEncoding</span><span class="op" id="6671507">.</span><span class="ident" id="6671508">EncodeToString</span><span class="op" id="6671522">(</span><span class="ident" id="6671523">data</span><span class="op" id="6671527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671530">}</span><br>
<span class="lineno"></span><span class="op" id="6671532">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="6671535">func</span>&nbsp;<span class="ident" id="6671540">BenchmarkDecodeString</span><span class="op" id="6671561">(</span><span class="ident" id="6671562">b</span>&nbsp;<span class="op" id="6671564">*</span><span class="ident" id="6671565">testing</span><span class="op" id="6671572">.</span><span class="ident" id="6671573">B</span><span class="op" id="6671574">)</span>&nbsp;<span class="op" id="6671576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671579">data</span>&nbsp;<span class="op" id="6671584">:=</span>&nbsp;<span class="ident" id="6671587">StdEncoding</span><span class="op" id="6671598">.</span><span class="ident" id="6671599">EncodeToString</span><span class="op" id="6671613">(</span><span class="builtinfunc" id="6671614">make</span><span class="op" id="6671618">(</span><span class="op" id="6671619">[</span><span class="op" id="6671620">]</span><span class="builtintype" id="6671621">byte</span><span class="op" id="6671625">,</span>&nbsp;<span class="num" id="6671627">8192</span><span class="op" id="6671631">)</span><span class="op" id="6671632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671635">b</span><span class="op" id="6671636">.</span><span class="ident" id="6671637">SetBytes</span><span class="op" id="6671645">(</span><span class="ident" id="6671646">int64</span><span class="op" id="6671651">(</span><span class="builtinfunc" id="6671652">len</span><span class="op" id="6671655">(</span><span class="ident" id="6671656">data</span><span class="op" id="6671660">)</span><span class="op" id="6671661">)</span><span class="op" id="6671662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671665">for</span>&nbsp;<span class="ident" id="6671669">i</span>&nbsp;<span class="op" id="6671671">:=</span>&nbsp;<span class="num" id="6671674">0</span><span class="op" id="6671675">;</span>&nbsp;<span class="ident" id="6671677">i</span>&nbsp;<span class="op" id="6671679">&lt;</span>&nbsp;<span class="ident" id="6671681">b</span><span class="op" id="6671682">.</span><span class="ident" id="6671683">N</span><span class="op" id="6671684">;</span>&nbsp;<span class="ident" id="6671686">i</span><span class="op" id="6671687">++</span>&nbsp;<span class="op" id="6671690">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671694">StdEncoding</span><span class="op" id="6671705">.</span><span class="ident" id="6671706">DecodeString</span><span class="op" id="6671718">(</span><span class="ident" id="6671719">data</span><span class="op" id="6671723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671726">}</span><br>
<span class="lineno"></span><span class="op" id="6671728">}</span>
</div>
</body>
</html>
