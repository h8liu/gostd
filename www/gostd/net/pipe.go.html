<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html" class="current">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3984221">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3984277">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3984331">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3984382">package</span>&nbsp;<span class="ident" id="3984390">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3984395">import</span>&nbsp;<span class="op" id="3984402">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3984405">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3984415">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3984421">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="3984428">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3984431">//&nbsp;Pipe&nbsp;creates&nbsp;a&nbsp;synchronous,&nbsp;in-memory,&nbsp;full&nbsp;duplex</span><br>
<span class="lineno"></span><span class="comment" id="3984485">//&nbsp;network&nbsp;connection;&nbsp;both&nbsp;ends&nbsp;implement&nbsp;the&nbsp;Conn&nbsp;interface.</span><br>
<span class="lineno">15</span><span class="comment" id="3984548">//&nbsp;Reads&nbsp;on&nbsp;one&nbsp;end&nbsp;are&nbsp;matched&nbsp;with&nbsp;writes&nbsp;on&nbsp;the&nbsp;other,</span><br>
<span class="lineno"></span><span class="comment" id="3984606">//&nbsp;copying&nbsp;data&nbsp;directly&nbsp;between&nbsp;the&nbsp;two;&nbsp;there&nbsp;is&nbsp;no&nbsp;internal</span><br>
<span class="lineno"></span><span class="comment" id="3984669">//&nbsp;buffering.</span><br>
<span class="lineno"></span><span class="keyword" id="3984683">func</span>&nbsp;<span class="ident" id="3984688">Pipe</span><span class="op" id="3984692">(</span><span class="op" id="3984693">)</span>&nbsp;<span class="op" id="3984695">(</span><span class="ident" id="3984696">Conn</span><span class="op" id="3984700">,</span>&nbsp;<span class="ident" id="3984702">Conn</span><span class="op" id="3984706">)</span>&nbsp;<span class="op" id="3984708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3984711">r1</span><span class="op" id="3984713">,</span>&nbsp;<span class="ident" id="3984715">w1</span>&nbsp;<span class="op" id="3984718">:=</span>&nbsp;<span class="ident" id="3984721">io</span><span class="op" id="3984723">.</span><span class="ident" id="3984724">Pipe</span><span class="op" id="3984728">(</span><span class="op" id="3984729">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3984732">r2</span><span class="op" id="3984734">,</span>&nbsp;<span class="ident" id="3984736">w2</span>&nbsp;<span class="op" id="3984739">:=</span>&nbsp;<span class="ident" id="3984742">io</span><span class="op" id="3984744">.</span><span class="ident" id="3984745">Pipe</span><span class="op" id="3984749">(</span><span class="op" id="3984750">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3984754">return</span>&nbsp;<span class="op" id="3984761">&amp;</span><span class="ident" id="3984762">pipe</span><span class="op" id="3984766">{</span><span class="ident" id="3984767">r1</span><span class="op" id="3984769">,</span>&nbsp;<span class="ident" id="3984771">w2</span><span class="op" id="3984773">}</span><span class="op" id="3984774">,</span>&nbsp;<span class="op" id="3984776">&amp;</span><span class="ident" id="3984777">pipe</span><span class="op" id="3984781">{</span><span class="ident" id="3984782">r2</span><span class="op" id="3984784">,</span>&nbsp;<span class="ident" id="3984786">w1</span><span class="op" id="3984788">}</span><br>
<span class="lineno"></span><span class="op" id="3984790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="3984793">type</span>&nbsp;<span class="ident" id="3984798">pipe</span>&nbsp;<span class="keyword" id="3984803">struct</span>&nbsp;<span class="op" id="3984810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3984813">*</span><span class="ident" id="3984814">io</span><span class="op" id="3984816">.</span><span class="ident" id="3984817">PipeReader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3984829">*</span><span class="ident" id="3984830">io</span><span class="op" id="3984832">.</span><span class="ident" id="3984833">PipeWriter</span><br>
<span class="lineno"></span><span class="op" id="3984844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="3984847">type</span>&nbsp;<span class="ident" id="3984852">pipeAddr</span>&nbsp;<span class="builtintype" id="3984861">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3984866">func</span>&nbsp;<span class="op" id="3984871">(</span><span class="ident" id="3984872">pipeAddr</span><span class="op" id="3984880">)</span>&nbsp;<span class="ident" id="3984882">Network</span><span class="op" id="3984889">(</span><span class="op" id="3984890">)</span>&nbsp;<span class="builtintype" id="3984892">string</span>&nbsp;<span class="op" id="3984899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3984902">return</span>&nbsp;<span class="string" id="3984909">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="3984916">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="3984919">func</span>&nbsp;<span class="op" id="3984924">(</span><span class="ident" id="3984925">pipeAddr</span><span class="op" id="3984933">)</span>&nbsp;<span class="ident" id="3984935">String</span><span class="op" id="3984941">(</span><span class="op" id="3984942">)</span>&nbsp;<span class="builtintype" id="3984944">string</span>&nbsp;<span class="op" id="3984951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3984954">return</span>&nbsp;<span class="string" id="3984961">&#34;pipe&#34;</span><br>
<span class="lineno"></span><span class="op" id="3984968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="3984971">func</span>&nbsp;<span class="op" id="3984976">(</span><span class="ident" id="3984977">p</span>&nbsp;<span class="op" id="3984979">*</span><span class="ident" id="3984980">pipe</span><span class="op" id="3984984">)</span>&nbsp;<span class="ident" id="3984986">Close</span><span class="op" id="3984991">(</span><span class="op" id="3984992">)</span>&nbsp;<span class="builtintype" id="3984994">error</span>&nbsp;<span class="op" id="3985000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3985003">err</span>&nbsp;<span class="op" id="3985007">:=</span>&nbsp;<span class="ident" id="3985010">p</span><span class="op" id="3985011">.</span><span class="ident" id="3985012">PipeReader</span><span class="op" id="3985022">.</span><span class="ident" id="3985023">Close</span><span class="op" id="3985028">(</span><span class="op" id="3985029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3985032">err1</span>&nbsp;<span class="op" id="3985037">:=</span>&nbsp;<span class="ident" id="3985040">p</span><span class="op" id="3985041">.</span><span class="ident" id="3985042">PipeWriter</span><span class="op" id="3985052">.</span><span class="ident" id="3985053">Close</span><span class="op" id="3985058">(</span><span class="op" id="3985059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3985062">if</span>&nbsp;<span class="ident" id="3985065">err</span>&nbsp;<span class="op" id="3985069">==</span>&nbsp;<span class="builtintype" id="3985072">nil</span>&nbsp;<span class="op" id="3985076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3985080">err</span>&nbsp;<span class="op" id="3985084">=</span>&nbsp;<span class="ident" id="3985086">err1</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3985092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3985095">return</span>&nbsp;<span class="ident" id="3985102">err</span><br>
<span class="lineno"></span><span class="op" id="3985106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3985109">func</span>&nbsp;<span class="op" id="3985114">(</span><span class="ident" id="3985115">p</span>&nbsp;<span class="op" id="3985117">*</span><span class="ident" id="3985118">pipe</span><span class="op" id="3985122">)</span>&nbsp;<span class="ident" id="3985124">LocalAddr</span><span class="op" id="3985133">(</span><span class="op" id="3985134">)</span>&nbsp;<span class="ident" id="3985136">Addr</span>&nbsp;<span class="op" id="3985141">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3985144">return</span>&nbsp;<span class="ident" id="3985151">pipeAddr</span><span class="op" id="3985159">(</span><span class="num" id="3985160">0</span><span class="op" id="3985161">)</span><br>
<span class="lineno"></span><span class="op" id="3985163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3985166">func</span>&nbsp;<span class="op" id="3985171">(</span><span class="ident" id="3985172">p</span>&nbsp;<span class="op" id="3985174">*</span><span class="ident" id="3985175">pipe</span><span class="op" id="3985179">)</span>&nbsp;<span class="ident" id="3985181">RemoteAddr</span><span class="op" id="3985191">(</span><span class="op" id="3985192">)</span>&nbsp;<span class="ident" id="3985194">Addr</span>&nbsp;<span class="op" id="3985199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3985202">return</span>&nbsp;<span class="ident" id="3985209">pipeAddr</span><span class="op" id="3985217">(</span><span class="num" id="3985218">0</span><span class="op" id="3985219">)</span><br>
<span class="lineno">55</span><span class="op" id="3985221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3985224">func</span>&nbsp;<span class="op" id="3985229">(</span><span class="ident" id="3985230">p</span>&nbsp;<span class="op" id="3985232">*</span><span class="ident" id="3985233">pipe</span><span class="op" id="3985237">)</span>&nbsp;<span class="ident" id="3985239">SetDeadline</span><span class="op" id="3985250">(</span><span class="ident" id="3985251">t</span>&nbsp;<span class="ident" id="3985253">time</span><span class="op" id="3985257">.</span><span class="ident" id="3985258">Time</span><span class="op" id="3985262">)</span>&nbsp;<span class="builtintype" id="3985264">error</span>&nbsp;<span class="op" id="3985270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3985273">return</span>&nbsp;<span class="ident" id="3985280">errors</span><span class="op" id="3985286">.</span><span class="ident" id="3985287">New</span><span class="op" id="3985290">(</span><span class="string" id="3985291">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3985328">)</span><br>
<span class="lineno"></span><span class="op" id="3985330">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="3985333">func</span>&nbsp;<span class="op" id="3985338">(</span><span class="ident" id="3985339">p</span>&nbsp;<span class="op" id="3985341">*</span><span class="ident" id="3985342">pipe</span><span class="op" id="3985346">)</span>&nbsp;<span class="ident" id="3985348">SetReadDeadline</span><span class="op" id="3985363">(</span><span class="ident" id="3985364">t</span>&nbsp;<span class="ident" id="3985366">time</span><span class="op" id="3985370">.</span><span class="ident" id="3985371">Time</span><span class="op" id="3985375">)</span>&nbsp;<span class="builtintype" id="3985377">error</span>&nbsp;<span class="op" id="3985383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3985386">return</span>&nbsp;<span class="ident" id="3985393">errors</span><span class="op" id="3985399">.</span><span class="ident" id="3985400">New</span><span class="op" id="3985403">(</span><span class="string" id="3985404">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3985441">)</span><br>
<span class="lineno"></span><span class="op" id="3985443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="3985446">func</span>&nbsp;<span class="op" id="3985451">(</span><span class="ident" id="3985452">p</span>&nbsp;<span class="op" id="3985454">*</span><span class="ident" id="3985455">pipe</span><span class="op" id="3985459">)</span>&nbsp;<span class="ident" id="3985461">SetWriteDeadline</span><span class="op" id="3985477">(</span><span class="ident" id="3985478">t</span>&nbsp;<span class="ident" id="3985480">time</span><span class="op" id="3985484">.</span><span class="ident" id="3985485">Time</span><span class="op" id="3985489">)</span>&nbsp;<span class="builtintype" id="3985491">error</span>&nbsp;<span class="op" id="3985497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3985500">return</span>&nbsp;<span class="ident" id="3985507">errors</span><span class="op" id="3985513">.</span><span class="ident" id="3985514">New</span><span class="op" id="3985517">(</span><span class="string" id="3985518">&#34;net.Pipe&nbsp;does&nbsp;not&nbsp;support&nbsp;deadlines&#34;</span><span class="op" id="3985555">)</span><br>
<span class="lineno"></span><span class="op" id="3985557">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
