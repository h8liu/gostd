<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html" class="current">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5137993">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5138049">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5138103">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5138154">package</span>&nbsp;<span class="ident" id="5138162">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5138169">import</span>&nbsp;<span class="string" id="5138176">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5138187">//&nbsp;DWARF&nbsp;debug&nbsp;info&nbsp;is&nbsp;split&nbsp;into&nbsp;a&nbsp;sequence&nbsp;of&nbsp;compilation&nbsp;units.</span><br>
<span class="lineno">10</span><span class="comment" id="5138254">//&nbsp;Each&nbsp;unit&nbsp;has&nbsp;its&nbsp;own&nbsp;abbreviation&nbsp;table&nbsp;and&nbsp;address&nbsp;size.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5138317">type</span>&nbsp;<span class="ident" id="5138322">unit</span>&nbsp;<span class="keyword" id="5138327">struct</span>&nbsp;<span class="op" id="5138334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138337">base</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5138344">Offset</span>&nbsp;<span class="comment" id="5138351">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;header&nbsp;within&nbsp;the&nbsp;aggregate&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138403">off</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138410">Offset</span>&nbsp;<span class="comment" id="5138417">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;data&nbsp;within&nbsp;the&nbsp;aggregate&nbsp;info</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138467">data</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5138474">[</span><span class="op" id="5138475">]</span><span class="builtintype" id="5138476">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138482">atable</span>&nbsp;<span class="ident" id="5138489">abbrevTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138502">asize</span>&nbsp;&nbsp;<span class="builtintype" id="5138509">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138514">vers</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5138521">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138526">is64</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5138533">bool</span>&nbsp;<span class="comment" id="5138538">//&nbsp;True&nbsp;for&nbsp;64-bit&nbsp;DWARF&nbsp;format</span><br>
<span class="lineno">20</span><span class="op" id="5138570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5138573">//&nbsp;Implement&nbsp;the&nbsp;dataFormat&nbsp;interface.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5138613">func</span>&nbsp;<span class="op" id="5138618">(</span><span class="ident" id="5138619">u</span>&nbsp;<span class="op" id="5138621">*</span><span class="ident" id="5138622">unit</span><span class="op" id="5138626">)</span>&nbsp;<span class="ident" id="5138628">version</span><span class="op" id="5138635">(</span><span class="op" id="5138636">)</span>&nbsp;<span class="builtintype" id="5138638">int</span>&nbsp;<span class="op" id="5138642">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5138645">return</span>&nbsp;<span class="ident" id="5138652">u</span><span class="op" id="5138653">.</span><span class="ident" id="5138654">vers</span><br>
<span class="lineno"></span><span class="op" id="5138659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5138662">func</span>&nbsp;<span class="op" id="5138667">(</span><span class="ident" id="5138668">u</span>&nbsp;<span class="op" id="5138670">*</span><span class="ident" id="5138671">unit</span><span class="op" id="5138675">)</span>&nbsp;<span class="ident" id="5138677">dwarf64</span><span class="op" id="5138684">(</span><span class="op" id="5138685">)</span>&nbsp;<span class="op" id="5138687">(</span><span class="builtintype" id="5138688">bool</span><span class="op" id="5138692">,</span>&nbsp;<span class="builtintype" id="5138694">bool</span><span class="op" id="5138698">)</span>&nbsp;<span class="op" id="5138700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5138703">return</span>&nbsp;<span class="ident" id="5138710">u</span><span class="op" id="5138711">.</span><span class="ident" id="5138712">is64</span><span class="op" id="5138716">,</span>&nbsp;<span class="builtintype" id="5138718">true</span><br>
<span class="lineno">30</span><span class="op" id="5138723">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5138726">func</span>&nbsp;<span class="op" id="5138731">(</span><span class="ident" id="5138732">u</span>&nbsp;<span class="op" id="5138734">*</span><span class="ident" id="5138735">unit</span><span class="op" id="5138739">)</span>&nbsp;<span class="ident" id="5138741">addrsize</span><span class="op" id="5138749">(</span><span class="op" id="5138750">)</span>&nbsp;<span class="builtintype" id="5138752">int</span>&nbsp;<span class="op" id="5138756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5138759">return</span>&nbsp;<span class="ident" id="5138766">u</span><span class="op" id="5138767">.</span><span class="ident" id="5138768">asize</span><br>
<span class="lineno"></span><span class="op" id="5138774">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="5138777">func</span>&nbsp;<span class="op" id="5138782">(</span><span class="ident" id="5138783">d</span>&nbsp;<span class="op" id="5138785">*</span><span class="ident" id="5138786">Data</span><span class="op" id="5138790">)</span>&nbsp;<span class="ident" id="5138792">parseUnits</span><span class="op" id="5138802">(</span><span class="op" id="5138803">)</span>&nbsp;<span class="op" id="5138805">(</span><span class="op" id="5138806">[</span><span class="op" id="5138807">]</span><span class="ident" id="5138808">unit</span><span class="op" id="5138812">,</span>&nbsp;<span class="builtintype" id="5138814">error</span><span class="op" id="5138819">)</span>&nbsp;<span class="op" id="5138821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5138824">//&nbsp;Count&nbsp;units.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138841">nunit</span>&nbsp;<span class="op" id="5138847">:=</span>&nbsp;<span class="num" id="5138850">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138853">b</span>&nbsp;<span class="op" id="5138855">:=</span>&nbsp;<span class="ident" id="5138858">makeBuf</span><span class="op" id="5138865">(</span><span class="ident" id="5138866">d</span><span class="op" id="5138867">,</span>&nbsp;<span class="ident" id="5138869">unknownFormat</span><span class="op" id="5138882">{</span><span class="op" id="5138883">}</span><span class="op" id="5138884">,</span>&nbsp;<span class="string" id="5138886">&#34;info&#34;</span><span class="op" id="5138892">,</span>&nbsp;<span class="num" id="5138894">0</span><span class="op" id="5138895">,</span>&nbsp;<span class="ident" id="5138897">d</span><span class="op" id="5138898">.</span><span class="ident" id="5138899">info</span><span class="op" id="5138903">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5138906">for</span>&nbsp;<span class="builtinfunc" id="5138910">len</span><span class="op" id="5138913">(</span><span class="ident" id="5138914">b</span><span class="op" id="5138915">.</span><span class="ident" id="5138916">data</span><span class="op" id="5138920">)</span>&nbsp;<span class="op" id="5138922">&gt;</span>&nbsp;<span class="num" id="5138924">0</span>&nbsp;<span class="op" id="5138926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5138930">len</span>&nbsp;<span class="op" id="5138934">:=</span>&nbsp;<span class="ident" id="5138937">b</span><span class="op" id="5138938">.</span><span class="builtintype" id="5138939">uint32</span><span class="op" id="5138945">(</span><span class="op" id="5138946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5138950">if</span>&nbsp;<span class="builtinfunc" id="5138953">len</span>&nbsp;<span class="op" id="5138957">==</span>&nbsp;<span class="num" id="5138960">0xffffffff</span>&nbsp;<span class="op" id="5138971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5138976">len64</span>&nbsp;<span class="op" id="5138982">:=</span>&nbsp;<span class="ident" id="5138985">b</span><span class="op" id="5138986">.</span><span class="builtintype" id="5138987">uint64</span><span class="op" id="5138993">(</span><span class="op" id="5138994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5138999">if</span>&nbsp;<span class="ident" id="5139002">len64</span>&nbsp;<span class="op" id="5139008">!=</span>&nbsp;<span class="builtintype" id="5139011">uint64</span><span class="op" id="5139017">(</span><span class="builtintype" id="5139018">uint32</span><span class="op" id="5139024">(</span><span class="ident" id="5139025">len64</span><span class="op" id="5139030">)</span><span class="op" id="5139031">)</span>&nbsp;<span class="op" id="5139033">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139039">b</span><span class="op" id="5139040">.</span><span class="builtintype" id="5139041">error</span><span class="op" id="5139046">(</span><span class="string" id="5139047">&#34;unit&nbsp;length&nbsp;overflow&#34;</span><span class="op" id="5139069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139075">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5139089">len</span>&nbsp;<span class="op" id="5139093">=</span>&nbsp;<span class="builtintype" id="5139095">uint32</span><span class="op" id="5139101">(</span><span class="ident" id="5139102">len64</span><span class="op" id="5139107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139111">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139115">b</span><span class="op" id="5139116">.</span><span class="ident" id="5139117">skip</span><span class="op" id="5139121">(</span><span class="builtintype" id="5139122">int</span><span class="op" id="5139125">(</span><span class="builtinfunc" id="5139126">len</span><span class="op" id="5139129">)</span><span class="op" id="5139130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139134">nunit</span><span class="op" id="5139139">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139146">if</span>&nbsp;<span class="ident" id="5139149">b</span><span class="op" id="5139150">.</span><span class="ident" id="5139151">err</span>&nbsp;<span class="op" id="5139155">!=</span>&nbsp;<span class="builtintype" id="5139158">nil</span>&nbsp;<span class="op" id="5139162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139166">return</span>&nbsp;<span class="builtintype" id="5139173">nil</span><span class="op" id="5139176">,</span>&nbsp;<span class="ident" id="5139178">b</span><span class="op" id="5139179">.</span><span class="ident" id="5139180">err</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5139189">//&nbsp;Again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139229">b</span>&nbsp;<span class="op" id="5139231">=</span>&nbsp;<span class="ident" id="5139233">makeBuf</span><span class="op" id="5139240">(</span><span class="ident" id="5139241">d</span><span class="op" id="5139242">,</span>&nbsp;<span class="ident" id="5139244">unknownFormat</span><span class="op" id="5139257">{</span><span class="op" id="5139258">}</span><span class="op" id="5139259">,</span>&nbsp;<span class="string" id="5139261">&#34;info&#34;</span><span class="op" id="5139267">,</span>&nbsp;<span class="num" id="5139269">0</span><span class="op" id="5139270">,</span>&nbsp;<span class="ident" id="5139272">d</span><span class="op" id="5139273">.</span><span class="ident" id="5139274">info</span><span class="op" id="5139278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139281">units</span>&nbsp;<span class="op" id="5139287">:=</span>&nbsp;<span class="builtinfunc" id="5139290">make</span><span class="op" id="5139294">(</span><span class="op" id="5139295">[</span><span class="op" id="5139296">]</span><span class="ident" id="5139297">unit</span><span class="op" id="5139301">,</span>&nbsp;<span class="ident" id="5139303">nunit</span><span class="op" id="5139308">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139311">for</span>&nbsp;<span class="ident" id="5139315">i</span>&nbsp;<span class="op" id="5139317">:=</span>&nbsp;<span class="keyword" id="5139320">range</span>&nbsp;<span class="ident" id="5139326">units</span>&nbsp;<span class="op" id="5139332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139336">u</span>&nbsp;<span class="op" id="5139338">:=</span>&nbsp;<span class="op" id="5139341">&amp;</span><span class="ident" id="5139342">units</span><span class="op" id="5139347">[</span><span class="ident" id="5139348">i</span><span class="op" id="5139349">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139353">u</span><span class="op" id="5139354">.</span><span class="ident" id="5139355">base</span>&nbsp;<span class="op" id="5139360">=</span>&nbsp;<span class="ident" id="5139362">b</span><span class="op" id="5139363">.</span><span class="ident" id="5139364">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139370">n</span>&nbsp;<span class="op" id="5139372">:=</span>&nbsp;<span class="ident" id="5139375">b</span><span class="op" id="5139376">.</span><span class="builtintype" id="5139377">uint32</span><span class="op" id="5139383">(</span><span class="op" id="5139384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139388">if</span>&nbsp;<span class="ident" id="5139391">n</span>&nbsp;<span class="op" id="5139393">==</span>&nbsp;<span class="num" id="5139396">0xffffffff</span>&nbsp;<span class="op" id="5139407">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139412">u</span><span class="op" id="5139413">.</span><span class="ident" id="5139414">is64</span>&nbsp;<span class="op" id="5139419">=</span>&nbsp;<span class="builtintype" id="5139421">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139429">n</span>&nbsp;<span class="op" id="5139431">=</span>&nbsp;<span class="builtintype" id="5139433">uint32</span><span class="op" id="5139439">(</span><span class="ident" id="5139440">b</span><span class="op" id="5139441">.</span><span class="builtintype" id="5139442">uint64</span><span class="op" id="5139448">(</span><span class="op" id="5139449">)</span><span class="op" id="5139450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139458">vers</span>&nbsp;<span class="op" id="5139463">:=</span>&nbsp;<span class="ident" id="5139466">b</span><span class="op" id="5139467">.</span><span class="builtintype" id="5139468">uint16</span><span class="op" id="5139474">(</span><span class="op" id="5139475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139479">if</span>&nbsp;<span class="ident" id="5139482">vers</span>&nbsp;<span class="op" id="5139487">!=</span>&nbsp;<span class="num" id="5139490">2</span>&nbsp;<span class="op" id="5139492">&amp;&amp;</span>&nbsp;<span class="ident" id="5139495">vers</span>&nbsp;<span class="op" id="5139500">!=</span>&nbsp;<span class="num" id="5139503">3</span>&nbsp;<span class="op" id="5139505">&amp;&amp;</span>&nbsp;<span class="ident" id="5139508">vers</span>&nbsp;<span class="op" id="5139513">!=</span>&nbsp;<span class="num" id="5139516">4</span>&nbsp;<span class="op" id="5139518">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139523">b</span><span class="op" id="5139524">.</span><span class="builtintype" id="5139525">error</span><span class="op" id="5139530">(</span><span class="string" id="5139531">&#34;unsupported&nbsp;DWARF&nbsp;version&nbsp;&#34;</span>&nbsp;<span class="op" id="5139560">+</span>&nbsp;<span class="ident" id="5139562">strconv</span><span class="op" id="5139569">.</span><span class="ident" id="5139570">Itoa</span><span class="op" id="5139574">(</span><span class="builtintype" id="5139575">int</span><span class="op" id="5139578">(</span><span class="ident" id="5139579">vers</span><span class="op" id="5139583">)</span><span class="op" id="5139584">)</span><span class="op" id="5139585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139590">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139602">u</span><span class="op" id="5139603">.</span><span class="ident" id="5139604">vers</span>&nbsp;<span class="op" id="5139609">=</span>&nbsp;<span class="builtintype" id="5139611">int</span><span class="op" id="5139614">(</span><span class="ident" id="5139615">vers</span><span class="op" id="5139619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139623">atable</span><span class="op" id="5139629">,</span>&nbsp;<span class="ident" id="5139631">err</span>&nbsp;<span class="op" id="5139635">:=</span>&nbsp;<span class="ident" id="5139638">d</span><span class="op" id="5139639">.</span><span class="ident" id="5139640">parseAbbrev</span><span class="op" id="5139651">(</span><span class="ident" id="5139652">b</span><span class="op" id="5139653">.</span><span class="builtintype" id="5139654">uint32</span><span class="op" id="5139660">(</span><span class="op" id="5139661">)</span><span class="op" id="5139662">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139666">if</span>&nbsp;<span class="ident" id="5139669">err</span>&nbsp;<span class="op" id="5139673">!=</span>&nbsp;<span class="builtintype" id="5139676">nil</span>&nbsp;<span class="op" id="5139680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139685">if</span>&nbsp;<span class="ident" id="5139688">b</span><span class="op" id="5139689">.</span><span class="ident" id="5139690">err</span>&nbsp;<span class="op" id="5139694">==</span>&nbsp;<span class="builtintype" id="5139697">nil</span>&nbsp;<span class="op" id="5139701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139707">b</span><span class="op" id="5139708">.</span><span class="ident" id="5139709">err</span>&nbsp;<span class="op" id="5139713">=</span>&nbsp;<span class="ident" id="5139715">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139722">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139727">break</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139739">u</span><span class="op" id="5139740">.</span><span class="ident" id="5139741">atable</span>&nbsp;<span class="op" id="5139748">=</span>&nbsp;<span class="ident" id="5139750">atable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139759">u</span><span class="op" id="5139760">.</span><span class="ident" id="5139761">asize</span>&nbsp;<span class="op" id="5139767">=</span>&nbsp;<span class="builtintype" id="5139769">int</span><span class="op" id="5139772">(</span><span class="ident" id="5139773">b</span><span class="op" id="5139774">.</span><span class="builtintype" id="5139775">uint8</span><span class="op" id="5139780">(</span><span class="op" id="5139781">)</span><span class="op" id="5139782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139786">u</span><span class="op" id="5139787">.</span><span class="ident" id="5139788">off</span>&nbsp;<span class="op" id="5139792">=</span>&nbsp;<span class="ident" id="5139794">b</span><span class="op" id="5139795">.</span><span class="ident" id="5139796">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5139802">u</span><span class="op" id="5139803">.</span><span class="ident" id="5139804">data</span>&nbsp;<span class="op" id="5139809">=</span>&nbsp;<span class="ident" id="5139811">b</span><span class="op" id="5139812">.</span><span class="ident" id="5139813">bytes</span><span class="op" id="5139818">(</span><span class="builtintype" id="5139819">int</span><span class="op" id="5139822">(</span><span class="ident" id="5139823">n</span>&nbsp;<span class="op" id="5139825">-</span>&nbsp;<span class="op" id="5139827">(</span><span class="num" id="5139828">2</span>&nbsp;<span class="op" id="5139830">+</span>&nbsp;<span class="num" id="5139832">4</span>&nbsp;<span class="op" id="5139834">+</span>&nbsp;<span class="num" id="5139836">1</span><span class="op" id="5139837">)</span><span class="op" id="5139838">)</span><span class="op" id="5139839">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139845">if</span>&nbsp;<span class="ident" id="5139848">b</span><span class="op" id="5139849">.</span><span class="ident" id="5139850">err</span>&nbsp;<span class="op" id="5139854">!=</span>&nbsp;<span class="builtintype" id="5139857">nil</span>&nbsp;<span class="op" id="5139861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139865">return</span>&nbsp;<span class="builtintype" id="5139872">nil</span><span class="op" id="5139875">,</span>&nbsp;<span class="ident" id="5139877">b</span><span class="op" id="5139878">.</span><span class="ident" id="5139879">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5139884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5139887">return</span>&nbsp;<span class="ident" id="5139894">units</span><span class="op" id="5139899">,</span>&nbsp;<span class="builtintype" id="5139901">nil</span><br>
<span class="lineno">90</span><span class="op" id="5139905">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
