<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html" class="current">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6462451">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6462507">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6462561">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6462612">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6462669">package</span>&nbsp;<span class="ident" id="6462677">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6462682">import</span>&nbsp;<span class="op" id="6462689">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6462692">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6462698">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6462709">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6462720">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6462731">&#34;time&#34;</span><br>
<span class="lineno">15</span><span class="op" id="6462738">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6462741">type</span>&nbsp;<span class="ident" id="6462746">testInterface</span>&nbsp;<span class="keyword" id="6462760">struct</span>&nbsp;<span class="op" id="6462767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6462770">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6462783">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6462791">local</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6462804">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6462812">remote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6462825">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6462833">setupCmds</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6462846">[</span><span class="op" id="6462847">]</span><span class="op" id="6462848">*</span><span class="ident" id="6462849">exec</span><span class="op" id="6462853">.</span><span class="ident" id="6462854">Cmd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6462859">teardownCmds</span>&nbsp;<span class="op" id="6462872">[</span><span class="op" id="6462873">]</span><span class="op" id="6462874">*</span><span class="ident" id="6462875">exec</span><span class="op" id="6462879">.</span><span class="ident" id="6462880">Cmd</span><br>
<span class="lineno"></span><span class="op" id="6462884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6462887">func</span>&nbsp;<span class="op" id="6462892">(</span><span class="ident" id="6462893">ti</span>&nbsp;<span class="op" id="6462896">*</span><span class="ident" id="6462897">testInterface</span><span class="op" id="6462910">)</span>&nbsp;<span class="ident" id="6462912">setup</span><span class="op" id="6462917">(</span><span class="op" id="6462918">)</span>&nbsp;<span class="builtintype" id="6462920">error</span>&nbsp;<span class="op" id="6462926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6462929">for</span>&nbsp;<span class="ident" id="6462933">_</span><span class="op" id="6462934">,</span>&nbsp;<span class="ident" id="6462936">cmd</span>&nbsp;<span class="op" id="6462940">:=</span>&nbsp;<span class="keyword" id="6462943">range</span>&nbsp;<span class="ident" id="6462949">ti</span><span class="op" id="6462951">.</span><span class="ident" id="6462952">setupCmds</span>&nbsp;<span class="op" id="6462962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6462966">if</span>&nbsp;<span class="ident" id="6462969">err</span>&nbsp;<span class="op" id="6462973">:=</span>&nbsp;<span class="ident" id="6462976">cmd</span><span class="op" id="6462979">.</span><span class="ident" id="6462980">Run</span><span class="op" id="6462983">(</span><span class="op" id="6462984">)</span><span class="op" id="6462985">;</span>&nbsp;<span class="ident" id="6462987">err</span>&nbsp;<span class="op" id="6462991">!=</span>&nbsp;<span class="builtintype" id="6462994">nil</span>&nbsp;<span class="op" id="6462998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463003">return</span>&nbsp;<span class="ident" id="6463010">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463016">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463022">return</span>&nbsp;<span class="builtintype" id="6463029">nil</span><br>
<span class="lineno"></span><span class="op" id="6463033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6463036">func</span>&nbsp;<span class="op" id="6463041">(</span><span class="ident" id="6463042">ti</span>&nbsp;<span class="op" id="6463045">*</span><span class="ident" id="6463046">testInterface</span><span class="op" id="6463059">)</span>&nbsp;<span class="ident" id="6463061">teardown</span><span class="op" id="6463069">(</span><span class="op" id="6463070">)</span>&nbsp;<span class="builtintype" id="6463072">error</span>&nbsp;<span class="op" id="6463078">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463081">for</span>&nbsp;<span class="ident" id="6463085">_</span><span class="op" id="6463086">,</span>&nbsp;<span class="ident" id="6463088">cmd</span>&nbsp;<span class="op" id="6463092">:=</span>&nbsp;<span class="keyword" id="6463095">range</span>&nbsp;<span class="ident" id="6463101">ti</span><span class="op" id="6463103">.</span><span class="ident" id="6463104">teardownCmds</span>&nbsp;<span class="op" id="6463117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463121">if</span>&nbsp;<span class="ident" id="6463124">err</span>&nbsp;<span class="op" id="6463128">:=</span>&nbsp;<span class="ident" id="6463131">cmd</span><span class="op" id="6463134">.</span><span class="ident" id="6463135">Run</span><span class="op" id="6463138">(</span><span class="op" id="6463139">)</span><span class="op" id="6463140">;</span>&nbsp;<span class="ident" id="6463142">err</span>&nbsp;<span class="op" id="6463146">!=</span>&nbsp;<span class="builtintype" id="6463149">nil</span>&nbsp;<span class="op" id="6463153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463158">return</span>&nbsp;<span class="ident" id="6463165">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463174">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463177">return</span>&nbsp;<span class="builtintype" id="6463184">nil</span><br>
<span class="lineno"></span><span class="op" id="6463188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6463191">func</span>&nbsp;<span class="ident" id="6463196">TestPointToPointInterface</span><span class="op" id="6463221">(</span><span class="ident" id="6463222">t</span>&nbsp;<span class="op" id="6463224">*</span><span class="ident" id="6463225">testing</span><span class="op" id="6463232">.</span><span class="ident" id="6463233">T</span><span class="op" id="6463234">)</span>&nbsp;<span class="op" id="6463236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463239">if</span>&nbsp;<span class="ident" id="6463242">testing</span><span class="op" id="6463249">.</span><span class="ident" id="6463250">Short</span><span class="op" id="6463255">(</span><span class="op" id="6463256">)</span>&nbsp;<span class="op" id="6463258">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463262">t</span><span class="op" id="6463263">.</span><span class="ident" id="6463264">Skip</span><span class="op" id="6463268">(</span><span class="string" id="6463269">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6463298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463304">switch</span>&nbsp;<span class="op" id="6463311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463314">case</span>&nbsp;<span class="ident" id="6463319">runtime</span><span class="op" id="6463326">.</span><span class="ident" id="6463327">GOOS</span>&nbsp;<span class="op" id="6463332">==</span>&nbsp;<span class="string" id="6463335">&#34;darwin&#34;</span><span class="op" id="6463343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463347">t</span><span class="op" id="6463348">.</span><span class="ident" id="6463349">Skipf</span><span class="op" id="6463354">(</span><span class="string" id="6463355">&#34;skipping&nbsp;read&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="6463381">,</span>&nbsp;<span class="ident" id="6463383">runtime</span><span class="op" id="6463390">.</span><span class="ident" id="6463391">GOOS</span><span class="op" id="6463395">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463401">if</span>&nbsp;<span class="ident" id="6463404">os</span><span class="op" id="6463406">.</span><span class="ident" id="6463407">Getuid</span><span class="op" id="6463413">(</span><span class="op" id="6463414">)</span>&nbsp;<span class="op" id="6463416">!=</span>&nbsp;<span class="num" id="6463419">0</span>&nbsp;<span class="op" id="6463421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463425">t</span><span class="op" id="6463426">.</span><span class="ident" id="6463427">Skip</span><span class="op" id="6463431">(</span><span class="string" id="6463432">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="6463461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463468">local</span><span class="op" id="6463473">,</span>&nbsp;<span class="ident" id="6463475">remote</span>&nbsp;<span class="op" id="6463482">:=</span>&nbsp;<span class="string" id="6463485">&#34;169.254.0.1&#34;</span><span class="op" id="6463498">,</span>&nbsp;<span class="string" id="6463500">&#34;169.254.0.254&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463517">ip</span>&nbsp;<span class="op" id="6463520">:=</span>&nbsp;<span class="ident" id="6463523">ParseIP</span><span class="op" id="6463530">(</span><span class="ident" id="6463531">remote</span><span class="op" id="6463537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463540">for</span>&nbsp;<span class="ident" id="6463544">i</span>&nbsp;<span class="op" id="6463546">:=</span>&nbsp;<span class="num" id="6463549">0</span><span class="op" id="6463550">;</span>&nbsp;<span class="ident" id="6463552">i</span>&nbsp;<span class="op" id="6463554">&lt;</span>&nbsp;<span class="num" id="6463556">3</span><span class="op" id="6463557">;</span>&nbsp;<span class="ident" id="6463559">i</span><span class="op" id="6463560">++</span>&nbsp;<span class="op" id="6463563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463567">ti</span>&nbsp;<span class="op" id="6463570">:=</span>&nbsp;<span class="op" id="6463573">&amp;</span><span class="ident" id="6463574">testInterface</span><span class="op" id="6463587">{</span><span class="op" id="6463588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463592">if</span>&nbsp;<span class="ident" id="6463595">err</span>&nbsp;<span class="op" id="6463599">:=</span>&nbsp;<span class="ident" id="6463602">ti</span><span class="op" id="6463604">.</span><span class="ident" id="6463605">setPointToPoint</span><span class="op" id="6463620">(</span><span class="num" id="6463621">5963</span><span class="op" id="6463625">+</span><span class="ident" id="6463626">i</span><span class="op" id="6463627">,</span>&nbsp;<span class="ident" id="6463629">local</span><span class="op" id="6463634">,</span>&nbsp;<span class="ident" id="6463636">remote</span><span class="op" id="6463642">)</span><span class="op" id="6463643">;</span>&nbsp;<span class="ident" id="6463645">err</span>&nbsp;<span class="op" id="6463649">!=</span>&nbsp;<span class="builtintype" id="6463652">nil</span>&nbsp;<span class="op" id="6463656">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463661">t</span><span class="op" id="6463662">.</span><span class="ident" id="6463663">Skipf</span><span class="op" id="6463668">(</span><span class="string" id="6463669">&#34;test&nbsp;requries&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="6463705">,</span>&nbsp;<span class="ident" id="6463707">err</span><span class="op" id="6463710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463718">if</span>&nbsp;<span class="ident" id="6463721">err</span>&nbsp;<span class="op" id="6463725">:=</span>&nbsp;<span class="ident" id="6463728">ti</span><span class="op" id="6463730">.</span><span class="ident" id="6463731">setup</span><span class="op" id="6463736">(</span><span class="op" id="6463737">)</span><span class="op" id="6463738">;</span>&nbsp;<span class="ident" id="6463740">err</span>&nbsp;<span class="op" id="6463744">!=</span>&nbsp;<span class="builtintype" id="6463747">nil</span>&nbsp;<span class="op" id="6463751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463756">t</span><span class="op" id="6463757">.</span><span class="ident" id="6463758">Fatalf</span><span class="op" id="6463764">(</span><span class="string" id="6463765">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6463797">,</span>&nbsp;<span class="ident" id="6463799">err</span><span class="op" id="6463802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463806">}</span>&nbsp;<span class="keyword" id="6463808">else</span>&nbsp;<span class="op" id="6463813">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463818">time</span><span class="op" id="6463822">.</span><span class="ident" id="6463823">Sleep</span><span class="op" id="6463828">(</span><span class="num" id="6463829">3</span>&nbsp;<span class="op" id="6463831">*</span>&nbsp;<span class="ident" id="6463833">time</span><span class="op" id="6463837">.</span><span class="ident" id="6463838">Millisecond</span><span class="op" id="6463849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463857">ift</span><span class="op" id="6463860">,</span>&nbsp;<span class="ident" id="6463862">err</span>&nbsp;<span class="op" id="6463866">:=</span>&nbsp;<span class="ident" id="6463869">Interfaces</span><span class="op" id="6463879">(</span><span class="op" id="6463880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463884">if</span>&nbsp;<span class="ident" id="6463887">err</span>&nbsp;<span class="op" id="6463891">!=</span>&nbsp;<span class="builtintype" id="6463894">nil</span>&nbsp;<span class="op" id="6463898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463903">ti</span><span class="op" id="6463905">.</span><span class="ident" id="6463906">teardown</span><span class="op" id="6463914">(</span><span class="op" id="6463915">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6463920">t</span><span class="op" id="6463921">.</span><span class="ident" id="6463922">Fatalf</span><span class="op" id="6463928">(</span><span class="string" id="6463929">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6463952">,</span>&nbsp;<span class="ident" id="6463954">err</span><span class="op" id="6463957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6463961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463965">for</span>&nbsp;<span class="ident" id="6463969">_</span><span class="op" id="6463970">,</span>&nbsp;<span class="ident" id="6463972">ifi</span>&nbsp;<span class="op" id="6463976">:=</span>&nbsp;<span class="keyword" id="6463979">range</span>&nbsp;<span class="ident" id="6463985">ift</span>&nbsp;<span class="op" id="6463989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6463994">if</span>&nbsp;<span class="ident" id="6463997">ti</span><span class="op" id="6463999">.</span><span class="ident" id="6464000">name</span>&nbsp;<span class="op" id="6464005">==</span>&nbsp;<span class="ident" id="6464008">ifi</span><span class="op" id="6464011">.</span><span class="ident" id="6464012">Name</span>&nbsp;<span class="op" id="6464017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464023">ifat</span><span class="op" id="6464027">,</span>&nbsp;<span class="ident" id="6464029">err</span>&nbsp;<span class="op" id="6464033">:=</span>&nbsp;<span class="ident" id="6464036">ifi</span><span class="op" id="6464039">.</span><span class="ident" id="6464040">Addrs</span><span class="op" id="6464045">(</span><span class="op" id="6464046">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464052">if</span>&nbsp;<span class="ident" id="6464055">err</span>&nbsp;<span class="op" id="6464059">!=</span>&nbsp;<span class="builtintype" id="6464062">nil</span>&nbsp;<span class="op" id="6464066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464073">ti</span><span class="op" id="6464075">.</span><span class="ident" id="6464076">teardown</span><span class="op" id="6464084">(</span><span class="op" id="6464085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464092">t</span><span class="op" id="6464093">.</span><span class="ident" id="6464094">Fatalf</span><span class="op" id="6464100">(</span><span class="string" id="6464101">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6464129">,</span>&nbsp;<span class="ident" id="6464131">err</span><span class="op" id="6464134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464146">for</span>&nbsp;<span class="ident" id="6464150">_</span><span class="op" id="6464151">,</span>&nbsp;<span class="ident" id="6464153">ifa</span>&nbsp;<span class="op" id="6464157">:=</span>&nbsp;<span class="keyword" id="6464160">range</span>&nbsp;<span class="ident" id="6464166">ifat</span>&nbsp;<span class="op" id="6464171">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464178">if</span>&nbsp;<span class="ident" id="6464181">ip</span><span class="op" id="6464183">.</span><span class="ident" id="6464184">Equal</span><span class="op" id="6464189">(</span><span class="ident" id="6464190">ifa</span><span class="op" id="6464193">.</span><span class="op" id="6464194">(</span><span class="op" id="6464195">*</span><span class="ident" id="6464196">IPNet</span><span class="op" id="6464201">)</span><span class="op" id="6464202">.</span><span class="ident" id="6464203">IP</span><span class="op" id="6464205">)</span>&nbsp;<span class="op" id="6464207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464215">ti</span><span class="op" id="6464217">.</span><span class="ident" id="6464218">teardown</span><span class="op" id="6464226">(</span><span class="op" id="6464227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464235">t</span><span class="op" id="6464236">.</span><span class="ident" id="6464237">Fatalf</span><span class="op" id="6464243">(</span><span class="string" id="6464244">&#34;got&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6464261">,</span>&nbsp;<span class="ident" id="6464263">ip</span><span class="op" id="6464265">,</span>&nbsp;<span class="ident" id="6464267">local</span><span class="op" id="6464272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464285">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464298">if</span>&nbsp;<span class="ident" id="6464301">err</span>&nbsp;<span class="op" id="6464305">:=</span>&nbsp;<span class="ident" id="6464308">ti</span><span class="op" id="6464310">.</span><span class="ident" id="6464311">teardown</span><span class="op" id="6464319">(</span><span class="op" id="6464320">)</span><span class="op" id="6464321">;</span>&nbsp;<span class="ident" id="6464323">err</span>&nbsp;<span class="op" id="6464327">!=</span>&nbsp;<span class="builtintype" id="6464330">nil</span>&nbsp;<span class="op" id="6464334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464339">t</span><span class="op" id="6464340">.</span><span class="ident" id="6464341">Fatalf</span><span class="op" id="6464347">(</span><span class="string" id="6464348">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6464383">,</span>&nbsp;<span class="ident" id="6464385">err</span><span class="op" id="6464388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464392">}</span>&nbsp;<span class="keyword" id="6464394">else</span>&nbsp;<span class="op" id="6464399">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464404">time</span><span class="op" id="6464408">.</span><span class="ident" id="6464409">Sleep</span><span class="op" id="6464414">(</span><span class="num" id="6464415">3</span>&nbsp;<span class="op" id="6464417">*</span>&nbsp;<span class="ident" id="6464419">time</span><span class="op" id="6464423">.</span><span class="ident" id="6464424">Millisecond</span><span class="op" id="6464435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464442">}</span><br>
<span class="lineno"></span><span class="op" id="6464444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6464447">func</span>&nbsp;<span class="ident" id="6464452">TestInterfaceArrivalAndDeparture</span><span class="op" id="6464484">(</span><span class="ident" id="6464485">t</span>&nbsp;<span class="op" id="6464487">*</span><span class="ident" id="6464488">testing</span><span class="op" id="6464495">.</span><span class="ident" id="6464496">T</span><span class="op" id="6464497">)</span>&nbsp;<span class="op" id="6464499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464502">if</span>&nbsp;<span class="ident" id="6464505">testing</span><span class="op" id="6464512">.</span><span class="ident" id="6464513">Short</span><span class="op" id="6464518">(</span><span class="op" id="6464519">)</span>&nbsp;<span class="op" id="6464521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464525">t</span><span class="op" id="6464526">.</span><span class="ident" id="6464527">Skip</span><span class="op" id="6464531">(</span><span class="string" id="6464532">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6464561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464567">if</span>&nbsp;<span class="ident" id="6464570">os</span><span class="op" id="6464572">.</span><span class="ident" id="6464573">Getuid</span><span class="op" id="6464579">(</span><span class="op" id="6464580">)</span>&nbsp;<span class="op" id="6464582">!=</span>&nbsp;<span class="num" id="6464585">0</span>&nbsp;<span class="op" id="6464587">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464591">t</span><span class="op" id="6464592">.</span><span class="ident" id="6464593">Skip</span><span class="op" id="6464597">(</span><span class="string" id="6464598">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="6464627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464634">for</span>&nbsp;<span class="ident" id="6464638">i</span>&nbsp;<span class="op" id="6464640">:=</span>&nbsp;<span class="num" id="6464643">0</span><span class="op" id="6464644">;</span>&nbsp;<span class="ident" id="6464646">i</span>&nbsp;<span class="op" id="6464648">&lt;</span>&nbsp;<span class="num" id="6464650">3</span><span class="op" id="6464651">;</span>&nbsp;<span class="ident" id="6464653">i</span><span class="op" id="6464654">++</span>&nbsp;<span class="op" id="6464657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464661">ift1</span><span class="op" id="6464665">,</span>&nbsp;<span class="ident" id="6464667">err</span>&nbsp;<span class="op" id="6464671">:=</span>&nbsp;<span class="ident" id="6464674">Interfaces</span><span class="op" id="6464684">(</span><span class="op" id="6464685">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464689">if</span>&nbsp;<span class="ident" id="6464692">err</span>&nbsp;<span class="op" id="6464696">!=</span>&nbsp;<span class="builtintype" id="6464699">nil</span>&nbsp;<span class="op" id="6464703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464708">t</span><span class="op" id="6464709">.</span><span class="ident" id="6464710">Fatalf</span><span class="op" id="6464716">(</span><span class="string" id="6464717">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6464740">,</span>&nbsp;<span class="ident" id="6464742">err</span><span class="op" id="6464745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464753">ti</span>&nbsp;<span class="op" id="6464756">:=</span>&nbsp;<span class="op" id="6464759">&amp;</span><span class="ident" id="6464760">testInterface</span><span class="op" id="6464773">{</span><span class="op" id="6464774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464778">if</span>&nbsp;<span class="ident" id="6464781">err</span>&nbsp;<span class="op" id="6464785">:=</span>&nbsp;<span class="ident" id="6464788">ti</span><span class="op" id="6464790">.</span><span class="ident" id="6464791">setBroadcast</span><span class="op" id="6464803">(</span><span class="num" id="6464804">5682</span>&nbsp;<span class="op" id="6464809">+</span>&nbsp;<span class="ident" id="6464811">i</span><span class="op" id="6464812">)</span><span class="op" id="6464813">;</span>&nbsp;<span class="ident" id="6464815">err</span>&nbsp;<span class="op" id="6464819">!=</span>&nbsp;<span class="builtintype" id="6464822">nil</span>&nbsp;<span class="op" id="6464826">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464831">t</span><span class="op" id="6464832">.</span><span class="ident" id="6464833">Skipf</span><span class="op" id="6464838">(</span><span class="string" id="6464839">&#34;test&nbsp;requires&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="6464875">,</span>&nbsp;<span class="ident" id="6464877">err</span><span class="op" id="6464880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6464888">if</span>&nbsp;<span class="ident" id="6464891">err</span>&nbsp;<span class="op" id="6464895">:=</span>&nbsp;<span class="ident" id="6464898">ti</span><span class="op" id="6464900">.</span><span class="ident" id="6464901">setup</span><span class="op" id="6464906">(</span><span class="op" id="6464907">)</span><span class="op" id="6464908">;</span>&nbsp;<span class="ident" id="6464910">err</span>&nbsp;<span class="op" id="6464914">!=</span>&nbsp;<span class="builtintype" id="6464917">nil</span>&nbsp;<span class="op" id="6464921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464926">t</span><span class="op" id="6464927">.</span><span class="ident" id="6464928">Fatalf</span><span class="op" id="6464934">(</span><span class="string" id="6464935">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6464967">,</span>&nbsp;<span class="ident" id="6464969">err</span><span class="op" id="6464972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6464976">}</span>&nbsp;<span class="keyword" id="6464978">else</span>&nbsp;<span class="op" id="6464983">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6464988">time</span><span class="op" id="6464992">.</span><span class="ident" id="6464993">Sleep</span><span class="op" id="6464998">(</span><span class="num" id="6464999">3</span>&nbsp;<span class="op" id="6465001">*</span>&nbsp;<span class="ident" id="6465003">time</span><span class="op" id="6465007">.</span><span class="ident" id="6465008">Millisecond</span><span class="op" id="6465019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465027">ift2</span><span class="op" id="6465031">,</span>&nbsp;<span class="ident" id="6465033">err</span>&nbsp;<span class="op" id="6465037">:=</span>&nbsp;<span class="ident" id="6465040">Interfaces</span><span class="op" id="6465050">(</span><span class="op" id="6465051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6465055">if</span>&nbsp;<span class="ident" id="6465058">err</span>&nbsp;<span class="op" id="6465062">!=</span>&nbsp;<span class="builtintype" id="6465065">nil</span>&nbsp;<span class="op" id="6465069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465074">ti</span><span class="op" id="6465076">.</span><span class="ident" id="6465077">teardown</span><span class="op" id="6465085">(</span><span class="op" id="6465086">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465091">t</span><span class="op" id="6465092">.</span><span class="ident" id="6465093">Fatalf</span><span class="op" id="6465099">(</span><span class="string" id="6465100">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6465123">,</span>&nbsp;<span class="ident" id="6465125">err</span><span class="op" id="6465128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6465136">if</span>&nbsp;<span class="builtinfunc" id="6465139">len</span><span class="op" id="6465142">(</span><span class="ident" id="6465143">ift2</span><span class="op" id="6465147">)</span>&nbsp;<span class="op" id="6465149">&lt;=</span>&nbsp;<span class="builtinfunc" id="6465152">len</span><span class="op" id="6465155">(</span><span class="ident" id="6465156">ift1</span><span class="op" id="6465160">)</span>&nbsp;<span class="op" id="6465162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6465167">for</span>&nbsp;<span class="ident" id="6465171">_</span><span class="op" id="6465172">,</span>&nbsp;<span class="ident" id="6465174">ifi</span>&nbsp;<span class="op" id="6465178">:=</span>&nbsp;<span class="keyword" id="6465181">range</span>&nbsp;<span class="ident" id="6465187">ift1</span>&nbsp;<span class="op" id="6465192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465198">t</span><span class="op" id="6465199">.</span><span class="ident" id="6465200">Logf</span><span class="op" id="6465204">(</span><span class="string" id="6465205">&#34;before:&nbsp;%v&#34;</span><span class="op" id="6465217">,</span>&nbsp;<span class="ident" id="6465219">ifi</span><span class="op" id="6465222">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6465232">for</span>&nbsp;<span class="ident" id="6465236">_</span><span class="op" id="6465237">,</span>&nbsp;<span class="ident" id="6465239">ifi</span>&nbsp;<span class="op" id="6465243">:=</span>&nbsp;<span class="keyword" id="6465246">range</span>&nbsp;<span class="ident" id="6465252">ift2</span>&nbsp;<span class="op" id="6465257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465263">t</span><span class="op" id="6465264">.</span><span class="ident" id="6465265">Logf</span><span class="op" id="6465269">(</span><span class="string" id="6465270">&#34;after:&nbsp;%v&#34;</span><span class="op" id="6465281">,</span>&nbsp;<span class="ident" id="6465283">ifi</span><span class="op" id="6465286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465296">ti</span><span class="op" id="6465298">.</span><span class="ident" id="6465299">teardown</span><span class="op" id="6465307">(</span><span class="op" id="6465308">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465313">t</span><span class="op" id="6465314">.</span><span class="ident" id="6465315">Fatalf</span><span class="op" id="6465321">(</span><span class="string" id="6465322">&#34;got&nbsp;%v;&nbsp;want&nbsp;gt&nbsp;%v&#34;</span><span class="op" id="6465342">,</span>&nbsp;<span class="builtinfunc" id="6465344">len</span><span class="op" id="6465347">(</span><span class="ident" id="6465348">ift2</span><span class="op" id="6465352">)</span><span class="op" id="6465353">,</span>&nbsp;<span class="builtinfunc" id="6465355">len</span><span class="op" id="6465358">(</span><span class="ident" id="6465359">ift1</span><span class="op" id="6465363">)</span><span class="op" id="6465364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6465372">if</span>&nbsp;<span class="ident" id="6465375">err</span>&nbsp;<span class="op" id="6465379">:=</span>&nbsp;<span class="ident" id="6465382">ti</span><span class="op" id="6465384">.</span><span class="ident" id="6465385">teardown</span><span class="op" id="6465393">(</span><span class="op" id="6465394">)</span><span class="op" id="6465395">;</span>&nbsp;<span class="ident" id="6465397">err</span>&nbsp;<span class="op" id="6465401">!=</span>&nbsp;<span class="builtintype" id="6465404">nil</span>&nbsp;<span class="op" id="6465408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465413">t</span><span class="op" id="6465414">.</span><span class="ident" id="6465415">Fatalf</span><span class="op" id="6465421">(</span><span class="string" id="6465422">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6465457">,</span>&nbsp;<span class="ident" id="6465459">err</span><span class="op" id="6465462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465466">}</span>&nbsp;<span class="keyword" id="6465468">else</span>&nbsp;<span class="op" id="6465473">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465478">time</span><span class="op" id="6465482">.</span><span class="ident" id="6465483">Sleep</span><span class="op" id="6465488">(</span><span class="num" id="6465489">3</span>&nbsp;<span class="op" id="6465491">*</span>&nbsp;<span class="ident" id="6465493">time</span><span class="op" id="6465497">.</span><span class="ident" id="6465498">Millisecond</span><span class="op" id="6465509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465517">ift3</span><span class="op" id="6465521">,</span>&nbsp;<span class="ident" id="6465523">err</span>&nbsp;<span class="op" id="6465527">:=</span>&nbsp;<span class="ident" id="6465530">Interfaces</span><span class="op" id="6465540">(</span><span class="op" id="6465541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6465545">if</span>&nbsp;<span class="ident" id="6465548">err</span>&nbsp;<span class="op" id="6465552">!=</span>&nbsp;<span class="builtintype" id="6465555">nil</span>&nbsp;<span class="op" id="6465559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465564">t</span><span class="op" id="6465565">.</span><span class="ident" id="6465566">Fatalf</span><span class="op" id="6465572">(</span><span class="string" id="6465573">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6465596">,</span>&nbsp;<span class="ident" id="6465598">err</span><span class="op" id="6465601">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6465609">if</span>&nbsp;<span class="builtinfunc" id="6465612">len</span><span class="op" id="6465615">(</span><span class="ident" id="6465616">ift3</span><span class="op" id="6465620">)</span>&nbsp;<span class="op" id="6465622">&gt;=</span>&nbsp;<span class="builtinfunc" id="6465625">len</span><span class="op" id="6465628">(</span><span class="ident" id="6465629">ift2</span><span class="op" id="6465633">)</span>&nbsp;<span class="op" id="6465635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6465640">for</span>&nbsp;<span class="ident" id="6465644">_</span><span class="op" id="6465645">,</span>&nbsp;<span class="ident" id="6465647">ifi</span>&nbsp;<span class="op" id="6465651">:=</span>&nbsp;<span class="keyword" id="6465654">range</span>&nbsp;<span class="ident" id="6465660">ift2</span>&nbsp;<span class="op" id="6465665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465671">t</span><span class="op" id="6465672">.</span><span class="ident" id="6465673">Logf</span><span class="op" id="6465677">(</span><span class="string" id="6465678">&#34;before:&nbsp;%v&#34;</span><span class="op" id="6465690">,</span>&nbsp;<span class="ident" id="6465692">ifi</span><span class="op" id="6465695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465700">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6465705">for</span>&nbsp;<span class="ident" id="6465709">_</span><span class="op" id="6465710">,</span>&nbsp;<span class="ident" id="6465712">ifi</span>&nbsp;<span class="op" id="6465716">:=</span>&nbsp;<span class="keyword" id="6465719">range</span>&nbsp;<span class="ident" id="6465725">ift3</span>&nbsp;<span class="op" id="6465730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465736">t</span><span class="op" id="6465737">.</span><span class="ident" id="6465738">Logf</span><span class="op" id="6465742">(</span><span class="string" id="6465743">&#34;after:&nbsp;%v&#34;</span><span class="op" id="6465754">,</span>&nbsp;<span class="ident" id="6465756">ifi</span><span class="op" id="6465759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6465769">t</span><span class="op" id="6465770">.</span><span class="ident" id="6465771">Fatalf</span><span class="op" id="6465777">(</span><span class="string" id="6465778">&#34;got&nbsp;%v;&nbsp;want&nbsp;lt&nbsp;%v&#34;</span><span class="op" id="6465798">,</span>&nbsp;<span class="builtinfunc" id="6465800">len</span><span class="op" id="6465803">(</span><span class="ident" id="6465804">ift3</span><span class="op" id="6465808">)</span><span class="op" id="6465809">,</span>&nbsp;<span class="builtinfunc" id="6465811">len</span><span class="op" id="6465814">(</span><span class="ident" id="6465815">ift2</span><span class="op" id="6465819">)</span><span class="op" id="6465820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465824">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6465827">}</span><br>
<span class="lineno"></span><span class="op" id="6465829">}</span>
</div>
</body>
</html>
