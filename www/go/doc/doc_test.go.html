<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8243395">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8243450">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8243504">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8243555">package</span>&nbsp;<span class="ident" id="8243563">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8243568">import</span>&nbsp;<span class="op" id="8243575">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243578">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243587">&#34;flag&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243595">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243602">&#34;go/parser&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243615">&#34;go/printer&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243629">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243641">&#34;io/ioutil&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243654">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243660">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243677">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243687">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243698">&#34;testing&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8243709">&#34;text/template&#34;</span><br>
<span class="lineno"></span><span class="op" id="8243725">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8243728">var</span>&nbsp;<span class="ident" id="8243732">update</span>&nbsp;<span class="op" id="8243739">=</span>&nbsp;<span class="ident" id="8243741"><a href="/go/doc/doc_test.go.html#8243587">flag</a></span><span class="op" id="8243745">.</span><span class="ident" id="8243746">Bool</span><span class="op" id="8243750">(</span><span class="string" id="8243751">&#34;update&#34;</span><span class="op" id="8243759">,</span>&nbsp;<span class="ident" id="8243761">false</span><span class="op" id="8243766">,</span>&nbsp;<span class="string" id="8243768">&#34;update&nbsp;golden&nbsp;(.out)&nbsp;files&#34;</span><span class="op" id="8243796">)</span><br>
<span class="lineno"></span><span class="keyword" id="8243798">var</span>&nbsp;<span class="ident" id="8243802">files</span>&nbsp;<span class="op" id="8243808">=</span>&nbsp;<span class="ident" id="8243810"><a href="/go/doc/doc_test.go.html#8243587">flag</a></span><span class="op" id="8243814">.</span><span class="ident" id="8243815">String</span><span class="op" id="8243821">(</span><span class="string" id="8243822">&#34;files&#34;</span><span class="op" id="8243829">,</span>&nbsp;<span class="string" id="8243831">&#34;&#34;</span><span class="op" id="8243833">,</span>&nbsp;<span class="string" id="8243835">&#34;consider&nbsp;only&nbsp;Go&nbsp;test&nbsp;files&nbsp;matching&nbsp;this&nbsp;regular&nbsp;expression&#34;</span><span class="op" id="8243897">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="8243900">const</span>&nbsp;<span class="ident" id="8243906">dataDir</span>&nbsp;<span class="op" id="8243914">=</span>&nbsp;<span class="string" id="8243916">&#34;testdata&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8243928">var</span>&nbsp;<span class="ident" id="8243932">templateTxt</span>&nbsp;<span class="op" id="8243944">=</span>&nbsp;<span class="ident" id="8243946"><a href="/go/doc/doc_test.go.html#8243981">readTemplate</a></span><span class="op" id="8243958">(</span><span class="string" id="8243959">&#34;template.txt&#34;</span><span class="op" id="8243973">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="8243976">func</span>&nbsp;<span class="ident" id="8243981">readTemplate</span><span class="op" id="8243993">(</span><span class="ident" id="8243994">filename</span>&nbsp;<span class="builtintype" id="8244003">string</span><span class="op" id="8244009">)</span>&nbsp;<span class="op" id="8244011">*</span><span class="ident" id="8244012"><a href="/go/doc/doc_test.go.html#8243709">template</a></span><span class="op" id="8244020">.</span><span class="ident" id="8244021">Template</span>&nbsp;<span class="op" id="8244030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244033">t</span>&nbsp;<span class="op" id="8244035">:=</span>&nbsp;<span class="ident" id="8244038"><a href="/go/doc/doc_test.go.html#8243709">template</a></span><span class="op" id="8244046">.</span><span class="ident" id="8244047">New</span><span class="op" id="8244050">(</span><span class="ident" id="8244051"><a href="/go/doc/doc_test.go.html#8243994">filename</a></span><span class="op" id="8244059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244062"><a href="/go/doc/doc_test.go.html#8244033">t</a></span><span class="op" id="8244063">.</span><span class="ident" id="8244064">Funcs</span><span class="op" id="8244069">(</span><span class="ident" id="8244070"><a href="/go/doc/doc_test.go.html#8243709">template</a></span><span class="op" id="8244078">.</span><span class="ident" id="8244079">FuncMap</span><span class="op" id="8244086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8244090">&#34;node&#34;</span><span class="op" id="8244096">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8244102"><a href="/go/doc/doc_test.go.html#8244245">nodeFmt</a></span><span class="op" id="8244109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8244113">&#34;synopsis&#34;</span><span class="op" id="8244123">:</span>&nbsp;<span class="ident" id="8244125"><a href="/go/doc/doc_test.go.html#8244440">synopsisFmt</a></span><span class="op" id="8244136">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8244140">&#34;indent&#34;</span><span class="op" id="8244148">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8244152"><a href="/go/doc/doc_test.go.html#8244739">indentFmt</a></span><span class="op" id="8244161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244164">}</span><span class="op" id="8244165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244168">return</span>&nbsp;<span class="ident" id="8244175"><a href="/go/doc/doc_test.go.html#8243709">template</a></span><span class="op" id="8244183">.</span><span class="ident" id="8244184">Must</span><span class="op" id="8244188">(</span><span class="ident" id="8244189"><a href="/go/doc/doc_test.go.html#8244033">t</a></span><span class="op" id="8244190">.</span><span class="ident" id="8244191">ParseFiles</span><span class="op" id="8244201">(</span><span class="ident" id="8244202"><a href="/go/doc/doc_test.go.html#8243660">filepath</a></span><span class="op" id="8244210">.</span><span class="ident" id="8244211">Join</span><span class="op" id="8244215">(</span><span class="ident" id="8244216"><a href="/go/doc/doc_test.go.html#8243906">dataDir</a></span><span class="op" id="8244223">,</span>&nbsp;<span class="ident" id="8244225"><a href="/go/doc/doc_test.go.html#8243994">filename</a></span><span class="op" id="8244233">)</span><span class="op" id="8244234">)</span><span class="op" id="8244235">)</span><br>
<span class="lineno"></span><span class="op" id="8244237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8244240">func</span>&nbsp;<span class="ident" id="8244245">nodeFmt</span><span class="op" id="8244252">(</span><span class="ident" id="8244253">node</span>&nbsp;<span class="keyword" id="8244258">interface</span><span class="op" id="8244267">{</span><span class="op" id="8244268">}</span><span class="op" id="8244269">,</span>&nbsp;<span class="ident" id="8244271">fset</span>&nbsp;<span class="op" id="8244276">*</span><span class="ident" id="8244277"><a href="/go/doc/doc_test.go.html#8243629">token</a></span><span class="op" id="8244282">.</span><span class="ident" id="8244283">FileSet</span><span class="op" id="8244290">)</span>&nbsp;<span class="builtintype" id="8244292">string</span>&nbsp;<span class="op" id="8244299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244302">var</span>&nbsp;<span class="ident" id="8244306">buf</span>&nbsp;<span class="ident" id="8244310"><a href="/go/doc/doc_test.go.html#8243578">bytes</a></span><span class="op" id="8244315">.</span><span class="ident" id="8244316">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244324"><a href="/go/doc/doc_test.go.html#8243615">printer</a></span><span class="op" id="8244331">.</span><span class="ident" id="8244332">Fprint</span><span class="op" id="8244338">(</span><span class="op" id="8244339">&amp;</span><span class="ident" id="8244340"><a href="/go/doc/doc_test.go.html#8244306">buf</a></span><span class="op" id="8244343">,</span>&nbsp;<span class="ident" id="8244345"><a href="/go/doc/doc_test.go.html#8244271">fset</a></span><span class="op" id="8244349">,</span>&nbsp;<span class="ident" id="8244351"><a href="/go/doc/doc_test.go.html#8244253">node</a></span><span class="op" id="8244355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244358">return</span>&nbsp;<span class="ident" id="8244365"><a href="/go/doc/doc_test.go.html#8243687">strings</a></span><span class="op" id="8244372">.</span><span class="ident" id="8244373">Replace</span><span class="op" id="8244380">(</span><span class="ident" id="8244381"><a href="/go/doc/doc_test.go.html#8243687">strings</a></span><span class="op" id="8244388">.</span><span class="ident" id="8244389">TrimSpace</span><span class="op" id="8244398">(</span><span class="ident" id="8244399"><a href="/go/doc/doc_test.go.html#8244306">buf</a></span><span class="op" id="8244402">.</span><span class="ident" id="8244403">String</span><span class="op" id="8244409">(</span><span class="op" id="8244410">)</span><span class="op" id="8244411">)</span><span class="op" id="8244412">,</span>&nbsp;<span class="string" id="8244414">&#34;\n&#34;</span><span class="op" id="8244418">,</span>&nbsp;<span class="string" id="8244420">&#34;\n\t&#34;</span><span class="op" id="8244426">,</span>&nbsp;<span class="op" id="8244428">-</span><span class="num" id="8244429">1</span><span class="op" id="8244430">)</span><br>
<span class="lineno"></span><span class="op" id="8244432">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="8244435">func</span>&nbsp;<span class="ident" id="8244440">synopsisFmt</span><span class="op" id="8244451">(</span><span class="ident" id="8244452">s</span>&nbsp;<span class="builtintype" id="8244454">string</span><span class="op" id="8244460">)</span>&nbsp;<span class="builtintype" id="8244462">string</span>&nbsp;<span class="op" id="8244469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244472">const</span>&nbsp;<span class="ident" id="8244478">n</span>&nbsp;<span class="op" id="8244480">=</span>&nbsp;<span class="num" id="8244482">64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244486">if</span>&nbsp;<span class="builtinfunc" id="8244489">len</span><span class="op" id="8244492">(</span><span class="ident" id="8244493"><a href="/go/doc/doc_test.go.html#8244452">s</a></span><span class="op" id="8244494">)</span>&nbsp;<span class="op" id="8244496">&gt;</span>&nbsp;<span class="ident" id="8244498"><a href="/go/doc/doc_test.go.html#8244478">n</a></span>&nbsp;<span class="op" id="8244500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244504">//&nbsp;cut&nbsp;off&nbsp;excess&nbsp;text&nbsp;and&nbsp;go&nbsp;back&nbsp;to&nbsp;a&nbsp;word&nbsp;boundary</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244560"><a href="/go/doc/doc_test.go.html#8244452">s</a></span>&nbsp;<span class="op" id="8244562">=</span>&nbsp;<span class="ident" id="8244564"><a href="/go/doc/doc_test.go.html#8244452">s</a></span><span class="op" id="8244565">[</span><span class="num" id="8244566">0</span><span class="op" id="8244567">:</span><span class="ident" id="8244568"><a href="/go/doc/doc_test.go.html#8244478">n</a></span><span class="op" id="8244569">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244573">if</span>&nbsp;<span class="ident" id="8244576">i</span>&nbsp;<span class="op" id="8244578">:=</span>&nbsp;<span class="ident" id="8244581"><a href="/go/doc/doc_test.go.html#8243687">strings</a></span><span class="op" id="8244588">.</span><span class="ident" id="8244589">LastIndexAny</span><span class="op" id="8244601">(</span><span class="ident" id="8244602"><a href="/go/doc/doc_test.go.html#8244452">s</a></span><span class="op" id="8244603">,</span>&nbsp;<span class="string" id="8244605">&#34;\t\n&nbsp;&#34;</span><span class="op" id="8244612">)</span><span class="op" id="8244613">;</span>&nbsp;<span class="ident" id="8244615"><a href="/go/doc/doc_test.go.html#8244576">i</a></span>&nbsp;<span class="op" id="8244617">&gt;=</span>&nbsp;<span class="num" id="8244620">0</span>&nbsp;<span class="op" id="8244622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244627"><a href="/go/doc/doc_test.go.html#8244452">s</a></span>&nbsp;<span class="op" id="8244629">=</span>&nbsp;<span class="ident" id="8244631"><a href="/go/doc/doc_test.go.html#8244452">s</a></span><span class="op" id="8244632">[</span><span class="num" id="8244633">0</span><span class="op" id="8244634">:</span><span class="ident" id="8244635"><a href="/go/doc/doc_test.go.html#8244576">i</a></span><span class="op" id="8244636">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244644"><a href="/go/doc/doc_test.go.html#8244452">s</a></span>&nbsp;<span class="op" id="8244646">=</span>&nbsp;<span class="ident" id="8244648"><a href="/go/doc/doc_test.go.html#8243687">strings</a></span><span class="op" id="8244655">.</span><span class="ident" id="8244656">TrimSpace</span><span class="op" id="8244665">(</span><span class="ident" id="8244666"><a href="/go/doc/doc_test.go.html#8244452">s</a></span><span class="op" id="8244667">)</span>&nbsp;<span class="op" id="8244669">+</span>&nbsp;<span class="string" id="8244671">&#34;&nbsp;...&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244682">return</span>&nbsp;<span class="string" id="8244689">&#34;//&nbsp;&#34;</span>&nbsp;<span class="op" id="8244695">+</span>&nbsp;<span class="ident" id="8244697"><a href="/go/doc/doc_test.go.html#8243687">strings</a></span><span class="op" id="8244704">.</span><span class="ident" id="8244705">Replace</span><span class="op" id="8244712">(</span><span class="ident" id="8244713"><a href="/go/doc/doc_test.go.html#8244452">s</a></span><span class="op" id="8244714">,</span>&nbsp;<span class="string" id="8244716">&#34;\n&#34;</span><span class="op" id="8244720">,</span>&nbsp;<span class="string" id="8244722">&#34;&nbsp;&#34;</span><span class="op" id="8244725">,</span>&nbsp;<span class="op" id="8244727">-</span><span class="num" id="8244728">1</span><span class="op" id="8244729">)</span><br>
<span class="lineno"></span><span class="op" id="8244731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8244734">func</span>&nbsp;<span class="ident" id="8244739">indentFmt</span><span class="op" id="8244748">(</span><span class="ident" id="8244749">indent</span><span class="op" id="8244755">,</span>&nbsp;<span class="ident" id="8244757">s</span>&nbsp;<span class="builtintype" id="8244759">string</span><span class="op" id="8244765">)</span>&nbsp;<span class="builtintype" id="8244767">string</span>&nbsp;<span class="op" id="8244774">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244777">end</span>&nbsp;<span class="op" id="8244781">:=</span>&nbsp;<span class="string" id="8244784">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244788">if</span>&nbsp;<span class="ident" id="8244791"><a href="/go/doc/doc_test.go.html#8243687">strings</a></span><span class="op" id="8244798">.</span><span class="ident" id="8244799">HasSuffix</span><span class="op" id="8244808">(</span><span class="ident" id="8244809"><a href="/go/doc/doc_test.go.html#8244757">s</a></span><span class="op" id="8244810">,</span>&nbsp;<span class="string" id="8244812">&#34;\n&#34;</span><span class="op" id="8244816">)</span>&nbsp;<span class="op" id="8244818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244822"><a href="/go/doc/doc_test.go.html#8244777">end</a></span>&nbsp;<span class="op" id="8244826">=</span>&nbsp;<span class="string" id="8244828">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244835"><a href="/go/doc/doc_test.go.html#8244757">s</a></span>&nbsp;<span class="op" id="8244837">=</span>&nbsp;<span class="ident" id="8244839"><a href="/go/doc/doc_test.go.html#8244757">s</a></span><span class="op" id="8244840">[</span><span class="op" id="8244841">:</span><span class="builtinfunc" id="8244842">len</span><span class="op" id="8244845">(</span><span class="ident" id="8244846"><a href="/go/doc/doc_test.go.html#8244757">s</a></span><span class="op" id="8244847">)</span><span class="op" id="8244848">-</span><span class="num" id="8244849">1</span><span class="op" id="8244850">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244853">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244856">return</span>&nbsp;<span class="ident" id="8244863"><a href="/go/doc/doc_test.go.html#8244749">indent</a></span>&nbsp;<span class="op" id="8244870">+</span>&nbsp;<span class="ident" id="8244872"><a href="/go/doc/doc_test.go.html#8243687">strings</a></span><span class="op" id="8244879">.</span><span class="ident" id="8244880">Replace</span><span class="op" id="8244887">(</span><span class="ident" id="8244888"><a href="/go/doc/doc_test.go.html#8244757">s</a></span><span class="op" id="8244889">,</span>&nbsp;<span class="string" id="8244891">&#34;\n&#34;</span><span class="op" id="8244895">,</span>&nbsp;<span class="string" id="8244897">&#34;\n&#34;</span><span class="op" id="8244901">+</span><span class="ident" id="8244902"><a href="/go/doc/doc_test.go.html#8244749">indent</a></span><span class="op" id="8244908">,</span>&nbsp;<span class="op" id="8244910">-</span><span class="num" id="8244911">1</span><span class="op" id="8244912">)</span>&nbsp;<span class="op" id="8244914">+</span>&nbsp;<span class="ident" id="8244916"><a href="/go/doc/doc_test.go.html#8244777">end</a></span><br>
<span class="lineno"></span><span class="op" id="8244920">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8244923">func</span>&nbsp;<span class="ident" id="8244928">isGoFile</span><span class="op" id="8244936">(</span><span class="ident" id="8244937">fi</span>&nbsp;<span class="ident" id="8244940"><a href="/go/doc/doc_test.go.html#8243654">os</a></span><span class="op" id="8244942">.</span><span class="ident" id="8244943">FileInfo</span><span class="op" id="8244951">)</span>&nbsp;<span class="builtintype" id="8244953">bool</span>&nbsp;<span class="op" id="8244958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244961">name</span>&nbsp;<span class="op" id="8244966">:=</span>&nbsp;<span class="ident" id="8244969"><a href="/go/doc/doc_test.go.html#8244937">fi</a></span><span class="op" id="8244971">.</span><span class="ident" id="8244972">Name</span><span class="op" id="8244976">(</span><span class="op" id="8244977">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244980">return</span>&nbsp;<span class="op" id="8244987">!</span><span class="ident" id="8244988"><a href="/go/doc/doc_test.go.html#8244937">fi</a></span><span class="op" id="8244990">.</span><span class="ident" id="8244991">IsDir</span><span class="op" id="8244996">(</span><span class="op" id="8244997">)</span>&nbsp;<span class="op" id="8244999">&amp;&amp;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8245004">len</span><span class="op" id="8245007">(</span><span class="ident" id="8245008"><a href="/go/doc/doc_test.go.html#8244961">name</a></span><span class="op" id="8245012">)</span>&nbsp;<span class="op" id="8245014">&gt;</span>&nbsp;<span class="num" id="8245016">0</span>&nbsp;<span class="op" id="8245018">&amp;&amp;</span>&nbsp;<span class="ident" id="8245021"><a href="/go/doc/doc_test.go.html#8244961">name</a></span><span class="op" id="8245025">[</span><span class="num" id="8245026">0</span><span class="op" id="8245027">]</span>&nbsp;<span class="op" id="8245029">!=</span>&nbsp;<span class="string" id="8245032">&#39;.&#39;</span>&nbsp;<span class="op" id="8245036">&amp;&amp;</span>&nbsp;<span class="comment" id="8245039">//&nbsp;ignore&nbsp;.files</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245058"><a href="/go/doc/doc_test.go.html#8243660">filepath</a></span><span class="op" id="8245066">.</span><span class="ident" id="8245067">Ext</span><span class="op" id="8245070">(</span><span class="ident" id="8245071"><a href="/go/doc/doc_test.go.html#8244961">name</a></span><span class="op" id="8245075">)</span>&nbsp;<span class="op" id="8245077">==</span>&nbsp;<span class="string" id="8245080">&#34;.go&#34;</span><br>
<span class="lineno"></span><span class="op" id="8245086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="8245089">type</span>&nbsp;<span class="ident" id="8245094">bundle</span>&nbsp;<span class="keyword" id="8245101">struct</span>&nbsp;<span class="op" id="8245108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245111">*</span><span class="ident" id="8245112"><a href="/go/doc/doc.go.html#5985424">Package</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245121">FSet</span>&nbsp;<span class="op" id="8245126">*</span><span class="ident" id="8245127"><a href="/go/doc/doc_test.go.html#8243629">token</a></span><span class="op" id="8245132">.</span><span class="ident" id="8245133">FileSet</span><br>
<span class="lineno"></span><span class="op" id="8245141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="8245144">func</span>&nbsp;<span class="ident" id="8245149">test</span><span class="op" id="8245153">(</span><span class="ident" id="8245154">t</span>&nbsp;<span class="op" id="8245156">*</span><span class="ident" id="8245157"><a href="/go/doc/doc_test.go.html#8243698">testing</a></span><span class="op" id="8245164">.</span><span class="ident" id="8245165">T</span><span class="op" id="8245166">,</span>&nbsp;<span class="ident" id="8245168">mode</span>&nbsp;<span class="ident" id="8245173"><a href="/go/doc/doc.go.html#5987325">Mode</a></span><span class="op" id="8245177">)</span>&nbsp;<span class="op" id="8245179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245182">//&nbsp;determine&nbsp;file&nbsp;filter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245208">filter</span>&nbsp;<span class="op" id="8245215">:=</span>&nbsp;<span class="ident" id="8245218"><a href="/go/doc/doc_test.go.html#8244928">isGoFile</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245228">if</span>&nbsp;<span class="op" id="8245231">*</span><span class="ident" id="8245232"><a href="/go/doc/doc_test.go.html#8243802">files</a></span>&nbsp;<span class="op" id="8245238">!=</span>&nbsp;<span class="string" id="8245241">&#34;&#34;</span>&nbsp;<span class="op" id="8245244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245248">rx</span><span class="op" id="8245250">,</span>&nbsp;<span class="ident" id="8245252">err</span>&nbsp;<span class="op" id="8245256">:=</span>&nbsp;<span class="ident" id="8245259"><a href="/go/doc/doc_test.go.html#8243677">regexp</a></span><span class="op" id="8245265">.</span><span class="ident" id="8245266">Compile</span><span class="op" id="8245273">(</span><span class="op" id="8245274">*</span><span class="ident" id="8245275"><a href="/go/doc/doc_test.go.html#8243802">files</a></span><span class="op" id="8245280">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245284">if</span>&nbsp;<span class="ident" id="8245287"><a href="/go/doc/doc_test.go.html#8245252">err</a></span>&nbsp;<span class="op" id="8245291">!=</span>&nbsp;<span class="ident" id="8245294">nil</span>&nbsp;<span class="op" id="8245298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245303"><a href="/go/doc/doc_test.go.html#8245154">t</a></span><span class="op" id="8245304">.</span><span class="ident" id="8245305">Fatal</span><span class="op" id="8245310">(</span><span class="ident" id="8245311"><a href="/go/doc/doc_test.go.html#8245252">err</a></span><span class="op" id="8245314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245322"><a href="/go/doc/doc_test.go.html#8245208">filter</a></span>&nbsp;<span class="op" id="8245329">=</span>&nbsp;<span class="keyword" id="8245331">func</span><span class="op" id="8245335">(</span><span class="ident" id="8245336">fi</span>&nbsp;<span class="ident" id="8245339"><a href="/go/doc/doc_test.go.html#8243654">os</a></span><span class="op" id="8245341">.</span><span class="ident" id="8245342">FileInfo</span><span class="op" id="8245350">)</span>&nbsp;<span class="builtintype" id="8245352">bool</span>&nbsp;<span class="op" id="8245357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245362">return</span>&nbsp;<span class="ident" id="8245369"><a href="/go/doc/doc_test.go.html#8244928">isGoFile</a></span><span class="op" id="8245377">(</span><span class="ident" id="8245378"><a href="/go/doc/doc_test.go.html#8245336">fi</a></span><span class="op" id="8245380">)</span>&nbsp;<span class="op" id="8245382">&amp;&amp;</span>&nbsp;<span class="ident" id="8245385"><a href="/go/doc/doc_test.go.html#8245248">rx</a></span><span class="op" id="8245387">.</span><span class="ident" id="8245388">MatchString</span><span class="op" id="8245399">(</span><span class="ident" id="8245400"><a href="/go/doc/doc_test.go.html#8245336">fi</a></span><span class="op" id="8245402">.</span><span class="ident" id="8245403">Name</span><span class="op" id="8245407">(</span><span class="op" id="8245408">)</span><span class="op" id="8245409">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245420">//&nbsp;get&nbsp;packages</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245437">fset</span>&nbsp;<span class="op" id="8245442">:=</span>&nbsp;<span class="ident" id="8245445"><a href="/go/doc/doc_test.go.html#8243629">token</a></span><span class="op" id="8245450">.</span><span class="ident" id="8245451">NewFileSet</span><span class="op" id="8245461">(</span><span class="op" id="8245462">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245465">pkgs</span><span class="op" id="8245469">,</span>&nbsp;<span class="ident" id="8245471">err</span>&nbsp;<span class="op" id="8245475">:=</span>&nbsp;<span class="ident" id="8245478"><a href="/go/doc/doc_test.go.html#8243602">parser</a></span><span class="op" id="8245484">.</span><span class="ident" id="8245485">ParseDir</span><span class="op" id="8245493">(</span><span class="ident" id="8245494"><a href="/go/doc/doc_test.go.html#8245437">fset</a></span><span class="op" id="8245498">,</span>&nbsp;<span class="ident" id="8245500"><a href="/go/doc/doc_test.go.html#8243906">dataDir</a></span><span class="op" id="8245507">,</span>&nbsp;<span class="ident" id="8245509"><a href="/go/doc/doc_test.go.html#8245208">filter</a></span><span class="op" id="8245515">,</span>&nbsp;<span class="ident" id="8245517"><a href="/go/doc/doc_test.go.html#8243602">parser</a></span><span class="op" id="8245523">.</span><span class="ident" id="8245524">ParseComments</span><span class="op" id="8245537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245540">if</span>&nbsp;<span class="ident" id="8245543"><a href="/go/doc/doc_test.go.html#8245471">err</a></span>&nbsp;<span class="op" id="8245547">!=</span>&nbsp;<span class="ident" id="8245550">nil</span>&nbsp;<span class="op" id="8245554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245558"><a href="/go/doc/doc_test.go.html#8245154">t</a></span><span class="op" id="8245559">.</span><span class="ident" id="8245560">Fatal</span><span class="op" id="8245565">(</span><span class="ident" id="8245566"><a href="/go/doc/doc_test.go.html#8245471">err</a></span><span class="op" id="8245569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245576">//&nbsp;test&nbsp;packages</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245594">for</span>&nbsp;<span class="ident" id="8245598">_</span><span class="op" id="8245599">,</span>&nbsp;<span class="ident" id="8245601">pkg</span>&nbsp;<span class="op" id="8245605">:=</span>&nbsp;<span class="keyword" id="8245608">range</span>&nbsp;<span class="ident" id="8245614"><a href="/go/doc/doc_test.go.html#8245465">pkgs</a></span>&nbsp;<span class="op" id="8245619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245623">importpath</span>&nbsp;<span class="op" id="8245634">:=</span>&nbsp;<span class="ident" id="8245637"><a href="/go/doc/doc_test.go.html#8243906">dataDir</a></span>&nbsp;<span class="op" id="8245645">+</span>&nbsp;<span class="string" id="8245647">&#34;/&#34;</span>&nbsp;<span class="op" id="8245651">+</span>&nbsp;<span class="ident" id="8245653"><a href="/go/doc/doc_test.go.html#8245601">pkg</a></span><span class="op" id="8245656">.</span><span class="ident" id="8245657">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245664">doc</span>&nbsp;<span class="op" id="8245668">:=</span>&nbsp;<span class="ident" id="8245671"><a href="/go/doc/doc.go.html#5987716">New</a></span><span class="op" id="8245674">(</span><span class="ident" id="8245675"><a href="/go/doc/doc_test.go.html#8245601">pkg</a></span><span class="op" id="8245678">,</span>&nbsp;<span class="ident" id="8245680"><a href="/go/doc/doc_test.go.html#8245623">importpath</a></span><span class="op" id="8245690">,</span>&nbsp;<span class="ident" id="8245692"><a href="/go/doc/doc_test.go.html#8245168">mode</a></span><span class="op" id="8245696">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245701">//&nbsp;golden&nbsp;files&nbsp;always&nbsp;use&nbsp;/&nbsp;in&nbsp;filenames&nbsp;-&nbsp;canonicalize&nbsp;them</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245765">for</span>&nbsp;<span class="ident" id="8245769">i</span><span class="op" id="8245770">,</span>&nbsp;<span class="ident" id="8245772">filename</span>&nbsp;<span class="op" id="8245781">:=</span>&nbsp;<span class="keyword" id="8245784">range</span>&nbsp;<span class="ident" id="8245790"><a href="/go/doc/doc_test.go.html#8245664">doc</a></span><span class="op" id="8245793">.</span><span class="ident" id="8245794">Filenames</span>&nbsp;<span class="op" id="8245804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245809"><a href="/go/doc/doc_test.go.html#8245664">doc</a></span><span class="op" id="8245812">.</span><span class="ident" id="8245813">Filenames</span><span class="op" id="8245822">[</span><span class="ident" id="8245823"><a href="/go/doc/doc_test.go.html#8245769">i</a></span><span class="op" id="8245824">]</span>&nbsp;<span class="op" id="8245826">=</span>&nbsp;<span class="ident" id="8245828"><a href="/go/doc/doc_test.go.html#8243660">filepath</a></span><span class="op" id="8245836">.</span><span class="ident" id="8245837">ToSlash</span><span class="op" id="8245844">(</span><span class="ident" id="8245845"><a href="/go/doc/doc_test.go.html#8245772">filename</a></span><span class="op" id="8245853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245857">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245862">//&nbsp;print&nbsp;documentation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245887">var</span>&nbsp;<span class="ident" id="8245891">buf</span>&nbsp;<span class="ident" id="8245895"><a href="/go/doc/doc_test.go.html#8243578">bytes</a></span><span class="op" id="8245900">.</span><span class="ident" id="8245901">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245910">if</span>&nbsp;<span class="ident" id="8245913">err</span>&nbsp;<span class="op" id="8245917">:=</span>&nbsp;<span class="ident" id="8245920"><a href="/go/doc/doc_test.go.html#8243932">templateTxt</a></span><span class="op" id="8245931">.</span><span class="ident" id="8245932">Execute</span><span class="op" id="8245939">(</span><span class="op" id="8245940">&amp;</span><span class="ident" id="8245941"><a href="/go/doc/doc_test.go.html#8245891">buf</a></span><span class="op" id="8245944">,</span>&nbsp;<span class="ident" id="8245946"><a href="/go/doc/doc_test.go.html#8245094">bundle</a></span><span class="op" id="8245952">{</span><span class="ident" id="8245953"><a href="/go/doc/doc_test.go.html#8245664">doc</a></span><span class="op" id="8245956">,</span>&nbsp;<span class="ident" id="8245958"><a href="/go/doc/doc_test.go.html#8245437">fset</a></span><span class="op" id="8245962">}</span><span class="op" id="8245963">)</span><span class="op" id="8245964">;</span>&nbsp;<span class="ident" id="8245966"><a href="/go/doc/doc_test.go.html#8245913">err</a></span>&nbsp;<span class="op" id="8245970">!=</span>&nbsp;<span class="ident" id="8245973">nil</span>&nbsp;<span class="op" id="8245977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245982"><a href="/go/doc/doc_test.go.html#8245154">t</a></span><span class="op" id="8245983">.</span><span class="ident" id="8245984">Error</span><span class="op" id="8245989">(</span><span class="ident" id="8245990"><a href="/go/doc/doc_test.go.html#8245913">err</a></span><span class="op" id="8245993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245998">continue</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246013">got</span>&nbsp;<span class="op" id="8246017">:=</span>&nbsp;<span class="ident" id="8246020"><a href="/go/doc/doc_test.go.html#8245891">buf</a></span><span class="op" id="8246023">.</span><span class="ident" id="8246024">Bytes</span><span class="op" id="8246029">(</span><span class="op" id="8246030">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246035">//&nbsp;update&nbsp;golden&nbsp;file&nbsp;if&nbsp;necessary</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246072">golden</span>&nbsp;<span class="op" id="8246079">:=</span>&nbsp;<span class="ident" id="8246082"><a href="/go/doc/doc_test.go.html#8243660">filepath</a></span><span class="op" id="8246090">.</span><span class="ident" id="8246091">Join</span><span class="op" id="8246095">(</span><span class="ident" id="8246096"><a href="/go/doc/doc_test.go.html#8243906">dataDir</a></span><span class="op" id="8246103">,</span>&nbsp;<span class="ident" id="8246105"><a href="/go/doc/doc_test.go.html#8243595">fmt</a></span><span class="op" id="8246108">.</span><span class="ident" id="8246109">Sprintf</span><span class="op" id="8246116">(</span><span class="string" id="8246117">&#34;%s.%d.golden&#34;</span><span class="op" id="8246131">,</span>&nbsp;<span class="ident" id="8246133"><a href="/go/doc/doc_test.go.html#8245601">pkg</a></span><span class="op" id="8246136">.</span><span class="ident" id="8246137">Name</span><span class="op" id="8246141">,</span>&nbsp;<span class="ident" id="8246143"><a href="/go/doc/doc_test.go.html#8245168">mode</a></span><span class="op" id="8246147">)</span><span class="op" id="8246148">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246152">if</span>&nbsp;<span class="op" id="8246155">*</span><span class="ident" id="8246156"><a href="/go/doc/doc_test.go.html#8243732">update</a></span>&nbsp;<span class="op" id="8246163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246168">err</span>&nbsp;<span class="op" id="8246172">:=</span>&nbsp;<span class="ident" id="8246175"><a href="/go/doc/doc_test.go.html#8243641">ioutil</a></span><span class="op" id="8246181">.</span><span class="ident" id="8246182">WriteFile</span><span class="op" id="8246191">(</span><span class="ident" id="8246192"><a href="/go/doc/doc_test.go.html#8246072">golden</a></span><span class="op" id="8246198">,</span>&nbsp;<span class="ident" id="8246200"><a href="/go/doc/doc_test.go.html#8246013">got</a></span><span class="op" id="8246203">,</span>&nbsp;<span class="num" id="8246205">0644</span><span class="op" id="8246209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246214">if</span>&nbsp;<span class="ident" id="8246217"><a href="/go/doc/doc_test.go.html#8246168">err</a></span>&nbsp;<span class="op" id="8246221">!=</span>&nbsp;<span class="ident" id="8246224">nil</span>&nbsp;<span class="op" id="8246228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246234"><a href="/go/doc/doc_test.go.html#8245154">t</a></span><span class="op" id="8246235">.</span><span class="ident" id="8246236">Error</span><span class="op" id="8246241">(</span><span class="ident" id="8246242"><a href="/go/doc/doc_test.go.html#8246168">err</a></span><span class="op" id="8246245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246250">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246255">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246271">//&nbsp;get&nbsp;golden&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246292">want</span><span class="op" id="8246296">,</span>&nbsp;<span class="ident" id="8246298">err</span>&nbsp;<span class="op" id="8246302">:=</span>&nbsp;<span class="ident" id="8246305"><a href="/go/doc/doc_test.go.html#8243641">ioutil</a></span><span class="op" id="8246311">.</span><span class="ident" id="8246312">ReadFile</span><span class="op" id="8246320">(</span><span class="ident" id="8246321"><a href="/go/doc/doc_test.go.html#8246072">golden</a></span><span class="op" id="8246327">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246331">if</span>&nbsp;<span class="ident" id="8246334"><a href="/go/doc/doc_test.go.html#8246298">err</a></span>&nbsp;<span class="op" id="8246338">!=</span>&nbsp;<span class="ident" id="8246341">nil</span>&nbsp;<span class="op" id="8246345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246350"><a href="/go/doc/doc_test.go.html#8245154">t</a></span><span class="op" id="8246351">.</span><span class="ident" id="8246352">Error</span><span class="op" id="8246357">(</span><span class="ident" id="8246358"><a href="/go/doc/doc_test.go.html#8246298">err</a></span><span class="op" id="8246361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246366">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246382">//&nbsp;compare</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8246395">if</span>&nbsp;<span class="op" id="8246398">!</span><span class="ident" id="8246399"><a href="/go/doc/doc_test.go.html#8243578">bytes</a></span><span class="op" id="8246404">.</span><span class="ident" id="8246405">Equal</span><span class="op" id="8246410">(</span><span class="ident" id="8246411"><a href="/go/doc/doc_test.go.html#8246013">got</a></span><span class="op" id="8246414">,</span>&nbsp;<span class="ident" id="8246416"><a href="/go/doc/doc_test.go.html#8246292">want</a></span><span class="op" id="8246420">)</span>&nbsp;<span class="op" id="8246422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246427"><a href="/go/doc/doc_test.go.html#8245154">t</a></span><span class="op" id="8246428">.</span><span class="ident" id="8246429">Errorf</span><span class="op" id="8246435">(</span><span class="string" id="8246436">&#34;package&nbsp;%s\n\tgot:\n%s\n\twant:\n%s&#34;</span><span class="op" id="8246473">,</span>&nbsp;<span class="ident" id="8246475"><a href="/go/doc/doc_test.go.html#8245601">pkg</a></span><span class="op" id="8246478">.</span><span class="ident" id="8246479">Name</span><span class="op" id="8246483">,</span>&nbsp;<span class="ident" id="8246485"><a href="/go/doc/doc_test.go.html#8246013">got</a></span><span class="op" id="8246488">,</span>&nbsp;<span class="ident" id="8246490"><a href="/go/doc/doc_test.go.html#8246292">want</a></span><span class="op" id="8246494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8246501">}</span><br>
<span class="lineno">140</span><span class="op" id="8246503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8246506">func</span>&nbsp;<span class="ident" id="8246511">Test</span><span class="op" id="8246515">(</span><span class="ident" id="8246516">t</span>&nbsp;<span class="op" id="8246518">*</span><span class="ident" id="8246519"><a href="/go/doc/doc_test.go.html#8243698">testing</a></span><span class="op" id="8246526">.</span><span class="ident" id="8246527">T</span><span class="op" id="8246528">)</span>&nbsp;<span class="op" id="8246530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246533"><a href="/go/doc/doc_test.go.html#8245149">test</a></span><span class="op" id="8246537">(</span><span class="ident" id="8246538"><a href="/go/doc/doc_test.go.html#8246516">t</a></span><span class="op" id="8246539">,</span>&nbsp;<span class="num" id="8246541">0</span><span class="op" id="8246542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246545"><a href="/go/doc/doc_test.go.html#8245149">test</a></span><span class="op" id="8246549">(</span><span class="ident" id="8246550"><a href="/go/doc/doc_test.go.html#8246516">t</a></span><span class="op" id="8246551">,</span>&nbsp;<span class="ident" id="8246553"><a href="/go/doc/doc.go.html#5987433">AllDecls</a></span><span class="op" id="8246561">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8246564"><a href="/go/doc/doc_test.go.html#8245149">test</a></span><span class="op" id="8246568">(</span><span class="ident" id="8246569"><a href="/go/doc/doc_test.go.html#8246516">t</a></span><span class="op" id="8246570">,</span>&nbsp;<span class="ident" id="8246572"><a href="/go/doc/doc.go.html#5987557">AllMethods</a></span><span class="op" id="8246582">)</span><br>
<span class="lineno"></span><span class="op" id="8246584">}</span>
</div>
</body>
</html>
