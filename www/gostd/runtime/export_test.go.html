<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8214635">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8214691">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8214745">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8214796">//&nbsp;Export&nbsp;guts&nbsp;for&nbsp;testing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8214825">package</span>&nbsp;<span class="ident" id="8214833">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8214842">import</span>&nbsp;<span class="string" id="8214849">&#34;unsafe&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8214859">var</span>&nbsp;<span class="ident" id="8214863">Fadd64</span>&nbsp;<span class="op" id="8214870">=</span>&nbsp;<span class="ident" id="8214872">fadd64</span><br>
<span class="lineno"></span><span class="keyword" id="8214879">var</span>&nbsp;<span class="ident" id="8214883">Fsub64</span>&nbsp;<span class="op" id="8214890">=</span>&nbsp;<span class="ident" id="8214892">fsub64</span><br>
<span class="lineno"></span><span class="keyword" id="8214899">var</span>&nbsp;<span class="ident" id="8214903">Fmul64</span>&nbsp;<span class="op" id="8214910">=</span>&nbsp;<span class="ident" id="8214912">fmul64</span><br>
<span class="lineno"></span><span class="keyword" id="8214919">var</span>&nbsp;<span class="ident" id="8214923">Fdiv64</span>&nbsp;<span class="op" id="8214930">=</span>&nbsp;<span class="ident" id="8214932">fdiv64</span><br>
<span class="lineno">15</span><span class="keyword" id="8214939">var</span>&nbsp;<span class="ident" id="8214943">F64to32</span>&nbsp;<span class="op" id="8214951">=</span>&nbsp;<span class="ident" id="8214953">f64to32</span><br>
<span class="lineno"></span><span class="keyword" id="8214961">var</span>&nbsp;<span class="ident" id="8214965">F32to64</span>&nbsp;<span class="op" id="8214973">=</span>&nbsp;<span class="ident" id="8214975">f32to64</span><br>
<span class="lineno"></span><span class="keyword" id="8214983">var</span>&nbsp;<span class="ident" id="8214987">Fcmp64</span>&nbsp;<span class="op" id="8214994">=</span>&nbsp;<span class="ident" id="8214996">fcmp64</span><br>
<span class="lineno"></span><span class="keyword" id="8215003">var</span>&nbsp;<span class="ident" id="8215007">Fintto64</span>&nbsp;<span class="op" id="8215016">=</span>&nbsp;<span class="ident" id="8215018">fintto64</span><br>
<span class="lineno"></span><span class="keyword" id="8215027">var</span>&nbsp;<span class="ident" id="8215031">F64toint</span>&nbsp;<span class="op" id="8215040">=</span>&nbsp;<span class="ident" id="8215042">f64toint</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8215052">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="8215066">func</span>&nbsp;<span class="ident" id="8215071">stackguard</span><span class="op" id="8215081">(</span><span class="op" id="8215082">)</span>&nbsp;<span class="op" id="8215084">(</span><span class="ident" id="8215085">sp</span><span class="op" id="8215087">,</span>&nbsp;<span class="ident" id="8215089">limit</span>&nbsp;<span class="builtintype" id="8215095">uintptr</span><span class="op" id="8215102">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8215105">var</span>&nbsp;<span class="ident" id="8215109">Entersyscall</span>&nbsp;<span class="op" id="8215122">=</span>&nbsp;<span class="ident" id="8215124">entersyscall</span><br>
<span class="lineno">25</span><span class="keyword" id="8215137">var</span>&nbsp;<span class="ident" id="8215141">Exitsyscall</span>&nbsp;<span class="op" id="8215153">=</span>&nbsp;<span class="ident" id="8215155">exitsyscall</span><br>
<span class="lineno"></span><span class="keyword" id="8215167">var</span>&nbsp;<span class="ident" id="8215171">LockedOSThread</span>&nbsp;<span class="op" id="8215186">=</span>&nbsp;<span class="ident" id="8215188">lockedOSThread</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8215204">type</span>&nbsp;<span class="ident" id="8215209">LFNode</span>&nbsp;<span class="keyword" id="8215216">struct</span>&nbsp;<span class="op" id="8215223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215226">Next</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8215234">*</span><span class="ident" id="8215235">LFNode</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215243">Pushcnt</span>&nbsp;<span class="builtintype" id="8215251">uintptr</span><br>
<span class="lineno"></span><span class="op" id="8215259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8215262">func</span>&nbsp;<span class="ident" id="8215267">lfstackpush_m</span><span class="op" id="8215280">(</span><span class="op" id="8215281">)</span><br>
<span class="lineno"></span><span class="keyword" id="8215283">func</span>&nbsp;<span class="ident" id="8215288">lfstackpop_m</span><span class="op" id="8215300">(</span><span class="op" id="8215301">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="8215304">func</span>&nbsp;<span class="ident" id="8215309">LFStackPush</span><span class="op" id="8215320">(</span><span class="ident" id="8215321">head</span>&nbsp;<span class="op" id="8215326">*</span><span class="ident" id="8215327">uint64</span><span class="op" id="8215333">,</span>&nbsp;<span class="ident" id="8215335">node</span>&nbsp;<span class="op" id="8215340">*</span><span class="ident" id="8215341">LFNode</span><span class="op" id="8215347">)</span>&nbsp;<span class="op" id="8215349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215352">mp</span>&nbsp;<span class="op" id="8215355">:=</span>&nbsp;<span class="ident" id="8215358">acquirem</span><span class="op" id="8215366">(</span><span class="op" id="8215367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215370">mp</span><span class="op" id="8215372">.</span><span class="ident" id="8215373">ptrarg</span><span class="op" id="8215379">[</span><span class="num" id="8215380">0</span><span class="op" id="8215381">]</span>&nbsp;<span class="op" id="8215383">=</span>&nbsp;<span class="ident" id="8215385">unsafe</span><span class="op" id="8215391">.</span><span class="ident" id="8215392">Pointer</span><span class="op" id="8215399">(</span><span class="ident" id="8215400">head</span><span class="op" id="8215404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215407">mp</span><span class="op" id="8215409">.</span><span class="ident" id="8215410">ptrarg</span><span class="op" id="8215416">[</span><span class="num" id="8215417">1</span><span class="op" id="8215418">]</span>&nbsp;<span class="op" id="8215420">=</span>&nbsp;<span class="ident" id="8215422">unsafe</span><span class="op" id="8215428">.</span><span class="ident" id="8215429">Pointer</span><span class="op" id="8215436">(</span><span class="ident" id="8215437">node</span><span class="op" id="8215441">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215444">onM</span><span class="op" id="8215447">(</span><span class="ident" id="8215448">lfstackpush_m</span><span class="op" id="8215461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215464">releasem</span><span class="op" id="8215472">(</span><span class="ident" id="8215473">mp</span><span class="op" id="8215475">)</span><br>
<span class="lineno"></span><span class="op" id="8215477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8215480">func</span>&nbsp;<span class="ident" id="8215485">LFStackPop</span><span class="op" id="8215495">(</span><span class="ident" id="8215496">head</span>&nbsp;<span class="op" id="8215501">*</span><span class="ident" id="8215502">uint64</span><span class="op" id="8215508">)</span>&nbsp;<span class="op" id="8215510">*</span><span class="ident" id="8215511">LFNode</span>&nbsp;<span class="op" id="8215518">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215521">mp</span>&nbsp;<span class="op" id="8215524">:=</span>&nbsp;<span class="ident" id="8215527">acquirem</span><span class="op" id="8215535">(</span><span class="op" id="8215536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215539">mp</span><span class="op" id="8215541">.</span><span class="ident" id="8215542">ptrarg</span><span class="op" id="8215548">[</span><span class="num" id="8215549">0</span><span class="op" id="8215550">]</span>&nbsp;<span class="op" id="8215552">=</span>&nbsp;<span class="ident" id="8215554">unsafe</span><span class="op" id="8215560">.</span><span class="ident" id="8215561">Pointer</span><span class="op" id="8215568">(</span><span class="ident" id="8215569">head</span><span class="op" id="8215573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215576">onM</span><span class="op" id="8215579">(</span><span class="ident" id="8215580">lfstackpop_m</span><span class="op" id="8215592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215595">node</span>&nbsp;<span class="op" id="8215600">:=</span>&nbsp;<span class="op" id="8215603">(</span><span class="op" id="8215604">*</span><span class="ident" id="8215605">LFNode</span><span class="op" id="8215611">)</span><span class="op" id="8215612">(</span><span class="ident" id="8215613">unsafe</span><span class="op" id="8215619">.</span><span class="ident" id="8215620">Pointer</span><span class="op" id="8215627">(</span><span class="ident" id="8215628">mp</span><span class="op" id="8215630">.</span><span class="ident" id="8215631">ptrarg</span><span class="op" id="8215637">[</span><span class="num" id="8215638">0</span><span class="op" id="8215639">]</span><span class="op" id="8215640">)</span><span class="op" id="8215641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215644">mp</span><span class="op" id="8215646">.</span><span class="ident" id="8215647">ptrarg</span><span class="op" id="8215653">[</span><span class="num" id="8215654">0</span><span class="op" id="8215655">]</span>&nbsp;<span class="op" id="8215657">=</span>&nbsp;<span class="ident" id="8215659">nil</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215664">releasem</span><span class="op" id="8215672">(</span><span class="ident" id="8215673">mp</span><span class="op" id="8215675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215678">return</span>&nbsp;<span class="ident" id="8215685">node</span><br>
<span class="lineno"></span><span class="op" id="8215690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8215693">type</span>&nbsp;<span class="ident" id="8215698">ParFor</span>&nbsp;<span class="keyword" id="8215705">struct</span>&nbsp;<span class="op" id="8215712">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215715">body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8215723">*</span><span class="builtintype" id="8215724">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215730">done</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8215738">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215746">Nthr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8215754">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215762">nthrmax</span>&nbsp;<span class="builtintype" id="8215770">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215778">thrseq</span>&nbsp;&nbsp;<span class="builtintype" id="8215786">uint32</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215794">Cnt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8215802">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215810">Ctx</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8215818">*</span><span class="builtintype" id="8215819">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215825">wait</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8215833">bool</span><br>
<span class="lineno"></span><span class="op" id="8215838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="8215841">func</span>&nbsp;<span class="ident" id="8215846">newparfor_m</span><span class="op" id="8215857">(</span><span class="op" id="8215858">)</span><br>
<span class="lineno"></span><span class="keyword" id="8215860">func</span>&nbsp;<span class="ident" id="8215865">parforsetup_m</span><span class="op" id="8215878">(</span><span class="op" id="8215879">)</span><br>
<span class="lineno"></span><span class="keyword" id="8215881">func</span>&nbsp;<span class="ident" id="8215886">parfordo_m</span><span class="op" id="8215896">(</span><span class="op" id="8215897">)</span><br>
<span class="lineno"></span><span class="keyword" id="8215899">func</span>&nbsp;<span class="ident" id="8215904">parforiters_m</span><span class="op" id="8215917">(</span><span class="op" id="8215918">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="8215921">func</span>&nbsp;<span class="ident" id="8215926">NewParFor</span><span class="op" id="8215935">(</span><span class="ident" id="8215936">nthrmax</span>&nbsp;<span class="builtintype" id="8215944">uint32</span><span class="op" id="8215950">)</span>&nbsp;<span class="op" id="8215952">*</span><span class="ident" id="8215953">ParFor</span>&nbsp;<span class="op" id="8215960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215963">mp</span>&nbsp;<span class="op" id="8215966">:=</span>&nbsp;<span class="ident" id="8215969">acquirem</span><span class="op" id="8215977">(</span><span class="op" id="8215978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215981">mp</span><span class="op" id="8215983">.</span><span class="ident" id="8215984">scalararg</span><span class="op" id="8215993">[</span><span class="num" id="8215994">0</span><span class="op" id="8215995">]</span>&nbsp;<span class="op" id="8215997">=</span>&nbsp;<span class="builtintype" id="8215999">uintptr</span><span class="op" id="8216006">(</span><span class="ident" id="8216007">nthrmax</span><span class="op" id="8216014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216017">onM</span><span class="op" id="8216020">(</span><span class="ident" id="8216021">newparfor_m</span><span class="op" id="8216032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216035">desc</span>&nbsp;<span class="op" id="8216040">:=</span>&nbsp;<span class="op" id="8216043">(</span><span class="op" id="8216044">*</span><span class="ident" id="8216045">ParFor</span><span class="op" id="8216051">)</span><span class="op" id="8216052">(</span><span class="ident" id="8216053">mp</span><span class="op" id="8216055">.</span><span class="ident" id="8216056">ptrarg</span><span class="op" id="8216062">[</span><span class="num" id="8216063">0</span><span class="op" id="8216064">]</span><span class="op" id="8216065">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216068">mp</span><span class="op" id="8216070">.</span><span class="ident" id="8216071">ptrarg</span><span class="op" id="8216077">[</span><span class="num" id="8216078">0</span><span class="op" id="8216079">]</span>&nbsp;<span class="op" id="8216081">=</span>&nbsp;<span class="ident" id="8216083">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216088">releasem</span><span class="op" id="8216096">(</span><span class="ident" id="8216097">mp</span><span class="op" id="8216099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216102">return</span>&nbsp;<span class="ident" id="8216109">desc</span><br>
<span class="lineno"></span><span class="op" id="8216114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="8216117">func</span>&nbsp;<span class="ident" id="8216122">ParForSetup</span><span class="op" id="8216133">(</span><span class="ident" id="8216134">desc</span>&nbsp;<span class="op" id="8216139">*</span><span class="ident" id="8216140">ParFor</span><span class="op" id="8216146">,</span>&nbsp;<span class="ident" id="8216148">nthr</span><span class="op" id="8216152">,</span>&nbsp;<span class="ident" id="8216154">n</span>&nbsp;<span class="builtintype" id="8216156">uint32</span><span class="op" id="8216162">,</span>&nbsp;<span class="ident" id="8216164">ctx</span>&nbsp;<span class="op" id="8216168">*</span><span class="builtintype" id="8216169">byte</span><span class="op" id="8216173">,</span>&nbsp;<span class="ident" id="8216175">wait</span>&nbsp;<span class="builtintype" id="8216180">bool</span><span class="op" id="8216184">,</span>&nbsp;<span class="ident" id="8216186">body</span>&nbsp;<span class="keyword" id="8216191">func</span><span class="op" id="8216195">(</span><span class="op" id="8216196">*</span><span class="ident" id="8216197">ParFor</span><span class="op" id="8216203">,</span>&nbsp;<span class="builtintype" id="8216205">uint32</span><span class="op" id="8216211">)</span><span class="op" id="8216212">)</span>&nbsp;<span class="op" id="8216214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216217">mp</span>&nbsp;<span class="op" id="8216220">:=</span>&nbsp;<span class="ident" id="8216223">acquirem</span><span class="op" id="8216231">(</span><span class="op" id="8216232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216235">mp</span><span class="op" id="8216237">.</span><span class="ident" id="8216238">ptrarg</span><span class="op" id="8216244">[</span><span class="num" id="8216245">0</span><span class="op" id="8216246">]</span>&nbsp;<span class="op" id="8216248">=</span>&nbsp;<span class="ident" id="8216250">unsafe</span><span class="op" id="8216256">.</span><span class="ident" id="8216257">Pointer</span><span class="op" id="8216264">(</span><span class="ident" id="8216265">desc</span><span class="op" id="8216269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216272">mp</span><span class="op" id="8216274">.</span><span class="ident" id="8216275">ptrarg</span><span class="op" id="8216281">[</span><span class="num" id="8216282">1</span><span class="op" id="8216283">]</span>&nbsp;<span class="op" id="8216285">=</span>&nbsp;<span class="ident" id="8216287">unsafe</span><span class="op" id="8216293">.</span><span class="ident" id="8216294">Pointer</span><span class="op" id="8216301">(</span><span class="ident" id="8216302">ctx</span><span class="op" id="8216305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216308">mp</span><span class="op" id="8216310">.</span><span class="ident" id="8216311">ptrarg</span><span class="op" id="8216317">[</span><span class="num" id="8216318">2</span><span class="op" id="8216319">]</span>&nbsp;<span class="op" id="8216321">=</span>&nbsp;<span class="ident" id="8216323">unsafe</span><span class="op" id="8216329">.</span><span class="ident" id="8216330">Pointer</span><span class="op" id="8216337">(</span><span class="ident" id="8216338">funcPC</span><span class="op" id="8216344">(</span><span class="ident" id="8216345">body</span><span class="op" id="8216349">)</span><span class="op" id="8216350">)</span>&nbsp;<span class="comment" id="8216352">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;be&nbsp;a&nbsp;scalar.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216387">mp</span><span class="op" id="8216389">.</span><span class="ident" id="8216390">scalararg</span><span class="op" id="8216399">[</span><span class="num" id="8216400">0</span><span class="op" id="8216401">]</span>&nbsp;<span class="op" id="8216403">=</span>&nbsp;<span class="builtintype" id="8216405">uintptr</span><span class="op" id="8216412">(</span><span class="ident" id="8216413">nthr</span><span class="op" id="8216417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216420">mp</span><span class="op" id="8216422">.</span><span class="ident" id="8216423">scalararg</span><span class="op" id="8216432">[</span><span class="num" id="8216433">1</span><span class="op" id="8216434">]</span>&nbsp;<span class="op" id="8216436">=</span>&nbsp;<span class="builtintype" id="8216438">uintptr</span><span class="op" id="8216445">(</span><span class="ident" id="8216446">n</span><span class="op" id="8216447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216450">mp</span><span class="op" id="8216452">.</span><span class="ident" id="8216453">scalararg</span><span class="op" id="8216462">[</span><span class="num" id="8216463">2</span><span class="op" id="8216464">]</span>&nbsp;<span class="op" id="8216466">=</span>&nbsp;<span class="num" id="8216468">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216471">if</span>&nbsp;<span class="ident" id="8216474">wait</span>&nbsp;<span class="op" id="8216479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216483">mp</span><span class="op" id="8216485">.</span><span class="ident" id="8216486">scalararg</span><span class="op" id="8216495">[</span><span class="num" id="8216496">2</span><span class="op" id="8216497">]</span>&nbsp;<span class="op" id="8216499">=</span>&nbsp;<span class="num" id="8216501">1</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8216504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216507">onM</span><span class="op" id="8216510">(</span><span class="ident" id="8216511">parforsetup_m</span><span class="op" id="8216524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216527">releasem</span><span class="op" id="8216535">(</span><span class="ident" id="8216536">mp</span><span class="op" id="8216538">)</span><br>
<span class="lineno"></span><span class="op" id="8216540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="8216543">func</span>&nbsp;<span class="ident" id="8216548">ParForDo</span><span class="op" id="8216556">(</span><span class="ident" id="8216557">desc</span>&nbsp;<span class="op" id="8216562">*</span><span class="ident" id="8216563">ParFor</span><span class="op" id="8216569">)</span>&nbsp;<span class="op" id="8216571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216574">mp</span>&nbsp;<span class="op" id="8216577">:=</span>&nbsp;<span class="ident" id="8216580">acquirem</span><span class="op" id="8216588">(</span><span class="op" id="8216589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216592">mp</span><span class="op" id="8216594">.</span><span class="ident" id="8216595">ptrarg</span><span class="op" id="8216601">[</span><span class="num" id="8216602">0</span><span class="op" id="8216603">]</span>&nbsp;<span class="op" id="8216605">=</span>&nbsp;<span class="ident" id="8216607">unsafe</span><span class="op" id="8216613">.</span><span class="ident" id="8216614">Pointer</span><span class="op" id="8216621">(</span><span class="ident" id="8216622">desc</span><span class="op" id="8216626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216629">onM</span><span class="op" id="8216632">(</span><span class="ident" id="8216633">parfordo_m</span><span class="op" id="8216643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216646">releasem</span><span class="op" id="8216654">(</span><span class="ident" id="8216655">mp</span><span class="op" id="8216657">)</span><br>
<span class="lineno">100</span><span class="op" id="8216659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8216662">func</span>&nbsp;<span class="ident" id="8216667">ParForIters</span><span class="op" id="8216678">(</span><span class="ident" id="8216679">desc</span>&nbsp;<span class="op" id="8216684">*</span><span class="ident" id="8216685">ParFor</span><span class="op" id="8216691">,</span>&nbsp;<span class="ident" id="8216693">tid</span>&nbsp;<span class="builtintype" id="8216697">uint32</span><span class="op" id="8216703">)</span>&nbsp;<span class="op" id="8216705">(</span><span class="builtintype" id="8216706">uint32</span><span class="op" id="8216712">,</span>&nbsp;<span class="builtintype" id="8216714">uint32</span><span class="op" id="8216720">)</span>&nbsp;<span class="op" id="8216722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216725">mp</span>&nbsp;<span class="op" id="8216728">:=</span>&nbsp;<span class="ident" id="8216731">acquirem</span><span class="op" id="8216739">(</span><span class="op" id="8216740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216743">mp</span><span class="op" id="8216745">.</span><span class="ident" id="8216746">ptrarg</span><span class="op" id="8216752">[</span><span class="num" id="8216753">0</span><span class="op" id="8216754">]</span>&nbsp;<span class="op" id="8216756">=</span>&nbsp;<span class="ident" id="8216758">unsafe</span><span class="op" id="8216764">.</span><span class="ident" id="8216765">Pointer</span><span class="op" id="8216772">(</span><span class="ident" id="8216773">desc</span><span class="op" id="8216777">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216780">mp</span><span class="op" id="8216782">.</span><span class="ident" id="8216783">scalararg</span><span class="op" id="8216792">[</span><span class="num" id="8216793">0</span><span class="op" id="8216794">]</span>&nbsp;<span class="op" id="8216796">=</span>&nbsp;<span class="builtintype" id="8216798">uintptr</span><span class="op" id="8216805">(</span><span class="ident" id="8216806">tid</span><span class="op" id="8216809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216812">onM</span><span class="op" id="8216815">(</span><span class="ident" id="8216816">parforiters_m</span><span class="op" id="8216829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216832">begin</span>&nbsp;<span class="op" id="8216838">:=</span>&nbsp;<span class="builtintype" id="8216841">uint32</span><span class="op" id="8216847">(</span><span class="ident" id="8216848">mp</span><span class="op" id="8216850">.</span><span class="ident" id="8216851">scalararg</span><span class="op" id="8216860">[</span><span class="num" id="8216861">0</span><span class="op" id="8216862">]</span><span class="op" id="8216863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216866">end</span>&nbsp;<span class="op" id="8216870">:=</span>&nbsp;<span class="builtintype" id="8216873">uint32</span><span class="op" id="8216879">(</span><span class="ident" id="8216880">mp</span><span class="op" id="8216882">.</span><span class="ident" id="8216883">scalararg</span><span class="op" id="8216892">[</span><span class="num" id="8216893">1</span><span class="op" id="8216894">]</span><span class="op" id="8216895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216898">releasem</span><span class="op" id="8216906">(</span><span class="ident" id="8216907">mp</span><span class="op" id="8216909">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216912">return</span>&nbsp;<span class="ident" id="8216919">begin</span><span class="op" id="8216924">,</span>&nbsp;<span class="ident" id="8216926">end</span><br>
<span class="lineno"></span><span class="op" id="8216930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8216933">//&nbsp;in&nbsp;mgc0.c</span><br>
<span class="lineno"></span><span class="comment" id="8216946">//go:noescape</span><br>
<span class="lineno">115</span><span class="keyword" id="8216960">func</span>&nbsp;<span class="ident" id="8216965">getgcmask</span><span class="op" id="8216974">(</span><span class="ident" id="8216975">data</span>&nbsp;<span class="ident" id="8216980">unsafe</span><span class="op" id="8216986">.</span><span class="ident" id="8216987">Pointer</span><span class="op" id="8216994">,</span>&nbsp;<span class="ident" id="8216996">typ</span>&nbsp;<span class="op" id="8217000">*</span><span class="ident" id="8217001">_type</span><span class="op" id="8217006">,</span>&nbsp;<span class="ident" id="8217008">array</span>&nbsp;<span class="op" id="8217014">*</span><span class="op" id="8217015">*</span><span class="builtintype" id="8217016">byte</span><span class="op" id="8217020">,</span>&nbsp;<span class="builtinfunc" id="8217022">len</span>&nbsp;<span class="op" id="8217026">*</span><span class="builtintype" id="8217027">uint</span><span class="op" id="8217031">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8217034">func</span>&nbsp;<span class="ident" id="8217039">GCMask</span><span class="op" id="8217045">(</span><span class="ident" id="8217046">x</span>&nbsp;<span class="keyword" id="8217048">interface</span><span class="op" id="8217057">{</span><span class="op" id="8217058">}</span><span class="op" id="8217059">)</span>&nbsp;<span class="op" id="8217061">(</span><span class="ident" id="8217062">ret</span>&nbsp;<span class="op" id="8217066">[</span><span class="op" id="8217067">]</span><span class="builtintype" id="8217068">byte</span><span class="op" id="8217072">)</span>&nbsp;<span class="op" id="8217074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217077">e</span>&nbsp;<span class="op" id="8217079">:=</span>&nbsp;<span class="op" id="8217082">(</span><span class="op" id="8217083">*</span><span class="ident" id="8217084">eface</span><span class="op" id="8217089">)</span><span class="op" id="8217090">(</span><span class="ident" id="8217091">unsafe</span><span class="op" id="8217097">.</span><span class="ident" id="8217098">Pointer</span><span class="op" id="8217105">(</span><span class="op" id="8217106">&amp;</span><span class="ident" id="8217107">x</span><span class="op" id="8217108">)</span><span class="op" id="8217109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217112">s</span>&nbsp;<span class="op" id="8217114">:=</span>&nbsp;<span class="op" id="8217117">(</span><span class="op" id="8217118">*</span><span class="ident" id="8217119">slice</span><span class="op" id="8217124">)</span><span class="op" id="8217125">(</span><span class="ident" id="8217126">unsafe</span><span class="op" id="8217132">.</span><span class="ident" id="8217133">Pointer</span><span class="op" id="8217140">(</span><span class="op" id="8217141">&amp;</span><span class="ident" id="8217142">ret</span><span class="op" id="8217145">)</span><span class="op" id="8217146">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217149">onM</span><span class="op" id="8217152">(</span><span class="keyword" id="8217153">func</span><span class="op" id="8217157">(</span><span class="op" id="8217158">)</span>&nbsp;<span class="op" id="8217160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217164">getgcmask</span><span class="op" id="8217173">(</span><span class="ident" id="8217174">e</span><span class="op" id="8217175">.</span><span class="ident" id="8217176">data</span><span class="op" id="8217180">,</span>&nbsp;<span class="ident" id="8217182">e</span><span class="op" id="8217183">.</span><span class="ident" id="8217184">_type</span><span class="op" id="8217189">,</span>&nbsp;<span class="op" id="8217191">&amp;</span><span class="ident" id="8217192">s</span><span class="op" id="8217193">.</span><span class="ident" id="8217194">array</span><span class="op" id="8217199">,</span>&nbsp;<span class="op" id="8217201">&amp;</span><span class="ident" id="8217202">s</span><span class="op" id="8217203">.</span><span class="builtinfunc" id="8217204">len</span><span class="op" id="8217207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217211">s</span><span class="op" id="8217212">.</span><span class="builtinfunc" id="8217213">cap</span>&nbsp;<span class="op" id="8217217">=</span>&nbsp;<span class="ident" id="8217219">s</span><span class="op" id="8217220">.</span><span class="builtinfunc" id="8217221">len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8217226">}</span><span class="op" id="8217227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8217230">return</span><br>
<span class="lineno">125</span><span class="op" id="8217237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8217240">func</span>&nbsp;<span class="ident" id="8217245">testSchedLocalQueue</span><span class="op" id="8217264">(</span><span class="op" id="8217265">)</span><br>
<span class="lineno"></span><span class="keyword" id="8217267">func</span>&nbsp;<span class="ident" id="8217272">testSchedLocalQueueSteal</span><span class="op" id="8217296">(</span><span class="op" id="8217297">)</span><br>
<span class="lineno"></span><span class="keyword" id="8217299">func</span>&nbsp;<span class="ident" id="8217304">RunSchedLocalQueueTest</span><span class="op" id="8217326">(</span><span class="op" id="8217327">)</span>&nbsp;<span class="op" id="8217329">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217332">onM</span><span class="op" id="8217335">(</span><span class="ident" id="8217336">testSchedLocalQueue</span><span class="op" id="8217355">)</span><br>
<span class="lineno"></span><span class="op" id="8217357">}</span><br>
<span class="lineno"></span><span class="keyword" id="8217359">func</span>&nbsp;<span class="ident" id="8217364">RunSchedLocalQueueStealTest</span><span class="op" id="8217391">(</span><span class="op" id="8217392">)</span>&nbsp;<span class="op" id="8217394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217397">onM</span><span class="op" id="8217400">(</span><span class="ident" id="8217401">testSchedLocalQueueSteal</span><span class="op" id="8217425">)</span><br>
<span class="lineno"></span><span class="op" id="8217427">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="8217430">var</span>&nbsp;<span class="ident" id="8217434">HaveGoodHash</span>&nbsp;<span class="op" id="8217447">=</span>&nbsp;<span class="ident" id="8217449">haveGoodHash</span><br>
<span class="lineno"></span><span class="keyword" id="8217462">var</span>&nbsp;<span class="ident" id="8217466">StringHash</span>&nbsp;<span class="op" id="8217477">=</span>&nbsp;<span class="ident" id="8217479">stringHash</span><br>
<span class="lineno"></span><span class="keyword" id="8217490">var</span>&nbsp;<span class="ident" id="8217494">BytesHash</span>&nbsp;<span class="op" id="8217504">=</span>&nbsp;<span class="ident" id="8217506">bytesHash</span><br>
<span class="lineno"></span><span class="keyword" id="8217516">var</span>&nbsp;<span class="ident" id="8217520">Int32Hash</span>&nbsp;<span class="op" id="8217530">=</span>&nbsp;<span class="ident" id="8217532">int32Hash</span><br>
<span class="lineno">140</span><span class="keyword" id="8217542">var</span>&nbsp;<span class="ident" id="8217546">Int64Hash</span>&nbsp;<span class="op" id="8217556">=</span>&nbsp;<span class="ident" id="8217558">int64Hash</span><br>
<span class="lineno"></span><span class="keyword" id="8217568">var</span>&nbsp;<span class="ident" id="8217572">EfaceHash</span>&nbsp;<span class="op" id="8217582">=</span>&nbsp;<span class="ident" id="8217584">efaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="8217594">var</span>&nbsp;<span class="ident" id="8217598">IfaceHash</span>&nbsp;<span class="op" id="8217608">=</span>&nbsp;<span class="ident" id="8217610">ifaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="8217620">var</span>&nbsp;<span class="ident" id="8217624">MemclrBytes</span>&nbsp;<span class="op" id="8217636">=</span>&nbsp;<span class="ident" id="8217638">memclrBytes</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="8217651">var</span>&nbsp;<span class="ident" id="8217655">HashLoad</span>&nbsp;<span class="op" id="8217664">=</span>&nbsp;<span class="op" id="8217666">&amp;</span><span class="ident" id="8217667">hashLoad</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8217677">//&nbsp;For&nbsp;testing.</span><br>
<span class="lineno"></span><span class="keyword" id="8217693">func</span>&nbsp;<span class="ident" id="8217698">GogoBytes</span><span class="op" id="8217707">(</span><span class="op" id="8217708">)</span>&nbsp;<span class="builtintype" id="8217710">int32</span>&nbsp;<span class="op" id="8217716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8217719">return</span>&nbsp;<span class="ident" id="8217726">_RuntimeGogoBytes</span><br>
<span class="lineno">150</span><span class="op" id="8217744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8217747">//&nbsp;in&nbsp;string.c</span><br>
<span class="lineno"></span><span class="comment" id="8217762">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="8217776">func</span>&nbsp;<span class="ident" id="8217781">gostringw</span><span class="op" id="8217790">(</span><span class="ident" id="8217791">w</span>&nbsp;<span class="op" id="8217793">*</span><span class="builtintype" id="8217794">uint16</span><span class="op" id="8217800">)</span>&nbsp;<span class="builtintype" id="8217802">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="8217810">//&nbsp;entry&nbsp;point&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="8217837">func</span>&nbsp;<span class="ident" id="8217842">GostringW</span><span class="op" id="8217851">(</span><span class="ident" id="8217852">w</span>&nbsp;<span class="op" id="8217854">[</span><span class="op" id="8217855">]</span><span class="builtintype" id="8217856">uint16</span><span class="op" id="8217862">)</span>&nbsp;<span class="op" id="8217864">(</span><span class="ident" id="8217865">s</span>&nbsp;<span class="builtintype" id="8217867">string</span><span class="op" id="8217873">)</span>&nbsp;<span class="op" id="8217875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217878">onM</span><span class="op" id="8217881">(</span><span class="keyword" id="8217882">func</span><span class="op" id="8217886">(</span><span class="op" id="8217887">)</span>&nbsp;<span class="op" id="8217889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217893">s</span>&nbsp;<span class="op" id="8217895">=</span>&nbsp;<span class="ident" id="8217897">gostringw</span><span class="op" id="8217906">(</span><span class="op" id="8217907">&amp;</span><span class="ident" id="8217908">w</span><span class="op" id="8217909">[</span><span class="num" id="8217910">0</span><span class="op" id="8217911">]</span><span class="op" id="8217912">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8217915">}</span><span class="op" id="8217916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8217919">return</span><br>
<span class="lineno"></span><span class="op" id="8217926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8217929">var</span>&nbsp;<span class="ident" id="8217933">Gostringnocopy</span>&nbsp;<span class="op" id="8217948">=</span>&nbsp;<span class="ident" id="8217950">gostringnocopy</span><br>
<span class="lineno">165</span><span class="keyword" id="8217965">var</span>&nbsp;<span class="ident" id="8217969">Maxstring</span>&nbsp;<span class="op" id="8217979">=</span>&nbsp;<span class="op" id="8217981">&amp;</span><span class="ident" id="8217982">maxstring</span>
</div>
</body>
</html>
