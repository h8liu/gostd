<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html" class="current">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3025592">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3025647">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3025701">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3025752">package</span>&nbsp;<span class="ident" id="3025760">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3025765">import</span>&nbsp;<span class="string" id="3025772">&#34;go/ast&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3025782">type</span>&nbsp;<span class="ident" id="3025787">Filter</span>&nbsp;<span class="keyword" id="3025794">func</span><span class="op" id="3025798">(</span><span class="builtintype" id="3025799">string</span><span class="op" id="3025805">)</span>&nbsp;<span class="builtintype" id="3025807">bool</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="3025813">func</span>&nbsp;<span class="ident" id="3025818">matchFields</span><span class="op" id="3025829">(</span><span class="ident" id="3025830">fields</span>&nbsp;<span class="op" id="3025837">*</span><span class="ident" id="3025838">ast</span><span class="op" id="3025841">.</span><span class="ident" id="3025842">FieldList</span><span class="op" id="3025851">,</span>&nbsp;<span class="ident" id="3025853">f</span>&nbsp;<span class="ident" id="3025855">Filter</span><span class="op" id="3025861">)</span>&nbsp;<span class="builtintype" id="3025863">bool</span>&nbsp;<span class="op" id="3025868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3025871">if</span>&nbsp;<span class="ident" id="3025874">fields</span>&nbsp;<span class="op" id="3025881">!=</span>&nbsp;<span class="ident" id="3025884">nil</span>&nbsp;<span class="op" id="3025888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3025892">for</span>&nbsp;<span class="ident" id="3025896">_</span><span class="op" id="3025897">,</span>&nbsp;<span class="ident" id="3025899">field</span>&nbsp;<span class="op" id="3025905">:=</span>&nbsp;<span class="keyword" id="3025908">range</span>&nbsp;<span class="ident" id="3025914">fields</span><span class="op" id="3025920">.</span><span class="ident" id="3025921">List</span>&nbsp;<span class="op" id="3025926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3025931">for</span>&nbsp;<span class="ident" id="3025935">_</span><span class="op" id="3025936">,</span>&nbsp;<span class="ident" id="3025938">name</span>&nbsp;<span class="op" id="3025943">:=</span>&nbsp;<span class="keyword" id="3025946">range</span>&nbsp;<span class="ident" id="3025952">field</span><span class="op" id="3025957">.</span><span class="ident" id="3025958">Names</span>&nbsp;<span class="op" id="3025964">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3025970">if</span>&nbsp;<span class="ident" id="3025973">f</span><span class="op" id="3025974">(</span><span class="ident" id="3025975">name</span><span class="op" id="3025979">.</span><span class="ident" id="3025980">Name</span><span class="op" id="3025984">)</span>&nbsp;<span class="op" id="3025986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3025993">return</span>&nbsp;<span class="builtintype" id="3026000">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026018">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026024">return</span>&nbsp;<span class="builtintype" id="3026031">false</span><br>
<span class="lineno"></span><span class="op" id="3026037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3026040">func</span>&nbsp;<span class="ident" id="3026045">matchDecl</span><span class="op" id="3026054">(</span><span class="ident" id="3026055">d</span>&nbsp;<span class="op" id="3026057">*</span><span class="ident" id="3026058">ast</span><span class="op" id="3026061">.</span><span class="ident" id="3026062">GenDecl</span><span class="op" id="3026069">,</span>&nbsp;<span class="ident" id="3026071">f</span>&nbsp;<span class="ident" id="3026073">Filter</span><span class="op" id="3026079">)</span>&nbsp;<span class="builtintype" id="3026081">bool</span>&nbsp;<span class="op" id="3026086">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026089">for</span>&nbsp;<span class="ident" id="3026093">_</span><span class="op" id="3026094">,</span>&nbsp;<span class="ident" id="3026096">d</span>&nbsp;<span class="op" id="3026098">:=</span>&nbsp;<span class="keyword" id="3026101">range</span>&nbsp;<span class="ident" id="3026107">d</span><span class="op" id="3026108">.</span><span class="ident" id="3026109">Specs</span>&nbsp;<span class="op" id="3026115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026119">switch</span>&nbsp;<span class="ident" id="3026126">v</span>&nbsp;<span class="op" id="3026128">:=</span>&nbsp;<span class="ident" id="3026131">d</span><span class="op" id="3026132">.</span><span class="op" id="3026133">(</span><span class="keyword" id="3026134">type</span><span class="op" id="3026138">)</span>&nbsp;<span class="op" id="3026140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026144">case</span>&nbsp;<span class="op" id="3026149">*</span><span class="ident" id="3026150">ast</span><span class="op" id="3026153">.</span><span class="ident" id="3026154">ValueSpec</span><span class="op" id="3026163">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026168">for</span>&nbsp;<span class="ident" id="3026172">_</span><span class="op" id="3026173">,</span>&nbsp;<span class="ident" id="3026175">name</span>&nbsp;<span class="op" id="3026180">:=</span>&nbsp;<span class="keyword" id="3026183">range</span>&nbsp;<span class="ident" id="3026189">v</span><span class="op" id="3026190">.</span><span class="ident" id="3026191">Names</span>&nbsp;<span class="op" id="3026197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026203">if</span>&nbsp;<span class="ident" id="3026206">f</span><span class="op" id="3026207">(</span><span class="ident" id="3026208">name</span><span class="op" id="3026212">.</span><span class="ident" id="3026213">Name</span><span class="op" id="3026217">)</span>&nbsp;<span class="op" id="3026219">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026226">return</span>&nbsp;<span class="builtintype" id="3026233">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026251">case</span>&nbsp;<span class="op" id="3026256">*</span><span class="ident" id="3026257">ast</span><span class="op" id="3026260">.</span><span class="ident" id="3026261">TypeSpec</span><span class="op" id="3026269">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026274">if</span>&nbsp;<span class="ident" id="3026277">f</span><span class="op" id="3026278">(</span><span class="ident" id="3026279">v</span><span class="op" id="3026280">.</span><span class="ident" id="3026281">Name</span><span class="op" id="3026285">.</span><span class="ident" id="3026286">Name</span><span class="op" id="3026290">)</span>&nbsp;<span class="op" id="3026292">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026298">return</span>&nbsp;<span class="builtintype" id="3026305">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026318">switch</span>&nbsp;<span class="ident" id="3026325">t</span>&nbsp;<span class="op" id="3026327">:=</span>&nbsp;<span class="ident" id="3026330">v</span><span class="op" id="3026331">.</span><span class="ident" id="3026332">Type</span><span class="op" id="3026336">.</span><span class="op" id="3026337">(</span><span class="keyword" id="3026338">type</span><span class="op" id="3026342">)</span>&nbsp;<span class="op" id="3026344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026349">case</span>&nbsp;<span class="op" id="3026354">*</span><span class="ident" id="3026355">ast</span><span class="op" id="3026358">.</span><span class="ident" id="3026359">StructType</span><span class="op" id="3026369">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026375">if</span>&nbsp;<span class="ident" id="3026378">matchFields</span><span class="op" id="3026389">(</span><span class="ident" id="3026390">t</span><span class="op" id="3026391">.</span><span class="ident" id="3026392">Fields</span><span class="op" id="3026398">,</span>&nbsp;<span class="ident" id="3026400">f</span><span class="op" id="3026401">)</span>&nbsp;<span class="op" id="3026403">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026410">return</span>&nbsp;<span class="builtintype" id="3026417">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026431">case</span>&nbsp;<span class="op" id="3026436">*</span><span class="ident" id="3026437">ast</span><span class="op" id="3026440">.</span><span class="ident" id="3026441">InterfaceType</span><span class="op" id="3026454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026460">if</span>&nbsp;<span class="ident" id="3026463">matchFields</span><span class="op" id="3026474">(</span><span class="ident" id="3026475">t</span><span class="op" id="3026476">.</span><span class="ident" id="3026477">Methods</span><span class="op" id="3026484">,</span>&nbsp;<span class="ident" id="3026486">f</span><span class="op" id="3026487">)</span>&nbsp;<span class="op" id="3026489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026496">return</span>&nbsp;<span class="builtintype" id="3026503">true</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026527">return</span>&nbsp;<span class="builtintype" id="3026534">false</span><br>
<span class="lineno">50</span><span class="op" id="3026540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3026543">func</span>&nbsp;<span class="ident" id="3026548">filterValues</span><span class="op" id="3026560">(</span><span class="ident" id="3026561">a</span>&nbsp;<span class="op" id="3026563">[</span><span class="op" id="3026564">]</span><span class="op" id="3026565">*</span><span class="ident" id="3026566">Value</span><span class="op" id="3026571">,</span>&nbsp;<span class="ident" id="3026573">f</span>&nbsp;<span class="ident" id="3026575">Filter</span><span class="op" id="3026581">)</span>&nbsp;<span class="op" id="3026583">[</span><span class="op" id="3026584">]</span><span class="op" id="3026585">*</span><span class="ident" id="3026586">Value</span>&nbsp;<span class="op" id="3026592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3026595">w</span>&nbsp;<span class="op" id="3026597">:=</span>&nbsp;<span class="num" id="3026600">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026603">for</span>&nbsp;<span class="ident" id="3026607">_</span><span class="op" id="3026608">,</span>&nbsp;<span class="ident" id="3026610">vd</span>&nbsp;<span class="op" id="3026613">:=</span>&nbsp;<span class="keyword" id="3026616">range</span>&nbsp;<span class="ident" id="3026622">a</span>&nbsp;<span class="op" id="3026624">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026628">if</span>&nbsp;<span class="ident" id="3026631">matchDecl</span><span class="op" id="3026640">(</span><span class="ident" id="3026641">vd</span><span class="op" id="3026643">.</span><span class="ident" id="3026644">Decl</span><span class="op" id="3026648">,</span>&nbsp;<span class="ident" id="3026650">f</span><span class="op" id="3026651">)</span>&nbsp;<span class="op" id="3026653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3026658">a</span><span class="op" id="3026659">[</span><span class="ident" id="3026660">w</span><span class="op" id="3026661">]</span>&nbsp;<span class="op" id="3026663">=</span>&nbsp;<span class="ident" id="3026665">vd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3026671">w</span><span class="op" id="3026672">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026680">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026683">return</span>&nbsp;<span class="ident" id="3026690">a</span><span class="op" id="3026691">[</span><span class="num" id="3026692">0</span><span class="op" id="3026693">:</span><span class="ident" id="3026694">w</span><span class="op" id="3026695">]</span><br>
<span class="lineno"></span><span class="op" id="3026697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3026700">func</span>&nbsp;<span class="ident" id="3026705">filterFuncs</span><span class="op" id="3026716">(</span><span class="ident" id="3026717">a</span>&nbsp;<span class="op" id="3026719">[</span><span class="op" id="3026720">]</span><span class="op" id="3026721">*</span><span class="ident" id="3026722">Func</span><span class="op" id="3026726">,</span>&nbsp;<span class="ident" id="3026728">f</span>&nbsp;<span class="ident" id="3026730">Filter</span><span class="op" id="3026736">)</span>&nbsp;<span class="op" id="3026738">[</span><span class="op" id="3026739">]</span><span class="op" id="3026740">*</span><span class="ident" id="3026741">Func</span>&nbsp;<span class="op" id="3026746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3026749">w</span>&nbsp;<span class="op" id="3026751">:=</span>&nbsp;<span class="num" id="3026754">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026757">for</span>&nbsp;<span class="ident" id="3026761">_</span><span class="op" id="3026762">,</span>&nbsp;<span class="ident" id="3026764">fd</span>&nbsp;<span class="op" id="3026767">:=</span>&nbsp;<span class="keyword" id="3026770">range</span>&nbsp;<span class="ident" id="3026776">a</span>&nbsp;<span class="op" id="3026778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026782">if</span>&nbsp;<span class="ident" id="3026785">f</span><span class="op" id="3026786">(</span><span class="ident" id="3026787">fd</span><span class="op" id="3026789">.</span><span class="ident" id="3026790">Name</span><span class="op" id="3026794">)</span>&nbsp;<span class="op" id="3026796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3026801">a</span><span class="op" id="3026802">[</span><span class="ident" id="3026803">w</span><span class="op" id="3026804">]</span>&nbsp;<span class="op" id="3026806">=</span>&nbsp;<span class="ident" id="3026808">fd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3026814">w</span><span class="op" id="3026815">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026820">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026826">return</span>&nbsp;<span class="ident" id="3026833">a</span><span class="op" id="3026834">[</span><span class="num" id="3026835">0</span><span class="op" id="3026836">:</span><span class="ident" id="3026837">w</span><span class="op" id="3026838">]</span><br>
<span class="lineno"></span><span class="op" id="3026840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3026843">func</span>&nbsp;<span class="ident" id="3026848">filterTypes</span><span class="op" id="3026859">(</span><span class="ident" id="3026860">a</span>&nbsp;<span class="op" id="3026862">[</span><span class="op" id="3026863">]</span><span class="op" id="3026864">*</span><span class="ident" id="3026865">Type</span><span class="op" id="3026869">,</span>&nbsp;<span class="ident" id="3026871">f</span>&nbsp;<span class="ident" id="3026873">Filter</span><span class="op" id="3026879">)</span>&nbsp;<span class="op" id="3026881">[</span><span class="op" id="3026882">]</span><span class="op" id="3026883">*</span><span class="ident" id="3026884">Type</span>&nbsp;<span class="op" id="3026889">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3026892">w</span>&nbsp;<span class="op" id="3026894">:=</span>&nbsp;<span class="num" id="3026897">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026900">for</span>&nbsp;<span class="ident" id="3026904">_</span><span class="op" id="3026905">,</span>&nbsp;<span class="ident" id="3026907">td</span>&nbsp;<span class="op" id="3026910">:=</span>&nbsp;<span class="keyword" id="3026913">range</span>&nbsp;<span class="ident" id="3026919">a</span>&nbsp;<span class="op" id="3026921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3026925">n</span>&nbsp;<span class="op" id="3026927">:=</span>&nbsp;<span class="num" id="3026930">0</span>&nbsp;<span class="comment" id="3026932">//&nbsp;number&nbsp;of&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3026955">if</span>&nbsp;<span class="ident" id="3026958">matchDecl</span><span class="op" id="3026967">(</span><span class="ident" id="3026968">td</span><span class="op" id="3026970">.</span><span class="ident" id="3026971">Decl</span><span class="op" id="3026975">,</span>&nbsp;<span class="ident" id="3026977">f</span><span class="op" id="3026978">)</span>&nbsp;<span class="op" id="3026980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3026985">n</span>&nbsp;<span class="op" id="3026987">=</span>&nbsp;<span class="num" id="3026989">1</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3026993">}</span>&nbsp;<span class="keyword" id="3026995">else</span>&nbsp;<span class="op" id="3027000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3027005">//&nbsp;type&nbsp;name&nbsp;doesn&#39;t&nbsp;match,&nbsp;but&nbsp;we&nbsp;may&nbsp;have&nbsp;matching&nbsp;consts,&nbsp;vars,&nbsp;factories&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027096">td</span><span class="op" id="3027098">.</span><span class="ident" id="3027099">Consts</span>&nbsp;<span class="op" id="3027106">=</span>&nbsp;<span class="ident" id="3027108">filterValues</span><span class="op" id="3027120">(</span><span class="ident" id="3027121">td</span><span class="op" id="3027123">.</span><span class="ident" id="3027124">Consts</span><span class="op" id="3027130">,</span>&nbsp;<span class="ident" id="3027132">f</span><span class="op" id="3027133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027138">td</span><span class="op" id="3027140">.</span><span class="ident" id="3027141">Vars</span>&nbsp;<span class="op" id="3027146">=</span>&nbsp;<span class="ident" id="3027148">filterValues</span><span class="op" id="3027160">(</span><span class="ident" id="3027161">td</span><span class="op" id="3027163">.</span><span class="ident" id="3027164">Vars</span><span class="op" id="3027168">,</span>&nbsp;<span class="ident" id="3027170">f</span><span class="op" id="3027171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027176">td</span><span class="op" id="3027178">.</span><span class="ident" id="3027179">Funcs</span>&nbsp;<span class="op" id="3027185">=</span>&nbsp;<span class="ident" id="3027187">filterFuncs</span><span class="op" id="3027198">(</span><span class="ident" id="3027199">td</span><span class="op" id="3027201">.</span><span class="ident" id="3027202">Funcs</span><span class="op" id="3027207">,</span>&nbsp;<span class="ident" id="3027209">f</span><span class="op" id="3027210">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027215">td</span><span class="op" id="3027217">.</span><span class="ident" id="3027218">Methods</span>&nbsp;<span class="op" id="3027226">=</span>&nbsp;<span class="ident" id="3027228">filterFuncs</span><span class="op" id="3027239">(</span><span class="ident" id="3027240">td</span><span class="op" id="3027242">.</span><span class="ident" id="3027243">Methods</span><span class="op" id="3027250">,</span>&nbsp;<span class="ident" id="3027252">f</span><span class="op" id="3027253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027258">n</span>&nbsp;<span class="op" id="3027260">+=</span>&nbsp;<span class="builtinfunc" id="3027263">len</span><span class="op" id="3027266">(</span><span class="ident" id="3027267">td</span><span class="op" id="3027269">.</span><span class="ident" id="3027270">Consts</span><span class="op" id="3027276">)</span>&nbsp;<span class="op" id="3027278">+</span>&nbsp;<span class="builtinfunc" id="3027280">len</span><span class="op" id="3027283">(</span><span class="ident" id="3027284">td</span><span class="op" id="3027286">.</span><span class="ident" id="3027287">Vars</span><span class="op" id="3027291">)</span>&nbsp;<span class="op" id="3027293">+</span>&nbsp;<span class="builtinfunc" id="3027295">len</span><span class="op" id="3027298">(</span><span class="ident" id="3027299">td</span><span class="op" id="3027301">.</span><span class="ident" id="3027302">Funcs</span><span class="op" id="3027307">)</span>&nbsp;<span class="op" id="3027309">+</span>&nbsp;<span class="builtinfunc" id="3027311">len</span><span class="op" id="3027314">(</span><span class="ident" id="3027315">td</span><span class="op" id="3027317">.</span><span class="ident" id="3027318">Methods</span><span class="op" id="3027325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3027329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3027333">if</span>&nbsp;<span class="ident" id="3027336">n</span>&nbsp;<span class="op" id="3027338">&gt;</span>&nbsp;<span class="num" id="3027340">0</span>&nbsp;<span class="op" id="3027342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027347">a</span><span class="op" id="3027348">[</span><span class="ident" id="3027349">w</span><span class="op" id="3027350">]</span>&nbsp;<span class="op" id="3027352">=</span>&nbsp;<span class="ident" id="3027354">td</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027360">w</span><span class="op" id="3027361">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3027366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3027369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3027372">return</span>&nbsp;<span class="ident" id="3027379">a</span><span class="op" id="3027380">[</span><span class="num" id="3027381">0</span><span class="op" id="3027382">:</span><span class="ident" id="3027383">w</span><span class="op" id="3027384">]</span><br>
<span class="lineno"></span><span class="op" id="3027386">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="3027389">//&nbsp;Filter&nbsp;eliminates&nbsp;documentation&nbsp;for&nbsp;names&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="3027472">//&nbsp;TODO(gri):&nbsp;Recognize&nbsp;&#34;Type.Method&#34;&nbsp;as&nbsp;a&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3027521">//</span><br>
<span class="lineno"></span><span class="keyword" id="3027524">func</span>&nbsp;<span class="op" id="3027529">(</span><span class="ident" id="3027530">p</span>&nbsp;<span class="op" id="3027532">*</span><span class="ident" id="3027533">Package</span><span class="op" id="3027540">)</span>&nbsp;<span class="ident" id="3027542">Filter</span><span class="op" id="3027548">(</span><span class="ident" id="3027549">f</span>&nbsp;<span class="ident" id="3027551">Filter</span><span class="op" id="3027557">)</span>&nbsp;<span class="op" id="3027559">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027562">p</span><span class="op" id="3027563">.</span><span class="ident" id="3027564">Consts</span>&nbsp;<span class="op" id="3027571">=</span>&nbsp;<span class="ident" id="3027573">filterValues</span><span class="op" id="3027585">(</span><span class="ident" id="3027586">p</span><span class="op" id="3027587">.</span><span class="ident" id="3027588">Consts</span><span class="op" id="3027594">,</span>&nbsp;<span class="ident" id="3027596">f</span><span class="op" id="3027597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027600">p</span><span class="op" id="3027601">.</span><span class="ident" id="3027602">Vars</span>&nbsp;<span class="op" id="3027607">=</span>&nbsp;<span class="ident" id="3027609">filterValues</span><span class="op" id="3027621">(</span><span class="ident" id="3027622">p</span><span class="op" id="3027623">.</span><span class="ident" id="3027624">Vars</span><span class="op" id="3027628">,</span>&nbsp;<span class="ident" id="3027630">f</span><span class="op" id="3027631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027634">p</span><span class="op" id="3027635">.</span><span class="ident" id="3027636">Types</span>&nbsp;<span class="op" id="3027642">=</span>&nbsp;<span class="ident" id="3027644">filterTypes</span><span class="op" id="3027655">(</span><span class="ident" id="3027656">p</span><span class="op" id="3027657">.</span><span class="ident" id="3027658">Types</span><span class="op" id="3027663">,</span>&nbsp;<span class="ident" id="3027665">f</span><span class="op" id="3027666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027669">p</span><span class="op" id="3027670">.</span><span class="ident" id="3027671">Funcs</span>&nbsp;<span class="op" id="3027677">=</span>&nbsp;<span class="ident" id="3027679">filterFuncs</span><span class="op" id="3027690">(</span><span class="ident" id="3027691">p</span><span class="op" id="3027692">.</span><span class="ident" id="3027693">Funcs</span><span class="op" id="3027698">,</span>&nbsp;<span class="ident" id="3027700">f</span><span class="op" id="3027701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3027704">p</span><span class="op" id="3027705">.</span><span class="ident" id="3027706">Doc</span>&nbsp;<span class="op" id="3027710">=</span>&nbsp;<span class="string" id="3027712">&#34;&#34;</span>&nbsp;<span class="comment" id="3027715">//&nbsp;don&#39;t&nbsp;show&nbsp;top-level&nbsp;package&nbsp;doc</span><br>
<span class="lineno">105</span><span class="op" id="3027751">}</span>
</div>
</body>
</html>
