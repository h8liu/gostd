<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html" class="current">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1466234">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1466289">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1466343">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1466394">package</span>&nbsp;<span class="ident" id="1466402">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1466411">func</span>&nbsp;<span class="ident" id="1466416">complex128div</span><span class="op" id="1466429">(</span><span class="ident" id="1466430">n</span>&nbsp;<span class="builtintype" id="1466432">complex128</span><span class="op" id="1466442">,</span>&nbsp;<span class="ident" id="1466444">d</span>&nbsp;<span class="builtintype" id="1466446">complex128</span><span class="op" id="1466456">)</span>&nbsp;<span class="builtintype" id="1466458">complex128</span>&nbsp;<span class="op" id="1466469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1466472">//&nbsp;Special&nbsp;cases&nbsp;as&nbsp;in&nbsp;C99.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1466501">ninf</span>&nbsp;<span class="op" id="1466506">:=</span>&nbsp;<span class="builtinfunc" id="1466509">real</span><span class="op" id="1466513">(</span><span class="ident" id="1466514">n</span><span class="op" id="1466515">)</span>&nbsp;<span class="op" id="1466517">==</span>&nbsp;<span class="ident" id="1466520">posinf</span>&nbsp;<span class="op" id="1466527">||</span>&nbsp;<span class="builtinfunc" id="1466530">real</span><span class="op" id="1466534">(</span><span class="ident" id="1466535">n</span><span class="op" id="1466536">)</span>&nbsp;<span class="op" id="1466538">==</span>&nbsp;<span class="ident" id="1466541">neginf</span>&nbsp;<span class="op" id="1466548">||</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1466553">imag</span><span class="op" id="1466557">(</span><span class="ident" id="1466558">n</span><span class="op" id="1466559">)</span>&nbsp;<span class="op" id="1466561">==</span>&nbsp;<span class="ident" id="1466564">posinf</span>&nbsp;<span class="op" id="1466571">||</span>&nbsp;<span class="builtinfunc" id="1466574">imag</span><span class="op" id="1466578">(</span><span class="ident" id="1466579">n</span><span class="op" id="1466580">)</span>&nbsp;<span class="op" id="1466582">==</span>&nbsp;<span class="ident" id="1466585">neginf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1466593">dinf</span>&nbsp;<span class="op" id="1466598">:=</span>&nbsp;<span class="builtinfunc" id="1466601">real</span><span class="op" id="1466605">(</span><span class="ident" id="1466606">d</span><span class="op" id="1466607">)</span>&nbsp;<span class="op" id="1466609">==</span>&nbsp;<span class="ident" id="1466612">posinf</span>&nbsp;<span class="op" id="1466619">||</span>&nbsp;<span class="builtinfunc" id="1466622">real</span><span class="op" id="1466626">(</span><span class="ident" id="1466627">d</span><span class="op" id="1466628">)</span>&nbsp;<span class="op" id="1466630">==</span>&nbsp;<span class="ident" id="1466633">neginf</span>&nbsp;<span class="op" id="1466640">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1466645">imag</span><span class="op" id="1466649">(</span><span class="ident" id="1466650">d</span><span class="op" id="1466651">)</span>&nbsp;<span class="op" id="1466653">==</span>&nbsp;<span class="ident" id="1466656">posinf</span>&nbsp;<span class="op" id="1466663">||</span>&nbsp;<span class="builtinfunc" id="1466666">imag</span><span class="op" id="1466670">(</span><span class="ident" id="1466671">d</span><span class="op" id="1466672">)</span>&nbsp;<span class="op" id="1466674">==</span>&nbsp;<span class="ident" id="1466677">neginf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1466686">nnan</span>&nbsp;<span class="op" id="1466691">:=</span>&nbsp;<span class="op" id="1466694">!</span><span class="ident" id="1466695">ninf</span>&nbsp;<span class="op" id="1466700">&amp;&amp;</span>&nbsp;<span class="op" id="1466703">(</span><span class="builtinfunc" id="1466704">real</span><span class="op" id="1466708">(</span><span class="ident" id="1466709">n</span><span class="op" id="1466710">)</span>&nbsp;<span class="op" id="1466712">!=</span>&nbsp;<span class="builtinfunc" id="1466715">real</span><span class="op" id="1466719">(</span><span class="ident" id="1466720">n</span><span class="op" id="1466721">)</span>&nbsp;<span class="op" id="1466723">||</span>&nbsp;<span class="builtinfunc" id="1466726">imag</span><span class="op" id="1466730">(</span><span class="ident" id="1466731">n</span><span class="op" id="1466732">)</span>&nbsp;<span class="op" id="1466734">!=</span>&nbsp;<span class="builtinfunc" id="1466737">imag</span><span class="op" id="1466741">(</span><span class="ident" id="1466742">n</span><span class="op" id="1466743">)</span><span class="op" id="1466744">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1466747">dnan</span>&nbsp;<span class="op" id="1466752">:=</span>&nbsp;<span class="op" id="1466755">!</span><span class="ident" id="1466756">dinf</span>&nbsp;<span class="op" id="1466761">&amp;&amp;</span>&nbsp;<span class="op" id="1466764">(</span><span class="builtinfunc" id="1466765">real</span><span class="op" id="1466769">(</span><span class="ident" id="1466770">d</span><span class="op" id="1466771">)</span>&nbsp;<span class="op" id="1466773">!=</span>&nbsp;<span class="builtinfunc" id="1466776">real</span><span class="op" id="1466780">(</span><span class="ident" id="1466781">d</span><span class="op" id="1466782">)</span>&nbsp;<span class="op" id="1466784">||</span>&nbsp;<span class="builtinfunc" id="1466787">imag</span><span class="op" id="1466791">(</span><span class="ident" id="1466792">d</span><span class="op" id="1466793">)</span>&nbsp;<span class="op" id="1466795">!=</span>&nbsp;<span class="builtinfunc" id="1466798">imag</span><span class="op" id="1466802">(</span><span class="ident" id="1466803">d</span><span class="op" id="1466804">)</span><span class="op" id="1466805">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1466809">switch</span>&nbsp;<span class="op" id="1466816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1466819">case</span>&nbsp;<span class="ident" id="1466824">nnan</span>&nbsp;<span class="op" id="1466829">||</span>&nbsp;<span class="ident" id="1466832">dnan</span><span class="op" id="1466836">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1466840">return</span>&nbsp;<span class="builtinfunc" id="1466847">complex</span><span class="op" id="1466854">(</span><span class="ident" id="1466855">nan</span><span class="op" id="1466858">,</span>&nbsp;<span class="ident" id="1466860">nan</span><span class="op" id="1466863">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1466866">case</span>&nbsp;<span class="ident" id="1466871">ninf</span>&nbsp;<span class="op" id="1466876">&amp;&amp;</span>&nbsp;<span class="op" id="1466879">!</span><span class="ident" id="1466880">dinf</span><span class="op" id="1466884">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1466888">return</span>&nbsp;<span class="builtinfunc" id="1466895">complex</span><span class="op" id="1466902">(</span><span class="ident" id="1466903">posinf</span><span class="op" id="1466909">,</span>&nbsp;<span class="ident" id="1466911">posinf</span><span class="op" id="1466917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1466920">case</span>&nbsp;<span class="op" id="1466925">!</span><span class="ident" id="1466926">ninf</span>&nbsp;<span class="op" id="1466931">&amp;&amp;</span>&nbsp;<span class="ident" id="1466934">dinf</span><span class="op" id="1466938">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1466942">return</span>&nbsp;<span class="builtinfunc" id="1466949">complex</span><span class="op" id="1466956">(</span><span class="num" id="1466957">0</span><span class="op" id="1466958">,</span>&nbsp;<span class="num" id="1466960">0</span><span class="op" id="1466961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1466964">case</span>&nbsp;<span class="builtinfunc" id="1466969">real</span><span class="op" id="1466973">(</span><span class="ident" id="1466974">d</span><span class="op" id="1466975">)</span>&nbsp;<span class="op" id="1466977">==</span>&nbsp;<span class="num" id="1466980">0</span>&nbsp;<span class="op" id="1466982">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1466985">imag</span><span class="op" id="1466989">(</span><span class="ident" id="1466990">d</span><span class="op" id="1466991">)</span>&nbsp;<span class="op" id="1466993">==</span>&nbsp;<span class="num" id="1466996">0</span><span class="op" id="1466997">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1467001">if</span>&nbsp;<span class="builtinfunc" id="1467004">real</span><span class="op" id="1467008">(</span><span class="ident" id="1467009">n</span><span class="op" id="1467010">)</span>&nbsp;<span class="op" id="1467012">==</span>&nbsp;<span class="num" id="1467015">0</span>&nbsp;<span class="op" id="1467017">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1467020">imag</span><span class="op" id="1467024">(</span><span class="ident" id="1467025">n</span><span class="op" id="1467026">)</span>&nbsp;<span class="op" id="1467028">==</span>&nbsp;<span class="num" id="1467031">0</span>&nbsp;<span class="op" id="1467033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1467038">return</span>&nbsp;<span class="builtinfunc" id="1467045">complex</span><span class="op" id="1467052">(</span><span class="ident" id="1467053">nan</span><span class="op" id="1467056">,</span>&nbsp;<span class="ident" id="1467058">nan</span><span class="op" id="1467061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1467065">}</span>&nbsp;<span class="keyword" id="1467067">else</span>&nbsp;<span class="op" id="1467072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1467077">return</span>&nbsp;<span class="builtinfunc" id="1467084">complex</span><span class="op" id="1467091">(</span><span class="ident" id="1467092">posinf</span><span class="op" id="1467098">,</span>&nbsp;<span class="ident" id="1467100">posinf</span><span class="op" id="1467106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1467110">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1467113">default</span><span class="op" id="1467120">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1467124">//&nbsp;Standard&nbsp;complex&nbsp;arithmetic,&nbsp;factored&nbsp;to&nbsp;avoid&nbsp;unnecessary&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1467198">a</span>&nbsp;<span class="op" id="1467200">:=</span>&nbsp;<span class="builtinfunc" id="1467203">real</span><span class="op" id="1467207">(</span><span class="ident" id="1467208">d</span><span class="op" id="1467209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1467213">if</span>&nbsp;<span class="ident" id="1467216">a</span>&nbsp;<span class="op" id="1467218">&lt;</span>&nbsp;<span class="num" id="1467220">0</span>&nbsp;<span class="op" id="1467222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1467227">a</span>&nbsp;<span class="op" id="1467229">=</span>&nbsp;<span class="op" id="1467231">-</span><span class="ident" id="1467232">a</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1467236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1467240">b</span>&nbsp;<span class="op" id="1467242">:=</span>&nbsp;<span class="builtinfunc" id="1467245">imag</span><span class="op" id="1467249">(</span><span class="ident" id="1467250">d</span><span class="op" id="1467251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1467255">if</span>&nbsp;<span class="ident" id="1467258">b</span>&nbsp;<span class="op" id="1467260">&lt;</span>&nbsp;<span class="num" id="1467262">0</span>&nbsp;<span class="op" id="1467264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1467269">b</span>&nbsp;<span class="op" id="1467271">=</span>&nbsp;<span class="op" id="1467273">-</span><span class="ident" id="1467274">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1467278">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1467282">if</span>&nbsp;<span class="ident" id="1467285">a</span>&nbsp;<span class="op" id="1467287">&lt;=</span>&nbsp;<span class="ident" id="1467290">b</span>&nbsp;<span class="op" id="1467292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1467297">ratio</span>&nbsp;<span class="op" id="1467303">:=</span>&nbsp;<span class="builtinfunc" id="1467306">real</span><span class="op" id="1467310">(</span><span class="ident" id="1467311">d</span><span class="op" id="1467312">)</span>&nbsp;<span class="op" id="1467314">/</span>&nbsp;<span class="builtinfunc" id="1467316">imag</span><span class="op" id="1467320">(</span><span class="ident" id="1467321">d</span><span class="op" id="1467322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1467327">denom</span>&nbsp;<span class="op" id="1467333">:=</span>&nbsp;<span class="builtinfunc" id="1467336">real</span><span class="op" id="1467340">(</span><span class="ident" id="1467341">d</span><span class="op" id="1467342">)</span><span class="op" id="1467343">*</span><span class="ident" id="1467344">ratio</span>&nbsp;<span class="op" id="1467350">+</span>&nbsp;<span class="builtinfunc" id="1467352">imag</span><span class="op" id="1467356">(</span><span class="ident" id="1467357">d</span><span class="op" id="1467358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1467363">return</span>&nbsp;<span class="builtinfunc" id="1467370">complex</span><span class="op" id="1467377">(</span><span class="op" id="1467378">(</span><span class="builtinfunc" id="1467379">real</span><span class="op" id="1467383">(</span><span class="ident" id="1467384">n</span><span class="op" id="1467385">)</span><span class="op" id="1467386">*</span><span class="ident" id="1467387">ratio</span><span class="op" id="1467392">+</span><span class="builtinfunc" id="1467393">imag</span><span class="op" id="1467397">(</span><span class="ident" id="1467398">n</span><span class="op" id="1467399">)</span><span class="op" id="1467400">)</span><span class="op" id="1467401">/</span><span class="ident" id="1467402">denom</span><span class="op" id="1467407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1467413">(</span><span class="builtinfunc" id="1467414">imag</span><span class="op" id="1467418">(</span><span class="ident" id="1467419">n</span><span class="op" id="1467420">)</span><span class="op" id="1467421">*</span><span class="ident" id="1467422">ratio</span><span class="op" id="1467427">-</span><span class="builtinfunc" id="1467428">real</span><span class="op" id="1467432">(</span><span class="ident" id="1467433">n</span><span class="op" id="1467434">)</span><span class="op" id="1467435">)</span><span class="op" id="1467436">/</span><span class="ident" id="1467437">denom</span><span class="op" id="1467442">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1467446">}</span>&nbsp;<span class="keyword" id="1467448">else</span>&nbsp;<span class="op" id="1467453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1467458">ratio</span>&nbsp;<span class="op" id="1467464">:=</span>&nbsp;<span class="builtinfunc" id="1467467">imag</span><span class="op" id="1467471">(</span><span class="ident" id="1467472">d</span><span class="op" id="1467473">)</span>&nbsp;<span class="op" id="1467475">/</span>&nbsp;<span class="builtinfunc" id="1467477">real</span><span class="op" id="1467481">(</span><span class="ident" id="1467482">d</span><span class="op" id="1467483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1467488">denom</span>&nbsp;<span class="op" id="1467494">:=</span>&nbsp;<span class="builtinfunc" id="1467497">imag</span><span class="op" id="1467501">(</span><span class="ident" id="1467502">d</span><span class="op" id="1467503">)</span><span class="op" id="1467504">*</span><span class="ident" id="1467505">ratio</span>&nbsp;<span class="op" id="1467511">+</span>&nbsp;<span class="builtinfunc" id="1467513">real</span><span class="op" id="1467517">(</span><span class="ident" id="1467518">d</span><span class="op" id="1467519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1467524">return</span>&nbsp;<span class="builtinfunc" id="1467531">complex</span><span class="op" id="1467538">(</span><span class="op" id="1467539">(</span><span class="builtinfunc" id="1467540">imag</span><span class="op" id="1467544">(</span><span class="ident" id="1467545">n</span><span class="op" id="1467546">)</span><span class="op" id="1467547">*</span><span class="ident" id="1467548">ratio</span><span class="op" id="1467553">+</span><span class="builtinfunc" id="1467554">real</span><span class="op" id="1467558">(</span><span class="ident" id="1467559">n</span><span class="op" id="1467560">)</span><span class="op" id="1467561">)</span><span class="op" id="1467562">/</span><span class="ident" id="1467563">denom</span><span class="op" id="1467568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1467574">(</span><span class="builtinfunc" id="1467575">imag</span><span class="op" id="1467579">(</span><span class="ident" id="1467580">n</span><span class="op" id="1467581">)</span><span class="op" id="1467582">-</span><span class="builtinfunc" id="1467583">real</span><span class="op" id="1467587">(</span><span class="ident" id="1467588">n</span><span class="op" id="1467589">)</span><span class="op" id="1467590">*</span><span class="ident" id="1467591">ratio</span><span class="op" id="1467596">)</span><span class="op" id="1467597">/</span><span class="ident" id="1467598">denom</span><span class="op" id="1467603">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1467607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1467610">}</span><br>
<span class="lineno"></span><span class="op" id="1467612">}</span>
</div>
</body>
</html>
