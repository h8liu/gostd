<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7526923">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7526978">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7527032">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7527083">package</span>&nbsp;<span class="ident" id="7527091">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7527100">import</span>&nbsp;<span class="op" id="7527107">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7527110">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7527119">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7527126">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7527132">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7527143">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7527154">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7527169">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="7527172">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="7527247">type</span>&nbsp;<span class="ident" id="7527252">StringReader</span>&nbsp;<span class="keyword" id="7527265">struct</span>&nbsp;<span class="op" id="7527272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527275">data</span>&nbsp;<span class="op" id="7527280">[</span><span class="op" id="7527281">]</span><span class="builtintype" id="7527282">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527290">step</span>&nbsp;<span class="builtintype" id="7527295">int</span><br>
<span class="lineno">20</span><span class="op" id="7527299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7527302">func</span>&nbsp;<span class="op" id="7527307">(</span><span class="ident" id="7527308">r</span>&nbsp;<span class="op" id="7527310">*</span><span class="ident" id="7527311">StringReader</span><span class="op" id="7527323">)</span>&nbsp;<span class="ident" id="7527325">Read</span><span class="op" id="7527329">(</span><span class="ident" id="7527330">p</span>&nbsp;<span class="op" id="7527332">[</span><span class="op" id="7527333">]</span><span class="builtintype" id="7527334">byte</span><span class="op" id="7527338">)</span>&nbsp;<span class="op" id="7527340">(</span><span class="ident" id="7527341">n</span>&nbsp;<span class="builtintype" id="7527343">int</span><span class="op" id="7527346">,</span>&nbsp;<span class="ident" id="7527348">err</span>&nbsp;<span class="builtintype" id="7527352">error</span><span class="op" id="7527357">)</span>&nbsp;<span class="op" id="7527359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7527362">if</span>&nbsp;<span class="ident" id="7527365">r</span><span class="op" id="7527366">.</span><span class="ident" id="7527367">step</span>&nbsp;<span class="op" id="7527372">&lt;</span>&nbsp;<span class="builtinfunc" id="7527374">len</span><span class="op" id="7527377">(</span><span class="ident" id="7527378">r</span><span class="op" id="7527379">.</span><span class="ident" id="7527380">data</span><span class="op" id="7527384">)</span>&nbsp;<span class="op" id="7527386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527390">s</span>&nbsp;<span class="op" id="7527392">:=</span>&nbsp;<span class="ident" id="7527395">r</span><span class="op" id="7527396">.</span><span class="ident" id="7527397">data</span><span class="op" id="7527401">[</span><span class="ident" id="7527402">r</span><span class="op" id="7527403">.</span><span class="ident" id="7527404">step</span><span class="op" id="7527408">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527412">n</span>&nbsp;<span class="op" id="7527414">=</span>&nbsp;<span class="builtinfunc" id="7527416">copy</span><span class="op" id="7527420">(</span><span class="ident" id="7527421">p</span><span class="op" id="7527422">,</span>&nbsp;<span class="ident" id="7527424">s</span><span class="op" id="7527425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527429">r</span><span class="op" id="7527430">.</span><span class="ident" id="7527431">step</span><span class="op" id="7527435">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527439">}</span>&nbsp;<span class="keyword" id="7527441">else</span>&nbsp;<span class="op" id="7527446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527450">err</span>&nbsp;<span class="op" id="7527454">=</span>&nbsp;<span class="ident" id="7527456">io</span><span class="op" id="7527458">.</span><span class="ident" id="7527459">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527464">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7527467">return</span><br>
<span class="lineno"></span><span class="op" id="7527474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7527477">func</span>&nbsp;<span class="ident" id="7527482">readRuneSegments</span><span class="op" id="7527498">(</span><span class="ident" id="7527499">t</span>&nbsp;<span class="op" id="7527501">*</span><span class="ident" id="7527502">testing</span><span class="op" id="7527509">.</span><span class="ident" id="7527510">T</span><span class="op" id="7527511">,</span>&nbsp;<span class="ident" id="7527513">segments</span>&nbsp;<span class="op" id="7527522">[</span><span class="op" id="7527523">]</span><span class="builtintype" id="7527524">string</span><span class="op" id="7527530">)</span>&nbsp;<span class="op" id="7527532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527535">got</span>&nbsp;<span class="op" id="7527539">:=</span>&nbsp;<span class="string" id="7527542">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527546">want</span>&nbsp;<span class="op" id="7527551">:=</span>&nbsp;<span class="ident" id="7527554">strings</span><span class="op" id="7527561">.</span><span class="ident" id="7527562">Join</span><span class="op" id="7527566">(</span><span class="ident" id="7527567">segments</span><span class="op" id="7527575">,</span>&nbsp;<span class="string" id="7527577">&#34;&#34;</span><span class="op" id="7527579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527582">s</span>&nbsp;<span class="op" id="7527584">:=</span>&nbsp;<span class="builtinfunc" id="7527587">new</span><span class="op" id="7527590">(</span><span class="ident" id="7527591">Scanner</span><span class="op" id="7527598">)</span><span class="op" id="7527599">.</span><span class="ident" id="7527600">Init</span><span class="op" id="7527604">(</span><span class="op" id="7527605">&amp;</span><span class="ident" id="7527606">StringReader</span><span class="op" id="7527618">{</span><span class="ident" id="7527619">data</span><span class="op" id="7527623">:</span>&nbsp;<span class="ident" id="7527625">segments</span><span class="op" id="7527633">}</span><span class="op" id="7527634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7527637">for</span>&nbsp;<span class="op" id="7527641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527645">ch</span>&nbsp;<span class="op" id="7527648">:=</span>&nbsp;<span class="ident" id="7527651">s</span><span class="op" id="7527652">.</span><span class="ident" id="7527653">Next</span><span class="op" id="7527657">(</span><span class="op" id="7527658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7527662">if</span>&nbsp;<span class="ident" id="7527665">ch</span>&nbsp;<span class="op" id="7527668">==</span>&nbsp;<span class="ident" id="7527671">EOF</span>&nbsp;<span class="op" id="7527675">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7527680">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527692">got</span>&nbsp;<span class="op" id="7527696">+=</span>&nbsp;<span class="builtintype" id="7527699">string</span><span class="op" id="7527705">(</span><span class="ident" id="7527706">ch</span><span class="op" id="7527708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7527714">if</span>&nbsp;<span class="ident" id="7527717">got</span>&nbsp;<span class="op" id="7527721">!=</span>&nbsp;<span class="ident" id="7527724">want</span>&nbsp;<span class="op" id="7527729">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7527733">t</span><span class="op" id="7527734">.</span><span class="ident" id="7527735">Errorf</span><span class="op" id="7527741">(</span><span class="string" id="7527742">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="7527770">,</span>&nbsp;<span class="ident" id="7527772">segments</span><span class="op" id="7527780">,</span>&nbsp;<span class="ident" id="7527782">got</span><span class="op" id="7527785">,</span>&nbsp;<span class="ident" id="7527787">want</span><span class="op" id="7527791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527794">}</span><br>
<span class="lineno"></span><span class="op" id="7527796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7527799">var</span>&nbsp;<span class="ident" id="7527803">segmentList</span>&nbsp;<span class="op" id="7527815">=</span>&nbsp;<span class="op" id="7527817">[</span><span class="op" id="7527818">]</span><span class="op" id="7527819">[</span><span class="op" id="7527820">]</span><span class="builtintype" id="7527821">string</span><span class="op" id="7527827">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527830">{</span><span class="op" id="7527831">}</span><span class="op" id="7527832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527835">{</span><span class="string" id="7527836">&#34;&#34;</span><span class="op" id="7527838">}</span><span class="op" id="7527839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527842">{</span><span class="string" id="7527843">&#34;日&#34;</span><span class="op" id="7527848">,</span>&nbsp;<span class="string" id="7527850">&#34;本語&#34;</span><span class="op" id="7527858">}</span><span class="op" id="7527859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527862">{</span><span class="string" id="7527863">&#34;\u65e5&#34;</span><span class="op" id="7527871">,</span>&nbsp;<span class="string" id="7527873">&#34;\u672c&#34;</span><span class="op" id="7527881">,</span>&nbsp;<span class="string" id="7527883">&#34;\u8a9e&#34;</span><span class="op" id="7527891">}</span><span class="op" id="7527892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527895">{</span><span class="string" id="7527896">&#34;\U000065e5&#34;</span><span class="op" id="7527908">,</span>&nbsp;<span class="string" id="7527910">&#34;&nbsp;&#34;</span><span class="op" id="7527913">,</span>&nbsp;<span class="string" id="7527915">&#34;\U0000672c&#34;</span><span class="op" id="7527927">,</span>&nbsp;<span class="string" id="7527929">&#34;\U00008a9e&#34;</span><span class="op" id="7527941">}</span><span class="op" id="7527942">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527945">{</span><span class="string" id="7527946">&#34;\xe6&#34;</span><span class="op" id="7527952">,</span>&nbsp;<span class="string" id="7527954">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="7527968">,</span>&nbsp;<span class="string" id="7527970">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="7527992">}</span><span class="op" id="7527993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7527996">{</span><span class="string" id="7527997">&#34;Hello&#34;</span><span class="op" id="7528004">,</span>&nbsp;<span class="string" id="7528006">&#34;,&nbsp;&#34;</span><span class="op" id="7528010">,</span>&nbsp;<span class="string" id="7528012">&#34;World&#34;</span><span class="op" id="7528019">,</span>&nbsp;<span class="string" id="7528021">&#34;!&#34;</span><span class="op" id="7528024">}</span><span class="op" id="7528025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528028">{</span><span class="string" id="7528029">&#34;Hello&#34;</span><span class="op" id="7528036">,</span>&nbsp;<span class="string" id="7528038">&#34;,&nbsp;&#34;</span><span class="op" id="7528042">,</span>&nbsp;<span class="string" id="7528044">&#34;&#34;</span><span class="op" id="7528046">,</span>&nbsp;<span class="string" id="7528048">&#34;World&#34;</span><span class="op" id="7528055">,</span>&nbsp;<span class="string" id="7528057">&#34;!&#34;</span><span class="op" id="7528060">}</span><span class="op" id="7528061">,</span><br>
<span class="lineno"></span><span class="op" id="7528063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7528066">func</span>&nbsp;<span class="ident" id="7528071">TestNext</span><span class="op" id="7528079">(</span><span class="ident" id="7528080">t</span>&nbsp;<span class="op" id="7528082">*</span><span class="ident" id="7528083">testing</span><span class="op" id="7528090">.</span><span class="ident" id="7528091">T</span><span class="op" id="7528092">)</span>&nbsp;<span class="op" id="7528094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7528097">for</span>&nbsp;<span class="ident" id="7528101">_</span><span class="op" id="7528102">,</span>&nbsp;<span class="ident" id="7528104">s</span>&nbsp;<span class="op" id="7528106">:=</span>&nbsp;<span class="keyword" id="7528109">range</span>&nbsp;<span class="ident" id="7528115">segmentList</span>&nbsp;<span class="op" id="7528127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7528131">readRuneSegments</span><span class="op" id="7528147">(</span><span class="ident" id="7528148">t</span><span class="op" id="7528149">,</span>&nbsp;<span class="ident" id="7528151">s</span><span class="op" id="7528152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528155">}</span><br>
<span class="lineno"></span><span class="op" id="7528157">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7528160">type</span>&nbsp;<span class="ident" id="7528165">token</span>&nbsp;<span class="keyword" id="7528171">struct</span>&nbsp;<span class="op" id="7528178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7528181">tok</span>&nbsp;&nbsp;<span class="builtintype" id="7528186">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7528192">text</span>&nbsp;<span class="builtintype" id="7528197">string</span><br>
<span class="lineno"></span><span class="op" id="7528204">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7528207">var</span>&nbsp;<span class="ident" id="7528211">f100</span>&nbsp;<span class="op" id="7528216">=</span>&nbsp;<span class="string" id="7528218">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7528322">var</span>&nbsp;<span class="ident" id="7528326">tokenList</span>&nbsp;<span class="op" id="7528336">=</span>&nbsp;<span class="op" id="7528338">[</span><span class="op" id="7528339">]</span><span class="ident" id="7528340">token</span><span class="op" id="7528345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528348">{</span><span class="ident" id="7528349">Comment</span><span class="op" id="7528356">,</span>&nbsp;<span class="string" id="7528358">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="7528376">}</span><span class="op" id="7528377">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528380">{</span><span class="ident" id="7528381">Comment</span><span class="op" id="7528388">,</span>&nbsp;<span class="string" id="7528390">&#34;//&#34;</span><span class="op" id="7528394">}</span><span class="op" id="7528395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528398">{</span><span class="ident" id="7528399">Comment</span><span class="op" id="7528406">,</span>&nbsp;<span class="string" id="7528408">&#34;////&#34;</span><span class="op" id="7528414">}</span><span class="op" id="7528415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528418">{</span><span class="ident" id="7528419">Comment</span><span class="op" id="7528426">,</span>&nbsp;<span class="string" id="7528428">&#34;//&nbsp;comment&#34;</span><span class="op" id="7528440">}</span><span class="op" id="7528441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528444">{</span><span class="ident" id="7528445">Comment</span><span class="op" id="7528452">,</span>&nbsp;<span class="string" id="7528454">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7528472">}</span><span class="op" id="7528473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528476">{</span><span class="ident" id="7528477">Comment</span><span class="op" id="7528484">,</span>&nbsp;<span class="string" id="7528486">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="7528504">}</span><span class="op" id="7528505">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528508">{</span><span class="ident" id="7528509">Comment</span><span class="op" id="7528516">,</span>&nbsp;<span class="string" id="7528518">&#34;//&#34;</span>&nbsp;<span class="op" id="7528523">+</span>&nbsp;<span class="ident" id="7528525">f100</span><span class="op" id="7528529">}</span><span class="op" id="7528530">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528534">{</span><span class="ident" id="7528535">Comment</span><span class="op" id="7528542">,</span>&nbsp;<span class="string" id="7528544">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="7528565">}</span><span class="op" id="7528566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528569">{</span><span class="ident" id="7528570">Comment</span><span class="op" id="7528577">,</span>&nbsp;<span class="string" id="7528579">&#34;/**/&#34;</span><span class="op" id="7528585">}</span><span class="op" id="7528586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528589">{</span><span class="ident" id="7528590">Comment</span><span class="op" id="7528597">,</span>&nbsp;<span class="string" id="7528599">&#34;/***/&#34;</span><span class="op" id="7528606">}</span><span class="op" id="7528607">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528610">{</span><span class="ident" id="7528611">Comment</span><span class="op" id="7528618">,</span>&nbsp;<span class="string" id="7528620">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7528635">}</span><span class="op" id="7528636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528639">{</span><span class="ident" id="7528640">Comment</span><span class="op" id="7528647">,</span>&nbsp;<span class="string" id="7528649">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7528667">}</span><span class="op" id="7528668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528671">{</span><span class="ident" id="7528672">Comment</span><span class="op" id="7528679">,</span>&nbsp;<span class="string" id="7528681">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7528699">}</span><span class="op" id="7528700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528703">{</span><span class="ident" id="7528704">Comment</span><span class="op" id="7528711">,</span>&nbsp;<span class="string" id="7528713">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="7528731">}</span><span class="op" id="7528732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528735">{</span><span class="ident" id="7528736">Comment</span><span class="op" id="7528743">,</span>&nbsp;<span class="string" id="7528745">&#34;/*&#34;</span>&nbsp;<span class="op" id="7528750">+</span>&nbsp;<span class="ident" id="7528752">f100</span>&nbsp;<span class="op" id="7528757">+</span>&nbsp;<span class="string" id="7528759">&#34;*/&#34;</span><span class="op" id="7528763">}</span><span class="op" id="7528764">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528768">{</span><span class="ident" id="7528769">Comment</span><span class="op" id="7528776">,</span>&nbsp;<span class="string" id="7528778">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="7528794">}</span><span class="op" id="7528795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528798">{</span><span class="ident" id="7528799">Ident</span><span class="op" id="7528804">,</span>&nbsp;<span class="string" id="7528806">&#34;a&#34;</span><span class="op" id="7528809">}</span><span class="op" id="7528810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528813">{</span><span class="ident" id="7528814">Ident</span><span class="op" id="7528819">,</span>&nbsp;<span class="string" id="7528821">&#34;a0&#34;</span><span class="op" id="7528825">}</span><span class="op" id="7528826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528829">{</span><span class="ident" id="7528830">Ident</span><span class="op" id="7528835">,</span>&nbsp;<span class="string" id="7528837">&#34;foobar&#34;</span><span class="op" id="7528845">}</span><span class="op" id="7528846">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528849">{</span><span class="ident" id="7528850">Ident</span><span class="op" id="7528855">,</span>&nbsp;<span class="string" id="7528857">&#34;abc123&#34;</span><span class="op" id="7528865">}</span><span class="op" id="7528866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528869">{</span><span class="ident" id="7528870">Ident</span><span class="op" id="7528875">,</span>&nbsp;<span class="string" id="7528877">&#34;LGTM&#34;</span><span class="op" id="7528883">}</span><span class="op" id="7528884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528887">{</span><span class="ident" id="7528888">Ident</span><span class="op" id="7528893">,</span>&nbsp;<span class="string" id="7528895">&#34;_&#34;</span><span class="op" id="7528898">}</span><span class="op" id="7528899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528902">{</span><span class="ident" id="7528903">Ident</span><span class="op" id="7528908">,</span>&nbsp;<span class="string" id="7528910">&#34;_abc123&#34;</span><span class="op" id="7528919">}</span><span class="op" id="7528920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528923">{</span><span class="ident" id="7528924">Ident</span><span class="op" id="7528929">,</span>&nbsp;<span class="string" id="7528931">&#34;abc123_&#34;</span><span class="op" id="7528940">}</span><span class="op" id="7528941">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528944">{</span><span class="ident" id="7528945">Ident</span><span class="op" id="7528950">,</span>&nbsp;<span class="string" id="7528952">&#34;_abc_123_&#34;</span><span class="op" id="7528963">}</span><span class="op" id="7528964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528967">{</span><span class="ident" id="7528968">Ident</span><span class="op" id="7528973">,</span>&nbsp;<span class="string" id="7528975">&#34;_äöü&#34;</span><span class="op" id="7528984">}</span><span class="op" id="7528985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7528988">{</span><span class="ident" id="7528989">Ident</span><span class="op" id="7528994">,</span>&nbsp;<span class="string" id="7528996">&#34;_本&#34;</span><span class="op" id="7529002">}</span><span class="op" id="7529003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529006">{</span><span class="ident" id="7529007">Ident</span><span class="op" id="7529012">,</span>&nbsp;<span class="string" id="7529014">&#34;äöü&#34;</span><span class="op" id="7529022">}</span><span class="op" id="7529023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529026">{</span><span class="ident" id="7529027">Ident</span><span class="op" id="7529032">,</span>&nbsp;<span class="string" id="7529034">&#34;本&#34;</span><span class="op" id="7529039">}</span><span class="op" id="7529040">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529043">{</span><span class="ident" id="7529044">Ident</span><span class="op" id="7529049">,</span>&nbsp;<span class="string" id="7529051">&#34;a۰۱۸&#34;</span><span class="op" id="7529060">}</span><span class="op" id="7529061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529064">{</span><span class="ident" id="7529065">Ident</span><span class="op" id="7529070">,</span>&nbsp;<span class="string" id="7529072">&#34;foo६४&#34;</span><span class="op" id="7529083">}</span><span class="op" id="7529084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529087">{</span><span class="ident" id="7529088">Ident</span><span class="op" id="7529093">,</span>&nbsp;<span class="string" id="7529095">&#34;bar９８７６&#34;</span><span class="op" id="7529112">}</span><span class="op" id="7529113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529116">{</span><span class="ident" id="7529117">Ident</span><span class="op" id="7529122">,</span>&nbsp;<span class="ident" id="7529124">f100</span><span class="op" id="7529128">}</span><span class="op" id="7529129">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529133">{</span><span class="ident" id="7529134">Comment</span><span class="op" id="7529141">,</span>&nbsp;<span class="string" id="7529143">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="7529160">}</span><span class="op" id="7529161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529164">{</span><span class="ident" id="7529165">Int</span><span class="op" id="7529168">,</span>&nbsp;<span class="string" id="7529170">&#34;0&#34;</span><span class="op" id="7529173">}</span><span class="op" id="7529174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529177">{</span><span class="ident" id="7529178">Int</span><span class="op" id="7529181">,</span>&nbsp;<span class="string" id="7529183">&#34;1&#34;</span><span class="op" id="7529186">}</span><span class="op" id="7529187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529190">{</span><span class="ident" id="7529191">Int</span><span class="op" id="7529194">,</span>&nbsp;<span class="string" id="7529196">&#34;9&#34;</span><span class="op" id="7529199">}</span><span class="op" id="7529200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529203">{</span><span class="ident" id="7529204">Int</span><span class="op" id="7529207">,</span>&nbsp;<span class="string" id="7529209">&#34;42&#34;</span><span class="op" id="7529213">}</span><span class="op" id="7529214">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529217">{</span><span class="ident" id="7529218">Int</span><span class="op" id="7529221">,</span>&nbsp;<span class="string" id="7529223">&#34;1234567890&#34;</span><span class="op" id="7529235">}</span><span class="op" id="7529236">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529240">{</span><span class="ident" id="7529241">Comment</span><span class="op" id="7529248">,</span>&nbsp;<span class="string" id="7529250">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="7529265">}</span><span class="op" id="7529266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529269">{</span><span class="ident" id="7529270">Int</span><span class="op" id="7529273">,</span>&nbsp;<span class="string" id="7529275">&#34;00&#34;</span><span class="op" id="7529279">}</span><span class="op" id="7529280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529283">{</span><span class="ident" id="7529284">Int</span><span class="op" id="7529287">,</span>&nbsp;<span class="string" id="7529289">&#34;01&#34;</span><span class="op" id="7529293">}</span><span class="op" id="7529294">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529297">{</span><span class="ident" id="7529298">Int</span><span class="op" id="7529301">,</span>&nbsp;<span class="string" id="7529303">&#34;07&#34;</span><span class="op" id="7529307">}</span><span class="op" id="7529308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529311">{</span><span class="ident" id="7529312">Int</span><span class="op" id="7529315">,</span>&nbsp;<span class="string" id="7529317">&#34;042&#34;</span><span class="op" id="7529322">}</span><span class="op" id="7529323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529326">{</span><span class="ident" id="7529327">Int</span><span class="op" id="7529330">,</span>&nbsp;<span class="string" id="7529332">&#34;01234567&#34;</span><span class="op" id="7529342">}</span><span class="op" id="7529343">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529347">{</span><span class="ident" id="7529348">Comment</span><span class="op" id="7529355">,</span>&nbsp;<span class="string" id="7529357">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="7529378">}</span><span class="op" id="7529379">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529382">{</span><span class="ident" id="7529383">Int</span><span class="op" id="7529386">,</span>&nbsp;<span class="string" id="7529388">&#34;0x0&#34;</span><span class="op" id="7529393">}</span><span class="op" id="7529394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529397">{</span><span class="ident" id="7529398">Int</span><span class="op" id="7529401">,</span>&nbsp;<span class="string" id="7529403">&#34;0x1&#34;</span><span class="op" id="7529408">}</span><span class="op" id="7529409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529412">{</span><span class="ident" id="7529413">Int</span><span class="op" id="7529416">,</span>&nbsp;<span class="string" id="7529418">&#34;0xf&#34;</span><span class="op" id="7529423">}</span><span class="op" id="7529424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529427">{</span><span class="ident" id="7529428">Int</span><span class="op" id="7529431">,</span>&nbsp;<span class="string" id="7529433">&#34;0x42&#34;</span><span class="op" id="7529439">}</span><span class="op" id="7529440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529443">{</span><span class="ident" id="7529444">Int</span><span class="op" id="7529447">,</span>&nbsp;<span class="string" id="7529449">&#34;0x123456789abcDEF&#34;</span><span class="op" id="7529468">}</span><span class="op" id="7529469">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529472">{</span><span class="ident" id="7529473">Int</span><span class="op" id="7529476">,</span>&nbsp;<span class="string" id="7529478">&#34;0x&#34;</span>&nbsp;<span class="op" id="7529483">+</span>&nbsp;<span class="ident" id="7529485">f100</span><span class="op" id="7529489">}</span><span class="op" id="7529490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529493">{</span><span class="ident" id="7529494">Int</span><span class="op" id="7529497">,</span>&nbsp;<span class="string" id="7529499">&#34;0X0&#34;</span><span class="op" id="7529504">}</span><span class="op" id="7529505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529508">{</span><span class="ident" id="7529509">Int</span><span class="op" id="7529512">,</span>&nbsp;<span class="string" id="7529514">&#34;0X1&#34;</span><span class="op" id="7529519">}</span><span class="op" id="7529520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529523">{</span><span class="ident" id="7529524">Int</span><span class="op" id="7529527">,</span>&nbsp;<span class="string" id="7529529">&#34;0XF&#34;</span><span class="op" id="7529534">}</span><span class="op" id="7529535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529538">{</span><span class="ident" id="7529539">Int</span><span class="op" id="7529542">,</span>&nbsp;<span class="string" id="7529544">&#34;0X42&#34;</span><span class="op" id="7529550">}</span><span class="op" id="7529551">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529554">{</span><span class="ident" id="7529555">Int</span><span class="op" id="7529558">,</span>&nbsp;<span class="string" id="7529560">&#34;0X123456789abcDEF&#34;</span><span class="op" id="7529579">}</span><span class="op" id="7529580">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529583">{</span><span class="ident" id="7529584">Int</span><span class="op" id="7529587">,</span>&nbsp;<span class="string" id="7529589">&#34;0X&#34;</span>&nbsp;<span class="op" id="7529594">+</span>&nbsp;<span class="ident" id="7529596">f100</span><span class="op" id="7529600">}</span><span class="op" id="7529601">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529605">{</span><span class="ident" id="7529606">Comment</span><span class="op" id="7529613">,</span>&nbsp;<span class="string" id="7529615">&#34;//&nbsp;floats&#34;</span><span class="op" id="7529626">}</span><span class="op" id="7529627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529630">{</span><span class="ident" id="7529631">Float</span><span class="op" id="7529636">,</span>&nbsp;<span class="string" id="7529638">&#34;0.&#34;</span><span class="op" id="7529642">}</span><span class="op" id="7529643">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529646">{</span><span class="ident" id="7529647">Float</span><span class="op" id="7529652">,</span>&nbsp;<span class="string" id="7529654">&#34;1.&#34;</span><span class="op" id="7529658">}</span><span class="op" id="7529659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529662">{</span><span class="ident" id="7529663">Float</span><span class="op" id="7529668">,</span>&nbsp;<span class="string" id="7529670">&#34;42.&#34;</span><span class="op" id="7529675">}</span><span class="op" id="7529676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529679">{</span><span class="ident" id="7529680">Float</span><span class="op" id="7529685">,</span>&nbsp;<span class="string" id="7529687">&#34;01234567890.&#34;</span><span class="op" id="7529701">}</span><span class="op" id="7529702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529705">{</span><span class="ident" id="7529706">Float</span><span class="op" id="7529711">,</span>&nbsp;<span class="string" id="7529713">&#34;.0&#34;</span><span class="op" id="7529717">}</span><span class="op" id="7529718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529721">{</span><span class="ident" id="7529722">Float</span><span class="op" id="7529727">,</span>&nbsp;<span class="string" id="7529729">&#34;.1&#34;</span><span class="op" id="7529733">}</span><span class="op" id="7529734">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529737">{</span><span class="ident" id="7529738">Float</span><span class="op" id="7529743">,</span>&nbsp;<span class="string" id="7529745">&#34;.42&#34;</span><span class="op" id="7529750">}</span><span class="op" id="7529751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529754">{</span><span class="ident" id="7529755">Float</span><span class="op" id="7529760">,</span>&nbsp;<span class="string" id="7529762">&#34;.0123456789&#34;</span><span class="op" id="7529775">}</span><span class="op" id="7529776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529779">{</span><span class="ident" id="7529780">Float</span><span class="op" id="7529785">,</span>&nbsp;<span class="string" id="7529787">&#34;0.0&#34;</span><span class="op" id="7529792">}</span><span class="op" id="7529793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529796">{</span><span class="ident" id="7529797">Float</span><span class="op" id="7529802">,</span>&nbsp;<span class="string" id="7529804">&#34;1.0&#34;</span><span class="op" id="7529809">}</span><span class="op" id="7529810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529813">{</span><span class="ident" id="7529814">Float</span><span class="op" id="7529819">,</span>&nbsp;<span class="string" id="7529821">&#34;42.0&#34;</span><span class="op" id="7529827">}</span><span class="op" id="7529828">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529831">{</span><span class="ident" id="7529832">Float</span><span class="op" id="7529837">,</span>&nbsp;<span class="string" id="7529839">&#34;01234567890.0&#34;</span><span class="op" id="7529854">}</span><span class="op" id="7529855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529858">{</span><span class="ident" id="7529859">Float</span><span class="op" id="7529864">,</span>&nbsp;<span class="string" id="7529866">&#34;0e0&#34;</span><span class="op" id="7529871">}</span><span class="op" id="7529872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529875">{</span><span class="ident" id="7529876">Float</span><span class="op" id="7529881">,</span>&nbsp;<span class="string" id="7529883">&#34;1e0&#34;</span><span class="op" id="7529888">}</span><span class="op" id="7529889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529892">{</span><span class="ident" id="7529893">Float</span><span class="op" id="7529898">,</span>&nbsp;<span class="string" id="7529900">&#34;42e0&#34;</span><span class="op" id="7529906">}</span><span class="op" id="7529907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529910">{</span><span class="ident" id="7529911">Float</span><span class="op" id="7529916">,</span>&nbsp;<span class="string" id="7529918">&#34;01234567890e0&#34;</span><span class="op" id="7529933">}</span><span class="op" id="7529934">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529937">{</span><span class="ident" id="7529938">Float</span><span class="op" id="7529943">,</span>&nbsp;<span class="string" id="7529945">&#34;0E0&#34;</span><span class="op" id="7529950">}</span><span class="op" id="7529951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529954">{</span><span class="ident" id="7529955">Float</span><span class="op" id="7529960">,</span>&nbsp;<span class="string" id="7529962">&#34;1E0&#34;</span><span class="op" id="7529967">}</span><span class="op" id="7529968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529971">{</span><span class="ident" id="7529972">Float</span><span class="op" id="7529977">,</span>&nbsp;<span class="string" id="7529979">&#34;42E0&#34;</span><span class="op" id="7529985">}</span><span class="op" id="7529986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7529989">{</span><span class="ident" id="7529990">Float</span><span class="op" id="7529995">,</span>&nbsp;<span class="string" id="7529997">&#34;01234567890E0&#34;</span><span class="op" id="7530012">}</span><span class="op" id="7530013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530016">{</span><span class="ident" id="7530017">Float</span><span class="op" id="7530022">,</span>&nbsp;<span class="string" id="7530024">&#34;0e+10&#34;</span><span class="op" id="7530031">}</span><span class="op" id="7530032">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530035">{</span><span class="ident" id="7530036">Float</span><span class="op" id="7530041">,</span>&nbsp;<span class="string" id="7530043">&#34;1e-10&#34;</span><span class="op" id="7530050">}</span><span class="op" id="7530051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530054">{</span><span class="ident" id="7530055">Float</span><span class="op" id="7530060">,</span>&nbsp;<span class="string" id="7530062">&#34;42e+10&#34;</span><span class="op" id="7530070">}</span><span class="op" id="7530071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530074">{</span><span class="ident" id="7530075">Float</span><span class="op" id="7530080">,</span>&nbsp;<span class="string" id="7530082">&#34;01234567890e-10&#34;</span><span class="op" id="7530099">}</span><span class="op" id="7530100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530103">{</span><span class="ident" id="7530104">Float</span><span class="op" id="7530109">,</span>&nbsp;<span class="string" id="7530111">&#34;0E+10&#34;</span><span class="op" id="7530118">}</span><span class="op" id="7530119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530122">{</span><span class="ident" id="7530123">Float</span><span class="op" id="7530128">,</span>&nbsp;<span class="string" id="7530130">&#34;1E-10&#34;</span><span class="op" id="7530137">}</span><span class="op" id="7530138">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530141">{</span><span class="ident" id="7530142">Float</span><span class="op" id="7530147">,</span>&nbsp;<span class="string" id="7530149">&#34;42E+10&#34;</span><span class="op" id="7530157">}</span><span class="op" id="7530158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530161">{</span><span class="ident" id="7530162">Float</span><span class="op" id="7530167">,</span>&nbsp;<span class="string" id="7530169">&#34;01234567890E-10&#34;</span><span class="op" id="7530186">}</span><span class="op" id="7530187">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530191">{</span><span class="ident" id="7530192">Comment</span><span class="op" id="7530199">,</span>&nbsp;<span class="string" id="7530201">&#34;//&nbsp;chars&#34;</span><span class="op" id="7530211">}</span><span class="op" id="7530212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530215">{</span><span class="ident" id="7530216">Char</span><span class="op" id="7530220">,</span>&nbsp;<span class="string" id="7530222">`&#39;&nbsp;&#39;`</span><span class="op" id="7530227">}</span><span class="op" id="7530228">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530231">{</span><span class="ident" id="7530232">Char</span><span class="op" id="7530236">,</span>&nbsp;<span class="string" id="7530238">`&#39;a&#39;`</span><span class="op" id="7530243">}</span><span class="op" id="7530244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530247">{</span><span class="ident" id="7530248">Char</span><span class="op" id="7530252">,</span>&nbsp;<span class="string" id="7530254">`&#39;本&#39;`</span><span class="op" id="7530261">}</span><span class="op" id="7530262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530265">{</span><span class="ident" id="7530266">Char</span><span class="op" id="7530270">,</span>&nbsp;<span class="string" id="7530272">`&#39;\a&#39;`</span><span class="op" id="7530278">}</span><span class="op" id="7530279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530282">{</span><span class="ident" id="7530283">Char</span><span class="op" id="7530287">,</span>&nbsp;<span class="string" id="7530289">`&#39;\b&#39;`</span><span class="op" id="7530295">}</span><span class="op" id="7530296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530299">{</span><span class="ident" id="7530300">Char</span><span class="op" id="7530304">,</span>&nbsp;<span class="string" id="7530306">`&#39;\f&#39;`</span><span class="op" id="7530312">}</span><span class="op" id="7530313">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530316">{</span><span class="ident" id="7530317">Char</span><span class="op" id="7530321">,</span>&nbsp;<span class="string" id="7530323">`&#39;\n&#39;`</span><span class="op" id="7530329">}</span><span class="op" id="7530330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530333">{</span><span class="ident" id="7530334">Char</span><span class="op" id="7530338">,</span>&nbsp;<span class="string" id="7530340">`&#39;\r&#39;`</span><span class="op" id="7530346">}</span><span class="op" id="7530347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530350">{</span><span class="ident" id="7530351">Char</span><span class="op" id="7530355">,</span>&nbsp;<span class="string" id="7530357">`&#39;\t&#39;`</span><span class="op" id="7530363">}</span><span class="op" id="7530364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530367">{</span><span class="ident" id="7530368">Char</span><span class="op" id="7530372">,</span>&nbsp;<span class="string" id="7530374">`&#39;\v&#39;`</span><span class="op" id="7530380">}</span><span class="op" id="7530381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530384">{</span><span class="ident" id="7530385">Char</span><span class="op" id="7530389">,</span>&nbsp;<span class="string" id="7530391">`&#39;\&#39;&#39;`</span><span class="op" id="7530397">}</span><span class="op" id="7530398">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530401">{</span><span class="ident" id="7530402">Char</span><span class="op" id="7530406">,</span>&nbsp;<span class="string" id="7530408">`&#39;\000&#39;`</span><span class="op" id="7530416">}</span><span class="op" id="7530417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530420">{</span><span class="ident" id="7530421">Char</span><span class="op" id="7530425">,</span>&nbsp;<span class="string" id="7530427">`&#39;\777&#39;`</span><span class="op" id="7530435">}</span><span class="op" id="7530436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530439">{</span><span class="ident" id="7530440">Char</span><span class="op" id="7530444">,</span>&nbsp;<span class="string" id="7530446">`&#39;\x00&#39;`</span><span class="op" id="7530454">}</span><span class="op" id="7530455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530458">{</span><span class="ident" id="7530459">Char</span><span class="op" id="7530463">,</span>&nbsp;<span class="string" id="7530465">`&#39;\xff&#39;`</span><span class="op" id="7530473">}</span><span class="op" id="7530474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530477">{</span><span class="ident" id="7530478">Char</span><span class="op" id="7530482">,</span>&nbsp;<span class="string" id="7530484">`&#39;\u0000&#39;`</span><span class="op" id="7530494">}</span><span class="op" id="7530495">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530498">{</span><span class="ident" id="7530499">Char</span><span class="op" id="7530503">,</span>&nbsp;<span class="string" id="7530505">`&#39;\ufA16&#39;`</span><span class="op" id="7530515">}</span><span class="op" id="7530516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530519">{</span><span class="ident" id="7530520">Char</span><span class="op" id="7530524">,</span>&nbsp;<span class="string" id="7530526">`&#39;\U00000000&#39;`</span><span class="op" id="7530540">}</span><span class="op" id="7530541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530544">{</span><span class="ident" id="7530545">Char</span><span class="op" id="7530549">,</span>&nbsp;<span class="string" id="7530551">`&#39;\U0000ffAB&#39;`</span><span class="op" id="7530565">}</span><span class="op" id="7530566">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530570">{</span><span class="ident" id="7530571">Comment</span><span class="op" id="7530578">,</span>&nbsp;<span class="string" id="7530580">&#34;//&nbsp;strings&#34;</span><span class="op" id="7530592">}</span><span class="op" id="7530593">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530596">{</span><span class="ident" id="7530597">String</span><span class="op" id="7530603">,</span>&nbsp;<span class="string" id="7530605">`&#34;&nbsp;&#34;`</span><span class="op" id="7530610">}</span><span class="op" id="7530611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530614">{</span><span class="ident" id="7530615">String</span><span class="op" id="7530621">,</span>&nbsp;<span class="string" id="7530623">`&#34;a&#34;`</span><span class="op" id="7530628">}</span><span class="op" id="7530629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530632">{</span><span class="ident" id="7530633">String</span><span class="op" id="7530639">,</span>&nbsp;<span class="string" id="7530641">`&#34;本&#34;`</span><span class="op" id="7530648">}</span><span class="op" id="7530649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530652">{</span><span class="ident" id="7530653">String</span><span class="op" id="7530659">,</span>&nbsp;<span class="string" id="7530661">`&#34;\a&#34;`</span><span class="op" id="7530667">}</span><span class="op" id="7530668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530671">{</span><span class="ident" id="7530672">String</span><span class="op" id="7530678">,</span>&nbsp;<span class="string" id="7530680">`&#34;\b&#34;`</span><span class="op" id="7530686">}</span><span class="op" id="7530687">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530690">{</span><span class="ident" id="7530691">String</span><span class="op" id="7530697">,</span>&nbsp;<span class="string" id="7530699">`&#34;\f&#34;`</span><span class="op" id="7530705">}</span><span class="op" id="7530706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530709">{</span><span class="ident" id="7530710">String</span><span class="op" id="7530716">,</span>&nbsp;<span class="string" id="7530718">`&#34;\n&#34;`</span><span class="op" id="7530724">}</span><span class="op" id="7530725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530728">{</span><span class="ident" id="7530729">String</span><span class="op" id="7530735">,</span>&nbsp;<span class="string" id="7530737">`&#34;\r&#34;`</span><span class="op" id="7530743">}</span><span class="op" id="7530744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530747">{</span><span class="ident" id="7530748">String</span><span class="op" id="7530754">,</span>&nbsp;<span class="string" id="7530756">`&#34;\t&#34;`</span><span class="op" id="7530762">}</span><span class="op" id="7530763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530766">{</span><span class="ident" id="7530767">String</span><span class="op" id="7530773">,</span>&nbsp;<span class="string" id="7530775">`&#34;\v&#34;`</span><span class="op" id="7530781">}</span><span class="op" id="7530782">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530785">{</span><span class="ident" id="7530786">String</span><span class="op" id="7530792">,</span>&nbsp;<span class="string" id="7530794">`&#34;\&#34;&#34;`</span><span class="op" id="7530800">}</span><span class="op" id="7530801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530804">{</span><span class="ident" id="7530805">String</span><span class="op" id="7530811">,</span>&nbsp;<span class="string" id="7530813">`&#34;\000&#34;`</span><span class="op" id="7530821">}</span><span class="op" id="7530822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530825">{</span><span class="ident" id="7530826">String</span><span class="op" id="7530832">,</span>&nbsp;<span class="string" id="7530834">`&#34;\777&#34;`</span><span class="op" id="7530842">}</span><span class="op" id="7530843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530846">{</span><span class="ident" id="7530847">String</span><span class="op" id="7530853">,</span>&nbsp;<span class="string" id="7530855">`&#34;\x00&#34;`</span><span class="op" id="7530863">}</span><span class="op" id="7530864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530867">{</span><span class="ident" id="7530868">String</span><span class="op" id="7530874">,</span>&nbsp;<span class="string" id="7530876">`&#34;\xff&#34;`</span><span class="op" id="7530884">}</span><span class="op" id="7530885">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530888">{</span><span class="ident" id="7530889">String</span><span class="op" id="7530895">,</span>&nbsp;<span class="string" id="7530897">`&#34;\u0000&#34;`</span><span class="op" id="7530907">}</span><span class="op" id="7530908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530911">{</span><span class="ident" id="7530912">String</span><span class="op" id="7530918">,</span>&nbsp;<span class="string" id="7530920">`&#34;\ufA16&#34;`</span><span class="op" id="7530930">}</span><span class="op" id="7530931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530934">{</span><span class="ident" id="7530935">String</span><span class="op" id="7530941">,</span>&nbsp;<span class="string" id="7530943">`&#34;\U00000000&#34;`</span><span class="op" id="7530957">}</span><span class="op" id="7530958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530961">{</span><span class="ident" id="7530962">String</span><span class="op" id="7530968">,</span>&nbsp;<span class="string" id="7530970">`&#34;\U0000ffAB&#34;`</span><span class="op" id="7530984">}</span><span class="op" id="7530985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7530988">{</span><span class="ident" id="7530989">String</span><span class="op" id="7530995">,</span>&nbsp;<span class="string" id="7530997">`&#34;`</span>&nbsp;<span class="op" id="7531001">+</span>&nbsp;<span class="ident" id="7531003">f100</span>&nbsp;<span class="op" id="7531008">+</span>&nbsp;<span class="string" id="7531010">`&#34;`</span><span class="op" id="7531013">}</span><span class="op" id="7531014">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531018">{</span><span class="ident" id="7531019">Comment</span><span class="op" id="7531026">,</span>&nbsp;<span class="string" id="7531028">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="7531044">}</span><span class="op" id="7531045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531048">{</span><span class="ident" id="7531049">String</span><span class="op" id="7531055">,</span>&nbsp;<span class="string" id="7531057">&#34;``&#34;</span><span class="op" id="7531061">}</span><span class="op" id="7531062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531065">{</span><span class="ident" id="7531066">String</span><span class="op" id="7531072">,</span>&nbsp;<span class="string" id="7531074">&#34;`\\`&#34;</span><span class="op" id="7531080">}</span><span class="op" id="7531081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531084">{</span><span class="ident" id="7531085">String</span><span class="op" id="7531091">,</span>&nbsp;<span class="string" id="7531093">&#34;`&#34;</span>&nbsp;<span class="op" id="7531097">+</span>&nbsp;<span class="string" id="7531099">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="7531122">+</span>&nbsp;<span class="string" id="7531124">&#34;`&#34;</span><span class="op" id="7531127">}</span><span class="op" id="7531128">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531131">{</span><span class="ident" id="7531132">String</span><span class="op" id="7531138">,</span>&nbsp;<span class="string" id="7531140">&#34;`&#34;</span>&nbsp;<span class="op" id="7531144">+</span>&nbsp;<span class="ident" id="7531146">f100</span>&nbsp;<span class="op" id="7531151">+</span>&nbsp;<span class="string" id="7531153">&#34;`&#34;</span><span class="op" id="7531156">}</span><span class="op" id="7531157">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531161">{</span><span class="ident" id="7531162">Comment</span><span class="op" id="7531169">,</span>&nbsp;<span class="string" id="7531171">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="7531197">}</span><span class="op" id="7531198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7531201">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531234">{</span><span class="string" id="7531235">&#39;\x01&#39;</span><span class="op" id="7531241">,</span>&nbsp;<span class="string" id="7531243">&#34;\x01&#34;</span><span class="op" id="7531249">}</span><span class="op" id="7531250">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531253">{</span><span class="string" id="7531254">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7531258">-</span>&nbsp;<span class="num" id="7531260">1</span><span class="op" id="7531261">,</span>&nbsp;<span class="builtintype" id="7531263">string</span><span class="op" id="7531269">(</span><span class="string" id="7531270">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7531274">-</span>&nbsp;<span class="num" id="7531276">1</span><span class="op" id="7531277">)</span><span class="op" id="7531278">}</span><span class="op" id="7531279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531282">{</span><span class="string" id="7531283">&#39;+&#39;</span><span class="op" id="7531286">,</span>&nbsp;<span class="string" id="7531288">&#34;+&#34;</span><span class="op" id="7531291">}</span><span class="op" id="7531292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531295">{</span><span class="string" id="7531296">&#39;/&#39;</span><span class="op" id="7531299">,</span>&nbsp;<span class="string" id="7531301">&#34;/&#34;</span><span class="op" id="7531304">}</span><span class="op" id="7531305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531308">{</span><span class="string" id="7531309">&#39;.&#39;</span><span class="op" id="7531312">,</span>&nbsp;<span class="string" id="7531314">&#34;.&#34;</span><span class="op" id="7531317">}</span><span class="op" id="7531318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531321">{</span><span class="string" id="7531322">&#39;~&#39;</span><span class="op" id="7531325">,</span>&nbsp;<span class="string" id="7531327">&#34;~&#34;</span><span class="op" id="7531330">}</span><span class="op" id="7531331">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531334">{</span><span class="string" id="7531335">&#39;(&#39;</span><span class="op" id="7531338">,</span>&nbsp;<span class="string" id="7531340">&#34;(&#34;</span><span class="op" id="7531343">}</span><span class="op" id="7531344">,</span><br>
<span class="lineno"></span><span class="op" id="7531346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7531349">func</span>&nbsp;<span class="ident" id="7531354">makeSource</span><span class="op" id="7531364">(</span><span class="ident" id="7531365">pattern</span>&nbsp;<span class="builtintype" id="7531373">string</span><span class="op" id="7531379">)</span>&nbsp;<span class="op" id="7531381">*</span><span class="ident" id="7531382">bytes</span><span class="op" id="7531387">.</span><span class="ident" id="7531388">Buffer</span>&nbsp;<span class="op" id="7531395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531398">var</span>&nbsp;<span class="ident" id="7531402">buf</span>&nbsp;<span class="ident" id="7531406">bytes</span><span class="op" id="7531411">.</span><span class="ident" id="7531412">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531420">for</span>&nbsp;<span class="ident" id="7531424">_</span><span class="op" id="7531425">,</span>&nbsp;<span class="ident" id="7531427">k</span>&nbsp;<span class="op" id="7531429">:=</span>&nbsp;<span class="keyword" id="7531432">range</span>&nbsp;<span class="ident" id="7531438">tokenList</span>&nbsp;<span class="op" id="7531448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531452">fmt</span><span class="op" id="7531455">.</span><span class="ident" id="7531456">Fprintf</span><span class="op" id="7531463">(</span><span class="op" id="7531464">&amp;</span><span class="ident" id="7531465">buf</span><span class="op" id="7531468">,</span>&nbsp;<span class="ident" id="7531470">pattern</span><span class="op" id="7531477">,</span>&nbsp;<span class="ident" id="7531479">k</span><span class="op" id="7531480">.</span><span class="ident" id="7531481">text</span><span class="op" id="7531485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531491">return</span>&nbsp;<span class="op" id="7531498">&amp;</span><span class="ident" id="7531499">buf</span><br>
<span class="lineno"></span><span class="op" id="7531503">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="7531506">func</span>&nbsp;<span class="ident" id="7531511">checkTok</span><span class="op" id="7531519">(</span><span class="ident" id="7531520">t</span>&nbsp;<span class="op" id="7531522">*</span><span class="ident" id="7531523">testing</span><span class="op" id="7531530">.</span><span class="ident" id="7531531">T</span><span class="op" id="7531532">,</span>&nbsp;<span class="ident" id="7531534">s</span>&nbsp;<span class="op" id="7531536">*</span><span class="ident" id="7531537">Scanner</span><span class="op" id="7531544">,</span>&nbsp;<span class="ident" id="7531546">line</span>&nbsp;<span class="builtintype" id="7531551">int</span><span class="op" id="7531554">,</span>&nbsp;<span class="ident" id="7531556">got</span><span class="op" id="7531559">,</span>&nbsp;<span class="ident" id="7531561">want</span>&nbsp;<span class="builtintype" id="7531566">rune</span><span class="op" id="7531570">,</span>&nbsp;<span class="ident" id="7531572">text</span>&nbsp;<span class="builtintype" id="7531577">string</span><span class="op" id="7531583">)</span>&nbsp;<span class="op" id="7531585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531588">if</span>&nbsp;<span class="ident" id="7531591">got</span>&nbsp;<span class="op" id="7531595">!=</span>&nbsp;<span class="ident" id="7531598">want</span>&nbsp;<span class="op" id="7531603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531607">t</span><span class="op" id="7531608">.</span><span class="ident" id="7531609">Fatalf</span><span class="op" id="7531615">(</span><span class="string" id="7531616">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7531642">,</span>&nbsp;<span class="ident" id="7531644">TokenString</span><span class="op" id="7531655">(</span><span class="ident" id="7531656">got</span><span class="op" id="7531659">)</span><span class="op" id="7531660">,</span>&nbsp;<span class="ident" id="7531662">TokenString</span><span class="op" id="7531673">(</span><span class="ident" id="7531674">want</span><span class="op" id="7531678">)</span><span class="op" id="7531679">,</span>&nbsp;<span class="ident" id="7531681">text</span><span class="op" id="7531685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531688">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531691">if</span>&nbsp;<span class="ident" id="7531694">s</span><span class="op" id="7531695">.</span><span class="ident" id="7531696">Line</span>&nbsp;<span class="op" id="7531701">!=</span>&nbsp;<span class="ident" id="7531704">line</span>&nbsp;<span class="op" id="7531709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531713">t</span><span class="op" id="7531714">.</span><span class="ident" id="7531715">Errorf</span><span class="op" id="7531721">(</span><span class="string" id="7531722">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7531749">,</span>&nbsp;<span class="ident" id="7531751">s</span><span class="op" id="7531752">.</span><span class="ident" id="7531753">Line</span><span class="op" id="7531757">,</span>&nbsp;<span class="ident" id="7531759">line</span><span class="op" id="7531763">,</span>&nbsp;<span class="ident" id="7531765">text</span><span class="op" id="7531769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531775">stext</span>&nbsp;<span class="op" id="7531781">:=</span>&nbsp;<span class="ident" id="7531784">s</span><span class="op" id="7531785">.</span><span class="ident" id="7531786">TokenText</span><span class="op" id="7531795">(</span><span class="op" id="7531796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531799">if</span>&nbsp;<span class="ident" id="7531802">stext</span>&nbsp;<span class="op" id="7531808">!=</span>&nbsp;<span class="ident" id="7531811">text</span>&nbsp;<span class="op" id="7531816">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531820">t</span><span class="op" id="7531821">.</span><span class="ident" id="7531822">Errorf</span><span class="op" id="7531828">(</span><span class="string" id="7531829">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7531849">,</span>&nbsp;<span class="ident" id="7531851">stext</span><span class="op" id="7531856">,</span>&nbsp;<span class="ident" id="7531858">text</span><span class="op" id="7531862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7531865">}</span>&nbsp;<span class="keyword" id="7531867">else</span>&nbsp;<span class="op" id="7531872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7531876">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531919">stext</span>&nbsp;<span class="op" id="7531925">=</span>&nbsp;<span class="ident" id="7531927">s</span><span class="op" id="7531928">.</span><span class="ident" id="7531929">TokenText</span><span class="op" id="7531938">(</span><span class="op" id="7531939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7531943">if</span>&nbsp;<span class="ident" id="7531946">stext</span>&nbsp;<span class="op" id="7531952">!=</span>&nbsp;<span class="ident" id="7531955">text</span>&nbsp;<span class="op" id="7531960">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7531965">t</span><span class="op" id="7531966">.</span><span class="ident" id="7531967">Errorf</span><span class="op" id="7531973">(</span><span class="string" id="7531974">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="7532014">,</span>&nbsp;<span class="ident" id="7532016">stext</span><span class="op" id="7532021">,</span>&nbsp;<span class="ident" id="7532023">text</span><span class="op" id="7532027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532034">}</span><br>
<span class="lineno"></span><span class="op" id="7532036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="7532039">func</span>&nbsp;<span class="ident" id="7532044">countNewlines</span><span class="op" id="7532057">(</span><span class="ident" id="7532058">s</span>&nbsp;<span class="builtintype" id="7532060">string</span><span class="op" id="7532066">)</span>&nbsp;<span class="builtintype" id="7532068">int</span>&nbsp;<span class="op" id="7532072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532075">n</span>&nbsp;<span class="op" id="7532077">:=</span>&nbsp;<span class="num" id="7532080">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532083">for</span>&nbsp;<span class="ident" id="7532087">_</span><span class="op" id="7532088">,</span>&nbsp;<span class="ident" id="7532090">ch</span>&nbsp;<span class="op" id="7532093">:=</span>&nbsp;<span class="keyword" id="7532096">range</span>&nbsp;<span class="ident" id="7532102">s</span>&nbsp;<span class="op" id="7532104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532108">if</span>&nbsp;<span class="ident" id="7532111">ch</span>&nbsp;<span class="op" id="7532114">==</span>&nbsp;<span class="string" id="7532117">&#39;\n&#39;</span>&nbsp;<span class="op" id="7532122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532127">n</span><span class="op" id="7532128">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532139">return</span>&nbsp;<span class="ident" id="7532146">n</span><br>
<span class="lineno"></span><span class="op" id="7532148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="7532151">func</span>&nbsp;<span class="ident" id="7532156">testScan</span><span class="op" id="7532164">(</span><span class="ident" id="7532165">t</span>&nbsp;<span class="op" id="7532167">*</span><span class="ident" id="7532168">testing</span><span class="op" id="7532175">.</span><span class="ident" id="7532176">T</span><span class="op" id="7532177">,</span>&nbsp;<span class="ident" id="7532179">mode</span>&nbsp;<span class="builtintype" id="7532184">uint</span><span class="op" id="7532188">)</span>&nbsp;<span class="op" id="7532190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532193">s</span>&nbsp;<span class="op" id="7532195">:=</span>&nbsp;<span class="builtinfunc" id="7532198">new</span><span class="op" id="7532201">(</span><span class="ident" id="7532202">Scanner</span><span class="op" id="7532209">)</span><span class="op" id="7532210">.</span><span class="ident" id="7532211">Init</span><span class="op" id="7532215">(</span><span class="ident" id="7532216">makeSource</span><span class="op" id="7532226">(</span><span class="string" id="7532227">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="7532236">)</span><span class="op" id="7532237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532240">s</span><span class="op" id="7532241">.</span><span class="ident" id="7532242">Mode</span>&nbsp;<span class="op" id="7532247">=</span>&nbsp;<span class="ident" id="7532249">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532255">tok</span>&nbsp;<span class="op" id="7532259">:=</span>&nbsp;<span class="ident" id="7532262">s</span><span class="op" id="7532263">.</span><span class="ident" id="7532264">Scan</span><span class="op" id="7532268">(</span><span class="op" id="7532269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532272">line</span>&nbsp;<span class="op" id="7532277">:=</span>&nbsp;<span class="num" id="7532280">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532283">for</span>&nbsp;<span class="ident" id="7532287">_</span><span class="op" id="7532288">,</span>&nbsp;<span class="ident" id="7532290">k</span>&nbsp;<span class="op" id="7532292">:=</span>&nbsp;<span class="keyword" id="7532295">range</span>&nbsp;<span class="ident" id="7532301">tokenList</span>&nbsp;<span class="op" id="7532311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532315">if</span>&nbsp;<span class="ident" id="7532318">mode</span><span class="op" id="7532322">&amp;</span><span class="ident" id="7532323">SkipComments</span>&nbsp;<span class="op" id="7532336">==</span>&nbsp;<span class="num" id="7532339">0</span>&nbsp;<span class="op" id="7532341">||</span>&nbsp;<span class="ident" id="7532344">k</span><span class="op" id="7532345">.</span><span class="ident" id="7532346">tok</span>&nbsp;<span class="op" id="7532350">!=</span>&nbsp;<span class="ident" id="7532353">Comment</span>&nbsp;<span class="op" id="7532361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532366">checkTok</span><span class="op" id="7532374">(</span><span class="ident" id="7532375">t</span><span class="op" id="7532376">,</span>&nbsp;<span class="ident" id="7532378">s</span><span class="op" id="7532379">,</span>&nbsp;<span class="ident" id="7532381">line</span><span class="op" id="7532385">,</span>&nbsp;<span class="ident" id="7532387">tok</span><span class="op" id="7532390">,</span>&nbsp;<span class="ident" id="7532392">k</span><span class="op" id="7532393">.</span><span class="ident" id="7532394">tok</span><span class="op" id="7532397">,</span>&nbsp;<span class="ident" id="7532399">k</span><span class="op" id="7532400">.</span><span class="ident" id="7532401">text</span><span class="op" id="7532405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532410">tok</span>&nbsp;<span class="op" id="7532414">=</span>&nbsp;<span class="ident" id="7532416">s</span><span class="op" id="7532417">.</span><span class="ident" id="7532418">Scan</span><span class="op" id="7532422">(</span><span class="op" id="7532423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532427">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532431">line</span>&nbsp;<span class="op" id="7532436">+=</span>&nbsp;<span class="ident" id="7532439">countNewlines</span><span class="op" id="7532452">(</span><span class="ident" id="7532453">k</span><span class="op" id="7532454">.</span><span class="ident" id="7532455">text</span><span class="op" id="7532459">)</span>&nbsp;<span class="op" id="7532461">+</span>&nbsp;<span class="num" id="7532463">1</span>&nbsp;<span class="comment" id="7532465">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532500">checkTok</span><span class="op" id="7532508">(</span><span class="ident" id="7532509">t</span><span class="op" id="7532510">,</span>&nbsp;<span class="ident" id="7532512">s</span><span class="op" id="7532513">,</span>&nbsp;<span class="ident" id="7532515">line</span><span class="op" id="7532519">,</span>&nbsp;<span class="ident" id="7532521">tok</span><span class="op" id="7532524">,</span>&nbsp;<span class="ident" id="7532526">EOF</span><span class="op" id="7532529">,</span>&nbsp;<span class="string" id="7532531">&#34;&#34;</span><span class="op" id="7532533">)</span><br>
<span class="lineno"></span><span class="op" id="7532535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="7532538">func</span>&nbsp;<span class="ident" id="7532543">TestScan</span><span class="op" id="7532551">(</span><span class="ident" id="7532552">t</span>&nbsp;<span class="op" id="7532554">*</span><span class="ident" id="7532555">testing</span><span class="op" id="7532562">.</span><span class="ident" id="7532563">T</span><span class="op" id="7532564">)</span>&nbsp;<span class="op" id="7532566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532569">testScan</span><span class="op" id="7532577">(</span><span class="ident" id="7532578">t</span><span class="op" id="7532579">,</span>&nbsp;<span class="ident" id="7532581">GoTokens</span><span class="op" id="7532589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532592">testScan</span><span class="op" id="7532600">(</span><span class="ident" id="7532601">t</span><span class="op" id="7532602">,</span>&nbsp;<span class="ident" id="7532604">GoTokens</span><span class="op" id="7532612">&amp;^</span><span class="ident" id="7532614">SkipComments</span><span class="op" id="7532626">)</span><br>
<span class="lineno"></span><span class="op" id="7532628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="7532631">func</span>&nbsp;<span class="ident" id="7532636">TestPosition</span><span class="op" id="7532648">(</span><span class="ident" id="7532649">t</span>&nbsp;<span class="op" id="7532651">*</span><span class="ident" id="7532652">testing</span><span class="op" id="7532659">.</span><span class="ident" id="7532660">T</span><span class="op" id="7532661">)</span>&nbsp;<span class="op" id="7532663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532666">src</span>&nbsp;<span class="op" id="7532670">:=</span>&nbsp;<span class="ident" id="7532673">makeSource</span><span class="op" id="7532683">(</span><span class="string" id="7532684">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="7532698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532701">s</span>&nbsp;<span class="op" id="7532703">:=</span>&nbsp;<span class="builtinfunc" id="7532706">new</span><span class="op" id="7532709">(</span><span class="ident" id="7532710">Scanner</span><span class="op" id="7532717">)</span><span class="op" id="7532718">.</span><span class="ident" id="7532719">Init</span><span class="op" id="7532723">(</span><span class="ident" id="7532724">src</span><span class="op" id="7532727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532730">s</span><span class="op" id="7532731">.</span><span class="ident" id="7532732">Mode</span>&nbsp;<span class="op" id="7532737">=</span>&nbsp;<span class="ident" id="7532739">GoTokens</span>&nbsp;<span class="op" id="7532748">&amp;^</span>&nbsp;<span class="ident" id="7532751">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532765">s</span><span class="op" id="7532766">.</span><span class="ident" id="7532767">Scan</span><span class="op" id="7532771">(</span><span class="op" id="7532772">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532775">pos</span>&nbsp;<span class="op" id="7532779">:=</span>&nbsp;<span class="ident" id="7532782">Position</span><span class="op" id="7532790">{</span><span class="string" id="7532791">&#34;&#34;</span><span class="op" id="7532793">,</span>&nbsp;<span class="num" id="7532795">4</span><span class="op" id="7532796">,</span>&nbsp;<span class="num" id="7532798">1</span><span class="op" id="7532799">,</span>&nbsp;<span class="num" id="7532801">5</span><span class="op" id="7532802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532805">for</span>&nbsp;<span class="ident" id="7532809">_</span><span class="op" id="7532810">,</span>&nbsp;<span class="ident" id="7532812">k</span>&nbsp;<span class="op" id="7532814">:=</span>&nbsp;<span class="keyword" id="7532817">range</span>&nbsp;<span class="ident" id="7532823">tokenList</span>&nbsp;<span class="op" id="7532833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532837">if</span>&nbsp;<span class="ident" id="7532840">s</span><span class="op" id="7532841">.</span><span class="ident" id="7532842">Offset</span>&nbsp;<span class="op" id="7532849">!=</span>&nbsp;<span class="ident" id="7532852">pos</span><span class="op" id="7532855">.</span><span class="ident" id="7532856">Offset</span>&nbsp;<span class="op" id="7532863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532868">t</span><span class="op" id="7532869">.</span><span class="ident" id="7532870">Errorf</span><span class="op" id="7532876">(</span><span class="string" id="7532877">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7532906">,</span>&nbsp;<span class="ident" id="7532908">s</span><span class="op" id="7532909">.</span><span class="ident" id="7532910">Offset</span><span class="op" id="7532916">,</span>&nbsp;<span class="ident" id="7532918">pos</span><span class="op" id="7532921">.</span><span class="ident" id="7532922">Offset</span><span class="op" id="7532928">,</span>&nbsp;<span class="ident" id="7532930">k</span><span class="op" id="7532931">.</span><span class="ident" id="7532932">text</span><span class="op" id="7532936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7532940">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7532944">if</span>&nbsp;<span class="ident" id="7532947">s</span><span class="op" id="7532948">.</span><span class="ident" id="7532949">Line</span>&nbsp;<span class="op" id="7532954">!=</span>&nbsp;<span class="ident" id="7532957">pos</span><span class="op" id="7532960">.</span><span class="ident" id="7532961">Line</span>&nbsp;<span class="op" id="7532966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7532971">t</span><span class="op" id="7532972">.</span><span class="ident" id="7532973">Errorf</span><span class="op" id="7532979">(</span><span class="string" id="7532980">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7533007">,</span>&nbsp;<span class="ident" id="7533009">s</span><span class="op" id="7533010">.</span><span class="ident" id="7533011">Line</span><span class="op" id="7533015">,</span>&nbsp;<span class="ident" id="7533017">pos</span><span class="op" id="7533020">.</span><span class="ident" id="7533021">Line</span><span class="op" id="7533025">,</span>&nbsp;<span class="ident" id="7533027">k</span><span class="op" id="7533028">.</span><span class="ident" id="7533029">text</span><span class="op" id="7533033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533041">if</span>&nbsp;<span class="ident" id="7533044">s</span><span class="op" id="7533045">.</span><span class="ident" id="7533046">Column</span>&nbsp;<span class="op" id="7533053">!=</span>&nbsp;<span class="ident" id="7533056">pos</span><span class="op" id="7533059">.</span><span class="ident" id="7533060">Column</span>&nbsp;<span class="op" id="7533067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533072">t</span><span class="op" id="7533073">.</span><span class="ident" id="7533074">Errorf</span><span class="op" id="7533080">(</span><span class="string" id="7533081">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7533110">,</span>&nbsp;<span class="ident" id="7533112">s</span><span class="op" id="7533113">.</span><span class="ident" id="7533114">Column</span><span class="op" id="7533120">,</span>&nbsp;<span class="ident" id="7533122">pos</span><span class="op" id="7533125">.</span><span class="ident" id="7533126">Column</span><span class="op" id="7533132">,</span>&nbsp;<span class="ident" id="7533134">k</span><span class="op" id="7533135">.</span><span class="ident" id="7533136">text</span><span class="op" id="7533140">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533148">pos</span><span class="op" id="7533151">.</span><span class="ident" id="7533152">Offset</span>&nbsp;<span class="op" id="7533159">+=</span>&nbsp;<span class="num" id="7533162">4</span>&nbsp;<span class="op" id="7533164">+</span>&nbsp;<span class="builtinfunc" id="7533166">len</span><span class="op" id="7533169">(</span><span class="ident" id="7533170">k</span><span class="op" id="7533171">.</span><span class="ident" id="7533172">text</span><span class="op" id="7533176">)</span>&nbsp;<span class="op" id="7533178">+</span>&nbsp;<span class="num" id="7533180">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7533186">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533222">pos</span><span class="op" id="7533225">.</span><span class="ident" id="7533226">Line</span>&nbsp;<span class="op" id="7533231">+=</span>&nbsp;<span class="ident" id="7533234">countNewlines</span><span class="op" id="7533247">(</span><span class="ident" id="7533248">k</span><span class="op" id="7533249">.</span><span class="ident" id="7533250">text</span><span class="op" id="7533254">)</span>&nbsp;<span class="op" id="7533256">+</span>&nbsp;<span class="num" id="7533258">1</span>&nbsp;<span class="comment" id="7533260">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533293">s</span><span class="op" id="7533294">.</span><span class="ident" id="7533295">Scan</span><span class="op" id="7533299">(</span><span class="op" id="7533300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533303">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7533306">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533376">if</span>&nbsp;<span class="ident" id="7533379">s</span><span class="op" id="7533380">.</span><span class="ident" id="7533381">ErrorCount</span>&nbsp;<span class="op" id="7533392">!=</span>&nbsp;<span class="num" id="7533395">0</span>&nbsp;<span class="op" id="7533397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533401">t</span><span class="op" id="7533402">.</span><span class="ident" id="7533403">Errorf</span><span class="op" id="7533409">(</span><span class="string" id="7533410">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7533421">,</span>&nbsp;<span class="ident" id="7533423">s</span><span class="op" id="7533424">.</span><span class="ident" id="7533425">ErrorCount</span><span class="op" id="7533435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533438">}</span><br>
<span class="lineno"></span><span class="op" id="7533440">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="7533443">func</span>&nbsp;<span class="ident" id="7533448">TestScanZeroMode</span><span class="op" id="7533464">(</span><span class="ident" id="7533465">t</span>&nbsp;<span class="op" id="7533467">*</span><span class="ident" id="7533468">testing</span><span class="op" id="7533475">.</span><span class="ident" id="7533476">T</span><span class="op" id="7533477">)</span>&nbsp;<span class="op" id="7533479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533482">src</span>&nbsp;<span class="op" id="7533486">:=</span>&nbsp;<span class="ident" id="7533489">makeSource</span><span class="op" id="7533499">(</span><span class="string" id="7533500">&#34;%s\n&#34;</span><span class="op" id="7533506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533509">str</span>&nbsp;<span class="op" id="7533513">:=</span>&nbsp;<span class="ident" id="7533516">src</span><span class="op" id="7533519">.</span><span class="ident" id="7533520">String</span><span class="op" id="7533526">(</span><span class="op" id="7533527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533530">s</span>&nbsp;<span class="op" id="7533532">:=</span>&nbsp;<span class="builtinfunc" id="7533535">new</span><span class="op" id="7533538">(</span><span class="ident" id="7533539">Scanner</span><span class="op" id="7533546">)</span><span class="op" id="7533547">.</span><span class="ident" id="7533548">Init</span><span class="op" id="7533552">(</span><span class="ident" id="7533553">src</span><span class="op" id="7533556">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533559">s</span><span class="op" id="7533560">.</span><span class="ident" id="7533561">Mode</span>&nbsp;<span class="op" id="7533566">=</span>&nbsp;<span class="num" id="7533568">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7533576">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533614">s</span><span class="op" id="7533615">.</span><span class="ident" id="7533616">Whitespace</span>&nbsp;<span class="op" id="7533627">=</span>&nbsp;<span class="num" id="7533629">0</span>&nbsp;<span class="comment" id="7533631">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533661">tok</span>&nbsp;<span class="op" id="7533665">:=</span>&nbsp;<span class="ident" id="7533668">s</span><span class="op" id="7533669">.</span><span class="ident" id="7533670">Scan</span><span class="op" id="7533674">(</span><span class="op" id="7533675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533678">for</span>&nbsp;<span class="ident" id="7533682">i</span><span class="op" id="7533683">,</span>&nbsp;<span class="ident" id="7533685">ch</span>&nbsp;<span class="op" id="7533688">:=</span>&nbsp;<span class="keyword" id="7533691">range</span>&nbsp;<span class="ident" id="7533697">str</span>&nbsp;<span class="op" id="7533701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533705">if</span>&nbsp;<span class="ident" id="7533708">tok</span>&nbsp;<span class="op" id="7533712">!=</span>&nbsp;<span class="ident" id="7533715">ch</span>&nbsp;<span class="op" id="7533718">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533723">t</span><span class="op" id="7533724">.</span><span class="ident" id="7533725">Fatalf</span><span class="op" id="7533731">(</span><span class="string" id="7533732">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7533755">,</span>&nbsp;<span class="ident" id="7533757">i</span><span class="op" id="7533758">,</span>&nbsp;<span class="ident" id="7533760">TokenString</span><span class="op" id="7533771">(</span><span class="ident" id="7533772">tok</span><span class="op" id="7533775">)</span><span class="op" id="7533776">,</span>&nbsp;<span class="ident" id="7533778">TokenString</span><span class="op" id="7533789">(</span><span class="ident" id="7533790">ch</span><span class="op" id="7533792">)</span><span class="op" id="7533793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533801">tok</span>&nbsp;<span class="op" id="7533805">=</span>&nbsp;<span class="ident" id="7533807">s</span><span class="op" id="7533808">.</span><span class="ident" id="7533809">Scan</span><span class="op" id="7533813">(</span><span class="op" id="7533814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533820">if</span>&nbsp;<span class="ident" id="7533823">tok</span>&nbsp;<span class="op" id="7533827">!=</span>&nbsp;<span class="ident" id="7533830">EOF</span>&nbsp;<span class="op" id="7533834">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533838">t</span><span class="op" id="7533839">.</span><span class="ident" id="7533840">Fatalf</span><span class="op" id="7533846">(</span><span class="string" id="7533847">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7533867">,</span>&nbsp;<span class="ident" id="7533869">TokenString</span><span class="op" id="7533880">(</span><span class="ident" id="7533881">tok</span><span class="op" id="7533884">)</span><span class="op" id="7533885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7533891">if</span>&nbsp;<span class="ident" id="7533894">s</span><span class="op" id="7533895">.</span><span class="ident" id="7533896">ErrorCount</span>&nbsp;<span class="op" id="7533907">!=</span>&nbsp;<span class="num" id="7533910">0</span>&nbsp;<span class="op" id="7533912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7533916">t</span><span class="op" id="7533917">.</span><span class="ident" id="7533918">Errorf</span><span class="op" id="7533924">(</span><span class="string" id="7533925">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7533936">,</span>&nbsp;<span class="ident" id="7533938">s</span><span class="op" id="7533939">.</span><span class="ident" id="7533940">ErrorCount</span><span class="op" id="7533950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7533953">}</span><br>
<span class="lineno">330</span><span class="op" id="7533955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7533958">func</span>&nbsp;<span class="ident" id="7533963">testScanSelectedMode</span><span class="op" id="7533983">(</span><span class="ident" id="7533984">t</span>&nbsp;<span class="op" id="7533986">*</span><span class="ident" id="7533987">testing</span><span class="op" id="7533994">.</span><span class="ident" id="7533995">T</span><span class="op" id="7533996">,</span>&nbsp;<span class="ident" id="7533998">mode</span>&nbsp;<span class="builtintype" id="7534003">uint</span><span class="op" id="7534007">,</span>&nbsp;<span class="ident" id="7534009">class</span>&nbsp;<span class="builtintype" id="7534015">rune</span><span class="op" id="7534019">)</span>&nbsp;<span class="op" id="7534021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534024">src</span>&nbsp;<span class="op" id="7534028">:=</span>&nbsp;<span class="ident" id="7534031">makeSource</span><span class="op" id="7534041">(</span><span class="string" id="7534042">&#34;%s\n&#34;</span><span class="op" id="7534048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534051">s</span>&nbsp;<span class="op" id="7534053">:=</span>&nbsp;<span class="builtinfunc" id="7534056">new</span><span class="op" id="7534059">(</span><span class="ident" id="7534060">Scanner</span><span class="op" id="7534067">)</span><span class="op" id="7534068">.</span><span class="ident" id="7534069">Init</span><span class="op" id="7534073">(</span><span class="ident" id="7534074">src</span><span class="op" id="7534077">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534080">s</span><span class="op" id="7534081">.</span><span class="ident" id="7534082">Mode</span>&nbsp;<span class="op" id="7534087">=</span>&nbsp;<span class="ident" id="7534089">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534095">tok</span>&nbsp;<span class="op" id="7534099">:=</span>&nbsp;<span class="ident" id="7534102">s</span><span class="op" id="7534103">.</span><span class="ident" id="7534104">Scan</span><span class="op" id="7534108">(</span><span class="op" id="7534109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534112">for</span>&nbsp;<span class="ident" id="7534116">tok</span>&nbsp;<span class="op" id="7534120">!=</span>&nbsp;<span class="ident" id="7534123">EOF</span>&nbsp;<span class="op" id="7534127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534131">if</span>&nbsp;<span class="ident" id="7534134">tok</span>&nbsp;<span class="op" id="7534138">&lt;</span>&nbsp;<span class="num" id="7534140">0</span>&nbsp;<span class="op" id="7534142">&amp;&amp;</span>&nbsp;<span class="ident" id="7534145">tok</span>&nbsp;<span class="op" id="7534149">!=</span>&nbsp;<span class="ident" id="7534152">class</span>&nbsp;<span class="op" id="7534158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534163">t</span><span class="op" id="7534164">.</span><span class="ident" id="7534165">Fatalf</span><span class="op" id="7534171">(</span><span class="string" id="7534172">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7534191">,</span>&nbsp;<span class="ident" id="7534193">TokenString</span><span class="op" id="7534204">(</span><span class="ident" id="7534205">tok</span><span class="op" id="7534208">)</span><span class="op" id="7534209">,</span>&nbsp;<span class="ident" id="7534211">TokenString</span><span class="op" id="7534222">(</span><span class="ident" id="7534223">class</span><span class="op" id="7534228">)</span><span class="op" id="7534229">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534237">tok</span>&nbsp;<span class="op" id="7534241">=</span>&nbsp;<span class="ident" id="7534243">s</span><span class="op" id="7534244">.</span><span class="ident" id="7534245">Scan</span><span class="op" id="7534249">(</span><span class="op" id="7534250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534256">if</span>&nbsp;<span class="ident" id="7534259">s</span><span class="op" id="7534260">.</span><span class="ident" id="7534261">ErrorCount</span>&nbsp;<span class="op" id="7534272">!=</span>&nbsp;<span class="num" id="7534275">0</span>&nbsp;<span class="op" id="7534277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534281">t</span><span class="op" id="7534282">.</span><span class="ident" id="7534283">Errorf</span><span class="op" id="7534289">(</span><span class="string" id="7534290">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7534301">,</span>&nbsp;<span class="ident" id="7534303">s</span><span class="op" id="7534304">.</span><span class="ident" id="7534305">ErrorCount</span><span class="op" id="7534315">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7534318">}</span><br>
<span class="lineno"></span><span class="op" id="7534320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7534323">func</span>&nbsp;<span class="ident" id="7534328">TestScanSelectedMask</span><span class="op" id="7534348">(</span><span class="ident" id="7534349">t</span>&nbsp;<span class="op" id="7534351">*</span><span class="ident" id="7534352">testing</span><span class="op" id="7534359">.</span><span class="ident" id="7534360">T</span><span class="op" id="7534361">)</span>&nbsp;<span class="op" id="7534363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534366">testScanSelectedMode</span><span class="op" id="7534386">(</span><span class="ident" id="7534387">t</span><span class="op" id="7534388">,</span>&nbsp;<span class="num" id="7534390">0</span><span class="op" id="7534391">,</span>&nbsp;<span class="num" id="7534393">0</span><span class="op" id="7534394">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534397">testScanSelectedMode</span><span class="op" id="7534417">(</span><span class="ident" id="7534418">t</span><span class="op" id="7534419">,</span>&nbsp;<span class="ident" id="7534421">ScanIdents</span><span class="op" id="7534431">,</span>&nbsp;<span class="ident" id="7534433">Ident</span><span class="op" id="7534438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7534441">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7534501">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7534561">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534613">testScanSelectedMode</span><span class="op" id="7534633">(</span><span class="ident" id="7534634">t</span><span class="op" id="7534635">,</span>&nbsp;<span class="ident" id="7534637">ScanChars</span><span class="op" id="7534646">,</span>&nbsp;<span class="ident" id="7534648">Char</span><span class="op" id="7534652">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534655">testScanSelectedMode</span><span class="op" id="7534675">(</span><span class="ident" id="7534676">t</span><span class="op" id="7534677">,</span>&nbsp;<span class="ident" id="7534679">ScanStrings</span><span class="op" id="7534690">,</span>&nbsp;<span class="ident" id="7534692">String</span><span class="op" id="7534698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534701">testScanSelectedMode</span><span class="op" id="7534721">(</span><span class="ident" id="7534722">t</span><span class="op" id="7534723">,</span>&nbsp;<span class="ident" id="7534725">SkipComments</span><span class="op" id="7534737">,</span>&nbsp;<span class="num" id="7534739">0</span><span class="op" id="7534740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534743">testScanSelectedMode</span><span class="op" id="7534763">(</span><span class="ident" id="7534764">t</span><span class="op" id="7534765">,</span>&nbsp;<span class="ident" id="7534767">ScanComments</span><span class="op" id="7534779">,</span>&nbsp;<span class="ident" id="7534781">Comment</span><span class="op" id="7534788">)</span><br>
<span class="lineno"></span><span class="op" id="7534790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="7534793">func</span>&nbsp;<span class="ident" id="7534798">TestScanCustomIdent</span><span class="op" id="7534817">(</span><span class="ident" id="7534818">t</span>&nbsp;<span class="op" id="7534820">*</span><span class="ident" id="7534821">testing</span><span class="op" id="7534828">.</span><span class="ident" id="7534829">T</span><span class="op" id="7534830">)</span>&nbsp;<span class="op" id="7534832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7534835">const</span>&nbsp;<span class="ident" id="7534841">src</span>&nbsp;<span class="op" id="7534845">=</span>&nbsp;<span class="string" id="7534847">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7534875">s</span>&nbsp;<span class="op" id="7534877">:=</span>&nbsp;<span class="builtinfunc" id="7534880">new</span><span class="op" id="7534883">(</span><span class="ident" id="7534884">Scanner</span><span class="op" id="7534891">)</span><span class="op" id="7534892">.</span><span class="ident" id="7534893">Init</span><span class="op" id="7534897">(</span><span class="ident" id="7534898">strings</span><span class="op" id="7534905">.</span><span class="ident" id="7534906">NewReader</span><span class="op" id="7534915">(</span><span class="ident" id="7534916">src</span><span class="op" id="7534919">)</span><span class="op" id="7534920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7534923">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7534961">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7534986">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535017">s</span><span class="op" id="7535018">.</span><span class="ident" id="7535019">IsIdentRune</span>&nbsp;<span class="op" id="7535031">=</span>&nbsp;<span class="keyword" id="7535033">func</span><span class="op" id="7535037">(</span><span class="ident" id="7535038">ch</span>&nbsp;<span class="builtintype" id="7535041">rune</span><span class="op" id="7535045">,</span>&nbsp;<span class="ident" id="7535047">i</span>&nbsp;<span class="builtintype" id="7535049">int</span><span class="op" id="7535052">)</span>&nbsp;<span class="builtintype" id="7535054">bool</span>&nbsp;<span class="op" id="7535059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535063">return</span>&nbsp;<span class="ident" id="7535070">i</span>&nbsp;<span class="op" id="7535072">==</span>&nbsp;<span class="num" id="7535075">0</span>&nbsp;<span class="op" id="7535077">&amp;&amp;</span>&nbsp;<span class="op" id="7535080">(</span><span class="ident" id="7535081">ch</span>&nbsp;<span class="op" id="7535084">==</span>&nbsp;<span class="string" id="7535087">&#39;a&#39;</span>&nbsp;<span class="op" id="7535091">||</span>&nbsp;<span class="ident" id="7535094">ch</span>&nbsp;<span class="op" id="7535097">==</span>&nbsp;<span class="string" id="7535100">&#39;b&#39;</span><span class="op" id="7535103">)</span>&nbsp;<span class="op" id="7535105">||</span>&nbsp;<span class="num" id="7535108">0</span>&nbsp;<span class="op" id="7535110">&lt;</span>&nbsp;<span class="ident" id="7535112">i</span>&nbsp;<span class="op" id="7535114">&amp;&amp;</span>&nbsp;<span class="ident" id="7535117">i</span>&nbsp;<span class="op" id="7535119">&lt;</span>&nbsp;<span class="num" id="7535121">4</span>&nbsp;<span class="op" id="7535123">&amp;&amp;</span>&nbsp;<span class="string" id="7535126">&#39;0&#39;</span>&nbsp;<span class="op" id="7535130">&lt;=</span>&nbsp;<span class="ident" id="7535133">ch</span>&nbsp;<span class="op" id="7535136">&amp;&amp;</span>&nbsp;<span class="ident" id="7535139">ch</span>&nbsp;<span class="op" id="7535142">&lt;=</span>&nbsp;<span class="string" id="7535145">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7535150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535153">checkTok</span><span class="op" id="7535161">(</span><span class="ident" id="7535162">t</span><span class="op" id="7535163">,</span>&nbsp;<span class="ident" id="7535165">s</span><span class="op" id="7535166">,</span>&nbsp;<span class="num" id="7535168">1</span><span class="op" id="7535169">,</span>&nbsp;<span class="ident" id="7535171">s</span><span class="op" id="7535172">.</span><span class="ident" id="7535173">Scan</span><span class="op" id="7535177">(</span><span class="op" id="7535178">)</span><span class="op" id="7535179">,</span>&nbsp;<span class="string" id="7535181">&#39;f&#39;</span><span class="op" id="7535184">,</span>&nbsp;<span class="string" id="7535186">&#34;f&#34;</span><span class="op" id="7535189">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535192">checkTok</span><span class="op" id="7535200">(</span><span class="ident" id="7535201">t</span><span class="op" id="7535202">,</span>&nbsp;<span class="ident" id="7535204">s</span><span class="op" id="7535205">,</span>&nbsp;<span class="num" id="7535207">1</span><span class="op" id="7535208">,</span>&nbsp;<span class="ident" id="7535210">s</span><span class="op" id="7535211">.</span><span class="ident" id="7535212">Scan</span><span class="op" id="7535216">(</span><span class="op" id="7535217">)</span><span class="op" id="7535218">,</span>&nbsp;<span class="ident" id="7535220">Ident</span><span class="op" id="7535225">,</span>&nbsp;<span class="string" id="7535227">&#34;a&#34;</span><span class="op" id="7535230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535233">checkTok</span><span class="op" id="7535241">(</span><span class="ident" id="7535242">t</span><span class="op" id="7535243">,</span>&nbsp;<span class="ident" id="7535245">s</span><span class="op" id="7535246">,</span>&nbsp;<span class="num" id="7535248">1</span><span class="op" id="7535249">,</span>&nbsp;<span class="ident" id="7535251">s</span><span class="op" id="7535252">.</span><span class="ident" id="7535253">Scan</span><span class="op" id="7535257">(</span><span class="op" id="7535258">)</span><span class="op" id="7535259">,</span>&nbsp;<span class="ident" id="7535261">Ident</span><span class="op" id="7535266">,</span>&nbsp;<span class="string" id="7535268">&#34;a&#34;</span><span class="op" id="7535271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535274">checkTok</span><span class="op" id="7535282">(</span><span class="ident" id="7535283">t</span><span class="op" id="7535284">,</span>&nbsp;<span class="ident" id="7535286">s</span><span class="op" id="7535287">,</span>&nbsp;<span class="num" id="7535289">1</span><span class="op" id="7535290">,</span>&nbsp;<span class="ident" id="7535292">s</span><span class="op" id="7535293">.</span><span class="ident" id="7535294">Scan</span><span class="op" id="7535298">(</span><span class="op" id="7535299">)</span><span class="op" id="7535300">,</span>&nbsp;<span class="ident" id="7535302">Ident</span><span class="op" id="7535307">,</span>&nbsp;<span class="string" id="7535309">&#34;b123&#34;</span><span class="op" id="7535315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535318">checkTok</span><span class="op" id="7535326">(</span><span class="ident" id="7535327">t</span><span class="op" id="7535328">,</span>&nbsp;<span class="ident" id="7535330">s</span><span class="op" id="7535331">,</span>&nbsp;<span class="num" id="7535333">1</span><span class="op" id="7535334">,</span>&nbsp;<span class="ident" id="7535336">s</span><span class="op" id="7535337">.</span><span class="ident" id="7535338">Scan</span><span class="op" id="7535342">(</span><span class="op" id="7535343">)</span><span class="op" id="7535344">,</span>&nbsp;<span class="ident" id="7535346">Int</span><span class="op" id="7535349">,</span>&nbsp;<span class="string" id="7535351">&#34;45&#34;</span><span class="op" id="7535355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535358">checkTok</span><span class="op" id="7535366">(</span><span class="ident" id="7535367">t</span><span class="op" id="7535368">,</span>&nbsp;<span class="ident" id="7535370">s</span><span class="op" id="7535371">,</span>&nbsp;<span class="num" id="7535373">1</span><span class="op" id="7535374">,</span>&nbsp;<span class="ident" id="7535376">s</span><span class="op" id="7535377">.</span><span class="ident" id="7535378">Scan</span><span class="op" id="7535382">(</span><span class="op" id="7535383">)</span><span class="op" id="7535384">,</span>&nbsp;<span class="ident" id="7535386">Ident</span><span class="op" id="7535391">,</span>&nbsp;<span class="string" id="7535393">&#34;a12&#34;</span><span class="op" id="7535398">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535401">checkTok</span><span class="op" id="7535409">(</span><span class="ident" id="7535410">t</span><span class="op" id="7535411">,</span>&nbsp;<span class="ident" id="7535413">s</span><span class="op" id="7535414">,</span>&nbsp;<span class="num" id="7535416">1</span><span class="op" id="7535417">,</span>&nbsp;<span class="ident" id="7535419">s</span><span class="op" id="7535420">.</span><span class="ident" id="7535421">Scan</span><span class="op" id="7535425">(</span><span class="op" id="7535426">)</span><span class="op" id="7535427">,</span>&nbsp;<span class="ident" id="7535429">Ident</span><span class="op" id="7535434">,</span>&nbsp;<span class="string" id="7535436">&#34;b123&#34;</span><span class="op" id="7535442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535445">checkTok</span><span class="op" id="7535453">(</span><span class="ident" id="7535454">t</span><span class="op" id="7535455">,</span>&nbsp;<span class="ident" id="7535457">s</span><span class="op" id="7535458">,</span>&nbsp;<span class="num" id="7535460">1</span><span class="op" id="7535461">,</span>&nbsp;<span class="ident" id="7535463">s</span><span class="op" id="7535464">.</span><span class="ident" id="7535465">Scan</span><span class="op" id="7535469">(</span><span class="op" id="7535470">)</span><span class="op" id="7535471">,</span>&nbsp;<span class="ident" id="7535473">Ident</span><span class="op" id="7535478">,</span>&nbsp;<span class="string" id="7535480">&#34;a12&#34;</span><span class="op" id="7535485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535488">checkTok</span><span class="op" id="7535496">(</span><span class="ident" id="7535497">t</span><span class="op" id="7535498">,</span>&nbsp;<span class="ident" id="7535500">s</span><span class="op" id="7535501">,</span>&nbsp;<span class="num" id="7535503">1</span><span class="op" id="7535504">,</span>&nbsp;<span class="ident" id="7535506">s</span><span class="op" id="7535507">.</span><span class="ident" id="7535508">Scan</span><span class="op" id="7535512">(</span><span class="op" id="7535513">)</span><span class="op" id="7535514">,</span>&nbsp;<span class="ident" id="7535516">Int</span><span class="op" id="7535519">,</span>&nbsp;<span class="string" id="7535521">&#34;3&#34;</span><span class="op" id="7535524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535527">checkTok</span><span class="op" id="7535535">(</span><span class="ident" id="7535536">t</span><span class="op" id="7535537">,</span>&nbsp;<span class="ident" id="7535539">s</span><span class="op" id="7535540">,</span>&nbsp;<span class="num" id="7535542">1</span><span class="op" id="7535543">,</span>&nbsp;<span class="ident" id="7535545">s</span><span class="op" id="7535546">.</span><span class="ident" id="7535547">Scan</span><span class="op" id="7535551">(</span><span class="op" id="7535552">)</span><span class="op" id="7535553">,</span>&nbsp;<span class="ident" id="7535555">Ident</span><span class="op" id="7535560">,</span>&nbsp;<span class="string" id="7535562">&#34;b&#34;</span><span class="op" id="7535565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535568">checkTok</span><span class="op" id="7535576">(</span><span class="ident" id="7535577">t</span><span class="op" id="7535578">,</span>&nbsp;<span class="ident" id="7535580">s</span><span class="op" id="7535581">,</span>&nbsp;<span class="num" id="7535583">1</span><span class="op" id="7535584">,</span>&nbsp;<span class="ident" id="7535586">s</span><span class="op" id="7535587">.</span><span class="ident" id="7535588">Scan</span><span class="op" id="7535592">(</span><span class="op" id="7535593">)</span><span class="op" id="7535594">,</span>&nbsp;<span class="ident" id="7535596">EOF</span><span class="op" id="7535599">,</span>&nbsp;<span class="string" id="7535601">&#34;&#34;</span><span class="op" id="7535603">)</span><br>
<span class="lineno">380</span><span class="op" id="7535605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7535608">func</span>&nbsp;<span class="ident" id="7535613">TestScanNext</span><span class="op" id="7535625">(</span><span class="ident" id="7535626">t</span>&nbsp;<span class="op" id="7535628">*</span><span class="ident" id="7535629">testing</span><span class="op" id="7535636">.</span><span class="ident" id="7535637">T</span><span class="op" id="7535638">)</span>&nbsp;<span class="op" id="7535640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7535643">const</span>&nbsp;<span class="ident" id="7535649">BOM</span>&nbsp;<span class="op" id="7535653">=</span>&nbsp;<span class="string" id="7535655">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535665">BOMs</span>&nbsp;<span class="op" id="7535670">:=</span>&nbsp;<span class="builtintype" id="7535673">string</span><span class="op" id="7535679">(</span><span class="ident" id="7535680">BOM</span><span class="op" id="7535683">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535686">s</span>&nbsp;<span class="op" id="7535688">:=</span>&nbsp;<span class="builtinfunc" id="7535691">new</span><span class="op" id="7535694">(</span><span class="ident" id="7535695">Scanner</span><span class="op" id="7535702">)</span><span class="op" id="7535703">.</span><span class="ident" id="7535704">Init</span><span class="op" id="7535708">(</span><span class="ident" id="7535709">strings</span><span class="op" id="7535716">.</span><span class="ident" id="7535717">NewReader</span><span class="op" id="7535726">(</span><span class="ident" id="7535727">BOMs</span>&nbsp;<span class="op" id="7535732">+</span>&nbsp;<span class="string" id="7535734">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="7535755">+</span>&nbsp;<span class="ident" id="7535757">BOMs</span>&nbsp;<span class="op" id="7535762">+</span>&nbsp;<span class="string" id="7535764">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="7535789">+</span>&nbsp;<span class="ident" id="7535791">BOMs</span>&nbsp;<span class="op" id="7535796">+</span>&nbsp;<span class="string" id="7535798">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="7535829">)</span><span class="op" id="7535830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535833">checkTok</span><span class="op" id="7535841">(</span><span class="ident" id="7535842">t</span><span class="op" id="7535843">,</span>&nbsp;<span class="ident" id="7535845">s</span><span class="op" id="7535846">,</span>&nbsp;<span class="num" id="7535848">1</span><span class="op" id="7535849">,</span>&nbsp;<span class="ident" id="7535851">s</span><span class="op" id="7535852">.</span><span class="ident" id="7535853">Scan</span><span class="op" id="7535857">(</span><span class="op" id="7535858">)</span><span class="op" id="7535859">,</span>&nbsp;<span class="ident" id="7535861">Ident</span><span class="op" id="7535866">,</span>&nbsp;<span class="string" id="7535868">&#34;if&#34;</span><span class="op" id="7535872">)</span>&nbsp;<span class="comment" id="7535874">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535903">checkTok</span><span class="op" id="7535911">(</span><span class="ident" id="7535912">t</span><span class="op" id="7535913">,</span>&nbsp;<span class="ident" id="7535915">s</span><span class="op" id="7535916">,</span>&nbsp;<span class="num" id="7535918">1</span><span class="op" id="7535919">,</span>&nbsp;<span class="ident" id="7535921">s</span><span class="op" id="7535922">.</span><span class="ident" id="7535923">Scan</span><span class="op" id="7535927">(</span><span class="op" id="7535928">)</span><span class="op" id="7535929">,</span>&nbsp;<span class="ident" id="7535931">Ident</span><span class="op" id="7535936">,</span>&nbsp;<span class="string" id="7535938">&#34;a&#34;</span><span class="op" id="7535941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535944">checkTok</span><span class="op" id="7535952">(</span><span class="ident" id="7535953">t</span><span class="op" id="7535954">,</span>&nbsp;<span class="ident" id="7535956">s</span><span class="op" id="7535957">,</span>&nbsp;<span class="num" id="7535959">1</span><span class="op" id="7535960">,</span>&nbsp;<span class="ident" id="7535962">s</span><span class="op" id="7535963">.</span><span class="ident" id="7535964">Scan</span><span class="op" id="7535968">(</span><span class="op" id="7535969">)</span><span class="op" id="7535970">,</span>&nbsp;<span class="string" id="7535972">&#39;=&#39;</span><span class="op" id="7535975">,</span>&nbsp;<span class="string" id="7535977">&#34;=&#34;</span><span class="op" id="7535980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7535983">checkTok</span><span class="op" id="7535991">(</span><span class="ident" id="7535992">t</span><span class="op" id="7535993">,</span>&nbsp;<span class="ident" id="7535995">s</span><span class="op" id="7535996">,</span>&nbsp;<span class="num" id="7535998">0</span><span class="op" id="7535999">,</span>&nbsp;<span class="ident" id="7536001">s</span><span class="op" id="7536002">.</span><span class="ident" id="7536003">Next</span><span class="op" id="7536007">(</span><span class="op" id="7536008">)</span><span class="op" id="7536009">,</span>&nbsp;<span class="string" id="7536011">&#39;=&#39;</span><span class="op" id="7536014">,</span>&nbsp;<span class="string" id="7536016">&#34;&#34;</span><span class="op" id="7536018">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536021">checkTok</span><span class="op" id="7536029">(</span><span class="ident" id="7536030">t</span><span class="op" id="7536031">,</span>&nbsp;<span class="ident" id="7536033">s</span><span class="op" id="7536034">,</span>&nbsp;<span class="num" id="7536036">0</span><span class="op" id="7536037">,</span>&nbsp;<span class="ident" id="7536039">s</span><span class="op" id="7536040">.</span><span class="ident" id="7536041">Next</span><span class="op" id="7536045">(</span><span class="op" id="7536046">)</span><span class="op" id="7536047">,</span>&nbsp;<span class="string" id="7536049">&#39;&nbsp;&#39;</span><span class="op" id="7536052">,</span>&nbsp;<span class="string" id="7536054">&#34;&#34;</span><span class="op" id="7536056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536059">checkTok</span><span class="op" id="7536067">(</span><span class="ident" id="7536068">t</span><span class="op" id="7536069">,</span>&nbsp;<span class="ident" id="7536071">s</span><span class="op" id="7536072">,</span>&nbsp;<span class="num" id="7536074">0</span><span class="op" id="7536075">,</span>&nbsp;<span class="ident" id="7536077">s</span><span class="op" id="7536078">.</span><span class="ident" id="7536079">Next</span><span class="op" id="7536083">(</span><span class="op" id="7536084">)</span><span class="op" id="7536085">,</span>&nbsp;<span class="string" id="7536087">&#39;b&#39;</span><span class="op" id="7536090">,</span>&nbsp;<span class="string" id="7536092">&#34;&#34;</span><span class="op" id="7536094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536097">checkTok</span><span class="op" id="7536105">(</span><span class="ident" id="7536106">t</span><span class="op" id="7536107">,</span>&nbsp;<span class="ident" id="7536109">s</span><span class="op" id="7536110">,</span>&nbsp;<span class="num" id="7536112">1</span><span class="op" id="7536113">,</span>&nbsp;<span class="ident" id="7536115">s</span><span class="op" id="7536116">.</span><span class="ident" id="7536117">Scan</span><span class="op" id="7536121">(</span><span class="op" id="7536122">)</span><span class="op" id="7536123">,</span>&nbsp;<span class="ident" id="7536125">Ident</span><span class="op" id="7536130">,</span>&nbsp;<span class="string" id="7536132">&#34;cd&#34;</span><span class="op" id="7536136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536139">checkTok</span><span class="op" id="7536147">(</span><span class="ident" id="7536148">t</span><span class="op" id="7536149">,</span>&nbsp;<span class="ident" id="7536151">s</span><span class="op" id="7536152">,</span>&nbsp;<span class="num" id="7536154">1</span><span class="op" id="7536155">,</span>&nbsp;<span class="ident" id="7536157">s</span><span class="op" id="7536158">.</span><span class="ident" id="7536159">Scan</span><span class="op" id="7536163">(</span><span class="op" id="7536164">)</span><span class="op" id="7536165">,</span>&nbsp;<span class="string" id="7536167">&#39;{&#39;</span><span class="op" id="7536170">,</span>&nbsp;<span class="string" id="7536172">&#34;{&#34;</span><span class="op" id="7536175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536178">checkTok</span><span class="op" id="7536186">(</span><span class="ident" id="7536187">t</span><span class="op" id="7536188">,</span>&nbsp;<span class="ident" id="7536190">s</span><span class="op" id="7536191">,</span>&nbsp;<span class="num" id="7536193">2</span><span class="op" id="7536194">,</span>&nbsp;<span class="ident" id="7536196">s</span><span class="op" id="7536197">.</span><span class="ident" id="7536198">Scan</span><span class="op" id="7536202">(</span><span class="op" id="7536203">)</span><span class="op" id="7536204">,</span>&nbsp;<span class="ident" id="7536206">Ident</span><span class="op" id="7536211">,</span>&nbsp;<span class="string" id="7536213">&#34;a&#34;</span><span class="op" id="7536216">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536219">checkTok</span><span class="op" id="7536227">(</span><span class="ident" id="7536228">t</span><span class="op" id="7536229">,</span>&nbsp;<span class="ident" id="7536231">s</span><span class="op" id="7536232">,</span>&nbsp;<span class="num" id="7536234">2</span><span class="op" id="7536235">,</span>&nbsp;<span class="ident" id="7536237">s</span><span class="op" id="7536238">.</span><span class="ident" id="7536239">Scan</span><span class="op" id="7536243">(</span><span class="op" id="7536244">)</span><span class="op" id="7536245">,</span>&nbsp;<span class="string" id="7536247">&#39;+&#39;</span><span class="op" id="7536250">,</span>&nbsp;<span class="string" id="7536252">&#34;+&#34;</span><span class="op" id="7536255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536258">checkTok</span><span class="op" id="7536266">(</span><span class="ident" id="7536267">t</span><span class="op" id="7536268">,</span>&nbsp;<span class="ident" id="7536270">s</span><span class="op" id="7536271">,</span>&nbsp;<span class="num" id="7536273">0</span><span class="op" id="7536274">,</span>&nbsp;<span class="ident" id="7536276">s</span><span class="op" id="7536277">.</span><span class="ident" id="7536278">Next</span><span class="op" id="7536282">(</span><span class="op" id="7536283">)</span><span class="op" id="7536284">,</span>&nbsp;<span class="string" id="7536286">&#39;=&#39;</span><span class="op" id="7536289">,</span>&nbsp;<span class="string" id="7536291">&#34;&#34;</span><span class="op" id="7536293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536296">checkTok</span><span class="op" id="7536304">(</span><span class="ident" id="7536305">t</span><span class="op" id="7536306">,</span>&nbsp;<span class="ident" id="7536308">s</span><span class="op" id="7536309">,</span>&nbsp;<span class="num" id="7536311">2</span><span class="op" id="7536312">,</span>&nbsp;<span class="ident" id="7536314">s</span><span class="op" id="7536315">.</span><span class="ident" id="7536316">Scan</span><span class="op" id="7536320">(</span><span class="op" id="7536321">)</span><span class="op" id="7536322">,</span>&nbsp;<span class="ident" id="7536324">Ident</span><span class="op" id="7536329">,</span>&nbsp;<span class="string" id="7536331">&#34;c&#34;</span><span class="op" id="7536334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536337">checkTok</span><span class="op" id="7536345">(</span><span class="ident" id="7536346">t</span><span class="op" id="7536347">,</span>&nbsp;<span class="ident" id="7536349">s</span><span class="op" id="7536350">,</span>&nbsp;<span class="num" id="7536352">3</span><span class="op" id="7536353">,</span>&nbsp;<span class="ident" id="7536355">s</span><span class="op" id="7536356">.</span><span class="ident" id="7536357">Scan</span><span class="op" id="7536361">(</span><span class="op" id="7536362">)</span><span class="op" id="7536363">,</span>&nbsp;<span class="string" id="7536365">&#39;}&#39;</span><span class="op" id="7536368">,</span>&nbsp;<span class="string" id="7536370">&#34;}&#34;</span><span class="op" id="7536373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536376">checkTok</span><span class="op" id="7536384">(</span><span class="ident" id="7536385">t</span><span class="op" id="7536386">,</span>&nbsp;<span class="ident" id="7536388">s</span><span class="op" id="7536389">,</span>&nbsp;<span class="num" id="7536391">3</span><span class="op" id="7536392">,</span>&nbsp;<span class="ident" id="7536394">s</span><span class="op" id="7536395">.</span><span class="ident" id="7536396">Scan</span><span class="op" id="7536400">(</span><span class="op" id="7536401">)</span><span class="op" id="7536402">,</span>&nbsp;<span class="ident" id="7536404">BOM</span><span class="op" id="7536407">,</span>&nbsp;<span class="ident" id="7536409">BOMs</span><span class="op" id="7536413">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536416">checkTok</span><span class="op" id="7536424">(</span><span class="ident" id="7536425">t</span><span class="op" id="7536426">,</span>&nbsp;<span class="ident" id="7536428">s</span><span class="op" id="7536429">,</span>&nbsp;<span class="num" id="7536431">3</span><span class="op" id="7536432">,</span>&nbsp;<span class="ident" id="7536434">s</span><span class="op" id="7536435">.</span><span class="ident" id="7536436">Scan</span><span class="op" id="7536440">(</span><span class="op" id="7536441">)</span><span class="op" id="7536442">,</span>&nbsp;<span class="op" id="7536444">-</span><span class="num" id="7536445">1</span><span class="op" id="7536446">,</span>&nbsp;<span class="string" id="7536448">&#34;&#34;</span><span class="op" id="7536450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536453">if</span>&nbsp;<span class="ident" id="7536456">s</span><span class="op" id="7536457">.</span><span class="ident" id="7536458">ErrorCount</span>&nbsp;<span class="op" id="7536469">!=</span>&nbsp;<span class="num" id="7536472">0</span>&nbsp;<span class="op" id="7536474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536478">t</span><span class="op" id="7536479">.</span><span class="ident" id="7536480">Errorf</span><span class="op" id="7536486">(</span><span class="string" id="7536487">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7536498">,</span>&nbsp;<span class="ident" id="7536500">s</span><span class="op" id="7536501">.</span><span class="ident" id="7536502">ErrorCount</span><span class="op" id="7536512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536515">}</span><br>
<span class="lineno"></span><span class="op" id="7536517">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="7536520">func</span>&nbsp;<span class="ident" id="7536525">TestScanWhitespace</span><span class="op" id="7536543">(</span><span class="ident" id="7536544">t</span>&nbsp;<span class="op" id="7536546">*</span><span class="ident" id="7536547">testing</span><span class="op" id="7536554">.</span><span class="ident" id="7536555">T</span><span class="op" id="7536556">)</span>&nbsp;<span class="op" id="7536558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536561">var</span>&nbsp;<span class="ident" id="7536565">buf</span>&nbsp;<span class="ident" id="7536569">bytes</span><span class="op" id="7536574">.</span><span class="ident" id="7536575">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536583">var</span>&nbsp;<span class="ident" id="7536587">ws</span>&nbsp;<span class="ident" id="7536590">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7536598">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536643">for</span>&nbsp;<span class="ident" id="7536647">ch</span>&nbsp;<span class="op" id="7536650">:=</span>&nbsp;<span class="builtintype" id="7536653">byte</span><span class="op" id="7536657">(</span><span class="num" id="7536658">1</span><span class="op" id="7536659">)</span><span class="op" id="7536660">;</span>&nbsp;<span class="ident" id="7536662">ch</span>&nbsp;<span class="op" id="7536665">&lt;</span>&nbsp;<span class="string" id="7536667">&#39;&nbsp;&#39;</span><span class="op" id="7536670">;</span>&nbsp;<span class="ident" id="7536672">ch</span><span class="op" id="7536674">++</span>&nbsp;<span class="op" id="7536677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536681">buf</span><span class="op" id="7536684">.</span><span class="ident" id="7536685">WriteByte</span><span class="op" id="7536694">(</span><span class="ident" id="7536695">ch</span><span class="op" id="7536697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536701">ws</span>&nbsp;<span class="op" id="7536704">|=</span>&nbsp;<span class="num" id="7536707">1</span>&nbsp;<span class="op" id="7536709">&lt;&lt;</span>&nbsp;<span class="ident" id="7536712">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536719">const</span>&nbsp;<span class="ident" id="7536725">orig</span>&nbsp;<span class="op" id="7536730">=</span>&nbsp;<span class="string" id="7536732">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536737">buf</span><span class="op" id="7536740">.</span><span class="ident" id="7536741">WriteByte</span><span class="op" id="7536750">(</span><span class="ident" id="7536751">orig</span><span class="op" id="7536755">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536759">s</span>&nbsp;<span class="op" id="7536761">:=</span>&nbsp;<span class="builtinfunc" id="7536764">new</span><span class="op" id="7536767">(</span><span class="ident" id="7536768">Scanner</span><span class="op" id="7536775">)</span><span class="op" id="7536776">.</span><span class="ident" id="7536777">Init</span><span class="op" id="7536781">(</span><span class="op" id="7536782">&amp;</span><span class="ident" id="7536783">buf</span><span class="op" id="7536786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536789">s</span><span class="op" id="7536790">.</span><span class="ident" id="7536791">Mode</span>&nbsp;<span class="op" id="7536796">=</span>&nbsp;<span class="num" id="7536798">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536801">s</span><span class="op" id="7536802">.</span><span class="ident" id="7536803">Whitespace</span>&nbsp;<span class="op" id="7536814">=</span>&nbsp;<span class="ident" id="7536816">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536820">tok</span>&nbsp;<span class="op" id="7536824">:=</span>&nbsp;<span class="ident" id="7536827">s</span><span class="op" id="7536828">.</span><span class="ident" id="7536829">Scan</span><span class="op" id="7536833">(</span><span class="op" id="7536834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7536837">if</span>&nbsp;<span class="ident" id="7536840">tok</span>&nbsp;<span class="op" id="7536844">!=</span>&nbsp;<span class="ident" id="7536847">orig</span>&nbsp;<span class="op" id="7536852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536856">t</span><span class="op" id="7536857">.</span><span class="ident" id="7536858">Errorf</span><span class="op" id="7536864">(</span><span class="string" id="7536865">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7536884">,</span>&nbsp;<span class="ident" id="7536886">TokenString</span><span class="op" id="7536897">(</span><span class="ident" id="7536898">tok</span><span class="op" id="7536901">)</span><span class="op" id="7536902">,</span>&nbsp;<span class="ident" id="7536904">TokenString</span><span class="op" id="7536915">(</span><span class="ident" id="7536916">orig</span><span class="op" id="7536920">)</span><span class="op" id="7536921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7536924">}</span><br>
<span class="lineno"></span><span class="op" id="7536926">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="7536929">func</span>&nbsp;<span class="ident" id="7536934">testError</span><span class="op" id="7536943">(</span><span class="ident" id="7536944">t</span>&nbsp;<span class="op" id="7536946">*</span><span class="ident" id="7536947">testing</span><span class="op" id="7536954">.</span><span class="ident" id="7536955">T</span><span class="op" id="7536956">,</span>&nbsp;<span class="ident" id="7536958">src</span><span class="op" id="7536961">,</span>&nbsp;<span class="ident" id="7536963">pos</span><span class="op" id="7536966">,</span>&nbsp;<span class="ident" id="7536968">msg</span>&nbsp;<span class="builtintype" id="7536972">string</span><span class="op" id="7536978">,</span>&nbsp;<span class="ident" id="7536980">tok</span>&nbsp;<span class="builtintype" id="7536984">rune</span><span class="op" id="7536988">)</span>&nbsp;<span class="op" id="7536990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7536993">s</span>&nbsp;<span class="op" id="7536995">:=</span>&nbsp;<span class="builtinfunc" id="7536998">new</span><span class="op" id="7537001">(</span><span class="ident" id="7537002">Scanner</span><span class="op" id="7537009">)</span><span class="op" id="7537010">.</span><span class="ident" id="7537011">Init</span><span class="op" id="7537015">(</span><span class="ident" id="7537016">strings</span><span class="op" id="7537023">.</span><span class="ident" id="7537024">NewReader</span><span class="op" id="7537033">(</span><span class="ident" id="7537034">src</span><span class="op" id="7537037">)</span><span class="op" id="7537038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537041">errorCalled</span>&nbsp;<span class="op" id="7537053">:=</span>&nbsp;<span class="builtintype" id="7537056">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537063">s</span><span class="op" id="7537064">.</span><span class="ident" id="7537065">Error</span>&nbsp;<span class="op" id="7537071">=</span>&nbsp;<span class="keyword" id="7537073">func</span><span class="op" id="7537077">(</span><span class="ident" id="7537078">s</span>&nbsp;<span class="op" id="7537080">*</span><span class="ident" id="7537081">Scanner</span><span class="op" id="7537088">,</span>&nbsp;<span class="ident" id="7537090">m</span>&nbsp;<span class="builtintype" id="7537092">string</span><span class="op" id="7537098">)</span>&nbsp;<span class="op" id="7537100">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537104">if</span>&nbsp;<span class="op" id="7537107">!</span><span class="ident" id="7537108">errorCalled</span>&nbsp;<span class="op" id="7537120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7537125">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537156">if</span>&nbsp;<span class="ident" id="7537159">p</span>&nbsp;<span class="op" id="7537161">:=</span>&nbsp;<span class="ident" id="7537164">s</span><span class="op" id="7537165">.</span><span class="ident" id="7537166">Pos</span><span class="op" id="7537169">(</span><span class="op" id="7537170">)</span><span class="op" id="7537171">.</span><span class="ident" id="7537172">String</span><span class="op" id="7537178">(</span><span class="op" id="7537179">)</span><span class="op" id="7537180">;</span>&nbsp;<span class="ident" id="7537182">p</span>&nbsp;<span class="op" id="7537184">!=</span>&nbsp;<span class="ident" id="7537187">pos</span>&nbsp;<span class="op" id="7537191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537197">t</span><span class="op" id="7537198">.</span><span class="ident" id="7537199">Errorf</span><span class="op" id="7537205">(</span><span class="string" id="7537206">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7537232">,</span>&nbsp;<span class="ident" id="7537234">p</span><span class="op" id="7537235">,</span>&nbsp;<span class="ident" id="7537237">pos</span><span class="op" id="7537240">,</span>&nbsp;<span class="ident" id="7537242">src</span><span class="op" id="7537245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537250">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537255">if</span>&nbsp;<span class="ident" id="7537258">m</span>&nbsp;<span class="op" id="7537260">!=</span>&nbsp;<span class="ident" id="7537263">msg</span>&nbsp;<span class="op" id="7537267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537273">t</span><span class="op" id="7537274">.</span><span class="ident" id="7537275">Errorf</span><span class="op" id="7537281">(</span><span class="string" id="7537282">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7537308">,</span>&nbsp;<span class="ident" id="7537310">m</span><span class="op" id="7537311">,</span>&nbsp;<span class="ident" id="7537313">msg</span><span class="op" id="7537316">,</span>&nbsp;<span class="ident" id="7537318">src</span><span class="op" id="7537321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537331">errorCalled</span>&nbsp;<span class="op" id="7537343">=</span>&nbsp;<span class="builtintype" id="7537345">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537352">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537358">tk</span>&nbsp;<span class="op" id="7537361">:=</span>&nbsp;<span class="ident" id="7537364">s</span><span class="op" id="7537365">.</span><span class="ident" id="7537366">Scan</span><span class="op" id="7537370">(</span><span class="op" id="7537371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537374">if</span>&nbsp;<span class="ident" id="7537377">tk</span>&nbsp;<span class="op" id="7537380">!=</span>&nbsp;<span class="ident" id="7537383">tok</span>&nbsp;<span class="op" id="7537387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537391">t</span><span class="op" id="7537392">.</span><span class="ident" id="7537393">Errorf</span><span class="op" id="7537399">(</span><span class="string" id="7537400">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7537426">,</span>&nbsp;<span class="ident" id="7537428">TokenString</span><span class="op" id="7537439">(</span><span class="ident" id="7537440">tk</span><span class="op" id="7537442">)</span><span class="op" id="7537443">,</span>&nbsp;<span class="ident" id="7537445">TokenString</span><span class="op" id="7537456">(</span><span class="ident" id="7537457">tok</span><span class="op" id="7537460">)</span><span class="op" id="7537461">,</span>&nbsp;<span class="ident" id="7537463">src</span><span class="op" id="7537466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537469">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537472">if</span>&nbsp;<span class="op" id="7537475">!</span><span class="ident" id="7537476">errorCalled</span>&nbsp;<span class="op" id="7537488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537492">t</span><span class="op" id="7537493">.</span><span class="ident" id="7537494">Errorf</span><span class="op" id="7537500">(</span><span class="string" id="7537501">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7537534">,</span>&nbsp;<span class="ident" id="7537536">src</span><span class="op" id="7537539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7537545">if</span>&nbsp;<span class="ident" id="7537548">s</span><span class="op" id="7537549">.</span><span class="ident" id="7537550">ErrorCount</span>&nbsp;<span class="op" id="7537561">==</span>&nbsp;<span class="num" id="7537564">0</span>&nbsp;<span class="op" id="7537566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537570">t</span><span class="op" id="7537571">.</span><span class="ident" id="7537572">Errorf</span><span class="op" id="7537578">(</span><span class="string" id="7537579">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7537608">,</span>&nbsp;<span class="ident" id="7537610">s</span><span class="op" id="7537611">.</span><span class="ident" id="7537612">ErrorCount</span><span class="op" id="7537622">,</span>&nbsp;<span class="ident" id="7537624">src</span><span class="op" id="7537627">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7537630">}</span><br>
<span class="lineno"></span><span class="op" id="7537632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7537635">func</span>&nbsp;<span class="ident" id="7537640">TestError</span><span class="op" id="7537649">(</span><span class="ident" id="7537650">t</span>&nbsp;<span class="op" id="7537652">*</span><span class="ident" id="7537653">testing</span><span class="op" id="7537660">.</span><span class="ident" id="7537661">T</span><span class="op" id="7537662">)</span>&nbsp;<span class="op" id="7537664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537667">testError</span><span class="op" id="7537676">(</span><span class="ident" id="7537677">t</span><span class="op" id="7537678">,</span>&nbsp;<span class="string" id="7537680">&#34;\x00&#34;</span><span class="op" id="7537686">,</span>&nbsp;<span class="string" id="7537688">&#34;1:1&#34;</span><span class="op" id="7537693">,</span>&nbsp;<span class="string" id="7537695">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7537718">,</span>&nbsp;<span class="num" id="7537720">0</span><span class="op" id="7537721">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537724">testError</span><span class="op" id="7537733">(</span><span class="ident" id="7537734">t</span><span class="op" id="7537735">,</span>&nbsp;<span class="string" id="7537737">&#34;\x80&#34;</span><span class="op" id="7537743">,</span>&nbsp;<span class="string" id="7537745">&#34;1:1&#34;</span><span class="op" id="7537750">,</span>&nbsp;<span class="string" id="7537752">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7537776">,</span>&nbsp;<span class="ident" id="7537778">utf8</span><span class="op" id="7537782">.</span><span class="ident" id="7537783">RuneError</span><span class="op" id="7537792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537795">testError</span><span class="op" id="7537804">(</span><span class="ident" id="7537805">t</span><span class="op" id="7537806">,</span>&nbsp;<span class="string" id="7537808">&#34;\xff&#34;</span><span class="op" id="7537814">,</span>&nbsp;<span class="string" id="7537816">&#34;1:1&#34;</span><span class="op" id="7537821">,</span>&nbsp;<span class="string" id="7537823">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7537847">,</span>&nbsp;<span class="ident" id="7537849">utf8</span><span class="op" id="7537853">.</span><span class="ident" id="7537854">RuneError</span><span class="op" id="7537863">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537867">testError</span><span class="op" id="7537876">(</span><span class="ident" id="7537877">t</span><span class="op" id="7537878">,</span>&nbsp;<span class="string" id="7537880">&#34;a\x00&#34;</span><span class="op" id="7537887">,</span>&nbsp;<span class="string" id="7537889">&#34;1:2&#34;</span><span class="op" id="7537894">,</span>&nbsp;<span class="string" id="7537896">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7537919">,</span>&nbsp;<span class="ident" id="7537921">Ident</span><span class="op" id="7537926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537929">testError</span><span class="op" id="7537938">(</span><span class="ident" id="7537939">t</span><span class="op" id="7537940">,</span>&nbsp;<span class="string" id="7537942">&#34;ab\x80&#34;</span><span class="op" id="7537950">,</span>&nbsp;<span class="string" id="7537952">&#34;1:3&#34;</span><span class="op" id="7537957">,</span>&nbsp;<span class="string" id="7537959">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7537983">,</span>&nbsp;<span class="ident" id="7537985">Ident</span><span class="op" id="7537990">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7537993">testError</span><span class="op" id="7538002">(</span><span class="ident" id="7538003">t</span><span class="op" id="7538004">,</span>&nbsp;<span class="string" id="7538006">&#34;abc\xff&#34;</span><span class="op" id="7538015">,</span>&nbsp;<span class="string" id="7538017">&#34;1:4&#34;</span><span class="op" id="7538022">,</span>&nbsp;<span class="string" id="7538024">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7538048">,</span>&nbsp;<span class="ident" id="7538050">Ident</span><span class="op" id="7538055">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538059">testError</span><span class="op" id="7538068">(</span><span class="ident" id="7538069">t</span><span class="op" id="7538070">,</span>&nbsp;<span class="string" id="7538072">`&#34;a`</span><span class="op" id="7538076">+</span><span class="string" id="7538077">&#34;\x00&#34;</span><span class="op" id="7538083">,</span>&nbsp;<span class="string" id="7538085">&#34;1:3&#34;</span><span class="op" id="7538090">,</span>&nbsp;<span class="string" id="7538092">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7538115">,</span>&nbsp;<span class="ident" id="7538117">String</span><span class="op" id="7538123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538126">testError</span><span class="op" id="7538135">(</span><span class="ident" id="7538136">t</span><span class="op" id="7538137">,</span>&nbsp;<span class="string" id="7538139">`&#34;ab`</span><span class="op" id="7538144">+</span><span class="string" id="7538145">&#34;\x80&#34;</span><span class="op" id="7538151">,</span>&nbsp;<span class="string" id="7538153">&#34;1:4&#34;</span><span class="op" id="7538158">,</span>&nbsp;<span class="string" id="7538160">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7538184">,</span>&nbsp;<span class="ident" id="7538186">String</span><span class="op" id="7538192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538195">testError</span><span class="op" id="7538204">(</span><span class="ident" id="7538205">t</span><span class="op" id="7538206">,</span>&nbsp;<span class="string" id="7538208">`&#34;abc`</span><span class="op" id="7538214">+</span><span class="string" id="7538215">&#34;\xff&#34;</span><span class="op" id="7538221">,</span>&nbsp;<span class="string" id="7538223">&#34;1:5&#34;</span><span class="op" id="7538228">,</span>&nbsp;<span class="string" id="7538230">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7538254">,</span>&nbsp;<span class="ident" id="7538256">String</span><span class="op" id="7538262">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538266">testError</span><span class="op" id="7538275">(</span><span class="ident" id="7538276">t</span><span class="op" id="7538277">,</span>&nbsp;<span class="string" id="7538279">&#34;`a&#34;</span><span class="op" id="7538283">+</span><span class="string" id="7538284">&#34;\x00&#34;</span><span class="op" id="7538290">,</span>&nbsp;<span class="string" id="7538292">&#34;1:3&#34;</span><span class="op" id="7538297">,</span>&nbsp;<span class="string" id="7538299">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7538322">,</span>&nbsp;<span class="ident" id="7538324">String</span><span class="op" id="7538330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538333">testError</span><span class="op" id="7538342">(</span><span class="ident" id="7538343">t</span><span class="op" id="7538344">,</span>&nbsp;<span class="string" id="7538346">&#34;`ab&#34;</span><span class="op" id="7538351">+</span><span class="string" id="7538352">&#34;\x80&#34;</span><span class="op" id="7538358">,</span>&nbsp;<span class="string" id="7538360">&#34;1:4&#34;</span><span class="op" id="7538365">,</span>&nbsp;<span class="string" id="7538367">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7538391">,</span>&nbsp;<span class="ident" id="7538393">String</span><span class="op" id="7538399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538402">testError</span><span class="op" id="7538411">(</span><span class="ident" id="7538412">t</span><span class="op" id="7538413">,</span>&nbsp;<span class="string" id="7538415">&#34;`abc&#34;</span><span class="op" id="7538421">+</span><span class="string" id="7538422">&#34;\xff&#34;</span><span class="op" id="7538428">,</span>&nbsp;<span class="string" id="7538430">&#34;1:5&#34;</span><span class="op" id="7538435">,</span>&nbsp;<span class="string" id="7538437">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7538461">,</span>&nbsp;<span class="ident" id="7538463">String</span><span class="op" id="7538469">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538473">testError</span><span class="op" id="7538482">(</span><span class="ident" id="7538483">t</span><span class="op" id="7538484">,</span>&nbsp;<span class="string" id="7538486">`&#39;\&#34;&#39;`</span><span class="op" id="7538492">,</span>&nbsp;<span class="string" id="7538494">&#34;1:3&#34;</span><span class="op" id="7538499">,</span>&nbsp;<span class="string" id="7538501">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7538522">,</span>&nbsp;<span class="ident" id="7538524">Char</span><span class="op" id="7538528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538531">testError</span><span class="op" id="7538540">(</span><span class="ident" id="7538541">t</span><span class="op" id="7538542">,</span>&nbsp;<span class="string" id="7538544">`&#34;\&#39;&#34;`</span><span class="op" id="7538550">,</span>&nbsp;<span class="string" id="7538552">&#34;1:3&#34;</span><span class="op" id="7538557">,</span>&nbsp;<span class="string" id="7538559">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7538580">,</span>&nbsp;<span class="ident" id="7538582">String</span><span class="op" id="7538588">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538592">testError</span><span class="op" id="7538601">(</span><span class="ident" id="7538602">t</span><span class="op" id="7538603">,</span>&nbsp;<span class="string" id="7538605">`01238`</span><span class="op" id="7538612">,</span>&nbsp;<span class="string" id="7538614">&#34;1:6&#34;</span><span class="op" id="7538619">,</span>&nbsp;<span class="string" id="7538621">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7538643">,</span>&nbsp;<span class="ident" id="7538645">Int</span><span class="op" id="7538648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538651">testError</span><span class="op" id="7538660">(</span><span class="ident" id="7538661">t</span><span class="op" id="7538662">,</span>&nbsp;<span class="string" id="7538664">`01238123`</span><span class="op" id="7538674">,</span>&nbsp;<span class="string" id="7538676">&#34;1:9&#34;</span><span class="op" id="7538681">,</span>&nbsp;<span class="string" id="7538683">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7538705">,</span>&nbsp;<span class="ident" id="7538707">Int</span><span class="op" id="7538710">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538713">testError</span><span class="op" id="7538722">(</span><span class="ident" id="7538723">t</span><span class="op" id="7538724">,</span>&nbsp;<span class="string" id="7538726">`0x`</span><span class="op" id="7538730">,</span>&nbsp;<span class="string" id="7538732">&#34;1:3&#34;</span><span class="op" id="7538737">,</span>&nbsp;<span class="string" id="7538739">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7538767">,</span>&nbsp;<span class="ident" id="7538769">Int</span><span class="op" id="7538772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538775">testError</span><span class="op" id="7538784">(</span><span class="ident" id="7538785">t</span><span class="op" id="7538786">,</span>&nbsp;<span class="string" id="7538788">`0xg`</span><span class="op" id="7538793">,</span>&nbsp;<span class="string" id="7538795">&#34;1:3&#34;</span><span class="op" id="7538800">,</span>&nbsp;<span class="string" id="7538802">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7538830">,</span>&nbsp;<span class="ident" id="7538832">Int</span><span class="op" id="7538835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538838">testError</span><span class="op" id="7538847">(</span><span class="ident" id="7538848">t</span><span class="op" id="7538849">,</span>&nbsp;<span class="string" id="7538851">`&#39;aa&#39;`</span><span class="op" id="7538857">,</span>&nbsp;<span class="string" id="7538859">&#34;1:4&#34;</span><span class="op" id="7538864">,</span>&nbsp;<span class="string" id="7538866">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="7538888">,</span>&nbsp;<span class="ident" id="7538890">Char</span><span class="op" id="7538894">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538898">testError</span><span class="op" id="7538907">(</span><span class="ident" id="7538908">t</span><span class="op" id="7538909">,</span>&nbsp;<span class="string" id="7538911">`&#39;`</span><span class="op" id="7538914">,</span>&nbsp;<span class="string" id="7538916">&#34;1:2&#34;</span><span class="op" id="7538921">,</span>&nbsp;<span class="string" id="7538923">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7538947">,</span>&nbsp;<span class="ident" id="7538949">Char</span><span class="op" id="7538953">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7538956">testError</span><span class="op" id="7538965">(</span><span class="ident" id="7538966">t</span><span class="op" id="7538967">,</span>&nbsp;<span class="string" id="7538969">`&#39;`</span><span class="op" id="7538972">+</span><span class="string" id="7538973">&#34;\n&#34;</span><span class="op" id="7538977">,</span>&nbsp;<span class="string" id="7538979">&#34;1:2&#34;</span><span class="op" id="7538984">,</span>&nbsp;<span class="string" id="7538986">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7539010">,</span>&nbsp;<span class="ident" id="7539012">Char</span><span class="op" id="7539016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539019">testError</span><span class="op" id="7539028">(</span><span class="ident" id="7539029">t</span><span class="op" id="7539030">,</span>&nbsp;<span class="string" id="7539032">`&#34;abc`</span><span class="op" id="7539038">,</span>&nbsp;<span class="string" id="7539040">&#34;1:5&#34;</span><span class="op" id="7539045">,</span>&nbsp;<span class="string" id="7539047">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7539071">,</span>&nbsp;<span class="ident" id="7539073">String</span><span class="op" id="7539079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539082">testError</span><span class="op" id="7539091">(</span><span class="ident" id="7539092">t</span><span class="op" id="7539093">,</span>&nbsp;<span class="string" id="7539095">`&#34;abc`</span><span class="op" id="7539101">+</span><span class="string" id="7539102">&#34;\n&#34;</span><span class="op" id="7539106">,</span>&nbsp;<span class="string" id="7539108">&#34;1:5&#34;</span><span class="op" id="7539113">,</span>&nbsp;<span class="string" id="7539115">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7539139">,</span>&nbsp;<span class="ident" id="7539141">String</span><span class="op" id="7539147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539150">testError</span><span class="op" id="7539159">(</span><span class="ident" id="7539160">t</span><span class="op" id="7539161">,</span>&nbsp;<span class="string" id="7539163">&#34;`abc\n&#34;</span><span class="op" id="7539171">,</span>&nbsp;<span class="string" id="7539173">&#34;2:1&#34;</span><span class="op" id="7539178">,</span>&nbsp;<span class="string" id="7539180">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7539204">,</span>&nbsp;<span class="ident" id="7539206">String</span><span class="op" id="7539212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539215">testError</span><span class="op" id="7539224">(</span><span class="ident" id="7539225">t</span><span class="op" id="7539226">,</span>&nbsp;<span class="string" id="7539228">`/*/`</span><span class="op" id="7539233">,</span>&nbsp;<span class="string" id="7539235">&#34;1:4&#34;</span><span class="op" id="7539240">,</span>&nbsp;<span class="string" id="7539242">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7539266">,</span>&nbsp;<span class="ident" id="7539268">EOF</span><span class="op" id="7539271">)</span><br>
<span class="lineno">485</span><span class="op" id="7539273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7539276">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="7539334">type</span>&nbsp;<span class="ident" id="7539339">errReader</span>&nbsp;<span class="keyword" id="7539349">struct</span><span class="op" id="7539355">{</span><span class="op" id="7539356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="7539359">func</span>&nbsp;<span class="op" id="7539364">(</span><span class="ident" id="7539365">errReader</span><span class="op" id="7539374">)</span>&nbsp;<span class="ident" id="7539376">Read</span><span class="op" id="7539380">(</span><span class="ident" id="7539381">b</span>&nbsp;<span class="op" id="7539383">[</span><span class="op" id="7539384">]</span><span class="builtintype" id="7539385">byte</span><span class="op" id="7539389">)</span>&nbsp;<span class="op" id="7539391">(</span><span class="builtintype" id="7539392">int</span><span class="op" id="7539395">,</span>&nbsp;<span class="builtintype" id="7539397">error</span><span class="op" id="7539402">)</span>&nbsp;<span class="op" id="7539404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539407">return</span>&nbsp;<span class="num" id="7539414">0</span><span class="op" id="7539415">,</span>&nbsp;<span class="ident" id="7539417">io</span><span class="op" id="7539419">.</span><span class="ident" id="7539420">ErrNoProgress</span>&nbsp;<span class="comment" id="7539434">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="7539467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7539470">func</span>&nbsp;<span class="ident" id="7539475">TestIOError</span><span class="op" id="7539486">(</span><span class="ident" id="7539487">t</span>&nbsp;<span class="op" id="7539489">*</span><span class="ident" id="7539490">testing</span><span class="op" id="7539497">.</span><span class="ident" id="7539498">T</span><span class="op" id="7539499">)</span>&nbsp;<span class="op" id="7539501">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539504">s</span>&nbsp;<span class="op" id="7539506">:=</span>&nbsp;<span class="builtinfunc" id="7539509">new</span><span class="op" id="7539512">(</span><span class="ident" id="7539513">Scanner</span><span class="op" id="7539520">)</span><span class="op" id="7539521">.</span><span class="ident" id="7539522">Init</span><span class="op" id="7539526">(</span><span class="ident" id="7539527">errReader</span><span class="op" id="7539536">{</span><span class="op" id="7539537">}</span><span class="op" id="7539538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539541">errorCalled</span>&nbsp;<span class="op" id="7539553">:=</span>&nbsp;<span class="builtintype" id="7539556">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539563">s</span><span class="op" id="7539564">.</span><span class="ident" id="7539565">Error</span>&nbsp;<span class="op" id="7539571">=</span>&nbsp;<span class="keyword" id="7539573">func</span><span class="op" id="7539577">(</span><span class="ident" id="7539578">s</span>&nbsp;<span class="op" id="7539580">*</span><span class="ident" id="7539581">Scanner</span><span class="op" id="7539588">,</span>&nbsp;<span class="ident" id="7539590">msg</span>&nbsp;<span class="builtintype" id="7539594">string</span><span class="op" id="7539600">)</span>&nbsp;<span class="op" id="7539602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539606">if</span>&nbsp;<span class="op" id="7539609">!</span><span class="ident" id="7539610">errorCalled</span>&nbsp;<span class="op" id="7539622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539627">if</span>&nbsp;<span class="ident" id="7539630">want</span>&nbsp;<span class="op" id="7539635">:=</span>&nbsp;<span class="ident" id="7539638">io</span><span class="op" id="7539640">.</span><span class="ident" id="7539641">ErrNoProgress</span><span class="op" id="7539654">.</span><span class="ident" id="7539655">Error</span><span class="op" id="7539660">(</span><span class="op" id="7539661">)</span><span class="op" id="7539662">;</span>&nbsp;<span class="ident" id="7539664">msg</span>&nbsp;<span class="op" id="7539668">!=</span>&nbsp;<span class="ident" id="7539671">want</span>&nbsp;<span class="op" id="7539676">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539682">t</span><span class="op" id="7539683">.</span><span class="ident" id="7539684">Errorf</span><span class="op" id="7539690">(</span><span class="string" id="7539691">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7539710">,</span>&nbsp;<span class="ident" id="7539712">msg</span><span class="op" id="7539715">,</span>&nbsp;<span class="ident" id="7539717">want</span><span class="op" id="7539721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539731">errorCalled</span>&nbsp;<span class="op" id="7539743">=</span>&nbsp;<span class="builtintype" id="7539745">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539755">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539758">tok</span>&nbsp;<span class="op" id="7539762">:=</span>&nbsp;<span class="ident" id="7539765">s</span><span class="op" id="7539766">.</span><span class="ident" id="7539767">Scan</span><span class="op" id="7539771">(</span><span class="op" id="7539772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539775">if</span>&nbsp;<span class="ident" id="7539778">tok</span>&nbsp;<span class="op" id="7539782">!=</span>&nbsp;<span class="ident" id="7539785">EOF</span>&nbsp;<span class="op" id="7539789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539793">t</span><span class="op" id="7539794">.</span><span class="ident" id="7539795">Errorf</span><span class="op" id="7539801">(</span><span class="string" id="7539802">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7539822">,</span>&nbsp;<span class="ident" id="7539824">TokenString</span><span class="op" id="7539835">(</span><span class="ident" id="7539836">tok</span><span class="op" id="7539839">)</span><span class="op" id="7539840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539846">if</span>&nbsp;<span class="op" id="7539849">!</span><span class="ident" id="7539850">errorCalled</span>&nbsp;<span class="op" id="7539862">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7539866">t</span><span class="op" id="7539867">.</span><span class="ident" id="7539868">Errorf</span><span class="op" id="7539874">(</span><span class="string" id="7539875">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="7539901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7539904">}</span><br>
<span class="lineno"></span><span class="op" id="7539906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7539909">func</span>&nbsp;<span class="ident" id="7539914">checkPos</span><span class="op" id="7539922">(</span><span class="ident" id="7539923">t</span>&nbsp;<span class="op" id="7539925">*</span><span class="ident" id="7539926">testing</span><span class="op" id="7539933">.</span><span class="ident" id="7539934">T</span><span class="op" id="7539935">,</span>&nbsp;<span class="ident" id="7539937">got</span><span class="op" id="7539940">,</span>&nbsp;<span class="ident" id="7539942">want</span>&nbsp;<span class="ident" id="7539947">Position</span><span class="op" id="7539955">)</span>&nbsp;<span class="op" id="7539957">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7539960">if</span>&nbsp;<span class="ident" id="7539963">got</span><span class="op" id="7539966">.</span><span class="ident" id="7539967">Offset</span>&nbsp;<span class="op" id="7539974">!=</span>&nbsp;<span class="ident" id="7539977">want</span><span class="op" id="7539981">.</span><span class="ident" id="7539982">Offset</span>&nbsp;<span class="op" id="7539989">||</span>&nbsp;<span class="ident" id="7539992">got</span><span class="op" id="7539995">.</span><span class="ident" id="7539996">Line</span>&nbsp;<span class="op" id="7540001">!=</span>&nbsp;<span class="ident" id="7540004">want</span><span class="op" id="7540008">.</span><span class="ident" id="7540009">Line</span>&nbsp;<span class="op" id="7540014">||</span>&nbsp;<span class="ident" id="7540017">got</span><span class="op" id="7540020">.</span><span class="ident" id="7540021">Column</span>&nbsp;<span class="op" id="7540028">!=</span>&nbsp;<span class="ident" id="7540031">want</span><span class="op" id="7540035">.</span><span class="ident" id="7540036">Column</span>&nbsp;<span class="op" id="7540043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540047">t</span><span class="op" id="7540048">.</span><span class="ident" id="7540049">Errorf</span><span class="op" id="7540055">(</span><span class="string" id="7540056">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="7540112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540117">got</span><span class="op" id="7540120">.</span><span class="ident" id="7540121">Offset</span><span class="op" id="7540127">,</span>&nbsp;<span class="ident" id="7540129">got</span><span class="op" id="7540132">.</span><span class="ident" id="7540133">Line</span><span class="op" id="7540137">,</span>&nbsp;<span class="ident" id="7540139">got</span><span class="op" id="7540142">.</span><span class="ident" id="7540143">Column</span><span class="op" id="7540149">,</span>&nbsp;<span class="ident" id="7540151">want</span><span class="op" id="7540155">.</span><span class="ident" id="7540156">Offset</span><span class="op" id="7540162">,</span>&nbsp;<span class="ident" id="7540164">want</span><span class="op" id="7540168">.</span><span class="ident" id="7540169">Line</span><span class="op" id="7540173">,</span>&nbsp;<span class="ident" id="7540175">want</span><span class="op" id="7540179">.</span><span class="ident" id="7540180">Column</span><span class="op" id="7540186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540189">}</span><br>
<span class="lineno"></span><span class="op" id="7540191">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="7540194">func</span>&nbsp;<span class="ident" id="7540199">checkNextPos</span><span class="op" id="7540211">(</span><span class="ident" id="7540212">t</span>&nbsp;<span class="op" id="7540214">*</span><span class="ident" id="7540215">testing</span><span class="op" id="7540222">.</span><span class="ident" id="7540223">T</span><span class="op" id="7540224">,</span>&nbsp;<span class="ident" id="7540226">s</span>&nbsp;<span class="op" id="7540228">*</span><span class="ident" id="7540229">Scanner</span><span class="op" id="7540236">,</span>&nbsp;<span class="ident" id="7540238">offset</span><span class="op" id="7540244">,</span>&nbsp;<span class="ident" id="7540246">line</span><span class="op" id="7540250">,</span>&nbsp;<span class="ident" id="7540252">column</span>&nbsp;<span class="builtintype" id="7540259">int</span><span class="op" id="7540262">,</span>&nbsp;<span class="ident" id="7540264">char</span>&nbsp;<span class="builtintype" id="7540269">rune</span><span class="op" id="7540273">)</span>&nbsp;<span class="op" id="7540275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540278">if</span>&nbsp;<span class="ident" id="7540281">ch</span>&nbsp;<span class="op" id="7540284">:=</span>&nbsp;<span class="ident" id="7540287">s</span><span class="op" id="7540288">.</span><span class="ident" id="7540289">Next</span><span class="op" id="7540293">(</span><span class="op" id="7540294">)</span><span class="op" id="7540295">;</span>&nbsp;<span class="ident" id="7540297">ch</span>&nbsp;<span class="op" id="7540300">!=</span>&nbsp;<span class="ident" id="7540303">char</span>&nbsp;<span class="op" id="7540308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540312">t</span><span class="op" id="7540313">.</span><span class="ident" id="7540314">Errorf</span><span class="op" id="7540320">(</span><span class="string" id="7540321">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7540339">,</span>&nbsp;<span class="ident" id="7540341">TokenString</span><span class="op" id="7540352">(</span><span class="ident" id="7540353">ch</span><span class="op" id="7540355">)</span><span class="op" id="7540356">,</span>&nbsp;<span class="ident" id="7540358">TokenString</span><span class="op" id="7540369">(</span><span class="ident" id="7540370">char</span><span class="op" id="7540374">)</span><span class="op" id="7540375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540378">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540381">want</span>&nbsp;<span class="op" id="7540386">:=</span>&nbsp;<span class="ident" id="7540389">Position</span><span class="op" id="7540397">{</span><span class="ident" id="7540398">Offset</span><span class="op" id="7540404">:</span>&nbsp;<span class="ident" id="7540406">offset</span><span class="op" id="7540412">,</span>&nbsp;<span class="ident" id="7540414">Line</span><span class="op" id="7540418">:</span>&nbsp;<span class="ident" id="7540420">line</span><span class="op" id="7540424">,</span>&nbsp;<span class="ident" id="7540426">Column</span><span class="op" id="7540432">:</span>&nbsp;<span class="ident" id="7540434">column</span><span class="op" id="7540440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540443">checkPos</span><span class="op" id="7540451">(</span><span class="ident" id="7540452">t</span><span class="op" id="7540453">,</span>&nbsp;<span class="ident" id="7540455">s</span><span class="op" id="7540456">.</span><span class="ident" id="7540457">Pos</span><span class="op" id="7540460">(</span><span class="op" id="7540461">)</span><span class="op" id="7540462">,</span>&nbsp;<span class="ident" id="7540464">want</span><span class="op" id="7540468">)</span><br>
<span class="lineno"></span><span class="op" id="7540470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7540473">func</span>&nbsp;<span class="ident" id="7540478">checkScanPos</span><span class="op" id="7540490">(</span><span class="ident" id="7540491">t</span>&nbsp;<span class="op" id="7540493">*</span><span class="ident" id="7540494">testing</span><span class="op" id="7540501">.</span><span class="ident" id="7540502">T</span><span class="op" id="7540503">,</span>&nbsp;<span class="ident" id="7540505">s</span>&nbsp;<span class="op" id="7540507">*</span><span class="ident" id="7540508">Scanner</span><span class="op" id="7540515">,</span>&nbsp;<span class="ident" id="7540517">offset</span><span class="op" id="7540523">,</span>&nbsp;<span class="ident" id="7540525">line</span><span class="op" id="7540529">,</span>&nbsp;<span class="ident" id="7540531">column</span>&nbsp;<span class="builtintype" id="7540538">int</span><span class="op" id="7540541">,</span>&nbsp;<span class="ident" id="7540543">char</span>&nbsp;<span class="builtintype" id="7540548">rune</span><span class="op" id="7540552">)</span>&nbsp;<span class="op" id="7540554">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540557">want</span>&nbsp;<span class="op" id="7540562">:=</span>&nbsp;<span class="ident" id="7540565">Position</span><span class="op" id="7540573">{</span><span class="ident" id="7540574">Offset</span><span class="op" id="7540580">:</span>&nbsp;<span class="ident" id="7540582">offset</span><span class="op" id="7540588">,</span>&nbsp;<span class="ident" id="7540590">Line</span><span class="op" id="7540594">:</span>&nbsp;<span class="ident" id="7540596">line</span><span class="op" id="7540600">,</span>&nbsp;<span class="ident" id="7540602">Column</span><span class="op" id="7540608">:</span>&nbsp;<span class="ident" id="7540610">column</span><span class="op" id="7540616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540619">checkPos</span><span class="op" id="7540627">(</span><span class="ident" id="7540628">t</span><span class="op" id="7540629">,</span>&nbsp;<span class="ident" id="7540631">s</span><span class="op" id="7540632">.</span><span class="ident" id="7540633">Pos</span><span class="op" id="7540636">(</span><span class="op" id="7540637">)</span><span class="op" id="7540638">,</span>&nbsp;<span class="ident" id="7540640">want</span><span class="op" id="7540644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540647">if</span>&nbsp;<span class="ident" id="7540650">ch</span>&nbsp;<span class="op" id="7540653">:=</span>&nbsp;<span class="ident" id="7540656">s</span><span class="op" id="7540657">.</span><span class="ident" id="7540658">Scan</span><span class="op" id="7540662">(</span><span class="op" id="7540663">)</span><span class="op" id="7540664">;</span>&nbsp;<span class="ident" id="7540666">ch</span>&nbsp;<span class="op" id="7540669">!=</span>&nbsp;<span class="ident" id="7540672">char</span>&nbsp;<span class="op" id="7540677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540681">t</span><span class="op" id="7540682">.</span><span class="ident" id="7540683">Errorf</span><span class="op" id="7540689">(</span><span class="string" id="7540690">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7540708">,</span>&nbsp;<span class="ident" id="7540710">TokenString</span><span class="op" id="7540721">(</span><span class="ident" id="7540722">ch</span><span class="op" id="7540724">)</span><span class="op" id="7540725">,</span>&nbsp;<span class="ident" id="7540727">TokenString</span><span class="op" id="7540738">(</span><span class="ident" id="7540739">char</span><span class="op" id="7540743">)</span><span class="op" id="7540744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7540748">if</span>&nbsp;<span class="builtintype" id="7540751">string</span><span class="op" id="7540757">(</span><span class="ident" id="7540758">ch</span><span class="op" id="7540760">)</span>&nbsp;<span class="op" id="7540762">!=</span>&nbsp;<span class="ident" id="7540765">s</span><span class="op" id="7540766">.</span><span class="ident" id="7540767">TokenText</span><span class="op" id="7540776">(</span><span class="op" id="7540777">)</span>&nbsp;<span class="op" id="7540779">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540784">t</span><span class="op" id="7540785">.</span><span class="ident" id="7540786">Errorf</span><span class="op" id="7540792">(</span><span class="string" id="7540793">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7540812">,</span>&nbsp;<span class="ident" id="7540814">s</span><span class="op" id="7540815">.</span><span class="ident" id="7540816">TokenText</span><span class="op" id="7540825">(</span><span class="op" id="7540826">)</span><span class="op" id="7540827">,</span>&nbsp;<span class="builtintype" id="7540829">string</span><span class="op" id="7540835">(</span><span class="ident" id="7540836">ch</span><span class="op" id="7540838">)</span><span class="op" id="7540839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7540846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540849">checkPos</span><span class="op" id="7540857">(</span><span class="ident" id="7540858">t</span><span class="op" id="7540859">,</span>&nbsp;<span class="ident" id="7540861">s</span><span class="op" id="7540862">.</span><span class="ident" id="7540863">Position</span><span class="op" id="7540871">,</span>&nbsp;<span class="ident" id="7540873">want</span><span class="op" id="7540877">)</span><br>
<span class="lineno"></span><span class="op" id="7540879">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="7540882">func</span>&nbsp;<span class="ident" id="7540887">TestPos</span><span class="op" id="7540894">(</span><span class="ident" id="7540895">t</span>&nbsp;<span class="op" id="7540897">*</span><span class="ident" id="7540898">testing</span><span class="op" id="7540905">.</span><span class="ident" id="7540906">T</span><span class="op" id="7540907">)</span>&nbsp;<span class="op" id="7540909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7540912">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540942">s</span>&nbsp;<span class="op" id="7540944">:=</span>&nbsp;<span class="builtinfunc" id="7540947">new</span><span class="op" id="7540950">(</span><span class="ident" id="7540951">Scanner</span><span class="op" id="7540958">)</span><span class="op" id="7540959">.</span><span class="ident" id="7540960">Init</span><span class="op" id="7540964">(</span><span class="ident" id="7540965">strings</span><span class="op" id="7540972">.</span><span class="ident" id="7540973">NewReader</span><span class="op" id="7540982">(</span><span class="string" id="7540983">&#34;&#34;</span><span class="op" id="7540985">)</span><span class="op" id="7540986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7540989">checkPos</span><span class="op" id="7540997">(</span><span class="ident" id="7540998">t</span><span class="op" id="7540999">,</span>&nbsp;<span class="ident" id="7541001">s</span><span class="op" id="7541002">.</span><span class="ident" id="7541003">Pos</span><span class="op" id="7541006">(</span><span class="op" id="7541007">)</span><span class="op" id="7541008">,</span>&nbsp;<span class="ident" id="7541010">Position</span><span class="op" id="7541018">{</span><span class="ident" id="7541019">Offset</span><span class="op" id="7541025">:</span>&nbsp;<span class="num" id="7541027">0</span><span class="op" id="7541028">,</span>&nbsp;<span class="ident" id="7541030">Line</span><span class="op" id="7541034">:</span>&nbsp;<span class="num" id="7541036">1</span><span class="op" id="7541037">,</span>&nbsp;<span class="ident" id="7541039">Column</span><span class="op" id="7541045">:</span>&nbsp;<span class="num" id="7541047">1</span><span class="op" id="7541048">}</span><span class="op" id="7541049">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541052">s</span><span class="op" id="7541053">.</span><span class="ident" id="7541054">Peek</span><span class="op" id="7541058">(</span><span class="op" id="7541059">)</span>&nbsp;<span class="comment" id="7541061">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541098">checkPos</span><span class="op" id="7541106">(</span><span class="ident" id="7541107">t</span><span class="op" id="7541108">,</span>&nbsp;<span class="ident" id="7541110">s</span><span class="op" id="7541111">.</span><span class="ident" id="7541112">Pos</span><span class="op" id="7541115">(</span><span class="op" id="7541116">)</span><span class="op" id="7541117">,</span>&nbsp;<span class="ident" id="7541119">Position</span><span class="op" id="7541127">{</span><span class="ident" id="7541128">Offset</span><span class="op" id="7541134">:</span>&nbsp;<span class="num" id="7541136">0</span><span class="op" id="7541137">,</span>&nbsp;<span class="ident" id="7541139">Line</span><span class="op" id="7541143">:</span>&nbsp;<span class="num" id="7541145">1</span><span class="op" id="7541146">,</span>&nbsp;<span class="ident" id="7541148">Column</span><span class="op" id="7541154">:</span>&nbsp;<span class="num" id="7541156">1</span><span class="op" id="7541157">}</span><span class="op" id="7541158">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7541162">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541206">s</span>&nbsp;<span class="op" id="7541208">=</span>&nbsp;<span class="builtinfunc" id="7541210">new</span><span class="op" id="7541213">(</span><span class="ident" id="7541214">Scanner</span><span class="op" id="7541221">)</span><span class="op" id="7541222">.</span><span class="ident" id="7541223">Init</span><span class="op" id="7541227">(</span><span class="ident" id="7541228">strings</span><span class="op" id="7541235">.</span><span class="ident" id="7541236">NewReader</span><span class="op" id="7541245">(</span><span class="string" id="7541246">&#34;\n&#34;</span><span class="op" id="7541250">)</span><span class="op" id="7541251">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541254">checkPos</span><span class="op" id="7541262">(</span><span class="ident" id="7541263">t</span><span class="op" id="7541264">,</span>&nbsp;<span class="ident" id="7541266">s</span><span class="op" id="7541267">.</span><span class="ident" id="7541268">Pos</span><span class="op" id="7541271">(</span><span class="op" id="7541272">)</span><span class="op" id="7541273">,</span>&nbsp;<span class="ident" id="7541275">Position</span><span class="op" id="7541283">{</span><span class="ident" id="7541284">Offset</span><span class="op" id="7541290">:</span>&nbsp;<span class="num" id="7541292">0</span><span class="op" id="7541293">,</span>&nbsp;<span class="ident" id="7541295">Line</span><span class="op" id="7541299">:</span>&nbsp;<span class="num" id="7541301">1</span><span class="op" id="7541302">,</span>&nbsp;<span class="ident" id="7541304">Column</span><span class="op" id="7541310">:</span>&nbsp;<span class="num" id="7541312">1</span><span class="op" id="7541313">}</span><span class="op" id="7541314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541317">checkNextPos</span><span class="op" id="7541329">(</span><span class="ident" id="7541330">t</span><span class="op" id="7541331">,</span>&nbsp;<span class="ident" id="7541333">s</span><span class="op" id="7541334">,</span>&nbsp;<span class="num" id="7541336">1</span><span class="op" id="7541337">,</span>&nbsp;<span class="num" id="7541339">2</span><span class="op" id="7541340">,</span>&nbsp;<span class="num" id="7541342">1</span><span class="op" id="7541343">,</span>&nbsp;<span class="string" id="7541345">&#39;\n&#39;</span><span class="op" id="7541349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7541352">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7541390">for</span>&nbsp;<span class="ident" id="7541394">i</span>&nbsp;<span class="op" id="7541396">:=</span>&nbsp;<span class="num" id="7541399">10</span><span class="op" id="7541401">;</span>&nbsp;<span class="ident" id="7541403">i</span>&nbsp;<span class="op" id="7541405">&gt;</span>&nbsp;<span class="num" id="7541407">0</span><span class="op" id="7541408">;</span>&nbsp;<span class="ident" id="7541410">i</span><span class="op" id="7541411">--</span>&nbsp;<span class="op" id="7541414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541418">checkScanPos</span><span class="op" id="7541430">(</span><span class="ident" id="7541431">t</span><span class="op" id="7541432">,</span>&nbsp;<span class="ident" id="7541434">s</span><span class="op" id="7541435">,</span>&nbsp;<span class="num" id="7541437">1</span><span class="op" id="7541438">,</span>&nbsp;<span class="num" id="7541440">2</span><span class="op" id="7541441">,</span>&nbsp;<span class="num" id="7541443">1</span><span class="op" id="7541444">,</span>&nbsp;<span class="ident" id="7541446">EOF</span><span class="op" id="7541449">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7541455">if</span>&nbsp;<span class="ident" id="7541458">s</span><span class="op" id="7541459">.</span><span class="ident" id="7541460">ErrorCount</span>&nbsp;<span class="op" id="7541471">!=</span>&nbsp;<span class="num" id="7541474">0</span>&nbsp;<span class="op" id="7541476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541480">t</span><span class="op" id="7541481">.</span><span class="ident" id="7541482">Errorf</span><span class="op" id="7541488">(</span><span class="string" id="7541489">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7541500">,</span>&nbsp;<span class="ident" id="7541502">s</span><span class="op" id="7541503">.</span><span class="ident" id="7541504">ErrorCount</span><span class="op" id="7541514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7541521">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541574">s</span>&nbsp;<span class="op" id="7541576">=</span>&nbsp;<span class="builtinfunc" id="7541578">new</span><span class="op" id="7541581">(</span><span class="ident" id="7541582">Scanner</span><span class="op" id="7541589">)</span><span class="op" id="7541590">.</span><span class="ident" id="7541591">Init</span><span class="op" id="7541595">(</span><span class="ident" id="7541596">strings</span><span class="op" id="7541603">.</span><span class="ident" id="7541604">NewReader</span><span class="op" id="7541613">(</span><span class="string" id="7541614">&#34;本&#34;</span><span class="op" id="7541619">)</span><span class="op" id="7541620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541623">checkPos</span><span class="op" id="7541631">(</span><span class="ident" id="7541632">t</span><span class="op" id="7541633">,</span>&nbsp;<span class="ident" id="7541635">s</span><span class="op" id="7541636">.</span><span class="ident" id="7541637">Pos</span><span class="op" id="7541640">(</span><span class="op" id="7541641">)</span><span class="op" id="7541642">,</span>&nbsp;<span class="ident" id="7541644">Position</span><span class="op" id="7541652">{</span><span class="ident" id="7541653">Offset</span><span class="op" id="7541659">:</span>&nbsp;<span class="num" id="7541661">0</span><span class="op" id="7541662">,</span>&nbsp;<span class="ident" id="7541664">Line</span><span class="op" id="7541668">:</span>&nbsp;<span class="num" id="7541670">1</span><span class="op" id="7541671">,</span>&nbsp;<span class="ident" id="7541673">Column</span><span class="op" id="7541679">:</span>&nbsp;<span class="num" id="7541681">1</span><span class="op" id="7541682">}</span><span class="op" id="7541683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541686">checkNextPos</span><span class="op" id="7541698">(</span><span class="ident" id="7541699">t</span><span class="op" id="7541700">,</span>&nbsp;<span class="ident" id="7541702">s</span><span class="op" id="7541703">,</span>&nbsp;<span class="num" id="7541705">3</span><span class="op" id="7541706">,</span>&nbsp;<span class="num" id="7541708">1</span><span class="op" id="7541709">,</span>&nbsp;<span class="num" id="7541711">2</span><span class="op" id="7541712">,</span>&nbsp;<span class="string" id="7541714">&#39;本&#39;</span><span class="op" id="7541719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7541722">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7541760">for</span>&nbsp;<span class="ident" id="7541764">i</span>&nbsp;<span class="op" id="7541766">:=</span>&nbsp;<span class="num" id="7541769">10</span><span class="op" id="7541771">;</span>&nbsp;<span class="ident" id="7541773">i</span>&nbsp;<span class="op" id="7541775">&gt;</span>&nbsp;<span class="num" id="7541777">0</span><span class="op" id="7541778">;</span>&nbsp;<span class="ident" id="7541780">i</span><span class="op" id="7541781">--</span>&nbsp;<span class="op" id="7541784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541788">checkScanPos</span><span class="op" id="7541800">(</span><span class="ident" id="7541801">t</span><span class="op" id="7541802">,</span>&nbsp;<span class="ident" id="7541804">s</span><span class="op" id="7541805">,</span>&nbsp;<span class="num" id="7541807">3</span><span class="op" id="7541808">,</span>&nbsp;<span class="num" id="7541810">1</span><span class="op" id="7541811">,</span>&nbsp;<span class="num" id="7541813">2</span><span class="op" id="7541814">,</span>&nbsp;<span class="ident" id="7541816">EOF</span><span class="op" id="7541819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7541825">if</span>&nbsp;<span class="ident" id="7541828">s</span><span class="op" id="7541829">.</span><span class="ident" id="7541830">ErrorCount</span>&nbsp;<span class="op" id="7541841">!=</span>&nbsp;<span class="num" id="7541844">0</span>&nbsp;<span class="op" id="7541846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541850">t</span><span class="op" id="7541851">.</span><span class="ident" id="7541852">Errorf</span><span class="op" id="7541858">(</span><span class="string" id="7541859">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7541870">,</span>&nbsp;<span class="ident" id="7541872">s</span><span class="op" id="7541873">.</span><span class="ident" id="7541874">ErrorCount</span><span class="op" id="7541884">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7541887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7541891">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541924">s</span>&nbsp;<span class="op" id="7541926">=</span>&nbsp;<span class="builtinfunc" id="7541928">new</span><span class="op" id="7541931">(</span><span class="ident" id="7541932">Scanner</span><span class="op" id="7541939">)</span><span class="op" id="7541940">.</span><span class="ident" id="7541941">Init</span><span class="op" id="7541945">(</span><span class="ident" id="7541946">strings</span><span class="op" id="7541953">.</span><span class="ident" id="7541954">NewReader</span><span class="op" id="7541963">(</span><span class="string" id="7541964">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="7541991">)</span><span class="op" id="7541992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7541995">checkNextPos</span><span class="op" id="7542007">(</span><span class="ident" id="7542008">t</span><span class="op" id="7542009">,</span>&nbsp;<span class="ident" id="7542011">s</span><span class="op" id="7542012">,</span>&nbsp;<span class="num" id="7542014">1</span><span class="op" id="7542015">,</span>&nbsp;<span class="num" id="7542017">1</span><span class="op" id="7542018">,</span>&nbsp;<span class="num" id="7542020">2</span><span class="op" id="7542021">,</span>&nbsp;<span class="string" id="7542023">&#39;&nbsp;&#39;</span><span class="op" id="7542026">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542029">s</span><span class="op" id="7542030">.</span><span class="ident" id="7542031">Peek</span><span class="op" id="7542035">(</span><span class="op" id="7542036">)</span>&nbsp;<span class="comment" id="7542038">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542075">checkNextPos</span><span class="op" id="7542087">(</span><span class="ident" id="7542088">t</span><span class="op" id="7542089">,</span>&nbsp;<span class="ident" id="7542091">s</span><span class="op" id="7542092">,</span>&nbsp;<span class="num" id="7542094">2</span><span class="op" id="7542095">,</span>&nbsp;<span class="num" id="7542097">1</span><span class="op" id="7542098">,</span>&nbsp;<span class="num" id="7542100">3</span><span class="op" id="7542101">,</span>&nbsp;<span class="string" id="7542103">&#39;&nbsp;&#39;</span><span class="op" id="7542106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542109">checkNextPos</span><span class="op" id="7542121">(</span><span class="ident" id="7542122">t</span><span class="op" id="7542123">,</span>&nbsp;<span class="ident" id="7542125">s</span><span class="op" id="7542126">,</span>&nbsp;<span class="num" id="7542128">3</span><span class="op" id="7542129">,</span>&nbsp;<span class="num" id="7542131">1</span><span class="op" id="7542132">,</span>&nbsp;<span class="num" id="7542134">4</span><span class="op" id="7542135">,</span>&nbsp;<span class="string" id="7542137">&#39;f&#39;</span><span class="op" id="7542140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542143">checkNextPos</span><span class="op" id="7542155">(</span><span class="ident" id="7542156">t</span><span class="op" id="7542157">,</span>&nbsp;<span class="ident" id="7542159">s</span><span class="op" id="7542160">,</span>&nbsp;<span class="num" id="7542162">4</span><span class="op" id="7542163">,</span>&nbsp;<span class="num" id="7542165">1</span><span class="op" id="7542166">,</span>&nbsp;<span class="num" id="7542168">5</span><span class="op" id="7542169">,</span>&nbsp;<span class="string" id="7542171">&#39;o&#39;</span><span class="op" id="7542174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542177">checkNextPos</span><span class="op" id="7542189">(</span><span class="ident" id="7542190">t</span><span class="op" id="7542191">,</span>&nbsp;<span class="ident" id="7542193">s</span><span class="op" id="7542194">,</span>&nbsp;<span class="num" id="7542196">5</span><span class="op" id="7542197">,</span>&nbsp;<span class="num" id="7542199">1</span><span class="op" id="7542200">,</span>&nbsp;<span class="num" id="7542202">6</span><span class="op" id="7542203">,</span>&nbsp;<span class="string" id="7542205">&#39;o&#39;</span><span class="op" id="7542208">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542211">checkNextPos</span><span class="op" id="7542223">(</span><span class="ident" id="7542224">t</span><span class="op" id="7542225">,</span>&nbsp;<span class="ident" id="7542227">s</span><span class="op" id="7542228">,</span>&nbsp;<span class="num" id="7542230">8</span><span class="op" id="7542231">,</span>&nbsp;<span class="num" id="7542233">1</span><span class="op" id="7542234">,</span>&nbsp;<span class="num" id="7542236">7</span><span class="op" id="7542237">,</span>&nbsp;<span class="string" id="7542239">&#39;६&#39;</span><span class="op" id="7542244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542247">checkNextPos</span><span class="op" id="7542259">(</span><span class="ident" id="7542260">t</span><span class="op" id="7542261">,</span>&nbsp;<span class="ident" id="7542263">s</span><span class="op" id="7542264">,</span>&nbsp;<span class="num" id="7542266">11</span><span class="op" id="7542268">,</span>&nbsp;<span class="num" id="7542270">1</span><span class="op" id="7542271">,</span>&nbsp;<span class="num" id="7542273">8</span><span class="op" id="7542274">,</span>&nbsp;<span class="string" id="7542276">&#39;४&#39;</span><span class="op" id="7542281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542284">checkNextPos</span><span class="op" id="7542296">(</span><span class="ident" id="7542297">t</span><span class="op" id="7542298">,</span>&nbsp;<span class="ident" id="7542300">s</span><span class="op" id="7542301">,</span>&nbsp;<span class="num" id="7542303">12</span><span class="op" id="7542305">,</span>&nbsp;<span class="num" id="7542307">1</span><span class="op" id="7542308">,</span>&nbsp;<span class="num" id="7542310">9</span><span class="op" id="7542311">,</span>&nbsp;<span class="string" id="7542313">&#39;&nbsp;&#39;</span><span class="op" id="7542316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542319">checkNextPos</span><span class="op" id="7542331">(</span><span class="ident" id="7542332">t</span><span class="op" id="7542333">,</span>&nbsp;<span class="ident" id="7542335">s</span><span class="op" id="7542336">,</span>&nbsp;<span class="num" id="7542338">13</span><span class="op" id="7542340">,</span>&nbsp;<span class="num" id="7542342">1</span><span class="op" id="7542343">,</span>&nbsp;<span class="num" id="7542345">10</span><span class="op" id="7542347">,</span>&nbsp;<span class="string" id="7542349">&#39;&nbsp;&#39;</span><span class="op" id="7542352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542355">checkNextPos</span><span class="op" id="7542367">(</span><span class="ident" id="7542368">t</span><span class="op" id="7542369">,</span>&nbsp;<span class="ident" id="7542371">s</span><span class="op" id="7542372">,</span>&nbsp;<span class="num" id="7542374">14</span><span class="op" id="7542376">,</span>&nbsp;<span class="num" id="7542378">2</span><span class="op" id="7542379">,</span>&nbsp;<span class="num" id="7542381">1</span><span class="op" id="7542382">,</span>&nbsp;<span class="string" id="7542384">&#39;\n&#39;</span><span class="op" id="7542388">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542391">checkNextPos</span><span class="op" id="7542403">(</span><span class="ident" id="7542404">t</span><span class="op" id="7542405">,</span>&nbsp;<span class="ident" id="7542407">s</span><span class="op" id="7542408">,</span>&nbsp;<span class="num" id="7542410">15</span><span class="op" id="7542412">,</span>&nbsp;<span class="num" id="7542414">3</span><span class="op" id="7542415">,</span>&nbsp;<span class="num" id="7542417">1</span><span class="op" id="7542418">,</span>&nbsp;<span class="string" id="7542420">&#39;\n&#39;</span><span class="op" id="7542424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542427">checkNextPos</span><span class="op" id="7542439">(</span><span class="ident" id="7542440">t</span><span class="op" id="7542441">,</span>&nbsp;<span class="ident" id="7542443">s</span><span class="op" id="7542444">,</span>&nbsp;<span class="num" id="7542446">18</span><span class="op" id="7542448">,</span>&nbsp;<span class="num" id="7542450">3</span><span class="op" id="7542451">,</span>&nbsp;<span class="num" id="7542453">2</span><span class="op" id="7542454">,</span>&nbsp;<span class="string" id="7542456">&#39;本&#39;</span><span class="op" id="7542461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542464">checkNextPos</span><span class="op" id="7542476">(</span><span class="ident" id="7542477">t</span><span class="op" id="7542478">,</span>&nbsp;<span class="ident" id="7542480">s</span><span class="op" id="7542481">,</span>&nbsp;<span class="num" id="7542483">21</span><span class="op" id="7542485">,</span>&nbsp;<span class="num" id="7542487">3</span><span class="op" id="7542488">,</span>&nbsp;<span class="num" id="7542490">3</span><span class="op" id="7542491">,</span>&nbsp;<span class="string" id="7542493">&#39;語&#39;</span><span class="op" id="7542498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542501">checkNextPos</span><span class="op" id="7542513">(</span><span class="ident" id="7542514">t</span><span class="op" id="7542515">,</span>&nbsp;<span class="ident" id="7542517">s</span><span class="op" id="7542518">,</span>&nbsp;<span class="num" id="7542520">22</span><span class="op" id="7542522">,</span>&nbsp;<span class="num" id="7542524">4</span><span class="op" id="7542525">,</span>&nbsp;<span class="num" id="7542527">1</span><span class="op" id="7542528">,</span>&nbsp;<span class="string" id="7542530">&#39;\n&#39;</span><span class="op" id="7542534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7542537">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7542575">for</span>&nbsp;<span class="ident" id="7542579">i</span>&nbsp;<span class="op" id="7542581">:=</span>&nbsp;<span class="num" id="7542584">10</span><span class="op" id="7542586">;</span>&nbsp;<span class="ident" id="7542588">i</span>&nbsp;<span class="op" id="7542590">&gt;</span>&nbsp;<span class="num" id="7542592">0</span><span class="op" id="7542593">;</span>&nbsp;<span class="ident" id="7542595">i</span><span class="op" id="7542596">--</span>&nbsp;<span class="op" id="7542599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542603">checkScanPos</span><span class="op" id="7542615">(</span><span class="ident" id="7542616">t</span><span class="op" id="7542617">,</span>&nbsp;<span class="ident" id="7542619">s</span><span class="op" id="7542620">,</span>&nbsp;<span class="num" id="7542622">22</span><span class="op" id="7542624">,</span>&nbsp;<span class="num" id="7542626">4</span><span class="op" id="7542627">,</span>&nbsp;<span class="num" id="7542629">1</span><span class="op" id="7542630">,</span>&nbsp;<span class="ident" id="7542632">EOF</span><span class="op" id="7542635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7542641">if</span>&nbsp;<span class="ident" id="7542644">s</span><span class="op" id="7542645">.</span><span class="ident" id="7542646">ErrorCount</span>&nbsp;<span class="op" id="7542657">!=</span>&nbsp;<span class="num" id="7542660">0</span>&nbsp;<span class="op" id="7542662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542666">t</span><span class="op" id="7542667">.</span><span class="ident" id="7542668">Errorf</span><span class="op" id="7542674">(</span><span class="string" id="7542675">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7542686">,</span>&nbsp;<span class="ident" id="7542688">s</span><span class="op" id="7542689">.</span><span class="ident" id="7542690">ErrorCount</span><span class="op" id="7542700">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7542703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7542707">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542740">s</span>&nbsp;<span class="op" id="7542742">=</span>&nbsp;<span class="builtinfunc" id="7542744">new</span><span class="op" id="7542747">(</span><span class="ident" id="7542748">Scanner</span><span class="op" id="7542755">)</span><span class="op" id="7542756">.</span><span class="ident" id="7542757">Init</span><span class="op" id="7542761">(</span><span class="ident" id="7542762">strings</span><span class="op" id="7542769">.</span><span class="ident" id="7542770">NewReader</span><span class="op" id="7542779">(</span><span class="string" id="7542780">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="7542798">)</span><span class="op" id="7542799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542802">s</span><span class="op" id="7542803">.</span><span class="ident" id="7542804">Mode</span>&nbsp;<span class="op" id="7542809">=</span>&nbsp;<span class="num" id="7542811">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542814">s</span><span class="op" id="7542815">.</span><span class="ident" id="7542816">Whitespace</span>&nbsp;<span class="op" id="7542827">=</span>&nbsp;<span class="num" id="7542829">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542832">checkScanPos</span><span class="op" id="7542844">(</span><span class="ident" id="7542845">t</span><span class="op" id="7542846">,</span>&nbsp;<span class="ident" id="7542848">s</span><span class="op" id="7542849">,</span>&nbsp;<span class="num" id="7542851">0</span><span class="op" id="7542852">,</span>&nbsp;<span class="num" id="7542854">1</span><span class="op" id="7542855">,</span>&nbsp;<span class="num" id="7542857">1</span><span class="op" id="7542858">,</span>&nbsp;<span class="string" id="7542860">&#39;a&#39;</span><span class="op" id="7542863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542866">s</span><span class="op" id="7542867">.</span><span class="ident" id="7542868">Peek</span><span class="op" id="7542872">(</span><span class="op" id="7542873">)</span>&nbsp;<span class="comment" id="7542875">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542912">checkScanPos</span><span class="op" id="7542924">(</span><span class="ident" id="7542925">t</span><span class="op" id="7542926">,</span>&nbsp;<span class="ident" id="7542928">s</span><span class="op" id="7542929">,</span>&nbsp;<span class="num" id="7542931">1</span><span class="op" id="7542932">,</span>&nbsp;<span class="num" id="7542934">1</span><span class="op" id="7542935">,</span>&nbsp;<span class="num" id="7542937">2</span><span class="op" id="7542938">,</span>&nbsp;<span class="string" id="7542940">&#39;b&#39;</span><span class="op" id="7542943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542946">checkScanPos</span><span class="op" id="7542958">(</span><span class="ident" id="7542959">t</span><span class="op" id="7542960">,</span>&nbsp;<span class="ident" id="7542962">s</span><span class="op" id="7542963">,</span>&nbsp;<span class="num" id="7542965">2</span><span class="op" id="7542966">,</span>&nbsp;<span class="num" id="7542968">1</span><span class="op" id="7542969">,</span>&nbsp;<span class="num" id="7542971">3</span><span class="op" id="7542972">,</span>&nbsp;<span class="string" id="7542974">&#39;c&#39;</span><span class="op" id="7542977">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7542980">checkScanPos</span><span class="op" id="7542992">(</span><span class="ident" id="7542993">t</span><span class="op" id="7542994">,</span>&nbsp;<span class="ident" id="7542996">s</span><span class="op" id="7542997">,</span>&nbsp;<span class="num" id="7542999">3</span><span class="op" id="7543000">,</span>&nbsp;<span class="num" id="7543002">1</span><span class="op" id="7543003">,</span>&nbsp;<span class="num" id="7543005">4</span><span class="op" id="7543006">,</span>&nbsp;<span class="string" id="7543008">&#39;\n&#39;</span><span class="op" id="7543012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543015">checkScanPos</span><span class="op" id="7543027">(</span><span class="ident" id="7543028">t</span><span class="op" id="7543029">,</span>&nbsp;<span class="ident" id="7543031">s</span><span class="op" id="7543032">,</span>&nbsp;<span class="num" id="7543034">4</span><span class="op" id="7543035">,</span>&nbsp;<span class="num" id="7543037">2</span><span class="op" id="7543038">,</span>&nbsp;<span class="num" id="7543040">1</span><span class="op" id="7543041">,</span>&nbsp;<span class="string" id="7543043">&#39;本&#39;</span><span class="op" id="7543048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543051">checkScanPos</span><span class="op" id="7543063">(</span><span class="ident" id="7543064">t</span><span class="op" id="7543065">,</span>&nbsp;<span class="ident" id="7543067">s</span><span class="op" id="7543068">,</span>&nbsp;<span class="num" id="7543070">7</span><span class="op" id="7543071">,</span>&nbsp;<span class="num" id="7543073">2</span><span class="op" id="7543074">,</span>&nbsp;<span class="num" id="7543076">2</span><span class="op" id="7543077">,</span>&nbsp;<span class="string" id="7543079">&#39;語&#39;</span><span class="op" id="7543084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543087">checkScanPos</span><span class="op" id="7543099">(</span><span class="ident" id="7543100">t</span><span class="op" id="7543101">,</span>&nbsp;<span class="ident" id="7543103">s</span><span class="op" id="7543104">,</span>&nbsp;<span class="num" id="7543106">10</span><span class="op" id="7543108">,</span>&nbsp;<span class="num" id="7543110">2</span><span class="op" id="7543111">,</span>&nbsp;<span class="num" id="7543113">3</span><span class="op" id="7543114">,</span>&nbsp;<span class="string" id="7543116">&#39;\n&#39;</span><span class="op" id="7543120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543123">checkScanPos</span><span class="op" id="7543135">(</span><span class="ident" id="7543136">t</span><span class="op" id="7543137">,</span>&nbsp;<span class="ident" id="7543139">s</span><span class="op" id="7543140">,</span>&nbsp;<span class="num" id="7543142">11</span><span class="op" id="7543144">,</span>&nbsp;<span class="num" id="7543146">3</span><span class="op" id="7543147">,</span>&nbsp;<span class="num" id="7543149">1</span><span class="op" id="7543150">,</span>&nbsp;<span class="string" id="7543152">&#39;\n&#39;</span><span class="op" id="7543156">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543159">checkScanPos</span><span class="op" id="7543171">(</span><span class="ident" id="7543172">t</span><span class="op" id="7543173">,</span>&nbsp;<span class="ident" id="7543175">s</span><span class="op" id="7543176">,</span>&nbsp;<span class="num" id="7543178">12</span><span class="op" id="7543180">,</span>&nbsp;<span class="num" id="7543182">4</span><span class="op" id="7543183">,</span>&nbsp;<span class="num" id="7543185">1</span><span class="op" id="7543186">,</span>&nbsp;<span class="string" id="7543188">&#39;x&#39;</span><span class="op" id="7543191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7543194">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7543232">for</span>&nbsp;<span class="ident" id="7543236">i</span>&nbsp;<span class="op" id="7543238">:=</span>&nbsp;<span class="num" id="7543241">10</span><span class="op" id="7543243">;</span>&nbsp;<span class="ident" id="7543245">i</span>&nbsp;<span class="op" id="7543247">&gt;</span>&nbsp;<span class="num" id="7543249">0</span><span class="op" id="7543250">;</span>&nbsp;<span class="ident" id="7543252">i</span><span class="op" id="7543253">--</span>&nbsp;<span class="op" id="7543256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543260">checkScanPos</span><span class="op" id="7543272">(</span><span class="ident" id="7543273">t</span><span class="op" id="7543274">,</span>&nbsp;<span class="ident" id="7543276">s</span><span class="op" id="7543277">,</span>&nbsp;<span class="num" id="7543279">13</span><span class="op" id="7543281">,</span>&nbsp;<span class="num" id="7543283">4</span><span class="op" id="7543284">,</span>&nbsp;<span class="num" id="7543286">2</span><span class="op" id="7543287">,</span>&nbsp;<span class="ident" id="7543289">EOF</span><span class="op" id="7543292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543295">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7543298">if</span>&nbsp;<span class="ident" id="7543301">s</span><span class="op" id="7543302">.</span><span class="ident" id="7543303">ErrorCount</span>&nbsp;<span class="op" id="7543314">!=</span>&nbsp;<span class="num" id="7543317">0</span>&nbsp;<span class="op" id="7543319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7543323">t</span><span class="op" id="7543324">.</span><span class="ident" id="7543325">Errorf</span><span class="op" id="7543331">(</span><span class="string" id="7543332">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7543343">,</span>&nbsp;<span class="ident" id="7543345">s</span><span class="op" id="7543346">.</span><span class="ident" id="7543347">ErrorCount</span><span class="op" id="7543357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7543360">}</span><br>
<span class="lineno"></span><span class="op" id="7543362">}</span>
</div>
</body>
</html>
