<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html" class="current">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="422634">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="422689">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="422743">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="422794">package</span>&nbsp;<span class="ident" id="422802">http_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="422813">import</span>&nbsp;<span class="op" id="422820">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="422823">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="422830">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="422843">&#34;log&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="422850">&#34;net/http&#34;</span><br>
<span class="lineno"></span><span class="op" id="422861">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="422864">func</span>&nbsp;<span class="ident" id="422869">ExampleHijacker</span><span class="op" id="422884">(</span><span class="op" id="422885">)</span>&nbsp;<span class="op" id="422887">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="422890"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="422894">.</span><span class="ident" id="422895"><a href="/gostd/net/http/server.go.html#4215953">HandleFunc</a></span><span class="op" id="422905">(</span><span class="string" id="422906">&#34;/hijack&#34;</span><span class="op" id="422915">,</span>&nbsp;<span class="keyword" id="422917">func</span><span class="op" id="422921">(</span><span class="ident" id="422922">w</span>&nbsp;<span class="ident" id="422924"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="422928">.</span><span class="ident" id="422929"><a href="/gostd/net/http/server.go.html#4170569">ResponseWriter</a></span><span class="op" id="422943">,</span>&nbsp;<span class="ident" id="422945">r</span>&nbsp;<span class="op" id="422947">*</span><span class="ident" id="422948"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="422952">.</span><span class="ident" id="422953"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="422960">)</span>&nbsp;<span class="op" id="422962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="422966">hj</span><span class="op" id="422968">,</span>&nbsp;<span class="ident" id="422970">ok</span>&nbsp;<span class="op" id="422973">:=</span>&nbsp;<span class="ident" id="422976"><a href="/gostd/net/http/example_test.go.html#422922">w</a></span><span class="op" id="422977">.</span><span class="op" id="422978">(</span><span class="ident" id="422979"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="422983">.</span><span class="ident" id="422984"><a href="/gostd/net/http/server.go.html#4171972">Hijacker</a></span><span class="op" id="422992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="422996">if</span>&nbsp;<span class="op" id="422999">!</span><span class="ident" id="423000"><a href="/gostd/net/http/example_test.go.html#422970">ok</a></span>&nbsp;<span class="op" id="423003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423008"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="423012">.</span><span class="ident" id="423013"><a href="/gostd/net/http/server.go.html#4205918">Error</a></span><span class="op" id="423018">(</span><span class="ident" id="423019"><a href="/gostd/net/http/example_test.go.html#422922">w</a></span><span class="op" id="423020">,</span>&nbsp;<span class="string" id="423022">&#34;webserver&nbsp;doesn&#39;t&nbsp;support&nbsp;hijacking&#34;</span><span class="op" id="423059">,</span>&nbsp;<span class="ident" id="423061"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="423065">.</span><span class="ident" id="423066"><a href="/gostd/net/http/status.go.html#4237466">StatusInternalServerError</a></span><span class="op" id="423091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="423096">return</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="423105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423109">conn</span><span class="op" id="423113">,</span>&nbsp;<span class="ident" id="423115">bufrw</span><span class="op" id="423120">,</span>&nbsp;<span class="ident" id="423122">err</span>&nbsp;<span class="op" id="423126">:=</span>&nbsp;<span class="ident" id="423129"><a href="/gostd/net/http/example_test.go.html#422966">hj</a></span><span class="op" id="423131">.</span><span class="ident" id="423132"><a href="/gostd/net/http/server.go.html#4172235">Hijack</a></span><span class="op" id="423138">(</span><span class="op" id="423139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="423143">if</span>&nbsp;<span class="ident" id="423146"><a href="/gostd/net/http/example_test.go.html#423122">err</a></span>&nbsp;<span class="op" id="423150">!=</span>&nbsp;<span class="builtintype" id="423153">nil</span>&nbsp;<span class="op" id="423157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423162"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="423166">.</span><span class="ident" id="423167"><a href="/gostd/net/http/server.go.html#4205918">Error</a></span><span class="op" id="423172">(</span><span class="ident" id="423173"><a href="/gostd/net/http/example_test.go.html#422922">w</a></span><span class="op" id="423174">,</span>&nbsp;<span class="ident" id="423176"><a href="/gostd/net/http/example_test.go.html#423122">err</a></span><span class="op" id="423179">.</span><span class="ident" id="423180">Error</span><span class="op" id="423185">(</span><span class="op" id="423186">)</span><span class="op" id="423187">,</span>&nbsp;<span class="ident" id="423189"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="423193">.</span><span class="ident" id="423194"><a href="/gostd/net/http/status.go.html#4237466">StatusInternalServerError</a></span><span class="op" id="423219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="423224">return</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="423233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="423237">//&nbsp;Don&#39;t&nbsp;forget&nbsp;to&nbsp;close&nbsp;the&nbsp;connection:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="423280">defer</span>&nbsp;<span class="ident" id="423286"><a href="/gostd/net/http/example_test.go.html#423109">conn</a></span><span class="op" id="423290">.</span><span class="ident" id="423291"><a href="/gostd/net/net.go.html#3334987">Close</a></span><span class="op" id="423296">(</span><span class="op" id="423297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423301"><a href="/gostd/net/http/example_test.go.html#423115">bufrw</a></span><span class="op" id="423306">.</span><span class="ident" id="423307"><a href="/gostd/bufio/bufio.go.html#1369779">WriteString</a></span><span class="op" id="423318">(</span><span class="string" id="423319">&#34;Now&nbsp;we&#39;re&nbsp;speaking&nbsp;raw&nbsp;TCP.&nbsp;Say&nbsp;hi:&nbsp;&#34;</span><span class="op" id="423357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423361"><a href="/gostd/net/http/example_test.go.html#423115">bufrw</a></span><span class="op" id="423366">.</span><span class="ident" id="423367"><a href="/gostd/bufio/bufio.go.html#1367486">Flush</a></span><span class="op" id="423372">(</span><span class="op" id="423373">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423377">s</span><span class="op" id="423378">,</span>&nbsp;<span class="ident" id="423380"><a href="/gostd/net/http/example_test.go.html#423122">err</a></span>&nbsp;<span class="op" id="423384">:=</span>&nbsp;<span class="ident" id="423387"><a href="/gostd/net/http/example_test.go.html#423115">bufrw</a></span><span class="op" id="423392">.</span><span class="ident" id="423393"><a href="/gostd/bufio/bufio.go.html#1365145">ReadString</a></span><span class="op" id="423403">(</span><span class="string" id="423404">&#39;\n&#39;</span><span class="op" id="423408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="423412">if</span>&nbsp;<span class="ident" id="423415"><a href="/gostd/net/http/example_test.go.html#423122">err</a></span>&nbsp;<span class="op" id="423419">!=</span>&nbsp;<span class="builtintype" id="423422">nil</span>&nbsp;<span class="op" id="423426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423431"><a href="/gostd/net/http/example_test.go.html#422843">log</a></span><span class="op" id="423434">.</span><span class="ident" id="423435"><a href="/gostd/log/log.go.html#4078664">Printf</a></span><span class="op" id="423441">(</span><span class="string" id="423442">&#34;error&nbsp;reading&nbsp;string:&nbsp;%v&#34;</span><span class="op" id="423468">,</span>&nbsp;<span class="ident" id="423470"><a href="/gostd/net/http/example_test.go.html#423122">err</a></span><span class="op" id="423473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="423478">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="423487">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423491"><a href="/gostd/net/http/example_test.go.html#422823">fmt</a></span><span class="op" id="423494">.</span><span class="ident" id="423495"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="423502">(</span><span class="ident" id="423503"><a href="/gostd/net/http/example_test.go.html#423115">bufrw</a></span><span class="op" id="423508">,</span>&nbsp;<span class="string" id="423510">&#34;You&nbsp;said:&nbsp;%q\nBye.\n&#34;</span><span class="op" id="423532">,</span>&nbsp;<span class="ident" id="423534"><a href="/gostd/net/http/example_test.go.html#423377">s</a></span><span class="op" id="423535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423539"><a href="/gostd/net/http/example_test.go.html#423115">bufrw</a></span><span class="op" id="423544">.</span><span class="ident" id="423545"><a href="/gostd/bufio/bufio.go.html#1367486">Flush</a></span><span class="op" id="423550">(</span><span class="op" id="423551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="423554">}</span><span class="op" id="423555">)</span><br>
<span class="lineno"></span><span class="op" id="423557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="423560">func</span>&nbsp;<span class="ident" id="423565">ExampleGet</span><span class="op" id="423575">(</span><span class="op" id="423576">)</span>&nbsp;<span class="op" id="423578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423581">res</span><span class="op" id="423584">,</span>&nbsp;<span class="ident" id="423586">err</span>&nbsp;<span class="op" id="423590">:=</span>&nbsp;<span class="ident" id="423593"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="423597">.</span><span class="ident" id="423598"><a href="/gostd/net/http/client.go.html#4088955">Get</a></span><span class="op" id="423601">(</span><span class="string" id="423602">&#34;http://www.google.com/robots.txt&#34;</span><span class="op" id="423636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="423639">if</span>&nbsp;<span class="ident" id="423642"><a href="/gostd/net/http/example_test.go.html#423586">err</a></span>&nbsp;<span class="op" id="423646">!=</span>&nbsp;<span class="builtintype" id="423649">nil</span>&nbsp;<span class="op" id="423653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423657"><a href="/gostd/net/http/example_test.go.html#422843">log</a></span><span class="op" id="423660">.</span><span class="ident" id="423661"><a href="/gostd/log/log.go.html#4079007">Fatal</a></span><span class="op" id="423666">(</span><span class="ident" id="423667"><a href="/gostd/net/http/example_test.go.html#423586">err</a></span><span class="op" id="423670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="423673">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423676">robots</span><span class="op" id="423682">,</span>&nbsp;<span class="ident" id="423684"><a href="/gostd/net/http/example_test.go.html#423586">err</a></span>&nbsp;<span class="op" id="423688">:=</span>&nbsp;<span class="ident" id="423691"><a href="/gostd/net/http/example_test.go.html#422830">ioutil</a></span><span class="op" id="423697">.</span><span class="ident" id="423698"><a href="/gostd/io/ioutil/ioutil.go.html#3765117">ReadAll</a></span><span class="op" id="423705">(</span><span class="ident" id="423706"><a href="/gostd/net/http/example_test.go.html#423581">res</a></span><span class="op" id="423709">.</span><span class="ident" id="423710"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><span class="op" id="423714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423717"><a href="/gostd/net/http/example_test.go.html#423581">res</a></span><span class="op" id="423720">.</span><span class="ident" id="423721"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><span class="op" id="423725">.</span><span class="ident" id="423726"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="423731">(</span><span class="op" id="423732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="423735">if</span>&nbsp;<span class="ident" id="423738"><a href="/gostd/net/http/example_test.go.html#423586">err</a></span>&nbsp;<span class="op" id="423742">!=</span>&nbsp;<span class="builtintype" id="423745">nil</span>&nbsp;<span class="op" id="423749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423753"><a href="/gostd/net/http/example_test.go.html#422843">log</a></span><span class="op" id="423756">.</span><span class="ident" id="423757"><a href="/gostd/log/log.go.html#4079007">Fatal</a></span><span class="op" id="423762">(</span><span class="ident" id="423763"><a href="/gostd/net/http/example_test.go.html#423586">err</a></span><span class="op" id="423766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="423769">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423772"><a href="/gostd/net/http/example_test.go.html#422823">fmt</a></span><span class="op" id="423775">.</span><span class="ident" id="423776"><a href="/gostd/fmt/print.go.html#2143442">Printf</a></span><span class="op" id="423782">(</span><span class="string" id="423783">&#34;%s&#34;</span><span class="op" id="423787">,</span>&nbsp;<span class="ident" id="423789"><a href="/gostd/net/http/example_test.go.html#423676">robots</a></span><span class="op" id="423795">)</span><br>
<span class="lineno"></span><span class="op" id="423797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="423800">func</span>&nbsp;<span class="ident" id="423805">ExampleFileServer</span><span class="op" id="423822">(</span><span class="op" id="423823">)</span>&nbsp;<span class="op" id="423825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="423828">//&nbsp;Simple&nbsp;static&nbsp;webserver:</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="423857"><a href="/gostd/net/http/example_test.go.html#422843">log</a></span><span class="op" id="423860">.</span><span class="ident" id="423861"><a href="/gostd/log/log.go.html#4079007">Fatal</a></span><span class="op" id="423866">(</span><span class="ident" id="423867"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="423871">.</span><span class="ident" id="423872"><a href="/gostd/net/http/server.go.html#4222573">ListenAndServe</a></span><span class="op" id="423886">(</span><span class="string" id="423887">&#34;:8080&#34;</span><span class="op" id="423894">,</span>&nbsp;<span class="ident" id="423896"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="423900">.</span><span class="ident" id="423901"><a href="/gostd/net/http/fs.go.html#4122830">FileServer</a></span><span class="op" id="423911">(</span><span class="ident" id="423912"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="423916">.</span><span class="ident" id="423917"><a href="/gostd/net/http/fs.go.html#4110341">Dir</a></span><span class="op" id="423920">(</span><span class="string" id="423921">&#34;/usr/share/doc&#34;</span><span class="op" id="423937">)</span><span class="op" id="423938">)</span><span class="op" id="423939">)</span><span class="op" id="423940">)</span><br>
<span class="lineno"></span><span class="op" id="423942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="423945">func</span>&nbsp;<span class="ident" id="423950">ExampleFileServer_stripPrefix</span><span class="op" id="423979">(</span><span class="op" id="423980">)</span>&nbsp;<span class="op" id="423982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="423985">//&nbsp;To&nbsp;serve&nbsp;a&nbsp;directory&nbsp;on&nbsp;disk&nbsp;(/tmp)&nbsp;under&nbsp;an&nbsp;alternate&nbsp;URL</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="424048">//&nbsp;path&nbsp;(/tmpfiles/),&nbsp;use&nbsp;StripPrefix&nbsp;to&nbsp;modify&nbsp;the&nbsp;request</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="424109">//&nbsp;URL&#39;s&nbsp;path&nbsp;before&nbsp;the&nbsp;FileServer&nbsp;sees&nbsp;it:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="424155"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424159">.</span><span class="ident" id="424160"><a href="/gostd/net/http/server.go.html#4215699">Handle</a></span><span class="op" id="424166">(</span><span class="string" id="424167">&#34;/tmpfiles/&#34;</span><span class="op" id="424179">,</span>&nbsp;<span class="ident" id="424181"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424185">.</span><span class="ident" id="424186"><a href="/gostd/net/http/server.go.html#4206707">StripPrefix</a></span><span class="op" id="424197">(</span><span class="string" id="424198">&#34;/tmpfiles/&#34;</span><span class="op" id="424210">,</span>&nbsp;<span class="ident" id="424212"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424216">.</span><span class="ident" id="424217"><a href="/gostd/net/http/fs.go.html#4122830">FileServer</a></span><span class="op" id="424227">(</span><span class="ident" id="424228"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424232">.</span><span class="ident" id="424233"><a href="/gostd/net/http/fs.go.html#4110341">Dir</a></span><span class="op" id="424236">(</span><span class="string" id="424237">&#34;/tmp&#34;</span><span class="op" id="424243">)</span><span class="op" id="424244">)</span><span class="op" id="424245">)</span><span class="op" id="424246">)</span><br>
<span class="lineno"></span><span class="op" id="424248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="424251">func</span>&nbsp;<span class="ident" id="424256">ExampleStripPrefix</span><span class="op" id="424274">(</span><span class="op" id="424275">)</span>&nbsp;<span class="op" id="424277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="424280">//&nbsp;To&nbsp;serve&nbsp;a&nbsp;directory&nbsp;on&nbsp;disk&nbsp;(/tmp)&nbsp;under&nbsp;an&nbsp;alternate&nbsp;URL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="424343">//&nbsp;path&nbsp;(/tmpfiles/),&nbsp;use&nbsp;StripPrefix&nbsp;to&nbsp;modify&nbsp;the&nbsp;request</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="424404">//&nbsp;URL&#39;s&nbsp;path&nbsp;before&nbsp;the&nbsp;FileServer&nbsp;sees&nbsp;it:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="424450"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424454">.</span><span class="ident" id="424455"><a href="/gostd/net/http/server.go.html#4215699">Handle</a></span><span class="op" id="424461">(</span><span class="string" id="424462">&#34;/tmpfiles/&#34;</span><span class="op" id="424474">,</span>&nbsp;<span class="ident" id="424476"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424480">.</span><span class="ident" id="424481"><a href="/gostd/net/http/server.go.html#4206707">StripPrefix</a></span><span class="op" id="424492">(</span><span class="string" id="424493">&#34;/tmpfiles/&#34;</span><span class="op" id="424505">,</span>&nbsp;<span class="ident" id="424507"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424511">.</span><span class="ident" id="424512"><a href="/gostd/net/http/fs.go.html#4122830">FileServer</a></span><span class="op" id="424522">(</span><span class="ident" id="424523"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424527">.</span><span class="ident" id="424528"><a href="/gostd/net/http/fs.go.html#4110341">Dir</a></span><span class="op" id="424531">(</span><span class="string" id="424532">&#34;/tmp&#34;</span><span class="op" id="424538">)</span><span class="op" id="424539">)</span><span class="op" id="424540">)</span><span class="op" id="424541">)</span><br>
<span class="lineno">70</span><span class="op" id="424543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="424546">type</span>&nbsp;<span class="ident" id="424551">apiHandler</span>&nbsp;<span class="keyword" id="424562">struct</span><span class="op" id="424568">{</span><span class="op" id="424569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="424572">func</span>&nbsp;<span class="op" id="424577">(</span><span class="ident" id="424578"><a href="/gostd/net/http/example_test.go.html#424551">apiHandler</a></span><span class="op" id="424588">)</span>&nbsp;<span class="ident" id="424590">ServeHTTP</span><span class="op" id="424599">(</span><span class="ident" id="424600"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424604">.</span><span class="ident" id="424605"><a href="/gostd/net/http/server.go.html#4170569">ResponseWriter</a></span><span class="op" id="424619">,</span>&nbsp;<span class="op" id="424621">*</span><span class="ident" id="424622"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424626">.</span><span class="ident" id="424627"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="424634">)</span>&nbsp;<span class="op" id="424636">{</span><span class="op" id="424637">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="424640">func</span>&nbsp;<span class="ident" id="424645">ExampleServeMux_Handle</span><span class="op" id="424667">(</span><span class="op" id="424668">)</span>&nbsp;<span class="op" id="424670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="424673">mux</span>&nbsp;<span class="op" id="424677">:=</span>&nbsp;<span class="ident" id="424680"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424684">.</span><span class="ident" id="424685"><a href="/gostd/net/http/server.go.html#4211243">NewServeMux</a></span><span class="op" id="424696">(</span><span class="op" id="424697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="424700"><a href="/gostd/net/http/example_test.go.html#424673">mux</a></span><span class="op" id="424703">.</span><span class="ident" id="424704"><a href="/gostd/net/http/server.go.html#4214304">Handle</a></span><span class="op" id="424710">(</span><span class="string" id="424711">&#34;/api/&#34;</span><span class="op" id="424718">,</span>&nbsp;<span class="ident" id="424720"><a href="/gostd/net/http/example_test.go.html#424551">apiHandler</a></span><span class="op" id="424730">{</span><span class="op" id="424731">}</span><span class="op" id="424732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="424735"><a href="/gostd/net/http/example_test.go.html#424673">mux</a></span><span class="op" id="424738">.</span><span class="ident" id="424739"><a href="/gostd/net/http/server.go.html#4215429">HandleFunc</a></span><span class="op" id="424749">(</span><span class="string" id="424750">&#34;/&#34;</span><span class="op" id="424753">,</span>&nbsp;<span class="keyword" id="424755">func</span><span class="op" id="424759">(</span><span class="ident" id="424760">w</span>&nbsp;<span class="ident" id="424762"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424766">.</span><span class="ident" id="424767"><a href="/gostd/net/http/server.go.html#4170569">ResponseWriter</a></span><span class="op" id="424781">,</span>&nbsp;<span class="ident" id="424783">req</span>&nbsp;<span class="op" id="424787">*</span><span class="ident" id="424788"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424792">.</span><span class="ident" id="424793"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="424800">)</span>&nbsp;<span class="op" id="424802">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="424806">//&nbsp;The&nbsp;&#34;/&#34;&nbsp;pattern&nbsp;matches&nbsp;everything,&nbsp;so&nbsp;we&nbsp;need&nbsp;to&nbsp;check</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="424867">//&nbsp;that&nbsp;we&#39;re&nbsp;at&nbsp;the&nbsp;root&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="424901">if</span>&nbsp;<span class="ident" id="424904"><a href="/gostd/net/http/example_test.go.html#424783">req</a></span><span class="op" id="424907">.</span><span class="ident" id="424908"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="424911">.</span><span class="ident" id="424912"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span>&nbsp;<span class="op" id="424917">!=</span>&nbsp;<span class="string" id="424920">&#34;/&#34;</span>&nbsp;<span class="op" id="424924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="424929"><a href="/gostd/net/http/example_test.go.html#422850">http</a></span><span class="op" id="424933">.</span><span class="ident" id="424934"><a href="/gostd/net/http/server.go.html#4206151">NotFound</a></span><span class="op" id="424942">(</span><span class="ident" id="424943"><a href="/gostd/net/http/example_test.go.html#424760">w</a></span><span class="op" id="424944">,</span>&nbsp;<span class="ident" id="424946"><a href="/gostd/net/http/example_test.go.html#424783">req</a></span><span class="op" id="424949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="424954">return</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="424963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="424967"><a href="/gostd/net/http/example_test.go.html#422823">fmt</a></span><span class="op" id="424970">.</span><span class="ident" id="424971"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="424978">(</span><span class="ident" id="424979"><a href="/gostd/net/http/example_test.go.html#424760">w</a></span><span class="op" id="424980">,</span>&nbsp;<span class="string" id="424982">&#34;Welcome&nbsp;to&nbsp;the&nbsp;home&nbsp;page!&#34;</span><span class="op" id="425009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="425012">}</span><span class="op" id="425013">)</span><br>
<span class="lineno"></span><span class="op" id="425015">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
