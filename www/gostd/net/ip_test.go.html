<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7803080">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7803135">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7803189">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7803240">package</span>&nbsp;<span class="ident" id="7803248">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7803253">import</span>&nbsp;<span class="op" id="7803260">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7803263">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7803274">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7803285">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7803295">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7803298">var</span>&nbsp;<span class="ident" id="7803302">parseIPTests</span>&nbsp;<span class="op" id="7803315">=</span>&nbsp;<span class="op" id="7803317">[</span><span class="op" id="7803318">]</span><span class="keyword" id="7803319">struct</span>&nbsp;<span class="op" id="7803326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7803329">in</span>&nbsp;&nbsp;<span class="builtintype" id="7803333">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7803341">out</span>&nbsp;<span class="ident" id="7803345">IP</span><br>
<span class="lineno"></span><span class="op" id="7803348">}</span><span class="op" id="7803349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803352">{</span><span class="string" id="7803353">&#34;127.0.1.2&#34;</span><span class="op" id="7803364">,</span>&nbsp;<span class="ident" id="7803366">IPv4</span><span class="op" id="7803370">(</span><span class="num" id="7803371">127</span><span class="op" id="7803374">,</span>&nbsp;<span class="num" id="7803376">0</span><span class="op" id="7803377">,</span>&nbsp;<span class="num" id="7803379">1</span><span class="op" id="7803380">,</span>&nbsp;<span class="num" id="7803382">2</span><span class="op" id="7803383">)</span><span class="op" id="7803384">}</span><span class="op" id="7803385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803388">{</span><span class="string" id="7803389">&#34;127.0.0.1&#34;</span><span class="op" id="7803400">,</span>&nbsp;<span class="ident" id="7803402">IPv4</span><span class="op" id="7803406">(</span><span class="num" id="7803407">127</span><span class="op" id="7803410">,</span>&nbsp;<span class="num" id="7803412">0</span><span class="op" id="7803413">,</span>&nbsp;<span class="num" id="7803415">0</span><span class="op" id="7803416">,</span>&nbsp;<span class="num" id="7803418">1</span><span class="op" id="7803419">)</span><span class="op" id="7803420">}</span><span class="op" id="7803421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803424">{</span><span class="string" id="7803425">&#34;127.0.0.256&#34;</span><span class="op" id="7803438">,</span>&nbsp;<span class="ident" id="7803440">nil</span><span class="op" id="7803443">}</span><span class="op" id="7803444">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803447">{</span><span class="string" id="7803448">&#34;abc&#34;</span><span class="op" id="7803453">,</span>&nbsp;<span class="ident" id="7803455">nil</span><span class="op" id="7803458">}</span><span class="op" id="7803459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803462">{</span><span class="string" id="7803463">&#34;123:&#34;</span><span class="op" id="7803469">,</span>&nbsp;<span class="ident" id="7803471">nil</span><span class="op" id="7803474">}</span><span class="op" id="7803475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803478">{</span><span class="string" id="7803479">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="7803497">,</span>&nbsp;<span class="ident" id="7803499">IPv4</span><span class="op" id="7803503">(</span><span class="num" id="7803504">127</span><span class="op" id="7803507">,</span>&nbsp;<span class="num" id="7803509">0</span><span class="op" id="7803510">,</span>&nbsp;<span class="num" id="7803512">0</span><span class="op" id="7803513">,</span>&nbsp;<span class="num" id="7803515">1</span><span class="op" id="7803516">)</span><span class="op" id="7803517">}</span><span class="op" id="7803518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803521">{</span><span class="string" id="7803522">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="7803544">,</span>&nbsp;<span class="ident" id="7803546">IP</span><span class="op" id="7803548">{</span><span class="num" id="7803549">0x20</span><span class="op" id="7803553">,</span>&nbsp;<span class="num" id="7803555">0x01</span><span class="op" id="7803559">,</span>&nbsp;<span class="num" id="7803561">0x48</span><span class="op" id="7803565">,</span>&nbsp;<span class="num" id="7803567">0x60</span><span class="op" id="7803571">,</span>&nbsp;<span class="num" id="7803573">0</span><span class="op" id="7803574">,</span>&nbsp;<span class="num" id="7803576">0</span><span class="op" id="7803577">,</span>&nbsp;<span class="num" id="7803579">0x20</span><span class="op" id="7803583">,</span>&nbsp;<span class="num" id="7803585">0x01</span><span class="op" id="7803589">,</span>&nbsp;<span class="num" id="7803591">0</span><span class="op" id="7803592">,</span>&nbsp;<span class="num" id="7803594">0</span><span class="op" id="7803595">,</span>&nbsp;<span class="num" id="7803597">0</span><span class="op" id="7803598">,</span>&nbsp;<span class="num" id="7803600">0</span><span class="op" id="7803601">,</span>&nbsp;<span class="num" id="7803603">0</span><span class="op" id="7803604">,</span>&nbsp;<span class="num" id="7803606">0</span><span class="op" id="7803607">,</span>&nbsp;<span class="num" id="7803609">0x00</span><span class="op" id="7803613">,</span>&nbsp;<span class="num" id="7803615">0x68</span><span class="op" id="7803619">}</span><span class="op" id="7803620">}</span><span class="op" id="7803621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803624">{</span><span class="string" id="7803625">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="7803643">,</span>&nbsp;<span class="ident" id="7803645">IPv4</span><span class="op" id="7803649">(</span><span class="num" id="7803650">74</span><span class="op" id="7803652">,</span>&nbsp;<span class="num" id="7803654">125</span><span class="op" id="7803657">,</span>&nbsp;<span class="num" id="7803659">19</span><span class="op" id="7803661">,</span>&nbsp;<span class="num" id="7803663">99</span><span class="op" id="7803665">)</span><span class="op" id="7803666">}</span><span class="op" id="7803667">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803670">{</span><span class="string" id="7803671">&#34;fe80::1%lo0&#34;</span><span class="op" id="7803684">,</span>&nbsp;<span class="ident" id="7803686">nil</span><span class="op" id="7803689">}</span><span class="op" id="7803690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803693">{</span><span class="string" id="7803694">&#34;fe80::1%911&#34;</span><span class="op" id="7803707">,</span>&nbsp;<span class="ident" id="7803709">nil</span><span class="op" id="7803712">}</span><span class="op" id="7803713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803716">{</span><span class="string" id="7803717">&#34;&#34;</span><span class="op" id="7803719">,</span>&nbsp;<span class="ident" id="7803721">nil</span><span class="op" id="7803724">}</span><span class="op" id="7803725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803728">{</span><span class="string" id="7803729">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="7803755">,</span>&nbsp;<span class="ident" id="7803757">nil</span><span class="op" id="7803760">}</span><span class="op" id="7803761">,</span>&nbsp;<span class="comment" id="7803763">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="7803777">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="7803780">func</span>&nbsp;<span class="ident" id="7803785">TestParseIP</span><span class="op" id="7803796">(</span><span class="ident" id="7803797">t</span>&nbsp;<span class="op" id="7803799">*</span><span class="ident" id="7803800">testing</span><span class="op" id="7803807">.</span><span class="ident" id="7803808">T</span><span class="op" id="7803809">)</span>&nbsp;<span class="op" id="7803811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7803814">for</span>&nbsp;<span class="ident" id="7803818">_</span><span class="op" id="7803819">,</span>&nbsp;<span class="ident" id="7803821">tt</span>&nbsp;<span class="op" id="7803824">:=</span>&nbsp;<span class="keyword" id="7803827">range</span>&nbsp;<span class="ident" id="7803833">parseIPTests</span>&nbsp;<span class="op" id="7803846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7803850">if</span>&nbsp;<span class="ident" id="7803853">out</span>&nbsp;<span class="op" id="7803857">:=</span>&nbsp;<span class="ident" id="7803860">ParseIP</span><span class="op" id="7803867">(</span><span class="ident" id="7803868">tt</span><span class="op" id="7803870">.</span><span class="ident" id="7803871">in</span><span class="op" id="7803873">)</span><span class="op" id="7803874">;</span>&nbsp;<span class="op" id="7803876">!</span><span class="ident" id="7803877">reflect</span><span class="op" id="7803884">.</span><span class="ident" id="7803885">DeepEqual</span><span class="op" id="7803894">(</span><span class="ident" id="7803895">out</span><span class="op" id="7803898">,</span>&nbsp;<span class="ident" id="7803900">tt</span><span class="op" id="7803902">.</span><span class="ident" id="7803903">out</span><span class="op" id="7803906">)</span>&nbsp;<span class="op" id="7803908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7803913">t</span><span class="op" id="7803914">.</span><span class="ident" id="7803915">Errorf</span><span class="op" id="7803921">(</span><span class="string" id="7803922">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7803949">,</span>&nbsp;<span class="ident" id="7803951">tt</span><span class="op" id="7803953">.</span><span class="ident" id="7803954">in</span><span class="op" id="7803956">,</span>&nbsp;<span class="ident" id="7803958">out</span><span class="op" id="7803961">,</span>&nbsp;<span class="ident" id="7803963">tt</span><span class="op" id="7803965">.</span><span class="ident" id="7803966">out</span><span class="op" id="7803969">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7803973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7803977">if</span>&nbsp;<span class="ident" id="7803980">tt</span><span class="op" id="7803982">.</span><span class="ident" id="7803983">in</span>&nbsp;<span class="op" id="7803986">==</span>&nbsp;<span class="string" id="7803989">&#34;&#34;</span>&nbsp;<span class="op" id="7803992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7803997">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804039">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804050">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804054">var</span>&nbsp;<span class="ident" id="7804058">out</span>&nbsp;<span class="ident" id="7804062">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804067">if</span>&nbsp;<span class="ident" id="7804070">err</span>&nbsp;<span class="op" id="7804074">:=</span>&nbsp;<span class="ident" id="7804077">out</span><span class="op" id="7804080">.</span><span class="ident" id="7804081">UnmarshalText</span><span class="op" id="7804094">(</span><span class="op" id="7804095">[</span><span class="op" id="7804096">]</span><span class="builtintype" id="7804097">byte</span><span class="op" id="7804101">(</span><span class="ident" id="7804102">tt</span><span class="op" id="7804104">.</span><span class="ident" id="7804105">in</span><span class="op" id="7804107">)</span><span class="op" id="7804108">)</span><span class="op" id="7804109">;</span>&nbsp;<span class="op" id="7804111">!</span><span class="ident" id="7804112">reflect</span><span class="op" id="7804119">.</span><span class="ident" id="7804120">DeepEqual</span><span class="op" id="7804129">(</span><span class="ident" id="7804130">out</span><span class="op" id="7804133">,</span>&nbsp;<span class="ident" id="7804135">tt</span><span class="op" id="7804137">.</span><span class="ident" id="7804138">out</span><span class="op" id="7804141">)</span>&nbsp;<span class="op" id="7804143">||</span>&nbsp;<span class="op" id="7804146">(</span><span class="ident" id="7804147">tt</span><span class="op" id="7804149">.</span><span class="ident" id="7804150">out</span>&nbsp;<span class="op" id="7804154">==</span>&nbsp;<span class="ident" id="7804157">nil</span><span class="op" id="7804160">)</span>&nbsp;<span class="op" id="7804162">!=</span>&nbsp;<span class="op" id="7804165">(</span><span class="ident" id="7804166">err</span>&nbsp;<span class="op" id="7804170">!=</span>&nbsp;<span class="ident" id="7804173">nil</span><span class="op" id="7804176">)</span>&nbsp;<span class="op" id="7804178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7804183">t</span><span class="op" id="7804184">.</span><span class="ident" id="7804185">Errorf</span><span class="op" id="7804191">(</span><span class="string" id="7804192">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7804232">,</span>&nbsp;<span class="ident" id="7804234">tt</span><span class="op" id="7804236">.</span><span class="ident" id="7804237">in</span><span class="op" id="7804239">,</span>&nbsp;<span class="ident" id="7804241">out</span><span class="op" id="7804244">,</span>&nbsp;<span class="ident" id="7804246">err</span><span class="op" id="7804249">,</span>&nbsp;<span class="ident" id="7804251">tt</span><span class="op" id="7804253">.</span><span class="ident" id="7804254">out</span><span class="op" id="7804257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804264">}</span><br>
<span class="lineno">45</span><span class="op" id="7804266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7804269">func</span>&nbsp;<span class="ident" id="7804274">BenchmarkParseIP</span><span class="op" id="7804290">(</span><span class="ident" id="7804291">b</span>&nbsp;<span class="op" id="7804293">*</span><span class="ident" id="7804294">testing</span><span class="op" id="7804301">.</span><span class="ident" id="7804302">B</span><span class="op" id="7804303">)</span>&nbsp;<span class="op" id="7804305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804308">for</span>&nbsp;<span class="ident" id="7804312">i</span>&nbsp;<span class="op" id="7804314">:=</span>&nbsp;<span class="num" id="7804317">0</span><span class="op" id="7804318">;</span>&nbsp;<span class="ident" id="7804320">i</span>&nbsp;<span class="op" id="7804322">&lt;</span>&nbsp;<span class="ident" id="7804324">b</span><span class="op" id="7804325">.</span><span class="ident" id="7804326">N</span><span class="op" id="7804327">;</span>&nbsp;<span class="ident" id="7804329">i</span><span class="op" id="7804330">++</span>&nbsp;<span class="op" id="7804333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804337">for</span>&nbsp;<span class="ident" id="7804341">_</span><span class="op" id="7804342">,</span>&nbsp;<span class="ident" id="7804344">tt</span>&nbsp;<span class="op" id="7804347">:=</span>&nbsp;<span class="keyword" id="7804350">range</span>&nbsp;<span class="ident" id="7804356">parseIPTests</span>&nbsp;<span class="op" id="7804369">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7804374">ParseIP</span><span class="op" id="7804381">(</span><span class="ident" id="7804382">tt</span><span class="op" id="7804384">.</span><span class="ident" id="7804385">in</span><span class="op" id="7804387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804394">}</span><br>
<span class="lineno"></span><span class="op" id="7804396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="7804399">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="7804413">func</span>&nbsp;<span class="ident" id="7804418">TestMarshalEmptyIP</span><span class="op" id="7804436">(</span><span class="ident" id="7804437">t</span>&nbsp;<span class="op" id="7804439">*</span><span class="ident" id="7804440">testing</span><span class="op" id="7804447">.</span><span class="ident" id="7804448">T</span><span class="op" id="7804449">)</span>&nbsp;<span class="op" id="7804451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804454">for</span>&nbsp;<span class="ident" id="7804458">_</span><span class="op" id="7804459">,</span>&nbsp;<span class="ident" id="7804461">in</span>&nbsp;<span class="op" id="7804464">:=</span>&nbsp;<span class="keyword" id="7804467">range</span>&nbsp;<span class="op" id="7804473">[</span><span class="op" id="7804474">]</span><span class="op" id="7804475">[</span><span class="op" id="7804476">]</span><span class="builtintype" id="7804477">byte</span><span class="op" id="7804481">{</span><span class="ident" id="7804482">nil</span><span class="op" id="7804485">,</span>&nbsp;<span class="op" id="7804487">[</span><span class="op" id="7804488">]</span><span class="builtintype" id="7804489">byte</span><span class="op" id="7804493">(</span><span class="string" id="7804494">&#34;&#34;</span><span class="op" id="7804496">)</span><span class="op" id="7804497">}</span>&nbsp;<span class="op" id="7804499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804503">var</span>&nbsp;<span class="ident" id="7804507">out</span>&nbsp;<span class="op" id="7804511">=</span>&nbsp;<span class="ident" id="7804513">IP</span><span class="op" id="7804515">{</span><span class="num" id="7804516">1</span><span class="op" id="7804517">,</span>&nbsp;<span class="num" id="7804519">2</span><span class="op" id="7804520">,</span>&nbsp;<span class="num" id="7804522">3</span><span class="op" id="7804523">,</span>&nbsp;<span class="num" id="7804525">4</span><span class="op" id="7804526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804530">if</span>&nbsp;<span class="ident" id="7804533">err</span>&nbsp;<span class="op" id="7804537">:=</span>&nbsp;<span class="ident" id="7804540">out</span><span class="op" id="7804543">.</span><span class="ident" id="7804544">UnmarshalText</span><span class="op" id="7804557">(</span><span class="ident" id="7804558">in</span><span class="op" id="7804560">)</span><span class="op" id="7804561">;</span>&nbsp;<span class="ident" id="7804563">err</span>&nbsp;<span class="op" id="7804567">!=</span>&nbsp;<span class="ident" id="7804570">nil</span>&nbsp;<span class="op" id="7804574">||</span>&nbsp;<span class="ident" id="7804577">out</span>&nbsp;<span class="op" id="7804581">!=</span>&nbsp;<span class="ident" id="7804584">nil</span>&nbsp;<span class="op" id="7804588">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7804593">t</span><span class="op" id="7804594">.</span><span class="ident" id="7804595">Errorf</span><span class="op" id="7804601">(</span><span class="string" id="7804602">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="7804645">,</span>&nbsp;<span class="ident" id="7804647">in</span><span class="op" id="7804649">,</span>&nbsp;<span class="ident" id="7804651">out</span><span class="op" id="7804654">,</span>&nbsp;<span class="ident" id="7804656">err</span><span class="op" id="7804659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804669">var</span>&nbsp;<span class="ident" id="7804673">ip</span>&nbsp;<span class="ident" id="7804676">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7804680">got</span><span class="op" id="7804683">,</span>&nbsp;<span class="ident" id="7804685">err</span>&nbsp;<span class="op" id="7804689">:=</span>&nbsp;<span class="ident" id="7804692">ip</span><span class="op" id="7804694">.</span><span class="ident" id="7804695">MarshalText</span><span class="op" id="7804706">(</span><span class="op" id="7804707">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804710">if</span>&nbsp;<span class="ident" id="7804713">err</span>&nbsp;<span class="op" id="7804717">!=</span>&nbsp;<span class="ident" id="7804720">nil</span>&nbsp;<span class="op" id="7804724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7804728">t</span><span class="op" id="7804729">.</span><span class="ident" id="7804730">Fatal</span><span class="op" id="7804735">(</span><span class="ident" id="7804736">err</span><span class="op" id="7804739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7804745">if</span>&nbsp;<span class="op" id="7804748">!</span><span class="ident" id="7804749">reflect</span><span class="op" id="7804756">.</span><span class="ident" id="7804757">DeepEqual</span><span class="op" id="7804766">(</span><span class="ident" id="7804767">got</span><span class="op" id="7804770">,</span>&nbsp;<span class="op" id="7804772">[</span><span class="op" id="7804773">]</span><span class="builtintype" id="7804774">byte</span><span class="op" id="7804778">(</span><span class="string" id="7804779">&#34;&#34;</span><span class="op" id="7804781">)</span><span class="op" id="7804782">)</span>&nbsp;<span class="op" id="7804784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7804788">t</span><span class="op" id="7804789">.</span><span class="ident" id="7804790">Errorf</span><span class="op" id="7804796">(</span><span class="string" id="7804797">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="7804823">,</span>&nbsp;<span class="ident" id="7804825">got</span><span class="op" id="7804828">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804831">}</span><br>
<span class="lineno"></span><span class="op" id="7804833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7804836">var</span>&nbsp;<span class="ident" id="7804840">ipStringTests</span>&nbsp;<span class="op" id="7804854">=</span>&nbsp;<span class="op" id="7804856">[</span><span class="op" id="7804857">]</span><span class="keyword" id="7804858">struct</span>&nbsp;<span class="op" id="7804865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7804868">in</span>&nbsp;&nbsp;<span class="ident" id="7804872">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7804876">out</span>&nbsp;<span class="builtintype" id="7804880">string</span>&nbsp;<span class="comment" id="7804887">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="7804903">}</span><span class="op" id="7804904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7804907">{</span><span class="ident" id="7804908">IP</span><span class="op" id="7804910">{</span><span class="num" id="7804911">0x20</span><span class="op" id="7804915">,</span>&nbsp;<span class="num" id="7804917">0x1</span><span class="op" id="7804920">,</span>&nbsp;<span class="num" id="7804922">0xd</span><span class="op" id="7804925">,</span>&nbsp;<span class="num" id="7804927">0xb8</span><span class="op" id="7804931">,</span>&nbsp;<span class="num" id="7804933">0</span><span class="op" id="7804934">,</span>&nbsp;<span class="num" id="7804936">0</span><span class="op" id="7804937">,</span>&nbsp;<span class="num" id="7804939">0</span><span class="op" id="7804940">,</span>&nbsp;<span class="num" id="7804942">0</span><span class="op" id="7804943">,</span>&nbsp;<span class="num" id="7804945">0</span><span class="op" id="7804946">,</span>&nbsp;<span class="num" id="7804948">0</span><span class="op" id="7804949">,</span>&nbsp;<span class="num" id="7804951">0x1</span><span class="op" id="7804954">,</span>&nbsp;<span class="num" id="7804956">0x23</span><span class="op" id="7804960">,</span>&nbsp;<span class="num" id="7804962">0</span><span class="op" id="7804963">,</span>&nbsp;<span class="num" id="7804965">0x12</span><span class="op" id="7804969">,</span>&nbsp;<span class="num" id="7804971">0</span><span class="op" id="7804972">,</span>&nbsp;<span class="num" id="7804974">0x1</span><span class="op" id="7804977">}</span><span class="op" id="7804978">,</span>&nbsp;<span class="string" id="7804980">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="7805000">}</span><span class="op" id="7805001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805004">{</span><span class="ident" id="7805005">IP</span><span class="op" id="7805007">{</span><span class="num" id="7805008">0x20</span><span class="op" id="7805012">,</span>&nbsp;<span class="num" id="7805014">0x1</span><span class="op" id="7805017">,</span>&nbsp;<span class="num" id="7805019">0xd</span><span class="op" id="7805022">,</span>&nbsp;<span class="num" id="7805024">0xb8</span><span class="op" id="7805028">,</span>&nbsp;<span class="num" id="7805030">0</span><span class="op" id="7805031">,</span>&nbsp;<span class="num" id="7805033">0</span><span class="op" id="7805034">,</span>&nbsp;<span class="num" id="7805036">0</span><span class="op" id="7805037">,</span>&nbsp;<span class="num" id="7805039">0</span><span class="op" id="7805040">,</span>&nbsp;<span class="num" id="7805042">0</span><span class="op" id="7805043">,</span>&nbsp;<span class="num" id="7805045">0</span><span class="op" id="7805046">,</span>&nbsp;<span class="num" id="7805048">0</span><span class="op" id="7805049">,</span>&nbsp;<span class="num" id="7805051">0</span><span class="op" id="7805052">,</span>&nbsp;<span class="num" id="7805054">0</span><span class="op" id="7805055">,</span>&nbsp;<span class="num" id="7805057">0</span><span class="op" id="7805058">,</span>&nbsp;<span class="num" id="7805060">0</span><span class="op" id="7805061">,</span>&nbsp;<span class="num" id="7805063">0x1</span><span class="op" id="7805066">}</span><span class="op" id="7805067">,</span>&nbsp;<span class="string" id="7805069">&#34;2001:db8::1&#34;</span><span class="op" id="7805082">}</span><span class="op" id="7805083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805086">{</span><span class="ident" id="7805087">IP</span><span class="op" id="7805089">{</span><span class="num" id="7805090">0x20</span><span class="op" id="7805094">,</span>&nbsp;<span class="num" id="7805096">0x1</span><span class="op" id="7805099">,</span>&nbsp;<span class="num" id="7805101">0xd</span><span class="op" id="7805104">,</span>&nbsp;<span class="num" id="7805106">0xb8</span><span class="op" id="7805110">,</span>&nbsp;<span class="num" id="7805112">0</span><span class="op" id="7805113">,</span>&nbsp;<span class="num" id="7805115">0</span><span class="op" id="7805116">,</span>&nbsp;<span class="num" id="7805118">0</span><span class="op" id="7805119">,</span>&nbsp;<span class="num" id="7805121">0x1</span><span class="op" id="7805124">,</span>&nbsp;<span class="num" id="7805126">0</span><span class="op" id="7805127">,</span>&nbsp;<span class="num" id="7805129">0</span><span class="op" id="7805130">,</span>&nbsp;<span class="num" id="7805132">0</span><span class="op" id="7805133">,</span>&nbsp;<span class="num" id="7805135">0x1</span><span class="op" id="7805138">,</span>&nbsp;<span class="num" id="7805140">0</span><span class="op" id="7805141">,</span>&nbsp;<span class="num" id="7805143">0</span><span class="op" id="7805144">,</span>&nbsp;<span class="num" id="7805146">0</span><span class="op" id="7805147">,</span>&nbsp;<span class="num" id="7805149">0x1</span><span class="op" id="7805152">}</span><span class="op" id="7805153">,</span>&nbsp;<span class="string" id="7805155">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="7805177">}</span><span class="op" id="7805178">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805181">{</span><span class="ident" id="7805182">IP</span><span class="op" id="7805184">{</span><span class="num" id="7805185">0x20</span><span class="op" id="7805189">,</span>&nbsp;<span class="num" id="7805191">0x1</span><span class="op" id="7805194">,</span>&nbsp;<span class="num" id="7805196">0xd</span><span class="op" id="7805199">,</span>&nbsp;<span class="num" id="7805201">0xb8</span><span class="op" id="7805205">,</span>&nbsp;<span class="num" id="7805207">0</span><span class="op" id="7805208">,</span>&nbsp;<span class="num" id="7805210">0x1</span><span class="op" id="7805213">,</span>&nbsp;<span class="num" id="7805215">0</span><span class="op" id="7805216">,</span>&nbsp;<span class="num" id="7805218">0</span><span class="op" id="7805219">,</span>&nbsp;<span class="num" id="7805221">0</span><span class="op" id="7805222">,</span>&nbsp;<span class="num" id="7805224">0x1</span><span class="op" id="7805227">,</span>&nbsp;<span class="num" id="7805229">0</span><span class="op" id="7805230">,</span>&nbsp;<span class="num" id="7805232">0</span><span class="op" id="7805233">,</span>&nbsp;<span class="num" id="7805235">0</span><span class="op" id="7805236">,</span>&nbsp;<span class="num" id="7805238">0x1</span><span class="op" id="7805241">,</span>&nbsp;<span class="num" id="7805243">0</span><span class="op" id="7805244">,</span>&nbsp;<span class="num" id="7805246">0</span><span class="op" id="7805247">}</span><span class="op" id="7805248">,</span>&nbsp;<span class="string" id="7805250">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="7805272">}</span><span class="op" id="7805273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805276">{</span><span class="ident" id="7805277">IP</span><span class="op" id="7805279">{</span><span class="num" id="7805280">0x20</span><span class="op" id="7805284">,</span>&nbsp;<span class="num" id="7805286">0x1</span><span class="op" id="7805289">,</span>&nbsp;<span class="num" id="7805291">0</span><span class="op" id="7805292">,</span>&nbsp;<span class="num" id="7805294">0</span><span class="op" id="7805295">,</span>&nbsp;<span class="num" id="7805297">0</span><span class="op" id="7805298">,</span>&nbsp;<span class="num" id="7805300">0</span><span class="op" id="7805301">,</span>&nbsp;<span class="num" id="7805303">0</span><span class="op" id="7805304">,</span>&nbsp;<span class="num" id="7805306">0</span><span class="op" id="7805307">,</span>&nbsp;<span class="num" id="7805309">0</span><span class="op" id="7805310">,</span>&nbsp;<span class="num" id="7805312">0x1</span><span class="op" id="7805315">,</span>&nbsp;<span class="num" id="7805317">0</span><span class="op" id="7805318">,</span>&nbsp;<span class="num" id="7805320">0</span><span class="op" id="7805321">,</span>&nbsp;<span class="num" id="7805323">0</span><span class="op" id="7805324">,</span>&nbsp;<span class="num" id="7805326">0</span><span class="op" id="7805327">,</span>&nbsp;<span class="num" id="7805329">0</span><span class="op" id="7805330">,</span>&nbsp;<span class="num" id="7805332">0x1</span><span class="op" id="7805335">}</span><span class="op" id="7805336">,</span>&nbsp;<span class="string" id="7805338">&#34;2001::1:0:0:1&#34;</span><span class="op" id="7805353">}</span><span class="op" id="7805354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805357">{</span><span class="ident" id="7805358">IP</span><span class="op" id="7805360">{</span><span class="num" id="7805361">0x20</span><span class="op" id="7805365">,</span>&nbsp;<span class="num" id="7805367">0x1</span><span class="op" id="7805370">,</span>&nbsp;<span class="num" id="7805372">0xd</span><span class="op" id="7805375">,</span>&nbsp;<span class="num" id="7805377">0xb8</span><span class="op" id="7805381">,</span>&nbsp;<span class="num" id="7805383">0</span><span class="op" id="7805384">,</span>&nbsp;<span class="num" id="7805386">0</span><span class="op" id="7805387">,</span>&nbsp;<span class="num" id="7805389">0</span><span class="op" id="7805390">,</span>&nbsp;<span class="num" id="7805392">0</span><span class="op" id="7805393">,</span>&nbsp;<span class="num" id="7805395">0</span><span class="op" id="7805396">,</span>&nbsp;<span class="num" id="7805398">0x1</span><span class="op" id="7805401">,</span>&nbsp;<span class="num" id="7805403">0</span><span class="op" id="7805404">,</span>&nbsp;<span class="num" id="7805406">0</span><span class="op" id="7805407">,</span>&nbsp;<span class="num" id="7805409">0</span><span class="op" id="7805410">,</span>&nbsp;<span class="num" id="7805412">0</span><span class="op" id="7805413">,</span>&nbsp;<span class="num" id="7805415">0</span><span class="op" id="7805416">,</span>&nbsp;<span class="num" id="7805418">0</span><span class="op" id="7805419">}</span><span class="op" id="7805420">,</span>&nbsp;<span class="string" id="7805422">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="7805440">}</span><span class="op" id="7805441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805444">{</span><span class="ident" id="7805445">IP</span><span class="op" id="7805447">{</span><span class="num" id="7805448">0x20</span><span class="op" id="7805452">,</span>&nbsp;<span class="num" id="7805454">0x1</span><span class="op" id="7805457">,</span>&nbsp;<span class="num" id="7805459">0xd</span><span class="op" id="7805462">,</span>&nbsp;<span class="num" id="7805464">0xb8</span><span class="op" id="7805468">,</span>&nbsp;<span class="num" id="7805470">0</span><span class="op" id="7805471">,</span>&nbsp;<span class="num" id="7805473">0</span><span class="op" id="7805474">,</span>&nbsp;<span class="num" id="7805476">0</span><span class="op" id="7805477">,</span>&nbsp;<span class="num" id="7805479">0</span><span class="op" id="7805480">,</span>&nbsp;<span class="num" id="7805482">0</span><span class="op" id="7805483">,</span>&nbsp;<span class="num" id="7805485">0x1</span><span class="op" id="7805488">,</span>&nbsp;<span class="num" id="7805490">0</span><span class="op" id="7805491">,</span>&nbsp;<span class="num" id="7805493">0</span><span class="op" id="7805494">,</span>&nbsp;<span class="num" id="7805496">0</span><span class="op" id="7805497">,</span>&nbsp;<span class="num" id="7805499">0</span><span class="op" id="7805500">,</span>&nbsp;<span class="num" id="7805502">0</span><span class="op" id="7805503">,</span>&nbsp;<span class="num" id="7805505">0x1</span><span class="op" id="7805508">}</span><span class="op" id="7805509">,</span>&nbsp;<span class="string" id="7805511">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="7805530">}</span><span class="op" id="7805531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805534">{</span><span class="ident" id="7805535">IP</span><span class="op" id="7805537">{</span><span class="num" id="7805538">0x20</span><span class="op" id="7805542">,</span>&nbsp;<span class="num" id="7805544">0x1</span><span class="op" id="7805547">,</span>&nbsp;<span class="num" id="7805549">0xD</span><span class="op" id="7805552">,</span>&nbsp;<span class="num" id="7805554">0xB8</span><span class="op" id="7805558">,</span>&nbsp;<span class="num" id="7805560">0</span><span class="op" id="7805561">,</span>&nbsp;<span class="num" id="7805563">0</span><span class="op" id="7805564">,</span>&nbsp;<span class="num" id="7805566">0</span><span class="op" id="7805567">,</span>&nbsp;<span class="num" id="7805569">0</span><span class="op" id="7805570">,</span>&nbsp;<span class="num" id="7805572">0</span><span class="op" id="7805573">,</span>&nbsp;<span class="num" id="7805575">0xA</span><span class="op" id="7805578">,</span>&nbsp;<span class="num" id="7805580">0</span><span class="op" id="7805581">,</span>&nbsp;<span class="num" id="7805583">0xB</span><span class="op" id="7805586">,</span>&nbsp;<span class="num" id="7805588">0</span><span class="op" id="7805589">,</span>&nbsp;<span class="num" id="7805591">0xC</span><span class="op" id="7805594">,</span>&nbsp;<span class="num" id="7805596">0</span><span class="op" id="7805597">,</span>&nbsp;<span class="num" id="7805599">0xD</span><span class="op" id="7805602">}</span><span class="op" id="7805603">,</span>&nbsp;<span class="string" id="7805605">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="7805624">}</span><span class="op" id="7805625">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805628">{</span><span class="ident" id="7805629">IPv4</span><span class="op" id="7805633">(</span><span class="num" id="7805634">192</span><span class="op" id="7805637">,</span>&nbsp;<span class="num" id="7805639">168</span><span class="op" id="7805642">,</span>&nbsp;<span class="num" id="7805644">0</span><span class="op" id="7805645">,</span>&nbsp;<span class="num" id="7805647">1</span><span class="op" id="7805648">)</span><span class="op" id="7805649">,</span>&nbsp;<span class="string" id="7805651">&#34;192.168.0.1&#34;</span><span class="op" id="7805664">}</span><span class="op" id="7805665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805668">{</span><span class="ident" id="7805669">nil</span><span class="op" id="7805672">,</span>&nbsp;<span class="string" id="7805674">&#34;&#34;</span><span class="op" id="7805676">}</span><span class="op" id="7805677">,</span><br>
<span class="lineno"></span><span class="op" id="7805679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7805682">func</span>&nbsp;<span class="ident" id="7805687">TestIPString</span><span class="op" id="7805699">(</span><span class="ident" id="7805700">t</span>&nbsp;<span class="op" id="7805702">*</span><span class="ident" id="7805703">testing</span><span class="op" id="7805710">.</span><span class="ident" id="7805711">T</span><span class="op" id="7805712">)</span>&nbsp;<span class="op" id="7805714">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7805717">for</span>&nbsp;<span class="ident" id="7805721">_</span><span class="op" id="7805722">,</span>&nbsp;<span class="ident" id="7805724">tt</span>&nbsp;<span class="op" id="7805727">:=</span>&nbsp;<span class="keyword" id="7805730">range</span>&nbsp;<span class="ident" id="7805736">ipStringTests</span>&nbsp;<span class="op" id="7805750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7805754">if</span>&nbsp;<span class="ident" id="7805757">tt</span><span class="op" id="7805759">.</span><span class="ident" id="7805760">in</span>&nbsp;<span class="op" id="7805763">!=</span>&nbsp;<span class="ident" id="7805766">nil</span>&nbsp;<span class="op" id="7805770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7805775">if</span>&nbsp;<span class="ident" id="7805778">out</span>&nbsp;<span class="op" id="7805782">:=</span>&nbsp;<span class="ident" id="7805785">tt</span><span class="op" id="7805787">.</span><span class="ident" id="7805788">in</span><span class="op" id="7805790">.</span><span class="ident" id="7805791">String</span><span class="op" id="7805797">(</span><span class="op" id="7805798">)</span><span class="op" id="7805799">;</span>&nbsp;<span class="ident" id="7805801">out</span>&nbsp;<span class="op" id="7805805">!=</span>&nbsp;<span class="ident" id="7805808">tt</span><span class="op" id="7805810">.</span><span class="ident" id="7805811">out</span>&nbsp;<span class="op" id="7805815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7805821">t</span><span class="op" id="7805822">.</span><span class="ident" id="7805823">Errorf</span><span class="op" id="7805829">(</span><span class="string" id="7805830">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7805859">,</span>&nbsp;<span class="ident" id="7805861">tt</span><span class="op" id="7805863">.</span><span class="ident" id="7805864">in</span><span class="op" id="7805866">,</span>&nbsp;<span class="ident" id="7805868">out</span><span class="op" id="7805871">,</span>&nbsp;<span class="ident" id="7805873">tt</span><span class="op" id="7805875">.</span><span class="ident" id="7805876">out</span><span class="op" id="7805879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805884">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7805888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7805892">if</span>&nbsp;<span class="ident" id="7805895">out</span><span class="op" id="7805898">,</span>&nbsp;<span class="ident" id="7805900">err</span>&nbsp;<span class="op" id="7805904">:=</span>&nbsp;<span class="ident" id="7805907">tt</span><span class="op" id="7805909">.</span><span class="ident" id="7805910">in</span><span class="op" id="7805912">.</span><span class="ident" id="7805913">MarshalText</span><span class="op" id="7805924">(</span><span class="op" id="7805925">)</span><span class="op" id="7805926">;</span>&nbsp;<span class="builtintype" id="7805928">string</span><span class="op" id="7805934">(</span><span class="ident" id="7805935">out</span><span class="op" id="7805938">)</span>&nbsp;<span class="op" id="7805940">!=</span>&nbsp;<span class="ident" id="7805943">tt</span><span class="op" id="7805945">.</span><span class="ident" id="7805946">out</span>&nbsp;<span class="op" id="7805950">||</span>&nbsp;<span class="ident" id="7805953">err</span>&nbsp;<span class="op" id="7805957">!=</span>&nbsp;<span class="ident" id="7805960">nil</span>&nbsp;<span class="op" id="7805964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7805969">t</span><span class="op" id="7805970">.</span><span class="ident" id="7805971">Errorf</span><span class="op" id="7805977">(</span><span class="string" id="7805978">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="7806021">,</span>&nbsp;<span class="ident" id="7806023">tt</span><span class="op" id="7806025">.</span><span class="ident" id="7806026">in</span><span class="op" id="7806028">,</span>&nbsp;<span class="ident" id="7806030">out</span><span class="op" id="7806033">,</span>&nbsp;<span class="ident" id="7806035">err</span><span class="op" id="7806038">,</span>&nbsp;<span class="ident" id="7806040">tt</span><span class="op" id="7806042">.</span><span class="ident" id="7806043">out</span><span class="op" id="7806046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806053">}</span><br>
<span class="lineno">100</span><span class="op" id="7806055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7806058">func</span>&nbsp;<span class="ident" id="7806063">BenchmarkIPString</span><span class="op" id="7806080">(</span><span class="ident" id="7806081">b</span>&nbsp;<span class="op" id="7806083">*</span><span class="ident" id="7806084">testing</span><span class="op" id="7806091">.</span><span class="ident" id="7806092">B</span><span class="op" id="7806093">)</span>&nbsp;<span class="op" id="7806095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7806098">for</span>&nbsp;<span class="ident" id="7806102">i</span>&nbsp;<span class="op" id="7806104">:=</span>&nbsp;<span class="num" id="7806107">0</span><span class="op" id="7806108">;</span>&nbsp;<span class="ident" id="7806110">i</span>&nbsp;<span class="op" id="7806112">&lt;</span>&nbsp;<span class="ident" id="7806114">b</span><span class="op" id="7806115">.</span><span class="ident" id="7806116">N</span><span class="op" id="7806117">;</span>&nbsp;<span class="ident" id="7806119">i</span><span class="op" id="7806120">++</span>&nbsp;<span class="op" id="7806123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7806127">for</span>&nbsp;<span class="ident" id="7806131">_</span><span class="op" id="7806132">,</span>&nbsp;<span class="ident" id="7806134">tt</span>&nbsp;<span class="op" id="7806137">:=</span>&nbsp;<span class="keyword" id="7806140">range</span>&nbsp;<span class="ident" id="7806146">ipStringTests</span>&nbsp;<span class="op" id="7806160">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7806165">if</span>&nbsp;<span class="ident" id="7806168">tt</span><span class="op" id="7806170">.</span><span class="ident" id="7806171">in</span>&nbsp;<span class="op" id="7806174">!=</span>&nbsp;<span class="ident" id="7806177">nil</span>&nbsp;<span class="op" id="7806181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7806187">tt</span><span class="op" id="7806189">.</span><span class="ident" id="7806190">in</span><span class="op" id="7806192">.</span><span class="ident" id="7806193">String</span><span class="op" id="7806199">(</span><span class="op" id="7806200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806212">}</span><br>
<span class="lineno">110</span><span class="op" id="7806214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7806217">var</span>&nbsp;<span class="ident" id="7806221">ipMaskTests</span>&nbsp;<span class="op" id="7806233">=</span>&nbsp;<span class="op" id="7806235">[</span><span class="op" id="7806236">]</span><span class="keyword" id="7806237">struct</span>&nbsp;<span class="op" id="7806244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7806247">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7806252">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7806256">mask</span>&nbsp;<span class="ident" id="7806261">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7806269">out</span>&nbsp;&nbsp;<span class="ident" id="7806274">IP</span><br>
<span class="lineno"></span><span class="op" id="7806277">}</span><span class="op" id="7806278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806281">{</span><span class="ident" id="7806282">IPv4</span><span class="op" id="7806286">(</span><span class="num" id="7806287">192</span><span class="op" id="7806290">,</span>&nbsp;<span class="num" id="7806292">168</span><span class="op" id="7806295">,</span>&nbsp;<span class="num" id="7806297">1</span><span class="op" id="7806298">,</span>&nbsp;<span class="num" id="7806300">127</span><span class="op" id="7806303">)</span><span class="op" id="7806304">,</span>&nbsp;<span class="ident" id="7806306">IPv4Mask</span><span class="op" id="7806314">(</span><span class="num" id="7806315">255</span><span class="op" id="7806318">,</span>&nbsp;<span class="num" id="7806320">255</span><span class="op" id="7806323">,</span>&nbsp;<span class="num" id="7806325">255</span><span class="op" id="7806328">,</span>&nbsp;<span class="num" id="7806330">128</span><span class="op" id="7806333">)</span><span class="op" id="7806334">,</span>&nbsp;<span class="ident" id="7806336">IPv4</span><span class="op" id="7806340">(</span><span class="num" id="7806341">192</span><span class="op" id="7806344">,</span>&nbsp;<span class="num" id="7806346">168</span><span class="op" id="7806349">,</span>&nbsp;<span class="num" id="7806351">1</span><span class="op" id="7806352">,</span>&nbsp;<span class="num" id="7806354">0</span><span class="op" id="7806355">)</span><span class="op" id="7806356">}</span><span class="op" id="7806357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806360">{</span><span class="ident" id="7806361">IPv4</span><span class="op" id="7806365">(</span><span class="num" id="7806366">192</span><span class="op" id="7806369">,</span>&nbsp;<span class="num" id="7806371">168</span><span class="op" id="7806374">,</span>&nbsp;<span class="num" id="7806376">1</span><span class="op" id="7806377">,</span>&nbsp;<span class="num" id="7806379">127</span><span class="op" id="7806382">)</span><span class="op" id="7806383">,</span>&nbsp;<span class="ident" id="7806385">IPMask</span><span class="op" id="7806391">(</span><span class="ident" id="7806392">ParseIP</span><span class="op" id="7806399">(</span><span class="string" id="7806400">&#34;255.255.255.192&#34;</span><span class="op" id="7806417">)</span><span class="op" id="7806418">)</span><span class="op" id="7806419">,</span>&nbsp;<span class="ident" id="7806421">IPv4</span><span class="op" id="7806425">(</span><span class="num" id="7806426">192</span><span class="op" id="7806429">,</span>&nbsp;<span class="num" id="7806431">168</span><span class="op" id="7806434">,</span>&nbsp;<span class="num" id="7806436">1</span><span class="op" id="7806437">,</span>&nbsp;<span class="num" id="7806439">64</span><span class="op" id="7806441">)</span><span class="op" id="7806442">}</span><span class="op" id="7806443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806446">{</span><span class="ident" id="7806447">IPv4</span><span class="op" id="7806451">(</span><span class="num" id="7806452">192</span><span class="op" id="7806455">,</span>&nbsp;<span class="num" id="7806457">168</span><span class="op" id="7806460">,</span>&nbsp;<span class="num" id="7806462">1</span><span class="op" id="7806463">,</span>&nbsp;<span class="num" id="7806465">127</span><span class="op" id="7806468">)</span><span class="op" id="7806469">,</span>&nbsp;<span class="ident" id="7806471">IPMask</span><span class="op" id="7806477">(</span><span class="ident" id="7806478">ParseIP</span><span class="op" id="7806485">(</span><span class="string" id="7806486">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="7806527">)</span><span class="op" id="7806528">)</span><span class="op" id="7806529">,</span>&nbsp;<span class="ident" id="7806531">IPv4</span><span class="op" id="7806535">(</span><span class="num" id="7806536">192</span><span class="op" id="7806539">,</span>&nbsp;<span class="num" id="7806541">168</span><span class="op" id="7806544">,</span>&nbsp;<span class="num" id="7806546">1</span><span class="op" id="7806547">,</span>&nbsp;<span class="num" id="7806549">96</span><span class="op" id="7806551">)</span><span class="op" id="7806552">}</span><span class="op" id="7806553">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806556">{</span><span class="ident" id="7806557">IPv4</span><span class="op" id="7806561">(</span><span class="num" id="7806562">192</span><span class="op" id="7806565">,</span>&nbsp;<span class="num" id="7806567">168</span><span class="op" id="7806570">,</span>&nbsp;<span class="num" id="7806572">1</span><span class="op" id="7806573">,</span>&nbsp;<span class="num" id="7806575">127</span><span class="op" id="7806578">)</span><span class="op" id="7806579">,</span>&nbsp;<span class="ident" id="7806581">IPv4Mask</span><span class="op" id="7806589">(</span><span class="num" id="7806590">255</span><span class="op" id="7806593">,</span>&nbsp;<span class="num" id="7806595">0</span><span class="op" id="7806596">,</span>&nbsp;<span class="num" id="7806598">255</span><span class="op" id="7806601">,</span>&nbsp;<span class="num" id="7806603">0</span><span class="op" id="7806604">)</span><span class="op" id="7806605">,</span>&nbsp;<span class="ident" id="7806607">IPv4</span><span class="op" id="7806611">(</span><span class="num" id="7806612">192</span><span class="op" id="7806615">,</span>&nbsp;<span class="num" id="7806617">0</span><span class="op" id="7806618">,</span>&nbsp;<span class="num" id="7806620">1</span><span class="op" id="7806621">,</span>&nbsp;<span class="num" id="7806623">0</span><span class="op" id="7806624">)</span><span class="op" id="7806625">}</span><span class="op" id="7806626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806629">{</span><span class="ident" id="7806630">ParseIP</span><span class="op" id="7806637">(</span><span class="string" id="7806638">&#34;2001:db8::1&#34;</span><span class="op" id="7806651">)</span><span class="op" id="7806652">,</span>&nbsp;<span class="ident" id="7806654">IPMask</span><span class="op" id="7806660">(</span><span class="ident" id="7806661">ParseIP</span><span class="op" id="7806668">(</span><span class="string" id="7806669">&#34;ffff:ff80::&#34;</span><span class="op" id="7806682">)</span><span class="op" id="7806683">)</span><span class="op" id="7806684">,</span>&nbsp;<span class="ident" id="7806686">ParseIP</span><span class="op" id="7806693">(</span><span class="string" id="7806694">&#34;2001:d80::&#34;</span><span class="op" id="7806706">)</span><span class="op" id="7806707">}</span><span class="op" id="7806708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7806711">{</span><span class="ident" id="7806712">ParseIP</span><span class="op" id="7806719">(</span><span class="string" id="7806720">&#34;2001:db8::1&#34;</span><span class="op" id="7806733">)</span><span class="op" id="7806734">,</span>&nbsp;<span class="ident" id="7806736">IPMask</span><span class="op" id="7806742">(</span><span class="ident" id="7806743">ParseIP</span><span class="op" id="7806750">(</span><span class="string" id="7806751">&#34;f0f0:0f0f::&#34;</span><span class="op" id="7806764">)</span><span class="op" id="7806765">)</span><span class="op" id="7806766">,</span>&nbsp;<span class="ident" id="7806768">ParseIP</span><span class="op" id="7806775">(</span><span class="string" id="7806776">&#34;2000:d08::&#34;</span><span class="op" id="7806788">)</span><span class="op" id="7806789">}</span><span class="op" id="7806790">,</span><br>
<span class="lineno"></span><span class="op" id="7806792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7806795">func</span>&nbsp;<span class="ident" id="7806800">TestIPMask</span><span class="op" id="7806810">(</span><span class="ident" id="7806811">t</span>&nbsp;<span class="op" id="7806813">*</span><span class="ident" id="7806814">testing</span><span class="op" id="7806821">.</span><span class="ident" id="7806822">T</span><span class="op" id="7806823">)</span>&nbsp;<span class="op" id="7806825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7806828">for</span>&nbsp;<span class="ident" id="7806832">_</span><span class="op" id="7806833">,</span>&nbsp;<span class="ident" id="7806835">tt</span>&nbsp;<span class="op" id="7806838">:=</span>&nbsp;<span class="keyword" id="7806841">range</span>&nbsp;<span class="ident" id="7806847">ipMaskTests</span>&nbsp;<span class="op" id="7806859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7806863">if</span>&nbsp;<span class="ident" id="7806866">out</span>&nbsp;<span class="op" id="7806870">:=</span>&nbsp;<span class="ident" id="7806873">tt</span><span class="op" id="7806875">.</span><span class="ident" id="7806876">in</span><span class="op" id="7806878">.</span><span class="ident" id="7806879">Mask</span><span class="op" id="7806883">(</span><span class="ident" id="7806884">tt</span><span class="op" id="7806886">.</span><span class="ident" id="7806887">mask</span><span class="op" id="7806891">)</span><span class="op" id="7806892">;</span>&nbsp;<span class="ident" id="7806894">out</span>&nbsp;<span class="op" id="7806898">==</span>&nbsp;<span class="ident" id="7806901">nil</span>&nbsp;<span class="op" id="7806905">||</span>&nbsp;<span class="op" id="7806908">!</span><span class="ident" id="7806909">tt</span><span class="op" id="7806911">.</span><span class="ident" id="7806912">out</span><span class="op" id="7806915">.</span><span class="ident" id="7806916">Equal</span><span class="op" id="7806921">(</span><span class="ident" id="7806922">out</span><span class="op" id="7806925">)</span>&nbsp;<span class="op" id="7806927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7806932">t</span><span class="op" id="7806933">.</span><span class="ident" id="7806934">Errorf</span><span class="op" id="7806940">(</span><span class="string" id="7806941">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7806972">,</span>&nbsp;<span class="ident" id="7806974">tt</span><span class="op" id="7806976">.</span><span class="ident" id="7806977">in</span><span class="op" id="7806979">,</span>&nbsp;<span class="ident" id="7806981">tt</span><span class="op" id="7806983">.</span><span class="ident" id="7806984">mask</span><span class="op" id="7806988">,</span>&nbsp;<span class="ident" id="7806990">out</span><span class="op" id="7806993">,</span>&nbsp;<span class="ident" id="7806995">tt</span><span class="op" id="7806997">.</span><span class="ident" id="7806998">out</span><span class="op" id="7807001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807005">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807008">}</span><br>
<span class="lineno"></span><span class="op" id="7807010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7807013">var</span>&nbsp;<span class="ident" id="7807017">ipMaskStringTests</span>&nbsp;<span class="op" id="7807035">=</span>&nbsp;<span class="op" id="7807037">[</span><span class="op" id="7807038">]</span><span class="keyword" id="7807039">struct</span>&nbsp;<span class="op" id="7807046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7807049">in</span>&nbsp;&nbsp;<span class="ident" id="7807053">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7807061">out</span>&nbsp;<span class="builtintype" id="7807065">string</span><br>
<span class="lineno"></span><span class="op" id="7807072">}</span><span class="op" id="7807073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807076">{</span><span class="ident" id="7807077">IPv4Mask</span><span class="op" id="7807085">(</span><span class="num" id="7807086">255</span><span class="op" id="7807089">,</span>&nbsp;<span class="num" id="7807091">255</span><span class="op" id="7807094">,</span>&nbsp;<span class="num" id="7807096">255</span><span class="op" id="7807099">,</span>&nbsp;<span class="num" id="7807101">240</span><span class="op" id="7807104">)</span><span class="op" id="7807105">,</span>&nbsp;<span class="string" id="7807107">&#34;fffffff0&#34;</span><span class="op" id="7807117">}</span><span class="op" id="7807118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807121">{</span><span class="ident" id="7807122">IPv4Mask</span><span class="op" id="7807130">(</span><span class="num" id="7807131">255</span><span class="op" id="7807134">,</span>&nbsp;<span class="num" id="7807136">0</span><span class="op" id="7807137">,</span>&nbsp;<span class="num" id="7807139">128</span><span class="op" id="7807142">,</span>&nbsp;<span class="num" id="7807144">0</span><span class="op" id="7807145">)</span><span class="op" id="7807146">,</span>&nbsp;<span class="string" id="7807148">&#34;ff008000&#34;</span><span class="op" id="7807158">}</span><span class="op" id="7807159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807162">{</span><span class="ident" id="7807163">IPMask</span><span class="op" id="7807169">(</span><span class="ident" id="7807170">ParseIP</span><span class="op" id="7807177">(</span><span class="string" id="7807178">&#34;ffff:ff80::&#34;</span><span class="op" id="7807191">)</span><span class="op" id="7807192">)</span><span class="op" id="7807193">,</span>&nbsp;<span class="string" id="7807195">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="7807229">}</span><span class="op" id="7807230">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807233">{</span><span class="ident" id="7807234">IPMask</span><span class="op" id="7807240">(</span><span class="ident" id="7807241">ParseIP</span><span class="op" id="7807248">(</span><span class="string" id="7807249">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="7807268">)</span><span class="op" id="7807269">)</span><span class="op" id="7807270">,</span>&nbsp;<span class="string" id="7807272">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="7807306">}</span><span class="op" id="7807307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807310">{</span><span class="ident" id="7807311">nil</span><span class="op" id="7807314">,</span>&nbsp;<span class="string" id="7807316">&#34;&lt;nil&gt;&#34;</span><span class="op" id="7807323">}</span><span class="op" id="7807324">,</span><br>
<span class="lineno"></span><span class="op" id="7807326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7807329">func</span>&nbsp;<span class="ident" id="7807334">TestIPMaskString</span><span class="op" id="7807350">(</span><span class="ident" id="7807351">t</span>&nbsp;<span class="op" id="7807353">*</span><span class="ident" id="7807354">testing</span><span class="op" id="7807361">.</span><span class="ident" id="7807362">T</span><span class="op" id="7807363">)</span>&nbsp;<span class="op" id="7807365">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7807368">for</span>&nbsp;<span class="ident" id="7807372">_</span><span class="op" id="7807373">,</span>&nbsp;<span class="ident" id="7807375">tt</span>&nbsp;<span class="op" id="7807378">:=</span>&nbsp;<span class="keyword" id="7807381">range</span>&nbsp;<span class="ident" id="7807387">ipMaskStringTests</span>&nbsp;<span class="op" id="7807405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7807409">if</span>&nbsp;<span class="ident" id="7807412">out</span>&nbsp;<span class="op" id="7807416">:=</span>&nbsp;<span class="ident" id="7807419">tt</span><span class="op" id="7807421">.</span><span class="ident" id="7807422">in</span><span class="op" id="7807424">.</span><span class="ident" id="7807425">String</span><span class="op" id="7807431">(</span><span class="op" id="7807432">)</span><span class="op" id="7807433">;</span>&nbsp;<span class="ident" id="7807435">out</span>&nbsp;<span class="op" id="7807439">!=</span>&nbsp;<span class="ident" id="7807442">tt</span><span class="op" id="7807444">.</span><span class="ident" id="7807445">out</span>&nbsp;<span class="op" id="7807449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7807454">t</span><span class="op" id="7807455">.</span><span class="ident" id="7807456">Errorf</span><span class="op" id="7807462">(</span><span class="string" id="7807463">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7807496">,</span>&nbsp;<span class="ident" id="7807498">tt</span><span class="op" id="7807500">.</span><span class="ident" id="7807501">in</span><span class="op" id="7807503">,</span>&nbsp;<span class="ident" id="7807505">out</span><span class="op" id="7807508">,</span>&nbsp;<span class="ident" id="7807510">tt</span><span class="op" id="7807512">.</span><span class="ident" id="7807513">out</span><span class="op" id="7807516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807523">}</span><br>
<span class="lineno">150</span><span class="op" id="7807525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7807528">func</span>&nbsp;<span class="ident" id="7807533">BenchmarkIPMaskString</span><span class="op" id="7807554">(</span><span class="ident" id="7807555">b</span>&nbsp;<span class="op" id="7807557">*</span><span class="ident" id="7807558">testing</span><span class="op" id="7807565">.</span><span class="ident" id="7807566">B</span><span class="op" id="7807567">)</span>&nbsp;<span class="op" id="7807569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7807572">for</span>&nbsp;<span class="ident" id="7807576">i</span>&nbsp;<span class="op" id="7807578">:=</span>&nbsp;<span class="num" id="7807581">0</span><span class="op" id="7807582">;</span>&nbsp;<span class="ident" id="7807584">i</span>&nbsp;<span class="op" id="7807586">&lt;</span>&nbsp;<span class="ident" id="7807588">b</span><span class="op" id="7807589">.</span><span class="ident" id="7807590">N</span><span class="op" id="7807591">;</span>&nbsp;<span class="ident" id="7807593">i</span><span class="op" id="7807594">++</span>&nbsp;<span class="op" id="7807597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7807601">for</span>&nbsp;<span class="ident" id="7807605">_</span><span class="op" id="7807606">,</span>&nbsp;<span class="ident" id="7807608">tt</span>&nbsp;<span class="op" id="7807611">:=</span>&nbsp;<span class="keyword" id="7807614">range</span>&nbsp;<span class="ident" id="7807620">ipMaskStringTests</span>&nbsp;<span class="op" id="7807638">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7807643">tt</span><span class="op" id="7807645">.</span><span class="ident" id="7807646">in</span><span class="op" id="7807648">.</span><span class="ident" id="7807649">String</span><span class="op" id="7807655">(</span><span class="op" id="7807656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807663">}</span><br>
<span class="lineno"></span><span class="op" id="7807665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7807668">var</span>&nbsp;<span class="ident" id="7807672">parseCIDRTests</span>&nbsp;<span class="op" id="7807687">=</span>&nbsp;<span class="op" id="7807689">[</span><span class="op" id="7807690">]</span><span class="keyword" id="7807691">struct</span>&nbsp;<span class="op" id="7807698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7807701">in</span>&nbsp;&nbsp;<span class="builtintype" id="7807705">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7807713">ip</span>&nbsp;&nbsp;<span class="ident" id="7807717">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7807721">net</span>&nbsp;<span class="op" id="7807725">*</span><span class="ident" id="7807726">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7807733">err</span>&nbsp;<span class="builtintype" id="7807737">error</span><br>
<span class="lineno">165</span><span class="op" id="7807743">}</span><span class="op" id="7807744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807747">{</span><span class="string" id="7807748">&#34;135.104.0.0/32&#34;</span><span class="op" id="7807764">,</span>&nbsp;<span class="ident" id="7807766">IPv4</span><span class="op" id="7807770">(</span><span class="num" id="7807771">135</span><span class="op" id="7807774">,</span>&nbsp;<span class="num" id="7807776">104</span><span class="op" id="7807779">,</span>&nbsp;<span class="num" id="7807781">0</span><span class="op" id="7807782">,</span>&nbsp;<span class="num" id="7807784">0</span><span class="op" id="7807785">)</span><span class="op" id="7807786">,</span>&nbsp;<span class="op" id="7807788">&amp;</span><span class="ident" id="7807789">IPNet</span><span class="op" id="7807794">{</span><span class="ident" id="7807795">IP</span><span class="op" id="7807797">:</span>&nbsp;<span class="ident" id="7807799">IPv4</span><span class="op" id="7807803">(</span><span class="num" id="7807804">135</span><span class="op" id="7807807">,</span>&nbsp;<span class="num" id="7807809">104</span><span class="op" id="7807812">,</span>&nbsp;<span class="num" id="7807814">0</span><span class="op" id="7807815">,</span>&nbsp;<span class="num" id="7807817">0</span><span class="op" id="7807818">)</span><span class="op" id="7807819">,</span>&nbsp;<span class="ident" id="7807821">Mask</span><span class="op" id="7807825">:</span>&nbsp;<span class="ident" id="7807827">IPv4Mask</span><span class="op" id="7807835">(</span><span class="num" id="7807836">255</span><span class="op" id="7807839">,</span>&nbsp;<span class="num" id="7807841">255</span><span class="op" id="7807844">,</span>&nbsp;<span class="num" id="7807846">255</span><span class="op" id="7807849">,</span>&nbsp;<span class="num" id="7807851">255</span><span class="op" id="7807854">)</span><span class="op" id="7807855">}</span><span class="op" id="7807856">,</span>&nbsp;<span class="ident" id="7807858">nil</span><span class="op" id="7807861">}</span><span class="op" id="7807862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807865">{</span><span class="string" id="7807866">&#34;0.0.0.0/24&#34;</span><span class="op" id="7807878">,</span>&nbsp;<span class="ident" id="7807880">IPv4</span><span class="op" id="7807884">(</span><span class="num" id="7807885">0</span><span class="op" id="7807886">,</span>&nbsp;<span class="num" id="7807888">0</span><span class="op" id="7807889">,</span>&nbsp;<span class="num" id="7807891">0</span><span class="op" id="7807892">,</span>&nbsp;<span class="num" id="7807894">0</span><span class="op" id="7807895">)</span><span class="op" id="7807896">,</span>&nbsp;<span class="op" id="7807898">&amp;</span><span class="ident" id="7807899">IPNet</span><span class="op" id="7807904">{</span><span class="ident" id="7807905">IP</span><span class="op" id="7807907">:</span>&nbsp;<span class="ident" id="7807909">IPv4</span><span class="op" id="7807913">(</span><span class="num" id="7807914">0</span><span class="op" id="7807915">,</span>&nbsp;<span class="num" id="7807917">0</span><span class="op" id="7807918">,</span>&nbsp;<span class="num" id="7807920">0</span><span class="op" id="7807921">,</span>&nbsp;<span class="num" id="7807923">0</span><span class="op" id="7807924">)</span><span class="op" id="7807925">,</span>&nbsp;<span class="ident" id="7807927">Mask</span><span class="op" id="7807931">:</span>&nbsp;<span class="ident" id="7807933">IPv4Mask</span><span class="op" id="7807941">(</span><span class="num" id="7807942">255</span><span class="op" id="7807945">,</span>&nbsp;<span class="num" id="7807947">255</span><span class="op" id="7807950">,</span>&nbsp;<span class="num" id="7807952">255</span><span class="op" id="7807955">,</span>&nbsp;<span class="num" id="7807957">0</span><span class="op" id="7807958">)</span><span class="op" id="7807959">}</span><span class="op" id="7807960">,</span>&nbsp;<span class="ident" id="7807962">nil</span><span class="op" id="7807965">}</span><span class="op" id="7807966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7807969">{</span><span class="string" id="7807970">&#34;135.104.0.0/24&#34;</span><span class="op" id="7807986">,</span>&nbsp;<span class="ident" id="7807988">IPv4</span><span class="op" id="7807992">(</span><span class="num" id="7807993">135</span><span class="op" id="7807996">,</span>&nbsp;<span class="num" id="7807998">104</span><span class="op" id="7808001">,</span>&nbsp;<span class="num" id="7808003">0</span><span class="op" id="7808004">,</span>&nbsp;<span class="num" id="7808006">0</span><span class="op" id="7808007">)</span><span class="op" id="7808008">,</span>&nbsp;<span class="op" id="7808010">&amp;</span><span class="ident" id="7808011">IPNet</span><span class="op" id="7808016">{</span><span class="ident" id="7808017">IP</span><span class="op" id="7808019">:</span>&nbsp;<span class="ident" id="7808021">IPv4</span><span class="op" id="7808025">(</span><span class="num" id="7808026">135</span><span class="op" id="7808029">,</span>&nbsp;<span class="num" id="7808031">104</span><span class="op" id="7808034">,</span>&nbsp;<span class="num" id="7808036">0</span><span class="op" id="7808037">,</span>&nbsp;<span class="num" id="7808039">0</span><span class="op" id="7808040">)</span><span class="op" id="7808041">,</span>&nbsp;<span class="ident" id="7808043">Mask</span><span class="op" id="7808047">:</span>&nbsp;<span class="ident" id="7808049">IPv4Mask</span><span class="op" id="7808057">(</span><span class="num" id="7808058">255</span><span class="op" id="7808061">,</span>&nbsp;<span class="num" id="7808063">255</span><span class="op" id="7808066">,</span>&nbsp;<span class="num" id="7808068">255</span><span class="op" id="7808071">,</span>&nbsp;<span class="num" id="7808073">0</span><span class="op" id="7808074">)</span><span class="op" id="7808075">}</span><span class="op" id="7808076">,</span>&nbsp;<span class="ident" id="7808078">nil</span><span class="op" id="7808081">}</span><span class="op" id="7808082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7808085">{</span><span class="string" id="7808086">&#34;135.104.0.1/32&#34;</span><span class="op" id="7808102">,</span>&nbsp;<span class="ident" id="7808104">IPv4</span><span class="op" id="7808108">(</span><span class="num" id="7808109">135</span><span class="op" id="7808112">,</span>&nbsp;<span class="num" id="7808114">104</span><span class="op" id="7808117">,</span>&nbsp;<span class="num" id="7808119">0</span><span class="op" id="7808120">,</span>&nbsp;<span class="num" id="7808122">1</span><span class="op" id="7808123">)</span><span class="op" id="7808124">,</span>&nbsp;<span class="op" id="7808126">&amp;</span><span class="ident" id="7808127">IPNet</span><span class="op" id="7808132">{</span><span class="ident" id="7808133">IP</span><span class="op" id="7808135">:</span>&nbsp;<span class="ident" id="7808137">IPv4</span><span class="op" id="7808141">(</span><span class="num" id="7808142">135</span><span class="op" id="7808145">,</span>&nbsp;<span class="num" id="7808147">104</span><span class="op" id="7808150">,</span>&nbsp;<span class="num" id="7808152">0</span><span class="op" id="7808153">,</span>&nbsp;<span class="num" id="7808155">1</span><span class="op" id="7808156">)</span><span class="op" id="7808157">,</span>&nbsp;<span class="ident" id="7808159">Mask</span><span class="op" id="7808163">:</span>&nbsp;<span class="ident" id="7808165">IPv4Mask</span><span class="op" id="7808173">(</span><span class="num" id="7808174">255</span><span class="op" id="7808177">,</span>&nbsp;<span class="num" id="7808179">255</span><span class="op" id="7808182">,</span>&nbsp;<span class="num" id="7808184">255</span><span class="op" id="7808187">,</span>&nbsp;<span class="num" id="7808189">255</span><span class="op" id="7808192">)</span><span class="op" id="7808193">}</span><span class="op" id="7808194">,</span>&nbsp;<span class="ident" id="7808196">nil</span><span class="op" id="7808199">}</span><span class="op" id="7808200">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7808203">{</span><span class="string" id="7808204">&#34;135.104.0.1/24&#34;</span><span class="op" id="7808220">,</span>&nbsp;<span class="ident" id="7808222">IPv4</span><span class="op" id="7808226">(</span><span class="num" id="7808227">135</span><span class="op" id="7808230">,</span>&nbsp;<span class="num" id="7808232">104</span><span class="op" id="7808235">,</span>&nbsp;<span class="num" id="7808237">0</span><span class="op" id="7808238">,</span>&nbsp;<span class="num" id="7808240">1</span><span class="op" id="7808241">)</span><span class="op" id="7808242">,</span>&nbsp;<span class="op" id="7808244">&amp;</span><span class="ident" id="7808245">IPNet</span><span class="op" id="7808250">{</span><span class="ident" id="7808251">IP</span><span class="op" id="7808253">:</span>&nbsp;<span class="ident" id="7808255">IPv4</span><span class="op" id="7808259">(</span><span class="num" id="7808260">135</span><span class="op" id="7808263">,</span>&nbsp;<span class="num" id="7808265">104</span><span class="op" id="7808268">,</span>&nbsp;<span class="num" id="7808270">0</span><span class="op" id="7808271">,</span>&nbsp;<span class="num" id="7808273">0</span><span class="op" id="7808274">)</span><span class="op" id="7808275">,</span>&nbsp;<span class="ident" id="7808277">Mask</span><span class="op" id="7808281">:</span>&nbsp;<span class="ident" id="7808283">IPv4Mask</span><span class="op" id="7808291">(</span><span class="num" id="7808292">255</span><span class="op" id="7808295">,</span>&nbsp;<span class="num" id="7808297">255</span><span class="op" id="7808300">,</span>&nbsp;<span class="num" id="7808302">255</span><span class="op" id="7808305">,</span>&nbsp;<span class="num" id="7808307">0</span><span class="op" id="7808308">)</span><span class="op" id="7808309">}</span><span class="op" id="7808310">,</span>&nbsp;<span class="ident" id="7808312">nil</span><span class="op" id="7808315">}</span><span class="op" id="7808316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7808319">{</span><span class="string" id="7808320">&#34;::1/128&#34;</span><span class="op" id="7808329">,</span>&nbsp;<span class="ident" id="7808331">ParseIP</span><span class="op" id="7808338">(</span><span class="string" id="7808339">&#34;::1&#34;</span><span class="op" id="7808344">)</span><span class="op" id="7808345">,</span>&nbsp;<span class="op" id="7808347">&amp;</span><span class="ident" id="7808348">IPNet</span><span class="op" id="7808353">{</span><span class="ident" id="7808354">IP</span><span class="op" id="7808356">:</span>&nbsp;<span class="ident" id="7808358">ParseIP</span><span class="op" id="7808365">(</span><span class="string" id="7808366">&#34;::1&#34;</span><span class="op" id="7808371">)</span><span class="op" id="7808372">,</span>&nbsp;<span class="ident" id="7808374">Mask</span><span class="op" id="7808378">:</span>&nbsp;<span class="ident" id="7808380">IPMask</span><span class="op" id="7808386">(</span><span class="ident" id="7808387">ParseIP</span><span class="op" id="7808394">(</span><span class="string" id="7808395">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="7808436">)</span><span class="op" id="7808437">)</span><span class="op" id="7808438">}</span><span class="op" id="7808439">,</span>&nbsp;<span class="ident" id="7808441">nil</span><span class="op" id="7808444">}</span><span class="op" id="7808445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7808448">{</span><span class="string" id="7808449">&#34;abcd:2345::/127&#34;</span><span class="op" id="7808466">,</span>&nbsp;<span class="ident" id="7808468">ParseIP</span><span class="op" id="7808475">(</span><span class="string" id="7808476">&#34;abcd:2345::&#34;</span><span class="op" id="7808489">)</span><span class="op" id="7808490">,</span>&nbsp;<span class="op" id="7808492">&amp;</span><span class="ident" id="7808493">IPNet</span><span class="op" id="7808498">{</span><span class="ident" id="7808499">IP</span><span class="op" id="7808501">:</span>&nbsp;<span class="ident" id="7808503">ParseIP</span><span class="op" id="7808510">(</span><span class="string" id="7808511">&#34;abcd:2345::&#34;</span><span class="op" id="7808524">)</span><span class="op" id="7808525">,</span>&nbsp;<span class="ident" id="7808527">Mask</span><span class="op" id="7808531">:</span>&nbsp;<span class="ident" id="7808533">IPMask</span><span class="op" id="7808539">(</span><span class="ident" id="7808540">ParseIP</span><span class="op" id="7808547">(</span><span class="string" id="7808548">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="7808589">)</span><span class="op" id="7808590">)</span><span class="op" id="7808591">}</span><span class="op" id="7808592">,</span>&nbsp;<span class="ident" id="7808594">nil</span><span class="op" id="7808597">}</span><span class="op" id="7808598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7808601">{</span><span class="string" id="7808602">&#34;abcd:2345::/65&#34;</span><span class="op" id="7808618">,</span>&nbsp;<span class="ident" id="7808620">ParseIP</span><span class="op" id="7808627">(</span><span class="string" id="7808628">&#34;abcd:2345::&#34;</span><span class="op" id="7808641">)</span><span class="op" id="7808642">,</span>&nbsp;<span class="op" id="7808644">&amp;</span><span class="ident" id="7808645">IPNet</span><span class="op" id="7808650">{</span><span class="ident" id="7808651">IP</span><span class="op" id="7808653">:</span>&nbsp;<span class="ident" id="7808655">ParseIP</span><span class="op" id="7808662">(</span><span class="string" id="7808663">&#34;abcd:2345::&#34;</span><span class="op" id="7808676">)</span><span class="op" id="7808677">,</span>&nbsp;<span class="ident" id="7808679">Mask</span><span class="op" id="7808683">:</span>&nbsp;<span class="ident" id="7808685">IPMask</span><span class="op" id="7808691">(</span><span class="ident" id="7808692">ParseIP</span><span class="op" id="7808699">(</span><span class="string" id="7808700">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="7808728">)</span><span class="op" id="7808729">)</span><span class="op" id="7808730">}</span><span class="op" id="7808731">,</span>&nbsp;<span class="ident" id="7808733">nil</span><span class="op" id="7808736">}</span><span class="op" id="7808737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7808740">{</span><span class="string" id="7808741">&#34;abcd:2345::/64&#34;</span><span class="op" id="7808757">,</span>&nbsp;<span class="ident" id="7808759">ParseIP</span><span class="op" id="7808766">(</span><span class="string" id="7808767">&#34;abcd:2345::&#34;</span><span class="op" id="7808780">)</span><span class="op" id="7808781">,</span>&nbsp;<span class="op" id="7808783">&amp;</span><span class="ident" id="7808784">IPNet</span><span class="op" id="7808789">{</span><span class="ident" id="7808790">IP</span><span class="op" id="7808792">:</span>&nbsp;<span class="ident" id="7808794">ParseIP</span><span class="op" id="7808801">(</span><span class="string" id="7808802">&#34;abcd:2345::&#34;</span><span class="op" id="7808815">)</span><span class="op" id="7808816">,</span>&nbsp;<span class="ident" id="7808818">Mask</span><span class="op" id="7808822">:</span>&nbsp;<span class="ident" id="7808824">IPMask</span><span class="op" id="7808830">(</span><span class="ident" id="7808831">ParseIP</span><span class="op" id="7808838">(</span><span class="string" id="7808839">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="7808862">)</span><span class="op" id="7808863">)</span><span class="op" id="7808864">}</span><span class="op" id="7808865">,</span>&nbsp;<span class="ident" id="7808867">nil</span><span class="op" id="7808870">}</span><span class="op" id="7808871">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7808874">{</span><span class="string" id="7808875">&#34;abcd:2345::/63&#34;</span><span class="op" id="7808891">,</span>&nbsp;<span class="ident" id="7808893">ParseIP</span><span class="op" id="7808900">(</span><span class="string" id="7808901">&#34;abcd:2345::&#34;</span><span class="op" id="7808914">)</span><span class="op" id="7808915">,</span>&nbsp;<span class="op" id="7808917">&amp;</span><span class="ident" id="7808918">IPNet</span><span class="op" id="7808923">{</span><span class="ident" id="7808924">IP</span><span class="op" id="7808926">:</span>&nbsp;<span class="ident" id="7808928">ParseIP</span><span class="op" id="7808935">(</span><span class="string" id="7808936">&#34;abcd:2345::&#34;</span><span class="op" id="7808949">)</span><span class="op" id="7808950">,</span>&nbsp;<span class="ident" id="7808952">Mask</span><span class="op" id="7808956">:</span>&nbsp;<span class="ident" id="7808958">IPMask</span><span class="op" id="7808964">(</span><span class="ident" id="7808965">ParseIP</span><span class="op" id="7808972">(</span><span class="string" id="7808973">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="7808996">)</span><span class="op" id="7808997">)</span><span class="op" id="7808998">}</span><span class="op" id="7808999">,</span>&nbsp;<span class="ident" id="7809001">nil</span><span class="op" id="7809004">}</span><span class="op" id="7809005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7809008">{</span><span class="string" id="7809009">&#34;abcd:2345::/33&#34;</span><span class="op" id="7809025">,</span>&nbsp;<span class="ident" id="7809027">ParseIP</span><span class="op" id="7809034">(</span><span class="string" id="7809035">&#34;abcd:2345::&#34;</span><span class="op" id="7809048">)</span><span class="op" id="7809049">,</span>&nbsp;<span class="op" id="7809051">&amp;</span><span class="ident" id="7809052">IPNet</span><span class="op" id="7809057">{</span><span class="ident" id="7809058">IP</span><span class="op" id="7809060">:</span>&nbsp;<span class="ident" id="7809062">ParseIP</span><span class="op" id="7809069">(</span><span class="string" id="7809070">&#34;abcd:2345::&#34;</span><span class="op" id="7809083">)</span><span class="op" id="7809084">,</span>&nbsp;<span class="ident" id="7809086">Mask</span><span class="op" id="7809090">:</span>&nbsp;<span class="ident" id="7809092">IPMask</span><span class="op" id="7809098">(</span><span class="ident" id="7809099">ParseIP</span><span class="op" id="7809106">(</span><span class="string" id="7809107">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="7809125">)</span><span class="op" id="7809126">)</span><span class="op" id="7809127">}</span><span class="op" id="7809128">,</span>&nbsp;<span class="ident" id="7809130">nil</span><span class="op" id="7809133">}</span><span class="op" id="7809134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7809137">{</span><span class="string" id="7809138">&#34;abcd:2345::/32&#34;</span><span class="op" id="7809154">,</span>&nbsp;<span class="ident" id="7809156">ParseIP</span><span class="op" id="7809163">(</span><span class="string" id="7809164">&#34;abcd:2345::&#34;</span><span class="op" id="7809177">)</span><span class="op" id="7809178">,</span>&nbsp;<span class="op" id="7809180">&amp;</span><span class="ident" id="7809181">IPNet</span><span class="op" id="7809186">{</span><span class="ident" id="7809187">IP</span><span class="op" id="7809189">:</span>&nbsp;<span class="ident" id="7809191">ParseIP</span><span class="op" id="7809198">(</span><span class="string" id="7809199">&#34;abcd:2345::&#34;</span><span class="op" id="7809212">)</span><span class="op" id="7809213">,</span>&nbsp;<span class="ident" id="7809215">Mask</span><span class="op" id="7809219">:</span>&nbsp;<span class="ident" id="7809221">IPMask</span><span class="op" id="7809227">(</span><span class="ident" id="7809228">ParseIP</span><span class="op" id="7809235">(</span><span class="string" id="7809236">&#34;ffff:ffff::&#34;</span><span class="op" id="7809249">)</span><span class="op" id="7809250">)</span><span class="op" id="7809251">}</span><span class="op" id="7809252">,</span>&nbsp;<span class="ident" id="7809254">nil</span><span class="op" id="7809257">}</span><span class="op" id="7809258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7809261">{</span><span class="string" id="7809262">&#34;abcd:2344::/31&#34;</span><span class="op" id="7809278">,</span>&nbsp;<span class="ident" id="7809280">ParseIP</span><span class="op" id="7809287">(</span><span class="string" id="7809288">&#34;abcd:2344::&#34;</span><span class="op" id="7809301">)</span><span class="op" id="7809302">,</span>&nbsp;<span class="op" id="7809304">&amp;</span><span class="ident" id="7809305">IPNet</span><span class="op" id="7809310">{</span><span class="ident" id="7809311">IP</span><span class="op" id="7809313">:</span>&nbsp;<span class="ident" id="7809315">ParseIP</span><span class="op" id="7809322">(</span><span class="string" id="7809323">&#34;abcd:2344::&#34;</span><span class="op" id="7809336">)</span><span class="op" id="7809337">,</span>&nbsp;<span class="ident" id="7809339">Mask</span><span class="op" id="7809343">:</span>&nbsp;<span class="ident" id="7809345">IPMask</span><span class="op" id="7809351">(</span><span class="ident" id="7809352">ParseIP</span><span class="op" id="7809359">(</span><span class="string" id="7809360">&#34;ffff:fffe::&#34;</span><span class="op" id="7809373">)</span><span class="op" id="7809374">)</span><span class="op" id="7809375">}</span><span class="op" id="7809376">,</span>&nbsp;<span class="ident" id="7809378">nil</span><span class="op" id="7809381">}</span><span class="op" id="7809382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7809385">{</span><span class="string" id="7809386">&#34;abcd:2300::/24&#34;</span><span class="op" id="7809402">,</span>&nbsp;<span class="ident" id="7809404">ParseIP</span><span class="op" id="7809411">(</span><span class="string" id="7809412">&#34;abcd:2300::&#34;</span><span class="op" id="7809425">)</span><span class="op" id="7809426">,</span>&nbsp;<span class="op" id="7809428">&amp;</span><span class="ident" id="7809429">IPNet</span><span class="op" id="7809434">{</span><span class="ident" id="7809435">IP</span><span class="op" id="7809437">:</span>&nbsp;<span class="ident" id="7809439">ParseIP</span><span class="op" id="7809446">(</span><span class="string" id="7809447">&#34;abcd:2300::&#34;</span><span class="op" id="7809460">)</span><span class="op" id="7809461">,</span>&nbsp;<span class="ident" id="7809463">Mask</span><span class="op" id="7809467">:</span>&nbsp;<span class="ident" id="7809469">IPMask</span><span class="op" id="7809475">(</span><span class="ident" id="7809476">ParseIP</span><span class="op" id="7809483">(</span><span class="string" id="7809484">&#34;ffff:ff00::&#34;</span><span class="op" id="7809497">)</span><span class="op" id="7809498">)</span><span class="op" id="7809499">}</span><span class="op" id="7809500">,</span>&nbsp;<span class="ident" id="7809502">nil</span><span class="op" id="7809505">}</span><span class="op" id="7809506">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7809509">{</span><span class="string" id="7809510">&#34;abcd:2345::/24&#34;</span><span class="op" id="7809526">,</span>&nbsp;<span class="ident" id="7809528">ParseIP</span><span class="op" id="7809535">(</span><span class="string" id="7809536">&#34;abcd:2345::&#34;</span><span class="op" id="7809549">)</span><span class="op" id="7809550">,</span>&nbsp;<span class="op" id="7809552">&amp;</span><span class="ident" id="7809553">IPNet</span><span class="op" id="7809558">{</span><span class="ident" id="7809559">IP</span><span class="op" id="7809561">:</span>&nbsp;<span class="ident" id="7809563">ParseIP</span><span class="op" id="7809570">(</span><span class="string" id="7809571">&#34;abcd:2300::&#34;</span><span class="op" id="7809584">)</span><span class="op" id="7809585">,</span>&nbsp;<span class="ident" id="7809587">Mask</span><span class="op" id="7809591">:</span>&nbsp;<span class="ident" id="7809593">IPMask</span><span class="op" id="7809599">(</span><span class="ident" id="7809600">ParseIP</span><span class="op" id="7809607">(</span><span class="string" id="7809608">&#34;ffff:ff00::&#34;</span><span class="op" id="7809621">)</span><span class="op" id="7809622">)</span><span class="op" id="7809623">}</span><span class="op" id="7809624">,</span>&nbsp;<span class="ident" id="7809626">nil</span><span class="op" id="7809629">}</span><span class="op" id="7809630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7809633">{</span><span class="string" id="7809634">&#34;2001:DB8::/48&#34;</span><span class="op" id="7809649">,</span>&nbsp;<span class="ident" id="7809651">ParseIP</span><span class="op" id="7809658">(</span><span class="string" id="7809659">&#34;2001:DB8::&#34;</span><span class="op" id="7809671">)</span><span class="op" id="7809672">,</span>&nbsp;<span class="op" id="7809674">&amp;</span><span class="ident" id="7809675">IPNet</span><span class="op" id="7809680">{</span><span class="ident" id="7809681">IP</span><span class="op" id="7809683">:</span>&nbsp;<span class="ident" id="7809685">ParseIP</span><span class="op" id="7809692">(</span><span class="string" id="7809693">&#34;2001:DB8::&#34;</span><span class="op" id="7809705">)</span><span class="op" id="7809706">,</span>&nbsp;<span class="ident" id="7809708">Mask</span><span class="op" id="7809712">:</span>&nbsp;<span class="ident" id="7809714">IPMask</span><span class="op" id="7809720">(</span><span class="ident" id="7809721">ParseIP</span><span class="op" id="7809728">(</span><span class="string" id="7809729">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="7809747">)</span><span class="op" id="7809748">)</span><span class="op" id="7809749">}</span><span class="op" id="7809750">,</span>&nbsp;<span class="ident" id="7809752">nil</span><span class="op" id="7809755">}</span><span class="op" id="7809756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7809759">{</span><span class="string" id="7809760">&#34;2001:DB8::1/48&#34;</span><span class="op" id="7809776">,</span>&nbsp;<span class="ident" id="7809778">ParseIP</span><span class="op" id="7809785">(</span><span class="string" id="7809786">&#34;2001:DB8::1&#34;</span><span class="op" id="7809799">)</span><span class="op" id="7809800">,</span>&nbsp;<span class="op" id="7809802">&amp;</span><span class="ident" id="7809803">IPNet</span><span class="op" id="7809808">{</span><span class="ident" id="7809809">IP</span><span class="op" id="7809811">:</span>&nbsp;<span class="ident" id="7809813">ParseIP</span><span class="op" id="7809820">(</span><span class="string" id="7809821">&#34;2001:DB8::&#34;</span><span class="op" id="7809833">)</span><span class="op" id="7809834">,</span>&nbsp;<span class="ident" id="7809836">Mask</span><span class="op" id="7809840">:</span>&nbsp;<span class="ident" id="7809842">IPMask</span><span class="op" id="7809848">(</span><span class="ident" id="7809849">ParseIP</span><span class="op" id="7809856">(</span><span class="string" id="7809857">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="7809875">)</span><span class="op" id="7809876">)</span><span class="op" id="7809877">}</span><span class="op" id="7809878">,</span>&nbsp;<span class="ident" id="7809880">nil</span><span class="op" id="7809883">}</span><span class="op" id="7809884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7809887">{</span><span class="string" id="7809888">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="7809915">,</span>&nbsp;<span class="ident" id="7809917">nil</span><span class="op" id="7809920">,</span>&nbsp;<span class="ident" id="7809922">nil</span><span class="op" id="7809925">,</span>&nbsp;<span class="op" id="7809927">&amp;</span><span class="ident" id="7809928">ParseError</span><span class="op" id="7809938">{</span><span class="string" id="7809939">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7809953">,</span>&nbsp;<span class="string" id="7809955">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="7809982">}</span><span class="op" id="7809983">}</span><span class="op" id="7809984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7809987">{</span><span class="string" id="7809988">&#34;192.168.1.1/35&#34;</span><span class="op" id="7810004">,</span>&nbsp;<span class="ident" id="7810006">nil</span><span class="op" id="7810009">,</span>&nbsp;<span class="ident" id="7810011">nil</span><span class="op" id="7810014">,</span>&nbsp;<span class="op" id="7810016">&amp;</span><span class="ident" id="7810017">ParseError</span><span class="op" id="7810027">{</span><span class="string" id="7810028">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7810042">,</span>&nbsp;<span class="string" id="7810044">&#34;192.168.1.1/35&#34;</span><span class="op" id="7810060">}</span><span class="op" id="7810061">}</span><span class="op" id="7810062">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7810065">{</span><span class="string" id="7810066">&#34;2001:db8::1/-1&#34;</span><span class="op" id="7810082">,</span>&nbsp;<span class="ident" id="7810084">nil</span><span class="op" id="7810087">,</span>&nbsp;<span class="ident" id="7810089">nil</span><span class="op" id="7810092">,</span>&nbsp;<span class="op" id="7810094">&amp;</span><span class="ident" id="7810095">ParseError</span><span class="op" id="7810105">{</span><span class="string" id="7810106">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7810120">,</span>&nbsp;<span class="string" id="7810122">&#34;2001:db8::1/-1&#34;</span><span class="op" id="7810138">}</span><span class="op" id="7810139">}</span><span class="op" id="7810140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7810143">{</span><span class="string" id="7810144">&#34;&#34;</span><span class="op" id="7810146">,</span>&nbsp;<span class="ident" id="7810148">nil</span><span class="op" id="7810151">,</span>&nbsp;<span class="ident" id="7810153">nil</span><span class="op" id="7810156">,</span>&nbsp;<span class="op" id="7810158">&amp;</span><span class="ident" id="7810159">ParseError</span><span class="op" id="7810169">{</span><span class="string" id="7810170">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7810184">,</span>&nbsp;<span class="string" id="7810186">&#34;&#34;</span><span class="op" id="7810188">}</span><span class="op" id="7810189">}</span><span class="op" id="7810190">,</span><br>
<span class="lineno"></span><span class="op" id="7810192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7810195">func</span>&nbsp;<span class="ident" id="7810200">TestParseCIDR</span><span class="op" id="7810213">(</span><span class="ident" id="7810214">t</span>&nbsp;<span class="op" id="7810216">*</span><span class="ident" id="7810217">testing</span><span class="op" id="7810224">.</span><span class="ident" id="7810225">T</span><span class="op" id="7810226">)</span>&nbsp;<span class="op" id="7810228">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7810231">for</span>&nbsp;<span class="ident" id="7810235">_</span><span class="op" id="7810236">,</span>&nbsp;<span class="ident" id="7810238">tt</span>&nbsp;<span class="op" id="7810241">:=</span>&nbsp;<span class="keyword" id="7810244">range</span>&nbsp;<span class="ident" id="7810250">parseCIDRTests</span>&nbsp;<span class="op" id="7810265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7810269">ip</span><span class="op" id="7810271">,</span>&nbsp;<span class="ident" id="7810273">net</span><span class="op" id="7810276">,</span>&nbsp;<span class="ident" id="7810278">err</span>&nbsp;<span class="op" id="7810282">:=</span>&nbsp;<span class="ident" id="7810285">ParseCIDR</span><span class="op" id="7810294">(</span><span class="ident" id="7810295">tt</span><span class="op" id="7810297">.</span><span class="ident" id="7810298">in</span><span class="op" id="7810300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7810304">if</span>&nbsp;<span class="op" id="7810307">!</span><span class="ident" id="7810308">reflect</span><span class="op" id="7810315">.</span><span class="ident" id="7810316">DeepEqual</span><span class="op" id="7810325">(</span><span class="ident" id="7810326">err</span><span class="op" id="7810329">,</span>&nbsp;<span class="ident" id="7810331">tt</span><span class="op" id="7810333">.</span><span class="ident" id="7810334">err</span><span class="op" id="7810337">)</span>&nbsp;<span class="op" id="7810339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7810344">t</span><span class="op" id="7810345">.</span><span class="ident" id="7810346">Errorf</span><span class="op" id="7810352">(</span><span class="string" id="7810353">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7810390">,</span>&nbsp;<span class="ident" id="7810392">tt</span><span class="op" id="7810394">.</span><span class="ident" id="7810395">in</span><span class="op" id="7810397">,</span>&nbsp;<span class="ident" id="7810399">ip</span><span class="op" id="7810401">,</span>&nbsp;<span class="ident" id="7810403">net</span><span class="op" id="7810406">,</span>&nbsp;<span class="ident" id="7810408">tt</span><span class="op" id="7810410">.</span><span class="ident" id="7810411">ip</span><span class="op" id="7810413">,</span>&nbsp;<span class="ident" id="7810415">tt</span><span class="op" id="7810417">.</span><span class="ident" id="7810418">net</span><span class="op" id="7810421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7810425">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7810429">if</span>&nbsp;<span class="ident" id="7810432">err</span>&nbsp;<span class="op" id="7810436">==</span>&nbsp;<span class="ident" id="7810439">nil</span>&nbsp;<span class="op" id="7810443">&amp;&amp;</span>&nbsp;<span class="op" id="7810446">(</span><span class="op" id="7810447">!</span><span class="ident" id="7810448">tt</span><span class="op" id="7810450">.</span><span class="ident" id="7810451">ip</span><span class="op" id="7810453">.</span><span class="ident" id="7810454">Equal</span><span class="op" id="7810459">(</span><span class="ident" id="7810460">ip</span><span class="op" id="7810462">)</span>&nbsp;<span class="op" id="7810464">||</span>&nbsp;<span class="op" id="7810467">!</span><span class="ident" id="7810468">tt</span><span class="op" id="7810470">.</span><span class="ident" id="7810471">net</span><span class="op" id="7810474">.</span><span class="ident" id="7810475">IP</span><span class="op" id="7810477">.</span><span class="ident" id="7810478">Equal</span><span class="op" id="7810483">(</span><span class="ident" id="7810484">net</span><span class="op" id="7810487">.</span><span class="ident" id="7810488">IP</span><span class="op" id="7810490">)</span>&nbsp;<span class="op" id="7810492">||</span>&nbsp;<span class="op" id="7810495">!</span><span class="ident" id="7810496">reflect</span><span class="op" id="7810503">.</span><span class="ident" id="7810504">DeepEqual</span><span class="op" id="7810513">(</span><span class="ident" id="7810514">net</span><span class="op" id="7810517">.</span><span class="ident" id="7810518">Mask</span><span class="op" id="7810522">,</span>&nbsp;<span class="ident" id="7810524">tt</span><span class="op" id="7810526">.</span><span class="ident" id="7810527">net</span><span class="op" id="7810530">.</span><span class="ident" id="7810531">Mask</span><span class="op" id="7810535">)</span><span class="op" id="7810536">)</span>&nbsp;<span class="op" id="7810538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7810543">t</span><span class="op" id="7810544">.</span><span class="ident" id="7810545">Errorf</span><span class="op" id="7810551">(</span><span class="string" id="7810552">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="7810601">,</span>&nbsp;<span class="ident" id="7810603">tt</span><span class="op" id="7810605">.</span><span class="ident" id="7810606">in</span><span class="op" id="7810608">,</span>&nbsp;<span class="ident" id="7810610">ip</span><span class="op" id="7810612">,</span>&nbsp;<span class="ident" id="7810614">net</span><span class="op" id="7810617">.</span><span class="ident" id="7810618">IP</span><span class="op" id="7810620">,</span>&nbsp;<span class="ident" id="7810622">net</span><span class="op" id="7810625">.</span><span class="ident" id="7810626">Mask</span><span class="op" id="7810630">,</span>&nbsp;<span class="ident" id="7810632">tt</span><span class="op" id="7810634">.</span><span class="ident" id="7810635">ip</span><span class="op" id="7810637">,</span>&nbsp;<span class="ident" id="7810639">tt</span><span class="op" id="7810641">.</span><span class="ident" id="7810642">net</span><span class="op" id="7810645">.</span><span class="ident" id="7810646">IP</span><span class="op" id="7810648">,</span>&nbsp;<span class="ident" id="7810650">tt</span><span class="op" id="7810652">.</span><span class="ident" id="7810653">net</span><span class="op" id="7810656">.</span><span class="ident" id="7810657">Mask</span><span class="op" id="7810661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7810665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7810668">}</span><br>
<span class="lineno"></span><span class="op" id="7810670">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="7810673">var</span>&nbsp;<span class="ident" id="7810677">ipNetContainsTests</span>&nbsp;<span class="op" id="7810696">=</span>&nbsp;<span class="op" id="7810698">[</span><span class="op" id="7810699">]</span><span class="keyword" id="7810700">struct</span>&nbsp;<span class="op" id="7810707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7810710">ip</span>&nbsp;&nbsp;<span class="ident" id="7810714">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7810718">net</span>&nbsp;<span class="op" id="7810722">*</span><span class="ident" id="7810723">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7810730">ok</span>&nbsp;&nbsp;<span class="builtintype" id="7810734">bool</span><br>
<span class="lineno">205</span><span class="op" id="7810739">}</span><span class="op" id="7810740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7810743">{</span><span class="ident" id="7810744">IPv4</span><span class="op" id="7810748">(</span><span class="num" id="7810749">172</span><span class="op" id="7810752">,</span>&nbsp;<span class="num" id="7810754">16</span><span class="op" id="7810756">,</span>&nbsp;<span class="num" id="7810758">1</span><span class="op" id="7810759">,</span>&nbsp;<span class="num" id="7810761">1</span><span class="op" id="7810762">)</span><span class="op" id="7810763">,</span>&nbsp;<span class="op" id="7810765">&amp;</span><span class="ident" id="7810766">IPNet</span><span class="op" id="7810771">{</span><span class="ident" id="7810772">IP</span><span class="op" id="7810774">:</span>&nbsp;<span class="ident" id="7810776">IPv4</span><span class="op" id="7810780">(</span><span class="num" id="7810781">172</span><span class="op" id="7810784">,</span>&nbsp;<span class="num" id="7810786">16</span><span class="op" id="7810788">,</span>&nbsp;<span class="num" id="7810790">0</span><span class="op" id="7810791">,</span>&nbsp;<span class="num" id="7810793">0</span><span class="op" id="7810794">)</span><span class="op" id="7810795">,</span>&nbsp;<span class="ident" id="7810797">Mask</span><span class="op" id="7810801">:</span>&nbsp;<span class="ident" id="7810803">CIDRMask</span><span class="op" id="7810811">(</span><span class="num" id="7810812">12</span><span class="op" id="7810814">,</span>&nbsp;<span class="num" id="7810816">32</span><span class="op" id="7810818">)</span><span class="op" id="7810819">}</span><span class="op" id="7810820">,</span>&nbsp;<span class="builtintype" id="7810822">true</span><span class="op" id="7810826">}</span><span class="op" id="7810827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7810830">{</span><span class="ident" id="7810831">IPv4</span><span class="op" id="7810835">(</span><span class="num" id="7810836">172</span><span class="op" id="7810839">,</span>&nbsp;<span class="num" id="7810841">24</span><span class="op" id="7810843">,</span>&nbsp;<span class="num" id="7810845">0</span><span class="op" id="7810846">,</span>&nbsp;<span class="num" id="7810848">1</span><span class="op" id="7810849">)</span><span class="op" id="7810850">,</span>&nbsp;<span class="op" id="7810852">&amp;</span><span class="ident" id="7810853">IPNet</span><span class="op" id="7810858">{</span><span class="ident" id="7810859">IP</span><span class="op" id="7810861">:</span>&nbsp;<span class="ident" id="7810863">IPv4</span><span class="op" id="7810867">(</span><span class="num" id="7810868">172</span><span class="op" id="7810871">,</span>&nbsp;<span class="num" id="7810873">16</span><span class="op" id="7810875">,</span>&nbsp;<span class="num" id="7810877">0</span><span class="op" id="7810878">,</span>&nbsp;<span class="num" id="7810880">0</span><span class="op" id="7810881">)</span><span class="op" id="7810882">,</span>&nbsp;<span class="ident" id="7810884">Mask</span><span class="op" id="7810888">:</span>&nbsp;<span class="ident" id="7810890">CIDRMask</span><span class="op" id="7810898">(</span><span class="num" id="7810899">13</span><span class="op" id="7810901">,</span>&nbsp;<span class="num" id="7810903">32</span><span class="op" id="7810905">)</span><span class="op" id="7810906">}</span><span class="op" id="7810907">,</span>&nbsp;<span class="builtintype" id="7810909">false</span><span class="op" id="7810914">}</span><span class="op" id="7810915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7810918">{</span><span class="ident" id="7810919">IPv4</span><span class="op" id="7810923">(</span><span class="num" id="7810924">192</span><span class="op" id="7810927">,</span>&nbsp;<span class="num" id="7810929">168</span><span class="op" id="7810932">,</span>&nbsp;<span class="num" id="7810934">0</span><span class="op" id="7810935">,</span>&nbsp;<span class="num" id="7810937">3</span><span class="op" id="7810938">)</span><span class="op" id="7810939">,</span>&nbsp;<span class="op" id="7810941">&amp;</span><span class="ident" id="7810942">IPNet</span><span class="op" id="7810947">{</span><span class="ident" id="7810948">IP</span><span class="op" id="7810950">:</span>&nbsp;<span class="ident" id="7810952">IPv4</span><span class="op" id="7810956">(</span><span class="num" id="7810957">192</span><span class="op" id="7810960">,</span>&nbsp;<span class="num" id="7810962">168</span><span class="op" id="7810965">,</span>&nbsp;<span class="num" id="7810967">0</span><span class="op" id="7810968">,</span>&nbsp;<span class="num" id="7810970">0</span><span class="op" id="7810971">)</span><span class="op" id="7810972">,</span>&nbsp;<span class="ident" id="7810974">Mask</span><span class="op" id="7810978">:</span>&nbsp;<span class="ident" id="7810980">IPv4Mask</span><span class="op" id="7810988">(</span><span class="num" id="7810989">0</span><span class="op" id="7810990">,</span>&nbsp;<span class="num" id="7810992">0</span><span class="op" id="7810993">,</span>&nbsp;<span class="num" id="7810995">255</span><span class="op" id="7810998">,</span>&nbsp;<span class="num" id="7811000">252</span><span class="op" id="7811003">)</span><span class="op" id="7811004">}</span><span class="op" id="7811005">,</span>&nbsp;<span class="builtintype" id="7811007">true</span><span class="op" id="7811011">}</span><span class="op" id="7811012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811015">{</span><span class="ident" id="7811016">IPv4</span><span class="op" id="7811020">(</span><span class="num" id="7811021">192</span><span class="op" id="7811024">,</span>&nbsp;<span class="num" id="7811026">168</span><span class="op" id="7811029">,</span>&nbsp;<span class="num" id="7811031">0</span><span class="op" id="7811032">,</span>&nbsp;<span class="num" id="7811034">4</span><span class="op" id="7811035">)</span><span class="op" id="7811036">,</span>&nbsp;<span class="op" id="7811038">&amp;</span><span class="ident" id="7811039">IPNet</span><span class="op" id="7811044">{</span><span class="ident" id="7811045">IP</span><span class="op" id="7811047">:</span>&nbsp;<span class="ident" id="7811049">IPv4</span><span class="op" id="7811053">(</span><span class="num" id="7811054">192</span><span class="op" id="7811057">,</span>&nbsp;<span class="num" id="7811059">168</span><span class="op" id="7811062">,</span>&nbsp;<span class="num" id="7811064">0</span><span class="op" id="7811065">,</span>&nbsp;<span class="num" id="7811067">0</span><span class="op" id="7811068">)</span><span class="op" id="7811069">,</span>&nbsp;<span class="ident" id="7811071">Mask</span><span class="op" id="7811075">:</span>&nbsp;<span class="ident" id="7811077">IPv4Mask</span><span class="op" id="7811085">(</span><span class="num" id="7811086">0</span><span class="op" id="7811087">,</span>&nbsp;<span class="num" id="7811089">255</span><span class="op" id="7811092">,</span>&nbsp;<span class="num" id="7811094">0</span><span class="op" id="7811095">,</span>&nbsp;<span class="num" id="7811097">252</span><span class="op" id="7811100">)</span><span class="op" id="7811101">}</span><span class="op" id="7811102">,</span>&nbsp;<span class="builtintype" id="7811104">false</span><span class="op" id="7811109">}</span><span class="op" id="7811110">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811113">{</span><span class="ident" id="7811114">ParseIP</span><span class="op" id="7811121">(</span><span class="string" id="7811122">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7811139">)</span><span class="op" id="7811140">,</span>&nbsp;<span class="op" id="7811142">&amp;</span><span class="ident" id="7811143">IPNet</span><span class="op" id="7811148">{</span><span class="ident" id="7811149">IP</span><span class="op" id="7811151">:</span>&nbsp;<span class="ident" id="7811153">ParseIP</span><span class="op" id="7811160">(</span><span class="string" id="7811161">&#34;2001:db8:1::&#34;</span><span class="op" id="7811175">)</span><span class="op" id="7811176">,</span>&nbsp;<span class="ident" id="7811178">Mask</span><span class="op" id="7811182">:</span>&nbsp;<span class="ident" id="7811184">CIDRMask</span><span class="op" id="7811192">(</span><span class="num" id="7811193">47</span><span class="op" id="7811195">,</span>&nbsp;<span class="num" id="7811197">128</span><span class="op" id="7811200">)</span><span class="op" id="7811201">}</span><span class="op" id="7811202">,</span>&nbsp;<span class="builtintype" id="7811204">true</span><span class="op" id="7811208">}</span><span class="op" id="7811209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811212">{</span><span class="ident" id="7811213">ParseIP</span><span class="op" id="7811220">(</span><span class="string" id="7811221">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7811238">)</span><span class="op" id="7811239">,</span>&nbsp;<span class="op" id="7811241">&amp;</span><span class="ident" id="7811242">IPNet</span><span class="op" id="7811247">{</span><span class="ident" id="7811248">IP</span><span class="op" id="7811250">:</span>&nbsp;<span class="ident" id="7811252">ParseIP</span><span class="op" id="7811259">(</span><span class="string" id="7811260">&#34;2001:db8:2::&#34;</span><span class="op" id="7811274">)</span><span class="op" id="7811275">,</span>&nbsp;<span class="ident" id="7811277">Mask</span><span class="op" id="7811281">:</span>&nbsp;<span class="ident" id="7811283">CIDRMask</span><span class="op" id="7811291">(</span><span class="num" id="7811292">47</span><span class="op" id="7811294">,</span>&nbsp;<span class="num" id="7811296">128</span><span class="op" id="7811299">)</span><span class="op" id="7811300">}</span><span class="op" id="7811301">,</span>&nbsp;<span class="builtintype" id="7811303">false</span><span class="op" id="7811308">}</span><span class="op" id="7811309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811312">{</span><span class="ident" id="7811313">ParseIP</span><span class="op" id="7811320">(</span><span class="string" id="7811321">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7811338">)</span><span class="op" id="7811339">,</span>&nbsp;<span class="op" id="7811341">&amp;</span><span class="ident" id="7811342">IPNet</span><span class="op" id="7811347">{</span><span class="ident" id="7811348">IP</span><span class="op" id="7811350">:</span>&nbsp;<span class="ident" id="7811352">ParseIP</span><span class="op" id="7811359">(</span><span class="string" id="7811360">&#34;2001:db8:1::&#34;</span><span class="op" id="7811374">)</span><span class="op" id="7811375">,</span>&nbsp;<span class="ident" id="7811377">Mask</span><span class="op" id="7811381">:</span>&nbsp;<span class="ident" id="7811383">IPMask</span><span class="op" id="7811389">(</span><span class="ident" id="7811390">ParseIP</span><span class="op" id="7811397">(</span><span class="string" id="7811398">&#34;ffff:0:ffff::&#34;</span><span class="op" id="7811413">)</span><span class="op" id="7811414">)</span><span class="op" id="7811415">}</span><span class="op" id="7811416">,</span>&nbsp;<span class="builtintype" id="7811418">true</span><span class="op" id="7811422">}</span><span class="op" id="7811423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811426">{</span><span class="ident" id="7811427">ParseIP</span><span class="op" id="7811434">(</span><span class="string" id="7811435">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7811452">)</span><span class="op" id="7811453">,</span>&nbsp;<span class="op" id="7811455">&amp;</span><span class="ident" id="7811456">IPNet</span><span class="op" id="7811461">{</span><span class="ident" id="7811462">IP</span><span class="op" id="7811464">:</span>&nbsp;<span class="ident" id="7811466">ParseIP</span><span class="op" id="7811473">(</span><span class="string" id="7811474">&#34;2001:db8:1::&#34;</span><span class="op" id="7811488">)</span><span class="op" id="7811489">,</span>&nbsp;<span class="ident" id="7811491">Mask</span><span class="op" id="7811495">:</span>&nbsp;<span class="ident" id="7811497">IPMask</span><span class="op" id="7811503">(</span><span class="ident" id="7811504">ParseIP</span><span class="op" id="7811511">(</span><span class="string" id="7811512">&#34;0:0:0:ffff::&#34;</span><span class="op" id="7811526">)</span><span class="op" id="7811527">)</span><span class="op" id="7811528">}</span><span class="op" id="7811529">,</span>&nbsp;<span class="builtintype" id="7811531">false</span><span class="op" id="7811536">}</span><span class="op" id="7811537">,</span><br>
<span class="lineno"></span><span class="op" id="7811539">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="7811542">func</span>&nbsp;<span class="ident" id="7811547">TestIPNetContains</span><span class="op" id="7811564">(</span><span class="ident" id="7811565">t</span>&nbsp;<span class="op" id="7811567">*</span><span class="ident" id="7811568">testing</span><span class="op" id="7811575">.</span><span class="ident" id="7811576">T</span><span class="op" id="7811577">)</span>&nbsp;<span class="op" id="7811579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7811582">for</span>&nbsp;<span class="ident" id="7811586">_</span><span class="op" id="7811587">,</span>&nbsp;<span class="ident" id="7811589">tt</span>&nbsp;<span class="op" id="7811592">:=</span>&nbsp;<span class="keyword" id="7811595">range</span>&nbsp;<span class="ident" id="7811601">ipNetContainsTests</span>&nbsp;<span class="op" id="7811620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7811624">if</span>&nbsp;<span class="ident" id="7811627">ok</span>&nbsp;<span class="op" id="7811630">:=</span>&nbsp;<span class="ident" id="7811633">tt</span><span class="op" id="7811635">.</span><span class="ident" id="7811636">net</span><span class="op" id="7811639">.</span><span class="ident" id="7811640">Contains</span><span class="op" id="7811648">(</span><span class="ident" id="7811649">tt</span><span class="op" id="7811651">.</span><span class="ident" id="7811652">ip</span><span class="op" id="7811654">)</span><span class="op" id="7811655">;</span>&nbsp;<span class="ident" id="7811657">ok</span>&nbsp;<span class="op" id="7811660">!=</span>&nbsp;<span class="ident" id="7811663">tt</span><span class="op" id="7811665">.</span><span class="ident" id="7811666">ok</span>&nbsp;<span class="op" id="7811669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7811674">t</span><span class="op" id="7811675">.</span><span class="ident" id="7811676">Errorf</span><span class="op" id="7811682">(</span><span class="string" id="7811683">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7811721">,</span>&nbsp;<span class="ident" id="7811723">tt</span><span class="op" id="7811725">.</span><span class="ident" id="7811726">net</span><span class="op" id="7811729">,</span>&nbsp;<span class="ident" id="7811731">tt</span><span class="op" id="7811733">.</span><span class="ident" id="7811734">ip</span><span class="op" id="7811736">,</span>&nbsp;<span class="ident" id="7811738">ok</span><span class="op" id="7811740">,</span>&nbsp;<span class="ident" id="7811742">tt</span><span class="op" id="7811744">.</span><span class="ident" id="7811745">ok</span><span class="op" id="7811747">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811754">}</span><br>
<span class="lineno"></span><span class="op" id="7811756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7811759">var</span>&nbsp;<span class="ident" id="7811763">ipNetStringTests</span>&nbsp;<span class="op" id="7811780">=</span>&nbsp;<span class="op" id="7811782">[</span><span class="op" id="7811783">]</span><span class="keyword" id="7811784">struct</span>&nbsp;<span class="op" id="7811791">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7811794">in</span>&nbsp;&nbsp;<span class="op" id="7811798">*</span><span class="ident" id="7811799">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7811806">out</span>&nbsp;<span class="builtintype" id="7811810">string</span><br>
<span class="lineno"></span><span class="op" id="7811817">}</span><span class="op" id="7811818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811821">{</span><span class="op" id="7811822">&amp;</span><span class="ident" id="7811823">IPNet</span><span class="op" id="7811828">{</span><span class="ident" id="7811829">IP</span><span class="op" id="7811831">:</span>&nbsp;<span class="ident" id="7811833">IPv4</span><span class="op" id="7811837">(</span><span class="num" id="7811838">192</span><span class="op" id="7811841">,</span>&nbsp;<span class="num" id="7811843">168</span><span class="op" id="7811846">,</span>&nbsp;<span class="num" id="7811848">1</span><span class="op" id="7811849">,</span>&nbsp;<span class="num" id="7811851">0</span><span class="op" id="7811852">)</span><span class="op" id="7811853">,</span>&nbsp;<span class="ident" id="7811855">Mask</span><span class="op" id="7811859">:</span>&nbsp;<span class="ident" id="7811861">CIDRMask</span><span class="op" id="7811869">(</span><span class="num" id="7811870">26</span><span class="op" id="7811872">,</span>&nbsp;<span class="num" id="7811874">32</span><span class="op" id="7811876">)</span><span class="op" id="7811877">}</span><span class="op" id="7811878">,</span>&nbsp;<span class="string" id="7811880">&#34;192.168.1.0/26&#34;</span><span class="op" id="7811896">}</span><span class="op" id="7811897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811900">{</span><span class="op" id="7811901">&amp;</span><span class="ident" id="7811902">IPNet</span><span class="op" id="7811907">{</span><span class="ident" id="7811908">IP</span><span class="op" id="7811910">:</span>&nbsp;<span class="ident" id="7811912">IPv4</span><span class="op" id="7811916">(</span><span class="num" id="7811917">192</span><span class="op" id="7811920">,</span>&nbsp;<span class="num" id="7811922">168</span><span class="op" id="7811925">,</span>&nbsp;<span class="num" id="7811927">1</span><span class="op" id="7811928">,</span>&nbsp;<span class="num" id="7811930">0</span><span class="op" id="7811931">)</span><span class="op" id="7811932">,</span>&nbsp;<span class="ident" id="7811934">Mask</span><span class="op" id="7811938">:</span>&nbsp;<span class="ident" id="7811940">IPv4Mask</span><span class="op" id="7811948">(</span><span class="num" id="7811949">255</span><span class="op" id="7811952">,</span>&nbsp;<span class="num" id="7811954">0</span><span class="op" id="7811955">,</span>&nbsp;<span class="num" id="7811957">255</span><span class="op" id="7811960">,</span>&nbsp;<span class="num" id="7811962">0</span><span class="op" id="7811963">)</span><span class="op" id="7811964">}</span><span class="op" id="7811965">,</span>&nbsp;<span class="string" id="7811967">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="7811989">}</span><span class="op" id="7811990">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7811993">{</span><span class="op" id="7811994">&amp;</span><span class="ident" id="7811995">IPNet</span><span class="op" id="7812000">{</span><span class="ident" id="7812001">IP</span><span class="op" id="7812003">:</span>&nbsp;<span class="ident" id="7812005">ParseIP</span><span class="op" id="7812012">(</span><span class="string" id="7812013">&#34;2001:db8::&#34;</span><span class="op" id="7812025">)</span><span class="op" id="7812026">,</span>&nbsp;<span class="ident" id="7812028">Mask</span><span class="op" id="7812032">:</span>&nbsp;<span class="ident" id="7812034">CIDRMask</span><span class="op" id="7812042">(</span><span class="num" id="7812043">55</span><span class="op" id="7812045">,</span>&nbsp;<span class="num" id="7812047">128</span><span class="op" id="7812050">)</span><span class="op" id="7812051">}</span><span class="op" id="7812052">,</span>&nbsp;<span class="string" id="7812054">&#34;2001:db8::/55&#34;</span><span class="op" id="7812069">}</span><span class="op" id="7812070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812073">{</span><span class="op" id="7812074">&amp;</span><span class="ident" id="7812075">IPNet</span><span class="op" id="7812080">{</span><span class="ident" id="7812081">IP</span><span class="op" id="7812083">:</span>&nbsp;<span class="ident" id="7812085">ParseIP</span><span class="op" id="7812092">(</span><span class="string" id="7812093">&#34;2001:db8::&#34;</span><span class="op" id="7812105">)</span><span class="op" id="7812106">,</span>&nbsp;<span class="ident" id="7812108">Mask</span><span class="op" id="7812112">:</span>&nbsp;<span class="ident" id="7812114">IPMask</span><span class="op" id="7812120">(</span><span class="ident" id="7812121">ParseIP</span><span class="op" id="7812128">(</span><span class="string" id="7812129">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="7812149">)</span><span class="op" id="7812150">)</span><span class="op" id="7812151">}</span><span class="op" id="7812152">,</span>&nbsp;<span class="string" id="7812154">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="7812199">}</span><span class="op" id="7812200">,</span><br>
<span class="lineno"></span><span class="op" id="7812202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7812205">func</span>&nbsp;<span class="ident" id="7812210">TestIPNetString</span><span class="op" id="7812225">(</span><span class="ident" id="7812226">t</span>&nbsp;<span class="op" id="7812228">*</span><span class="ident" id="7812229">testing</span><span class="op" id="7812236">.</span><span class="ident" id="7812237">T</span><span class="op" id="7812238">)</span>&nbsp;<span class="op" id="7812240">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7812243">for</span>&nbsp;<span class="ident" id="7812247">_</span><span class="op" id="7812248">,</span>&nbsp;<span class="ident" id="7812250">tt</span>&nbsp;<span class="op" id="7812253">:=</span>&nbsp;<span class="keyword" id="7812256">range</span>&nbsp;<span class="ident" id="7812262">ipNetStringTests</span>&nbsp;<span class="op" id="7812279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7812283">if</span>&nbsp;<span class="ident" id="7812286">out</span>&nbsp;<span class="op" id="7812290">:=</span>&nbsp;<span class="ident" id="7812293">tt</span><span class="op" id="7812295">.</span><span class="ident" id="7812296">in</span><span class="op" id="7812298">.</span><span class="ident" id="7812299">String</span><span class="op" id="7812305">(</span><span class="op" id="7812306">)</span><span class="op" id="7812307">;</span>&nbsp;<span class="ident" id="7812309">out</span>&nbsp;<span class="op" id="7812313">!=</span>&nbsp;<span class="ident" id="7812316">tt</span><span class="op" id="7812318">.</span><span class="ident" id="7812319">out</span>&nbsp;<span class="op" id="7812323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7812328">t</span><span class="op" id="7812329">.</span><span class="ident" id="7812330">Errorf</span><span class="op" id="7812336">(</span><span class="string" id="7812337">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7812369">,</span>&nbsp;<span class="ident" id="7812371">tt</span><span class="op" id="7812373">.</span><span class="ident" id="7812374">in</span><span class="op" id="7812376">,</span>&nbsp;<span class="ident" id="7812378">out</span><span class="op" id="7812381">,</span>&nbsp;<span class="ident" id="7812383">tt</span><span class="op" id="7812385">.</span><span class="ident" id="7812386">out</span><span class="op" id="7812389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812396">}</span><br>
<span class="lineno">240</span><span class="op" id="7812398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7812401">var</span>&nbsp;<span class="ident" id="7812405">cidrMaskTests</span>&nbsp;<span class="op" id="7812419">=</span>&nbsp;<span class="op" id="7812421">[</span><span class="op" id="7812422">]</span><span class="keyword" id="7812423">struct</span>&nbsp;<span class="op" id="7812430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7812433">ones</span>&nbsp;<span class="builtintype" id="7812438">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7812443">bits</span>&nbsp;<span class="builtintype" id="7812448">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7812453">out</span>&nbsp;&nbsp;<span class="ident" id="7812458">IPMask</span><br>
<span class="lineno"></span><span class="op" id="7812465">}</span><span class="op" id="7812466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812469">{</span><span class="num" id="7812470">0</span><span class="op" id="7812471">,</span>&nbsp;<span class="num" id="7812473">32</span><span class="op" id="7812475">,</span>&nbsp;<span class="ident" id="7812477">IPv4Mask</span><span class="op" id="7812485">(</span><span class="num" id="7812486">0</span><span class="op" id="7812487">,</span>&nbsp;<span class="num" id="7812489">0</span><span class="op" id="7812490">,</span>&nbsp;<span class="num" id="7812492">0</span><span class="op" id="7812493">,</span>&nbsp;<span class="num" id="7812495">0</span><span class="op" id="7812496">)</span><span class="op" id="7812497">}</span><span class="op" id="7812498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812501">{</span><span class="num" id="7812502">12</span><span class="op" id="7812504">,</span>&nbsp;<span class="num" id="7812506">32</span><span class="op" id="7812508">,</span>&nbsp;<span class="ident" id="7812510">IPv4Mask</span><span class="op" id="7812518">(</span><span class="num" id="7812519">255</span><span class="op" id="7812522">,</span>&nbsp;<span class="num" id="7812524">240</span><span class="op" id="7812527">,</span>&nbsp;<span class="num" id="7812529">0</span><span class="op" id="7812530">,</span>&nbsp;<span class="num" id="7812532">0</span><span class="op" id="7812533">)</span><span class="op" id="7812534">}</span><span class="op" id="7812535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812538">{</span><span class="num" id="7812539">24</span><span class="op" id="7812541">,</span>&nbsp;<span class="num" id="7812543">32</span><span class="op" id="7812545">,</span>&nbsp;<span class="ident" id="7812547">IPv4Mask</span><span class="op" id="7812555">(</span><span class="num" id="7812556">255</span><span class="op" id="7812559">,</span>&nbsp;<span class="num" id="7812561">255</span><span class="op" id="7812564">,</span>&nbsp;<span class="num" id="7812566">255</span><span class="op" id="7812569">,</span>&nbsp;<span class="num" id="7812571">0</span><span class="op" id="7812572">)</span><span class="op" id="7812573">}</span><span class="op" id="7812574">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812577">{</span><span class="num" id="7812578">32</span><span class="op" id="7812580">,</span>&nbsp;<span class="num" id="7812582">32</span><span class="op" id="7812584">,</span>&nbsp;<span class="ident" id="7812586">IPv4Mask</span><span class="op" id="7812594">(</span><span class="num" id="7812595">255</span><span class="op" id="7812598">,</span>&nbsp;<span class="num" id="7812600">255</span><span class="op" id="7812603">,</span>&nbsp;<span class="num" id="7812605">255</span><span class="op" id="7812608">,</span>&nbsp;<span class="num" id="7812610">255</span><span class="op" id="7812613">)</span><span class="op" id="7812614">}</span><span class="op" id="7812615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812618">{</span><span class="num" id="7812619">0</span><span class="op" id="7812620">,</span>&nbsp;<span class="num" id="7812622">128</span><span class="op" id="7812625">,</span>&nbsp;<span class="ident" id="7812627">IPMask</span><span class="op" id="7812633">{</span><span class="num" id="7812634">0</span><span class="op" id="7812635">,</span>&nbsp;<span class="num" id="7812637">0</span><span class="op" id="7812638">,</span>&nbsp;<span class="num" id="7812640">0</span><span class="op" id="7812641">,</span>&nbsp;<span class="num" id="7812643">0</span><span class="op" id="7812644">,</span>&nbsp;<span class="num" id="7812646">0</span><span class="op" id="7812647">,</span>&nbsp;<span class="num" id="7812649">0</span><span class="op" id="7812650">,</span>&nbsp;<span class="num" id="7812652">0</span><span class="op" id="7812653">,</span>&nbsp;<span class="num" id="7812655">0</span><span class="op" id="7812656">,</span>&nbsp;<span class="num" id="7812658">0</span><span class="op" id="7812659">,</span>&nbsp;<span class="num" id="7812661">0</span><span class="op" id="7812662">,</span>&nbsp;<span class="num" id="7812664">0</span><span class="op" id="7812665">,</span>&nbsp;<span class="num" id="7812667">0</span><span class="op" id="7812668">,</span>&nbsp;<span class="num" id="7812670">0</span><span class="op" id="7812671">,</span>&nbsp;<span class="num" id="7812673">0</span><span class="op" id="7812674">,</span>&nbsp;<span class="num" id="7812676">0</span><span class="op" id="7812677">,</span>&nbsp;<span class="num" id="7812679">0</span><span class="op" id="7812680">}</span><span class="op" id="7812681">}</span><span class="op" id="7812682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812685">{</span><span class="num" id="7812686">4</span><span class="op" id="7812687">,</span>&nbsp;<span class="num" id="7812689">128</span><span class="op" id="7812692">,</span>&nbsp;<span class="ident" id="7812694">IPMask</span><span class="op" id="7812700">{</span><span class="num" id="7812701">0xf0</span><span class="op" id="7812705">,</span>&nbsp;<span class="num" id="7812707">0</span><span class="op" id="7812708">,</span>&nbsp;<span class="num" id="7812710">0</span><span class="op" id="7812711">,</span>&nbsp;<span class="num" id="7812713">0</span><span class="op" id="7812714">,</span>&nbsp;<span class="num" id="7812716">0</span><span class="op" id="7812717">,</span>&nbsp;<span class="num" id="7812719">0</span><span class="op" id="7812720">,</span>&nbsp;<span class="num" id="7812722">0</span><span class="op" id="7812723">,</span>&nbsp;<span class="num" id="7812725">0</span><span class="op" id="7812726">,</span>&nbsp;<span class="num" id="7812728">0</span><span class="op" id="7812729">,</span>&nbsp;<span class="num" id="7812731">0</span><span class="op" id="7812732">,</span>&nbsp;<span class="num" id="7812734">0</span><span class="op" id="7812735">,</span>&nbsp;<span class="num" id="7812737">0</span><span class="op" id="7812738">,</span>&nbsp;<span class="num" id="7812740">0</span><span class="op" id="7812741">,</span>&nbsp;<span class="num" id="7812743">0</span><span class="op" id="7812744">,</span>&nbsp;<span class="num" id="7812746">0</span><span class="op" id="7812747">,</span>&nbsp;<span class="num" id="7812749">0</span><span class="op" id="7812750">}</span><span class="op" id="7812751">}</span><span class="op" id="7812752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812755">{</span><span class="num" id="7812756">48</span><span class="op" id="7812758">,</span>&nbsp;<span class="num" id="7812760">128</span><span class="op" id="7812763">,</span>&nbsp;<span class="ident" id="7812765">IPMask</span><span class="op" id="7812771">{</span><span class="num" id="7812772">0xff</span><span class="op" id="7812776">,</span>&nbsp;<span class="num" id="7812778">0xff</span><span class="op" id="7812782">,</span>&nbsp;<span class="num" id="7812784">0xff</span><span class="op" id="7812788">,</span>&nbsp;<span class="num" id="7812790">0xff</span><span class="op" id="7812794">,</span>&nbsp;<span class="num" id="7812796">0xff</span><span class="op" id="7812800">,</span>&nbsp;<span class="num" id="7812802">0xff</span><span class="op" id="7812806">,</span>&nbsp;<span class="num" id="7812808">0</span><span class="op" id="7812809">,</span>&nbsp;<span class="num" id="7812811">0</span><span class="op" id="7812812">,</span>&nbsp;<span class="num" id="7812814">0</span><span class="op" id="7812815">,</span>&nbsp;<span class="num" id="7812817">0</span><span class="op" id="7812818">,</span>&nbsp;<span class="num" id="7812820">0</span><span class="op" id="7812821">,</span>&nbsp;<span class="num" id="7812823">0</span><span class="op" id="7812824">,</span>&nbsp;<span class="num" id="7812826">0</span><span class="op" id="7812827">,</span>&nbsp;<span class="num" id="7812829">0</span><span class="op" id="7812830">,</span>&nbsp;<span class="num" id="7812832">0</span><span class="op" id="7812833">,</span>&nbsp;<span class="num" id="7812835">0</span><span class="op" id="7812836">}</span><span class="op" id="7812837">}</span><span class="op" id="7812838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812841">{</span><span class="num" id="7812842">128</span><span class="op" id="7812845">,</span>&nbsp;<span class="num" id="7812847">128</span><span class="op" id="7812850">,</span>&nbsp;<span class="ident" id="7812852">IPMask</span><span class="op" id="7812858">{</span><span class="num" id="7812859">0xff</span><span class="op" id="7812863">,</span>&nbsp;<span class="num" id="7812865">0xff</span><span class="op" id="7812869">,</span>&nbsp;<span class="num" id="7812871">0xff</span><span class="op" id="7812875">,</span>&nbsp;<span class="num" id="7812877">0xff</span><span class="op" id="7812881">,</span>&nbsp;<span class="num" id="7812883">0xff</span><span class="op" id="7812887">,</span>&nbsp;<span class="num" id="7812889">0xff</span><span class="op" id="7812893">,</span>&nbsp;<span class="num" id="7812895">0xff</span><span class="op" id="7812899">,</span>&nbsp;<span class="num" id="7812901">0xff</span><span class="op" id="7812905">,</span>&nbsp;<span class="num" id="7812907">0xff</span><span class="op" id="7812911">,</span>&nbsp;<span class="num" id="7812913">0xff</span><span class="op" id="7812917">,</span>&nbsp;<span class="num" id="7812919">0xff</span><span class="op" id="7812923">,</span>&nbsp;<span class="num" id="7812925">0xff</span><span class="op" id="7812929">,</span>&nbsp;<span class="num" id="7812931">0xff</span><span class="op" id="7812935">,</span>&nbsp;<span class="num" id="7812937">0xff</span><span class="op" id="7812941">,</span>&nbsp;<span class="num" id="7812943">0xff</span><span class="op" id="7812947">,</span>&nbsp;<span class="num" id="7812949">0xff</span><span class="op" id="7812953">}</span><span class="op" id="7812954">}</span><span class="op" id="7812955">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812958">{</span><span class="num" id="7812959">33</span><span class="op" id="7812961">,</span>&nbsp;<span class="num" id="7812963">32</span><span class="op" id="7812965">,</span>&nbsp;<span class="ident" id="7812967">nil</span><span class="op" id="7812970">}</span><span class="op" id="7812971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812974">{</span><span class="num" id="7812975">32</span><span class="op" id="7812977">,</span>&nbsp;<span class="num" id="7812979">33</span><span class="op" id="7812981">,</span>&nbsp;<span class="ident" id="7812983">nil</span><span class="op" id="7812986">}</span><span class="op" id="7812987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7812990">{</span><span class="op" id="7812991">-</span><span class="num" id="7812992">1</span><span class="op" id="7812993">,</span>&nbsp;<span class="num" id="7812995">128</span><span class="op" id="7812998">,</span>&nbsp;<span class="ident" id="7813000">nil</span><span class="op" id="7813003">}</span><span class="op" id="7813004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7813007">{</span><span class="num" id="7813008">128</span><span class="op" id="7813011">,</span>&nbsp;<span class="op" id="7813013">-</span><span class="num" id="7813014">1</span><span class="op" id="7813015">,</span>&nbsp;<span class="ident" id="7813017">nil</span><span class="op" id="7813020">}</span><span class="op" id="7813021">,</span><br>
<span class="lineno"></span><span class="op" id="7813023">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="7813026">func</span>&nbsp;<span class="ident" id="7813031">TestCIDRMask</span><span class="op" id="7813043">(</span><span class="ident" id="7813044">t</span>&nbsp;<span class="op" id="7813046">*</span><span class="ident" id="7813047">testing</span><span class="op" id="7813054">.</span><span class="ident" id="7813055">T</span><span class="op" id="7813056">)</span>&nbsp;<span class="op" id="7813058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7813061">for</span>&nbsp;<span class="ident" id="7813065">_</span><span class="op" id="7813066">,</span>&nbsp;<span class="ident" id="7813068">tt</span>&nbsp;<span class="op" id="7813071">:=</span>&nbsp;<span class="keyword" id="7813074">range</span>&nbsp;<span class="ident" id="7813080">cidrMaskTests</span>&nbsp;<span class="op" id="7813094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7813098">if</span>&nbsp;<span class="ident" id="7813101">out</span>&nbsp;<span class="op" id="7813105">:=</span>&nbsp;<span class="ident" id="7813108">CIDRMask</span><span class="op" id="7813116">(</span><span class="ident" id="7813117">tt</span><span class="op" id="7813119">.</span><span class="ident" id="7813120">ones</span><span class="op" id="7813124">,</span>&nbsp;<span class="ident" id="7813126">tt</span><span class="op" id="7813128">.</span><span class="ident" id="7813129">bits</span><span class="op" id="7813133">)</span><span class="op" id="7813134">;</span>&nbsp;<span class="op" id="7813136">!</span><span class="ident" id="7813137">reflect</span><span class="op" id="7813144">.</span><span class="ident" id="7813145">DeepEqual</span><span class="op" id="7813154">(</span><span class="ident" id="7813155">out</span><span class="op" id="7813158">,</span>&nbsp;<span class="ident" id="7813160">tt</span><span class="op" id="7813162">.</span><span class="ident" id="7813163">out</span><span class="op" id="7813166">)</span>&nbsp;<span class="op" id="7813168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813173">t</span><span class="op" id="7813174">.</span><span class="ident" id="7813175">Errorf</span><span class="op" id="7813181">(</span><span class="string" id="7813182">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7813214">,</span>&nbsp;<span class="ident" id="7813216">tt</span><span class="op" id="7813218">.</span><span class="ident" id="7813219">ones</span><span class="op" id="7813223">,</span>&nbsp;<span class="ident" id="7813225">tt</span><span class="op" id="7813227">.</span><span class="ident" id="7813228">bits</span><span class="op" id="7813232">,</span>&nbsp;<span class="ident" id="7813234">out</span><span class="op" id="7813237">,</span>&nbsp;<span class="ident" id="7813239">tt</span><span class="op" id="7813241">.</span><span class="ident" id="7813242">out</span><span class="op" id="7813245">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7813249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7813252">}</span><br>
<span class="lineno"></span><span class="op" id="7813254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7813257">var</span>&nbsp;<span class="op" id="7813261">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813264">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813279">=</span>&nbsp;<span class="ident" id="7813281">IP</span><span class="op" id="7813283">{</span><span class="num" id="7813284">192</span><span class="op" id="7813287">,</span>&nbsp;<span class="num" id="7813289">168</span><span class="op" id="7813292">,</span>&nbsp;<span class="num" id="7813294">0</span><span class="op" id="7813295">,</span>&nbsp;<span class="num" id="7813297">1</span><span class="op" id="7813298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813301">v4mappedv6addr</span>&nbsp;<span class="op" id="7813316">=</span>&nbsp;<span class="ident" id="7813318">IP</span><span class="op" id="7813320">{</span><span class="num" id="7813321">0</span><span class="op" id="7813322">,</span>&nbsp;<span class="num" id="7813324">0</span><span class="op" id="7813325">,</span>&nbsp;<span class="num" id="7813327">0</span><span class="op" id="7813328">,</span>&nbsp;<span class="num" id="7813330">0</span><span class="op" id="7813331">,</span>&nbsp;<span class="num" id="7813333">0</span><span class="op" id="7813334">,</span>&nbsp;<span class="num" id="7813336">0</span><span class="op" id="7813337">,</span>&nbsp;<span class="num" id="7813339">0</span><span class="op" id="7813340">,</span>&nbsp;<span class="num" id="7813342">0</span><span class="op" id="7813343">,</span>&nbsp;<span class="num" id="7813345">0</span><span class="op" id="7813346">,</span>&nbsp;<span class="num" id="7813348">0</span><span class="op" id="7813349">,</span>&nbsp;<span class="num" id="7813351">0xff</span><span class="op" id="7813355">,</span>&nbsp;<span class="num" id="7813357">0xff</span><span class="op" id="7813361">,</span>&nbsp;<span class="num" id="7813363">192</span><span class="op" id="7813366">,</span>&nbsp;<span class="num" id="7813368">168</span><span class="op" id="7813371">,</span>&nbsp;<span class="num" id="7813373">0</span><span class="op" id="7813374">,</span>&nbsp;<span class="num" id="7813376">1</span><span class="op" id="7813377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813380">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813395">=</span>&nbsp;<span class="ident" id="7813397">IP</span><span class="op" id="7813399">{</span><span class="num" id="7813400">0x20</span><span class="op" id="7813404">,</span>&nbsp;<span class="num" id="7813406">0x1</span><span class="op" id="7813409">,</span>&nbsp;<span class="num" id="7813411">0xd</span><span class="op" id="7813414">,</span>&nbsp;<span class="num" id="7813416">0xb8</span><span class="op" id="7813420">,</span>&nbsp;<span class="num" id="7813422">0</span><span class="op" id="7813423">,</span>&nbsp;<span class="num" id="7813425">0</span><span class="op" id="7813426">,</span>&nbsp;<span class="num" id="7813428">0</span><span class="op" id="7813429">,</span>&nbsp;<span class="num" id="7813431">0</span><span class="op" id="7813432">,</span>&nbsp;<span class="num" id="7813434">0</span><span class="op" id="7813435">,</span>&nbsp;<span class="num" id="7813437">0</span><span class="op" id="7813438">,</span>&nbsp;<span class="num" id="7813440">0x1</span><span class="op" id="7813443">,</span>&nbsp;<span class="num" id="7813445">0x23</span><span class="op" id="7813449">,</span>&nbsp;<span class="num" id="7813451">0</span><span class="op" id="7813452">,</span>&nbsp;<span class="num" id="7813454">0x12</span><span class="op" id="7813458">,</span>&nbsp;<span class="num" id="7813460">0</span><span class="op" id="7813461">,</span>&nbsp;<span class="num" id="7813463">0x1</span><span class="op" id="7813466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813469">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813484">=</span>&nbsp;<span class="ident" id="7813486">IPMask</span><span class="op" id="7813492">{</span><span class="num" id="7813493">255</span><span class="op" id="7813496">,</span>&nbsp;<span class="num" id="7813498">255</span><span class="op" id="7813501">,</span>&nbsp;<span class="num" id="7813503">255</span><span class="op" id="7813506">,</span>&nbsp;<span class="num" id="7813508">0</span><span class="op" id="7813509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813512">v4mappedv6mask</span>&nbsp;<span class="op" id="7813527">=</span>&nbsp;<span class="ident" id="7813529">IPMask</span><span class="op" id="7813535">{</span><span class="num" id="7813536">0xff</span><span class="op" id="7813540">,</span>&nbsp;<span class="num" id="7813542">0xff</span><span class="op" id="7813546">,</span>&nbsp;<span class="num" id="7813548">0xff</span><span class="op" id="7813552">,</span>&nbsp;<span class="num" id="7813554">0xff</span><span class="op" id="7813558">,</span>&nbsp;<span class="num" id="7813560">0xff</span><span class="op" id="7813564">,</span>&nbsp;<span class="num" id="7813566">0xff</span><span class="op" id="7813570">,</span>&nbsp;<span class="num" id="7813572">0xff</span><span class="op" id="7813576">,</span>&nbsp;<span class="num" id="7813578">0xff</span><span class="op" id="7813582">,</span>&nbsp;<span class="num" id="7813584">0xff</span><span class="op" id="7813588">,</span>&nbsp;<span class="num" id="7813590">0xff</span><span class="op" id="7813594">,</span>&nbsp;<span class="num" id="7813596">0xff</span><span class="op" id="7813600">,</span>&nbsp;<span class="num" id="7813602">0xff</span><span class="op" id="7813606">,</span>&nbsp;<span class="num" id="7813608">255</span><span class="op" id="7813611">,</span>&nbsp;<span class="num" id="7813613">255</span><span class="op" id="7813616">,</span>&nbsp;<span class="num" id="7813618">255</span><span class="op" id="7813621">,</span>&nbsp;<span class="num" id="7813623">0</span><span class="op" id="7813624">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813627">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813642">=</span>&nbsp;<span class="ident" id="7813644">IPMask</span><span class="op" id="7813650">{</span><span class="num" id="7813651">0xff</span><span class="op" id="7813655">,</span>&nbsp;<span class="num" id="7813657">0xff</span><span class="op" id="7813661">,</span>&nbsp;<span class="num" id="7813663">0xff</span><span class="op" id="7813667">,</span>&nbsp;<span class="num" id="7813669">0xff</span><span class="op" id="7813673">,</span>&nbsp;<span class="num" id="7813675">0xff</span><span class="op" id="7813679">,</span>&nbsp;<span class="num" id="7813681">0xff</span><span class="op" id="7813685">,</span>&nbsp;<span class="num" id="7813687">0xff</span><span class="op" id="7813691">,</span>&nbsp;<span class="num" id="7813693">0xff</span><span class="op" id="7813697">,</span>&nbsp;<span class="num" id="7813699">0</span><span class="op" id="7813700">,</span>&nbsp;<span class="num" id="7813702">0</span><span class="op" id="7813703">,</span>&nbsp;<span class="num" id="7813705">0</span><span class="op" id="7813706">,</span>&nbsp;<span class="num" id="7813708">0</span><span class="op" id="7813709">,</span>&nbsp;<span class="num" id="7813711">0</span><span class="op" id="7813712">,</span>&nbsp;<span class="num" id="7813714">0</span><span class="op" id="7813715">,</span>&nbsp;<span class="num" id="7813717">0</span><span class="op" id="7813718">,</span>&nbsp;<span class="num" id="7813720">0</span><span class="op" id="7813721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813724">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813739">=</span>&nbsp;<span class="ident" id="7813741">IP</span><span class="op" id="7813743">{</span><span class="num" id="7813744">192</span><span class="op" id="7813747">,</span>&nbsp;<span class="num" id="7813749">168</span><span class="op" id="7813752">,</span>&nbsp;<span class="num" id="7813754">0</span><span class="op" id="7813755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813758">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813773">=</span>&nbsp;<span class="ident" id="7813775">IPMask</span><span class="op" id="7813781">{</span><span class="num" id="7813782">255</span><span class="op" id="7813785">,</span>&nbsp;<span class="num" id="7813787">255</span><span class="op" id="7813790">,</span>&nbsp;<span class="num" id="7813792">0</span><span class="op" id="7813793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813796">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813811">=</span>&nbsp;<span class="ident" id="7813813">IPMask</span><span class="op" id="7813819">{</span><span class="num" id="7813820">0</span><span class="op" id="7813821">,</span>&nbsp;<span class="num" id="7813823">0</span><span class="op" id="7813824">,</span>&nbsp;<span class="num" id="7813826">0</span><span class="op" id="7813827">,</span>&nbsp;<span class="num" id="7813829">0</span><span class="op" id="7813830">}</span><br>
<span class="lineno"></span><span class="op" id="7813832">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7813835">var</span>&nbsp;<span class="ident" id="7813839">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="7813865">=</span>&nbsp;<span class="op" id="7813867">[</span><span class="op" id="7813868">]</span><span class="keyword" id="7813869">struct</span>&nbsp;<span class="op" id="7813876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813879">in</span>&nbsp;&nbsp;<span class="ident" id="7813883">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7813890">out</span>&nbsp;<span class="ident" id="7813894">IPNet</span><br>
<span class="lineno"></span><span class="op" id="7813900">}</span><span class="op" id="7813901">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7813904">{</span><span class="ident" id="7813905">IPNet</span><span class="op" id="7813910">{</span><span class="ident" id="7813911">IP</span><span class="op" id="7813913">:</span>&nbsp;<span class="ident" id="7813915">v4addr</span><span class="op" id="7813921">,</span>&nbsp;<span class="ident" id="7813923">Mask</span><span class="op" id="7813927">:</span>&nbsp;<span class="ident" id="7813929">v4mask</span><span class="op" id="7813935">}</span><span class="op" id="7813936">,</span>&nbsp;<span class="ident" id="7813938">IPNet</span><span class="op" id="7813943">{</span><span class="ident" id="7813944">IP</span><span class="op" id="7813946">:</span>&nbsp;<span class="ident" id="7813948">v4addr</span><span class="op" id="7813954">,</span>&nbsp;<span class="ident" id="7813956">Mask</span><span class="op" id="7813960">:</span>&nbsp;<span class="ident" id="7813962">v4mask</span><span class="op" id="7813968">}</span><span class="op" id="7813969">}</span><span class="op" id="7813970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7813973">{</span><span class="ident" id="7813974">IPNet</span><span class="op" id="7813979">{</span><span class="ident" id="7813980">IP</span><span class="op" id="7813982">:</span>&nbsp;<span class="ident" id="7813984">v4addr</span><span class="op" id="7813990">,</span>&nbsp;<span class="ident" id="7813992">Mask</span><span class="op" id="7813996">:</span>&nbsp;<span class="ident" id="7813998">v4mappedv6mask</span><span class="op" id="7814012">}</span><span class="op" id="7814013">,</span>&nbsp;<span class="ident" id="7814015">IPNet</span><span class="op" id="7814020">{</span><span class="ident" id="7814021">IP</span><span class="op" id="7814023">:</span>&nbsp;<span class="ident" id="7814025">v4addr</span><span class="op" id="7814031">,</span>&nbsp;<span class="ident" id="7814033">Mask</span><span class="op" id="7814037">:</span>&nbsp;<span class="ident" id="7814039">v4mask</span><span class="op" id="7814045">}</span><span class="op" id="7814046">}</span><span class="op" id="7814047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814050">{</span><span class="ident" id="7814051">IPNet</span><span class="op" id="7814056">{</span><span class="ident" id="7814057">IP</span><span class="op" id="7814059">:</span>&nbsp;<span class="ident" id="7814061">v4mappedv6addr</span><span class="op" id="7814075">,</span>&nbsp;<span class="ident" id="7814077">Mask</span><span class="op" id="7814081">:</span>&nbsp;<span class="ident" id="7814083">v4mappedv6mask</span><span class="op" id="7814097">}</span><span class="op" id="7814098">,</span>&nbsp;<span class="ident" id="7814100">IPNet</span><span class="op" id="7814105">{</span><span class="ident" id="7814106">IP</span><span class="op" id="7814108">:</span>&nbsp;<span class="ident" id="7814110">v4addr</span><span class="op" id="7814116">,</span>&nbsp;<span class="ident" id="7814118">Mask</span><span class="op" id="7814122">:</span>&nbsp;<span class="ident" id="7814124">v4mask</span><span class="op" id="7814130">}</span><span class="op" id="7814131">}</span><span class="op" id="7814132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814135">{</span><span class="ident" id="7814136">IPNet</span><span class="op" id="7814141">{</span><span class="ident" id="7814142">IP</span><span class="op" id="7814144">:</span>&nbsp;<span class="ident" id="7814146">v4mappedv6addr</span><span class="op" id="7814160">,</span>&nbsp;<span class="ident" id="7814162">Mask</span><span class="op" id="7814166">:</span>&nbsp;<span class="ident" id="7814168">v6mask</span><span class="op" id="7814174">}</span><span class="op" id="7814175">,</span>&nbsp;<span class="ident" id="7814177">IPNet</span><span class="op" id="7814182">{</span><span class="ident" id="7814183">IP</span><span class="op" id="7814185">:</span>&nbsp;<span class="ident" id="7814187">v4addr</span><span class="op" id="7814193">,</span>&nbsp;<span class="ident" id="7814195">Mask</span><span class="op" id="7814199">:</span>&nbsp;<span class="ident" id="7814201">v4maskzero</span><span class="op" id="7814211">}</span><span class="op" id="7814212">}</span><span class="op" id="7814213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814216">{</span><span class="ident" id="7814217">IPNet</span><span class="op" id="7814222">{</span><span class="ident" id="7814223">IP</span><span class="op" id="7814225">:</span>&nbsp;<span class="ident" id="7814227">v4addr</span><span class="op" id="7814233">,</span>&nbsp;<span class="ident" id="7814235">Mask</span><span class="op" id="7814239">:</span>&nbsp;<span class="ident" id="7814241">v6mask</span><span class="op" id="7814247">}</span><span class="op" id="7814248">,</span>&nbsp;<span class="ident" id="7814250">IPNet</span><span class="op" id="7814255">{</span><span class="ident" id="7814256">IP</span><span class="op" id="7814258">:</span>&nbsp;<span class="ident" id="7814260">v4addr</span><span class="op" id="7814266">,</span>&nbsp;<span class="ident" id="7814268">Mask</span><span class="op" id="7814272">:</span>&nbsp;<span class="ident" id="7814274">v4maskzero</span><span class="op" id="7814284">}</span><span class="op" id="7814285">}</span><span class="op" id="7814286">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814289">{</span><span class="ident" id="7814290">IPNet</span><span class="op" id="7814295">{</span><span class="ident" id="7814296">IP</span><span class="op" id="7814298">:</span>&nbsp;<span class="ident" id="7814300">v6addr</span><span class="op" id="7814306">,</span>&nbsp;<span class="ident" id="7814308">Mask</span><span class="op" id="7814312">:</span>&nbsp;<span class="ident" id="7814314">v6mask</span><span class="op" id="7814320">}</span><span class="op" id="7814321">,</span>&nbsp;<span class="ident" id="7814323">IPNet</span><span class="op" id="7814328">{</span><span class="ident" id="7814329">IP</span><span class="op" id="7814331">:</span>&nbsp;<span class="ident" id="7814333">v6addr</span><span class="op" id="7814339">,</span>&nbsp;<span class="ident" id="7814341">Mask</span><span class="op" id="7814345">:</span>&nbsp;<span class="ident" id="7814347">v6mask</span><span class="op" id="7814353">}</span><span class="op" id="7814354">}</span><span class="op" id="7814355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814358">{</span><span class="ident" id="7814359">IPNet</span><span class="op" id="7814364">{</span><span class="ident" id="7814365">IP</span><span class="op" id="7814367">:</span>&nbsp;<span class="ident" id="7814369">v6addr</span><span class="op" id="7814375">,</span>&nbsp;<span class="ident" id="7814377">Mask</span><span class="op" id="7814381">:</span>&nbsp;<span class="ident" id="7814383">v4mappedv6mask</span><span class="op" id="7814397">}</span><span class="op" id="7814398">,</span>&nbsp;<span class="ident" id="7814400">IPNet</span><span class="op" id="7814405">{</span><span class="ident" id="7814406">IP</span><span class="op" id="7814408">:</span>&nbsp;<span class="ident" id="7814410">v6addr</span><span class="op" id="7814416">,</span>&nbsp;<span class="ident" id="7814418">Mask</span><span class="op" id="7814422">:</span>&nbsp;<span class="ident" id="7814424">v4mappedv6mask</span><span class="op" id="7814438">}</span><span class="op" id="7814439">}</span><span class="op" id="7814440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814443">{</span><span class="ident" id="7814444">in</span><span class="op" id="7814446">:</span>&nbsp;<span class="ident" id="7814448">IPNet</span><span class="op" id="7814453">{</span><span class="ident" id="7814454">IP</span><span class="op" id="7814456">:</span>&nbsp;<span class="ident" id="7814458">v6addr</span><span class="op" id="7814464">,</span>&nbsp;<span class="ident" id="7814466">Mask</span><span class="op" id="7814470">:</span>&nbsp;<span class="ident" id="7814472">v4mask</span><span class="op" id="7814478">}</span><span class="op" id="7814479">}</span><span class="op" id="7814480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814483">{</span><span class="ident" id="7814484">in</span><span class="op" id="7814486">:</span>&nbsp;<span class="ident" id="7814488">IPNet</span><span class="op" id="7814493">{</span><span class="ident" id="7814494">IP</span><span class="op" id="7814496">:</span>&nbsp;<span class="ident" id="7814498">v4addr</span><span class="op" id="7814504">,</span>&nbsp;<span class="ident" id="7814506">Mask</span><span class="op" id="7814510">:</span>&nbsp;<span class="ident" id="7814512">badmask</span><span class="op" id="7814519">}</span><span class="op" id="7814520">}</span><span class="op" id="7814521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814524">{</span><span class="ident" id="7814525">in</span><span class="op" id="7814527">:</span>&nbsp;<span class="ident" id="7814529">IPNet</span><span class="op" id="7814534">{</span><span class="ident" id="7814535">IP</span><span class="op" id="7814537">:</span>&nbsp;<span class="ident" id="7814539">v4mappedv6addr</span><span class="op" id="7814553">,</span>&nbsp;<span class="ident" id="7814555">Mask</span><span class="op" id="7814559">:</span>&nbsp;<span class="ident" id="7814561">badmask</span><span class="op" id="7814568">}</span><span class="op" id="7814569">}</span><span class="op" id="7814570">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814573">{</span><span class="ident" id="7814574">in</span><span class="op" id="7814576">:</span>&nbsp;<span class="ident" id="7814578">IPNet</span><span class="op" id="7814583">{</span><span class="ident" id="7814584">IP</span><span class="op" id="7814586">:</span>&nbsp;<span class="ident" id="7814588">v6addr</span><span class="op" id="7814594">,</span>&nbsp;<span class="ident" id="7814596">Mask</span><span class="op" id="7814600">:</span>&nbsp;<span class="ident" id="7814602">badmask</span><span class="op" id="7814609">}</span><span class="op" id="7814610">}</span><span class="op" id="7814611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814614">{</span><span class="ident" id="7814615">in</span><span class="op" id="7814617">:</span>&nbsp;<span class="ident" id="7814619">IPNet</span><span class="op" id="7814624">{</span><span class="ident" id="7814625">IP</span><span class="op" id="7814627">:</span>&nbsp;<span class="ident" id="7814629">badaddr</span><span class="op" id="7814636">,</span>&nbsp;<span class="ident" id="7814638">Mask</span><span class="op" id="7814642">:</span>&nbsp;<span class="ident" id="7814644">v4mask</span><span class="op" id="7814650">}</span><span class="op" id="7814651">}</span><span class="op" id="7814652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814655">{</span><span class="ident" id="7814656">in</span><span class="op" id="7814658">:</span>&nbsp;<span class="ident" id="7814660">IPNet</span><span class="op" id="7814665">{</span><span class="ident" id="7814666">IP</span><span class="op" id="7814668">:</span>&nbsp;<span class="ident" id="7814670">badaddr</span><span class="op" id="7814677">,</span>&nbsp;<span class="ident" id="7814679">Mask</span><span class="op" id="7814683">:</span>&nbsp;<span class="ident" id="7814685">v4mappedv6mask</span><span class="op" id="7814699">}</span><span class="op" id="7814700">}</span><span class="op" id="7814701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814704">{</span><span class="ident" id="7814705">in</span><span class="op" id="7814707">:</span>&nbsp;<span class="ident" id="7814709">IPNet</span><span class="op" id="7814714">{</span><span class="ident" id="7814715">IP</span><span class="op" id="7814717">:</span>&nbsp;<span class="ident" id="7814719">badaddr</span><span class="op" id="7814726">,</span>&nbsp;<span class="ident" id="7814728">Mask</span><span class="op" id="7814732">:</span>&nbsp;<span class="ident" id="7814734">v6mask</span><span class="op" id="7814740">}</span><span class="op" id="7814741">}</span><span class="op" id="7814742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7814745">{</span><span class="ident" id="7814746">in</span><span class="op" id="7814748">:</span>&nbsp;<span class="ident" id="7814750">IPNet</span><span class="op" id="7814755">{</span><span class="ident" id="7814756">IP</span><span class="op" id="7814758">:</span>&nbsp;<span class="ident" id="7814760">badaddr</span><span class="op" id="7814767">,</span>&nbsp;<span class="ident" id="7814769">Mask</span><span class="op" id="7814773">:</span>&nbsp;<span class="ident" id="7814775">badmask</span><span class="op" id="7814782">}</span><span class="op" id="7814783">}</span><span class="op" id="7814784">,</span><br>
<span class="lineno">300</span><span class="op" id="7814786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7814789">func</span>&nbsp;<span class="ident" id="7814794">TestNetworkNumberAndMask</span><span class="op" id="7814818">(</span><span class="ident" id="7814819">t</span>&nbsp;<span class="op" id="7814821">*</span><span class="ident" id="7814822">testing</span><span class="op" id="7814829">.</span><span class="ident" id="7814830">T</span><span class="op" id="7814831">)</span>&nbsp;<span class="op" id="7814833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7814836">for</span>&nbsp;<span class="ident" id="7814840">_</span><span class="op" id="7814841">,</span>&nbsp;<span class="ident" id="7814843">tt</span>&nbsp;<span class="op" id="7814846">:=</span>&nbsp;<span class="keyword" id="7814849">range</span>&nbsp;<span class="ident" id="7814855">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="7814881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7814885">ip</span><span class="op" id="7814887">,</span>&nbsp;<span class="ident" id="7814889">m</span>&nbsp;<span class="op" id="7814891">:=</span>&nbsp;<span class="ident" id="7814894">networkNumberAndMask</span><span class="op" id="7814914">(</span><span class="op" id="7814915">&amp;</span><span class="ident" id="7814916">tt</span><span class="op" id="7814918">.</span><span class="ident" id="7814919">in</span><span class="op" id="7814921">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7814925">out</span>&nbsp;<span class="op" id="7814929">:=</span>&nbsp;<span class="op" id="7814932">&amp;</span><span class="ident" id="7814933">IPNet</span><span class="op" id="7814938">{</span><span class="ident" id="7814939">IP</span><span class="op" id="7814941">:</span>&nbsp;<span class="ident" id="7814943">ip</span><span class="op" id="7814945">,</span>&nbsp;<span class="ident" id="7814947">Mask</span><span class="op" id="7814951">:</span>&nbsp;<span class="ident" id="7814953">m</span><span class="op" id="7814954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7814958">if</span>&nbsp;<span class="op" id="7814961">!</span><span class="ident" id="7814962">reflect</span><span class="op" id="7814969">.</span><span class="ident" id="7814970">DeepEqual</span><span class="op" id="7814979">(</span><span class="op" id="7814980">&amp;</span><span class="ident" id="7814981">tt</span><span class="op" id="7814983">.</span><span class="ident" id="7814984">out</span><span class="op" id="7814987">,</span>&nbsp;<span class="ident" id="7814989">out</span><span class="op" id="7814992">)</span>&nbsp;<span class="op" id="7814994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7814999">t</span><span class="op" id="7815000">.</span><span class="ident" id="7815001">Errorf</span><span class="op" id="7815007">(</span><span class="string" id="7815008">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7815048">,</span>&nbsp;<span class="ident" id="7815050">tt</span><span class="op" id="7815052">.</span><span class="ident" id="7815053">in</span><span class="op" id="7815055">,</span>&nbsp;<span class="ident" id="7815057">out</span><span class="op" id="7815060">,</span>&nbsp;<span class="op" id="7815062">&amp;</span><span class="ident" id="7815063">tt</span><span class="op" id="7815065">.</span><span class="ident" id="7815066">out</span><span class="op" id="7815069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815076">}</span><br>
<span class="lineno">310</span><span class="op" id="7815078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7815081">var</span>&nbsp;<span class="ident" id="7815085">splitJoinTests</span>&nbsp;<span class="op" id="7815100">=</span>&nbsp;<span class="op" id="7815102">[</span><span class="op" id="7815103">]</span><span class="keyword" id="7815104">struct</span>&nbsp;<span class="op" id="7815111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7815114">host</span>&nbsp;<span class="builtintype" id="7815119">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7815127">port</span>&nbsp;<span class="builtintype" id="7815132">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7815140">join</span>&nbsp;<span class="builtintype" id="7815145">string</span><br>
<span class="lineno"></span><span class="op" id="7815152">}</span><span class="op" id="7815153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815156">{</span><span class="string" id="7815157">&#34;www.google.com&#34;</span><span class="op" id="7815173">,</span>&nbsp;<span class="string" id="7815175">&#34;80&#34;</span><span class="op" id="7815179">,</span>&nbsp;<span class="string" id="7815181">&#34;www.google.com:80&#34;</span><span class="op" id="7815200">}</span><span class="op" id="7815201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815204">{</span><span class="string" id="7815205">&#34;127.0.0.1&#34;</span><span class="op" id="7815216">,</span>&nbsp;<span class="string" id="7815218">&#34;1234&#34;</span><span class="op" id="7815224">,</span>&nbsp;<span class="string" id="7815226">&#34;127.0.0.1:1234&#34;</span><span class="op" id="7815242">}</span><span class="op" id="7815243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815246">{</span><span class="string" id="7815247">&#34;::1&#34;</span><span class="op" id="7815252">,</span>&nbsp;<span class="string" id="7815254">&#34;80&#34;</span><span class="op" id="7815258">,</span>&nbsp;<span class="string" id="7815260">&#34;[::1]:80&#34;</span><span class="op" id="7815270">}</span><span class="op" id="7815271">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815274">{</span><span class="string" id="7815275">&#34;fe80::1%lo0&#34;</span><span class="op" id="7815288">,</span>&nbsp;<span class="string" id="7815290">&#34;80&#34;</span><span class="op" id="7815294">,</span>&nbsp;<span class="string" id="7815296">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="7815314">}</span><span class="op" id="7815315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815318">{</span><span class="string" id="7815319">&#34;localhost%lo0&#34;</span><span class="op" id="7815334">,</span>&nbsp;<span class="string" id="7815336">&#34;80&#34;</span><span class="op" id="7815340">,</span>&nbsp;<span class="string" id="7815342">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="7815362">}</span><span class="op" id="7815363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815366">{</span><span class="string" id="7815367">&#34;&#34;</span><span class="op" id="7815369">,</span>&nbsp;<span class="string" id="7815371">&#34;0&#34;</span><span class="op" id="7815374">,</span>&nbsp;<span class="string" id="7815376">&#34;:0&#34;</span><span class="op" id="7815380">}</span><span class="op" id="7815381">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815385">{</span><span class="string" id="7815386">&#34;google.com&#34;</span><span class="op" id="7815398">,</span>&nbsp;<span class="string" id="7815400">&#34;https%foo&#34;</span><span class="op" id="7815411">,</span>&nbsp;<span class="string" id="7815413">&#34;google.com:https%foo&#34;</span><span class="op" id="7815435">}</span><span class="op" id="7815436">,</span>&nbsp;<span class="comment" id="7815438">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815458">{</span><span class="string" id="7815459">&#34;127.0.0.1&#34;</span><span class="op" id="7815470">,</span>&nbsp;<span class="string" id="7815472">&#34;&#34;</span><span class="op" id="7815474">,</span>&nbsp;<span class="string" id="7815476">&#34;127.0.0.1:&#34;</span><span class="op" id="7815488">}</span><span class="op" id="7815489">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7815511">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815532">{</span><span class="string" id="7815533">&#34;www.google.com&#34;</span><span class="op" id="7815549">,</span>&nbsp;<span class="string" id="7815551">&#34;&#34;</span><span class="op" id="7815553">,</span>&nbsp;<span class="string" id="7815555">&#34;www.google.com:&#34;</span><span class="op" id="7815572">}</span><span class="op" id="7815573">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7815585">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="7815605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7815608">var</span>&nbsp;<span class="ident" id="7815612">splitFailureTests</span>&nbsp;<span class="op" id="7815630">=</span>&nbsp;<span class="op" id="7815632">[</span><span class="op" id="7815633">]</span><span class="keyword" id="7815634">struct</span>&nbsp;<span class="op" id="7815641">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7815644">hostPort</span>&nbsp;<span class="builtintype" id="7815653">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7815661">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7815670">string</span><br>
<span class="lineno"></span><span class="op" id="7815677">}</span><span class="op" id="7815678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815681">{</span><span class="string" id="7815682">&#34;www.google.com&#34;</span><span class="op" id="7815698">,</span>&nbsp;<span class="string" id="7815700">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7815725">}</span><span class="op" id="7815726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815729">{</span><span class="string" id="7815730">&#34;127.0.0.1&#34;</span><span class="op" id="7815741">,</span>&nbsp;<span class="string" id="7815743">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7815768">}</span><span class="op" id="7815769">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815772">{</span><span class="string" id="7815773">&#34;[::1]&#34;</span><span class="op" id="7815780">,</span>&nbsp;<span class="string" id="7815782">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7815807">}</span><span class="op" id="7815808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815811">{</span><span class="string" id="7815812">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="7815827">,</span>&nbsp;<span class="string" id="7815829">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7815854">}</span><span class="op" id="7815855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815858">{</span><span class="string" id="7815859">&#34;[localhost%lo0]&#34;</span><span class="op" id="7815876">,</span>&nbsp;<span class="string" id="7815878">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7815903">}</span><span class="op" id="7815904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815907">{</span><span class="string" id="7815908">&#34;localhost%lo0&#34;</span><span class="op" id="7815923">,</span>&nbsp;<span class="string" id="7815925">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7815950">}</span><span class="op" id="7815951">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815955">{</span><span class="string" id="7815956">&#34;::1&#34;</span><span class="op" id="7815961">,</span>&nbsp;<span class="string" id="7815963">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7815991">}</span><span class="op" id="7815992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7815995">{</span><span class="string" id="7815996">&#34;fe80::1%lo0&#34;</span><span class="op" id="7816009">,</span>&nbsp;<span class="string" id="7816011">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816039">}</span><span class="op" id="7816040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816043">{</span><span class="string" id="7816044">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="7816060">,</span>&nbsp;<span class="string" id="7816062">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816090">}</span><span class="op" id="7816091">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816095">{</span><span class="string" id="7816096">&#34;localhost%lo0:80&#34;</span><span class="op" id="7816114">,</span>&nbsp;<span class="string" id="7816116">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816145">}</span><span class="op" id="7816146">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7816150">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816193">{</span><span class="string" id="7816194">&#34;[foo:bar]&#34;</span><span class="op" id="7816205">,</span>&nbsp;<span class="string" id="7816207">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816232">}</span><span class="op" id="7816233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816236">{</span><span class="string" id="7816237">&#34;[foo:bar]baz&#34;</span><span class="op" id="7816251">,</span>&nbsp;<span class="string" id="7816253">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816278">}</span><span class="op" id="7816279">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816282">{</span><span class="string" id="7816283">&#34;[foo]bar:baz&#34;</span><span class="op" id="7816297">,</span>&nbsp;<span class="string" id="7816299">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816324">}</span><span class="op" id="7816325">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816329">{</span><span class="string" id="7816330">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="7816347">,</span>&nbsp;<span class="string" id="7816349">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816377">}</span><span class="op" id="7816378">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816382">{</span><span class="string" id="7816383">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="7816399">,</span>&nbsp;<span class="string" id="7816401">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816428">}</span><span class="op" id="7816429">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816432">{</span><span class="string" id="7816433">&#34;foo[bar]:baz&#34;</span><span class="op" id="7816447">,</span>&nbsp;<span class="string" id="7816449">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816476">}</span><span class="op" id="7816477">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816481">{</span><span class="string" id="7816482">&#34;foo]bar:baz&#34;</span><span class="op" id="7816495">,</span>&nbsp;<span class="string" id="7816497">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="7816524">}</span><span class="op" id="7816525">,</span><br>
<span class="lineno"></span><span class="op" id="7816527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="7816530">func</span>&nbsp;<span class="ident" id="7816535">TestSplitHostPort</span><span class="op" id="7816552">(</span><span class="ident" id="7816553">t</span>&nbsp;<span class="op" id="7816555">*</span><span class="ident" id="7816556">testing</span><span class="op" id="7816563">.</span><span class="ident" id="7816564">T</span><span class="op" id="7816565">)</span>&nbsp;<span class="op" id="7816567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7816570">for</span>&nbsp;<span class="ident" id="7816574">_</span><span class="op" id="7816575">,</span>&nbsp;<span class="ident" id="7816577">tt</span>&nbsp;<span class="op" id="7816580">:=</span>&nbsp;<span class="keyword" id="7816583">range</span>&nbsp;<span class="ident" id="7816589">splitJoinTests</span>&nbsp;<span class="op" id="7816604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7816608">if</span>&nbsp;<span class="ident" id="7816611">host</span><span class="op" id="7816615">,</span>&nbsp;<span class="ident" id="7816617">port</span><span class="op" id="7816621">,</span>&nbsp;<span class="ident" id="7816623">err</span>&nbsp;<span class="op" id="7816627">:=</span>&nbsp;<span class="ident" id="7816630">SplitHostPort</span><span class="op" id="7816643">(</span><span class="ident" id="7816644">tt</span><span class="op" id="7816646">.</span><span class="ident" id="7816647">join</span><span class="op" id="7816651">)</span><span class="op" id="7816652">;</span>&nbsp;<span class="ident" id="7816654">host</span>&nbsp;<span class="op" id="7816659">!=</span>&nbsp;<span class="ident" id="7816662">tt</span><span class="op" id="7816664">.</span><span class="ident" id="7816665">host</span>&nbsp;<span class="op" id="7816670">||</span>&nbsp;<span class="ident" id="7816673">port</span>&nbsp;<span class="op" id="7816678">!=</span>&nbsp;<span class="ident" id="7816681">tt</span><span class="op" id="7816683">.</span><span class="ident" id="7816684">port</span>&nbsp;<span class="op" id="7816689">||</span>&nbsp;<span class="ident" id="7816692">err</span>&nbsp;<span class="op" id="7816696">!=</span>&nbsp;<span class="ident" id="7816699">nil</span>&nbsp;<span class="op" id="7816703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7816708">t</span><span class="op" id="7816709">.</span><span class="ident" id="7816710">Errorf</span><span class="op" id="7816716">(</span><span class="string" id="7816717">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="7816767">,</span>&nbsp;<span class="ident" id="7816769">tt</span><span class="op" id="7816771">.</span><span class="ident" id="7816772">join</span><span class="op" id="7816776">,</span>&nbsp;<span class="ident" id="7816778">host</span><span class="op" id="7816782">,</span>&nbsp;<span class="ident" id="7816784">port</span><span class="op" id="7816788">,</span>&nbsp;<span class="ident" id="7816790">err</span><span class="op" id="7816793">,</span>&nbsp;<span class="ident" id="7816795">tt</span><span class="op" id="7816797">.</span><span class="ident" id="7816798">host</span><span class="op" id="7816802">,</span>&nbsp;<span class="ident" id="7816804">tt</span><span class="op" id="7816806">.</span><span class="ident" id="7816807">port</span><span class="op" id="7816811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816815">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7816821">for</span>&nbsp;<span class="ident" id="7816825">_</span><span class="op" id="7816826">,</span>&nbsp;<span class="ident" id="7816828">tt</span>&nbsp;<span class="op" id="7816831">:=</span>&nbsp;<span class="keyword" id="7816834">range</span>&nbsp;<span class="ident" id="7816840">splitFailureTests</span>&nbsp;<span class="op" id="7816858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7816862">if</span>&nbsp;<span class="ident" id="7816865">_</span><span class="op" id="7816866">,</span>&nbsp;<span class="ident" id="7816868">_</span><span class="op" id="7816869">,</span>&nbsp;<span class="ident" id="7816871">err</span>&nbsp;<span class="op" id="7816875">:=</span>&nbsp;<span class="ident" id="7816878">SplitHostPort</span><span class="op" id="7816891">(</span><span class="ident" id="7816892">tt</span><span class="op" id="7816894">.</span><span class="ident" id="7816895">hostPort</span><span class="op" id="7816903">)</span><span class="op" id="7816904">;</span>&nbsp;<span class="ident" id="7816906">err</span>&nbsp;<span class="op" id="7816910">==</span>&nbsp;<span class="ident" id="7816913">nil</span>&nbsp;<span class="op" id="7816917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7816922">t</span><span class="op" id="7816923">.</span><span class="ident" id="7816924">Errorf</span><span class="op" id="7816930">(</span><span class="string" id="7816931">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7816969">,</span>&nbsp;<span class="ident" id="7816971">tt</span><span class="op" id="7816973">.</span><span class="ident" id="7816974">hostPort</span><span class="op" id="7816982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7816986">}</span>&nbsp;<span class="keyword" id="7816988">else</span>&nbsp;<span class="op" id="7816993">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7816998">e</span>&nbsp;<span class="op" id="7817000">:=</span>&nbsp;<span class="ident" id="7817003">err</span><span class="op" id="7817006">.</span><span class="op" id="7817007">(</span><span class="op" id="7817008">*</span><span class="ident" id="7817009">AddrError</span><span class="op" id="7817018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7817023">if</span>&nbsp;<span class="ident" id="7817026">e</span><span class="op" id="7817027">.</span><span class="ident" id="7817028">Err</span>&nbsp;<span class="op" id="7817032">!=</span>&nbsp;<span class="ident" id="7817035">tt</span><span class="op" id="7817037">.</span><span class="ident" id="7817038">err</span>&nbsp;<span class="op" id="7817042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7817048">t</span><span class="op" id="7817049">.</span><span class="ident" id="7817050">Errorf</span><span class="op" id="7817056">(</span><span class="string" id="7817057">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7817096">,</span>&nbsp;<span class="ident" id="7817098">tt</span><span class="op" id="7817100">.</span><span class="ident" id="7817101">hostPort</span><span class="op" id="7817109">,</span>&nbsp;<span class="ident" id="7817111">e</span><span class="op" id="7817112">.</span><span class="ident" id="7817113">Err</span><span class="op" id="7817116">,</span>&nbsp;<span class="ident" id="7817118">tt</span><span class="op" id="7817120">.</span><span class="ident" id="7817121">err</span><span class="op" id="7817124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817133">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817136">}</span><br>
<span class="lineno"></span><span class="op" id="7817138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7817141">func</span>&nbsp;<span class="ident" id="7817146">TestJoinHostPort</span><span class="op" id="7817162">(</span><span class="ident" id="7817163">t</span>&nbsp;<span class="op" id="7817165">*</span><span class="ident" id="7817166">testing</span><span class="op" id="7817173">.</span><span class="ident" id="7817174">T</span><span class="op" id="7817175">)</span>&nbsp;<span class="op" id="7817177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7817180">for</span>&nbsp;<span class="ident" id="7817184">_</span><span class="op" id="7817185">,</span>&nbsp;<span class="ident" id="7817187">tt</span>&nbsp;<span class="op" id="7817190">:=</span>&nbsp;<span class="keyword" id="7817193">range</span>&nbsp;<span class="ident" id="7817199">splitJoinTests</span>&nbsp;<span class="op" id="7817214">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7817218">if</span>&nbsp;<span class="ident" id="7817221">join</span>&nbsp;<span class="op" id="7817226">:=</span>&nbsp;<span class="ident" id="7817229">JoinHostPort</span><span class="op" id="7817241">(</span><span class="ident" id="7817242">tt</span><span class="op" id="7817244">.</span><span class="ident" id="7817245">host</span><span class="op" id="7817249">,</span>&nbsp;<span class="ident" id="7817251">tt</span><span class="op" id="7817253">.</span><span class="ident" id="7817254">port</span><span class="op" id="7817258">)</span><span class="op" id="7817259">;</span>&nbsp;<span class="ident" id="7817261">join</span>&nbsp;<span class="op" id="7817266">!=</span>&nbsp;<span class="ident" id="7817269">tt</span><span class="op" id="7817271">.</span><span class="ident" id="7817272">join</span>&nbsp;<span class="op" id="7817277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7817282">t</span><span class="op" id="7817283">.</span><span class="ident" id="7817284">Errorf</span><span class="op" id="7817290">(</span><span class="string" id="7817291">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7817327">,</span>&nbsp;<span class="ident" id="7817329">tt</span><span class="op" id="7817331">.</span><span class="ident" id="7817332">host</span><span class="op" id="7817336">,</span>&nbsp;<span class="ident" id="7817338">tt</span><span class="op" id="7817340">.</span><span class="ident" id="7817341">port</span><span class="op" id="7817345">,</span>&nbsp;<span class="ident" id="7817347">join</span><span class="op" id="7817351">,</span>&nbsp;<span class="ident" id="7817353">tt</span><span class="op" id="7817355">.</span><span class="ident" id="7817356">join</span><span class="op" id="7817360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817367">}</span><br>
<span class="lineno"></span><span class="op" id="7817369">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7817372">var</span>&nbsp;<span class="ident" id="7817376">ipAddrFamilyTests</span>&nbsp;<span class="op" id="7817394">=</span>&nbsp;<span class="op" id="7817396">[</span><span class="op" id="7817397">]</span><span class="keyword" id="7817398">struct</span>&nbsp;<span class="op" id="7817405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7817408">in</span>&nbsp;&nbsp;<span class="ident" id="7817412">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7817416">af4</span>&nbsp;<span class="builtintype" id="7817420">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7817426">af6</span>&nbsp;<span class="builtintype" id="7817430">bool</span><br>
<span class="lineno">390</span><span class="op" id="7817435">}</span><span class="op" id="7817436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817439">{</span><span class="ident" id="7817440">IPv4bcast</span><span class="op" id="7817449">,</span>&nbsp;<span class="builtintype" id="7817451">true</span><span class="op" id="7817455">,</span>&nbsp;<span class="builtintype" id="7817457">false</span><span class="op" id="7817462">}</span><span class="op" id="7817463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817466">{</span><span class="ident" id="7817467">IPv4allsys</span><span class="op" id="7817477">,</span>&nbsp;<span class="builtintype" id="7817479">true</span><span class="op" id="7817483">,</span>&nbsp;<span class="builtintype" id="7817485">false</span><span class="op" id="7817490">}</span><span class="op" id="7817491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817494">{</span><span class="ident" id="7817495">IPv4allrouter</span><span class="op" id="7817508">,</span>&nbsp;<span class="builtintype" id="7817510">true</span><span class="op" id="7817514">,</span>&nbsp;<span class="builtintype" id="7817516">false</span><span class="op" id="7817521">}</span><span class="op" id="7817522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817525">{</span><span class="ident" id="7817526">IPv4zero</span><span class="op" id="7817534">,</span>&nbsp;<span class="builtintype" id="7817536">true</span><span class="op" id="7817540">,</span>&nbsp;<span class="builtintype" id="7817542">false</span><span class="op" id="7817547">}</span><span class="op" id="7817548">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817551">{</span><span class="ident" id="7817552">IPv4</span><span class="op" id="7817556">(</span><span class="num" id="7817557">224</span><span class="op" id="7817560">,</span>&nbsp;<span class="num" id="7817562">0</span><span class="op" id="7817563">,</span>&nbsp;<span class="num" id="7817565">0</span><span class="op" id="7817566">,</span>&nbsp;<span class="num" id="7817568">1</span><span class="op" id="7817569">)</span><span class="op" id="7817570">,</span>&nbsp;<span class="builtintype" id="7817572">true</span><span class="op" id="7817576">,</span>&nbsp;<span class="builtintype" id="7817578">false</span><span class="op" id="7817583">}</span><span class="op" id="7817584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817587">{</span><span class="ident" id="7817588">IPv4</span><span class="op" id="7817592">(</span><span class="num" id="7817593">127</span><span class="op" id="7817596">,</span>&nbsp;<span class="num" id="7817598">0</span><span class="op" id="7817599">,</span>&nbsp;<span class="num" id="7817601">0</span><span class="op" id="7817602">,</span>&nbsp;<span class="num" id="7817604">1</span><span class="op" id="7817605">)</span><span class="op" id="7817606">,</span>&nbsp;<span class="builtintype" id="7817608">true</span><span class="op" id="7817612">,</span>&nbsp;<span class="builtintype" id="7817614">false</span><span class="op" id="7817619">}</span><span class="op" id="7817620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817623">{</span><span class="ident" id="7817624">IPv4</span><span class="op" id="7817628">(</span><span class="num" id="7817629">240</span><span class="op" id="7817632">,</span>&nbsp;<span class="num" id="7817634">0</span><span class="op" id="7817635">,</span>&nbsp;<span class="num" id="7817637">0</span><span class="op" id="7817638">,</span>&nbsp;<span class="num" id="7817640">1</span><span class="op" id="7817641">)</span><span class="op" id="7817642">,</span>&nbsp;<span class="builtintype" id="7817644">true</span><span class="op" id="7817648">,</span>&nbsp;<span class="builtintype" id="7817650">false</span><span class="op" id="7817655">}</span><span class="op" id="7817656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817659">{</span><span class="ident" id="7817660">IPv6unspecified</span><span class="op" id="7817675">,</span>&nbsp;<span class="builtintype" id="7817677">false</span><span class="op" id="7817682">,</span>&nbsp;<span class="builtintype" id="7817684">true</span><span class="op" id="7817688">}</span><span class="op" id="7817689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817692">{</span><span class="ident" id="7817693">IPv6loopback</span><span class="op" id="7817705">,</span>&nbsp;<span class="builtintype" id="7817707">false</span><span class="op" id="7817712">,</span>&nbsp;<span class="builtintype" id="7817714">true</span><span class="op" id="7817718">}</span><span class="op" id="7817719">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817722">{</span><span class="ident" id="7817723">IPv6interfacelocalallnodes</span><span class="op" id="7817749">,</span>&nbsp;<span class="builtintype" id="7817751">false</span><span class="op" id="7817756">,</span>&nbsp;<span class="builtintype" id="7817758">true</span><span class="op" id="7817762">}</span><span class="op" id="7817763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817766">{</span><span class="ident" id="7817767">IPv6linklocalallnodes</span><span class="op" id="7817788">,</span>&nbsp;<span class="builtintype" id="7817790">false</span><span class="op" id="7817795">,</span>&nbsp;<span class="builtintype" id="7817797">true</span><span class="op" id="7817801">}</span><span class="op" id="7817802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817805">{</span><span class="ident" id="7817806">IPv6linklocalallrouters</span><span class="op" id="7817829">,</span>&nbsp;<span class="builtintype" id="7817831">false</span><span class="op" id="7817836">,</span>&nbsp;<span class="builtintype" id="7817838">true</span><span class="op" id="7817842">}</span><span class="op" id="7817843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817846">{</span><span class="ident" id="7817847">ParseIP</span><span class="op" id="7817854">(</span><span class="string" id="7817855">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="7817870">)</span><span class="op" id="7817871">,</span>&nbsp;<span class="builtintype" id="7817873">false</span><span class="op" id="7817878">,</span>&nbsp;<span class="builtintype" id="7817880">true</span><span class="op" id="7817884">}</span><span class="op" id="7817885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817888">{</span><span class="ident" id="7817889">ParseIP</span><span class="op" id="7817896">(</span><span class="string" id="7817897">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="7817912">)</span><span class="op" id="7817913">,</span>&nbsp;<span class="builtintype" id="7817915">false</span><span class="op" id="7817920">,</span>&nbsp;<span class="builtintype" id="7817922">true</span><span class="op" id="7817926">}</span><span class="op" id="7817927">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7817930">{</span><span class="ident" id="7817931">ParseIP</span><span class="op" id="7817938">(</span><span class="string" id="7817939">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="7817959">)</span><span class="op" id="7817960">,</span>&nbsp;<span class="builtintype" id="7817962">false</span><span class="op" id="7817967">,</span>&nbsp;<span class="builtintype" id="7817969">true</span><span class="op" id="7817973">}</span><span class="op" id="7817974">,</span><br>
<span class="lineno"></span><span class="op" id="7817976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7817979">func</span>&nbsp;<span class="ident" id="7817984">TestIPAddrFamily</span><span class="op" id="7818000">(</span><span class="ident" id="7818001">t</span>&nbsp;<span class="op" id="7818003">*</span><span class="ident" id="7818004">testing</span><span class="op" id="7818011">.</span><span class="ident" id="7818012">T</span><span class="op" id="7818013">)</span>&nbsp;<span class="op" id="7818015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7818018">for</span>&nbsp;<span class="ident" id="7818022">_</span><span class="op" id="7818023">,</span>&nbsp;<span class="ident" id="7818025">tt</span>&nbsp;<span class="op" id="7818028">:=</span>&nbsp;<span class="keyword" id="7818031">range</span>&nbsp;<span class="ident" id="7818037">ipAddrFamilyTests</span>&nbsp;<span class="op" id="7818055">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7818059">if</span>&nbsp;<span class="ident" id="7818062">af</span>&nbsp;<span class="op" id="7818065">:=</span>&nbsp;<span class="ident" id="7818068">tt</span><span class="op" id="7818070">.</span><span class="ident" id="7818071">in</span><span class="op" id="7818073">.</span><span class="ident" id="7818074">To4</span><span class="op" id="7818077">(</span><span class="op" id="7818078">)</span>&nbsp;<span class="op" id="7818080">!=</span>&nbsp;<span class="ident" id="7818083">nil</span><span class="op" id="7818086">;</span>&nbsp;<span class="ident" id="7818088">af</span>&nbsp;<span class="op" id="7818091">!=</span>&nbsp;<span class="ident" id="7818094">tt</span><span class="op" id="7818096">.</span><span class="ident" id="7818097">af4</span>&nbsp;<span class="op" id="7818101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7818106">t</span><span class="op" id="7818107">.</span><span class="ident" id="7818108">Errorf</span><span class="op" id="7818114">(</span><span class="string" id="7818115">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7818167">,</span>&nbsp;<span class="ident" id="7818169">tt</span><span class="op" id="7818171">.</span><span class="ident" id="7818172">in</span><span class="op" id="7818174">,</span>&nbsp;<span class="ident" id="7818176">af</span><span class="op" id="7818178">,</span>&nbsp;<span class="ident" id="7818180">tt</span><span class="op" id="7818182">.</span><span class="ident" id="7818183">af4</span><span class="op" id="7818186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7818194">if</span>&nbsp;<span class="ident" id="7818197">af</span>&nbsp;<span class="op" id="7818200">:=</span>&nbsp;<span class="builtinfunc" id="7818203">len</span><span class="op" id="7818206">(</span><span class="ident" id="7818207">tt</span><span class="op" id="7818209">.</span><span class="ident" id="7818210">in</span><span class="op" id="7818212">)</span>&nbsp;<span class="op" id="7818214">==</span>&nbsp;<span class="ident" id="7818217">IPv6len</span>&nbsp;<span class="op" id="7818225">&amp;&amp;</span>&nbsp;<span class="ident" id="7818228">tt</span><span class="op" id="7818230">.</span><span class="ident" id="7818231">in</span><span class="op" id="7818233">.</span><span class="ident" id="7818234">To4</span><span class="op" id="7818237">(</span><span class="op" id="7818238">)</span>&nbsp;<span class="op" id="7818240">==</span>&nbsp;<span class="ident" id="7818243">nil</span><span class="op" id="7818246">;</span>&nbsp;<span class="ident" id="7818248">af</span>&nbsp;<span class="op" id="7818251">!=</span>&nbsp;<span class="ident" id="7818254">tt</span><span class="op" id="7818256">.</span><span class="ident" id="7818257">af6</span>&nbsp;<span class="op" id="7818261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7818266">t</span><span class="op" id="7818267">.</span><span class="ident" id="7818268">Errorf</span><span class="op" id="7818274">(</span><span class="string" id="7818275">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7818327">,</span>&nbsp;<span class="ident" id="7818329">tt</span><span class="op" id="7818331">.</span><span class="ident" id="7818332">in</span><span class="op" id="7818334">,</span>&nbsp;<span class="ident" id="7818336">af</span><span class="op" id="7818338">,</span>&nbsp;<span class="ident" id="7818340">tt</span><span class="op" id="7818342">.</span><span class="ident" id="7818343">af6</span><span class="op" id="7818346">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818353">}</span><br>
<span class="lineno"></span><span class="op" id="7818355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7818358">var</span>&nbsp;<span class="ident" id="7818362">ipAddrScopeTests</span>&nbsp;<span class="op" id="7818379">=</span>&nbsp;<span class="op" id="7818381">[</span><span class="op" id="7818382">]</span><span class="keyword" id="7818383">struct</span>&nbsp;<span class="op" id="7818390">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7818393">scope</span>&nbsp;<span class="keyword" id="7818399">func</span><span class="op" id="7818403">(</span><span class="ident" id="7818404">IP</span><span class="op" id="7818406">)</span>&nbsp;<span class="builtintype" id="7818408">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7818414">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7818420">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7818424">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7818430">bool</span><br>
<span class="lineno"></span><span class="op" id="7818435">}</span><span class="op" id="7818436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818439">{</span><span class="ident" id="7818440">IP</span><span class="op" id="7818442">.</span><span class="ident" id="7818443">IsUnspecified</span><span class="op" id="7818456">,</span>&nbsp;<span class="ident" id="7818458">IPv4zero</span><span class="op" id="7818466">,</span>&nbsp;<span class="builtintype" id="7818468">true</span><span class="op" id="7818472">}</span><span class="op" id="7818473">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818476">{</span><span class="ident" id="7818477">IP</span><span class="op" id="7818479">.</span><span class="ident" id="7818480">IsUnspecified</span><span class="op" id="7818493">,</span>&nbsp;<span class="ident" id="7818495">IPv4</span><span class="op" id="7818499">(</span><span class="num" id="7818500">127</span><span class="op" id="7818503">,</span>&nbsp;<span class="num" id="7818505">0</span><span class="op" id="7818506">,</span>&nbsp;<span class="num" id="7818508">0</span><span class="op" id="7818509">,</span>&nbsp;<span class="num" id="7818511">1</span><span class="op" id="7818512">)</span><span class="op" id="7818513">,</span>&nbsp;<span class="builtintype" id="7818515">false</span><span class="op" id="7818520">}</span><span class="op" id="7818521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818524">{</span><span class="ident" id="7818525">IP</span><span class="op" id="7818527">.</span><span class="ident" id="7818528">IsUnspecified</span><span class="op" id="7818541">,</span>&nbsp;<span class="ident" id="7818543">IPv6unspecified</span><span class="op" id="7818558">,</span>&nbsp;<span class="builtintype" id="7818560">true</span><span class="op" id="7818564">}</span><span class="op" id="7818565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818568">{</span><span class="ident" id="7818569">IP</span><span class="op" id="7818571">.</span><span class="ident" id="7818572">IsUnspecified</span><span class="op" id="7818585">,</span>&nbsp;<span class="ident" id="7818587">IPv6interfacelocalallnodes</span><span class="op" id="7818613">,</span>&nbsp;<span class="builtintype" id="7818615">false</span><span class="op" id="7818620">}</span><span class="op" id="7818621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818624">{</span><span class="ident" id="7818625">IP</span><span class="op" id="7818627">.</span><span class="ident" id="7818628">IsLoopback</span><span class="op" id="7818638">,</span>&nbsp;<span class="ident" id="7818640">IPv4</span><span class="op" id="7818644">(</span><span class="num" id="7818645">127</span><span class="op" id="7818648">,</span>&nbsp;<span class="num" id="7818650">0</span><span class="op" id="7818651">,</span>&nbsp;<span class="num" id="7818653">0</span><span class="op" id="7818654">,</span>&nbsp;<span class="num" id="7818656">1</span><span class="op" id="7818657">)</span><span class="op" id="7818658">,</span>&nbsp;<span class="builtintype" id="7818660">true</span><span class="op" id="7818664">}</span><span class="op" id="7818665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818668">{</span><span class="ident" id="7818669">IP</span><span class="op" id="7818671">.</span><span class="ident" id="7818672">IsLoopback</span><span class="op" id="7818682">,</span>&nbsp;<span class="ident" id="7818684">IPv4</span><span class="op" id="7818688">(</span><span class="num" id="7818689">127</span><span class="op" id="7818692">,</span>&nbsp;<span class="num" id="7818694">255</span><span class="op" id="7818697">,</span>&nbsp;<span class="num" id="7818699">255</span><span class="op" id="7818702">,</span>&nbsp;<span class="num" id="7818704">254</span><span class="op" id="7818707">)</span><span class="op" id="7818708">,</span>&nbsp;<span class="builtintype" id="7818710">true</span><span class="op" id="7818714">}</span><span class="op" id="7818715">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818718">{</span><span class="ident" id="7818719">IP</span><span class="op" id="7818721">.</span><span class="ident" id="7818722">IsLoopback</span><span class="op" id="7818732">,</span>&nbsp;<span class="ident" id="7818734">IPv4</span><span class="op" id="7818738">(</span><span class="num" id="7818739">128</span><span class="op" id="7818742">,</span>&nbsp;<span class="num" id="7818744">1</span><span class="op" id="7818745">,</span>&nbsp;<span class="num" id="7818747">2</span><span class="op" id="7818748">,</span>&nbsp;<span class="num" id="7818750">3</span><span class="op" id="7818751">)</span><span class="op" id="7818752">,</span>&nbsp;<span class="builtintype" id="7818754">false</span><span class="op" id="7818759">}</span><span class="op" id="7818760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818763">{</span><span class="ident" id="7818764">IP</span><span class="op" id="7818766">.</span><span class="ident" id="7818767">IsLoopback</span><span class="op" id="7818777">,</span>&nbsp;<span class="ident" id="7818779">IPv6loopback</span><span class="op" id="7818791">,</span>&nbsp;<span class="builtintype" id="7818793">true</span><span class="op" id="7818797">}</span><span class="op" id="7818798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818801">{</span><span class="ident" id="7818802">IP</span><span class="op" id="7818804">.</span><span class="ident" id="7818805">IsLoopback</span><span class="op" id="7818815">,</span>&nbsp;<span class="ident" id="7818817">IPv6linklocalallrouters</span><span class="op" id="7818840">,</span>&nbsp;<span class="builtintype" id="7818842">false</span><span class="op" id="7818847">}</span><span class="op" id="7818848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818851">{</span><span class="ident" id="7818852">IP</span><span class="op" id="7818854">.</span><span class="ident" id="7818855">IsMulticast</span><span class="op" id="7818866">,</span>&nbsp;<span class="ident" id="7818868">IPv4</span><span class="op" id="7818872">(</span><span class="num" id="7818873">224</span><span class="op" id="7818876">,</span>&nbsp;<span class="num" id="7818878">0</span><span class="op" id="7818879">,</span>&nbsp;<span class="num" id="7818881">0</span><span class="op" id="7818882">,</span>&nbsp;<span class="num" id="7818884">0</span><span class="op" id="7818885">)</span><span class="op" id="7818886">,</span>&nbsp;<span class="builtintype" id="7818888">true</span><span class="op" id="7818892">}</span><span class="op" id="7818893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818896">{</span><span class="ident" id="7818897">IP</span><span class="op" id="7818899">.</span><span class="ident" id="7818900">IsMulticast</span><span class="op" id="7818911">,</span>&nbsp;<span class="ident" id="7818913">IPv4</span><span class="op" id="7818917">(</span><span class="num" id="7818918">239</span><span class="op" id="7818921">,</span>&nbsp;<span class="num" id="7818923">0</span><span class="op" id="7818924">,</span>&nbsp;<span class="num" id="7818926">0</span><span class="op" id="7818927">,</span>&nbsp;<span class="num" id="7818929">0</span><span class="op" id="7818930">)</span><span class="op" id="7818931">,</span>&nbsp;<span class="builtintype" id="7818933">true</span><span class="op" id="7818937">}</span><span class="op" id="7818938">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818941">{</span><span class="ident" id="7818942">IP</span><span class="op" id="7818944">.</span><span class="ident" id="7818945">IsMulticast</span><span class="op" id="7818956">,</span>&nbsp;<span class="ident" id="7818958">IPv4</span><span class="op" id="7818962">(</span><span class="num" id="7818963">240</span><span class="op" id="7818966">,</span>&nbsp;<span class="num" id="7818968">0</span><span class="op" id="7818969">,</span>&nbsp;<span class="num" id="7818971">0</span><span class="op" id="7818972">,</span>&nbsp;<span class="num" id="7818974">0</span><span class="op" id="7818975">)</span><span class="op" id="7818976">,</span>&nbsp;<span class="builtintype" id="7818978">false</span><span class="op" id="7818983">}</span><span class="op" id="7818984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7818987">{</span><span class="ident" id="7818988">IP</span><span class="op" id="7818990">.</span><span class="ident" id="7818991">IsMulticast</span><span class="op" id="7819002">,</span>&nbsp;<span class="ident" id="7819004">IPv6linklocalallnodes</span><span class="op" id="7819025">,</span>&nbsp;<span class="builtintype" id="7819027">true</span><span class="op" id="7819031">}</span><span class="op" id="7819032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819035">{</span><span class="ident" id="7819036">IP</span><span class="op" id="7819038">.</span><span class="ident" id="7819039">IsMulticast</span><span class="op" id="7819050">,</span>&nbsp;<span class="ident" id="7819052">IP</span><span class="op" id="7819054">{</span><span class="num" id="7819055">0xff</span><span class="op" id="7819059">,</span>&nbsp;<span class="num" id="7819061">0x05</span><span class="op" id="7819065">,</span>&nbsp;<span class="num" id="7819067">0</span><span class="op" id="7819068">,</span>&nbsp;<span class="num" id="7819070">0</span><span class="op" id="7819071">,</span>&nbsp;<span class="num" id="7819073">0</span><span class="op" id="7819074">,</span>&nbsp;<span class="num" id="7819076">0</span><span class="op" id="7819077">,</span>&nbsp;<span class="num" id="7819079">0</span><span class="op" id="7819080">,</span>&nbsp;<span class="num" id="7819082">0</span><span class="op" id="7819083">,</span>&nbsp;<span class="num" id="7819085">0</span><span class="op" id="7819086">,</span>&nbsp;<span class="num" id="7819088">0</span><span class="op" id="7819089">,</span>&nbsp;<span class="num" id="7819091">0</span><span class="op" id="7819092">,</span>&nbsp;<span class="num" id="7819094">0</span><span class="op" id="7819095">,</span>&nbsp;<span class="num" id="7819097">0</span><span class="op" id="7819098">,</span>&nbsp;<span class="num" id="7819100">0</span><span class="op" id="7819101">,</span>&nbsp;<span class="num" id="7819103">0</span><span class="op" id="7819104">,</span>&nbsp;<span class="num" id="7819106">0</span><span class="op" id="7819107">}</span><span class="op" id="7819108">,</span>&nbsp;<span class="builtintype" id="7819110">true</span><span class="op" id="7819114">}</span><span class="op" id="7819115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819118">{</span><span class="ident" id="7819119">IP</span><span class="op" id="7819121">.</span><span class="ident" id="7819122">IsMulticast</span><span class="op" id="7819133">,</span>&nbsp;<span class="ident" id="7819135">IP</span><span class="op" id="7819137">{</span><span class="num" id="7819138">0xfe</span><span class="op" id="7819142">,</span>&nbsp;<span class="num" id="7819144">0x80</span><span class="op" id="7819148">,</span>&nbsp;<span class="num" id="7819150">0</span><span class="op" id="7819151">,</span>&nbsp;<span class="num" id="7819153">0</span><span class="op" id="7819154">,</span>&nbsp;<span class="num" id="7819156">0</span><span class="op" id="7819157">,</span>&nbsp;<span class="num" id="7819159">0</span><span class="op" id="7819160">,</span>&nbsp;<span class="num" id="7819162">0</span><span class="op" id="7819163">,</span>&nbsp;<span class="num" id="7819165">0</span><span class="op" id="7819166">,</span>&nbsp;<span class="num" id="7819168">0</span><span class="op" id="7819169">,</span>&nbsp;<span class="num" id="7819171">0</span><span class="op" id="7819172">,</span>&nbsp;<span class="num" id="7819174">0</span><span class="op" id="7819175">,</span>&nbsp;<span class="num" id="7819177">0</span><span class="op" id="7819178">,</span>&nbsp;<span class="num" id="7819180">0</span><span class="op" id="7819181">,</span>&nbsp;<span class="num" id="7819183">0</span><span class="op" id="7819184">,</span>&nbsp;<span class="num" id="7819186">0</span><span class="op" id="7819187">,</span>&nbsp;<span class="num" id="7819189">0</span><span class="op" id="7819190">}</span><span class="op" id="7819191">,</span>&nbsp;<span class="builtintype" id="7819193">false</span><span class="op" id="7819198">}</span><span class="op" id="7819199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819202">{</span><span class="ident" id="7819203">IP</span><span class="op" id="7819205">.</span><span class="ident" id="7819206">IsLinkLocalMulticast</span><span class="op" id="7819226">,</span>&nbsp;<span class="ident" id="7819228">IPv4</span><span class="op" id="7819232">(</span><span class="num" id="7819233">224</span><span class="op" id="7819236">,</span>&nbsp;<span class="num" id="7819238">0</span><span class="op" id="7819239">,</span>&nbsp;<span class="num" id="7819241">0</span><span class="op" id="7819242">,</span>&nbsp;<span class="num" id="7819244">0</span><span class="op" id="7819245">)</span><span class="op" id="7819246">,</span>&nbsp;<span class="builtintype" id="7819248">true</span><span class="op" id="7819252">}</span><span class="op" id="7819253">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819256">{</span><span class="ident" id="7819257">IP</span><span class="op" id="7819259">.</span><span class="ident" id="7819260">IsLinkLocalMulticast</span><span class="op" id="7819280">,</span>&nbsp;<span class="ident" id="7819282">IPv4</span><span class="op" id="7819286">(</span><span class="num" id="7819287">239</span><span class="op" id="7819290">,</span>&nbsp;<span class="num" id="7819292">0</span><span class="op" id="7819293">,</span>&nbsp;<span class="num" id="7819295">0</span><span class="op" id="7819296">,</span>&nbsp;<span class="num" id="7819298">0</span><span class="op" id="7819299">)</span><span class="op" id="7819300">,</span>&nbsp;<span class="builtintype" id="7819302">false</span><span class="op" id="7819307">}</span><span class="op" id="7819308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819311">{</span><span class="ident" id="7819312">IP</span><span class="op" id="7819314">.</span><span class="ident" id="7819315">IsLinkLocalMulticast</span><span class="op" id="7819335">,</span>&nbsp;<span class="ident" id="7819337">IPv6linklocalallrouters</span><span class="op" id="7819360">,</span>&nbsp;<span class="builtintype" id="7819362">true</span><span class="op" id="7819366">}</span><span class="op" id="7819367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819370">{</span><span class="ident" id="7819371">IP</span><span class="op" id="7819373">.</span><span class="ident" id="7819374">IsLinkLocalMulticast</span><span class="op" id="7819394">,</span>&nbsp;<span class="ident" id="7819396">IP</span><span class="op" id="7819398">{</span><span class="num" id="7819399">0xff</span><span class="op" id="7819403">,</span>&nbsp;<span class="num" id="7819405">0x05</span><span class="op" id="7819409">,</span>&nbsp;<span class="num" id="7819411">0</span><span class="op" id="7819412">,</span>&nbsp;<span class="num" id="7819414">0</span><span class="op" id="7819415">,</span>&nbsp;<span class="num" id="7819417">0</span><span class="op" id="7819418">,</span>&nbsp;<span class="num" id="7819420">0</span><span class="op" id="7819421">,</span>&nbsp;<span class="num" id="7819423">0</span><span class="op" id="7819424">,</span>&nbsp;<span class="num" id="7819426">0</span><span class="op" id="7819427">,</span>&nbsp;<span class="num" id="7819429">0</span><span class="op" id="7819430">,</span>&nbsp;<span class="num" id="7819432">0</span><span class="op" id="7819433">,</span>&nbsp;<span class="num" id="7819435">0</span><span class="op" id="7819436">,</span>&nbsp;<span class="num" id="7819438">0</span><span class="op" id="7819439">,</span>&nbsp;<span class="num" id="7819441">0</span><span class="op" id="7819442">,</span>&nbsp;<span class="num" id="7819444">0</span><span class="op" id="7819445">,</span>&nbsp;<span class="num" id="7819447">0</span><span class="op" id="7819448">,</span>&nbsp;<span class="num" id="7819450">0</span><span class="op" id="7819451">}</span><span class="op" id="7819452">,</span>&nbsp;<span class="builtintype" id="7819454">false</span><span class="op" id="7819459">}</span><span class="op" id="7819460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819463">{</span><span class="ident" id="7819464">IP</span><span class="op" id="7819466">.</span><span class="ident" id="7819467">IsLinkLocalUnicast</span><span class="op" id="7819485">,</span>&nbsp;<span class="ident" id="7819487">IPv4</span><span class="op" id="7819491">(</span><span class="num" id="7819492">169</span><span class="op" id="7819495">,</span>&nbsp;<span class="num" id="7819497">254</span><span class="op" id="7819500">,</span>&nbsp;<span class="num" id="7819502">0</span><span class="op" id="7819503">,</span>&nbsp;<span class="num" id="7819505">0</span><span class="op" id="7819506">)</span><span class="op" id="7819507">,</span>&nbsp;<span class="builtintype" id="7819509">true</span><span class="op" id="7819513">}</span><span class="op" id="7819514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819517">{</span><span class="ident" id="7819518">IP</span><span class="op" id="7819520">.</span><span class="ident" id="7819521">IsLinkLocalUnicast</span><span class="op" id="7819539">,</span>&nbsp;<span class="ident" id="7819541">IPv4</span><span class="op" id="7819545">(</span><span class="num" id="7819546">169</span><span class="op" id="7819549">,</span>&nbsp;<span class="num" id="7819551">255</span><span class="op" id="7819554">,</span>&nbsp;<span class="num" id="7819556">0</span><span class="op" id="7819557">,</span>&nbsp;<span class="num" id="7819559">0</span><span class="op" id="7819560">)</span><span class="op" id="7819561">,</span>&nbsp;<span class="builtintype" id="7819563">false</span><span class="op" id="7819568">}</span><span class="op" id="7819569">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819572">{</span><span class="ident" id="7819573">IP</span><span class="op" id="7819575">.</span><span class="ident" id="7819576">IsLinkLocalUnicast</span><span class="op" id="7819594">,</span>&nbsp;<span class="ident" id="7819596">IP</span><span class="op" id="7819598">{</span><span class="num" id="7819599">0xfe</span><span class="op" id="7819603">,</span>&nbsp;<span class="num" id="7819605">0x80</span><span class="op" id="7819609">,</span>&nbsp;<span class="num" id="7819611">0</span><span class="op" id="7819612">,</span>&nbsp;<span class="num" id="7819614">0</span><span class="op" id="7819615">,</span>&nbsp;<span class="num" id="7819617">0</span><span class="op" id="7819618">,</span>&nbsp;<span class="num" id="7819620">0</span><span class="op" id="7819621">,</span>&nbsp;<span class="num" id="7819623">0</span><span class="op" id="7819624">,</span>&nbsp;<span class="num" id="7819626">0</span><span class="op" id="7819627">,</span>&nbsp;<span class="num" id="7819629">0</span><span class="op" id="7819630">,</span>&nbsp;<span class="num" id="7819632">0</span><span class="op" id="7819633">,</span>&nbsp;<span class="num" id="7819635">0</span><span class="op" id="7819636">,</span>&nbsp;<span class="num" id="7819638">0</span><span class="op" id="7819639">,</span>&nbsp;<span class="num" id="7819641">0</span><span class="op" id="7819642">,</span>&nbsp;<span class="num" id="7819644">0</span><span class="op" id="7819645">,</span>&nbsp;<span class="num" id="7819647">0</span><span class="op" id="7819648">,</span>&nbsp;<span class="num" id="7819650">0</span><span class="op" id="7819651">}</span><span class="op" id="7819652">,</span>&nbsp;<span class="builtintype" id="7819654">true</span><span class="op" id="7819658">}</span><span class="op" id="7819659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819662">{</span><span class="ident" id="7819663">IP</span><span class="op" id="7819665">.</span><span class="ident" id="7819666">IsLinkLocalUnicast</span><span class="op" id="7819684">,</span>&nbsp;<span class="ident" id="7819686">IP</span><span class="op" id="7819688">{</span><span class="num" id="7819689">0xfe</span><span class="op" id="7819693">,</span>&nbsp;<span class="num" id="7819695">0xc0</span><span class="op" id="7819699">,</span>&nbsp;<span class="num" id="7819701">0</span><span class="op" id="7819702">,</span>&nbsp;<span class="num" id="7819704">0</span><span class="op" id="7819705">,</span>&nbsp;<span class="num" id="7819707">0</span><span class="op" id="7819708">,</span>&nbsp;<span class="num" id="7819710">0</span><span class="op" id="7819711">,</span>&nbsp;<span class="num" id="7819713">0</span><span class="op" id="7819714">,</span>&nbsp;<span class="num" id="7819716">0</span><span class="op" id="7819717">,</span>&nbsp;<span class="num" id="7819719">0</span><span class="op" id="7819720">,</span>&nbsp;<span class="num" id="7819722">0</span><span class="op" id="7819723">,</span>&nbsp;<span class="num" id="7819725">0</span><span class="op" id="7819726">,</span>&nbsp;<span class="num" id="7819728">0</span><span class="op" id="7819729">,</span>&nbsp;<span class="num" id="7819731">0</span><span class="op" id="7819732">,</span>&nbsp;<span class="num" id="7819734">0</span><span class="op" id="7819735">,</span>&nbsp;<span class="num" id="7819737">0</span><span class="op" id="7819738">,</span>&nbsp;<span class="num" id="7819740">0</span><span class="op" id="7819741">}</span><span class="op" id="7819742">,</span>&nbsp;<span class="builtintype" id="7819744">false</span><span class="op" id="7819749">}</span><span class="op" id="7819750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819753">{</span><span class="ident" id="7819754">IP</span><span class="op" id="7819756">.</span><span class="ident" id="7819757">IsGlobalUnicast</span><span class="op" id="7819772">,</span>&nbsp;<span class="ident" id="7819774">IPv4</span><span class="op" id="7819778">(</span><span class="num" id="7819779">240</span><span class="op" id="7819782">,</span>&nbsp;<span class="num" id="7819784">0</span><span class="op" id="7819785">,</span>&nbsp;<span class="num" id="7819787">0</span><span class="op" id="7819788">,</span>&nbsp;<span class="num" id="7819790">0</span><span class="op" id="7819791">)</span><span class="op" id="7819792">,</span>&nbsp;<span class="builtintype" id="7819794">true</span><span class="op" id="7819798">}</span><span class="op" id="7819799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819802">{</span><span class="ident" id="7819803">IP</span><span class="op" id="7819805">.</span><span class="ident" id="7819806">IsGlobalUnicast</span><span class="op" id="7819821">,</span>&nbsp;<span class="ident" id="7819823">IPv4</span><span class="op" id="7819827">(</span><span class="num" id="7819828">232</span><span class="op" id="7819831">,</span>&nbsp;<span class="num" id="7819833">0</span><span class="op" id="7819834">,</span>&nbsp;<span class="num" id="7819836">0</span><span class="op" id="7819837">,</span>&nbsp;<span class="num" id="7819839">0</span><span class="op" id="7819840">)</span><span class="op" id="7819841">,</span>&nbsp;<span class="builtintype" id="7819843">false</span><span class="op" id="7819848">}</span><span class="op" id="7819849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819852">{</span><span class="ident" id="7819853">IP</span><span class="op" id="7819855">.</span><span class="ident" id="7819856">IsGlobalUnicast</span><span class="op" id="7819871">,</span>&nbsp;<span class="ident" id="7819873">IPv4</span><span class="op" id="7819877">(</span><span class="num" id="7819878">169</span><span class="op" id="7819881">,</span>&nbsp;<span class="num" id="7819883">254</span><span class="op" id="7819886">,</span>&nbsp;<span class="num" id="7819888">0</span><span class="op" id="7819889">,</span>&nbsp;<span class="num" id="7819891">0</span><span class="op" id="7819892">)</span><span class="op" id="7819893">,</span>&nbsp;<span class="builtintype" id="7819895">false</span><span class="op" id="7819900">}</span><span class="op" id="7819901">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7819904">{</span><span class="ident" id="7819905">IP</span><span class="op" id="7819907">.</span><span class="ident" id="7819908">IsGlobalUnicast</span><span class="op" id="7819923">,</span>&nbsp;<span class="ident" id="7819925">IP</span><span class="op" id="7819927">{</span><span class="num" id="7819928">0x20</span><span class="op" id="7819932">,</span>&nbsp;<span class="num" id="7819934">0x1</span><span class="op" id="7819937">,</span>&nbsp;<span class="num" id="7819939">0xd</span><span class="op" id="7819942">,</span>&nbsp;<span class="num" id="7819944">0xb8</span><span class="op" id="7819948">,</span>&nbsp;<span class="num" id="7819950">0</span><span class="op" id="7819951">,</span>&nbsp;<span class="num" id="7819953">0</span><span class="op" id="7819954">,</span>&nbsp;<span class="num" id="7819956">0</span><span class="op" id="7819957">,</span>&nbsp;<span class="num" id="7819959">0</span><span class="op" id="7819960">,</span>&nbsp;<span class="num" id="7819962">0</span><span class="op" id="7819963">,</span>&nbsp;<span class="num" id="7819965">0</span><span class="op" id="7819966">,</span>&nbsp;<span class="num" id="7819968">0x1</span><span class="op" id="7819971">,</span>&nbsp;<span class="num" id="7819973">0x23</span><span class="op" id="7819977">,</span>&nbsp;<span class="num" id="7819979">0</span><span class="op" id="7819980">,</span>&nbsp;<span class="num" id="7819982">0x12</span><span class="op" id="7819986">,</span>&nbsp;<span class="num" id="7819988">0</span><span class="op" id="7819989">,</span>&nbsp;<span class="num" id="7819991">0x1</span><span class="op" id="7819994">}</span><span class="op" id="7819995">,</span>&nbsp;<span class="builtintype" id="7819997">true</span><span class="op" id="7820001">}</span><span class="op" id="7820002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7820005">{</span><span class="ident" id="7820006">IP</span><span class="op" id="7820008">.</span><span class="ident" id="7820009">IsGlobalUnicast</span><span class="op" id="7820024">,</span>&nbsp;<span class="ident" id="7820026">IP</span><span class="op" id="7820028">{</span><span class="num" id="7820029">0xfe</span><span class="op" id="7820033">,</span>&nbsp;<span class="num" id="7820035">0x80</span><span class="op" id="7820039">,</span>&nbsp;<span class="num" id="7820041">0</span><span class="op" id="7820042">,</span>&nbsp;<span class="num" id="7820044">0</span><span class="op" id="7820045">,</span>&nbsp;<span class="num" id="7820047">0</span><span class="op" id="7820048">,</span>&nbsp;<span class="num" id="7820050">0</span><span class="op" id="7820051">,</span>&nbsp;<span class="num" id="7820053">0</span><span class="op" id="7820054">,</span>&nbsp;<span class="num" id="7820056">0</span><span class="op" id="7820057">,</span>&nbsp;<span class="num" id="7820059">0</span><span class="op" id="7820060">,</span>&nbsp;<span class="num" id="7820062">0</span><span class="op" id="7820063">,</span>&nbsp;<span class="num" id="7820065">0</span><span class="op" id="7820066">,</span>&nbsp;<span class="num" id="7820068">0</span><span class="op" id="7820069">,</span>&nbsp;<span class="num" id="7820071">0</span><span class="op" id="7820072">,</span>&nbsp;<span class="num" id="7820074">0</span><span class="op" id="7820075">,</span>&nbsp;<span class="num" id="7820077">0</span><span class="op" id="7820078">,</span>&nbsp;<span class="num" id="7820080">0</span><span class="op" id="7820081">}</span><span class="op" id="7820082">,</span>&nbsp;<span class="builtintype" id="7820084">false</span><span class="op" id="7820089">}</span><span class="op" id="7820090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7820093">{</span><span class="ident" id="7820094">IP</span><span class="op" id="7820096">.</span><span class="ident" id="7820097">IsGlobalUnicast</span><span class="op" id="7820112">,</span>&nbsp;<span class="ident" id="7820114">IP</span><span class="op" id="7820116">{</span><span class="num" id="7820117">0xff</span><span class="op" id="7820121">,</span>&nbsp;<span class="num" id="7820123">0x05</span><span class="op" id="7820127">,</span>&nbsp;<span class="num" id="7820129">0</span><span class="op" id="7820130">,</span>&nbsp;<span class="num" id="7820132">0</span><span class="op" id="7820133">,</span>&nbsp;<span class="num" id="7820135">0</span><span class="op" id="7820136">,</span>&nbsp;<span class="num" id="7820138">0</span><span class="op" id="7820139">,</span>&nbsp;<span class="num" id="7820141">0</span><span class="op" id="7820142">,</span>&nbsp;<span class="num" id="7820144">0</span><span class="op" id="7820145">,</span>&nbsp;<span class="num" id="7820147">0</span><span class="op" id="7820148">,</span>&nbsp;<span class="num" id="7820150">0</span><span class="op" id="7820151">,</span>&nbsp;<span class="num" id="7820153">0</span><span class="op" id="7820154">,</span>&nbsp;<span class="num" id="7820156">0</span><span class="op" id="7820157">,</span>&nbsp;<span class="num" id="7820159">0</span><span class="op" id="7820160">,</span>&nbsp;<span class="num" id="7820162">0</span><span class="op" id="7820163">,</span>&nbsp;<span class="num" id="7820165">0</span><span class="op" id="7820166">,</span>&nbsp;<span class="num" id="7820168">0</span><span class="op" id="7820169">}</span><span class="op" id="7820170">,</span>&nbsp;<span class="builtintype" id="7820172">false</span><span class="op" id="7820177">}</span><span class="op" id="7820178">,</span><br>
<span class="lineno"></span><span class="op" id="7820180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="7820183">func</span>&nbsp;<span class="ident" id="7820188">name</span><span class="op" id="7820192">(</span><span class="ident" id="7820193">f</span>&nbsp;<span class="keyword" id="7820195">interface</span><span class="op" id="7820204">{</span><span class="op" id="7820205">}</span><span class="op" id="7820206">)</span>&nbsp;<span class="builtintype" id="7820208">string</span>&nbsp;<span class="op" id="7820215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7820218">return</span>&nbsp;<span class="ident" id="7820225">runtime</span><span class="op" id="7820232">.</span><span class="ident" id="7820233">FuncForPC</span><span class="op" id="7820242">(</span><span class="ident" id="7820243">reflect</span><span class="op" id="7820250">.</span><span class="ident" id="7820251">ValueOf</span><span class="op" id="7820258">(</span><span class="ident" id="7820259">f</span><span class="op" id="7820260">)</span><span class="op" id="7820261">.</span><span class="ident" id="7820262">Pointer</span><span class="op" id="7820269">(</span><span class="op" id="7820270">)</span><span class="op" id="7820271">)</span><span class="op" id="7820272">.</span><span class="ident" id="7820273">Name</span><span class="op" id="7820277">(</span><span class="op" id="7820278">)</span><br>
<span class="lineno"></span><span class="op" id="7820280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7820283">func</span>&nbsp;<span class="ident" id="7820288">TestIPAddrScope</span><span class="op" id="7820303">(</span><span class="ident" id="7820304">t</span>&nbsp;<span class="op" id="7820306">*</span><span class="ident" id="7820307">testing</span><span class="op" id="7820314">.</span><span class="ident" id="7820315">T</span><span class="op" id="7820316">)</span>&nbsp;<span class="op" id="7820318">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7820321">for</span>&nbsp;<span class="ident" id="7820325">_</span><span class="op" id="7820326">,</span>&nbsp;<span class="ident" id="7820328">tt</span>&nbsp;<span class="op" id="7820331">:=</span>&nbsp;<span class="keyword" id="7820334">range</span>&nbsp;<span class="ident" id="7820340">ipAddrScopeTests</span>&nbsp;<span class="op" id="7820357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7820361">if</span>&nbsp;<span class="ident" id="7820364">ok</span>&nbsp;<span class="op" id="7820367">:=</span>&nbsp;<span class="ident" id="7820370">tt</span><span class="op" id="7820372">.</span><span class="ident" id="7820373">scope</span><span class="op" id="7820378">(</span><span class="ident" id="7820379">tt</span><span class="op" id="7820381">.</span><span class="ident" id="7820382">in</span><span class="op" id="7820384">)</span><span class="op" id="7820385">;</span>&nbsp;<span class="ident" id="7820387">ok</span>&nbsp;<span class="op" id="7820390">!=</span>&nbsp;<span class="ident" id="7820393">tt</span><span class="op" id="7820395">.</span><span class="ident" id="7820396">ok</span>&nbsp;<span class="op" id="7820399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7820404">t</span><span class="op" id="7820405">.</span><span class="ident" id="7820406">Errorf</span><span class="op" id="7820412">(</span><span class="string" id="7820413">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7820435">,</span>&nbsp;<span class="ident" id="7820437">name</span><span class="op" id="7820441">(</span><span class="ident" id="7820442">tt</span><span class="op" id="7820444">.</span><span class="ident" id="7820445">scope</span><span class="op" id="7820450">)</span><span class="op" id="7820451">,</span>&nbsp;<span class="ident" id="7820453">tt</span><span class="op" id="7820455">.</span><span class="ident" id="7820456">in</span><span class="op" id="7820458">,</span>&nbsp;<span class="ident" id="7820460">ok</span><span class="op" id="7820462">,</span>&nbsp;<span class="ident" id="7820464">tt</span><span class="op" id="7820466">.</span><span class="ident" id="7820467">ok</span><span class="op" id="7820469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7820473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7820476">}</span><br>
<span class="lineno">465</span><span class="op" id="7820478">}</span>
</div>
</body>
</html>
