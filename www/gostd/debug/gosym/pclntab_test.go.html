<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html" class="current">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8290482">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8290538">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8290592">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8290643">package</span>&nbsp;<span class="ident" id="8290651">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8290658">import</span>&nbsp;<span class="op" id="8290665">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290668">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290681">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290688">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290701">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290707">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290718">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290735">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290746">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8290757">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8290767">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8290770">var</span>&nbsp;<span class="op" id="8290774">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290777">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8290794">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290802">pclinetestBinary</span>&nbsp;<span class="builtintype" id="8290819">string</span><br>
<span class="lineno"></span><span class="op" id="8290826">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8290829">func</span>&nbsp;<span class="ident" id="8290834">dotest</span><span class="op" id="8290840">(</span><span class="ident" id="8290841">self</span>&nbsp;<span class="builtintype" id="8290846">bool</span><span class="op" id="8290850">)</span>&nbsp;<span class="builtintype" id="8290852">bool</span>&nbsp;<span class="op" id="8290857">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8290860">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290904">if</span>&nbsp;<span class="ident" id="8290907">runtime</span><span class="op" id="8290914">.</span><span class="ident" id="8290915">GOARCH</span>&nbsp;<span class="op" id="8290922">!=</span>&nbsp;<span class="string" id="8290925">&#34;amd64&#34;</span>&nbsp;<span class="op" id="8290933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290937">return</span>&nbsp;<span class="builtintype" id="8290944">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8290954">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291008">if</span>&nbsp;<span class="ident" id="8291011">self</span>&nbsp;<span class="op" id="8291016">&amp;&amp;</span>&nbsp;<span class="ident" id="8291019">runtime</span><span class="op" id="8291026">.</span><span class="ident" id="8291027">GOOS</span>&nbsp;<span class="op" id="8291032">!=</span>&nbsp;<span class="string" id="8291035">&#34;linux&#34;</span>&nbsp;<span class="op" id="8291043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291047">return</span>&nbsp;<span class="builtintype" id="8291054">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8291064">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291105">if</span>&nbsp;<span class="ident" id="8291108">runtime</span><span class="op" id="8291115">.</span><span class="ident" id="8291116">GOOS</span>&nbsp;<span class="op" id="8291121">==</span>&nbsp;<span class="string" id="8291124">&#34;windows&#34;</span>&nbsp;<span class="op" id="8291134">||</span>&nbsp;<span class="ident" id="8291137">runtime</span><span class="op" id="8291144">.</span><span class="ident" id="8291145">GOOS</span>&nbsp;<span class="op" id="8291150">==</span>&nbsp;<span class="string" id="8291153">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8291161">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291165">return</span>&nbsp;<span class="builtintype" id="8291172">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291182">if</span>&nbsp;<span class="ident" id="8291185">pclinetestBinary</span>&nbsp;<span class="op" id="8291202">!=</span>&nbsp;<span class="string" id="8291205">&#34;&#34;</span>&nbsp;<span class="op" id="8291208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291212">return</span>&nbsp;<span class="builtintype" id="8291219">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291225">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291228">var</span>&nbsp;<span class="ident" id="8291232">err</span>&nbsp;<span class="builtintype" id="8291236">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291243">pclineTempDir</span><span class="op" id="8291256">,</span>&nbsp;<span class="ident" id="8291258">err</span>&nbsp;<span class="op" id="8291262">=</span>&nbsp;<span class="ident" id="8291264">ioutil</span><span class="op" id="8291270">.</span><span class="ident" id="8291271">TempDir</span><span class="op" id="8291278">(</span><span class="string" id="8291279">&#34;&#34;</span><span class="op" id="8291281">,</span>&nbsp;<span class="string" id="8291283">&#34;pclinetest&#34;</span><span class="op" id="8291295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291298">if</span>&nbsp;<span class="ident" id="8291301">err</span>&nbsp;<span class="op" id="8291305">!=</span>&nbsp;<span class="ident" id="8291308">nil</span>&nbsp;<span class="op" id="8291312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8291316">panic</span><span class="op" id="8291321">(</span><span class="ident" id="8291322">err</span><span class="op" id="8291325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291328">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291331">if</span>&nbsp;<span class="ident" id="8291334">strings</span><span class="op" id="8291341">.</span><span class="ident" id="8291342">Contains</span><span class="op" id="8291350">(</span><span class="ident" id="8291351">pclineTempDir</span><span class="op" id="8291364">,</span>&nbsp;<span class="string" id="8291366">&#34;&nbsp;&#34;</span><span class="op" id="8291369">)</span>&nbsp;<span class="op" id="8291371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8291375">panic</span><span class="op" id="8291380">(</span><span class="string" id="8291381">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="8291410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8291416">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8291472">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8291540">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291601">pclinetestBinary</span>&nbsp;<span class="op" id="8291618">=</span>&nbsp;<span class="ident" id="8291620">filepath</span><span class="op" id="8291628">.</span><span class="ident" id="8291629">Join</span><span class="op" id="8291633">(</span><span class="ident" id="8291634">pclineTempDir</span><span class="op" id="8291647">,</span>&nbsp;<span class="string" id="8291649">&#34;pclinetest&#34;</span><span class="op" id="8291661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291664">command</span>&nbsp;<span class="op" id="8291672">:=</span>&nbsp;<span class="ident" id="8291675">fmt</span><span class="op" id="8291678">.</span><span class="ident" id="8291679">Sprintf</span><span class="op" id="8291686">(</span><span class="string" id="8291687">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="8291764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291768">pclinetestBinary</span><span class="op" id="8291784">,</span>&nbsp;<span class="ident" id="8291786">pclinetestBinary</span><span class="op" id="8291802">,</span>&nbsp;<span class="ident" id="8291804">pclinetestBinary</span><span class="op" id="8291820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291823">cmd</span>&nbsp;<span class="op" id="8291827">:=</span>&nbsp;<span class="ident" id="8291830">exec</span><span class="op" id="8291834">.</span><span class="ident" id="8291835">Command</span><span class="op" id="8291842">(</span><span class="string" id="8291843">&#34;sh&#34;</span><span class="op" id="8291847">,</span>&nbsp;<span class="string" id="8291849">&#34;-c&#34;</span><span class="op" id="8291853">,</span>&nbsp;<span class="ident" id="8291855">command</span><span class="op" id="8291862">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291865">cmd</span><span class="op" id="8291868">.</span><span class="ident" id="8291869">Stdout</span>&nbsp;<span class="op" id="8291876">=</span>&nbsp;<span class="ident" id="8291878">os</span><span class="op" id="8291880">.</span><span class="ident" id="8291881">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291889">cmd</span><span class="op" id="8291892">.</span><span class="ident" id="8291893">Stderr</span>&nbsp;<span class="op" id="8291900">=</span>&nbsp;<span class="ident" id="8291902">os</span><span class="op" id="8291904">.</span><span class="ident" id="8291905">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291913">if</span>&nbsp;<span class="ident" id="8291916">err</span>&nbsp;<span class="op" id="8291920">:=</span>&nbsp;<span class="ident" id="8291923">cmd</span><span class="op" id="8291926">.</span><span class="ident" id="8291927">Run</span><span class="op" id="8291930">(</span><span class="op" id="8291931">)</span><span class="op" id="8291932">;</span>&nbsp;<span class="ident" id="8291934">err</span>&nbsp;<span class="op" id="8291938">!=</span>&nbsp;<span class="ident" id="8291941">nil</span>&nbsp;<span class="op" id="8291945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8291949">panic</span><span class="op" id="8291954">(</span><span class="ident" id="8291955">err</span><span class="op" id="8291958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291961">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291964">return</span>&nbsp;<span class="builtintype" id="8291971">true</span><br>
<span class="lineno"></span><span class="op" id="8291976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8291979">func</span>&nbsp;<span class="ident" id="8291984">endtest</span><span class="op" id="8291991">(</span><span class="op" id="8291992">)</span>&nbsp;<span class="op" id="8291994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291997">if</span>&nbsp;<span class="ident" id="8292000">pclineTempDir</span>&nbsp;<span class="op" id="8292014">!=</span>&nbsp;<span class="string" id="8292017">&#34;&#34;</span>&nbsp;<span class="op" id="8292020">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292024">os</span><span class="op" id="8292026">.</span><span class="ident" id="8292027">RemoveAll</span><span class="op" id="8292036">(</span><span class="ident" id="8292037">pclineTempDir</span><span class="op" id="8292050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292054">pclineTempDir</span>&nbsp;<span class="op" id="8292068">=</span>&nbsp;<span class="string" id="8292070">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292075">pclinetestBinary</span>&nbsp;<span class="op" id="8292092">=</span>&nbsp;<span class="string" id="8292094">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292098">}</span><br>
<span class="lineno"></span><span class="op" id="8292100">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8292103">func</span>&nbsp;<span class="ident" id="8292108">getTable</span><span class="op" id="8292116">(</span><span class="ident" id="8292117">t</span>&nbsp;<span class="op" id="8292119">*</span><span class="ident" id="8292120">testing</span><span class="op" id="8292127">.</span><span class="ident" id="8292128">T</span><span class="op" id="8292129">)</span>&nbsp;<span class="op" id="8292131">*</span><span class="ident" id="8292132">Table</span>&nbsp;<span class="op" id="8292138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292141">f</span><span class="op" id="8292142">,</span>&nbsp;<span class="ident" id="8292144">tab</span>&nbsp;<span class="op" id="8292148">:=</span>&nbsp;<span class="ident" id="8292151">crack</span><span class="op" id="8292156">(</span><span class="ident" id="8292157">os</span><span class="op" id="8292159">.</span><span class="ident" id="8292160">Args</span><span class="op" id="8292164">[</span><span class="num" id="8292165">0</span><span class="op" id="8292166">]</span><span class="op" id="8292167">,</span>&nbsp;<span class="ident" id="8292169">t</span><span class="op" id="8292170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292173">f</span><span class="op" id="8292174">.</span><span class="ident" id="8292175">Close</span><span class="op" id="8292180">(</span><span class="op" id="8292181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292184">return</span>&nbsp;<span class="ident" id="8292191">tab</span><br>
<span class="lineno">75</span><span class="op" id="8292195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8292198">func</span>&nbsp;<span class="ident" id="8292203">crack</span><span class="op" id="8292208">(</span><span class="ident" id="8292209">file</span>&nbsp;<span class="builtintype" id="8292214">string</span><span class="op" id="8292220">,</span>&nbsp;<span class="ident" id="8292222">t</span>&nbsp;<span class="op" id="8292224">*</span><span class="ident" id="8292225">testing</span><span class="op" id="8292232">.</span><span class="ident" id="8292233">T</span><span class="op" id="8292234">)</span>&nbsp;<span class="op" id="8292236">(</span><span class="op" id="8292237">*</span><span class="ident" id="8292238">elf</span><span class="op" id="8292241">.</span><span class="ident" id="8292242">File</span><span class="op" id="8292246">,</span>&nbsp;<span class="op" id="8292248">*</span><span class="ident" id="8292249">Table</span><span class="op" id="8292254">)</span>&nbsp;<span class="op" id="8292256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8292259">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292273">f</span><span class="op" id="8292274">,</span>&nbsp;<span class="ident" id="8292276">err</span>&nbsp;<span class="op" id="8292280">:=</span>&nbsp;<span class="ident" id="8292283">elf</span><span class="op" id="8292286">.</span><span class="ident" id="8292287">Open</span><span class="op" id="8292291">(</span><span class="ident" id="8292292">file</span><span class="op" id="8292296">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292299">if</span>&nbsp;<span class="ident" id="8292302">err</span>&nbsp;<span class="op" id="8292306">!=</span>&nbsp;<span class="ident" id="8292309">nil</span>&nbsp;<span class="op" id="8292313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292317">t</span><span class="op" id="8292318">.</span><span class="ident" id="8292319">Fatal</span><span class="op" id="8292324">(</span><span class="ident" id="8292325">err</span><span class="op" id="8292328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292334">return</span>&nbsp;<span class="ident" id="8292341">parse</span><span class="op" id="8292346">(</span><span class="ident" id="8292347">file</span><span class="op" id="8292351">,</span>&nbsp;<span class="ident" id="8292353">f</span><span class="op" id="8292354">,</span>&nbsp;<span class="ident" id="8292356">t</span><span class="op" id="8292357">)</span><br>
<span class="lineno"></span><span class="op" id="8292359">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="8292362">func</span>&nbsp;<span class="ident" id="8292367">parse</span><span class="op" id="8292372">(</span><span class="ident" id="8292373">file</span>&nbsp;<span class="builtintype" id="8292378">string</span><span class="op" id="8292384">,</span>&nbsp;<span class="ident" id="8292386">f</span>&nbsp;<span class="op" id="8292388">*</span><span class="ident" id="8292389">elf</span><span class="op" id="8292392">.</span><span class="ident" id="8292393">File</span><span class="op" id="8292397">,</span>&nbsp;<span class="ident" id="8292399">t</span>&nbsp;<span class="op" id="8292401">*</span><span class="ident" id="8292402">testing</span><span class="op" id="8292409">.</span><span class="ident" id="8292410">T</span><span class="op" id="8292411">)</span>&nbsp;<span class="op" id="8292413">(</span><span class="op" id="8292414">*</span><span class="ident" id="8292415">elf</span><span class="op" id="8292418">.</span><span class="ident" id="8292419">File</span><span class="op" id="8292423">,</span>&nbsp;<span class="op" id="8292425">*</span><span class="ident" id="8292426">Table</span><span class="op" id="8292431">)</span>&nbsp;<span class="op" id="8292433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292436">symdat</span><span class="op" id="8292442">,</span>&nbsp;<span class="ident" id="8292444">err</span>&nbsp;<span class="op" id="8292448">:=</span>&nbsp;<span class="ident" id="8292451">f</span><span class="op" id="8292452">.</span><span class="ident" id="8292453">Section</span><span class="op" id="8292460">(</span><span class="string" id="8292461">&#34;.gosymtab&#34;</span><span class="op" id="8292472">)</span><span class="op" id="8292473">.</span><span class="ident" id="8292474">Data</span><span class="op" id="8292478">(</span><span class="op" id="8292479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292482">if</span>&nbsp;<span class="ident" id="8292485">err</span>&nbsp;<span class="op" id="8292489">!=</span>&nbsp;<span class="ident" id="8292492">nil</span>&nbsp;<span class="op" id="8292496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292500">f</span><span class="op" id="8292501">.</span><span class="ident" id="8292502">Close</span><span class="op" id="8292507">(</span><span class="op" id="8292508">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292512">t</span><span class="op" id="8292513">.</span><span class="ident" id="8292514">Fatalf</span><span class="op" id="8292520">(</span><span class="string" id="8292521">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="8292546">,</span>&nbsp;<span class="ident" id="8292548">file</span><span class="op" id="8292552">,</span>&nbsp;<span class="ident" id="8292554">err</span><span class="op" id="8292557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292563">pclndat</span><span class="op" id="8292570">,</span>&nbsp;<span class="ident" id="8292572">err</span>&nbsp;<span class="op" id="8292576">:=</span>&nbsp;<span class="ident" id="8292579">f</span><span class="op" id="8292580">.</span><span class="ident" id="8292581">Section</span><span class="op" id="8292588">(</span><span class="string" id="8292589">&#34;.gopclntab&#34;</span><span class="op" id="8292601">)</span><span class="op" id="8292602">.</span><span class="ident" id="8292603">Data</span><span class="op" id="8292607">(</span><span class="op" id="8292608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292611">if</span>&nbsp;<span class="ident" id="8292614">err</span>&nbsp;<span class="op" id="8292618">!=</span>&nbsp;<span class="ident" id="8292621">nil</span>&nbsp;<span class="op" id="8292625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292629">f</span><span class="op" id="8292630">.</span><span class="ident" id="8292631">Close</span><span class="op" id="8292636">(</span><span class="op" id="8292637">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292641">t</span><span class="op" id="8292642">.</span><span class="ident" id="8292643">Fatalf</span><span class="op" id="8292649">(</span><span class="string" id="8292650">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="8292676">,</span>&nbsp;<span class="ident" id="8292678">file</span><span class="op" id="8292682">,</span>&nbsp;<span class="ident" id="8292684">err</span><span class="op" id="8292687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292694">pcln</span>&nbsp;<span class="op" id="8292699">:=</span>&nbsp;<span class="ident" id="8292702">NewLineTable</span><span class="op" id="8292714">(</span><span class="ident" id="8292715">pclndat</span><span class="op" id="8292722">,</span>&nbsp;<span class="ident" id="8292724">f</span><span class="op" id="8292725">.</span><span class="ident" id="8292726">Section</span><span class="op" id="8292733">(</span><span class="string" id="8292734">&#34;.text&#34;</span><span class="op" id="8292741">)</span><span class="op" id="8292742">.</span><span class="ident" id="8292743">Addr</span><span class="op" id="8292747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292750">tab</span><span class="op" id="8292753">,</span>&nbsp;<span class="ident" id="8292755">err</span>&nbsp;<span class="op" id="8292759">:=</span>&nbsp;<span class="ident" id="8292762">NewTable</span><span class="op" id="8292770">(</span><span class="ident" id="8292771">symdat</span><span class="op" id="8292777">,</span>&nbsp;<span class="ident" id="8292779">pcln</span><span class="op" id="8292783">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292786">if</span>&nbsp;<span class="ident" id="8292789">err</span>&nbsp;<span class="op" id="8292793">!=</span>&nbsp;<span class="ident" id="8292796">nil</span>&nbsp;<span class="op" id="8292800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292804">f</span><span class="op" id="8292805">.</span><span class="ident" id="8292806">Close</span><span class="op" id="8292811">(</span><span class="op" id="8292812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292816">t</span><span class="op" id="8292817">.</span><span class="ident" id="8292818">Fatalf</span><span class="op" id="8292824">(</span><span class="string" id="8292825">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="8292850">,</span>&nbsp;<span class="ident" id="8292852">file</span><span class="op" id="8292856">,</span>&nbsp;<span class="ident" id="8292858">err</span><span class="op" id="8292861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292864">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292868">return</span>&nbsp;<span class="ident" id="8292875">f</span><span class="op" id="8292876">,</span>&nbsp;<span class="ident" id="8292878">tab</span><br>
<span class="lineno"></span><span class="op" id="8292882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8292885">var</span>&nbsp;<span class="ident" id="8292889">goarch</span>&nbsp;<span class="op" id="8292896">=</span>&nbsp;<span class="ident" id="8292898">os</span><span class="op" id="8292900">.</span><span class="ident" id="8292901">Getenv</span><span class="op" id="8292907">(</span><span class="string" id="8292908">&#34;O&#34;</span><span class="op" id="8292911">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="8292914">func</span>&nbsp;<span class="ident" id="8292919">TestLineFromAline</span><span class="op" id="8292936">(</span><span class="ident" id="8292937">t</span>&nbsp;<span class="op" id="8292939">*</span><span class="ident" id="8292940">testing</span><span class="op" id="8292947">.</span><span class="ident" id="8292948">T</span><span class="op" id="8292949">)</span>&nbsp;<span class="op" id="8292951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292954">if</span>&nbsp;<span class="op" id="8292957">!</span><span class="ident" id="8292958">dotest</span><span class="op" id="8292964">(</span><span class="builtintype" id="8292965">true</span><span class="op" id="8292969">)</span>&nbsp;<span class="op" id="8292971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292975">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292986">defer</span>&nbsp;<span class="ident" id="8292992">endtest</span><span class="op" id="8292999">(</span><span class="op" id="8293000">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293004">tab</span>&nbsp;<span class="op" id="8293008">:=</span>&nbsp;<span class="ident" id="8293011">getTable</span><span class="op" id="8293019">(</span><span class="ident" id="8293020">t</span><span class="op" id="8293021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293024">if</span>&nbsp;<span class="ident" id="8293027">tab</span><span class="op" id="8293030">.</span><span class="ident" id="8293031">go12line</span>&nbsp;<span class="op" id="8293040">!=</span>&nbsp;<span class="ident" id="8293043">nil</span>&nbsp;<span class="op" id="8293047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8293051">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293097">t</span><span class="op" id="8293098">.</span><span class="ident" id="8293099">Skip</span><span class="op" id="8293103">(</span><span class="string" id="8293104">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="8293141">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8293148">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293173">pkg</span>&nbsp;<span class="op" id="8293177">:=</span>&nbsp;<span class="ident" id="8293180">tab</span><span class="op" id="8293183">.</span><span class="ident" id="8293184">LookupFunc</span><span class="op" id="8293194">(</span><span class="string" id="8293195">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="8293226">)</span><span class="op" id="8293227">.</span><span class="ident" id="8293228">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293233">if</span>&nbsp;<span class="ident" id="8293236">pkg</span>&nbsp;<span class="op" id="8293240">==</span>&nbsp;<span class="ident" id="8293243">nil</span>&nbsp;<span class="op" id="8293247">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293251">t</span><span class="op" id="8293252">.</span><span class="ident" id="8293253">Fatalf</span><span class="op" id="8293259">(</span><span class="string" id="8293260">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="8293269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8293276">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8293334">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293364">lastline</span>&nbsp;<span class="op" id="8293373">:=</span>&nbsp;<span class="builtinfunc" id="8293376">make</span><span class="op" id="8293380">(</span><span class="keyword" id="8293381">map</span><span class="op" id="8293384">[</span><span class="builtintype" id="8293385">string</span><span class="op" id="8293391">]</span><span class="builtintype" id="8293392">int</span><span class="op" id="8293395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293398">final</span>&nbsp;<span class="op" id="8293404">:=</span>&nbsp;<span class="op" id="8293407">-</span><span class="num" id="8293408">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293411">for</span>&nbsp;<span class="ident" id="8293415">i</span>&nbsp;<span class="op" id="8293417">:=</span>&nbsp;<span class="num" id="8293420">0</span><span class="op" id="8293421">;</span>&nbsp;<span class="ident" id="8293423">i</span>&nbsp;<span class="op" id="8293425">&lt;</span>&nbsp;<span class="num" id="8293427">10000</span><span class="op" id="8293432">;</span>&nbsp;<span class="ident" id="8293434">i</span><span class="op" id="8293435">++</span>&nbsp;<span class="op" id="8293438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293442">path</span><span class="op" id="8293446">,</span>&nbsp;<span class="ident" id="8293448">line</span>&nbsp;<span class="op" id="8293453">:=</span>&nbsp;<span class="ident" id="8293456">pkg</span><span class="op" id="8293459">.</span><span class="ident" id="8293460">lineFromAline</span><span class="op" id="8293473">(</span><span class="ident" id="8293474">i</span><span class="op" id="8293475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8293479">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293508">if</span>&nbsp;<span class="ident" id="8293511">path</span>&nbsp;<span class="op" id="8293516">==</span>&nbsp;<span class="string" id="8293519">&#34;&#34;</span>&nbsp;<span class="op" id="8293522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293527">if</span>&nbsp;<span class="ident" id="8293530">final</span>&nbsp;<span class="op" id="8293536">==</span>&nbsp;<span class="op" id="8293539">-</span><span class="num" id="8293540">1</span>&nbsp;<span class="op" id="8293542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293548">final</span>&nbsp;<span class="op" id="8293554">=</span>&nbsp;<span class="ident" id="8293556">i</span>&nbsp;<span class="op" id="8293558">-</span>&nbsp;<span class="num" id="8293560">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293570">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293581">}</span>&nbsp;<span class="keyword" id="8293583">else</span>&nbsp;<span class="keyword" id="8293588">if</span>&nbsp;<span class="ident" id="8293591">final</span>&nbsp;<span class="op" id="8293597">!=</span>&nbsp;<span class="op" id="8293600">-</span><span class="num" id="8293601">1</span>&nbsp;<span class="op" id="8293603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293608">t</span><span class="op" id="8293609">.</span><span class="ident" id="8293610">Fatalf</span><span class="op" id="8293616">(</span><span class="string" id="8293617">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="8293699">,</span>&nbsp;<span class="ident" id="8293701">final</span><span class="op" id="8293706">,</span>&nbsp;<span class="ident" id="8293708">i</span><span class="op" id="8293709">,</span>&nbsp;<span class="ident" id="8293711">path</span><span class="op" id="8293715">,</span>&nbsp;<span class="ident" id="8293717">line</span><span class="op" id="8293721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8293729">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293786">if</span>&nbsp;<span class="ident" id="8293789">line</span>&nbsp;<span class="op" id="8293794">==</span>&nbsp;<span class="num" id="8293797">1</span>&nbsp;<span class="op" id="8293799">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293804">lastline</span><span class="op" id="8293812">[</span><span class="ident" id="8293813">path</span><span class="op" id="8293817">]</span>&nbsp;<span class="op" id="8293819">=</span>&nbsp;<span class="num" id="8293821">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293826">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8293841">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293886">ll</span><span class="op" id="8293888">,</span>&nbsp;<span class="ident" id="8293890">ok</span>&nbsp;<span class="op" id="8293893">:=</span>&nbsp;<span class="ident" id="8293896">lastline</span><span class="op" id="8293904">[</span><span class="ident" id="8293905">path</span><span class="op" id="8293909">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293913">if</span>&nbsp;<span class="op" id="8293916">!</span><span class="ident" id="8293917">ok</span>&nbsp;<span class="op" id="8293920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293925">t</span><span class="op" id="8293926">.</span><span class="ident" id="8293927">Errorf</span><span class="op" id="8293933">(</span><span class="string" id="8293934">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="8293961">,</span>&nbsp;<span class="ident" id="8293963">path</span><span class="op" id="8293967">,</span>&nbsp;<span class="ident" id="8293969">line</span><span class="op" id="8293973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293977">}</span>&nbsp;<span class="keyword" id="8293979">else</span>&nbsp;<span class="keyword" id="8293984">if</span>&nbsp;<span class="ident" id="8293987">line</span>&nbsp;<span class="op" id="8293992">!=</span>&nbsp;<span class="ident" id="8293995">ll</span><span class="op" id="8293997">+</span><span class="num" id="8293998">1</span>&nbsp;<span class="op" id="8294000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294005">t</span><span class="op" id="8294006">.</span><span class="ident" id="8294007">Fatalf</span><span class="op" id="8294013">(</span><span class="string" id="8294014">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8294062">,</span>&nbsp;<span class="ident" id="8294064">path</span><span class="op" id="8294068">,</span>&nbsp;<span class="ident" id="8294070">ll</span><span class="op" id="8294072">+</span><span class="num" id="8294073">1</span><span class="op" id="8294074">,</span>&nbsp;<span class="ident" id="8294076">line</span><span class="op" id="8294080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294084">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294088">lastline</span><span class="op" id="8294096">[</span><span class="ident" id="8294097">path</span><span class="op" id="8294101">]</span>&nbsp;<span class="op" id="8294103">=</span>&nbsp;<span class="ident" id="8294105">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294114">if</span>&nbsp;<span class="ident" id="8294117">final</span>&nbsp;<span class="op" id="8294123">==</span>&nbsp;<span class="op" id="8294126">-</span><span class="num" id="8294127">1</span>&nbsp;<span class="op" id="8294129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294133">t</span><span class="op" id="8294134">.</span><span class="ident" id="8294135">Errorf</span><span class="op" id="8294141">(</span><span class="string" id="8294142">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="8294171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294174">}</span><br>
<span class="lineno">160</span><span class="op" id="8294176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8294179">func</span>&nbsp;<span class="ident" id="8294184">TestLineAline</span><span class="op" id="8294197">(</span><span class="ident" id="8294198">t</span>&nbsp;<span class="op" id="8294200">*</span><span class="ident" id="8294201">testing</span><span class="op" id="8294208">.</span><span class="ident" id="8294209">T</span><span class="op" id="8294210">)</span>&nbsp;<span class="op" id="8294212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294215">if</span>&nbsp;<span class="op" id="8294218">!</span><span class="ident" id="8294219">dotest</span><span class="op" id="8294225">(</span><span class="builtintype" id="8294226">true</span><span class="op" id="8294230">)</span>&nbsp;<span class="op" id="8294232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294236">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294247">defer</span>&nbsp;<span class="ident" id="8294253">endtest</span><span class="op" id="8294260">(</span><span class="op" id="8294261">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294265">tab</span>&nbsp;<span class="op" id="8294269">:=</span>&nbsp;<span class="ident" id="8294272">getTable</span><span class="op" id="8294280">(</span><span class="ident" id="8294281">t</span><span class="op" id="8294282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294285">if</span>&nbsp;<span class="ident" id="8294288">tab</span><span class="op" id="8294291">.</span><span class="ident" id="8294292">go12line</span>&nbsp;<span class="op" id="8294301">!=</span>&nbsp;<span class="ident" id="8294304">nil</span>&nbsp;<span class="op" id="8294308">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8294312">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294358">t</span><span class="op" id="8294359">.</span><span class="ident" id="8294360">Skip</span><span class="op" id="8294364">(</span><span class="string" id="8294365">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="8294402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294409">for</span>&nbsp;<span class="ident" id="8294413">_</span><span class="op" id="8294414">,</span>&nbsp;<span class="ident" id="8294416">o</span>&nbsp;<span class="op" id="8294418">:=</span>&nbsp;<span class="keyword" id="8294421">range</span>&nbsp;<span class="ident" id="8294427">tab</span><span class="op" id="8294430">.</span><span class="ident" id="8294431">Files</span>&nbsp;<span class="op" id="8294437">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8294441">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8294491">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8294548">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294602">found</span>&nbsp;<span class="op" id="8294608">:=</span>&nbsp;<span class="builtinfunc" id="8294611">make</span><span class="op" id="8294615">(</span><span class="keyword" id="8294616">map</span><span class="op" id="8294619">[</span><span class="builtintype" id="8294620">string</span><span class="op" id="8294626">]</span><span class="builtintype" id="8294627">int</span><span class="op" id="8294630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294634">for</span>&nbsp;<span class="ident" id="8294638">i</span>&nbsp;<span class="op" id="8294640">:=</span>&nbsp;<span class="num" id="8294643">0</span><span class="op" id="8294644">;</span>&nbsp;<span class="ident" id="8294646">i</span>&nbsp;<span class="op" id="8294648">&lt;</span>&nbsp;<span class="num" id="8294650">1000</span><span class="op" id="8294654">;</span>&nbsp;<span class="ident" id="8294656">i</span><span class="op" id="8294657">++</span>&nbsp;<span class="op" id="8294660">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294665">path</span><span class="op" id="8294669">,</span>&nbsp;<span class="ident" id="8294671">line</span>&nbsp;<span class="op" id="8294676">:=</span>&nbsp;<span class="ident" id="8294679">o</span><span class="op" id="8294680">.</span><span class="ident" id="8294681">lineFromAline</span><span class="op" id="8294694">(</span><span class="ident" id="8294695">i</span><span class="op" id="8294696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294701">if</span>&nbsp;<span class="ident" id="8294704">path</span>&nbsp;<span class="op" id="8294709">==</span>&nbsp;<span class="string" id="8294712">&#34;&#34;</span>&nbsp;<span class="op" id="8294715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294721">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8294736">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294799">if</span>&nbsp;<span class="builtinfunc" id="8294802">len</span><span class="op" id="8294805">(</span><span class="ident" id="8294806">path</span><span class="op" id="8294810">)</span>&nbsp;<span class="op" id="8294812">&gt;</span>&nbsp;<span class="num" id="8294814">4</span>&nbsp;<span class="op" id="8294816">&amp;&amp;</span>&nbsp;<span class="ident" id="8294819">path</span><span class="op" id="8294823">[</span><span class="builtinfunc" id="8294824">len</span><span class="op" id="8294827">(</span><span class="ident" id="8294828">path</span><span class="op" id="8294832">)</span><span class="op" id="8294833">-</span><span class="num" id="8294834">4</span><span class="op" id="8294835">:</span><span class="op" id="8294836">]</span>&nbsp;<span class="op" id="8294838">==</span>&nbsp;<span class="string" id="8294841">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="8294848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294854">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294872">if</span>&nbsp;<span class="ident" id="8294875">minline</span><span class="op" id="8294882">,</span>&nbsp;<span class="ident" id="8294884">ok</span>&nbsp;<span class="op" id="8294887">:=</span>&nbsp;<span class="ident" id="8294890">found</span><span class="op" id="8294895">[</span><span class="ident" id="8294896">path</span><span class="op" id="8294900">]</span><span class="op" id="8294901">;</span>&nbsp;<span class="ident" id="8294903">path</span>&nbsp;<span class="op" id="8294908">!=</span>&nbsp;<span class="string" id="8294911">&#34;&#34;</span>&nbsp;<span class="op" id="8294914">&amp;&amp;</span>&nbsp;<span class="ident" id="8294917">ok</span>&nbsp;<span class="op" id="8294920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294926">if</span>&nbsp;<span class="ident" id="8294929">minline</span>&nbsp;<span class="op" id="8294937">&gt;=</span>&nbsp;<span class="ident" id="8294940">line</span>&nbsp;<span class="op" id="8294945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8294952">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294992">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295005">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295015">found</span><span class="op" id="8295020">[</span><span class="ident" id="8295021">path</span><span class="op" id="8295025">]</span>&nbsp;<span class="op" id="8295027">=</span>&nbsp;<span class="ident" id="8295029">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295038">a</span><span class="op" id="8295039">,</span>&nbsp;<span class="ident" id="8295041">err</span>&nbsp;<span class="op" id="8295045">:=</span>&nbsp;<span class="ident" id="8295048">o</span><span class="op" id="8295049">.</span><span class="ident" id="8295050">alineFromLine</span><span class="op" id="8295063">(</span><span class="ident" id="8295064">path</span><span class="op" id="8295068">,</span>&nbsp;<span class="ident" id="8295070">line</span><span class="op" id="8295074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295079">if</span>&nbsp;<span class="ident" id="8295082">err</span>&nbsp;<span class="op" id="8295086">!=</span>&nbsp;<span class="ident" id="8295089">nil</span>&nbsp;<span class="op" id="8295093">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295099">t</span><span class="op" id="8295100">.</span><span class="ident" id="8295101">Errorf</span><span class="op" id="8295107">(</span><span class="string" id="8295108">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="8295191">,</span>&nbsp;<span class="ident" id="8295193">i</span><span class="op" id="8295194">,</span>&nbsp;<span class="ident" id="8295196">o</span><span class="op" id="8295197">.</span><span class="ident" id="8295198">Paths</span><span class="op" id="8295203">[</span><span class="num" id="8295204">0</span><span class="op" id="8295205">]</span><span class="op" id="8295206">.</span><span class="ident" id="8295207">Name</span><span class="op" id="8295211">,</span>&nbsp;<span class="ident" id="8295213">path</span><span class="op" id="8295217">,</span>&nbsp;<span class="ident" id="8295219">line</span><span class="op" id="8295223">,</span>&nbsp;<span class="ident" id="8295225">err</span><span class="op" id="8295228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295233">}</span>&nbsp;<span class="keyword" id="8295235">else</span>&nbsp;<span class="keyword" id="8295240">if</span>&nbsp;<span class="ident" id="8295243">a</span>&nbsp;<span class="op" id="8295245">!=</span>&nbsp;<span class="ident" id="8295248">i</span>&nbsp;<span class="op" id="8295250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295256">t</span><span class="op" id="8295257">.</span><span class="ident" id="8295258">Errorf</span><span class="op" id="8295264">(</span><span class="string" id="8295265">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="8295349">,</span>&nbsp;<span class="ident" id="8295351">i</span><span class="op" id="8295352">,</span>&nbsp;<span class="ident" id="8295354">o</span><span class="op" id="8295355">.</span><span class="ident" id="8295356">Paths</span><span class="op" id="8295361">[</span><span class="num" id="8295362">0</span><span class="op" id="8295363">]</span><span class="op" id="8295364">.</span><span class="ident" id="8295365">Name</span><span class="op" id="8295369">,</span>&nbsp;<span class="ident" id="8295371">path</span><span class="op" id="8295375">,</span>&nbsp;<span class="ident" id="8295377">line</span><span class="op" id="8295381">,</span>&nbsp;<span class="ident" id="8295383">a</span><span class="op" id="8295384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295393">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295396">}</span><br>
<span class="lineno"></span><span class="op" id="8295398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8295401">func</span>&nbsp;<span class="ident" id="8295406">TestPCLine</span><span class="op" id="8295416">(</span><span class="ident" id="8295417">t</span>&nbsp;<span class="op" id="8295419">*</span><span class="ident" id="8295420">testing</span><span class="op" id="8295427">.</span><span class="ident" id="8295428">T</span><span class="op" id="8295429">)</span>&nbsp;<span class="op" id="8295431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295434">if</span>&nbsp;<span class="op" id="8295437">!</span><span class="ident" id="8295438">dotest</span><span class="op" id="8295444">(</span><span class="builtintype" id="8295445">false</span><span class="op" id="8295450">)</span>&nbsp;<span class="op" id="8295452">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295456">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295467">defer</span>&nbsp;<span class="ident" id="8295473">endtest</span><span class="op" id="8295480">(</span><span class="op" id="8295481">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295485">f</span><span class="op" id="8295486">,</span>&nbsp;<span class="ident" id="8295488">tab</span>&nbsp;<span class="op" id="8295492">:=</span>&nbsp;<span class="ident" id="8295495">crack</span><span class="op" id="8295500">(</span><span class="ident" id="8295501">pclinetestBinary</span><span class="op" id="8295517">,</span>&nbsp;<span class="ident" id="8295519">t</span><span class="op" id="8295520">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295523">text</span>&nbsp;<span class="op" id="8295528">:=</span>&nbsp;<span class="ident" id="8295531">f</span><span class="op" id="8295532">.</span><span class="ident" id="8295533">Section</span><span class="op" id="8295540">(</span><span class="string" id="8295541">&#34;.text&#34;</span><span class="op" id="8295548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295551">textdat</span><span class="op" id="8295558">,</span>&nbsp;<span class="ident" id="8295560">err</span>&nbsp;<span class="op" id="8295564">:=</span>&nbsp;<span class="ident" id="8295567">text</span><span class="op" id="8295571">.</span><span class="ident" id="8295572">Data</span><span class="op" id="8295576">(</span><span class="op" id="8295577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295580">if</span>&nbsp;<span class="ident" id="8295583">err</span>&nbsp;<span class="op" id="8295587">!=</span>&nbsp;<span class="ident" id="8295590">nil</span>&nbsp;<span class="op" id="8295594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295598">t</span><span class="op" id="8295599">.</span><span class="ident" id="8295600">Fatalf</span><span class="op" id="8295606">(</span><span class="string" id="8295607">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="8295626">,</span>&nbsp;<span class="ident" id="8295628">err</span><span class="op" id="8295631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295634">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8295638">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295656">sym</span>&nbsp;<span class="op" id="8295660">:=</span>&nbsp;<span class="ident" id="8295663">tab</span><span class="op" id="8295666">.</span><span class="ident" id="8295667">LookupFunc</span><span class="op" id="8295677">(</span><span class="string" id="8295678">&#34;linefrompc&#34;</span><span class="op" id="8295690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295693">wantLine</span>&nbsp;<span class="op" id="8295702">:=</span>&nbsp;<span class="num" id="8295705">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295708">for</span>&nbsp;<span class="ident" id="8295712">pc</span>&nbsp;<span class="op" id="8295715">:=</span>&nbsp;<span class="ident" id="8295718">sym</span><span class="op" id="8295721">.</span><span class="ident" id="8295722">Entry</span><span class="op" id="8295727">;</span>&nbsp;<span class="ident" id="8295729">pc</span>&nbsp;<span class="op" id="8295732">&lt;</span>&nbsp;<span class="ident" id="8295734">sym</span><span class="op" id="8295737">.</span><span class="ident" id="8295738">End</span><span class="op" id="8295741">;</span>&nbsp;<span class="ident" id="8295743">pc</span><span class="op" id="8295745">++</span>&nbsp;<span class="op" id="8295748">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295752">off</span>&nbsp;<span class="op" id="8295756">:=</span>&nbsp;<span class="ident" id="8295759">pc</span>&nbsp;<span class="op" id="8295762">-</span>&nbsp;<span class="ident" id="8295764">text</span><span class="op" id="8295768">.</span><span class="ident" id="8295769">Addr</span>&nbsp;<span class="comment" id="8295774">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295821">if</span>&nbsp;<span class="ident" id="8295824">textdat</span><span class="op" id="8295831">[</span><span class="ident" id="8295832">off</span><span class="op" id="8295835">]</span>&nbsp;<span class="op" id="8295837">==</span>&nbsp;<span class="num" id="8295840">255</span>&nbsp;<span class="op" id="8295844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295849">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295861">wantLine</span>&nbsp;<span class="op" id="8295870">+=</span>&nbsp;<span class="builtintype" id="8295873">int</span><span class="op" id="8295876">(</span><span class="ident" id="8295877">textdat</span><span class="op" id="8295884">[</span><span class="ident" id="8295885">off</span><span class="op" id="8295888">]</span><span class="op" id="8295889">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295893">t</span><span class="op" id="8295894">.</span><span class="ident" id="8295895">Logf</span><span class="op" id="8295899">(</span><span class="string" id="8295900">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="8295924">,</span>&nbsp;<span class="ident" id="8295926">off</span><span class="op" id="8295929">,</span>&nbsp;<span class="ident" id="8295931">textdat</span><span class="op" id="8295938">[</span><span class="ident" id="8295939">off</span><span class="op" id="8295942">]</span><span class="op" id="8295943">,</span>&nbsp;<span class="ident" id="8295945">sym</span><span class="op" id="8295948">.</span><span class="ident" id="8295949">End</span><span class="op" id="8295952">-</span><span class="ident" id="8295953">pc</span><span class="op" id="8295955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8295959">file</span><span class="op" id="8295963">,</span>&nbsp;<span class="ident" id="8295965">line</span><span class="op" id="8295969">,</span>&nbsp;<span class="ident" id="8295971">fn</span>&nbsp;<span class="op" id="8295974">:=</span>&nbsp;<span class="ident" id="8295977">tab</span><span class="op" id="8295980">.</span><span class="ident" id="8295981">PCToLine</span><span class="op" id="8295989">(</span><span class="ident" id="8295990">pc</span><span class="op" id="8295992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295996">if</span>&nbsp;<span class="ident" id="8295999">fn</span>&nbsp;<span class="op" id="8296002">==</span>&nbsp;<span class="ident" id="8296005">nil</span>&nbsp;<span class="op" id="8296009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296014">t</span><span class="op" id="8296015">.</span><span class="ident" id="8296016">Errorf</span><span class="op" id="8296022">(</span><span class="string" id="8296023">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="8296053">,</span>&nbsp;<span class="ident" id="8296055">pc</span><span class="op" id="8296057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8296061">}</span>&nbsp;<span class="keyword" id="8296063">else</span>&nbsp;<span class="keyword" id="8296068">if</span>&nbsp;<span class="op" id="8296071">!</span><span class="ident" id="8296072">strings</span><span class="op" id="8296079">.</span><span class="ident" id="8296080">HasSuffix</span><span class="op" id="8296089">(</span><span class="ident" id="8296090">file</span><span class="op" id="8296094">,</span>&nbsp;<span class="string" id="8296096">&#34;pclinetest.asm&#34;</span><span class="op" id="8296112">)</span>&nbsp;<span class="op" id="8296114">||</span>&nbsp;<span class="ident" id="8296117">line</span>&nbsp;<span class="op" id="8296122">!=</span>&nbsp;<span class="ident" id="8296125">wantLine</span>&nbsp;<span class="op" id="8296134">||</span>&nbsp;<span class="ident" id="8296137">fn</span>&nbsp;<span class="op" id="8296140">!=</span>&nbsp;<span class="ident" id="8296143">sym</span>&nbsp;<span class="op" id="8296147">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296152">t</span><span class="op" id="8296153">.</span><span class="ident" id="8296154">Errorf</span><span class="op" id="8296160">(</span><span class="string" id="8296161">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="8296206">,</span>&nbsp;<span class="ident" id="8296208">pc</span><span class="op" id="8296210">,</span>&nbsp;<span class="ident" id="8296212">file</span><span class="op" id="8296216">,</span>&nbsp;<span class="ident" id="8296218">line</span><span class="op" id="8296222">,</span>&nbsp;<span class="ident" id="8296224">fn</span><span class="op" id="8296226">.</span><span class="ident" id="8296227">Name</span><span class="op" id="8296231">,</span>&nbsp;<span class="string" id="8296233">&#34;pclinetest.asm&#34;</span><span class="op" id="8296249">,</span>&nbsp;<span class="ident" id="8296251">wantLine</span><span class="op" id="8296259">,</span>&nbsp;<span class="ident" id="8296261">sym</span><span class="op" id="8296264">.</span><span class="ident" id="8296265">Name</span><span class="op" id="8296269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8296273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8296276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8296280">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296298">sym</span>&nbsp;<span class="op" id="8296302">=</span>&nbsp;<span class="ident" id="8296304">tab</span><span class="op" id="8296307">.</span><span class="ident" id="8296308">LookupFunc</span><span class="op" id="8296318">(</span><span class="string" id="8296319">&#34;pcfromline&#34;</span><span class="op" id="8296331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296334">lookupline</span>&nbsp;<span class="op" id="8296345">:=</span>&nbsp;<span class="op" id="8296348">-</span><span class="num" id="8296349">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296352">wantLine</span>&nbsp;<span class="op" id="8296361">=</span>&nbsp;<span class="num" id="8296363">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296366">off</span>&nbsp;<span class="op" id="8296370">:=</span>&nbsp;<span class="ident" id="8296373">uint64</span><span class="op" id="8296379">(</span><span class="num" id="8296380">0</span><span class="op" id="8296381">)</span>&nbsp;<span class="comment" id="8296383">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8296429">for</span>&nbsp;<span class="ident" id="8296433">pc</span>&nbsp;<span class="op" id="8296436">:=</span>&nbsp;<span class="ident" id="8296439">sym</span><span class="op" id="8296442">.</span><span class="ident" id="8296443">Value</span><span class="op" id="8296448">;</span>&nbsp;<span class="ident" id="8296450">pc</span>&nbsp;<span class="op" id="8296453">&lt;</span>&nbsp;<span class="ident" id="8296455">sym</span><span class="op" id="8296458">.</span><span class="ident" id="8296459">End</span><span class="op" id="8296462">;</span>&nbsp;<span class="ident" id="8296464">pc</span>&nbsp;<span class="op" id="8296467">+=</span>&nbsp;<span class="num" id="8296470">2</span>&nbsp;<span class="op" id="8296472">+</span>&nbsp;<span class="ident" id="8296474">uint64</span><span class="op" id="8296480">(</span><span class="ident" id="8296481">textdat</span><span class="op" id="8296488">[</span><span class="ident" id="8296489">off</span><span class="op" id="8296492">]</span><span class="op" id="8296493">)</span>&nbsp;<span class="op" id="8296495">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296499">file</span><span class="op" id="8296503">,</span>&nbsp;<span class="ident" id="8296505">line</span><span class="op" id="8296509">,</span>&nbsp;<span class="ident" id="8296511">fn</span>&nbsp;<span class="op" id="8296514">:=</span>&nbsp;<span class="ident" id="8296517">tab</span><span class="op" id="8296520">.</span><span class="ident" id="8296521">PCToLine</span><span class="op" id="8296529">(</span><span class="ident" id="8296530">pc</span><span class="op" id="8296532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296536">off</span>&nbsp;<span class="op" id="8296540">=</span>&nbsp;<span class="ident" id="8296542">pc</span>&nbsp;<span class="op" id="8296545">-</span>&nbsp;<span class="ident" id="8296547">text</span><span class="op" id="8296551">.</span><span class="ident" id="8296552">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8296559">if</span>&nbsp;<span class="ident" id="8296562">textdat</span><span class="op" id="8296569">[</span><span class="ident" id="8296570">off</span><span class="op" id="8296573">]</span>&nbsp;<span class="op" id="8296575">==</span>&nbsp;<span class="num" id="8296578">255</span>&nbsp;<span class="op" id="8296582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8296587">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8296595">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296599">wantLine</span>&nbsp;<span class="op" id="8296608">+=</span>&nbsp;<span class="builtintype" id="8296611">int</span><span class="op" id="8296614">(</span><span class="ident" id="8296615">textdat</span><span class="op" id="8296622">[</span><span class="ident" id="8296623">off</span><span class="op" id="8296626">]</span><span class="op" id="8296627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8296631">if</span>&nbsp;<span class="ident" id="8296634">line</span>&nbsp;<span class="op" id="8296639">!=</span>&nbsp;<span class="ident" id="8296642">wantLine</span>&nbsp;<span class="op" id="8296651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296656">t</span><span class="op" id="8296657">.</span><span class="ident" id="8296658">Errorf</span><span class="op" id="8296664">(</span><span class="string" id="8296665">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8296715">,</span>&nbsp;<span class="ident" id="8296717">wantLine</span><span class="op" id="8296725">,</span>&nbsp;<span class="ident" id="8296727">pc</span><span class="op" id="8296729">,</span>&nbsp;<span class="ident" id="8296731">line</span><span class="op" id="8296735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296740">off</span>&nbsp;<span class="op" id="8296744">=</span>&nbsp;<span class="ident" id="8296746">pc</span>&nbsp;<span class="op" id="8296749">+</span>&nbsp;<span class="num" id="8296751">1</span>&nbsp;<span class="op" id="8296753">-</span>&nbsp;<span class="ident" id="8296755">text</span><span class="op" id="8296759">.</span><span class="ident" id="8296760">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8296768">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8296779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8296783">if</span>&nbsp;<span class="ident" id="8296786">lookupline</span>&nbsp;<span class="op" id="8296797">==</span>&nbsp;<span class="op" id="8296800">-</span><span class="num" id="8296801">1</span>&nbsp;<span class="op" id="8296803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296808">lookupline</span>&nbsp;<span class="op" id="8296819">=</span>&nbsp;<span class="ident" id="8296821">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8296828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8296832">for</span>&nbsp;<span class="op" id="8296836">;</span>&nbsp;<span class="ident" id="8296838">lookupline</span>&nbsp;<span class="op" id="8296849">&lt;=</span>&nbsp;<span class="ident" id="8296852">line</span><span class="op" id="8296856">;</span>&nbsp;<span class="ident" id="8296858">lookupline</span><span class="op" id="8296868">++</span>&nbsp;<span class="op" id="8296871">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8296876">pc2</span><span class="op" id="8296879">,</span>&nbsp;<span class="ident" id="8296881">fn2</span><span class="op" id="8296884">,</span>&nbsp;<span class="ident" id="8296886">err</span>&nbsp;<span class="op" id="8296890">:=</span>&nbsp;<span class="ident" id="8296893">tab</span><span class="op" id="8296896">.</span><span class="ident" id="8296897">LineToPC</span><span class="op" id="8296905">(</span><span class="ident" id="8296906">file</span><span class="op" id="8296910">,</span>&nbsp;<span class="ident" id="8296912">lookupline</span><span class="op" id="8296922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8296927">if</span>&nbsp;<span class="ident" id="8296930">lookupline</span>&nbsp;<span class="op" id="8296941">!=</span>&nbsp;<span class="ident" id="8296944">line</span>&nbsp;<span class="op" id="8296949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8296955">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8296993">if</span>&nbsp;<span class="ident" id="8296996">err</span>&nbsp;<span class="op" id="8297000">==</span>&nbsp;<span class="ident" id="8297003">nil</span>&nbsp;<span class="op" id="8297007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297014">t</span><span class="op" id="8297015">.</span><span class="ident" id="8297016">Errorf</span><span class="op" id="8297022">(</span><span class="string" id="8297023">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="8297064">,</span>&nbsp;<span class="ident" id="8297066">lookupline</span><span class="op" id="8297076">,</span>&nbsp;<span class="ident" id="8297078">pc2</span><span class="op" id="8297081">,</span>&nbsp;<span class="ident" id="8297083">fn2</span><span class="op" id="8297086">.</span><span class="ident" id="8297087">Name</span><span class="op" id="8297091">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8297097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8297102">}</span>&nbsp;<span class="keyword" id="8297104">else</span>&nbsp;<span class="keyword" id="8297109">if</span>&nbsp;<span class="ident" id="8297112">err</span>&nbsp;<span class="op" id="8297116">!=</span>&nbsp;<span class="ident" id="8297119">nil</span>&nbsp;<span class="op" id="8297123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297129">t</span><span class="op" id="8297130">.</span><span class="ident" id="8297131">Errorf</span><span class="op" id="8297137">(</span><span class="string" id="8297138">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8297171">,</span>&nbsp;<span class="ident" id="8297173">lookupline</span><span class="op" id="8297183">,</span>&nbsp;<span class="ident" id="8297185">err</span><span class="op" id="8297188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8297193">}</span>&nbsp;<span class="keyword" id="8297195">else</span>&nbsp;<span class="keyword" id="8297200">if</span>&nbsp;<span class="ident" id="8297203">pc</span>&nbsp;<span class="op" id="8297206">!=</span>&nbsp;<span class="ident" id="8297209">pc2</span>&nbsp;<span class="op" id="8297213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297219">t</span><span class="op" id="8297220">.</span><span class="ident" id="8297221">Errorf</span><span class="op" id="8297227">(</span><span class="string" id="8297228">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="8297278">,</span>&nbsp;<span class="ident" id="8297280">pc</span><span class="op" id="8297282">,</span>&nbsp;<span class="ident" id="8297284">fn</span><span class="op" id="8297286">.</span><span class="ident" id="8297287">Name</span><span class="op" id="8297291">,</span>&nbsp;<span class="ident" id="8297293">line</span><span class="op" id="8297297">,</span>&nbsp;<span class="ident" id="8297299">pc2</span><span class="op" id="8297302">,</span>&nbsp;<span class="ident" id="8297304">fn2</span><span class="op" id="8297307">.</span><span class="ident" id="8297308">Name</span><span class="op" id="8297312">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8297317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8297321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8297325">off</span>&nbsp;<span class="op" id="8297329">=</span>&nbsp;<span class="ident" id="8297331">pc</span>&nbsp;<span class="op" id="8297334">+</span>&nbsp;<span class="num" id="8297336">1</span>&nbsp;<span class="op" id="8297338">-</span>&nbsp;<span class="ident" id="8297340">text</span><span class="op" id="8297344">.</span><span class="ident" id="8297345">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8297351">}</span><br>
<span class="lineno"></span><span class="op" id="8297353">}</span>
</div>
</body>
</html>
