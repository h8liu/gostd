<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html" class="current">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6568961">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6569016">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6569070">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6569121">package</span>&nbsp;<span class="ident" id="6569129">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6569139">import</span>&nbsp;<span class="op" id="6569146">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569149">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569158">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569165">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569176">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6569186">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6569189">func</span>&nbsp;<span class="ident" id="6569194">TestTypedContent</span><span class="op" id="6569210">(</span><span class="ident" id="6569211">t</span>&nbsp;<span class="op" id="6569213">*</span><span class="ident" id="6569214">testing</span><span class="op" id="6569221">.</span><span class="ident" id="6569222">T</span><span class="op" id="6569223">)</span>&nbsp;<span class="op" id="6569225">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569228">data</span>&nbsp;<span class="op" id="6569233">:=</span>&nbsp;<span class="op" id="6569236">[</span><span class="op" id="6569237">]</span><span class="keyword" id="6569238">interface</span><span class="op" id="6569247">{</span><span class="op" id="6569248">}</span><span class="op" id="6569249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569253">`&lt;b&gt;&nbsp;&#34;foo%&#34;&nbsp;O&#39;Reilly&nbsp;&amp;bar;`</span><span class="op" id="6569280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569284">CSS</span><span class="op" id="6569287">(</span><span class="string" id="6569288">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="6569320">)</span><span class="op" id="6569321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569325">HTML</span><span class="op" id="6569329">(</span><span class="string" id="6569330">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="6569360">)</span><span class="op" id="6569361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569365">HTMLAttr</span><span class="op" id="6569373">(</span><span class="string" id="6569374">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="6569386">)</span><span class="op" id="6569387">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569391">JS</span><span class="op" id="6569393">(</span><span class="string" id="6569394">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="6569424">)</span><span class="op" id="6569425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569429">JSStr</span><span class="op" id="6569434">(</span><span class="string" id="6569435">`Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21`</span><span class="op" id="6569464">)</span><span class="op" id="6569465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569469">URL</span><span class="op" id="6569472">(</span><span class="string" id="6569473">`greeting=H%69&amp;addressee=(World)`</span><span class="op" id="6569506">)</span><span class="op" id="6569507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6569514">//&nbsp;For&nbsp;each&nbsp;content&nbsp;sensitive&nbsp;escaper,&nbsp;see&nbsp;how&nbsp;it&nbsp;does&nbsp;on</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6569573">//&nbsp;each&nbsp;of&nbsp;the&nbsp;typed&nbsp;strings&nbsp;above.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569610">tests</span>&nbsp;<span class="op" id="6569616">:=</span>&nbsp;<span class="op" id="6569619">[</span><span class="op" id="6569620">]</span><span class="keyword" id="6569621">struct</span>&nbsp;<span class="op" id="6569628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6569632">//&nbsp;A&nbsp;template&nbsp;containing&nbsp;a&nbsp;single&nbsp;{{.}}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569675">input</span>&nbsp;<span class="builtintype" id="6569681">string</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6569690">want</span>&nbsp;&nbsp;<span class="op" id="6569696">[</span><span class="op" id="6569697">]</span><span class="builtintype" id="6569698">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569706">}</span><span class="op" id="6569707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569716">`&lt;style&gt;{{.}}&nbsp;{&nbsp;color:&nbsp;blue&nbsp;}&lt;/style&gt;`</span><span class="op" id="6569754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569759">[</span><span class="op" id="6569760">]</span><span class="builtintype" id="6569761">string</span><span class="op" id="6569767">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569773">`ZgotmplZ`</span><span class="op" id="6569783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6569789">//&nbsp;Allowed&nbsp;but&nbsp;not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569821">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="6569853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569859">`ZgotmplZ`</span><span class="op" id="6569869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569875">`ZgotmplZ`</span><span class="op" id="6569885">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569891">`ZgotmplZ`</span><span class="op" id="6569901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569907">`ZgotmplZ`</span><span class="op" id="6569917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569923">`ZgotmplZ`</span><span class="op" id="6569933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569938">}</span><span class="op" id="6569939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569943">}</span><span class="op" id="6569944">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569953">`&lt;div&nbsp;style=&#34;{{.}}&#34;&gt;`</span><span class="op" id="6569974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6569979">[</span><span class="op" id="6569980">]</span><span class="builtintype" id="6569981">string</span><span class="op" id="6569987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6569993">`ZgotmplZ`</span><span class="op" id="6570003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6570009">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570042">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6570082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570088">`ZgotmplZ`</span><span class="op" id="6570098">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570104">`ZgotmplZ`</span><span class="op" id="6570114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570120">`ZgotmplZ`</span><span class="op" id="6570130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570136">`ZgotmplZ`</span><span class="op" id="6570146">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570152">`ZgotmplZ`</span><span class="op" id="6570162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570167">}</span><span class="op" id="6570168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570172">}</span><span class="op" id="6570173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570182">`{{.}}`</span><span class="op" id="6570189">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570194">[</span><span class="op" id="6570195">]</span><span class="builtintype" id="6570196">string</span><span class="op" id="6570202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570208">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="6570257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570263">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6570303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6570309">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570329">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="6570359">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570365">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="6570385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570391">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="6570437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570443">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="6570480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570486">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="6570523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570528">}</span><span class="op" id="6570529">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570533">}</span><span class="op" id="6570534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570543">`&lt;a{{.}}&gt;`</span><span class="op" id="6570553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570558">[</span><span class="op" id="6570559">]</span><span class="builtintype" id="6570560">string</span><span class="op" id="6570566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570572">`ZgotmplZ`</span><span class="op" id="6570582">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570588">`ZgotmplZ`</span><span class="op" id="6570598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570604">`ZgotmplZ`</span><span class="op" id="6570614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6570620">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570653">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="6570665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570671">`ZgotmplZ`</span><span class="op" id="6570681">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570687">`ZgotmplZ`</span><span class="op" id="6570697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570703">`ZgotmplZ`</span><span class="op" id="6570713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570718">}</span><span class="op" id="6570719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570723">}</span><span class="op" id="6570724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570728">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570733">`&lt;a&nbsp;title={{.}}&gt;`</span><span class="op" id="6570750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6570755">[</span><span class="op" id="6570756">]</span><span class="builtintype" id="6570757">string</span><span class="op" id="6570763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570769">`&amp;lt;b&amp;gt;&amp;#32;&amp;#34;foo%&amp;#34;&amp;#32;O&amp;#39;Reilly&amp;#32;&amp;amp;bar;`</span><span class="op" id="6570830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570836">`a[href&amp;#32;&amp;#61;~&amp;#32;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6570888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6570894">//&nbsp;Tags&nbsp;stripped,&nbsp;spaces&nbsp;escaped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570955">`Hello,&amp;#32;World&amp;#32;&amp;amp;tc!`</span><span class="op" id="6570986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6570992">`&amp;#32;dir&amp;#61;&amp;#34;ltr&amp;#34;`</span><span class="op" id="6571020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571026">`c&amp;#32;&amp;amp;&amp;amp;&amp;#32;alert(&amp;#34;Hello,&amp;#32;World!&amp;#34;);`</span><span class="op" id="6571084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571090">`Hello,&amp;#32;World&amp;#32;&amp;amp;&amp;#32;O&amp;#39;Reilly\x21`</span><span class="op" id="6571139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571145">`greeting&amp;#61;H%69&amp;amp;addressee&amp;#61;(World)`</span><span class="op" id="6571190">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6571195">}</span><span class="op" id="6571196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6571200">}</span><span class="op" id="6571201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6571205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571210">`&lt;a&nbsp;title=&#39;{{.}}&#39;&gt;`</span><span class="op" id="6571229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6571234">[</span><span class="op" id="6571235">]</span><span class="builtintype" id="6571236">string</span><span class="op" id="6571242">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571248">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="6571297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571303">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6571343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6571349">//&nbsp;Tags&nbsp;stripped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571394">`Hello,&nbsp;World&nbsp;&amp;amp;tc!`</span><span class="op" id="6571417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571423">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="6571443">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571449">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="6571495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571501">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="6571538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571544">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="6571581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6571586">}</span><span class="op" id="6571587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6571591">}</span><span class="op" id="6571592">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6571596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571601">`&lt;textarea&gt;{{.}}&lt;/textarea&gt;`</span><span class="op" id="6571629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6571634">[</span><span class="op" id="6571635">]</span><span class="builtintype" id="6571636">string</span><span class="op" id="6571642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571648">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="6571697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571703">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="6571743">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6571749">//&nbsp;Angle&nbsp;brackets&nbsp;escaped&nbsp;to&nbsp;prevent&nbsp;injection&nbsp;of&nbsp;close&nbsp;tags,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571838">`Hello,&nbsp;&amp;lt;b&amp;gt;World&amp;lt;/b&amp;gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="6571880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571886">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="6571906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571912">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="6571958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6571964">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="6572001">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572007">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="6572044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6572049">}</span><span class="op" id="6572050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6572054">}</span><span class="op" id="6572055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6572059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572064">`&lt;script&gt;alert({{.}})&lt;/script&gt;`</span><span class="op" id="6572095">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6572100">[</span><span class="op" id="6572101">]</span><span class="builtintype" id="6572102">string</span><span class="op" id="6572108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572114">`&#34;\u003cb\u003e&nbsp;\&#34;foo%\&#34;&nbsp;O&#39;Reilly&nbsp;\u0026bar;&#34;`</span><span class="op" id="6572160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572166">`&#34;a[href&nbsp;=~&nbsp;\&#34;//example.com\&#34;]#foo&#34;`</span><span class="op" id="6572202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572208">`&#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&#34;`</span><span class="op" id="6572265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572271">`&#34;&nbsp;dir=\&#34;ltr\&#34;&#34;`</span><span class="op" id="6572287">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6572293">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572313">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="6572343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6572349">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572390">`&#34;Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21&#34;`</span><span class="op" id="6572421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572427">`&#34;greeting=H%69\u0026addressee=(World)&#34;`</span><span class="op" id="6572467">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6572472">}</span><span class="op" id="6572473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6572477">}</span><span class="op" id="6572478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6572482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572487">`&lt;button&nbsp;onclick=&#34;alert({{.}})&#34;&gt;`</span><span class="op" id="6572520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6572525">[</span><span class="op" id="6572526">]</span><span class="builtintype" id="6572527">string</span><span class="op" id="6572533">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572539">`&amp;#34;\u003cb\u003e&nbsp;\&amp;#34;foo%\&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;\u0026bar;&amp;#34;`</span><span class="op" id="6572605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572611">`&amp;#34;a[href&nbsp;=~&nbsp;\&amp;#34;//example.com\&amp;#34;]#foo&amp;#34;`</span><span class="op" id="6572663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572669">`&amp;#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&amp;#34;`</span><span class="op" id="6572734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572740">`&amp;#34;&nbsp;dir=\&amp;#34;ltr\&amp;#34;&amp;#34;`</span><span class="op" id="6572772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6572778">//&nbsp;Not&nbsp;JS&nbsp;escaped&nbsp;but&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572818">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="6572864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6572870">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572911">`&amp;#34;Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21&amp;#34;`</span><span class="op" id="6572958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6572964">`&amp;#34;greeting=H%69\u0026addressee=(World)&amp;#34;`</span><span class="op" id="6573012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573017">}</span><span class="op" id="6573018">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573022">}</span><span class="op" id="6573023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573032">`&lt;script&gt;alert(&#34;{{.}}&#34;)&lt;/script&gt;`</span><span class="op" id="6573065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573070">[</span><span class="op" id="6573071">]</span><span class="builtintype" id="6573072">string</span><span class="op" id="6573078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573084">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="6573129">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573135">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="6573175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573181">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="6573227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573233">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="6573251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573257">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="6573299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6573305">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573346">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="6573381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573387">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="6573423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573428">}</span><span class="op" id="6573429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573433">}</span><span class="op" id="6573434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573438">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573443">`&lt;button&nbsp;onclick=&#39;alert(&#34;{{.}}&#34;)&#39;&gt;`</span><span class="op" id="6573478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573483">[</span><span class="op" id="6573484">]</span><span class="builtintype" id="6573485">string</span><span class="op" id="6573491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573497">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="6573542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573548">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="6573588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573594">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="6573640">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573646">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="6573664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573670">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="6573712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6573718">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573759">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="6573794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573800">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="6573836">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573841">}</span><span class="op" id="6573842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573846">}</span><span class="op" id="6573847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573856">`&lt;a&nbsp;href=&#34;?q={{.}}&#34;&gt;`</span><span class="op" id="6573877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6573882">[</span><span class="op" id="6573883">]</span><span class="builtintype" id="6573884">string</span><span class="op" id="6573890">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573896">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="6573945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6573951">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="6574003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574009">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="6574061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574067">`%20dir%3d%22ltr%22`</span><span class="op" id="6574087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574093">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="6574147">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574153">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="6574196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6574202">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574291">`greeting=H%69&amp;amp;addressee=%28World%29`</span><span class="op" id="6574332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6574337">}</span><span class="op" id="6574338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6574342">}</span><span class="op" id="6574343">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6574347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574352">`&lt;style&gt;body&nbsp;{&nbsp;background:&nbsp;url(&#39;?img={{.}}&#39;)&nbsp;}&lt;/style&gt;`</span><span class="op" id="6574407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6574412">[</span><span class="op" id="6574413">]</span><span class="builtintype" id="6574414">string</span><span class="op" id="6574420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574426">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="6574475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574481">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="6574533">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574539">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="6574591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574597">`%20dir%3d%22ltr%22`</span><span class="op" id="6574617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574623">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="6574677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574683">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="6574726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6574732">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;not&nbsp;done.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6574825">`greeting=H%69&amp;addressee=%28World%29`</span><span class="op" id="6574862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6574867">}</span><span class="op" id="6574868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6574872">}</span><span class="op" id="6574873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6574876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6574880">for</span>&nbsp;<span class="ident" id="6574884">_</span><span class="op" id="6574885">,</span>&nbsp;<span class="ident" id="6574887">test</span>&nbsp;<span class="op" id="6574892">:=</span>&nbsp;<span class="keyword" id="6574895">range</span>&nbsp;<span class="ident" id="6574901">tests</span>&nbsp;<span class="op" id="6574907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6574911">tmpl</span>&nbsp;<span class="op" id="6574916">:=</span>&nbsp;<span class="ident" id="6574919">Must</span><span class="op" id="6574923">(</span><span class="ident" id="6574924">New</span><span class="op" id="6574927">(</span><span class="string" id="6574928">&#34;x&#34;</span><span class="op" id="6574931">)</span><span class="op" id="6574932">.</span><span class="ident" id="6574933">Parse</span><span class="op" id="6574938">(</span><span class="ident" id="6574939">test</span><span class="op" id="6574943">.</span><span class="ident" id="6574944">input</span><span class="op" id="6574949">)</span><span class="op" id="6574950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6574954">pre</span>&nbsp;<span class="op" id="6574958">:=</span>&nbsp;<span class="ident" id="6574961">strings</span><span class="op" id="6574968">.</span><span class="ident" id="6574969">Index</span><span class="op" id="6574974">(</span><span class="ident" id="6574975">test</span><span class="op" id="6574979">.</span><span class="ident" id="6574980">input</span><span class="op" id="6574985">,</span>&nbsp;<span class="string" id="6574987">&#34;{{.}}&#34;</span><span class="op" id="6574994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6574998">post</span>&nbsp;<span class="op" id="6575003">:=</span>&nbsp;<span class="builtinfunc" id="6575006">len</span><span class="op" id="6575009">(</span><span class="ident" id="6575010">test</span><span class="op" id="6575014">.</span><span class="ident" id="6575015">input</span><span class="op" id="6575020">)</span>&nbsp;<span class="op" id="6575022">-</span>&nbsp;<span class="op" id="6575024">(</span><span class="ident" id="6575025">pre</span>&nbsp;<span class="op" id="6575029">+</span>&nbsp;<span class="num" id="6575031">5</span><span class="op" id="6575032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575036">var</span>&nbsp;<span class="ident" id="6575040">b</span>&nbsp;<span class="ident" id="6575042">bytes</span><span class="op" id="6575047">.</span><span class="ident" id="6575048">Buffer</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575057">for</span>&nbsp;<span class="ident" id="6575061">i</span><span class="op" id="6575062">,</span>&nbsp;<span class="ident" id="6575064">x</span>&nbsp;<span class="op" id="6575066">:=</span>&nbsp;<span class="keyword" id="6575069">range</span>&nbsp;<span class="ident" id="6575075">data</span>&nbsp;<span class="op" id="6575080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575085">b</span><span class="op" id="6575086">.</span><span class="ident" id="6575087">Reset</span><span class="op" id="6575092">(</span><span class="op" id="6575093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575098">if</span>&nbsp;<span class="ident" id="6575101">err</span>&nbsp;<span class="op" id="6575105">:=</span>&nbsp;<span class="ident" id="6575108">tmpl</span><span class="op" id="6575112">.</span><span class="ident" id="6575113">Execute</span><span class="op" id="6575120">(</span><span class="op" id="6575121">&amp;</span><span class="ident" id="6575122">b</span><span class="op" id="6575123">,</span>&nbsp;<span class="ident" id="6575125">x</span><span class="op" id="6575126">)</span><span class="op" id="6575127">;</span>&nbsp;<span class="ident" id="6575129">err</span>&nbsp;<span class="op" id="6575133">!=</span>&nbsp;<span class="ident" id="6575136">nil</span>&nbsp;<span class="op" id="6575140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575146">t</span><span class="op" id="6575147">.</span><span class="ident" id="6575148">Errorf</span><span class="op" id="6575154">(</span><span class="string" id="6575155">&#34;%q&nbsp;with&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6575171">,</span>&nbsp;<span class="ident" id="6575173">test</span><span class="op" id="6575177">.</span><span class="ident" id="6575178">input</span><span class="op" id="6575183">,</span>&nbsp;<span class="ident" id="6575185">x</span><span class="op" id="6575186">,</span>&nbsp;<span class="ident" id="6575188">err</span><span class="op" id="6575191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575197">continue</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6575209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575214">if</span>&nbsp;<span class="ident" id="6575217">want</span><span class="op" id="6575221">,</span>&nbsp;<span class="ident" id="6575223">got</span>&nbsp;<span class="op" id="6575227">:=</span>&nbsp;<span class="ident" id="6575230">test</span><span class="op" id="6575234">.</span><span class="ident" id="6575235">want</span><span class="op" id="6575239">[</span><span class="ident" id="6575240">i</span><span class="op" id="6575241">]</span><span class="op" id="6575242">,</span>&nbsp;<span class="ident" id="6575244">b</span><span class="op" id="6575245">.</span><span class="ident" id="6575246">String</span><span class="op" id="6575252">(</span><span class="op" id="6575253">)</span><span class="op" id="6575254">[</span><span class="ident" id="6575255">pre</span><span class="op" id="6575258">:</span><span class="ident" id="6575259">b</span><span class="op" id="6575260">.</span><span class="ident" id="6575261">Len</span><span class="op" id="6575264">(</span><span class="op" id="6575265">)</span><span class="op" id="6575266">-</span><span class="ident" id="6575267">post</span><span class="op" id="6575271">]</span><span class="op" id="6575272">;</span>&nbsp;<span class="ident" id="6575274">want</span>&nbsp;<span class="op" id="6575279">!=</span>&nbsp;<span class="ident" id="6575282">got</span>&nbsp;<span class="op" id="6575286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575292">t</span><span class="op" id="6575293">.</span><span class="ident" id="6575294">Errorf</span><span class="op" id="6575300">(</span><span class="string" id="6575301">&#34;%q&nbsp;with&nbsp;%v:\nwant\n\t%q,\ngot\n\t%q\n&#34;</span><span class="op" id="6575340">,</span>&nbsp;<span class="ident" id="6575342">test</span><span class="op" id="6575346">.</span><span class="ident" id="6575347">input</span><span class="op" id="6575352">,</span>&nbsp;<span class="ident" id="6575354">x</span><span class="op" id="6575355">,</span>&nbsp;<span class="ident" id="6575357">want</span><span class="op" id="6575361">,</span>&nbsp;<span class="ident" id="6575363">got</span><span class="op" id="6575366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575372">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6575384">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6575388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6575391">}</span><br>
<span class="lineno"></span><span class="op" id="6575393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6575396">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;print&nbsp;using&nbsp;the&nbsp;String&nbsp;method.&nbsp;Was&nbsp;issue&nbsp;3073.</span><br>
<span class="lineno">225</span><span class="keyword" id="6575459">type</span>&nbsp;<span class="ident" id="6575464">stringer</span>&nbsp;<span class="keyword" id="6575473">struct</span>&nbsp;<span class="op" id="6575480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575483">v</span>&nbsp;<span class="builtintype" id="6575485">int</span><br>
<span class="lineno"></span><span class="op" id="6575489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6575492">func</span>&nbsp;<span class="op" id="6575497">(</span><span class="ident" id="6575498">s</span>&nbsp;<span class="op" id="6575500">*</span><span class="ident" id="6575501">stringer</span><span class="op" id="6575509">)</span>&nbsp;<span class="ident" id="6575511">String</span><span class="op" id="6575517">(</span><span class="op" id="6575518">)</span>&nbsp;<span class="builtintype" id="6575520">string</span>&nbsp;<span class="op" id="6575527">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575530">return</span>&nbsp;<span class="ident" id="6575537">fmt</span><span class="op" id="6575540">.</span><span class="ident" id="6575541">Sprintf</span><span class="op" id="6575548">(</span><span class="string" id="6575549">&#34;string=%d&#34;</span><span class="op" id="6575560">,</span>&nbsp;<span class="ident" id="6575562">s</span><span class="op" id="6575563">.</span><span class="ident" id="6575564">v</span><span class="op" id="6575565">)</span><br>
<span class="lineno"></span><span class="op" id="6575567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6575570">type</span>&nbsp;<span class="ident" id="6575575">errorer</span>&nbsp;<span class="keyword" id="6575583">struct</span>&nbsp;<span class="op" id="6575590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575593">v</span>&nbsp;<span class="builtintype" id="6575595">int</span><br>
<span class="lineno">235</span><span class="op" id="6575599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6575602">func</span>&nbsp;<span class="op" id="6575607">(</span><span class="ident" id="6575608">s</span>&nbsp;<span class="op" id="6575610">*</span><span class="ident" id="6575611">errorer</span><span class="op" id="6575618">)</span>&nbsp;<span class="ident" id="6575620">Error</span><span class="op" id="6575625">(</span><span class="op" id="6575626">)</span>&nbsp;<span class="builtintype" id="6575628">string</span>&nbsp;<span class="op" id="6575635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575638">return</span>&nbsp;<span class="ident" id="6575645">fmt</span><span class="op" id="6575648">.</span><span class="ident" id="6575649">Sprintf</span><span class="op" id="6575656">(</span><span class="string" id="6575657">&#34;error=%d&#34;</span><span class="op" id="6575667">,</span>&nbsp;<span class="ident" id="6575669">s</span><span class="op" id="6575670">.</span><span class="ident" id="6575671">v</span><span class="op" id="6575672">)</span><br>
<span class="lineno"></span><span class="op" id="6575674">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span><span class="keyword" id="6575677">func</span>&nbsp;<span class="ident" id="6575682">TestStringer</span><span class="op" id="6575694">(</span><span class="ident" id="6575695">t</span>&nbsp;<span class="op" id="6575697">*</span><span class="ident" id="6575698">testing</span><span class="op" id="6575705">.</span><span class="ident" id="6575706">T</span><span class="op" id="6575707">)</span>&nbsp;<span class="op" id="6575709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575712">s</span>&nbsp;<span class="op" id="6575714">:=</span>&nbsp;<span class="op" id="6575717">&amp;</span><span class="ident" id="6575718">stringer</span><span class="op" id="6575726">{</span><span class="num" id="6575727">3</span><span class="op" id="6575728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575731">b</span>&nbsp;<span class="op" id="6575733">:=</span>&nbsp;<span class="builtinfunc" id="6575736">new</span><span class="op" id="6575739">(</span><span class="ident" id="6575740">bytes</span><span class="op" id="6575745">.</span><span class="ident" id="6575746">Buffer</span><span class="op" id="6575752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575755">tmpl</span>&nbsp;<span class="op" id="6575760">:=</span>&nbsp;<span class="ident" id="6575763">Must</span><span class="op" id="6575767">(</span><span class="ident" id="6575768">New</span><span class="op" id="6575771">(</span><span class="string" id="6575772">&#34;x&#34;</span><span class="op" id="6575775">)</span><span class="op" id="6575776">.</span><span class="ident" id="6575777">Parse</span><span class="op" id="6575782">(</span><span class="string" id="6575783">&#34;{{.}}&#34;</span><span class="op" id="6575790">)</span><span class="op" id="6575791">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575794">if</span>&nbsp;<span class="ident" id="6575797">err</span>&nbsp;<span class="op" id="6575801">:=</span>&nbsp;<span class="ident" id="6575804">tmpl</span><span class="op" id="6575808">.</span><span class="ident" id="6575809">Execute</span><span class="op" id="6575816">(</span><span class="ident" id="6575817">b</span><span class="op" id="6575818">,</span>&nbsp;<span class="ident" id="6575820">s</span><span class="op" id="6575821">)</span><span class="op" id="6575822">;</span>&nbsp;<span class="ident" id="6575824">err</span>&nbsp;<span class="op" id="6575828">!=</span>&nbsp;<span class="ident" id="6575831">nil</span>&nbsp;<span class="op" id="6575835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575839">t</span><span class="op" id="6575840">.</span><span class="ident" id="6575841">Fatal</span><span class="op" id="6575846">(</span><span class="ident" id="6575847">err</span><span class="op" id="6575850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6575853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575856">var</span>&nbsp;<span class="ident" id="6575860">expect</span>&nbsp;<span class="op" id="6575867">=</span>&nbsp;<span class="string" id="6575869">&#34;string=3&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575881">if</span>&nbsp;<span class="ident" id="6575884">b</span><span class="op" id="6575885">.</span><span class="ident" id="6575886">String</span><span class="op" id="6575892">(</span><span class="op" id="6575893">)</span>&nbsp;<span class="op" id="6575895">!=</span>&nbsp;<span class="ident" id="6575898">expect</span>&nbsp;<span class="op" id="6575905">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575909">t</span><span class="op" id="6575910">.</span><span class="ident" id="6575911">Errorf</span><span class="op" id="6575917">(</span><span class="string" id="6575918">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6575938">,</span>&nbsp;<span class="ident" id="6575940">expect</span><span class="op" id="6575946">,</span>&nbsp;<span class="ident" id="6575948">b</span><span class="op" id="6575949">.</span><span class="ident" id="6575950">String</span><span class="op" id="6575956">(</span><span class="op" id="6575957">)</span><span class="op" id="6575958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6575961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575964">e</span>&nbsp;<span class="op" id="6575966">:=</span>&nbsp;<span class="op" id="6575969">&amp;</span><span class="ident" id="6575970">errorer</span><span class="op" id="6575977">{</span><span class="num" id="6575978">7</span><span class="op" id="6575979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6575982">b</span><span class="op" id="6575983">.</span><span class="ident" id="6575984">Reset</span><span class="op" id="6575989">(</span><span class="op" id="6575990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6575993">if</span>&nbsp;<span class="ident" id="6575996">err</span>&nbsp;<span class="op" id="6576000">:=</span>&nbsp;<span class="ident" id="6576003">tmpl</span><span class="op" id="6576007">.</span><span class="ident" id="6576008">Execute</span><span class="op" id="6576015">(</span><span class="ident" id="6576016">b</span><span class="op" id="6576017">,</span>&nbsp;<span class="ident" id="6576019">e</span><span class="op" id="6576020">)</span><span class="op" id="6576021">;</span>&nbsp;<span class="ident" id="6576023">err</span>&nbsp;<span class="op" id="6576027">!=</span>&nbsp;<span class="ident" id="6576030">nil</span>&nbsp;<span class="op" id="6576034">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576038">t</span><span class="op" id="6576039">.</span><span class="ident" id="6576040">Fatal</span><span class="op" id="6576045">(</span><span class="ident" id="6576046">err</span><span class="op" id="6576049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6576052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576055">expect</span>&nbsp;<span class="op" id="6576062">=</span>&nbsp;<span class="string" id="6576064">&#34;error=7&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6576075">if</span>&nbsp;<span class="ident" id="6576078">b</span><span class="op" id="6576079">.</span><span class="ident" id="6576080">String</span><span class="op" id="6576086">(</span><span class="op" id="6576087">)</span>&nbsp;<span class="op" id="6576089">!=</span>&nbsp;<span class="ident" id="6576092">expect</span>&nbsp;<span class="op" id="6576099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576103">t</span><span class="op" id="6576104">.</span><span class="ident" id="6576105">Errorf</span><span class="op" id="6576111">(</span><span class="string" id="6576112">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6576132">,</span>&nbsp;<span class="ident" id="6576134">expect</span><span class="op" id="6576140">,</span>&nbsp;<span class="ident" id="6576142">b</span><span class="op" id="6576143">.</span><span class="ident" id="6576144">String</span><span class="op" id="6576150">(</span><span class="op" id="6576151">)</span><span class="op" id="6576152">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6576155">}</span><br>
<span class="lineno"></span><span class="op" id="6576157">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6576160">//&nbsp;https://code.google.com/p/go/issues/detail?id=5982</span><br>
<span class="lineno"></span><span class="keyword" id="6576214">func</span>&nbsp;<span class="ident" id="6576219">TestEscapingNilNonemptyInterfaces</span><span class="op" id="6576252">(</span><span class="ident" id="6576253">t</span>&nbsp;<span class="op" id="6576255">*</span><span class="ident" id="6576256">testing</span><span class="op" id="6576263">.</span><span class="ident" id="6576264">T</span><span class="op" id="6576265">)</span>&nbsp;<span class="op" id="6576267">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576270">tmpl</span>&nbsp;<span class="op" id="6576275">:=</span>&nbsp;<span class="ident" id="6576278">Must</span><span class="op" id="6576282">(</span><span class="ident" id="6576283">New</span><span class="op" id="6576286">(</span><span class="string" id="6576287">&#34;x&#34;</span><span class="op" id="6576290">)</span><span class="op" id="6576291">.</span><span class="ident" id="6576292">Parse</span><span class="op" id="6576297">(</span><span class="string" id="6576298">&#34;{{.E}}&#34;</span><span class="op" id="6576306">)</span><span class="op" id="6576307">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576311">got</span>&nbsp;<span class="op" id="6576315">:=</span>&nbsp;<span class="builtinfunc" id="6576318">new</span><span class="op" id="6576321">(</span><span class="ident" id="6576322">bytes</span><span class="op" id="6576327">.</span><span class="ident" id="6576328">Buffer</span><span class="op" id="6576334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576337">testData</span>&nbsp;<span class="op" id="6576346">:=</span>&nbsp;<span class="keyword" id="6576349">struct</span><span class="op" id="6576355">{</span>&nbsp;<span class="ident" id="6576357">E</span>&nbsp;<span class="builtintype" id="6576359">error</span>&nbsp;<span class="op" id="6576365">}</span><span class="op" id="6576366">{</span><span class="op" id="6576367">}</span>&nbsp;<span class="comment" id="6576369">//&nbsp;any&nbsp;non-empty&nbsp;interface&nbsp;here&nbsp;will&nbsp;do;&nbsp;error&nbsp;is&nbsp;just&nbsp;ready&nbsp;at&nbsp;hand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576439">tmpl</span><span class="op" id="6576443">.</span><span class="ident" id="6576444">Execute</span><span class="op" id="6576451">(</span><span class="ident" id="6576452">got</span><span class="op" id="6576455">,</span>&nbsp;<span class="ident" id="6576457">testData</span><span class="op" id="6576465">)</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6576469">//&nbsp;Use&nbsp;this&nbsp;data&nbsp;instead&nbsp;of&nbsp;just&nbsp;hard-coding&nbsp;&#34;&amp;lt;nil&amp;gt;&#34;&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6576538">//&nbsp;dependencies&nbsp;on&nbsp;the&nbsp;html&nbsp;escaper&nbsp;and&nbsp;the&nbsp;behavior&nbsp;of&nbsp;fmt&nbsp;w.r.t.&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576611">want</span>&nbsp;<span class="op" id="6576616">:=</span>&nbsp;<span class="builtinfunc" id="6576619">new</span><span class="op" id="6576622">(</span><span class="ident" id="6576623">bytes</span><span class="op" id="6576628">.</span><span class="ident" id="6576629">Buffer</span><span class="op" id="6576635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576638">data</span>&nbsp;<span class="op" id="6576643">:=</span>&nbsp;<span class="keyword" id="6576646">struct</span><span class="op" id="6576652">{</span>&nbsp;<span class="ident" id="6576654">E</span>&nbsp;<span class="builtintype" id="6576656">string</span>&nbsp;<span class="op" id="6576663">}</span><span class="op" id="6576664">{</span><span class="ident" id="6576665">E</span><span class="op" id="6576666">:</span>&nbsp;<span class="ident" id="6576668">fmt</span><span class="op" id="6576671">.</span><span class="ident" id="6576672">Sprint</span><span class="op" id="6576678">(</span><span class="ident" id="6576679">nil</span><span class="op" id="6576682">)</span><span class="op" id="6576683">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576686">tmpl</span><span class="op" id="6576690">.</span><span class="ident" id="6576691">Execute</span><span class="op" id="6576698">(</span><span class="ident" id="6576699">want</span><span class="op" id="6576703">,</span>&nbsp;<span class="ident" id="6576705">data</span><span class="op" id="6576709">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6576713">if</span>&nbsp;<span class="op" id="6576716">!</span><span class="ident" id="6576717">bytes</span><span class="op" id="6576722">.</span><span class="ident" id="6576723">Equal</span><span class="op" id="6576728">(</span><span class="ident" id="6576729">want</span><span class="op" id="6576733">.</span><span class="ident" id="6576734">Bytes</span><span class="op" id="6576739">(</span><span class="op" id="6576740">)</span><span class="op" id="6576741">,</span>&nbsp;<span class="ident" id="6576743">got</span><span class="op" id="6576746">.</span><span class="ident" id="6576747">Bytes</span><span class="op" id="6576752">(</span><span class="op" id="6576753">)</span><span class="op" id="6576754">)</span>&nbsp;<span class="op" id="6576756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6576760">t</span><span class="op" id="6576761">.</span><span class="ident" id="6576762">Errorf</span><span class="op" id="6576768">(</span><span class="string" id="6576769">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6576789">,</span>&nbsp;<span class="builtintype" id="6576791">string</span><span class="op" id="6576797">(</span><span class="ident" id="6576798">want</span><span class="op" id="6576802">.</span><span class="ident" id="6576803">Bytes</span><span class="op" id="6576808">(</span><span class="op" id="6576809">)</span><span class="op" id="6576810">)</span><span class="op" id="6576811">,</span>&nbsp;<span class="builtintype" id="6576813">string</span><span class="op" id="6576819">(</span><span class="ident" id="6576820">got</span><span class="op" id="6576823">.</span><span class="ident" id="6576824">Bytes</span><span class="op" id="6576829">(</span><span class="op" id="6576830">)</span><span class="op" id="6576831">)</span><span class="op" id="6576832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6576835">}</span><br>
<span class="lineno">280</span><span class="op" id="6576837">}</span>
</div>
</body>
</html>
