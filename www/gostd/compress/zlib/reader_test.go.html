<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html" class="current">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8277049">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8277104">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8277158">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8277209">package</span>&nbsp;<span class="ident" id="8277217">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8277223">import</span>&nbsp;<span class="op" id="8277230">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277233">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277242">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277248">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8277258">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8277261">type</span>&nbsp;<span class="ident" id="8277266">zlibTest</span>&nbsp;<span class="keyword" id="8277275">struct</span>&nbsp;<span class="op" id="8277282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277285">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8277296">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277304">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8277315">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277323">compressed</span>&nbsp;<span class="op" id="8277334">[</span><span class="op" id="8277335">]</span><span class="builtintype" id="8277336">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277342">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8277353">[</span><span class="op" id="8277354">]</span><span class="builtintype" id="8277355">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277361">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8277372">error</span><br>
<span class="lineno"></span><span class="op" id="8277378">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8277381">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="8277457">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8277489">var</span>&nbsp;<span class="ident" id="8277493">zlibTests</span>&nbsp;<span class="op" id="8277503">=</span>&nbsp;<span class="op" id="8277505">[</span><span class="op" id="8277506">]</span><span class="ident" id="8277507">zlibTest</span><span class="op" id="8277515">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277522">&#34;empty&#34;</span><span class="op" id="8277529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277533">&#34;&#34;</span><span class="op" id="8277535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277539">[</span><span class="op" id="8277540">]</span><span class="builtintype" id="8277541">byte</span><span class="op" id="8277545">{</span><span class="num" id="8277546">0x78</span><span class="op" id="8277550">,</span>&nbsp;<span class="num" id="8277552">0x9c</span><span class="op" id="8277556">,</span>&nbsp;<span class="num" id="8277558">0x03</span><span class="op" id="8277562">,</span>&nbsp;<span class="num" id="8277564">0x00</span><span class="op" id="8277568">,</span>&nbsp;<span class="num" id="8277570">0x00</span><span class="op" id="8277574">,</span>&nbsp;<span class="num" id="8277576">0x00</span><span class="op" id="8277580">,</span>&nbsp;<span class="num" id="8277582">0x00</span><span class="op" id="8277586">,</span>&nbsp;<span class="num" id="8277588">0x01</span><span class="op" id="8277592">}</span><span class="op" id="8277593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277597">nil</span><span class="op" id="8277600">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277604">nil</span><span class="op" id="8277607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277610">}</span><span class="op" id="8277611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277618">&#34;goodbye&#34;</span><span class="op" id="8277627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277631">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="8277647">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277651">[</span><span class="op" id="8277652">]</span><span class="builtintype" id="8277653">byte</span><span class="op" id="8277657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8277662">0x78</span><span class="op" id="8277666">,</span>&nbsp;<span class="num" id="8277668">0x9c</span><span class="op" id="8277672">,</span>&nbsp;<span class="num" id="8277674">0x4b</span><span class="op" id="8277678">,</span>&nbsp;<span class="num" id="8277680">0xcf</span><span class="op" id="8277684">,</span>&nbsp;<span class="num" id="8277686">0xcf</span><span class="op" id="8277690">,</span>&nbsp;<span class="num" id="8277692">0x4f</span><span class="op" id="8277696">,</span>&nbsp;<span class="num" id="8277698">0x49</span><span class="op" id="8277702">,</span>&nbsp;<span class="num" id="8277704">0xaa</span><span class="op" id="8277708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8277713">0x4c</span><span class="op" id="8277717">,</span>&nbsp;<span class="num" id="8277719">0xd5</span><span class="op" id="8277723">,</span>&nbsp;<span class="num" id="8277725">0x51</span><span class="op" id="8277729">,</span>&nbsp;<span class="num" id="8277731">0x28</span><span class="op" id="8277735">,</span>&nbsp;<span class="num" id="8277737">0xcf</span><span class="op" id="8277741">,</span>&nbsp;<span class="num" id="8277743">0x2f</span><span class="op" id="8277747">,</span>&nbsp;<span class="num" id="8277749">0xca</span><span class="op" id="8277753">,</span>&nbsp;<span class="num" id="8277755">0x49</span><span class="op" id="8277759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8277764">0x01</span><span class="op" id="8277768">,</span>&nbsp;<span class="num" id="8277770">0x00</span><span class="op" id="8277774">,</span>&nbsp;<span class="num" id="8277776">0x28</span><span class="op" id="8277780">,</span>&nbsp;<span class="num" id="8277782">0xa5</span><span class="op" id="8277786">,</span>&nbsp;<span class="num" id="8277788">0x05</span><span class="op" id="8277792">,</span>&nbsp;<span class="num" id="8277794">0x5e</span><span class="op" id="8277798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277802">}</span><span class="op" id="8277803">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277807">nil</span><span class="op" id="8277810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277814">nil</span><span class="op" id="8277817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277820">}</span><span class="op" id="8277821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277828">&#34;bad&nbsp;header&#34;</span><span class="op" id="8277840">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277844">&#34;&#34;</span><span class="op" id="8277846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277850">[</span><span class="op" id="8277851">]</span><span class="builtintype" id="8277852">byte</span><span class="op" id="8277856">{</span><span class="num" id="8277857">0x78</span><span class="op" id="8277861">,</span>&nbsp;<span class="num" id="8277863">0x9f</span><span class="op" id="8277867">,</span>&nbsp;<span class="num" id="8277869">0x03</span><span class="op" id="8277873">,</span>&nbsp;<span class="num" id="8277875">0x00</span><span class="op" id="8277879">,</span>&nbsp;<span class="num" id="8277881">0x00</span><span class="op" id="8277885">,</span>&nbsp;<span class="num" id="8277887">0x00</span><span class="op" id="8277891">,</span>&nbsp;<span class="num" id="8277893">0x00</span><span class="op" id="8277897">,</span>&nbsp;<span class="num" id="8277899">0x01</span><span class="op" id="8277903">}</span><span class="op" id="8277904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277908">nil</span><span class="op" id="8277911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8277915">ErrHeader</span><span class="op" id="8277924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277927">}</span><span class="op" id="8277928">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277935">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="8277949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8277953">&#34;&#34;</span><span class="op" id="8277955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8277959">[</span><span class="op" id="8277960">]</span><span class="builtintype" id="8277961">byte</span><span class="op" id="8277965">{</span><span class="num" id="8277966">0x78</span><span class="op" id="8277970">,</span>&nbsp;<span class="num" id="8277972">0x9c</span><span class="op" id="8277976">,</span>&nbsp;<span class="num" id="8277978">0x03</span><span class="op" id="8277982">,</span>&nbsp;<span class="num" id="8277984">0x00</span><span class="op" id="8277988">,</span>&nbsp;<span class="num" id="8277990">0x00</span><span class="op" id="8277994">,</span>&nbsp;<span class="num" id="8277996">0x00</span><span class="op" id="8278000">,</span>&nbsp;<span class="num" id="8278002">0x00</span><span class="op" id="8278006">,</span>&nbsp;<span class="num" id="8278008">0xff</span><span class="op" id="8278012">}</span><span class="op" id="8278013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278017">nil</span><span class="op" id="8278020">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278024">ErrChecksum</span><span class="op" id="8278035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278038">}</span><span class="op" id="8278039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278046">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="8278063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278067">&#34;&#34;</span><span class="op" id="8278069">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278073">[</span><span class="op" id="8278074">]</span><span class="builtintype" id="8278075">byte</span><span class="op" id="8278079">{</span><span class="num" id="8278080">0x78</span><span class="op" id="8278084">,</span>&nbsp;<span class="num" id="8278086">0x9c</span><span class="op" id="8278090">,</span>&nbsp;<span class="num" id="8278092">0x03</span><span class="op" id="8278096">,</span>&nbsp;<span class="num" id="8278098">0x00</span><span class="op" id="8278102">,</span>&nbsp;<span class="num" id="8278104">0x00</span><span class="op" id="8278108">,</span>&nbsp;<span class="num" id="8278110">0x00</span><span class="op" id="8278114">}</span><span class="op" id="8278115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278119">nil</span><span class="op" id="8278122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278126">io</span><span class="op" id="8278128">.</span><span class="ident" id="8278129">ErrUnexpectedEOF</span><span class="op" id="8278145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278148">}</span><span class="op" id="8278149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278152">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278156">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="8278189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278193">&#34;&#34;</span><span class="op" id="8278195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278199">[</span><span class="op" id="8278200">]</span><span class="builtintype" id="8278201">byte</span><span class="op" id="8278205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278210">0x78</span><span class="op" id="8278214">,</span>&nbsp;<span class="num" id="8278216">0x9c</span><span class="op" id="8278220">,</span>&nbsp;<span class="num" id="8278222">0x03</span><span class="op" id="8278226">,</span>&nbsp;<span class="num" id="8278228">0x00</span><span class="op" id="8278232">,</span>&nbsp;<span class="num" id="8278234">0x00</span><span class="op" id="8278238">,</span>&nbsp;<span class="num" id="8278240">0x00</span><span class="op" id="8278244">,</span>&nbsp;<span class="num" id="8278246">0x00</span><span class="op" id="8278250">,</span>&nbsp;<span class="num" id="8278252">0x01</span><span class="op" id="8278256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278261">0x78</span><span class="op" id="8278265">,</span>&nbsp;<span class="num" id="8278267">0x9c</span><span class="op" id="8278271">,</span>&nbsp;<span class="num" id="8278273">0xff</span><span class="op" id="8278277">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278281">}</span><span class="op" id="8278282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278286">nil</span><span class="op" id="8278289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278293">nil</span><span class="op" id="8278296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278299">}</span><span class="op" id="8278300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278303">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278307">&#34;dictionary&#34;</span><span class="op" id="8278319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278323">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="8278340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278344">[</span><span class="op" id="8278345">]</span><span class="builtintype" id="8278346">byte</span><span class="op" id="8278350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278355">0x78</span><span class="op" id="8278359">,</span>&nbsp;<span class="num" id="8278361">0xbb</span><span class="op" id="8278365">,</span>&nbsp;<span class="num" id="8278367">0x1c</span><span class="op" id="8278371">,</span>&nbsp;<span class="num" id="8278373">0x32</span><span class="op" id="8278377">,</span>&nbsp;<span class="num" id="8278379">0x04</span><span class="op" id="8278383">,</span>&nbsp;<span class="num" id="8278385">0x27</span><span class="op" id="8278389">,</span>&nbsp;<span class="num" id="8278391">0xf3</span><span class="op" id="8278395">,</span>&nbsp;<span class="num" id="8278397">0x00</span><span class="op" id="8278401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278406">0xb1</span><span class="op" id="8278410">,</span>&nbsp;<span class="num" id="8278412">0x75</span><span class="op" id="8278416">,</span>&nbsp;<span class="num" id="8278418">0x20</span><span class="op" id="8278422">,</span>&nbsp;<span class="num" id="8278424">0x1c</span><span class="op" id="8278428">,</span>&nbsp;<span class="num" id="8278430">0x45</span><span class="op" id="8278434">,</span>&nbsp;<span class="num" id="8278436">0x2e</span><span class="op" id="8278440">,</span>&nbsp;<span class="num" id="8278442">0x00</span><span class="op" id="8278446">,</span>&nbsp;<span class="num" id="8278448">0x24</span><span class="op" id="8278452">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278457">0x12</span><span class="op" id="8278461">,</span>&nbsp;<span class="num" id="8278463">0x04</span><span class="op" id="8278467">,</span>&nbsp;<span class="num" id="8278469">0x74</span><span class="op" id="8278473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278477">}</span><span class="op" id="8278478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278482">[</span><span class="op" id="8278483">]</span><span class="builtintype" id="8278484">byte</span><span class="op" id="8278488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278493">0x48</span><span class="op" id="8278497">,</span>&nbsp;<span class="num" id="8278499">0x65</span><span class="op" id="8278503">,</span>&nbsp;<span class="num" id="8278505">0x6c</span><span class="op" id="8278509">,</span>&nbsp;<span class="num" id="8278511">0x6c</span><span class="op" id="8278515">,</span>&nbsp;<span class="num" id="8278517">0x6f</span><span class="op" id="8278521">,</span>&nbsp;<span class="num" id="8278523">0x20</span><span class="op" id="8278527">,</span>&nbsp;<span class="num" id="8278529">0x57</span><span class="op" id="8278533">,</span>&nbsp;<span class="num" id="8278535">0x6f</span><span class="op" id="8278539">,</span>&nbsp;<span class="num" id="8278541">0x72</span><span class="op" id="8278545">,</span>&nbsp;<span class="num" id="8278547">0x6c</span><span class="op" id="8278551">,</span>&nbsp;<span class="num" id="8278553">0x64</span><span class="op" id="8278557">,</span>&nbsp;<span class="num" id="8278559">0x0a</span><span class="op" id="8278563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278567">}</span><span class="op" id="8278568">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278572">nil</span><span class="op" id="8278575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278578">}</span><span class="op" id="8278579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278586">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="8278604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8278608">&#34;&#34;</span><span class="op" id="8278610">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278614">[</span><span class="op" id="8278615">]</span><span class="builtintype" id="8278616">byte</span><span class="op" id="8278620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278625">0x78</span><span class="op" id="8278629">,</span>&nbsp;<span class="num" id="8278631">0xbb</span><span class="op" id="8278635">,</span>&nbsp;<span class="num" id="8278637">0x1c</span><span class="op" id="8278641">,</span>&nbsp;<span class="num" id="8278643">0x32</span><span class="op" id="8278647">,</span>&nbsp;<span class="num" id="8278649">0x04</span><span class="op" id="8278653">,</span>&nbsp;<span class="num" id="8278655">0x27</span><span class="op" id="8278659">,</span>&nbsp;<span class="num" id="8278661">0xf3</span><span class="op" id="8278665">,</span>&nbsp;<span class="num" id="8278667">0x00</span><span class="op" id="8278671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278676">0xb1</span><span class="op" id="8278680">,</span>&nbsp;<span class="num" id="8278682">0x75</span><span class="op" id="8278686">,</span>&nbsp;<span class="num" id="8278688">0x20</span><span class="op" id="8278692">,</span>&nbsp;<span class="num" id="8278694">0x1c</span><span class="op" id="8278698">,</span>&nbsp;<span class="num" id="8278700">0x45</span><span class="op" id="8278704">,</span>&nbsp;<span class="num" id="8278706">0x2e</span><span class="op" id="8278710">,</span>&nbsp;<span class="num" id="8278712">0x00</span><span class="op" id="8278716">,</span>&nbsp;<span class="num" id="8278718">0x24</span><span class="op" id="8278722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278727">0x12</span><span class="op" id="8278731">,</span>&nbsp;<span class="num" id="8278733">0x04</span><span class="op" id="8278737">,</span>&nbsp;<span class="num" id="8278739">0x74</span><span class="op" id="8278743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278747">}</span><span class="op" id="8278748">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278752">[</span><span class="op" id="8278753">]</span><span class="builtintype" id="8278754">byte</span><span class="op" id="8278758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8278763">0x48</span><span class="op" id="8278767">,</span>&nbsp;<span class="num" id="8278769">0x65</span><span class="op" id="8278773">,</span>&nbsp;<span class="num" id="8278775">0x6c</span><span class="op" id="8278779">,</span>&nbsp;<span class="num" id="8278781">0x6c</span><span class="op" id="8278785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278789">}</span><span class="op" id="8278790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278794">ErrDictionary</span><span class="op" id="8278807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8278810">}</span><span class="op" id="8278811">,</span><br>
<span class="lineno">100</span><span class="op" id="8278813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8278816">func</span>&nbsp;<span class="ident" id="8278821">TestDecompressor</span><span class="op" id="8278837">(</span><span class="ident" id="8278838">t</span>&nbsp;<span class="op" id="8278840">*</span><span class="ident" id="8278841">testing</span><span class="op" id="8278848">.</span><span class="ident" id="8278849">T</span><span class="op" id="8278850">)</span>&nbsp;<span class="op" id="8278852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278855">b</span>&nbsp;<span class="op" id="8278857">:=</span>&nbsp;<span class="builtinfunc" id="8278860">new</span><span class="op" id="8278863">(</span><span class="ident" id="8278864">bytes</span><span class="op" id="8278869">.</span><span class="ident" id="8278870">Buffer</span><span class="op" id="8278876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8278879">for</span>&nbsp;<span class="ident" id="8278883">_</span><span class="op" id="8278884">,</span>&nbsp;<span class="ident" id="8278886">tt</span>&nbsp;<span class="op" id="8278889">:=</span>&nbsp;<span class="keyword" id="8278892">range</span>&nbsp;<span class="ident" id="8278898">zlibTests</span>&nbsp;<span class="op" id="8278908">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278912">in</span>&nbsp;<span class="op" id="8278915">:=</span>&nbsp;<span class="ident" id="8278918">bytes</span><span class="op" id="8278923">.</span><span class="ident" id="8278924">NewReader</span><span class="op" id="8278933">(</span><span class="ident" id="8278934">tt</span><span class="op" id="8278936">.</span><span class="ident" id="8278937">compressed</span><span class="op" id="8278947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8278951">zlib</span><span class="op" id="8278955">,</span>&nbsp;<span class="ident" id="8278957">err</span>&nbsp;<span class="op" id="8278961">:=</span>&nbsp;<span class="ident" id="8278964">NewReaderDict</span><span class="op" id="8278977">(</span><span class="ident" id="8278978">in</span><span class="op" id="8278980">,</span>&nbsp;<span class="ident" id="8278982">tt</span><span class="op" id="8278984">.</span><span class="ident" id="8278985">dict</span><span class="op" id="8278989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8278993">if</span>&nbsp;<span class="ident" id="8278996">err</span>&nbsp;<span class="op" id="8279000">!=</span>&nbsp;<span class="ident" id="8279003">nil</span>&nbsp;<span class="op" id="8279007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8279012">if</span>&nbsp;<span class="ident" id="8279015">err</span>&nbsp;<span class="op" id="8279019">!=</span>&nbsp;<span class="ident" id="8279022">tt</span><span class="op" id="8279024">.</span><span class="ident" id="8279025">err</span>&nbsp;<span class="op" id="8279029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279035">t</span><span class="op" id="8279036">.</span><span class="ident" id="8279037">Errorf</span><span class="op" id="8279043">(</span><span class="string" id="8279044">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="8279063">,</span>&nbsp;<span class="ident" id="8279065">tt</span><span class="op" id="8279067">.</span><span class="ident" id="8279068">desc</span><span class="op" id="8279072">,</span>&nbsp;<span class="ident" id="8279074">err</span><span class="op" id="8279077">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8279087">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8279102">defer</span>&nbsp;<span class="ident" id="8279108">zlib</span><span class="op" id="8279112">.</span><span class="ident" id="8279113">Close</span><span class="op" id="8279118">(</span><span class="op" id="8279119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279123">b</span><span class="op" id="8279124">.</span><span class="ident" id="8279125">Reset</span><span class="op" id="8279130">(</span><span class="op" id="8279131">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279135">n</span><span class="op" id="8279136">,</span>&nbsp;<span class="ident" id="8279138">err</span>&nbsp;<span class="op" id="8279142">:=</span>&nbsp;<span class="ident" id="8279145">io</span><span class="op" id="8279147">.</span><span class="ident" id="8279148">Copy</span><span class="op" id="8279152">(</span><span class="ident" id="8279153">b</span><span class="op" id="8279154">,</span>&nbsp;<span class="ident" id="8279156">zlib</span><span class="op" id="8279160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8279164">if</span>&nbsp;<span class="ident" id="8279167">err</span>&nbsp;<span class="op" id="8279171">!=</span>&nbsp;<span class="ident" id="8279174">nil</span>&nbsp;<span class="op" id="8279178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8279183">if</span>&nbsp;<span class="ident" id="8279186">err</span>&nbsp;<span class="op" id="8279190">!=</span>&nbsp;<span class="ident" id="8279193">tt</span><span class="op" id="8279195">.</span><span class="ident" id="8279196">err</span>&nbsp;<span class="op" id="8279200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279206">t</span><span class="op" id="8279207">.</span><span class="ident" id="8279208">Errorf</span><span class="op" id="8279214">(</span><span class="string" id="8279215">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8279240">,</span>&nbsp;<span class="ident" id="8279242">tt</span><span class="op" id="8279244">.</span><span class="ident" id="8279245">desc</span><span class="op" id="8279249">,</span>&nbsp;<span class="ident" id="8279251">err</span><span class="op" id="8279254">,</span>&nbsp;<span class="ident" id="8279256">tt</span><span class="op" id="8279258">.</span><span class="ident" id="8279259">err</span><span class="op" id="8279262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279267">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8279272">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279287">s</span>&nbsp;<span class="op" id="8279289">:=</span>&nbsp;<span class="ident" id="8279292">b</span><span class="op" id="8279293">.</span><span class="ident" id="8279294">String</span><span class="op" id="8279300">(</span><span class="op" id="8279301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8279305">if</span>&nbsp;<span class="ident" id="8279308">s</span>&nbsp;<span class="op" id="8279310">!=</span>&nbsp;<span class="ident" id="8279313">tt</span><span class="op" id="8279315">.</span><span class="ident" id="8279316">raw</span>&nbsp;<span class="op" id="8279320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8279325">t</span><span class="op" id="8279326">.</span><span class="ident" id="8279327">Errorf</span><span class="op" id="8279333">(</span><span class="string" id="8279334">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="8279370">,</span>&nbsp;<span class="ident" id="8279372">tt</span><span class="op" id="8279374">.</span><span class="ident" id="8279375">desc</span><span class="op" id="8279379">,</span>&nbsp;<span class="ident" id="8279381">n</span><span class="op" id="8279382">,</span>&nbsp;<span class="ident" id="8279384">s</span><span class="op" id="8279385">,</span>&nbsp;<span class="builtinfunc" id="8279387">len</span><span class="op" id="8279390">(</span><span class="ident" id="8279391">tt</span><span class="op" id="8279393">.</span><span class="ident" id="8279394">raw</span><span class="op" id="8279397">)</span><span class="op" id="8279398">,</span>&nbsp;<span class="ident" id="8279400">tt</span><span class="op" id="8279402">.</span><span class="ident" id="8279403">raw</span><span class="op" id="8279406">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8279413">}</span><br>
<span class="lineno"></span><span class="op" id="8279415">}</span>
</div>
</body>
</html>
