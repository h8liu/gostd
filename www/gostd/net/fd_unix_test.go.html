<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html" class="current">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7519182">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7519237">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7519291">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7519342">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7519407">package</span>&nbsp;<span class="ident" id="7519415">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7519420">import</span>&nbsp;<span class="op" id="7519427">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7519430">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7519436">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7519447">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7519457">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7519460">var</span>&nbsp;<span class="ident" id="7519464">chkReadErrTests</span>&nbsp;<span class="op" id="7519480">=</span>&nbsp;<span class="op" id="7519482">[</span><span class="op" id="7519483">]</span><span class="keyword" id="7519484">struct</span>&nbsp;<span class="op" id="7519491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519494">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7519503">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519508">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7519517">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519524">fd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519533">*</span><span class="ident" id="7519534">netFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519541">expected</span>&nbsp;<span class="builtintype" id="7519550">error</span><br>
<span class="lineno">20</span><span class="op" id="7519556">}</span><span class="op" id="7519557">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519561">{</span><span class="num" id="7519562">100</span><span class="op" id="7519565">,</span>&nbsp;<span class="ident" id="7519567">nil</span><span class="op" id="7519570">,</span>&nbsp;<span class="op" id="7519572">&amp;</span><span class="ident" id="7519573">netFD</span><span class="op" id="7519578">{</span><span class="ident" id="7519579">sotype</span><span class="op" id="7519585">:</span>&nbsp;<span class="ident" id="7519587">syscall</span><span class="op" id="7519594">.</span><span class="ident" id="7519595">SOCK_STREAM</span><span class="op" id="7519606">}</span><span class="op" id="7519607">,</span>&nbsp;<span class="ident" id="7519609">nil</span><span class="op" id="7519612">}</span><span class="op" id="7519613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519616">{</span><span class="num" id="7519617">100</span><span class="op" id="7519620">,</span>&nbsp;<span class="ident" id="7519622">io</span><span class="op" id="7519624">.</span><span class="ident" id="7519625">EOF</span><span class="op" id="7519628">,</span>&nbsp;<span class="op" id="7519630">&amp;</span><span class="ident" id="7519631">netFD</span><span class="op" id="7519636">{</span><span class="ident" id="7519637">sotype</span><span class="op" id="7519643">:</span>&nbsp;<span class="ident" id="7519645">syscall</span><span class="op" id="7519652">.</span><span class="ident" id="7519653">SOCK_STREAM</span><span class="op" id="7519664">}</span><span class="op" id="7519665">,</span>&nbsp;<span class="ident" id="7519667">io</span><span class="op" id="7519669">.</span><span class="ident" id="7519670">EOF</span><span class="op" id="7519673">}</span><span class="op" id="7519674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519677">{</span><span class="num" id="7519678">100</span><span class="op" id="7519681">,</span>&nbsp;<span class="ident" id="7519683">errClosing</span><span class="op" id="7519693">,</span>&nbsp;<span class="op" id="7519695">&amp;</span><span class="ident" id="7519696">netFD</span><span class="op" id="7519701">{</span><span class="ident" id="7519702">sotype</span><span class="op" id="7519708">:</span>&nbsp;<span class="ident" id="7519710">syscall</span><span class="op" id="7519717">.</span><span class="ident" id="7519718">SOCK_STREAM</span><span class="op" id="7519729">}</span><span class="op" id="7519730">,</span>&nbsp;<span class="ident" id="7519732">errClosing</span><span class="op" id="7519742">}</span><span class="op" id="7519743">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519746">{</span><span class="num" id="7519747">0</span><span class="op" id="7519748">,</span>&nbsp;<span class="ident" id="7519750">nil</span><span class="op" id="7519753">,</span>&nbsp;<span class="op" id="7519755">&amp;</span><span class="ident" id="7519756">netFD</span><span class="op" id="7519761">{</span><span class="ident" id="7519762">sotype</span><span class="op" id="7519768">:</span>&nbsp;<span class="ident" id="7519770">syscall</span><span class="op" id="7519777">.</span><span class="ident" id="7519778">SOCK_STREAM</span><span class="op" id="7519789">}</span><span class="op" id="7519790">,</span>&nbsp;<span class="ident" id="7519792">io</span><span class="op" id="7519794">.</span><span class="ident" id="7519795">EOF</span><span class="op" id="7519798">}</span><span class="op" id="7519799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519802">{</span><span class="num" id="7519803">0</span><span class="op" id="7519804">,</span>&nbsp;<span class="ident" id="7519806">io</span><span class="op" id="7519808">.</span><span class="ident" id="7519809">EOF</span><span class="op" id="7519812">,</span>&nbsp;<span class="op" id="7519814">&amp;</span><span class="ident" id="7519815">netFD</span><span class="op" id="7519820">{</span><span class="ident" id="7519821">sotype</span><span class="op" id="7519827">:</span>&nbsp;<span class="ident" id="7519829">syscall</span><span class="op" id="7519836">.</span><span class="ident" id="7519837">SOCK_STREAM</span><span class="op" id="7519848">}</span><span class="op" id="7519849">,</span>&nbsp;<span class="ident" id="7519851">io</span><span class="op" id="7519853">.</span><span class="ident" id="7519854">EOF</span><span class="op" id="7519857">}</span><span class="op" id="7519858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519861">{</span><span class="num" id="7519862">0</span><span class="op" id="7519863">,</span>&nbsp;<span class="ident" id="7519865">errClosing</span><span class="op" id="7519875">,</span>&nbsp;<span class="op" id="7519877">&amp;</span><span class="ident" id="7519878">netFD</span><span class="op" id="7519883">{</span><span class="ident" id="7519884">sotype</span><span class="op" id="7519890">:</span>&nbsp;<span class="ident" id="7519892">syscall</span><span class="op" id="7519899">.</span><span class="ident" id="7519900">SOCK_STREAM</span><span class="op" id="7519911">}</span><span class="op" id="7519912">,</span>&nbsp;<span class="ident" id="7519914">errClosing</span><span class="op" id="7519924">}</span><span class="op" id="7519925">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519929">{</span><span class="num" id="7519930">100</span><span class="op" id="7519933">,</span>&nbsp;<span class="ident" id="7519935">nil</span><span class="op" id="7519938">,</span>&nbsp;<span class="op" id="7519940">&amp;</span><span class="ident" id="7519941">netFD</span><span class="op" id="7519946">{</span><span class="ident" id="7519947">sotype</span><span class="op" id="7519953">:</span>&nbsp;<span class="ident" id="7519955">syscall</span><span class="op" id="7519962">.</span><span class="ident" id="7519963">SOCK_DGRAM</span><span class="op" id="7519973">}</span><span class="op" id="7519974">,</span>&nbsp;<span class="ident" id="7519976">nil</span><span class="op" id="7519979">}</span><span class="op" id="7519980">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519983">{</span><span class="num" id="7519984">100</span><span class="op" id="7519987">,</span>&nbsp;<span class="ident" id="7519989">io</span><span class="op" id="7519991">.</span><span class="ident" id="7519992">EOF</span><span class="op" id="7519995">,</span>&nbsp;<span class="op" id="7519997">&amp;</span><span class="ident" id="7519998">netFD</span><span class="op" id="7520003">{</span><span class="ident" id="7520004">sotype</span><span class="op" id="7520010">:</span>&nbsp;<span class="ident" id="7520012">syscall</span><span class="op" id="7520019">.</span><span class="ident" id="7520020">SOCK_DGRAM</span><span class="op" id="7520030">}</span><span class="op" id="7520031">,</span>&nbsp;<span class="ident" id="7520033">io</span><span class="op" id="7520035">.</span><span class="ident" id="7520036">EOF</span><span class="op" id="7520039">}</span><span class="op" id="7520040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520043">{</span><span class="num" id="7520044">100</span><span class="op" id="7520047">,</span>&nbsp;<span class="ident" id="7520049">errClosing</span><span class="op" id="7520059">,</span>&nbsp;<span class="op" id="7520061">&amp;</span><span class="ident" id="7520062">netFD</span><span class="op" id="7520067">{</span><span class="ident" id="7520068">sotype</span><span class="op" id="7520074">:</span>&nbsp;<span class="ident" id="7520076">syscall</span><span class="op" id="7520083">.</span><span class="ident" id="7520084">SOCK_DGRAM</span><span class="op" id="7520094">}</span><span class="op" id="7520095">,</span>&nbsp;<span class="ident" id="7520097">errClosing</span><span class="op" id="7520107">}</span><span class="op" id="7520108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520111">{</span><span class="num" id="7520112">0</span><span class="op" id="7520113">,</span>&nbsp;<span class="ident" id="7520115">nil</span><span class="op" id="7520118">,</span>&nbsp;<span class="op" id="7520120">&amp;</span><span class="ident" id="7520121">netFD</span><span class="op" id="7520126">{</span><span class="ident" id="7520127">sotype</span><span class="op" id="7520133">:</span>&nbsp;<span class="ident" id="7520135">syscall</span><span class="op" id="7520142">.</span><span class="ident" id="7520143">SOCK_DGRAM</span><span class="op" id="7520153">}</span><span class="op" id="7520154">,</span>&nbsp;<span class="ident" id="7520156">nil</span><span class="op" id="7520159">}</span><span class="op" id="7520160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520163">{</span><span class="num" id="7520164">0</span><span class="op" id="7520165">,</span>&nbsp;<span class="ident" id="7520167">io</span><span class="op" id="7520169">.</span><span class="ident" id="7520170">EOF</span><span class="op" id="7520173">,</span>&nbsp;<span class="op" id="7520175">&amp;</span><span class="ident" id="7520176">netFD</span><span class="op" id="7520181">{</span><span class="ident" id="7520182">sotype</span><span class="op" id="7520188">:</span>&nbsp;<span class="ident" id="7520190">syscall</span><span class="op" id="7520197">.</span><span class="ident" id="7520198">SOCK_DGRAM</span><span class="op" id="7520208">}</span><span class="op" id="7520209">,</span>&nbsp;<span class="ident" id="7520211">io</span><span class="op" id="7520213">.</span><span class="ident" id="7520214">EOF</span><span class="op" id="7520217">}</span><span class="op" id="7520218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520221">{</span><span class="num" id="7520222">0</span><span class="op" id="7520223">,</span>&nbsp;<span class="ident" id="7520225">errClosing</span><span class="op" id="7520235">,</span>&nbsp;<span class="op" id="7520237">&amp;</span><span class="ident" id="7520238">netFD</span><span class="op" id="7520243">{</span><span class="ident" id="7520244">sotype</span><span class="op" id="7520250">:</span>&nbsp;<span class="ident" id="7520252">syscall</span><span class="op" id="7520259">.</span><span class="ident" id="7520260">SOCK_DGRAM</span><span class="op" id="7520270">}</span><span class="op" id="7520271">,</span>&nbsp;<span class="ident" id="7520273">errClosing</span><span class="op" id="7520283">}</span><span class="op" id="7520284">,</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520288">{</span><span class="num" id="7520289">100</span><span class="op" id="7520292">,</span>&nbsp;<span class="ident" id="7520294">nil</span><span class="op" id="7520297">,</span>&nbsp;<span class="op" id="7520299">&amp;</span><span class="ident" id="7520300">netFD</span><span class="op" id="7520305">{</span><span class="ident" id="7520306">sotype</span><span class="op" id="7520312">:</span>&nbsp;<span class="ident" id="7520314">syscall</span><span class="op" id="7520321">.</span><span class="ident" id="7520322">SOCK_SEQPACKET</span><span class="op" id="7520336">}</span><span class="op" id="7520337">,</span>&nbsp;<span class="ident" id="7520339">nil</span><span class="op" id="7520342">}</span><span class="op" id="7520343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520346">{</span><span class="num" id="7520347">100</span><span class="op" id="7520350">,</span>&nbsp;<span class="ident" id="7520352">io</span><span class="op" id="7520354">.</span><span class="ident" id="7520355">EOF</span><span class="op" id="7520358">,</span>&nbsp;<span class="op" id="7520360">&amp;</span><span class="ident" id="7520361">netFD</span><span class="op" id="7520366">{</span><span class="ident" id="7520367">sotype</span><span class="op" id="7520373">:</span>&nbsp;<span class="ident" id="7520375">syscall</span><span class="op" id="7520382">.</span><span class="ident" id="7520383">SOCK_SEQPACKET</span><span class="op" id="7520397">}</span><span class="op" id="7520398">,</span>&nbsp;<span class="ident" id="7520400">io</span><span class="op" id="7520402">.</span><span class="ident" id="7520403">EOF</span><span class="op" id="7520406">}</span><span class="op" id="7520407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520410">{</span><span class="num" id="7520411">100</span><span class="op" id="7520414">,</span>&nbsp;<span class="ident" id="7520416">errClosing</span><span class="op" id="7520426">,</span>&nbsp;<span class="op" id="7520428">&amp;</span><span class="ident" id="7520429">netFD</span><span class="op" id="7520434">{</span><span class="ident" id="7520435">sotype</span><span class="op" id="7520441">:</span>&nbsp;<span class="ident" id="7520443">syscall</span><span class="op" id="7520450">.</span><span class="ident" id="7520451">SOCK_SEQPACKET</span><span class="op" id="7520465">}</span><span class="op" id="7520466">,</span>&nbsp;<span class="ident" id="7520468">errClosing</span><span class="op" id="7520478">}</span><span class="op" id="7520479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520482">{</span><span class="num" id="7520483">0</span><span class="op" id="7520484">,</span>&nbsp;<span class="ident" id="7520486">nil</span><span class="op" id="7520489">,</span>&nbsp;<span class="op" id="7520491">&amp;</span><span class="ident" id="7520492">netFD</span><span class="op" id="7520497">{</span><span class="ident" id="7520498">sotype</span><span class="op" id="7520504">:</span>&nbsp;<span class="ident" id="7520506">syscall</span><span class="op" id="7520513">.</span><span class="ident" id="7520514">SOCK_SEQPACKET</span><span class="op" id="7520528">}</span><span class="op" id="7520529">,</span>&nbsp;<span class="ident" id="7520531">io</span><span class="op" id="7520533">.</span><span class="ident" id="7520534">EOF</span><span class="op" id="7520537">}</span><span class="op" id="7520538">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520541">{</span><span class="num" id="7520542">0</span><span class="op" id="7520543">,</span>&nbsp;<span class="ident" id="7520545">io</span><span class="op" id="7520547">.</span><span class="ident" id="7520548">EOF</span><span class="op" id="7520551">,</span>&nbsp;<span class="op" id="7520553">&amp;</span><span class="ident" id="7520554">netFD</span><span class="op" id="7520559">{</span><span class="ident" id="7520560">sotype</span><span class="op" id="7520566">:</span>&nbsp;<span class="ident" id="7520568">syscall</span><span class="op" id="7520575">.</span><span class="ident" id="7520576">SOCK_SEQPACKET</span><span class="op" id="7520590">}</span><span class="op" id="7520591">,</span>&nbsp;<span class="ident" id="7520593">io</span><span class="op" id="7520595">.</span><span class="ident" id="7520596">EOF</span><span class="op" id="7520599">}</span><span class="op" id="7520600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520603">{</span><span class="num" id="7520604">0</span><span class="op" id="7520605">,</span>&nbsp;<span class="ident" id="7520607">errClosing</span><span class="op" id="7520617">,</span>&nbsp;<span class="op" id="7520619">&amp;</span><span class="ident" id="7520620">netFD</span><span class="op" id="7520625">{</span><span class="ident" id="7520626">sotype</span><span class="op" id="7520632">:</span>&nbsp;<span class="ident" id="7520634">syscall</span><span class="op" id="7520641">.</span><span class="ident" id="7520642">SOCK_SEQPACKET</span><span class="op" id="7520656">}</span><span class="op" id="7520657">,</span>&nbsp;<span class="ident" id="7520659">errClosing</span><span class="op" id="7520669">}</span><span class="op" id="7520670">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520674">{</span><span class="num" id="7520675">100</span><span class="op" id="7520678">,</span>&nbsp;<span class="ident" id="7520680">nil</span><span class="op" id="7520683">,</span>&nbsp;<span class="op" id="7520685">&amp;</span><span class="ident" id="7520686">netFD</span><span class="op" id="7520691">{</span><span class="ident" id="7520692">sotype</span><span class="op" id="7520698">:</span>&nbsp;<span class="ident" id="7520700">syscall</span><span class="op" id="7520707">.</span><span class="ident" id="7520708">SOCK_RAW</span><span class="op" id="7520716">}</span><span class="op" id="7520717">,</span>&nbsp;<span class="ident" id="7520719">nil</span><span class="op" id="7520722">}</span><span class="op" id="7520723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520726">{</span><span class="num" id="7520727">100</span><span class="op" id="7520730">,</span>&nbsp;<span class="ident" id="7520732">io</span><span class="op" id="7520734">.</span><span class="ident" id="7520735">EOF</span><span class="op" id="7520738">,</span>&nbsp;<span class="op" id="7520740">&amp;</span><span class="ident" id="7520741">netFD</span><span class="op" id="7520746">{</span><span class="ident" id="7520747">sotype</span><span class="op" id="7520753">:</span>&nbsp;<span class="ident" id="7520755">syscall</span><span class="op" id="7520762">.</span><span class="ident" id="7520763">SOCK_RAW</span><span class="op" id="7520771">}</span><span class="op" id="7520772">,</span>&nbsp;<span class="ident" id="7520774">io</span><span class="op" id="7520776">.</span><span class="ident" id="7520777">EOF</span><span class="op" id="7520780">}</span><span class="op" id="7520781">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520784">{</span><span class="num" id="7520785">100</span><span class="op" id="7520788">,</span>&nbsp;<span class="ident" id="7520790">errClosing</span><span class="op" id="7520800">,</span>&nbsp;<span class="op" id="7520802">&amp;</span><span class="ident" id="7520803">netFD</span><span class="op" id="7520808">{</span><span class="ident" id="7520809">sotype</span><span class="op" id="7520815">:</span>&nbsp;<span class="ident" id="7520817">syscall</span><span class="op" id="7520824">.</span><span class="ident" id="7520825">SOCK_RAW</span><span class="op" id="7520833">}</span><span class="op" id="7520834">,</span>&nbsp;<span class="ident" id="7520836">errClosing</span><span class="op" id="7520846">}</span><span class="op" id="7520847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520850">{</span><span class="num" id="7520851">0</span><span class="op" id="7520852">,</span>&nbsp;<span class="ident" id="7520854">nil</span><span class="op" id="7520857">,</span>&nbsp;<span class="op" id="7520859">&amp;</span><span class="ident" id="7520860">netFD</span><span class="op" id="7520865">{</span><span class="ident" id="7520866">sotype</span><span class="op" id="7520872">:</span>&nbsp;<span class="ident" id="7520874">syscall</span><span class="op" id="7520881">.</span><span class="ident" id="7520882">SOCK_RAW</span><span class="op" id="7520890">}</span><span class="op" id="7520891">,</span>&nbsp;<span class="ident" id="7520893">nil</span><span class="op" id="7520896">}</span><span class="op" id="7520897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520900">{</span><span class="num" id="7520901">0</span><span class="op" id="7520902">,</span>&nbsp;<span class="ident" id="7520904">io</span><span class="op" id="7520906">.</span><span class="ident" id="7520907">EOF</span><span class="op" id="7520910">,</span>&nbsp;<span class="op" id="7520912">&amp;</span><span class="ident" id="7520913">netFD</span><span class="op" id="7520918">{</span><span class="ident" id="7520919">sotype</span><span class="op" id="7520925">:</span>&nbsp;<span class="ident" id="7520927">syscall</span><span class="op" id="7520934">.</span><span class="ident" id="7520935">SOCK_RAW</span><span class="op" id="7520943">}</span><span class="op" id="7520944">,</span>&nbsp;<span class="ident" id="7520946">io</span><span class="op" id="7520948">.</span><span class="ident" id="7520949">EOF</span><span class="op" id="7520952">}</span><span class="op" id="7520953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520956">{</span><span class="num" id="7520957">0</span><span class="op" id="7520958">,</span>&nbsp;<span class="ident" id="7520960">errClosing</span><span class="op" id="7520970">,</span>&nbsp;<span class="op" id="7520972">&amp;</span><span class="ident" id="7520973">netFD</span><span class="op" id="7520978">{</span><span class="ident" id="7520979">sotype</span><span class="op" id="7520985">:</span>&nbsp;<span class="ident" id="7520987">syscall</span><span class="op" id="7520994">.</span><span class="ident" id="7520995">SOCK_RAW</span><span class="op" id="7521003">}</span><span class="op" id="7521004">,</span>&nbsp;<span class="ident" id="7521006">errClosing</span><span class="op" id="7521016">}</span><span class="op" id="7521017">,</span><br>
<span class="lineno"></span><span class="op" id="7521019">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7521022">func</span>&nbsp;<span class="ident" id="7521027">TestChkReadErr</span><span class="op" id="7521041">(</span><span class="ident" id="7521042">t</span>&nbsp;<span class="op" id="7521044">*</span><span class="ident" id="7521045">testing</span><span class="op" id="7521052">.</span><span class="ident" id="7521053">T</span><span class="op" id="7521054">)</span>&nbsp;<span class="op" id="7521056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7521059">for</span>&nbsp;<span class="ident" id="7521063">_</span><span class="op" id="7521064">,</span>&nbsp;<span class="ident" id="7521066">tt</span>&nbsp;<span class="op" id="7521069">:=</span>&nbsp;<span class="keyword" id="7521072">range</span>&nbsp;<span class="ident" id="7521078">chkReadErrTests</span>&nbsp;<span class="op" id="7521094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7521098">actual</span>&nbsp;<span class="op" id="7521105">:=</span>&nbsp;<span class="ident" id="7521108">chkReadErr</span><span class="op" id="7521118">(</span><span class="ident" id="7521119">tt</span><span class="op" id="7521121">.</span><span class="ident" id="7521122">n</span><span class="op" id="7521123">,</span>&nbsp;<span class="ident" id="7521125">tt</span><span class="op" id="7521127">.</span><span class="ident" id="7521128">err</span><span class="op" id="7521131">,</span>&nbsp;<span class="ident" id="7521133">tt</span><span class="op" id="7521135">.</span><span class="ident" id="7521136">fd</span><span class="op" id="7521138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7521142">if</span>&nbsp;<span class="ident" id="7521145">actual</span>&nbsp;<span class="op" id="7521152">!=</span>&nbsp;<span class="ident" id="7521155">tt</span><span class="op" id="7521157">.</span><span class="ident" id="7521158">expected</span>&nbsp;<span class="op" id="7521167">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7521172">t</span><span class="op" id="7521173">.</span><span class="ident" id="7521174">Errorf</span><span class="op" id="7521180">(</span><span class="string" id="7521181">&#34;chkReadError(%v,&nbsp;%v,&nbsp;%v):&nbsp;expected&nbsp;%v,&nbsp;actual&nbsp;%v&#34;</span><span class="op" id="7521231">,</span>&nbsp;<span class="ident" id="7521233">tt</span><span class="op" id="7521235">.</span><span class="ident" id="7521236">n</span><span class="op" id="7521237">,</span>&nbsp;<span class="ident" id="7521239">tt</span><span class="op" id="7521241">.</span><span class="ident" id="7521242">err</span><span class="op" id="7521245">,</span>&nbsp;<span class="ident" id="7521247">tt</span><span class="op" id="7521249">.</span><span class="ident" id="7521250">fd</span><span class="op" id="7521252">.</span><span class="ident" id="7521253">sotype</span><span class="op" id="7521259">,</span>&nbsp;<span class="ident" id="7521261">tt</span><span class="op" id="7521263">.</span><span class="ident" id="7521264">expected</span><span class="op" id="7521272">,</span>&nbsp;<span class="ident" id="7521274">actual</span><span class="op" id="7521280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7521284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7521287">}</span><br>
<span class="lineno"></span><span class="op" id="7521289">}</span>
</div>
</body>
</html>
