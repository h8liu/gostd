<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path</h2>
<ul>
<li><a href="/gostd/path/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/path/match.go.html">match.go</a></li>
<li><a href="/gostd/path/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/path.go.html">path.go</a></li>
<li><a href="/gostd/path/path_test.go.html" class="current">path_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7728756">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7728811">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7728865">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7728916">package</span>&nbsp;<span class="ident" id="7728924">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7728930">import</span>&nbsp;<span class="op" id="7728937">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7728940">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7728951">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7728961">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7728964">type</span>&nbsp;<span class="ident" id="7728969">PathTest</span>&nbsp;<span class="keyword" id="7728978">struct</span>&nbsp;<span class="op" id="7728985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7728988">path</span><span class="op" id="7728992">,</span>&nbsp;<span class="ident" id="7728994">result</span>&nbsp;<span class="builtintype" id="7729001">string</span><br>
<span class="lineno"></span><span class="op" id="7729008">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7729011">var</span>&nbsp;<span class="ident" id="7729015">cleantests</span>&nbsp;<span class="op" id="7729026">=</span>&nbsp;<span class="op" id="7729028">[</span><span class="op" id="7729029">]</span><span class="ident" id="7729030">PathTest</span><span class="op" id="7729038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7729041">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729059">{</span><span class="string" id="7729060">&#34;&#34;</span><span class="op" id="7729062">,</span>&nbsp;<span class="string" id="7729064">&#34;.&#34;</span><span class="op" id="7729067">}</span><span class="op" id="7729068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729071">{</span><span class="string" id="7729072">&#34;abc&#34;</span><span class="op" id="7729077">,</span>&nbsp;<span class="string" id="7729079">&#34;abc&#34;</span><span class="op" id="7729084">}</span><span class="op" id="7729085">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729088">{</span><span class="string" id="7729089">&#34;abc/def&#34;</span><span class="op" id="7729098">,</span>&nbsp;<span class="string" id="7729100">&#34;abc/def&#34;</span><span class="op" id="7729109">}</span><span class="op" id="7729110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729113">{</span><span class="string" id="7729114">&#34;a/b/c&#34;</span><span class="op" id="7729121">,</span>&nbsp;<span class="string" id="7729123">&#34;a/b/c&#34;</span><span class="op" id="7729130">}</span><span class="op" id="7729131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729134">{</span><span class="string" id="7729135">&#34;.&#34;</span><span class="op" id="7729138">,</span>&nbsp;<span class="string" id="7729140">&#34;.&#34;</span><span class="op" id="7729143">}</span><span class="op" id="7729144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729147">{</span><span class="string" id="7729148">&#34;..&#34;</span><span class="op" id="7729152">,</span>&nbsp;<span class="string" id="7729154">&#34;..&#34;</span><span class="op" id="7729158">}</span><span class="op" id="7729159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729162">{</span><span class="string" id="7729163">&#34;../..&#34;</span><span class="op" id="7729170">,</span>&nbsp;<span class="string" id="7729172">&#34;../..&#34;</span><span class="op" id="7729179">}</span><span class="op" id="7729180">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729183">{</span><span class="string" id="7729184">&#34;../../abc&#34;</span><span class="op" id="7729195">,</span>&nbsp;<span class="string" id="7729197">&#34;../../abc&#34;</span><span class="op" id="7729208">}</span><span class="op" id="7729209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729212">{</span><span class="string" id="7729213">&#34;/abc&#34;</span><span class="op" id="7729219">,</span>&nbsp;<span class="string" id="7729221">&#34;/abc&#34;</span><span class="op" id="7729227">}</span><span class="op" id="7729228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729231">{</span><span class="string" id="7729232">&#34;/&#34;</span><span class="op" id="7729235">,</span>&nbsp;<span class="string" id="7729237">&#34;/&#34;</span><span class="op" id="7729240">}</span><span class="op" id="7729241">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7729245">//&nbsp;Remove&nbsp;trailing&nbsp;slash</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729271">{</span><span class="string" id="7729272">&#34;abc/&#34;</span><span class="op" id="7729278">,</span>&nbsp;<span class="string" id="7729280">&#34;abc&#34;</span><span class="op" id="7729285">}</span><span class="op" id="7729286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729289">{</span><span class="string" id="7729290">&#34;abc/def/&#34;</span><span class="op" id="7729300">,</span>&nbsp;<span class="string" id="7729302">&#34;abc/def&#34;</span><span class="op" id="7729311">}</span><span class="op" id="7729312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729315">{</span><span class="string" id="7729316">&#34;a/b/c/&#34;</span><span class="op" id="7729324">,</span>&nbsp;<span class="string" id="7729326">&#34;a/b/c&#34;</span><span class="op" id="7729333">}</span><span class="op" id="7729334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729337">{</span><span class="string" id="7729338">&#34;./&#34;</span><span class="op" id="7729342">,</span>&nbsp;<span class="string" id="7729344">&#34;.&#34;</span><span class="op" id="7729347">}</span><span class="op" id="7729348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729351">{</span><span class="string" id="7729352">&#34;../&#34;</span><span class="op" id="7729357">,</span>&nbsp;<span class="string" id="7729359">&#34;..&#34;</span><span class="op" id="7729363">}</span><span class="op" id="7729364">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729367">{</span><span class="string" id="7729368">&#34;../../&#34;</span><span class="op" id="7729376">,</span>&nbsp;<span class="string" id="7729378">&#34;../..&#34;</span><span class="op" id="7729385">}</span><span class="op" id="7729386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729389">{</span><span class="string" id="7729390">&#34;/abc/&#34;</span><span class="op" id="7729397">,</span>&nbsp;<span class="string" id="7729399">&#34;/abc&#34;</span><span class="op" id="7729405">}</span><span class="op" id="7729406">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7729410">//&nbsp;Remove&nbsp;doubled&nbsp;slash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729435">{</span><span class="string" id="7729436">&#34;abc//def//ghi&#34;</span><span class="op" id="7729451">,</span>&nbsp;<span class="string" id="7729453">&#34;abc/def/ghi&#34;</span><span class="op" id="7729466">}</span><span class="op" id="7729467">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729470">{</span><span class="string" id="7729471">&#34;//abc&#34;</span><span class="op" id="7729478">,</span>&nbsp;<span class="string" id="7729480">&#34;/abc&#34;</span><span class="op" id="7729486">}</span><span class="op" id="7729487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729490">{</span><span class="string" id="7729491">&#34;///abc&#34;</span><span class="op" id="7729499">,</span>&nbsp;<span class="string" id="7729501">&#34;/abc&#34;</span><span class="op" id="7729507">}</span><span class="op" id="7729508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729511">{</span><span class="string" id="7729512">&#34;//abc//&#34;</span><span class="op" id="7729521">,</span>&nbsp;<span class="string" id="7729523">&#34;/abc&#34;</span><span class="op" id="7729529">}</span><span class="op" id="7729530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729533">{</span><span class="string" id="7729534">&#34;abc//&#34;</span><span class="op" id="7729541">,</span>&nbsp;<span class="string" id="7729543">&#34;abc&#34;</span><span class="op" id="7729548">}</span><span class="op" id="7729549">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7729553">//&nbsp;Remove&nbsp;.&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729575">{</span><span class="string" id="7729576">&#34;abc/./def&#34;</span><span class="op" id="7729587">,</span>&nbsp;<span class="string" id="7729589">&#34;abc/def&#34;</span><span class="op" id="7729598">}</span><span class="op" id="7729599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729602">{</span><span class="string" id="7729603">&#34;/./abc/def&#34;</span><span class="op" id="7729615">,</span>&nbsp;<span class="string" id="7729617">&#34;/abc/def&#34;</span><span class="op" id="7729627">}</span><span class="op" id="7729628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729631">{</span><span class="string" id="7729632">&#34;abc/.&#34;</span><span class="op" id="7729639">,</span>&nbsp;<span class="string" id="7729641">&#34;abc&#34;</span><span class="op" id="7729646">}</span><span class="op" id="7729647">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7729651">//&nbsp;Remove&nbsp;..&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729674">{</span><span class="string" id="7729675">&#34;abc/def/ghi/../jkl&#34;</span><span class="op" id="7729695">,</span>&nbsp;<span class="string" id="7729697">&#34;abc/def/jkl&#34;</span><span class="op" id="7729710">}</span><span class="op" id="7729711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729714">{</span><span class="string" id="7729715">&#34;abc/def/../ghi/../jkl&#34;</span><span class="op" id="7729738">,</span>&nbsp;<span class="string" id="7729740">&#34;abc/jkl&#34;</span><span class="op" id="7729749">}</span><span class="op" id="7729750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729753">{</span><span class="string" id="7729754">&#34;abc/def/..&#34;</span><span class="op" id="7729766">,</span>&nbsp;<span class="string" id="7729768">&#34;abc&#34;</span><span class="op" id="7729773">}</span><span class="op" id="7729774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729777">{</span><span class="string" id="7729778">&#34;abc/def/../..&#34;</span><span class="op" id="7729793">,</span>&nbsp;<span class="string" id="7729795">&#34;.&#34;</span><span class="op" id="7729798">}</span><span class="op" id="7729799">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729802">{</span><span class="string" id="7729803">&#34;/abc/def/../..&#34;</span><span class="op" id="7729819">,</span>&nbsp;<span class="string" id="7729821">&#34;/&#34;</span><span class="op" id="7729824">}</span><span class="op" id="7729825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729828">{</span><span class="string" id="7729829">&#34;abc/def/../../..&#34;</span><span class="op" id="7729847">,</span>&nbsp;<span class="string" id="7729849">&#34;..&#34;</span><span class="op" id="7729853">}</span><span class="op" id="7729854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729857">{</span><span class="string" id="7729858">&#34;/abc/def/../../..&#34;</span><span class="op" id="7729877">,</span>&nbsp;<span class="string" id="7729879">&#34;/&#34;</span><span class="op" id="7729882">}</span><span class="op" id="7729883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729886">{</span><span class="string" id="7729887">&#34;abc/def/../../../ghi/jkl/../../../mno&#34;</span><span class="op" id="7729926">,</span>&nbsp;<span class="string" id="7729928">&#34;../../mno&#34;</span><span class="op" id="7729939">}</span><span class="op" id="7729940">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7729944">//&nbsp;Combinations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729961">{</span><span class="string" id="7729962">&#34;abc/./../def&#34;</span><span class="op" id="7729976">,</span>&nbsp;<span class="string" id="7729978">&#34;def&#34;</span><span class="op" id="7729983">}</span><span class="op" id="7729984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7729987">{</span><span class="string" id="7729988">&#34;abc//./../def&#34;</span><span class="op" id="7730003">,</span>&nbsp;<span class="string" id="7730005">&#34;def&#34;</span><span class="op" id="7730010">}</span><span class="op" id="7730011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730014">{</span><span class="string" id="7730015">&#34;abc/../../././../def&#34;</span><span class="op" id="7730037">,</span>&nbsp;<span class="string" id="7730039">&#34;../../def&#34;</span><span class="op" id="7730050">}</span><span class="op" id="7730051">,</span><br>
<span class="lineno"></span><span class="op" id="7730053">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7730056">func</span>&nbsp;<span class="ident" id="7730061">TestClean</span><span class="op" id="7730070">(</span><span class="ident" id="7730071">t</span>&nbsp;<span class="op" id="7730073">*</span><span class="ident" id="7730074">testing</span><span class="op" id="7730081">.</span><span class="ident" id="7730082">T</span><span class="op" id="7730083">)</span>&nbsp;<span class="op" id="7730085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7730088">for</span>&nbsp;<span class="ident" id="7730092">_</span><span class="op" id="7730093">,</span>&nbsp;<span class="ident" id="7730095">test</span>&nbsp;<span class="op" id="7730100">:=</span>&nbsp;<span class="keyword" id="7730103">range</span>&nbsp;<span class="ident" id="7730109">cleantests</span>&nbsp;<span class="op" id="7730120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7730124">if</span>&nbsp;<span class="ident" id="7730127">s</span>&nbsp;<span class="op" id="7730129">:=</span>&nbsp;<span class="ident" id="7730132">Clean</span><span class="op" id="7730137">(</span><span class="ident" id="7730138">test</span><span class="op" id="7730142">.</span><span class="ident" id="7730143">path</span><span class="op" id="7730147">)</span><span class="op" id="7730148">;</span>&nbsp;<span class="ident" id="7730150">s</span>&nbsp;<span class="op" id="7730152">!=</span>&nbsp;<span class="ident" id="7730155">test</span><span class="op" id="7730159">.</span><span class="ident" id="7730160">result</span>&nbsp;<span class="op" id="7730167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7730172">t</span><span class="op" id="7730173">.</span><span class="ident" id="7730174">Errorf</span><span class="op" id="7730180">(</span><span class="string" id="7730181">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7730206">,</span>&nbsp;<span class="ident" id="7730208">test</span><span class="op" id="7730212">.</span><span class="ident" id="7730213">path</span><span class="op" id="7730217">,</span>&nbsp;<span class="ident" id="7730219">s</span><span class="op" id="7730220">,</span>&nbsp;<span class="ident" id="7730222">test</span><span class="op" id="7730226">.</span><span class="ident" id="7730227">result</span><span class="op" id="7730233">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7730241">if</span>&nbsp;<span class="ident" id="7730244">s</span>&nbsp;<span class="op" id="7730246">:=</span>&nbsp;<span class="ident" id="7730249">Clean</span><span class="op" id="7730254">(</span><span class="ident" id="7730255">test</span><span class="op" id="7730259">.</span><span class="ident" id="7730260">result</span><span class="op" id="7730266">)</span><span class="op" id="7730267">;</span>&nbsp;<span class="ident" id="7730269">s</span>&nbsp;<span class="op" id="7730271">!=</span>&nbsp;<span class="ident" id="7730274">test</span><span class="op" id="7730278">.</span><span class="ident" id="7730279">result</span>&nbsp;<span class="op" id="7730286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7730291">t</span><span class="op" id="7730292">.</span><span class="ident" id="7730293">Errorf</span><span class="op" id="7730299">(</span><span class="string" id="7730300">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7730325">,</span>&nbsp;<span class="ident" id="7730327">test</span><span class="op" id="7730331">.</span><span class="ident" id="7730332">result</span><span class="op" id="7730338">,</span>&nbsp;<span class="ident" id="7730340">s</span><span class="op" id="7730341">,</span>&nbsp;<span class="ident" id="7730343">test</span><span class="op" id="7730347">.</span><span class="ident" id="7730348">result</span><span class="op" id="7730354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730361">}</span><br>
<span class="lineno">75</span><span class="op" id="7730363">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7730366">func</span>&nbsp;<span class="ident" id="7730371">TestCleanMallocs</span><span class="op" id="7730387">(</span><span class="ident" id="7730388">t</span>&nbsp;<span class="op" id="7730390">*</span><span class="ident" id="7730391">testing</span><span class="op" id="7730398">.</span><span class="ident" id="7730399">T</span><span class="op" id="7730400">)</span>&nbsp;<span class="op" id="7730402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7730405">if</span>&nbsp;<span class="ident" id="7730408">testing</span><span class="op" id="7730415">.</span><span class="ident" id="7730416">Short</span><span class="op" id="7730421">(</span><span class="op" id="7730422">)</span>&nbsp;<span class="op" id="7730424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7730428">t</span><span class="op" id="7730429">.</span><span class="ident" id="7730430">Skip</span><span class="op" id="7730434">(</span><span class="string" id="7730435">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7730472">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7730478">if</span>&nbsp;<span class="ident" id="7730481">runtime</span><span class="op" id="7730488">.</span><span class="ident" id="7730489">GOMAXPROCS</span><span class="op" id="7730499">(</span><span class="num" id="7730500">0</span><span class="op" id="7730501">)</span>&nbsp;<span class="op" id="7730503">&gt;</span>&nbsp;<span class="num" id="7730505">1</span>&nbsp;<span class="op" id="7730507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7730511">t</span><span class="op" id="7730512">.</span><span class="ident" id="7730513">Log</span><span class="op" id="7730516">(</span><span class="string" id="7730517">&#34;skipping&nbsp;AllocsPerRun&nbsp;checks;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="7730561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7730565">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730573">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7730577">for</span>&nbsp;<span class="ident" id="7730581">_</span><span class="op" id="7730582">,</span>&nbsp;<span class="ident" id="7730584">test</span>&nbsp;<span class="op" id="7730589">:=</span>&nbsp;<span class="keyword" id="7730592">range</span>&nbsp;<span class="ident" id="7730598">cleantests</span>&nbsp;<span class="op" id="7730609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7730613">allocs</span>&nbsp;<span class="op" id="7730620">:=</span>&nbsp;<span class="ident" id="7730623">testing</span><span class="op" id="7730630">.</span><span class="ident" id="7730631">AllocsPerRun</span><span class="op" id="7730643">(</span><span class="num" id="7730644">100</span><span class="op" id="7730647">,</span>&nbsp;<span class="keyword" id="7730649">func</span><span class="op" id="7730653">(</span><span class="op" id="7730654">)</span>&nbsp;<span class="op" id="7730656">{</span>&nbsp;<span class="ident" id="7730658">Clean</span><span class="op" id="7730663">(</span><span class="ident" id="7730664">test</span><span class="op" id="7730668">.</span><span class="ident" id="7730669">result</span><span class="op" id="7730675">)</span>&nbsp;<span class="op" id="7730677">}</span><span class="op" id="7730678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7730682">if</span>&nbsp;<span class="ident" id="7730685">allocs</span>&nbsp;<span class="op" id="7730692">&gt;</span>&nbsp;<span class="num" id="7730694">0</span>&nbsp;<span class="op" id="7730696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7730701">t</span><span class="op" id="7730702">.</span><span class="ident" id="7730703">Errorf</span><span class="op" id="7730709">(</span><span class="string" id="7730710">&#34;Clean(%q):&nbsp;%v&nbsp;allocs,&nbsp;want&nbsp;zero&#34;</span><span class="op" id="7730743">,</span>&nbsp;<span class="ident" id="7730745">test</span><span class="op" id="7730749">.</span><span class="ident" id="7730750">result</span><span class="op" id="7730756">,</span>&nbsp;<span class="ident" id="7730758">allocs</span><span class="op" id="7730764">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730771">}</span><br>
<span class="lineno"></span><span class="op" id="7730773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7730776">type</span>&nbsp;<span class="ident" id="7730781">SplitTest</span>&nbsp;<span class="keyword" id="7730791">struct</span>&nbsp;<span class="op" id="7730798">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7730801">path</span><span class="op" id="7730805">,</span>&nbsp;<span class="ident" id="7730807">dir</span><span class="op" id="7730810">,</span>&nbsp;<span class="ident" id="7730812">file</span>&nbsp;<span class="builtintype" id="7730817">string</span><br>
<span class="lineno"></span><span class="op" id="7730824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7730827">var</span>&nbsp;<span class="ident" id="7730831">splittests</span>&nbsp;<span class="op" id="7730842">=</span>&nbsp;<span class="op" id="7730844">[</span><span class="op" id="7730845">]</span><span class="ident" id="7730846">SplitTest</span><span class="op" id="7730855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730858">{</span><span class="string" id="7730859">&#34;a/b&#34;</span><span class="op" id="7730864">,</span>&nbsp;<span class="string" id="7730866">&#34;a/&#34;</span><span class="op" id="7730870">,</span>&nbsp;<span class="string" id="7730872">&#34;b&#34;</span><span class="op" id="7730875">}</span><span class="op" id="7730876">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730879">{</span><span class="string" id="7730880">&#34;a/b/&#34;</span><span class="op" id="7730886">,</span>&nbsp;<span class="string" id="7730888">&#34;a/b/&#34;</span><span class="op" id="7730894">,</span>&nbsp;<span class="string" id="7730896">&#34;&#34;</span><span class="op" id="7730898">}</span><span class="op" id="7730899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730902">{</span><span class="string" id="7730903">&#34;a/&#34;</span><span class="op" id="7730907">,</span>&nbsp;<span class="string" id="7730909">&#34;a/&#34;</span><span class="op" id="7730913">,</span>&nbsp;<span class="string" id="7730915">&#34;&#34;</span><span class="op" id="7730917">}</span><span class="op" id="7730918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730921">{</span><span class="string" id="7730922">&#34;a&#34;</span><span class="op" id="7730925">,</span>&nbsp;<span class="string" id="7730927">&#34;&#34;</span><span class="op" id="7730929">,</span>&nbsp;<span class="string" id="7730931">&#34;a&#34;</span><span class="op" id="7730934">}</span><span class="op" id="7730935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7730938">{</span><span class="string" id="7730939">&#34;/&#34;</span><span class="op" id="7730942">,</span>&nbsp;<span class="string" id="7730944">&#34;/&#34;</span><span class="op" id="7730947">,</span>&nbsp;<span class="string" id="7730949">&#34;&#34;</span><span class="op" id="7730951">}</span><span class="op" id="7730952">,</span><br>
<span class="lineno"></span><span class="op" id="7730954">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="7730957">func</span>&nbsp;<span class="ident" id="7730962">TestSplit</span><span class="op" id="7730971">(</span><span class="ident" id="7730972">t</span>&nbsp;<span class="op" id="7730974">*</span><span class="ident" id="7730975">testing</span><span class="op" id="7730982">.</span><span class="ident" id="7730983">T</span><span class="op" id="7730984">)</span>&nbsp;<span class="op" id="7730986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7730989">for</span>&nbsp;<span class="ident" id="7730993">_</span><span class="op" id="7730994">,</span>&nbsp;<span class="ident" id="7730996">test</span>&nbsp;<span class="op" id="7731001">:=</span>&nbsp;<span class="keyword" id="7731004">range</span>&nbsp;<span class="ident" id="7731010">splittests</span>&nbsp;<span class="op" id="7731021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7731025">if</span>&nbsp;<span class="ident" id="7731028">d</span><span class="op" id="7731029">,</span>&nbsp;<span class="ident" id="7731031">f</span>&nbsp;<span class="op" id="7731033">:=</span>&nbsp;<span class="ident" id="7731036">Split</span><span class="op" id="7731041">(</span><span class="ident" id="7731042">test</span><span class="op" id="7731046">.</span><span class="ident" id="7731047">path</span><span class="op" id="7731051">)</span><span class="op" id="7731052">;</span>&nbsp;<span class="ident" id="7731054">d</span>&nbsp;<span class="op" id="7731056">!=</span>&nbsp;<span class="ident" id="7731059">test</span><span class="op" id="7731063">.</span><span class="ident" id="7731064">dir</span>&nbsp;<span class="op" id="7731068">||</span>&nbsp;<span class="ident" id="7731071">f</span>&nbsp;<span class="op" id="7731073">!=</span>&nbsp;<span class="ident" id="7731076">test</span><span class="op" id="7731080">.</span><span class="ident" id="7731081">file</span>&nbsp;<span class="op" id="7731086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7731091">t</span><span class="op" id="7731092">.</span><span class="ident" id="7731093">Errorf</span><span class="op" id="7731099">(</span><span class="string" id="7731100">&#34;Split(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;want&nbsp;%q,&nbsp;%q&#34;</span><span class="op" id="7731133">,</span>&nbsp;<span class="ident" id="7731135">test</span><span class="op" id="7731139">.</span><span class="ident" id="7731140">path</span><span class="op" id="7731144">,</span>&nbsp;<span class="ident" id="7731146">d</span><span class="op" id="7731147">,</span>&nbsp;<span class="ident" id="7731149">f</span><span class="op" id="7731150">,</span>&nbsp;<span class="ident" id="7731152">test</span><span class="op" id="7731156">.</span><span class="ident" id="7731157">dir</span><span class="op" id="7731160">,</span>&nbsp;<span class="ident" id="7731162">test</span><span class="op" id="7731166">.</span><span class="ident" id="7731167">file</span><span class="op" id="7731171">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731178">}</span><br>
<span class="lineno"></span><span class="op" id="7731180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7731183">type</span>&nbsp;<span class="ident" id="7731188">JoinTest</span>&nbsp;<span class="keyword" id="7731197">struct</span>&nbsp;<span class="op" id="7731204">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7731207">elem</span>&nbsp;<span class="op" id="7731212">[</span><span class="op" id="7731213">]</span><span class="builtintype" id="7731214">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7731222">path</span>&nbsp;<span class="builtintype" id="7731227">string</span><br>
<span class="lineno"></span><span class="op" id="7731234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7731237">var</span>&nbsp;<span class="ident" id="7731241">jointests</span>&nbsp;<span class="op" id="7731251">=</span>&nbsp;<span class="op" id="7731253">[</span><span class="op" id="7731254">]</span><span class="ident" id="7731255">JoinTest</span><span class="op" id="7731263">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7731266">//&nbsp;zero&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731286">{</span><span class="op" id="7731287">[</span><span class="op" id="7731288">]</span><span class="builtintype" id="7731289">string</span><span class="op" id="7731295">{</span><span class="op" id="7731296">}</span><span class="op" id="7731297">,</span>&nbsp;<span class="string" id="7731299">&#34;&#34;</span><span class="op" id="7731301">}</span><span class="op" id="7731302">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7731306">//&nbsp;one&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731324">{</span><span class="op" id="7731325">[</span><span class="op" id="7731326">]</span><span class="builtintype" id="7731327">string</span><span class="op" id="7731333">{</span><span class="string" id="7731334">&#34;&#34;</span><span class="op" id="7731336">}</span><span class="op" id="7731337">,</span>&nbsp;<span class="string" id="7731339">&#34;&#34;</span><span class="op" id="7731341">}</span><span class="op" id="7731342">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731345">{</span><span class="op" id="7731346">[</span><span class="op" id="7731347">]</span><span class="builtintype" id="7731348">string</span><span class="op" id="7731354">{</span><span class="string" id="7731355">&#34;a&#34;</span><span class="op" id="7731358">}</span><span class="op" id="7731359">,</span>&nbsp;<span class="string" id="7731361">&#34;a&#34;</span><span class="op" id="7731364">}</span><span class="op" id="7731365">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7731369">//&nbsp;two&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731388">{</span><span class="op" id="7731389">[</span><span class="op" id="7731390">]</span><span class="builtintype" id="7731391">string</span><span class="op" id="7731397">{</span><span class="string" id="7731398">&#34;a&#34;</span><span class="op" id="7731401">,</span>&nbsp;<span class="string" id="7731403">&#34;b&#34;</span><span class="op" id="7731406">}</span><span class="op" id="7731407">,</span>&nbsp;<span class="string" id="7731409">&#34;a/b&#34;</span><span class="op" id="7731414">}</span><span class="op" id="7731415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731418">{</span><span class="op" id="7731419">[</span><span class="op" id="7731420">]</span><span class="builtintype" id="7731421">string</span><span class="op" id="7731427">{</span><span class="string" id="7731428">&#34;a&#34;</span><span class="op" id="7731431">,</span>&nbsp;<span class="string" id="7731433">&#34;&#34;</span><span class="op" id="7731435">}</span><span class="op" id="7731436">,</span>&nbsp;<span class="string" id="7731438">&#34;a&#34;</span><span class="op" id="7731441">}</span><span class="op" id="7731442">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731445">{</span><span class="op" id="7731446">[</span><span class="op" id="7731447">]</span><span class="builtintype" id="7731448">string</span><span class="op" id="7731454">{</span><span class="string" id="7731455">&#34;&#34;</span><span class="op" id="7731457">,</span>&nbsp;<span class="string" id="7731459">&#34;b&#34;</span><span class="op" id="7731462">}</span><span class="op" id="7731463">,</span>&nbsp;<span class="string" id="7731465">&#34;b&#34;</span><span class="op" id="7731468">}</span><span class="op" id="7731469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731472">{</span><span class="op" id="7731473">[</span><span class="op" id="7731474">]</span><span class="builtintype" id="7731475">string</span><span class="op" id="7731481">{</span><span class="string" id="7731482">&#34;/&#34;</span><span class="op" id="7731485">,</span>&nbsp;<span class="string" id="7731487">&#34;a&#34;</span><span class="op" id="7731490">}</span><span class="op" id="7731491">,</span>&nbsp;<span class="string" id="7731493">&#34;/a&#34;</span><span class="op" id="7731497">}</span><span class="op" id="7731498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731501">{</span><span class="op" id="7731502">[</span><span class="op" id="7731503">]</span><span class="builtintype" id="7731504">string</span><span class="op" id="7731510">{</span><span class="string" id="7731511">&#34;/&#34;</span><span class="op" id="7731514">,</span>&nbsp;<span class="string" id="7731516">&#34;&#34;</span><span class="op" id="7731518">}</span><span class="op" id="7731519">,</span>&nbsp;<span class="string" id="7731521">&#34;/&#34;</span><span class="op" id="7731524">}</span><span class="op" id="7731525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731528">{</span><span class="op" id="7731529">[</span><span class="op" id="7731530">]</span><span class="builtintype" id="7731531">string</span><span class="op" id="7731537">{</span><span class="string" id="7731538">&#34;a/&#34;</span><span class="op" id="7731542">,</span>&nbsp;<span class="string" id="7731544">&#34;b&#34;</span><span class="op" id="7731547">}</span><span class="op" id="7731548">,</span>&nbsp;<span class="string" id="7731550">&#34;a/b&#34;</span><span class="op" id="7731555">}</span><span class="op" id="7731556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731559">{</span><span class="op" id="7731560">[</span><span class="op" id="7731561">]</span><span class="builtintype" id="7731562">string</span><span class="op" id="7731568">{</span><span class="string" id="7731569">&#34;a/&#34;</span><span class="op" id="7731573">,</span>&nbsp;<span class="string" id="7731575">&#34;&#34;</span><span class="op" id="7731577">}</span><span class="op" id="7731578">,</span>&nbsp;<span class="string" id="7731580">&#34;a&#34;</span><span class="op" id="7731583">}</span><span class="op" id="7731584">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731587">{</span><span class="op" id="7731588">[</span><span class="op" id="7731589">]</span><span class="builtintype" id="7731590">string</span><span class="op" id="7731596">{</span><span class="string" id="7731597">&#34;&#34;</span><span class="op" id="7731599">,</span>&nbsp;<span class="string" id="7731601">&#34;&#34;</span><span class="op" id="7731603">}</span><span class="op" id="7731604">,</span>&nbsp;<span class="string" id="7731606">&#34;&#34;</span><span class="op" id="7731608">}</span><span class="op" id="7731609">,</span><br>
<span class="lineno"></span><span class="op" id="7731611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7731614">//&nbsp;join&nbsp;takes&nbsp;a&nbsp;[]string&nbsp;and&nbsp;passes&nbsp;it&nbsp;to&nbsp;Join.</span><br>
<span class="lineno"></span><span class="keyword" id="7731662">func</span>&nbsp;<span class="ident" id="7731667">join</span><span class="op" id="7731671">(</span><span class="ident" id="7731672">elem</span>&nbsp;<span class="op" id="7731677">[</span><span class="op" id="7731678">]</span><span class="builtintype" id="7731679">string</span><span class="op" id="7731685">,</span>&nbsp;<span class="ident" id="7731687">args</span>&nbsp;<span class="op" id="7731692">...</span><span class="builtintype" id="7731695">string</span><span class="op" id="7731701">)</span>&nbsp;<span class="builtintype" id="7731703">string</span>&nbsp;<span class="op" id="7731710">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7731713">args</span>&nbsp;<span class="op" id="7731718">=</span>&nbsp;<span class="ident" id="7731720">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7731726">return</span>&nbsp;<span class="ident" id="7731733">Join</span><span class="op" id="7731737">(</span><span class="ident" id="7731738">args</span><span class="op" id="7731742">...</span><span class="op" id="7731745">)</span><br>
<span class="lineno"></span><span class="op" id="7731747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7731750">func</span>&nbsp;<span class="ident" id="7731755">TestJoin</span><span class="op" id="7731763">(</span><span class="ident" id="7731764">t</span>&nbsp;<span class="op" id="7731766">*</span><span class="ident" id="7731767">testing</span><span class="op" id="7731774">.</span><span class="ident" id="7731775">T</span><span class="op" id="7731776">)</span>&nbsp;<span class="op" id="7731778">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7731781">for</span>&nbsp;<span class="ident" id="7731785">_</span><span class="op" id="7731786">,</span>&nbsp;<span class="ident" id="7731788">test</span>&nbsp;<span class="op" id="7731793">:=</span>&nbsp;<span class="keyword" id="7731796">range</span>&nbsp;<span class="ident" id="7731802">jointests</span>&nbsp;<span class="op" id="7731812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7731816">if</span>&nbsp;<span class="ident" id="7731819">p</span>&nbsp;<span class="op" id="7731821">:=</span>&nbsp;<span class="ident" id="7731824">join</span><span class="op" id="7731828">(</span><span class="ident" id="7731829">test</span><span class="op" id="7731833">.</span><span class="ident" id="7731834">elem</span><span class="op" id="7731838">)</span><span class="op" id="7731839">;</span>&nbsp;<span class="ident" id="7731841">p</span>&nbsp;<span class="op" id="7731843">!=</span>&nbsp;<span class="ident" id="7731846">test</span><span class="op" id="7731850">.</span><span class="ident" id="7731851">path</span>&nbsp;<span class="op" id="7731856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7731861">t</span><span class="op" id="7731862">.</span><span class="ident" id="7731863">Errorf</span><span class="op" id="7731869">(</span><span class="string" id="7731870">&#34;join(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7731894">,</span>&nbsp;<span class="ident" id="7731896">test</span><span class="op" id="7731900">.</span><span class="ident" id="7731901">elem</span><span class="op" id="7731905">,</span>&nbsp;<span class="ident" id="7731907">p</span><span class="op" id="7731908">,</span>&nbsp;<span class="ident" id="7731910">test</span><span class="op" id="7731914">.</span><span class="ident" id="7731915">path</span><span class="op" id="7731919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7731926">}</span><br>
<span class="lineno">150</span><span class="op" id="7731928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7731931">type</span>&nbsp;<span class="ident" id="7731936">ExtTest</span>&nbsp;<span class="keyword" id="7731944">struct</span>&nbsp;<span class="op" id="7731951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7731954">path</span><span class="op" id="7731958">,</span>&nbsp;<span class="ident" id="7731960">ext</span>&nbsp;<span class="builtintype" id="7731964">string</span><br>
<span class="lineno"></span><span class="op" id="7731971">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7731974">var</span>&nbsp;<span class="ident" id="7731978">exttests</span>&nbsp;<span class="op" id="7731987">=</span>&nbsp;<span class="op" id="7731989">[</span><span class="op" id="7731990">]</span><span class="ident" id="7731991">ExtTest</span><span class="op" id="7731998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732001">{</span><span class="string" id="7732002">&#34;path.go&#34;</span><span class="op" id="7732011">,</span>&nbsp;<span class="string" id="7732013">&#34;.go&#34;</span><span class="op" id="7732018">}</span><span class="op" id="7732019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732022">{</span><span class="string" id="7732023">&#34;path.pb.go&#34;</span><span class="op" id="7732035">,</span>&nbsp;<span class="string" id="7732037">&#34;.go&#34;</span><span class="op" id="7732042">}</span><span class="op" id="7732043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732046">{</span><span class="string" id="7732047">&#34;a.dir/b&#34;</span><span class="op" id="7732056">,</span>&nbsp;<span class="string" id="7732058">&#34;&#34;</span><span class="op" id="7732060">}</span><span class="op" id="7732061">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732064">{</span><span class="string" id="7732065">&#34;a.dir/b.go&#34;</span><span class="op" id="7732077">,</span>&nbsp;<span class="string" id="7732079">&#34;.go&#34;</span><span class="op" id="7732084">}</span><span class="op" id="7732085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732088">{</span><span class="string" id="7732089">&#34;a.dir/&#34;</span><span class="op" id="7732097">,</span>&nbsp;<span class="string" id="7732099">&#34;&#34;</span><span class="op" id="7732101">}</span><span class="op" id="7732102">,</span><br>
<span class="lineno"></span><span class="op" id="7732104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7732107">func</span>&nbsp;<span class="ident" id="7732112">TestExt</span><span class="op" id="7732119">(</span><span class="ident" id="7732120">t</span>&nbsp;<span class="op" id="7732122">*</span><span class="ident" id="7732123">testing</span><span class="op" id="7732130">.</span><span class="ident" id="7732131">T</span><span class="op" id="7732132">)</span>&nbsp;<span class="op" id="7732134">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7732137">for</span>&nbsp;<span class="ident" id="7732141">_</span><span class="op" id="7732142">,</span>&nbsp;<span class="ident" id="7732144">test</span>&nbsp;<span class="op" id="7732149">:=</span>&nbsp;<span class="keyword" id="7732152">range</span>&nbsp;<span class="ident" id="7732158">exttests</span>&nbsp;<span class="op" id="7732167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7732171">if</span>&nbsp;<span class="ident" id="7732174">x</span>&nbsp;<span class="op" id="7732176">:=</span>&nbsp;<span class="ident" id="7732179">Ext</span><span class="op" id="7732182">(</span><span class="ident" id="7732183">test</span><span class="op" id="7732187">.</span><span class="ident" id="7732188">path</span><span class="op" id="7732192">)</span><span class="op" id="7732193">;</span>&nbsp;<span class="ident" id="7732195">x</span>&nbsp;<span class="op" id="7732197">!=</span>&nbsp;<span class="ident" id="7732200">test</span><span class="op" id="7732204">.</span><span class="ident" id="7732205">ext</span>&nbsp;<span class="op" id="7732209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7732214">t</span><span class="op" id="7732215">.</span><span class="ident" id="7732216">Errorf</span><span class="op" id="7732222">(</span><span class="string" id="7732223">&#34;Ext(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7732246">,</span>&nbsp;<span class="ident" id="7732248">test</span><span class="op" id="7732252">.</span><span class="ident" id="7732253">path</span><span class="op" id="7732257">,</span>&nbsp;<span class="ident" id="7732259">x</span><span class="op" id="7732260">,</span>&nbsp;<span class="ident" id="7732262">test</span><span class="op" id="7732266">.</span><span class="ident" id="7732267">ext</span><span class="op" id="7732270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732277">}</span><br>
<span class="lineno">170</span><span class="op" id="7732279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7732282">var</span>&nbsp;<span class="ident" id="7732286">basetests</span>&nbsp;<span class="op" id="7732296">=</span>&nbsp;<span class="op" id="7732298">[</span><span class="op" id="7732299">]</span><span class="ident" id="7732300">PathTest</span><span class="op" id="7732308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7732311">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732329">{</span><span class="string" id="7732330">&#34;&#34;</span><span class="op" id="7732332">,</span>&nbsp;<span class="string" id="7732334">&#34;.&#34;</span><span class="op" id="7732337">}</span><span class="op" id="7732338">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732341">{</span><span class="string" id="7732342">&#34;.&#34;</span><span class="op" id="7732345">,</span>&nbsp;<span class="string" id="7732347">&#34;.&#34;</span><span class="op" id="7732350">}</span><span class="op" id="7732351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732354">{</span><span class="string" id="7732355">&#34;/.&#34;</span><span class="op" id="7732359">,</span>&nbsp;<span class="string" id="7732361">&#34;.&#34;</span><span class="op" id="7732364">}</span><span class="op" id="7732365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732368">{</span><span class="string" id="7732369">&#34;/&#34;</span><span class="op" id="7732372">,</span>&nbsp;<span class="string" id="7732374">&#34;/&#34;</span><span class="op" id="7732377">}</span><span class="op" id="7732378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732381">{</span><span class="string" id="7732382">&#34;////&#34;</span><span class="op" id="7732388">,</span>&nbsp;<span class="string" id="7732390">&#34;/&#34;</span><span class="op" id="7732393">}</span><span class="op" id="7732394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732397">{</span><span class="string" id="7732398">&#34;x/&#34;</span><span class="op" id="7732402">,</span>&nbsp;<span class="string" id="7732404">&#34;x&#34;</span><span class="op" id="7732407">}</span><span class="op" id="7732408">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732411">{</span><span class="string" id="7732412">&#34;abc&#34;</span><span class="op" id="7732417">,</span>&nbsp;<span class="string" id="7732419">&#34;abc&#34;</span><span class="op" id="7732424">}</span><span class="op" id="7732425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732428">{</span><span class="string" id="7732429">&#34;abc/def&#34;</span><span class="op" id="7732438">,</span>&nbsp;<span class="string" id="7732440">&#34;def&#34;</span><span class="op" id="7732445">}</span><span class="op" id="7732446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732449">{</span><span class="string" id="7732450">&#34;a/b/.x&#34;</span><span class="op" id="7732458">,</span>&nbsp;<span class="string" id="7732460">&#34;.x&#34;</span><span class="op" id="7732464">}</span><span class="op" id="7732465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732468">{</span><span class="string" id="7732469">&#34;a/b/c.&#34;</span><span class="op" id="7732477">,</span>&nbsp;<span class="string" id="7732479">&#34;c.&#34;</span><span class="op" id="7732483">}</span><span class="op" id="7732484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732487">{</span><span class="string" id="7732488">&#34;a/b/c.x&#34;</span><span class="op" id="7732497">,</span>&nbsp;<span class="string" id="7732499">&#34;c.x&#34;</span><span class="op" id="7732504">}</span><span class="op" id="7732505">,</span><br>
<span class="lineno">185</span><span class="op" id="7732507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7732510">func</span>&nbsp;<span class="ident" id="7732515">TestBase</span><span class="op" id="7732523">(</span><span class="ident" id="7732524">t</span>&nbsp;<span class="op" id="7732526">*</span><span class="ident" id="7732527">testing</span><span class="op" id="7732534">.</span><span class="ident" id="7732535">T</span><span class="op" id="7732536">)</span>&nbsp;<span class="op" id="7732538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7732541">for</span>&nbsp;<span class="ident" id="7732545">_</span><span class="op" id="7732546">,</span>&nbsp;<span class="ident" id="7732548">test</span>&nbsp;<span class="op" id="7732553">:=</span>&nbsp;<span class="keyword" id="7732556">range</span>&nbsp;<span class="ident" id="7732562">basetests</span>&nbsp;<span class="op" id="7732572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7732576">if</span>&nbsp;<span class="ident" id="7732579">s</span>&nbsp;<span class="op" id="7732581">:=</span>&nbsp;<span class="ident" id="7732584">Base</span><span class="op" id="7732588">(</span><span class="ident" id="7732589">test</span><span class="op" id="7732593">.</span><span class="ident" id="7732594">path</span><span class="op" id="7732598">)</span><span class="op" id="7732599">;</span>&nbsp;<span class="ident" id="7732601">s</span>&nbsp;<span class="op" id="7732603">!=</span>&nbsp;<span class="ident" id="7732606">test</span><span class="op" id="7732610">.</span><span class="ident" id="7732611">result</span>&nbsp;<span class="op" id="7732618">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7732623">t</span><span class="op" id="7732624">.</span><span class="ident" id="7732625">Errorf</span><span class="op" id="7732631">(</span><span class="string" id="7732632">&#34;Base(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7732656">,</span>&nbsp;<span class="ident" id="7732658">test</span><span class="op" id="7732662">.</span><span class="ident" id="7732663">path</span><span class="op" id="7732667">,</span>&nbsp;<span class="ident" id="7732669">s</span><span class="op" id="7732670">,</span>&nbsp;<span class="ident" id="7732672">test</span><span class="op" id="7732676">.</span><span class="ident" id="7732677">result</span><span class="op" id="7732683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732690">}</span><br>
<span class="lineno"></span><span class="op" id="7732692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="7732695">var</span>&nbsp;<span class="ident" id="7732699">dirtests</span>&nbsp;<span class="op" id="7732708">=</span>&nbsp;<span class="op" id="7732710">[</span><span class="op" id="7732711">]</span><span class="ident" id="7732712">PathTest</span><span class="op" id="7732720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732723">{</span><span class="string" id="7732724">&#34;&#34;</span><span class="op" id="7732726">,</span>&nbsp;<span class="string" id="7732728">&#34;.&#34;</span><span class="op" id="7732731">}</span><span class="op" id="7732732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732735">{</span><span class="string" id="7732736">&#34;.&#34;</span><span class="op" id="7732739">,</span>&nbsp;<span class="string" id="7732741">&#34;.&#34;</span><span class="op" id="7732744">}</span><span class="op" id="7732745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732748">{</span><span class="string" id="7732749">&#34;/.&#34;</span><span class="op" id="7732753">,</span>&nbsp;<span class="string" id="7732755">&#34;/&#34;</span><span class="op" id="7732758">}</span><span class="op" id="7732759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732762">{</span><span class="string" id="7732763">&#34;/&#34;</span><span class="op" id="7732766">,</span>&nbsp;<span class="string" id="7732768">&#34;/&#34;</span><span class="op" id="7732771">}</span><span class="op" id="7732772">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732775">{</span><span class="string" id="7732776">&#34;////&#34;</span><span class="op" id="7732782">,</span>&nbsp;<span class="string" id="7732784">&#34;/&#34;</span><span class="op" id="7732787">}</span><span class="op" id="7732788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732791">{</span><span class="string" id="7732792">&#34;/foo&#34;</span><span class="op" id="7732798">,</span>&nbsp;<span class="string" id="7732800">&#34;/&#34;</span><span class="op" id="7732803">}</span><span class="op" id="7732804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732807">{</span><span class="string" id="7732808">&#34;x/&#34;</span><span class="op" id="7732812">,</span>&nbsp;<span class="string" id="7732814">&#34;x&#34;</span><span class="op" id="7732817">}</span><span class="op" id="7732818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732821">{</span><span class="string" id="7732822">&#34;abc&#34;</span><span class="op" id="7732827">,</span>&nbsp;<span class="string" id="7732829">&#34;.&#34;</span><span class="op" id="7732832">}</span><span class="op" id="7732833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732836">{</span><span class="string" id="7732837">&#34;abc/def&#34;</span><span class="op" id="7732846">,</span>&nbsp;<span class="string" id="7732848">&#34;abc&#34;</span><span class="op" id="7732853">}</span><span class="op" id="7732854">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732857">{</span><span class="string" id="7732858">&#34;abc////def&#34;</span><span class="op" id="7732870">,</span>&nbsp;<span class="string" id="7732872">&#34;abc&#34;</span><span class="op" id="7732877">}</span><span class="op" id="7732878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732881">{</span><span class="string" id="7732882">&#34;a/b/.x&#34;</span><span class="op" id="7732890">,</span>&nbsp;<span class="string" id="7732892">&#34;a/b&#34;</span><span class="op" id="7732897">}</span><span class="op" id="7732898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732901">{</span><span class="string" id="7732902">&#34;a/b/c.&#34;</span><span class="op" id="7732910">,</span>&nbsp;<span class="string" id="7732912">&#34;a/b&#34;</span><span class="op" id="7732917">}</span><span class="op" id="7732918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7732921">{</span><span class="string" id="7732922">&#34;a/b/c.x&#34;</span><span class="op" id="7732931">,</span>&nbsp;<span class="string" id="7732933">&#34;a/b&#34;</span><span class="op" id="7732938">}</span><span class="op" id="7732939">,</span><br>
<span class="lineno"></span><span class="op" id="7732941">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7732944">func</span>&nbsp;<span class="ident" id="7732949">TestDir</span><span class="op" id="7732956">(</span><span class="ident" id="7732957">t</span>&nbsp;<span class="op" id="7732959">*</span><span class="ident" id="7732960">testing</span><span class="op" id="7732967">.</span><span class="ident" id="7732968">T</span><span class="op" id="7732969">)</span>&nbsp;<span class="op" id="7732971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7732974">for</span>&nbsp;<span class="ident" id="7732978">_</span><span class="op" id="7732979">,</span>&nbsp;<span class="ident" id="7732981">test</span>&nbsp;<span class="op" id="7732986">:=</span>&nbsp;<span class="keyword" id="7732989">range</span>&nbsp;<span class="ident" id="7732995">dirtests</span>&nbsp;<span class="op" id="7733004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7733008">if</span>&nbsp;<span class="ident" id="7733011">s</span>&nbsp;<span class="op" id="7733013">:=</span>&nbsp;<span class="ident" id="7733016">Dir</span><span class="op" id="7733019">(</span><span class="ident" id="7733020">test</span><span class="op" id="7733024">.</span><span class="ident" id="7733025">path</span><span class="op" id="7733029">)</span><span class="op" id="7733030">;</span>&nbsp;<span class="ident" id="7733032">s</span>&nbsp;<span class="op" id="7733034">!=</span>&nbsp;<span class="ident" id="7733037">test</span><span class="op" id="7733041">.</span><span class="ident" id="7733042">result</span>&nbsp;<span class="op" id="7733049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7733054">t</span><span class="op" id="7733055">.</span><span class="ident" id="7733056">Errorf</span><span class="op" id="7733062">(</span><span class="string" id="7733063">&#34;Dir(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7733086">,</span>&nbsp;<span class="ident" id="7733088">test</span><span class="op" id="7733092">.</span><span class="ident" id="7733093">path</span><span class="op" id="7733097">,</span>&nbsp;<span class="ident" id="7733099">s</span><span class="op" id="7733100">,</span>&nbsp;<span class="ident" id="7733102">test</span><span class="op" id="7733106">.</span><span class="ident" id="7733107">result</span><span class="op" id="7733113">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733117">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733120">}</span><br>
<span class="lineno"></span><span class="op" id="7733122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7733125">type</span>&nbsp;<span class="ident" id="7733130">IsAbsTest</span>&nbsp;<span class="keyword" id="7733140">struct</span>&nbsp;<span class="op" id="7733147">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7733150">path</span>&nbsp;&nbsp;<span class="builtintype" id="7733156">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7733164">isAbs</span>&nbsp;<span class="builtintype" id="7733170">bool</span><br>
<span class="lineno"></span><span class="op" id="7733175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7733178">var</span>&nbsp;<span class="ident" id="7733182">isAbsTests</span>&nbsp;<span class="op" id="7733193">=</span>&nbsp;<span class="op" id="7733195">[</span><span class="op" id="7733196">]</span><span class="ident" id="7733197">IsAbsTest</span><span class="op" id="7733206">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733209">{</span><span class="string" id="7733210">&#34;&#34;</span><span class="op" id="7733212">,</span>&nbsp;<span class="builtintype" id="7733214">false</span><span class="op" id="7733219">}</span><span class="op" id="7733220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733223">{</span><span class="string" id="7733224">&#34;/&#34;</span><span class="op" id="7733227">,</span>&nbsp;<span class="builtintype" id="7733229">true</span><span class="op" id="7733233">}</span><span class="op" id="7733234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733237">{</span><span class="string" id="7733238">&#34;/usr/bin/gcc&#34;</span><span class="op" id="7733252">,</span>&nbsp;<span class="builtintype" id="7733254">true</span><span class="op" id="7733258">}</span><span class="op" id="7733259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733262">{</span><span class="string" id="7733263">&#34;..&#34;</span><span class="op" id="7733267">,</span>&nbsp;<span class="builtintype" id="7733269">false</span><span class="op" id="7733274">}</span><span class="op" id="7733275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733278">{</span><span class="string" id="7733279">&#34;/a/../bb&#34;</span><span class="op" id="7733289">,</span>&nbsp;<span class="builtintype" id="7733291">true</span><span class="op" id="7733295">}</span><span class="op" id="7733296">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733299">{</span><span class="string" id="7733300">&#34;.&#34;</span><span class="op" id="7733303">,</span>&nbsp;<span class="builtintype" id="7733305">false</span><span class="op" id="7733310">}</span><span class="op" id="7733311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733314">{</span><span class="string" id="7733315">&#34;./&#34;</span><span class="op" id="7733319">,</span>&nbsp;<span class="builtintype" id="7733321">false</span><span class="op" id="7733326">}</span><span class="op" id="7733327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733330">{</span><span class="string" id="7733331">&#34;lala&#34;</span><span class="op" id="7733337">,</span>&nbsp;<span class="builtintype" id="7733339">false</span><span class="op" id="7733344">}</span><span class="op" id="7733345">,</span><br>
<span class="lineno"></span><span class="op" id="7733347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7733350">func</span>&nbsp;<span class="ident" id="7733355">TestIsAbs</span><span class="op" id="7733364">(</span><span class="ident" id="7733365">t</span>&nbsp;<span class="op" id="7733367">*</span><span class="ident" id="7733368">testing</span><span class="op" id="7733375">.</span><span class="ident" id="7733376">T</span><span class="op" id="7733377">)</span>&nbsp;<span class="op" id="7733379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7733382">for</span>&nbsp;<span class="ident" id="7733386">_</span><span class="op" id="7733387">,</span>&nbsp;<span class="ident" id="7733389">test</span>&nbsp;<span class="op" id="7733394">:=</span>&nbsp;<span class="keyword" id="7733397">range</span>&nbsp;<span class="ident" id="7733403">isAbsTests</span>&nbsp;<span class="op" id="7733414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7733418">if</span>&nbsp;<span class="ident" id="7733421">r</span>&nbsp;<span class="op" id="7733423">:=</span>&nbsp;<span class="ident" id="7733426">IsAbs</span><span class="op" id="7733431">(</span><span class="ident" id="7733432">test</span><span class="op" id="7733436">.</span><span class="ident" id="7733437">path</span><span class="op" id="7733441">)</span><span class="op" id="7733442">;</span>&nbsp;<span class="ident" id="7733444">r</span>&nbsp;<span class="op" id="7733446">!=</span>&nbsp;<span class="ident" id="7733449">test</span><span class="op" id="7733453">.</span><span class="ident" id="7733454">isAbs</span>&nbsp;<span class="op" id="7733460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7733465">t</span><span class="op" id="7733466">.</span><span class="ident" id="7733467">Errorf</span><span class="op" id="7733473">(</span><span class="string" id="7733474">&#34;IsAbs(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7733499">,</span>&nbsp;<span class="ident" id="7733501">test</span><span class="op" id="7733505">.</span><span class="ident" id="7733506">path</span><span class="op" id="7733510">,</span>&nbsp;<span class="ident" id="7733512">r</span><span class="op" id="7733513">,</span>&nbsp;<span class="ident" id="7733515">test</span><span class="op" id="7733519">.</span><span class="ident" id="7733520">isAbs</span><span class="op" id="7733525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733529">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7733532">}</span><br>
<span class="lineno"></span><span class="op" id="7733534">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
