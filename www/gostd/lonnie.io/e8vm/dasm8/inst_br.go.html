<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="4350351">package</span>&nbsp;<span class="ident" id="4350359">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4350366">import</span>&nbsp;<span class="op" id="4350373">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4350376">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4350382">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4350385">var</span>&nbsp;<span class="op" id="4350389">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350392">opBrMap</span>&nbsp;<span class="op" id="4350400">=</span>&nbsp;<span class="keyword" id="4350402">map</span><span class="op" id="4350405">[</span><span class="builtintype" id="4350406">uint32</span><span class="op" id="4350412">]</span><span class="builtintype" id="4350413">string</span><span class="op" id="4350419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4350423">32</span><span class="op" id="4350425">:</span>&nbsp;<span class="string" id="4350427">&#34;bne&#34;</span><span class="op" id="4350432">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4350436">33</span><span class="op" id="4350438">:</span>&nbsp;<span class="string" id="4350440">&#34;beq&#34;</span><span class="op" id="4350445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4350448">}</span><br>
<span class="lineno"></span><span class="op" id="4350450">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4350453">func</span>&nbsp;<span class="ident" id="4350458">instBr</span><span class="op" id="4350464">(</span><span class="ident" id="4350465">addr</span>&nbsp;<span class="builtintype" id="4350470">uint32</span><span class="op" id="4350476">,</span>&nbsp;<span class="ident" id="4350478">in</span>&nbsp;<span class="builtintype" id="4350481">uint32</span><span class="op" id="4350487">)</span>&nbsp;<span class="op" id="4350489">*</span><span class="ident" id="4350490">Line</span>&nbsp;<span class="op" id="4350495">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350498">op</span>&nbsp;<span class="op" id="4350501">:=</span>&nbsp;<span class="op" id="4350504">(</span><span class="ident" id="4350505">in</span>&nbsp;<span class="op" id="4350508">&gt;&gt;</span>&nbsp;<span class="num" id="4350511">24</span><span class="op" id="4350513">)</span>&nbsp;<span class="op" id="4350515">&amp;</span>&nbsp;<span class="num" id="4350517">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350523">src1</span>&nbsp;<span class="op" id="4350528">:=</span>&nbsp;<span class="ident" id="4350531">regStr</span><span class="op" id="4350537">(</span><span class="op" id="4350538">(</span><span class="ident" id="4350539">in</span>&nbsp;<span class="op" id="4350542">&gt;&gt;</span>&nbsp;<span class="num" id="4350545">21</span><span class="op" id="4350547">)</span>&nbsp;<span class="op" id="4350549">&amp;</span>&nbsp;<span class="num" id="4350551">0x7</span><span class="op" id="4350554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350557">src2</span>&nbsp;<span class="op" id="4350562">:=</span>&nbsp;<span class="ident" id="4350565">regStr</span><span class="op" id="4350571">(</span><span class="op" id="4350572">(</span><span class="ident" id="4350573">in</span>&nbsp;<span class="op" id="4350576">&gt;&gt;</span>&nbsp;<span class="num" id="4350579">18</span><span class="op" id="4350581">)</span>&nbsp;<span class="op" id="4350583">&amp;</span>&nbsp;<span class="num" id="4350585">0x7</span><span class="op" id="4350588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350591">im</span>&nbsp;<span class="op" id="4350594">:=</span>&nbsp;<span class="ident" id="4350597">in</span>&nbsp;<span class="op" id="4350600">&amp;</span>&nbsp;<span class="num" id="4350602">0x3ffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350611">off</span>&nbsp;<span class="op" id="4350615">:=</span>&nbsp;<span class="builtintype" id="4350618">int32</span><span class="op" id="4350623">(</span><span class="ident" id="4350624">im</span><span class="op" id="4350626">&lt;&lt;</span><span class="num" id="4350628">14</span><span class="op" id="4350630">)</span>&nbsp;<span class="op" id="4350632">&gt;&gt;</span>&nbsp;<span class="num" id="4350635">12</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350640">ret</span>&nbsp;<span class="op" id="4350644">:=</span>&nbsp;<span class="ident" id="4350647">newLine</span><span class="op" id="4350654">(</span><span class="ident" id="4350655">addr</span><span class="op" id="4350659">,</span>&nbsp;<span class="ident" id="4350661">in</span><span class="op" id="4350663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4350666">if</span>&nbsp;<span class="ident" id="4350669">opStr</span><span class="op" id="4350674">,</span>&nbsp;<span class="ident" id="4350676">found</span>&nbsp;<span class="op" id="4350682">:=</span>&nbsp;<span class="ident" id="4350685">opBrMap</span><span class="op" id="4350692">[</span><span class="ident" id="4350693">op</span><span class="op" id="4350695">]</span><span class="op" id="4350696">;</span>&nbsp;<span class="ident" id="4350698">found</span>&nbsp;<span class="op" id="4350704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350708">s</span>&nbsp;<span class="op" id="4350710">:=</span>&nbsp;<span class="ident" id="4350713">fmt</span><span class="op" id="4350716">.</span><span class="ident" id="4350717">Sprintf</span><span class="op" id="4350724">(</span><span class="string" id="4350725">&#34;%s&nbsp;%s&nbsp;%s&nbsp;%d&#34;</span><span class="op" id="4350738">,</span>&nbsp;<span class="ident" id="4350740">opStr</span><span class="op" id="4350745">,</span>&nbsp;<span class="ident" id="4350747">src1</span><span class="op" id="4350751">,</span>&nbsp;<span class="ident" id="4350753">src2</span><span class="op" id="4350757">,</span>&nbsp;<span class="ident" id="4350759">off</span><span class="op" id="4350762">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350767">ret</span><span class="op" id="4350770">.</span><span class="ident" id="4350771">Str</span>&nbsp;<span class="op" id="4350775">=</span>&nbsp;<span class="ident" id="4350777">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350781">ret</span><span class="op" id="4350784">.</span><span class="ident" id="4350785">IsJump</span>&nbsp;<span class="op" id="4350792">=</span>&nbsp;<span class="builtintype" id="4350794">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4350801">ret</span><span class="op" id="4350804">.</span><span class="ident" id="4350805">To</span>&nbsp;<span class="op" id="4350808">=</span>&nbsp;<span class="ident" id="4350810">addr</span>&nbsp;<span class="op" id="4350815">+</span>&nbsp;<span class="num" id="4350817">4</span>&nbsp;<span class="op" id="4350819">+</span>&nbsp;<span class="builtintype" id="4350821">uint32</span><span class="op" id="4350827">(</span><span class="ident" id="4350828">off</span><span class="op" id="4350831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4350834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4350838">return</span>&nbsp;<span class="ident" id="4350845">ret</span><br>
<span class="lineno"></span><span class="op" id="4350849">}</span>
</div>
</body>
</html>
