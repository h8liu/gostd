<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="8613927">package</span>&nbsp;<span class="ident" id="8613935">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8613942">import</span>&nbsp;<span class="op" id="8613949">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8613952">&#34;testing&#34;</span><br>
<span class="lineno">5</span><span class="op" id="8613962">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8613965">func</span>&nbsp;<span class="ident" id="8613970">TestPageTable</span><span class="op" id="8613983">(</span><span class="ident" id="8613984">t</span>&nbsp;<span class="op" id="8613986">*</span><span class="ident" id="8613987"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8613952">testing</a></span><span class="op" id="8613994">.</span><span class="ident" id="8613995">T</span><span class="op" id="8613996">)</span>&nbsp;<span class="op" id="8613998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614001">ne</span>&nbsp;<span class="op" id="8614004">:=</span>&nbsp;<span class="keyword" id="8614007">func</span><span class="op" id="8614011">(</span><span class="ident" id="8614012">e</span>&nbsp;<span class="op" id="8614014">*</span><span class="ident" id="8614015"><a href="/lonnie.io/e8vm/arch8/exception.go.html#5965541">Excep</a></span><span class="op" id="8614020">)</span>&nbsp;<span class="op" id="8614022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614026">if</span>&nbsp;<span class="ident" id="8614029"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614012">e</a></span>&nbsp;<span class="op" id="8614031">!=</span>&nbsp;<span class="ident" id="8614034">nil</span>&nbsp;<span class="op" id="8614038">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614043"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8613984">t</a></span><span class="op" id="8614044">.</span><span class="ident" id="8614045">Fatal</span><span class="op" id="8614050">(</span><span class="ident" id="8614051"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614012">e</a></span><span class="op" id="8614052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614063">as</span>&nbsp;<span class="op" id="8614066">:=</span>&nbsp;<span class="keyword" id="8614069">func</span><span class="op" id="8614073">(</span><span class="ident" id="8614074">cond</span>&nbsp;<span class="builtintype" id="8614079">bool</span><span class="op" id="8614083">)</span>&nbsp;<span class="op" id="8614085">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614089">if</span>&nbsp;<span class="op" id="8614092">!</span><span class="ident" id="8614093"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614074">cond</a></span>&nbsp;<span class="op" id="8614098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614103"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8613984">t</a></span><span class="op" id="8614104">.</span><span class="ident" id="8614105">Fail</span><span class="op" id="8614109">(</span><span class="op" id="8614110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614121">m</span>&nbsp;<span class="op" id="8614123">:=</span>&nbsp;<span class="ident" id="8614126"><a href="/lonnie.io/e8vm/arch8/phy_memory.go.html#5984648">newPhyMemory</a></span><span class="op" id="8614138">(</span><span class="num" id="8614139">4096</span>&nbsp;<span class="op" id="8614144">*</span>&nbsp;<span class="ident" id="8614146"><a href="/lonnie.io/e8vm/arch8/page.go.html#5979836">PageSize</a></span><span class="op" id="8614154">)</span>&nbsp;<span class="comment" id="8614156">//&nbsp;4&nbsp;2nd&nbsp;level&nbsp;entries</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614181">p8</span>&nbsp;<span class="op" id="8614184">:=</span>&nbsp;<span class="ident" id="8614187"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614121">m</a></span><span class="op" id="8614188">.</span><span class="ident" id="8614189">Page</span><span class="op" id="8614193">(</span><span class="num" id="8614194">8</span><span class="op" id="8614195">)</span>&nbsp;<span class="comment" id="8614197">//&nbsp;page&nbsp;eight</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614212">p9</span>&nbsp;<span class="op" id="8614215">:=</span>&nbsp;<span class="ident" id="8614218"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614121">m</a></span><span class="op" id="8614219">.</span><span class="ident" id="8614220">Page</span><span class="op" id="8614224">(</span><span class="num" id="8614225">9</span><span class="op" id="8614226">)</span>&nbsp;<span class="comment" id="8614228">//&nbsp;page&nbsp;nine</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614243">pte1</span>&nbsp;<span class="op" id="8614248">:=</span>&nbsp;<span class="ident" id="8614251"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5981960">ptEntry</a></span><span class="op" id="8614258">(</span><span class="num" id="8614259">0x9000</span><span class="op" id="8614265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614268"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614243">pte1</a></span><span class="op" id="8614272">.</span><span class="ident" id="8614273">setBit</span><span class="op" id="8614279">(</span><span class="ident" id="8614280"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5981985">pteValid</a></span><span class="op" id="8614288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614291"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614181">p8</a></span><span class="op" id="8614293">.</span><span class="ident" id="8614294">WriteWord</span><span class="op" id="8614303">(</span><span class="num" id="8614304">0</span><span class="op" id="8614305">,</span>&nbsp;<span class="builtintype" id="8614307">uint32</span><span class="op" id="8614313">(</span><span class="ident" id="8614314"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614243">pte1</a></span><span class="op" id="8614318">)</span><span class="op" id="8614319">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614323">pte2</span>&nbsp;<span class="op" id="8614328">:=</span>&nbsp;<span class="ident" id="8614331"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5981960">ptEntry</a></span><span class="op" id="8614338">(</span><span class="num" id="8614339">0xa000</span><span class="op" id="8614345">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614348"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614323">pte2</a></span><span class="op" id="8614352">.</span><span class="ident" id="8614353">setBit</span><span class="op" id="8614359">(</span><span class="ident" id="8614360"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5981985">pteValid</a></span><span class="op" id="8614368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614371">for</span>&nbsp;<span class="ident" id="8614375">i</span>&nbsp;<span class="op" id="8614377">:=</span>&nbsp;<span class="builtintype" id="8614380">uint32</span><span class="op" id="8614386">(</span><span class="num" id="8614387">0</span><span class="op" id="8614388">)</span><span class="op" id="8614389">;</span>&nbsp;<span class="ident" id="8614391"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614375">i</a></span>&nbsp;<span class="op" id="8614393">&lt;</span>&nbsp;<span class="num" id="8614395">512</span><span class="op" id="8614398">;</span>&nbsp;<span class="ident" id="8614400"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614375">i</a></span><span class="op" id="8614401">++</span>&nbsp;<span class="op" id="8614404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8614408">//&nbsp;map&nbsp;all&nbsp;pages&nbsp;from&nbsp;0&nbsp;to&nbsp;1023&nbsp;to&nbsp;page&nbsp;10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614453"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614212">p9</a></span><span class="op" id="8614455">.</span><span class="ident" id="8614456">WriteWord</span><span class="op" id="8614465">(</span><span class="ident" id="8614466"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614375">i</a></span><span class="op" id="8614467">*</span><span class="num" id="8614468">4</span><span class="op" id="8614469">,</span>&nbsp;<span class="builtintype" id="8614471">uint32</span><span class="op" id="8614477">(</span><span class="ident" id="8614478"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614323">pte2</a></span><span class="op" id="8614482">)</span><span class="op" id="8614483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614486">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614490">pt</span>&nbsp;<span class="op" id="8614493">:=</span>&nbsp;<span class="ident" id="8614496"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5981691">newPageTable</a></span><span class="op" id="8614508">(</span><span class="ident" id="8614509"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614121">m</a></span><span class="op" id="8614510">,</span>&nbsp;<span class="num" id="8614512">0x8000</span><span class="op" id="8614518">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614522">for</span>&nbsp;<span class="ident" id="8614526">i</span>&nbsp;<span class="op" id="8614528">:=</span>&nbsp;<span class="builtintype" id="8614531">uint32</span><span class="op" id="8614537">(</span><span class="num" id="8614538">0</span><span class="op" id="8614539">)</span><span class="op" id="8614540">;</span>&nbsp;<span class="ident" id="8614542"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614526">i</a></span>&nbsp;<span class="op" id="8614544">&lt;</span>&nbsp;<span class="num" id="8614546">512</span><span class="op" id="8614549">;</span>&nbsp;<span class="ident" id="8614551"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614526">i</a></span><span class="op" id="8614552">++</span>&nbsp;<span class="op" id="8614555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614559">ret</span><span class="op" id="8614562">,</span>&nbsp;<span class="ident" id="8614564">e</span>&nbsp;<span class="op" id="8614566">:=</span>&nbsp;<span class="ident" id="8614569"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614490">pt</a></span><span class="op" id="8614571">.</span><span class="ident" id="8614572">Translate</span><span class="op" id="8614581">(</span><span class="ident" id="8614582"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614526">i</a></span><span class="op" id="8614583">*</span><span class="num" id="8614584">0x1000</span><span class="op" id="8614590">+</span><span class="num" id="8614591">0x341</span><span class="op" id="8614596">,</span>&nbsp;<span class="num" id="8614598">0</span><span class="op" id="8614599">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614603"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614001">ne</a></span><span class="op" id="8614605">(</span><span class="ident" id="8614606"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614564">e</a></span><span class="op" id="8614607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614611"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8614613">(</span><span class="ident" id="8614614"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614559">ret</a></span>&nbsp;<span class="op" id="8614618">==</span>&nbsp;<span class="num" id="8614621">0xa341</span><span class="op" id="8614627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614634">for</span>&nbsp;<span class="ident" id="8614638">i</span>&nbsp;<span class="op" id="8614640">:=</span>&nbsp;<span class="builtintype" id="8614643">uint32</span><span class="op" id="8614649">(</span><span class="num" id="8614650">512</span><span class="op" id="8614653">)</span><span class="op" id="8614654">;</span>&nbsp;<span class="ident" id="8614656"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614638">i</a></span>&nbsp;<span class="op" id="8614658">&lt;</span>&nbsp;<span class="num" id="8614660">2048</span><span class="op" id="8614664">;</span>&nbsp;<span class="ident" id="8614666"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614638">i</a></span><span class="op" id="8614667">++</span>&nbsp;<span class="op" id="8614670">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614674">ret</span><span class="op" id="8614677">,</span>&nbsp;<span class="ident" id="8614679">e</span>&nbsp;<span class="op" id="8614681">:=</span>&nbsp;<span class="ident" id="8614684"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614490">pt</a></span><span class="op" id="8614686">.</span><span class="ident" id="8614687">Translate</span><span class="op" id="8614696">(</span><span class="ident" id="8614697"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614638">i</a></span><span class="op" id="8614698">*</span><span class="num" id="8614699">0x1000</span><span class="op" id="8614705">,</span>&nbsp;<span class="num" id="8614707">0</span><span class="op" id="8614708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614712"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8614714">(</span><span class="ident" id="8614715"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614674">ret</a></span>&nbsp;<span class="op" id="8614719">==</span>&nbsp;<span class="num" id="8614722">0</span><span class="op" id="8614723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614727"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8614729">(</span><span class="ident" id="8614730"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614679">e</a></span><span class="op" id="8614731">.</span><span class="ident" id="8614732">Code</span>&nbsp;<span class="op" id="8614737">==</span>&nbsp;<span class="ident" id="8614740"><a href="/lonnie.io/e8vm/arch8/exception.go.html#5965972">ErrPageFault</a></span><span class="op" id="8614752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614759">addr</span>&nbsp;<span class="op" id="8614764">:=</span>&nbsp;<span class="builtintype" id="8614767">uint32</span><span class="op" id="8614773">(</span><span class="num" id="8614774">3</span><span class="op" id="8614775">*</span><span class="ident" id="8614776"><a href="/lonnie.io/e8vm/arch8/page.go.html#5979836">PageSize</a></span>&nbsp;<span class="op" id="8614785">+</span>&nbsp;<span class="num" id="8614787">0x23</span><span class="op" id="8614791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614794">_</span><span class="op" id="8614795">,</span>&nbsp;<span class="ident" id="8614797">e</span>&nbsp;<span class="op" id="8614799">:=</span>&nbsp;<span class="ident" id="8614802"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614490">pt</a></span><span class="op" id="8614804">.</span><span class="ident" id="8614805">TranslateRead</span><span class="op" id="8614818">(</span><span class="ident" id="8614819"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614759">addr</a></span><span class="op" id="8614823">,</span>&nbsp;<span class="num" id="8614825">0</span><span class="op" id="8614826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614829"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8614831">(</span><span class="ident" id="8614832"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614797">e</a></span>&nbsp;<span class="op" id="8614834">==</span>&nbsp;<span class="ident" id="8614837">nil</span><span class="op" id="8614840">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614844"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614323">pte2</a></span><span class="op" id="8614848">.</span><span class="ident" id="8614849">setBit</span><span class="op" id="8614855">(</span><span class="ident" id="8614856"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5982002">pteReadonly</a></span><span class="op" id="8614867">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614870"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614212">p9</a></span><span class="op" id="8614872">.</span><span class="ident" id="8614873">WriteWord</span><span class="op" id="8614882">(</span><span class="num" id="8614883">3</span><span class="op" id="8614884">*</span><span class="num" id="8614885">4</span><span class="op" id="8614886">,</span>&nbsp;<span class="builtintype" id="8614888">uint32</span><span class="op" id="8614894">(</span><span class="ident" id="8614895"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614323">pte2</a></span><span class="op" id="8614899">)</span><span class="op" id="8614900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614903">_</span><span class="op" id="8614904">,</span>&nbsp;<span class="ident" id="8614906"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614797">e</a></span>&nbsp;<span class="op" id="8614908">=</span>&nbsp;<span class="ident" id="8614910"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614490">pt</a></span><span class="op" id="8614912">.</span><span class="ident" id="8614913">TranslateRead</span><span class="op" id="8614926">(</span><span class="ident" id="8614927"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614759">addr</a></span><span class="op" id="8614931">,</span>&nbsp;<span class="num" id="8614933">0</span><span class="op" id="8614934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614937"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8614939">(</span><span class="ident" id="8614940"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614797">e</a></span>&nbsp;<span class="op" id="8614942">==</span>&nbsp;<span class="ident" id="8614945">nil</span><span class="op" id="8614948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614951">_</span><span class="op" id="8614952">,</span>&nbsp;<span class="ident" id="8614954"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614797">e</a></span>&nbsp;<span class="op" id="8614956">=</span>&nbsp;<span class="ident" id="8614958"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614490">pt</a></span><span class="op" id="8614960">.</span><span class="ident" id="8614961">TranslateWrite</span><span class="op" id="8614975">(</span><span class="ident" id="8614976"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614759">addr</a></span><span class="op" id="8614980">,</span>&nbsp;<span class="num" id="8614982">0</span><span class="op" id="8614983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614986"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8614988">(</span><span class="ident" id="8614989"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614797">e</a></span><span class="op" id="8614990">.</span><span class="ident" id="8614991">Code</span>&nbsp;<span class="op" id="8614996">==</span>&nbsp;<span class="ident" id="8614999"><a href="/lonnie.io/e8vm/arch8/exception.go.html#5965993">ErrPageReadonly</a></span><span class="op" id="8615014">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615018">w</span>&nbsp;<span class="op" id="8615020">:=</span>&nbsp;<span class="ident" id="8615023"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614212">p9</a></span><span class="op" id="8615025">.</span><span class="ident" id="8615026">ReadWord</span><span class="op" id="8615034">(</span><span class="num" id="8615035">3</span>&nbsp;<span class="op" id="8615037">*</span>&nbsp;<span class="num" id="8615039">4</span><span class="op" id="8615040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615043"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8615045">(</span><span class="op" id="8615046">(</span><span class="ident" id="8615047"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8615018">w</a></span>&nbsp;<span class="op" id="8615049">&amp;</span>&nbsp;<span class="op" id="8615051">(</span><span class="num" id="8615052">0x1</span>&nbsp;<span class="op" id="8615056">&lt;&lt;</span>&nbsp;<span class="ident" id="8615059"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5982019">pteUse</a></span><span class="op" id="8615065">)</span><span class="op" id="8615066">)</span>&nbsp;<span class="op" id="8615068">!=</span>&nbsp;<span class="num" id="8615071">0</span><span class="op" id="8615072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615075"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8615077">(</span><span class="op" id="8615078">(</span><span class="ident" id="8615079"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8615018">w</a></span>&nbsp;<span class="op" id="8615081">&amp;</span>&nbsp;<span class="op" id="8615083">(</span><span class="num" id="8615084">0x1</span>&nbsp;<span class="op" id="8615088">&lt;&lt;</span>&nbsp;<span class="ident" id="8615091"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5982036">pteDirty</a></span><span class="op" id="8615099">)</span><span class="op" id="8615100">)</span>&nbsp;<span class="op" id="8615102">==</span>&nbsp;<span class="num" id="8615105">0</span><span class="op" id="8615106">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615110"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614759">addr</a></span>&nbsp;<span class="op" id="8615115">+=</span>&nbsp;<span class="ident" id="8615118"><a href="/lonnie.io/e8vm/arch8/page.go.html#5979836">PageSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615128">_</span><span class="op" id="8615129">,</span>&nbsp;<span class="ident" id="8615131"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614797">e</a></span>&nbsp;<span class="op" id="8615133">=</span>&nbsp;<span class="ident" id="8615135"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614490">pt</a></span><span class="op" id="8615137">.</span><span class="ident" id="8615138">TranslateWrite</span><span class="op" id="8615152">(</span><span class="ident" id="8615153"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614759">addr</a></span><span class="op" id="8615157">,</span>&nbsp;<span class="num" id="8615159">0</span><span class="op" id="8615160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615163"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8615165">(</span><span class="ident" id="8615166"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614797">e</a></span>&nbsp;<span class="op" id="8615168">==</span>&nbsp;<span class="ident" id="8615171">nil</span><span class="op" id="8615174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615177"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8615018">w</a></span>&nbsp;<span class="op" id="8615179">=</span>&nbsp;<span class="ident" id="8615181"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614212">p9</a></span><span class="op" id="8615183">.</span><span class="ident" id="8615184">ReadWord</span><span class="op" id="8615192">(</span><span class="num" id="8615193">4</span>&nbsp;<span class="op" id="8615195">*</span>&nbsp;<span class="num" id="8615197">4</span><span class="op" id="8615198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615201"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8614063">as</a></span><span class="op" id="8615203">(</span><span class="op" id="8615204">(</span><span class="ident" id="8615205"><a href="/lonnie.io/e8vm/arch8/page_table_test.go.html#8615018">w</a></span>&nbsp;<span class="op" id="8615207">&amp;</span>&nbsp;<span class="op" id="8615209">(</span><span class="num" id="8615210">0x1</span>&nbsp;<span class="op" id="8615214">&lt;&lt;</span>&nbsp;<span class="ident" id="8615217"><a href="/lonnie.io/e8vm/arch8/page_table.go.html#5982036">pteDirty</a></span><span class="op" id="8615225">)</span><span class="op" id="8615226">)</span>&nbsp;<span class="op" id="8615228">!=</span>&nbsp;<span class="num" id="8615231">0</span><span class="op" id="8615232">)</span><br>
<span class="lineno">70</span><span class="op" id="8615234">}</span>
</div>
</body>
</html>
