<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>testing</h2>
<ul>
<li><a href="/gostd/testing/allocs.go.html">allocs.go</a></li>
<li><a href="/gostd/testing/allocs_test.go.html">allocs_test.go</a></li>
<li><a href="/gostd/testing/benchmark.go.html">benchmark.go</a></li>
<li><a href="/gostd/testing/benchmark_test.go.html">benchmark_test.go</a></li>
<li><a href="/gostd/testing/cover.go.html">cover.go</a></li>
<li><a href="/gostd/testing/example.go.html" class="current">example.go</a></li>
<li><a href="/gostd/testing/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/testing/testing.go.html">testing.go</a></li>
<li><a href="/gostd/testing/testing_test.go.html">testing_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6380441">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6380496">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6380550">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6380601">package</span>&nbsp;<span class="ident" id="6380609">testing</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6380618">import</span>&nbsp;<span class="op" id="6380625">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6380628">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6380637">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6380644">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6380650">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6380656">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6380667">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6380674">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6380677">type</span>&nbsp;<span class="ident" id="6380682">InternalExample</span>&nbsp;<span class="keyword" id="6380698">struct</span>&nbsp;<span class="op" id="6380705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6380708">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6380715">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6380723">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6380730">func</span><span class="op" id="6380734">(</span><span class="op" id="6380735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6380738">Output</span>&nbsp;<span class="builtintype" id="6380745">string</span><br>
<span class="lineno">20</span><span class="op" id="6380752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6380755">func</span>&nbsp;<span class="ident" id="6380760">RunExamples</span><span class="op" id="6380771">(</span><span class="ident" id="6380772">matchString</span>&nbsp;<span class="keyword" id="6380784">func</span><span class="op" id="6380788">(</span><span class="ident" id="6380789">pat</span><span class="op" id="6380792">,</span>&nbsp;<span class="ident" id="6380794">str</span>&nbsp;<span class="builtintype" id="6380798">string</span><span class="op" id="6380804">)</span>&nbsp;<span class="op" id="6380806">(</span><span class="builtintype" id="6380807">bool</span><span class="op" id="6380811">,</span>&nbsp;<span class="builtintype" id="6380813">error</span><span class="op" id="6380818">)</span><span class="op" id="6380819">,</span>&nbsp;<span class="ident" id="6380821">examples</span>&nbsp;<span class="op" id="6380830">[</span><span class="op" id="6380831">]</span><span class="ident" id="6380832">InternalExample</span><span class="op" id="6380847">)</span>&nbsp;<span class="op" id="6380849">(</span><span class="ident" id="6380850">ok</span>&nbsp;<span class="builtintype" id="6380853">bool</span><span class="op" id="6380857">)</span>&nbsp;<span class="op" id="6380859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6380862">ok</span>&nbsp;<span class="op" id="6380865">=</span>&nbsp;<span class="builtintype" id="6380867">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6380874">var</span>&nbsp;<span class="ident" id="6380878">eg</span>&nbsp;<span class="ident" id="6380881">InternalExample</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6380899">for</span>&nbsp;<span class="ident" id="6380903">_</span><span class="op" id="6380904">,</span>&nbsp;<span class="ident" id="6380906">eg</span>&nbsp;<span class="op" id="6380909">=</span>&nbsp;<span class="keyword" id="6380911">range</span>&nbsp;<span class="ident" id="6380917">examples</span>&nbsp;<span class="op" id="6380926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6380930">matched</span><span class="op" id="6380937">,</span>&nbsp;<span class="ident" id="6380939">err</span>&nbsp;<span class="op" id="6380943">:=</span>&nbsp;<span class="ident" id="6380946">matchString</span><span class="op" id="6380957">(</span><span class="op" id="6380958">*</span><span class="ident" id="6380959">match</span><span class="op" id="6380964">,</span>&nbsp;<span class="ident" id="6380966">eg</span><span class="op" id="6380968">.</span><span class="ident" id="6380969">Name</span><span class="op" id="6380973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6380977">if</span>&nbsp;<span class="ident" id="6380980">err</span>&nbsp;<span class="op" id="6380984">!=</span>&nbsp;<span class="builtintype" id="6380987">nil</span>&nbsp;<span class="op" id="6380991">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6380996">fmt</span><span class="op" id="6380999">.</span><span class="ident" id="6381000">Fprintf</span><span class="op" id="6381007">(</span><span class="ident" id="6381008">os</span><span class="op" id="6381010">.</span><span class="ident" id="6381011">Stderr</span><span class="op" id="6381017">,</span>&nbsp;<span class="string" id="6381019">&#34;testing:&nbsp;invalid&nbsp;regexp&nbsp;for&nbsp;-test.run:&nbsp;%s\n&#34;</span><span class="op" id="6381064">,</span>&nbsp;<span class="ident" id="6381066">err</span><span class="op" id="6381069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381074">os</span><span class="op" id="6381076">.</span><span class="ident" id="6381077">Exit</span><span class="op" id="6381081">(</span><span class="num" id="6381082">1</span><span class="op" id="6381083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6381087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381091">if</span>&nbsp;<span class="op" id="6381094">!</span><span class="ident" id="6381095">matched</span>&nbsp;<span class="op" id="6381103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381108">continue</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6381119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381123">if</span>&nbsp;<span class="op" id="6381126">!</span><span class="ident" id="6381127">runExample</span><span class="op" id="6381137">(</span><span class="ident" id="6381138">eg</span><span class="op" id="6381140">)</span>&nbsp;<span class="op" id="6381142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381147">ok</span>&nbsp;<span class="op" id="6381150">=</span>&nbsp;<span class="builtintype" id="6381152">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6381160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6381163">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381167">return</span><br>
<span class="lineno"></span><span class="op" id="6381174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6381177">func</span>&nbsp;<span class="ident" id="6381182">runExample</span><span class="op" id="6381192">(</span><span class="ident" id="6381193">eg</span>&nbsp;<span class="ident" id="6381196">InternalExample</span><span class="op" id="6381211">)</span>&nbsp;<span class="op" id="6381213">(</span><span class="ident" id="6381214">ok</span>&nbsp;<span class="builtintype" id="6381217">bool</span><span class="op" id="6381221">)</span>&nbsp;<span class="op" id="6381223">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381226">if</span>&nbsp;<span class="op" id="6381229">*</span><span class="ident" id="6381230">chatty</span>&nbsp;<span class="op" id="6381237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381241">fmt</span><span class="op" id="6381244">.</span><span class="ident" id="6381245">Printf</span><span class="op" id="6381251">(</span><span class="string" id="6381252">&#34;===&nbsp;RUN:&nbsp;%s\n&#34;</span><span class="op" id="6381267">,</span>&nbsp;<span class="ident" id="6381269">eg</span><span class="op" id="6381271">.</span><span class="ident" id="6381272">Name</span><span class="op" id="6381276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6381279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6381283">//&nbsp;Capture&nbsp;stdout.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381303">stdout</span>&nbsp;<span class="op" id="6381310">:=</span>&nbsp;<span class="ident" id="6381313">os</span><span class="op" id="6381315">.</span><span class="ident" id="6381316">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381324">r</span><span class="op" id="6381325">,</span>&nbsp;<span class="ident" id="6381327">w</span><span class="op" id="6381328">,</span>&nbsp;<span class="ident" id="6381330">err</span>&nbsp;<span class="op" id="6381334">:=</span>&nbsp;<span class="ident" id="6381337">os</span><span class="op" id="6381339">.</span><span class="ident" id="6381340">Pipe</span><span class="op" id="6381344">(</span><span class="op" id="6381345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381348">if</span>&nbsp;<span class="ident" id="6381351">err</span>&nbsp;<span class="op" id="6381355">!=</span>&nbsp;<span class="builtintype" id="6381358">nil</span>&nbsp;<span class="op" id="6381362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381366">fmt</span><span class="op" id="6381369">.</span><span class="ident" id="6381370">Fprintln</span><span class="op" id="6381378">(</span><span class="ident" id="6381379">os</span><span class="op" id="6381381">.</span><span class="ident" id="6381382">Stderr</span><span class="op" id="6381388">,</span>&nbsp;<span class="ident" id="6381390">err</span><span class="op" id="6381393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381397">os</span><span class="op" id="6381399">.</span><span class="ident" id="6381400">Exit</span><span class="op" id="6381404">(</span><span class="num" id="6381405">1</span><span class="op" id="6381406">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6381409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381412">os</span><span class="op" id="6381414">.</span><span class="ident" id="6381415">Stdout</span>&nbsp;<span class="op" id="6381422">=</span>&nbsp;<span class="ident" id="6381424">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381427">outC</span>&nbsp;<span class="op" id="6381432">:=</span>&nbsp;<span class="builtinfunc" id="6381435">make</span><span class="op" id="6381439">(</span><span class="keyword" id="6381440">chan</span>&nbsp;<span class="builtintype" id="6381445">string</span><span class="op" id="6381451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381454">go</span>&nbsp;<span class="keyword" id="6381457">func</span><span class="op" id="6381461">(</span><span class="op" id="6381462">)</span>&nbsp;<span class="op" id="6381464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381468">buf</span>&nbsp;<span class="op" id="6381472">:=</span>&nbsp;<span class="builtinfunc" id="6381475">new</span><span class="op" id="6381478">(</span><span class="ident" id="6381479">bytes</span><span class="op" id="6381484">.</span><span class="ident" id="6381485">Buffer</span><span class="op" id="6381491">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381495">_</span><span class="op" id="6381496">,</span>&nbsp;<span class="ident" id="6381498">err</span>&nbsp;<span class="op" id="6381502">:=</span>&nbsp;<span class="ident" id="6381505">io</span><span class="op" id="6381507">.</span><span class="ident" id="6381508">Copy</span><span class="op" id="6381512">(</span><span class="ident" id="6381513">buf</span><span class="op" id="6381516">,</span>&nbsp;<span class="ident" id="6381518">r</span><span class="op" id="6381519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381523">r</span><span class="op" id="6381524">.</span><span class="ident" id="6381525">Close</span><span class="op" id="6381530">(</span><span class="op" id="6381531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381535">if</span>&nbsp;<span class="ident" id="6381538">err</span>&nbsp;<span class="op" id="6381542">!=</span>&nbsp;<span class="builtintype" id="6381545">nil</span>&nbsp;<span class="op" id="6381549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381554">fmt</span><span class="op" id="6381557">.</span><span class="ident" id="6381558">Fprintf</span><span class="op" id="6381565">(</span><span class="ident" id="6381566">os</span><span class="op" id="6381568">.</span><span class="ident" id="6381569">Stderr</span><span class="op" id="6381575">,</span>&nbsp;<span class="string" id="6381577">&#34;testing:&nbsp;copying&nbsp;pipe:&nbsp;%v\n&#34;</span><span class="op" id="6381606">,</span>&nbsp;<span class="ident" id="6381608">err</span><span class="op" id="6381611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381616">os</span><span class="op" id="6381618">.</span><span class="ident" id="6381619">Exit</span><span class="op" id="6381623">(</span><span class="num" id="6381624">1</span><span class="op" id="6381625">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6381629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381633">outC</span>&nbsp;<span class="op" id="6381638">&lt;-</span>&nbsp;<span class="ident" id="6381641">buf</span><span class="op" id="6381644">.</span><span class="ident" id="6381645">String</span><span class="op" id="6381651">(</span><span class="op" id="6381652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6381655">}</span><span class="op" id="6381656">(</span><span class="op" id="6381657">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381661">start</span>&nbsp;<span class="op" id="6381667">:=</span>&nbsp;<span class="ident" id="6381670">time</span><span class="op" id="6381674">.</span><span class="ident" id="6381675">Now</span><span class="op" id="6381678">(</span><span class="op" id="6381679">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381682">ok</span>&nbsp;<span class="op" id="6381685">=</span>&nbsp;<span class="builtintype" id="6381687">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6381694">//&nbsp;Clean&nbsp;up&nbsp;in&nbsp;a&nbsp;deferred&nbsp;call&nbsp;so&nbsp;we&nbsp;can&nbsp;recover&nbsp;if&nbsp;the&nbsp;example&nbsp;panics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381767">defer</span>&nbsp;<span class="keyword" id="6381773">func</span><span class="op" id="6381777">(</span><span class="op" id="6381778">)</span>&nbsp;<span class="op" id="6381780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381784">dstr</span>&nbsp;<span class="op" id="6381789">:=</span>&nbsp;<span class="ident" id="6381792">fmtDuration</span><span class="op" id="6381803">(</span><span class="ident" id="6381804">time</span><span class="op" id="6381808">.</span><span class="ident" id="6381809">Now</span><span class="op" id="6381812">(</span><span class="op" id="6381813">)</span><span class="op" id="6381814">.</span><span class="ident" id="6381815">Sub</span><span class="op" id="6381818">(</span><span class="ident" id="6381819">start</span><span class="op" id="6381824">)</span><span class="op" id="6381825">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6381830">//&nbsp;Close&nbsp;pipe,&nbsp;restore&nbsp;stdout,&nbsp;get&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381875">w</span><span class="op" id="6381876">.</span><span class="ident" id="6381877">Close</span><span class="op" id="6381882">(</span><span class="op" id="6381883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381887">os</span><span class="op" id="6381889">.</span><span class="ident" id="6381890">Stdout</span>&nbsp;<span class="op" id="6381897">=</span>&nbsp;<span class="ident" id="6381899">stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381908">out</span>&nbsp;<span class="op" id="6381912">:=</span>&nbsp;<span class="op" id="6381915">&lt;-</span><span class="ident" id="6381917">outC</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381925">var</span>&nbsp;<span class="ident" id="6381929">fail</span>&nbsp;<span class="builtintype" id="6381934">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6381943">err</span>&nbsp;<span class="op" id="6381947">:=</span>&nbsp;<span class="builtinfunc" id="6381950">recover</span><span class="op" id="6381957">(</span><span class="op" id="6381958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6381962">if</span>&nbsp;<span class="ident" id="6381965">g</span><span class="op" id="6381966">,</span>&nbsp;<span class="ident" id="6381968">e</span>&nbsp;<span class="op" id="6381970">:=</span>&nbsp;<span class="ident" id="6381973">strings</span><span class="op" id="6381980">.</span><span class="ident" id="6381981">TrimSpace</span><span class="op" id="6381990">(</span><span class="ident" id="6381991">out</span><span class="op" id="6381994">)</span><span class="op" id="6381995">,</span>&nbsp;<span class="ident" id="6381997">strings</span><span class="op" id="6382004">.</span><span class="ident" id="6382005">TrimSpace</span><span class="op" id="6382014">(</span><span class="ident" id="6382015">eg</span><span class="op" id="6382017">.</span><span class="ident" id="6382018">Output</span><span class="op" id="6382024">)</span><span class="op" id="6382025">;</span>&nbsp;<span class="ident" id="6382027">g</span>&nbsp;<span class="op" id="6382029">!=</span>&nbsp;<span class="ident" id="6382032">e</span>&nbsp;<span class="op" id="6382034">&amp;&amp;</span>&nbsp;<span class="ident" id="6382037">err</span>&nbsp;<span class="op" id="6382041">==</span>&nbsp;<span class="builtintype" id="6382044">nil</span>&nbsp;<span class="op" id="6382048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6382053">fail</span>&nbsp;<span class="op" id="6382058">=</span>&nbsp;<span class="ident" id="6382060">fmt</span><span class="op" id="6382063">.</span><span class="ident" id="6382064">Sprintf</span><span class="op" id="6382071">(</span><span class="string" id="6382072">&#34;got:\n%s\nwant:\n%s\n&#34;</span><span class="op" id="6382095">,</span>&nbsp;<span class="ident" id="6382097">g</span><span class="op" id="6382098">,</span>&nbsp;<span class="ident" id="6382100">e</span><span class="op" id="6382101">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6382105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6382109">if</span>&nbsp;<span class="ident" id="6382112">fail</span>&nbsp;<span class="op" id="6382117">!=</span>&nbsp;<span class="string" id="6382120">&#34;&#34;</span>&nbsp;<span class="op" id="6382123">||</span>&nbsp;<span class="ident" id="6382126">err</span>&nbsp;<span class="op" id="6382130">!=</span>&nbsp;<span class="builtintype" id="6382133">nil</span>&nbsp;<span class="op" id="6382137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6382142">fmt</span><span class="op" id="6382145">.</span><span class="ident" id="6382146">Printf</span><span class="op" id="6382152">(</span><span class="string" id="6382153">&#34;---&nbsp;FAIL:&nbsp;%s&nbsp;(%s)\n%s&#34;</span><span class="op" id="6382176">,</span>&nbsp;<span class="ident" id="6382178">eg</span><span class="op" id="6382180">.</span><span class="ident" id="6382181">Name</span><span class="op" id="6382185">,</span>&nbsp;<span class="ident" id="6382187">dstr</span><span class="op" id="6382191">,</span>&nbsp;<span class="ident" id="6382193">fail</span><span class="op" id="6382197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6382202">ok</span>&nbsp;<span class="op" id="6382205">=</span>&nbsp;<span class="builtintype" id="6382207">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6382215">}</span>&nbsp;<span class="keyword" id="6382217">else</span>&nbsp;<span class="keyword" id="6382222">if</span>&nbsp;<span class="op" id="6382225">*</span><span class="ident" id="6382226">chatty</span>&nbsp;<span class="op" id="6382233">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6382238">fmt</span><span class="op" id="6382241">.</span><span class="ident" id="6382242">Printf</span><span class="op" id="6382248">(</span><span class="string" id="6382249">&#34;---&nbsp;PASS:&nbsp;%s&nbsp;(%s)\n&#34;</span><span class="op" id="6382270">,</span>&nbsp;<span class="ident" id="6382272">eg</span><span class="op" id="6382274">.</span><span class="ident" id="6382275">Name</span><span class="op" id="6382279">,</span>&nbsp;<span class="ident" id="6382281">dstr</span><span class="op" id="6382285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6382289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6382293">if</span>&nbsp;<span class="ident" id="6382296">err</span>&nbsp;<span class="op" id="6382300">!=</span>&nbsp;<span class="builtintype" id="6382303">nil</span>&nbsp;<span class="op" id="6382307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6382312">panic</span><span class="op" id="6382317">(</span><span class="ident" id="6382318">err</span><span class="op" id="6382321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6382325">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6382328">}</span><span class="op" id="6382329">(</span><span class="op" id="6382330">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6382334">//&nbsp;Run&nbsp;example.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6382351">eg</span><span class="op" id="6382353">.</span><span class="ident" id="6382354">F</span><span class="op" id="6382355">(</span><span class="op" id="6382356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6382359">return</span><br>
<span class="lineno">100</span><span class="op" id="6382366">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
