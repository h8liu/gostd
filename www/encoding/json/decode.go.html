<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4721581">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4721636">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4721690">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4721741">//&nbsp;Represents&nbsp;JSON&nbsp;data&nbsp;structure&nbsp;using&nbsp;native&nbsp;Go&nbsp;types:&nbsp;booleans,&nbsp;floats,</span><br>
<span class="lineno"></span><span class="comment" id="4721816">//&nbsp;strings,&nbsp;arrays,&nbsp;and&nbsp;maps.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4721847">package</span>&nbsp;<span class="ident" id="4721855">json</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="4721861">import</span>&nbsp;<span class="op" id="4721868">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721871">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721880">&#34;encoding&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721892">&#34;encoding/base64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721911">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721921">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721928">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721939">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721950">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721961">&#34;unicode&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721972">&#34;unicode/utf16&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4721989">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4722004">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4722007">//&nbsp;Unmarshal&nbsp;parses&nbsp;the&nbsp;JSON-encoded&nbsp;data&nbsp;and&nbsp;stores&nbsp;the&nbsp;result</span><br>
<span class="lineno">25</span><span class="comment" id="4722071">//&nbsp;in&nbsp;the&nbsp;value&nbsp;pointed&nbsp;to&nbsp;by&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="4722104">//</span><br>
<span class="lineno"></span><span class="comment" id="4722107">//&nbsp;Unmarshal&nbsp;uses&nbsp;the&nbsp;inverse&nbsp;of&nbsp;the&nbsp;encodings&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="4722159">//&nbsp;Marshal&nbsp;uses,&nbsp;allocating&nbsp;maps,&nbsp;slices,&nbsp;and&nbsp;pointers&nbsp;as&nbsp;necessary,</span><br>
<span class="lineno"></span><span class="comment" id="4722228">//&nbsp;with&nbsp;the&nbsp;following&nbsp;additional&nbsp;rules:</span><br>
<span class="lineno">30</span><span class="comment" id="4722268">//</span><br>
<span class="lineno"></span><span class="comment" id="4722271">//&nbsp;To&nbsp;unmarshal&nbsp;JSON&nbsp;into&nbsp;a&nbsp;pointer,&nbsp;Unmarshal&nbsp;first&nbsp;handles&nbsp;the&nbsp;case&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4722344">//&nbsp;the&nbsp;JSON&nbsp;being&nbsp;the&nbsp;JSON&nbsp;literal&nbsp;null.&nbsp;&nbsp;In&nbsp;that&nbsp;case,&nbsp;Unmarshal&nbsp;sets</span><br>
<span class="lineno"></span><span class="comment" id="4722415">//&nbsp;the&nbsp;pointer&nbsp;to&nbsp;nil.&nbsp;&nbsp;Otherwise,&nbsp;Unmarshal&nbsp;unmarshals&nbsp;the&nbsp;JSON&nbsp;into</span><br>
<span class="lineno"></span><span class="comment" id="4722485">//&nbsp;the&nbsp;value&nbsp;pointed&nbsp;at&nbsp;by&nbsp;the&nbsp;pointer.&nbsp;&nbsp;If&nbsp;the&nbsp;pointer&nbsp;is&nbsp;nil,&nbsp;Unmarshal</span><br>
<span class="lineno">35</span><span class="comment" id="4722559">//&nbsp;allocates&nbsp;a&nbsp;new&nbsp;value&nbsp;for&nbsp;it&nbsp;to&nbsp;point&nbsp;to.</span><br>
<span class="lineno"></span><span class="comment" id="4722604">//</span><br>
<span class="lineno"></span><span class="comment" id="4722607">//&nbsp;To&nbsp;unmarshal&nbsp;JSON&nbsp;into&nbsp;a&nbsp;struct,&nbsp;Unmarshal&nbsp;matches&nbsp;incoming&nbsp;object</span><br>
<span class="lineno"></span><span class="comment" id="4722677">//&nbsp;keys&nbsp;to&nbsp;the&nbsp;keys&nbsp;used&nbsp;by&nbsp;Marshal&nbsp;(either&nbsp;the&nbsp;struct&nbsp;field&nbsp;name&nbsp;or&nbsp;its&nbsp;tag),</span><br>
<span class="lineno"></span><span class="comment" id="4722756">//&nbsp;preferring&nbsp;an&nbsp;exact&nbsp;match&nbsp;but&nbsp;also&nbsp;accepting&nbsp;a&nbsp;case-insensitive&nbsp;match.</span><br>
<span class="lineno">40</span><span class="comment" id="4722830">//</span><br>
<span class="lineno"></span><span class="comment" id="4722833">//&nbsp;To&nbsp;unmarshal&nbsp;JSON&nbsp;into&nbsp;an&nbsp;interface&nbsp;value,</span><br>
<span class="lineno"></span><span class="comment" id="4722879">//&nbsp;Unmarshal&nbsp;stores&nbsp;one&nbsp;of&nbsp;these&nbsp;in&nbsp;the&nbsp;interface&nbsp;value:</span><br>
<span class="lineno"></span><span class="comment" id="4722936">//</span><br>
<span class="lineno"></span><span class="comment" id="4722939">//&nbsp;&nbsp;&nbsp;&nbspbool,&nbsp;for&nbsp;JSON&nbsp;booleans</span><br>
<span class="lineno">45</span><span class="comment" id="4722966">//&nbsp;&nbsp;&nbsp;&nbspfloat64,&nbsp;for&nbsp;JSON&nbsp;numbers</span><br>
<span class="lineno"></span><span class="comment" id="4722995">//&nbsp;&nbsp;&nbsp;&nbspstring,&nbsp;for&nbsp;JSON&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="4723023">//&nbsp;&nbsp;&nbsp;&nbsp[]interface{},&nbsp;for&nbsp;JSON&nbsp;arrays</span><br>
<span class="lineno"></span><span class="comment" id="4723057">//&nbsp;&nbsp;&nbsp;&nbspmap[string]interface{},&nbsp;for&nbsp;JSON&nbsp;objects</span><br>
<span class="lineno"></span><span class="comment" id="4723101">//&nbsp;&nbsp;&nbsp;&nbspnil&nbsp;for&nbsp;JSON&nbsp;null</span><br>
<span class="lineno">50</span><span class="comment" id="4723122">//</span><br>
<span class="lineno"></span><span class="comment" id="4723125">//&nbsp;If&nbsp;a&nbsp;JSON&nbsp;value&nbsp;is&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;a&nbsp;given&nbsp;target&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="4723188">//&nbsp;or&nbsp;if&nbsp;a&nbsp;JSON&nbsp;number&nbsp;overflows&nbsp;the&nbsp;target&nbsp;type,&nbsp;Unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="4723248">//&nbsp;skips&nbsp;that&nbsp;field&nbsp;and&nbsp;completes&nbsp;the&nbsp;unmarshalling&nbsp;as&nbsp;best&nbsp;it&nbsp;can.</span><br>
<span class="lineno"></span><span class="comment" id="4723316">//&nbsp;If&nbsp;no&nbsp;more&nbsp;serious&nbsp;errors&nbsp;are&nbsp;encountered,&nbsp;Unmarshal&nbsp;returns</span><br>
<span class="lineno">55</span><span class="comment" id="4723380">//&nbsp;an&nbsp;UnmarshalTypeError&nbsp;describing&nbsp;the&nbsp;earliest&nbsp;such&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="4723441">//</span><br>
<span class="lineno"></span><span class="comment" id="4723444">//&nbsp;The&nbsp;JSON&nbsp;null&nbsp;value&nbsp;unmarshals&nbsp;into&nbsp;an&nbsp;interface,&nbsp;map,&nbsp;pointer,&nbsp;or&nbsp;slice</span><br>
<span class="lineno"></span><span class="comment" id="4723520">//&nbsp;by&nbsp;setting&nbsp;that&nbsp;Go&nbsp;value&nbsp;to&nbsp;nil.&nbsp;Because&nbsp;null&nbsp;is&nbsp;often&nbsp;used&nbsp;in&nbsp;JSON&nbsp;to&nbsp;mean</span><br>
<span class="lineno"></span><span class="comment" id="4723599">//&nbsp;``not&nbsp;present,&#39;&#39;&nbsp;unmarshaling&nbsp;a&nbsp;JSON&nbsp;null&nbsp;into&nbsp;any&nbsp;other&nbsp;Go&nbsp;type&nbsp;has&nbsp;no&nbsp;effect</span><br>
<span class="lineno">60</span><span class="comment" id="4723681">//&nbsp;on&nbsp;the&nbsp;value&nbsp;and&nbsp;produces&nbsp;no&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="4723720">//</span><br>
<span class="lineno"></span><span class="comment" id="4723723">//&nbsp;When&nbsp;unmarshaling&nbsp;quoted&nbsp;strings,&nbsp;invalid&nbsp;UTF-8&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="4723777">//&nbsp;invalid&nbsp;UTF-16&nbsp;surrogate&nbsp;pairs&nbsp;are&nbsp;not&nbsp;treated&nbsp;as&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="4723840">//&nbsp;Instead,&nbsp;they&nbsp;are&nbsp;replaced&nbsp;by&nbsp;the&nbsp;Unicode&nbsp;replacement</span><br>
<span class="lineno">65</span><span class="comment" id="4723897">//&nbsp;character&nbsp;U+FFFD.</span><br>
<span class="lineno"></span><span class="comment" id="4723918">//</span><br>
<span class="lineno"></span><span class="keyword" id="4723921">func</span>&nbsp;<span class="ident" id="4723926">Unmarshal</span><span class="op" id="4723935">(</span><span class="ident" id="4723936">data</span>&nbsp;<span class="op" id="4723941">[</span><span class="op" id="4723942">]</span><span class="builtintype" id="4723943">byte</span><span class="op" id="4723947">,</span>&nbsp;<span class="ident" id="4723949">v</span>&nbsp;<span class="keyword" id="4723951">interface</span><span class="op" id="4723960">{</span><span class="op" id="4723961">}</span><span class="op" id="4723962">)</span>&nbsp;<span class="builtintype" id="4723964">error</span>&nbsp;<span class="op" id="4723970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4723973">//&nbsp;Check&nbsp;for&nbsp;well-formedness.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4724004">//&nbsp;Avoids&nbsp;filling&nbsp;out&nbsp;half&nbsp;a&nbsp;data&nbsp;structure</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4724049">//&nbsp;before&nbsp;discovering&nbsp;a&nbsp;JSON&nbsp;syntax&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4724093">var</span>&nbsp;<span class="ident" id="4724097">d</span>&nbsp;<span class="ident" id="4724099"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4724112">err</span>&nbsp;<span class="op" id="4724116">:=</span>&nbsp;<span class="ident" id="4724119"><a href="/encoding/json/scanner.go.html#4786390">checkValid</a></span><span class="op" id="4724129">(</span><span class="ident" id="4724130"><a href="/encoding/json/decode.go.html#4723936">data</a></span><span class="op" id="4724134">,</span>&nbsp;<span class="op" id="4724136">&amp;</span><span class="ident" id="4724137"><a href="/encoding/json/decode.go.html#4724097">d</a></span><span class="op" id="4724138">.</span><span class="ident" id="4724139">scan</span><span class="op" id="4724143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4724146">if</span>&nbsp;<span class="ident" id="4724149"><a href="/encoding/json/decode.go.html#4724112">err</a></span>&nbsp;<span class="op" id="4724153">!=</span>&nbsp;<span class="ident" id="4724156">nil</span>&nbsp;<span class="op" id="4724160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4724164">return</span>&nbsp;<span class="ident" id="4724171"><a href="/encoding/json/decode.go.html#4724112">err</a></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4724176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4724180"><a href="/encoding/json/decode.go.html#4724097">d</a></span><span class="op" id="4724181">.</span><span class="ident" id="4724182">init</span><span class="op" id="4724186">(</span><span class="ident" id="4724187"><a href="/encoding/json/decode.go.html#4723936">data</a></span><span class="op" id="4724191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4724194">return</span>&nbsp;<span class="ident" id="4724201"><a href="/encoding/json/decode.go.html#4724097">d</a></span><span class="op" id="4724202">.</span><span class="ident" id="4724203">unmarshal</span><span class="op" id="4724212">(</span><span class="ident" id="4724213"><a href="/encoding/json/decode.go.html#4723949">v</a></span><span class="op" id="4724214">)</span><br>
<span class="lineno"></span><span class="op" id="4724216">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="4724219">//&nbsp;Unmarshaler&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;objects</span><br>
<span class="lineno"></span><span class="comment" id="4724274">//&nbsp;that&nbsp;can&nbsp;unmarshal&nbsp;a&nbsp;JSON&nbsp;description&nbsp;of&nbsp;themselves.</span><br>
<span class="lineno"></span><span class="comment" id="4724330">//&nbsp;The&nbsp;input&nbsp;can&nbsp;be&nbsp;assumed&nbsp;to&nbsp;be&nbsp;a&nbsp;valid&nbsp;encoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4724384">//&nbsp;a&nbsp;JSON&nbsp;value.&nbsp;UnmarshalJSON&nbsp;must&nbsp;copy&nbsp;the&nbsp;JSON&nbsp;data</span><br>
<span class="lineno">85</span><span class="comment" id="4724439">//&nbsp;if&nbsp;it&nbsp;wishes&nbsp;to&nbsp;retain&nbsp;the&nbsp;data&nbsp;after&nbsp;returning.</span><br>
<span class="lineno"></span><span class="keyword" id="4724491">type</span>&nbsp;<span class="ident" id="4724496">Unmarshaler</span>&nbsp;<span class="keyword" id="4724508">interface</span>&nbsp;<span class="op" id="4724518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4724521">UnmarshalJSON</span><span class="op" id="4724534">(</span><span class="op" id="4724535">[</span><span class="op" id="4724536">]</span><span class="builtintype" id="4724537">byte</span><span class="op" id="4724541">)</span>&nbsp;<span class="builtintype" id="4724543">error</span><br>
<span class="lineno"></span><span class="op" id="4724549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4724552">//&nbsp;An&nbsp;UnmarshalTypeError&nbsp;describes&nbsp;a&nbsp;JSON&nbsp;value&nbsp;that&nbsp;was</span><br>
<span class="lineno"></span><span class="comment" id="4724609">//&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;a&nbsp;value&nbsp;of&nbsp;a&nbsp;specific&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="4724663">type</span>&nbsp;<span class="ident" id="4724668">UnmarshalTypeError</span>&nbsp;<span class="keyword" id="4724687">struct</span>&nbsp;<span class="op" id="4724694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4724697">Value</span>&nbsp;<span class="builtintype" id="4724703">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4724716">//&nbsp;description&nbsp;of&nbsp;JSON&nbsp;value&nbsp;-&nbsp;&#34;bool&#34;,&nbsp;&#34;array&#34;,&nbsp;&#34;number&nbsp;-5&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4724777">Type</span>&nbsp;&nbsp;<span class="ident" id="4724783"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4724790">.</span><span class="ident" id="4724791">Type</span>&nbsp;<span class="comment" id="4724796">//&nbsp;type&nbsp;of&nbsp;Go&nbsp;value&nbsp;it&nbsp;could&nbsp;not&nbsp;be&nbsp;assigned&nbsp;to</span><br>
<span class="lineno">95</span><span class="op" id="4724844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4724847">func</span>&nbsp;<span class="op" id="4724852">(</span><span class="ident" id="4724853">e</span>&nbsp;<span class="op" id="4724855">*</span><span class="ident" id="4724856"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4724874">)</span>&nbsp;<span class="ident" id="4724876">Error</span><span class="op" id="4724881">(</span><span class="op" id="4724882">)</span>&nbsp;<span class="builtintype" id="4724884">string</span>&nbsp;<span class="op" id="4724891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4724894">return</span>&nbsp;<span class="string" id="4724901">&#34;json:&nbsp;cannot&nbsp;unmarshal&nbsp;&#34;</span>&nbsp;<span class="op" id="4724927">+</span>&nbsp;<span class="ident" id="4724929"><a href="/encoding/json/decode.go.html#4724853">e</a></span><span class="op" id="4724930">.</span><span class="ident" id="4724931">Value</span>&nbsp;<span class="op" id="4724937">+</span>&nbsp;<span class="string" id="4724939">&#34;&nbsp;into&nbsp;Go&nbsp;value&nbsp;of&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="4724965">+</span>&nbsp;<span class="ident" id="4724967"><a href="/encoding/json/decode.go.html#4724853">e</a></span><span class="op" id="4724968">.</span><span class="ident" id="4724969">Type</span><span class="op" id="4724973">.</span><span class="ident" id="4724974">String</span><span class="op" id="4724980">(</span><span class="op" id="4724981">)</span><br>
<span class="lineno"></span><span class="op" id="4724983">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4724986">//&nbsp;An&nbsp;UnmarshalFieldError&nbsp;describes&nbsp;a&nbsp;JSON&nbsp;object&nbsp;key&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="4725045">//&nbsp;led&nbsp;to&nbsp;an&nbsp;unexported&nbsp;(and&nbsp;therefore&nbsp;unwritable)&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="4725110">//&nbsp;(No&nbsp;longer&nbsp;used;&nbsp;kept&nbsp;for&nbsp;compatibility.)</span><br>
<span class="lineno"></span><span class="keyword" id="4725155">type</span>&nbsp;<span class="ident" id="4725160">UnmarshalFieldError</span>&nbsp;<span class="keyword" id="4725180">struct</span>&nbsp;<span class="op" id="4725187">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4725190">Key</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4725196">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4725204">Type</span>&nbsp;&nbsp;<span class="ident" id="4725210"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4725217">.</span><span class="ident" id="4725218">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4725224">Field</span>&nbsp;<span class="ident" id="4725230"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4725237">.</span><span class="ident" id="4725238">StructField</span><br>
<span class="lineno"></span><span class="op" id="4725250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="4725253">func</span>&nbsp;<span class="op" id="4725258">(</span><span class="ident" id="4725259">e</span>&nbsp;<span class="op" id="4725261">*</span><span class="ident" id="4725262"><a href="/encoding/json/decode.go.html#4725160">UnmarshalFieldError</a></span><span class="op" id="4725281">)</span>&nbsp;<span class="ident" id="4725283">Error</span><span class="op" id="4725288">(</span><span class="op" id="4725289">)</span>&nbsp;<span class="builtintype" id="4725291">string</span>&nbsp;<span class="op" id="4725298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4725301">return</span>&nbsp;<span class="string" id="4725308">&#34;json:&nbsp;cannot&nbsp;unmarshal&nbsp;object&nbsp;key&nbsp;&#34;</span>&nbsp;<span class="op" id="4725345">+</span>&nbsp;<span class="ident" id="4725347"><a href="/encoding/json/decode.go.html#4721950">strconv</a></span><span class="op" id="4725354">.</span><span class="ident" id="4725355">Quote</span><span class="op" id="4725360">(</span><span class="ident" id="4725361"><a href="/encoding/json/decode.go.html#4725259">e</a></span><span class="op" id="4725362">.</span><span class="ident" id="4725363">Key</span><span class="op" id="4725366">)</span>&nbsp;<span class="op" id="4725368">+</span>&nbsp;<span class="string" id="4725370">&#34;&nbsp;into&nbsp;unexported&nbsp;field&nbsp;&#34;</span>&nbsp;<span class="op" id="4725396">+</span>&nbsp;<span class="ident" id="4725398"><a href="/encoding/json/decode.go.html#4725259">e</a></span><span class="op" id="4725399">.</span><span class="ident" id="4725400">Field</span><span class="op" id="4725405">.</span><span class="ident" id="4725406">Name</span>&nbsp;<span class="op" id="4725411">+</span>&nbsp;<span class="string" id="4725413">&#34;&nbsp;of&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="4725425">+</span>&nbsp;<span class="ident" id="4725427"><a href="/encoding/json/decode.go.html#4725259">e</a></span><span class="op" id="4725428">.</span><span class="ident" id="4725429">Type</span><span class="op" id="4725433">.</span><span class="ident" id="4725434">String</span><span class="op" id="4725440">(</span><span class="op" id="4725441">)</span><br>
<span class="lineno"></span><span class="op" id="4725443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4725446">//&nbsp;An&nbsp;InvalidUnmarshalError&nbsp;describes&nbsp;an&nbsp;invalid&nbsp;argument&nbsp;passed&nbsp;to&nbsp;Unmarshal.</span><br>
<span class="lineno">115</span><span class="comment" id="4725525">//&nbsp;(The&nbsp;argument&nbsp;to&nbsp;Unmarshal&nbsp;must&nbsp;be&nbsp;a&nbsp;non-nil&nbsp;pointer.)</span><br>
<span class="lineno"></span><span class="keyword" id="4725583">type</span>&nbsp;<span class="ident" id="4725588">InvalidUnmarshalError</span>&nbsp;<span class="keyword" id="4725610">struct</span>&nbsp;<span class="op" id="4725617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4725620">Type</span>&nbsp;<span class="ident" id="4725625"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4725632">.</span><span class="ident" id="4725633">Type</span><br>
<span class="lineno"></span><span class="op" id="4725638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="4725641">func</span>&nbsp;<span class="op" id="4725646">(</span><span class="ident" id="4725647">e</span>&nbsp;<span class="op" id="4725649">*</span><span class="ident" id="4725650"><a href="/encoding/json/decode.go.html#4725588">InvalidUnmarshalError</a></span><span class="op" id="4725671">)</span>&nbsp;<span class="ident" id="4725673">Error</span><span class="op" id="4725678">(</span><span class="op" id="4725679">)</span>&nbsp;<span class="builtintype" id="4725681">string</span>&nbsp;<span class="op" id="4725688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4725691">if</span>&nbsp;<span class="ident" id="4725694"><a href="/encoding/json/decode.go.html#4725647">e</a></span><span class="op" id="4725695">.</span><span class="ident" id="4725696">Type</span>&nbsp;<span class="op" id="4725701">==</span>&nbsp;<span class="ident" id="4725704">nil</span>&nbsp;<span class="op" id="4725708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4725712">return</span>&nbsp;<span class="string" id="4725719">&#34;json:&nbsp;Unmarshal(nil)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4725743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4725747">if</span>&nbsp;<span class="ident" id="4725750"><a href="/encoding/json/decode.go.html#4725647">e</a></span><span class="op" id="4725751">.</span><span class="ident" id="4725752">Type</span><span class="op" id="4725756">.</span><span class="ident" id="4725757">Kind</span><span class="op" id="4725761">(</span><span class="op" id="4725762">)</span>&nbsp;<span class="op" id="4725764">!=</span>&nbsp;<span class="ident" id="4725767"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4725774">.</span><span class="ident" id="4725775">Ptr</span>&nbsp;<span class="op" id="4725779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4725783">return</span>&nbsp;<span class="string" id="4725790">&#34;json:&nbsp;Unmarshal(non-pointer&nbsp;&#34;</span>&nbsp;<span class="op" id="4725821">+</span>&nbsp;<span class="ident" id="4725823"><a href="/encoding/json/decode.go.html#4725647">e</a></span><span class="op" id="4725824">.</span><span class="ident" id="4725825">Type</span><span class="op" id="4725829">.</span><span class="ident" id="4725830">String</span><span class="op" id="4725836">(</span><span class="op" id="4725837">)</span>&nbsp;<span class="op" id="4725839">+</span>&nbsp;<span class="string" id="4725841">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4725846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4725849">return</span>&nbsp;<span class="string" id="4725856">&#34;json:&nbsp;Unmarshal(nil&nbsp;&#34;</span>&nbsp;<span class="op" id="4725879">+</span>&nbsp;<span class="ident" id="4725881"><a href="/encoding/json/decode.go.html#4725647">e</a></span><span class="op" id="4725882">.</span><span class="ident" id="4725883">Type</span><span class="op" id="4725887">.</span><span class="ident" id="4725888">String</span><span class="op" id="4725894">(</span><span class="op" id="4725895">)</span>&nbsp;<span class="op" id="4725897">+</span>&nbsp;<span class="string" id="4725899">&#34;)&#34;</span><br>
<span class="lineno"></span><span class="op" id="4725903">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="4725906">func</span>&nbsp;<span class="op" id="4725911">(</span><span class="ident" id="4725912">d</span>&nbsp;<span class="op" id="4725914">*</span><span class="ident" id="4725915"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4725926">)</span>&nbsp;<span class="ident" id="4725928">unmarshal</span><span class="op" id="4725937">(</span><span class="ident" id="4725938">v</span>&nbsp;<span class="keyword" id="4725940">interface</span><span class="op" id="4725949">{</span><span class="op" id="4725950">}</span><span class="op" id="4725951">)</span>&nbsp;<span class="op" id="4725953">(</span><span class="ident" id="4725954">err</span>&nbsp;<span class="builtintype" id="4725958">error</span><span class="op" id="4725963">)</span>&nbsp;<span class="op" id="4725965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4725968">defer</span>&nbsp;<span class="keyword" id="4725974">func</span><span class="op" id="4725978">(</span><span class="op" id="4725979">)</span>&nbsp;<span class="op" id="4725981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4725985">if</span>&nbsp;<span class="ident" id="4725988">r</span>&nbsp;<span class="op" id="4725990">:=</span>&nbsp;<span class="builtinfunc" id="4725993">recover</span><span class="op" id="4726000">(</span><span class="op" id="4726001">)</span><span class="op" id="4726002">;</span>&nbsp;<span class="ident" id="4726004"><a href="/encoding/json/decode.go.html#4725988">r</a></span>&nbsp;<span class="op" id="4726006">!=</span>&nbsp;<span class="ident" id="4726009">nil</span>&nbsp;<span class="op" id="4726013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4726018">if</span>&nbsp;<span class="ident" id="4726021">_</span><span class="op" id="4726022">,</span>&nbsp;<span class="ident" id="4726024">ok</span>&nbsp;<span class="op" id="4726027">:=</span>&nbsp;<span class="ident" id="4726030"><a href="/encoding/json/decode.go.html#4725988">r</a></span><span class="op" id="4726031">.</span><span class="op" id="4726032">(</span><span class="ident" id="4726033"><a href="/encoding/json/decode.go.html#4721939">runtime</a></span><span class="op" id="4726040">.</span><span class="ident" id="4726041">Error</span><span class="op" id="4726046">)</span><span class="op" id="4726047">;</span>&nbsp;<span class="ident" id="4726049"><a href="/encoding/json/decode.go.html#4726024">ok</a></span>&nbsp;<span class="op" id="4726052">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4726058">panic</span><span class="op" id="4726063">(</span><span class="ident" id="4726064"><a href="/encoding/json/decode.go.html#4725988">r</a></span><span class="op" id="4726065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4726070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4726075"><a href="/encoding/json/decode.go.html#4725954">err</a></span>&nbsp;<span class="op" id="4726079">=</span>&nbsp;<span class="ident" id="4726081"><a href="/encoding/json/decode.go.html#4725988">r</a></span><span class="op" id="4726082">.</span><span class="op" id="4726083">(</span><span class="builtintype" id="4726084">error</span><span class="op" id="4726089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4726093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4726096">}</span><span class="op" id="4726097">(</span><span class="op" id="4726098">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4726102">rv</span>&nbsp;<span class="op" id="4726105">:=</span>&nbsp;<span class="ident" id="4726108"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4726115">.</span><span class="ident" id="4726116">ValueOf</span><span class="op" id="4726123">(</span><span class="ident" id="4726124"><a href="/encoding/json/decode.go.html#4725938">v</a></span><span class="op" id="4726125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4726128">if</span>&nbsp;<span class="ident" id="4726131"><a href="/encoding/json/decode.go.html#4726102">rv</a></span><span class="op" id="4726133">.</span><span class="ident" id="4726134">Kind</span><span class="op" id="4726138">(</span><span class="op" id="4726139">)</span>&nbsp;<span class="op" id="4726141">!=</span>&nbsp;<span class="ident" id="4726144"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4726151">.</span><span class="ident" id="4726152">Ptr</span>&nbsp;<span class="op" id="4726156">||</span>&nbsp;<span class="ident" id="4726159"><a href="/encoding/json/decode.go.html#4726102">rv</a></span><span class="op" id="4726161">.</span><span class="ident" id="4726162">IsNil</span><span class="op" id="4726167">(</span><span class="op" id="4726168">)</span>&nbsp;<span class="op" id="4726170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4726174">return</span>&nbsp;<span class="op" id="4726181">&amp;</span><span class="ident" id="4726182"><a href="/encoding/json/decode.go.html#4725588">InvalidUnmarshalError</a></span><span class="op" id="4726203">{</span><span class="ident" id="4726204"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4726211">.</span><span class="ident" id="4726212">TypeOf</span><span class="op" id="4726218">(</span><span class="ident" id="4726219"><a href="/encoding/json/decode.go.html#4725938">v</a></span><span class="op" id="4726220">)</span><span class="op" id="4726221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4726224">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4726228"><a href="/encoding/json/decode.go.html#4725912">d</a></span><span class="op" id="4726229">.</span><span class="ident" id="4726230">scan</span><span class="op" id="4726234">.</span><span class="ident" id="4726235">reset</span><span class="op" id="4726240">(</span><span class="op" id="4726241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4726244">//&nbsp;We&nbsp;decode&nbsp;rv&nbsp;not&nbsp;rv.Elem&nbsp;because&nbsp;the&nbsp;Unmarshaler&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4726307">//&nbsp;test&nbsp;must&nbsp;be&nbsp;applied&nbsp;at&nbsp;the&nbsp;top&nbsp;level&nbsp;of&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4726363"><a href="/encoding/json/decode.go.html#4725912">d</a></span><span class="op" id="4726364">.</span><span class="ident" id="4726365">value</span><span class="op" id="4726370">(</span><span class="ident" id="4726371"><a href="/encoding/json/decode.go.html#4726102">rv</a></span><span class="op" id="4726373">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4726376">return</span>&nbsp;<span class="ident" id="4726383"><a href="/encoding/json/decode.go.html#4725912">d</a></span><span class="op" id="4726384">.</span><span class="ident" id="4726385">savedError</span><br>
<span class="lineno"></span><span class="op" id="4726396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4726399">//&nbsp;A&nbsp;Number&nbsp;represents&nbsp;a&nbsp;JSON&nbsp;number&nbsp;literal.</span><br>
<span class="lineno"></span><span class="keyword" id="4726445">type</span>&nbsp;<span class="ident" id="4726450">Number</span>&nbsp;<span class="builtintype" id="4726457">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="4726465">//&nbsp;String&nbsp;returns&nbsp;the&nbsp;literal&nbsp;text&nbsp;of&nbsp;the&nbsp;number.</span><br>
<span class="lineno"></span><span class="keyword" id="4726515">func</span>&nbsp;<span class="op" id="4726520">(</span><span class="ident" id="4726521">n</span>&nbsp;<span class="ident" id="4726523"><a href="/encoding/json/decode.go.html#4726450">Number</a></span><span class="op" id="4726529">)</span>&nbsp;<span class="ident" id="4726531">String</span><span class="op" id="4726537">(</span><span class="op" id="4726538">)</span>&nbsp;<span class="builtintype" id="4726540">string</span>&nbsp;<span class="op" id="4726547">{</span>&nbsp;<span class="keyword" id="4726549">return</span>&nbsp;<span class="builtintype" id="4726556">string</span><span class="op" id="4726562">(</span><span class="ident" id="4726563"><a href="/encoding/json/decode.go.html#4726521">n</a></span><span class="op" id="4726564">)</span>&nbsp;<span class="op" id="4726566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4726569">//&nbsp;Float64&nbsp;returns&nbsp;the&nbsp;number&nbsp;as&nbsp;a&nbsp;float64.</span><br>
<span class="lineno">160</span><span class="keyword" id="4726613">func</span>&nbsp;<span class="op" id="4726618">(</span><span class="ident" id="4726619">n</span>&nbsp;<span class="ident" id="4726621"><a href="/encoding/json/decode.go.html#4726450">Number</a></span><span class="op" id="4726627">)</span>&nbsp;<span class="ident" id="4726629">Float64</span><span class="op" id="4726636">(</span><span class="op" id="4726637">)</span>&nbsp;<span class="op" id="4726639">(</span><span class="builtintype" id="4726640">float64</span><span class="op" id="4726647">,</span>&nbsp;<span class="builtintype" id="4726649">error</span><span class="op" id="4726654">)</span>&nbsp;<span class="op" id="4726656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4726659">return</span>&nbsp;<span class="ident" id="4726666"><a href="/encoding/json/decode.go.html#4721950">strconv</a></span><span class="op" id="4726673">.</span><span class="ident" id="4726674">ParseFloat</span><span class="op" id="4726684">(</span><span class="builtintype" id="4726685">string</span><span class="op" id="4726691">(</span><span class="ident" id="4726692"><a href="/encoding/json/decode.go.html#4726619">n</a></span><span class="op" id="4726693">)</span><span class="op" id="4726694">,</span>&nbsp;<span class="num" id="4726696">64</span><span class="op" id="4726698">)</span><br>
<span class="lineno"></span><span class="op" id="4726700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4726703">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;number&nbsp;as&nbsp;an&nbsp;int64.</span><br>
<span class="lineno">165</span><span class="keyword" id="4726744">func</span>&nbsp;<span class="op" id="4726749">(</span><span class="ident" id="4726750">n</span>&nbsp;<span class="ident" id="4726752"><a href="/encoding/json/decode.go.html#4726450">Number</a></span><span class="op" id="4726758">)</span>&nbsp;<span class="ident" id="4726760">Int64</span><span class="op" id="4726765">(</span><span class="op" id="4726766">)</span>&nbsp;<span class="op" id="4726768">(</span><span class="ident" id="4726769">int64</span><span class="op" id="4726774">,</span>&nbsp;<span class="builtintype" id="4726776">error</span><span class="op" id="4726781">)</span>&nbsp;<span class="op" id="4726783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4726786">return</span>&nbsp;<span class="ident" id="4726793"><a href="/encoding/json/decode.go.html#4721950">strconv</a></span><span class="op" id="4726800">.</span><span class="ident" id="4726801">ParseInt</span><span class="op" id="4726809">(</span><span class="builtintype" id="4726810">string</span><span class="op" id="4726816">(</span><span class="ident" id="4726817"><a href="/encoding/json/decode.go.html#4726750">n</a></span><span class="op" id="4726818">)</span><span class="op" id="4726819">,</span>&nbsp;<span class="num" id="4726821">10</span><span class="op" id="4726823">,</span>&nbsp;<span class="num" id="4726825">64</span><span class="op" id="4726827">)</span><br>
<span class="lineno"></span><span class="op" id="4726829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4726832">//&nbsp;decodeState&nbsp;represents&nbsp;the&nbsp;state&nbsp;while&nbsp;decoding&nbsp;a&nbsp;JSON&nbsp;value.</span><br>
<span class="lineno">170</span><span class="keyword" id="4726897">type</span>&nbsp;<span class="ident" id="4726902">decodeState</span>&nbsp;<span class="keyword" id="4726914">struct</span>&nbsp;<span class="op" id="4726921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4726924">data</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4726935">[</span><span class="op" id="4726936">]</span><span class="builtintype" id="4726937">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4726943">off</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4726954">int</span>&nbsp;<span class="comment" id="4726958">//&nbsp;read&nbsp;offset&nbsp;in&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4726982">scan</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4726993"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4727002">nextscan</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4727013"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span>&nbsp;<span class="comment" id="4727021">//&nbsp;for&nbsp;calls&nbsp;to&nbsp;nextValue</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4727048">savedError</span>&nbsp;<span class="builtintype" id="4727059">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4727066">useNumber</span>&nbsp;&nbsp;<span class="builtintype" id="4727077">bool</span><br>
<span class="lineno"></span><span class="op" id="4727082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4727085">//&nbsp;errPhase&nbsp;is&nbsp;used&nbsp;for&nbsp;errors&nbsp;that&nbsp;should&nbsp;not&nbsp;happen&nbsp;unless</span><br>
<span class="lineno">180</span><span class="comment" id="4727146">//&nbsp;there&nbsp;is&nbsp;a&nbsp;bug&nbsp;in&nbsp;the&nbsp;JSON&nbsp;decoder&nbsp;or&nbsp;something&nbsp;is&nbsp;editing</span><br>
<span class="lineno"></span><span class="comment" id="4727208">//&nbsp;the&nbsp;data&nbsp;slice&nbsp;while&nbsp;the&nbsp;decoder&nbsp;executes.</span><br>
<span class="lineno"></span><span class="keyword" id="4727254">var</span>&nbsp;<span class="ident" id="4727258">errPhase</span>&nbsp;<span class="op" id="4727267">=</span>&nbsp;<span class="ident" id="4727269"><a href="/encoding/json/decode.go.html#4721911">errors</a></span><span class="op" id="4727275">.</span><span class="ident" id="4727276">New</span><span class="op" id="4727279">(</span><span class="string" id="4727280">&#34;JSON&nbsp;decoder&nbsp;out&nbsp;of&nbsp;sync&nbsp;-&nbsp;data&nbsp;changing&nbsp;underfoot?&#34;</span><span class="op" id="4727333">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4727336">func</span>&nbsp;<span class="op" id="4727341">(</span><span class="ident" id="4727342">d</span>&nbsp;<span class="op" id="4727344">*</span><span class="ident" id="4727345"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4727356">)</span>&nbsp;<span class="ident" id="4727358">init</span><span class="op" id="4727362">(</span><span class="ident" id="4727363">data</span>&nbsp;<span class="op" id="4727368">[</span><span class="op" id="4727369">]</span><span class="builtintype" id="4727370">byte</span><span class="op" id="4727374">)</span>&nbsp;<span class="op" id="4727376">*</span><span class="ident" id="4727377"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span>&nbsp;<span class="op" id="4727389">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4727392"><a href="/encoding/json/decode.go.html#4727342">d</a></span><span class="op" id="4727393">.</span><span class="ident" id="4727394">data</span>&nbsp;<span class="op" id="4727399">=</span>&nbsp;<span class="ident" id="4727401"><a href="/encoding/json/decode.go.html#4727363">data</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4727407"><a href="/encoding/json/decode.go.html#4727342">d</a></span><span class="op" id="4727408">.</span><span class="ident" id="4727409">off</span>&nbsp;<span class="op" id="4727413">=</span>&nbsp;<span class="num" id="4727415">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4727418"><a href="/encoding/json/decode.go.html#4727342">d</a></span><span class="op" id="4727419">.</span><span class="ident" id="4727420">savedError</span>&nbsp;<span class="op" id="4727431">=</span>&nbsp;<span class="ident" id="4727433">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4727438">return</span>&nbsp;<span class="ident" id="4727445"><a href="/encoding/json/decode.go.html#4727342">d</a></span><br>
<span class="lineno"></span><span class="op" id="4727447">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="4727450">//&nbsp;error&nbsp;aborts&nbsp;the&nbsp;decoding&nbsp;by&nbsp;panicking&nbsp;with&nbsp;err.</span><br>
<span class="lineno"></span><span class="keyword" id="4727502">func</span>&nbsp;<span class="op" id="4727507">(</span><span class="ident" id="4727508">d</span>&nbsp;<span class="op" id="4727510">*</span><span class="ident" id="4727511"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4727522">)</span>&nbsp;<span class="builtintype" id="4727524">error</span><span class="op" id="4727529">(</span><span class="ident" id="4727530">err</span>&nbsp;<span class="builtintype" id="4727534">error</span><span class="op" id="4727539">)</span>&nbsp;<span class="op" id="4727541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4727544">panic</span><span class="op" id="4727549">(</span><span class="ident" id="4727550"><a href="/encoding/json/decode.go.html#4727530">err</a></span><span class="op" id="4727553">)</span><br>
<span class="lineno"></span><span class="op" id="4727555">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="4727558">//&nbsp;saveError&nbsp;saves&nbsp;the&nbsp;first&nbsp;err&nbsp;it&nbsp;is&nbsp;called&nbsp;with,</span><br>
<span class="lineno"></span><span class="comment" id="4727610">//&nbsp;for&nbsp;reporting&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;unmarshal.</span><br>
<span class="lineno"></span><span class="keyword" id="4727656">func</span>&nbsp;<span class="op" id="4727661">(</span><span class="ident" id="4727662">d</span>&nbsp;<span class="op" id="4727664">*</span><span class="ident" id="4727665"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4727676">)</span>&nbsp;<span class="ident" id="4727678">saveError</span><span class="op" id="4727687">(</span><span class="ident" id="4727688">err</span>&nbsp;<span class="builtintype" id="4727692">error</span><span class="op" id="4727697">)</span>&nbsp;<span class="op" id="4727699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4727702">if</span>&nbsp;<span class="ident" id="4727705"><a href="/encoding/json/decode.go.html#4727662">d</a></span><span class="op" id="4727706">.</span><span class="ident" id="4727707">savedError</span>&nbsp;<span class="op" id="4727718">==</span>&nbsp;<span class="ident" id="4727721">nil</span>&nbsp;<span class="op" id="4727725">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4727729"><a href="/encoding/json/decode.go.html#4727662">d</a></span><span class="op" id="4727730">.</span><span class="ident" id="4727731">savedError</span>&nbsp;<span class="op" id="4727742">=</span>&nbsp;<span class="ident" id="4727744"><a href="/encoding/json/decode.go.html#4727688">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4727749">}</span><br>
<span class="lineno"></span><span class="op" id="4727751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4727754">//&nbsp;next&nbsp;cuts&nbsp;off&nbsp;and&nbsp;returns&nbsp;the&nbsp;next&nbsp;full&nbsp;JSON&nbsp;value&nbsp;in&nbsp;d.data[d.off:].</span><br>
<span class="lineno">205</span><span class="comment" id="4727827">//&nbsp;The&nbsp;next&nbsp;value&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;an&nbsp;object&nbsp;or&nbsp;array,&nbsp;not&nbsp;a&nbsp;literal.</span><br>
<span class="lineno"></span><span class="keyword" id="4727895">func</span>&nbsp;<span class="op" id="4727900">(</span><span class="ident" id="4727901">d</span>&nbsp;<span class="op" id="4727903">*</span><span class="ident" id="4727904"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4727915">)</span>&nbsp;<span class="ident" id="4727917">next</span><span class="op" id="4727921">(</span><span class="op" id="4727922">)</span>&nbsp;<span class="op" id="4727924">[</span><span class="op" id="4727925">]</span><span class="builtintype" id="4727926">byte</span>&nbsp;<span class="op" id="4727931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4727934">c</span>&nbsp;<span class="op" id="4727936">:=</span>&nbsp;<span class="ident" id="4727939"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4727940">.</span><span class="ident" id="4727941">data</span><span class="op" id="4727945">[</span><span class="ident" id="4727946"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4727947">.</span><span class="ident" id="4727948">off</span><span class="op" id="4727951">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4727954">item</span><span class="op" id="4727958">,</span>&nbsp;<span class="ident" id="4727960">rest</span><span class="op" id="4727964">,</span>&nbsp;<span class="ident" id="4727966">err</span>&nbsp;<span class="op" id="4727970">:=</span>&nbsp;<span class="ident" id="4727973"><a href="/encoding/json/scanner.go.html#4786830">nextValue</a></span><span class="op" id="4727982">(</span><span class="ident" id="4727983"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4727984">.</span><span class="ident" id="4727985">data</span><span class="op" id="4727989">[</span><span class="ident" id="4727990"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4727991">.</span><span class="ident" id="4727992">off</span><span class="op" id="4727995">:</span><span class="op" id="4727996">]</span><span class="op" id="4727997">,</span>&nbsp;<span class="op" id="4727999">&amp;</span><span class="ident" id="4728000"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4728001">.</span><span class="ident" id="4728002">nextscan</span><span class="op" id="4728010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728013">if</span>&nbsp;<span class="ident" id="4728016"><a href="/encoding/json/decode.go.html#4727966">err</a></span>&nbsp;<span class="op" id="4728020">!=</span>&nbsp;<span class="ident" id="4728023">nil</span>&nbsp;<span class="op" id="4728027">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728031"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4728032">.</span><span class="builtintype" id="4728033">error</span><span class="op" id="4728038">(</span><span class="ident" id="4728039"><a href="/encoding/json/decode.go.html#4727966">err</a></span><span class="op" id="4728042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4728045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728048"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4728049">.</span><span class="ident" id="4728050">off</span>&nbsp;<span class="op" id="4728054">=</span>&nbsp;<span class="builtinfunc" id="4728056">len</span><span class="op" id="4728059">(</span><span class="ident" id="4728060"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4728061">.</span><span class="ident" id="4728062">data</span><span class="op" id="4728066">)</span>&nbsp;<span class="op" id="4728068">-</span>&nbsp;<span class="builtinfunc" id="4728070">len</span><span class="op" id="4728073">(</span><span class="ident" id="4728074"><a href="/encoding/json/decode.go.html#4727960">rest</a></span><span class="op" id="4728078">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4728082">//&nbsp;Our&nbsp;scanner&nbsp;has&nbsp;seen&nbsp;the&nbsp;opening&nbsp;brace/bracket</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4728133">//&nbsp;and&nbsp;thinks&nbsp;we&#39;re&nbsp;still&nbsp;in&nbsp;the&nbsp;middle&nbsp;of&nbsp;the&nbsp;object.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4728189">//&nbsp;invent&nbsp;a&nbsp;closing&nbsp;brace/bracket&nbsp;to&nbsp;get&nbsp;it&nbsp;out.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728239">if</span>&nbsp;<span class="ident" id="4728242"><a href="/encoding/json/decode.go.html#4727934">c</a></span>&nbsp;<span class="op" id="4728244">==</span>&nbsp;<span class="string" id="4728247">&#39;{&#39;</span>&nbsp;<span class="op" id="4728251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728255"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4728256">.</span><span class="ident" id="4728257">scan</span><span class="op" id="4728261">.</span><span class="ident" id="4728262">step</span><span class="op" id="4728266">(</span><span class="op" id="4728267">&amp;</span><span class="ident" id="4728268"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4728269">.</span><span class="ident" id="4728270">scan</span><span class="op" id="4728274">,</span>&nbsp;<span class="string" id="4728276">&#39;}&#39;</span><span class="op" id="4728279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4728282">}</span>&nbsp;<span class="keyword" id="4728284">else</span>&nbsp;<span class="op" id="4728289">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728293"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4728294">.</span><span class="ident" id="4728295">scan</span><span class="op" id="4728299">.</span><span class="ident" id="4728300">step</span><span class="op" id="4728304">(</span><span class="op" id="4728305">&amp;</span><span class="ident" id="4728306"><a href="/encoding/json/decode.go.html#4727901">d</a></span><span class="op" id="4728307">.</span><span class="ident" id="4728308">scan</span><span class="op" id="4728312">,</span>&nbsp;<span class="string" id="4728314">&#39;]&#39;</span><span class="op" id="4728317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4728320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728324">return</span>&nbsp;<span class="ident" id="4728331"><a href="/encoding/json/decode.go.html#4727954">item</a></span><br>
<span class="lineno"></span><span class="op" id="4728336">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="4728339">//&nbsp;scanWhile&nbsp;processes&nbsp;bytes&nbsp;in&nbsp;d.data[d.off:]&nbsp;until&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="4728395">//&nbsp;receives&nbsp;a&nbsp;scan&nbsp;code&nbsp;not&nbsp;equal&nbsp;to&nbsp;op.</span><br>
<span class="lineno"></span><span class="comment" id="4728436">//&nbsp;It&nbsp;updates&nbsp;d.off&nbsp;and&nbsp;returns&nbsp;the&nbsp;new&nbsp;scan&nbsp;code.</span><br>
<span class="lineno"></span><span class="keyword" id="4728487">func</span>&nbsp;<span class="op" id="4728492">(</span><span class="ident" id="4728493">d</span>&nbsp;<span class="op" id="4728495">*</span><span class="ident" id="4728496"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4728507">)</span>&nbsp;<span class="ident" id="4728509">scanWhile</span><span class="op" id="4728518">(</span><span class="ident" id="4728519">op</span>&nbsp;<span class="builtintype" id="4728522">int</span><span class="op" id="4728525">)</span>&nbsp;<span class="builtintype" id="4728527">int</span>&nbsp;<span class="op" id="4728531">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728534">var</span>&nbsp;<span class="ident" id="4728538">newOp</span>&nbsp;<span class="builtintype" id="4728544">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728549">for</span>&nbsp;<span class="op" id="4728553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728557">if</span>&nbsp;<span class="ident" id="4728560"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728561">.</span><span class="ident" id="4728562">off</span>&nbsp;<span class="op" id="4728566">&gt;=</span>&nbsp;<span class="builtinfunc" id="4728569">len</span><span class="op" id="4728572">(</span><span class="ident" id="4728573"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728574">.</span><span class="ident" id="4728575">data</span><span class="op" id="4728579">)</span>&nbsp;<span class="op" id="4728581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728586"><a href="/encoding/json/decode.go.html#4728538">newOp</a></span>&nbsp;<span class="op" id="4728592">=</span>&nbsp;<span class="ident" id="4728594"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728595">.</span><span class="ident" id="4728596">scan</span><span class="op" id="4728600">.</span><span class="ident" id="4728601">eof</span><span class="op" id="4728604">(</span><span class="op" id="4728605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728610"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728611">.</span><span class="ident" id="4728612">off</span>&nbsp;<span class="op" id="4728616">=</span>&nbsp;<span class="builtinfunc" id="4728618">len</span><span class="op" id="4728621">(</span><span class="ident" id="4728622"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728623">.</span><span class="ident" id="4728624">data</span><span class="op" id="4728628">)</span>&nbsp;<span class="op" id="4728630">+</span>&nbsp;<span class="num" id="4728632">1</span>&nbsp;<span class="comment" id="4728634">//&nbsp;mark&nbsp;processed&nbsp;EOF&nbsp;with&nbsp;len+1</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4728669">}</span>&nbsp;<span class="keyword" id="4728671">else</span>&nbsp;<span class="op" id="4728676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728681">c</span>&nbsp;<span class="op" id="4728683">:=</span>&nbsp;<span class="builtintype" id="4728686">int</span><span class="op" id="4728689">(</span><span class="ident" id="4728690"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728691">.</span><span class="ident" id="4728692">data</span><span class="op" id="4728696">[</span><span class="ident" id="4728697"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728698">.</span><span class="ident" id="4728699">off</span><span class="op" id="4728702">]</span><span class="op" id="4728703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728708"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728709">.</span><span class="ident" id="4728710">off</span><span class="op" id="4728713">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728719"><a href="/encoding/json/decode.go.html#4728538">newOp</a></span>&nbsp;<span class="op" id="4728725">=</span>&nbsp;<span class="ident" id="4728727"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728728">.</span><span class="ident" id="4728729">scan</span><span class="op" id="4728733">.</span><span class="ident" id="4728734">step</span><span class="op" id="4728738">(</span><span class="op" id="4728739">&amp;</span><span class="ident" id="4728740"><a href="/encoding/json/decode.go.html#4728493">d</a></span><span class="op" id="4728741">.</span><span class="ident" id="4728742">scan</span><span class="op" id="4728746">,</span>&nbsp;<span class="ident" id="4728748"><a href="/encoding/json/decode.go.html#4728681">c</a></span><span class="op" id="4728749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4728753">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728757">if</span>&nbsp;<span class="ident" id="4728760"><a href="/encoding/json/decode.go.html#4728538">newOp</a></span>&nbsp;<span class="op" id="4728766">!=</span>&nbsp;<span class="ident" id="4728769"><a href="/encoding/json/decode.go.html#4728519">op</a></span>&nbsp;<span class="op" id="4728772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728777">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4728785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4728788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728791">return</span>&nbsp;<span class="ident" id="4728798"><a href="/encoding/json/decode.go.html#4728538">newOp</a></span><br>
<span class="lineno">245</span><span class="op" id="4728804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4728807">//&nbsp;value&nbsp;decodes&nbsp;a&nbsp;JSON&nbsp;value&nbsp;from&nbsp;d.data[d.off:]&nbsp;into&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="4728873">//&nbsp;it&nbsp;updates&nbsp;d.off&nbsp;to&nbsp;point&nbsp;past&nbsp;the&nbsp;decoded&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="4728926">func</span>&nbsp;<span class="op" id="4728931">(</span><span class="ident" id="4728932">d</span>&nbsp;<span class="op" id="4728934">*</span><span class="ident" id="4728935"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4728946">)</span>&nbsp;<span class="ident" id="4728948">value</span><span class="op" id="4728953">(</span><span class="ident" id="4728954">v</span>&nbsp;<span class="ident" id="4728956"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4728963">.</span><span class="ident" id="4728964">Value</span><span class="op" id="4728969">)</span>&nbsp;<span class="op" id="4728971">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4728974">if</span>&nbsp;<span class="op" id="4728977">!</span><span class="ident" id="4728978"><a href="/encoding/json/decode.go.html#4728954">v</a></span><span class="op" id="4728979">.</span><span class="ident" id="4728980">IsValid</span><span class="op" id="4728987">(</span><span class="op" id="4728988">)</span>&nbsp;<span class="op" id="4728990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4728994">_</span><span class="op" id="4728995">,</span>&nbsp;<span class="ident" id="4728997">rest</span><span class="op" id="4729001">,</span>&nbsp;<span class="ident" id="4729003">err</span>&nbsp;<span class="op" id="4729007">:=</span>&nbsp;<span class="ident" id="4729010"><a href="/encoding/json/scanner.go.html#4786830">nextValue</a></span><span class="op" id="4729019">(</span><span class="ident" id="4729020"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729021">.</span><span class="ident" id="4729022">data</span><span class="op" id="4729026">[</span><span class="ident" id="4729027"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729028">.</span><span class="ident" id="4729029">off</span><span class="op" id="4729032">:</span><span class="op" id="4729033">]</span><span class="op" id="4729034">,</span>&nbsp;<span class="op" id="4729036">&amp;</span><span class="ident" id="4729037"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729038">.</span><span class="ident" id="4729039">nextscan</span><span class="op" id="4729047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729051">if</span>&nbsp;<span class="ident" id="4729054"><a href="/encoding/json/decode.go.html#4729003">err</a></span>&nbsp;<span class="op" id="4729058">!=</span>&nbsp;<span class="ident" id="4729061">nil</span>&nbsp;<span class="op" id="4729065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729070"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729071">.</span><span class="builtintype" id="4729072">error</span><span class="op" id="4729077">(</span><span class="ident" id="4729078"><a href="/encoding/json/decode.go.html#4729003">err</a></span><span class="op" id="4729081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4729085">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729089"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729090">.</span><span class="ident" id="4729091">off</span>&nbsp;<span class="op" id="4729095">=</span>&nbsp;<span class="builtinfunc" id="4729097">len</span><span class="op" id="4729100">(</span><span class="ident" id="4729101"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729102">.</span><span class="ident" id="4729103">data</span><span class="op" id="4729107">)</span>&nbsp;<span class="op" id="4729109">-</span>&nbsp;<span class="builtinfunc" id="4729111">len</span><span class="op" id="4729114">(</span><span class="ident" id="4729115"><a href="/encoding/json/decode.go.html#4728997">rest</a></span><span class="op" id="4729119">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4729124">//&nbsp;d.scan&nbsp;thinks&nbsp;we&#39;re&nbsp;still&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;the&nbsp;item.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4729185">//&nbsp;Feed&nbsp;in&nbsp;an&nbsp;empty&nbsp;string&nbsp;-&nbsp;the&nbsp;shortest,&nbsp;simplest&nbsp;value&nbsp;-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4729247">//&nbsp;so&nbsp;that&nbsp;it&nbsp;knows&nbsp;we&nbsp;got&nbsp;to&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;value.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729301">if</span>&nbsp;<span class="ident" id="4729304"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729305">.</span><span class="ident" id="4729306">scan</span><span class="op" id="4729310">.</span><span class="ident" id="4729311">redo</span>&nbsp;<span class="op" id="4729316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4729321">//&nbsp;rewind.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729335"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729336">.</span><span class="ident" id="4729337">scan</span><span class="op" id="4729341">.</span><span class="ident" id="4729342">redo</span>&nbsp;<span class="op" id="4729347">=</span>&nbsp;<span class="builtintype" id="4729349">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729358"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729359">.</span><span class="ident" id="4729360">scan</span><span class="op" id="4729364">.</span><span class="ident" id="4729365">step</span>&nbsp;<span class="op" id="4729370">=</span>&nbsp;<span class="ident" id="4729372"><a href="/encoding/json/scanner.go.html#4791822">stateBeginValue</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4729390">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729394"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729395">.</span><span class="ident" id="4729396">scan</span><span class="op" id="4729400">.</span><span class="ident" id="4729401">step</span><span class="op" id="4729405">(</span><span class="op" id="4729406">&amp;</span><span class="ident" id="4729407"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729408">.</span><span class="ident" id="4729409">scan</span><span class="op" id="4729413">,</span>&nbsp;<span class="string" id="4729415">&#39;&#34;&#39;</span><span class="op" id="4729418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729422"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729423">.</span><span class="ident" id="4729424">scan</span><span class="op" id="4729428">.</span><span class="ident" id="4729429">step</span><span class="op" id="4729433">(</span><span class="op" id="4729434">&amp;</span><span class="ident" id="4729435"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729436">.</span><span class="ident" id="4729437">scan</span><span class="op" id="4729441">,</span>&nbsp;<span class="string" id="4729443">&#39;&#34;&#39;</span><span class="op" id="4729446">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729451">n</span>&nbsp;<span class="op" id="4729453">:=</span>&nbsp;<span class="builtinfunc" id="4729456">len</span><span class="op" id="4729459">(</span><span class="ident" id="4729460"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729461">.</span><span class="ident" id="4729462">scan</span><span class="op" id="4729466">.</span><span class="ident" id="4729467">parseState</span><span class="op" id="4729477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729481">if</span>&nbsp;<span class="ident" id="4729484"><a href="/encoding/json/decode.go.html#4729451">n</a></span>&nbsp;<span class="op" id="4729486">&gt;</span>&nbsp;<span class="num" id="4729488">0</span>&nbsp;<span class="op" id="4729490">&amp;&amp;</span>&nbsp;<span class="ident" id="4729493"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729494">.</span><span class="ident" id="4729495">scan</span><span class="op" id="4729499">.</span><span class="ident" id="4729500">parseState</span><span class="op" id="4729510">[</span><span class="ident" id="4729511"><a href="/encoding/json/decode.go.html#4729451">n</a></span><span class="op" id="4729512">-</span><span class="num" id="4729513">1</span><span class="op" id="4729514">]</span>&nbsp;<span class="op" id="4729516">==</span>&nbsp;<span class="ident" id="4729519"><a href="/encoding/json/scanner.go.html#4790176">parseObjectKey</a></span>&nbsp;<span class="op" id="4729534">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4729539">//&nbsp;d.scan&nbsp;thinks&nbsp;we&nbsp;just&nbsp;read&nbsp;an&nbsp;object&nbsp;key;&nbsp;finish&nbsp;the&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729605"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729606">.</span><span class="ident" id="4729607">scan</span><span class="op" id="4729611">.</span><span class="ident" id="4729612">step</span><span class="op" id="4729616">(</span><span class="op" id="4729617">&amp;</span><span class="ident" id="4729618"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729619">.</span><span class="ident" id="4729620">scan</span><span class="op" id="4729624">,</span>&nbsp;<span class="string" id="4729626">&#39;:&#39;</span><span class="op" id="4729629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729634"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729635">.</span><span class="ident" id="4729636">scan</span><span class="op" id="4729640">.</span><span class="ident" id="4729641">step</span><span class="op" id="4729645">(</span><span class="op" id="4729646">&amp;</span><span class="ident" id="4729647"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729648">.</span><span class="ident" id="4729649">scan</span><span class="op" id="4729653">,</span>&nbsp;<span class="string" id="4729655">&#39;&#34;&#39;</span><span class="op" id="4729658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729663"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729664">.</span><span class="ident" id="4729665">scan</span><span class="op" id="4729669">.</span><span class="ident" id="4729670">step</span><span class="op" id="4729674">(</span><span class="op" id="4729675">&amp;</span><span class="ident" id="4729676"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729677">.</span><span class="ident" id="4729678">scan</span><span class="op" id="4729682">,</span>&nbsp;<span class="string" id="4729684">&#39;&#34;&#39;</span><span class="op" id="4729687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729692"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729693">.</span><span class="ident" id="4729694">scan</span><span class="op" id="4729698">.</span><span class="ident" id="4729699">step</span><span class="op" id="4729703">(</span><span class="op" id="4729704">&amp;</span><span class="ident" id="4729705"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729706">.</span><span class="ident" id="4729707">scan</span><span class="op" id="4729711">,</span>&nbsp;<span class="string" id="4729713">&#39;}&#39;</span><span class="op" id="4729716">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4729720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729725">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4729733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729737">switch</span>&nbsp;<span class="ident" id="4729744">op</span>&nbsp;<span class="op" id="4729747">:=</span>&nbsp;<span class="ident" id="4729750"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729751">.</span><span class="ident" id="4729752">scanWhile</span><span class="op" id="4729761">(</span><span class="ident" id="4729762"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4729775">)</span><span class="op" id="4729776">;</span>&nbsp;<span class="ident" id="4729778"><a href="/encoding/json/decode.go.html#4729744">op</a></span>&nbsp;<span class="op" id="4729781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729784">default</span><span class="op" id="4729791">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729795"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729796">.</span><span class="builtintype" id="4729797">error</span><span class="op" id="4729802">(</span><span class="ident" id="4729803"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4729811">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729815">case</span>&nbsp;<span class="ident" id="4729820"><a href="/encoding/json/scanner.go.html#4789541">scanBeginArray</a></span><span class="op" id="4729834">:</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729838"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729839">.</span><span class="ident" id="4729840">array</span><span class="op" id="4729845">(</span><span class="ident" id="4729846"><a href="/encoding/json/decode.go.html#4728954">v</a></span><span class="op" id="4729847">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729851">case</span>&nbsp;<span class="ident" id="4729856"><a href="/encoding/json/scanner.go.html#4789297">scanBeginObject</a></span><span class="op" id="4729871">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729875"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729876">.</span><span class="ident" id="4729877">object</span><span class="op" id="4729883">(</span><span class="ident" id="4729884"><a href="/encoding/json/decode.go.html#4728954">v</a></span><span class="op" id="4729885">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4729889">case</span>&nbsp;<span class="ident" id="4729894"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><span class="op" id="4729910">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4729914"><a href="/encoding/json/decode.go.html#4728932">d</a></span><span class="op" id="4729915">.</span><span class="ident" id="4729916">literal</span><span class="op" id="4729923">(</span><span class="ident" id="4729924"><a href="/encoding/json/decode.go.html#4728954">v</a></span><span class="op" id="4729925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4729928">}</span><br>
<span class="lineno"></span><span class="op" id="4729930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="4729933">type</span>&nbsp;<span class="ident" id="4729938">unquotedValue</span>&nbsp;<span class="keyword" id="4729952">struct</span><span class="op" id="4729958">{</span><span class="op" id="4729959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4729962">//&nbsp;valueQuoted&nbsp;is&nbsp;like&nbsp;value&nbsp;but&nbsp;decodes&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4730005">//&nbsp;quoted&nbsp;string&nbsp;literal&nbsp;or&nbsp;literal&nbsp;null&nbsp;into&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="4730071">//&nbsp;If&nbsp;it&nbsp;finds&nbsp;anything&nbsp;other&nbsp;than&nbsp;a&nbsp;quoted&nbsp;string&nbsp;literal&nbsp;or&nbsp;null,</span><br>
<span class="lineno">300</span><span class="comment" id="4730139">//&nbsp;valueQuoted&nbsp;returns&nbsp;unquotedValue{}.</span><br>
<span class="lineno"></span><span class="keyword" id="4730179">func</span>&nbsp;<span class="op" id="4730184">(</span><span class="ident" id="4730185">d</span>&nbsp;<span class="op" id="4730187">*</span><span class="ident" id="4730188"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4730199">)</span>&nbsp;<span class="ident" id="4730201">valueQuoted</span><span class="op" id="4730212">(</span><span class="op" id="4730213">)</span>&nbsp;<span class="keyword" id="4730215">interface</span><span class="op" id="4730224">{</span><span class="op" id="4730225">}</span>&nbsp;<span class="op" id="4730227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730230">switch</span>&nbsp;<span class="ident" id="4730237">op</span>&nbsp;<span class="op" id="4730240">:=</span>&nbsp;<span class="ident" id="4730243"><a href="/encoding/json/decode.go.html#4730185">d</a></span><span class="op" id="4730244">.</span><span class="ident" id="4730245">scanWhile</span><span class="op" id="4730254">(</span><span class="ident" id="4730255"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4730268">)</span><span class="op" id="4730269">;</span>&nbsp;<span class="ident" id="4730271"><a href="/encoding/json/decode.go.html#4730237">op</a></span>&nbsp;<span class="op" id="4730274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730277">default</span><span class="op" id="4730284">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4730288"><a href="/encoding/json/decode.go.html#4730185">d</a></span><span class="op" id="4730289">.</span><span class="builtintype" id="4730290">error</span><span class="op" id="4730295">(</span><span class="ident" id="4730296"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4730304">)</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730308">case</span>&nbsp;<span class="ident" id="4730313"><a href="/encoding/json/scanner.go.html#4789541">scanBeginArray</a></span><span class="op" id="4730327">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4730331"><a href="/encoding/json/decode.go.html#4730185">d</a></span><span class="op" id="4730332">.</span><span class="ident" id="4730333">array</span><span class="op" id="4730338">(</span><span class="ident" id="4730339"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4730346">.</span><span class="ident" id="4730347">Value</span><span class="op" id="4730352">{</span><span class="op" id="4730353">}</span><span class="op" id="4730354">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730358">case</span>&nbsp;<span class="ident" id="4730363"><a href="/encoding/json/scanner.go.html#4789297">scanBeginObject</a></span><span class="op" id="4730378">:</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4730382"><a href="/encoding/json/decode.go.html#4730185">d</a></span><span class="op" id="4730383">.</span><span class="ident" id="4730384">object</span><span class="op" id="4730390">(</span><span class="ident" id="4730391"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4730398">.</span><span class="ident" id="4730399">Value</span><span class="op" id="4730404">{</span><span class="op" id="4730405">}</span><span class="op" id="4730406">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730410">case</span>&nbsp;<span class="ident" id="4730415"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><span class="op" id="4730431">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730435">switch</span>&nbsp;<span class="ident" id="4730442">v</span>&nbsp;<span class="op" id="4730444">:=</span>&nbsp;<span class="ident" id="4730447"><a href="/encoding/json/decode.go.html#4730185">d</a></span><span class="op" id="4730448">.</span><span class="ident" id="4730449">literalInterface</span><span class="op" id="4730465">(</span><span class="op" id="4730466">)</span><span class="op" id="4730467">.</span><span class="op" id="4730468">(</span><span class="keyword" id="4730469">type</span><span class="op" id="4730473">)</span>&nbsp;<span class="op" id="4730475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730479">case</span>&nbsp;<span class="ident" id="4730484">nil</span><span class="op" id="4730487">,</span>&nbsp;<span class="builtintype" id="4730489">string</span><span class="op" id="4730495">:</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730500">return</span>&nbsp;<span class="ident" id="4730507"><a href="/encoding/json/decode.go.html#4730442">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4730511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4730514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4730517">return</span>&nbsp;<span class="ident" id="4730524"><a href="/encoding/json/decode.go.html#4729938">unquotedValue</a></span><span class="op" id="4730537">{</span><span class="op" id="4730538">}</span><br>
<span class="lineno"></span><span class="op" id="4730540">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="comment" id="4730543">//&nbsp;indirect&nbsp;walks&nbsp;down&nbsp;v&nbsp;allocating&nbsp;pointers&nbsp;as&nbsp;needed,</span><br>
<span class="lineno"></span><span class="comment" id="4730599">//&nbsp;until&nbsp;it&nbsp;gets&nbsp;to&nbsp;a&nbsp;non-pointer.</span><br>
<span class="lineno"></span><span class="comment" id="4730634">//&nbsp;if&nbsp;it&nbsp;encounters&nbsp;an&nbsp;Unmarshaler,&nbsp;indirect&nbsp;stops&nbsp;and&nbsp;returns&nbsp;that.</span><br>
<span class="lineno"></span><span class="comment" id="4730703">//&nbsp;if&nbsp;decodingNull&nbsp;is&nbsp;true,&nbsp;indirect&nbsp;stops&nbsp;at&nbsp;the&nbsp;last&nbsp;pointer&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;set&nbsp;to&nbsp;nil.</span><br>
<span class="lineno">325</span><span class="keyword" id="4730791">func</span>&nbsp;<span class="op" id="4730796">(</span><span class="ident" id="4730797">d</span>&nbsp;<span class="op" id="4730799">*</span><span class="ident" id="4730800"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4730811">)</span>&nbsp;<span class="ident" id="4730813">indirect</span><span class="op" id="4730821">(</span><span class="ident" id="4730822">v</span>&nbsp;<span class="ident" id="4730824"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4730831">.</span><span class="ident" id="4730832">Value</span><span class="op" id="4730837">,</span>&nbsp;<span class="ident" id="4730839">decodingNull</span>&nbsp;<span class="builtintype" id="4730852">bool</span><span class="op" id="4730856">)</span>&nbsp;<span class="op" id="4730858">(</span><span class="ident" id="4730859"><a href="/encoding/json/decode.go.html#4724496">Unmarshaler</a></span><span class="op" id="4730870">,</span>&nbsp;<span class="ident" id="4730872"><a href="/encoding/json/decode.go.html#4721880">encoding</a></span><span class="op" id="4730880">.</span><span class="ident" id="4730881">TextUnmarshaler</span><span class="op" id="4730896">,</span>&nbsp;<span class="ident" id="4730898"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4730905">.</span><span class="ident" id="4730906">Value</span><span class="op" id="4730911">)</span>&nbsp;<span class="op" id="4730913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4730916">//&nbsp;If&nbsp;v&nbsp;is&nbsp;a&nbsp;named&nbsp;type&nbsp;and&nbsp;is&nbsp;addressable,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4730961">//&nbsp;start&nbsp;with&nbsp;its&nbsp;address,&nbsp;so&nbsp;that&nbsp;if&nbsp;the&nbsp;type&nbsp;has&nbsp;pointer&nbsp;methods,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4731030">//&nbsp;we&nbsp;find&nbsp;them.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731048">if</span>&nbsp;<span class="ident" id="4731051"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731052">.</span><span class="ident" id="4731053">Kind</span><span class="op" id="4731057">(</span><span class="op" id="4731058">)</span>&nbsp;<span class="op" id="4731060">!=</span>&nbsp;<span class="ident" id="4731063"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4731070">.</span><span class="ident" id="4731071">Ptr</span>&nbsp;<span class="op" id="4731075">&amp;&amp;</span>&nbsp;<span class="ident" id="4731078"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731079">.</span><span class="ident" id="4731080">Type</span><span class="op" id="4731084">(</span><span class="op" id="4731085">)</span><span class="op" id="4731086">.</span><span class="ident" id="4731087">Name</span><span class="op" id="4731091">(</span><span class="op" id="4731092">)</span>&nbsp;<span class="op" id="4731094">!=</span>&nbsp;<span class="string" id="4731097">&#34;&#34;</span>&nbsp;<span class="op" id="4731100">&amp;&amp;</span>&nbsp;<span class="ident" id="4731103"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731104">.</span><span class="ident" id="4731105">CanAddr</span><span class="op" id="4731112">(</span><span class="op" id="4731113">)</span>&nbsp;<span class="op" id="4731115">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4731119"><a href="/encoding/json/decode.go.html#4730822">v</a></span>&nbsp;<span class="op" id="4731121">=</span>&nbsp;<span class="ident" id="4731123"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731124">.</span><span class="ident" id="4731125">Addr</span><span class="op" id="4731129">(</span><span class="op" id="4731130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731136">for</span>&nbsp;<span class="op" id="4731140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4731144">//&nbsp;Load&nbsp;value&nbsp;from&nbsp;interface,&nbsp;but&nbsp;only&nbsp;if&nbsp;the&nbsp;result&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4731207">//&nbsp;usefully&nbsp;addressable.</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731234">if</span>&nbsp;<span class="ident" id="4731237"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731238">.</span><span class="ident" id="4731239">Kind</span><span class="op" id="4731243">(</span><span class="op" id="4731244">)</span>&nbsp;<span class="op" id="4731246">==</span>&nbsp;<span class="ident" id="4731249"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4731256">.</span><span class="ident" id="4731257">Interface</span>&nbsp;<span class="op" id="4731267">&amp;&amp;</span>&nbsp;<span class="op" id="4731270">!</span><span class="ident" id="4731271"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731272">.</span><span class="ident" id="4731273">IsNil</span><span class="op" id="4731278">(</span><span class="op" id="4731279">)</span>&nbsp;<span class="op" id="4731281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4731286">e</span>&nbsp;<span class="op" id="4731288">:=</span>&nbsp;<span class="ident" id="4731291"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731292">.</span><span class="ident" id="4731293">Elem</span><span class="op" id="4731297">(</span><span class="op" id="4731298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731303">if</span>&nbsp;<span class="ident" id="4731306"><a href="/encoding/json/decode.go.html#4731286">e</a></span><span class="op" id="4731307">.</span><span class="ident" id="4731308">Kind</span><span class="op" id="4731312">(</span><span class="op" id="4731313">)</span>&nbsp;<span class="op" id="4731315">==</span>&nbsp;<span class="ident" id="4731318"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4731325">.</span><span class="ident" id="4731326">Ptr</span>&nbsp;<span class="op" id="4731330">&amp;&amp;</span>&nbsp;<span class="op" id="4731333">!</span><span class="ident" id="4731334"><a href="/encoding/json/decode.go.html#4731286">e</a></span><span class="op" id="4731335">.</span><span class="ident" id="4731336">IsNil</span><span class="op" id="4731341">(</span><span class="op" id="4731342">)</span>&nbsp;<span class="op" id="4731344">&amp;&amp;</span>&nbsp;<span class="op" id="4731347">(</span><span class="op" id="4731348">!</span><span class="ident" id="4731349"><a href="/encoding/json/decode.go.html#4730839">decodingNull</a></span>&nbsp;<span class="op" id="4731362">||</span>&nbsp;<span class="ident" id="4731365"><a href="/encoding/json/decode.go.html#4731286">e</a></span><span class="op" id="4731366">.</span><span class="ident" id="4731367">Elem</span><span class="op" id="4731371">(</span><span class="op" id="4731372">)</span><span class="op" id="4731373">.</span><span class="ident" id="4731374">Kind</span><span class="op" id="4731378">(</span><span class="op" id="4731379">)</span>&nbsp;<span class="op" id="4731381">==</span>&nbsp;<span class="ident" id="4731384"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4731391">.</span><span class="ident" id="4731392">Ptr</span><span class="op" id="4731395">)</span>&nbsp;<span class="op" id="4731397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4731403"><a href="/encoding/json/decode.go.html#4730822">v</a></span>&nbsp;<span class="op" id="4731405">=</span>&nbsp;<span class="ident" id="4731407"><a href="/encoding/json/decode.go.html#4731286">e</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731413">continue</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731434">if</span>&nbsp;<span class="ident" id="4731437"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731438">.</span><span class="ident" id="4731439">Kind</span><span class="op" id="4731443">(</span><span class="op" id="4731444">)</span>&nbsp;<span class="op" id="4731446">!=</span>&nbsp;<span class="ident" id="4731449"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4731456">.</span><span class="ident" id="4731457">Ptr</span>&nbsp;<span class="op" id="4731461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731466">break</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731479">if</span>&nbsp;<span class="ident" id="4731482"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731483">.</span><span class="ident" id="4731484">Elem</span><span class="op" id="4731488">(</span><span class="op" id="4731489">)</span><span class="op" id="4731490">.</span><span class="ident" id="4731491">Kind</span><span class="op" id="4731495">(</span><span class="op" id="4731496">)</span>&nbsp;<span class="op" id="4731498">!=</span>&nbsp;<span class="ident" id="4731501"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4731508">.</span><span class="ident" id="4731509">Ptr</span>&nbsp;<span class="op" id="4731513">&amp;&amp;</span>&nbsp;<span class="ident" id="4731516"><a href="/encoding/json/decode.go.html#4730839">decodingNull</a></span>&nbsp;<span class="op" id="4731529">&amp;&amp;</span>&nbsp;<span class="ident" id="4731532"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731533">.</span><span class="ident" id="4731534">CanSet</span><span class="op" id="4731540">(</span><span class="op" id="4731541">)</span>&nbsp;<span class="op" id="4731543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731548">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731556">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731560">if</span>&nbsp;<span class="ident" id="4731563"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731564">.</span><span class="ident" id="4731565">IsNil</span><span class="op" id="4731570">(</span><span class="op" id="4731571">)</span>&nbsp;<span class="op" id="4731573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4731578"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731579">.</span><span class="ident" id="4731580">Set</span><span class="op" id="4731583">(</span><span class="ident" id="4731584"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4731591">.</span><span class="ident" id="4731592">New</span><span class="op" id="4731595">(</span><span class="ident" id="4731596"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731597">.</span><span class="ident" id="4731598">Type</span><span class="op" id="4731602">(</span><span class="op" id="4731603">)</span><span class="op" id="4731604">.</span><span class="ident" id="4731605">Elem</span><span class="op" id="4731609">(</span><span class="op" id="4731610">)</span><span class="op" id="4731611">)</span><span class="op" id="4731612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731620">if</span>&nbsp;<span class="ident" id="4731623"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731624">.</span><span class="ident" id="4731625">Type</span><span class="op" id="4731629">(</span><span class="op" id="4731630">)</span><span class="op" id="4731631">.</span><span class="ident" id="4731632">NumMethod</span><span class="op" id="4731641">(</span><span class="op" id="4731642">)</span>&nbsp;<span class="op" id="4731644">&gt;</span>&nbsp;<span class="num" id="4731646">0</span>&nbsp;<span class="op" id="4731648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731653">if</span>&nbsp;<span class="ident" id="4731656">u</span><span class="op" id="4731657">,</span>&nbsp;<span class="ident" id="4731659">ok</span>&nbsp;<span class="op" id="4731662">:=</span>&nbsp;<span class="ident" id="4731665"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731666">.</span><span class="ident" id="4731667">Interface</span><span class="op" id="4731676">(</span><span class="op" id="4731677">)</span><span class="op" id="4731678">.</span><span class="op" id="4731679">(</span><span class="ident" id="4731680"><a href="/encoding/json/decode.go.html#4724496">Unmarshaler</a></span><span class="op" id="4731691">)</span><span class="op" id="4731692">;</span>&nbsp;<span class="ident" id="4731694"><a href="/encoding/json/decode.go.html#4731659">ok</a></span>&nbsp;<span class="op" id="4731697">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731703">return</span>&nbsp;<span class="ident" id="4731710"><a href="/encoding/json/decode.go.html#4731656">u</a></span><span class="op" id="4731711">,</span>&nbsp;<span class="ident" id="4731713">nil</span><span class="op" id="4731716">,</span>&nbsp;<span class="ident" id="4731718"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4731725">.</span><span class="ident" id="4731726">Value</span><span class="op" id="4731731">{</span><span class="op" id="4731732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731742">if</span>&nbsp;<span class="ident" id="4731745">u</span><span class="op" id="4731746">,</span>&nbsp;<span class="ident" id="4731748">ok</span>&nbsp;<span class="op" id="4731751">:=</span>&nbsp;<span class="ident" id="4731754"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731755">.</span><span class="ident" id="4731756">Interface</span><span class="op" id="4731765">(</span><span class="op" id="4731766">)</span><span class="op" id="4731767">.</span><span class="op" id="4731768">(</span><span class="ident" id="4731769"><a href="/encoding/json/decode.go.html#4721880">encoding</a></span><span class="op" id="4731777">.</span><span class="ident" id="4731778">TextUnmarshaler</span><span class="op" id="4731793">)</span><span class="op" id="4731794">;</span>&nbsp;<span class="ident" id="4731796"><a href="/encoding/json/decode.go.html#4731748">ok</a></span>&nbsp;<span class="op" id="4731799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731805">return</span>&nbsp;<span class="ident" id="4731812">nil</span><span class="op" id="4731815">,</span>&nbsp;<span class="ident" id="4731817"><a href="/encoding/json/decode.go.html#4731745">u</a></span><span class="op" id="4731818">,</span>&nbsp;<span class="ident" id="4731820"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4731827">.</span><span class="ident" id="4731828">Value</span><span class="op" id="4731833">{</span><span class="op" id="4731834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731839">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4731847"><a href="/encoding/json/decode.go.html#4730822">v</a></span>&nbsp;<span class="op" id="4731849">=</span>&nbsp;<span class="ident" id="4731851"><a href="/encoding/json/decode.go.html#4730822">v</a></span><span class="op" id="4731852">.</span><span class="ident" id="4731853">Elem</span><span class="op" id="4731857">(</span><span class="op" id="4731858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4731861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4731864">return</span>&nbsp;<span class="ident" id="4731871">nil</span><span class="op" id="4731874">,</span>&nbsp;<span class="ident" id="4731876">nil</span><span class="op" id="4731879">,</span>&nbsp;<span class="ident" id="4731881"><a href="/encoding/json/decode.go.html#4730822">v</a></span><br>
<span class="lineno"></span><span class="op" id="4731883">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="comment" id="4731886">//&nbsp;array&nbsp;consumes&nbsp;an&nbsp;array&nbsp;from&nbsp;d.data[d.off-1:],&nbsp;decoding&nbsp;into&nbsp;the&nbsp;value&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="4731963">//&nbsp;the&nbsp;first&nbsp;byte&nbsp;of&nbsp;the&nbsp;array&nbsp;(&#39;[&#39;)&nbsp;has&nbsp;been&nbsp;read&nbsp;already.</span><br>
<span class="lineno"></span><span class="keyword" id="4732023">func</span>&nbsp;<span class="op" id="4732028">(</span><span class="ident" id="4732029">d</span>&nbsp;<span class="op" id="4732031">*</span><span class="ident" id="4732032"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4732043">)</span>&nbsp;<span class="ident" id="4732045">array</span><span class="op" id="4732050">(</span><span class="ident" id="4732051">v</span>&nbsp;<span class="ident" id="4732053"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4732060">.</span><span class="ident" id="4732061">Value</span><span class="op" id="4732066">)</span>&nbsp;<span class="op" id="4732068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4732071">//&nbsp;Check&nbsp;for&nbsp;unmarshaler.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732098">u</span><span class="op" id="4732099">,</span>&nbsp;<span class="ident" id="4732101">ut</span><span class="op" id="4732103">,</span>&nbsp;<span class="ident" id="4732105">pv</span>&nbsp;<span class="op" id="4732108">:=</span>&nbsp;<span class="ident" id="4732111"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732112">.</span><span class="ident" id="4732113">indirect</span><span class="op" id="4732121">(</span><span class="ident" id="4732122"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4732123">,</span>&nbsp;<span class="builtintype" id="4732125">false</span><span class="op" id="4732130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732133">if</span>&nbsp;<span class="ident" id="4732136"><a href="/encoding/json/decode.go.html#4732098">u</a></span>&nbsp;<span class="op" id="4732138">!=</span>&nbsp;<span class="ident" id="4732141">nil</span>&nbsp;<span class="op" id="4732145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732149"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732150">.</span><span class="ident" id="4732151">off</span><span class="op" id="4732154">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732159">err</span>&nbsp;<span class="op" id="4732163">:=</span>&nbsp;<span class="ident" id="4732166"><a href="/encoding/json/decode.go.html#4732098">u</a></span><span class="op" id="4732167">.</span><span class="ident" id="4732168">UnmarshalJSON</span><span class="op" id="4732181">(</span><span class="ident" id="4732182"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732183">.</span><span class="ident" id="4732184">next</span><span class="op" id="4732188">(</span><span class="op" id="4732189">)</span><span class="op" id="4732190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732194">if</span>&nbsp;<span class="ident" id="4732197"><a href="/encoding/json/decode.go.html#4732159">err</a></span>&nbsp;<span class="op" id="4732201">!=</span>&nbsp;<span class="ident" id="4732204">nil</span>&nbsp;<span class="op" id="4732208">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732213"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732214">.</span><span class="builtintype" id="4732215">error</span><span class="op" id="4732220">(</span><span class="ident" id="4732221"><a href="/encoding/json/decode.go.html#4732159">err</a></span><span class="op" id="4732224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732232">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732243">if</span>&nbsp;<span class="ident" id="4732246"><a href="/encoding/json/decode.go.html#4732101">ut</a></span>&nbsp;<span class="op" id="4732249">!=</span>&nbsp;<span class="ident" id="4732252">nil</span>&nbsp;<span class="op" id="4732256">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732260"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732261">.</span><span class="ident" id="4732262">saveError</span><span class="op" id="4732271">(</span><span class="op" id="4732272">&amp;</span><span class="ident" id="4732273"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4732291">{</span><span class="string" id="4732292">&#34;array&#34;</span><span class="op" id="4732299">,</span>&nbsp;<span class="ident" id="4732301"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4732302">.</span><span class="ident" id="4732303">Type</span><span class="op" id="4732307">(</span><span class="op" id="4732308">)</span><span class="op" id="4732309">}</span><span class="op" id="4732310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732314"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732315">.</span><span class="ident" id="4732316">off</span><span class="op" id="4732319">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732324"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732325">.</span><span class="ident" id="4732326">next</span><span class="op" id="4732330">(</span><span class="op" id="4732331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732335">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732343">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732347"><a href="/encoding/json/decode.go.html#4732051">v</a></span>&nbsp;<span class="op" id="4732349">=</span>&nbsp;<span class="ident" id="4732351"><a href="/encoding/json/decode.go.html#4732105">pv</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4732356">//&nbsp;Check&nbsp;type&nbsp;of&nbsp;target.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732382">switch</span>&nbsp;<span class="ident" id="4732389"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4732390">.</span><span class="ident" id="4732391">Kind</span><span class="op" id="4732395">(</span><span class="op" id="4732396">)</span>&nbsp;<span class="op" id="4732398">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732401">case</span>&nbsp;<span class="ident" id="4732406"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4732413">.</span><span class="ident" id="4732414">Interface</span><span class="op" id="4732423">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732427">if</span>&nbsp;<span class="ident" id="4732430"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4732431">.</span><span class="ident" id="4732432">NumMethod</span><span class="op" id="4732441">(</span><span class="op" id="4732442">)</span>&nbsp;<span class="op" id="4732444">==</span>&nbsp;<span class="num" id="4732447">0</span>&nbsp;<span class="op" id="4732449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4732454">//&nbsp;Decoding&nbsp;into&nbsp;nil&nbsp;interface?&nbsp;&nbsp;Switch&nbsp;to&nbsp;non-reflect&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732518"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4732519">.</span><span class="ident" id="4732520">Set</span><span class="op" id="4732523">(</span><span class="ident" id="4732524"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4732531">.</span><span class="ident" id="4732532">ValueOf</span><span class="op" id="4732539">(</span><span class="ident" id="4732540"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732541">.</span><span class="ident" id="4732542">arrayInterface</span><span class="op" id="4732556">(</span><span class="op" id="4732557">)</span><span class="op" id="4732558">)</span><span class="op" id="4732559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732564">return</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4732577">//&nbsp;Otherwise&nbsp;it&#39;s&nbsp;invalid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732606">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732619">default</span><span class="op" id="4732626">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732630"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732631">.</span><span class="ident" id="4732632">saveError</span><span class="op" id="4732641">(</span><span class="op" id="4732642">&amp;</span><span class="ident" id="4732643"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4732661">{</span><span class="string" id="4732662">&#34;array&#34;</span><span class="op" id="4732669">,</span>&nbsp;<span class="ident" id="4732671"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4732672">.</span><span class="ident" id="4732673">Type</span><span class="op" id="4732677">(</span><span class="op" id="4732678">)</span><span class="op" id="4732679">}</span><span class="op" id="4732680">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732684"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732685">.</span><span class="ident" id="4732686">off</span><span class="op" id="4732689">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732694"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732695">.</span><span class="ident" id="4732696">next</span><span class="op" id="4732700">(</span><span class="op" id="4732701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732705">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732713">case</span>&nbsp;<span class="ident" id="4732718"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4732725">.</span><span class="ident" id="4732726">Array</span><span class="op" id="4732731">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732734">case</span>&nbsp;<span class="ident" id="4732739"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4732746">.</span><span class="ident" id="4732747">Slice</span><span class="op" id="4732752">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732756">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732767">i</span>&nbsp;<span class="op" id="4732769">:=</span>&nbsp;<span class="num" id="4732772">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732775">for</span>&nbsp;<span class="op" id="4732779">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4732783">//&nbsp;Look&nbsp;ahead&nbsp;for&nbsp;]&nbsp;-&nbsp;can&nbsp;only&nbsp;happen&nbsp;on&nbsp;first&nbsp;iteration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732843">op</span>&nbsp;<span class="op" id="4732846">:=</span>&nbsp;<span class="ident" id="4732849"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732850">.</span><span class="ident" id="4732851">scanWhile</span><span class="op" id="4732860">(</span><span class="ident" id="4732861"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4732874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732878">if</span>&nbsp;<span class="ident" id="4732881"><a href="/encoding/json/decode.go.html#4732843">op</a></span>&nbsp;<span class="op" id="4732884">==</span>&nbsp;<span class="ident" id="4732887"><a href="/encoding/json/scanner.go.html#4789635">scanEndArray</a></span>&nbsp;<span class="op" id="4732900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4732905">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4732913">}</span><br>
<span class="lineno">415</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4732918">//&nbsp;Back&nbsp;up&nbsp;so&nbsp;d.value&nbsp;can&nbsp;have&nbsp;the&nbsp;byte&nbsp;we&nbsp;just&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732974"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732975">.</span><span class="ident" id="4732976">off</span><span class="op" id="4732979">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4732984"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4732985">.</span><span class="ident" id="4732986">scan</span><span class="op" id="4732990">.</span><span class="ident" id="4732991">undo</span><span class="op" id="4732995">(</span><span class="ident" id="4732996"><a href="/encoding/json/decode.go.html#4732843">op</a></span><span class="op" id="4732998">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4733003">//&nbsp;Get&nbsp;element&nbsp;of&nbsp;array,&nbsp;growing&nbsp;if&nbsp;necessary.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733052">if</span>&nbsp;<span class="ident" id="4733055"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733056">.</span><span class="ident" id="4733057">Kind</span><span class="op" id="4733061">(</span><span class="op" id="4733062">)</span>&nbsp;<span class="op" id="4733064">==</span>&nbsp;<span class="ident" id="4733067"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4733074">.</span><span class="ident" id="4733075">Slice</span>&nbsp;<span class="op" id="4733081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4733086">//&nbsp;Grow&nbsp;slice&nbsp;if&nbsp;necessary</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733116">if</span>&nbsp;<span class="ident" id="4733119"><a href="/encoding/json/decode.go.html#4732767">i</a></span>&nbsp;<span class="op" id="4733121">&gt;=</span>&nbsp;<span class="ident" id="4733124"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733125">.</span><span class="ident" id="4733126">Cap</span><span class="op" id="4733129">(</span><span class="op" id="4733130">)</span>&nbsp;<span class="op" id="4733132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733138">newcap</span>&nbsp;<span class="op" id="4733145">:=</span>&nbsp;<span class="ident" id="4733148"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733149">.</span><span class="ident" id="4733150">Cap</span><span class="op" id="4733153">(</span><span class="op" id="4733154">)</span>&nbsp;<span class="op" id="4733156">+</span>&nbsp;<span class="ident" id="4733158"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733159">.</span><span class="ident" id="4733160">Cap</span><span class="op" id="4733163">(</span><span class="op" id="4733164">)</span><span class="op" id="4733165">/</span><span class="num" id="4733166">2</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733172">if</span>&nbsp;<span class="ident" id="4733175"><a href="/encoding/json/decode.go.html#4733138">newcap</a></span>&nbsp;<span class="op" id="4733182">&lt;</span>&nbsp;<span class="num" id="4733184">4</span>&nbsp;<span class="op" id="4733186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733193"><a href="/encoding/json/decode.go.html#4733138">newcap</a></span>&nbsp;<span class="op" id="4733200">=</span>&nbsp;<span class="num" id="4733202">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733214">newv</span>&nbsp;<span class="op" id="4733219">:=</span>&nbsp;<span class="ident" id="4733222"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4733229">.</span><span class="ident" id="4733230">MakeSlice</span><span class="op" id="4733239">(</span><span class="ident" id="4733240"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733241">.</span><span class="ident" id="4733242">Type</span><span class="op" id="4733246">(</span><span class="op" id="4733247">)</span><span class="op" id="4733248">,</span>&nbsp;<span class="ident" id="4733250"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733251">.</span><span class="ident" id="4733252">Len</span><span class="op" id="4733255">(</span><span class="op" id="4733256">)</span><span class="op" id="4733257">,</span>&nbsp;<span class="ident" id="4733259"><a href="/encoding/json/decode.go.html#4733138">newcap</a></span><span class="op" id="4733265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733271"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4733278">.</span><span class="ident" id="4733279">Copy</span><span class="op" id="4733283">(</span><span class="ident" id="4733284"><a href="/encoding/json/decode.go.html#4733214">newv</a></span><span class="op" id="4733288">,</span>&nbsp;<span class="ident" id="4733290"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733291">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733297"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733298">.</span><span class="ident" id="4733299">Set</span><span class="op" id="4733302">(</span><span class="ident" id="4733303"><a href="/encoding/json/decode.go.html#4733214">newv</a></span><span class="op" id="4733307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733317">if</span>&nbsp;<span class="ident" id="4733320"><a href="/encoding/json/decode.go.html#4732767">i</a></span>&nbsp;<span class="op" id="4733322">&gt;=</span>&nbsp;<span class="ident" id="4733325"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733326">.</span><span class="ident" id="4733327">Len</span><span class="op" id="4733330">(</span><span class="op" id="4733331">)</span>&nbsp;<span class="op" id="4733333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733339"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733340">.</span><span class="ident" id="4733341">SetLen</span><span class="op" id="4733347">(</span><span class="ident" id="4733348"><a href="/encoding/json/decode.go.html#4732767">i</a></span>&nbsp;<span class="op" id="4733350">+</span>&nbsp;<span class="num" id="4733352">1</span><span class="op" id="4733353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733358">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733367">if</span>&nbsp;<span class="ident" id="4733370"><a href="/encoding/json/decode.go.html#4732767">i</a></span>&nbsp;<span class="op" id="4733372">&lt;</span>&nbsp;<span class="ident" id="4733374"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733375">.</span><span class="ident" id="4733376">Len</span><span class="op" id="4733379">(</span><span class="op" id="4733380">)</span>&nbsp;<span class="op" id="4733382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4733387">//&nbsp;Decode&nbsp;into&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733414"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4733415">.</span><span class="ident" id="4733416">value</span><span class="op" id="4733421">(</span><span class="ident" id="4733422"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733423">.</span><span class="ident" id="4733424">Index</span><span class="op" id="4733429">(</span><span class="ident" id="4733430"><a href="/encoding/json/decode.go.html#4732767">i</a></span><span class="op" id="4733431">)</span><span class="op" id="4733432">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733436">}</span>&nbsp;<span class="keyword" id="4733438">else</span>&nbsp;<span class="op" id="4733443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4733448">//&nbsp;Ran&nbsp;out&nbsp;of&nbsp;fixed&nbsp;array:&nbsp;skip.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733484"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4733485">.</span><span class="ident" id="4733486">value</span><span class="op" id="4733491">(</span><span class="ident" id="4733492"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4733499">.</span><span class="ident" id="4733500">Value</span><span class="op" id="4733505">{</span><span class="op" id="4733506">}</span><span class="op" id="4733507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733515"><a href="/encoding/json/decode.go.html#4732767">i</a></span><span class="op" id="4733516">++</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4733522">//&nbsp;Next&nbsp;token&nbsp;must&nbsp;be&nbsp;,&nbsp;or&nbsp;].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733554"><a href="/encoding/json/decode.go.html#4732843">op</a></span>&nbsp;<span class="op" id="4733557">=</span>&nbsp;<span class="ident" id="4733559"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4733560">.</span><span class="ident" id="4733561">scanWhile</span><span class="op" id="4733570">(</span><span class="ident" id="4733571"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4733584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733588">if</span>&nbsp;<span class="ident" id="4733591"><a href="/encoding/json/decode.go.html#4732843">op</a></span>&nbsp;<span class="op" id="4733594">==</span>&nbsp;<span class="ident" id="4733597"><a href="/encoding/json/scanner.go.html#4789635">scanEndArray</a></span>&nbsp;<span class="op" id="4733610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733615">break</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733627">if</span>&nbsp;<span class="ident" id="4733630"><a href="/encoding/json/decode.go.html#4732843">op</a></span>&nbsp;<span class="op" id="4733633">!=</span>&nbsp;<span class="ident" id="4733636"><a href="/encoding/json/scanner.go.html#4789581">scanArrayValue</a></span>&nbsp;<span class="op" id="4733651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733656"><a href="/encoding/json/decode.go.html#4732029">d</a></span><span class="op" id="4733657">.</span><span class="builtintype" id="4733658">error</span><span class="op" id="4733663">(</span><span class="ident" id="4733664"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4733672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733679">}</span><br>
<span class="lineno">455</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733683">if</span>&nbsp;<span class="ident" id="4733686"><a href="/encoding/json/decode.go.html#4732767">i</a></span>&nbsp;<span class="op" id="4733688">&lt;</span>&nbsp;<span class="ident" id="4733690"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733691">.</span><span class="ident" id="4733692">Len</span><span class="op" id="4733695">(</span><span class="op" id="4733696">)</span>&nbsp;<span class="op" id="4733698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733702">if</span>&nbsp;<span class="ident" id="4733705"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733706">.</span><span class="ident" id="4733707">Kind</span><span class="op" id="4733711">(</span><span class="op" id="4733712">)</span>&nbsp;<span class="op" id="4733714">==</span>&nbsp;<span class="ident" id="4733717"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4733724">.</span><span class="ident" id="4733725">Array</span>&nbsp;<span class="op" id="4733731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4733736">//&nbsp;Array.&nbsp;&nbsp;Zero&nbsp;the&nbsp;rest.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733765">z</span>&nbsp;<span class="op" id="4733767">:=</span>&nbsp;<span class="ident" id="4733770"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4733777">.</span><span class="ident" id="4733778">Zero</span><span class="op" id="4733782">(</span><span class="ident" id="4733783"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733784">.</span><span class="ident" id="4733785">Type</span><span class="op" id="4733789">(</span><span class="op" id="4733790">)</span><span class="op" id="4733791">.</span><span class="ident" id="4733792">Elem</span><span class="op" id="4733796">(</span><span class="op" id="4733797">)</span><span class="op" id="4733798">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733803">for</span>&nbsp;<span class="op" id="4733807">;</span>&nbsp;<span class="ident" id="4733809"><a href="/encoding/json/decode.go.html#4732767">i</a></span>&nbsp;<span class="op" id="4733811">&lt;</span>&nbsp;<span class="ident" id="4733813"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733814">.</span><span class="ident" id="4733815">Len</span><span class="op" id="4733818">(</span><span class="op" id="4733819">)</span><span class="op" id="4733820">;</span>&nbsp;<span class="ident" id="4733822"><a href="/encoding/json/decode.go.html#4732767">i</a></span><span class="op" id="4733823">++</span>&nbsp;<span class="op" id="4733826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733832"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733833">.</span><span class="ident" id="4733834">Index</span><span class="op" id="4733839">(</span><span class="ident" id="4733840"><a href="/encoding/json/decode.go.html#4732767">i</a></span><span class="op" id="4733841">)</span><span class="op" id="4733842">.</span><span class="ident" id="4733843">Set</span><span class="op" id="4733846">(</span><span class="ident" id="4733847"><a href="/encoding/json/decode.go.html#4733765">z</a></span><span class="op" id="4733848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733857">}</span>&nbsp;<span class="keyword" id="4733859">else</span>&nbsp;<span class="op" id="4733864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733869"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733870">.</span><span class="ident" id="4733871">SetLen</span><span class="op" id="4733877">(</span><span class="ident" id="4733878"><a href="/encoding/json/decode.go.html#4732767">i</a></span><span class="op" id="4733879">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4733889">if</span>&nbsp;<span class="ident" id="4733892"><a href="/encoding/json/decode.go.html#4732767">i</a></span>&nbsp;<span class="op" id="4733894">==</span>&nbsp;<span class="num" id="4733897">0</span>&nbsp;<span class="op" id="4733899">&amp;&amp;</span>&nbsp;<span class="ident" id="4733902"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733903">.</span><span class="ident" id="4733904">Kind</span><span class="op" id="4733908">(</span><span class="op" id="4733909">)</span>&nbsp;<span class="op" id="4733911">==</span>&nbsp;<span class="ident" id="4733914"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4733921">.</span><span class="ident" id="4733922">Slice</span>&nbsp;<span class="op" id="4733928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4733932"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733933">.</span><span class="ident" id="4733934">Set</span><span class="op" id="4733937">(</span><span class="ident" id="4733938"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4733945">.</span><span class="ident" id="4733946">MakeSlice</span><span class="op" id="4733955">(</span><span class="ident" id="4733956"><a href="/encoding/json/decode.go.html#4732051">v</a></span><span class="op" id="4733957">.</span><span class="ident" id="4733958">Type</span><span class="op" id="4733962">(</span><span class="op" id="4733963">)</span><span class="op" id="4733964">,</span>&nbsp;<span class="num" id="4733966">0</span><span class="op" id="4733967">,</span>&nbsp;<span class="num" id="4733969">0</span><span class="op" id="4733970">)</span><span class="op" id="4733971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4733974">}</span><br>
<span class="lineno">470</span><span class="op" id="4733976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4733979">var</span>&nbsp;<span class="ident" id="4733983">nullLiteral</span>&nbsp;<span class="op" id="4733995">=</span>&nbsp;<span class="op" id="4733997">[</span><span class="op" id="4733998">]</span><span class="builtintype" id="4733999">byte</span><span class="op" id="4734003">(</span><span class="string" id="4734004">&#34;null&#34;</span><span class="op" id="4734010">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4734013">//&nbsp;object&nbsp;consumes&nbsp;an&nbsp;object&nbsp;from&nbsp;d.data[d.off-1:],&nbsp;decoding&nbsp;into&nbsp;the&nbsp;value&nbsp;v.</span><br>
<span class="lineno">475</span><span class="comment" id="4734092">//&nbsp;the&nbsp;first&nbsp;byte&nbsp;(&#39;{&#39;)&nbsp;of&nbsp;the&nbsp;object&nbsp;has&nbsp;been&nbsp;read&nbsp;already.</span><br>
<span class="lineno"></span><span class="keyword" id="4734153">func</span>&nbsp;<span class="op" id="4734158">(</span><span class="ident" id="4734159">d</span>&nbsp;<span class="op" id="4734161">*</span><span class="ident" id="4734162"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4734173">)</span>&nbsp;<span class="ident" id="4734175">object</span><span class="op" id="4734181">(</span><span class="ident" id="4734182">v</span>&nbsp;<span class="ident" id="4734184"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4734191">.</span><span class="ident" id="4734192">Value</span><span class="op" id="4734197">)</span>&nbsp;<span class="op" id="4734199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4734202">//&nbsp;Check&nbsp;for&nbsp;unmarshaler.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734229">u</span><span class="op" id="4734230">,</span>&nbsp;<span class="ident" id="4734232">ut</span><span class="op" id="4734234">,</span>&nbsp;<span class="ident" id="4734236">pv</span>&nbsp;<span class="op" id="4734239">:=</span>&nbsp;<span class="ident" id="4734242"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734243">.</span><span class="ident" id="4734244">indirect</span><span class="op" id="4734252">(</span><span class="ident" id="4734253"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4734254">,</span>&nbsp;<span class="builtintype" id="4734256">false</span><span class="op" id="4734261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734264">if</span>&nbsp;<span class="ident" id="4734267"><a href="/encoding/json/decode.go.html#4734229">u</a></span>&nbsp;<span class="op" id="4734269">!=</span>&nbsp;<span class="ident" id="4734272">nil</span>&nbsp;<span class="op" id="4734276">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734280"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734281">.</span><span class="ident" id="4734282">off</span><span class="op" id="4734285">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734290">err</span>&nbsp;<span class="op" id="4734294">:=</span>&nbsp;<span class="ident" id="4734297"><a href="/encoding/json/decode.go.html#4734229">u</a></span><span class="op" id="4734298">.</span><span class="ident" id="4734299">UnmarshalJSON</span><span class="op" id="4734312">(</span><span class="ident" id="4734313"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734314">.</span><span class="ident" id="4734315">next</span><span class="op" id="4734319">(</span><span class="op" id="4734320">)</span><span class="op" id="4734321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734325">if</span>&nbsp;<span class="ident" id="4734328"><a href="/encoding/json/decode.go.html#4734290">err</a></span>&nbsp;<span class="op" id="4734332">!=</span>&nbsp;<span class="ident" id="4734335">nil</span>&nbsp;<span class="op" id="4734339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734344"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734345">.</span><span class="builtintype" id="4734346">error</span><span class="op" id="4734351">(</span><span class="ident" id="4734352"><a href="/encoding/json/decode.go.html#4734290">err</a></span><span class="op" id="4734355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734359">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734363">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734374">if</span>&nbsp;<span class="ident" id="4734377"><a href="/encoding/json/decode.go.html#4734232">ut</a></span>&nbsp;<span class="op" id="4734380">!=</span>&nbsp;<span class="ident" id="4734383">nil</span>&nbsp;<span class="op" id="4734387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734391"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734392">.</span><span class="ident" id="4734393">saveError</span><span class="op" id="4734402">(</span><span class="op" id="4734403">&amp;</span><span class="ident" id="4734404"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4734422">{</span><span class="string" id="4734423">&#34;object&#34;</span><span class="op" id="4734431">,</span>&nbsp;<span class="ident" id="4734433"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4734434">.</span><span class="ident" id="4734435">Type</span><span class="op" id="4734439">(</span><span class="op" id="4734440">)</span><span class="op" id="4734441">}</span><span class="op" id="4734442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734446"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734447">.</span><span class="ident" id="4734448">off</span><span class="op" id="4734451">--</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734456"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734457">.</span><span class="ident" id="4734458">next</span><span class="op" id="4734462">(</span><span class="op" id="4734463">)</span>&nbsp;<span class="comment" id="4734465">//&nbsp;skip&nbsp;over&nbsp;{&nbsp;}&nbsp;in&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734493">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734504"><a href="/encoding/json/decode.go.html#4734182">v</a></span>&nbsp;<span class="op" id="4734506">=</span>&nbsp;<span class="ident" id="4734508"><a href="/encoding/json/decode.go.html#4734236">pv</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4734513">//&nbsp;Decoding&nbsp;into&nbsp;nil&nbsp;interface?&nbsp;&nbsp;Switch&nbsp;to&nbsp;non-reflect&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734575">if</span>&nbsp;<span class="ident" id="4734578"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4734579">.</span><span class="ident" id="4734580">Kind</span><span class="op" id="4734584">(</span><span class="op" id="4734585">)</span>&nbsp;<span class="op" id="4734587">==</span>&nbsp;<span class="ident" id="4734590"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4734597">.</span><span class="ident" id="4734598">Interface</span>&nbsp;<span class="op" id="4734608">&amp;&amp;</span>&nbsp;<span class="ident" id="4734611"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4734612">.</span><span class="ident" id="4734613">NumMethod</span><span class="op" id="4734622">(</span><span class="op" id="4734623">)</span>&nbsp;<span class="op" id="4734625">==</span>&nbsp;<span class="num" id="4734628">0</span>&nbsp;<span class="op" id="4734630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734634"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4734635">.</span><span class="ident" id="4734636">Set</span><span class="op" id="4734639">(</span><span class="ident" id="4734640"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4734647">.</span><span class="ident" id="4734648">ValueOf</span><span class="op" id="4734655">(</span><span class="ident" id="4734656"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734657">.</span><span class="ident" id="4734658">objectInterface</span><span class="op" id="4734673">(</span><span class="op" id="4734674">)</span><span class="op" id="4734675">)</span><span class="op" id="4734676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734680">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734688">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4734692">//&nbsp;Check&nbsp;type&nbsp;of&nbsp;target:&nbsp;struct&nbsp;or&nbsp;map[string]T</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734741">switch</span>&nbsp;<span class="ident" id="4734748"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4734749">.</span><span class="ident" id="4734750">Kind</span><span class="op" id="4734754">(</span><span class="op" id="4734755">)</span>&nbsp;<span class="op" id="4734757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734760">case</span>&nbsp;<span class="ident" id="4734765"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4734772">.</span><span class="ident" id="4734773">Map</span><span class="op" id="4734776">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4734780">//&nbsp;map&nbsp;must&nbsp;have&nbsp;string&nbsp;kind</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734811">t</span>&nbsp;<span class="op" id="4734813">:=</span>&nbsp;<span class="ident" id="4734816"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4734817">.</span><span class="ident" id="4734818">Type</span><span class="op" id="4734822">(</span><span class="op" id="4734823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734827">if</span>&nbsp;<span class="ident" id="4734830"><a href="/encoding/json/decode.go.html#4734811">t</a></span><span class="op" id="4734831">.</span><span class="ident" id="4734832">Key</span><span class="op" id="4734835">(</span><span class="op" id="4734836">)</span><span class="op" id="4734837">.</span><span class="ident" id="4734838">Kind</span><span class="op" id="4734842">(</span><span class="op" id="4734843">)</span>&nbsp;<span class="op" id="4734845">!=</span>&nbsp;<span class="ident" id="4734848"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4734855">.</span><span class="ident" id="4734856">String</span>&nbsp;<span class="op" id="4734863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734868"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734869">.</span><span class="ident" id="4734870">saveError</span><span class="op" id="4734879">(</span><span class="op" id="4734880">&amp;</span><span class="ident" id="4734881"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4734899">{</span><span class="string" id="4734900">&#34;object&#34;</span><span class="op" id="4734908">,</span>&nbsp;<span class="ident" id="4734910"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4734911">.</span><span class="ident" id="4734912">Type</span><span class="op" id="4734916">(</span><span class="op" id="4734917">)</span><span class="op" id="4734918">}</span><span class="op" id="4734919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734924"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734925">.</span><span class="ident" id="4734926">off</span><span class="op" id="4734929">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4734935"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4734936">.</span><span class="ident" id="4734937">next</span><span class="op" id="4734941">(</span><span class="op" id="4734942">)</span>&nbsp;<span class="comment" id="4734944">//&nbsp;skip&nbsp;over&nbsp;{&nbsp;}&nbsp;in&nbsp;input</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734973">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4734982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4734986">if</span>&nbsp;<span class="ident" id="4734989"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4734990">.</span><span class="ident" id="4734991">IsNil</span><span class="op" id="4734996">(</span><span class="op" id="4734997">)</span>&nbsp;<span class="op" id="4734999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735004"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4735005">.</span><span class="ident" id="4735006">Set</span><span class="op" id="4735009">(</span><span class="ident" id="4735010"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4735017">.</span><span class="ident" id="4735018">MakeMap</span><span class="op" id="4735025">(</span><span class="ident" id="4735026"><a href="/encoding/json/decode.go.html#4734811">t</a></span><span class="op" id="4735027">)</span><span class="op" id="4735028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735032">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735035">case</span>&nbsp;<span class="ident" id="4735040"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4735047">.</span><span class="ident" id="4735048">Struct</span><span class="op" id="4735054">:</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735058">default</span><span class="op" id="4735065">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735069"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735070">.</span><span class="ident" id="4735071">saveError</span><span class="op" id="4735080">(</span><span class="op" id="4735081">&amp;</span><span class="ident" id="4735082"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4735100">{</span><span class="string" id="4735101">&#34;object&#34;</span><span class="op" id="4735109">,</span>&nbsp;<span class="ident" id="4735111"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4735112">.</span><span class="ident" id="4735113">Type</span><span class="op" id="4735117">(</span><span class="op" id="4735118">)</span><span class="op" id="4735119">}</span><span class="op" id="4735120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735124"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735125">.</span><span class="ident" id="4735126">off</span><span class="op" id="4735129">--</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735134"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735135">.</span><span class="ident" id="4735136">next</span><span class="op" id="4735140">(</span><span class="op" id="4735141">)</span>&nbsp;<span class="comment" id="4735143">//&nbsp;skip&nbsp;over&nbsp;{&nbsp;}&nbsp;in&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735171">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735183">var</span>&nbsp;<span class="ident" id="4735187">mapElem</span>&nbsp;<span class="ident" id="4735195"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4735202">.</span><span class="ident" id="4735203">Value</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735211">for</span>&nbsp;<span class="op" id="4735215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4735219">//&nbsp;Read&nbsp;opening&nbsp;&#34;&nbsp;of&nbsp;string&nbsp;key&nbsp;or&nbsp;closing&nbsp;}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735267">op</span>&nbsp;<span class="op" id="4735270">:=</span>&nbsp;<span class="ident" id="4735273"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735274">.</span><span class="ident" id="4735275">scanWhile</span><span class="op" id="4735284">(</span><span class="ident" id="4735285"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4735298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735302">if</span>&nbsp;<span class="ident" id="4735305"><a href="/encoding/json/decode.go.html#4735267">op</a></span>&nbsp;<span class="op" id="4735308">==</span>&nbsp;<span class="ident" id="4735311"><a href="/encoding/json/scanner.go.html#4789464">scanEndObject</a></span>&nbsp;<span class="op" id="4735325">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4735330">//&nbsp;closing&nbsp;}&nbsp;-&nbsp;can&nbsp;only&nbsp;happen&nbsp;on&nbsp;first&nbsp;iteration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735384">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735396">if</span>&nbsp;<span class="ident" id="4735399"><a href="/encoding/json/decode.go.html#4735267">op</a></span>&nbsp;<span class="op" id="4735402">!=</span>&nbsp;<span class="ident" id="4735405"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span>&nbsp;<span class="op" id="4735422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735427"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735428">.</span><span class="builtintype" id="4735429">error</span><span class="op" id="4735434">(</span><span class="ident" id="4735435"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4735443">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4735452">//&nbsp;Read&nbsp;key.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735467">start</span>&nbsp;<span class="op" id="4735473">:=</span>&nbsp;<span class="ident" id="4735476"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735477">.</span><span class="ident" id="4735478">off</span>&nbsp;<span class="op" id="4735482">-</span>&nbsp;<span class="num" id="4735484">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735488"><a href="/encoding/json/decode.go.html#4735267">op</a></span>&nbsp;<span class="op" id="4735491">=</span>&nbsp;<span class="ident" id="4735493"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735494">.</span><span class="ident" id="4735495">scanWhile</span><span class="op" id="4735504">(</span><span class="ident" id="4735505"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><span class="op" id="4735517">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735521">item</span>&nbsp;<span class="op" id="4735526">:=</span>&nbsp;<span class="ident" id="4735529"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735530">.</span><span class="ident" id="4735531">data</span><span class="op" id="4735535">[</span><span class="ident" id="4735536"><a href="/encoding/json/decode.go.html#4735467">start</a></span>&nbsp;<span class="op" id="4735542">:</span>&nbsp;<span class="ident" id="4735544"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735545">.</span><span class="ident" id="4735546">off</span><span class="op" id="4735549">-</span><span class="num" id="4735550">1</span><span class="op" id="4735551">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735555">key</span><span class="op" id="4735558">,</span>&nbsp;<span class="ident" id="4735560">ok</span>&nbsp;<span class="op" id="4735563">:=</span>&nbsp;<span class="ident" id="4735566"><a href="/encoding/json/decode.go.html#4746060">unquoteBytes</a></span><span class="op" id="4735578">(</span><span class="ident" id="4735579"><a href="/encoding/json/decode.go.html#4735521">item</a></span><span class="op" id="4735583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735587">if</span>&nbsp;<span class="op" id="4735590">!</span><span class="ident" id="4735591"><a href="/encoding/json/decode.go.html#4735560">ok</a></span>&nbsp;<span class="op" id="4735594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735599"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4735600">.</span><span class="builtintype" id="4735601">error</span><span class="op" id="4735606">(</span><span class="ident" id="4735607"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4735615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735619">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4735624">//&nbsp;Figure&nbsp;out&nbsp;field&nbsp;corresponding&nbsp;to&nbsp;key.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735668">var</span>&nbsp;<span class="ident" id="4735672">subv</span>&nbsp;<span class="ident" id="4735677"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4735684">.</span><span class="ident" id="4735685">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735693">destring</span>&nbsp;<span class="op" id="4735702">:=</span>&nbsp;<span class="builtintype" id="4735705">false</span>&nbsp;<span class="comment" id="4735711">//&nbsp;whether&nbsp;the&nbsp;value&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;a&nbsp;string&nbsp;to&nbsp;be&nbsp;decoded&nbsp;first</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735778">if</span>&nbsp;<span class="ident" id="4735781"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4735782">.</span><span class="ident" id="4735783">Kind</span><span class="op" id="4735787">(</span><span class="op" id="4735788">)</span>&nbsp;<span class="op" id="4735790">==</span>&nbsp;<span class="ident" id="4735793"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4735800">.</span><span class="ident" id="4735801">Map</span>&nbsp;<span class="op" id="4735805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735810">elemType</span>&nbsp;<span class="op" id="4735819">:=</span>&nbsp;<span class="ident" id="4735822"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4735823">.</span><span class="ident" id="4735824">Type</span><span class="op" id="4735828">(</span><span class="op" id="4735829">)</span><span class="op" id="4735830">.</span><span class="ident" id="4735831">Elem</span><span class="op" id="4735835">(</span><span class="op" id="4735836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735841">if</span>&nbsp;<span class="op" id="4735844">!</span><span class="ident" id="4735845"><a href="/encoding/json/decode.go.html#4735187">mapElem</a></span><span class="op" id="4735852">.</span><span class="ident" id="4735853">IsValid</span><span class="op" id="4735860">(</span><span class="op" id="4735861">)</span>&nbsp;<span class="op" id="4735863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735869"><a href="/encoding/json/decode.go.html#4735187">mapElem</a></span>&nbsp;<span class="op" id="4735877">=</span>&nbsp;<span class="ident" id="4735879"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4735886">.</span><span class="ident" id="4735887">New</span><span class="op" id="4735890">(</span><span class="ident" id="4735891"><a href="/encoding/json/decode.go.html#4735810">elemType</a></span><span class="op" id="4735899">)</span><span class="op" id="4735900">.</span><span class="ident" id="4735901">Elem</span><span class="op" id="4735905">(</span><span class="op" id="4735906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735911">}</span>&nbsp;<span class="keyword" id="4735913">else</span>&nbsp;<span class="op" id="4735918">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735924"><a href="/encoding/json/decode.go.html#4735187">mapElem</a></span><span class="op" id="4735931">.</span><span class="ident" id="4735932">Set</span><span class="op" id="4735935">(</span><span class="ident" id="4735936"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4735943">.</span><span class="ident" id="4735944">Zero</span><span class="op" id="4735948">(</span><span class="ident" id="4735949"><a href="/encoding/json/decode.go.html#4735810">elemType</a></span><span class="op" id="4735957">)</span><span class="op" id="4735958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4735968"><a href="/encoding/json/decode.go.html#4735672">subv</a></span>&nbsp;<span class="op" id="4735973">=</span>&nbsp;<span class="ident" id="4735975"><a href="/encoding/json/decode.go.html#4735187">mapElem</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4735985">}</span>&nbsp;<span class="keyword" id="4735987">else</span>&nbsp;<span class="op" id="4735992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4735997">var</span>&nbsp;<span class="ident" id="4736001">f</span>&nbsp;<span class="op" id="4736003">*</span><span class="ident" id="4736004"><a href="/encoding/json/encode.go.html#4772578">field</a></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736013">fields</span>&nbsp;<span class="op" id="4736020">:=</span>&nbsp;<span class="ident" id="4736023"><a href="/encoding/json/encode.go.html#4778575">cachedTypeFields</a></span><span class="op" id="4736039">(</span><span class="ident" id="4736040"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4736041">.</span><span class="ident" id="4736042">Type</span><span class="op" id="4736046">(</span><span class="op" id="4736047">)</span><span class="op" id="4736048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736053">for</span>&nbsp;<span class="ident" id="4736057">i</span>&nbsp;<span class="op" id="4736059">:=</span>&nbsp;<span class="keyword" id="4736062">range</span>&nbsp;<span class="ident" id="4736068"><a href="/encoding/json/decode.go.html#4736013">fields</a></span>&nbsp;<span class="op" id="4736075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736081">ff</span>&nbsp;<span class="op" id="4736084">:=</span>&nbsp;<span class="op" id="4736087">&amp;</span><span class="ident" id="4736088"><a href="/encoding/json/decode.go.html#4736013">fields</a></span><span class="op" id="4736094">[</span><span class="ident" id="4736095"><a href="/encoding/json/decode.go.html#4736057">i</a></span><span class="op" id="4736096">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736102">if</span>&nbsp;<span class="ident" id="4736105"><a href="/encoding/json/decode.go.html#4721871">bytes</a></span><span class="op" id="4736110">.</span><span class="ident" id="4736111">Equal</span><span class="op" id="4736116">(</span><span class="ident" id="4736117"><a href="/encoding/json/decode.go.html#4736081">ff</a></span><span class="op" id="4736119">.</span><span class="ident" id="4736120">nameBytes</span><span class="op" id="4736129">,</span>&nbsp;<span class="ident" id="4736131"><a href="/encoding/json/decode.go.html#4735555">key</a></span><span class="op" id="4736134">)</span>&nbsp;<span class="op" id="4736136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736143"><a href="/encoding/json/decode.go.html#4736001">f</a></span>&nbsp;<span class="op" id="4736145">=</span>&nbsp;<span class="ident" id="4736147"><a href="/encoding/json/decode.go.html#4736081">ff</a></span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736155">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736171">if</span>&nbsp;<span class="ident" id="4736174"><a href="/encoding/json/decode.go.html#4736001">f</a></span>&nbsp;<span class="op" id="4736176">==</span>&nbsp;<span class="ident" id="4736179">nil</span>&nbsp;<span class="op" id="4736183">&amp;&amp;</span>&nbsp;<span class="ident" id="4736186"><a href="/encoding/json/decode.go.html#4736081">ff</a></span><span class="op" id="4736188">.</span><span class="ident" id="4736189">equalFold</span><span class="op" id="4736198">(</span><span class="ident" id="4736199"><a href="/encoding/json/decode.go.html#4736081">ff</a></span><span class="op" id="4736201">.</span><span class="ident" id="4736202">nameBytes</span><span class="op" id="4736211">,</span>&nbsp;<span class="ident" id="4736213"><a href="/encoding/json/decode.go.html#4735555">key</a></span><span class="op" id="4736216">)</span>&nbsp;<span class="op" id="4736218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736225"><a href="/encoding/json/decode.go.html#4736001">f</a></span>&nbsp;<span class="op" id="4736227">=</span>&nbsp;<span class="ident" id="4736229"><a href="/encoding/json/decode.go.html#4736081">ff</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736236">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736246">if</span>&nbsp;<span class="ident" id="4736249"><a href="/encoding/json/decode.go.html#4736001">f</a></span>&nbsp;<span class="op" id="4736251">!=</span>&nbsp;<span class="ident" id="4736254">nil</span>&nbsp;<span class="op" id="4736258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736264"><a href="/encoding/json/decode.go.html#4735672">subv</a></span>&nbsp;<span class="op" id="4736269">=</span>&nbsp;<span class="ident" id="4736271"><a href="/encoding/json/decode.go.html#4734182">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736277"><a href="/encoding/json/decode.go.html#4735693">destring</a></span>&nbsp;<span class="op" id="4736286">=</span>&nbsp;<span class="ident" id="4736288"><a href="/encoding/json/decode.go.html#4736001">f</a></span><span class="op" id="4736289">.</span><span class="ident" id="4736290">quoted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736301">for</span>&nbsp;<span class="ident" id="4736305">_</span><span class="op" id="4736306">,</span>&nbsp;<span class="ident" id="4736308">i</span>&nbsp;<span class="op" id="4736310">:=</span>&nbsp;<span class="keyword" id="4736313">range</span>&nbsp;<span class="ident" id="4736319"><a href="/encoding/json/decode.go.html#4736001">f</a></span><span class="op" id="4736320">.</span><span class="ident" id="4736321">index</span>&nbsp;<span class="op" id="4736327">{</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736334">if</span>&nbsp;<span class="ident" id="4736337"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4736341">.</span><span class="ident" id="4736342">Kind</span><span class="op" id="4736346">(</span><span class="op" id="4736347">)</span>&nbsp;<span class="op" id="4736349">==</span>&nbsp;<span class="ident" id="4736352"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4736359">.</span><span class="ident" id="4736360">Ptr</span>&nbsp;<span class="op" id="4736364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736372">if</span>&nbsp;<span class="ident" id="4736375"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4736379">.</span><span class="ident" id="4736380">IsNil</span><span class="op" id="4736385">(</span><span class="op" id="4736386">)</span>&nbsp;<span class="op" id="4736388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736397"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4736401">.</span><span class="ident" id="4736402">Set</span><span class="op" id="4736405">(</span><span class="ident" id="4736406"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4736413">.</span><span class="ident" id="4736414">New</span><span class="op" id="4736417">(</span><span class="ident" id="4736418"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4736422">.</span><span class="ident" id="4736423">Type</span><span class="op" id="4736427">(</span><span class="op" id="4736428">)</span><span class="op" id="4736429">.</span><span class="ident" id="4736430">Elem</span><span class="op" id="4736434">(</span><span class="op" id="4736435">)</span><span class="op" id="4736436">)</span><span class="op" id="4736437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736453"><a href="/encoding/json/decode.go.html#4735672">subv</a></span>&nbsp;<span class="op" id="4736458">=</span>&nbsp;<span class="ident" id="4736460"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4736464">.</span><span class="ident" id="4736465">Elem</span><span class="op" id="4736469">(</span><span class="op" id="4736470">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736484"><a href="/encoding/json/decode.go.html#4735672">subv</a></span>&nbsp;<span class="op" id="4736489">=</span>&nbsp;<span class="ident" id="4736491"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4736495">.</span><span class="ident" id="4736496">Field</span><span class="op" id="4736501">(</span><span class="ident" id="4736502"><a href="/encoding/json/decode.go.html#4736308">i</a></span><span class="op" id="4736503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736518">}</span><br>
<span class="lineno">585</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4736523">//&nbsp;Read&nbsp;:&nbsp;before&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736549">if</span>&nbsp;<span class="ident" id="4736552"><a href="/encoding/json/decode.go.html#4735267">op</a></span>&nbsp;<span class="op" id="4736555">==</span>&nbsp;<span class="ident" id="4736558"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span>&nbsp;<span class="op" id="4736572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736577"><a href="/encoding/json/decode.go.html#4735267">op</a></span>&nbsp;<span class="op" id="4736580">=</span>&nbsp;<span class="ident" id="4736582"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4736583">.</span><span class="ident" id="4736584">scanWhile</span><span class="op" id="4736593">(</span><span class="ident" id="4736594"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4736607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736611">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736615">if</span>&nbsp;<span class="ident" id="4736618"><a href="/encoding/json/decode.go.html#4735267">op</a></span>&nbsp;<span class="op" id="4736621">!=</span>&nbsp;<span class="ident" id="4736624"><a href="/encoding/json/scanner.go.html#4789338">scanObjectKey</a></span>&nbsp;<span class="op" id="4736638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736643"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4736644">.</span><span class="builtintype" id="4736645">error</span><span class="op" id="4736650">(</span><span class="ident" id="4736651"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4736659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4736663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4736668">//&nbsp;Read&nbsp;value.</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736685">if</span>&nbsp;<span class="ident" id="4736688"><a href="/encoding/json/decode.go.html#4735693">destring</a></span>&nbsp;<span class="op" id="4736697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736702">switch</span>&nbsp;<span class="ident" id="4736709">qv</span>&nbsp;<span class="op" id="4736712">:=</span>&nbsp;<span class="ident" id="4736715"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4736716">.</span><span class="ident" id="4736717">valueQuoted</span><span class="op" id="4736728">(</span><span class="op" id="4736729">)</span><span class="op" id="4736730">.</span><span class="op" id="4736731">(</span><span class="keyword" id="4736732">type</span><span class="op" id="4736736">)</span>&nbsp;<span class="op" id="4736738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736743">case</span>&nbsp;<span class="ident" id="4736748">nil</span><span class="op" id="4736751">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736757"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4736758">.</span><span class="ident" id="4736759">literalStore</span><span class="op" id="4736771">(</span><span class="ident" id="4736772"><a href="/encoding/json/decode.go.html#4733983">nullLiteral</a></span><span class="op" id="4736783">,</span>&nbsp;<span class="ident" id="4736785"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4736789">,</span>&nbsp;<span class="builtintype" id="4736791">false</span><span class="op" id="4736796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736801">case</span>&nbsp;<span class="builtintype" id="4736806">string</span><span class="op" id="4736812">:</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736818"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4736819">.</span><span class="ident" id="4736820">literalStore</span><span class="op" id="4736832">(</span><span class="op" id="4736833">[</span><span class="op" id="4736834">]</span><span class="builtintype" id="4736835">byte</span><span class="op" id="4736839">(</span><span class="ident" id="4736840"><a href="/encoding/json/decode.go.html#4736709">qv</a></span><span class="op" id="4736842">)</span><span class="op" id="4736843">,</span>&nbsp;<span class="ident" id="4736845"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4736849">,</span>&nbsp;<span class="builtintype" id="4736851">true</span><span class="op" id="4736855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4736860">default</span><span class="op" id="4736867">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4736873"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4736874">.</span><span class="ident" id="4736875">saveError</span><span class="op" id="4736884">(</span><span class="ident" id="4736885"><a href="/encoding/json/decode.go.html#4721921">fmt</a></span><span class="op" id="4736888">.</span><span class="ident" id="4736889">Errorf</span><span class="op" id="4736895">(</span><span class="string" id="4736896">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;unquoted&nbsp;value&nbsp;into&nbsp;%v&#34;</span><span class="op" id="4736981">,</span>&nbsp;<span class="ident" id="4736983"><a href="/encoding/json/decode.go.html#4735521">item</a></span><span class="op" id="4736987">,</span>&nbsp;<span class="ident" id="4736989"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4736990">.</span><span class="ident" id="4736991">Type</span><span class="op" id="4736995">(</span><span class="op" id="4736996">)</span><span class="op" id="4736997">)</span><span class="op" id="4736998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737007">}</span>&nbsp;<span class="keyword" id="4737009">else</span>&nbsp;<span class="op" id="4737014">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737019"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4737020">.</span><span class="ident" id="4737021">value</span><span class="op" id="4737026">(</span><span class="ident" id="4737027"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4737031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4737040">//&nbsp;Write&nbsp;value&nbsp;back&nbsp;to&nbsp;map;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4737070">//&nbsp;if&nbsp;using&nbsp;struct,&nbsp;subv&nbsp;points&nbsp;into&nbsp;struct&nbsp;already.</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737125">if</span>&nbsp;<span class="ident" id="4737128"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4737129">.</span><span class="ident" id="4737130">Kind</span><span class="op" id="4737134">(</span><span class="op" id="4737135">)</span>&nbsp;<span class="op" id="4737137">==</span>&nbsp;<span class="ident" id="4737140"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4737147">.</span><span class="ident" id="4737148">Map</span>&nbsp;<span class="op" id="4737152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737157">kv</span>&nbsp;<span class="op" id="4737160">:=</span>&nbsp;<span class="ident" id="4737163"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4737170">.</span><span class="ident" id="4737171">ValueOf</span><span class="op" id="4737178">(</span><span class="ident" id="4737179"><a href="/encoding/json/decode.go.html#4735555">key</a></span><span class="op" id="4737182">)</span><span class="op" id="4737183">.</span><span class="ident" id="4737184">Convert</span><span class="op" id="4737191">(</span><span class="ident" id="4737192"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4737193">.</span><span class="ident" id="4737194">Type</span><span class="op" id="4737198">(</span><span class="op" id="4737199">)</span><span class="op" id="4737200">.</span><span class="ident" id="4737201">Key</span><span class="op" id="4737204">(</span><span class="op" id="4737205">)</span><span class="op" id="4737206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737211"><a href="/encoding/json/decode.go.html#4734182">v</a></span><span class="op" id="4737212">.</span><span class="ident" id="4737213">SetMapIndex</span><span class="op" id="4737224">(</span><span class="ident" id="4737225"><a href="/encoding/json/decode.go.html#4737157">kv</a></span><span class="op" id="4737227">,</span>&nbsp;<span class="ident" id="4737229"><a href="/encoding/json/decode.go.html#4735672">subv</a></span><span class="op" id="4737233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4737242">//&nbsp;Next&nbsp;token&nbsp;must&nbsp;be&nbsp;,&nbsp;or&nbsp;}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737274"><a href="/encoding/json/decode.go.html#4735267">op</a></span>&nbsp;<span class="op" id="4737277">=</span>&nbsp;<span class="ident" id="4737279"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4737280">.</span><span class="ident" id="4737281">scanWhile</span><span class="op" id="4737290">(</span><span class="ident" id="4737291"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4737304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737308">if</span>&nbsp;<span class="ident" id="4737311"><a href="/encoding/json/decode.go.html#4735267">op</a></span>&nbsp;<span class="op" id="4737314">==</span>&nbsp;<span class="ident" id="4737317"><a href="/encoding/json/scanner.go.html#4789464">scanEndObject</a></span>&nbsp;<span class="op" id="4737331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737336">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737344">}</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4737348">if</span>&nbsp;<span class="ident" id="4737351"><a href="/encoding/json/decode.go.html#4735267">op</a></span>&nbsp;<span class="op" id="4737354">!=</span>&nbsp;<span class="ident" id="4737357"><a href="/encoding/json/scanner.go.html#4789400">scanObjectValue</a></span>&nbsp;<span class="op" id="4737373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737378"><a href="/encoding/json/decode.go.html#4734159">d</a></span><span class="op" id="4737379">.</span><span class="builtintype" id="4737380">error</span><span class="op" id="4737385">(</span><span class="ident" id="4737386"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4737394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4737401">}</span><br>
<span class="lineno"></span><span class="op" id="4737403">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="comment" id="4737406">//&nbsp;literal&nbsp;consumes&nbsp;a&nbsp;literal&nbsp;from&nbsp;d.data[d.off-1:],&nbsp;decoding&nbsp;into&nbsp;the&nbsp;value&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="4737486">//&nbsp;The&nbsp;first&nbsp;byte&nbsp;of&nbsp;the&nbsp;literal&nbsp;has&nbsp;been&nbsp;read&nbsp;already</span><br>
<span class="lineno"></span><span class="comment" id="4737541">//&nbsp;(that&#39;s&nbsp;how&nbsp;the&nbsp;caller&nbsp;knows&nbsp;it&#39;s&nbsp;a&nbsp;literal).</span><br>
<span class="lineno"></span><span class="keyword" id="4737590">func</span>&nbsp;<span class="op" id="4737595">(</span><span class="ident" id="4737596">d</span>&nbsp;<span class="op" id="4737598">*</span><span class="ident" id="4737599"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4737610">)</span>&nbsp;<span class="ident" id="4737612">literal</span><span class="op" id="4737619">(</span><span class="ident" id="4737620">v</span>&nbsp;<span class="ident" id="4737622"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4737629">.</span><span class="ident" id="4737630">Value</span><span class="op" id="4737635">)</span>&nbsp;<span class="op" id="4737637">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4737640">//&nbsp;All&nbsp;bytes&nbsp;inside&nbsp;literal&nbsp;return&nbsp;scanContinue&nbsp;op&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737698">start</span>&nbsp;<span class="op" id="4737704">:=</span>&nbsp;<span class="ident" id="4737707"><a href="/encoding/json/decode.go.html#4737596">d</a></span><span class="op" id="4737708">.</span><span class="ident" id="4737709">off</span>&nbsp;<span class="op" id="4737713">-</span>&nbsp;<span class="num" id="4737715">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737718">op</span>&nbsp;<span class="op" id="4737721">:=</span>&nbsp;<span class="ident" id="4737724"><a href="/encoding/json/decode.go.html#4737596">d</a></span><span class="op" id="4737725">.</span><span class="ident" id="4737726">scanWhile</span><span class="op" id="4737735">(</span><span class="ident" id="4737736"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><span class="op" id="4737748">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4737752">//&nbsp;Scan&nbsp;read&nbsp;one&nbsp;byte&nbsp;too&nbsp;far;&nbsp;back&nbsp;up.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737793"><a href="/encoding/json/decode.go.html#4737596">d</a></span><span class="op" id="4737794">.</span><span class="ident" id="4737795">off</span><span class="op" id="4737798">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737802"><a href="/encoding/json/decode.go.html#4737596">d</a></span><span class="op" id="4737803">.</span><span class="ident" id="4737804">scan</span><span class="op" id="4737808">.</span><span class="ident" id="4737809">undo</span><span class="op" id="4737813">(</span><span class="ident" id="4737814"><a href="/encoding/json/decode.go.html#4737718">op</a></span><span class="op" id="4737816">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4737820"><a href="/encoding/json/decode.go.html#4737596">d</a></span><span class="op" id="4737821">.</span><span class="ident" id="4737822">literalStore</span><span class="op" id="4737834">(</span><span class="ident" id="4737835"><a href="/encoding/json/decode.go.html#4737596">d</a></span><span class="op" id="4737836">.</span><span class="ident" id="4737837">data</span><span class="op" id="4737841">[</span><span class="ident" id="4737842"><a href="/encoding/json/decode.go.html#4737698">start</a></span><span class="op" id="4737847">:</span><span class="ident" id="4737848"><a href="/encoding/json/decode.go.html#4737596">d</a></span><span class="op" id="4737849">.</span><span class="ident" id="4737850">off</span><span class="op" id="4737853">]</span><span class="op" id="4737854">,</span>&nbsp;<span class="ident" id="4737856"><a href="/encoding/json/decode.go.html#4737620">v</a></span><span class="op" id="4737857">,</span>&nbsp;<span class="builtintype" id="4737859">false</span><span class="op" id="4737864">)</span><br>
<span class="lineno"></span><span class="op" id="4737866">}</span><br>
<span class="lineno">640</span><br>
<span class="lineno"></span><span class="comment" id="4737869">//&nbsp;convertNumber&nbsp;converts&nbsp;the&nbsp;number&nbsp;literal&nbsp;s&nbsp;to&nbsp;a&nbsp;float64&nbsp;or&nbsp;a&nbsp;Number</span><br>
<span class="lineno"></span><span class="comment" id="4737941">//&nbsp;depending&nbsp;on&nbsp;the&nbsp;setting&nbsp;of&nbsp;d.useNumber.</span><br>
<span class="lineno"></span><span class="keyword" id="4737985">func</span>&nbsp;<span class="op" id="4737990">(</span><span class="ident" id="4737991">d</span>&nbsp;<span class="op" id="4737993">*</span><span class="ident" id="4737994"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4738005">)</span>&nbsp;<span class="ident" id="4738007">convertNumber</span><span class="op" id="4738020">(</span><span class="ident" id="4738021">s</span>&nbsp;<span class="builtintype" id="4738023">string</span><span class="op" id="4738029">)</span>&nbsp;<span class="op" id="4738031">(</span><span class="keyword" id="4738032">interface</span><span class="op" id="4738041">{</span><span class="op" id="4738042">}</span><span class="op" id="4738043">,</span>&nbsp;<span class="builtintype" id="4738045">error</span><span class="op" id="4738050">)</span>&nbsp;<span class="op" id="4738052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738055">if</span>&nbsp;<span class="ident" id="4738058"><a href="/encoding/json/decode.go.html#4737991">d</a></span><span class="op" id="4738059">.</span><span class="ident" id="4738060">useNumber</span>&nbsp;<span class="op" id="4738070">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738074">return</span>&nbsp;<span class="ident" id="4738081"><a href="/encoding/json/decode.go.html#4726450">Number</a></span><span class="op" id="4738087">(</span><span class="ident" id="4738088"><a href="/encoding/json/decode.go.html#4738021">s</a></span><span class="op" id="4738089">)</span><span class="op" id="4738090">,</span>&nbsp;<span class="ident" id="4738092">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738100">f</span><span class="op" id="4738101">,</span>&nbsp;<span class="ident" id="4738103">err</span>&nbsp;<span class="op" id="4738107">:=</span>&nbsp;<span class="ident" id="4738110"><a href="/encoding/json/decode.go.html#4721950">strconv</a></span><span class="op" id="4738117">.</span><span class="ident" id="4738118">ParseFloat</span><span class="op" id="4738128">(</span><span class="ident" id="4738129"><a href="/encoding/json/decode.go.html#4738021">s</a></span><span class="op" id="4738130">,</span>&nbsp;<span class="num" id="4738132">64</span><span class="op" id="4738134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738137">if</span>&nbsp;<span class="ident" id="4738140"><a href="/encoding/json/decode.go.html#4738103">err</a></span>&nbsp;<span class="op" id="4738144">!=</span>&nbsp;<span class="ident" id="4738147">nil</span>&nbsp;<span class="op" id="4738151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738155">return</span>&nbsp;<span class="ident" id="4738162">nil</span><span class="op" id="4738165">,</span>&nbsp;<span class="op" id="4738167">&amp;</span><span class="ident" id="4738168"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4738186">{</span><span class="string" id="4738187">&#34;number&nbsp;&#34;</span>&nbsp;<span class="op" id="4738197">+</span>&nbsp;<span class="ident" id="4738199"><a href="/encoding/json/decode.go.html#4738021">s</a></span><span class="op" id="4738200">,</span>&nbsp;<span class="ident" id="4738202"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4738209">.</span><span class="ident" id="4738210">TypeOf</span><span class="op" id="4738216">(</span><span class="num" id="4738217">0.0</span><span class="op" id="4738220">)</span><span class="op" id="4738221">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738227">return</span>&nbsp;<span class="ident" id="4738234"><a href="/encoding/json/decode.go.html#4738100">f</a></span><span class="op" id="4738235">,</span>&nbsp;<span class="ident" id="4738237">nil</span><br>
<span class="lineno"></span><span class="op" id="4738241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4738244">var</span>&nbsp;<span class="ident" id="4738248">numberType</span>&nbsp;<span class="op" id="4738259">=</span>&nbsp;<span class="ident" id="4738261"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4738268">.</span><span class="ident" id="4738269">TypeOf</span><span class="op" id="4738275">(</span><span class="ident" id="4738276"><a href="/encoding/json/decode.go.html#4726450">Number</a></span><span class="op" id="4738282">(</span><span class="string" id="4738283">&#34;&#34;</span><span class="op" id="4738285">)</span><span class="op" id="4738286">)</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="comment" id="4738289">//&nbsp;literalStore&nbsp;decodes&nbsp;a&nbsp;literal&nbsp;stored&nbsp;in&nbsp;item&nbsp;into&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="4738346">//</span><br>
<span class="lineno"></span><span class="comment" id="4738349">//&nbsp;fromQuoted&nbsp;indicates&nbsp;whether&nbsp;this&nbsp;literal&nbsp;came&nbsp;from&nbsp;unwrapping&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4738417">//&nbsp;string&nbsp;from&nbsp;the&nbsp;&#34;,string&#34;&nbsp;struct&nbsp;tag&nbsp;option.&nbsp;this&nbsp;is&nbsp;used&nbsp;only&nbsp;to</span><br>
<span class="lineno">660</span><span class="comment" id="4738486">//&nbsp;produce&nbsp;more&nbsp;helpful&nbsp;error&nbsp;messages.</span><br>
<span class="lineno"></span><span class="keyword" id="4738526">func</span>&nbsp;<span class="op" id="4738531">(</span><span class="ident" id="4738532">d</span>&nbsp;<span class="op" id="4738534">*</span><span class="ident" id="4738535"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4738546">)</span>&nbsp;<span class="ident" id="4738548">literalStore</span><span class="op" id="4738560">(</span><span class="ident" id="4738561">item</span>&nbsp;<span class="op" id="4738566">[</span><span class="op" id="4738567">]</span><span class="builtintype" id="4738568">byte</span><span class="op" id="4738572">,</span>&nbsp;<span class="ident" id="4738574">v</span>&nbsp;<span class="ident" id="4738576"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4738583">.</span><span class="ident" id="4738584">Value</span><span class="op" id="4738589">,</span>&nbsp;<span class="ident" id="4738591">fromQuoted</span>&nbsp;<span class="builtintype" id="4738602">bool</span><span class="op" id="4738606">)</span>&nbsp;<span class="op" id="4738608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4738611">//&nbsp;Check&nbsp;for&nbsp;unmarshaler.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738638">if</span>&nbsp;<span class="builtinfunc" id="4738641">len</span><span class="op" id="4738644">(</span><span class="ident" id="4738645"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4738649">)</span>&nbsp;<span class="op" id="4738651">==</span>&nbsp;<span class="num" id="4738654">0</span>&nbsp;<span class="op" id="4738656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4738660">//Empty&nbsp;string&nbsp;given</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738683"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4738684">.</span><span class="ident" id="4738685">saveError</span><span class="op" id="4738694">(</span><span class="ident" id="4738695"><a href="/encoding/json/decode.go.html#4721921">fmt</a></span><span class="op" id="4738698">.</span><span class="ident" id="4738699">Errorf</span><span class="op" id="4738705">(</span><span class="string" id="4738706">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="4738779">,</span>&nbsp;<span class="ident" id="4738781"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4738785">,</span>&nbsp;<span class="ident" id="4738787"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4738788">.</span><span class="ident" id="4738789">Type</span><span class="op" id="4738793">(</span><span class="op" id="4738794">)</span><span class="op" id="4738795">)</span><span class="op" id="4738796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738800">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738811">wantptr</span>&nbsp;<span class="op" id="4738819">:=</span>&nbsp;<span class="ident" id="4738822"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4738826">[</span><span class="num" id="4738827">0</span><span class="op" id="4738828">]</span>&nbsp;<span class="op" id="4738830">==</span>&nbsp;<span class="string" id="4738833">&#39;n&#39;</span>&nbsp;<span class="comment" id="4738837">//&nbsp;null</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738846">u</span><span class="op" id="4738847">,</span>&nbsp;<span class="ident" id="4738849">ut</span><span class="op" id="4738851">,</span>&nbsp;<span class="ident" id="4738853">pv</span>&nbsp;<span class="op" id="4738856">:=</span>&nbsp;<span class="ident" id="4738859"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4738860">.</span><span class="ident" id="4738861">indirect</span><span class="op" id="4738869">(</span><span class="ident" id="4738870"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4738871">,</span>&nbsp;<span class="ident" id="4738873"><a href="/encoding/json/decode.go.html#4738811">wantptr</a></span><span class="op" id="4738880">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738883">if</span>&nbsp;<span class="ident" id="4738886"><a href="/encoding/json/decode.go.html#4738846">u</a></span>&nbsp;<span class="op" id="4738888">!=</span>&nbsp;<span class="ident" id="4738891">nil</span>&nbsp;<span class="op" id="4738895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738899">err</span>&nbsp;<span class="op" id="4738903">:=</span>&nbsp;<span class="ident" id="4738906"><a href="/encoding/json/decode.go.html#4738846">u</a></span><span class="op" id="4738907">.</span><span class="ident" id="4738908">UnmarshalJSON</span><span class="op" id="4738921">(</span><span class="ident" id="4738922"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4738926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738930">if</span>&nbsp;<span class="ident" id="4738933"><a href="/encoding/json/decode.go.html#4738899">err</a></span>&nbsp;<span class="op" id="4738937">!=</span>&nbsp;<span class="ident" id="4738940">nil</span>&nbsp;<span class="op" id="4738944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4738949"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4738950">.</span><span class="builtintype" id="4738951">error</span><span class="op" id="4738956">(</span><span class="ident" id="4738957"><a href="/encoding/json/decode.go.html#4738899">err</a></span><span class="op" id="4738960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738964">}</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738968">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4738976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738979">if</span>&nbsp;<span class="ident" id="4738982"><a href="/encoding/json/decode.go.html#4738849">ut</a></span>&nbsp;<span class="op" id="4738985">!=</span>&nbsp;<span class="ident" id="4738988">nil</span>&nbsp;<span class="op" id="4738992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4738996">if</span>&nbsp;<span class="ident" id="4738999"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4739003">[</span><span class="num" id="4739004">0</span><span class="op" id="4739005">]</span>&nbsp;<span class="op" id="4739007">!=</span>&nbsp;<span class="string" id="4739010">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="4739014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739019">if</span>&nbsp;<span class="ident" id="4739022"><a href="/encoding/json/decode.go.html#4738591">fromQuoted</a></span>&nbsp;<span class="op" id="4739033">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739039"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4739040">.</span><span class="ident" id="4739041">saveError</span><span class="op" id="4739050">(</span><span class="ident" id="4739051"><a href="/encoding/json/decode.go.html#4721921">fmt</a></span><span class="op" id="4739054">.</span><span class="ident" id="4739055">Errorf</span><span class="op" id="4739061">(</span><span class="string" id="4739062">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="4739135">,</span>&nbsp;<span class="ident" id="4739137"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4739141">,</span>&nbsp;<span class="ident" id="4739143"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4739144">.</span><span class="ident" id="4739145">Type</span><span class="op" id="4739149">(</span><span class="op" id="4739150">)</span><span class="op" id="4739151">)</span><span class="op" id="4739152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739157">}</span>&nbsp;<span class="keyword" id="4739159">else</span>&nbsp;<span class="op" id="4739164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739170"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4739171">.</span><span class="ident" id="4739172">saveError</span><span class="op" id="4739181">(</span><span class="op" id="4739182">&amp;</span><span class="ident" id="4739183"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4739201">{</span><span class="string" id="4739202">&#34;string&#34;</span><span class="op" id="4739210">,</span>&nbsp;<span class="ident" id="4739212"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4739213">.</span><span class="ident" id="4739214">Type</span><span class="op" id="4739218">(</span><span class="op" id="4739219">)</span><span class="op" id="4739220">}</span><span class="op" id="4739221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739230">}</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739234">s</span><span class="op" id="4739235">,</span>&nbsp;<span class="ident" id="4739237">ok</span>&nbsp;<span class="op" id="4739240">:=</span>&nbsp;<span class="ident" id="4739243"><a href="/encoding/json/decode.go.html#4746060">unquoteBytes</a></span><span class="op" id="4739255">(</span><span class="ident" id="4739256"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4739260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739264">if</span>&nbsp;<span class="op" id="4739267">!</span><span class="ident" id="4739268"><a href="/encoding/json/decode.go.html#4739237">ok</a></span>&nbsp;<span class="op" id="4739271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739276">if</span>&nbsp;<span class="ident" id="4739279"><a href="/encoding/json/decode.go.html#4738591">fromQuoted</a></span>&nbsp;<span class="op" id="4739290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739296"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4739297">.</span><span class="builtintype" id="4739298">error</span><span class="op" id="4739303">(</span><span class="ident" id="4739304"><a href="/encoding/json/decode.go.html#4721921">fmt</a></span><span class="op" id="4739307">.</span><span class="ident" id="4739308">Errorf</span><span class="op" id="4739314">(</span><span class="string" id="4739315">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="4739388">,</span>&nbsp;<span class="ident" id="4739390"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4739394">,</span>&nbsp;<span class="ident" id="4739396"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4739397">.</span><span class="ident" id="4739398">Type</span><span class="op" id="4739402">(</span><span class="op" id="4739403">)</span><span class="op" id="4739404">)</span><span class="op" id="4739405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739410">}</span>&nbsp;<span class="keyword" id="4739412">else</span>&nbsp;<span class="op" id="4739417">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739423"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4739424">.</span><span class="builtintype" id="4739425">error</span><span class="op" id="4739430">(</span><span class="ident" id="4739431"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4739439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739452">err</span>&nbsp;<span class="op" id="4739456">:=</span>&nbsp;<span class="ident" id="4739459"><a href="/encoding/json/decode.go.html#4738849">ut</a></span><span class="op" id="4739461">.</span><span class="ident" id="4739462">UnmarshalText</span><span class="op" id="4739475">(</span><span class="ident" id="4739476"><a href="/encoding/json/decode.go.html#4739234">s</a></span><span class="op" id="4739477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739481">if</span>&nbsp;<span class="ident" id="4739484"><a href="/encoding/json/decode.go.html#4739452">err</a></span>&nbsp;<span class="op" id="4739488">!=</span>&nbsp;<span class="ident" id="4739491">nil</span>&nbsp;<span class="op" id="4739495">{</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739500"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4739501">.</span><span class="builtintype" id="4739502">error</span><span class="op" id="4739507">(</span><span class="ident" id="4739508"><a href="/encoding/json/decode.go.html#4739452">err</a></span><span class="op" id="4739511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739519">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739531"><a href="/encoding/json/decode.go.html#4738574">v</a></span>&nbsp;<span class="op" id="4739533">=</span>&nbsp;<span class="ident" id="4739535"><a href="/encoding/json/decode.go.html#4738853">pv</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739540">switch</span>&nbsp;<span class="ident" id="4739547">c</span>&nbsp;<span class="op" id="4739549">:=</span>&nbsp;<span class="ident" id="4739552"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4739556">[</span><span class="num" id="4739557">0</span><span class="op" id="4739558">]</span><span class="op" id="4739559">;</span>&nbsp;<span class="ident" id="4739561"><a href="/encoding/json/decode.go.html#4739547">c</a></span>&nbsp;<span class="op" id="4739563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739566">case</span>&nbsp;<span class="string" id="4739571">&#39;n&#39;</span><span class="op" id="4739574">:</span>&nbsp;<span class="comment" id="4739576">//&nbsp;null</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739586">switch</span>&nbsp;<span class="ident" id="4739593"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4739594">.</span><span class="ident" id="4739595">Kind</span><span class="op" id="4739599">(</span><span class="op" id="4739600">)</span>&nbsp;<span class="op" id="4739602">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739606">case</span>&nbsp;<span class="ident" id="4739611"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4739618">.</span><span class="ident" id="4739619">Interface</span><span class="op" id="4739628">,</span>&nbsp;<span class="ident" id="4739630"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4739637">.</span><span class="ident" id="4739638">Ptr</span><span class="op" id="4739641">,</span>&nbsp;<span class="ident" id="4739643"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4739650">.</span><span class="ident" id="4739651">Map</span><span class="op" id="4739654">,</span>&nbsp;<span class="ident" id="4739656"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4739663">.</span><span class="ident" id="4739664">Slice</span><span class="op" id="4739669">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739674"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4739675">.</span><span class="ident" id="4739676">Set</span><span class="op" id="4739679">(</span><span class="ident" id="4739680"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4739687">.</span><span class="ident" id="4739688">Zero</span><span class="op" id="4739692">(</span><span class="ident" id="4739693"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4739694">.</span><span class="ident" id="4739695">Type</span><span class="op" id="4739699">(</span><span class="op" id="4739700">)</span><span class="op" id="4739701">)</span><span class="op" id="4739702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4739707">//&nbsp;otherwise,&nbsp;ignore&nbsp;null&nbsp;for&nbsp;primitives/string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739760">case</span>&nbsp;<span class="string" id="4739765">&#39;t&#39;</span><span class="op" id="4739768">,</span>&nbsp;<span class="string" id="4739770">&#39;f&#39;</span><span class="op" id="4739773">:</span>&nbsp;<span class="comment" id="4739775">//&nbsp;true,&nbsp;false</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739792">value</span>&nbsp;<span class="op" id="4739798">:=</span>&nbsp;<span class="ident" id="4739801"><a href="/encoding/json/decode.go.html#4739547">c</a></span>&nbsp;<span class="op" id="4739803">==</span>&nbsp;<span class="string" id="4739806">&#39;t&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739812">switch</span>&nbsp;<span class="ident" id="4739819"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4739820">.</span><span class="ident" id="4739821">Kind</span><span class="op" id="4739825">(</span><span class="op" id="4739826">)</span>&nbsp;<span class="op" id="4739828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739832">default</span><span class="op" id="4739839">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4739844">if</span>&nbsp;<span class="ident" id="4739847"><a href="/encoding/json/decode.go.html#4738591">fromQuoted</a></span>&nbsp;<span class="op" id="4739858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739864"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4739865">.</span><span class="ident" id="4739866">saveError</span><span class="op" id="4739875">(</span><span class="ident" id="4739876"><a href="/encoding/json/decode.go.html#4721921">fmt</a></span><span class="op" id="4739879">.</span><span class="ident" id="4739880">Errorf</span><span class="op" id="4739886">(</span><span class="string" id="4739887">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="4739960">,</span>&nbsp;<span class="ident" id="4739962"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4739966">,</span>&nbsp;<span class="ident" id="4739968"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4739969">.</span><span class="ident" id="4739970">Type</span><span class="op" id="4739974">(</span><span class="op" id="4739975">)</span><span class="op" id="4739976">)</span><span class="op" id="4739977">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4739982">}</span>&nbsp;<span class="keyword" id="4739984">else</span>&nbsp;<span class="op" id="4739989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4739995"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4739996">.</span><span class="ident" id="4739997">saveError</span><span class="op" id="4740006">(</span><span class="op" id="4740007">&amp;</span><span class="ident" id="4740008"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4740026">{</span><span class="string" id="4740027">&#34;bool&#34;</span><span class="op" id="4740033">,</span>&nbsp;<span class="ident" id="4740035"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740036">.</span><span class="ident" id="4740037">Type</span><span class="op" id="4740041">(</span><span class="op" id="4740042">)</span><span class="op" id="4740043">}</span><span class="op" id="4740044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740053">case</span>&nbsp;<span class="ident" id="4740058"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4740065">.</span><span class="ident" id="4740066">Bool</span><span class="op" id="4740070">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740075"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740076">.</span><span class="ident" id="4740077">SetBool</span><span class="op" id="4740084">(</span><span class="ident" id="4740085"><a href="/encoding/json/decode.go.html#4739792">value</a></span><span class="op" id="4740090">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740094">case</span>&nbsp;<span class="ident" id="4740099"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4740106">.</span><span class="ident" id="4740107">Interface</span><span class="op" id="4740116">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740121">if</span>&nbsp;<span class="ident" id="4740124"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740125">.</span><span class="ident" id="4740126">NumMethod</span><span class="op" id="4740135">(</span><span class="op" id="4740136">)</span>&nbsp;<span class="op" id="4740138">==</span>&nbsp;<span class="num" id="4740141">0</span>&nbsp;<span class="op" id="4740143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740149"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740150">.</span><span class="ident" id="4740151">Set</span><span class="op" id="4740154">(</span><span class="ident" id="4740155"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4740162">.</span><span class="ident" id="4740163">ValueOf</span><span class="op" id="4740170">(</span><span class="ident" id="4740171"><a href="/encoding/json/decode.go.html#4739792">value</a></span><span class="op" id="4740176">)</span><span class="op" id="4740177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740182">}</span>&nbsp;<span class="keyword" id="4740184">else</span>&nbsp;<span class="op" id="4740189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740195"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4740196">.</span><span class="ident" id="4740197">saveError</span><span class="op" id="4740206">(</span><span class="op" id="4740207">&amp;</span><span class="ident" id="4740208"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4740226">{</span><span class="string" id="4740227">&#34;bool&#34;</span><span class="op" id="4740233">,</span>&nbsp;<span class="ident" id="4740235"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740236">.</span><span class="ident" id="4740237">Type</span><span class="op" id="4740241">(</span><span class="op" id="4740242">)</span><span class="op" id="4740243">}</span><span class="op" id="4740244">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740257">case</span>&nbsp;<span class="string" id="4740262">&#39;&#34;&#39;</span><span class="op" id="4740265">:</span>&nbsp;<span class="comment" id="4740267">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740279">s</span><span class="op" id="4740280">,</span>&nbsp;<span class="ident" id="4740282">ok</span>&nbsp;<span class="op" id="4740285">:=</span>&nbsp;<span class="ident" id="4740288"><a href="/encoding/json/decode.go.html#4746060">unquoteBytes</a></span><span class="op" id="4740300">(</span><span class="ident" id="4740301"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4740305">)</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740309">if</span>&nbsp;<span class="op" id="4740312">!</span><span class="ident" id="4740313"><a href="/encoding/json/decode.go.html#4740282">ok</a></span>&nbsp;<span class="op" id="4740316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740321">if</span>&nbsp;<span class="ident" id="4740324"><a href="/encoding/json/decode.go.html#4738591">fromQuoted</a></span>&nbsp;<span class="op" id="4740335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740341"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4740342">.</span><span class="builtintype" id="4740343">error</span><span class="op" id="4740348">(</span><span class="ident" id="4740349"><a href="/encoding/json/decode.go.html#4721921">fmt</a></span><span class="op" id="4740352">.</span><span class="ident" id="4740353">Errorf</span><span class="op" id="4740359">(</span><span class="string" id="4740360">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="4740433">,</span>&nbsp;<span class="ident" id="4740435"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4740439">,</span>&nbsp;<span class="ident" id="4740441"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740442">.</span><span class="ident" id="4740443">Type</span><span class="op" id="4740447">(</span><span class="op" id="4740448">)</span><span class="op" id="4740449">)</span><span class="op" id="4740450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740455">}</span>&nbsp;<span class="keyword" id="4740457">else</span>&nbsp;<span class="op" id="4740462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740468"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4740469">.</span><span class="builtintype" id="4740470">error</span><span class="op" id="4740475">(</span><span class="ident" id="4740476"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4740484">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740497">switch</span>&nbsp;<span class="ident" id="4740504"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740505">.</span><span class="ident" id="4740506">Kind</span><span class="op" id="4740510">(</span><span class="op" id="4740511">)</span>&nbsp;<span class="op" id="4740513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740517">default</span><span class="op" id="4740524">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740529"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4740530">.</span><span class="ident" id="4740531">saveError</span><span class="op" id="4740540">(</span><span class="op" id="4740541">&amp;</span><span class="ident" id="4740542"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4740560">{</span><span class="string" id="4740561">&#34;string&#34;</span><span class="op" id="4740569">,</span>&nbsp;<span class="ident" id="4740571"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740572">.</span><span class="ident" id="4740573">Type</span><span class="op" id="4740577">(</span><span class="op" id="4740578">)</span><span class="op" id="4740579">}</span><span class="op" id="4740580">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740584">case</span>&nbsp;<span class="ident" id="4740589"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4740596">.</span><span class="ident" id="4740597">Slice</span><span class="op" id="4740602">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740607">if</span>&nbsp;<span class="ident" id="4740610"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740611">.</span><span class="ident" id="4740612">Type</span><span class="op" id="4740616">(</span><span class="op" id="4740617">)</span>&nbsp;<span class="op" id="4740619">!=</span>&nbsp;<span class="ident" id="4740622"><a href="/encoding/json/encode.go.html#4757165">byteSliceType</a></span>&nbsp;<span class="op" id="4740636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740642"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4740643">.</span><span class="ident" id="4740644">saveError</span><span class="op" id="4740653">(</span><span class="op" id="4740654">&amp;</span><span class="ident" id="4740655"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4740673">{</span><span class="string" id="4740674">&#34;string&#34;</span><span class="op" id="4740682">,</span>&nbsp;<span class="ident" id="4740684"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740685">.</span><span class="ident" id="4740686">Type</span><span class="op" id="4740690">(</span><span class="op" id="4740691">)</span><span class="op" id="4740692">}</span><span class="op" id="4740693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740699">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740708">}</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740713">b</span>&nbsp;<span class="op" id="4740715">:=</span>&nbsp;<span class="builtinfunc" id="4740718">make</span><span class="op" id="4740722">(</span><span class="op" id="4740723">[</span><span class="op" id="4740724">]</span><span class="builtintype" id="4740725">byte</span><span class="op" id="4740729">,</span>&nbsp;<span class="ident" id="4740731"><a href="/encoding/json/decode.go.html#4721892">base64</a></span><span class="op" id="4740737">.</span><span class="ident" id="4740738">StdEncoding</span><span class="op" id="4740749">.</span><span class="ident" id="4740750">DecodedLen</span><span class="op" id="4740760">(</span><span class="builtinfunc" id="4740761">len</span><span class="op" id="4740764">(</span><span class="ident" id="4740765"><a href="/encoding/json/decode.go.html#4740279">s</a></span><span class="op" id="4740766">)</span><span class="op" id="4740767">)</span><span class="op" id="4740768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740773">n</span><span class="op" id="4740774">,</span>&nbsp;<span class="ident" id="4740776">err</span>&nbsp;<span class="op" id="4740780">:=</span>&nbsp;<span class="ident" id="4740783"><a href="/encoding/json/decode.go.html#4721892">base64</a></span><span class="op" id="4740789">.</span><span class="ident" id="4740790">StdEncoding</span><span class="op" id="4740801">.</span><span class="ident" id="4740802">Decode</span><span class="op" id="4740808">(</span><span class="ident" id="4740809"><a href="/encoding/json/decode.go.html#4740713">b</a></span><span class="op" id="4740810">,</span>&nbsp;<span class="ident" id="4740812"><a href="/encoding/json/decode.go.html#4740279">s</a></span><span class="op" id="4740813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740818">if</span>&nbsp;<span class="ident" id="4740821"><a href="/encoding/json/decode.go.html#4740776">err</a></span>&nbsp;<span class="op" id="4740825">!=</span>&nbsp;<span class="ident" id="4740828">nil</span>&nbsp;<span class="op" id="4740832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740838"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4740839">.</span><span class="ident" id="4740840">saveError</span><span class="op" id="4740849">(</span><span class="ident" id="4740850"><a href="/encoding/json/decode.go.html#4740776">err</a></span><span class="op" id="4740853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740859">break</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4740868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740873"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740874">.</span><span class="ident" id="4740875">Set</span><span class="op" id="4740878">(</span><span class="ident" id="4740879"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4740886">.</span><span class="ident" id="4740887">ValueOf</span><span class="op" id="4740894">(</span><span class="ident" id="4740895"><a href="/encoding/json/decode.go.html#4740713">b</a></span><span class="op" id="4740896">[</span><span class="num" id="4740897">0</span><span class="op" id="4740898">:</span><span class="ident" id="4740899"><a href="/encoding/json/decode.go.html#4740773">n</a></span><span class="op" id="4740900">]</span><span class="op" id="4740901">)</span><span class="op" id="4740902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740906">case</span>&nbsp;<span class="ident" id="4740911"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4740918">.</span><span class="ident" id="4740919">String</span><span class="op" id="4740925">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4740930"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740931">.</span><span class="ident" id="4740932">SetString</span><span class="op" id="4740941">(</span><span class="builtintype" id="4740942">string</span><span class="op" id="4740948">(</span><span class="ident" id="4740949"><a href="/encoding/json/decode.go.html#4740279">s</a></span><span class="op" id="4740950">)</span><span class="op" id="4740951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740955">case</span>&nbsp;<span class="ident" id="4740960"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4740967">.</span><span class="ident" id="4740968">Interface</span><span class="op" id="4740977">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4740982">if</span>&nbsp;<span class="ident" id="4740985"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4740986">.</span><span class="ident" id="4740987">NumMethod</span><span class="op" id="4740996">(</span><span class="op" id="4740997">)</span>&nbsp;<span class="op" id="4740999">==</span>&nbsp;<span class="num" id="4741002">0</span>&nbsp;<span class="op" id="4741004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741010"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741011">.</span><span class="ident" id="4741012">Set</span><span class="op" id="4741015">(</span><span class="ident" id="4741016"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4741023">.</span><span class="ident" id="4741024">ValueOf</span><span class="op" id="4741031">(</span><span class="builtintype" id="4741032">string</span><span class="op" id="4741038">(</span><span class="ident" id="4741039"><a href="/encoding/json/decode.go.html#4740279">s</a></span><span class="op" id="4741040">)</span><span class="op" id="4741041">)</span><span class="op" id="4741042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741047">}</span>&nbsp;<span class="keyword" id="4741049">else</span>&nbsp;<span class="op" id="4741054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741060"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4741061">.</span><span class="ident" id="4741062">saveError</span><span class="op" id="4741071">(</span><span class="op" id="4741072">&amp;</span><span class="ident" id="4741073"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4741091">{</span><span class="string" id="4741092">&#34;string&#34;</span><span class="op" id="4741100">,</span>&nbsp;<span class="ident" id="4741102"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741103">.</span><span class="ident" id="4741104">Type</span><span class="op" id="4741108">(</span><span class="op" id="4741109">)</span><span class="op" id="4741110">}</span><span class="op" id="4741111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741116">}</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741120">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741124">default</span><span class="op" id="4741131">:</span>&nbsp;<span class="comment" id="4741133">//&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741145">if</span>&nbsp;<span class="ident" id="4741148"><a href="/encoding/json/decode.go.html#4739547">c</a></span>&nbsp;<span class="op" id="4741150">!=</span>&nbsp;<span class="string" id="4741153">&#39;-&#39;</span>&nbsp;<span class="op" id="4741157">&amp;&amp;</span>&nbsp;<span class="op" id="4741160">(</span><span class="ident" id="4741161"><a href="/encoding/json/decode.go.html#4739547">c</a></span>&nbsp;<span class="op" id="4741163">&lt;</span>&nbsp;<span class="string" id="4741165">&#39;0&#39;</span>&nbsp;<span class="op" id="4741169">||</span>&nbsp;<span class="ident" id="4741172"><a href="/encoding/json/decode.go.html#4739547">c</a></span>&nbsp;<span class="op" id="4741174">&gt;</span>&nbsp;<span class="string" id="4741176">&#39;9&#39;</span><span class="op" id="4741179">)</span>&nbsp;<span class="op" id="4741181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741186">if</span>&nbsp;<span class="ident" id="4741189"><a href="/encoding/json/decode.go.html#4738591">fromQuoted</a></span>&nbsp;<span class="op" id="4741200">{</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741206"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4741207">.</span><span class="builtintype" id="4741208">error</span><span class="op" id="4741213">(</span><span class="ident" id="4741214"><a href="/encoding/json/decode.go.html#4721921">fmt</a></span><span class="op" id="4741217">.</span><span class="ident" id="4741218">Errorf</span><span class="op" id="4741224">(</span><span class="string" id="4741225">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="4741298">,</span>&nbsp;<span class="ident" id="4741300"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4741304">,</span>&nbsp;<span class="ident" id="4741306"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741307">.</span><span class="ident" id="4741308">Type</span><span class="op" id="4741312">(</span><span class="op" id="4741313">)</span><span class="op" id="4741314">)</span><span class="op" id="4741315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741320">}</span>&nbsp;<span class="keyword" id="4741322">else</span>&nbsp;<span class="op" id="4741327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741333"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4741334">.</span><span class="builtintype" id="4741335">error</span><span class="op" id="4741340">(</span><span class="ident" id="4741341"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4741349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741358">}</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741362">s</span>&nbsp;<span class="op" id="4741364">:=</span>&nbsp;<span class="builtintype" id="4741367">string</span><span class="op" id="4741373">(</span><span class="ident" id="4741374"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4741378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741382">switch</span>&nbsp;<span class="ident" id="4741389"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741390">.</span><span class="ident" id="4741391">Kind</span><span class="op" id="4741395">(</span><span class="op" id="4741396">)</span>&nbsp;<span class="op" id="4741398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741402">default</span><span class="op" id="4741409">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741414">if</span>&nbsp;<span class="ident" id="4741417"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741418">.</span><span class="ident" id="4741419">Kind</span><span class="op" id="4741423">(</span><span class="op" id="4741424">)</span>&nbsp;<span class="op" id="4741426">==</span>&nbsp;<span class="ident" id="4741429"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4741436">.</span><span class="ident" id="4741437">String</span>&nbsp;<span class="op" id="4741444">&amp;&amp;</span>&nbsp;<span class="ident" id="4741447"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741448">.</span><span class="ident" id="4741449">Type</span><span class="op" id="4741453">(</span><span class="op" id="4741454">)</span>&nbsp;<span class="op" id="4741456">==</span>&nbsp;<span class="ident" id="4741459"><a href="/encoding/json/decode.go.html#4738248">numberType</a></span>&nbsp;<span class="op" id="4741470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741476"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741477">.</span><span class="ident" id="4741478">SetString</span><span class="op" id="4741487">(</span><span class="ident" id="4741488"><a href="/encoding/json/decode.go.html#4741362">s</a></span><span class="op" id="4741489">)</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741495">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741509">if</span>&nbsp;<span class="ident" id="4741512"><a href="/encoding/json/decode.go.html#4738591">fromQuoted</a></span>&nbsp;<span class="op" id="4741523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741529"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4741530">.</span><span class="builtintype" id="4741531">error</span><span class="op" id="4741536">(</span><span class="ident" id="4741537"><a href="/encoding/json/decode.go.html#4721921">fmt</a></span><span class="op" id="4741540">.</span><span class="ident" id="4741541">Errorf</span><span class="op" id="4741547">(</span><span class="string" id="4741548">&#34;json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;%v&#34;</span><span class="op" id="4741621">,</span>&nbsp;<span class="ident" id="4741623"><a href="/encoding/json/decode.go.html#4738561">item</a></span><span class="op" id="4741627">,</span>&nbsp;<span class="ident" id="4741629"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741630">.</span><span class="ident" id="4741631">Type</span><span class="op" id="4741635">(</span><span class="op" id="4741636">)</span><span class="op" id="4741637">)</span><span class="op" id="4741638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741643">}</span>&nbsp;<span class="keyword" id="4741645">else</span>&nbsp;<span class="op" id="4741650">{</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741656"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4741657">.</span><span class="builtintype" id="4741658">error</span><span class="op" id="4741663">(</span><span class="op" id="4741664">&amp;</span><span class="ident" id="4741665"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4741683">{</span><span class="string" id="4741684">&#34;number&#34;</span><span class="op" id="4741692">,</span>&nbsp;<span class="ident" id="4741694"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741695">.</span><span class="ident" id="4741696">Type</span><span class="op" id="4741700">(</span><span class="op" id="4741701">)</span><span class="op" id="4741702">}</span><span class="op" id="4741703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741712">case</span>&nbsp;<span class="ident" id="4741717"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4741724">.</span><span class="ident" id="4741725">Interface</span><span class="op" id="4741734">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741739">n</span><span class="op" id="4741740">,</span>&nbsp;<span class="ident" id="4741742">err</span>&nbsp;<span class="op" id="4741746">:=</span>&nbsp;<span class="ident" id="4741749"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4741750">.</span><span class="ident" id="4741751">convertNumber</span><span class="op" id="4741764">(</span><span class="ident" id="4741765"><a href="/encoding/json/decode.go.html#4741362">s</a></span><span class="op" id="4741766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741771">if</span>&nbsp;<span class="ident" id="4741774"><a href="/encoding/json/decode.go.html#4741742">err</a></span>&nbsp;<span class="op" id="4741778">!=</span>&nbsp;<span class="ident" id="4741781">nil</span>&nbsp;<span class="op" id="4741785">{</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741791"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4741792">.</span><span class="ident" id="4741793">saveError</span><span class="op" id="4741802">(</span><span class="ident" id="4741803"><a href="/encoding/json/decode.go.html#4741742">err</a></span><span class="op" id="4741806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741812">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741826">if</span>&nbsp;<span class="ident" id="4741829"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741830">.</span><span class="ident" id="4741831">NumMethod</span><span class="op" id="4741840">(</span><span class="op" id="4741841">)</span>&nbsp;<span class="op" id="4741843">!=</span>&nbsp;<span class="num" id="4741846">0</span>&nbsp;<span class="op" id="4741848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741854"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4741855">.</span><span class="ident" id="4741856">saveError</span><span class="op" id="4741865">(</span><span class="op" id="4741866">&amp;</span><span class="ident" id="4741867"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4741885">{</span><span class="string" id="4741886">&#34;number&#34;</span><span class="op" id="4741894">,</span>&nbsp;<span class="ident" id="4741896"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741897">.</span><span class="ident" id="4741898">Type</span><span class="op" id="4741902">(</span><span class="op" id="4741903">)</span><span class="op" id="4741904">}</span><span class="op" id="4741905">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741911">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4741920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4741925"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4741926">.</span><span class="ident" id="4741927">Set</span><span class="op" id="4741930">(</span><span class="ident" id="4741931"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4741938">.</span><span class="ident" id="4741939">ValueOf</span><span class="op" id="4741946">(</span><span class="ident" id="4741947"><a href="/encoding/json/decode.go.html#4741739">n</a></span><span class="op" id="4741948">)</span><span class="op" id="4741949">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4741954">case</span>&nbsp;<span class="ident" id="4741959"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4741966">.</span><span class="ident" id="4741967">Int</span><span class="op" id="4741970">,</span>&nbsp;<span class="ident" id="4741972"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4741979">.</span><span class="ident" id="4741980">Int8</span><span class="op" id="4741984">,</span>&nbsp;<span class="ident" id="4741986"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4741993">.</span><span class="ident" id="4741994">Int16</span><span class="op" id="4741999">,</span>&nbsp;<span class="ident" id="4742001"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742008">.</span><span class="ident" id="4742009">Int32</span><span class="op" id="4742014">,</span>&nbsp;<span class="ident" id="4742016"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742023">.</span><span class="ident" id="4742024">Int64</span><span class="op" id="4742029">:</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4742034">n</span><span class="op" id="4742035">,</span>&nbsp;<span class="ident" id="4742037">err</span>&nbsp;<span class="op" id="4742041">:=</span>&nbsp;<span class="ident" id="4742044"><a href="/encoding/json/decode.go.html#4721950">strconv</a></span><span class="op" id="4742051">.</span><span class="ident" id="4742052">ParseInt</span><span class="op" id="4742060">(</span><span class="ident" id="4742061"><a href="/encoding/json/decode.go.html#4741362">s</a></span><span class="op" id="4742062">,</span>&nbsp;<span class="num" id="4742064">10</span><span class="op" id="4742066">,</span>&nbsp;<span class="num" id="4742068">64</span><span class="op" id="4742070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4742075">if</span>&nbsp;<span class="ident" id="4742078"><a href="/encoding/json/decode.go.html#4742037">err</a></span>&nbsp;<span class="op" id="4742082">!=</span>&nbsp;<span class="ident" id="4742085">nil</span>&nbsp;<span class="op" id="4742089">||</span>&nbsp;<span class="ident" id="4742092"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742093">.</span><span class="ident" id="4742094">OverflowInt</span><span class="op" id="4742105">(</span><span class="ident" id="4742106"><a href="/encoding/json/decode.go.html#4742034">n</a></span><span class="op" id="4742107">)</span>&nbsp;<span class="op" id="4742109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4742115"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4742116">.</span><span class="ident" id="4742117">saveError</span><span class="op" id="4742126">(</span><span class="op" id="4742127">&amp;</span><span class="ident" id="4742128"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4742146">{</span><span class="string" id="4742147">&#34;number&nbsp;&#34;</span>&nbsp;<span class="op" id="4742157">+</span>&nbsp;<span class="ident" id="4742159"><a href="/encoding/json/decode.go.html#4741362">s</a></span><span class="op" id="4742160">,</span>&nbsp;<span class="ident" id="4742162"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742163">.</span><span class="ident" id="4742164">Type</span><span class="op" id="4742168">(</span><span class="op" id="4742169">)</span><span class="op" id="4742170">}</span><span class="op" id="4742171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4742177">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4742186">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4742191"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742192">.</span><span class="ident" id="4742193">SetInt</span><span class="op" id="4742199">(</span><span class="ident" id="4742200"><a href="/encoding/json/decode.go.html#4742034">n</a></span><span class="op" id="4742201">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4742206">case</span>&nbsp;<span class="ident" id="4742211"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742218">.</span><span class="ident" id="4742219">Uint</span><span class="op" id="4742223">,</span>&nbsp;<span class="ident" id="4742225"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742232">.</span><span class="ident" id="4742233">Uint8</span><span class="op" id="4742238">,</span>&nbsp;<span class="ident" id="4742240"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742247">.</span><span class="ident" id="4742248">Uint16</span><span class="op" id="4742254">,</span>&nbsp;<span class="ident" id="4742256"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742263">.</span><span class="ident" id="4742264">Uint32</span><span class="op" id="4742270">,</span>&nbsp;<span class="ident" id="4742272"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742279">.</span><span class="ident" id="4742280">Uint64</span><span class="op" id="4742286">,</span>&nbsp;<span class="ident" id="4742288"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742295">.</span><span class="ident" id="4742296">Uintptr</span><span class="op" id="4742303">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4742308">n</span><span class="op" id="4742309">,</span>&nbsp;<span class="ident" id="4742311">err</span>&nbsp;<span class="op" id="4742315">:=</span>&nbsp;<span class="ident" id="4742318"><a href="/encoding/json/decode.go.html#4721950">strconv</a></span><span class="op" id="4742325">.</span><span class="ident" id="4742326">ParseUint</span><span class="op" id="4742335">(</span><span class="ident" id="4742336"><a href="/encoding/json/decode.go.html#4741362">s</a></span><span class="op" id="4742337">,</span>&nbsp;<span class="num" id="4742339">10</span><span class="op" id="4742341">,</span>&nbsp;<span class="num" id="4742343">64</span><span class="op" id="4742345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4742350">if</span>&nbsp;<span class="ident" id="4742353"><a href="/encoding/json/decode.go.html#4742311">err</a></span>&nbsp;<span class="op" id="4742357">!=</span>&nbsp;<span class="ident" id="4742360">nil</span>&nbsp;<span class="op" id="4742364">||</span>&nbsp;<span class="ident" id="4742367"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742368">.</span><span class="ident" id="4742369">OverflowUint</span><span class="op" id="4742381">(</span><span class="ident" id="4742382"><a href="/encoding/json/decode.go.html#4742308">n</a></span><span class="op" id="4742383">)</span>&nbsp;<span class="op" id="4742385">{</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4742391"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4742392">.</span><span class="ident" id="4742393">saveError</span><span class="op" id="4742402">(</span><span class="op" id="4742403">&amp;</span><span class="ident" id="4742404"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4742422">{</span><span class="string" id="4742423">&#34;number&nbsp;&#34;</span>&nbsp;<span class="op" id="4742433">+</span>&nbsp;<span class="ident" id="4742435"><a href="/encoding/json/decode.go.html#4741362">s</a></span><span class="op" id="4742436">,</span>&nbsp;<span class="ident" id="4742438"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742439">.</span><span class="ident" id="4742440">Type</span><span class="op" id="4742444">(</span><span class="op" id="4742445">)</span><span class="op" id="4742446">}</span><span class="op" id="4742447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4742453">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4742462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4742467"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742468">.</span><span class="ident" id="4742469">SetUint</span><span class="op" id="4742476">(</span><span class="ident" id="4742477"><a href="/encoding/json/decode.go.html#4742308">n</a></span><span class="op" id="4742478">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4742483">case</span>&nbsp;<span class="ident" id="4742488"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742495">.</span><span class="ident" id="4742496">Float32</span><span class="op" id="4742503">,</span>&nbsp;<span class="ident" id="4742505"><a href="/encoding/json/decode.go.html#4721928">reflect</a></span><span class="op" id="4742512">.</span><span class="ident" id="4742513">Float64</span><span class="op" id="4742520">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4742525">n</span><span class="op" id="4742526">,</span>&nbsp;<span class="ident" id="4742528">err</span>&nbsp;<span class="op" id="4742532">:=</span>&nbsp;<span class="ident" id="4742535"><a href="/encoding/json/decode.go.html#4721950">strconv</a></span><span class="op" id="4742542">.</span><span class="ident" id="4742543">ParseFloat</span><span class="op" id="4742553">(</span><span class="ident" id="4742554"><a href="/encoding/json/decode.go.html#4741362">s</a></span><span class="op" id="4742555">,</span>&nbsp;<span class="ident" id="4742557"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742558">.</span><span class="ident" id="4742559">Type</span><span class="op" id="4742563">(</span><span class="op" id="4742564">)</span><span class="op" id="4742565">.</span><span class="ident" id="4742566">Bits</span><span class="op" id="4742570">(</span><span class="op" id="4742571">)</span><span class="op" id="4742572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4742577">if</span>&nbsp;<span class="ident" id="4742580"><a href="/encoding/json/decode.go.html#4742528">err</a></span>&nbsp;<span class="op" id="4742584">!=</span>&nbsp;<span class="ident" id="4742587">nil</span>&nbsp;<span class="op" id="4742591">||</span>&nbsp;<span class="ident" id="4742594"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742595">.</span><span class="ident" id="4742596">OverflowFloat</span><span class="op" id="4742609">(</span><span class="ident" id="4742610"><a href="/encoding/json/decode.go.html#4742525">n</a></span><span class="op" id="4742611">)</span>&nbsp;<span class="op" id="4742613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4742619"><a href="/encoding/json/decode.go.html#4738532">d</a></span><span class="op" id="4742620">.</span><span class="ident" id="4742621">saveError</span><span class="op" id="4742630">(</span><span class="op" id="4742631">&amp;</span><span class="ident" id="4742632"><a href="/encoding/json/decode.go.html#4724668">UnmarshalTypeError</a></span><span class="op" id="4742650">{</span><span class="string" id="4742651">&#34;number&nbsp;&#34;</span>&nbsp;<span class="op" id="4742661">+</span>&nbsp;<span class="ident" id="4742663"><a href="/encoding/json/decode.go.html#4741362">s</a></span><span class="op" id="4742664">,</span>&nbsp;<span class="ident" id="4742666"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742667">.</span><span class="ident" id="4742668">Type</span><span class="op" id="4742672">(</span><span class="op" id="4742673">)</span><span class="op" id="4742674">}</span><span class="op" id="4742675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4742681">break</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4742690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4742695"><a href="/encoding/json/decode.go.html#4738574">v</a></span><span class="op" id="4742696">.</span><span class="ident" id="4742697">SetFloat</span><span class="op" id="4742705">(</span><span class="ident" id="4742706"><a href="/encoding/json/decode.go.html#4742525">n</a></span><span class="op" id="4742707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4742711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4742714">}</span><br>
<span class="lineno"></span><span class="op" id="4742716">}</span><br>
<span class="lineno">820</span><br>
<span class="lineno"></span><span class="comment" id="4742719">//&nbsp;The&nbsp;xxxInterface&nbsp;routines&nbsp;build&nbsp;up&nbsp;a&nbsp;value&nbsp;to&nbsp;be&nbsp;stored</span><br>
<span class="lineno"></span><span class="comment" id="4742778">//&nbsp;in&nbsp;an&nbsp;empty&nbsp;interface.&nbsp;&nbsp;They&nbsp;are&nbsp;not&nbsp;strictly&nbsp;necessary,</span><br>
<span class="lineno"></span><span class="comment" id="4742838">//&nbsp;but&nbsp;they&nbsp;avoid&nbsp;the&nbsp;weight&nbsp;of&nbsp;reflection&nbsp;in&nbsp;this&nbsp;common&nbsp;case.</span><br>
<span class="lineno"></span><br>
<span class="lineno">825</span><span class="comment" id="4742903">//&nbsp;valueInterface&nbsp;is&nbsp;like&nbsp;value&nbsp;but&nbsp;returns&nbsp;interface{}</span><br>
<span class="lineno"></span><span class="keyword" id="4742959">func</span>&nbsp;<span class="op" id="4742964">(</span><span class="ident" id="4742965">d</span>&nbsp;<span class="op" id="4742967">*</span><span class="ident" id="4742968"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4742979">)</span>&nbsp;<span class="ident" id="4742981">valueInterface</span><span class="op" id="4742995">(</span><span class="op" id="4742996">)</span>&nbsp;<span class="keyword" id="4742998">interface</span><span class="op" id="4743007">{</span><span class="op" id="4743008">}</span>&nbsp;<span class="op" id="4743010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743013">switch</span>&nbsp;<span class="ident" id="4743020"><a href="/encoding/json/decode.go.html#4742965">d</a></span><span class="op" id="4743021">.</span><span class="ident" id="4743022">scanWhile</span><span class="op" id="4743031">(</span><span class="ident" id="4743032"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4743045">)</span>&nbsp;<span class="op" id="4743047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743050">default</span><span class="op" id="4743057">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4743061"><a href="/encoding/json/decode.go.html#4742965">d</a></span><span class="op" id="4743062">.</span><span class="builtintype" id="4743063">error</span><span class="op" id="4743068">(</span><span class="ident" id="4743069"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4743077">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4743081">panic</span><span class="op" id="4743086">(</span><span class="string" id="4743087">&#34;unreachable&#34;</span><span class="op" id="4743100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743103">case</span>&nbsp;<span class="ident" id="4743108"><a href="/encoding/json/scanner.go.html#4789541">scanBeginArray</a></span><span class="op" id="4743122">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743126">return</span>&nbsp;<span class="ident" id="4743133"><a href="/encoding/json/decode.go.html#4742965">d</a></span><span class="op" id="4743134">.</span><span class="ident" id="4743135">arrayInterface</span><span class="op" id="4743149">(</span><span class="op" id="4743150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743153">case</span>&nbsp;<span class="ident" id="4743158"><a href="/encoding/json/scanner.go.html#4789297">scanBeginObject</a></span><span class="op" id="4743173">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743177">return</span>&nbsp;<span class="ident" id="4743184"><a href="/encoding/json/decode.go.html#4742965">d</a></span><span class="op" id="4743185">.</span><span class="ident" id="4743186">objectInterface</span><span class="op" id="4743201">(</span><span class="op" id="4743202">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743205">case</span>&nbsp;<span class="ident" id="4743210"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span><span class="op" id="4743226">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743230">return</span>&nbsp;<span class="ident" id="4743237"><a href="/encoding/json/decode.go.html#4742965">d</a></span><span class="op" id="4743238">.</span><span class="ident" id="4743239">literalInterface</span><span class="op" id="4743255">(</span><span class="op" id="4743256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4743259">}</span><br>
<span class="lineno"></span><span class="op" id="4743261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">840</span><span class="comment" id="4743264">//&nbsp;arrayInterface&nbsp;is&nbsp;like&nbsp;array&nbsp;but&nbsp;returns&nbsp;[]interface{}.</span><br>
<span class="lineno"></span><span class="keyword" id="4743323">func</span>&nbsp;<span class="op" id="4743328">(</span><span class="ident" id="4743329">d</span>&nbsp;<span class="op" id="4743331">*</span><span class="ident" id="4743332"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4743343">)</span>&nbsp;<span class="ident" id="4743345">arrayInterface</span><span class="op" id="4743359">(</span><span class="op" id="4743360">)</span>&nbsp;<span class="op" id="4743362">[</span><span class="op" id="4743363">]</span><span class="keyword" id="4743364">interface</span><span class="op" id="4743373">{</span><span class="op" id="4743374">}</span>&nbsp;<span class="op" id="4743376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743379">var</span>&nbsp;<span class="ident" id="4743383">v</span>&nbsp;<span class="op" id="4743385">=</span>&nbsp;<span class="builtinfunc" id="4743387">make</span><span class="op" id="4743391">(</span><span class="op" id="4743392">[</span><span class="op" id="4743393">]</span><span class="keyword" id="4743394">interface</span><span class="op" id="4743403">{</span><span class="op" id="4743404">}</span><span class="op" id="4743405">,</span>&nbsp;<span class="num" id="4743407">0</span><span class="op" id="4743408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743411">for</span>&nbsp;<span class="op" id="4743415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4743419">//&nbsp;Look&nbsp;ahead&nbsp;for&nbsp;]&nbsp;-&nbsp;can&nbsp;only&nbsp;happen&nbsp;on&nbsp;first&nbsp;iteration.</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4743479">op</span>&nbsp;<span class="op" id="4743482">:=</span>&nbsp;<span class="ident" id="4743485"><a href="/encoding/json/decode.go.html#4743329">d</a></span><span class="op" id="4743486">.</span><span class="ident" id="4743487">scanWhile</span><span class="op" id="4743496">(</span><span class="ident" id="4743497"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4743510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743514">if</span>&nbsp;<span class="ident" id="4743517"><a href="/encoding/json/decode.go.html#4743479">op</a></span>&nbsp;<span class="op" id="4743520">==</span>&nbsp;<span class="ident" id="4743523"><a href="/encoding/json/scanner.go.html#4789635">scanEndArray</a></span>&nbsp;<span class="op" id="4743536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743541">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4743549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4743554">//&nbsp;Back&nbsp;up&nbsp;so&nbsp;d.value&nbsp;can&nbsp;have&nbsp;the&nbsp;byte&nbsp;we&nbsp;just&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4743610"><a href="/encoding/json/decode.go.html#4743329">d</a></span><span class="op" id="4743611">.</span><span class="ident" id="4743612">off</span><span class="op" id="4743615">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4743620"><a href="/encoding/json/decode.go.html#4743329">d</a></span><span class="op" id="4743621">.</span><span class="ident" id="4743622">scan</span><span class="op" id="4743626">.</span><span class="ident" id="4743627">undo</span><span class="op" id="4743631">(</span><span class="ident" id="4743632"><a href="/encoding/json/decode.go.html#4743479">op</a></span><span class="op" id="4743634">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4743639"><a href="/encoding/json/decode.go.html#4743383">v</a></span>&nbsp;<span class="op" id="4743641">=</span>&nbsp;<span class="builtinfunc" id="4743643">append</span><span class="op" id="4743649">(</span><span class="ident" id="4743650"><a href="/encoding/json/decode.go.html#4743383">v</a></span><span class="op" id="4743651">,</span>&nbsp;<span class="ident" id="4743653"><a href="/encoding/json/decode.go.html#4743329">d</a></span><span class="op" id="4743654">.</span><span class="ident" id="4743655">valueInterface</span><span class="op" id="4743669">(</span><span class="op" id="4743670">)</span><span class="op" id="4743671">)</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4743676">//&nbsp;Next&nbsp;token&nbsp;must&nbsp;be&nbsp;,&nbsp;or&nbsp;].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4743708"><a href="/encoding/json/decode.go.html#4743479">op</a></span>&nbsp;<span class="op" id="4743711">=</span>&nbsp;<span class="ident" id="4743713"><a href="/encoding/json/decode.go.html#4743329">d</a></span><span class="op" id="4743714">.</span><span class="ident" id="4743715">scanWhile</span><span class="op" id="4743724">(</span><span class="ident" id="4743725"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4743738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743742">if</span>&nbsp;<span class="ident" id="4743745"><a href="/encoding/json/decode.go.html#4743479">op</a></span>&nbsp;<span class="op" id="4743748">==</span>&nbsp;<span class="ident" id="4743751"><a href="/encoding/json/scanner.go.html#4789635">scanEndArray</a></span>&nbsp;<span class="op" id="4743764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743769">break</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4743777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743781">if</span>&nbsp;<span class="ident" id="4743784"><a href="/encoding/json/decode.go.html#4743479">op</a></span>&nbsp;<span class="op" id="4743787">!=</span>&nbsp;<span class="ident" id="4743790"><a href="/encoding/json/scanner.go.html#4789581">scanArrayValue</a></span>&nbsp;<span class="op" id="4743805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4743810"><a href="/encoding/json/decode.go.html#4743329">d</a></span><span class="op" id="4743811">.</span><span class="builtintype" id="4743812">error</span><span class="op" id="4743817">(</span><span class="ident" id="4743818"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4743826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4743830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4743833">}</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4743836">return</span>&nbsp;<span class="ident" id="4743843"><a href="/encoding/json/decode.go.html#4743383">v</a></span><br>
<span class="lineno"></span><span class="op" id="4743845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4743848">//&nbsp;objectInterface&nbsp;is&nbsp;like&nbsp;object&nbsp;but&nbsp;returns&nbsp;map[string]interface{}.</span><br>
<span class="lineno"></span><span class="keyword" id="4743918">func</span>&nbsp;<span class="op" id="4743923">(</span><span class="ident" id="4743924">d</span>&nbsp;<span class="op" id="4743926">*</span><span class="ident" id="4743927"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4743938">)</span>&nbsp;<span class="ident" id="4743940">objectInterface</span><span class="op" id="4743955">(</span><span class="op" id="4743956">)</span>&nbsp;<span class="keyword" id="4743958">map</span><span class="op" id="4743961">[</span><span class="builtintype" id="4743962">string</span><span class="op" id="4743968">]</span><span class="keyword" id="4743969">interface</span><span class="op" id="4743978">{</span><span class="op" id="4743979">}</span>&nbsp;<span class="op" id="4743981">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4743984">m</span>&nbsp;<span class="op" id="4743986">:=</span>&nbsp;<span class="builtinfunc" id="4743989">make</span><span class="op" id="4743993">(</span><span class="keyword" id="4743994">map</span><span class="op" id="4743997">[</span><span class="builtintype" id="4743998">string</span><span class="op" id="4744004">]</span><span class="keyword" id="4744005">interface</span><span class="op" id="4744014">{</span><span class="op" id="4744015">}</span><span class="op" id="4744016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744019">for</span>&nbsp;<span class="op" id="4744023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4744027">//&nbsp;Read&nbsp;opening&nbsp;&#34;&nbsp;of&nbsp;string&nbsp;key&nbsp;or&nbsp;closing&nbsp;}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744075">op</span>&nbsp;<span class="op" id="4744078">:=</span>&nbsp;<span class="ident" id="4744081"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744082">.</span><span class="ident" id="4744083">scanWhile</span><span class="op" id="4744092">(</span><span class="ident" id="4744093"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4744106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744110">if</span>&nbsp;<span class="ident" id="4744113"><a href="/encoding/json/decode.go.html#4744075">op</a></span>&nbsp;<span class="op" id="4744116">==</span>&nbsp;<span class="ident" id="4744119"><a href="/encoding/json/scanner.go.html#4789464">scanEndObject</a></span>&nbsp;<span class="op" id="4744133">{</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4744138">//&nbsp;closing&nbsp;}&nbsp;-&nbsp;can&nbsp;only&nbsp;happen&nbsp;on&nbsp;first&nbsp;iteration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744192">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4744200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744204">if</span>&nbsp;<span class="ident" id="4744207"><a href="/encoding/json/decode.go.html#4744075">op</a></span>&nbsp;<span class="op" id="4744210">!=</span>&nbsp;<span class="ident" id="4744213"><a href="/encoding/json/scanner.go.html#4789226">scanBeginLiteral</a></span>&nbsp;<span class="op" id="4744230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744235"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744236">.</span><span class="builtintype" id="4744237">error</span><span class="op" id="4744242">(</span><span class="ident" id="4744243"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4744251">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4744255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4744260">//&nbsp;Read&nbsp;string&nbsp;key.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744282">start</span>&nbsp;<span class="op" id="4744288">:=</span>&nbsp;<span class="ident" id="4744291"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744292">.</span><span class="ident" id="4744293">off</span>&nbsp;<span class="op" id="4744297">-</span>&nbsp;<span class="num" id="4744299">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744303"><a href="/encoding/json/decode.go.html#4744075">op</a></span>&nbsp;<span class="op" id="4744306">=</span>&nbsp;<span class="ident" id="4744308"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744309">.</span><span class="ident" id="4744310">scanWhile</span><span class="op" id="4744319">(</span><span class="ident" id="4744320"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><span class="op" id="4744332">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744336">item</span>&nbsp;<span class="op" id="4744341">:=</span>&nbsp;<span class="ident" id="4744344"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744345">.</span><span class="ident" id="4744346">data</span><span class="op" id="4744350">[</span><span class="ident" id="4744351"><a href="/encoding/json/decode.go.html#4744282">start</a></span>&nbsp;<span class="op" id="4744357">:</span>&nbsp;<span class="ident" id="4744359"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744360">.</span><span class="ident" id="4744361">off</span><span class="op" id="4744364">-</span><span class="num" id="4744365">1</span><span class="op" id="4744366">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744370">key</span><span class="op" id="4744373">,</span>&nbsp;<span class="ident" id="4744375">ok</span>&nbsp;<span class="op" id="4744378">:=</span>&nbsp;<span class="ident" id="4744381"><a href="/encoding/json/decode.go.html#4745964">unquote</a></span><span class="op" id="4744388">(</span><span class="ident" id="4744389"><a href="/encoding/json/decode.go.html#4744336">item</a></span><span class="op" id="4744393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744397">if</span>&nbsp;<span class="op" id="4744400">!</span><span class="ident" id="4744401"><a href="/encoding/json/decode.go.html#4744375">ok</a></span>&nbsp;<span class="op" id="4744404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744409"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744410">.</span><span class="builtintype" id="4744411">error</span><span class="op" id="4744416">(</span><span class="ident" id="4744417"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4744425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4744429">}</span><br>
<span class="lineno">890</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4744434">//&nbsp;Read&nbsp;:&nbsp;before&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744460">if</span>&nbsp;<span class="ident" id="4744463"><a href="/encoding/json/decode.go.html#4744075">op</a></span>&nbsp;<span class="op" id="4744466">==</span>&nbsp;<span class="ident" id="4744469"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span>&nbsp;<span class="op" id="4744483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744488"><a href="/encoding/json/decode.go.html#4744075">op</a></span>&nbsp;<span class="op" id="4744491">=</span>&nbsp;<span class="ident" id="4744493"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744494">.</span><span class="ident" id="4744495">scanWhile</span><span class="op" id="4744504">(</span><span class="ident" id="4744505"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4744518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4744522">}</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744526">if</span>&nbsp;<span class="ident" id="4744529"><a href="/encoding/json/decode.go.html#4744075">op</a></span>&nbsp;<span class="op" id="4744532">!=</span>&nbsp;<span class="ident" id="4744535"><a href="/encoding/json/scanner.go.html#4789338">scanObjectKey</a></span>&nbsp;<span class="op" id="4744549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744554"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744555">.</span><span class="builtintype" id="4744556">error</span><span class="op" id="4744561">(</span><span class="ident" id="4744562"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4744570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4744574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4744579">//&nbsp;Read&nbsp;value.</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744596"><a href="/encoding/json/decode.go.html#4743984">m</a></span><span class="op" id="4744597">[</span><span class="ident" id="4744598"><a href="/encoding/json/decode.go.html#4744370">key</a></span><span class="op" id="4744601">]</span>&nbsp;<span class="op" id="4744603">=</span>&nbsp;<span class="ident" id="4744605"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744606">.</span><span class="ident" id="4744607">valueInterface</span><span class="op" id="4744621">(</span><span class="op" id="4744622">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4744627">//&nbsp;Next&nbsp;token&nbsp;must&nbsp;be&nbsp;,&nbsp;or&nbsp;}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744659"><a href="/encoding/json/decode.go.html#4744075">op</a></span>&nbsp;<span class="op" id="4744662">=</span>&nbsp;<span class="ident" id="4744664"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744665">.</span><span class="ident" id="4744666">scanWhile</span><span class="op" id="4744675">(</span><span class="ident" id="4744676"><a href="/encoding/json/scanner.go.html#4789710">scanSkipSpace</a></span><span class="op" id="4744689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744693">if</span>&nbsp;<span class="ident" id="4744696"><a href="/encoding/json/decode.go.html#4744075">op</a></span>&nbsp;<span class="op" id="4744699">==</span>&nbsp;<span class="ident" id="4744702"><a href="/encoding/json/scanner.go.html#4789464">scanEndObject</a></span>&nbsp;<span class="op" id="4744716">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744721">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4744729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744733">if</span>&nbsp;<span class="ident" id="4744736"><a href="/encoding/json/decode.go.html#4744075">op</a></span>&nbsp;<span class="op" id="4744739">!=</span>&nbsp;<span class="ident" id="4744742"><a href="/encoding/json/scanner.go.html#4789400">scanObjectValue</a></span>&nbsp;<span class="op" id="4744758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744763"><a href="/encoding/json/decode.go.html#4743924">d</a></span><span class="op" id="4744764">.</span><span class="builtintype" id="4744765">error</span><span class="op" id="4744770">(</span><span class="ident" id="4744771"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4744779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4744783">}</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4744786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4744789">return</span>&nbsp;<span class="ident" id="4744796"><a href="/encoding/json/decode.go.html#4743984">m</a></span><br>
<span class="lineno"></span><span class="op" id="4744798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4744801">//&nbsp;literalInterface&nbsp;is&nbsp;like&nbsp;literal&nbsp;but&nbsp;returns&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno">915</span><span class="keyword" id="4744869">func</span>&nbsp;<span class="op" id="4744874">(</span><span class="ident" id="4744875">d</span>&nbsp;<span class="op" id="4744877">*</span><span class="ident" id="4744878"><a href="/encoding/json/decode.go.html#4726902">decodeState</a></span><span class="op" id="4744889">)</span>&nbsp;<span class="ident" id="4744891">literalInterface</span><span class="op" id="4744907">(</span><span class="op" id="4744908">)</span>&nbsp;<span class="keyword" id="4744910">interface</span><span class="op" id="4744919">{</span><span class="op" id="4744920">}</span>&nbsp;<span class="op" id="4744922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4744925">//&nbsp;All&nbsp;bytes&nbsp;inside&nbsp;literal&nbsp;return&nbsp;scanContinue&nbsp;op&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4744983">start</span>&nbsp;<span class="op" id="4744989">:=</span>&nbsp;<span class="ident" id="4744992"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4744993">.</span><span class="ident" id="4744994">off</span>&nbsp;<span class="op" id="4744998">-</span>&nbsp;<span class="num" id="4745000">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745003">op</span>&nbsp;<span class="op" id="4745006">:=</span>&nbsp;<span class="ident" id="4745009"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4745010">.</span><span class="ident" id="4745011">scanWhile</span><span class="op" id="4745020">(</span><span class="ident" id="4745021"><a href="/encoding/json/scanner.go.html#4789179">scanContinue</a></span><span class="op" id="4745033">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4745037">//&nbsp;Scan&nbsp;read&nbsp;one&nbsp;byte&nbsp;too&nbsp;far;&nbsp;back&nbsp;up.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745078"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4745079">.</span><span class="ident" id="4745080">off</span><span class="op" id="4745083">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745087"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4745088">.</span><span class="ident" id="4745089">scan</span><span class="op" id="4745093">.</span><span class="ident" id="4745094">undo</span><span class="op" id="4745098">(</span><span class="ident" id="4745099"><a href="/encoding/json/decode.go.html#4745003">op</a></span><span class="op" id="4745101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745104">item</span>&nbsp;<span class="op" id="4745109">:=</span>&nbsp;<span class="ident" id="4745112"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4745113">.</span><span class="ident" id="4745114">data</span><span class="op" id="4745118">[</span><span class="ident" id="4745119"><a href="/encoding/json/decode.go.html#4744983">start</a></span><span class="op" id="4745124">:</span><span class="ident" id="4745125"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4745126">.</span><span class="ident" id="4745127">off</span><span class="op" id="4745130">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745134">switch</span>&nbsp;<span class="ident" id="4745141">c</span>&nbsp;<span class="op" id="4745143">:=</span>&nbsp;<span class="ident" id="4745146"><a href="/encoding/json/decode.go.html#4745104">item</a></span><span class="op" id="4745150">[</span><span class="num" id="4745151">0</span><span class="op" id="4745152">]</span><span class="op" id="4745153">;</span>&nbsp;<span class="ident" id="4745155"><a href="/encoding/json/decode.go.html#4745141">c</a></span>&nbsp;<span class="op" id="4745157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745160">case</span>&nbsp;<span class="string" id="4745165">&#39;n&#39;</span><span class="op" id="4745168">:</span>&nbsp;<span class="comment" id="4745170">//&nbsp;null</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745180">return</span>&nbsp;<span class="ident" id="4745187">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745193">case</span>&nbsp;<span class="string" id="4745198">&#39;t&#39;</span><span class="op" id="4745201">,</span>&nbsp;<span class="string" id="4745203">&#39;f&#39;</span><span class="op" id="4745206">:</span>&nbsp;<span class="comment" id="4745208">//&nbsp;true,&nbsp;false</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745225">return</span>&nbsp;<span class="ident" id="4745232"><a href="/encoding/json/decode.go.html#4745141">c</a></span>&nbsp;<span class="op" id="4745234">==</span>&nbsp;<span class="string" id="4745237">&#39;t&#39;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745243">case</span>&nbsp;<span class="string" id="4745248">&#39;&#34;&#39;</span><span class="op" id="4745251">:</span>&nbsp;<span class="comment" id="4745253">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745265">s</span><span class="op" id="4745266">,</span>&nbsp;<span class="ident" id="4745268">ok</span>&nbsp;<span class="op" id="4745271">:=</span>&nbsp;<span class="ident" id="4745274"><a href="/encoding/json/decode.go.html#4745964">unquote</a></span><span class="op" id="4745281">(</span><span class="ident" id="4745282"><a href="/encoding/json/decode.go.html#4745104">item</a></span><span class="op" id="4745286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745290">if</span>&nbsp;<span class="op" id="4745293">!</span><span class="ident" id="4745294"><a href="/encoding/json/decode.go.html#4745268">ok</a></span>&nbsp;<span class="op" id="4745297">{</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745302"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4745303">.</span><span class="builtintype" id="4745304">error</span><span class="op" id="4745309">(</span><span class="ident" id="4745310"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4745318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4745322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745326">return</span>&nbsp;<span class="ident" id="4745333"><a href="/encoding/json/decode.go.html#4745265">s</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745337">default</span><span class="op" id="4745344">:</span>&nbsp;<span class="comment" id="4745346">//&nbsp;number</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745358">if</span>&nbsp;<span class="ident" id="4745361"><a href="/encoding/json/decode.go.html#4745141">c</a></span>&nbsp;<span class="op" id="4745363">!=</span>&nbsp;<span class="string" id="4745366">&#39;-&#39;</span>&nbsp;<span class="op" id="4745370">&amp;&amp;</span>&nbsp;<span class="op" id="4745373">(</span><span class="ident" id="4745374"><a href="/encoding/json/decode.go.html#4745141">c</a></span>&nbsp;<span class="op" id="4745376">&lt;</span>&nbsp;<span class="string" id="4745378">&#39;0&#39;</span>&nbsp;<span class="op" id="4745382">||</span>&nbsp;<span class="ident" id="4745385"><a href="/encoding/json/decode.go.html#4745141">c</a></span>&nbsp;<span class="op" id="4745387">&gt;</span>&nbsp;<span class="string" id="4745389">&#39;9&#39;</span><span class="op" id="4745392">)</span>&nbsp;<span class="op" id="4745394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745399"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4745400">.</span><span class="builtintype" id="4745401">error</span><span class="op" id="4745406">(</span><span class="ident" id="4745407"><a href="/encoding/json/decode.go.html#4727258">errPhase</a></span><span class="op" id="4745415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4745419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745423">n</span><span class="op" id="4745424">,</span>&nbsp;<span class="ident" id="4745426">err</span>&nbsp;<span class="op" id="4745430">:=</span>&nbsp;<span class="ident" id="4745433"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4745434">.</span><span class="ident" id="4745435">convertNumber</span><span class="op" id="4745448">(</span><span class="builtintype" id="4745449">string</span><span class="op" id="4745455">(</span><span class="ident" id="4745456"><a href="/encoding/json/decode.go.html#4745104">item</a></span><span class="op" id="4745460">)</span><span class="op" id="4745461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745465">if</span>&nbsp;<span class="ident" id="4745468"><a href="/encoding/json/decode.go.html#4745426">err</a></span>&nbsp;<span class="op" id="4745472">!=</span>&nbsp;<span class="ident" id="4745475">nil</span>&nbsp;<span class="op" id="4745479">{</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745484"><a href="/encoding/json/decode.go.html#4744875">d</a></span><span class="op" id="4745485">.</span><span class="ident" id="4745486">saveError</span><span class="op" id="4745495">(</span><span class="ident" id="4745496"><a href="/encoding/json/decode.go.html#4745426">err</a></span><span class="op" id="4745499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4745503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745507">return</span>&nbsp;<span class="ident" id="4745514"><a href="/encoding/json/decode.go.html#4745423">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4745517">}</span><br>
<span class="lineno"></span><span class="op" id="4745519">}</span><br>
<span class="lineno">950</span><br>
<span class="lineno"></span><span class="comment" id="4745522">//&nbsp;getu4&nbsp;decodes&nbsp;\uXXXX&nbsp;from&nbsp;the&nbsp;beginning&nbsp;of&nbsp;s,&nbsp;returning&nbsp;the&nbsp;hex&nbsp;value,</span><br>
<span class="lineno"></span><span class="comment" id="4745596">//&nbsp;or&nbsp;it&nbsp;returns&nbsp;-1.</span><br>
<span class="lineno"></span><span class="keyword" id="4745617">func</span>&nbsp;<span class="ident" id="4745622">getu4</span><span class="op" id="4745627">(</span><span class="ident" id="4745628">s</span>&nbsp;<span class="op" id="4745630">[</span><span class="op" id="4745631">]</span><span class="builtintype" id="4745632">byte</span><span class="op" id="4745636">)</span>&nbsp;<span class="builtintype" id="4745638">rune</span>&nbsp;<span class="op" id="4745643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745646">if</span>&nbsp;<span class="builtinfunc" id="4745649">len</span><span class="op" id="4745652">(</span><span class="ident" id="4745653"><a href="/encoding/json/decode.go.html#4745628">s</a></span><span class="op" id="4745654">)</span>&nbsp;<span class="op" id="4745656">&lt;</span>&nbsp;<span class="num" id="4745658">6</span>&nbsp;<span class="op" id="4745660">||</span>&nbsp;<span class="ident" id="4745663"><a href="/encoding/json/decode.go.html#4745628">s</a></span><span class="op" id="4745664">[</span><span class="num" id="4745665">0</span><span class="op" id="4745666">]</span>&nbsp;<span class="op" id="4745668">!=</span>&nbsp;<span class="string" id="4745671">&#39;\\&#39;</span>&nbsp;<span class="op" id="4745676">||</span>&nbsp;<span class="ident" id="4745679"><a href="/encoding/json/decode.go.html#4745628">s</a></span><span class="op" id="4745680">[</span><span class="num" id="4745681">1</span><span class="op" id="4745682">]</span>&nbsp;<span class="op" id="4745684">!=</span>&nbsp;<span class="string" id="4745687">&#39;u&#39;</span>&nbsp;<span class="op" id="4745691">{</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745695">return</span>&nbsp;<span class="op" id="4745702">-</span><span class="num" id="4745703">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4745706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4745709">r</span><span class="op" id="4745710">,</span>&nbsp;<span class="ident" id="4745712">err</span>&nbsp;<span class="op" id="4745716">:=</span>&nbsp;<span class="ident" id="4745719"><a href="/encoding/json/decode.go.html#4721950">strconv</a></span><span class="op" id="4745726">.</span><span class="ident" id="4745727">ParseUint</span><span class="op" id="4745736">(</span><span class="builtintype" id="4745737">string</span><span class="op" id="4745743">(</span><span class="ident" id="4745744"><a href="/encoding/json/decode.go.html#4745628">s</a></span><span class="op" id="4745745">[</span><span class="num" id="4745746">2</span><span class="op" id="4745747">:</span><span class="num" id="4745748">6</span><span class="op" id="4745749">]</span><span class="op" id="4745750">)</span><span class="op" id="4745751">,</span>&nbsp;<span class="num" id="4745753">16</span><span class="op" id="4745755">,</span>&nbsp;<span class="num" id="4745757">64</span><span class="op" id="4745759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745762">if</span>&nbsp;<span class="ident" id="4745765"><a href="/encoding/json/decode.go.html#4745712">err</a></span>&nbsp;<span class="op" id="4745769">!=</span>&nbsp;<span class="ident" id="4745772">nil</span>&nbsp;<span class="op" id="4745776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745780">return</span>&nbsp;<span class="op" id="4745787">-</span><span class="num" id="4745788">1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4745791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4745794">return</span>&nbsp;<span class="builtintype" id="4745801">rune</span><span class="op" id="4745805">(</span><span class="ident" id="4745806"><a href="/encoding/json/decode.go.html#4745709">r</a></span><span class="op" id="4745807">)</span><br>
<span class="lineno"></span><span class="op" id="4745809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4745812">//&nbsp;unquote&nbsp;converts&nbsp;a&nbsp;quoted&nbsp;JSON&nbsp;string&nbsp;literal&nbsp;s&nbsp;into&nbsp;an&nbsp;actual&nbsp;string&nbsp;t.</span><br>
<span class="lineno">965</span><span class="comment" id="4745888">//&nbsp;The&nbsp;rules&nbsp;are&nbsp;different&nbsp;than&nbsp;for&nbsp;Go,&nbsp;so&nbsp;cannot&nbsp;use&nbsp;strconv.Unquote.</span><br>
<span class="lineno"></span><span class="keyword" id="4745959">func</span>&nbsp;<span class="ident" id="4745964">unquote</span><span class="op" id="4745971">(</span><span class="ident" id="4745972">s</span>&nbsp;<span class="op" id="4745974">[</span><span class="op" id="4745975">]</span><span class="builtintype" id="4745976">byte</span><span class="op" id="4745980">)</span>&nbsp;<span class="op" id="4745982">(</span><span class="ident" id="4745983">t</span>&nbsp;<span class="builtintype" id="4745985">string</span><span class="op" id="4745991">,</span>&nbsp;<span class="ident" id="4745993">ok</span>&nbsp;<span class="builtintype" id="4745996">bool</span><span class="op" id="4746000">)</span>&nbsp;<span class="op" id="4746002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746005"><a href="/encoding/json/decode.go.html#4745972">s</a></span><span class="op" id="4746006">,</span>&nbsp;<span class="ident" id="4746008"><a href="/encoding/json/decode.go.html#4745993">ok</a></span>&nbsp;<span class="op" id="4746011">=</span>&nbsp;<span class="ident" id="4746013"><a href="/encoding/json/decode.go.html#4746060">unquoteBytes</a></span><span class="op" id="4746025">(</span><span class="ident" id="4746026"><a href="/encoding/json/decode.go.html#4745972">s</a></span><span class="op" id="4746027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746030"><a href="/encoding/json/decode.go.html#4745983">t</a></span>&nbsp;<span class="op" id="4746032">=</span>&nbsp;<span class="builtintype" id="4746034">string</span><span class="op" id="4746040">(</span><span class="ident" id="4746041"><a href="/encoding/json/decode.go.html#4745972">s</a></span><span class="op" id="4746042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746045">return</span><br>
<span class="lineno">970</span><span class="op" id="4746052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4746055">func</span>&nbsp;<span class="ident" id="4746060">unquoteBytes</span><span class="op" id="4746072">(</span><span class="ident" id="4746073">s</span>&nbsp;<span class="op" id="4746075">[</span><span class="op" id="4746076">]</span><span class="builtintype" id="4746077">byte</span><span class="op" id="4746081">)</span>&nbsp;<span class="op" id="4746083">(</span><span class="ident" id="4746084">t</span>&nbsp;<span class="op" id="4746086">[</span><span class="op" id="4746087">]</span><span class="builtintype" id="4746088">byte</span><span class="op" id="4746092">,</span>&nbsp;<span class="ident" id="4746094">ok</span>&nbsp;<span class="builtintype" id="4746097">bool</span><span class="op" id="4746101">)</span>&nbsp;<span class="op" id="4746103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746106">if</span>&nbsp;<span class="builtinfunc" id="4746109">len</span><span class="op" id="4746112">(</span><span class="ident" id="4746113"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746114">)</span>&nbsp;<span class="op" id="4746116">&lt;</span>&nbsp;<span class="num" id="4746118">2</span>&nbsp;<span class="op" id="4746120">||</span>&nbsp;<span class="ident" id="4746123"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746124">[</span><span class="num" id="4746125">0</span><span class="op" id="4746126">]</span>&nbsp;<span class="op" id="4746128">!=</span>&nbsp;<span class="string" id="4746131">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="4746135">||</span>&nbsp;<span class="ident" id="4746138"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746139">[</span><span class="builtinfunc" id="4746140">len</span><span class="op" id="4746143">(</span><span class="ident" id="4746144"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746145">)</span><span class="op" id="4746146">-</span><span class="num" id="4746147">1</span><span class="op" id="4746148">]</span>&nbsp;<span class="op" id="4746150">!=</span>&nbsp;<span class="string" id="4746153">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="4746157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746161">return</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4746169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746172"><a href="/encoding/json/decode.go.html#4746073">s</a></span>&nbsp;<span class="op" id="4746174">=</span>&nbsp;<span class="ident" id="4746176"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746177">[</span><span class="num" id="4746178">1</span>&nbsp;<span class="op" id="4746180">:</span>&nbsp;<span class="builtinfunc" id="4746182">len</span><span class="op" id="4746185">(</span><span class="ident" id="4746186"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746187">)</span><span class="op" id="4746188">-</span><span class="num" id="4746189">1</span><span class="op" id="4746190">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4746194">//&nbsp;Check&nbsp;for&nbsp;unusual&nbsp;characters.&nbsp;If&nbsp;there&nbsp;are&nbsp;none,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4746247">//&nbsp;then&nbsp;no&nbsp;unquoting&nbsp;is&nbsp;needed,&nbsp;so&nbsp;return&nbsp;a&nbsp;slice&nbsp;of&nbsp;the</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4746305">//&nbsp;original&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746325">r</span>&nbsp;<span class="op" id="4746327">:=</span>&nbsp;<span class="num" id="4746330">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746333">for</span>&nbsp;<span class="ident" id="4746337"><a href="/encoding/json/decode.go.html#4746325">r</a></span>&nbsp;<span class="op" id="4746339">&lt;</span>&nbsp;<span class="builtinfunc" id="4746341">len</span><span class="op" id="4746344">(</span><span class="ident" id="4746345"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746346">)</span>&nbsp;<span class="op" id="4746348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746352">c</span>&nbsp;<span class="op" id="4746354">:=</span>&nbsp;<span class="ident" id="4746357"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746358">[</span><span class="ident" id="4746359"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4746360">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746364">if</span>&nbsp;<span class="ident" id="4746367"><a href="/encoding/json/decode.go.html#4746352">c</a></span>&nbsp;<span class="op" id="4746369">==</span>&nbsp;<span class="string" id="4746372">&#39;\\&#39;</span>&nbsp;<span class="op" id="4746377">||</span>&nbsp;<span class="ident" id="4746380"><a href="/encoding/json/decode.go.html#4746352">c</a></span>&nbsp;<span class="op" id="4746382">==</span>&nbsp;<span class="string" id="4746385">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="4746389">||</span>&nbsp;<span class="ident" id="4746392"><a href="/encoding/json/decode.go.html#4746352">c</a></span>&nbsp;<span class="op" id="4746394">&lt;</span>&nbsp;<span class="string" id="4746396">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4746400">{</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746405">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4746413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746417">if</span>&nbsp;<span class="ident" id="4746420"><a href="/encoding/json/decode.go.html#4746352">c</a></span>&nbsp;<span class="op" id="4746422">&lt;</span>&nbsp;<span class="ident" id="4746424"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4746428">.</span><span class="ident" id="4746429">RuneSelf</span>&nbsp;<span class="op" id="4746438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746443"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4746444">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746450">continue</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4746461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746465">rr</span><span class="op" id="4746467">,</span>&nbsp;<span class="ident" id="4746469">size</span>&nbsp;<span class="op" id="4746474">:=</span>&nbsp;<span class="ident" id="4746477"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4746481">.</span><span class="ident" id="4746482">DecodeRune</span><span class="op" id="4746492">(</span><span class="ident" id="4746493"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746494">[</span><span class="ident" id="4746495"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4746496">:</span><span class="op" id="4746497">]</span><span class="op" id="4746498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746502">if</span>&nbsp;<span class="ident" id="4746505"><a href="/encoding/json/decode.go.html#4746465">rr</a></span>&nbsp;<span class="op" id="4746508">==</span>&nbsp;<span class="ident" id="4746511"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4746515">.</span><span class="ident" id="4746516">RuneError</span>&nbsp;<span class="op" id="4746526">&amp;&amp;</span>&nbsp;<span class="ident" id="4746529"><a href="/encoding/json/decode.go.html#4746469">size</a></span>&nbsp;<span class="op" id="4746534">==</span>&nbsp;<span class="num" id="4746537">1</span>&nbsp;<span class="op" id="4746539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746544">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4746552">}</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746556"><a href="/encoding/json/decode.go.html#4746325">r</a></span>&nbsp;<span class="op" id="4746558">+=</span>&nbsp;<span class="ident" id="4746561"><a href="/encoding/json/decode.go.html#4746469">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4746567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746570">if</span>&nbsp;<span class="ident" id="4746573"><a href="/encoding/json/decode.go.html#4746325">r</a></span>&nbsp;<span class="op" id="4746575">==</span>&nbsp;<span class="builtinfunc" id="4746578">len</span><span class="op" id="4746581">(</span><span class="ident" id="4746582"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746583">)</span>&nbsp;<span class="op" id="4746585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746589">return</span>&nbsp;<span class="ident" id="4746596"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746597">,</span>&nbsp;<span class="builtintype" id="4746599">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4746605">}</span><br>
<span class="lineno">1000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746609">b</span>&nbsp;<span class="op" id="4746611">:=</span>&nbsp;<span class="builtinfunc" id="4746614">make</span><span class="op" id="4746618">(</span><span class="op" id="4746619">[</span><span class="op" id="4746620">]</span><span class="builtintype" id="4746621">byte</span><span class="op" id="4746625">,</span>&nbsp;<span class="builtinfunc" id="4746627">len</span><span class="op" id="4746630">(</span><span class="ident" id="4746631"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746632">)</span><span class="op" id="4746633">+</span><span class="num" id="4746634">2</span><span class="op" id="4746635">*</span><span class="ident" id="4746636"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4746640">.</span><span class="ident" id="4746641">UTFMax</span><span class="op" id="4746647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746650">w</span>&nbsp;<span class="op" id="4746652">:=</span>&nbsp;<span class="builtinfunc" id="4746655">copy</span><span class="op" id="4746659">(</span><span class="ident" id="4746660"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4746661">,</span>&nbsp;<span class="ident" id="4746663"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746664">[</span><span class="num" id="4746665">0</span><span class="op" id="4746666">:</span><span class="ident" id="4746667"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4746668">]</span><span class="op" id="4746669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746672">for</span>&nbsp;<span class="ident" id="4746676"><a href="/encoding/json/decode.go.html#4746325">r</a></span>&nbsp;<span class="op" id="4746678">&lt;</span>&nbsp;<span class="builtinfunc" id="4746680">len</span><span class="op" id="4746683">(</span><span class="ident" id="4746684"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746685">)</span>&nbsp;<span class="op" id="4746687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4746691">//&nbsp;Out&nbsp;of&nbsp;room?&nbsp;&nbsp;Can&nbsp;only&nbsp;happen&nbsp;if&nbsp;s&nbsp;is&nbsp;full&nbsp;of</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4746742">//&nbsp;malformed&nbsp;UTF-8&nbsp;and&nbsp;we&#39;re&nbsp;replacing&nbsp;each</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4746788">//&nbsp;byte&nbsp;with&nbsp;RuneError.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746814">if</span>&nbsp;<span class="ident" id="4746817"><a href="/encoding/json/decode.go.html#4746650">w</a></span>&nbsp;<span class="op" id="4746819">&gt;=</span>&nbsp;<span class="builtinfunc" id="4746822">len</span><span class="op" id="4746825">(</span><span class="ident" id="4746826"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4746827">)</span><span class="op" id="4746828">-</span><span class="num" id="4746829">2</span><span class="op" id="4746830">*</span><span class="ident" id="4746831"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4746835">.</span><span class="ident" id="4746836">UTFMax</span>&nbsp;<span class="op" id="4746843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746848">nb</span>&nbsp;<span class="op" id="4746851">:=</span>&nbsp;<span class="builtinfunc" id="4746854">make</span><span class="op" id="4746858">(</span><span class="op" id="4746859">[</span><span class="op" id="4746860">]</span><span class="builtintype" id="4746861">byte</span><span class="op" id="4746865">,</span>&nbsp;<span class="op" id="4746867">(</span><span class="builtinfunc" id="4746868">len</span><span class="op" id="4746871">(</span><span class="ident" id="4746872"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4746873">)</span><span class="op" id="4746874">+</span><span class="ident" id="4746875"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4746879">.</span><span class="ident" id="4746880">UTFMax</span><span class="op" id="4746886">)</span><span class="op" id="4746887">*</span><span class="num" id="4746888">2</span><span class="op" id="4746889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4746894">copy</span><span class="op" id="4746898">(</span><span class="ident" id="4746899"><a href="/encoding/json/decode.go.html#4746848">nb</a></span><span class="op" id="4746901">,</span>&nbsp;<span class="ident" id="4746903"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4746904">[</span><span class="num" id="4746905">0</span><span class="op" id="4746906">:</span><span class="ident" id="4746907"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4746908">]</span><span class="op" id="4746909">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746914"><a href="/encoding/json/decode.go.html#4746609">b</a></span>&nbsp;<span class="op" id="4746916">=</span>&nbsp;<span class="ident" id="4746918"><a href="/encoding/json/decode.go.html#4746848">nb</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4746923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746927">switch</span>&nbsp;<span class="ident" id="4746934">c</span>&nbsp;<span class="op" id="4746936">:=</span>&nbsp;<span class="ident" id="4746939"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746940">[</span><span class="ident" id="4746941"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4746942">]</span><span class="op" id="4746943">;</span>&nbsp;<span class="op" id="4746945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746949">case</span>&nbsp;<span class="ident" id="4746954"><a href="/encoding/json/decode.go.html#4746934">c</a></span>&nbsp;<span class="op" id="4746956">==</span>&nbsp;<span class="string" id="4746959">&#39;\\&#39;</span><span class="op" id="4746963">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4746968"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4746969">++</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746975">if</span>&nbsp;<span class="ident" id="4746978"><a href="/encoding/json/decode.go.html#4746325">r</a></span>&nbsp;<span class="op" id="4746980">&gt;=</span>&nbsp;<span class="builtinfunc" id="4746983">len</span><span class="op" id="4746986">(</span><span class="ident" id="4746987"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4746988">)</span>&nbsp;<span class="op" id="4746990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4746996">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4747006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747011">switch</span>&nbsp;<span class="ident" id="4747018"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4747019">[</span><span class="ident" id="4747020"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747021">]</span>&nbsp;<span class="op" id="4747023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747028">default</span><span class="op" id="4747035">:</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747041">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747051">case</span>&nbsp;<span class="string" id="4747056">&#39;&#34;&#39;</span><span class="op" id="4747059">,</span>&nbsp;<span class="string" id="4747061">&#39;\\&#39;</span><span class="op" id="4747065">,</span>&nbsp;<span class="string" id="4747067">&#39;/&#39;</span><span class="op" id="4747070">,</span>&nbsp;<span class="string" id="4747072">&#39;\&#39;&#39;</span><span class="op" id="4747076">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747082"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4747083">[</span><span class="ident" id="4747084"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747085">]</span>&nbsp;<span class="op" id="4747087">=</span>&nbsp;<span class="ident" id="4747089"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4747090">[</span><span class="ident" id="4747091"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747092">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747098"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747099">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747106"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747107">++</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747113">case</span>&nbsp;<span class="string" id="4747118">&#39;b&#39;</span><span class="op" id="4747121">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747127"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4747128">[</span><span class="ident" id="4747129"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747130">]</span>&nbsp;<span class="op" id="4747132">=</span>&nbsp;<span class="string" id="4747134">&#39;\b&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747143"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747144">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747151"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747152">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747158">case</span>&nbsp;<span class="string" id="4747163">&#39;f&#39;</span><span class="op" id="4747166">:</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747172"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4747173">[</span><span class="ident" id="4747174"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747175">]</span>&nbsp;<span class="op" id="4747177">=</span>&nbsp;<span class="string" id="4747179">&#39;\f&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747188"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747189">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747196"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747197">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747203">case</span>&nbsp;<span class="string" id="4747208">&#39;n&#39;</span><span class="op" id="4747211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747217"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4747218">[</span><span class="ident" id="4747219"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747220">]</span>&nbsp;<span class="op" id="4747222">=</span>&nbsp;<span class="string" id="4747224">&#39;\n&#39;</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747233"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747234">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747241"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747242">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747248">case</span>&nbsp;<span class="string" id="4747253">&#39;r&#39;</span><span class="op" id="4747256">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747262"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4747263">[</span><span class="ident" id="4747264"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747265">]</span>&nbsp;<span class="op" id="4747267">=</span>&nbsp;<span class="string" id="4747269">&#39;\r&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747278"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747279">++</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747286"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747287">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747293">case</span>&nbsp;<span class="string" id="4747298">&#39;t&#39;</span><span class="op" id="4747301">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747307"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4747308">[</span><span class="ident" id="4747309"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747310">]</span>&nbsp;<span class="op" id="4747312">=</span>&nbsp;<span class="string" id="4747314">&#39;\t&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747323"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747324">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747331"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747332">++</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747338">case</span>&nbsp;<span class="string" id="4747343">&#39;u&#39;</span><span class="op" id="4747346">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747352"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747353">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747360">rr</span>&nbsp;<span class="op" id="4747363">:=</span>&nbsp;<span class="ident" id="4747366"><a href="/encoding/json/decode.go.html#4745622">getu4</a></span><span class="op" id="4747371">(</span><span class="ident" id="4747372"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4747373">[</span><span class="ident" id="4747374"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747375">:</span><span class="op" id="4747376">]</span><span class="op" id="4747377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747383">if</span>&nbsp;<span class="ident" id="4747386"><a href="/encoding/json/decode.go.html#4747360">rr</a></span>&nbsp;<span class="op" id="4747389">&lt;</span>&nbsp;<span class="num" id="4747391">0</span>&nbsp;<span class="op" id="4747393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747400">return</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4747411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747417"><a href="/encoding/json/decode.go.html#4746325">r</a></span>&nbsp;<span class="op" id="4747419">+=</span>&nbsp;<span class="num" id="4747422">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747428">if</span>&nbsp;<span class="ident" id="4747431"><a href="/encoding/json/decode.go.html#4721972">utf16</a></span><span class="op" id="4747436">.</span><span class="ident" id="4747437">IsSurrogate</span><span class="op" id="4747448">(</span><span class="ident" id="4747449"><a href="/encoding/json/decode.go.html#4747360">rr</a></span><span class="op" id="4747451">)</span>&nbsp;<span class="op" id="4747453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747460">rr1</span>&nbsp;<span class="op" id="4747464">:=</span>&nbsp;<span class="ident" id="4747467"><a href="/encoding/json/decode.go.html#4745622">getu4</a></span><span class="op" id="4747472">(</span><span class="ident" id="4747473"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4747474">[</span><span class="ident" id="4747475"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747476">:</span><span class="op" id="4747477">]</span><span class="op" id="4747478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747485">if</span>&nbsp;<span class="ident" id="4747488">dec</span>&nbsp;<span class="op" id="4747492">:=</span>&nbsp;<span class="ident" id="4747495"><a href="/encoding/json/decode.go.html#4721972">utf16</a></span><span class="op" id="4747500">.</span><span class="ident" id="4747501">DecodeRune</span><span class="op" id="4747511">(</span><span class="ident" id="4747512"><a href="/encoding/json/decode.go.html#4747360">rr</a></span><span class="op" id="4747514">,</span>&nbsp;<span class="ident" id="4747516"><a href="/encoding/json/decode.go.html#4747460">rr1</a></span><span class="op" id="4747519">)</span><span class="op" id="4747520">;</span>&nbsp;<span class="ident" id="4747522"><a href="/encoding/json/decode.go.html#4747488">dec</a></span>&nbsp;<span class="op" id="4747526">!=</span>&nbsp;<span class="ident" id="4747529"><a href="/encoding/json/decode.go.html#4721961">unicode</a></span><span class="op" id="4747536">.</span><span class="ident" id="4747537">ReplacementChar</span>&nbsp;<span class="op" id="4747553">{</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4747561">//&nbsp;A&nbsp;valid&nbsp;pair;&nbsp;consume.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747593"><a href="/encoding/json/decode.go.html#4746325">r</a></span>&nbsp;<span class="op" id="4747595">+=</span>&nbsp;<span class="num" id="4747598">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747606"><a href="/encoding/json/decode.go.html#4746650">w</a></span>&nbsp;<span class="op" id="4747608">+=</span>&nbsp;<span class="ident" id="4747611"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4747615">.</span><span class="ident" id="4747616">EncodeRune</span><span class="op" id="4747626">(</span><span class="ident" id="4747627"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4747628">[</span><span class="ident" id="4747629"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747630">:</span><span class="op" id="4747631">]</span><span class="op" id="4747632">,</span>&nbsp;<span class="ident" id="4747634"><a href="/encoding/json/decode.go.html#4747488">dec</a></span><span class="op" id="4747637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747645">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4747656">}</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4747663">//&nbsp;Invalid&nbsp;surrogate;&nbsp;fall&nbsp;back&nbsp;to&nbsp;replacement&nbsp;rune.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747721"><a href="/encoding/json/decode.go.html#4747360">rr</a></span>&nbsp;<span class="op" id="4747724">=</span>&nbsp;<span class="ident" id="4747726"><a href="/encoding/json/decode.go.html#4721961">unicode</a></span><span class="op" id="4747733">.</span><span class="ident" id="4747734">ReplacementChar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4747754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747760"><a href="/encoding/json/decode.go.html#4746650">w</a></span>&nbsp;<span class="op" id="4747762">+=</span>&nbsp;<span class="ident" id="4747765"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4747769">.</span><span class="ident" id="4747770">EncodeRune</span><span class="op" id="4747780">(</span><span class="ident" id="4747781"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4747782">[</span><span class="ident" id="4747783"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747784">:</span><span class="op" id="4747785">]</span><span class="op" id="4747786">,</span>&nbsp;<span class="ident" id="4747788"><a href="/encoding/json/decode.go.html#4747360">rr</a></span><span class="op" id="4747790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4747795">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4747800">//&nbsp;Quote,&nbsp;control&nbsp;characters&nbsp;are&nbsp;invalid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747844">case</span>&nbsp;<span class="ident" id="4747849"><a href="/encoding/json/decode.go.html#4746934">c</a></span>&nbsp;<span class="op" id="4747851">==</span>&nbsp;<span class="string" id="4747854">&#39;&#34;&#39;</span><span class="op" id="4747857">,</span>&nbsp;<span class="ident" id="4747859"><a href="/encoding/json/decode.go.html#4746934">c</a></span>&nbsp;<span class="op" id="4747861">&lt;</span>&nbsp;<span class="string" id="4747863">&#39;&nbsp;&#39;</span><span class="op" id="4747866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747871">return</span><br>
<span class="lineno"></span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4747881">//&nbsp;ASCII</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747892">case</span>&nbsp;<span class="ident" id="4747897"><a href="/encoding/json/decode.go.html#4746934">c</a></span>&nbsp;<span class="op" id="4747899">&lt;</span>&nbsp;<span class="ident" id="4747901"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4747905">.</span><span class="ident" id="4747906">RuneSelf</span><span class="op" id="4747914">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747919"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4747920">[</span><span class="ident" id="4747921"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747922">]</span>&nbsp;<span class="op" id="4747924">=</span>&nbsp;<span class="ident" id="4747926"><a href="/encoding/json/decode.go.html#4746934">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747931"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4747932">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747938"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4747939">++</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4747945">//&nbsp;Coerce&nbsp;to&nbsp;well-formed&nbsp;UTF-8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4747979">default</span><span class="op" id="4747986">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4747991">rr</span><span class="op" id="4747993">,</span>&nbsp;<span class="ident" id="4747995">size</span>&nbsp;<span class="op" id="4748000">:=</span>&nbsp;<span class="ident" id="4748003"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4748007">.</span><span class="ident" id="4748008">DecodeRune</span><span class="op" id="4748018">(</span><span class="ident" id="4748019"><a href="/encoding/json/decode.go.html#4746073">s</a></span><span class="op" id="4748020">[</span><span class="ident" id="4748021"><a href="/encoding/json/decode.go.html#4746325">r</a></span><span class="op" id="4748022">:</span><span class="op" id="4748023">]</span><span class="op" id="4748024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4748029"><a href="/encoding/json/decode.go.html#4746325">r</a></span>&nbsp;<span class="op" id="4748031">+=</span>&nbsp;<span class="ident" id="4748034"><a href="/encoding/json/decode.go.html#4747995">size</a></span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4748042"><a href="/encoding/json/decode.go.html#4746650">w</a></span>&nbsp;<span class="op" id="4748044">+=</span>&nbsp;<span class="ident" id="4748047"><a href="/encoding/json/decode.go.html#4721989">utf8</a></span><span class="op" id="4748051">.</span><span class="ident" id="4748052">EncodeRune</span><span class="op" id="4748062">(</span><span class="ident" id="4748063"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4748064">[</span><span class="ident" id="4748065"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4748066">:</span><span class="op" id="4748067">]</span><span class="op" id="4748068">,</span>&nbsp;<span class="ident" id="4748070"><a href="/encoding/json/decode.go.html#4747991">rr</a></span><span class="op" id="4748072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4748076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4748079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4748082">return</span>&nbsp;<span class="ident" id="4748089"><a href="/encoding/json/decode.go.html#4746609">b</a></span><span class="op" id="4748090">[</span><span class="num" id="4748091">0</span><span class="op" id="4748092">:</span><span class="ident" id="4748093"><a href="/encoding/json/decode.go.html#4746650">w</a></span><span class="op" id="4748094">]</span><span class="op" id="4748095">,</span>&nbsp;<span class="builtintype" id="4748097">true</span><br>
<span class="lineno"></span><span class="op" id="4748102">}</span>
</div>
</body>
</html>
