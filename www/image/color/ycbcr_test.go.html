<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7877513">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7877568">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7877622">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7877673">package</span>&nbsp;<span class="ident" id="7877681">color</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7877688">import</span>&nbsp;<span class="op" id="7877695">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7877698">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7877708">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7877711">func</span>&nbsp;<span class="ident" id="7877716">delta</span><span class="op" id="7877721">(</span><span class="ident" id="7877722">x</span><span class="op" id="7877723">,</span>&nbsp;<span class="ident" id="7877725">y</span>&nbsp;<span class="builtintype" id="7877727">uint8</span><span class="op" id="7877732">)</span>&nbsp;<span class="builtintype" id="7877734">uint8</span>&nbsp;<span class="op" id="7877740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877743">if</span>&nbsp;<span class="ident" id="7877746">x</span>&nbsp;<span class="op" id="7877748">&gt;=</span>&nbsp;<span class="ident" id="7877751">y</span>&nbsp;<span class="op" id="7877753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877757">return</span>&nbsp;<span class="ident" id="7877764">x</span>&nbsp;<span class="op" id="7877766">-</span>&nbsp;<span class="ident" id="7877768">y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877771">}</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877774">return</span>&nbsp;<span class="ident" id="7877781">y</span>&nbsp;<span class="op" id="7877783">-</span>&nbsp;<span class="ident" id="7877785">x</span><br>
<span class="lineno"></span><span class="op" id="7877787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7877790">//&nbsp;Test&nbsp;that&nbsp;a&nbsp;subset&nbsp;of&nbsp;RGB&nbsp;space&nbsp;can&nbsp;be&nbsp;converted&nbsp;to&nbsp;YCbCr&nbsp;and&nbsp;back&nbsp;to&nbsp;within</span><br>
<span class="lineno"></span><span class="comment" id="7877870">//&nbsp;1/256&nbsp;tolerance.</span><br>
<span class="lineno">20</span><span class="keyword" id="7877890">func</span>&nbsp;<span class="ident" id="7877895">TestRoundtrip</span><span class="op" id="7877908">(</span><span class="ident" id="7877909">t</span>&nbsp;<span class="op" id="7877911">*</span><span class="ident" id="7877912">testing</span><span class="op" id="7877919">.</span><span class="ident" id="7877920">T</span><span class="op" id="7877921">)</span>&nbsp;<span class="op" id="7877923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877926">for</span>&nbsp;<span class="ident" id="7877930">r</span>&nbsp;<span class="op" id="7877932">:=</span>&nbsp;<span class="num" id="7877935">0</span><span class="op" id="7877936">;</span>&nbsp;<span class="ident" id="7877938">r</span>&nbsp;<span class="op" id="7877940">&lt;</span>&nbsp;<span class="num" id="7877942">255</span><span class="op" id="7877945">;</span>&nbsp;<span class="ident" id="7877947">r</span>&nbsp;<span class="op" id="7877949">+=</span>&nbsp;<span class="num" id="7877952">7</span>&nbsp;<span class="op" id="7877954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877958">for</span>&nbsp;<span class="ident" id="7877962">g</span>&nbsp;<span class="op" id="7877964">:=</span>&nbsp;<span class="num" id="7877967">0</span><span class="op" id="7877968">;</span>&nbsp;<span class="ident" id="7877970">g</span>&nbsp;<span class="op" id="7877972">&lt;</span>&nbsp;<span class="num" id="7877974">255</span><span class="op" id="7877977">;</span>&nbsp;<span class="ident" id="7877979">g</span>&nbsp;<span class="op" id="7877981">+=</span>&nbsp;<span class="num" id="7877984">5</span>&nbsp;<span class="op" id="7877986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877991">for</span>&nbsp;<span class="ident" id="7877995">b</span>&nbsp;<span class="op" id="7877997">:=</span>&nbsp;<span class="num" id="7878000">0</span><span class="op" id="7878001">;</span>&nbsp;<span class="ident" id="7878003">b</span>&nbsp;<span class="op" id="7878005">&lt;</span>&nbsp;<span class="num" id="7878007">255</span><span class="op" id="7878010">;</span>&nbsp;<span class="ident" id="7878012">b</span>&nbsp;<span class="op" id="7878014">+=</span>&nbsp;<span class="num" id="7878017">3</span>&nbsp;<span class="op" id="7878019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878025">r0</span><span class="op" id="7878027">,</span>&nbsp;<span class="ident" id="7878029">g0</span><span class="op" id="7878031">,</span>&nbsp;<span class="ident" id="7878033">b0</span>&nbsp;<span class="op" id="7878036">:=</span>&nbsp;<span class="builtintype" id="7878039">uint8</span><span class="op" id="7878044">(</span><span class="ident" id="7878045">r</span><span class="op" id="7878046">)</span><span class="op" id="7878047">,</span>&nbsp;<span class="builtintype" id="7878049">uint8</span><span class="op" id="7878054">(</span><span class="ident" id="7878055">g</span><span class="op" id="7878056">)</span><span class="op" id="7878057">,</span>&nbsp;<span class="builtintype" id="7878059">uint8</span><span class="op" id="7878064">(</span><span class="ident" id="7878065">b</span><span class="op" id="7878066">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878072">y</span><span class="op" id="7878073">,</span>&nbsp;<span class="ident" id="7878075">cb</span><span class="op" id="7878077">,</span>&nbsp;<span class="ident" id="7878079">cr</span>&nbsp;<span class="op" id="7878082">:=</span>&nbsp;<span class="ident" id="7878085">RGBToYCbCr</span><span class="op" id="7878095">(</span><span class="ident" id="7878096">r0</span><span class="op" id="7878098">,</span>&nbsp;<span class="ident" id="7878100">g0</span><span class="op" id="7878102">,</span>&nbsp;<span class="ident" id="7878104">b0</span><span class="op" id="7878106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878112">r1</span><span class="op" id="7878114">,</span>&nbsp;<span class="ident" id="7878116">g1</span><span class="op" id="7878118">,</span>&nbsp;<span class="ident" id="7878120">b1</span>&nbsp;<span class="op" id="7878123">:=</span>&nbsp;<span class="ident" id="7878126">YCbCrToRGB</span><span class="op" id="7878136">(</span><span class="ident" id="7878137">y</span><span class="op" id="7878138">,</span>&nbsp;<span class="ident" id="7878140">cb</span><span class="op" id="7878142">,</span>&nbsp;<span class="ident" id="7878144">cr</span><span class="op" id="7878146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878152">if</span>&nbsp;<span class="ident" id="7878155">delta</span><span class="op" id="7878160">(</span><span class="ident" id="7878161">r0</span><span class="op" id="7878163">,</span>&nbsp;<span class="ident" id="7878165">r1</span><span class="op" id="7878167">)</span>&nbsp;<span class="op" id="7878169">&gt;</span>&nbsp;<span class="num" id="7878171">1</span>&nbsp;<span class="op" id="7878173">||</span>&nbsp;<span class="ident" id="7878176">delta</span><span class="op" id="7878181">(</span><span class="ident" id="7878182">g0</span><span class="op" id="7878184">,</span>&nbsp;<span class="ident" id="7878186">g1</span><span class="op" id="7878188">)</span>&nbsp;<span class="op" id="7878190">&gt;</span>&nbsp;<span class="num" id="7878192">1</span>&nbsp;<span class="op" id="7878194">||</span>&nbsp;<span class="ident" id="7878197">delta</span><span class="op" id="7878202">(</span><span class="ident" id="7878203">b0</span><span class="op" id="7878205">,</span>&nbsp;<span class="ident" id="7878207">b1</span><span class="op" id="7878209">)</span>&nbsp;<span class="op" id="7878211">&gt;</span>&nbsp;<span class="num" id="7878213">1</span>&nbsp;<span class="op" id="7878215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878222">t</span><span class="op" id="7878223">.</span><span class="ident" id="7878224">Fatalf</span><span class="op" id="7878230">(</span><span class="string" id="7878231">&#34;r0,&nbsp;g0,&nbsp;b0&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&nbsp;&nbsp;&nbsp;r1,&nbsp;g1,&nbsp;b1&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="7878282">,</span>&nbsp;<span class="ident" id="7878284">r0</span><span class="op" id="7878286">,</span>&nbsp;<span class="ident" id="7878288">g0</span><span class="op" id="7878290">,</span>&nbsp;<span class="ident" id="7878292">b0</span><span class="op" id="7878294">,</span>&nbsp;<span class="ident" id="7878296">r1</span><span class="op" id="7878298">,</span>&nbsp;<span class="ident" id="7878300">g1</span><span class="op" id="7878302">,</span>&nbsp;<span class="ident" id="7878304">b1</span><span class="op" id="7878306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878312">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878324">}</span><br>
<span class="lineno"></span><span class="op" id="7878326">}</span>
</div>
</body>
</html>
