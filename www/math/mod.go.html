<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2350503">//&nbsp;Copyright&nbsp;2009-2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2350563">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2350617">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2350668">package</span>&nbsp;<span class="ident" id="2350676">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2350682">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspFloating-point&nbsp;mod&nbsp;function.<br>
<span class="lineno"></span>*/</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="2350719">//&nbsp;Mod&nbsp;returns&nbsp;the&nbsp;floating-point&nbsp;remainder&nbsp;of&nbsp;x/y.</span><br>
<span class="lineno"></span><span class="comment" id="2350771">//&nbsp;The&nbsp;magnitude&nbsp;of&nbsp;the&nbsp;result&nbsp;is&nbsp;less&nbsp;than&nbsp;y&nbsp;and&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="2350825">//&nbsp;sign&nbsp;agrees&nbsp;with&nbsp;that&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="2350856">//</span><br>
<span class="lineno">15</span><span class="comment" id="2350859">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="2350881">//&nbsp;&nbsp;&nbsp;&nbspMod(±Inf,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2350904">//&nbsp;&nbsp;&nbsp;&nbspMod(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2350925">//&nbsp;&nbsp;&nbsp;&nbspMod(x,&nbsp;0)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2350944">//&nbsp;&nbsp;&nbsp;&nbspMod(x,&nbsp;±Inf)&nbsp;=&nbsp;x</span><br>
<span class="lineno">20</span><span class="comment" id="2350965">//&nbsp;&nbsp;&nbsp;&nbspMod(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="2350986">func</span>&nbsp;<span class="ident" id="2350991">Mod</span><span class="op" id="2350994">(</span><span class="ident" id="2350995">x</span><span class="op" id="2350996">,</span>&nbsp;<span class="ident" id="2350998">y</span>&nbsp;<span class="builtintype" id="2351000">float64</span><span class="op" id="2351007">)</span>&nbsp;<span class="builtintype" id="2351009">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2351018">func</span>&nbsp;<span class="ident" id="2351023">mod</span><span class="op" id="2351026">(</span><span class="ident" id="2351027">x</span><span class="op" id="2351028">,</span>&nbsp;<span class="ident" id="2351030">y</span>&nbsp;<span class="builtintype" id="2351032">float64</span><span class="op" id="2351039">)</span>&nbsp;<span class="builtintype" id="2351041">float64</span>&nbsp;<span class="op" id="2351049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2351052">if</span>&nbsp;<span class="ident" id="2351055"><a href="/math/mod.go.html#2351030">y</a></span>&nbsp;<span class="op" id="2351057">==</span>&nbsp;<span class="num" id="2351060">0</span>&nbsp;<span class="op" id="2351062">||</span>&nbsp;<span class="ident" id="2351065"><a href="/math/bits.go.html#2252563">IsInf</a></span><span class="op" id="2351070">(</span><span class="ident" id="2351071"><a href="/math/mod.go.html#2351027">x</a></span><span class="op" id="2351072">,</span>&nbsp;<span class="num" id="2351074">0</span><span class="op" id="2351075">)</span>&nbsp;<span class="op" id="2351077">||</span>&nbsp;<span class="ident" id="2351080"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2351085">(</span><span class="ident" id="2351086"><a href="/math/mod.go.html#2351027">x</a></span><span class="op" id="2351087">)</span>&nbsp;<span class="op" id="2351089">||</span>&nbsp;<span class="ident" id="2351092"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2351097">(</span><span class="ident" id="2351098"><a href="/math/mod.go.html#2351030">y</a></span><span class="op" id="2351099">)</span>&nbsp;<span class="op" id="2351101">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2351105">return</span>&nbsp;<span class="ident" id="2351112"><a href="/math/bits.go.html#2251945">NaN</a></span><span class="op" id="2351115">(</span><span class="op" id="2351116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2351119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2351122">if</span>&nbsp;<span class="ident" id="2351125"><a href="/math/mod.go.html#2351030">y</a></span>&nbsp;<span class="op" id="2351127">&lt;</span>&nbsp;<span class="num" id="2351129">0</span>&nbsp;<span class="op" id="2351131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351135"><a href="/math/mod.go.html#2351030">y</a></span>&nbsp;<span class="op" id="2351137">=</span>&nbsp;<span class="op" id="2351139">-</span><span class="ident" id="2351140"><a href="/math/mod.go.html#2351030">y</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2351143">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351147">yfr</span><span class="op" id="2351150">,</span>&nbsp;<span class="ident" id="2351152">yexp</span>&nbsp;<span class="op" id="2351157">:=</span>&nbsp;<span class="ident" id="2351160"><a href="/math/frexp.go.html#2285214">Frexp</a></span><span class="op" id="2351165">(</span><span class="ident" id="2351166"><a href="/math/mod.go.html#2351030">y</a></span><span class="op" id="2351167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351170">sign</span>&nbsp;<span class="op" id="2351175">:=</span>&nbsp;<span class="builtintype" id="2351178">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351185">r</span>&nbsp;<span class="op" id="2351187">:=</span>&nbsp;<span class="ident" id="2351190"><a href="/math/mod.go.html#2351027">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2351193">if</span>&nbsp;<span class="ident" id="2351196"><a href="/math/mod.go.html#2351027">x</a></span>&nbsp;<span class="op" id="2351198">&lt;</span>&nbsp;<span class="num" id="2351200">0</span>&nbsp;<span class="op" id="2351202">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351206"><a href="/math/mod.go.html#2351185">r</a></span>&nbsp;<span class="op" id="2351208">=</span>&nbsp;<span class="op" id="2351210">-</span><span class="ident" id="2351211"><a href="/math/mod.go.html#2351027">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351215"><a href="/math/mod.go.html#2351170">sign</a></span>&nbsp;<span class="op" id="2351220">=</span>&nbsp;<span class="builtintype" id="2351222">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2351228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2351232">for</span>&nbsp;<span class="ident" id="2351236"><a href="/math/mod.go.html#2351185">r</a></span>&nbsp;<span class="op" id="2351238">&gt;=</span>&nbsp;<span class="ident" id="2351241"><a href="/math/mod.go.html#2351030">y</a></span>&nbsp;<span class="op" id="2351243">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351247">rfr</span><span class="op" id="2351250">,</span>&nbsp;<span class="ident" id="2351252">rexp</span>&nbsp;<span class="op" id="2351257">:=</span>&nbsp;<span class="ident" id="2351260"><a href="/math/frexp.go.html#2285214">Frexp</a></span><span class="op" id="2351265">(</span><span class="ident" id="2351266"><a href="/math/mod.go.html#2351185">r</a></span><span class="op" id="2351267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2351271">if</span>&nbsp;<span class="ident" id="2351274"><a href="/math/mod.go.html#2351247">rfr</a></span>&nbsp;<span class="op" id="2351278">&lt;</span>&nbsp;<span class="ident" id="2351280"><a href="/math/mod.go.html#2351147">yfr</a></span>&nbsp;<span class="op" id="2351284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351289"><a href="/math/mod.go.html#2351252">rexp</a></span>&nbsp;<span class="op" id="2351294">=</span>&nbsp;<span class="ident" id="2351296"><a href="/math/mod.go.html#2351252">rexp</a></span>&nbsp;<span class="op" id="2351301">-</span>&nbsp;<span class="num" id="2351303">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2351307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351311"><a href="/math/mod.go.html#2351185">r</a></span>&nbsp;<span class="op" id="2351313">=</span>&nbsp;<span class="ident" id="2351315"><a href="/math/mod.go.html#2351185">r</a></span>&nbsp;<span class="op" id="2351317">-</span>&nbsp;<span class="ident" id="2351319"><a href="/math/ldexp.go.html#2326641">Ldexp</a></span><span class="op" id="2351324">(</span><span class="ident" id="2351325"><a href="/math/mod.go.html#2351030">y</a></span><span class="op" id="2351326">,</span>&nbsp;<span class="ident" id="2351328"><a href="/math/mod.go.html#2351252">rexp</a></span><span class="op" id="2351332">-</span><span class="ident" id="2351333"><a href="/math/mod.go.html#2351152">yexp</a></span><span class="op" id="2351337">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2351340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2351343">if</span>&nbsp;<span class="ident" id="2351346"><a href="/math/mod.go.html#2351170">sign</a></span>&nbsp;<span class="op" id="2351351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2351355"><a href="/math/mod.go.html#2351185">r</a></span>&nbsp;<span class="op" id="2351357">=</span>&nbsp;<span class="op" id="2351359">-</span><span class="ident" id="2351360"><a href="/math/mod.go.html#2351185">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2351363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2351366">return</span>&nbsp;<span class="ident" id="2351373"><a href="/math/mod.go.html#2351185">r</a></span><br>
<span class="lineno">50</span><span class="op" id="2351375">}</span>
</div>
</body>
</html>
