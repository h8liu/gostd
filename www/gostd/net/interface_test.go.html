<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html" class="current">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6667884">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6667940">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6667994">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6668045">package</span>&nbsp;<span class="ident" id="6668053">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6668058">import</span>&nbsp;<span class="op" id="6668065">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6668068">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6668079">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6668089">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6668092">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="6668160">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="6668227">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="6668237">func</span>&nbsp;<span class="ident" id="6668242">loopbackInterface</span><span class="op" id="6668259">(</span><span class="op" id="6668260">)</span>&nbsp;<span class="op" id="6668262">*</span><span class="ident" id="6668263">Interface</span>&nbsp;<span class="op" id="6668273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6668276">ift</span><span class="op" id="6668279">,</span>&nbsp;<span class="ident" id="6668281">err</span>&nbsp;<span class="op" id="6668285">:=</span>&nbsp;<span class="ident" id="6668288">Interfaces</span><span class="op" id="6668298">(</span><span class="op" id="6668299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668302">if</span>&nbsp;<span class="ident" id="6668305">err</span>&nbsp;<span class="op" id="6668309">!=</span>&nbsp;<span class="builtintype" id="6668312">nil</span>&nbsp;<span class="op" id="6668316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668320">return</span>&nbsp;<span class="builtintype" id="6668327">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6668332">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668335">for</span>&nbsp;<span class="ident" id="6668339">_</span><span class="op" id="6668340">,</span>&nbsp;<span class="ident" id="6668342">ifi</span>&nbsp;<span class="op" id="6668346">:=</span>&nbsp;<span class="keyword" id="6668349">range</span>&nbsp;<span class="ident" id="6668355">ift</span>&nbsp;<span class="op" id="6668359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668363">if</span>&nbsp;<span class="ident" id="6668366">ifi</span><span class="op" id="6668369">.</span><span class="ident" id="6668370">Flags</span><span class="op" id="6668375">&amp;</span><span class="ident" id="6668376">FlagLoopback</span>&nbsp;<span class="op" id="6668389">!=</span>&nbsp;<span class="num" id="6668392">0</span>&nbsp;<span class="op" id="6668394">&amp;&amp;</span>&nbsp;<span class="ident" id="6668397">ifi</span><span class="op" id="6668400">.</span><span class="ident" id="6668401">Flags</span><span class="op" id="6668406">&amp;</span><span class="ident" id="6668407">FlagUp</span>&nbsp;<span class="op" id="6668414">!=</span>&nbsp;<span class="num" id="6668417">0</span>&nbsp;<span class="op" id="6668419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668424">return</span>&nbsp;<span class="op" id="6668431">&amp;</span><span class="ident" id="6668432">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6668438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6668441">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668444">return</span>&nbsp;<span class="builtintype" id="6668451">nil</span><br>
<span class="lineno"></span><span class="op" id="6668455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6668458">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="6668529">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="6668594">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="6668624">func</span>&nbsp;<span class="ident" id="6668629">ipv6LinkLocalUnicastAddr</span><span class="op" id="6668653">(</span><span class="ident" id="6668654">ifi</span>&nbsp;<span class="op" id="6668658">*</span><span class="ident" id="6668659">Interface</span><span class="op" id="6668668">)</span>&nbsp;<span class="builtintype" id="6668670">string</span>&nbsp;<span class="op" id="6668677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668680">if</span>&nbsp;<span class="ident" id="6668683">ifi</span>&nbsp;<span class="op" id="6668687">==</span>&nbsp;<span class="builtintype" id="6668690">nil</span>&nbsp;<span class="op" id="6668694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668698">return</span>&nbsp;<span class="string" id="6668705">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6668709">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6668712">ifat</span><span class="op" id="6668716">,</span>&nbsp;<span class="ident" id="6668718">err</span>&nbsp;<span class="op" id="6668722">:=</span>&nbsp;<span class="ident" id="6668725">ifi</span><span class="op" id="6668728">.</span><span class="ident" id="6668729">Addrs</span><span class="op" id="6668734">(</span><span class="op" id="6668735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668738">if</span>&nbsp;<span class="ident" id="6668741">err</span>&nbsp;<span class="op" id="6668745">!=</span>&nbsp;<span class="builtintype" id="6668748">nil</span>&nbsp;<span class="op" id="6668752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668756">return</span>&nbsp;<span class="string" id="6668763">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6668767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668770">for</span>&nbsp;<span class="ident" id="6668774">_</span><span class="op" id="6668775">,</span>&nbsp;<span class="ident" id="6668777">ifa</span>&nbsp;<span class="op" id="6668781">:=</span>&nbsp;<span class="keyword" id="6668784">range</span>&nbsp;<span class="ident" id="6668790">ifat</span>&nbsp;<span class="op" id="6668795">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668799">switch</span>&nbsp;<span class="ident" id="6668806">ifa</span>&nbsp;<span class="op" id="6668810">:=</span>&nbsp;<span class="ident" id="6668813">ifa</span><span class="op" id="6668816">.</span><span class="op" id="6668817">(</span><span class="keyword" id="6668818">type</span><span class="op" id="6668822">)</span>&nbsp;<span class="op" id="6668824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668828">case</span>&nbsp;<span class="op" id="6668833">*</span><span class="ident" id="6668834">IPAddr</span><span class="op" id="6668840">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668845">if</span>&nbsp;<span class="ident" id="6668848">ifa</span><span class="op" id="6668851">.</span><span class="ident" id="6668852">IP</span><span class="op" id="6668854">.</span><span class="ident" id="6668855">To4</span><span class="op" id="6668858">(</span><span class="op" id="6668859">)</span>&nbsp;<span class="op" id="6668861">==</span>&nbsp;<span class="builtintype" id="6668864">nil</span>&nbsp;<span class="op" id="6668868">&amp;&amp;</span>&nbsp;<span class="ident" id="6668871">ifa</span><span class="op" id="6668874">.</span><span class="ident" id="6668875">IP</span><span class="op" id="6668877">.</span><span class="ident" id="6668878">IsLinkLocalUnicast</span><span class="op" id="6668896">(</span><span class="op" id="6668897">)</span>&nbsp;<span class="op" id="6668899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668905">return</span>&nbsp;<span class="ident" id="6668912">ifa</span><span class="op" id="6668915">.</span><span class="ident" id="6668916">IP</span><span class="op" id="6668918">.</span><span class="ident" id="6668919">String</span><span class="op" id="6668925">(</span><span class="op" id="6668926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6668931">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668935">case</span>&nbsp;<span class="op" id="6668940">*</span><span class="ident" id="6668941">IPNet</span><span class="op" id="6668946">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6668951">if</span>&nbsp;<span class="ident" id="6668954">ifa</span><span class="op" id="6668957">.</span><span class="ident" id="6668958">IP</span><span class="op" id="6668960">.</span><span class="ident" id="6668961">To4</span><span class="op" id="6668964">(</span><span class="op" id="6668965">)</span>&nbsp;<span class="op" id="6668967">==</span>&nbsp;<span class="builtintype" id="6668970">nil</span>&nbsp;<span class="op" id="6668974">&amp;&amp;</span>&nbsp;<span class="ident" id="6668977">ifa</span><span class="op" id="6668980">.</span><span class="ident" id="6668981">IP</span><span class="op" id="6668983">.</span><span class="ident" id="6668984">IsLinkLocalUnicast</span><span class="op" id="6669002">(</span><span class="op" id="6669003">)</span>&nbsp;<span class="op" id="6669005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6669011">return</span>&nbsp;<span class="ident" id="6669018">ifa</span><span class="op" id="6669021">.</span><span class="ident" id="6669022">IP</span><span class="op" id="6669024">.</span><span class="ident" id="6669025">String</span><span class="op" id="6669031">(</span><span class="op" id="6669032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669041">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6669047">return</span>&nbsp;<span class="string" id="6669054">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6669057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6669060">func</span>&nbsp;<span class="ident" id="6669065">TestInterfaces</span><span class="op" id="6669079">(</span><span class="ident" id="6669080">t</span>&nbsp;<span class="op" id="6669082">*</span><span class="ident" id="6669083">testing</span><span class="op" id="6669090">.</span><span class="ident" id="6669091">T</span><span class="op" id="6669092">)</span>&nbsp;<span class="op" id="6669094">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669097">ift</span><span class="op" id="6669100">,</span>&nbsp;<span class="ident" id="6669102">err</span>&nbsp;<span class="op" id="6669106">:=</span>&nbsp;<span class="ident" id="6669109">Interfaces</span><span class="op" id="6669119">(</span><span class="op" id="6669120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6669123">if</span>&nbsp;<span class="ident" id="6669126">err</span>&nbsp;<span class="op" id="6669130">!=</span>&nbsp;<span class="builtintype" id="6669133">nil</span>&nbsp;<span class="op" id="6669137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669141">t</span><span class="op" id="6669142">.</span><span class="ident" id="6669143">Fatalf</span><span class="op" id="6669149">(</span><span class="string" id="6669150">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6669173">,</span>&nbsp;<span class="ident" id="6669175">err</span><span class="op" id="6669178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669184">t</span><span class="op" id="6669185">.</span><span class="ident" id="6669186">Logf</span><span class="op" id="6669190">(</span><span class="string" id="6669191">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6669215">,</span>&nbsp;<span class="builtinfunc" id="6669217">len</span><span class="op" id="6669220">(</span><span class="ident" id="6669221">ift</span><span class="op" id="6669224">)</span><span class="op" id="6669225">,</span>&nbsp;<span class="builtinfunc" id="6669227">cap</span><span class="op" id="6669230">(</span><span class="ident" id="6669231">ift</span><span class="op" id="6669234">)</span><span class="op" id="6669235">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6669239">for</span>&nbsp;<span class="ident" id="6669243">_</span><span class="op" id="6669244">,</span>&nbsp;<span class="ident" id="6669246">ifi</span>&nbsp;<span class="op" id="6669250">:=</span>&nbsp;<span class="keyword" id="6669253">range</span>&nbsp;<span class="ident" id="6669259">ift</span>&nbsp;<span class="op" id="6669263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669267">ifxi</span><span class="op" id="6669271">,</span>&nbsp;<span class="ident" id="6669273">err</span>&nbsp;<span class="op" id="6669277">:=</span>&nbsp;<span class="ident" id="6669280">InterfaceByIndex</span><span class="op" id="6669296">(</span><span class="ident" id="6669297">ifi</span><span class="op" id="6669300">.</span><span class="ident" id="6669301">Index</span><span class="op" id="6669306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6669310">if</span>&nbsp;<span class="ident" id="6669313">err</span>&nbsp;<span class="op" id="6669317">!=</span>&nbsp;<span class="builtintype" id="6669320">nil</span>&nbsp;<span class="op" id="6669324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669329">t</span><span class="op" id="6669330">.</span><span class="ident" id="6669331">Fatalf</span><span class="op" id="6669337">(</span><span class="string" id="6669338">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6669371">,</span>&nbsp;<span class="ident" id="6669373">ifi</span><span class="op" id="6669376">.</span><span class="ident" id="6669377">Index</span><span class="op" id="6669382">,</span>&nbsp;<span class="ident" id="6669384">err</span><span class="op" id="6669387">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6669395">if</span>&nbsp;<span class="op" id="6669398">!</span><span class="ident" id="6669399">reflect</span><span class="op" id="6669406">.</span><span class="ident" id="6669407">DeepEqual</span><span class="op" id="6669416">(</span><span class="ident" id="6669417">ifxi</span><span class="op" id="6669421">,</span>&nbsp;<span class="op" id="6669423">&amp;</span><span class="ident" id="6669424">ifi</span><span class="op" id="6669427">)</span>&nbsp;<span class="op" id="6669429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669434">t</span><span class="op" id="6669435">.</span><span class="ident" id="6669436">Fatalf</span><span class="op" id="6669442">(</span><span class="string" id="6669443">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6669479">,</span>&nbsp;<span class="ident" id="6669481">ifi</span><span class="op" id="6669484">.</span><span class="ident" id="6669485">Index</span><span class="op" id="6669490">,</span>&nbsp;<span class="ident" id="6669492">ifxi</span><span class="op" id="6669496">,</span>&nbsp;<span class="ident" id="6669498">ifi</span><span class="op" id="6669501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669509">ifxn</span><span class="op" id="6669513">,</span>&nbsp;<span class="ident" id="6669515">err</span>&nbsp;<span class="op" id="6669519">:=</span>&nbsp;<span class="ident" id="6669522">InterfaceByName</span><span class="op" id="6669537">(</span><span class="ident" id="6669538">ifi</span><span class="op" id="6669541">.</span><span class="ident" id="6669542">Name</span><span class="op" id="6669546">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6669550">if</span>&nbsp;<span class="ident" id="6669553">err</span>&nbsp;<span class="op" id="6669557">!=</span>&nbsp;<span class="builtintype" id="6669560">nil</span>&nbsp;<span class="op" id="6669564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669569">t</span><span class="op" id="6669570">.</span><span class="ident" id="6669571">Fatalf</span><span class="op" id="6669577">(</span><span class="string" id="6669578">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6669610">,</span>&nbsp;<span class="ident" id="6669612">ifi</span><span class="op" id="6669615">.</span><span class="ident" id="6669616">Name</span><span class="op" id="6669620">,</span>&nbsp;<span class="ident" id="6669622">err</span><span class="op" id="6669625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6669633">if</span>&nbsp;<span class="op" id="6669636">!</span><span class="ident" id="6669637">reflect</span><span class="op" id="6669644">.</span><span class="ident" id="6669645">DeepEqual</span><span class="op" id="6669654">(</span><span class="ident" id="6669655">ifxn</span><span class="op" id="6669659">,</span>&nbsp;<span class="op" id="6669661">&amp;</span><span class="ident" id="6669662">ifi</span><span class="op" id="6669665">)</span>&nbsp;<span class="op" id="6669667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669672">t</span><span class="op" id="6669673">.</span><span class="ident" id="6669674">Fatalf</span><span class="op" id="6669680">(</span><span class="string" id="6669681">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6669716">,</span>&nbsp;<span class="ident" id="6669718">ifi</span><span class="op" id="6669721">.</span><span class="ident" id="6669722">Name</span><span class="op" id="6669726">,</span>&nbsp;<span class="ident" id="6669728">ifxn</span><span class="op" id="6669732">,</span>&nbsp;<span class="ident" id="6669734">ifi</span><span class="op" id="6669737">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669745">t</span><span class="op" id="6669746">.</span><span class="ident" id="6669747">Logf</span><span class="op" id="6669751">(</span><span class="string" id="6669752">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="6669786">,</span>&nbsp;<span class="ident" id="6669788">ifi</span><span class="op" id="6669791">.</span><span class="ident" id="6669792">Name</span><span class="op" id="6669796">,</span>&nbsp;<span class="ident" id="6669798">ifi</span><span class="op" id="6669801">.</span><span class="ident" id="6669802">Flags</span><span class="op" id="6669807">.</span><span class="ident" id="6669808">String</span><span class="op" id="6669814">(</span><span class="op" id="6669815">)</span><span class="op" id="6669816">,</span>&nbsp;<span class="ident" id="6669818">ifi</span><span class="op" id="6669821">.</span><span class="ident" id="6669822">Index</span><span class="op" id="6669827">,</span>&nbsp;<span class="ident" id="6669829">ifi</span><span class="op" id="6669832">.</span><span class="ident" id="6669833">MTU</span><span class="op" id="6669836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669840">t</span><span class="op" id="6669841">.</span><span class="ident" id="6669842">Logf</span><span class="op" id="6669846">(</span><span class="string" id="6669847">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6669870">,</span>&nbsp;<span class="ident" id="6669872">ifi</span><span class="op" id="6669875">.</span><span class="ident" id="6669876">HardwareAddr</span><span class="op" id="6669888">.</span><span class="ident" id="6669889">String</span><span class="op" id="6669895">(</span><span class="op" id="6669896">)</span><span class="op" id="6669897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669901">testInterfaceAddrs</span><span class="op" id="6669919">(</span><span class="ident" id="6669920">t</span><span class="op" id="6669921">,</span>&nbsp;<span class="op" id="6669923">&amp;</span><span class="ident" id="6669924">ifi</span><span class="op" id="6669927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6669931">testInterfaceMulticastAddrs</span><span class="op" id="6669958">(</span><span class="ident" id="6669959">t</span><span class="op" id="6669960">,</span>&nbsp;<span class="op" id="6669962">&amp;</span><span class="ident" id="6669963">ifi</span><span class="op" id="6669966">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6669969">}</span><br>
<span class="lineno"></span><span class="op" id="6669971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6669974">func</span>&nbsp;<span class="ident" id="6669979">TestInterfaceAddrs</span><span class="op" id="6669997">(</span><span class="ident" id="6669998">t</span>&nbsp;<span class="op" id="6670000">*</span><span class="ident" id="6670001">testing</span><span class="op" id="6670008">.</span><span class="ident" id="6670009">T</span><span class="op" id="6670010">)</span>&nbsp;<span class="op" id="6670012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670015">ifat</span><span class="op" id="6670019">,</span>&nbsp;<span class="ident" id="6670021">err</span>&nbsp;<span class="op" id="6670025">:=</span>&nbsp;<span class="ident" id="6670028">InterfaceAddrs</span><span class="op" id="6670042">(</span><span class="op" id="6670043">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670046">if</span>&nbsp;<span class="ident" id="6670049">err</span>&nbsp;<span class="op" id="6670053">!=</span>&nbsp;<span class="builtintype" id="6670056">nil</span>&nbsp;<span class="op" id="6670060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670064">t</span><span class="op" id="6670065">.</span><span class="ident" id="6670066">Fatalf</span><span class="op" id="6670072">(</span><span class="string" id="6670073">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6670100">,</span>&nbsp;<span class="ident" id="6670102">err</span><span class="op" id="6670105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670111">t</span><span class="op" id="6670112">.</span><span class="ident" id="6670113">Logf</span><span class="op" id="6670117">(</span><span class="string" id="6670118">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="6670142">,</span>&nbsp;<span class="builtinfunc" id="6670144">len</span><span class="op" id="6670147">(</span><span class="ident" id="6670148">ifat</span><span class="op" id="6670152">)</span><span class="op" id="6670153">,</span>&nbsp;<span class="builtinfunc" id="6670155">cap</span><span class="op" id="6670158">(</span><span class="ident" id="6670159">ifat</span><span class="op" id="6670163">)</span><span class="op" id="6670164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670167">testAddrs</span><span class="op" id="6670176">(</span><span class="ident" id="6670177">t</span><span class="op" id="6670178">,</span>&nbsp;<span class="ident" id="6670180">ifat</span><span class="op" id="6670184">)</span><br>
<span class="lineno">90</span><span class="op" id="6670186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6670189">func</span>&nbsp;<span class="ident" id="6670194">testInterfaceAddrs</span><span class="op" id="6670212">(</span><span class="ident" id="6670213">t</span>&nbsp;<span class="op" id="6670215">*</span><span class="ident" id="6670216">testing</span><span class="op" id="6670223">.</span><span class="ident" id="6670224">T</span><span class="op" id="6670225">,</span>&nbsp;<span class="ident" id="6670227">ifi</span>&nbsp;<span class="op" id="6670231">*</span><span class="ident" id="6670232">Interface</span><span class="op" id="6670241">)</span>&nbsp;<span class="op" id="6670243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670246">ifat</span><span class="op" id="6670250">,</span>&nbsp;<span class="ident" id="6670252">err</span>&nbsp;<span class="op" id="6670256">:=</span>&nbsp;<span class="ident" id="6670259">ifi</span><span class="op" id="6670262">.</span><span class="ident" id="6670263">Addrs</span><span class="op" id="6670268">(</span><span class="op" id="6670269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670272">if</span>&nbsp;<span class="ident" id="6670275">err</span>&nbsp;<span class="op" id="6670279">!=</span>&nbsp;<span class="builtintype" id="6670282">nil</span>&nbsp;<span class="op" id="6670286">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670290">t</span><span class="op" id="6670291">.</span><span class="ident" id="6670292">Fatalf</span><span class="op" id="6670298">(</span><span class="string" id="6670299">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6670327">,</span>&nbsp;<span class="ident" id="6670329">err</span><span class="op" id="6670332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670338">testAddrs</span><span class="op" id="6670347">(</span><span class="ident" id="6670348">t</span><span class="op" id="6670349">,</span>&nbsp;<span class="ident" id="6670351">ifat</span><span class="op" id="6670355">)</span><br>
<span class="lineno"></span><span class="op" id="6670357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6670360">func</span>&nbsp;<span class="ident" id="6670365">testInterfaceMulticastAddrs</span><span class="op" id="6670392">(</span><span class="ident" id="6670393">t</span>&nbsp;<span class="op" id="6670395">*</span><span class="ident" id="6670396">testing</span><span class="op" id="6670403">.</span><span class="ident" id="6670404">T</span><span class="op" id="6670405">,</span>&nbsp;<span class="ident" id="6670407">ifi</span>&nbsp;<span class="op" id="6670411">*</span><span class="ident" id="6670412">Interface</span><span class="op" id="6670421">)</span>&nbsp;<span class="op" id="6670423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670426">ifmat</span><span class="op" id="6670431">,</span>&nbsp;<span class="ident" id="6670433">err</span>&nbsp;<span class="op" id="6670437">:=</span>&nbsp;<span class="ident" id="6670440">ifi</span><span class="op" id="6670443">.</span><span class="ident" id="6670444">MulticastAddrs</span><span class="op" id="6670458">(</span><span class="op" id="6670459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670462">if</span>&nbsp;<span class="ident" id="6670465">err</span>&nbsp;<span class="op" id="6670469">!=</span>&nbsp;<span class="builtintype" id="6670472">nil</span>&nbsp;<span class="op" id="6670476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670480">t</span><span class="op" id="6670481">.</span><span class="ident" id="6670482">Fatalf</span><span class="op" id="6670488">(</span><span class="string" id="6670489">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6670526">,</span>&nbsp;<span class="ident" id="6670528">err</span><span class="op" id="6670531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670534">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670537">testMulticastAddrs</span><span class="op" id="6670555">(</span><span class="ident" id="6670556">t</span><span class="op" id="6670557">,</span>&nbsp;<span class="ident" id="6670559">ifmat</span><span class="op" id="6670564">)</span><br>
<span class="lineno"></span><span class="op" id="6670566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6670569">func</span>&nbsp;<span class="ident" id="6670574">testAddrs</span><span class="op" id="6670583">(</span><span class="ident" id="6670584">t</span>&nbsp;<span class="op" id="6670586">*</span><span class="ident" id="6670587">testing</span><span class="op" id="6670594">.</span><span class="ident" id="6670595">T</span><span class="op" id="6670596">,</span>&nbsp;<span class="ident" id="6670598">ifat</span>&nbsp;<span class="op" id="6670603">[</span><span class="op" id="6670604">]</span><span class="ident" id="6670605">Addr</span><span class="op" id="6670609">)</span>&nbsp;<span class="op" id="6670611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670614">for</span>&nbsp;<span class="ident" id="6670618">_</span><span class="op" id="6670619">,</span>&nbsp;<span class="ident" id="6670621">ifa</span>&nbsp;<span class="op" id="6670625">:=</span>&nbsp;<span class="keyword" id="6670628">range</span>&nbsp;<span class="ident" id="6670634">ifat</span>&nbsp;<span class="op" id="6670639">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670643">switch</span>&nbsp;<span class="ident" id="6670650">ifa</span>&nbsp;<span class="op" id="6670654">:=</span>&nbsp;<span class="ident" id="6670657">ifa</span><span class="op" id="6670660">.</span><span class="op" id="6670661">(</span><span class="keyword" id="6670662">type</span><span class="op" id="6670666">)</span>&nbsp;<span class="op" id="6670668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670672">case</span>&nbsp;<span class="op" id="6670677">*</span><span class="ident" id="6670678">IPAddr</span><span class="op" id="6670684">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670689">if</span>&nbsp;<span class="ident" id="6670692">ifa</span>&nbsp;<span class="op" id="6670696">==</span>&nbsp;<span class="builtintype" id="6670699">nil</span>&nbsp;<span class="op" id="6670703">||</span>&nbsp;<span class="ident" id="6670706">ifa</span><span class="op" id="6670709">.</span><span class="ident" id="6670710">IP</span>&nbsp;<span class="op" id="6670713">==</span>&nbsp;<span class="builtintype" id="6670716">nil</span>&nbsp;<span class="op" id="6670720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670726">t</span><span class="op" id="6670727">.</span><span class="ident" id="6670728">Errorf</span><span class="op" id="6670734">(</span><span class="string" id="6670735">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6670763">,</span>&nbsp;<span class="ident" id="6670765">ifa</span><span class="op" id="6670768">,</span>&nbsp;<span class="ident" id="6670770">ifa</span><span class="op" id="6670773">.</span><span class="ident" id="6670774">IP</span><span class="op" id="6670776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670781">}</span>&nbsp;<span class="keyword" id="6670783">else</span>&nbsp;<span class="op" id="6670788">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670794">t</span><span class="op" id="6670795">.</span><span class="ident" id="6670796">Logf</span><span class="op" id="6670800">(</span><span class="string" id="6670801">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6670825">,</span>&nbsp;<span class="ident" id="6670827">ifa</span><span class="op" id="6670830">.</span><span class="ident" id="6670831">String</span><span class="op" id="6670837">(</span><span class="op" id="6670838">)</span><span class="op" id="6670839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670848">case</span>&nbsp;<span class="op" id="6670853">*</span><span class="ident" id="6670854">IPNet</span><span class="op" id="6670859">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6670864">if</span>&nbsp;<span class="ident" id="6670867">ifa</span>&nbsp;<span class="op" id="6670871">==</span>&nbsp;<span class="builtintype" id="6670874">nil</span>&nbsp;<span class="op" id="6670878">||</span>&nbsp;<span class="ident" id="6670881">ifa</span><span class="op" id="6670884">.</span><span class="ident" id="6670885">IP</span>&nbsp;<span class="op" id="6670888">==</span>&nbsp;<span class="builtintype" id="6670891">nil</span>&nbsp;<span class="op" id="6670895">||</span>&nbsp;<span class="ident" id="6670898">ifa</span><span class="op" id="6670901">.</span><span class="ident" id="6670902">Mask</span>&nbsp;<span class="op" id="6670907">==</span>&nbsp;<span class="builtintype" id="6670910">nil</span>&nbsp;<span class="op" id="6670914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6670920">t</span><span class="op" id="6670921">.</span><span class="ident" id="6670922">Errorf</span><span class="op" id="6670928">(</span><span class="string" id="6670929">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6670961">,</span>&nbsp;<span class="ident" id="6670963">ifa</span><span class="op" id="6670966">,</span>&nbsp;<span class="ident" id="6670968">ifa</span><span class="op" id="6670971">.</span><span class="ident" id="6670972">IP</span><span class="op" id="6670974">,</span>&nbsp;<span class="ident" id="6670976">ifa</span><span class="op" id="6670979">.</span><span class="ident" id="6670980">Mask</span><span class="op" id="6670984">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6670989">}</span>&nbsp;<span class="keyword" id="6670991">else</span>&nbsp;<span class="op" id="6670996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671002">_</span><span class="op" id="6671003">,</span>&nbsp;<span class="ident" id="6671005">prefixLen</span>&nbsp;<span class="op" id="6671015">:=</span>&nbsp;<span class="ident" id="6671018">ifa</span><span class="op" id="6671021">.</span><span class="ident" id="6671022">Mask</span><span class="op" id="6671026">.</span><span class="ident" id="6671027">Size</span><span class="op" id="6671031">(</span><span class="op" id="6671032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671038">if</span>&nbsp;<span class="ident" id="6671041">ifa</span><span class="op" id="6671044">.</span><span class="ident" id="6671045">IP</span><span class="op" id="6671047">.</span><span class="ident" id="6671048">To4</span><span class="op" id="6671051">(</span><span class="op" id="6671052">)</span>&nbsp;<span class="op" id="6671054">!=</span>&nbsp;<span class="builtintype" id="6671057">nil</span>&nbsp;<span class="op" id="6671061">&amp;&amp;</span>&nbsp;<span class="ident" id="6671064">prefixLen</span>&nbsp;<span class="op" id="6671074">!=</span>&nbsp;<span class="num" id="6671077">8</span><span class="op" id="6671078">*</span><span class="ident" id="6671079">IPv4len</span>&nbsp;<span class="op" id="6671087">||</span>&nbsp;<span class="ident" id="6671090">ifa</span><span class="op" id="6671093">.</span><span class="ident" id="6671094">IP</span><span class="op" id="6671096">.</span><span class="ident" id="6671097">To16</span><span class="op" id="6671101">(</span><span class="op" id="6671102">)</span>&nbsp;<span class="op" id="6671104">!=</span>&nbsp;<span class="builtintype" id="6671107">nil</span>&nbsp;<span class="op" id="6671111">&amp;&amp;</span>&nbsp;<span class="ident" id="6671114">ifa</span><span class="op" id="6671117">.</span><span class="ident" id="6671118">IP</span><span class="op" id="6671120">.</span><span class="ident" id="6671121">To4</span><span class="op" id="6671124">(</span><span class="op" id="6671125">)</span>&nbsp;<span class="op" id="6671127">==</span>&nbsp;<span class="builtintype" id="6671130">nil</span>&nbsp;<span class="op" id="6671134">&amp;&amp;</span>&nbsp;<span class="ident" id="6671137">prefixLen</span>&nbsp;<span class="op" id="6671147">!=</span>&nbsp;<span class="num" id="6671150">8</span><span class="op" id="6671151">*</span><span class="ident" id="6671152">IPv6len</span>&nbsp;<span class="op" id="6671160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671167">t</span><span class="op" id="6671168">.</span><span class="ident" id="6671169">Errorf</span><span class="op" id="6671175">(</span><span class="string" id="6671176">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6671212">,</span>&nbsp;<span class="ident" id="6671214">ifa</span><span class="op" id="6671217">,</span>&nbsp;<span class="ident" id="6671219">ifa</span><span class="op" id="6671222">.</span><span class="ident" id="6671223">IP</span><span class="op" id="6671225">,</span>&nbsp;<span class="ident" id="6671227">ifa</span><span class="op" id="6671230">.</span><span class="ident" id="6671231">Mask</span><span class="op" id="6671235">,</span>&nbsp;<span class="ident" id="6671237">prefixLen</span><span class="op" id="6671246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671252">}</span>&nbsp;<span class="keyword" id="6671254">else</span>&nbsp;<span class="op" id="6671259">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671266">t</span><span class="op" id="6671267">.</span><span class="ident" id="6671268">Logf</span><span class="op" id="6671272">(</span><span class="string" id="6671273">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6671297">,</span>&nbsp;<span class="ident" id="6671299">ifa</span><span class="op" id="6671302">.</span><span class="ident" id="6671303">String</span><span class="op" id="6671309">(</span><span class="op" id="6671310">)</span><span class="op" id="6671311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671326">default</span><span class="op" id="6671333">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671338">t</span><span class="op" id="6671339">.</span><span class="ident" id="6671340">Errorf</span><span class="op" id="6671346">(</span><span class="string" id="6671347">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6671370">,</span>&nbsp;<span class="ident" id="6671372">ifa</span><span class="op" id="6671375">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671382">}</span><br>
<span class="lineno"></span><span class="op" id="6671384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671387">func</span>&nbsp;<span class="ident" id="6671392">testMulticastAddrs</span><span class="op" id="6671410">(</span><span class="ident" id="6671411">t</span>&nbsp;<span class="op" id="6671413">*</span><span class="ident" id="6671414">testing</span><span class="op" id="6671421">.</span><span class="ident" id="6671422">T</span><span class="op" id="6671423">,</span>&nbsp;<span class="ident" id="6671425">ifmat</span>&nbsp;<span class="op" id="6671431">[</span><span class="op" id="6671432">]</span><span class="ident" id="6671433">Addr</span><span class="op" id="6671437">)</span>&nbsp;<span class="op" id="6671439">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671442">for</span>&nbsp;<span class="ident" id="6671446">_</span><span class="op" id="6671447">,</span>&nbsp;<span class="ident" id="6671449">ifma</span>&nbsp;<span class="op" id="6671454">:=</span>&nbsp;<span class="keyword" id="6671457">range</span>&nbsp;<span class="ident" id="6671463">ifmat</span>&nbsp;<span class="op" id="6671469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671473">switch</span>&nbsp;<span class="ident" id="6671480">ifma</span>&nbsp;<span class="op" id="6671485">:=</span>&nbsp;<span class="ident" id="6671488">ifma</span><span class="op" id="6671492">.</span><span class="op" id="6671493">(</span><span class="keyword" id="6671494">type</span><span class="op" id="6671498">)</span>&nbsp;<span class="op" id="6671500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671504">case</span>&nbsp;<span class="op" id="6671509">*</span><span class="ident" id="6671510">IPAddr</span><span class="op" id="6671516">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671521">if</span>&nbsp;<span class="ident" id="6671524">ifma</span>&nbsp;<span class="op" id="6671529">==</span>&nbsp;<span class="builtintype" id="6671532">nil</span>&nbsp;<span class="op" id="6671536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671542">t</span><span class="op" id="6671543">.</span><span class="ident" id="6671544">Errorf</span><span class="op" id="6671550">(</span><span class="string" id="6671551">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="6671575">,</span>&nbsp;<span class="ident" id="6671577">ifma</span><span class="op" id="6671581">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671586">}</span>&nbsp;<span class="keyword" id="6671588">else</span>&nbsp;<span class="op" id="6671593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671599">t</span><span class="op" id="6671600">.</span><span class="ident" id="6671601">Logf</span><span class="op" id="6671605">(</span><span class="string" id="6671606">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="6671633">,</span>&nbsp;<span class="ident" id="6671635">ifma</span><span class="op" id="6671639">.</span><span class="ident" id="6671640">String</span><span class="op" id="6671646">(</span><span class="op" id="6671647">)</span><span class="op" id="6671648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671657">default</span><span class="op" id="6671664">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671669">t</span><span class="op" id="6671670">.</span><span class="ident" id="6671671">Errorf</span><span class="op" id="6671677">(</span><span class="string" id="6671678">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="6671701">,</span>&nbsp;<span class="ident" id="6671703">ifma</span><span class="op" id="6671707">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671714">}</span><br>
<span class="lineno"></span><span class="op" id="6671716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671719">func</span>&nbsp;<span class="ident" id="6671724">BenchmarkInterfaces</span><span class="op" id="6671743">(</span><span class="ident" id="6671744">b</span>&nbsp;<span class="op" id="6671746">*</span><span class="ident" id="6671747">testing</span><span class="op" id="6671754">.</span><span class="ident" id="6671755">B</span><span class="op" id="6671756">)</span>&nbsp;<span class="op" id="6671758">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671761">for</span>&nbsp;<span class="ident" id="6671765">i</span>&nbsp;<span class="op" id="6671767">:=</span>&nbsp;<span class="num" id="6671770">0</span><span class="op" id="6671771">;</span>&nbsp;<span class="ident" id="6671773">i</span>&nbsp;<span class="op" id="6671775">&lt;</span>&nbsp;<span class="ident" id="6671777">b</span><span class="op" id="6671778">.</span><span class="ident" id="6671779">N</span><span class="op" id="6671780">;</span>&nbsp;<span class="ident" id="6671782">i</span><span class="op" id="6671783">++</span>&nbsp;<span class="op" id="6671786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671790">if</span>&nbsp;<span class="ident" id="6671793">_</span><span class="op" id="6671794">,</span>&nbsp;<span class="ident" id="6671796">err</span>&nbsp;<span class="op" id="6671800">:=</span>&nbsp;<span class="ident" id="6671803">Interfaces</span><span class="op" id="6671813">(</span><span class="op" id="6671814">)</span><span class="op" id="6671815">;</span>&nbsp;<span class="ident" id="6671817">err</span>&nbsp;<span class="op" id="6671821">!=</span>&nbsp;<span class="builtintype" id="6671824">nil</span>&nbsp;<span class="op" id="6671828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671833">b</span><span class="op" id="6671834">.</span><span class="ident" id="6671835">Fatalf</span><span class="op" id="6671841">(</span><span class="string" id="6671842">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6671865">,</span>&nbsp;<span class="ident" id="6671867">err</span><span class="op" id="6671870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6671877">}</span><br>
<span class="lineno">155</span><span class="op" id="6671879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671882">func</span>&nbsp;<span class="ident" id="6671887">BenchmarkInterfaceByIndex</span><span class="op" id="6671912">(</span><span class="ident" id="6671913">b</span>&nbsp;<span class="op" id="6671915">*</span><span class="ident" id="6671916">testing</span><span class="op" id="6671923">.</span><span class="ident" id="6671924">B</span><span class="op" id="6671925">)</span>&nbsp;<span class="op" id="6671927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671930">ifi</span>&nbsp;<span class="op" id="6671934">:=</span>&nbsp;<span class="ident" id="6671937">loopbackInterface</span><span class="op" id="6671954">(</span><span class="op" id="6671955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6671958">if</span>&nbsp;<span class="ident" id="6671961">ifi</span>&nbsp;<span class="op" id="6671965">==</span>&nbsp;<span class="builtintype" id="6671968">nil</span>&nbsp;<span class="op" id="6671972">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6671976">b</span><span class="op" id="6671977">.</span><span class="ident" id="6671978">Skip</span><span class="op" id="6671982">(</span><span class="string" id="6671983">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6672013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672019">for</span>&nbsp;<span class="ident" id="6672023">i</span>&nbsp;<span class="op" id="6672025">:=</span>&nbsp;<span class="num" id="6672028">0</span><span class="op" id="6672029">;</span>&nbsp;<span class="ident" id="6672031">i</span>&nbsp;<span class="op" id="6672033">&lt;</span>&nbsp;<span class="ident" id="6672035">b</span><span class="op" id="6672036">.</span><span class="ident" id="6672037">N</span><span class="op" id="6672038">;</span>&nbsp;<span class="ident" id="6672040">i</span><span class="op" id="6672041">++</span>&nbsp;<span class="op" id="6672044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672048">if</span>&nbsp;<span class="ident" id="6672051">_</span><span class="op" id="6672052">,</span>&nbsp;<span class="ident" id="6672054">err</span>&nbsp;<span class="op" id="6672058">:=</span>&nbsp;<span class="ident" id="6672061">InterfaceByIndex</span><span class="op" id="6672077">(</span><span class="ident" id="6672078">ifi</span><span class="op" id="6672081">.</span><span class="ident" id="6672082">Index</span><span class="op" id="6672087">)</span><span class="op" id="6672088">;</span>&nbsp;<span class="ident" id="6672090">err</span>&nbsp;<span class="op" id="6672094">!=</span>&nbsp;<span class="builtintype" id="6672097">nil</span>&nbsp;<span class="op" id="6672101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672106">b</span><span class="op" id="6672107">.</span><span class="ident" id="6672108">Fatalf</span><span class="op" id="6672114">(</span><span class="string" id="6672115">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6672144">,</span>&nbsp;<span class="ident" id="6672146">err</span><span class="op" id="6672149">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672156">}</span><br>
<span class="lineno"></span><span class="op" id="6672158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6672161">func</span>&nbsp;<span class="ident" id="6672166">BenchmarkInterfaceByName</span><span class="op" id="6672190">(</span><span class="ident" id="6672191">b</span>&nbsp;<span class="op" id="6672193">*</span><span class="ident" id="6672194">testing</span><span class="op" id="6672201">.</span><span class="ident" id="6672202">B</span><span class="op" id="6672203">)</span>&nbsp;<span class="op" id="6672205">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672208">ifi</span>&nbsp;<span class="op" id="6672212">:=</span>&nbsp;<span class="ident" id="6672215">loopbackInterface</span><span class="op" id="6672232">(</span><span class="op" id="6672233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672236">if</span>&nbsp;<span class="ident" id="6672239">ifi</span>&nbsp;<span class="op" id="6672243">==</span>&nbsp;<span class="builtintype" id="6672246">nil</span>&nbsp;<span class="op" id="6672250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672254">b</span><span class="op" id="6672255">.</span><span class="ident" id="6672256">Skip</span><span class="op" id="6672260">(</span><span class="string" id="6672261">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6672291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672297">for</span>&nbsp;<span class="ident" id="6672301">i</span>&nbsp;<span class="op" id="6672303">:=</span>&nbsp;<span class="num" id="6672306">0</span><span class="op" id="6672307">;</span>&nbsp;<span class="ident" id="6672309">i</span>&nbsp;<span class="op" id="6672311">&lt;</span>&nbsp;<span class="ident" id="6672313">b</span><span class="op" id="6672314">.</span><span class="ident" id="6672315">N</span><span class="op" id="6672316">;</span>&nbsp;<span class="ident" id="6672318">i</span><span class="op" id="6672319">++</span>&nbsp;<span class="op" id="6672322">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672326">if</span>&nbsp;<span class="ident" id="6672329">_</span><span class="op" id="6672330">,</span>&nbsp;<span class="ident" id="6672332">err</span>&nbsp;<span class="op" id="6672336">:=</span>&nbsp;<span class="ident" id="6672339">InterfaceByName</span><span class="op" id="6672354">(</span><span class="ident" id="6672355">ifi</span><span class="op" id="6672358">.</span><span class="ident" id="6672359">Name</span><span class="op" id="6672363">)</span><span class="op" id="6672364">;</span>&nbsp;<span class="ident" id="6672366">err</span>&nbsp;<span class="op" id="6672370">!=</span>&nbsp;<span class="builtintype" id="6672373">nil</span>&nbsp;<span class="op" id="6672377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672382">b</span><span class="op" id="6672383">.</span><span class="ident" id="6672384">Fatalf</span><span class="op" id="6672390">(</span><span class="string" id="6672391">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6672419">,</span>&nbsp;<span class="ident" id="6672421">err</span><span class="op" id="6672424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672431">}</span><br>
<span class="lineno"></span><span class="op" id="6672433">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="6672436">func</span>&nbsp;<span class="ident" id="6672441">BenchmarkInterfaceAddrs</span><span class="op" id="6672464">(</span><span class="ident" id="6672465">b</span>&nbsp;<span class="op" id="6672467">*</span><span class="ident" id="6672468">testing</span><span class="op" id="6672475">.</span><span class="ident" id="6672476">B</span><span class="op" id="6672477">)</span>&nbsp;<span class="op" id="6672479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672482">for</span>&nbsp;<span class="ident" id="6672486">i</span>&nbsp;<span class="op" id="6672488">:=</span>&nbsp;<span class="num" id="6672491">0</span><span class="op" id="6672492">;</span>&nbsp;<span class="ident" id="6672494">i</span>&nbsp;<span class="op" id="6672496">&lt;</span>&nbsp;<span class="ident" id="6672498">b</span><span class="op" id="6672499">.</span><span class="ident" id="6672500">N</span><span class="op" id="6672501">;</span>&nbsp;<span class="ident" id="6672503">i</span><span class="op" id="6672504">++</span>&nbsp;<span class="op" id="6672507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672511">if</span>&nbsp;<span class="ident" id="6672514">_</span><span class="op" id="6672515">,</span>&nbsp;<span class="ident" id="6672517">err</span>&nbsp;<span class="op" id="6672521">:=</span>&nbsp;<span class="ident" id="6672524">InterfaceAddrs</span><span class="op" id="6672538">(</span><span class="op" id="6672539">)</span><span class="op" id="6672540">;</span>&nbsp;<span class="ident" id="6672542">err</span>&nbsp;<span class="op" id="6672546">!=</span>&nbsp;<span class="builtintype" id="6672549">nil</span>&nbsp;<span class="op" id="6672553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672558">b</span><span class="op" id="6672559">.</span><span class="ident" id="6672560">Fatalf</span><span class="op" id="6672566">(</span><span class="string" id="6672567">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6672594">,</span>&nbsp;<span class="ident" id="6672596">err</span><span class="op" id="6672599">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672606">}</span><br>
<span class="lineno"></span><span class="op" id="6672608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6672611">func</span>&nbsp;<span class="ident" id="6672616">BenchmarkInterfacesAndAddrs</span><span class="op" id="6672643">(</span><span class="ident" id="6672644">b</span>&nbsp;<span class="op" id="6672646">*</span><span class="ident" id="6672647">testing</span><span class="op" id="6672654">.</span><span class="ident" id="6672655">B</span><span class="op" id="6672656">)</span>&nbsp;<span class="op" id="6672658">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672661">ifi</span>&nbsp;<span class="op" id="6672665">:=</span>&nbsp;<span class="ident" id="6672668">loopbackInterface</span><span class="op" id="6672685">(</span><span class="op" id="6672686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672689">if</span>&nbsp;<span class="ident" id="6672692">ifi</span>&nbsp;<span class="op" id="6672696">==</span>&nbsp;<span class="builtintype" id="6672699">nil</span>&nbsp;<span class="op" id="6672703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672707">b</span><span class="op" id="6672708">.</span><span class="ident" id="6672709">Skip</span><span class="op" id="6672713">(</span><span class="string" id="6672714">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6672744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672750">for</span>&nbsp;<span class="ident" id="6672754">i</span>&nbsp;<span class="op" id="6672756">:=</span>&nbsp;<span class="num" id="6672759">0</span><span class="op" id="6672760">;</span>&nbsp;<span class="ident" id="6672762">i</span>&nbsp;<span class="op" id="6672764">&lt;</span>&nbsp;<span class="ident" id="6672766">b</span><span class="op" id="6672767">.</span><span class="ident" id="6672768">N</span><span class="op" id="6672769">;</span>&nbsp;<span class="ident" id="6672771">i</span><span class="op" id="6672772">++</span>&nbsp;<span class="op" id="6672775">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672779">if</span>&nbsp;<span class="ident" id="6672782">_</span><span class="op" id="6672783">,</span>&nbsp;<span class="ident" id="6672785">err</span>&nbsp;<span class="op" id="6672789">:=</span>&nbsp;<span class="ident" id="6672792">ifi</span><span class="op" id="6672795">.</span><span class="ident" id="6672796">Addrs</span><span class="op" id="6672801">(</span><span class="op" id="6672802">)</span><span class="op" id="6672803">;</span>&nbsp;<span class="ident" id="6672805">err</span>&nbsp;<span class="op" id="6672809">!=</span>&nbsp;<span class="builtintype" id="6672812">nil</span>&nbsp;<span class="op" id="6672816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672821">b</span><span class="op" id="6672822">.</span><span class="ident" id="6672823">Fatalf</span><span class="op" id="6672829">(</span><span class="string" id="6672830">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6672858">,</span>&nbsp;<span class="ident" id="6672860">err</span><span class="op" id="6672863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6672870">}</span><br>
<span class="lineno"></span><span class="op" id="6672872">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="6672875">func</span>&nbsp;<span class="ident" id="6672880">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="6672916">(</span><span class="ident" id="6672917">b</span>&nbsp;<span class="op" id="6672919">*</span><span class="ident" id="6672920">testing</span><span class="op" id="6672927">.</span><span class="ident" id="6672928">B</span><span class="op" id="6672929">)</span>&nbsp;<span class="op" id="6672931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672934">ifi</span>&nbsp;<span class="op" id="6672938">:=</span>&nbsp;<span class="ident" id="6672941">loopbackInterface</span><span class="op" id="6672958">(</span><span class="op" id="6672959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6672962">if</span>&nbsp;<span class="ident" id="6672965">ifi</span>&nbsp;<span class="op" id="6672969">==</span>&nbsp;<span class="builtintype" id="6672972">nil</span>&nbsp;<span class="op" id="6672976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6672980">b</span><span class="op" id="6672981">.</span><span class="ident" id="6672982">Skip</span><span class="op" id="6672986">(</span><span class="string" id="6672987">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6673017">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673023">for</span>&nbsp;<span class="ident" id="6673027">i</span>&nbsp;<span class="op" id="6673029">:=</span>&nbsp;<span class="num" id="6673032">0</span><span class="op" id="6673033">;</span>&nbsp;<span class="ident" id="6673035">i</span>&nbsp;<span class="op" id="6673037">&lt;</span>&nbsp;<span class="ident" id="6673039">b</span><span class="op" id="6673040">.</span><span class="ident" id="6673041">N</span><span class="op" id="6673042">;</span>&nbsp;<span class="ident" id="6673044">i</span><span class="op" id="6673045">++</span>&nbsp;<span class="op" id="6673048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6673052">if</span>&nbsp;<span class="ident" id="6673055">_</span><span class="op" id="6673056">,</span>&nbsp;<span class="ident" id="6673058">err</span>&nbsp;<span class="op" id="6673062">:=</span>&nbsp;<span class="ident" id="6673065">ifi</span><span class="op" id="6673068">.</span><span class="ident" id="6673069">MulticastAddrs</span><span class="op" id="6673083">(</span><span class="op" id="6673084">)</span><span class="op" id="6673085">;</span>&nbsp;<span class="ident" id="6673087">err</span>&nbsp;<span class="op" id="6673091">!=</span>&nbsp;<span class="builtintype" id="6673094">nil</span>&nbsp;<span class="op" id="6673098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6673103">b</span><span class="op" id="6673104">.</span><span class="ident" id="6673105">Fatalf</span><span class="op" id="6673111">(</span><span class="string" id="6673112">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6673149">,</span>&nbsp;<span class="ident" id="6673151">err</span><span class="op" id="6673154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673158">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6673161">}</span><br>
<span class="lineno"></span><span class="op" id="6673163">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
