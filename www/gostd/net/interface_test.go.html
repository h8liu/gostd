<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8218139">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8218195">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8218249">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8218300">package</span>&nbsp;<span class="ident" id="8218308">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8218313">import</span>&nbsp;<span class="op" id="8218320">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8218323">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8218334">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8218344">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8218347">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="8218415">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="8218482">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="8218492">func</span>&nbsp;<span class="ident" id="8218497">loopbackInterface</span><span class="op" id="8218514">(</span><span class="op" id="8218515">)</span>&nbsp;<span class="op" id="8218517">*</span><span class="ident" id="8218518">Interface</span>&nbsp;<span class="op" id="8218528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8218531">ift</span><span class="op" id="8218534">,</span>&nbsp;<span class="ident" id="8218536">err</span>&nbsp;<span class="op" id="8218540">:=</span>&nbsp;<span class="ident" id="8218543">Interfaces</span><span class="op" id="8218553">(</span><span class="op" id="8218554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218557">if</span>&nbsp;<span class="ident" id="8218560">err</span>&nbsp;<span class="op" id="8218564">!=</span>&nbsp;<span class="ident" id="8218567">nil</span>&nbsp;<span class="op" id="8218571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218575">return</span>&nbsp;<span class="ident" id="8218582">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218587">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218590">for</span>&nbsp;<span class="ident" id="8218594">_</span><span class="op" id="8218595">,</span>&nbsp;<span class="ident" id="8218597">ifi</span>&nbsp;<span class="op" id="8218601">:=</span>&nbsp;<span class="keyword" id="8218604">range</span>&nbsp;<span class="ident" id="8218610">ift</span>&nbsp;<span class="op" id="8218614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218618">if</span>&nbsp;<span class="ident" id="8218621">ifi</span><span class="op" id="8218624">.</span><span class="ident" id="8218625">Flags</span><span class="op" id="8218630">&amp;</span><span class="ident" id="8218631">FlagLoopback</span>&nbsp;<span class="op" id="8218644">!=</span>&nbsp;<span class="num" id="8218647">0</span>&nbsp;<span class="op" id="8218649">&amp;&amp;</span>&nbsp;<span class="ident" id="8218652">ifi</span><span class="op" id="8218655">.</span><span class="ident" id="8218656">Flags</span><span class="op" id="8218661">&amp;</span><span class="ident" id="8218662">FlagUp</span>&nbsp;<span class="op" id="8218669">!=</span>&nbsp;<span class="num" id="8218672">0</span>&nbsp;<span class="op" id="8218674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218679">return</span>&nbsp;<span class="op" id="8218686">&amp;</span><span class="ident" id="8218687">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218693">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218696">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218699">return</span>&nbsp;<span class="ident" id="8218706">nil</span><br>
<span class="lineno"></span><span class="op" id="8218710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8218713">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="8218784">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="8218849">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="8218879">func</span>&nbsp;<span class="ident" id="8218884">ipv6LinkLocalUnicastAddr</span><span class="op" id="8218908">(</span><span class="ident" id="8218909">ifi</span>&nbsp;<span class="op" id="8218913">*</span><span class="ident" id="8218914">Interface</span><span class="op" id="8218923">)</span>&nbsp;<span class="builtintype" id="8218925">string</span>&nbsp;<span class="op" id="8218932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218935">if</span>&nbsp;<span class="ident" id="8218938">ifi</span>&nbsp;<span class="op" id="8218942">==</span>&nbsp;<span class="ident" id="8218945">nil</span>&nbsp;<span class="op" id="8218949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218953">return</span>&nbsp;<span class="string" id="8218960">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8218964">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8218967">ifat</span><span class="op" id="8218971">,</span>&nbsp;<span class="ident" id="8218973">err</span>&nbsp;<span class="op" id="8218977">:=</span>&nbsp;<span class="ident" id="8218980">ifi</span><span class="op" id="8218983">.</span><span class="ident" id="8218984">Addrs</span><span class="op" id="8218989">(</span><span class="op" id="8218990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8218993">if</span>&nbsp;<span class="ident" id="8218996">err</span>&nbsp;<span class="op" id="8219000">!=</span>&nbsp;<span class="ident" id="8219003">nil</span>&nbsp;<span class="op" id="8219007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219011">return</span>&nbsp;<span class="string" id="8219018">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219025">for</span>&nbsp;<span class="ident" id="8219029">_</span><span class="op" id="8219030">,</span>&nbsp;<span class="ident" id="8219032">ifa</span>&nbsp;<span class="op" id="8219036">:=</span>&nbsp;<span class="keyword" id="8219039">range</span>&nbsp;<span class="ident" id="8219045">ifat</span>&nbsp;<span class="op" id="8219050">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219054">switch</span>&nbsp;<span class="ident" id="8219061">ifa</span>&nbsp;<span class="op" id="8219065">:=</span>&nbsp;<span class="ident" id="8219068">ifa</span><span class="op" id="8219071">.</span><span class="op" id="8219072">(</span><span class="keyword" id="8219073">type</span><span class="op" id="8219077">)</span>&nbsp;<span class="op" id="8219079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219083">case</span>&nbsp;<span class="op" id="8219088">*</span><span class="ident" id="8219089">IPAddr</span><span class="op" id="8219095">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219100">if</span>&nbsp;<span class="ident" id="8219103">ifa</span><span class="op" id="8219106">.</span><span class="ident" id="8219107">IP</span><span class="op" id="8219109">.</span><span class="ident" id="8219110">To4</span><span class="op" id="8219113">(</span><span class="op" id="8219114">)</span>&nbsp;<span class="op" id="8219116">==</span>&nbsp;<span class="ident" id="8219119">nil</span>&nbsp;<span class="op" id="8219123">&amp;&amp;</span>&nbsp;<span class="ident" id="8219126">ifa</span><span class="op" id="8219129">.</span><span class="ident" id="8219130">IP</span><span class="op" id="8219132">.</span><span class="ident" id="8219133">IsLinkLocalUnicast</span><span class="op" id="8219151">(</span><span class="op" id="8219152">)</span>&nbsp;<span class="op" id="8219154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219160">return</span>&nbsp;<span class="ident" id="8219167">ifa</span><span class="op" id="8219170">.</span><span class="ident" id="8219171">IP</span><span class="op" id="8219173">.</span><span class="ident" id="8219174">String</span><span class="op" id="8219180">(</span><span class="op" id="8219181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219186">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219190">case</span>&nbsp;<span class="op" id="8219195">*</span><span class="ident" id="8219196">IPNet</span><span class="op" id="8219201">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219206">if</span>&nbsp;<span class="ident" id="8219209">ifa</span><span class="op" id="8219212">.</span><span class="ident" id="8219213">IP</span><span class="op" id="8219215">.</span><span class="ident" id="8219216">To4</span><span class="op" id="8219219">(</span><span class="op" id="8219220">)</span>&nbsp;<span class="op" id="8219222">==</span>&nbsp;<span class="ident" id="8219225">nil</span>&nbsp;<span class="op" id="8219229">&amp;&amp;</span>&nbsp;<span class="ident" id="8219232">ifa</span><span class="op" id="8219235">.</span><span class="ident" id="8219236">IP</span><span class="op" id="8219238">.</span><span class="ident" id="8219239">IsLinkLocalUnicast</span><span class="op" id="8219257">(</span><span class="op" id="8219258">)</span>&nbsp;<span class="op" id="8219260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219266">return</span>&nbsp;<span class="ident" id="8219273">ifa</span><span class="op" id="8219276">.</span><span class="ident" id="8219277">IP</span><span class="op" id="8219279">.</span><span class="ident" id="8219280">String</span><span class="op" id="8219286">(</span><span class="op" id="8219287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219296">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219302">return</span>&nbsp;<span class="string" id="8219309">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="8219312">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8219315">func</span>&nbsp;<span class="ident" id="8219320">TestInterfaces</span><span class="op" id="8219334">(</span><span class="ident" id="8219335">t</span>&nbsp;<span class="op" id="8219337">*</span><span class="ident" id="8219338">testing</span><span class="op" id="8219345">.</span><span class="ident" id="8219346">T</span><span class="op" id="8219347">)</span>&nbsp;<span class="op" id="8219349">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219352">ift</span><span class="op" id="8219355">,</span>&nbsp;<span class="ident" id="8219357">err</span>&nbsp;<span class="op" id="8219361">:=</span>&nbsp;<span class="ident" id="8219364">Interfaces</span><span class="op" id="8219374">(</span><span class="op" id="8219375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219378">if</span>&nbsp;<span class="ident" id="8219381">err</span>&nbsp;<span class="op" id="8219385">!=</span>&nbsp;<span class="ident" id="8219388">nil</span>&nbsp;<span class="op" id="8219392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219396">t</span><span class="op" id="8219397">.</span><span class="ident" id="8219398">Fatalf</span><span class="op" id="8219404">(</span><span class="string" id="8219405">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8219428">,</span>&nbsp;<span class="ident" id="8219430">err</span><span class="op" id="8219433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219439">t</span><span class="op" id="8219440">.</span><span class="ident" id="8219441">Logf</span><span class="op" id="8219445">(</span><span class="string" id="8219446">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="8219470">,</span>&nbsp;<span class="builtinfunc" id="8219472">len</span><span class="op" id="8219475">(</span><span class="ident" id="8219476">ift</span><span class="op" id="8219479">)</span><span class="op" id="8219480">,</span>&nbsp;<span class="builtinfunc" id="8219482">cap</span><span class="op" id="8219485">(</span><span class="ident" id="8219486">ift</span><span class="op" id="8219489">)</span><span class="op" id="8219490">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219494">for</span>&nbsp;<span class="ident" id="8219498">_</span><span class="op" id="8219499">,</span>&nbsp;<span class="ident" id="8219501">ifi</span>&nbsp;<span class="op" id="8219505">:=</span>&nbsp;<span class="keyword" id="8219508">range</span>&nbsp;<span class="ident" id="8219514">ift</span>&nbsp;<span class="op" id="8219518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219522">ifxi</span><span class="op" id="8219526">,</span>&nbsp;<span class="ident" id="8219528">err</span>&nbsp;<span class="op" id="8219532">:=</span>&nbsp;<span class="ident" id="8219535">InterfaceByIndex</span><span class="op" id="8219551">(</span><span class="ident" id="8219552">ifi</span><span class="op" id="8219555">.</span><span class="ident" id="8219556">Index</span><span class="op" id="8219561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219565">if</span>&nbsp;<span class="ident" id="8219568">err</span>&nbsp;<span class="op" id="8219572">!=</span>&nbsp;<span class="ident" id="8219575">nil</span>&nbsp;<span class="op" id="8219579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219584">t</span><span class="op" id="8219585">.</span><span class="ident" id="8219586">Fatalf</span><span class="op" id="8219592">(</span><span class="string" id="8219593">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8219626">,</span>&nbsp;<span class="ident" id="8219628">ifi</span><span class="op" id="8219631">.</span><span class="ident" id="8219632">Index</span><span class="op" id="8219637">,</span>&nbsp;<span class="ident" id="8219639">err</span><span class="op" id="8219642">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219650">if</span>&nbsp;<span class="op" id="8219653">!</span><span class="ident" id="8219654">reflect</span><span class="op" id="8219661">.</span><span class="ident" id="8219662">DeepEqual</span><span class="op" id="8219671">(</span><span class="ident" id="8219672">ifxi</span><span class="op" id="8219676">,</span>&nbsp;<span class="op" id="8219678">&amp;</span><span class="ident" id="8219679">ifi</span><span class="op" id="8219682">)</span>&nbsp;<span class="op" id="8219684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219689">t</span><span class="op" id="8219690">.</span><span class="ident" id="8219691">Fatalf</span><span class="op" id="8219697">(</span><span class="string" id="8219698">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8219734">,</span>&nbsp;<span class="ident" id="8219736">ifi</span><span class="op" id="8219739">.</span><span class="ident" id="8219740">Index</span><span class="op" id="8219745">,</span>&nbsp;<span class="ident" id="8219747">ifxi</span><span class="op" id="8219751">,</span>&nbsp;<span class="ident" id="8219753">ifi</span><span class="op" id="8219756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219764">ifxn</span><span class="op" id="8219768">,</span>&nbsp;<span class="ident" id="8219770">err</span>&nbsp;<span class="op" id="8219774">:=</span>&nbsp;<span class="ident" id="8219777">InterfaceByName</span><span class="op" id="8219792">(</span><span class="ident" id="8219793">ifi</span><span class="op" id="8219796">.</span><span class="ident" id="8219797">Name</span><span class="op" id="8219801">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219805">if</span>&nbsp;<span class="ident" id="8219808">err</span>&nbsp;<span class="op" id="8219812">!=</span>&nbsp;<span class="ident" id="8219815">nil</span>&nbsp;<span class="op" id="8219819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219824">t</span><span class="op" id="8219825">.</span><span class="ident" id="8219826">Fatalf</span><span class="op" id="8219832">(</span><span class="string" id="8219833">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8219865">,</span>&nbsp;<span class="ident" id="8219867">ifi</span><span class="op" id="8219870">.</span><span class="ident" id="8219871">Name</span><span class="op" id="8219875">,</span>&nbsp;<span class="ident" id="8219877">err</span><span class="op" id="8219880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8219888">if</span>&nbsp;<span class="op" id="8219891">!</span><span class="ident" id="8219892">reflect</span><span class="op" id="8219899">.</span><span class="ident" id="8219900">DeepEqual</span><span class="op" id="8219909">(</span><span class="ident" id="8219910">ifxn</span><span class="op" id="8219914">,</span>&nbsp;<span class="op" id="8219916">&amp;</span><span class="ident" id="8219917">ifi</span><span class="op" id="8219920">)</span>&nbsp;<span class="op" id="8219922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8219927">t</span><span class="op" id="8219928">.</span><span class="ident" id="8219929">Fatalf</span><span class="op" id="8219935">(</span><span class="string" id="8219936">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8219971">,</span>&nbsp;<span class="ident" id="8219973">ifi</span><span class="op" id="8219976">.</span><span class="ident" id="8219977">Name</span><span class="op" id="8219981">,</span>&nbsp;<span class="ident" id="8219983">ifxn</span><span class="op" id="8219987">,</span>&nbsp;<span class="ident" id="8219989">ifi</span><span class="op" id="8219992">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8219996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220000">t</span><span class="op" id="8220001">.</span><span class="ident" id="8220002">Logf</span><span class="op" id="8220006">(</span><span class="string" id="8220007">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="8220041">,</span>&nbsp;<span class="ident" id="8220043">ifi</span><span class="op" id="8220046">.</span><span class="ident" id="8220047">Name</span><span class="op" id="8220051">,</span>&nbsp;<span class="ident" id="8220053">ifi</span><span class="op" id="8220056">.</span><span class="ident" id="8220057">Flags</span><span class="op" id="8220062">.</span><span class="ident" id="8220063">String</span><span class="op" id="8220069">(</span><span class="op" id="8220070">)</span><span class="op" id="8220071">,</span>&nbsp;<span class="ident" id="8220073">ifi</span><span class="op" id="8220076">.</span><span class="ident" id="8220077">Index</span><span class="op" id="8220082">,</span>&nbsp;<span class="ident" id="8220084">ifi</span><span class="op" id="8220087">.</span><span class="ident" id="8220088">MTU</span><span class="op" id="8220091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220095">t</span><span class="op" id="8220096">.</span><span class="ident" id="8220097">Logf</span><span class="op" id="8220101">(</span><span class="string" id="8220102">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8220125">,</span>&nbsp;<span class="ident" id="8220127">ifi</span><span class="op" id="8220130">.</span><span class="ident" id="8220131">HardwareAddr</span><span class="op" id="8220143">.</span><span class="ident" id="8220144">String</span><span class="op" id="8220150">(</span><span class="op" id="8220151">)</span><span class="op" id="8220152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220156">testInterfaceAddrs</span><span class="op" id="8220174">(</span><span class="ident" id="8220175">t</span><span class="op" id="8220176">,</span>&nbsp;<span class="op" id="8220178">&amp;</span><span class="ident" id="8220179">ifi</span><span class="op" id="8220182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220186">testInterfaceMulticastAddrs</span><span class="op" id="8220213">(</span><span class="ident" id="8220214">t</span><span class="op" id="8220215">,</span>&nbsp;<span class="op" id="8220217">&amp;</span><span class="ident" id="8220218">ifi</span><span class="op" id="8220221">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220224">}</span><br>
<span class="lineno"></span><span class="op" id="8220226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8220229">func</span>&nbsp;<span class="ident" id="8220234">TestInterfaceAddrs</span><span class="op" id="8220252">(</span><span class="ident" id="8220253">t</span>&nbsp;<span class="op" id="8220255">*</span><span class="ident" id="8220256">testing</span><span class="op" id="8220263">.</span><span class="ident" id="8220264">T</span><span class="op" id="8220265">)</span>&nbsp;<span class="op" id="8220267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220270">ifat</span><span class="op" id="8220274">,</span>&nbsp;<span class="ident" id="8220276">err</span>&nbsp;<span class="op" id="8220280">:=</span>&nbsp;<span class="ident" id="8220283">InterfaceAddrs</span><span class="op" id="8220297">(</span><span class="op" id="8220298">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220301">if</span>&nbsp;<span class="ident" id="8220304">err</span>&nbsp;<span class="op" id="8220308">!=</span>&nbsp;<span class="ident" id="8220311">nil</span>&nbsp;<span class="op" id="8220315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220319">t</span><span class="op" id="8220320">.</span><span class="ident" id="8220321">Fatalf</span><span class="op" id="8220327">(</span><span class="string" id="8220328">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8220355">,</span>&nbsp;<span class="ident" id="8220357">err</span><span class="op" id="8220360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220366">t</span><span class="op" id="8220367">.</span><span class="ident" id="8220368">Logf</span><span class="op" id="8220372">(</span><span class="string" id="8220373">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="8220397">,</span>&nbsp;<span class="builtinfunc" id="8220399">len</span><span class="op" id="8220402">(</span><span class="ident" id="8220403">ifat</span><span class="op" id="8220407">)</span><span class="op" id="8220408">,</span>&nbsp;<span class="builtinfunc" id="8220410">cap</span><span class="op" id="8220413">(</span><span class="ident" id="8220414">ifat</span><span class="op" id="8220418">)</span><span class="op" id="8220419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220422">testAddrs</span><span class="op" id="8220431">(</span><span class="ident" id="8220432">t</span><span class="op" id="8220433">,</span>&nbsp;<span class="ident" id="8220435">ifat</span><span class="op" id="8220439">)</span><br>
<span class="lineno">90</span><span class="op" id="8220441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8220444">func</span>&nbsp;<span class="ident" id="8220449">testInterfaceAddrs</span><span class="op" id="8220467">(</span><span class="ident" id="8220468">t</span>&nbsp;<span class="op" id="8220470">*</span><span class="ident" id="8220471">testing</span><span class="op" id="8220478">.</span><span class="ident" id="8220479">T</span><span class="op" id="8220480">,</span>&nbsp;<span class="ident" id="8220482">ifi</span>&nbsp;<span class="op" id="8220486">*</span><span class="ident" id="8220487">Interface</span><span class="op" id="8220496">)</span>&nbsp;<span class="op" id="8220498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220501">ifat</span><span class="op" id="8220505">,</span>&nbsp;<span class="ident" id="8220507">err</span>&nbsp;<span class="op" id="8220511">:=</span>&nbsp;<span class="ident" id="8220514">ifi</span><span class="op" id="8220517">.</span><span class="ident" id="8220518">Addrs</span><span class="op" id="8220523">(</span><span class="op" id="8220524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220527">if</span>&nbsp;<span class="ident" id="8220530">err</span>&nbsp;<span class="op" id="8220534">!=</span>&nbsp;<span class="ident" id="8220537">nil</span>&nbsp;<span class="op" id="8220541">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220545">t</span><span class="op" id="8220546">.</span><span class="ident" id="8220547">Fatalf</span><span class="op" id="8220553">(</span><span class="string" id="8220554">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8220582">,</span>&nbsp;<span class="ident" id="8220584">err</span><span class="op" id="8220587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220593">testAddrs</span><span class="op" id="8220602">(</span><span class="ident" id="8220603">t</span><span class="op" id="8220604">,</span>&nbsp;<span class="ident" id="8220606">ifat</span><span class="op" id="8220610">)</span><br>
<span class="lineno"></span><span class="op" id="8220612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="8220615">func</span>&nbsp;<span class="ident" id="8220620">testInterfaceMulticastAddrs</span><span class="op" id="8220647">(</span><span class="ident" id="8220648">t</span>&nbsp;<span class="op" id="8220650">*</span><span class="ident" id="8220651">testing</span><span class="op" id="8220658">.</span><span class="ident" id="8220659">T</span><span class="op" id="8220660">,</span>&nbsp;<span class="ident" id="8220662">ifi</span>&nbsp;<span class="op" id="8220666">*</span><span class="ident" id="8220667">Interface</span><span class="op" id="8220676">)</span>&nbsp;<span class="op" id="8220678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220681">ifmat</span><span class="op" id="8220686">,</span>&nbsp;<span class="ident" id="8220688">err</span>&nbsp;<span class="op" id="8220692">:=</span>&nbsp;<span class="ident" id="8220695">ifi</span><span class="op" id="8220698">.</span><span class="ident" id="8220699">MulticastAddrs</span><span class="op" id="8220713">(</span><span class="op" id="8220714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220717">if</span>&nbsp;<span class="ident" id="8220720">err</span>&nbsp;<span class="op" id="8220724">!=</span>&nbsp;<span class="ident" id="8220727">nil</span>&nbsp;<span class="op" id="8220731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220735">t</span><span class="op" id="8220736">.</span><span class="ident" id="8220737">Fatalf</span><span class="op" id="8220743">(</span><span class="string" id="8220744">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8220781">,</span>&nbsp;<span class="ident" id="8220783">err</span><span class="op" id="8220786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8220789">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220792">testMulticastAddrs</span><span class="op" id="8220810">(</span><span class="ident" id="8220811">t</span><span class="op" id="8220812">,</span>&nbsp;<span class="ident" id="8220814">ifmat</span><span class="op" id="8220819">)</span><br>
<span class="lineno"></span><span class="op" id="8220821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8220824">func</span>&nbsp;<span class="ident" id="8220829">testAddrs</span><span class="op" id="8220838">(</span><span class="ident" id="8220839">t</span>&nbsp;<span class="op" id="8220841">*</span><span class="ident" id="8220842">testing</span><span class="op" id="8220849">.</span><span class="ident" id="8220850">T</span><span class="op" id="8220851">,</span>&nbsp;<span class="ident" id="8220853">ifat</span>&nbsp;<span class="op" id="8220858">[</span><span class="op" id="8220859">]</span><span class="ident" id="8220860">Addr</span><span class="op" id="8220864">)</span>&nbsp;<span class="op" id="8220866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220869">for</span>&nbsp;<span class="ident" id="8220873">_</span><span class="op" id="8220874">,</span>&nbsp;<span class="ident" id="8220876">ifa</span>&nbsp;<span class="op" id="8220880">:=</span>&nbsp;<span class="keyword" id="8220883">range</span>&nbsp;<span class="ident" id="8220889">ifat</span>&nbsp;<span class="op" id="8220894">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220898">switch</span>&nbsp;<span class="ident" id="8220905">ifa</span>&nbsp;<span class="op" id="8220909">:=</span>&nbsp;<span class="ident" id="8220912">ifa</span><span class="op" id="8220915">.</span><span class="op" id="8220916">(</span><span class="keyword" id="8220917">type</span><span class="op" id="8220921">)</span>&nbsp;<span class="op" id="8220923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220927">case</span>&nbsp;<span class="op" id="8220932">*</span><span class="ident" id="8220933">IPAddr</span><span class="op" id="8220939">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8220944">if</span>&nbsp;<span class="ident" id="8220947">ifa</span>&nbsp;<span class="op" id="8220951">==</span>&nbsp;<span class="ident" id="8220954">nil</span>&nbsp;<span class="op" id="8220958">||</span>&nbsp;<span class="ident" id="8220961">ifa</span><span class="op" id="8220964">.</span><span class="ident" id="8220965">IP</span>&nbsp;<span class="op" id="8220968">==</span>&nbsp;<span class="ident" id="8220971">nil</span>&nbsp;<span class="op" id="8220975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8220981">t</span><span class="op" id="8220982">.</span><span class="ident" id="8220983">Errorf</span><span class="op" id="8220989">(</span><span class="string" id="8220990">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8221018">,</span>&nbsp;<span class="ident" id="8221020">ifa</span><span class="op" id="8221023">,</span>&nbsp;<span class="ident" id="8221025">ifa</span><span class="op" id="8221028">.</span><span class="ident" id="8221029">IP</span><span class="op" id="8221031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221036">}</span>&nbsp;<span class="keyword" id="8221038">else</span>&nbsp;<span class="op" id="8221043">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221049">t</span><span class="op" id="8221050">.</span><span class="ident" id="8221051">Logf</span><span class="op" id="8221055">(</span><span class="string" id="8221056">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8221080">,</span>&nbsp;<span class="ident" id="8221082">ifa</span><span class="op" id="8221085">.</span><span class="ident" id="8221086">String</span><span class="op" id="8221092">(</span><span class="op" id="8221093">)</span><span class="op" id="8221094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221103">case</span>&nbsp;<span class="op" id="8221108">*</span><span class="ident" id="8221109">IPNet</span><span class="op" id="8221114">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221119">if</span>&nbsp;<span class="ident" id="8221122">ifa</span>&nbsp;<span class="op" id="8221126">==</span>&nbsp;<span class="ident" id="8221129">nil</span>&nbsp;<span class="op" id="8221133">||</span>&nbsp;<span class="ident" id="8221136">ifa</span><span class="op" id="8221139">.</span><span class="ident" id="8221140">IP</span>&nbsp;<span class="op" id="8221143">==</span>&nbsp;<span class="ident" id="8221146">nil</span>&nbsp;<span class="op" id="8221150">||</span>&nbsp;<span class="ident" id="8221153">ifa</span><span class="op" id="8221156">.</span><span class="ident" id="8221157">Mask</span>&nbsp;<span class="op" id="8221162">==</span>&nbsp;<span class="ident" id="8221165">nil</span>&nbsp;<span class="op" id="8221169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221175">t</span><span class="op" id="8221176">.</span><span class="ident" id="8221177">Errorf</span><span class="op" id="8221183">(</span><span class="string" id="8221184">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8221216">,</span>&nbsp;<span class="ident" id="8221218">ifa</span><span class="op" id="8221221">,</span>&nbsp;<span class="ident" id="8221223">ifa</span><span class="op" id="8221226">.</span><span class="ident" id="8221227">IP</span><span class="op" id="8221229">,</span>&nbsp;<span class="ident" id="8221231">ifa</span><span class="op" id="8221234">.</span><span class="ident" id="8221235">Mask</span><span class="op" id="8221239">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221244">}</span>&nbsp;<span class="keyword" id="8221246">else</span>&nbsp;<span class="op" id="8221251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221257">_</span><span class="op" id="8221258">,</span>&nbsp;<span class="ident" id="8221260">prefixLen</span>&nbsp;<span class="op" id="8221270">:=</span>&nbsp;<span class="ident" id="8221273">ifa</span><span class="op" id="8221276">.</span><span class="ident" id="8221277">Mask</span><span class="op" id="8221281">.</span><span class="ident" id="8221282">Size</span><span class="op" id="8221286">(</span><span class="op" id="8221287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221293">if</span>&nbsp;<span class="ident" id="8221296">ifa</span><span class="op" id="8221299">.</span><span class="ident" id="8221300">IP</span><span class="op" id="8221302">.</span><span class="ident" id="8221303">To4</span><span class="op" id="8221306">(</span><span class="op" id="8221307">)</span>&nbsp;<span class="op" id="8221309">!=</span>&nbsp;<span class="ident" id="8221312">nil</span>&nbsp;<span class="op" id="8221316">&amp;&amp;</span>&nbsp;<span class="ident" id="8221319">prefixLen</span>&nbsp;<span class="op" id="8221329">!=</span>&nbsp;<span class="num" id="8221332">8</span><span class="op" id="8221333">*</span><span class="ident" id="8221334">IPv4len</span>&nbsp;<span class="op" id="8221342">||</span>&nbsp;<span class="ident" id="8221345">ifa</span><span class="op" id="8221348">.</span><span class="ident" id="8221349">IP</span><span class="op" id="8221351">.</span><span class="ident" id="8221352">To16</span><span class="op" id="8221356">(</span><span class="op" id="8221357">)</span>&nbsp;<span class="op" id="8221359">!=</span>&nbsp;<span class="ident" id="8221362">nil</span>&nbsp;<span class="op" id="8221366">&amp;&amp;</span>&nbsp;<span class="ident" id="8221369">ifa</span><span class="op" id="8221372">.</span><span class="ident" id="8221373">IP</span><span class="op" id="8221375">.</span><span class="ident" id="8221376">To4</span><span class="op" id="8221379">(</span><span class="op" id="8221380">)</span>&nbsp;<span class="op" id="8221382">==</span>&nbsp;<span class="ident" id="8221385">nil</span>&nbsp;<span class="op" id="8221389">&amp;&amp;</span>&nbsp;<span class="ident" id="8221392">prefixLen</span>&nbsp;<span class="op" id="8221402">!=</span>&nbsp;<span class="num" id="8221405">8</span><span class="op" id="8221406">*</span><span class="ident" id="8221407">IPv6len</span>&nbsp;<span class="op" id="8221415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221422">t</span><span class="op" id="8221423">.</span><span class="ident" id="8221424">Errorf</span><span class="op" id="8221430">(</span><span class="string" id="8221431">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8221467">,</span>&nbsp;<span class="ident" id="8221469">ifa</span><span class="op" id="8221472">,</span>&nbsp;<span class="ident" id="8221474">ifa</span><span class="op" id="8221477">.</span><span class="ident" id="8221478">IP</span><span class="op" id="8221480">,</span>&nbsp;<span class="ident" id="8221482">ifa</span><span class="op" id="8221485">.</span><span class="ident" id="8221486">Mask</span><span class="op" id="8221490">,</span>&nbsp;<span class="ident" id="8221492">prefixLen</span><span class="op" id="8221501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221507">}</span>&nbsp;<span class="keyword" id="8221509">else</span>&nbsp;<span class="op" id="8221514">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221521">t</span><span class="op" id="8221522">.</span><span class="ident" id="8221523">Logf</span><span class="op" id="8221527">(</span><span class="string" id="8221528">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8221552">,</span>&nbsp;<span class="ident" id="8221554">ifa</span><span class="op" id="8221557">.</span><span class="ident" id="8221558">String</span><span class="op" id="8221564">(</span><span class="op" id="8221565">)</span><span class="op" id="8221566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221581">default</span><span class="op" id="8221588">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221593">t</span><span class="op" id="8221594">.</span><span class="ident" id="8221595">Errorf</span><span class="op" id="8221601">(</span><span class="string" id="8221602">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="8221625">,</span>&nbsp;<span class="ident" id="8221627">ifa</span><span class="op" id="8221630">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221637">}</span><br>
<span class="lineno"></span><span class="op" id="8221639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8221642">func</span>&nbsp;<span class="ident" id="8221647">testMulticastAddrs</span><span class="op" id="8221665">(</span><span class="ident" id="8221666">t</span>&nbsp;<span class="op" id="8221668">*</span><span class="ident" id="8221669">testing</span><span class="op" id="8221676">.</span><span class="ident" id="8221677">T</span><span class="op" id="8221678">,</span>&nbsp;<span class="ident" id="8221680">ifmat</span>&nbsp;<span class="op" id="8221686">[</span><span class="op" id="8221687">]</span><span class="ident" id="8221688">Addr</span><span class="op" id="8221692">)</span>&nbsp;<span class="op" id="8221694">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221697">for</span>&nbsp;<span class="ident" id="8221701">_</span><span class="op" id="8221702">,</span>&nbsp;<span class="ident" id="8221704">ifma</span>&nbsp;<span class="op" id="8221709">:=</span>&nbsp;<span class="keyword" id="8221712">range</span>&nbsp;<span class="ident" id="8221718">ifmat</span>&nbsp;<span class="op" id="8221724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221728">switch</span>&nbsp;<span class="ident" id="8221735">ifma</span>&nbsp;<span class="op" id="8221740">:=</span>&nbsp;<span class="ident" id="8221743">ifma</span><span class="op" id="8221747">.</span><span class="op" id="8221748">(</span><span class="keyword" id="8221749">type</span><span class="op" id="8221753">)</span>&nbsp;<span class="op" id="8221755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221759">case</span>&nbsp;<span class="op" id="8221764">*</span><span class="ident" id="8221765">IPAddr</span><span class="op" id="8221771">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221776">if</span>&nbsp;<span class="ident" id="8221779">ifma</span>&nbsp;<span class="op" id="8221784">==</span>&nbsp;<span class="ident" id="8221787">nil</span>&nbsp;<span class="op" id="8221791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221797">t</span><span class="op" id="8221798">.</span><span class="ident" id="8221799">Errorf</span><span class="op" id="8221805">(</span><span class="string" id="8221806">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="8221830">,</span>&nbsp;<span class="ident" id="8221832">ifma</span><span class="op" id="8221836">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221841">}</span>&nbsp;<span class="keyword" id="8221843">else</span>&nbsp;<span class="op" id="8221848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221854">t</span><span class="op" id="8221855">.</span><span class="ident" id="8221856">Logf</span><span class="op" id="8221860">(</span><span class="string" id="8221861">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8221888">,</span>&nbsp;<span class="ident" id="8221890">ifma</span><span class="op" id="8221894">.</span><span class="ident" id="8221895">String</span><span class="op" id="8221901">(</span><span class="op" id="8221902">)</span><span class="op" id="8221903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8221912">default</span><span class="op" id="8221919">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8221924">t</span><span class="op" id="8221925">.</span><span class="ident" id="8221926">Errorf</span><span class="op" id="8221932">(</span><span class="string" id="8221933">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="8221956">,</span>&nbsp;<span class="ident" id="8221958">ifma</span><span class="op" id="8221962">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8221969">}</span><br>
<span class="lineno"></span><span class="op" id="8221971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8221974">func</span>&nbsp;<span class="ident" id="8221979">BenchmarkInterfaces</span><span class="op" id="8221998">(</span><span class="ident" id="8221999">b</span>&nbsp;<span class="op" id="8222001">*</span><span class="ident" id="8222002">testing</span><span class="op" id="8222009">.</span><span class="ident" id="8222010">B</span><span class="op" id="8222011">)</span>&nbsp;<span class="op" id="8222013">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222016">for</span>&nbsp;<span class="ident" id="8222020">i</span>&nbsp;<span class="op" id="8222022">:=</span>&nbsp;<span class="num" id="8222025">0</span><span class="op" id="8222026">;</span>&nbsp;<span class="ident" id="8222028">i</span>&nbsp;<span class="op" id="8222030">&lt;</span>&nbsp;<span class="ident" id="8222032">b</span><span class="op" id="8222033">.</span><span class="ident" id="8222034">N</span><span class="op" id="8222035">;</span>&nbsp;<span class="ident" id="8222037">i</span><span class="op" id="8222038">++</span>&nbsp;<span class="op" id="8222041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222045">if</span>&nbsp;<span class="ident" id="8222048">_</span><span class="op" id="8222049">,</span>&nbsp;<span class="ident" id="8222051">err</span>&nbsp;<span class="op" id="8222055">:=</span>&nbsp;<span class="ident" id="8222058">Interfaces</span><span class="op" id="8222068">(</span><span class="op" id="8222069">)</span><span class="op" id="8222070">;</span>&nbsp;<span class="ident" id="8222072">err</span>&nbsp;<span class="op" id="8222076">!=</span>&nbsp;<span class="ident" id="8222079">nil</span>&nbsp;<span class="op" id="8222083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222088">b</span><span class="op" id="8222089">.</span><span class="ident" id="8222090">Fatalf</span><span class="op" id="8222096">(</span><span class="string" id="8222097">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8222120">,</span>&nbsp;<span class="ident" id="8222122">err</span><span class="op" id="8222125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222132">}</span><br>
<span class="lineno">155</span><span class="op" id="8222134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8222137">func</span>&nbsp;<span class="ident" id="8222142">BenchmarkInterfaceByIndex</span><span class="op" id="8222167">(</span><span class="ident" id="8222168">b</span>&nbsp;<span class="op" id="8222170">*</span><span class="ident" id="8222171">testing</span><span class="op" id="8222178">.</span><span class="ident" id="8222179">B</span><span class="op" id="8222180">)</span>&nbsp;<span class="op" id="8222182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222185">ifi</span>&nbsp;<span class="op" id="8222189">:=</span>&nbsp;<span class="ident" id="8222192">loopbackInterface</span><span class="op" id="8222209">(</span><span class="op" id="8222210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222213">if</span>&nbsp;<span class="ident" id="8222216">ifi</span>&nbsp;<span class="op" id="8222220">==</span>&nbsp;<span class="ident" id="8222223">nil</span>&nbsp;<span class="op" id="8222227">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222231">b</span><span class="op" id="8222232">.</span><span class="ident" id="8222233">Skip</span><span class="op" id="8222237">(</span><span class="string" id="8222238">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8222268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222274">for</span>&nbsp;<span class="ident" id="8222278">i</span>&nbsp;<span class="op" id="8222280">:=</span>&nbsp;<span class="num" id="8222283">0</span><span class="op" id="8222284">;</span>&nbsp;<span class="ident" id="8222286">i</span>&nbsp;<span class="op" id="8222288">&lt;</span>&nbsp;<span class="ident" id="8222290">b</span><span class="op" id="8222291">.</span><span class="ident" id="8222292">N</span><span class="op" id="8222293">;</span>&nbsp;<span class="ident" id="8222295">i</span><span class="op" id="8222296">++</span>&nbsp;<span class="op" id="8222299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222303">if</span>&nbsp;<span class="ident" id="8222306">_</span><span class="op" id="8222307">,</span>&nbsp;<span class="ident" id="8222309">err</span>&nbsp;<span class="op" id="8222313">:=</span>&nbsp;<span class="ident" id="8222316">InterfaceByIndex</span><span class="op" id="8222332">(</span><span class="ident" id="8222333">ifi</span><span class="op" id="8222336">.</span><span class="ident" id="8222337">Index</span><span class="op" id="8222342">)</span><span class="op" id="8222343">;</span>&nbsp;<span class="ident" id="8222345">err</span>&nbsp;<span class="op" id="8222349">!=</span>&nbsp;<span class="ident" id="8222352">nil</span>&nbsp;<span class="op" id="8222356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222361">b</span><span class="op" id="8222362">.</span><span class="ident" id="8222363">Fatalf</span><span class="op" id="8222369">(</span><span class="string" id="8222370">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8222399">,</span>&nbsp;<span class="ident" id="8222401">err</span><span class="op" id="8222404">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222411">}</span><br>
<span class="lineno"></span><span class="op" id="8222413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8222416">func</span>&nbsp;<span class="ident" id="8222421">BenchmarkInterfaceByName</span><span class="op" id="8222445">(</span><span class="ident" id="8222446">b</span>&nbsp;<span class="op" id="8222448">*</span><span class="ident" id="8222449">testing</span><span class="op" id="8222456">.</span><span class="ident" id="8222457">B</span><span class="op" id="8222458">)</span>&nbsp;<span class="op" id="8222460">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222463">ifi</span>&nbsp;<span class="op" id="8222467">:=</span>&nbsp;<span class="ident" id="8222470">loopbackInterface</span><span class="op" id="8222487">(</span><span class="op" id="8222488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222491">if</span>&nbsp;<span class="ident" id="8222494">ifi</span>&nbsp;<span class="op" id="8222498">==</span>&nbsp;<span class="ident" id="8222501">nil</span>&nbsp;<span class="op" id="8222505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222509">b</span><span class="op" id="8222510">.</span><span class="ident" id="8222511">Skip</span><span class="op" id="8222515">(</span><span class="string" id="8222516">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8222546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222552">for</span>&nbsp;<span class="ident" id="8222556">i</span>&nbsp;<span class="op" id="8222558">:=</span>&nbsp;<span class="num" id="8222561">0</span><span class="op" id="8222562">;</span>&nbsp;<span class="ident" id="8222564">i</span>&nbsp;<span class="op" id="8222566">&lt;</span>&nbsp;<span class="ident" id="8222568">b</span><span class="op" id="8222569">.</span><span class="ident" id="8222570">N</span><span class="op" id="8222571">;</span>&nbsp;<span class="ident" id="8222573">i</span><span class="op" id="8222574">++</span>&nbsp;<span class="op" id="8222577">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222581">if</span>&nbsp;<span class="ident" id="8222584">_</span><span class="op" id="8222585">,</span>&nbsp;<span class="ident" id="8222587">err</span>&nbsp;<span class="op" id="8222591">:=</span>&nbsp;<span class="ident" id="8222594">InterfaceByName</span><span class="op" id="8222609">(</span><span class="ident" id="8222610">ifi</span><span class="op" id="8222613">.</span><span class="ident" id="8222614">Name</span><span class="op" id="8222618">)</span><span class="op" id="8222619">;</span>&nbsp;<span class="ident" id="8222621">err</span>&nbsp;<span class="op" id="8222625">!=</span>&nbsp;<span class="ident" id="8222628">nil</span>&nbsp;<span class="op" id="8222632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222637">b</span><span class="op" id="8222638">.</span><span class="ident" id="8222639">Fatalf</span><span class="op" id="8222645">(</span><span class="string" id="8222646">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8222674">,</span>&nbsp;<span class="ident" id="8222676">err</span><span class="op" id="8222679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222686">}</span><br>
<span class="lineno"></span><span class="op" id="8222688">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="8222691">func</span>&nbsp;<span class="ident" id="8222696">BenchmarkInterfaceAddrs</span><span class="op" id="8222719">(</span><span class="ident" id="8222720">b</span>&nbsp;<span class="op" id="8222722">*</span><span class="ident" id="8222723">testing</span><span class="op" id="8222730">.</span><span class="ident" id="8222731">B</span><span class="op" id="8222732">)</span>&nbsp;<span class="op" id="8222734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222737">for</span>&nbsp;<span class="ident" id="8222741">i</span>&nbsp;<span class="op" id="8222743">:=</span>&nbsp;<span class="num" id="8222746">0</span><span class="op" id="8222747">;</span>&nbsp;<span class="ident" id="8222749">i</span>&nbsp;<span class="op" id="8222751">&lt;</span>&nbsp;<span class="ident" id="8222753">b</span><span class="op" id="8222754">.</span><span class="ident" id="8222755">N</span><span class="op" id="8222756">;</span>&nbsp;<span class="ident" id="8222758">i</span><span class="op" id="8222759">++</span>&nbsp;<span class="op" id="8222762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222766">if</span>&nbsp;<span class="ident" id="8222769">_</span><span class="op" id="8222770">,</span>&nbsp;<span class="ident" id="8222772">err</span>&nbsp;<span class="op" id="8222776">:=</span>&nbsp;<span class="ident" id="8222779">InterfaceAddrs</span><span class="op" id="8222793">(</span><span class="op" id="8222794">)</span><span class="op" id="8222795">;</span>&nbsp;<span class="ident" id="8222797">err</span>&nbsp;<span class="op" id="8222801">!=</span>&nbsp;<span class="ident" id="8222804">nil</span>&nbsp;<span class="op" id="8222808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222813">b</span><span class="op" id="8222814">.</span><span class="ident" id="8222815">Fatalf</span><span class="op" id="8222821">(</span><span class="string" id="8222822">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8222849">,</span>&nbsp;<span class="ident" id="8222851">err</span><span class="op" id="8222854">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8222861">}</span><br>
<span class="lineno"></span><span class="op" id="8222863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8222866">func</span>&nbsp;<span class="ident" id="8222871">BenchmarkInterfacesAndAddrs</span><span class="op" id="8222898">(</span><span class="ident" id="8222899">b</span>&nbsp;<span class="op" id="8222901">*</span><span class="ident" id="8222902">testing</span><span class="op" id="8222909">.</span><span class="ident" id="8222910">B</span><span class="op" id="8222911">)</span>&nbsp;<span class="op" id="8222913">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222916">ifi</span>&nbsp;<span class="op" id="8222920">:=</span>&nbsp;<span class="ident" id="8222923">loopbackInterface</span><span class="op" id="8222940">(</span><span class="op" id="8222941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8222944">if</span>&nbsp;<span class="ident" id="8222947">ifi</span>&nbsp;<span class="op" id="8222951">==</span>&nbsp;<span class="ident" id="8222954">nil</span>&nbsp;<span class="op" id="8222958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8222962">b</span><span class="op" id="8222963">.</span><span class="ident" id="8222964">Skip</span><span class="op" id="8222968">(</span><span class="string" id="8222969">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8222999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223005">for</span>&nbsp;<span class="ident" id="8223009">i</span>&nbsp;<span class="op" id="8223011">:=</span>&nbsp;<span class="num" id="8223014">0</span><span class="op" id="8223015">;</span>&nbsp;<span class="ident" id="8223017">i</span>&nbsp;<span class="op" id="8223019">&lt;</span>&nbsp;<span class="ident" id="8223021">b</span><span class="op" id="8223022">.</span><span class="ident" id="8223023">N</span><span class="op" id="8223024">;</span>&nbsp;<span class="ident" id="8223026">i</span><span class="op" id="8223027">++</span>&nbsp;<span class="op" id="8223030">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223034">if</span>&nbsp;<span class="ident" id="8223037">_</span><span class="op" id="8223038">,</span>&nbsp;<span class="ident" id="8223040">err</span>&nbsp;<span class="op" id="8223044">:=</span>&nbsp;<span class="ident" id="8223047">ifi</span><span class="op" id="8223050">.</span><span class="ident" id="8223051">Addrs</span><span class="op" id="8223056">(</span><span class="op" id="8223057">)</span><span class="op" id="8223058">;</span>&nbsp;<span class="ident" id="8223060">err</span>&nbsp;<span class="op" id="8223064">!=</span>&nbsp;<span class="ident" id="8223067">nil</span>&nbsp;<span class="op" id="8223071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223076">b</span><span class="op" id="8223077">.</span><span class="ident" id="8223078">Fatalf</span><span class="op" id="8223084">(</span><span class="string" id="8223085">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8223113">,</span>&nbsp;<span class="ident" id="8223115">err</span><span class="op" id="8223118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223125">}</span><br>
<span class="lineno"></span><span class="op" id="8223127">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="8223130">func</span>&nbsp;<span class="ident" id="8223135">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="8223171">(</span><span class="ident" id="8223172">b</span>&nbsp;<span class="op" id="8223174">*</span><span class="ident" id="8223175">testing</span><span class="op" id="8223182">.</span><span class="ident" id="8223183">B</span><span class="op" id="8223184">)</span>&nbsp;<span class="op" id="8223186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223189">ifi</span>&nbsp;<span class="op" id="8223193">:=</span>&nbsp;<span class="ident" id="8223196">loopbackInterface</span><span class="op" id="8223213">(</span><span class="op" id="8223214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223217">if</span>&nbsp;<span class="ident" id="8223220">ifi</span>&nbsp;<span class="op" id="8223224">==</span>&nbsp;<span class="ident" id="8223227">nil</span>&nbsp;<span class="op" id="8223231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223235">b</span><span class="op" id="8223236">.</span><span class="ident" id="8223237">Skip</span><span class="op" id="8223241">(</span><span class="string" id="8223242">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8223272">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223278">for</span>&nbsp;<span class="ident" id="8223282">i</span>&nbsp;<span class="op" id="8223284">:=</span>&nbsp;<span class="num" id="8223287">0</span><span class="op" id="8223288">;</span>&nbsp;<span class="ident" id="8223290">i</span>&nbsp;<span class="op" id="8223292">&lt;</span>&nbsp;<span class="ident" id="8223294">b</span><span class="op" id="8223295">.</span><span class="ident" id="8223296">N</span><span class="op" id="8223297">;</span>&nbsp;<span class="ident" id="8223299">i</span><span class="op" id="8223300">++</span>&nbsp;<span class="op" id="8223303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8223307">if</span>&nbsp;<span class="ident" id="8223310">_</span><span class="op" id="8223311">,</span>&nbsp;<span class="ident" id="8223313">err</span>&nbsp;<span class="op" id="8223317">:=</span>&nbsp;<span class="ident" id="8223320">ifi</span><span class="op" id="8223323">.</span><span class="ident" id="8223324">MulticastAddrs</span><span class="op" id="8223338">(</span><span class="op" id="8223339">)</span><span class="op" id="8223340">;</span>&nbsp;<span class="ident" id="8223342">err</span>&nbsp;<span class="op" id="8223346">!=</span>&nbsp;<span class="ident" id="8223349">nil</span>&nbsp;<span class="op" id="8223353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8223358">b</span><span class="op" id="8223359">.</span><span class="ident" id="8223360">Fatalf</span><span class="op" id="8223366">(</span><span class="string" id="8223367">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8223404">,</span>&nbsp;<span class="ident" id="8223406">err</span><span class="op" id="8223409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223413">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8223416">}</span><br>
<span class="lineno"></span><span class="op" id="8223418">}</span>
</div>
</body>
</html>
