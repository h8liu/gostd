<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html" class="current">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8112351">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8112406">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8112460">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8112511">package</span>&nbsp;<span class="ident" id="8112519">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8112524">import</span>&nbsp;<span class="op" id="8112531">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8112534">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8112540">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8112551">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8112562">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8112573">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8112580">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="8112583">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8112628">func</span>&nbsp;<span class="ident" id="8112633">TestUnmarshalFeed</span><span class="op" id="8112650">(</span><span class="ident" id="8112651">t</span>&nbsp;<span class="op" id="8112653">*</span><span class="ident" id="8112654">testing</span><span class="op" id="8112661">.</span><span class="ident" id="8112662">T</span><span class="op" id="8112663">)</span>&nbsp;<span class="op" id="8112665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8112668">var</span>&nbsp;<span class="ident" id="8112672">f</span>&nbsp;<span class="ident" id="8112674">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8112680">if</span>&nbsp;<span class="ident" id="8112683">err</span>&nbsp;<span class="op" id="8112687">:=</span>&nbsp;<span class="ident" id="8112690">Unmarshal</span><span class="op" id="8112699">(</span><span class="op" id="8112700">[</span><span class="op" id="8112701">]</span><span class="builtintype" id="8112702">byte</span><span class="op" id="8112706">(</span><span class="ident" id="8112707">atomFeedString</span><span class="op" id="8112721">)</span><span class="op" id="8112722">,</span>&nbsp;<span class="op" id="8112724">&amp;</span><span class="ident" id="8112725">f</span><span class="op" id="8112726">)</span><span class="op" id="8112727">;</span>&nbsp;<span class="ident" id="8112729">err</span>&nbsp;<span class="op" id="8112733">!=</span>&nbsp;<span class="ident" id="8112736">nil</span>&nbsp;<span class="op" id="8112740">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112744">t</span><span class="op" id="8112745">.</span><span class="ident" id="8112746">Fatalf</span><span class="op" id="8112752">(</span><span class="string" id="8112753">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8112768">,</span>&nbsp;<span class="ident" id="8112770">err</span><span class="op" id="8112773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8112779">if</span>&nbsp;<span class="op" id="8112782">!</span><span class="ident" id="8112783">reflect</span><span class="op" id="8112790">.</span><span class="ident" id="8112791">DeepEqual</span><span class="op" id="8112800">(</span><span class="ident" id="8112801">f</span><span class="op" id="8112802">,</span>&nbsp;<span class="ident" id="8112804">atomFeed</span><span class="op" id="8112812">)</span>&nbsp;<span class="op" id="8112814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112818">t</span><span class="op" id="8112819">.</span><span class="ident" id="8112820">Fatalf</span><span class="op" id="8112826">(</span><span class="string" id="8112827">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="8112847">,</span>&nbsp;<span class="ident" id="8112849">f</span><span class="op" id="8112850">,</span>&nbsp;<span class="ident" id="8112852">atomFeed</span><span class="op" id="8112860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112863">}</span><br>
<span class="lineno">25</span><span class="op" id="8112865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8112868">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="8112919">const</span>&nbsp;<span class="ident" id="8112925">atomFeedString</span>&nbsp;<span class="op" id="8112940">=</span>&nbsp;<span class="string" id="8112942">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8115931">type</span>&nbsp;<span class="ident" id="8115936">Feed</span>&nbsp;<span class="keyword" id="8115941">struct</span>&nbsp;<span class="op" id="8115948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8115951">XMLName</span>&nbsp;<span class="ident" id="8115959">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8115969">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116011">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8116019">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8116029">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116044">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8116052">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8116062">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116074">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8116082">[</span><span class="op" id="8116083">]</span><span class="ident" id="8116084">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8116092">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116106">Updated</span>&nbsp;<span class="ident" id="8116114">time</span><span class="op" id="8116118">.</span><span class="ident" id="8116119">Time</span>&nbsp;<span class="string" id="8116124">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116146">Author</span>&nbsp;&nbsp;<span class="ident" id="8116154">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8116164">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116180">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8116188">[</span><span class="op" id="8116189">]</span><span class="ident" id="8116190">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8116198">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8116212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8116215">type</span>&nbsp;<span class="ident" id="8116220">Entry</span>&nbsp;<span class="keyword" id="8116226">struct</span>&nbsp;<span class="op" id="8116233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116236">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8116244">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8116254">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116269">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8116277">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8116287">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116299">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8116307">[</span><span class="op" id="8116308">]</span><span class="ident" id="8116309">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8116317">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116331">Updated</span>&nbsp;<span class="ident" id="8116339">time</span><span class="op" id="8116343">.</span><span class="ident" id="8116344">Time</span>&nbsp;<span class="string" id="8116349">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116366">Author</span>&nbsp;&nbsp;<span class="ident" id="8116374">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8116384">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116400">Summary</span>&nbsp;<span class="ident" id="8116408">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8116418">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="8116434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8116437">type</span>&nbsp;<span class="ident" id="8116442">Link</span>&nbsp;<span class="keyword" id="8116447">struct</span>&nbsp;<span class="op" id="8116454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116457">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="8116462">string</span>&nbsp;<span class="string" id="8116469">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116497">Href</span>&nbsp;<span class="builtintype" id="8116502">string</span>&nbsp;<span class="string" id="8116509">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="8116527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8116530">type</span>&nbsp;<span class="ident" id="8116535">Person</span>&nbsp;<span class="keyword" id="8116542">struct</span>&nbsp;<span class="op" id="8116549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116552">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8116561">string</span>&nbsp;<span class="string" id="8116568">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116582">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8116591">string</span>&nbsp;<span class="string" id="8116598">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116611">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8116620">string</span>&nbsp;<span class="string" id="8116627">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116642">InnerXML</span>&nbsp;<span class="builtintype" id="8116651">string</span>&nbsp;<span class="string" id="8116658">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8116676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8116679">type</span>&nbsp;<span class="ident" id="8116684">Text</span>&nbsp;<span class="keyword" id="8116689">struct</span>&nbsp;<span class="op" id="8116696">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116699">Type</span>&nbsp;<span class="builtintype" id="8116704">string</span>&nbsp;<span class="string" id="8116711">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116740">Body</span>&nbsp;<span class="builtintype" id="8116745">string</span>&nbsp;<span class="string" id="8116752">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8116770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8116773">var</span>&nbsp;<span class="ident" id="8116777">atomFeed</span>&nbsp;<span class="op" id="8116786">=</span>&nbsp;<span class="ident" id="8116788">Feed</span><span class="op" id="8116792">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116795">XMLName</span><span class="op" id="8116802">:</span>&nbsp;<span class="ident" id="8116804">Name</span><span class="op" id="8116808">{</span><span class="string" id="8116809">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="8116838">,</span>&nbsp;<span class="string" id="8116840">&#34;feed&#34;</span><span class="op" id="8116846">}</span><span class="op" id="8116847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116850">Title</span><span class="op" id="8116855">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8116859">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="8116884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8116887">Link</span><span class="op" id="8116891">:</span>&nbsp;<span class="op" id="8116893">[</span><span class="op" id="8116894">]</span><span class="ident" id="8116895">Link</span><span class="op" id="8116899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116903">{</span><span class="ident" id="8116904">Rel</span><span class="op" id="8116907">:</span>&nbsp;<span class="string" id="8116909">&#34;alternate&#34;</span><span class="op" id="8116920">,</span>&nbsp;<span class="ident" id="8116922">Href</span><span class="op" id="8116926">:</span>&nbsp;<span class="string" id="8116928">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="8116960">}</span><span class="op" id="8116961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8116965">{</span><span class="ident" id="8116966">Rel</span><span class="op" id="8116969">:</span>&nbsp;<span class="string" id="8116971">&#34;self&#34;</span><span class="op" id="8116977">,</span>&nbsp;<span class="ident" id="8116979">Href</span><span class="op" id="8116983">:</span>&nbsp;<span class="string" id="8116985">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="8117029">}</span><span class="op" id="8117030">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117033">}</span><span class="op" id="8117034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117037">Id</span><span class="op" id="8117039">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8117046">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="8117078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117081">Updated</span><span class="op" id="8117088">:</span>&nbsp;<span class="ident" id="8117090">ParseTime</span><span class="op" id="8117099">(</span><span class="string" id="8117100">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="8117127">)</span><span class="op" id="8117128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117131">Author</span><span class="op" id="8117137">:</span>&nbsp;<span class="ident" id="8117139">Person</span><span class="op" id="8117145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117149">Name</span><span class="op" id="8117153">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8117159">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="8117171">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117175">InnerXML</span><span class="op" id="8117183">:</span>&nbsp;<span class="string" id="8117185">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="8117216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117219">}</span><span class="op" id="8117220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117223">Entry</span><span class="op" id="8117228">:</span>&nbsp;<span class="op" id="8117230">[</span><span class="op" id="8117231">]</span><span class="ident" id="8117232">Entry</span><span class="op" id="8117237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117246">Title</span><span class="op" id="8117251">:</span>&nbsp;<span class="string" id="8117253">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="8117293">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117298">Link</span><span class="op" id="8117302">:</span>&nbsp;<span class="op" id="8117304">[</span><span class="op" id="8117305">]</span><span class="ident" id="8117306">Link</span><span class="op" id="8117310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117316">{</span><span class="ident" id="8117317">Rel</span><span class="op" id="8117320">:</span>&nbsp;<span class="string" id="8117322">&#34;alternate&#34;</span><span class="op" id="8117333">,</span>&nbsp;<span class="ident" id="8117335">Href</span><span class="op" id="8117339">:</span>&nbsp;<span class="string" id="8117341">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="8117379">}</span><span class="op" id="8117380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117385">}</span><span class="op" id="8117386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117391">Updated</span><span class="op" id="8117398">:</span>&nbsp;<span class="ident" id="8117400">ParseTime</span><span class="op" id="8117409">(</span><span class="string" id="8117410">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="8117437">)</span><span class="op" id="8117438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117443">Author</span><span class="op" id="8117449">:</span>&nbsp;<span class="ident" id="8117451">Person</span><span class="op" id="8117457">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117463">Name</span><span class="op" id="8117467">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8117473">&#34;email-address-removed&#34;</span><span class="op" id="8117496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117502">InnerXML</span><span class="op" id="8117510">:</span>&nbsp;<span class="string" id="8117512">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="8117548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8117553">}</span><span class="op" id="8117554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117559">Id</span><span class="op" id="8117561">:</span>&nbsp;<span class="string" id="8117563">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="8117605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117610">Summary</span><span class="op" id="8117617">:</span>&nbsp;<span class="ident" id="8117619">Text</span><span class="op" id="8117623">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117629">Type</span><span class="op" id="8117633">:</span>&nbsp;<span class="string" id="8117635">&#34;html&#34;</span><span class="op" id="8117641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8117647">Body</span><span class="op" id="8117651">:</span>&nbsp;<span class="string" id="8117653">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="8118885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118890">}</span><span class="op" id="8118891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118895">}</span><span class="op" id="8118896">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118905">Title</span><span class="op" id="8118910">:</span>&nbsp;<span class="string" id="8118912">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="8118946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8118951">Link</span><span class="op" id="8118955">:</span>&nbsp;<span class="op" id="8118957">[</span><span class="op" id="8118958">]</span><span class="ident" id="8118959">Link</span><span class="op" id="8118963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8118969">{</span><span class="ident" id="8118970">Rel</span><span class="op" id="8118973">:</span>&nbsp;<span class="string" id="8118975">&#34;alternate&#34;</span><span class="op" id="8118986">,</span>&nbsp;<span class="ident" id="8118988">Href</span><span class="op" id="8118992">:</span>&nbsp;<span class="string" id="8118994">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="8119032">}</span><span class="op" id="8119033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119038">}</span><span class="op" id="8119039">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119044">Updated</span><span class="op" id="8119051">:</span>&nbsp;<span class="ident" id="8119053">ParseTime</span><span class="op" id="8119062">(</span><span class="string" id="8119063">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="8119090">)</span><span class="op" id="8119091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119096">Author</span><span class="op" id="8119102">:</span>&nbsp;<span class="ident" id="8119104">Person</span><span class="op" id="8119110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119116">Name</span><span class="op" id="8119120">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8119126">&#34;email-address-removed&#34;</span><span class="op" id="8119149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119155">InnerXML</span><span class="op" id="8119163">:</span>&nbsp;<span class="string" id="8119165">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="8119201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119206">}</span><span class="op" id="8119207">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119212">Id</span><span class="op" id="8119214">:</span>&nbsp;<span class="string" id="8119216">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="8119258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119263">Summary</span><span class="op" id="8119270">:</span>&nbsp;<span class="ident" id="8119272">Text</span><span class="op" id="8119276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119282">Type</span><span class="op" id="8119286">:</span>&nbsp;<span class="string" id="8119288">&#34;html&#34;</span><span class="op" id="8119294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8119300">Body</span><span class="op" id="8119304">:</span>&nbsp;<span class="string" id="8119306">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="8119984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119989">}</span><span class="op" id="8119990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119994">}</span><span class="op" id="8119995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8119998">}</span><span class="op" id="8119999">,</span><br>
<span class="lineno">215</span><span class="op" id="8120001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120004">const</span>&nbsp;<span class="ident" id="8120010">pathTestString</span>&nbsp;<span class="op" id="8120025">=</span>&nbsp;<span class="string" id="8120027">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120389">type</span>&nbsp;<span class="ident" id="8120394">PathTestItem</span>&nbsp;<span class="keyword" id="8120407">struct</span>&nbsp;<span class="op" id="8120414">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120417">Value</span>&nbsp;<span class="builtintype" id="8120423">string</span><br>
<span class="lineno"></span><span class="op" id="8120430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120433">type</span>&nbsp;<span class="ident" id="8120438">PathTestA</span>&nbsp;<span class="keyword" id="8120448">struct</span>&nbsp;<span class="op" id="8120455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120458">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8120472">[</span><span class="op" id="8120473">]</span><span class="ident" id="8120474">PathTestItem</span>&nbsp;<span class="string" id="8120487">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120503">Before</span><span class="op" id="8120509">,</span>&nbsp;<span class="ident" id="8120511">After</span>&nbsp;<span class="builtintype" id="8120517">string</span><br>
<span class="lineno"></span><span class="op" id="8120524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120527">type</span>&nbsp;<span class="ident" id="8120532">PathTestB</span>&nbsp;<span class="keyword" id="8120542">struct</span>&nbsp;<span class="op" id="8120549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120552">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8120566">[</span><span class="op" id="8120567">]</span><span class="ident" id="8120568">PathTestItem</span>&nbsp;<span class="string" id="8120581">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120602">Before</span><span class="op" id="8120608">,</span>&nbsp;<span class="ident" id="8120610">After</span>&nbsp;<span class="builtintype" id="8120616">string</span><br>
<span class="lineno"></span><span class="op" id="8120623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120626">type</span>&nbsp;<span class="ident" id="8120631">PathTestC</span>&nbsp;<span class="keyword" id="8120641">struct</span>&nbsp;<span class="op" id="8120648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120651">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8120665">[</span><span class="op" id="8120666">]</span><span class="builtintype" id="8120667">string</span>&nbsp;<span class="string" id="8120674">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120701">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8120715">[</span><span class="op" id="8120716">]</span><span class="builtintype" id="8120717">string</span>&nbsp;<span class="string" id="8120724">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120751">Before</span><span class="op" id="8120757">,</span>&nbsp;<span class="ident" id="8120759">After</span>&nbsp;<span class="builtintype" id="8120765">string</span><br>
<span class="lineno"></span><span class="op" id="8120772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120775">type</span>&nbsp;<span class="ident" id="8120780">PathTestSet</span>&nbsp;<span class="keyword" id="8120792">struct</span>&nbsp;<span class="op" id="8120799">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120802">Item1</span>&nbsp;<span class="op" id="8120808">[</span><span class="op" id="8120809">]</span><span class="ident" id="8120810">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="8120823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120826">type</span>&nbsp;<span class="ident" id="8120831">PathTestD</span>&nbsp;<span class="keyword" id="8120841">struct</span>&nbsp;<span class="op" id="8120848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120851">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8120865">PathTestSet</span>&nbsp;<span class="string" id="8120877">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120892">Before</span><span class="op" id="8120898">,</span>&nbsp;<span class="ident" id="8120900">After</span>&nbsp;<span class="builtintype" id="8120906">string</span><br>
<span class="lineno"></span><span class="op" id="8120913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8120916">type</span>&nbsp;<span class="ident" id="8120921">PathTestE</span>&nbsp;<span class="keyword" id="8120931">struct</span>&nbsp;<span class="op" id="8120938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120941">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8120955">string</span>&nbsp;<span class="string" id="8120962">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8120985">Before</span><span class="op" id="8120991">,</span>&nbsp;<span class="ident" id="8120993">After</span>&nbsp;<span class="builtintype" id="8120999">string</span><br>
<span class="lineno"></span><span class="op" id="8121006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8121009">var</span>&nbsp;<span class="ident" id="8121013">pathTests</span>&nbsp;<span class="op" id="8121023">=</span>&nbsp;<span class="op" id="8121025">[</span><span class="op" id="8121026">]</span><span class="keyword" id="8121027">interface</span><span class="op" id="8121036">{</span><span class="op" id="8121037">}</span><span class="op" id="8121038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121041">&amp;</span><span class="ident" id="8121042">PathTestA</span><span class="op" id="8121051">{</span><span class="ident" id="8121052">Items</span><span class="op" id="8121057">:</span>&nbsp;<span class="op" id="8121059">[</span><span class="op" id="8121060">]</span><span class="ident" id="8121061">PathTestItem</span><span class="op" id="8121073">{</span><span class="op" id="8121074">{</span><span class="string" id="8121075">&#34;A&#34;</span><span class="op" id="8121078">}</span><span class="op" id="8121079">,</span>&nbsp;<span class="op" id="8121081">{</span><span class="string" id="8121082">&#34;D&#34;</span><span class="op" id="8121085">}</span><span class="op" id="8121086">}</span><span class="op" id="8121087">,</span>&nbsp;<span class="ident" id="8121089">Before</span><span class="op" id="8121095">:</span>&nbsp;<span class="string" id="8121097">&#34;1&#34;</span><span class="op" id="8121100">,</span>&nbsp;<span class="ident" id="8121102">After</span><span class="op" id="8121107">:</span>&nbsp;<span class="string" id="8121109">&#34;2&#34;</span><span class="op" id="8121112">}</span><span class="op" id="8121113">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121116">&amp;</span><span class="ident" id="8121117">PathTestB</span><span class="op" id="8121126">{</span><span class="ident" id="8121127">Other</span><span class="op" id="8121132">:</span>&nbsp;<span class="op" id="8121134">[</span><span class="op" id="8121135">]</span><span class="ident" id="8121136">PathTestItem</span><span class="op" id="8121148">{</span><span class="op" id="8121149">{</span><span class="string" id="8121150">&#34;A&#34;</span><span class="op" id="8121153">}</span><span class="op" id="8121154">,</span>&nbsp;<span class="op" id="8121156">{</span><span class="string" id="8121157">&#34;D&#34;</span><span class="op" id="8121160">}</span><span class="op" id="8121161">}</span><span class="op" id="8121162">,</span>&nbsp;<span class="ident" id="8121164">Before</span><span class="op" id="8121170">:</span>&nbsp;<span class="string" id="8121172">&#34;1&#34;</span><span class="op" id="8121175">,</span>&nbsp;<span class="ident" id="8121177">After</span><span class="op" id="8121182">:</span>&nbsp;<span class="string" id="8121184">&#34;2&#34;</span><span class="op" id="8121187">}</span><span class="op" id="8121188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121191">&amp;</span><span class="ident" id="8121192">PathTestC</span><span class="op" id="8121201">{</span><span class="ident" id="8121202">Values1</span><span class="op" id="8121209">:</span>&nbsp;<span class="op" id="8121211">[</span><span class="op" id="8121212">]</span><span class="builtintype" id="8121213">string</span><span class="op" id="8121219">{</span><span class="string" id="8121220">&#34;A&#34;</span><span class="op" id="8121223">,</span>&nbsp;<span class="string" id="8121225">&#34;C&#34;</span><span class="op" id="8121228">,</span>&nbsp;<span class="string" id="8121230">&#34;D&#34;</span><span class="op" id="8121233">}</span><span class="op" id="8121234">,</span>&nbsp;<span class="ident" id="8121236">Values2</span><span class="op" id="8121243">:</span>&nbsp;<span class="op" id="8121245">[</span><span class="op" id="8121246">]</span><span class="builtintype" id="8121247">string</span><span class="op" id="8121253">{</span><span class="string" id="8121254">&#34;B&#34;</span><span class="op" id="8121257">}</span><span class="op" id="8121258">,</span>&nbsp;<span class="ident" id="8121260">Before</span><span class="op" id="8121266">:</span>&nbsp;<span class="string" id="8121268">&#34;1&#34;</span><span class="op" id="8121271">,</span>&nbsp;<span class="ident" id="8121273">After</span><span class="op" id="8121278">:</span>&nbsp;<span class="string" id="8121280">&#34;2&#34;</span><span class="op" id="8121283">}</span><span class="op" id="8121284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121287">&amp;</span><span class="ident" id="8121288">PathTestD</span><span class="op" id="8121297">{</span><span class="ident" id="8121298">Other</span><span class="op" id="8121303">:</span>&nbsp;<span class="ident" id="8121305">PathTestSet</span><span class="op" id="8121316">{</span><span class="ident" id="8121317">Item1</span><span class="op" id="8121322">:</span>&nbsp;<span class="op" id="8121324">[</span><span class="op" id="8121325">]</span><span class="ident" id="8121326">PathTestItem</span><span class="op" id="8121338">{</span><span class="op" id="8121339">{</span><span class="string" id="8121340">&#34;A&#34;</span><span class="op" id="8121343">}</span><span class="op" id="8121344">,</span>&nbsp;<span class="op" id="8121346">{</span><span class="string" id="8121347">&#34;D&#34;</span><span class="op" id="8121350">}</span><span class="op" id="8121351">}</span><span class="op" id="8121352">}</span><span class="op" id="8121353">,</span>&nbsp;<span class="ident" id="8121355">Before</span><span class="op" id="8121361">:</span>&nbsp;<span class="string" id="8121363">&#34;1&#34;</span><span class="op" id="8121366">,</span>&nbsp;<span class="ident" id="8121368">After</span><span class="op" id="8121373">:</span>&nbsp;<span class="string" id="8121375">&#34;2&#34;</span><span class="op" id="8121378">}</span><span class="op" id="8121379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121382">&amp;</span><span class="ident" id="8121383">PathTestE</span><span class="op" id="8121392">{</span><span class="ident" id="8121393">Underline</span><span class="op" id="8121402">:</span>&nbsp;<span class="string" id="8121404">&#34;E&#34;</span><span class="op" id="8121407">,</span>&nbsp;<span class="ident" id="8121409">Before</span><span class="op" id="8121415">:</span>&nbsp;<span class="string" id="8121417">&#34;1&#34;</span><span class="op" id="8121420">,</span>&nbsp;<span class="ident" id="8121422">After</span><span class="op" id="8121427">:</span>&nbsp;<span class="string" id="8121429">&#34;2&#34;</span><span class="op" id="8121432">}</span><span class="op" id="8121433">,</span><br>
<span class="lineno"></span><span class="op" id="8121435">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="8121438">func</span>&nbsp;<span class="ident" id="8121443">TestUnmarshalPaths</span><span class="op" id="8121461">(</span><span class="ident" id="8121462">t</span>&nbsp;<span class="op" id="8121464">*</span><span class="ident" id="8121465">testing</span><span class="op" id="8121472">.</span><span class="ident" id="8121473">T</span><span class="op" id="8121474">)</span>&nbsp;<span class="op" id="8121476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121479">for</span>&nbsp;<span class="ident" id="8121483">_</span><span class="op" id="8121484">,</span>&nbsp;<span class="ident" id="8121486">pt</span>&nbsp;<span class="op" id="8121489">:=</span>&nbsp;<span class="keyword" id="8121492">range</span>&nbsp;<span class="ident" id="8121498">pathTests</span>&nbsp;<span class="op" id="8121508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121512">v</span>&nbsp;<span class="op" id="8121514">:=</span>&nbsp;<span class="ident" id="8121517">reflect</span><span class="op" id="8121524">.</span><span class="ident" id="8121525">New</span><span class="op" id="8121528">(</span><span class="ident" id="8121529">reflect</span><span class="op" id="8121536">.</span><span class="ident" id="8121537">TypeOf</span><span class="op" id="8121543">(</span><span class="ident" id="8121544">pt</span><span class="op" id="8121546">)</span><span class="op" id="8121547">.</span><span class="ident" id="8121548">Elem</span><span class="op" id="8121552">(</span><span class="op" id="8121553">)</span><span class="op" id="8121554">)</span><span class="op" id="8121555">.</span><span class="ident" id="8121556">Interface</span><span class="op" id="8121565">(</span><span class="op" id="8121566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121570">if</span>&nbsp;<span class="ident" id="8121573">err</span>&nbsp;<span class="op" id="8121577">:=</span>&nbsp;<span class="ident" id="8121580">Unmarshal</span><span class="op" id="8121589">(</span><span class="op" id="8121590">[</span><span class="op" id="8121591">]</span><span class="builtintype" id="8121592">byte</span><span class="op" id="8121596">(</span><span class="ident" id="8121597">pathTestString</span><span class="op" id="8121611">)</span><span class="op" id="8121612">,</span>&nbsp;<span class="ident" id="8121614">v</span><span class="op" id="8121615">)</span><span class="op" id="8121616">;</span>&nbsp;<span class="ident" id="8121618">err</span>&nbsp;<span class="op" id="8121622">!=</span>&nbsp;<span class="ident" id="8121625">nil</span>&nbsp;<span class="op" id="8121629">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121634">t</span><span class="op" id="8121635">.</span><span class="ident" id="8121636">Fatalf</span><span class="op" id="8121642">(</span><span class="string" id="8121643">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8121658">,</span>&nbsp;<span class="ident" id="8121660">err</span><span class="op" id="8121663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8121671">if</span>&nbsp;<span class="op" id="8121674">!</span><span class="ident" id="8121675">reflect</span><span class="op" id="8121682">.</span><span class="ident" id="8121683">DeepEqual</span><span class="op" id="8121692">(</span><span class="ident" id="8121693">v</span><span class="op" id="8121694">,</span>&nbsp;<span class="ident" id="8121696">pt</span><span class="op" id="8121698">)</span>&nbsp;<span class="op" id="8121700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121705">t</span><span class="op" id="8121706">.</span><span class="ident" id="8121707">Fatalf</span><span class="op" id="8121713">(</span><span class="string" id="8121714">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="8121734">,</span>&nbsp;<span class="ident" id="8121736">v</span><span class="op" id="8121737">,</span>&nbsp;<span class="ident" id="8121739">pt</span><span class="op" id="8121741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121745">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8121748">}</span><br>
<span class="lineno"></span><span class="op" id="8121750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8121753">type</span>&nbsp;<span class="ident" id="8121758">BadPathTestA</span>&nbsp;<span class="keyword" id="8121771">struct</span>&nbsp;<span class="op" id="8121778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121781">First</span>&nbsp;&nbsp;<span class="builtintype" id="8121788">string</span>&nbsp;<span class="string" id="8121795">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121816">Other</span>&nbsp;&nbsp;<span class="builtintype" id="8121823">string</span>&nbsp;<span class="string" id="8121830">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121851">Second</span>&nbsp;<span class="builtintype" id="8121858">string</span>&nbsp;<span class="string" id="8121865">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8121879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8121882">type</span>&nbsp;<span class="ident" id="8121887">BadPathTestB</span>&nbsp;<span class="keyword" id="8121900">struct</span>&nbsp;<span class="op" id="8121907">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121910">Other</span>&nbsp;&nbsp;<span class="builtintype" id="8121917">string</span>&nbsp;<span class="string" id="8121924">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121951">First</span>&nbsp;&nbsp;<span class="builtintype" id="8121958">string</span>&nbsp;<span class="string" id="8121965">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8121986">Second</span>&nbsp;<span class="builtintype" id="8121993">string</span>&nbsp;<span class="string" id="8122000">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8122026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="8122029">type</span>&nbsp;<span class="ident" id="8122034">BadPathTestC</span>&nbsp;<span class="keyword" id="8122047">struct</span>&nbsp;<span class="op" id="8122054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122057">First</span>&nbsp;&nbsp;<span class="builtintype" id="8122064">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122072">Second</span>&nbsp;<span class="builtintype" id="8122079">string</span>&nbsp;<span class="string" id="8122086">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8122100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="8122103">type</span>&nbsp;<span class="ident" id="8122108">BadPathTestD</span>&nbsp;<span class="keyword" id="8122121">struct</span>&nbsp;<span class="op" id="8122128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122131">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122149">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="8122166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="8122169">type</span>&nbsp;<span class="ident" id="8122174">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="8122191">struct</span>&nbsp;<span class="op" id="8122198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122201">First</span>&nbsp;<span class="builtintype" id="8122207">string</span><br>
<span class="lineno"></span><span class="op" id="8122214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8122217">type</span>&nbsp;<span class="ident" id="8122222">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="8122239">struct</span>&nbsp;<span class="op" id="8122246">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122249">Second</span>&nbsp;<span class="builtintype" id="8122256">string</span>&nbsp;<span class="string" id="8122263">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8122277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8122280">var</span>&nbsp;<span class="ident" id="8122284">badPathTests</span>&nbsp;<span class="op" id="8122297">=</span>&nbsp;<span class="op" id="8122299">[</span><span class="op" id="8122300">]</span><span class="keyword" id="8122301">struct</span>&nbsp;<span class="op" id="8122308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122311">v</span><span class="op" id="8122312">,</span>&nbsp;<span class="ident" id="8122314">e</span>&nbsp;<span class="keyword" id="8122316">interface</span><span class="op" id="8122325">{</span><span class="op" id="8122326">}</span><br>
<span class="lineno">325</span><span class="op" id="8122328">}</span><span class="op" id="8122329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122332">{</span><span class="op" id="8122333">&amp;</span><span class="ident" id="8122334">BadPathTestA</span><span class="op" id="8122346">{</span><span class="op" id="8122347">}</span><span class="op" id="8122348">,</span>&nbsp;<span class="op" id="8122350">&amp;</span><span class="ident" id="8122351">TagPathError</span><span class="op" id="8122363">{</span><span class="ident" id="8122364">reflect</span><span class="op" id="8122371">.</span><span class="ident" id="8122372">TypeOf</span><span class="op" id="8122378">(</span><span class="ident" id="8122379">BadPathTestA</span><span class="op" id="8122391">{</span><span class="op" id="8122392">}</span><span class="op" id="8122393">)</span><span class="op" id="8122394">,</span>&nbsp;<span class="string" id="8122396">&#34;First&#34;</span><span class="op" id="8122403">,</span>&nbsp;<span class="string" id="8122405">&#34;items&gt;item1&#34;</span><span class="op" id="8122418">,</span>&nbsp;<span class="string" id="8122420">&#34;Second&#34;</span><span class="op" id="8122428">,</span>&nbsp;<span class="string" id="8122430">&#34;items&#34;</span><span class="op" id="8122437">}</span><span class="op" id="8122438">}</span><span class="op" id="8122439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122442">{</span><span class="op" id="8122443">&amp;</span><span class="ident" id="8122444">BadPathTestB</span><span class="op" id="8122456">{</span><span class="op" id="8122457">}</span><span class="op" id="8122458">,</span>&nbsp;<span class="op" id="8122460">&amp;</span><span class="ident" id="8122461">TagPathError</span><span class="op" id="8122473">{</span><span class="ident" id="8122474">reflect</span><span class="op" id="8122481">.</span><span class="ident" id="8122482">TypeOf</span><span class="op" id="8122488">(</span><span class="ident" id="8122489">BadPathTestB</span><span class="op" id="8122501">{</span><span class="op" id="8122502">}</span><span class="op" id="8122503">)</span><span class="op" id="8122504">,</span>&nbsp;<span class="string" id="8122506">&#34;First&#34;</span><span class="op" id="8122513">,</span>&nbsp;<span class="string" id="8122515">&#34;items&gt;item1&#34;</span><span class="op" id="8122528">,</span>&nbsp;<span class="string" id="8122530">&#34;Second&#34;</span><span class="op" id="8122538">,</span>&nbsp;<span class="string" id="8122540">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="8122559">}</span><span class="op" id="8122560">}</span><span class="op" id="8122561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122564">{</span><span class="op" id="8122565">&amp;</span><span class="ident" id="8122566">BadPathTestC</span><span class="op" id="8122578">{</span><span class="op" id="8122579">}</span><span class="op" id="8122580">,</span>&nbsp;<span class="op" id="8122582">&amp;</span><span class="ident" id="8122583">TagPathError</span><span class="op" id="8122595">{</span><span class="ident" id="8122596">reflect</span><span class="op" id="8122603">.</span><span class="ident" id="8122604">TypeOf</span><span class="op" id="8122610">(</span><span class="ident" id="8122611">BadPathTestC</span><span class="op" id="8122623">{</span><span class="op" id="8122624">}</span><span class="op" id="8122625">)</span><span class="op" id="8122626">,</span>&nbsp;<span class="string" id="8122628">&#34;First&#34;</span><span class="op" id="8122635">,</span>&nbsp;<span class="string" id="8122637">&#34;&#34;</span><span class="op" id="8122639">,</span>&nbsp;<span class="string" id="8122641">&#34;Second&#34;</span><span class="op" id="8122649">,</span>&nbsp;<span class="string" id="8122651">&#34;First&#34;</span><span class="op" id="8122658">}</span><span class="op" id="8122659">}</span><span class="op" id="8122660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8122663">{</span><span class="op" id="8122664">&amp;</span><span class="ident" id="8122665">BadPathTestD</span><span class="op" id="8122677">{</span><span class="op" id="8122678">}</span><span class="op" id="8122679">,</span>&nbsp;<span class="op" id="8122681">&amp;</span><span class="ident" id="8122682">TagPathError</span><span class="op" id="8122694">{</span><span class="ident" id="8122695">reflect</span><span class="op" id="8122702">.</span><span class="ident" id="8122703">TypeOf</span><span class="op" id="8122709">(</span><span class="ident" id="8122710">BadPathTestD</span><span class="op" id="8122722">{</span><span class="op" id="8122723">}</span><span class="op" id="8122724">)</span><span class="op" id="8122725">,</span>&nbsp;<span class="string" id="8122727">&#34;First&#34;</span><span class="op" id="8122734">,</span>&nbsp;<span class="string" id="8122736">&#34;&#34;</span><span class="op" id="8122738">,</span>&nbsp;<span class="string" id="8122740">&#34;Second&#34;</span><span class="op" id="8122748">,</span>&nbsp;<span class="string" id="8122750">&#34;First&#34;</span><span class="op" id="8122757">}</span><span class="op" id="8122758">}</span><span class="op" id="8122759">,</span><br>
<span class="lineno">330</span><span class="op" id="8122761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8122764">func</span>&nbsp;<span class="ident" id="8122769">TestUnmarshalBadPaths</span><span class="op" id="8122790">(</span><span class="ident" id="8122791">t</span>&nbsp;<span class="op" id="8122793">*</span><span class="ident" id="8122794">testing</span><span class="op" id="8122801">.</span><span class="ident" id="8122802">T</span><span class="op" id="8122803">)</span>&nbsp;<span class="op" id="8122805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8122808">for</span>&nbsp;<span class="ident" id="8122812">_</span><span class="op" id="8122813">,</span>&nbsp;<span class="ident" id="8122815">tt</span>&nbsp;<span class="op" id="8122818">:=</span>&nbsp;<span class="keyword" id="8122821">range</span>&nbsp;<span class="ident" id="8122827">badPathTests</span>&nbsp;<span class="op" id="8122840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122844">err</span>&nbsp;<span class="op" id="8122848">:=</span>&nbsp;<span class="ident" id="8122851">Unmarshal</span><span class="op" id="8122860">(</span><span class="op" id="8122861">[</span><span class="op" id="8122862">]</span><span class="builtintype" id="8122863">byte</span><span class="op" id="8122867">(</span><span class="ident" id="8122868">pathTestString</span><span class="op" id="8122882">)</span><span class="op" id="8122883">,</span>&nbsp;<span class="ident" id="8122885">tt</span><span class="op" id="8122887">.</span><span class="ident" id="8122888">v</span><span class="op" id="8122889">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8122893">if</span>&nbsp;<span class="op" id="8122896">!</span><span class="ident" id="8122897">reflect</span><span class="op" id="8122904">.</span><span class="ident" id="8122905">DeepEqual</span><span class="op" id="8122914">(</span><span class="ident" id="8122915">err</span><span class="op" id="8122918">,</span>&nbsp;<span class="ident" id="8122920">tt</span><span class="op" id="8122922">.</span><span class="ident" id="8122923">e</span><span class="op" id="8122924">)</span>&nbsp;<span class="op" id="8122926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8122931">t</span><span class="op" id="8122932">.</span><span class="ident" id="8122933">Fatalf</span><span class="op" id="8122939">(</span><span class="string" id="8122940">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="8123003">,</span>&nbsp;<span class="ident" id="8123005">tt</span><span class="op" id="8123007">.</span><span class="ident" id="8123008">v</span><span class="op" id="8123009">,</span>&nbsp;<span class="ident" id="8123011">err</span><span class="op" id="8123014">,</span>&nbsp;<span class="ident" id="8123016">tt</span><span class="op" id="8123018">.</span><span class="ident" id="8123019">e</span><span class="op" id="8123020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123027">}</span><br>
<span class="lineno"></span><span class="op" id="8123029">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="8123032">const</span>&nbsp;<span class="ident" id="8123038">OK</span>&nbsp;<span class="op" id="8123041">=</span>&nbsp;<span class="string" id="8123043">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="8123048">const</span>&nbsp;<span class="ident" id="8123054">withoutNameTypeData</span>&nbsp;<span class="op" id="8123074">=</span>&nbsp;<span class="string" id="8123076">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="8123138">type</span>&nbsp;<span class="ident" id="8123143">TestThree</span>&nbsp;<span class="keyword" id="8123153">struct</span>&nbsp;<span class="op" id="8123160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123163">XMLName</span>&nbsp;<span class="ident" id="8123171">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8123178">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123193">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8123201">string</span>&nbsp;<span class="string" id="8123208">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8123222">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="8123225">func</span>&nbsp;<span class="ident" id="8123230">TestUnmarshalWithoutNameType</span><span class="op" id="8123258">(</span><span class="ident" id="8123259">t</span>&nbsp;<span class="op" id="8123261">*</span><span class="ident" id="8123262">testing</span><span class="op" id="8123269">.</span><span class="ident" id="8123270">T</span><span class="op" id="8123271">)</span>&nbsp;<span class="op" id="8123273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123276">var</span>&nbsp;<span class="ident" id="8123280">x</span>&nbsp;<span class="ident" id="8123282">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123293">if</span>&nbsp;<span class="ident" id="8123296">err</span>&nbsp;<span class="op" id="8123300">:=</span>&nbsp;<span class="ident" id="8123303">Unmarshal</span><span class="op" id="8123312">(</span><span class="op" id="8123313">[</span><span class="op" id="8123314">]</span><span class="builtintype" id="8123315">byte</span><span class="op" id="8123319">(</span><span class="ident" id="8123320">withoutNameTypeData</span><span class="op" id="8123339">)</span><span class="op" id="8123340">,</span>&nbsp;<span class="op" id="8123342">&amp;</span><span class="ident" id="8123343">x</span><span class="op" id="8123344">)</span><span class="op" id="8123345">;</span>&nbsp;<span class="ident" id="8123347">err</span>&nbsp;<span class="op" id="8123351">!=</span>&nbsp;<span class="ident" id="8123354">nil</span>&nbsp;<span class="op" id="8123358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123362">t</span><span class="op" id="8123363">.</span><span class="ident" id="8123364">Fatalf</span><span class="op" id="8123370">(</span><span class="string" id="8123371">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8123386">,</span>&nbsp;<span class="ident" id="8123388">err</span><span class="op" id="8123391">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123397">if</span>&nbsp;<span class="ident" id="8123400">x</span><span class="op" id="8123401">.</span><span class="ident" id="8123402">Attr</span>&nbsp;<span class="op" id="8123407">!=</span>&nbsp;<span class="ident" id="8123410">OK</span>&nbsp;<span class="op" id="8123413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123417">t</span><span class="op" id="8123418">.</span><span class="ident" id="8123419">Fatalf</span><span class="op" id="8123425">(</span><span class="string" id="8123426">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="8123444">,</span>&nbsp;<span class="ident" id="8123446">x</span><span class="op" id="8123447">.</span><span class="ident" id="8123448">Attr</span><span class="op" id="8123452">,</span>&nbsp;<span class="ident" id="8123454">OK</span><span class="op" id="8123456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123459">}</span><br>
<span class="lineno"></span><span class="op" id="8123461">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="8123464">func</span>&nbsp;<span class="ident" id="8123469">TestUnmarshalAttr</span><span class="op" id="8123486">(</span><span class="ident" id="8123487">t</span>&nbsp;<span class="op" id="8123489">*</span><span class="ident" id="8123490">testing</span><span class="op" id="8123497">.</span><span class="ident" id="8123498">T</span><span class="op" id="8123499">)</span>&nbsp;<span class="op" id="8123501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123504">type</span>&nbsp;<span class="ident" id="8123509">ParamVal</span>&nbsp;<span class="keyword" id="8123518">struct</span>&nbsp;<span class="op" id="8123525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123529">Int</span>&nbsp;<span class="builtintype" id="8123533">int</span>&nbsp;<span class="string" id="8123537">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123555">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123559">type</span>&nbsp;<span class="ident" id="8123564">ParamPtr</span>&nbsp;<span class="keyword" id="8123573">struct</span>&nbsp;<span class="op" id="8123580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123584">Int</span>&nbsp;<span class="op" id="8123588">*</span><span class="builtintype" id="8123589">int</span>&nbsp;<span class="string" id="8123593">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123615">type</span>&nbsp;<span class="ident" id="8123620">ParamStringPtr</span>&nbsp;<span class="keyword" id="8123635">struct</span>&nbsp;<span class="op" id="8123642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123646">Int</span>&nbsp;<span class="op" id="8123650">*</span><span class="builtintype" id="8123651">string</span>&nbsp;<span class="string" id="8123658">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123680">x</span>&nbsp;<span class="op" id="8123682">:=</span>&nbsp;<span class="op" id="8123685">[</span><span class="op" id="8123686">]</span><span class="builtintype" id="8123687">byte</span><span class="op" id="8123691">(</span><span class="string" id="8123692">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="8123711">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123715">p1</span>&nbsp;<span class="op" id="8123718">:=</span>&nbsp;<span class="op" id="8123721">&amp;</span><span class="ident" id="8123722">ParamPtr</span><span class="op" id="8123730">{</span><span class="op" id="8123731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123734">if</span>&nbsp;<span class="ident" id="8123737">err</span>&nbsp;<span class="op" id="8123741">:=</span>&nbsp;<span class="ident" id="8123744">Unmarshal</span><span class="op" id="8123753">(</span><span class="ident" id="8123754">x</span><span class="op" id="8123755">,</span>&nbsp;<span class="ident" id="8123757">p1</span><span class="op" id="8123759">)</span><span class="op" id="8123760">;</span>&nbsp;<span class="ident" id="8123762">err</span>&nbsp;<span class="op" id="8123766">!=</span>&nbsp;<span class="ident" id="8123769">nil</span>&nbsp;<span class="op" id="8123773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123777">t</span><span class="op" id="8123778">.</span><span class="ident" id="8123779">Fatalf</span><span class="op" id="8123785">(</span><span class="string" id="8123786">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8123801">,</span>&nbsp;<span class="ident" id="8123803">err</span><span class="op" id="8123806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123809">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8123812">if</span>&nbsp;<span class="ident" id="8123815">p1</span><span class="op" id="8123817">.</span><span class="ident" id="8123818">Int</span>&nbsp;<span class="op" id="8123822">==</span>&nbsp;<span class="ident" id="8123825">nil</span>&nbsp;<span class="op" id="8123829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123833">t</span><span class="op" id="8123834">.</span><span class="ident" id="8123835">Fatalf</span><span class="op" id="8123841">(</span><span class="string" id="8123842">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="8123877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123880">}</span>&nbsp;<span class="keyword" id="8123882">else</span>&nbsp;<span class="keyword" id="8123887">if</span>&nbsp;<span class="op" id="8123890">*</span><span class="ident" id="8123891">p1</span><span class="op" id="8123893">.</span><span class="ident" id="8123894">Int</span>&nbsp;<span class="op" id="8123898">!=</span>&nbsp;<span class="num" id="8123901">1</span>&nbsp;<span class="op" id="8123903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123907">t</span><span class="op" id="8123908">.</span><span class="ident" id="8123909">Fatalf</span><span class="op" id="8123915">(</span><span class="string" id="8123916">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8123965">,</span>&nbsp;<span class="ident" id="8123967">x</span><span class="op" id="8123968">,</span>&nbsp;<span class="ident" id="8123970">p1</span><span class="op" id="8123972">.</span><span class="ident" id="8123973">Int</span><span class="op" id="8123976">,</span>&nbsp;<span class="num" id="8123978">1</span><span class="op" id="8123979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8123982">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8123986">p2</span>&nbsp;<span class="op" id="8123989">:=</span>&nbsp;<span class="op" id="8123992">&amp;</span><span class="ident" id="8123993">ParamVal</span><span class="op" id="8124001">{</span><span class="op" id="8124002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8124005">if</span>&nbsp;<span class="ident" id="8124008">err</span>&nbsp;<span class="op" id="8124012">:=</span>&nbsp;<span class="ident" id="8124015">Unmarshal</span><span class="op" id="8124024">(</span><span class="ident" id="8124025">x</span><span class="op" id="8124026">,</span>&nbsp;<span class="ident" id="8124028">p2</span><span class="op" id="8124030">)</span><span class="op" id="8124031">;</span>&nbsp;<span class="ident" id="8124033">err</span>&nbsp;<span class="op" id="8124037">!=</span>&nbsp;<span class="ident" id="8124040">nil</span>&nbsp;<span class="op" id="8124044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124048">t</span><span class="op" id="8124049">.</span><span class="ident" id="8124050">Fatalf</span><span class="op" id="8124056">(</span><span class="string" id="8124057">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8124072">,</span>&nbsp;<span class="ident" id="8124074">err</span><span class="op" id="8124077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124080">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8124083">if</span>&nbsp;<span class="ident" id="8124086">p2</span><span class="op" id="8124088">.</span><span class="ident" id="8124089">Int</span>&nbsp;<span class="op" id="8124093">!=</span>&nbsp;<span class="num" id="8124096">1</span>&nbsp;<span class="op" id="8124098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124102">t</span><span class="op" id="8124103">.</span><span class="ident" id="8124104">Fatalf</span><span class="op" id="8124110">(</span><span class="string" id="8124111">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8124160">,</span>&nbsp;<span class="ident" id="8124162">x</span><span class="op" id="8124163">,</span>&nbsp;<span class="ident" id="8124165">p2</span><span class="op" id="8124167">.</span><span class="ident" id="8124168">Int</span><span class="op" id="8124171">,</span>&nbsp;<span class="num" id="8124173">1</span><span class="op" id="8124174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124181">p3</span>&nbsp;<span class="op" id="8124184">:=</span>&nbsp;<span class="op" id="8124187">&amp;</span><span class="ident" id="8124188">ParamStringPtr</span><span class="op" id="8124202">{</span><span class="op" id="8124203">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8124206">if</span>&nbsp;<span class="ident" id="8124209">err</span>&nbsp;<span class="op" id="8124213">:=</span>&nbsp;<span class="ident" id="8124216">Unmarshal</span><span class="op" id="8124225">(</span><span class="ident" id="8124226">x</span><span class="op" id="8124227">,</span>&nbsp;<span class="ident" id="8124229">p3</span><span class="op" id="8124231">)</span><span class="op" id="8124232">;</span>&nbsp;<span class="ident" id="8124234">err</span>&nbsp;<span class="op" id="8124238">!=</span>&nbsp;<span class="ident" id="8124241">nil</span>&nbsp;<span class="op" id="8124245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124249">t</span><span class="op" id="8124250">.</span><span class="ident" id="8124251">Fatalf</span><span class="op" id="8124257">(</span><span class="string" id="8124258">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="8124273">,</span>&nbsp;<span class="ident" id="8124275">err</span><span class="op" id="8124278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8124284">if</span>&nbsp;<span class="ident" id="8124287">p3</span><span class="op" id="8124289">.</span><span class="ident" id="8124290">Int</span>&nbsp;<span class="op" id="8124294">==</span>&nbsp;<span class="ident" id="8124297">nil</span>&nbsp;<span class="op" id="8124301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124305">t</span><span class="op" id="8124306">.</span><span class="ident" id="8124307">Fatalf</span><span class="op" id="8124313">(</span><span class="string" id="8124314">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="8124352">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124355">}</span>&nbsp;<span class="keyword" id="8124357">else</span>&nbsp;<span class="keyword" id="8124362">if</span>&nbsp;<span class="op" id="8124365">*</span><span class="ident" id="8124366">p3</span><span class="op" id="8124368">.</span><span class="ident" id="8124369">Int</span>&nbsp;<span class="op" id="8124373">!=</span>&nbsp;<span class="string" id="8124376">&#34;1&#34;</span>&nbsp;<span class="op" id="8124380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124384">t</span><span class="op" id="8124385">.</span><span class="ident" id="8124386">Fatalf</span><span class="op" id="8124392">(</span><span class="string" id="8124393">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8124442">,</span>&nbsp;<span class="ident" id="8124444">x</span><span class="op" id="8124445">,</span>&nbsp;<span class="ident" id="8124447">p3</span><span class="op" id="8124449">.</span><span class="ident" id="8124450">Int</span><span class="op" id="8124453">,</span>&nbsp;<span class="num" id="8124455">1</span><span class="op" id="8124456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124459">}</span><br>
<span class="lineno"></span><span class="op" id="8124461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="8124464">type</span>&nbsp;<span class="ident" id="8124469">Tables</span>&nbsp;<span class="keyword" id="8124476">struct</span>&nbsp;<span class="op" id="8124483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124486">HTable</span>&nbsp;<span class="builtintype" id="8124493">string</span>&nbsp;<span class="string" id="8124500">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124543">FTable</span>&nbsp;<span class="builtintype" id="8124550">string</span>&nbsp;<span class="string" id="8124557">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8124606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="8124609">var</span>&nbsp;<span class="ident" id="8124613">tables</span>&nbsp;<span class="op" id="8124620">=</span>&nbsp;<span class="op" id="8124622">[</span><span class="op" id="8124623">]</span><span class="keyword" id="8124624">struct</span>&nbsp;<span class="op" id="8124631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124634">xml</span>&nbsp;<span class="builtintype" id="8124638">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124646">tab</span>&nbsp;<span class="ident" id="8124650">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124658">ns</span>&nbsp;&nbsp;<span class="builtintype" id="8124662">string</span><br>
<span class="lineno"></span><span class="op" id="8124669">}</span><span class="op" id="8124670">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124677">xml</span><span class="op" id="8124680">:</span>&nbsp;<span class="string" id="8124682">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8124693">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8124698">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="8124757">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8124762">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="8124828">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8124833">`&lt;/Tables&gt;`</span><span class="op" id="8124844">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124848">tab</span><span class="op" id="8124851">:</span>&nbsp;<span class="ident" id="8124853">Tables</span><span class="op" id="8124859">{</span><span class="string" id="8124860">&#34;hello&#34;</span><span class="op" id="8124867">,</span>&nbsp;<span class="string" id="8124869">&#34;world&#34;</span><span class="op" id="8124876">}</span><span class="op" id="8124877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124880">}</span><span class="op" id="8124881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8124884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8124888">xml</span><span class="op" id="8124891">:</span>&nbsp;<span class="string" id="8124893">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8124904">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8124909">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="8124975">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8124980">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="8125039">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125044">`&lt;/Tables&gt;`</span><span class="op" id="8125055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125059">tab</span><span class="op" id="8125062">:</span>&nbsp;<span class="ident" id="8125064">Tables</span><span class="op" id="8125070">{</span><span class="string" id="8125071">&#34;hello&#34;</span><span class="op" id="8125078">,</span>&nbsp;<span class="string" id="8125080">&#34;world&#34;</span><span class="op" id="8125087">}</span><span class="op" id="8125088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125091">}</span><span class="op" id="8125092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125095">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125099">xml</span><span class="op" id="8125102">:</span>&nbsp;<span class="string" id="8125104">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="8125198">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125203">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="8125230">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125235">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="8125262">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125267">`&lt;/Tables&gt;`</span><span class="op" id="8125278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125282">tab</span><span class="op" id="8125285">:</span>&nbsp;<span class="ident" id="8125287">Tables</span><span class="op" id="8125293">{</span><span class="string" id="8125294">&#34;hello&#34;</span><span class="op" id="8125301">,</span>&nbsp;<span class="string" id="8125303">&#34;world&#34;</span><span class="op" id="8125310">}</span><span class="op" id="8125311">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125314">}</span><span class="op" id="8125315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125322">xml</span><span class="op" id="8125325">:</span>&nbsp;<span class="string" id="8125327">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8125338">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125343">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="8125366">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125371">`&lt;/Tables&gt;`</span><span class="op" id="8125382">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125386">tab</span><span class="op" id="8125389">:</span>&nbsp;<span class="ident" id="8125391">Tables</span><span class="op" id="8125397">{</span><span class="op" id="8125398">}</span><span class="op" id="8125399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125402">}</span><span class="op" id="8125403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125410">xml</span><span class="op" id="8125413">:</span>&nbsp;<span class="string" id="8125415">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8125426">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125431">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="8125453">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125458">`&lt;/Tables&gt;`</span><span class="op" id="8125469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125473">tab</span><span class="op" id="8125476">:</span>&nbsp;<span class="ident" id="8125478">Tables</span><span class="op" id="8125484">{</span><span class="ident" id="8125485">HTable</span><span class="op" id="8125491">:</span>&nbsp;<span class="string" id="8125493">&#34;only&#34;</span><span class="op" id="8125499">}</span><span class="op" id="8125500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125504">ns</span><span class="op" id="8125506">:</span>&nbsp;&nbsp;<span class="string" id="8125509">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="8125538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125541">}</span><span class="op" id="8125542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125545">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125549">xml</span><span class="op" id="8125552">:</span>&nbsp;<span class="string" id="8125554">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8125565">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125570">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="8125592">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125597">`&lt;/Tables&gt;`</span><span class="op" id="8125608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125612">tab</span><span class="op" id="8125615">:</span>&nbsp;<span class="ident" id="8125617">Tables</span><span class="op" id="8125623">{</span><span class="ident" id="8125624">FTable</span><span class="op" id="8125630">:</span>&nbsp;<span class="string" id="8125632">&#34;only&#34;</span><span class="op" id="8125638">}</span><span class="op" id="8125639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125643">ns</span><span class="op" id="8125645">:</span>&nbsp;&nbsp;<span class="string" id="8125648">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="8125684">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125687">}</span><span class="op" id="8125688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125695">xml</span><span class="op" id="8125698">:</span>&nbsp;<span class="string" id="8125700">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="8125711">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125716">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="8125738">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8125743">`&lt;/Tables&gt;`</span><span class="op" id="8125754">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125758">tab</span><span class="op" id="8125761">:</span>&nbsp;<span class="ident" id="8125763">Tables</span><span class="op" id="8125769">{</span><span class="op" id="8125770">}</span><span class="op" id="8125771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125775">ns</span><span class="op" id="8125777">:</span>&nbsp;&nbsp;<span class="string" id="8125780">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="8125805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8125808">}</span><span class="op" id="8125809">,</span><br>
<span class="lineno"></span><span class="op" id="8125811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="8125814">func</span>&nbsp;<span class="ident" id="8125819">TestUnmarshalNS</span><span class="op" id="8125834">(</span><span class="ident" id="8125835">t</span>&nbsp;<span class="op" id="8125837">*</span><span class="ident" id="8125838">testing</span><span class="op" id="8125845">.</span><span class="ident" id="8125846">T</span><span class="op" id="8125847">)</span>&nbsp;<span class="op" id="8125849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8125852">for</span>&nbsp;<span class="ident" id="8125856">i</span><span class="op" id="8125857">,</span>&nbsp;<span class="ident" id="8125859">tt</span>&nbsp;<span class="op" id="8125862">:=</span>&nbsp;<span class="keyword" id="8125865">range</span>&nbsp;<span class="ident" id="8125871">tables</span>&nbsp;<span class="op" id="8125878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8125882">var</span>&nbsp;<span class="ident" id="8125886">dst</span>&nbsp;<span class="ident" id="8125890">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8125899">var</span>&nbsp;<span class="ident" id="8125903">err</span>&nbsp;<span class="builtintype" id="8125907">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8125915">if</span>&nbsp;<span class="ident" id="8125918">tt</span><span class="op" id="8125920">.</span><span class="ident" id="8125921">ns</span>&nbsp;<span class="op" id="8125924">!=</span>&nbsp;<span class="string" id="8125927">&#34;&#34;</span>&nbsp;<span class="op" id="8125930">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125935">d</span>&nbsp;<span class="op" id="8125937">:=</span>&nbsp;<span class="ident" id="8125940">NewDecoder</span><span class="op" id="8125950">(</span><span class="ident" id="8125951">strings</span><span class="op" id="8125958">.</span><span class="ident" id="8125959">NewReader</span><span class="op" id="8125968">(</span><span class="ident" id="8125969">tt</span><span class="op" id="8125971">.</span><span class="ident" id="8125972">xml</span><span class="op" id="8125975">)</span><span class="op" id="8125976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8125981">d</span><span class="op" id="8125982">.</span><span class="ident" id="8125983">DefaultSpace</span>&nbsp;<span class="op" id="8125996">=</span>&nbsp;<span class="ident" id="8125998">tt</span><span class="op" id="8126000">.</span><span class="ident" id="8126001">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126007">err</span>&nbsp;<span class="op" id="8126011">=</span>&nbsp;<span class="ident" id="8126013">d</span><span class="op" id="8126014">.</span><span class="ident" id="8126015">Decode</span><span class="op" id="8126021">(</span><span class="op" id="8126022">&amp;</span><span class="ident" id="8126023">dst</span><span class="op" id="8126026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126030">}</span>&nbsp;<span class="keyword" id="8126032">else</span>&nbsp;<span class="op" id="8126037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126042">err</span>&nbsp;<span class="op" id="8126046">=</span>&nbsp;<span class="ident" id="8126048">Unmarshal</span><span class="op" id="8126057">(</span><span class="op" id="8126058">[</span><span class="op" id="8126059">]</span><span class="builtintype" id="8126060">byte</span><span class="op" id="8126064">(</span><span class="ident" id="8126065">tt</span><span class="op" id="8126067">.</span><span class="ident" id="8126068">xml</span><span class="op" id="8126071">)</span><span class="op" id="8126072">,</span>&nbsp;<span class="op" id="8126074">&amp;</span><span class="ident" id="8126075">dst</span><span class="op" id="8126078">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126086">if</span>&nbsp;<span class="ident" id="8126089">err</span>&nbsp;<span class="op" id="8126093">!=</span>&nbsp;<span class="ident" id="8126096">nil</span>&nbsp;<span class="op" id="8126100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126105">t</span><span class="op" id="8126106">.</span><span class="ident" id="8126107">Errorf</span><span class="op" id="8126113">(</span><span class="string" id="8126114">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8126134">,</span>&nbsp;<span class="ident" id="8126136">i</span><span class="op" id="8126137">,</span>&nbsp;<span class="ident" id="8126139">err</span><span class="op" id="8126142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126147">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126158">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126162">want</span>&nbsp;<span class="op" id="8126167">:=</span>&nbsp;<span class="ident" id="8126170">tt</span><span class="op" id="8126172">.</span><span class="ident" id="8126173">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126179">if</span>&nbsp;<span class="ident" id="8126182">dst</span>&nbsp;<span class="op" id="8126186">!=</span>&nbsp;<span class="ident" id="8126189">want</span>&nbsp;<span class="op" id="8126194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126199">t</span><span class="op" id="8126200">.</span><span class="ident" id="8126201">Errorf</span><span class="op" id="8126207">(</span><span class="string" id="8126208">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8126232">,</span>&nbsp;<span class="ident" id="8126234">i</span><span class="op" id="8126235">,</span>&nbsp;<span class="ident" id="8126237">dst</span><span class="op" id="8126240">,</span>&nbsp;<span class="ident" id="8126242">want</span><span class="op" id="8126246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126253">}</span><br>
<span class="lineno">485</span><span class="op" id="8126255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8126258">func</span>&nbsp;<span class="ident" id="8126263">TestMarshalNS</span><span class="op" id="8126276">(</span><span class="ident" id="8126277">t</span>&nbsp;<span class="op" id="8126279">*</span><span class="ident" id="8126280">testing</span><span class="op" id="8126287">.</span><span class="ident" id="8126288">T</span><span class="op" id="8126289">)</span>&nbsp;<span class="op" id="8126291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126294">dst</span>&nbsp;<span class="op" id="8126298">:=</span>&nbsp;<span class="ident" id="8126301">Tables</span><span class="op" id="8126307">{</span><span class="string" id="8126308">&#34;hello&#34;</span><span class="op" id="8126315">,</span>&nbsp;<span class="string" id="8126317">&#34;world&#34;</span><span class="op" id="8126324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126327">data</span><span class="op" id="8126331">,</span>&nbsp;<span class="ident" id="8126333">err</span>&nbsp;<span class="op" id="8126337">:=</span>&nbsp;<span class="ident" id="8126340">Marshal</span><span class="op" id="8126347">(</span><span class="op" id="8126348">&amp;</span><span class="ident" id="8126349">dst</span><span class="op" id="8126352">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126355">if</span>&nbsp;<span class="ident" id="8126358">err</span>&nbsp;<span class="op" id="8126362">!=</span>&nbsp;<span class="ident" id="8126365">nil</span>&nbsp;<span class="op" id="8126369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126373">t</span><span class="op" id="8126374">.</span><span class="ident" id="8126375">Fatalf</span><span class="op" id="8126381">(</span><span class="string" id="8126382">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8126395">,</span>&nbsp;<span class="ident" id="8126397">err</span><span class="op" id="8126400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126406">want</span>&nbsp;<span class="op" id="8126411">:=</span>&nbsp;<span class="string" id="8126414">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126554">str</span>&nbsp;<span class="op" id="8126558">:=</span>&nbsp;<span class="builtintype" id="8126561">string</span><span class="op" id="8126567">(</span><span class="ident" id="8126568">data</span><span class="op" id="8126572">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8126575">if</span>&nbsp;<span class="ident" id="8126578">str</span>&nbsp;<span class="op" id="8126582">!=</span>&nbsp;<span class="ident" id="8126585">want</span>&nbsp;<span class="op" id="8126590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126594">t</span><span class="op" id="8126595">.</span><span class="ident" id="8126596">Errorf</span><span class="op" id="8126602">(</span><span class="string" id="8126603">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="8126625">,</span>&nbsp;<span class="ident" id="8126627">str</span><span class="op" id="8126630">,</span>&nbsp;<span class="ident" id="8126632">want</span><span class="op" id="8126636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8126639">}</span><br>
<span class="lineno"></span><span class="op" id="8126641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="8126644">type</span>&nbsp;<span class="ident" id="8126649">TableAttrs</span>&nbsp;<span class="keyword" id="8126660">struct</span>&nbsp;<span class="op" id="8126667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126670">TAttr</span>&nbsp;<span class="ident" id="8126676">TAttr</span><br>
<span class="lineno"></span><span class="op" id="8126682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8126685">type</span>&nbsp;<span class="ident" id="8126690">TAttr</span>&nbsp;<span class="keyword" id="8126696">struct</span>&nbsp;<span class="op" id="8126703">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126706">HTable</span>&nbsp;<span class="builtintype" id="8126713">string</span>&nbsp;<span class="string" id="8126720">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126768">FTable</span>&nbsp;<span class="builtintype" id="8126775">string</span>&nbsp;<span class="string" id="8126782">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126837">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8126844">string</span>&nbsp;<span class="string" id="8126851">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126917">Other1</span>&nbsp;<span class="builtintype" id="8126924">string</span>&nbsp;<span class="string" id="8126931">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8126984">Other2</span>&nbsp;<span class="builtintype" id="8126991">string</span>&nbsp;<span class="string" id="8126998">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127054">Other3</span>&nbsp;<span class="builtintype" id="8127061">string</span>&nbsp;<span class="string" id="8127068">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127122">Other4</span>&nbsp;<span class="builtintype" id="8127129">string</span>&nbsp;<span class="string" id="8127136">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8127191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8127194">var</span>&nbsp;<span class="ident" id="8127198">tableAttrs</span>&nbsp;<span class="op" id="8127209">=</span>&nbsp;<span class="op" id="8127211">[</span><span class="op" id="8127212">]</span><span class="keyword" id="8127213">struct</span>&nbsp;<span class="op" id="8127220">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127223">xml</span>&nbsp;<span class="builtintype" id="8127227">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127235">tab</span>&nbsp;<span class="ident" id="8127239">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127251">ns</span>&nbsp;&nbsp;<span class="builtintype" id="8127255">string</span><br>
<span class="lineno"></span><span class="op" id="8127262">}</span><span class="op" id="8127263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127266">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127270">xml</span><span class="op" id="8127273">:</span>&nbsp;<span class="string" id="8127275">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8127380">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8127385">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8127420">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8127425">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8127442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127446">tab</span><span class="op" id="8127449">:</span>&nbsp;<span class="ident" id="8127451">TableAttrs</span><span class="op" id="8127461">{</span><span class="ident" id="8127462">TAttr</span><span class="op" id="8127467">{</span><span class="ident" id="8127468">HTable</span><span class="op" id="8127474">:</span>&nbsp;<span class="string" id="8127476">&#34;hello&#34;</span><span class="op" id="8127483">,</span>&nbsp;<span class="ident" id="8127485">FTable</span><span class="op" id="8127491">:</span>&nbsp;<span class="string" id="8127493">&#34;world&#34;</span><span class="op" id="8127500">}</span><span class="op" id="8127501">}</span><span class="op" id="8127502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127505">}</span><span class="op" id="8127506">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127513">xml</span><span class="op" id="8127516">:</span>&nbsp;<span class="string" id="8127518">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="8127623">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8127628">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8127663">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8127668">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8127685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127689">tab</span><span class="op" id="8127692">:</span>&nbsp;<span class="ident" id="8127694">TableAttrs</span><span class="op" id="8127704">{</span><span class="ident" id="8127705">TAttr</span><span class="op" id="8127710">{</span><span class="ident" id="8127711">HTable</span><span class="op" id="8127717">:</span>&nbsp;<span class="string" id="8127719">&#34;hello&#34;</span><span class="op" id="8127726">,</span>&nbsp;<span class="ident" id="8127728">FTable</span><span class="op" id="8127734">:</span>&nbsp;<span class="string" id="8127736">&#34;world&#34;</span><span class="op" id="8127743">}</span><span class="op" id="8127744">}</span><span class="op" id="8127745">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127748">}</span><span class="op" id="8127749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127756">xml</span><span class="op" id="8127759">:</span>&nbsp;<span class="string" id="8127761">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8127783">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8127788">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="8127906">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8127911">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8127928">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8127932">tab</span><span class="op" id="8127935">:</span>&nbsp;<span class="ident" id="8127937">TableAttrs</span><span class="op" id="8127947">{</span><span class="ident" id="8127948">TAttr</span><span class="op" id="8127953">{</span><span class="ident" id="8127954">HTable</span><span class="op" id="8127960">:</span>&nbsp;<span class="string" id="8127962">&#34;hello&#34;</span><span class="op" id="8127969">,</span>&nbsp;<span class="ident" id="8127971">FTable</span><span class="op" id="8127977">:</span>&nbsp;<span class="string" id="8127979">&#34;world&#34;</span><span class="op" id="8127986">}</span><span class="op" id="8127987">}</span><span class="op" id="8127988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127991">}</span><span class="op" id="8127992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8127995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8127999">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128053">xml</span><span class="op" id="8128056">:</span>&nbsp;<span class="string" id="8128058">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8128161">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8128166">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8128199">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8128204">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8128221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128225">tab</span><span class="op" id="8128228">:</span>&nbsp;<span class="ident" id="8128230">TableAttrs</span><span class="op" id="8128240">{</span><span class="ident" id="8128241">TAttr</span><span class="op" id="8128246">{</span><span class="ident" id="8128247">HTable</span><span class="op" id="8128253">:</span>&nbsp;<span class="string" id="8128255">&#34;hello&#34;</span><span class="op" id="8128262">,</span>&nbsp;<span class="ident" id="8128264">FTable</span><span class="op" id="8128270">:</span>&nbsp;<span class="string" id="8128272">&#34;&#34;</span><span class="op" id="8128274">}</span><span class="op" id="8128275">}</span><span class="op" id="8128276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128279">}</span><span class="op" id="8128280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128283">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8128287">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128341">xml</span><span class="op" id="8128344">:</span>&nbsp;<span class="string" id="8128346">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="8128449">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8128454">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8128487">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8128492">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8128509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128513">tab</span><span class="op" id="8128516">:</span>&nbsp;<span class="ident" id="8128518">TableAttrs</span><span class="op" id="8128528">{</span><span class="ident" id="8128529">TAttr</span><span class="op" id="8128534">{</span><span class="ident" id="8128535">HTable</span><span class="op" id="8128541">:</span>&nbsp;<span class="string" id="8128543">&#34;&#34;</span><span class="op" id="8128545">,</span>&nbsp;<span class="ident" id="8128547">FTable</span><span class="op" id="8128553">:</span>&nbsp;<span class="string" id="8128555">&#34;world&#34;</span><span class="op" id="8128562">}</span><span class="op" id="8128563">}</span><span class="op" id="8128564">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128567">}</span><span class="op" id="8128568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128575">xml</span><span class="op" id="8128578">:</span>&nbsp;<span class="string" id="8128580">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8128602">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8128607">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="8128624">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8128629">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8128646">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128650">tab</span><span class="op" id="8128653">:</span>&nbsp;<span class="ident" id="8128655">TableAttrs</span><span class="op" id="8128665">{</span><span class="op" id="8128666">}</span><span class="op" id="8128667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128670">}</span><span class="op" id="8128671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8128678">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128732">xml</span><span class="op" id="8128735">:</span>&nbsp;<span class="string" id="8128737">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8128797">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8128802">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8128835">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8128840">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8128857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128861">tab</span><span class="op" id="8128864">:</span>&nbsp;<span class="ident" id="8128866">TableAttrs</span><span class="op" id="8128876">{</span><span class="ident" id="8128877">TAttr</span><span class="op" id="8128882">{</span><span class="ident" id="8128883">HTable</span><span class="op" id="8128889">:</span>&nbsp;<span class="string" id="8128891">&#34;hello&#34;</span><span class="op" id="8128898">,</span>&nbsp;<span class="ident" id="8128900">FTable</span><span class="op" id="8128906">:</span>&nbsp;<span class="string" id="8128908">&#34;&#34;</span><span class="op" id="8128910">}</span><span class="op" id="8128911">}</span><span class="op" id="8128912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8128916">ns</span><span class="op" id="8128918">:</span>&nbsp;&nbsp;<span class="string" id="8128921">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="8128957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128960">}</span><span class="op" id="8128961">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8128964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8128968">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129022">xml</span><span class="op" id="8129025">:</span>&nbsp;<span class="string" id="8129027">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8129094">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8129099">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="8129132">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8129137">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8129154">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129158">tab</span><span class="op" id="8129161">:</span>&nbsp;<span class="ident" id="8129163">TableAttrs</span><span class="op" id="8129173">{</span><span class="ident" id="8129174">TAttr</span><span class="op" id="8129179">{</span><span class="ident" id="8129180">HTable</span><span class="op" id="8129186">:</span>&nbsp;<span class="string" id="8129188">&#34;&#34;</span><span class="op" id="8129190">,</span>&nbsp;<span class="ident" id="8129192">FTable</span><span class="op" id="8129198">:</span>&nbsp;<span class="string" id="8129200">&#34;world&#34;</span><span class="op" id="8129207">}</span><span class="op" id="8129208">}</span><span class="op" id="8129209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129213">ns</span><span class="op" id="8129215">:</span>&nbsp;&nbsp;<span class="string" id="8129218">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="8129247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129250">}</span><span class="op" id="8129251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129258">xml</span><span class="op" id="8129261">:</span>&nbsp;<span class="string" id="8129263">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="8129285">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8129290">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="8129307">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8129312">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="8129329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129333">tab</span><span class="op" id="8129336">:</span>&nbsp;<span class="ident" id="8129338">TableAttrs</span><span class="op" id="8129348">{</span><span class="op" id="8129349">}</span><span class="op" id="8129350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129354">ns</span><span class="op" id="8129356">:</span>&nbsp;&nbsp;<span class="string" id="8129359">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="8129384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129387">}</span><span class="op" id="8129388">,</span><br>
<span class="lineno">580</span><span class="op" id="8129390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8129393">func</span>&nbsp;<span class="ident" id="8129398">TestUnmarshalNSAttr</span><span class="op" id="8129417">(</span><span class="ident" id="8129418">t</span>&nbsp;<span class="op" id="8129420">*</span><span class="ident" id="8129421">testing</span><span class="op" id="8129428">.</span><span class="ident" id="8129429">T</span><span class="op" id="8129430">)</span>&nbsp;<span class="op" id="8129432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129435">for</span>&nbsp;<span class="ident" id="8129439">i</span><span class="op" id="8129440">,</span>&nbsp;<span class="ident" id="8129442">tt</span>&nbsp;<span class="op" id="8129445">:=</span>&nbsp;<span class="keyword" id="8129448">range</span>&nbsp;<span class="ident" id="8129454">tableAttrs</span>&nbsp;<span class="op" id="8129465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129469">var</span>&nbsp;<span class="ident" id="8129473">dst</span>&nbsp;<span class="ident" id="8129477">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129490">var</span>&nbsp;<span class="ident" id="8129494">err</span>&nbsp;<span class="builtintype" id="8129498">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129506">if</span>&nbsp;<span class="ident" id="8129509">tt</span><span class="op" id="8129511">.</span><span class="ident" id="8129512">ns</span>&nbsp;<span class="op" id="8129515">!=</span>&nbsp;<span class="string" id="8129518">&#34;&#34;</span>&nbsp;<span class="op" id="8129521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129526">d</span>&nbsp;<span class="op" id="8129528">:=</span>&nbsp;<span class="ident" id="8129531">NewDecoder</span><span class="op" id="8129541">(</span><span class="ident" id="8129542">strings</span><span class="op" id="8129549">.</span><span class="ident" id="8129550">NewReader</span><span class="op" id="8129559">(</span><span class="ident" id="8129560">tt</span><span class="op" id="8129562">.</span><span class="ident" id="8129563">xml</span><span class="op" id="8129566">)</span><span class="op" id="8129567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129572">d</span><span class="op" id="8129573">.</span><span class="ident" id="8129574">DefaultSpace</span>&nbsp;<span class="op" id="8129587">=</span>&nbsp;<span class="ident" id="8129589">tt</span><span class="op" id="8129591">.</span><span class="ident" id="8129592">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129598">err</span>&nbsp;<span class="op" id="8129602">=</span>&nbsp;<span class="ident" id="8129604">d</span><span class="op" id="8129605">.</span><span class="ident" id="8129606">Decode</span><span class="op" id="8129612">(</span><span class="op" id="8129613">&amp;</span><span class="ident" id="8129614">dst</span><span class="op" id="8129617">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129621">}</span>&nbsp;<span class="keyword" id="8129623">else</span>&nbsp;<span class="op" id="8129628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129633">err</span>&nbsp;<span class="op" id="8129637">=</span>&nbsp;<span class="ident" id="8129639">Unmarshal</span><span class="op" id="8129648">(</span><span class="op" id="8129649">[</span><span class="op" id="8129650">]</span><span class="builtintype" id="8129651">byte</span><span class="op" id="8129655">(</span><span class="ident" id="8129656">tt</span><span class="op" id="8129658">.</span><span class="ident" id="8129659">xml</span><span class="op" id="8129662">)</span><span class="op" id="8129663">,</span>&nbsp;<span class="op" id="8129665">&amp;</span><span class="ident" id="8129666">dst</span><span class="op" id="8129669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129677">if</span>&nbsp;<span class="ident" id="8129680">err</span>&nbsp;<span class="op" id="8129684">!=</span>&nbsp;<span class="ident" id="8129687">nil</span>&nbsp;<span class="op" id="8129691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129696">t</span><span class="op" id="8129697">.</span><span class="ident" id="8129698">Errorf</span><span class="op" id="8129704">(</span><span class="string" id="8129705">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8129725">,</span>&nbsp;<span class="ident" id="8129727">i</span><span class="op" id="8129728">,</span>&nbsp;<span class="ident" id="8129730">err</span><span class="op" id="8129733">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129738">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129753">want</span>&nbsp;<span class="op" id="8129758">:=</span>&nbsp;<span class="ident" id="8129761">tt</span><span class="op" id="8129763">.</span><span class="ident" id="8129764">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8129770">if</span>&nbsp;<span class="ident" id="8129773">dst</span>&nbsp;<span class="op" id="8129777">!=</span>&nbsp;<span class="ident" id="8129780">want</span>&nbsp;<span class="op" id="8129785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129790">t</span><span class="op" id="8129791">.</span><span class="ident" id="8129792">Errorf</span><span class="op" id="8129798">(</span><span class="string" id="8129799">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8129823">,</span>&nbsp;<span class="ident" id="8129825">i</span><span class="op" id="8129826">,</span>&nbsp;<span class="ident" id="8129828">dst</span><span class="op" id="8129831">,</span>&nbsp;<span class="ident" id="8129833">want</span><span class="op" id="8129837">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8129844">}</span><br>
<span class="lineno"></span><span class="op" id="8129846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8129849">func</span>&nbsp;<span class="ident" id="8129854">TestMarshalNSAttr</span><span class="op" id="8129871">(</span><span class="ident" id="8129872">t</span>&nbsp;<span class="op" id="8129874">*</span><span class="ident" id="8129875">testing</span><span class="op" id="8129882">.</span><span class="ident" id="8129883">T</span><span class="op" id="8129884">)</span>&nbsp;<span class="op" id="8129886">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129889">src</span>&nbsp;<span class="op" id="8129893">:=</span>&nbsp;<span class="ident" id="8129896">TableAttrs</span><span class="op" id="8129906">{</span><span class="ident" id="8129907">TAttr</span><span class="op" id="8129912">{</span><span class="string" id="8129913">&#34;hello&#34;</span><span class="op" id="8129920">,</span>&nbsp;<span class="string" id="8129922">&#34;world&#34;</span><span class="op" id="8129929">,</span>&nbsp;<span class="string" id="8129931">&#34;en_US&#34;</span><span class="op" id="8129938">,</span>&nbsp;<span class="string" id="8129940">&#34;other1&#34;</span><span class="op" id="8129948">,</span>&nbsp;<span class="string" id="8129950">&#34;other2&#34;</span><span class="op" id="8129958">,</span>&nbsp;<span class="string" id="8129960">&#34;other3&#34;</span><span class="op" id="8129968">,</span>&nbsp;<span class="string" id="8129970">&#34;other4&#34;</span><span class="op" id="8129978">}</span><span class="op" id="8129979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8129982">data</span><span class="op" id="8129986">,</span>&nbsp;<span class="ident" id="8129988">err</span>&nbsp;<span class="op" id="8129992">:=</span>&nbsp;<span class="ident" id="8129995">Marshal</span><span class="op" id="8130002">(</span><span class="op" id="8130003">&amp;</span><span class="ident" id="8130004">src</span><span class="op" id="8130007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130010">if</span>&nbsp;<span class="ident" id="8130013">err</span>&nbsp;<span class="op" id="8130017">!=</span>&nbsp;<span class="ident" id="8130020">nil</span>&nbsp;<span class="op" id="8130024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130028">t</span><span class="op" id="8130029">.</span><span class="ident" id="8130030">Fatalf</span><span class="op" id="8130036">(</span><span class="string" id="8130037">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8130050">,</span>&nbsp;<span class="ident" id="8130052">err</span><span class="op" id="8130055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130058">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130061">want</span>&nbsp;<span class="op" id="8130066">:=</span>&nbsp;<span class="string" id="8130069">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130510">str</span>&nbsp;<span class="op" id="8130514">:=</span>&nbsp;<span class="builtintype" id="8130517">string</span><span class="op" id="8130523">(</span><span class="ident" id="8130524">data</span><span class="op" id="8130528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130531">if</span>&nbsp;<span class="ident" id="8130534">str</span>&nbsp;<span class="op" id="8130538">!=</span>&nbsp;<span class="ident" id="8130541">want</span>&nbsp;<span class="op" id="8130546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130550">t</span><span class="op" id="8130551">.</span><span class="ident" id="8130552">Errorf</span><span class="op" id="8130558">(</span><span class="string" id="8130559">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="8130593">,</span>&nbsp;<span class="ident" id="8130595">str</span><span class="op" id="8130598">,</span>&nbsp;<span class="ident" id="8130600">want</span><span class="op" id="8130604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130607">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130611">var</span>&nbsp;<span class="ident" id="8130615">dst</span>&nbsp;<span class="ident" id="8130619">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130631">if</span>&nbsp;<span class="ident" id="8130634">err</span>&nbsp;<span class="op" id="8130638">:=</span>&nbsp;<span class="ident" id="8130641">Unmarshal</span><span class="op" id="8130650">(</span><span class="ident" id="8130651">data</span><span class="op" id="8130655">,</span>&nbsp;<span class="op" id="8130657">&amp;</span><span class="ident" id="8130658">dst</span><span class="op" id="8130661">)</span><span class="op" id="8130662">;</span>&nbsp;<span class="ident" id="8130664">err</span>&nbsp;<span class="op" id="8130668">!=</span>&nbsp;<span class="ident" id="8130671">nil</span>&nbsp;<span class="op" id="8130675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130679">t</span><span class="op" id="8130680">.</span><span class="ident" id="8130681">Errorf</span><span class="op" id="8130687">(</span><span class="string" id="8130688">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8130703">,</span>&nbsp;<span class="ident" id="8130705">err</span><span class="op" id="8130708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130711">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130715">if</span>&nbsp;<span class="ident" id="8130718">dst</span>&nbsp;<span class="op" id="8130722">!=</span>&nbsp;<span class="ident" id="8130725">src</span>&nbsp;<span class="op" id="8130729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130733">t</span><span class="op" id="8130734">.</span><span class="ident" id="8130735">Errorf</span><span class="op" id="8130741">(</span><span class="string" id="8130742">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8130767">,</span>&nbsp;<span class="ident" id="8130769">dst</span><span class="op" id="8130772">,</span>&nbsp;<span class="ident" id="8130774">src</span><span class="op" id="8130777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130780">}</span><br>
<span class="lineno"></span><span class="op" id="8130782">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="8130785">type</span>&nbsp;<span class="ident" id="8130790">MyCharData</span>&nbsp;<span class="keyword" id="8130801">struct</span>&nbsp;<span class="op" id="8130808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130811">body</span>&nbsp;<span class="builtintype" id="8130816">string</span><br>
<span class="lineno"></span><span class="op" id="8130823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="8130826">func</span>&nbsp;<span class="op" id="8130831">(</span><span class="ident" id="8130832">m</span>&nbsp;<span class="op" id="8130834">*</span><span class="ident" id="8130835">MyCharData</span><span class="op" id="8130845">)</span>&nbsp;<span class="ident" id="8130847">UnmarshalXML</span><span class="op" id="8130859">(</span><span class="ident" id="8130860">d</span>&nbsp;<span class="op" id="8130862">*</span><span class="ident" id="8130863">Decoder</span><span class="op" id="8130870">,</span>&nbsp;<span class="ident" id="8130872">start</span>&nbsp;<span class="ident" id="8130878">StartElement</span><span class="op" id="8130890">)</span>&nbsp;<span class="builtintype" id="8130892">error</span>&nbsp;<span class="op" id="8130898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130901">for</span>&nbsp;<span class="op" id="8130905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8130909">t</span><span class="op" id="8130910">,</span>&nbsp;<span class="ident" id="8130912">err</span>&nbsp;<span class="op" id="8130916">:=</span>&nbsp;<span class="ident" id="8130919">d</span><span class="op" id="8130920">.</span><span class="ident" id="8130921">Token</span><span class="op" id="8130926">(</span><span class="op" id="8130927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130931">if</span>&nbsp;<span class="ident" id="8130934">err</span>&nbsp;<span class="op" id="8130938">==</span>&nbsp;<span class="ident" id="8130941">io</span><span class="op" id="8130943">.</span><span class="ident" id="8130944">EOF</span>&nbsp;<span class="op" id="8130948">{</span>&nbsp;<span class="comment" id="8130950">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130977">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8130985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8130989">if</span>&nbsp;<span class="ident" id="8130992">err</span>&nbsp;<span class="op" id="8130996">!=</span>&nbsp;<span class="ident" id="8130999">nil</span>&nbsp;<span class="op" id="8131003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131008">return</span>&nbsp;<span class="ident" id="8131015">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8131021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131025">if</span>&nbsp;<span class="ident" id="8131028">char</span><span class="op" id="8131032">,</span>&nbsp;<span class="ident" id="8131034">ok</span>&nbsp;<span class="op" id="8131037">:=</span>&nbsp;<span class="ident" id="8131040">t</span><span class="op" id="8131041">.</span><span class="op" id="8131042">(</span><span class="ident" id="8131043">CharData</span><span class="op" id="8131051">)</span><span class="op" id="8131052">;</span>&nbsp;<span class="ident" id="8131054">ok</span>&nbsp;<span class="op" id="8131057">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131062">m</span><span class="op" id="8131063">.</span><span class="ident" id="8131064">body</span>&nbsp;<span class="op" id="8131069">+=</span>&nbsp;<span class="builtintype" id="8131072">string</span><span class="op" id="8131078">(</span><span class="ident" id="8131079">char</span><span class="op" id="8131083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8131087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8131090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131093">return</span>&nbsp;<span class="ident" id="8131100">nil</span><br>
<span class="lineno"></span><span class="op" id="8131104">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="8131107">var</span>&nbsp;<span class="ident" id="8131111">_</span>&nbsp;<span class="ident" id="8131113">Unmarshaler</span>&nbsp;<span class="op" id="8131125">=</span>&nbsp;<span class="op" id="8131127">(</span><span class="op" id="8131128">*</span><span class="ident" id="8131129">MyCharData</span><span class="op" id="8131139">)</span><span class="op" id="8131140">(</span><span class="ident" id="8131141">nil</span><span class="op" id="8131144">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8131147">func</span>&nbsp;<span class="op" id="8131152">(</span><span class="ident" id="8131153">m</span>&nbsp;<span class="op" id="8131155">*</span><span class="ident" id="8131156">MyCharData</span><span class="op" id="8131166">)</span>&nbsp;<span class="ident" id="8131168">UnmarshalXMLAttr</span><span class="op" id="8131184">(</span><span class="ident" id="8131185">attr</span>&nbsp;<span class="ident" id="8131190">Attr</span><span class="op" id="8131194">)</span>&nbsp;<span class="builtintype" id="8131196">error</span>&nbsp;<span class="op" id="8131202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8131205">panic</span><span class="op" id="8131210">(</span><span class="string" id="8131211">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="8131226">)</span><br>
<span class="lineno">650</span><span class="op" id="8131228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8131231">type</span>&nbsp;<span class="ident" id="8131236">MyAttr</span>&nbsp;<span class="keyword" id="8131243">struct</span>&nbsp;<span class="op" id="8131250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131253">attr</span>&nbsp;<span class="builtintype" id="8131258">string</span><br>
<span class="lineno"></span><span class="op" id="8131265">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="8131268">func</span>&nbsp;<span class="op" id="8131273">(</span><span class="ident" id="8131274">m</span>&nbsp;<span class="op" id="8131276">*</span><span class="ident" id="8131277">MyAttr</span><span class="op" id="8131283">)</span>&nbsp;<span class="ident" id="8131285">UnmarshalXMLAttr</span><span class="op" id="8131301">(</span><span class="ident" id="8131302">attr</span>&nbsp;<span class="ident" id="8131307">Attr</span><span class="op" id="8131311">)</span>&nbsp;<span class="builtintype" id="8131313">error</span>&nbsp;<span class="op" id="8131319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131322">m</span><span class="op" id="8131323">.</span><span class="ident" id="8131324">attr</span>&nbsp;<span class="op" id="8131329">=</span>&nbsp;<span class="ident" id="8131331">attr</span><span class="op" id="8131335">.</span><span class="ident" id="8131336">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131343">return</span>&nbsp;<span class="ident" id="8131350">nil</span><br>
<span class="lineno"></span><span class="op" id="8131354">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="8131357">var</span>&nbsp;<span class="ident" id="8131361">_</span>&nbsp;<span class="ident" id="8131363">UnmarshalerAttr</span>&nbsp;<span class="op" id="8131379">=</span>&nbsp;<span class="op" id="8131381">(</span><span class="op" id="8131382">*</span><span class="ident" id="8131383">MyAttr</span><span class="op" id="8131389">)</span><span class="op" id="8131390">(</span><span class="ident" id="8131391">nil</span><span class="op" id="8131394">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8131397">type</span>&nbsp;<span class="ident" id="8131402">MyStruct</span>&nbsp;<span class="keyword" id="8131411">struct</span>&nbsp;<span class="op" id="8131418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131421">Data</span>&nbsp;<span class="op" id="8131426">*</span><span class="ident" id="8131427">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131439">Attr</span>&nbsp;<span class="op" id="8131444">*</span><span class="ident" id="8131445">MyAttr</span>&nbsp;<span class="string" id="8131452">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131468">Data2</span>&nbsp;<span class="ident" id="8131474">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131486">Attr2</span>&nbsp;<span class="ident" id="8131492">MyAttr</span>&nbsp;<span class="string" id="8131499">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8131513">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="8131516">func</span>&nbsp;<span class="ident" id="8131521">TestUnmarshaler</span><span class="op" id="8131536">(</span><span class="ident" id="8131537">t</span>&nbsp;<span class="op" id="8131539">*</span><span class="ident" id="8131540">testing</span><span class="op" id="8131547">.</span><span class="ident" id="8131548">T</span><span class="op" id="8131549">)</span>&nbsp;<span class="op" id="8131551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131554">xml</span>&nbsp;<span class="op" id="8131558">:=</span>&nbsp;<span class="string" id="8131561">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131748">var</span>&nbsp;<span class="ident" id="8131752">m</span>&nbsp;<span class="ident" id="8131754">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131764">if</span>&nbsp;<span class="ident" id="8131767">err</span>&nbsp;<span class="op" id="8131771">:=</span>&nbsp;<span class="ident" id="8131774">Unmarshal</span><span class="op" id="8131783">(</span><span class="op" id="8131784">[</span><span class="op" id="8131785">]</span><span class="builtintype" id="8131786">byte</span><span class="op" id="8131790">(</span><span class="ident" id="8131791">xml</span><span class="op" id="8131794">)</span><span class="op" id="8131795">,</span>&nbsp;<span class="op" id="8131797">&amp;</span><span class="ident" id="8131798">m</span><span class="op" id="8131799">)</span><span class="op" id="8131800">;</span>&nbsp;<span class="ident" id="8131802">err</span>&nbsp;<span class="op" id="8131806">!=</span>&nbsp;<span class="ident" id="8131809">nil</span>&nbsp;<span class="op" id="8131813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131817">t</span><span class="op" id="8131818">.</span><span class="ident" id="8131819">Fatal</span><span class="op" id="8131824">(</span><span class="ident" id="8131825">err</span><span class="op" id="8131828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8131831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131835">if</span>&nbsp;<span class="ident" id="8131838">m</span><span class="op" id="8131839">.</span><span class="ident" id="8131840">Data</span>&nbsp;<span class="op" id="8131845">==</span>&nbsp;<span class="ident" id="8131848">nil</span>&nbsp;<span class="op" id="8131852">||</span>&nbsp;<span class="ident" id="8131855">m</span><span class="op" id="8131856">.</span><span class="ident" id="8131857">Attr</span>&nbsp;<span class="op" id="8131862">==</span>&nbsp;<span class="ident" id="8131865">nil</span>&nbsp;<span class="op" id="8131869">||</span>&nbsp;<span class="ident" id="8131872">m</span><span class="op" id="8131873">.</span><span class="ident" id="8131874">Data</span><span class="op" id="8131878">.</span><span class="ident" id="8131879">body</span>&nbsp;<span class="op" id="8131884">!=</span>&nbsp;<span class="string" id="8131887">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="8131901">||</span>&nbsp;<span class="ident" id="8131904">m</span><span class="op" id="8131905">.</span><span class="ident" id="8131906">Attr</span><span class="op" id="8131910">.</span><span class="ident" id="8131911">attr</span>&nbsp;<span class="op" id="8131916">!=</span>&nbsp;<span class="string" id="8131919">&#34;attr1&#34;</span>&nbsp;<span class="op" id="8131927">||</span>&nbsp;<span class="ident" id="8131930">m</span><span class="op" id="8131931">.</span><span class="ident" id="8131932">Data2</span><span class="op" id="8131937">.</span><span class="ident" id="8131938">body</span>&nbsp;<span class="op" id="8131943">!=</span>&nbsp;<span class="string" id="8131946">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="8131960">||</span>&nbsp;<span class="ident" id="8131963">m</span><span class="op" id="8131964">.</span><span class="ident" id="8131965">Attr2</span><span class="op" id="8131970">.</span><span class="ident" id="8131971">attr</span>&nbsp;<span class="op" id="8131976">!=</span>&nbsp;<span class="string" id="8131979">&#34;attr2&#34;</span>&nbsp;<span class="op" id="8131987">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131991">t</span><span class="op" id="8131992">.</span><span class="ident" id="8131993">Errorf</span><span class="op" id="8131999">(</span><span class="string" id="8132000">&#34;m=%#+v\n&#34;</span><span class="op" id="8132010">,</span>&nbsp;<span class="ident" id="8132012">m</span><span class="op" id="8132013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8132016">}</span><br>
<span class="lineno"></span><span class="op" id="8132018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8132021">type</span>&nbsp;<span class="ident" id="8132026">Pea</span>&nbsp;<span class="keyword" id="8132030">struct</span>&nbsp;<span class="op" id="8132037">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132040">Cotelydon</span>&nbsp;<span class="builtintype" id="8132050">string</span><br>
<span class="lineno"></span><span class="op" id="8132057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8132060">type</span>&nbsp;<span class="ident" id="8132065">Pod</span>&nbsp;<span class="keyword" id="8132069">struct</span>&nbsp;<span class="op" id="8132076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132079">Pea</span>&nbsp;<span class="keyword" id="8132083">interface</span><span class="op" id="8132092">{</span><span class="op" id="8132093">}</span>&nbsp;<span class="string" id="8132095">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="8132107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8132110">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="8132164">func</span>&nbsp;<span class="ident" id="8132169">TestUnmarshalIntoInterface</span><span class="op" id="8132195">(</span><span class="ident" id="8132196">t</span>&nbsp;<span class="op" id="8132198">*</span><span class="ident" id="8132199">testing</span><span class="op" id="8132206">.</span><span class="ident" id="8132207">T</span><span class="op" id="8132208">)</span>&nbsp;<span class="op" id="8132210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132213">pod</span>&nbsp;<span class="op" id="8132217">:=</span>&nbsp;<span class="builtinfunc" id="8132220">new</span><span class="op" id="8132223">(</span><span class="ident" id="8132224">Pod</span><span class="op" id="8132227">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132230">pod</span><span class="op" id="8132233">.</span><span class="ident" id="8132234">Pea</span>&nbsp;<span class="op" id="8132238">=</span>&nbsp;<span class="builtinfunc" id="8132240">new</span><span class="op" id="8132243">(</span><span class="ident" id="8132244">Pea</span><span class="op" id="8132247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132250">xml</span>&nbsp;<span class="op" id="8132254">:=</span>&nbsp;<span class="string" id="8132257">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132317">err</span>&nbsp;<span class="op" id="8132321">:=</span>&nbsp;<span class="ident" id="8132324">Unmarshal</span><span class="op" id="8132333">(</span><span class="op" id="8132334">[</span><span class="op" id="8132335">]</span><span class="builtintype" id="8132336">byte</span><span class="op" id="8132340">(</span><span class="ident" id="8132341">xml</span><span class="op" id="8132344">)</span><span class="op" id="8132345">,</span>&nbsp;<span class="ident" id="8132347">pod</span><span class="op" id="8132350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8132353">if</span>&nbsp;<span class="ident" id="8132356">err</span>&nbsp;<span class="op" id="8132360">!=</span>&nbsp;<span class="ident" id="8132363">nil</span>&nbsp;<span class="op" id="8132367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132371">t</span><span class="op" id="8132372">.</span><span class="ident" id="8132373">Fatalf</span><span class="op" id="8132379">(</span><span class="string" id="8132380">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="8132408">,</span>&nbsp;<span class="ident" id="8132410">xml</span><span class="op" id="8132413">,</span>&nbsp;<span class="ident" id="8132415">err</span><span class="op" id="8132418">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8132421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132424">pea</span><span class="op" id="8132427">,</span>&nbsp;<span class="ident" id="8132429">ok</span>&nbsp;<span class="op" id="8132432">:=</span>&nbsp;<span class="ident" id="8132435">pod</span><span class="op" id="8132438">.</span><span class="ident" id="8132439">Pea</span><span class="op" id="8132442">.</span><span class="op" id="8132443">(</span><span class="op" id="8132444">*</span><span class="ident" id="8132445">Pea</span><span class="op" id="8132448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8132451">if</span>&nbsp;<span class="op" id="8132454">!</span><span class="ident" id="8132455">ok</span>&nbsp;<span class="op" id="8132458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132462">t</span><span class="op" id="8132463">.</span><span class="ident" id="8132464">Fatalf</span><span class="op" id="8132470">(</span><span class="string" id="8132471">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="8132520">,</span>&nbsp;<span class="ident" id="8132522">pod</span><span class="op" id="8132525">.</span><span class="ident" id="8132526">Pea</span><span class="op" id="8132529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8132532">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132535">have</span><span class="op" id="8132539">,</span>&nbsp;<span class="ident" id="8132541">want</span>&nbsp;<span class="op" id="8132546">:=</span>&nbsp;<span class="ident" id="8132549">pea</span><span class="op" id="8132552">.</span><span class="ident" id="8132553">Cotelydon</span><span class="op" id="8132562">,</span>&nbsp;<span class="string" id="8132564">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8132579">if</span>&nbsp;<span class="ident" id="8132582">have</span>&nbsp;<span class="op" id="8132587">!=</span>&nbsp;<span class="ident" id="8132590">want</span>&nbsp;<span class="op" id="8132595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8132599">t</span><span class="op" id="8132600">.</span><span class="ident" id="8132601">Errorf</span><span class="op" id="8132607">(</span><span class="string" id="8132608">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8132661">,</span>&nbsp;<span class="ident" id="8132663">have</span><span class="op" id="8132667">,</span>&nbsp;<span class="ident" id="8132669">want</span><span class="op" id="8132673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8132676">}</span><br>
<span class="lineno"></span><span class="op" id="8132678">}</span>
</div>
</body>
</html>
