<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/parser</h2>
<ul>
<li><a href="/gostd/go/parser/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/go/parser/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/parser/interface.go.html">interface.go</a></li>
<li><a href="/gostd/go/parser/parser.go.html">parser.go</a></li>
<li><a href="/gostd/go/parser/parser_test.go.html">parser_test.go</a></li>
<li><a href="/gostd/go/parser/performance_test.go.html">performance_test.go</a></li>
<li><a href="/gostd/go/parser/short_test.go.html">short_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8032673">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8032728">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8032782">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8032833">package</span>&nbsp;<span class="ident" id="8032841">parser</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8032849">import</span>&nbsp;<span class="op" id="8032856">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8032859">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8032871">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8032884">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8032894">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8032897">var</span>&nbsp;<span class="ident" id="8032901">src</span>&nbsp;<span class="op" id="8032905">=</span>&nbsp;<span class="ident" id="8032907">readFile</span><span class="op" id="8032915">(</span><span class="string" id="8032916">&#34;parser.go&#34;</span><span class="op" id="8032927">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8032930">func</span>&nbsp;<span class="ident" id="8032935">readFile</span><span class="op" id="8032943">(</span><span class="ident" id="8032944">filename</span>&nbsp;<span class="builtintype" id="8032953">string</span><span class="op" id="8032959">)</span>&nbsp;<span class="op" id="8032961">[</span><span class="op" id="8032962">]</span><span class="builtintype" id="8032963">byte</span>&nbsp;<span class="op" id="8032968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8032971">data</span><span class="op" id="8032975">,</span>&nbsp;<span class="ident" id="8032977">err</span>&nbsp;<span class="op" id="8032981">:=</span>&nbsp;<span class="ident" id="8032984">ioutil</span><span class="op" id="8032990">.</span><span class="ident" id="8032991">ReadFile</span><span class="op" id="8032999">(</span><span class="ident" id="8033000">filename</span><span class="op" id="8033008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033011">if</span>&nbsp;<span class="ident" id="8033014">err</span>&nbsp;<span class="op" id="8033018">!=</span>&nbsp;<span class="ident" id="8033021">nil</span>&nbsp;<span class="op" id="8033025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8033029">panic</span><span class="op" id="8033034">(</span><span class="ident" id="8033035">err</span><span class="op" id="8033038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033041">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033044">return</span>&nbsp;<span class="ident" id="8033051">data</span><br>
<span class="lineno"></span><span class="op" id="8033056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8033059">func</span>&nbsp;<span class="ident" id="8033064">BenchmarkParse</span><span class="op" id="8033078">(</span><span class="ident" id="8033079">b</span>&nbsp;<span class="op" id="8033081">*</span><span class="ident" id="8033082">testing</span><span class="op" id="8033089">.</span><span class="ident" id="8033090">B</span><span class="op" id="8033091">)</span>&nbsp;<span class="op" id="8033093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033096">b</span><span class="op" id="8033097">.</span><span class="ident" id="8033098">SetBytes</span><span class="op" id="8033106">(</span><span class="ident" id="8033107">int64</span><span class="op" id="8033112">(</span><span class="builtinfunc" id="8033113">len</span><span class="op" id="8033116">(</span><span class="ident" id="8033117">src</span><span class="op" id="8033120">)</span><span class="op" id="8033121">)</span><span class="op" id="8033122">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033125">for</span>&nbsp;<span class="ident" id="8033129">i</span>&nbsp;<span class="op" id="8033131">:=</span>&nbsp;<span class="num" id="8033134">0</span><span class="op" id="8033135">;</span>&nbsp;<span class="ident" id="8033137">i</span>&nbsp;<span class="op" id="8033139">&lt;</span>&nbsp;<span class="ident" id="8033141">b</span><span class="op" id="8033142">.</span><span class="ident" id="8033143">N</span><span class="op" id="8033144">;</span>&nbsp;<span class="ident" id="8033146">i</span><span class="op" id="8033147">++</span>&nbsp;<span class="op" id="8033150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8033154">if</span>&nbsp;<span class="ident" id="8033157">_</span><span class="op" id="8033158">,</span>&nbsp;<span class="ident" id="8033160">err</span>&nbsp;<span class="op" id="8033164">:=</span>&nbsp;<span class="ident" id="8033167">ParseFile</span><span class="op" id="8033176">(</span><span class="ident" id="8033177">token</span><span class="op" id="8033182">.</span><span class="ident" id="8033183">NewFileSet</span><span class="op" id="8033193">(</span><span class="op" id="8033194">)</span><span class="op" id="8033195">,</span>&nbsp;<span class="string" id="8033197">&#34;&#34;</span><span class="op" id="8033199">,</span>&nbsp;<span class="ident" id="8033201">src</span><span class="op" id="8033204">,</span>&nbsp;<span class="ident" id="8033206">ParseComments</span><span class="op" id="8033219">)</span><span class="op" id="8033220">;</span>&nbsp;<span class="ident" id="8033222">err</span>&nbsp;<span class="op" id="8033226">!=</span>&nbsp;<span class="ident" id="8033229">nil</span>&nbsp;<span class="op" id="8033233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8033238">b</span><span class="op" id="8033239">.</span><span class="ident" id="8033240">Fatalf</span><span class="op" id="8033246">(</span><span class="string" id="8033247">&#34;benchmark&nbsp;failed&nbsp;due&nbsp;to&nbsp;parse&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8033288">,</span>&nbsp;<span class="ident" id="8033290">err</span><span class="op" id="8033293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8033300">}</span><br>
<span class="lineno">30</span><span class="op" id="8033302">}</span>
</div>
</body>
</html>
