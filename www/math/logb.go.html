<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1524817">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1524872">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1524926">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1524977">package</span>&nbsp;<span class="ident" id="1524985">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1524991">//&nbsp;Logb&nbsp;returns&nbsp;the&nbsp;binary&nbsp;exponent&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="1525033">//</span><br>
<span class="lineno"></span><span class="comment" id="1525036">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno">10</span><span class="comment" id="1525058">//&nbsp;&nbsp;&nbsp;&nbspLogb(±Inf)&nbsp;=&nbsp;+Inf</span><br>
<span class="lineno"></span><span class="comment" id="1525080">//&nbsp;&nbsp;&nbsp;&nbspLogb(0)&nbsp;=&nbsp;-Inf</span><br>
<span class="lineno"></span><span class="comment" id="1525098">//&nbsp;&nbsp;&nbsp;&nbspLogb(NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="1525117">func</span>&nbsp;<span class="ident" id="1525122">Logb</span><span class="op" id="1525126">(</span><span class="ident" id="1525127">x</span>&nbsp;<span class="builtintype" id="1525129">float64</span><span class="op" id="1525136">)</span>&nbsp;<span class="builtintype" id="1525138">float64</span>&nbsp;<span class="op" id="1525146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1525149">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525167">switch</span>&nbsp;<span class="op" id="1525174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525177">case</span>&nbsp;<span class="ident" id="1525182"><a href="/math/logb.go.html#1525127">x</a></span>&nbsp;<span class="op" id="1525184">==</span>&nbsp;<span class="num" id="1525187">0</span><span class="op" id="1525188">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525192">return</span>&nbsp;<span class="ident" id="1525199"><a href="/math/bits.go.html#1427094">Inf</a></span><span class="op" id="1525202">(</span><span class="op" id="1525203">-</span><span class="num" id="1525204">1</span><span class="op" id="1525205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525208">case</span>&nbsp;<span class="ident" id="1525213"><a href="/math/bits.go.html#1427892">IsInf</a></span><span class="op" id="1525218">(</span><span class="ident" id="1525219"><a href="/math/logb.go.html#1525127">x</a></span><span class="op" id="1525220">,</span>&nbsp;<span class="num" id="1525222">0</span><span class="op" id="1525223">)</span><span class="op" id="1525224">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525228">return</span>&nbsp;<span class="ident" id="1525235"><a href="/math/bits.go.html#1427094">Inf</a></span><span class="op" id="1525238">(</span><span class="num" id="1525239">1</span><span class="op" id="1525240">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525243">case</span>&nbsp;<span class="ident" id="1525248"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1525253">(</span><span class="ident" id="1525254"><a href="/math/logb.go.html#1525127">x</a></span><span class="op" id="1525255">)</span><span class="op" id="1525256">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525260">return</span>&nbsp;<span class="ident" id="1525267"><a href="/math/logb.go.html#1525127">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1525270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525273">return</span>&nbsp;<span class="builtintype" id="1525280">float64</span><span class="op" id="1525287">(</span><span class="ident" id="1525288"><a href="/math/logb.go.html#1525727">ilogb</a></span><span class="op" id="1525293">(</span><span class="ident" id="1525294"><a href="/math/logb.go.html#1525127">x</a></span><span class="op" id="1525295">)</span><span class="op" id="1525296">)</span><br>
<span class="lineno"></span><span class="op" id="1525298">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="1525301">//&nbsp;Ilogb&nbsp;returns&nbsp;the&nbsp;binary&nbsp;exponent&nbsp;of&nbsp;x&nbsp;as&nbsp;an&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="1525358">//</span><br>
<span class="lineno"></span><span class="comment" id="1525361">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="1525383">//&nbsp;&nbsp;&nbsp;&nbspIlogb(±Inf)&nbsp;=&nbsp;MaxInt32</span><br>
<span class="lineno">30</span><span class="comment" id="1525410">//&nbsp;&nbsp;&nbsp;&nbspIlogb(0)&nbsp;=&nbsp;MinInt32</span><br>
<span class="lineno"></span><span class="comment" id="1525433">//&nbsp;&nbsp;&nbsp;&nbspIlogb(NaN)&nbsp;=&nbsp;MaxInt32</span><br>
<span class="lineno"></span><span class="keyword" id="1525458">func</span>&nbsp;<span class="ident" id="1525463">Ilogb</span><span class="op" id="1525468">(</span><span class="ident" id="1525469">x</span>&nbsp;<span class="builtintype" id="1525471">float64</span><span class="op" id="1525478">)</span>&nbsp;<span class="builtintype" id="1525480">int</span>&nbsp;<span class="op" id="1525484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1525487">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525505">switch</span>&nbsp;<span class="op" id="1525512">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525515">case</span>&nbsp;<span class="ident" id="1525520"><a href="/math/logb.go.html#1525469">x</a></span>&nbsp;<span class="op" id="1525522">==</span>&nbsp;<span class="num" id="1525525">0</span><span class="op" id="1525526">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525530">return</span>&nbsp;<span class="ident" id="1525537"><a href="/math/const.go.html#1432024">MinInt32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525547">case</span>&nbsp;<span class="ident" id="1525552"><a href="/math/bits.go.html#1427394">IsNaN</a></span><span class="op" id="1525557">(</span><span class="ident" id="1525558"><a href="/math/logb.go.html#1525469">x</a></span><span class="op" id="1525559">)</span><span class="op" id="1525560">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525564">return</span>&nbsp;<span class="ident" id="1525571"><a href="/math/const.go.html#1432001">MaxInt32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525581">case</span>&nbsp;<span class="ident" id="1525586"><a href="/math/bits.go.html#1427892">IsInf</a></span><span class="op" id="1525591">(</span><span class="ident" id="1525592"><a href="/math/logb.go.html#1525469">x</a></span><span class="op" id="1525593">,</span>&nbsp;<span class="num" id="1525595">0</span><span class="op" id="1525596">)</span><span class="op" id="1525597">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525601">return</span>&nbsp;<span class="ident" id="1525608"><a href="/math/const.go.html#1432001">MaxInt32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1525618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525621">return</span>&nbsp;<span class="ident" id="1525628"><a href="/math/logb.go.html#1525727">ilogb</a></span><span class="op" id="1525633">(</span><span class="ident" id="1525634"><a href="/math/logb.go.html#1525469">x</a></span><span class="op" id="1525635">)</span><br>
<span class="lineno"></span><span class="op" id="1525637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="1525640">//&nbsp;logb&nbsp;returns&nbsp;the&nbsp;binary&nbsp;exponent&nbsp;of&nbsp;x.&nbsp;It&nbsp;assumes&nbsp;x&nbsp;is&nbsp;finite&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="1525709">//&nbsp;non-zero.</span><br>
<span class="lineno"></span><span class="keyword" id="1525722">func</span>&nbsp;<span class="ident" id="1525727">ilogb</span><span class="op" id="1525732">(</span><span class="ident" id="1525733">x</span>&nbsp;<span class="builtintype" id="1525735">float64</span><span class="op" id="1525742">)</span>&nbsp;<span class="builtintype" id="1525744">int</span>&nbsp;<span class="op" id="1525748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1525751"><a href="/math/logb.go.html#1525733">x</a></span><span class="op" id="1525752">,</span>&nbsp;<span class="ident" id="1525754">exp</span>&nbsp;<span class="op" id="1525758">:=</span>&nbsp;<span class="ident" id="1525761"><a href="/math/bits.go.html#1428329">normalize</a></span><span class="op" id="1525770">(</span><span class="ident" id="1525771"><a href="/math/logb.go.html#1525733">x</a></span><span class="op" id="1525772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1525775">return</span>&nbsp;<span class="builtintype" id="1525782">int</span><span class="op" id="1525785">(</span><span class="op" id="1525786">(</span><span class="ident" id="1525787"><a href="/math/unsafe.go.html#1556032">Float64bits</a></span><span class="op" id="1525798">(</span><span class="ident" id="1525799"><a href="/math/logb.go.html#1525733">x</a></span><span class="op" id="1525800">)</span><span class="op" id="1525801">&gt;&gt;</span><span class="ident" id="1525803"><a href="/math/bits.go.html#1426968">shift</a></span><span class="op" id="1525808">)</span><span class="op" id="1525809">&amp;</span><span class="ident" id="1525810"><a href="/math/bits.go.html#1426950">mask</a></span><span class="op" id="1525814">)</span>&nbsp;<span class="op" id="1525816">-</span>&nbsp;<span class="ident" id="1525818"><a href="/math/bits.go.html#1426992">bias</a></span>&nbsp;<span class="op" id="1525823">+</span>&nbsp;<span class="ident" id="1525825"><a href="/math/logb.go.html#1525754">exp</a></span><br>
<span class="lineno">50</span><span class="op" id="1525829">}</span>
</div>
</body>
</html>
