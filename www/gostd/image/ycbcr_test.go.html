<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7517864">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7517919">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7517973">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7518024">package</span>&nbsp;<span class="ident" id="7518032">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7518039">import</span>&nbsp;<span class="op" id="7518046">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7518049">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7518064">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7518074">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7518077">func</span>&nbsp;<span class="ident" id="7518082">TestYCbCr</span><span class="op" id="7518091">(</span><span class="ident" id="7518092">t</span>&nbsp;<span class="op" id="7518094">*</span><span class="ident" id="7518095">testing</span><span class="op" id="7518102">.</span><span class="ident" id="7518103">T</span><span class="op" id="7518104">)</span>&nbsp;<span class="op" id="7518106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518109">rects</span>&nbsp;<span class="op" id="7518115">:=</span>&nbsp;<span class="op" id="7518118">[</span><span class="op" id="7518119">]</span><span class="ident" id="7518120">Rectangle</span><span class="op" id="7518129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518133">Rect</span><span class="op" id="7518137">(</span><span class="num" id="7518138">0</span><span class="op" id="7518139">,</span>&nbsp;<span class="num" id="7518141">0</span><span class="op" id="7518142">,</span>&nbsp;<span class="num" id="7518144">16</span><span class="op" id="7518146">,</span>&nbsp;<span class="num" id="7518148">16</span><span class="op" id="7518150">)</span><span class="op" id="7518151">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518155">Rect</span><span class="op" id="7518159">(</span><span class="num" id="7518160">1</span><span class="op" id="7518161">,</span>&nbsp;<span class="num" id="7518163">0</span><span class="op" id="7518164">,</span>&nbsp;<span class="num" id="7518166">16</span><span class="op" id="7518168">,</span>&nbsp;<span class="num" id="7518170">16</span><span class="op" id="7518172">)</span><span class="op" id="7518173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518177">Rect</span><span class="op" id="7518181">(</span><span class="num" id="7518182">0</span><span class="op" id="7518183">,</span>&nbsp;<span class="num" id="7518185">1</span><span class="op" id="7518186">,</span>&nbsp;<span class="num" id="7518188">16</span><span class="op" id="7518190">,</span>&nbsp;<span class="num" id="7518192">16</span><span class="op" id="7518194">)</span><span class="op" id="7518195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518199">Rect</span><span class="op" id="7518203">(</span><span class="num" id="7518204">1</span><span class="op" id="7518205">,</span>&nbsp;<span class="num" id="7518207">1</span><span class="op" id="7518208">,</span>&nbsp;<span class="num" id="7518210">16</span><span class="op" id="7518212">,</span>&nbsp;<span class="num" id="7518214">16</span><span class="op" id="7518216">)</span><span class="op" id="7518217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518221">Rect</span><span class="op" id="7518225">(</span><span class="num" id="7518226">1</span><span class="op" id="7518227">,</span>&nbsp;<span class="num" id="7518229">1</span><span class="op" id="7518230">,</span>&nbsp;<span class="num" id="7518232">15</span><span class="op" id="7518234">,</span>&nbsp;<span class="num" id="7518236">16</span><span class="op" id="7518238">)</span><span class="op" id="7518239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518243">Rect</span><span class="op" id="7518247">(</span><span class="num" id="7518248">1</span><span class="op" id="7518249">,</span>&nbsp;<span class="num" id="7518251">1</span><span class="op" id="7518252">,</span>&nbsp;<span class="num" id="7518254">16</span><span class="op" id="7518256">,</span>&nbsp;<span class="num" id="7518258">15</span><span class="op" id="7518260">)</span><span class="op" id="7518261">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518265">Rect</span><span class="op" id="7518269">(</span><span class="num" id="7518270">1</span><span class="op" id="7518271">,</span>&nbsp;<span class="num" id="7518273">1</span><span class="op" id="7518274">,</span>&nbsp;<span class="num" id="7518276">15</span><span class="op" id="7518278">,</span>&nbsp;<span class="num" id="7518280">15</span><span class="op" id="7518282">)</span><span class="op" id="7518283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518287">Rect</span><span class="op" id="7518291">(</span><span class="num" id="7518292">2</span><span class="op" id="7518293">,</span>&nbsp;<span class="num" id="7518295">3</span><span class="op" id="7518296">,</span>&nbsp;<span class="num" id="7518298">14</span><span class="op" id="7518300">,</span>&nbsp;<span class="num" id="7518302">15</span><span class="op" id="7518304">)</span><span class="op" id="7518305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518309">Rect</span><span class="op" id="7518313">(</span><span class="num" id="7518314">7</span><span class="op" id="7518315">,</span>&nbsp;<span class="num" id="7518317">0</span><span class="op" id="7518318">,</span>&nbsp;<span class="num" id="7518320">7</span><span class="op" id="7518321">,</span>&nbsp;<span class="num" id="7518323">16</span><span class="op" id="7518325">)</span><span class="op" id="7518326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518330">Rect</span><span class="op" id="7518334">(</span><span class="num" id="7518335">0</span><span class="op" id="7518336">,</span>&nbsp;<span class="num" id="7518338">8</span><span class="op" id="7518339">,</span>&nbsp;<span class="num" id="7518341">16</span><span class="op" id="7518343">,</span>&nbsp;<span class="num" id="7518345">8</span><span class="op" id="7518346">)</span><span class="op" id="7518347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518351">Rect</span><span class="op" id="7518355">(</span><span class="num" id="7518356">0</span><span class="op" id="7518357">,</span>&nbsp;<span class="num" id="7518359">0</span><span class="op" id="7518360">,</span>&nbsp;<span class="num" id="7518362">10</span><span class="op" id="7518364">,</span>&nbsp;<span class="num" id="7518366">11</span><span class="op" id="7518368">)</span><span class="op" id="7518369">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518373">Rect</span><span class="op" id="7518377">(</span><span class="num" id="7518378">5</span><span class="op" id="7518379">,</span>&nbsp;<span class="num" id="7518381">6</span><span class="op" id="7518382">,</span>&nbsp;<span class="num" id="7518384">16</span><span class="op" id="7518386">,</span>&nbsp;<span class="num" id="7518388">16</span><span class="op" id="7518390">)</span><span class="op" id="7518391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518395">Rect</span><span class="op" id="7518399">(</span><span class="num" id="7518400">7</span><span class="op" id="7518401">,</span>&nbsp;<span class="num" id="7518403">7</span><span class="op" id="7518404">,</span>&nbsp;<span class="num" id="7518406">8</span><span class="op" id="7518407">,</span>&nbsp;<span class="num" id="7518409">8</span><span class="op" id="7518410">)</span><span class="op" id="7518411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518415">Rect</span><span class="op" id="7518419">(</span><span class="num" id="7518420">7</span><span class="op" id="7518421">,</span>&nbsp;<span class="num" id="7518423">8</span><span class="op" id="7518424">,</span>&nbsp;<span class="num" id="7518426">8</span><span class="op" id="7518427">,</span>&nbsp;<span class="num" id="7518429">9</span><span class="op" id="7518430">)</span><span class="op" id="7518431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518435">Rect</span><span class="op" id="7518439">(</span><span class="num" id="7518440">8</span><span class="op" id="7518441">,</span>&nbsp;<span class="num" id="7518443">7</span><span class="op" id="7518444">,</span>&nbsp;<span class="num" id="7518446">9</span><span class="op" id="7518447">,</span>&nbsp;<span class="num" id="7518449">8</span><span class="op" id="7518450">)</span><span class="op" id="7518451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518455">Rect</span><span class="op" id="7518459">(</span><span class="num" id="7518460">8</span><span class="op" id="7518461">,</span>&nbsp;<span class="num" id="7518463">8</span><span class="op" id="7518464">,</span>&nbsp;<span class="num" id="7518466">9</span><span class="op" id="7518467">,</span>&nbsp;<span class="num" id="7518469">9</span><span class="op" id="7518470">)</span><span class="op" id="7518471">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518475">Rect</span><span class="op" id="7518479">(</span><span class="num" id="7518480">7</span><span class="op" id="7518481">,</span>&nbsp;<span class="num" id="7518483">7</span><span class="op" id="7518484">,</span>&nbsp;<span class="num" id="7518486">17</span><span class="op" id="7518488">,</span>&nbsp;<span class="num" id="7518490">17</span><span class="op" id="7518492">)</span><span class="op" id="7518493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518497">Rect</span><span class="op" id="7518501">(</span><span class="num" id="7518502">8</span><span class="op" id="7518503">,</span>&nbsp;<span class="num" id="7518505">8</span><span class="op" id="7518506">,</span>&nbsp;<span class="num" id="7518508">17</span><span class="op" id="7518510">,</span>&nbsp;<span class="num" id="7518512">17</span><span class="op" id="7518514">)</span><span class="op" id="7518515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518519">Rect</span><span class="op" id="7518523">(</span><span class="num" id="7518524">9</span><span class="op" id="7518525">,</span>&nbsp;<span class="num" id="7518527">9</span><span class="op" id="7518528">,</span>&nbsp;<span class="num" id="7518530">17</span><span class="op" id="7518532">,</span>&nbsp;<span class="num" id="7518534">17</span><span class="op" id="7518536">)</span><span class="op" id="7518537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518541">Rect</span><span class="op" id="7518545">(</span><span class="num" id="7518546">10</span><span class="op" id="7518548">,</span>&nbsp;<span class="num" id="7518550">10</span><span class="op" id="7518552">,</span>&nbsp;<span class="num" id="7518554">17</span><span class="op" id="7518556">,</span>&nbsp;<span class="num" id="7518558">17</span><span class="op" id="7518560">)</span><span class="op" id="7518561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7518564">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518567">subsampleRatios</span>&nbsp;<span class="op" id="7518583">:=</span>&nbsp;<span class="op" id="7518586">[</span><span class="op" id="7518587">]</span><span class="ident" id="7518588">YCbCrSubsampleRatio</span><span class="op" id="7518607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518611">YCbCrSubsampleRatio444</span><span class="op" id="7518633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518637">YCbCrSubsampleRatio422</span><span class="op" id="7518659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518663">YCbCrSubsampleRatio420</span><span class="op" id="7518685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518689">YCbCrSubsampleRatio440</span><span class="op" id="7518711">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7518714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518717">deltas</span>&nbsp;<span class="op" id="7518724">:=</span>&nbsp;<span class="op" id="7518727">[</span><span class="op" id="7518728">]</span><span class="ident" id="7518729">Point</span><span class="op" id="7518734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518738">Pt</span><span class="op" id="7518740">(</span><span class="num" id="7518741">0</span><span class="op" id="7518742">,</span>&nbsp;<span class="num" id="7518744">0</span><span class="op" id="7518745">)</span><span class="op" id="7518746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518750">Pt</span><span class="op" id="7518752">(</span><span class="num" id="7518753">1000</span><span class="op" id="7518757">,</span>&nbsp;<span class="num" id="7518759">1001</span><span class="op" id="7518763">)</span><span class="op" id="7518764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518768">Pt</span><span class="op" id="7518770">(</span><span class="num" id="7518771">5001</span><span class="op" id="7518775">,</span>&nbsp;<span class="op" id="7518777">-</span><span class="num" id="7518778">400</span><span class="op" id="7518781">)</span><span class="op" id="7518782">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518786">Pt</span><span class="op" id="7518788">(</span><span class="op" id="7518789">-</span><span class="num" id="7518790">701</span><span class="op" id="7518793">,</span>&nbsp;<span class="op" id="7518795">-</span><span class="num" id="7518796">801</span><span class="op" id="7518799">)</span><span class="op" id="7518800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7518803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7518806">for</span>&nbsp;<span class="ident" id="7518810">_</span><span class="op" id="7518811">,</span>&nbsp;<span class="ident" id="7518813">r</span>&nbsp;<span class="op" id="7518815">:=</span>&nbsp;<span class="keyword" id="7518818">range</span>&nbsp;<span class="ident" id="7518824">rects</span>&nbsp;<span class="op" id="7518830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7518834">for</span>&nbsp;<span class="ident" id="7518838">_</span><span class="op" id="7518839">,</span>&nbsp;<span class="ident" id="7518841">subsampleRatio</span>&nbsp;<span class="op" id="7518856">:=</span>&nbsp;<span class="keyword" id="7518859">range</span>&nbsp;<span class="ident" id="7518865">subsampleRatios</span>&nbsp;<span class="op" id="7518881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7518886">for</span>&nbsp;<span class="ident" id="7518890">_</span><span class="op" id="7518891">,</span>&nbsp;<span class="ident" id="7518893">delta</span>&nbsp;<span class="op" id="7518899">:=</span>&nbsp;<span class="keyword" id="7518902">range</span>&nbsp;<span class="ident" id="7518908">deltas</span>&nbsp;<span class="op" id="7518915">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518921">testYCbCr</span><span class="op" id="7518930">(</span><span class="ident" id="7518931">t</span><span class="op" id="7518932">,</span>&nbsp;<span class="ident" id="7518934">r</span><span class="op" id="7518935">,</span>&nbsp;<span class="ident" id="7518937">subsampleRatio</span><span class="op" id="7518951">,</span>&nbsp;<span class="ident" id="7518953">delta</span><span class="op" id="7518958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7518963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7518967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7518971">if</span>&nbsp;<span class="ident" id="7518974">testing</span><span class="op" id="7518981">.</span><span class="ident" id="7518982">Short</span><span class="op" id="7518987">(</span><span class="op" id="7518988">)</span>&nbsp;<span class="op" id="7518990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7518995">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519006">}</span><br>
<span class="lineno"></span><span class="op" id="7519008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7519011">func</span>&nbsp;<span class="ident" id="7519016">testYCbCr</span><span class="op" id="7519025">(</span><span class="ident" id="7519026">t</span>&nbsp;<span class="op" id="7519028">*</span><span class="ident" id="7519029">testing</span><span class="op" id="7519036">.</span><span class="ident" id="7519037">T</span><span class="op" id="7519038">,</span>&nbsp;<span class="ident" id="7519040">r</span>&nbsp;<span class="ident" id="7519042">Rectangle</span><span class="op" id="7519051">,</span>&nbsp;<span class="ident" id="7519053">subsampleRatio</span>&nbsp;<span class="ident" id="7519068">YCbCrSubsampleRatio</span><span class="op" id="7519087">,</span>&nbsp;<span class="ident" id="7519089">delta</span>&nbsp;<span class="ident" id="7519095">Point</span><span class="op" id="7519100">)</span>&nbsp;<span class="op" id="7519102">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7519105">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519186">r1</span>&nbsp;<span class="op" id="7519189">:=</span>&nbsp;<span class="ident" id="7519192">r</span><span class="op" id="7519193">.</span><span class="ident" id="7519194">Add</span><span class="op" id="7519197">(</span><span class="ident" id="7519198">delta</span><span class="op" id="7519203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519206">m</span>&nbsp;<span class="op" id="7519208">:=</span>&nbsp;<span class="ident" id="7519211">NewYCbCr</span><span class="op" id="7519219">(</span><span class="ident" id="7519220">r1</span><span class="op" id="7519222">,</span>&nbsp;<span class="ident" id="7519224">subsampleRatio</span><span class="op" id="7519238">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7519242">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7519344">if</span>&nbsp;<span class="builtinfunc" id="7519347">len</span><span class="op" id="7519350">(</span><span class="ident" id="7519351">m</span><span class="op" id="7519352">.</span><span class="ident" id="7519353">Y</span><span class="op" id="7519354">)</span>&nbsp;<span class="op" id="7519356">&gt;</span>&nbsp;<span class="num" id="7519358">100</span><span class="op" id="7519361">*</span><span class="num" id="7519362">100</span>&nbsp;<span class="op" id="7519366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519370">t</span><span class="op" id="7519371">.</span><span class="ident" id="7519372">Errorf</span><span class="op" id="7519378">(</span><span class="string" id="7519379">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="7519441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519446">r</span><span class="op" id="7519447">,</span>&nbsp;<span class="ident" id="7519449">subsampleRatio</span><span class="op" id="7519463">,</span>&nbsp;<span class="ident" id="7519465">delta</span><span class="op" id="7519470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7519474">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519482">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7519486">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7519573">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7519655">for</span>&nbsp;<span class="ident" id="7519659">y</span>&nbsp;<span class="op" id="7519661">:=</span>&nbsp;<span class="ident" id="7519664">r1</span><span class="op" id="7519666">.</span><span class="ident" id="7519667">Min</span><span class="op" id="7519670">.</span><span class="ident" id="7519671">Y</span><span class="op" id="7519672">;</span>&nbsp;<span class="ident" id="7519674">y</span>&nbsp;<span class="op" id="7519676">&lt;</span>&nbsp;<span class="ident" id="7519678">r1</span><span class="op" id="7519680">.</span><span class="ident" id="7519681">Max</span><span class="op" id="7519684">.</span><span class="ident" id="7519685">Y</span><span class="op" id="7519686">;</span>&nbsp;<span class="ident" id="7519688">y</span><span class="op" id="7519689">++</span>&nbsp;<span class="op" id="7519692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7519696">for</span>&nbsp;<span class="ident" id="7519700">x</span>&nbsp;<span class="op" id="7519702">:=</span>&nbsp;<span class="ident" id="7519705">r1</span><span class="op" id="7519707">.</span><span class="ident" id="7519708">Min</span><span class="op" id="7519711">.</span><span class="ident" id="7519712">X</span><span class="op" id="7519713">;</span>&nbsp;<span class="ident" id="7519715">x</span>&nbsp;<span class="op" id="7519717">&lt;</span>&nbsp;<span class="ident" id="7519719">r1</span><span class="op" id="7519721">.</span><span class="ident" id="7519722">Max</span><span class="op" id="7519725">.</span><span class="ident" id="7519726">X</span><span class="op" id="7519727">;</span>&nbsp;<span class="ident" id="7519729">x</span><span class="op" id="7519730">++</span>&nbsp;<span class="op" id="7519733">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519738">yi</span>&nbsp;<span class="op" id="7519741">:=</span>&nbsp;<span class="ident" id="7519744">m</span><span class="op" id="7519745">.</span><span class="ident" id="7519746">YOffset</span><span class="op" id="7519753">(</span><span class="ident" id="7519754">x</span><span class="op" id="7519755">,</span>&nbsp;<span class="ident" id="7519757">y</span><span class="op" id="7519758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519763">ci</span>&nbsp;<span class="op" id="7519766">:=</span>&nbsp;<span class="ident" id="7519769">m</span><span class="op" id="7519770">.</span><span class="ident" id="7519771">COffset</span><span class="op" id="7519778">(</span><span class="ident" id="7519779">x</span><span class="op" id="7519780">,</span>&nbsp;<span class="ident" id="7519782">y</span><span class="op" id="7519783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519788">m</span><span class="op" id="7519789">.</span><span class="ident" id="7519790">Y</span><span class="op" id="7519791">[</span><span class="ident" id="7519792">yi</span><span class="op" id="7519794">]</span>&nbsp;<span class="op" id="7519796">=</span>&nbsp;<span class="builtintype" id="7519798">uint8</span><span class="op" id="7519803">(</span><span class="num" id="7519804">16</span><span class="op" id="7519806">*</span><span class="ident" id="7519807">y</span>&nbsp;<span class="op" id="7519809">+</span>&nbsp;<span class="ident" id="7519811">x</span><span class="op" id="7519812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519817">m</span><span class="op" id="7519818">.</span><span class="ident" id="7519819">Cb</span><span class="op" id="7519821">[</span><span class="ident" id="7519822">ci</span><span class="op" id="7519824">]</span>&nbsp;<span class="op" id="7519826">=</span>&nbsp;<span class="builtintype" id="7519828">uint8</span><span class="op" id="7519833">(</span><span class="ident" id="7519834">y</span>&nbsp;<span class="op" id="7519836">+</span>&nbsp;<span class="num" id="7519838">16</span><span class="op" id="7519840">*</span><span class="ident" id="7519841">x</span><span class="op" id="7519842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7519847">m</span><span class="op" id="7519848">.</span><span class="ident" id="7519849">Cr</span><span class="op" id="7519851">[</span><span class="ident" id="7519852">ci</span><span class="op" id="7519854">]</span>&nbsp;<span class="op" id="7519856">=</span>&nbsp;<span class="builtintype" id="7519858">uint8</span><span class="op" id="7519863">(</span><span class="ident" id="7519864">y</span>&nbsp;<span class="op" id="7519866">+</span>&nbsp;<span class="num" id="7519868">16</span><span class="op" id="7519870">*</span><span class="ident" id="7519871">x</span><span class="op" id="7519872">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7519879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7519883">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7519917">for</span>&nbsp;<span class="ident" id="7519921">y0</span>&nbsp;<span class="op" id="7519924">:=</span>&nbsp;<span class="ident" id="7519927">delta</span><span class="op" id="7519932">.</span><span class="ident" id="7519933">Y</span>&nbsp;<span class="op" id="7519935">+</span>&nbsp;<span class="num" id="7519937">3</span><span class="op" id="7519938">;</span>&nbsp;<span class="ident" id="7519940">y0</span>&nbsp;<span class="op" id="7519943">&lt;</span>&nbsp;<span class="ident" id="7519945">delta</span><span class="op" id="7519950">.</span><span class="ident" id="7519951">Y</span><span class="op" id="7519952">+</span><span class="num" id="7519953">7</span><span class="op" id="7519954">;</span>&nbsp;<span class="ident" id="7519956">y0</span><span class="op" id="7519958">++</span>&nbsp;<span class="op" id="7519961">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7519965">for</span>&nbsp;<span class="ident" id="7519969">y1</span>&nbsp;<span class="op" id="7519972">:=</span>&nbsp;<span class="ident" id="7519975">delta</span><span class="op" id="7519980">.</span><span class="ident" id="7519981">Y</span>&nbsp;<span class="op" id="7519983">+</span>&nbsp;<span class="num" id="7519985">8</span><span class="op" id="7519986">;</span>&nbsp;<span class="ident" id="7519988">y1</span>&nbsp;<span class="op" id="7519991">&lt;</span>&nbsp;<span class="ident" id="7519993">delta</span><span class="op" id="7519998">.</span><span class="ident" id="7519999">Y</span><span class="op" id="7520000">+</span><span class="num" id="7520001">13</span><span class="op" id="7520003">;</span>&nbsp;<span class="ident" id="7520005">y1</span><span class="op" id="7520007">++</span>&nbsp;<span class="op" id="7520010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7520015">for</span>&nbsp;<span class="ident" id="7520019">x0</span>&nbsp;<span class="op" id="7520022">:=</span>&nbsp;<span class="ident" id="7520025">delta</span><span class="op" id="7520030">.</span><span class="ident" id="7520031">X</span>&nbsp;<span class="op" id="7520033">+</span>&nbsp;<span class="num" id="7520035">3</span><span class="op" id="7520036">;</span>&nbsp;<span class="ident" id="7520038">x0</span>&nbsp;<span class="op" id="7520041">&lt;</span>&nbsp;<span class="ident" id="7520043">delta</span><span class="op" id="7520048">.</span><span class="ident" id="7520049">X</span><span class="op" id="7520050">+</span><span class="num" id="7520051">7</span><span class="op" id="7520052">;</span>&nbsp;<span class="ident" id="7520054">x0</span><span class="op" id="7520056">++</span>&nbsp;<span class="op" id="7520059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7520065">for</span>&nbsp;<span class="ident" id="7520069">x1</span>&nbsp;<span class="op" id="7520072">:=</span>&nbsp;<span class="ident" id="7520075">delta</span><span class="op" id="7520080">.</span><span class="ident" id="7520081">X</span>&nbsp;<span class="op" id="7520083">+</span>&nbsp;<span class="num" id="7520085">8</span><span class="op" id="7520086">;</span>&nbsp;<span class="ident" id="7520088">x1</span>&nbsp;<span class="op" id="7520091">&lt;</span>&nbsp;<span class="ident" id="7520093">delta</span><span class="op" id="7520098">.</span><span class="ident" id="7520099">X</span><span class="op" id="7520100">+</span><span class="num" id="7520101">13</span><span class="op" id="7520103">;</span>&nbsp;<span class="ident" id="7520105">x1</span><span class="op" id="7520107">++</span>&nbsp;<span class="op" id="7520110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7520117">subRect</span>&nbsp;<span class="op" id="7520125">:=</span>&nbsp;<span class="ident" id="7520128">Rect</span><span class="op" id="7520132">(</span><span class="ident" id="7520133">x0</span><span class="op" id="7520135">,</span>&nbsp;<span class="ident" id="7520137">y0</span><span class="op" id="7520139">,</span>&nbsp;<span class="ident" id="7520141">x1</span><span class="op" id="7520143">,</span>&nbsp;<span class="ident" id="7520145">y1</span><span class="op" id="7520147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7520154">sub</span>&nbsp;<span class="op" id="7520158">:=</span>&nbsp;<span class="ident" id="7520161">m</span><span class="op" id="7520162">.</span><span class="ident" id="7520163">SubImage</span><span class="op" id="7520171">(</span><span class="ident" id="7520172">subRect</span><span class="op" id="7520179">)</span><span class="op" id="7520180">.</span><span class="op" id="7520181">(</span><span class="op" id="7520182">*</span><span class="ident" id="7520183">YCbCr</span><span class="op" id="7520188">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7520196">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7520289">for</span>&nbsp;<span class="ident" id="7520293">y</span>&nbsp;<span class="op" id="7520295">:=</span>&nbsp;<span class="ident" id="7520298">sub</span><span class="op" id="7520301">.</span><span class="ident" id="7520302">Rect</span><span class="op" id="7520306">.</span><span class="ident" id="7520307">Min</span><span class="op" id="7520310">.</span><span class="ident" id="7520311">Y</span><span class="op" id="7520312">;</span>&nbsp;<span class="ident" id="7520314">y</span>&nbsp;<span class="op" id="7520316">&lt;</span>&nbsp;<span class="ident" id="7520318">sub</span><span class="op" id="7520321">.</span><span class="ident" id="7520322">Rect</span><span class="op" id="7520326">.</span><span class="ident" id="7520327">Max</span><span class="op" id="7520330">.</span><span class="ident" id="7520331">Y</span><span class="op" id="7520332">;</span>&nbsp;<span class="ident" id="7520334">y</span><span class="op" id="7520335">++</span>&nbsp;<span class="op" id="7520338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7520346">for</span>&nbsp;<span class="ident" id="7520350">x</span>&nbsp;<span class="op" id="7520352">:=</span>&nbsp;<span class="ident" id="7520355">sub</span><span class="op" id="7520358">.</span><span class="ident" id="7520359">Rect</span><span class="op" id="7520363">.</span><span class="ident" id="7520364">Min</span><span class="op" id="7520367">.</span><span class="ident" id="7520368">X</span><span class="op" id="7520369">;</span>&nbsp;<span class="ident" id="7520371">x</span>&nbsp;<span class="op" id="7520373">&lt;</span>&nbsp;<span class="ident" id="7520375">sub</span><span class="op" id="7520378">.</span><span class="ident" id="7520379">Rect</span><span class="op" id="7520383">.</span><span class="ident" id="7520384">Max</span><span class="op" id="7520387">.</span><span class="ident" id="7520388">X</span><span class="op" id="7520389">;</span>&nbsp;<span class="ident" id="7520391">x</span><span class="op" id="7520392">++</span>&nbsp;<span class="op" id="7520395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7520404">color0</span>&nbsp;<span class="op" id="7520411">:=</span>&nbsp;<span class="ident" id="7520414">m</span><span class="op" id="7520415">.</span><span class="ident" id="7520416">At</span><span class="op" id="7520418">(</span><span class="ident" id="7520419">x</span><span class="op" id="7520420">,</span>&nbsp;<span class="ident" id="7520422">y</span><span class="op" id="7520423">)</span><span class="op" id="7520424">.</span><span class="op" id="7520425">(</span><span class="ident" id="7520426">color</span><span class="op" id="7520431">.</span><span class="ident" id="7520432">YCbCr</span><span class="op" id="7520437">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7520446">color1</span>&nbsp;<span class="op" id="7520453">:=</span>&nbsp;<span class="ident" id="7520456">sub</span><span class="op" id="7520459">.</span><span class="ident" id="7520460">At</span><span class="op" id="7520462">(</span><span class="ident" id="7520463">x</span><span class="op" id="7520464">,</span>&nbsp;<span class="ident" id="7520466">y</span><span class="op" id="7520467">)</span><span class="op" id="7520468">.</span><span class="op" id="7520469">(</span><span class="ident" id="7520470">color</span><span class="op" id="7520475">.</span><span class="ident" id="7520476">YCbCr</span><span class="op" id="7520481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7520490">if</span>&nbsp;<span class="ident" id="7520493">color0</span>&nbsp;<span class="op" id="7520500">!=</span>&nbsp;<span class="ident" id="7520503">color1</span>&nbsp;<span class="op" id="7520510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7520520">t</span><span class="op" id="7520521">.</span><span class="ident" id="7520522">Errorf</span><span class="op" id="7520528">(</span><span class="string" id="7520529">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="7520598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7520609">r</span><span class="op" id="7520610">,</span>&nbsp;<span class="ident" id="7520612">subsampleRatio</span><span class="op" id="7520626">,</span>&nbsp;<span class="ident" id="7520628">delta</span><span class="op" id="7520633">,</span>&nbsp;<span class="ident" id="7520635">x</span><span class="op" id="7520636">,</span>&nbsp;<span class="ident" id="7520638">y</span><span class="op" id="7520639">,</span>&nbsp;<span class="ident" id="7520641">color0</span><span class="op" id="7520647">,</span>&nbsp;<span class="ident" id="7520649">color1</span><span class="op" id="7520655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7520665">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520705">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7520712">}</span><br>
<span class="lineno"></span><span class="op" id="7520714">}</span>
</div>
</body>
</html>
