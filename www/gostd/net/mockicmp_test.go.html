<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7917607">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7917663">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7917717">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7917768">package</span>&nbsp;<span class="ident" id="7917776">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7917781">import</span>&nbsp;<span class="string" id="7917788">&#34;errors&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7917798">const</span>&nbsp;<span class="op" id="7917804">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917807">icmpv4EchoRequest</span>&nbsp;<span class="op" id="7917825">=</span>&nbsp;<span class="num" id="7917827">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917830">icmpv4EchoReply</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7917848">=</span>&nbsp;<span class="num" id="7917850">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917853">icmpv6EchoRequest</span>&nbsp;<span class="op" id="7917871">=</span>&nbsp;<span class="num" id="7917873">128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917878">icmpv6EchoReply</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7917896">=</span>&nbsp;<span class="num" id="7917898">129</span><br>
<span class="lineno"></span><span class="op" id="7917902">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="7917905">//&nbsp;icmpMessage&nbsp;represents&nbsp;an&nbsp;ICMP&nbsp;message.</span><br>
<span class="lineno"></span><span class="keyword" id="7917948">type</span>&nbsp;<span class="ident" id="7917953">icmpMessage</span>&nbsp;<span class="keyword" id="7917965">struct</span>&nbsp;<span class="op" id="7917972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7917975">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7917984">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7918000">//&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918009">Code</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7918018">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7918034">//&nbsp;code</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918043">Checksum</span>&nbsp;<span class="builtintype" id="7918052">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7918068">//&nbsp;checksum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918081">Body</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7918090">icmpMessageBody</span>&nbsp;<span class="comment" id="7918106">//&nbsp;body</span><br>
<span class="lineno"></span><span class="op" id="7918114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7918117">//&nbsp;icmpMessageBody&nbsp;represents&nbsp;an&nbsp;ICMP&nbsp;message&nbsp;body.</span><br>
<span class="lineno">25</span><span class="keyword" id="7918169">type</span>&nbsp;<span class="ident" id="7918174">icmpMessageBody</span>&nbsp;<span class="keyword" id="7918190">interface</span>&nbsp;<span class="op" id="7918200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918203">Len</span><span class="op" id="7918206">(</span><span class="op" id="7918207">)</span>&nbsp;<span class="builtintype" id="7918209">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918214">Marshal</span><span class="op" id="7918221">(</span><span class="op" id="7918222">)</span>&nbsp;<span class="op" id="7918224">(</span><span class="op" id="7918225">[</span><span class="op" id="7918226">]</span><span class="builtintype" id="7918227">byte</span><span class="op" id="7918231">,</span>&nbsp;<span class="builtintype" id="7918233">error</span><span class="op" id="7918238">)</span><br>
<span class="lineno"></span><span class="op" id="7918240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="7918243">//&nbsp;Marshal&nbsp;returns&nbsp;the&nbsp;binary&nbsp;enconding&nbsp;of&nbsp;the&nbsp;ICMP&nbsp;echo&nbsp;request&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="7918311">//&nbsp;reply&nbsp;message&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="7918331">func</span>&nbsp;<span class="op" id="7918336">(</span><span class="ident" id="7918337">m</span>&nbsp;<span class="op" id="7918339">*</span><span class="ident" id="7918340">icmpMessage</span><span class="op" id="7918351">)</span>&nbsp;<span class="ident" id="7918353">Marshal</span><span class="op" id="7918360">(</span><span class="op" id="7918361">)</span>&nbsp;<span class="op" id="7918363">(</span><span class="op" id="7918364">[</span><span class="op" id="7918365">]</span><span class="builtintype" id="7918366">byte</span><span class="op" id="7918370">,</span>&nbsp;<span class="builtintype" id="7918372">error</span><span class="op" id="7918377">)</span>&nbsp;<span class="op" id="7918379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918382">b</span>&nbsp;<span class="op" id="7918384">:=</span>&nbsp;<span class="op" id="7918387">[</span><span class="op" id="7918388">]</span><span class="builtintype" id="7918389">byte</span><span class="op" id="7918393">{</span><span class="builtintype" id="7918394">byte</span><span class="op" id="7918398">(</span><span class="ident" id="7918399">m</span><span class="op" id="7918400">.</span><span class="ident" id="7918401">Type</span><span class="op" id="7918405">)</span><span class="op" id="7918406">,</span>&nbsp;<span class="builtintype" id="7918408">byte</span><span class="op" id="7918412">(</span><span class="ident" id="7918413">m</span><span class="op" id="7918414">.</span><span class="ident" id="7918415">Code</span><span class="op" id="7918419">)</span><span class="op" id="7918420">,</span>&nbsp;<span class="num" id="7918422">0</span><span class="op" id="7918423">,</span>&nbsp;<span class="num" id="7918425">0</span><span class="op" id="7918426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7918429">if</span>&nbsp;<span class="ident" id="7918432">m</span><span class="op" id="7918433">.</span><span class="ident" id="7918434">Body</span>&nbsp;<span class="op" id="7918439">!=</span>&nbsp;<span class="ident" id="7918442">nil</span>&nbsp;<span class="op" id="7918446">&amp;&amp;</span>&nbsp;<span class="ident" id="7918449">m</span><span class="op" id="7918450">.</span><span class="ident" id="7918451">Body</span><span class="op" id="7918455">.</span><span class="ident" id="7918456">Len</span><span class="op" id="7918459">(</span><span class="op" id="7918460">)</span>&nbsp;<span class="op" id="7918462">!=</span>&nbsp;<span class="num" id="7918465">0</span>&nbsp;<span class="op" id="7918467">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918471">mb</span><span class="op" id="7918473">,</span>&nbsp;<span class="ident" id="7918475">err</span>&nbsp;<span class="op" id="7918479">:=</span>&nbsp;<span class="ident" id="7918482">m</span><span class="op" id="7918483">.</span><span class="ident" id="7918484">Body</span><span class="op" id="7918488">.</span><span class="ident" id="7918489">Marshal</span><span class="op" id="7918496">(</span><span class="op" id="7918497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7918501">if</span>&nbsp;<span class="ident" id="7918504">err</span>&nbsp;<span class="op" id="7918508">!=</span>&nbsp;<span class="ident" id="7918511">nil</span>&nbsp;<span class="op" id="7918515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7918520">return</span>&nbsp;<span class="ident" id="7918527">nil</span><span class="op" id="7918530">,</span>&nbsp;<span class="ident" id="7918532">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7918538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918542">b</span>&nbsp;<span class="op" id="7918544">=</span>&nbsp;<span class="builtinfunc" id="7918546">append</span><span class="op" id="7918552">(</span><span class="ident" id="7918553">b</span><span class="op" id="7918554">,</span>&nbsp;<span class="ident" id="7918556">mb</span><span class="op" id="7918558">...</span><span class="op" id="7918561">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7918564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7918567">switch</span>&nbsp;<span class="ident" id="7918574">m</span><span class="op" id="7918575">.</span><span class="ident" id="7918576">Type</span>&nbsp;<span class="op" id="7918581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7918584">case</span>&nbsp;<span class="ident" id="7918589">icmpv6EchoRequest</span><span class="op" id="7918606">,</span>&nbsp;<span class="ident" id="7918608">icmpv6EchoReply</span><span class="op" id="7918623">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7918627">return</span>&nbsp;<span class="ident" id="7918634">b</span><span class="op" id="7918635">,</span>&nbsp;<span class="ident" id="7918637">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7918642">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918645">csumcv</span>&nbsp;<span class="op" id="7918652">:=</span>&nbsp;<span class="builtinfunc" id="7918655">len</span><span class="op" id="7918658">(</span><span class="ident" id="7918659">b</span><span class="op" id="7918660">)</span>&nbsp;<span class="op" id="7918662">-</span>&nbsp;<span class="num" id="7918664">1</span>&nbsp;<span class="comment" id="7918666">//&nbsp;checksum&nbsp;coverage</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918688">s</span>&nbsp;<span class="op" id="7918690">:=</span>&nbsp;<span class="builtintype" id="7918693">uint32</span><span class="op" id="7918699">(</span><span class="num" id="7918700">0</span><span class="op" id="7918701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7918704">for</span>&nbsp;<span class="ident" id="7918708">i</span>&nbsp;<span class="op" id="7918710">:=</span>&nbsp;<span class="num" id="7918713">0</span><span class="op" id="7918714">;</span>&nbsp;<span class="ident" id="7918716">i</span>&nbsp;<span class="op" id="7918718">&lt;</span>&nbsp;<span class="ident" id="7918720">csumcv</span><span class="op" id="7918726">;</span>&nbsp;<span class="ident" id="7918728">i</span>&nbsp;<span class="op" id="7918730">+=</span>&nbsp;<span class="num" id="7918733">2</span>&nbsp;<span class="op" id="7918735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918739">s</span>&nbsp;<span class="op" id="7918741">+=</span>&nbsp;<span class="builtintype" id="7918744">uint32</span><span class="op" id="7918750">(</span><span class="ident" id="7918751">b</span><span class="op" id="7918752">[</span><span class="ident" id="7918753">i</span><span class="op" id="7918754">+</span><span class="num" id="7918755">1</span><span class="op" id="7918756">]</span><span class="op" id="7918757">)</span><span class="op" id="7918758">&lt;&lt;</span><span class="num" id="7918760">8</span>&nbsp;<span class="op" id="7918762">|</span>&nbsp;<span class="builtintype" id="7918764">uint32</span><span class="op" id="7918770">(</span><span class="ident" id="7918771">b</span><span class="op" id="7918772">[</span><span class="ident" id="7918773">i</span><span class="op" id="7918774">]</span><span class="op" id="7918775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7918778">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7918781">if</span>&nbsp;<span class="ident" id="7918784">csumcv</span><span class="op" id="7918790">&amp;</span><span class="num" id="7918791">1</span>&nbsp;<span class="op" id="7918793">==</span>&nbsp;<span class="num" id="7918796">0</span>&nbsp;<span class="op" id="7918798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918802">s</span>&nbsp;<span class="op" id="7918804">+=</span>&nbsp;<span class="builtintype" id="7918807">uint32</span><span class="op" id="7918813">(</span><span class="ident" id="7918814">b</span><span class="op" id="7918815">[</span><span class="ident" id="7918816">csumcv</span><span class="op" id="7918822">]</span><span class="op" id="7918823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7918826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918829">s</span>&nbsp;<span class="op" id="7918831">=</span>&nbsp;<span class="ident" id="7918833">s</span><span class="op" id="7918834">&gt;&gt;</span><span class="num" id="7918836">16</span>&nbsp;<span class="op" id="7918839">+</span>&nbsp;<span class="ident" id="7918841">s</span><span class="op" id="7918842">&amp;</span><span class="num" id="7918843">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918851">s</span>&nbsp;<span class="op" id="7918853">=</span>&nbsp;<span class="ident" id="7918855">s</span>&nbsp;<span class="op" id="7918857">+</span>&nbsp;<span class="ident" id="7918859">s</span><span class="op" id="7918860">&gt;&gt;</span><span class="num" id="7918862">16</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7918866">//&nbsp;Place&nbsp;checksum&nbsp;back&nbsp;in&nbsp;header;&nbsp;using&nbsp;^=&nbsp;avoids&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7918921">//&nbsp;assumption&nbsp;the&nbsp;checksum&nbsp;bytes&nbsp;are&nbsp;zero.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918965">b</span><span class="op" id="7918966">[</span><span class="num" id="7918967">2</span><span class="op" id="7918968">]</span>&nbsp;<span class="op" id="7918970">^=</span>&nbsp;<span class="builtintype" id="7918973">byte</span><span class="op" id="7918977">(</span><span class="op" id="7918978">^</span><span class="ident" id="7918979">s</span><span class="op" id="7918980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7918983">b</span><span class="op" id="7918984">[</span><span class="num" id="7918985">3</span><span class="op" id="7918986">]</span>&nbsp;<span class="op" id="7918988">^=</span>&nbsp;<span class="builtintype" id="7918991">byte</span><span class="op" id="7918995">(</span><span class="op" id="7918996">^</span><span class="ident" id="7918997">s</span>&nbsp;<span class="op" id="7918999">&gt;&gt;</span>&nbsp;<span class="num" id="7919002">8</span><span class="op" id="7919003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919006">return</span>&nbsp;<span class="ident" id="7919013">b</span><span class="op" id="7919014">,</span>&nbsp;<span class="ident" id="7919016">nil</span><br>
<span class="lineno">60</span><span class="op" id="7919020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7919023">//&nbsp;parseICMPMessage&nbsp;parses&nbsp;b&nbsp;as&nbsp;an&nbsp;ICMP&nbsp;message.</span><br>
<span class="lineno"></span><span class="keyword" id="7919072">func</span>&nbsp;<span class="ident" id="7919077">parseICMPMessage</span><span class="op" id="7919093">(</span><span class="ident" id="7919094">b</span>&nbsp;<span class="op" id="7919096">[</span><span class="op" id="7919097">]</span><span class="builtintype" id="7919098">byte</span><span class="op" id="7919102">)</span>&nbsp;<span class="op" id="7919104">(</span><span class="op" id="7919105">*</span><span class="ident" id="7919106">icmpMessage</span><span class="op" id="7919117">,</span>&nbsp;<span class="builtintype" id="7919119">error</span><span class="op" id="7919124">)</span>&nbsp;<span class="op" id="7919126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7919129">msglen</span>&nbsp;<span class="op" id="7919136">:=</span>&nbsp;<span class="builtinfunc" id="7919139">len</span><span class="op" id="7919142">(</span><span class="ident" id="7919143">b</span><span class="op" id="7919144">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919147">if</span>&nbsp;<span class="ident" id="7919150">msglen</span>&nbsp;<span class="op" id="7919157">&lt;</span>&nbsp;<span class="num" id="7919159">4</span>&nbsp;<span class="op" id="7919161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919165">return</span>&nbsp;<span class="ident" id="7919172">nil</span><span class="op" id="7919175">,</span>&nbsp;<span class="ident" id="7919177">errors</span><span class="op" id="7919183">.</span><span class="ident" id="7919184">New</span><span class="op" id="7919187">(</span><span class="string" id="7919188">&#34;message&nbsp;too&nbsp;short&#34;</span><span class="op" id="7919207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7919210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7919213">m</span>&nbsp;<span class="op" id="7919215">:=</span>&nbsp;<span class="op" id="7919218">&amp;</span><span class="ident" id="7919219">icmpMessage</span><span class="op" id="7919230">{</span><span class="ident" id="7919231">Type</span><span class="op" id="7919235">:</span>&nbsp;<span class="builtintype" id="7919237">int</span><span class="op" id="7919240">(</span><span class="ident" id="7919241">b</span><span class="op" id="7919242">[</span><span class="num" id="7919243">0</span><span class="op" id="7919244">]</span><span class="op" id="7919245">)</span><span class="op" id="7919246">,</span>&nbsp;<span class="ident" id="7919248">Code</span><span class="op" id="7919252">:</span>&nbsp;<span class="builtintype" id="7919254">int</span><span class="op" id="7919257">(</span><span class="ident" id="7919258">b</span><span class="op" id="7919259">[</span><span class="num" id="7919260">1</span><span class="op" id="7919261">]</span><span class="op" id="7919262">)</span><span class="op" id="7919263">,</span>&nbsp;<span class="ident" id="7919265">Checksum</span><span class="op" id="7919273">:</span>&nbsp;<span class="builtintype" id="7919275">int</span><span class="op" id="7919278">(</span><span class="ident" id="7919279">b</span><span class="op" id="7919280">[</span><span class="num" id="7919281">2</span><span class="op" id="7919282">]</span><span class="op" id="7919283">)</span><span class="op" id="7919284">&lt;&lt;</span><span class="num" id="7919286">8</span>&nbsp;<span class="op" id="7919288">|</span>&nbsp;<span class="builtintype" id="7919290">int</span><span class="op" id="7919293">(</span><span class="ident" id="7919294">b</span><span class="op" id="7919295">[</span><span class="num" id="7919296">3</span><span class="op" id="7919297">]</span><span class="op" id="7919298">)</span><span class="op" id="7919299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919302">if</span>&nbsp;<span class="ident" id="7919305">msglen</span>&nbsp;<span class="op" id="7919312">&gt;</span>&nbsp;<span class="num" id="7919314">4</span>&nbsp;<span class="op" id="7919316">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919320">var</span>&nbsp;<span class="ident" id="7919324">err</span>&nbsp;<span class="builtintype" id="7919328">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919336">switch</span>&nbsp;<span class="ident" id="7919343">m</span><span class="op" id="7919344">.</span><span class="ident" id="7919345">Type</span>&nbsp;<span class="op" id="7919350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919354">case</span>&nbsp;<span class="ident" id="7919359">icmpv4EchoRequest</span><span class="op" id="7919376">,</span>&nbsp;<span class="ident" id="7919378">icmpv4EchoReply</span><span class="op" id="7919393">,</span>&nbsp;<span class="ident" id="7919395">icmpv6EchoRequest</span><span class="op" id="7919412">,</span>&nbsp;<span class="ident" id="7919414">icmpv6EchoReply</span><span class="op" id="7919429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7919434">m</span><span class="op" id="7919435">.</span><span class="ident" id="7919436">Body</span><span class="op" id="7919440">,</span>&nbsp;<span class="ident" id="7919442">err</span>&nbsp;<span class="op" id="7919446">=</span>&nbsp;<span class="ident" id="7919448">parseICMPEcho</span><span class="op" id="7919461">(</span><span class="ident" id="7919462">b</span><span class="op" id="7919463">[</span><span class="num" id="7919464">4</span><span class="op" id="7919465">:</span><span class="op" id="7919466">]</span><span class="op" id="7919467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919472">if</span>&nbsp;<span class="ident" id="7919475">err</span>&nbsp;<span class="op" id="7919479">!=</span>&nbsp;<span class="ident" id="7919482">nil</span>&nbsp;<span class="op" id="7919486">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919492">return</span>&nbsp;<span class="ident" id="7919499">nil</span><span class="op" id="7919502">,</span>&nbsp;<span class="ident" id="7919504">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7919511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7919515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7919518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919521">return</span>&nbsp;<span class="ident" id="7919528">m</span><span class="op" id="7919529">,</span>&nbsp;<span class="ident" id="7919531">nil</span><br>
<span class="lineno">80</span><span class="op" id="7919535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7919538">//&nbsp;imcpEcho&nbsp;represenets&nbsp;an&nbsp;ICMP&nbsp;echo&nbsp;request&nbsp;or&nbsp;reply&nbsp;message&nbsp;body.</span><br>
<span class="lineno"></span><span class="keyword" id="7919606">type</span>&nbsp;<span class="ident" id="7919611">icmpEcho</span>&nbsp;<span class="keyword" id="7919620">struct</span>&nbsp;<span class="op" id="7919627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7919630">ID</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7919635">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7919642">//&nbsp;identifier</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7919657">Seq</span>&nbsp;&nbsp;<span class="builtintype" id="7919662">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7919669">//&nbsp;sequence&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7919689">Data</span>&nbsp;<span class="op" id="7919694">[</span><span class="op" id="7919695">]</span><span class="builtintype" id="7919696">byte</span>&nbsp;<span class="comment" id="7919701">//&nbsp;data</span><br>
<span class="lineno"></span><span class="op" id="7919709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7919712">func</span>&nbsp;<span class="op" id="7919717">(</span><span class="ident" id="7919718">p</span>&nbsp;<span class="op" id="7919720">*</span><span class="ident" id="7919721">icmpEcho</span><span class="op" id="7919729">)</span>&nbsp;<span class="ident" id="7919731">Len</span><span class="op" id="7919734">(</span><span class="op" id="7919735">)</span>&nbsp;<span class="builtintype" id="7919737">int</span>&nbsp;<span class="op" id="7919741">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919744">if</span>&nbsp;<span class="ident" id="7919747">p</span>&nbsp;<span class="op" id="7919749">==</span>&nbsp;<span class="ident" id="7919752">nil</span>&nbsp;<span class="op" id="7919756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919760">return</span>&nbsp;<span class="num" id="7919767">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7919770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7919773">return</span>&nbsp;<span class="num" id="7919780">4</span>&nbsp;<span class="op" id="7919782">+</span>&nbsp;<span class="builtinfunc" id="7919784">len</span><span class="op" id="7919787">(</span><span class="ident" id="7919788">p</span><span class="op" id="7919789">.</span><span class="ident" id="7919790">Data</span><span class="op" id="7919794">)</span><br>
<span class="lineno"></span><span class="op" id="7919796">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="7919799">//&nbsp;Marshal&nbsp;returns&nbsp;the&nbsp;binary&nbsp;enconding&nbsp;of&nbsp;the&nbsp;ICMP&nbsp;echo&nbsp;request&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="7919867">//&nbsp;reply&nbsp;message&nbsp;body&nbsp;p.</span><br>
<span class="lineno"></span><span class="keyword" id="7919892">func</span>&nbsp;<span class="op" id="7919897">(</span><span class="ident" id="7919898">p</span>&nbsp;<span class="op" id="7919900">*</span><span class="ident" id="7919901">icmpEcho</span><span class="op" id="7919909">)</span>&nbsp;<span class="ident" id="7919911">Marshal</span><span class="op" id="7919918">(</span><span class="op" id="7919919">)</span>&nbsp;<span class="op" id="7919921">(</span><span class="op" id="7919922">[</span><span class="op" id="7919923">]</span><span class="builtintype" id="7919924">byte</span><span class="op" id="7919928">,</span>&nbsp;<span class="builtintype" id="7919930">error</span><span class="op" id="7919935">)</span>&nbsp;<span class="op" id="7919937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7919940">b</span>&nbsp;<span class="op" id="7919942">:=</span>&nbsp;<span class="builtinfunc" id="7919945">make</span><span class="op" id="7919949">(</span><span class="op" id="7919950">[</span><span class="op" id="7919951">]</span><span class="builtintype" id="7919952">byte</span><span class="op" id="7919956">,</span>&nbsp;<span class="num" id="7919958">4</span><span class="op" id="7919959">+</span><span class="builtinfunc" id="7919960">len</span><span class="op" id="7919963">(</span><span class="ident" id="7919964">p</span><span class="op" id="7919965">.</span><span class="ident" id="7919966">Data</span><span class="op" id="7919970">)</span><span class="op" id="7919971">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7919974">b</span><span class="op" id="7919975">[</span><span class="num" id="7919976">0</span><span class="op" id="7919977">]</span><span class="op" id="7919978">,</span>&nbsp;<span class="ident" id="7919980">b</span><span class="op" id="7919981">[</span><span class="num" id="7919982">1</span><span class="op" id="7919983">]</span>&nbsp;<span class="op" id="7919985">=</span>&nbsp;<span class="builtintype" id="7919987">byte</span><span class="op" id="7919991">(</span><span class="ident" id="7919992">p</span><span class="op" id="7919993">.</span><span class="ident" id="7919994">ID</span><span class="op" id="7919996">&gt;&gt;</span><span class="num" id="7919998">8</span><span class="op" id="7919999">)</span><span class="op" id="7920000">,</span>&nbsp;<span class="builtintype" id="7920002">byte</span><span class="op" id="7920006">(</span><span class="ident" id="7920007">p</span><span class="op" id="7920008">.</span><span class="ident" id="7920009">ID</span><span class="op" id="7920011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7920014">b</span><span class="op" id="7920015">[</span><span class="num" id="7920016">2</span><span class="op" id="7920017">]</span><span class="op" id="7920018">,</span>&nbsp;<span class="ident" id="7920020">b</span><span class="op" id="7920021">[</span><span class="num" id="7920022">3</span><span class="op" id="7920023">]</span>&nbsp;<span class="op" id="7920025">=</span>&nbsp;<span class="builtintype" id="7920027">byte</span><span class="op" id="7920031">(</span><span class="ident" id="7920032">p</span><span class="op" id="7920033">.</span><span class="ident" id="7920034">Seq</span><span class="op" id="7920037">&gt;&gt;</span><span class="num" id="7920039">8</span><span class="op" id="7920040">)</span><span class="op" id="7920041">,</span>&nbsp;<span class="builtintype" id="7920043">byte</span><span class="op" id="7920047">(</span><span class="ident" id="7920048">p</span><span class="op" id="7920049">.</span><span class="ident" id="7920050">Seq</span><span class="op" id="7920053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7920056">copy</span><span class="op" id="7920060">(</span><span class="ident" id="7920061">b</span><span class="op" id="7920062">[</span><span class="num" id="7920063">4</span><span class="op" id="7920064">:</span><span class="op" id="7920065">]</span><span class="op" id="7920066">,</span>&nbsp;<span class="ident" id="7920068">p</span><span class="op" id="7920069">.</span><span class="ident" id="7920070">Data</span><span class="op" id="7920074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7920077">return</span>&nbsp;<span class="ident" id="7920084">b</span><span class="op" id="7920085">,</span>&nbsp;<span class="ident" id="7920087">nil</span><br>
<span class="lineno"></span><span class="op" id="7920091">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="7920094">//&nbsp;parseICMPEcho&nbsp;parses&nbsp;b&nbsp;as&nbsp;an&nbsp;ICMP&nbsp;echo&nbsp;request&nbsp;or&nbsp;reply&nbsp;message</span><br>
<span class="lineno"></span><span class="comment" id="7920161">//&nbsp;body.</span><br>
<span class="lineno"></span><span class="keyword" id="7920170">func</span>&nbsp;<span class="ident" id="7920175">parseICMPEcho</span><span class="op" id="7920188">(</span><span class="ident" id="7920189">b</span>&nbsp;<span class="op" id="7920191">[</span><span class="op" id="7920192">]</span><span class="builtintype" id="7920193">byte</span><span class="op" id="7920197">)</span>&nbsp;<span class="op" id="7920199">(</span><span class="op" id="7920200">*</span><span class="ident" id="7920201">icmpEcho</span><span class="op" id="7920209">,</span>&nbsp;<span class="builtintype" id="7920211">error</span><span class="op" id="7920216">)</span>&nbsp;<span class="op" id="7920218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7920221">bodylen</span>&nbsp;<span class="op" id="7920229">:=</span>&nbsp;<span class="builtinfunc" id="7920232">len</span><span class="op" id="7920235">(</span><span class="ident" id="7920236">b</span><span class="op" id="7920237">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7920240">p</span>&nbsp;<span class="op" id="7920242">:=</span>&nbsp;<span class="op" id="7920245">&amp;</span><span class="ident" id="7920246">icmpEcho</span><span class="op" id="7920254">{</span><span class="ident" id="7920255">ID</span><span class="op" id="7920257">:</span>&nbsp;<span class="builtintype" id="7920259">int</span><span class="op" id="7920262">(</span><span class="ident" id="7920263">b</span><span class="op" id="7920264">[</span><span class="num" id="7920265">0</span><span class="op" id="7920266">]</span><span class="op" id="7920267">)</span><span class="op" id="7920268">&lt;&lt;</span><span class="num" id="7920270">8</span>&nbsp;<span class="op" id="7920272">|</span>&nbsp;<span class="builtintype" id="7920274">int</span><span class="op" id="7920277">(</span><span class="ident" id="7920278">b</span><span class="op" id="7920279">[</span><span class="num" id="7920280">1</span><span class="op" id="7920281">]</span><span class="op" id="7920282">)</span><span class="op" id="7920283">,</span>&nbsp;<span class="ident" id="7920285">Seq</span><span class="op" id="7920288">:</span>&nbsp;<span class="builtintype" id="7920290">int</span><span class="op" id="7920293">(</span><span class="ident" id="7920294">b</span><span class="op" id="7920295">[</span><span class="num" id="7920296">2</span><span class="op" id="7920297">]</span><span class="op" id="7920298">)</span><span class="op" id="7920299">&lt;&lt;</span><span class="num" id="7920301">8</span>&nbsp;<span class="op" id="7920303">|</span>&nbsp;<span class="builtintype" id="7920305">int</span><span class="op" id="7920308">(</span><span class="ident" id="7920309">b</span><span class="op" id="7920310">[</span><span class="num" id="7920311">3</span><span class="op" id="7920312">]</span><span class="op" id="7920313">)</span><span class="op" id="7920314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7920317">if</span>&nbsp;<span class="ident" id="7920320">bodylen</span>&nbsp;<span class="op" id="7920328">&gt;</span>&nbsp;<span class="num" id="7920330">4</span>&nbsp;<span class="op" id="7920332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7920336">p</span><span class="op" id="7920337">.</span><span class="ident" id="7920338">Data</span>&nbsp;<span class="op" id="7920343">=</span>&nbsp;<span class="builtinfunc" id="7920345">make</span><span class="op" id="7920349">(</span><span class="op" id="7920350">[</span><span class="op" id="7920351">]</span><span class="builtintype" id="7920352">byte</span><span class="op" id="7920356">,</span>&nbsp;<span class="ident" id="7920358">bodylen</span><span class="op" id="7920365">-</span><span class="num" id="7920366">4</span><span class="op" id="7920367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7920371">copy</span><span class="op" id="7920375">(</span><span class="ident" id="7920376">p</span><span class="op" id="7920377">.</span><span class="ident" id="7920378">Data</span><span class="op" id="7920382">,</span>&nbsp;<span class="ident" id="7920384">b</span><span class="op" id="7920385">[</span><span class="num" id="7920386">4</span><span class="op" id="7920387">:</span><span class="op" id="7920388">]</span><span class="op" id="7920389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7920392">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7920395">return</span>&nbsp;<span class="ident" id="7920402">p</span><span class="op" id="7920403">,</span>&nbsp;<span class="ident" id="7920405">nil</span><br>
<span class="lineno"></span><span class="op" id="7920409">}</span>
</div>
</body>
</html>
