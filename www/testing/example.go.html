<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5618375">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5618430">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5618484">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5618535">package</span>&nbsp;<span class="ident" id="5618543">testing</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5618552">import</span>&nbsp;<span class="op" id="5618559">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5618562">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5618571">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5618578">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5618584">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5618590">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5618601">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="5618608">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="5618611">type</span>&nbsp;<span class="ident" id="5618616">InternalExample</span>&nbsp;<span class="keyword" id="5618632">struct</span>&nbsp;<span class="op" id="5618639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618642">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5618649">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618657">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5618664">func</span><span class="op" id="5618668">(</span><span class="op" id="5618669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618672">Output</span>&nbsp;<span class="builtintype" id="5618679">string</span><br>
<span class="lineno">20</span><span class="op" id="5618686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5618689">func</span>&nbsp;<span class="ident" id="5618694">RunExamples</span><span class="op" id="5618705">(</span><span class="ident" id="5618706">matchString</span>&nbsp;<span class="keyword" id="5618718">func</span><span class="op" id="5618722">(</span><span class="ident" id="5618723">pat</span><span class="op" id="5618726">,</span>&nbsp;<span class="ident" id="5618728">str</span>&nbsp;<span class="builtintype" id="5618732">string</span><span class="op" id="5618738">)</span>&nbsp;<span class="op" id="5618740">(</span><span class="builtintype" id="5618741">bool</span><span class="op" id="5618745">,</span>&nbsp;<span class="builtintype" id="5618747">error</span><span class="op" id="5618752">)</span><span class="op" id="5618753">,</span>&nbsp;<span class="ident" id="5618755">examples</span>&nbsp;<span class="op" id="5618764">[</span><span class="op" id="5618765">]</span><span class="ident" id="5618766">InternalExample</span><span class="op" id="5618781">)</span>&nbsp;<span class="op" id="5618783">(</span><span class="ident" id="5618784">ok</span>&nbsp;<span class="builtintype" id="5618787">bool</span><span class="op" id="5618791">)</span>&nbsp;<span class="op" id="5618793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618796">ok</span>&nbsp;<span class="op" id="5618799">=</span>&nbsp;<span class="ident" id="5618801">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618808">var</span>&nbsp;<span class="ident" id="5618812">eg</span>&nbsp;<span class="ident" id="5618815">InternalExample</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618833">for</span>&nbsp;<span class="ident" id="5618837">_</span><span class="op" id="5618838">,</span>&nbsp;<span class="ident" id="5618840">eg</span>&nbsp;<span class="op" id="5618843">=</span>&nbsp;<span class="keyword" id="5618845">range</span>&nbsp;<span class="ident" id="5618851">examples</span>&nbsp;<span class="op" id="5618860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618864">matched</span><span class="op" id="5618871">,</span>&nbsp;<span class="ident" id="5618873">err</span>&nbsp;<span class="op" id="5618877">:=</span>&nbsp;<span class="ident" id="5618880">matchString</span><span class="op" id="5618891">(</span><span class="op" id="5618892">*</span><span class="ident" id="5618893">match</span><span class="op" id="5618898">,</span>&nbsp;<span class="ident" id="5618900">eg</span><span class="op" id="5618902">.</span><span class="ident" id="5618903">Name</span><span class="op" id="5618907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5618911">if</span>&nbsp;<span class="ident" id="5618914">err</span>&nbsp;<span class="op" id="5618918">!=</span>&nbsp;<span class="ident" id="5618921">nil</span>&nbsp;<span class="op" id="5618925">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5618930">fmt</span><span class="op" id="5618933">.</span><span class="ident" id="5618934">Fprintf</span><span class="op" id="5618941">(</span><span class="ident" id="5618942">os</span><span class="op" id="5618944">.</span><span class="ident" id="5618945">Stderr</span><span class="op" id="5618951">,</span>&nbsp;<span class="string" id="5618953">&#34;testing:&nbsp;invalid&nbsp;regexp&nbsp;for&nbsp;-test.run:&nbsp;%s\n&#34;</span><span class="op" id="5618998">,</span>&nbsp;<span class="ident" id="5619000">err</span><span class="op" id="5619003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619008">os</span><span class="op" id="5619010">.</span><span class="ident" id="5619011">Exit</span><span class="op" id="5619015">(</span><span class="num" id="5619016">1</span><span class="op" id="5619017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619025">if</span>&nbsp;<span class="op" id="5619028">!</span><span class="ident" id="5619029">matched</span>&nbsp;<span class="op" id="5619037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619042">continue</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619057">if</span>&nbsp;<span class="op" id="5619060">!</span><span class="ident" id="5619061">runExample</span><span class="op" id="5619071">(</span><span class="ident" id="5619072">eg</span><span class="op" id="5619074">)</span>&nbsp;<span class="op" id="5619076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619081">ok</span>&nbsp;<span class="op" id="5619084">=</span>&nbsp;<span class="ident" id="5619086">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619097">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619101">return</span><br>
<span class="lineno"></span><span class="op" id="5619108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5619111">func</span>&nbsp;<span class="ident" id="5619116">runExample</span><span class="op" id="5619126">(</span><span class="ident" id="5619127">eg</span>&nbsp;<span class="ident" id="5619130">InternalExample</span><span class="op" id="5619145">)</span>&nbsp;<span class="op" id="5619147">(</span><span class="ident" id="5619148">ok</span>&nbsp;<span class="builtintype" id="5619151">bool</span><span class="op" id="5619155">)</span>&nbsp;<span class="op" id="5619157">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619160">if</span>&nbsp;<span class="op" id="5619163">*</span><span class="ident" id="5619164">chatty</span>&nbsp;<span class="op" id="5619171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619175">fmt</span><span class="op" id="5619178">.</span><span class="ident" id="5619179">Printf</span><span class="op" id="5619185">(</span><span class="string" id="5619186">&#34;===&nbsp;RUN:&nbsp;%s\n&#34;</span><span class="op" id="5619201">,</span>&nbsp;<span class="ident" id="5619203">eg</span><span class="op" id="5619205">.</span><span class="ident" id="5619206">Name</span><span class="op" id="5619210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5619217">//&nbsp;Capture&nbsp;stdout.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619237">stdout</span>&nbsp;<span class="op" id="5619244">:=</span>&nbsp;<span class="ident" id="5619247">os</span><span class="op" id="5619249">.</span><span class="ident" id="5619250">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619258">r</span><span class="op" id="5619259">,</span>&nbsp;<span class="ident" id="5619261">w</span><span class="op" id="5619262">,</span>&nbsp;<span class="ident" id="5619264">err</span>&nbsp;<span class="op" id="5619268">:=</span>&nbsp;<span class="ident" id="5619271">os</span><span class="op" id="5619273">.</span><span class="ident" id="5619274">Pipe</span><span class="op" id="5619278">(</span><span class="op" id="5619279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619282">if</span>&nbsp;<span class="ident" id="5619285">err</span>&nbsp;<span class="op" id="5619289">!=</span>&nbsp;<span class="ident" id="5619292">nil</span>&nbsp;<span class="op" id="5619296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619300">fmt</span><span class="op" id="5619303">.</span><span class="ident" id="5619304">Fprintln</span><span class="op" id="5619312">(</span><span class="ident" id="5619313">os</span><span class="op" id="5619315">.</span><span class="ident" id="5619316">Stderr</span><span class="op" id="5619322">,</span>&nbsp;<span class="ident" id="5619324">err</span><span class="op" id="5619327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619331">os</span><span class="op" id="5619333">.</span><span class="ident" id="5619334">Exit</span><span class="op" id="5619338">(</span><span class="num" id="5619339">1</span><span class="op" id="5619340">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619346">os</span><span class="op" id="5619348">.</span><span class="ident" id="5619349">Stdout</span>&nbsp;<span class="op" id="5619356">=</span>&nbsp;<span class="ident" id="5619358">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619361">outC</span>&nbsp;<span class="op" id="5619366">:=</span>&nbsp;<span class="builtinfunc" id="5619369">make</span><span class="op" id="5619373">(</span><span class="keyword" id="5619374">chan</span>&nbsp;<span class="builtintype" id="5619379">string</span><span class="op" id="5619385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619388">go</span>&nbsp;<span class="keyword" id="5619391">func</span><span class="op" id="5619395">(</span><span class="op" id="5619396">)</span>&nbsp;<span class="op" id="5619398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619402">buf</span>&nbsp;<span class="op" id="5619406">:=</span>&nbsp;<span class="builtinfunc" id="5619409">new</span><span class="op" id="5619412">(</span><span class="ident" id="5619413">bytes</span><span class="op" id="5619418">.</span><span class="ident" id="5619419">Buffer</span><span class="op" id="5619425">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619429">_</span><span class="op" id="5619430">,</span>&nbsp;<span class="ident" id="5619432">err</span>&nbsp;<span class="op" id="5619436">:=</span>&nbsp;<span class="ident" id="5619439">io</span><span class="op" id="5619441">.</span><span class="ident" id="5619442">Copy</span><span class="op" id="5619446">(</span><span class="ident" id="5619447">buf</span><span class="op" id="5619450">,</span>&nbsp;<span class="ident" id="5619452">r</span><span class="op" id="5619453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619457">r</span><span class="op" id="5619458">.</span><span class="ident" id="5619459">Close</span><span class="op" id="5619464">(</span><span class="op" id="5619465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619469">if</span>&nbsp;<span class="ident" id="5619472">err</span>&nbsp;<span class="op" id="5619476">!=</span>&nbsp;<span class="ident" id="5619479">nil</span>&nbsp;<span class="op" id="5619483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619488">fmt</span><span class="op" id="5619491">.</span><span class="ident" id="5619492">Fprintf</span><span class="op" id="5619499">(</span><span class="ident" id="5619500">os</span><span class="op" id="5619502">.</span><span class="ident" id="5619503">Stderr</span><span class="op" id="5619509">,</span>&nbsp;<span class="string" id="5619511">&#34;testing:&nbsp;copying&nbsp;pipe:&nbsp;%v\n&#34;</span><span class="op" id="5619540">,</span>&nbsp;<span class="ident" id="5619542">err</span><span class="op" id="5619545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619550">os</span><span class="op" id="5619552">.</span><span class="ident" id="5619553">Exit</span><span class="op" id="5619557">(</span><span class="num" id="5619558">1</span><span class="op" id="5619559">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619567">outC</span>&nbsp;<span class="op" id="5619572">&lt;-</span>&nbsp;<span class="ident" id="5619575">buf</span><span class="op" id="5619578">.</span><span class="ident" id="5619579">String</span><span class="op" id="5619585">(</span><span class="op" id="5619586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5619589">}</span><span class="op" id="5619590">(</span><span class="op" id="5619591">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619595">start</span>&nbsp;<span class="op" id="5619601">:=</span>&nbsp;<span class="ident" id="5619604">time</span><span class="op" id="5619608">.</span><span class="ident" id="5619609">Now</span><span class="op" id="5619612">(</span><span class="op" id="5619613">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619616">ok</span>&nbsp;<span class="op" id="5619619">=</span>&nbsp;<span class="ident" id="5619621">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5619628">//&nbsp;Clean&nbsp;up&nbsp;in&nbsp;a&nbsp;deferred&nbsp;call&nbsp;so&nbsp;we&nbsp;can&nbsp;recover&nbsp;if&nbsp;the&nbsp;example&nbsp;panics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619701">defer</span>&nbsp;<span class="keyword" id="5619707">func</span><span class="op" id="5619711">(</span><span class="op" id="5619712">)</span>&nbsp;<span class="op" id="5619714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619718">dstr</span>&nbsp;<span class="op" id="5619723">:=</span>&nbsp;<span class="ident" id="5619726">fmtDuration</span><span class="op" id="5619737">(</span><span class="ident" id="5619738">time</span><span class="op" id="5619742">.</span><span class="ident" id="5619743">Now</span><span class="op" id="5619746">(</span><span class="op" id="5619747">)</span><span class="op" id="5619748">.</span><span class="ident" id="5619749">Sub</span><span class="op" id="5619752">(</span><span class="ident" id="5619753">start</span><span class="op" id="5619758">)</span><span class="op" id="5619759">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5619764">//&nbsp;Close&nbsp;pipe,&nbsp;restore&nbsp;stdout,&nbsp;get&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619809">w</span><span class="op" id="5619810">.</span><span class="ident" id="5619811">Close</span><span class="op" id="5619816">(</span><span class="op" id="5619817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619821">os</span><span class="op" id="5619823">.</span><span class="ident" id="5619824">Stdout</span>&nbsp;<span class="op" id="5619831">=</span>&nbsp;<span class="ident" id="5619833">stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619842">out</span>&nbsp;<span class="op" id="5619846">:=</span>&nbsp;<span class="op" id="5619849">&lt;-</span><span class="ident" id="5619851">outC</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619859">var</span>&nbsp;<span class="ident" id="5619863">fail</span>&nbsp;<span class="builtintype" id="5619868">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619877">err</span>&nbsp;<span class="op" id="5619881">:=</span>&nbsp;<span class="builtinfunc" id="5619884">recover</span><span class="op" id="5619891">(</span><span class="op" id="5619892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5619896">if</span>&nbsp;<span class="ident" id="5619899">g</span><span class="op" id="5619900">,</span>&nbsp;<span class="ident" id="5619902">e</span>&nbsp;<span class="op" id="5619904">:=</span>&nbsp;<span class="ident" id="5619907">strings</span><span class="op" id="5619914">.</span><span class="ident" id="5619915">TrimSpace</span><span class="op" id="5619924">(</span><span class="ident" id="5619925">out</span><span class="op" id="5619928">)</span><span class="op" id="5619929">,</span>&nbsp;<span class="ident" id="5619931">strings</span><span class="op" id="5619938">.</span><span class="ident" id="5619939">TrimSpace</span><span class="op" id="5619948">(</span><span class="ident" id="5619949">eg</span><span class="op" id="5619951">.</span><span class="ident" id="5619952">Output</span><span class="op" id="5619958">)</span><span class="op" id="5619959">;</span>&nbsp;<span class="ident" id="5619961">g</span>&nbsp;<span class="op" id="5619963">!=</span>&nbsp;<span class="ident" id="5619966">e</span>&nbsp;<span class="op" id="5619968">&amp;&amp;</span>&nbsp;<span class="ident" id="5619971">err</span>&nbsp;<span class="op" id="5619975">==</span>&nbsp;<span class="ident" id="5619978">nil</span>&nbsp;<span class="op" id="5619982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5619987">fail</span>&nbsp;<span class="op" id="5619992">=</span>&nbsp;<span class="ident" id="5619994">fmt</span><span class="op" id="5619997">.</span><span class="ident" id="5619998">Sprintf</span><span class="op" id="5620005">(</span><span class="string" id="5620006">&#34;got:\n%s\nwant:\n%s\n&#34;</span><span class="op" id="5620029">,</span>&nbsp;<span class="ident" id="5620031">g</span><span class="op" id="5620032">,</span>&nbsp;<span class="ident" id="5620034">e</span><span class="op" id="5620035">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620043">if</span>&nbsp;<span class="ident" id="5620046">fail</span>&nbsp;<span class="op" id="5620051">!=</span>&nbsp;<span class="string" id="5620054">&#34;&#34;</span>&nbsp;<span class="op" id="5620057">||</span>&nbsp;<span class="ident" id="5620060">err</span>&nbsp;<span class="op" id="5620064">!=</span>&nbsp;<span class="ident" id="5620067">nil</span>&nbsp;<span class="op" id="5620071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620076">fmt</span><span class="op" id="5620079">.</span><span class="ident" id="5620080">Printf</span><span class="op" id="5620086">(</span><span class="string" id="5620087">&#34;---&nbsp;FAIL:&nbsp;%s&nbsp;(%s)\n%s&#34;</span><span class="op" id="5620110">,</span>&nbsp;<span class="ident" id="5620112">eg</span><span class="op" id="5620114">.</span><span class="ident" id="5620115">Name</span><span class="op" id="5620119">,</span>&nbsp;<span class="ident" id="5620121">dstr</span><span class="op" id="5620125">,</span>&nbsp;<span class="ident" id="5620127">fail</span><span class="op" id="5620131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620136">ok</span>&nbsp;<span class="op" id="5620139">=</span>&nbsp;<span class="ident" id="5620141">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620149">}</span>&nbsp;<span class="keyword" id="5620151">else</span>&nbsp;<span class="keyword" id="5620156">if</span>&nbsp;<span class="op" id="5620159">*</span><span class="ident" id="5620160">chatty</span>&nbsp;<span class="op" id="5620167">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620172">fmt</span><span class="op" id="5620175">.</span><span class="ident" id="5620176">Printf</span><span class="op" id="5620182">(</span><span class="string" id="5620183">&#34;---&nbsp;PASS:&nbsp;%s&nbsp;(%s)\n&#34;</span><span class="op" id="5620204">,</span>&nbsp;<span class="ident" id="5620206">eg</span><span class="op" id="5620208">.</span><span class="ident" id="5620209">Name</span><span class="op" id="5620213">,</span>&nbsp;<span class="ident" id="5620215">dstr</span><span class="op" id="5620219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620227">if</span>&nbsp;<span class="ident" id="5620230">err</span>&nbsp;<span class="op" id="5620234">!=</span>&nbsp;<span class="ident" id="5620237">nil</span>&nbsp;<span class="op" id="5620241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5620246">panic</span><span class="op" id="5620251">(</span><span class="ident" id="5620252">err</span><span class="op" id="5620255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620259">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5620262">}</span><span class="op" id="5620263">(</span><span class="op" id="5620264">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5620268">//&nbsp;Run&nbsp;example.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5620285">eg</span><span class="op" id="5620287">.</span><span class="ident" id="5620288">F</span><span class="op" id="5620289">(</span><span class="op" id="5620290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5620293">return</span><br>
<span class="lineno">100</span><span class="op" id="5620300">}</span>
</div>
</body>
</html>
