<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html" class="current">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7821122">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7821178">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7821232">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7821283">package</span>&nbsp;<span class="ident" id="7821291">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7821299">import</span>&nbsp;<span class="op" id="7821306">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7821309">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7821320">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7821337">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7821347">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7821350">var</span>&nbsp;<span class="ident" id="7821354">runeMergeTests</span>&nbsp;<span class="op" id="7821369">=</span>&nbsp;<span class="op" id="7821371">[</span><span class="op" id="7821372">]</span><span class="keyword" id="7821373">struct</span>&nbsp;<span class="op" id="7821380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7821383">left</span><span class="op" id="7821387">,</span>&nbsp;<span class="ident" id="7821389">right</span><span class="op" id="7821394">,</span>&nbsp;<span class="ident" id="7821396">merged</span>&nbsp;<span class="op" id="7821403">[</span><span class="op" id="7821404">]</span><span class="builtintype" id="7821405">rune</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7821411">next</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821431">[</span><span class="op" id="7821432">]</span><span class="builtintype" id="7821433">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7821441">leftPC</span><span class="op" id="7821447">,</span>&nbsp;<span class="ident" id="7821449">rightPC</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7821461">uint32</span><br>
<span class="lineno"></span><span class="op" id="7821468">}</span><span class="op" id="7821469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7821476">//&nbsp;empty&nbsp;rhs</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821491">[</span><span class="op" id="7821492">]</span><span class="builtintype" id="7821493">rune</span><span class="op" id="7821497">{</span><span class="num" id="7821498">69</span><span class="op" id="7821500">,</span>&nbsp;<span class="num" id="7821502">69</span><span class="op" id="7821504">}</span><span class="op" id="7821505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821509">[</span><span class="op" id="7821510">]</span><span class="builtintype" id="7821511">rune</span><span class="op" id="7821515">{</span><span class="op" id="7821516">}</span><span class="op" id="7821517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821521">[</span><span class="op" id="7821522">]</span><span class="builtintype" id="7821523">rune</span><span class="op" id="7821527">{</span><span class="num" id="7821528">69</span><span class="op" id="7821530">,</span>&nbsp;<span class="num" id="7821532">69</span><span class="op" id="7821534">}</span><span class="op" id="7821535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821539">[</span><span class="op" id="7821540">]</span><span class="builtintype" id="7821541">uint32</span><span class="op" id="7821547">{</span><span class="num" id="7821548">1</span><span class="op" id="7821549">}</span><span class="op" id="7821550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7821554">1</span><span class="op" id="7821555">,</span>&nbsp;<span class="num" id="7821557">2</span><span class="op" id="7821558">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821561">}</span><span class="op" id="7821562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7821569">//&nbsp;identical&nbsp;runes,&nbsp;identical&nbsp;targets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821609">[</span><span class="op" id="7821610">]</span><span class="builtintype" id="7821611">rune</span><span class="op" id="7821615">{</span><span class="num" id="7821616">69</span><span class="op" id="7821618">,</span>&nbsp;<span class="num" id="7821620">69</span><span class="op" id="7821622">}</span><span class="op" id="7821623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821627">[</span><span class="op" id="7821628">]</span><span class="builtintype" id="7821629">rune</span><span class="op" id="7821633">{</span><span class="num" id="7821634">69</span><span class="op" id="7821636">,</span>&nbsp;<span class="num" id="7821638">69</span><span class="op" id="7821640">}</span><span class="op" id="7821641">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821645">[</span><span class="op" id="7821646">]</span><span class="builtintype" id="7821647">rune</span><span class="op" id="7821651">{</span><span class="op" id="7821652">}</span><span class="op" id="7821653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821657">[</span><span class="op" id="7821658">]</span><span class="builtintype" id="7821659">uint32</span><span class="op" id="7821665">{</span><span class="ident" id="7821666">mergeFailed</span><span class="op" id="7821677">}</span><span class="op" id="7821678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7821682">1</span><span class="op" id="7821683">,</span>&nbsp;<span class="num" id="7821685">1</span><span class="op" id="7821686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821689">}</span><span class="op" id="7821690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821693">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7821697">//&nbsp;identical&nbsp;runes,&nbsp;different&nbsp;targets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821737">[</span><span class="op" id="7821738">]</span><span class="builtintype" id="7821739">rune</span><span class="op" id="7821743">{</span><span class="num" id="7821744">69</span><span class="op" id="7821746">,</span>&nbsp;<span class="num" id="7821748">69</span><span class="op" id="7821750">}</span><span class="op" id="7821751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821755">[</span><span class="op" id="7821756">]</span><span class="builtintype" id="7821757">rune</span><span class="op" id="7821761">{</span><span class="num" id="7821762">69</span><span class="op" id="7821764">,</span>&nbsp;<span class="num" id="7821766">69</span><span class="op" id="7821768">}</span><span class="op" id="7821769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821773">[</span><span class="op" id="7821774">]</span><span class="builtintype" id="7821775">rune</span><span class="op" id="7821779">{</span><span class="op" id="7821780">}</span><span class="op" id="7821781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821785">[</span><span class="op" id="7821786">]</span><span class="builtintype" id="7821787">uint32</span><span class="op" id="7821793">{</span><span class="ident" id="7821794">mergeFailed</span><span class="op" id="7821805">}</span><span class="op" id="7821806">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7821810">1</span><span class="op" id="7821811">,</span>&nbsp;<span class="num" id="7821813">2</span><span class="op" id="7821814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821817">}</span><span class="op" id="7821818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7821825">//&nbsp;append&nbsp;right-first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821849">[</span><span class="op" id="7821850">]</span><span class="builtintype" id="7821851">rune</span><span class="op" id="7821855">{</span><span class="num" id="7821856">69</span><span class="op" id="7821858">,</span>&nbsp;<span class="num" id="7821860">69</span><span class="op" id="7821862">}</span><span class="op" id="7821863">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821867">[</span><span class="op" id="7821868">]</span><span class="builtintype" id="7821869">rune</span><span class="op" id="7821873">{</span><span class="num" id="7821874">71</span><span class="op" id="7821876">,</span>&nbsp;<span class="num" id="7821878">71</span><span class="op" id="7821880">}</span><span class="op" id="7821881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821885">[</span><span class="op" id="7821886">]</span><span class="builtintype" id="7821887">rune</span><span class="op" id="7821891">{</span><span class="num" id="7821892">69</span><span class="op" id="7821894">,</span>&nbsp;<span class="num" id="7821896">69</span><span class="op" id="7821898">,</span>&nbsp;<span class="num" id="7821900">71</span><span class="op" id="7821902">,</span>&nbsp;<span class="num" id="7821904">71</span><span class="op" id="7821906">}</span><span class="op" id="7821907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821911">[</span><span class="op" id="7821912">]</span><span class="builtintype" id="7821913">uint32</span><span class="op" id="7821919">{</span><span class="num" id="7821920">1</span><span class="op" id="7821921">,</span>&nbsp;<span class="num" id="7821923">2</span><span class="op" id="7821924">}</span><span class="op" id="7821925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7821929">1</span><span class="op" id="7821930">,</span>&nbsp;<span class="num" id="7821932">2</span><span class="op" id="7821933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821936">}</span><span class="op" id="7821937">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7821944">//&nbsp;append,&nbsp;left-first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821968">[</span><span class="op" id="7821969">]</span><span class="builtintype" id="7821970">rune</span><span class="op" id="7821974">{</span><span class="num" id="7821975">71</span><span class="op" id="7821977">,</span>&nbsp;<span class="num" id="7821979">71</span><span class="op" id="7821981">}</span><span class="op" id="7821982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7821986">[</span><span class="op" id="7821987">]</span><span class="builtintype" id="7821988">rune</span><span class="op" id="7821992">{</span><span class="num" id="7821993">69</span><span class="op" id="7821995">,</span>&nbsp;<span class="num" id="7821997">69</span><span class="op" id="7821999">}</span><span class="op" id="7822000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822004">[</span><span class="op" id="7822005">]</span><span class="builtintype" id="7822006">rune</span><span class="op" id="7822010">{</span><span class="num" id="7822011">69</span><span class="op" id="7822013">,</span>&nbsp;<span class="num" id="7822015">69</span><span class="op" id="7822017">,</span>&nbsp;<span class="num" id="7822019">71</span><span class="op" id="7822021">,</span>&nbsp;<span class="num" id="7822023">71</span><span class="op" id="7822025">}</span><span class="op" id="7822026">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822030">[</span><span class="op" id="7822031">]</span><span class="builtintype" id="7822032">uint32</span><span class="op" id="7822038">{</span><span class="num" id="7822039">2</span><span class="op" id="7822040">,</span>&nbsp;<span class="num" id="7822042">1</span><span class="op" id="7822043">}</span><span class="op" id="7822044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7822048">1</span><span class="op" id="7822049">,</span>&nbsp;<span class="num" id="7822051">2</span><span class="op" id="7822052">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822055">}</span><span class="op" id="7822056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7822063">//&nbsp;successful&nbsp;interleave</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822090">[</span><span class="op" id="7822091">]</span><span class="builtintype" id="7822092">rune</span><span class="op" id="7822096">{</span><span class="num" id="7822097">60</span><span class="op" id="7822099">,</span>&nbsp;<span class="num" id="7822101">60</span><span class="op" id="7822103">,</span>&nbsp;<span class="num" id="7822105">71</span><span class="op" id="7822107">,</span>&nbsp;<span class="num" id="7822109">71</span><span class="op" id="7822111">,</span>&nbsp;<span class="num" id="7822113">101</span><span class="op" id="7822116">,</span>&nbsp;<span class="num" id="7822118">101</span><span class="op" id="7822121">}</span><span class="op" id="7822122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822126">[</span><span class="op" id="7822127">]</span><span class="builtintype" id="7822128">rune</span><span class="op" id="7822132">{</span><span class="num" id="7822133">69</span><span class="op" id="7822135">,</span>&nbsp;<span class="num" id="7822137">69</span><span class="op" id="7822139">,</span>&nbsp;<span class="num" id="7822141">88</span><span class="op" id="7822143">,</span>&nbsp;<span class="num" id="7822145">88</span><span class="op" id="7822147">}</span><span class="op" id="7822148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822152">[</span><span class="op" id="7822153">]</span><span class="builtintype" id="7822154">rune</span><span class="op" id="7822158">{</span><span class="num" id="7822159">60</span><span class="op" id="7822161">,</span>&nbsp;<span class="num" id="7822163">60</span><span class="op" id="7822165">,</span>&nbsp;<span class="num" id="7822167">69</span><span class="op" id="7822169">,</span>&nbsp;<span class="num" id="7822171">69</span><span class="op" id="7822173">,</span>&nbsp;<span class="num" id="7822175">71</span><span class="op" id="7822177">,</span>&nbsp;<span class="num" id="7822179">71</span><span class="op" id="7822181">,</span>&nbsp;<span class="num" id="7822183">88</span><span class="op" id="7822185">,</span>&nbsp;<span class="num" id="7822187">88</span><span class="op" id="7822189">,</span>&nbsp;<span class="num" id="7822191">101</span><span class="op" id="7822194">,</span>&nbsp;<span class="num" id="7822196">101</span><span class="op" id="7822199">}</span><span class="op" id="7822200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822204">[</span><span class="op" id="7822205">]</span><span class="builtintype" id="7822206">uint32</span><span class="op" id="7822212">{</span><span class="num" id="7822213">1</span><span class="op" id="7822214">,</span>&nbsp;<span class="num" id="7822216">2</span><span class="op" id="7822217">,</span>&nbsp;<span class="num" id="7822219">1</span><span class="op" id="7822220">,</span>&nbsp;<span class="num" id="7822222">2</span><span class="op" id="7822223">,</span>&nbsp;<span class="num" id="7822225">1</span><span class="op" id="7822226">}</span><span class="op" id="7822227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7822231">1</span><span class="op" id="7822232">,</span>&nbsp;<span class="num" id="7822234">2</span><span class="op" id="7822235">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822238">}</span><span class="op" id="7822239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7822246">//&nbsp;left&nbsp;surrounds&nbsp;right</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822272">[</span><span class="op" id="7822273">]</span><span class="builtintype" id="7822274">rune</span><span class="op" id="7822278">{</span><span class="num" id="7822279">69</span><span class="op" id="7822281">,</span>&nbsp;<span class="num" id="7822283">74</span><span class="op" id="7822285">}</span><span class="op" id="7822286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822290">[</span><span class="op" id="7822291">]</span><span class="builtintype" id="7822292">rune</span><span class="op" id="7822296">{</span><span class="num" id="7822297">71</span><span class="op" id="7822299">,</span>&nbsp;<span class="num" id="7822301">71</span><span class="op" id="7822303">}</span><span class="op" id="7822304">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822308">[</span><span class="op" id="7822309">]</span><span class="builtintype" id="7822310">rune</span><span class="op" id="7822314">{</span><span class="op" id="7822315">}</span><span class="op" id="7822316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822320">[</span><span class="op" id="7822321">]</span><span class="builtintype" id="7822322">uint32</span><span class="op" id="7822328">{</span><span class="ident" id="7822329">mergeFailed</span><span class="op" id="7822340">}</span><span class="op" id="7822341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7822345">1</span><span class="op" id="7822346">,</span>&nbsp;<span class="num" id="7822348">2</span><span class="op" id="7822349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822352">}</span><span class="op" id="7822353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822356">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7822360">//&nbsp;right&nbsp;surrounds&nbsp;left</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822386">[</span><span class="op" id="7822387">]</span><span class="builtintype" id="7822388">rune</span><span class="op" id="7822392">{</span><span class="num" id="7822393">69</span><span class="op" id="7822395">,</span>&nbsp;<span class="num" id="7822397">74</span><span class="op" id="7822399">}</span><span class="op" id="7822400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822404">[</span><span class="op" id="7822405">]</span><span class="builtintype" id="7822406">rune</span><span class="op" id="7822410">{</span><span class="num" id="7822411">68</span><span class="op" id="7822413">,</span>&nbsp;<span class="num" id="7822415">75</span><span class="op" id="7822417">}</span><span class="op" id="7822418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822422">[</span><span class="op" id="7822423">]</span><span class="builtintype" id="7822424">rune</span><span class="op" id="7822428">{</span><span class="op" id="7822429">}</span><span class="op" id="7822430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822434">[</span><span class="op" id="7822435">]</span><span class="builtintype" id="7822436">uint32</span><span class="op" id="7822442">{</span><span class="ident" id="7822443">mergeFailed</span><span class="op" id="7822454">}</span><span class="op" id="7822455">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7822459">1</span><span class="op" id="7822460">,</span>&nbsp;<span class="num" id="7822462">2</span><span class="op" id="7822463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822466">}</span><span class="op" id="7822467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7822474">//&nbsp;overlap&nbsp;at&nbsp;interval&nbsp;begin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822505">[</span><span class="op" id="7822506">]</span><span class="builtintype" id="7822507">rune</span><span class="op" id="7822511">{</span><span class="num" id="7822512">69</span><span class="op" id="7822514">,</span>&nbsp;<span class="num" id="7822516">74</span><span class="op" id="7822518">}</span><span class="op" id="7822519">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822523">[</span><span class="op" id="7822524">]</span><span class="builtintype" id="7822525">rune</span><span class="op" id="7822529">{</span><span class="num" id="7822530">74</span><span class="op" id="7822532">,</span>&nbsp;<span class="num" id="7822534">75</span><span class="op" id="7822536">}</span><span class="op" id="7822537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822541">[</span><span class="op" id="7822542">]</span><span class="builtintype" id="7822543">rune</span><span class="op" id="7822547">{</span><span class="op" id="7822548">}</span><span class="op" id="7822549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822553">[</span><span class="op" id="7822554">]</span><span class="builtintype" id="7822555">uint32</span><span class="op" id="7822561">{</span><span class="ident" id="7822562">mergeFailed</span><span class="op" id="7822573">}</span><span class="op" id="7822574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7822578">1</span><span class="op" id="7822579">,</span>&nbsp;<span class="num" id="7822581">2</span><span class="op" id="7822582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822585">}</span><span class="op" id="7822586">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7822593">//&nbsp;overlap&nbsp;ar&nbsp;interval&nbsp;end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822622">[</span><span class="op" id="7822623">]</span><span class="builtintype" id="7822624">rune</span><span class="op" id="7822628">{</span><span class="num" id="7822629">69</span><span class="op" id="7822631">,</span>&nbsp;<span class="num" id="7822633">74</span><span class="op" id="7822635">}</span><span class="op" id="7822636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822640">[</span><span class="op" id="7822641">]</span><span class="builtintype" id="7822642">rune</span><span class="op" id="7822646">{</span><span class="num" id="7822647">65</span><span class="op" id="7822649">,</span>&nbsp;<span class="num" id="7822651">69</span><span class="op" id="7822653">}</span><span class="op" id="7822654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822658">[</span><span class="op" id="7822659">]</span><span class="builtintype" id="7822660">rune</span><span class="op" id="7822664">{</span><span class="op" id="7822665">}</span><span class="op" id="7822666">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822670">[</span><span class="op" id="7822671">]</span><span class="builtintype" id="7822672">uint32</span><span class="op" id="7822678">{</span><span class="ident" id="7822679">mergeFailed</span><span class="op" id="7822690">}</span><span class="op" id="7822691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7822695">1</span><span class="op" id="7822696">,</span>&nbsp;<span class="num" id="7822698">2</span><span class="op" id="7822699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822702">}</span><span class="op" id="7822703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7822710">//&nbsp;overlap&nbsp;from&nbsp;above</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822734">[</span><span class="op" id="7822735">]</span><span class="builtintype" id="7822736">rune</span><span class="op" id="7822740">{</span><span class="num" id="7822741">69</span><span class="op" id="7822743">,</span>&nbsp;<span class="num" id="7822745">74</span><span class="op" id="7822747">}</span><span class="op" id="7822748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822752">[</span><span class="op" id="7822753">]</span><span class="builtintype" id="7822754">rune</span><span class="op" id="7822758">{</span><span class="num" id="7822759">71</span><span class="op" id="7822761">,</span>&nbsp;<span class="num" id="7822763">74</span><span class="op" id="7822765">}</span><span class="op" id="7822766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822770">[</span><span class="op" id="7822771">]</span><span class="builtintype" id="7822772">rune</span><span class="op" id="7822776">{</span><span class="op" id="7822777">}</span><span class="op" id="7822778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822782">[</span><span class="op" id="7822783">]</span><span class="builtintype" id="7822784">uint32</span><span class="op" id="7822790">{</span><span class="ident" id="7822791">mergeFailed</span><span class="op" id="7822802">}</span><span class="op" id="7822803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7822807">1</span><span class="op" id="7822808">,</span>&nbsp;<span class="num" id="7822810">2</span><span class="op" id="7822811">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822814">}</span><span class="op" id="7822815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7822822">//&nbsp;overlap&nbsp;from&nbsp;below</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822846">[</span><span class="op" id="7822847">]</span><span class="builtintype" id="7822848">rune</span><span class="op" id="7822852">{</span><span class="num" id="7822853">69</span><span class="op" id="7822855">,</span>&nbsp;<span class="num" id="7822857">74</span><span class="op" id="7822859">}</span><span class="op" id="7822860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822864">[</span><span class="op" id="7822865">]</span><span class="builtintype" id="7822866">rune</span><span class="op" id="7822870">{</span><span class="num" id="7822871">65</span><span class="op" id="7822873">,</span>&nbsp;<span class="num" id="7822875">71</span><span class="op" id="7822877">}</span><span class="op" id="7822878">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822882">[</span><span class="op" id="7822883">]</span><span class="builtintype" id="7822884">rune</span><span class="op" id="7822888">{</span><span class="op" id="7822889">}</span><span class="op" id="7822890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822894">[</span><span class="op" id="7822895">]</span><span class="builtintype" id="7822896">uint32</span><span class="op" id="7822902">{</span><span class="ident" id="7822903">mergeFailed</span><span class="op" id="7822914">}</span><span class="op" id="7822915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7822919">1</span><span class="op" id="7822920">,</span>&nbsp;<span class="num" id="7822922">2</span><span class="op" id="7822923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822926">}</span><span class="op" id="7822927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822930">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7822934">//&nbsp;out&nbsp;of&nbsp;order&nbsp;[]rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822959">[</span><span class="op" id="7822960">]</span><span class="builtintype" id="7822961">rune</span><span class="op" id="7822965">{</span><span class="num" id="7822966">69</span><span class="op" id="7822968">,</span>&nbsp;<span class="num" id="7822970">74</span><span class="op" id="7822972">,</span>&nbsp;<span class="num" id="7822974">60</span><span class="op" id="7822976">,</span>&nbsp;<span class="num" id="7822978">65</span><span class="op" id="7822980">}</span><span class="op" id="7822981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7822985">[</span><span class="op" id="7822986">]</span><span class="builtintype" id="7822987">rune</span><span class="op" id="7822991">{</span><span class="num" id="7822992">66</span><span class="op" id="7822994">,</span>&nbsp;<span class="num" id="7822996">67</span><span class="op" id="7822998">}</span><span class="op" id="7822999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823003">[</span><span class="op" id="7823004">]</span><span class="builtintype" id="7823005">rune</span><span class="op" id="7823009">{</span><span class="op" id="7823010">}</span><span class="op" id="7823011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823015">[</span><span class="op" id="7823016">]</span><span class="builtintype" id="7823017">uint32</span><span class="op" id="7823023">{</span><span class="ident" id="7823024">mergeFailed</span><span class="op" id="7823035">}</span><span class="op" id="7823036">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7823040">1</span><span class="op" id="7823041">,</span>&nbsp;<span class="num" id="7823043">2</span><span class="op" id="7823044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823047">}</span><span class="op" id="7823048">,</span><br>
<span class="lineno"></span><span class="op" id="7823050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7823053">func</span>&nbsp;<span class="ident" id="7823058">TestMergeRuneSet</span><span class="op" id="7823074">(</span><span class="ident" id="7823075">t</span>&nbsp;<span class="op" id="7823077">*</span><span class="ident" id="7823078">testing</span><span class="op" id="7823085">.</span><span class="ident" id="7823086">T</span><span class="op" id="7823087">)</span>&nbsp;<span class="op" id="7823089">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7823092">for</span>&nbsp;<span class="ident" id="7823096">ix</span><span class="op" id="7823098">,</span>&nbsp;<span class="ident" id="7823100">test</span>&nbsp;<span class="op" id="7823105">:=</span>&nbsp;<span class="keyword" id="7823108">range</span>&nbsp;<span class="ident" id="7823114">runeMergeTests</span>&nbsp;<span class="op" id="7823129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7823133">merged</span><span class="op" id="7823139">,</span>&nbsp;<span class="ident" id="7823141">next</span>&nbsp;<span class="op" id="7823146">:=</span>&nbsp;<span class="ident" id="7823149">mergeRuneSets</span><span class="op" id="7823162">(</span><span class="op" id="7823163">&amp;</span><span class="ident" id="7823164">test</span><span class="op" id="7823168">.</span><span class="ident" id="7823169">left</span><span class="op" id="7823173">,</span>&nbsp;<span class="op" id="7823175">&amp;</span><span class="ident" id="7823176">test</span><span class="op" id="7823180">.</span><span class="ident" id="7823181">right</span><span class="op" id="7823186">,</span>&nbsp;<span class="ident" id="7823188">test</span><span class="op" id="7823192">.</span><span class="ident" id="7823193">leftPC</span><span class="op" id="7823199">,</span>&nbsp;<span class="ident" id="7823201">test</span><span class="op" id="7823205">.</span><span class="ident" id="7823206">rightPC</span><span class="op" id="7823213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7823217">if</span>&nbsp;<span class="op" id="7823220">!</span><span class="ident" id="7823221">reflect</span><span class="op" id="7823228">.</span><span class="ident" id="7823229">DeepEqual</span><span class="op" id="7823238">(</span><span class="ident" id="7823239">merged</span><span class="op" id="7823245">,</span>&nbsp;<span class="ident" id="7823247">test</span><span class="op" id="7823251">.</span><span class="ident" id="7823252">merged</span><span class="op" id="7823258">)</span>&nbsp;<span class="op" id="7823260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7823265">t</span><span class="op" id="7823266">.</span><span class="ident" id="7823267">Errorf</span><span class="op" id="7823273">(</span><span class="string" id="7823274">&#34;mergeRuneSet&nbsp;:%d&nbsp;(%v,&nbsp;%v)&nbsp;merged\n&nbsp;have\n%v\nwant\n%v&#34;</span><span class="op" id="7823329">,</span>&nbsp;<span class="ident" id="7823331">ix</span><span class="op" id="7823333">,</span>&nbsp;<span class="ident" id="7823335">test</span><span class="op" id="7823339">.</span><span class="ident" id="7823340">left</span><span class="op" id="7823344">,</span>&nbsp;<span class="ident" id="7823346">test</span><span class="op" id="7823350">.</span><span class="ident" id="7823351">right</span><span class="op" id="7823356">,</span>&nbsp;<span class="ident" id="7823358">merged</span><span class="op" id="7823364">,</span>&nbsp;<span class="ident" id="7823366">test</span><span class="op" id="7823370">.</span><span class="ident" id="7823371">merged</span><span class="op" id="7823377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823381">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7823385">if</span>&nbsp;<span class="op" id="7823388">!</span><span class="ident" id="7823389">reflect</span><span class="op" id="7823396">.</span><span class="ident" id="7823397">DeepEqual</span><span class="op" id="7823406">(</span><span class="ident" id="7823407">next</span><span class="op" id="7823411">,</span>&nbsp;<span class="ident" id="7823413">test</span><span class="op" id="7823417">.</span><span class="ident" id="7823418">next</span><span class="op" id="7823422">)</span>&nbsp;<span class="op" id="7823424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7823429">t</span><span class="op" id="7823430">.</span><span class="ident" id="7823431">Errorf</span><span class="op" id="7823437">(</span><span class="string" id="7823438">&#34;mergeRuneSet&nbsp;:%d(%v,&nbsp;%v)&nbsp;next\n&nbsp;have\n%v\nwant\n%v&#34;</span><span class="op" id="7823490">,</span>&nbsp;<span class="ident" id="7823492">ix</span><span class="op" id="7823494">,</span>&nbsp;<span class="ident" id="7823496">test</span><span class="op" id="7823500">.</span><span class="ident" id="7823501">left</span><span class="op" id="7823505">,</span>&nbsp;<span class="ident" id="7823507">test</span><span class="op" id="7823511">.</span><span class="ident" id="7823512">right</span><span class="op" id="7823517">,</span>&nbsp;<span class="ident" id="7823519">next</span><span class="op" id="7823523">,</span>&nbsp;<span class="ident" id="7823525">test</span><span class="op" id="7823529">.</span><span class="ident" id="7823530">next</span><span class="op" id="7823534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823541">}</span><br>
<span class="lineno"></span><span class="op" id="7823543">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7823546">const</span>&nbsp;<span class="ident" id="7823552">noStr</span>&nbsp;<span class="op" id="7823558">=</span>&nbsp;<span class="string" id="7823560">`!`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7823565">var</span>&nbsp;<span class="ident" id="7823569">onePass</span>&nbsp;<span class="op" id="7823577">=</span>&nbsp;<span class="op" id="7823579">&amp;</span><span class="ident" id="7823580">onePassProg</span><span class="op" id="7823591">{</span><span class="op" id="7823592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7823595">var</span>&nbsp;<span class="ident" id="7823599">onePassTests</span>&nbsp;<span class="op" id="7823612">=</span>&nbsp;<span class="op" id="7823614">[</span><span class="op" id="7823615">]</span><span class="keyword" id="7823616">struct</span>&nbsp;<span class="op" id="7823623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7823626">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7823634">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7823642">onePass</span>&nbsp;<span class="op" id="7823650">*</span><span class="ident" id="7823651">onePassProg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7823664">prog</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7823672">string</span><br>
<span class="lineno"></span><span class="op" id="7823679">}</span><span class="op" id="7823680">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823683">{</span><span class="string" id="7823684">`^(?:a|(?:a*))$`</span><span class="op" id="7823700">,</span>&nbsp;<span class="ident" id="7823702">notOnePass</span><span class="op" id="7823712">,</span>&nbsp;<span class="ident" id="7823714">noStr</span><span class="op" id="7823719">}</span><span class="op" id="7823720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823723">{</span><span class="string" id="7823724">`^(?:(a)|(?:a*))$`</span><span class="op" id="7823742">,</span>&nbsp;<span class="ident" id="7823744">notOnePass</span><span class="op" id="7823754">,</span>&nbsp;<span class="ident" id="7823756">noStr</span><span class="op" id="7823761">}</span><span class="op" id="7823762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823765">{</span><span class="string" id="7823766">`^(?:(?:(?:.(?:$))?))$`</span><span class="op" id="7823789">,</span>&nbsp;<span class="ident" id="7823791">onePass</span><span class="op" id="7823798">,</span>&nbsp;<span class="string" id="7823800">`a`</span><span class="op" id="7823803">}</span><span class="op" id="7823804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823807">{</span><span class="string" id="7823808">`^abcd$`</span><span class="op" id="7823816">,</span>&nbsp;<span class="ident" id="7823818">onePass</span><span class="op" id="7823825">,</span>&nbsp;<span class="string" id="7823827">`abcd`</span><span class="op" id="7823833">}</span><span class="op" id="7823834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823837">{</span><span class="string" id="7823838">`^abcd$`</span><span class="op" id="7823846">,</span>&nbsp;<span class="ident" id="7823848">onePass</span><span class="op" id="7823855">,</span>&nbsp;<span class="string" id="7823857">`abcde`</span><span class="op" id="7823864">}</span><span class="op" id="7823865">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823868">{</span><span class="string" id="7823869">`^(?:(?:a{0,})*?)$`</span><span class="op" id="7823888">,</span>&nbsp;<span class="ident" id="7823890">onePass</span><span class="op" id="7823897">,</span>&nbsp;<span class="string" id="7823899">`a`</span><span class="op" id="7823902">}</span><span class="op" id="7823903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823906">{</span><span class="string" id="7823907">`^(?:(?:a+)*)$`</span><span class="op" id="7823922">,</span>&nbsp;<span class="ident" id="7823924">onePass</span><span class="op" id="7823931">,</span>&nbsp;<span class="string" id="7823933">``</span><span class="op" id="7823935">}</span><span class="op" id="7823936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823939">{</span><span class="string" id="7823940">`^(?:(?:a|(?:aa)))$`</span><span class="op" id="7823960">,</span>&nbsp;<span class="ident" id="7823962">onePass</span><span class="op" id="7823969">,</span>&nbsp;<span class="string" id="7823971">``</span><span class="op" id="7823973">}</span><span class="op" id="7823974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7823977">{</span><span class="string" id="7823978">`^(?:[^\s\S])$`</span><span class="op" id="7823993">,</span>&nbsp;<span class="ident" id="7823995">onePass</span><span class="op" id="7824002">,</span>&nbsp;<span class="string" id="7824004">``</span><span class="op" id="7824006">}</span><span class="op" id="7824007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824010">{</span><span class="string" id="7824011">`^(?:(?:a{3,4}){0,})$`</span><span class="op" id="7824033">,</span>&nbsp;<span class="ident" id="7824035">notOnePass</span><span class="op" id="7824045">,</span>&nbsp;<span class="string" id="7824047">`aaaaaa`</span><span class="op" id="7824055">}</span><span class="op" id="7824056">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824059">{</span><span class="string" id="7824060">`^(?:(?:a+)*)$`</span><span class="op" id="7824075">,</span>&nbsp;<span class="ident" id="7824077">onePass</span><span class="op" id="7824084">,</span>&nbsp;<span class="string" id="7824086">`a`</span><span class="op" id="7824089">}</span><span class="op" id="7824090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824093">{</span><span class="string" id="7824094">`^(?:(?:(?:a*)+))$`</span><span class="op" id="7824113">,</span>&nbsp;<span class="ident" id="7824115">onePass</span><span class="op" id="7824122">,</span>&nbsp;<span class="ident" id="7824124">noStr</span><span class="op" id="7824129">}</span><span class="op" id="7824130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824133">{</span><span class="string" id="7824134">`^(?:(?:a+)*)$`</span><span class="op" id="7824149">,</span>&nbsp;<span class="ident" id="7824151">onePass</span><span class="op" id="7824158">,</span>&nbsp;<span class="string" id="7824160">``</span><span class="op" id="7824162">}</span><span class="op" id="7824163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824166">{</span><span class="string" id="7824167">`^[a-c]+$`</span><span class="op" id="7824177">,</span>&nbsp;<span class="ident" id="7824179">onePass</span><span class="op" id="7824186">,</span>&nbsp;<span class="string" id="7824188">`abc`</span><span class="op" id="7824193">}</span><span class="op" id="7824194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824197">{</span><span class="string" id="7824198">`^[a-c]*$`</span><span class="op" id="7824208">,</span>&nbsp;<span class="ident" id="7824210">onePass</span><span class="op" id="7824217">,</span>&nbsp;<span class="string" id="7824219">`abcdabc`</span><span class="op" id="7824228">}</span><span class="op" id="7824229">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824232">{</span><span class="string" id="7824233">`^(?:a*)$`</span><span class="op" id="7824243">,</span>&nbsp;<span class="ident" id="7824245">onePass</span><span class="op" id="7824252">,</span>&nbsp;<span class="string" id="7824254">`aaaaaaa`</span><span class="op" id="7824263">}</span><span class="op" id="7824264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824267">{</span><span class="string" id="7824268">`^(?:(?:aa)|a)$`</span><span class="op" id="7824284">,</span>&nbsp;<span class="ident" id="7824286">onePass</span><span class="op" id="7824293">,</span>&nbsp;<span class="string" id="7824295">`a`</span><span class="op" id="7824298">}</span><span class="op" id="7824299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824302">{</span><span class="string" id="7824303">`^[a-c]*`</span><span class="op" id="7824312">,</span>&nbsp;<span class="ident" id="7824314">notOnePass</span><span class="op" id="7824324">,</span>&nbsp;<span class="string" id="7824326">`abcdabc`</span><span class="op" id="7824335">}</span><span class="op" id="7824336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824339">{</span><span class="string" id="7824340">`^[a-c]*$`</span><span class="op" id="7824350">,</span>&nbsp;<span class="ident" id="7824352">onePass</span><span class="op" id="7824359">,</span>&nbsp;<span class="string" id="7824361">`abc`</span><span class="op" id="7824366">}</span><span class="op" id="7824367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824370">{</span><span class="string" id="7824371">`^...$`</span><span class="op" id="7824378">,</span>&nbsp;<span class="ident" id="7824380">onePass</span><span class="op" id="7824387">,</span>&nbsp;<span class="string" id="7824389">``</span><span class="op" id="7824391">}</span><span class="op" id="7824392">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824395">{</span><span class="string" id="7824396">`^(?:a|(?:aa))$`</span><span class="op" id="7824412">,</span>&nbsp;<span class="ident" id="7824414">onePass</span><span class="op" id="7824421">,</span>&nbsp;<span class="string" id="7824423">`a`</span><span class="op" id="7824426">}</span><span class="op" id="7824427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824430">{</span><span class="string" id="7824431">`^[a-c]*`</span><span class="op" id="7824440">,</span>&nbsp;<span class="ident" id="7824442">notOnePass</span><span class="op" id="7824452">,</span>&nbsp;<span class="string" id="7824454">`abcabc`</span><span class="op" id="7824462">}</span><span class="op" id="7824463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824466">{</span><span class="string" id="7824467">`^a((b))c$`</span><span class="op" id="7824478">,</span>&nbsp;<span class="ident" id="7824480">onePass</span><span class="op" id="7824487">,</span>&nbsp;<span class="ident" id="7824489">noStr</span><span class="op" id="7824494">}</span><span class="op" id="7824495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824498">{</span><span class="string" id="7824499">`^a.[l-nA-Cg-j]?e$`</span><span class="op" id="7824518">,</span>&nbsp;<span class="ident" id="7824520">onePass</span><span class="op" id="7824527">,</span>&nbsp;<span class="ident" id="7824529">noStr</span><span class="op" id="7824534">}</span><span class="op" id="7824535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824538">{</span><span class="string" id="7824539">`^a((b))$`</span><span class="op" id="7824549">,</span>&nbsp;<span class="ident" id="7824551">onePass</span><span class="op" id="7824558">,</span>&nbsp;<span class="ident" id="7824560">noStr</span><span class="op" id="7824565">}</span><span class="op" id="7824566">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824569">{</span><span class="string" id="7824570">`^a(?:(b)|(c))c$`</span><span class="op" id="7824587">,</span>&nbsp;<span class="ident" id="7824589">onePass</span><span class="op" id="7824596">,</span>&nbsp;<span class="ident" id="7824598">noStr</span><span class="op" id="7824603">}</span><span class="op" id="7824604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824607">{</span><span class="string" id="7824608">`^a(?:(b*)|(c))c$`</span><span class="op" id="7824626">,</span>&nbsp;<span class="ident" id="7824628">notOnePass</span><span class="op" id="7824638">,</span>&nbsp;<span class="ident" id="7824640">noStr</span><span class="op" id="7824645">}</span><span class="op" id="7824646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824649">{</span><span class="string" id="7824650">`^a(?:b|c)$`</span><span class="op" id="7824662">,</span>&nbsp;<span class="ident" id="7824664">onePass</span><span class="op" id="7824671">,</span>&nbsp;<span class="ident" id="7824673">noStr</span><span class="op" id="7824678">}</span><span class="op" id="7824679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824682">{</span><span class="string" id="7824683">`^a(?:b?|c)$`</span><span class="op" id="7824696">,</span>&nbsp;<span class="ident" id="7824698">onePass</span><span class="op" id="7824705">,</span>&nbsp;<span class="ident" id="7824707">noStr</span><span class="op" id="7824712">}</span><span class="op" id="7824713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824716">{</span><span class="string" id="7824717">`^a(?:b?|c?)$`</span><span class="op" id="7824731">,</span>&nbsp;<span class="ident" id="7824733">notOnePass</span><span class="op" id="7824743">,</span>&nbsp;<span class="ident" id="7824745">noStr</span><span class="op" id="7824750">}</span><span class="op" id="7824751">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824754">{</span><span class="string" id="7824755">`^a(?:b?|c+)$`</span><span class="op" id="7824769">,</span>&nbsp;<span class="ident" id="7824771">onePass</span><span class="op" id="7824778">,</span>&nbsp;<span class="ident" id="7824780">noStr</span><span class="op" id="7824785">}</span><span class="op" id="7824786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824789">{</span><span class="string" id="7824790">`^a(?:b+|(bc))d$`</span><span class="op" id="7824807">,</span>&nbsp;<span class="ident" id="7824809">notOnePass</span><span class="op" id="7824819">,</span>&nbsp;<span class="ident" id="7824821">noStr</span><span class="op" id="7824826">}</span><span class="op" id="7824827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824830">{</span><span class="string" id="7824831">`^a(?:bc)+$`</span><span class="op" id="7824843">,</span>&nbsp;<span class="ident" id="7824845">onePass</span><span class="op" id="7824852">,</span>&nbsp;<span class="ident" id="7824854">noStr</span><span class="op" id="7824859">}</span><span class="op" id="7824860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824863">{</span><span class="string" id="7824864">`^a(?:[bcd])+$`</span><span class="op" id="7824879">,</span>&nbsp;<span class="ident" id="7824881">onePass</span><span class="op" id="7824888">,</span>&nbsp;<span class="ident" id="7824890">noStr</span><span class="op" id="7824895">}</span><span class="op" id="7824896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824899">{</span><span class="string" id="7824900">`^a((?:[bcd])+)$`</span><span class="op" id="7824917">,</span>&nbsp;<span class="ident" id="7824919">onePass</span><span class="op" id="7824926">,</span>&nbsp;<span class="ident" id="7824928">noStr</span><span class="op" id="7824933">}</span><span class="op" id="7824934">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824937">{</span><span class="string" id="7824938">`^a(:?b|c)*d$`</span><span class="op" id="7824952">,</span>&nbsp;<span class="ident" id="7824954">onePass</span><span class="op" id="7824961">,</span>&nbsp;<span class="string" id="7824963">`abbbccbbcbbd&#34;`</span><span class="op" id="7824978">}</span><span class="op" id="7824979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7824982">{</span><span class="string" id="7824983">`^.bc(d|e)*$`</span><span class="op" id="7824996">,</span>&nbsp;<span class="ident" id="7824998">onePass</span><span class="op" id="7825005">,</span>&nbsp;<span class="string" id="7825007">`abcddddddeeeededd`</span><span class="op" id="7825026">}</span><span class="op" id="7825027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7825030">{</span><span class="string" id="7825031">`^(?:(?:aa)|.)$`</span><span class="op" id="7825047">,</span>&nbsp;<span class="ident" id="7825049">notOnePass</span><span class="op" id="7825059">,</span>&nbsp;<span class="string" id="7825061">`a`</span><span class="op" id="7825064">}</span><span class="op" id="7825065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7825068">{</span><span class="string" id="7825069">`^(?:(?:a{1,2}){1,2})$`</span><span class="op" id="7825092">,</span>&nbsp;<span class="ident" id="7825094">notOnePass</span><span class="op" id="7825104">,</span>&nbsp;<span class="string" id="7825106">`aaaa`</span><span class="op" id="7825112">}</span><span class="op" id="7825113">,</span><br>
<span class="lineno"></span><span class="op" id="7825115">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="7825118">func</span>&nbsp;<span class="ident" id="7825123">TestCompileOnePass</span><span class="op" id="7825141">(</span><span class="ident" id="7825142">t</span>&nbsp;<span class="op" id="7825144">*</span><span class="ident" id="7825145">testing</span><span class="op" id="7825152">.</span><span class="ident" id="7825153">T</span><span class="op" id="7825154">)</span>&nbsp;<span class="op" id="7825156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7825159">var</span>&nbsp;<span class="op" id="7825163">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7825167">p</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7825171">*</span><span class="ident" id="7825172">syntax</span><span class="op" id="7825178">.</span><span class="ident" id="7825179">Prog</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7825186">re</span>&nbsp;&nbsp;<span class="op" id="7825190">*</span><span class="ident" id="7825191">syntax</span><span class="op" id="7825197">.</span><span class="ident" id="7825198">Regexp</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7825207">err</span>&nbsp;<span class="builtintype" id="7825211">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7825218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7825221">for</span>&nbsp;<span class="ident" id="7825225">_</span><span class="op" id="7825226">,</span>&nbsp;<span class="ident" id="7825228">test</span>&nbsp;<span class="op" id="7825233">:=</span>&nbsp;<span class="keyword" id="7825236">range</span>&nbsp;<span class="ident" id="7825242">onePassTests</span>&nbsp;<span class="op" id="7825255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7825259">if</span>&nbsp;<span class="ident" id="7825262">re</span><span class="op" id="7825264">,</span>&nbsp;<span class="ident" id="7825266">err</span>&nbsp;<span class="op" id="7825270">=</span>&nbsp;<span class="ident" id="7825272">syntax</span><span class="op" id="7825278">.</span><span class="ident" id="7825279">Parse</span><span class="op" id="7825284">(</span><span class="ident" id="7825285">test</span><span class="op" id="7825289">.</span><span class="ident" id="7825290">re</span><span class="op" id="7825292">,</span>&nbsp;<span class="ident" id="7825294">syntax</span><span class="op" id="7825300">.</span><span class="ident" id="7825301">Perl</span><span class="op" id="7825305">)</span><span class="op" id="7825306">;</span>&nbsp;<span class="ident" id="7825308">err</span>&nbsp;<span class="op" id="7825312">!=</span>&nbsp;<span class="builtintype" id="7825315">nil</span>&nbsp;<span class="op" id="7825319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7825324">t</span><span class="op" id="7825325">.</span><span class="ident" id="7825326">Errorf</span><span class="op" id="7825332">(</span><span class="string" id="7825333">&#34;Parse(%q)&nbsp;got&nbsp;err:%s,&nbsp;want&nbsp;success&#34;</span><span class="op" id="7825369">,</span>&nbsp;<span class="ident" id="7825371">test</span><span class="op" id="7825375">.</span><span class="ident" id="7825376">re</span><span class="op" id="7825378">,</span>&nbsp;<span class="ident" id="7825380">err</span><span class="op" id="7825383">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7825388">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7825399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7825403">//&nbsp;needs&nbsp;to&nbsp;be&nbsp;done&nbsp;before&nbsp;compile...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7825443">re</span>&nbsp;<span class="op" id="7825446">=</span>&nbsp;<span class="ident" id="7825448">re</span><span class="op" id="7825450">.</span><span class="ident" id="7825451">Simplify</span><span class="op" id="7825459">(</span><span class="op" id="7825460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7825464">if</span>&nbsp;<span class="ident" id="7825467">p</span><span class="op" id="7825468">,</span>&nbsp;<span class="ident" id="7825470">err</span>&nbsp;<span class="op" id="7825474">=</span>&nbsp;<span class="ident" id="7825476">syntax</span><span class="op" id="7825482">.</span><span class="ident" id="7825483">Compile</span><span class="op" id="7825490">(</span><span class="ident" id="7825491">re</span><span class="op" id="7825493">)</span><span class="op" id="7825494">;</span>&nbsp;<span class="ident" id="7825496">err</span>&nbsp;<span class="op" id="7825500">!=</span>&nbsp;<span class="builtintype" id="7825503">nil</span>&nbsp;<span class="op" id="7825507">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7825512">t</span><span class="op" id="7825513">.</span><span class="ident" id="7825514">Errorf</span><span class="op" id="7825520">(</span><span class="string" id="7825521">&#34;Compile(%q)&nbsp;got&nbsp;err:%s,&nbsp;want&nbsp;success&#34;</span><span class="op" id="7825559">,</span>&nbsp;<span class="ident" id="7825561">test</span><span class="op" id="7825565">.</span><span class="ident" id="7825566">re</span><span class="op" id="7825568">,</span>&nbsp;<span class="ident" id="7825570">err</span><span class="op" id="7825573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7825578">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7825589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7825593">onePass</span>&nbsp;<span class="op" id="7825601">=</span>&nbsp;<span class="ident" id="7825603">compileOnePass</span><span class="op" id="7825617">(</span><span class="ident" id="7825618">p</span><span class="op" id="7825619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7825623">if</span>&nbsp;<span class="op" id="7825626">(</span><span class="ident" id="7825627">onePass</span>&nbsp;<span class="op" id="7825635">==</span>&nbsp;<span class="ident" id="7825638">notOnePass</span><span class="op" id="7825648">)</span>&nbsp;<span class="op" id="7825650">!=</span>&nbsp;<span class="op" id="7825653">(</span><span class="ident" id="7825654">test</span><span class="op" id="7825658">.</span><span class="ident" id="7825659">onePass</span>&nbsp;<span class="op" id="7825667">==</span>&nbsp;<span class="ident" id="7825670">notOnePass</span><span class="op" id="7825680">)</span>&nbsp;<span class="op" id="7825682">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7825687">t</span><span class="op" id="7825688">.</span><span class="ident" id="7825689">Errorf</span><span class="op" id="7825695">(</span><span class="string" id="7825696">&#34;CompileOnePass(%q)&nbsp;got&nbsp;%v,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="7825736">,</span>&nbsp;<span class="ident" id="7825738">test</span><span class="op" id="7825742">.</span><span class="ident" id="7825743">re</span><span class="op" id="7825745">,</span>&nbsp;<span class="ident" id="7825747">onePass</span><span class="op" id="7825754">,</span>&nbsp;<span class="ident" id="7825756">test</span><span class="op" id="7825760">.</span><span class="ident" id="7825761">onePass</span><span class="op" id="7825768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7825772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7825775">}</span><br>
<span class="lineno"></span><span class="op" id="7825777">}</span>
</div>
</body>
</html>
