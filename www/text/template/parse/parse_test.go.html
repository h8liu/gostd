<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8361400">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8361455">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8361509">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8361560">package</span>&nbsp;<span class="ident" id="8361568">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361575">import</span>&nbsp;<span class="op" id="8361582">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8361585">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8361593">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8361600">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8361611">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8361621">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361624">var</span>&nbsp;<span class="ident" id="8361628">debug</span>&nbsp;<span class="op" id="8361634">=</span>&nbsp;<span class="ident" id="8361636"><a href="/text/template/parse/parse_test.go.html#8361585">flag</a></span><span class="op" id="8361640">.</span><span class="ident" id="8361641">Bool</span><span class="op" id="8361645">(</span><span class="string" id="8361646">&#34;debug&#34;</span><span class="op" id="8361653">,</span>&nbsp;<span class="builtintype" id="8361655">false</span><span class="op" id="8361660">,</span>&nbsp;<span class="string" id="8361662">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="8361706">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8361709">type</span>&nbsp;<span class="ident" id="8361714">numberTest</span>&nbsp;<span class="keyword" id="8361725">struct</span>&nbsp;<span class="op" id="8361732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8361735">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8361745">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8361753">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8361763">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8361769">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8361779">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8361785">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8361795">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8361801">isComplex</span>&nbsp;<span class="builtintype" id="8361811">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8361817">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8361824">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8361832">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8361841">complex128</span><br>
<span class="lineno"></span><span class="op" id="8361852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8361855">var</span>&nbsp;<span class="ident" id="8361859">numberTests</span>&nbsp;<span class="op" id="8361871">=</span>&nbsp;<span class="op" id="8361873">[</span><span class="op" id="8361874">]</span><span class="ident" id="8361875"><a href="/text/template/parse/parse_test.go.html#8361714">numberTest</a></span><span class="op" id="8361885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8361888">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8361899">{</span><span class="string" id="8361900">&#34;0&#34;</span><span class="op" id="8361903">,</span>&nbsp;<span class="builtintype" id="8361905">true</span><span class="op" id="8361909">,</span>&nbsp;<span class="builtintype" id="8361911">true</span><span class="op" id="8361915">,</span>&nbsp;<span class="builtintype" id="8361917">true</span><span class="op" id="8361921">,</span>&nbsp;<span class="builtintype" id="8361923">false</span><span class="op" id="8361928">,</span>&nbsp;<span class="num" id="8361930">0</span><span class="op" id="8361931">,</span>&nbsp;<span class="num" id="8361933">0</span><span class="op" id="8361934">,</span>&nbsp;<span class="num" id="8361936">0</span><span class="op" id="8361937">,</span>&nbsp;<span class="num" id="8361939">0</span><span class="op" id="8361940">}</span><span class="op" id="8361941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8361944">{</span><span class="string" id="8361945">&#34;-0&#34;</span><span class="op" id="8361949">,</span>&nbsp;<span class="builtintype" id="8361951">true</span><span class="op" id="8361955">,</span>&nbsp;<span class="builtintype" id="8361957">true</span><span class="op" id="8361961">,</span>&nbsp;<span class="builtintype" id="8361963">true</span><span class="op" id="8361967">,</span>&nbsp;<span class="builtintype" id="8361969">false</span><span class="op" id="8361974">,</span>&nbsp;<span class="num" id="8361976">0</span><span class="op" id="8361977">,</span>&nbsp;<span class="num" id="8361979">0</span><span class="op" id="8361980">,</span>&nbsp;<span class="num" id="8361982">0</span><span class="op" id="8361983">,</span>&nbsp;<span class="num" id="8361985">0</span><span class="op" id="8361986">}</span><span class="op" id="8361987">,</span>&nbsp;<span class="comment" id="8361989">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362018">{</span><span class="string" id="8362019">&#34;73&#34;</span><span class="op" id="8362023">,</span>&nbsp;<span class="builtintype" id="8362025">true</span><span class="op" id="8362029">,</span>&nbsp;<span class="builtintype" id="8362031">true</span><span class="op" id="8362035">,</span>&nbsp;<span class="builtintype" id="8362037">true</span><span class="op" id="8362041">,</span>&nbsp;<span class="builtintype" id="8362043">false</span><span class="op" id="8362048">,</span>&nbsp;<span class="num" id="8362050">73</span><span class="op" id="8362052">,</span>&nbsp;<span class="num" id="8362054">73</span><span class="op" id="8362056">,</span>&nbsp;<span class="num" id="8362058">73</span><span class="op" id="8362060">,</span>&nbsp;<span class="num" id="8362062">0</span><span class="op" id="8362063">}</span><span class="op" id="8362064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362067">{</span><span class="string" id="8362068">&#34;073&#34;</span><span class="op" id="8362073">,</span>&nbsp;<span class="builtintype" id="8362075">true</span><span class="op" id="8362079">,</span>&nbsp;<span class="builtintype" id="8362081">true</span><span class="op" id="8362085">,</span>&nbsp;<span class="builtintype" id="8362087">true</span><span class="op" id="8362091">,</span>&nbsp;<span class="builtintype" id="8362093">false</span><span class="op" id="8362098">,</span>&nbsp;<span class="num" id="8362100">073</span><span class="op" id="8362103">,</span>&nbsp;<span class="num" id="8362105">073</span><span class="op" id="8362108">,</span>&nbsp;<span class="num" id="8362110">073</span><span class="op" id="8362113">,</span>&nbsp;<span class="num" id="8362115">0</span><span class="op" id="8362116">}</span><span class="op" id="8362117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362120">{</span><span class="string" id="8362121">&#34;0x73&#34;</span><span class="op" id="8362127">,</span>&nbsp;<span class="builtintype" id="8362129">true</span><span class="op" id="8362133">,</span>&nbsp;<span class="builtintype" id="8362135">true</span><span class="op" id="8362139">,</span>&nbsp;<span class="builtintype" id="8362141">true</span><span class="op" id="8362145">,</span>&nbsp;<span class="builtintype" id="8362147">false</span><span class="op" id="8362152">,</span>&nbsp;<span class="num" id="8362154">0x73</span><span class="op" id="8362158">,</span>&nbsp;<span class="num" id="8362160">0x73</span><span class="op" id="8362164">,</span>&nbsp;<span class="num" id="8362166">0x73</span><span class="op" id="8362170">,</span>&nbsp;<span class="num" id="8362172">0</span><span class="op" id="8362173">}</span><span class="op" id="8362174">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362177">{</span><span class="string" id="8362178">&#34;-73&#34;</span><span class="op" id="8362183">,</span>&nbsp;<span class="builtintype" id="8362185">true</span><span class="op" id="8362189">,</span>&nbsp;<span class="builtintype" id="8362191">false</span><span class="op" id="8362196">,</span>&nbsp;<span class="builtintype" id="8362198">true</span><span class="op" id="8362202">,</span>&nbsp;<span class="builtintype" id="8362204">false</span><span class="op" id="8362209">,</span>&nbsp;<span class="op" id="8362211">-</span><span class="num" id="8362212">73</span><span class="op" id="8362214">,</span>&nbsp;<span class="num" id="8362216">0</span><span class="op" id="8362217">,</span>&nbsp;<span class="op" id="8362219">-</span><span class="num" id="8362220">73</span><span class="op" id="8362222">,</span>&nbsp;<span class="num" id="8362224">0</span><span class="op" id="8362225">}</span><span class="op" id="8362226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362229">{</span><span class="string" id="8362230">&#34;+73&#34;</span><span class="op" id="8362235">,</span>&nbsp;<span class="builtintype" id="8362237">true</span><span class="op" id="8362241">,</span>&nbsp;<span class="builtintype" id="8362243">false</span><span class="op" id="8362248">,</span>&nbsp;<span class="builtintype" id="8362250">true</span><span class="op" id="8362254">,</span>&nbsp;<span class="builtintype" id="8362256">false</span><span class="op" id="8362261">,</span>&nbsp;<span class="num" id="8362263">73</span><span class="op" id="8362265">,</span>&nbsp;<span class="num" id="8362267">0</span><span class="op" id="8362268">,</span>&nbsp;<span class="num" id="8362270">73</span><span class="op" id="8362272">,</span>&nbsp;<span class="num" id="8362274">0</span><span class="op" id="8362275">}</span><span class="op" id="8362276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362279">{</span><span class="string" id="8362280">&#34;100&#34;</span><span class="op" id="8362285">,</span>&nbsp;<span class="builtintype" id="8362287">true</span><span class="op" id="8362291">,</span>&nbsp;<span class="builtintype" id="8362293">true</span><span class="op" id="8362297">,</span>&nbsp;<span class="builtintype" id="8362299">true</span><span class="op" id="8362303">,</span>&nbsp;<span class="builtintype" id="8362305">false</span><span class="op" id="8362310">,</span>&nbsp;<span class="num" id="8362312">100</span><span class="op" id="8362315">,</span>&nbsp;<span class="num" id="8362317">100</span><span class="op" id="8362320">,</span>&nbsp;<span class="num" id="8362322">100</span><span class="op" id="8362325">,</span>&nbsp;<span class="num" id="8362327">0</span><span class="op" id="8362328">}</span><span class="op" id="8362329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362332">{</span><span class="string" id="8362333">&#34;1e9&#34;</span><span class="op" id="8362338">,</span>&nbsp;<span class="builtintype" id="8362340">true</span><span class="op" id="8362344">,</span>&nbsp;<span class="builtintype" id="8362346">true</span><span class="op" id="8362350">,</span>&nbsp;<span class="builtintype" id="8362352">true</span><span class="op" id="8362356">,</span>&nbsp;<span class="builtintype" id="8362358">false</span><span class="op" id="8362363">,</span>&nbsp;<span class="num" id="8362365">1e9</span><span class="op" id="8362368">,</span>&nbsp;<span class="num" id="8362370">1e9</span><span class="op" id="8362373">,</span>&nbsp;<span class="num" id="8362375">1e9</span><span class="op" id="8362378">,</span>&nbsp;<span class="num" id="8362380">0</span><span class="op" id="8362381">}</span><span class="op" id="8362382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362385">{</span><span class="string" id="8362386">&#34;-1e9&#34;</span><span class="op" id="8362392">,</span>&nbsp;<span class="builtintype" id="8362394">true</span><span class="op" id="8362398">,</span>&nbsp;<span class="builtintype" id="8362400">false</span><span class="op" id="8362405">,</span>&nbsp;<span class="builtintype" id="8362407">true</span><span class="op" id="8362411">,</span>&nbsp;<span class="builtintype" id="8362413">false</span><span class="op" id="8362418">,</span>&nbsp;<span class="op" id="8362420">-</span><span class="num" id="8362421">1e9</span><span class="op" id="8362424">,</span>&nbsp;<span class="num" id="8362426">0</span><span class="op" id="8362427">,</span>&nbsp;<span class="op" id="8362429">-</span><span class="num" id="8362430">1e9</span><span class="op" id="8362433">,</span>&nbsp;<span class="num" id="8362435">0</span><span class="op" id="8362436">}</span><span class="op" id="8362437">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362440">{</span><span class="string" id="8362441">&#34;-1.2&#34;</span><span class="op" id="8362447">,</span>&nbsp;<span class="builtintype" id="8362449">false</span><span class="op" id="8362454">,</span>&nbsp;<span class="builtintype" id="8362456">false</span><span class="op" id="8362461">,</span>&nbsp;<span class="builtintype" id="8362463">true</span><span class="op" id="8362467">,</span>&nbsp;<span class="builtintype" id="8362469">false</span><span class="op" id="8362474">,</span>&nbsp;<span class="num" id="8362476">0</span><span class="op" id="8362477">,</span>&nbsp;<span class="num" id="8362479">0</span><span class="op" id="8362480">,</span>&nbsp;<span class="op" id="8362482">-</span><span class="num" id="8362483">1.2</span><span class="op" id="8362486">,</span>&nbsp;<span class="num" id="8362488">0</span><span class="op" id="8362489">}</span><span class="op" id="8362490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362493">{</span><span class="string" id="8362494">&#34;1e19&#34;</span><span class="op" id="8362500">,</span>&nbsp;<span class="builtintype" id="8362502">false</span><span class="op" id="8362507">,</span>&nbsp;<span class="builtintype" id="8362509">true</span><span class="op" id="8362513">,</span>&nbsp;<span class="builtintype" id="8362515">true</span><span class="op" id="8362519">,</span>&nbsp;<span class="builtintype" id="8362521">false</span><span class="op" id="8362526">,</span>&nbsp;<span class="num" id="8362528">0</span><span class="op" id="8362529">,</span>&nbsp;<span class="num" id="8362531">1e19</span><span class="op" id="8362535">,</span>&nbsp;<span class="num" id="8362537">1e19</span><span class="op" id="8362541">,</span>&nbsp;<span class="num" id="8362543">0</span><span class="op" id="8362544">}</span><span class="op" id="8362545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362548">{</span><span class="string" id="8362549">&#34;-1e19&#34;</span><span class="op" id="8362556">,</span>&nbsp;<span class="builtintype" id="8362558">false</span><span class="op" id="8362563">,</span>&nbsp;<span class="builtintype" id="8362565">false</span><span class="op" id="8362570">,</span>&nbsp;<span class="builtintype" id="8362572">true</span><span class="op" id="8362576">,</span>&nbsp;<span class="builtintype" id="8362578">false</span><span class="op" id="8362583">,</span>&nbsp;<span class="num" id="8362585">0</span><span class="op" id="8362586">,</span>&nbsp;<span class="num" id="8362588">0</span><span class="op" id="8362589">,</span>&nbsp;<span class="op" id="8362591">-</span><span class="num" id="8362592">1e19</span><span class="op" id="8362596">,</span>&nbsp;<span class="num" id="8362598">0</span><span class="op" id="8362599">}</span><span class="op" id="8362600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362603">{</span><span class="string" id="8362604">&#34;4i&#34;</span><span class="op" id="8362608">,</span>&nbsp;<span class="builtintype" id="8362610">false</span><span class="op" id="8362615">,</span>&nbsp;<span class="builtintype" id="8362617">false</span><span class="op" id="8362622">,</span>&nbsp;<span class="builtintype" id="8362624">false</span><span class="op" id="8362629">,</span>&nbsp;<span class="builtintype" id="8362631">true</span><span class="op" id="8362635">,</span>&nbsp;<span class="num" id="8362637">0</span><span class="op" id="8362638">,</span>&nbsp;<span class="num" id="8362640">0</span><span class="op" id="8362641">,</span>&nbsp;<span class="num" id="8362643">0</span><span class="op" id="8362644">,</span>&nbsp;<span class="num" id="8362646">4i</span><span class="op" id="8362648">}</span><span class="op" id="8362649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362652">{</span><span class="string" id="8362653">&#34;-1.2+4.2i&#34;</span><span class="op" id="8362664">,</span>&nbsp;<span class="builtintype" id="8362666">false</span><span class="op" id="8362671">,</span>&nbsp;<span class="builtintype" id="8362673">false</span><span class="op" id="8362678">,</span>&nbsp;<span class="builtintype" id="8362680">false</span><span class="op" id="8362685">,</span>&nbsp;<span class="builtintype" id="8362687">true</span><span class="op" id="8362691">,</span>&nbsp;<span class="num" id="8362693">0</span><span class="op" id="8362694">,</span>&nbsp;<span class="num" id="8362696">0</span><span class="op" id="8362697">,</span>&nbsp;<span class="num" id="8362699">0</span><span class="op" id="8362700">,</span>&nbsp;<span class="op" id="8362702">-</span><span class="num" id="8362703">1.2</span>&nbsp;<span class="op" id="8362707">+</span>&nbsp;<span class="num" id="8362709">4.2i</span><span class="op" id="8362713">}</span><span class="op" id="8362714">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362717">{</span><span class="string" id="8362718">&#34;073i&#34;</span><span class="op" id="8362724">,</span>&nbsp;<span class="builtintype" id="8362726">false</span><span class="op" id="8362731">,</span>&nbsp;<span class="builtintype" id="8362733">false</span><span class="op" id="8362738">,</span>&nbsp;<span class="builtintype" id="8362740">false</span><span class="op" id="8362745">,</span>&nbsp;<span class="builtintype" id="8362747">true</span><span class="op" id="8362751">,</span>&nbsp;<span class="num" id="8362753">0</span><span class="op" id="8362754">,</span>&nbsp;<span class="num" id="8362756">0</span><span class="op" id="8362757">,</span>&nbsp;<span class="num" id="8362759">0</span><span class="op" id="8362760">,</span>&nbsp;<span class="num" id="8362762">73i</span><span class="op" id="8362765">}</span><span class="op" id="8362766">,</span>&nbsp;<span class="comment" id="8362768">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8362783">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362842">{</span><span class="string" id="8362843">&#34;0i&#34;</span><span class="op" id="8362847">,</span>&nbsp;<span class="builtintype" id="8362849">true</span><span class="op" id="8362853">,</span>&nbsp;<span class="builtintype" id="8362855">true</span><span class="op" id="8362859">,</span>&nbsp;<span class="builtintype" id="8362861">true</span><span class="op" id="8362865">,</span>&nbsp;<span class="builtintype" id="8362867">true</span><span class="op" id="8362871">,</span>&nbsp;<span class="num" id="8362873">0</span><span class="op" id="8362874">,</span>&nbsp;<span class="num" id="8362876">0</span><span class="op" id="8362877">,</span>&nbsp;<span class="num" id="8362879">0</span><span class="op" id="8362880">,</span>&nbsp;<span class="num" id="8362882">0</span><span class="op" id="8362883">}</span><span class="op" id="8362884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362887">{</span><span class="string" id="8362888">&#34;-1.2+0i&#34;</span><span class="op" id="8362897">,</span>&nbsp;<span class="builtintype" id="8362899">false</span><span class="op" id="8362904">,</span>&nbsp;<span class="builtintype" id="8362906">false</span><span class="op" id="8362911">,</span>&nbsp;<span class="builtintype" id="8362913">true</span><span class="op" id="8362917">,</span>&nbsp;<span class="builtintype" id="8362919">true</span><span class="op" id="8362923">,</span>&nbsp;<span class="num" id="8362925">0</span><span class="op" id="8362926">,</span>&nbsp;<span class="num" id="8362928">0</span><span class="op" id="8362929">,</span>&nbsp;<span class="op" id="8362931">-</span><span class="num" id="8362932">1.2</span><span class="op" id="8362935">,</span>&nbsp;<span class="op" id="8362937">-</span><span class="num" id="8362938">1.2</span><span class="op" id="8362941">}</span><span class="op" id="8362942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8362945">{</span><span class="string" id="8362946">&#34;-12+0i&#34;</span><span class="op" id="8362954">,</span>&nbsp;<span class="builtintype" id="8362956">true</span><span class="op" id="8362960">,</span>&nbsp;<span class="builtintype" id="8362962">false</span><span class="op" id="8362967">,</span>&nbsp;<span class="builtintype" id="8362969">true</span><span class="op" id="8362973">,</span>&nbsp;<span class="builtintype" id="8362975">true</span><span class="op" id="8362979">,</span>&nbsp;<span class="op" id="8362981">-</span><span class="num" id="8362982">12</span><span class="op" id="8362984">,</span>&nbsp;<span class="num" id="8362986">0</span><span class="op" id="8362987">,</span>&nbsp;<span class="op" id="8362989">-</span><span class="num" id="8362990">12</span><span class="op" id="8362992">,</span>&nbsp;<span class="op" id="8362994">-</span><span class="num" id="8362995">12</span><span class="op" id="8362997">}</span><span class="op" id="8362998">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363001">{</span><span class="string" id="8363002">&#34;13+0i&#34;</span><span class="op" id="8363009">,</span>&nbsp;<span class="builtintype" id="8363011">true</span><span class="op" id="8363015">,</span>&nbsp;<span class="builtintype" id="8363017">true</span><span class="op" id="8363021">,</span>&nbsp;<span class="builtintype" id="8363023">true</span><span class="op" id="8363027">,</span>&nbsp;<span class="builtintype" id="8363029">true</span><span class="op" id="8363033">,</span>&nbsp;<span class="num" id="8363035">13</span><span class="op" id="8363037">,</span>&nbsp;<span class="num" id="8363039">13</span><span class="op" id="8363041">,</span>&nbsp;<span class="num" id="8363043">13</span><span class="op" id="8363045">,</span>&nbsp;<span class="num" id="8363047">13</span><span class="op" id="8363049">}</span><span class="op" id="8363050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8363053">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363069">{</span><span class="string" id="8363070">&#34;0123&#34;</span><span class="op" id="8363076">,</span>&nbsp;<span class="builtintype" id="8363078">true</span><span class="op" id="8363082">,</span>&nbsp;<span class="builtintype" id="8363084">true</span><span class="op" id="8363088">,</span>&nbsp;<span class="builtintype" id="8363090">true</span><span class="op" id="8363094">,</span>&nbsp;<span class="builtintype" id="8363096">false</span><span class="op" id="8363101">,</span>&nbsp;<span class="num" id="8363103">0123</span><span class="op" id="8363107">,</span>&nbsp;<span class="num" id="8363109">0123</span><span class="op" id="8363113">,</span>&nbsp;<span class="num" id="8363115">0123</span><span class="op" id="8363119">,</span>&nbsp;<span class="num" id="8363121">0</span><span class="op" id="8363122">}</span><span class="op" id="8363123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363126">{</span><span class="string" id="8363127">&#34;-0x0&#34;</span><span class="op" id="8363133">,</span>&nbsp;<span class="builtintype" id="8363135">true</span><span class="op" id="8363139">,</span>&nbsp;<span class="builtintype" id="8363141">true</span><span class="op" id="8363145">,</span>&nbsp;<span class="builtintype" id="8363147">true</span><span class="op" id="8363151">,</span>&nbsp;<span class="builtintype" id="8363153">false</span><span class="op" id="8363158">,</span>&nbsp;<span class="num" id="8363160">0</span><span class="op" id="8363161">,</span>&nbsp;<span class="num" id="8363163">0</span><span class="op" id="8363164">,</span>&nbsp;<span class="num" id="8363166">0</span><span class="op" id="8363167">,</span>&nbsp;<span class="num" id="8363169">0</span><span class="op" id="8363170">}</span><span class="op" id="8363171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363174">{</span><span class="string" id="8363175">&#34;0xdeadbeef&#34;</span><span class="op" id="8363187">,</span>&nbsp;<span class="builtintype" id="8363189">true</span><span class="op" id="8363193">,</span>&nbsp;<span class="builtintype" id="8363195">true</span><span class="op" id="8363199">,</span>&nbsp;<span class="builtintype" id="8363201">true</span><span class="op" id="8363205">,</span>&nbsp;<span class="builtintype" id="8363207">false</span><span class="op" id="8363212">,</span>&nbsp;<span class="num" id="8363214">0xdeadbeef</span><span class="op" id="8363224">,</span>&nbsp;<span class="num" id="8363226">0xdeadbeef</span><span class="op" id="8363236">,</span>&nbsp;<span class="num" id="8363238">0xdeadbeef</span><span class="op" id="8363248">,</span>&nbsp;<span class="num" id="8363250">0</span><span class="op" id="8363251">}</span><span class="op" id="8363252">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8363255">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363279">{</span><span class="string" id="8363280">`&#39;a&#39;`</span><span class="op" id="8363285">,</span>&nbsp;<span class="builtintype" id="8363287">true</span><span class="op" id="8363291">,</span>&nbsp;<span class="builtintype" id="8363293">true</span><span class="op" id="8363297">,</span>&nbsp;<span class="builtintype" id="8363299">true</span><span class="op" id="8363303">,</span>&nbsp;<span class="builtintype" id="8363305">false</span><span class="op" id="8363310">,</span>&nbsp;<span class="string" id="8363312">&#39;a&#39;</span><span class="op" id="8363315">,</span>&nbsp;<span class="string" id="8363317">&#39;a&#39;</span><span class="op" id="8363320">,</span>&nbsp;<span class="string" id="8363322">&#39;a&#39;</span><span class="op" id="8363325">,</span>&nbsp;<span class="num" id="8363327">0</span><span class="op" id="8363328">}</span><span class="op" id="8363329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363332">{</span><span class="string" id="8363333">`&#39;\n&#39;`</span><span class="op" id="8363339">,</span>&nbsp;<span class="builtintype" id="8363341">true</span><span class="op" id="8363345">,</span>&nbsp;<span class="builtintype" id="8363347">true</span><span class="op" id="8363351">,</span>&nbsp;<span class="builtintype" id="8363353">true</span><span class="op" id="8363357">,</span>&nbsp;<span class="builtintype" id="8363359">false</span><span class="op" id="8363364">,</span>&nbsp;<span class="string" id="8363366">&#39;\n&#39;</span><span class="op" id="8363370">,</span>&nbsp;<span class="string" id="8363372">&#39;\n&#39;</span><span class="op" id="8363376">,</span>&nbsp;<span class="string" id="8363378">&#39;\n&#39;</span><span class="op" id="8363382">,</span>&nbsp;<span class="num" id="8363384">0</span><span class="op" id="8363385">}</span><span class="op" id="8363386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363389">{</span><span class="string" id="8363390">`&#39;\\&#39;`</span><span class="op" id="8363396">,</span>&nbsp;<span class="builtintype" id="8363398">true</span><span class="op" id="8363402">,</span>&nbsp;<span class="builtintype" id="8363404">true</span><span class="op" id="8363408">,</span>&nbsp;<span class="builtintype" id="8363410">true</span><span class="op" id="8363414">,</span>&nbsp;<span class="builtintype" id="8363416">false</span><span class="op" id="8363421">,</span>&nbsp;<span class="string" id="8363423">&#39;\\&#39;</span><span class="op" id="8363427">,</span>&nbsp;<span class="string" id="8363429">&#39;\\&#39;</span><span class="op" id="8363433">,</span>&nbsp;<span class="string" id="8363435">&#39;\\&#39;</span><span class="op" id="8363439">,</span>&nbsp;<span class="num" id="8363441">0</span><span class="op" id="8363442">}</span><span class="op" id="8363443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363446">{</span><span class="string" id="8363447">`&#39;\&#39;&#39;`</span><span class="op" id="8363453">,</span>&nbsp;<span class="builtintype" id="8363455">true</span><span class="op" id="8363459">,</span>&nbsp;<span class="builtintype" id="8363461">true</span><span class="op" id="8363465">,</span>&nbsp;<span class="builtintype" id="8363467">true</span><span class="op" id="8363471">,</span>&nbsp;<span class="builtintype" id="8363473">false</span><span class="op" id="8363478">,</span>&nbsp;<span class="string" id="8363480">&#39;\&#39;&#39;</span><span class="op" id="8363484">,</span>&nbsp;<span class="string" id="8363486">&#39;\&#39;&#39;</span><span class="op" id="8363490">,</span>&nbsp;<span class="string" id="8363492">&#39;\&#39;&#39;</span><span class="op" id="8363496">,</span>&nbsp;<span class="num" id="8363498">0</span><span class="op" id="8363499">}</span><span class="op" id="8363500">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363503">{</span><span class="string" id="8363504">`&#39;\xFF&#39;`</span><span class="op" id="8363512">,</span>&nbsp;<span class="builtintype" id="8363514">true</span><span class="op" id="8363518">,</span>&nbsp;<span class="builtintype" id="8363520">true</span><span class="op" id="8363524">,</span>&nbsp;<span class="builtintype" id="8363526">true</span><span class="op" id="8363530">,</span>&nbsp;<span class="builtintype" id="8363532">false</span><span class="op" id="8363537">,</span>&nbsp;<span class="num" id="8363539">0xFF</span><span class="op" id="8363543">,</span>&nbsp;<span class="num" id="8363545">0xFF</span><span class="op" id="8363549">,</span>&nbsp;<span class="num" id="8363551">0xFF</span><span class="op" id="8363555">,</span>&nbsp;<span class="num" id="8363557">0</span><span class="op" id="8363558">}</span><span class="op" id="8363559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363562">{</span><span class="string" id="8363563">`&#39;パ&#39;`</span><span class="op" id="8363570">,</span>&nbsp;<span class="builtintype" id="8363572">true</span><span class="op" id="8363576">,</span>&nbsp;<span class="builtintype" id="8363578">true</span><span class="op" id="8363582">,</span>&nbsp;<span class="builtintype" id="8363584">true</span><span class="op" id="8363588">,</span>&nbsp;<span class="builtintype" id="8363590">false</span><span class="op" id="8363595">,</span>&nbsp;<span class="num" id="8363597">0x30d1</span><span class="op" id="8363603">,</span>&nbsp;<span class="num" id="8363605">0x30d1</span><span class="op" id="8363611">,</span>&nbsp;<span class="num" id="8363613">0x30d1</span><span class="op" id="8363619">,</span>&nbsp;<span class="num" id="8363621">0</span><span class="op" id="8363622">}</span><span class="op" id="8363623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363626">{</span><span class="string" id="8363627">`&#39;\u30d1&#39;`</span><span class="op" id="8363637">,</span>&nbsp;<span class="builtintype" id="8363639">true</span><span class="op" id="8363643">,</span>&nbsp;<span class="builtintype" id="8363645">true</span><span class="op" id="8363649">,</span>&nbsp;<span class="builtintype" id="8363651">true</span><span class="op" id="8363655">,</span>&nbsp;<span class="builtintype" id="8363657">false</span><span class="op" id="8363662">,</span>&nbsp;<span class="num" id="8363664">0x30d1</span><span class="op" id="8363670">,</span>&nbsp;<span class="num" id="8363672">0x30d1</span><span class="op" id="8363678">,</span>&nbsp;<span class="num" id="8363680">0x30d1</span><span class="op" id="8363686">,</span>&nbsp;<span class="num" id="8363688">0</span><span class="op" id="8363689">}</span><span class="op" id="8363690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363693">{</span><span class="string" id="8363694">`&#39;\U000030d1&#39;`</span><span class="op" id="8363708">,</span>&nbsp;<span class="builtintype" id="8363710">true</span><span class="op" id="8363714">,</span>&nbsp;<span class="builtintype" id="8363716">true</span><span class="op" id="8363720">,</span>&nbsp;<span class="builtintype" id="8363722">true</span><span class="op" id="8363726">,</span>&nbsp;<span class="builtintype" id="8363728">false</span><span class="op" id="8363733">,</span>&nbsp;<span class="num" id="8363735">0x30d1</span><span class="op" id="8363741">,</span>&nbsp;<span class="num" id="8363743">0x30d1</span><span class="op" id="8363749">,</span>&nbsp;<span class="num" id="8363751">0x30d1</span><span class="op" id="8363757">,</span>&nbsp;<span class="num" id="8363759">0</span><span class="op" id="8363760">}</span><span class="op" id="8363761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8363764">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363787">{</span><span class="ident" id="8363788">text</span><span class="op" id="8363792">:</span>&nbsp;<span class="string" id="8363794">&#34;+-2&#34;</span><span class="op" id="8363799">}</span><span class="op" id="8363800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363803">{</span><span class="ident" id="8363804">text</span><span class="op" id="8363808">:</span>&nbsp;<span class="string" id="8363810">&#34;0x123.&#34;</span><span class="op" id="8363818">}</span><span class="op" id="8363819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363822">{</span><span class="ident" id="8363823">text</span><span class="op" id="8363827">:</span>&nbsp;<span class="string" id="8363829">&#34;1e.&#34;</span><span class="op" id="8363834">}</span><span class="op" id="8363835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363838">{</span><span class="ident" id="8363839">text</span><span class="op" id="8363843">:</span>&nbsp;<span class="string" id="8363845">&#34;0xi.&#34;</span><span class="op" id="8363851">}</span><span class="op" id="8363852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363855">{</span><span class="ident" id="8363856">text</span><span class="op" id="8363860">:</span>&nbsp;<span class="string" id="8363862">&#34;1+2.&#34;</span><span class="op" id="8363868">}</span><span class="op" id="8363869">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363872">{</span><span class="ident" id="8363873">text</span><span class="op" id="8363877">:</span>&nbsp;<span class="string" id="8363879">&#34;&#39;x&#34;</span><span class="op" id="8363883">}</span><span class="op" id="8363884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363887">{</span><span class="ident" id="8363888">text</span><span class="op" id="8363892">:</span>&nbsp;<span class="string" id="8363894">&#34;&#39;xx&#39;&#34;</span><span class="op" id="8363900">}</span><span class="op" id="8363901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8363904">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8363970">{</span><span class="string" id="8363971">&#34;0xef&#34;</span><span class="op" id="8363977">,</span>&nbsp;<span class="builtintype" id="8363979">true</span><span class="op" id="8363983">,</span>&nbsp;<span class="builtintype" id="8363985">true</span><span class="op" id="8363989">,</span>&nbsp;<span class="builtintype" id="8363991">true</span><span class="op" id="8363995">,</span>&nbsp;<span class="builtintype" id="8363997">false</span><span class="op" id="8364002">,</span>&nbsp;<span class="num" id="8364004">0xef</span><span class="op" id="8364008">,</span>&nbsp;<span class="num" id="8364010">0xef</span><span class="op" id="8364014">,</span>&nbsp;<span class="num" id="8364016">0xef</span><span class="op" id="8364020">,</span>&nbsp;<span class="num" id="8364022">0</span><span class="op" id="8364023">}</span><span class="op" id="8364024">,</span><br>
<span class="lineno"></span><span class="op" id="8364026">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="8364029">func</span>&nbsp;<span class="ident" id="8364034">TestNumberParse</span><span class="op" id="8364049">(</span><span class="ident" id="8364050">t</span>&nbsp;<span class="op" id="8364052">*</span><span class="ident" id="8364053"><a href="/text/template/parse/parse_test.go.html#8361611">testing</a></span><span class="op" id="8364060">.</span><span class="ident" id="8364061">T</span><span class="op" id="8364062">)</span>&nbsp;<span class="op" id="8364064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364067">for</span>&nbsp;<span class="ident" id="8364071">_</span><span class="op" id="8364072">,</span>&nbsp;<span class="ident" id="8364074">test</span>&nbsp;<span class="op" id="8364079">:=</span>&nbsp;<span class="keyword" id="8364082">range</span>&nbsp;<span class="ident" id="8364088"><a href="/text/template/parse/parse_test.go.html#8361859">numberTests</a></span>&nbsp;<span class="op" id="8364100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8364104">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8364184">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364230">var</span>&nbsp;<span class="ident" id="8364234">c</span>&nbsp;<span class="builtintype" id="8364236">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364249">typ</span>&nbsp;<span class="op" id="8364253">:=</span>&nbsp;<span class="ident" id="8364256"><a href="/text/template/parse/lex.go.html#4497540">itemNumber</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364269">var</span>&nbsp;<span class="ident" id="8364273">tree</span>&nbsp;<span class="op" id="8364278">*</span><span class="ident" id="8364279"><a href="/text/template/parse/parse.go.html#4531006">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364286">if</span>&nbsp;<span class="ident" id="8364289"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364293">.</span><span class="ident" id="8364294">text</span><span class="op" id="8364298">[</span><span class="num" id="8364299">0</span><span class="op" id="8364300">]</span>&nbsp;<span class="op" id="8364302">==</span>&nbsp;<span class="string" id="8364305">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="8364310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364315"><a href="/text/template/parse/parse_test.go.html#8364249">typ</a></span>&nbsp;<span class="op" id="8364319">=</span>&nbsp;<span class="ident" id="8364321"><a href="/text/template/parse/lex.go.html#4497099">itemCharConstant</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8364340">}</span>&nbsp;<span class="keyword" id="8364342">else</span>&nbsp;<span class="op" id="8364347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364352">_</span><span class="op" id="8364353">,</span>&nbsp;<span class="ident" id="8364355">err</span>&nbsp;<span class="op" id="8364359">:=</span>&nbsp;<span class="ident" id="8364362"><a href="/text/template/parse/parse_test.go.html#8361593">fmt</a></span><span class="op" id="8364365">.</span><span class="ident" id="8364366">Sscan</span><span class="op" id="8364371">(</span><span class="ident" id="8364372"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364376">.</span><span class="ident" id="8364377">text</span><span class="op" id="8364381">,</span>&nbsp;<span class="op" id="8364383">&amp;</span><span class="ident" id="8364384"><a href="/text/template/parse/parse_test.go.html#8364234">c</a></span><span class="op" id="8364385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364390">if</span>&nbsp;<span class="ident" id="8364393"><a href="/text/template/parse/parse_test.go.html#8364355">err</a></span>&nbsp;<span class="op" id="8364397">==</span>&nbsp;<span class="ident" id="8364400">nil</span>&nbsp;<span class="op" id="8364404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364410"><a href="/text/template/parse/parse_test.go.html#8364249">typ</a></span>&nbsp;<span class="op" id="8364414">=</span>&nbsp;<span class="ident" id="8364416"><a href="/text/template/parse/lex.go.html#4497155">itemComplex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8364431">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8364435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364439">n</span><span class="op" id="8364440">,</span>&nbsp;<span class="ident" id="8364442">err</span>&nbsp;<span class="op" id="8364446">:=</span>&nbsp;<span class="ident" id="8364449"><a href="/text/template/parse/parse_test.go.html#8364273">tree</a></span><span class="op" id="8364453">.</span><span class="ident" id="8364454">newNumber</span><span class="op" id="8364463">(</span><span class="num" id="8364464">0</span><span class="op" id="8364465">,</span>&nbsp;<span class="ident" id="8364467"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364471">.</span><span class="ident" id="8364472">text</span><span class="op" id="8364476">,</span>&nbsp;<span class="ident" id="8364478"><a href="/text/template/parse/parse_test.go.html#8364249">typ</a></span><span class="op" id="8364481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364485">ok</span>&nbsp;<span class="op" id="8364488">:=</span>&nbsp;<span class="ident" id="8364491"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364495">.</span><span class="ident" id="8364496">isInt</span>&nbsp;<span class="op" id="8364502">||</span>&nbsp;<span class="ident" id="8364505"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364509">.</span><span class="ident" id="8364510">isUint</span>&nbsp;<span class="op" id="8364517">||</span>&nbsp;<span class="ident" id="8364520"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364524">.</span><span class="ident" id="8364525">isFloat</span>&nbsp;<span class="op" id="8364533">||</span>&nbsp;<span class="ident" id="8364536"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364540">.</span><span class="ident" id="8364541">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364553">if</span>&nbsp;<span class="ident" id="8364556"><a href="/text/template/parse/parse_test.go.html#8364485">ok</a></span>&nbsp;<span class="op" id="8364559">&amp;&amp;</span>&nbsp;<span class="ident" id="8364562"><a href="/text/template/parse/parse_test.go.html#8364442">err</a></span>&nbsp;<span class="op" id="8364566">!=</span>&nbsp;<span class="ident" id="8364569">nil</span>&nbsp;<span class="op" id="8364573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364578"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8364579">.</span><span class="ident" id="8364580">Errorf</span><span class="op" id="8364586">(</span><span class="string" id="8364587">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8364616">,</span>&nbsp;<span class="ident" id="8364618"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364622">.</span><span class="ident" id="8364623">text</span><span class="op" id="8364627">,</span>&nbsp;<span class="ident" id="8364629"><a href="/text/template/parse/parse_test.go.html#8364442">err</a></span><span class="op" id="8364632">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364637">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8364648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364652">if</span>&nbsp;<span class="op" id="8364655">!</span><span class="ident" id="8364656"><a href="/text/template/parse/parse_test.go.html#8364485">ok</a></span>&nbsp;<span class="op" id="8364659">&amp;&amp;</span>&nbsp;<span class="ident" id="8364662"><a href="/text/template/parse/parse_test.go.html#8364442">err</a></span>&nbsp;<span class="op" id="8364666">==</span>&nbsp;<span class="ident" id="8364669">nil</span>&nbsp;<span class="op" id="8364673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364678"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8364679">.</span><span class="ident" id="8364680">Errorf</span><span class="op" id="8364686">(</span><span class="string" id="8364687">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8364710">,</span>&nbsp;<span class="ident" id="8364712"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364716">.</span><span class="ident" id="8364717">text</span><span class="op" id="8364721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364726">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8364737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364741">if</span>&nbsp;<span class="op" id="8364744">!</span><span class="ident" id="8364745"><a href="/text/template/parse/parse_test.go.html#8364485">ok</a></span>&nbsp;<span class="op" id="8364748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364753">if</span>&nbsp;<span class="op" id="8364756">*</span><span class="ident" id="8364757"><a href="/text/template/parse/parse_test.go.html#8361628">debug</a></span>&nbsp;<span class="op" id="8364763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364769"><a href="/text/template/parse/parse_test.go.html#8361593">fmt</a></span><span class="op" id="8364772">.</span><span class="ident" id="8364773">Printf</span><span class="op" id="8364779">(</span><span class="string" id="8364780">&#34;%s\n\t%s\n&#34;</span><span class="op" id="8364792">,</span>&nbsp;<span class="ident" id="8364794"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364798">.</span><span class="ident" id="8364799">text</span><span class="op" id="8364803">,</span>&nbsp;<span class="ident" id="8364805"><a href="/text/template/parse/parse_test.go.html#8364442">err</a></span><span class="op" id="8364808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8364813">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364818">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8364829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364833">if</span>&nbsp;<span class="ident" id="8364836"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8364837">.</span><span class="ident" id="8364838">IsComplex</span>&nbsp;<span class="op" id="8364848">!=</span>&nbsp;<span class="ident" id="8364851"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364855">.</span><span class="ident" id="8364856">isComplex</span>&nbsp;<span class="op" id="8364866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364871"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8364872">.</span><span class="ident" id="8364873">Errorf</span><span class="op" id="8364879">(</span><span class="string" id="8364880">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8364920">,</span>&nbsp;<span class="ident" id="8364922"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364926">.</span><span class="ident" id="8364927">text</span><span class="op" id="8364931">,</span>&nbsp;<span class="ident" id="8364933"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364937">.</span><span class="ident" id="8364938">isComplex</span><span class="op" id="8364947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8364951">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364955">if</span>&nbsp;<span class="ident" id="8364958"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8364962">.</span><span class="ident" id="8364963">isInt</span>&nbsp;<span class="op" id="8364969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8364974">if</span>&nbsp;<span class="op" id="8364977">!</span><span class="ident" id="8364978"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8364979">.</span><span class="ident" id="8364980">IsInt</span>&nbsp;<span class="op" id="8364986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8364992"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8364993">.</span><span class="ident" id="8364994">Errorf</span><span class="op" id="8365000">(</span><span class="string" id="8365001">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8365026">,</span>&nbsp;<span class="ident" id="8365028"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365032">.</span><span class="ident" id="8365033">text</span><span class="op" id="8365037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365047">if</span>&nbsp;<span class="ident" id="8365050"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365051">.</span><span class="ident" id="8365052">Int64</span>&nbsp;<span class="op" id="8365058">!=</span>&nbsp;<span class="ident" id="8365061"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365065">.</span><span class="ident" id="8365066">int64</span>&nbsp;<span class="op" id="8365072">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365078"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365079">.</span><span class="ident" id="8365080">Errorf</span><span class="op" id="8365086">(</span><span class="string" id="8365087">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8365120">,</span>&nbsp;<span class="ident" id="8365122"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365126">.</span><span class="ident" id="8365127">text</span><span class="op" id="8365131">,</span>&nbsp;<span class="ident" id="8365133"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365137">.</span><span class="ident" id="8365138">int64</span><span class="op" id="8365143">,</span>&nbsp;<span class="ident" id="8365145"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365146">.</span><span class="ident" id="8365147">Int64</span><span class="op" id="8365152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365161">}</span>&nbsp;<span class="keyword" id="8365163">else</span>&nbsp;<span class="keyword" id="8365168">if</span>&nbsp;<span class="ident" id="8365171"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365172">.</span><span class="ident" id="8365173">IsInt</span>&nbsp;<span class="op" id="8365179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365184"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365185">.</span><span class="ident" id="8365186">Errorf</span><span class="op" id="8365192">(</span><span class="string" id="8365193">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8365224">,</span>&nbsp;<span class="ident" id="8365226"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365230">.</span><span class="ident" id="8365231">text</span><span class="op" id="8365235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365239">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365243">if</span>&nbsp;<span class="ident" id="8365246"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365250">.</span><span class="ident" id="8365251">isUint</span>&nbsp;<span class="op" id="8365258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365263">if</span>&nbsp;<span class="op" id="8365266">!</span><span class="ident" id="8365267"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365268">.</span><span class="ident" id="8365269">IsUint</span>&nbsp;<span class="op" id="8365276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365282"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365283">.</span><span class="ident" id="8365284">Errorf</span><span class="op" id="8365290">(</span><span class="string" id="8365291">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8365325">,</span>&nbsp;<span class="ident" id="8365327"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365331">.</span><span class="ident" id="8365332">text</span><span class="op" id="8365336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365346">if</span>&nbsp;<span class="ident" id="8365349"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365350">.</span><span class="ident" id="8365351">Uint64</span>&nbsp;<span class="op" id="8365358">!=</span>&nbsp;<span class="ident" id="8365361"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365365">.</span><span class="ident" id="8365366">uint64</span>&nbsp;<span class="op" id="8365373">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365379"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365380">.</span><span class="ident" id="8365381">Errorf</span><span class="op" id="8365387">(</span><span class="string" id="8365388">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8365422">,</span>&nbsp;<span class="ident" id="8365424"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365428">.</span><span class="ident" id="8365429">text</span><span class="op" id="8365433">,</span>&nbsp;<span class="ident" id="8365435"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365439">.</span><span class="ident" id="8365440">uint64</span><span class="op" id="8365446">,</span>&nbsp;<span class="ident" id="8365448"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365449">.</span><span class="ident" id="8365450">Uint64</span><span class="op" id="8365456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365465">}</span>&nbsp;<span class="keyword" id="8365467">else</span>&nbsp;<span class="keyword" id="8365472">if</span>&nbsp;<span class="ident" id="8365475"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365476">.</span><span class="ident" id="8365477">IsUint</span>&nbsp;<span class="op" id="8365484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365489"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365490">.</span><span class="ident" id="8365491">Errorf</span><span class="op" id="8365497">(</span><span class="string" id="8365498">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8365538">,</span>&nbsp;<span class="ident" id="8365540"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365544">.</span><span class="ident" id="8365545">text</span><span class="op" id="8365549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365553">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365557">if</span>&nbsp;<span class="ident" id="8365560"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365564">.</span><span class="ident" id="8365565">isFloat</span>&nbsp;<span class="op" id="8365573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365578">if</span>&nbsp;<span class="op" id="8365581">!</span><span class="ident" id="8365582"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365583">.</span><span class="ident" id="8365584">IsFloat</span>&nbsp;<span class="op" id="8365592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365598"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365599">.</span><span class="ident" id="8365600">Errorf</span><span class="op" id="8365606">(</span><span class="string" id="8365607">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8365630">,</span>&nbsp;<span class="ident" id="8365632"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365636">.</span><span class="ident" id="8365637">text</span><span class="op" id="8365641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365651">if</span>&nbsp;<span class="ident" id="8365654"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365655">.</span><span class="ident" id="8365656">Float64</span>&nbsp;<span class="op" id="8365664">!=</span>&nbsp;<span class="ident" id="8365667"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365671">.</span><span class="builtintype" id="8365672">float64</span>&nbsp;<span class="op" id="8365680">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365686"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365687">.</span><span class="ident" id="8365688">Errorf</span><span class="op" id="8365694">(</span><span class="string" id="8365695">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8365730">,</span>&nbsp;<span class="ident" id="8365732"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365736">.</span><span class="ident" id="8365737">text</span><span class="op" id="8365741">,</span>&nbsp;<span class="ident" id="8365743"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365747">.</span><span class="builtintype" id="8365748">float64</span><span class="op" id="8365755">,</span>&nbsp;<span class="ident" id="8365757"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365758">.</span><span class="ident" id="8365759">Float64</span><span class="op" id="8365766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365775">}</span>&nbsp;<span class="keyword" id="8365777">else</span>&nbsp;<span class="keyword" id="8365782">if</span>&nbsp;<span class="ident" id="8365785"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365786">.</span><span class="ident" id="8365787">IsFloat</span>&nbsp;<span class="op" id="8365795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365800"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365801">.</span><span class="ident" id="8365802">Errorf</span><span class="op" id="8365808">(</span><span class="string" id="8365809">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8365838">,</span>&nbsp;<span class="ident" id="8365840"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365844">.</span><span class="ident" id="8365845">text</span><span class="op" id="8365849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365853">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365857">if</span>&nbsp;<span class="ident" id="8365860"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365864">.</span><span class="ident" id="8365865">isComplex</span>&nbsp;<span class="op" id="8365875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365880">if</span>&nbsp;<span class="op" id="8365883">!</span><span class="ident" id="8365884"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365885">.</span><span class="ident" id="8365886">IsComplex</span>&nbsp;<span class="op" id="8365896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365902"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365903">.</span><span class="ident" id="8365904">Errorf</span><span class="op" id="8365910">(</span><span class="string" id="8365911">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8365936">,</span>&nbsp;<span class="ident" id="8365938"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365942">.</span><span class="ident" id="8365943">text</span><span class="op" id="8365947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8365952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8365957">if</span>&nbsp;<span class="ident" id="8365960"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8365961">.</span><span class="ident" id="8365962">Complex128</span>&nbsp;<span class="op" id="8365973">!=</span>&nbsp;<span class="ident" id="8365976"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8365980">.</span><span class="builtintype" id="8365981">complex128</span>&nbsp;<span class="op" id="8365992">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8365998"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8365999">.</span><span class="ident" id="8366000">Errorf</span><span class="op" id="8366006">(</span><span class="string" id="8366007">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8366045">,</span>&nbsp;<span class="ident" id="8366047"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8366051">.</span><span class="ident" id="8366052">text</span><span class="op" id="8366056">,</span>&nbsp;<span class="ident" id="8366058"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8366062">.</span><span class="builtintype" id="8366063">complex128</span><span class="op" id="8366073">,</span>&nbsp;<span class="ident" id="8366075"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8366076">.</span><span class="ident" id="8366077">Complex128</span><span class="op" id="8366087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366096">}</span>&nbsp;<span class="keyword" id="8366098">else</span>&nbsp;<span class="keyword" id="8366103">if</span>&nbsp;<span class="ident" id="8366106"><a href="/text/template/parse/parse_test.go.html#8364439">n</a></span><span class="op" id="8366107">.</span><span class="ident" id="8366108">IsComplex</span>&nbsp;<span class="op" id="8366118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366123"><a href="/text/template/parse/parse_test.go.html#8364050">t</a></span><span class="op" id="8366124">.</span><span class="ident" id="8366125">Errorf</span><span class="op" id="8366131">(</span><span class="string" id="8366132">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8366163">,</span>&nbsp;<span class="ident" id="8366165"><a href="/text/template/parse/parse_test.go.html#8364074">test</a></span><span class="op" id="8366169">.</span><span class="ident" id="8366170">text</span><span class="op" id="8366174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366178">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366181">}</span><br>
<span class="lineno"></span><span class="op" id="8366183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8366186">type</span>&nbsp;<span class="ident" id="8366191">parseTest</span>&nbsp;<span class="keyword" id="8366201">struct</span>&nbsp;<span class="op" id="8366208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366211">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8366218">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366226">input</span>&nbsp;&nbsp;<span class="builtintype" id="8366233">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366241">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8366248">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366254">result</span>&nbsp;<span class="builtintype" id="8366261">string</span>&nbsp;<span class="comment" id="8366268">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="8366316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="8366319">const</span>&nbsp;<span class="op" id="8366325">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366328">noError</span>&nbsp;&nbsp;<span class="op" id="8366337">=</span>&nbsp;<span class="builtintype" id="8366339">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8366345">hasError</span>&nbsp;<span class="op" id="8366354">=</span>&nbsp;<span class="builtintype" id="8366356">false</span><br>
<span class="lineno"></span><span class="op" id="8366362">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="8366365">var</span>&nbsp;<span class="ident" id="8366369">parseTests</span>&nbsp;<span class="op" id="8366380">=</span>&nbsp;<span class="op" id="8366382">[</span><span class="op" id="8366383">]</span><span class="ident" id="8366384"><a href="/text/template/parse/parse_test.go.html#8366191">parseTest</a></span><span class="op" id="8366393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366396">{</span><span class="string" id="8366397">&#34;empty&#34;</span><span class="op" id="8366404">,</span>&nbsp;<span class="string" id="8366406">&#34;&#34;</span><span class="op" id="8366408">,</span>&nbsp;<span class="ident" id="8366410"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366421">``</span><span class="op" id="8366423">}</span><span class="op" id="8366424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366427">{</span><span class="string" id="8366428">&#34;comment&#34;</span><span class="op" id="8366437">,</span>&nbsp;<span class="string" id="8366439">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="8366455">,</span>&nbsp;<span class="ident" id="8366457"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366468">``</span><span class="op" id="8366470">}</span><span class="op" id="8366471">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366474">{</span><span class="string" id="8366475">&#34;spaces&#34;</span><span class="op" id="8366483">,</span>&nbsp;<span class="string" id="8366485">&#34;&nbsp;\t\n&#34;</span><span class="op" id="8366492">,</span>&nbsp;<span class="ident" id="8366494"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366505">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="8366514">}</span><span class="op" id="8366515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366518">{</span><span class="string" id="8366519">&#34;text&#34;</span><span class="op" id="8366525">,</span>&nbsp;<span class="string" id="8366527">&#34;some&nbsp;text&#34;</span><span class="op" id="8366538">,</span>&nbsp;<span class="ident" id="8366540"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366551">`&#34;some&nbsp;text&#34;`</span><span class="op" id="8366564">}</span><span class="op" id="8366565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366568">{</span><span class="string" id="8366569">&#34;emptyAction&#34;</span><span class="op" id="8366582">,</span>&nbsp;<span class="string" id="8366584">&#34;{{}}&#34;</span><span class="op" id="8366590">,</span>&nbsp;<span class="ident" id="8366592"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8366600">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366604">`{{}}`</span><span class="op" id="8366610">}</span><span class="op" id="8366611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366614">{</span><span class="string" id="8366615">&#34;field&#34;</span><span class="op" id="8366622">,</span>&nbsp;<span class="string" id="8366624">&#34;{{.X}}&#34;</span><span class="op" id="8366632">,</span>&nbsp;<span class="ident" id="8366634"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366645">`{{.X}}`</span><span class="op" id="8366653">}</span><span class="op" id="8366654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366657">{</span><span class="string" id="8366658">&#34;simple&nbsp;command&#34;</span><span class="op" id="8366674">,</span>&nbsp;<span class="string" id="8366676">&#34;{{printf}}&#34;</span><span class="op" id="8366688">,</span>&nbsp;<span class="ident" id="8366690"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366701">`{{printf}}`</span><span class="op" id="8366713">}</span><span class="op" id="8366714">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366717">{</span><span class="string" id="8366718">&#34;$&nbsp;invocation&#34;</span><span class="op" id="8366732">,</span>&nbsp;<span class="string" id="8366734">&#34;{{$}}&#34;</span><span class="op" id="8366741">,</span>&nbsp;<span class="ident" id="8366743"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366754">&#34;{{$}}&#34;</span><span class="op" id="8366761">}</span><span class="op" id="8366762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366765">{</span><span class="string" id="8366766">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="8366787">,</span>&nbsp;<span class="string" id="8366789">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8366823">,</span>&nbsp;<span class="ident" id="8366825"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366836">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8366870">}</span><span class="op" id="8366871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366874">{</span><span class="string" id="8366875">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="8366897">,</span>&nbsp;<span class="string" id="8366899">&#34;{{$.I}}&#34;</span><span class="op" id="8366908">,</span>&nbsp;<span class="ident" id="8366910"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366917">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366921">&#34;{{$.I}}&#34;</span><span class="op" id="8366930">}</span><span class="op" id="8366931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8366934">{</span><span class="string" id="8366935">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="8366955">,</span>&nbsp;<span class="string" id="8366957">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8366977">,</span>&nbsp;<span class="ident" id="8366979"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8366986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8366990">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8367010">}</span><span class="op" id="8367011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367014">{</span><span class="string" id="8367015">&#34;pipeline&#34;</span><span class="op" id="8367025">,</span>&nbsp;<span class="string" id="8367027">&#34;{{.X|.Y}}&#34;</span><span class="op" id="8367038">,</span>&nbsp;<span class="ident" id="8367040"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367051">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8367064">}</span><span class="op" id="8367065">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367068">{</span><span class="string" id="8367069">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="8367089">,</span>&nbsp;<span class="string" id="8367091">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="8367108">,</span>&nbsp;<span class="ident" id="8367110"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367121">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8367140">}</span><span class="op" id="8367141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367144">{</span><span class="string" id="8367145">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="8367162">,</span>&nbsp;<span class="string" id="8367164">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="8367198">,</span>&nbsp;<span class="ident" id="8367200"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367211">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="8367245">}</span><span class="op" id="8367246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367249">{</span><span class="string" id="8367250">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8367280">,</span>&nbsp;<span class="string" id="8367282">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="8367301">,</span>&nbsp;<span class="ident" id="8367303"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367310">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367314">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="8367333">}</span><span class="op" id="8367334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367337">{</span><span class="string" id="8367338">&#34;simple&nbsp;if&#34;</span><span class="op" id="8367349">,</span>&nbsp;<span class="string" id="8367351">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8367374">,</span>&nbsp;<span class="ident" id="8367376"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367387">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8367412">}</span><span class="op" id="8367413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367416">{</span><span class="string" id="8367417">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="8367431">,</span>&nbsp;<span class="string" id="8367433">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8367468">,</span>&nbsp;<span class="ident" id="8367470"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367481">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8367520">}</span><span class="op" id="8367521">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367524">{</span><span class="string" id="8367525">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="8367542">,</span>&nbsp;<span class="string" id="8367544">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="8367585">,</span>&nbsp;<span class="ident" id="8367587"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367598">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="8367653">}</span><span class="op" id="8367654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367657">{</span><span class="string" id="8367658">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="8367673">,</span>&nbsp;<span class="string" id="8367675">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="8367726">,</span>&nbsp;<span class="ident" id="8367728"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367739">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="8367820">}</span><span class="op" id="8367821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367824">{</span><span class="string" id="8367825">&#34;simple&nbsp;range&#34;</span><span class="op" id="8367839">,</span>&nbsp;<span class="string" id="8367841">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8367867">,</span>&nbsp;<span class="ident" id="8367869"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367876">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367880">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8367908">}</span><span class="op" id="8367909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8367912">{</span><span class="string" id="8367913">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="8367934">,</span>&nbsp;<span class="string" id="8367936">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="8367966">,</span>&nbsp;<span class="ident" id="8367968"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8367975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8367979">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="8368011">}</span><span class="op" id="8368012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368015">{</span><span class="string" id="8368016">&#34;nested&nbsp;range&#34;</span><span class="op" id="8368030">,</span>&nbsp;<span class="string" id="8368032">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="8368084">,</span>&nbsp;<span class="ident" id="8368086"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8368093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368097">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="8368153">}</span><span class="op" id="8368154">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368157">{</span><span class="string" id="8368158">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="8368175">,</span>&nbsp;<span class="string" id="8368177">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8368215">,</span>&nbsp;<span class="ident" id="8368217"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8368224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368228">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8368270">}</span><span class="op" id="8368271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368274">{</span><span class="string" id="8368275">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="8368296">,</span>&nbsp;<span class="string" id="8368298">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="8368339">,</span>&nbsp;<span class="ident" id="8368341"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8368348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368352">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8368399">}</span><span class="op" id="8368400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368403">{</span><span class="string" id="8368404">&#34;range&nbsp;[]int&#34;</span><span class="op" id="8368417">,</span>&nbsp;<span class="string" id="8368419">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8368446">,</span>&nbsp;<span class="ident" id="8368448"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8368455">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368459">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8368486">}</span><span class="op" id="8368487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368490">{</span><span class="string" id="8368491">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="8368504">,</span>&nbsp;<span class="string" id="8368506">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8368539">,</span>&nbsp;<span class="ident" id="8368541"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8368548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368552">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8368585">}</span><span class="op" id="8368586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368589">{</span><span class="string" id="8368590">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="8368604">,</span>&nbsp;<span class="string" id="8368606">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8368643">,</span>&nbsp;<span class="ident" id="8368645"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8368652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368656">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8368693">}</span><span class="op" id="8368694">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368697">{</span><span class="string" id="8368698">&#34;constants&#34;</span><span class="op" id="8368709">,</span>&nbsp;<span class="string" id="8368711">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="8368760">,</span>&nbsp;<span class="ident" id="8368762"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8368769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368773">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="8368822">}</span><span class="op" id="8368823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368826">{</span><span class="string" id="8368827">&#34;template&#34;</span><span class="op" id="8368837">,</span>&nbsp;<span class="string" id="8368839">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="8368857">,</span>&nbsp;<span class="ident" id="8368859"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8368866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368870">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="8368888">}</span><span class="op" id="8368889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368892">{</span><span class="string" id="8368893">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="8368912">,</span>&nbsp;<span class="string" id="8368914">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="8368935">,</span>&nbsp;<span class="ident" id="8368937"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8368944">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368948">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="8368969">}</span><span class="op" id="8368970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8368973">{</span><span class="string" id="8368974">&#34;with&#34;</span><span class="op" id="8368980">,</span>&nbsp;<span class="string" id="8368982">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8369007">,</span>&nbsp;<span class="ident" id="8369009"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8369016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8369020">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8369047">}</span><span class="op" id="8369048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369051">{</span><span class="string" id="8369052">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="8369068">,</span>&nbsp;<span class="string" id="8369070">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="8369110">,</span>&nbsp;<span class="ident" id="8369112"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8369119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8369123">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="8369167">}</span><span class="op" id="8369168">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8369171">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369183">{</span><span class="string" id="8369184">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="8369201">,</span>&nbsp;<span class="string" id="8369203">&#34;hello{{range&#34;</span><span class="op" id="8369217">,</span>&nbsp;<span class="ident" id="8369219"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369227">,</span>&nbsp;<span class="string" id="8369229">&#34;&#34;</span><span class="op" id="8369231">}</span><span class="op" id="8369232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369235">{</span><span class="string" id="8369236">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="8369251">,</span>&nbsp;<span class="string" id="8369253">&#34;{{end}}&#34;</span><span class="op" id="8369262">,</span>&nbsp;<span class="ident" id="8369264"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369272">,</span>&nbsp;<span class="string" id="8369274">&#34;&#34;</span><span class="op" id="8369276">}</span><span class="op" id="8369277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369280">{</span><span class="string" id="8369281">&#34;missing&nbsp;end&#34;</span><span class="op" id="8369294">,</span>&nbsp;<span class="string" id="8369296">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="8369315">,</span>&nbsp;<span class="ident" id="8369317"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369325">,</span>&nbsp;<span class="string" id="8369327">&#34;&#34;</span><span class="op" id="8369329">}</span><span class="op" id="8369330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369333">{</span><span class="string" id="8369334">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="8369358">,</span>&nbsp;<span class="string" id="8369360">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="8369387">,</span>&nbsp;<span class="ident" id="8369389"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369397">,</span>&nbsp;<span class="string" id="8369399">&#34;&#34;</span><span class="op" id="8369401">}</span><span class="op" id="8369402">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369405">{</span><span class="string" id="8369406">&#34;undefined&nbsp;function&#34;</span><span class="op" id="8369426">,</span>&nbsp;<span class="string" id="8369428">&#34;hello{{undefined}}&#34;</span><span class="op" id="8369448">,</span>&nbsp;<span class="ident" id="8369450"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369458">,</span>&nbsp;<span class="string" id="8369460">&#34;&#34;</span><span class="op" id="8369462">}</span><span class="op" id="8369463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369466">{</span><span class="string" id="8369467">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="8369487">,</span>&nbsp;<span class="string" id="8369489">&#34;{{$x}}&#34;</span><span class="op" id="8369497">,</span>&nbsp;<span class="ident" id="8369499"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369507">,</span>&nbsp;<span class="string" id="8369509">&#34;&#34;</span><span class="op" id="8369511">}</span><span class="op" id="8369512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369515">{</span><span class="string" id="8369516">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="8369546">,</span>&nbsp;<span class="string" id="8369548">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="8369579">,</span>&nbsp;<span class="ident" id="8369581"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369589">,</span>&nbsp;<span class="string" id="8369591">&#34;&#34;</span><span class="op" id="8369593">}</span><span class="op" id="8369594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369597">{</span><span class="string" id="8369598">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="8369630">,</span>&nbsp;<span class="string" id="8369632">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8369649">,</span>&nbsp;<span class="ident" id="8369651"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369659">,</span>&nbsp;<span class="string" id="8369661">&#34;&#34;</span><span class="op" id="8369663">}</span><span class="op" id="8369664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369667">{</span><span class="string" id="8369668">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="8369688">,</span>&nbsp;<span class="string" id="8369690">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="8369717">,</span>&nbsp;<span class="ident" id="8369719"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369727">,</span>&nbsp;<span class="string" id="8369729">&#34;&#34;</span><span class="op" id="8369731">}</span><span class="op" id="8369732">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369735">{</span><span class="string" id="8369736">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="8369761">,</span>&nbsp;<span class="string" id="8369763">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="8369780">,</span>&nbsp;<span class="ident" id="8369782"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369790">,</span>&nbsp;<span class="string" id="8369792">&#34;&#34;</span><span class="op" id="8369794">}</span><span class="op" id="8369795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369798">{</span><span class="string" id="8369799">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="8369818">,</span>&nbsp;<span class="string" id="8369820">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8369837">,</span>&nbsp;<span class="ident" id="8369839"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369847">,</span>&nbsp;<span class="string" id="8369849">&#34;&#34;</span><span class="op" id="8369851">}</span><span class="op" id="8369852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369855">{</span><span class="string" id="8369856">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="8369877">,</span>&nbsp;<span class="string" id="8369879">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="8369896">,</span>&nbsp;<span class="ident" id="8369898"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369906">,</span>&nbsp;<span class="string" id="8369908">&#34;&#34;</span><span class="op" id="8369910">}</span><span class="op" id="8369911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369914">{</span><span class="string" id="8369915">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="8369940">,</span>&nbsp;<span class="string" id="8369942">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8369971">,</span>&nbsp;<span class="ident" id="8369973"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8369981">,</span>&nbsp;<span class="string" id="8369983">&#34;&#34;</span><span class="op" id="8369985">}</span><span class="op" id="8369986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369989">{</span><span class="string" id="8369990">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="8370015">,</span>&nbsp;<span class="string" id="8370017">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8370051">,</span>&nbsp;<span class="ident" id="8370053"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370061">,</span>&nbsp;<span class="string" id="8370063">&#34;&#34;</span><span class="op" id="8370065">}</span><span class="op" id="8370066">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370069">{</span><span class="string" id="8370070">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8370098">,</span>&nbsp;<span class="string" id="8370100">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="8370124">,</span>&nbsp;<span class="ident" id="8370126"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370134">,</span>&nbsp;<span class="string" id="8370136">&#34;&#34;</span><span class="op" id="8370138">}</span><span class="op" id="8370139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370142">{</span><span class="string" id="8370143">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="8370158">,</span>&nbsp;<span class="string" id="8370160">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="8370177">,</span>&nbsp;<span class="ident" id="8370179"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370187">,</span>&nbsp;<span class="string" id="8370189">&#34;&#34;</span><span class="op" id="8370191">}</span><span class="op" id="8370192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370195">{</span><span class="string" id="8370196">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="8370218">,</span>&nbsp;<span class="string" id="8370220">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="8370237">,</span>&nbsp;<span class="ident" id="8370239"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370247">,</span>&nbsp;<span class="string" id="8370249">&#34;&#34;</span><span class="op" id="8370251">}</span><span class="op" id="8370252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370255">{</span><span class="string" id="8370256">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="8370276">,</span>&nbsp;<span class="string" id="8370278">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="8370319">,</span>&nbsp;<span class="ident" id="8370321"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370329">,</span>&nbsp;<span class="string" id="8370331">&#34;&#34;</span><span class="op" id="8370333">}</span><span class="op" id="8370334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8370337">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370397">{</span><span class="string" id="8370398">&#34;bug0a&#34;</span><span class="op" id="8370405">,</span>&nbsp;<span class="string" id="8370407">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8370426">,</span>&nbsp;<span class="ident" id="8370428"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8370435">,</span>&nbsp;<span class="string" id="8370437">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8370456">}</span><span class="op" id="8370457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370460">{</span><span class="string" id="8370461">&#34;bug0b&#34;</span><span class="op" id="8370468">,</span>&nbsp;<span class="string" id="8370470">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="8370488">,</span>&nbsp;<span class="ident" id="8370490"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370498">,</span>&nbsp;<span class="string" id="8370500">&#34;&#34;</span><span class="op" id="8370502">}</span><span class="op" id="8370503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370506">{</span><span class="string" id="8370507">&#34;bug0c&#34;</span><span class="op" id="8370514">,</span>&nbsp;<span class="string" id="8370516">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="8370534">,</span>&nbsp;<span class="ident" id="8370536"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370544">,</span>&nbsp;<span class="string" id="8370546">&#34;&#34;</span><span class="op" id="8370548">}</span><span class="op" id="8370549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370552">{</span><span class="string" id="8370553">&#34;bug0d&#34;</span><span class="op" id="8370560">,</span>&nbsp;<span class="string" id="8370562">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="8370580">,</span>&nbsp;<span class="ident" id="8370582"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370590">,</span>&nbsp;<span class="string" id="8370592">&#34;&#34;</span><span class="op" id="8370594">}</span><span class="op" id="8370595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8370598">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370650">{</span><span class="string" id="8370651">&#34;bug0e&#34;</span><span class="op" id="8370658">,</span>&nbsp;<span class="string" id="8370660">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8370692">,</span>&nbsp;<span class="ident" id="8370694"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370702">,</span>&nbsp;<span class="string" id="8370704">&#34;&#34;</span><span class="op" id="8370706">}</span><span class="op" id="8370707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8370710">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370776">{</span><span class="string" id="8370777">&#34;bug1a&#34;</span><span class="op" id="8370784">,</span>&nbsp;<span class="string" id="8370786">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="8370805">,</span>&nbsp;<span class="ident" id="8370807"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370815">,</span>&nbsp;<span class="string" id="8370817">&#34;&#34;</span><span class="op" id="8370819">}</span><span class="op" id="8370820">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370842">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370870">{</span><span class="string" id="8370871">&#34;bug1b&#34;</span><span class="op" id="8370878">,</span>&nbsp;<span class="string" id="8370880">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="8370899">,</span>&nbsp;<span class="ident" id="8370901"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8370909">,</span>&nbsp;<span class="string" id="8370911">&#34;&#34;</span><span class="op" id="8370913">}</span><span class="op" id="8370914">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8370936">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370976">{</span><span class="string" id="8370977">&#34;bug1c&#34;</span><span class="op" id="8370984">,</span>&nbsp;<span class="string" id="8370986">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8371006">,</span>&nbsp;<span class="ident" id="8371008"><a href="/text/template/parse/parse_test.go.html#8366328">noError</a></span><span class="op" id="8371015">,</span>&nbsp;<span class="string" id="8371017">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8371039">}</span><span class="op" id="8371040">,</span>&nbsp;<span class="comment" id="8371042">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="8371067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8371070">var</span>&nbsp;<span class="ident" id="8371074">builtins</span>&nbsp;<span class="op" id="8371083">=</span>&nbsp;<span class="keyword" id="8371085">map</span><span class="op" id="8371088">[</span><span class="builtintype" id="8371089">string</span><span class="op" id="8371095">]</span><span class="keyword" id="8371096">interface</span><span class="op" id="8371105">{</span><span class="op" id="8371106">}</span><span class="op" id="8371107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8371110">&#34;printf&#34;</span><span class="op" id="8371118">:</span>&nbsp;<span class="ident" id="8371120"><a href="/text/template/parse/parse_test.go.html#8361593">fmt</a></span><span class="op" id="8371123">.</span><span class="ident" id="8371124">Sprintf</span><span class="op" id="8371131">,</span><br>
<span class="lineno"></span><span class="op" id="8371133">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="8371136">func</span>&nbsp;<span class="ident" id="8371141">testParse</span><span class="op" id="8371150">(</span><span class="ident" id="8371151">doCopy</span>&nbsp;<span class="builtintype" id="8371158">bool</span><span class="op" id="8371162">,</span>&nbsp;<span class="ident" id="8371164">t</span>&nbsp;<span class="op" id="8371166">*</span><span class="ident" id="8371167"><a href="/text/template/parse/parse_test.go.html#8361611">testing</a></span><span class="op" id="8371174">.</span><span class="ident" id="8371175">T</span><span class="op" id="8371176">)</span>&nbsp;<span class="op" id="8371178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371181"><a href="/text/template/parse/node.go.html#4510144">textFormat</a></span>&nbsp;<span class="op" id="8371192">=</span>&nbsp;<span class="string" id="8371194">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371200">defer</span>&nbsp;<span class="keyword" id="8371206">func</span><span class="op" id="8371210">(</span><span class="op" id="8371211">)</span>&nbsp;<span class="op" id="8371213">{</span>&nbsp;<span class="ident" id="8371215"><a href="/text/template/parse/node.go.html#4510144">textFormat</a></span>&nbsp;<span class="op" id="8371226">=</span>&nbsp;<span class="string" id="8371228">&#34;%s&#34;</span>&nbsp;<span class="op" id="8371233">}</span><span class="op" id="8371234">(</span><span class="op" id="8371235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371238">for</span>&nbsp;<span class="ident" id="8371242">_</span><span class="op" id="8371243">,</span>&nbsp;<span class="ident" id="8371245">test</span>&nbsp;<span class="op" id="8371250">:=</span>&nbsp;<span class="keyword" id="8371253">range</span>&nbsp;<span class="ident" id="8371259"><a href="/text/template/parse/parse_test.go.html#8366369">parseTests</a></span>&nbsp;<span class="op" id="8371270">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371274">tmpl</span><span class="op" id="8371278">,</span>&nbsp;<span class="ident" id="8371280">err</span>&nbsp;<span class="op" id="8371284">:=</span>&nbsp;<span class="ident" id="8371287"><a href="/text/template/parse/parse.go.html#4533652">New</a></span><span class="op" id="8371290">(</span><span class="ident" id="8371291"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371295">.</span><span class="ident" id="8371296">name</span><span class="op" id="8371300">)</span><span class="op" id="8371301">.</span><span class="ident" id="8371302">Parse</span><span class="op" id="8371307">(</span><span class="ident" id="8371308"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371312">.</span><span class="ident" id="8371313">input</span><span class="op" id="8371318">,</span>&nbsp;<span class="string" id="8371320">&#34;&#34;</span><span class="op" id="8371322">,</span>&nbsp;<span class="string" id="8371324">&#34;&#34;</span><span class="op" id="8371326">,</span>&nbsp;<span class="builtinfunc" id="8371328">make</span><span class="op" id="8371332">(</span><span class="keyword" id="8371333">map</span><span class="op" id="8371336">[</span><span class="builtintype" id="8371337">string</span><span class="op" id="8371343">]</span><span class="op" id="8371344">*</span><span class="ident" id="8371345"><a href="/text/template/parse/parse.go.html#4531006">Tree</a></span><span class="op" id="8371349">)</span><span class="op" id="8371350">,</span>&nbsp;<span class="ident" id="8371352"><a href="/text/template/parse/parse_test.go.html#8371074">builtins</a></span><span class="op" id="8371360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371364">switch</span>&nbsp;<span class="op" id="8371371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371375">case</span>&nbsp;<span class="ident" id="8371380"><a href="/text/template/parse/parse_test.go.html#8371280">err</a></span>&nbsp;<span class="op" id="8371384">==</span>&nbsp;<span class="ident" id="8371387">nil</span>&nbsp;<span class="op" id="8371391">&amp;&amp;</span>&nbsp;<span class="op" id="8371394">!</span><span class="ident" id="8371395"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371399">.</span><span class="ident" id="8371400">ok</span><span class="op" id="8371402">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371407"><a href="/text/template/parse/parse_test.go.html#8371164">t</a></span><span class="op" id="8371408">.</span><span class="ident" id="8371409">Errorf</span><span class="op" id="8371415">(</span><span class="string" id="8371416">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8371446">,</span>&nbsp;<span class="ident" id="8371448"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371452">.</span><span class="ident" id="8371453">name</span><span class="op" id="8371457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371462">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371473">case</span>&nbsp;<span class="ident" id="8371478"><a href="/text/template/parse/parse_test.go.html#8371280">err</a></span>&nbsp;<span class="op" id="8371482">!=</span>&nbsp;<span class="ident" id="8371485">nil</span>&nbsp;<span class="op" id="8371489">&amp;&amp;</span>&nbsp;<span class="ident" id="8371492"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371496">.</span><span class="ident" id="8371497">ok</span><span class="op" id="8371499">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371504"><a href="/text/template/parse/parse_test.go.html#8371164">t</a></span><span class="op" id="8371505">.</span><span class="ident" id="8371506">Errorf</span><span class="op" id="8371512">(</span><span class="string" id="8371513">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8371539">,</span>&nbsp;<span class="ident" id="8371541"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371545">.</span><span class="ident" id="8371546">name</span><span class="op" id="8371550">,</span>&nbsp;<span class="ident" id="8371552"><a href="/text/template/parse/parse_test.go.html#8371280">err</a></span><span class="op" id="8371555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371560">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371571">case</span>&nbsp;<span class="ident" id="8371576"><a href="/text/template/parse/parse_test.go.html#8371280">err</a></span>&nbsp;<span class="op" id="8371580">!=</span>&nbsp;<span class="ident" id="8371583">nil</span>&nbsp;<span class="op" id="8371587">&amp;&amp;</span>&nbsp;<span class="op" id="8371590">!</span><span class="ident" id="8371591"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371595">.</span><span class="ident" id="8371596">ok</span><span class="op" id="8371598">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8371603">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371633">if</span>&nbsp;<span class="op" id="8371636">*</span><span class="ident" id="8371637"><a href="/text/template/parse/parse_test.go.html#8361628">debug</a></span>&nbsp;<span class="op" id="8371643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371649"><a href="/text/template/parse/parse_test.go.html#8361593">fmt</a></span><span class="op" id="8371652">.</span><span class="ident" id="8371653">Printf</span><span class="op" id="8371659">(</span><span class="string" id="8371660">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="8371676">,</span>&nbsp;<span class="ident" id="8371678"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371682">.</span><span class="ident" id="8371683">name</span><span class="op" id="8371687">,</span>&nbsp;<span class="ident" id="8371689"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371693">.</span><span class="ident" id="8371694">input</span><span class="op" id="8371699">,</span>&nbsp;<span class="ident" id="8371701"><a href="/text/template/parse/parse_test.go.html#8371280">err</a></span><span class="op" id="8371704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371714">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371725">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371729">var</span>&nbsp;<span class="ident" id="8371733">result</span>&nbsp;<span class="builtintype" id="8371740">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371749">if</span>&nbsp;<span class="ident" id="8371752"><a href="/text/template/parse/parse_test.go.html#8371151">doCopy</a></span>&nbsp;<span class="op" id="8371759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371764"><a href="/text/template/parse/parse_test.go.html#8371733">result</a></span>&nbsp;<span class="op" id="8371771">=</span>&nbsp;<span class="ident" id="8371773"><a href="/text/template/parse/parse_test.go.html#8371274">tmpl</a></span><span class="op" id="8371777">.</span><span class="ident" id="8371778">Root</span><span class="op" id="8371782">.</span><span class="ident" id="8371783">Copy</span><span class="op" id="8371787">(</span><span class="op" id="8371788">)</span><span class="op" id="8371789">.</span><span class="ident" id="8371790">String</span><span class="op" id="8371796">(</span><span class="op" id="8371797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371801">}</span>&nbsp;<span class="keyword" id="8371803">else</span>&nbsp;<span class="op" id="8371808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371813"><a href="/text/template/parse/parse_test.go.html#8371733">result</a></span>&nbsp;<span class="op" id="8371820">=</span>&nbsp;<span class="ident" id="8371822"><a href="/text/template/parse/parse_test.go.html#8371274">tmpl</a></span><span class="op" id="8371826">.</span><span class="ident" id="8371827">Root</span><span class="op" id="8371831">.</span><span class="ident" id="8371832">String</span><span class="op" id="8371838">(</span><span class="op" id="8371839">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8371847">if</span>&nbsp;<span class="ident" id="8371850"><a href="/text/template/parse/parse_test.go.html#8371733">result</a></span>&nbsp;<span class="op" id="8371857">!=</span>&nbsp;<span class="ident" id="8371860"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371864">.</span><span class="ident" id="8371865">result</span>&nbsp;<span class="op" id="8371872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8371877"><a href="/text/template/parse/parse_test.go.html#8371164">t</a></span><span class="op" id="8371878">.</span><span class="ident" id="8371879">Errorf</span><span class="op" id="8371885">(</span><span class="string" id="8371886">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="8371922">,</span>&nbsp;<span class="ident" id="8371924"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371928">.</span><span class="ident" id="8371929">name</span><span class="op" id="8371933">,</span>&nbsp;<span class="ident" id="8371935"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371939">.</span><span class="ident" id="8371940">input</span><span class="op" id="8371945">,</span>&nbsp;<span class="ident" id="8371947"><a href="/text/template/parse/parse_test.go.html#8371733">result</a></span><span class="op" id="8371953">,</span>&nbsp;<span class="ident" id="8371955"><a href="/text/template/parse/parse_test.go.html#8371245">test</a></span><span class="op" id="8371959">.</span><span class="ident" id="8371960">result</span><span class="op" id="8371966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371973">}</span><br>
<span class="lineno">295</span><span class="op" id="8371975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8371978">func</span>&nbsp;<span class="ident" id="8371983">TestParse</span><span class="op" id="8371992">(</span><span class="ident" id="8371993">t</span>&nbsp;<span class="op" id="8371995">*</span><span class="ident" id="8371996"><a href="/text/template/parse/parse_test.go.html#8361611">testing</a></span><span class="op" id="8372003">.</span><span class="ident" id="8372004">T</span><span class="op" id="8372005">)</span>&nbsp;<span class="op" id="8372007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372010"><a href="/text/template/parse/parse_test.go.html#8371141">testParse</a></span><span class="op" id="8372019">(</span><span class="builtintype" id="8372020">false</span><span class="op" id="8372025">,</span>&nbsp;<span class="ident" id="8372027"><a href="/text/template/parse/parse_test.go.html#8371993">t</a></span><span class="op" id="8372028">)</span><br>
<span class="lineno"></span><span class="op" id="8372030">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="8372033">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="8372082">func</span>&nbsp;<span class="ident" id="8372087">TestParseCopy</span><span class="op" id="8372100">(</span><span class="ident" id="8372101">t</span>&nbsp;<span class="op" id="8372103">*</span><span class="ident" id="8372104"><a href="/text/template/parse/parse_test.go.html#8361611">testing</a></span><span class="op" id="8372111">.</span><span class="ident" id="8372112">T</span><span class="op" id="8372113">)</span>&nbsp;<span class="op" id="8372115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372118"><a href="/text/template/parse/parse_test.go.html#8371141">testParse</a></span><span class="op" id="8372127">(</span><span class="builtintype" id="8372128">true</span><span class="op" id="8372132">,</span>&nbsp;<span class="ident" id="8372134"><a href="/text/template/parse/parse_test.go.html#8372101">t</a></span><span class="op" id="8372135">)</span><br>
<span class="lineno"></span><span class="op" id="8372137">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="8372140">type</span>&nbsp;<span class="ident" id="8372145">isEmptyTest</span>&nbsp;<span class="keyword" id="8372157">struct</span>&nbsp;<span class="op" id="8372164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372167">name</span>&nbsp;&nbsp;<span class="builtintype" id="8372173">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372181">input</span>&nbsp;<span class="builtintype" id="8372187">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372195">empty</span>&nbsp;<span class="builtintype" id="8372201">bool</span><br>
<span class="lineno">310</span><span class="op" id="8372206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8372209">var</span>&nbsp;<span class="ident" id="8372213">isEmptyTests</span>&nbsp;<span class="op" id="8372226">=</span>&nbsp;<span class="op" id="8372228">[</span><span class="op" id="8372229">]</span><span class="ident" id="8372230"><a href="/text/template/parse/parse_test.go.html#8372145">isEmptyTest</a></span><span class="op" id="8372241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372244">{</span><span class="string" id="8372245">&#34;empty&#34;</span><span class="op" id="8372252">,</span>&nbsp;<span class="string" id="8372254">``</span><span class="op" id="8372256">,</span>&nbsp;<span class="builtintype" id="8372258">true</span><span class="op" id="8372262">}</span><span class="op" id="8372263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372266">{</span><span class="string" id="8372267">&#34;nonempty&#34;</span><span class="op" id="8372277">,</span>&nbsp;<span class="string" id="8372279">`hello`</span><span class="op" id="8372286">,</span>&nbsp;<span class="builtintype" id="8372288">false</span><span class="op" id="8372293">}</span><span class="op" id="8372294">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372297">{</span><span class="string" id="8372298">&#34;spaces&nbsp;only&#34;</span><span class="op" id="8372311">,</span>&nbsp;<span class="string" id="8372313">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="8372325">,</span>&nbsp;<span class="builtintype" id="8372327">true</span><span class="op" id="8372331">}</span><span class="op" id="8372332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372335">{</span><span class="string" id="8372336">&#34;definition&#34;</span><span class="op" id="8372348">,</span>&nbsp;<span class="string" id="8372350">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="8372382">,</span>&nbsp;<span class="builtintype" id="8372384">true</span><span class="op" id="8372388">}</span><span class="op" id="8372389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372392">{</span><span class="string" id="8372393">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="8372416">,</span>&nbsp;<span class="string" id="8372418">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="8372488">,</span>&nbsp;<span class="builtintype" id="8372490">true</span><span class="op" id="8372494">}</span><span class="op" id="8372495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372498">{</span><span class="string" id="8372499">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="8372521">,</span>&nbsp;<span class="string" id="8372523">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="8372595">,</span>&nbsp;<span class="builtintype" id="8372597">false</span><span class="op" id="8372602">}</span><span class="op" id="8372603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372606">{</span><span class="string" id="8372607">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="8372630">,</span>&nbsp;<span class="string" id="8372632">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="8372682">,</span>&nbsp;<span class="builtintype" id="8372684">false</span><span class="op" id="8372689">}</span><span class="op" id="8372690">,</span><br>
<span class="lineno">320</span><span class="op" id="8372692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8372695">func</span>&nbsp;<span class="ident" id="8372700">TestIsEmpty</span><span class="op" id="8372711">(</span><span class="ident" id="8372712">t</span>&nbsp;<span class="op" id="8372714">*</span><span class="ident" id="8372715"><a href="/text/template/parse/parse_test.go.html#8361611">testing</a></span><span class="op" id="8372722">.</span><span class="ident" id="8372723">T</span><span class="op" id="8372724">)</span>&nbsp;<span class="op" id="8372726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8372729">if</span>&nbsp;<span class="op" id="8372732">!</span><span class="ident" id="8372733"><a href="/text/template/parse/parse.go.html#4537136">IsEmptyTree</a></span><span class="op" id="8372744">(</span><span class="ident" id="8372745">nil</span><span class="op" id="8372748">)</span>&nbsp;<span class="op" id="8372750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372754"><a href="/text/template/parse/parse_test.go.html#8372712">t</a></span><span class="op" id="8372755">.</span><span class="ident" id="8372756">Errorf</span><span class="op" id="8372762">(</span><span class="string" id="8372763">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="8372786">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8372792">for</span>&nbsp;<span class="ident" id="8372796">_</span><span class="op" id="8372797">,</span>&nbsp;<span class="ident" id="8372799">test</span>&nbsp;<span class="op" id="8372804">:=</span>&nbsp;<span class="keyword" id="8372807">range</span>&nbsp;<span class="ident" id="8372813"><a href="/text/template/parse/parse_test.go.html#8372213">isEmptyTests</a></span>&nbsp;<span class="op" id="8372826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372830">tree</span><span class="op" id="8372834">,</span>&nbsp;<span class="ident" id="8372836">err</span>&nbsp;<span class="op" id="8372840">:=</span>&nbsp;<span class="ident" id="8372843"><a href="/text/template/parse/parse.go.html#4533652">New</a></span><span class="op" id="8372846">(</span><span class="string" id="8372847">&#34;root&#34;</span><span class="op" id="8372853">)</span><span class="op" id="8372854">.</span><span class="ident" id="8372855">Parse</span><span class="op" id="8372860">(</span><span class="ident" id="8372861"><a href="/text/template/parse/parse_test.go.html#8372799">test</a></span><span class="op" id="8372865">.</span><span class="ident" id="8372866">input</span><span class="op" id="8372871">,</span>&nbsp;<span class="string" id="8372873">&#34;&#34;</span><span class="op" id="8372875">,</span>&nbsp;<span class="string" id="8372877">&#34;&#34;</span><span class="op" id="8372879">,</span>&nbsp;<span class="builtinfunc" id="8372881">make</span><span class="op" id="8372885">(</span><span class="keyword" id="8372886">map</span><span class="op" id="8372889">[</span><span class="builtintype" id="8372890">string</span><span class="op" id="8372896">]</span><span class="op" id="8372897">*</span><span class="ident" id="8372898"><a href="/text/template/parse/parse.go.html#4531006">Tree</a></span><span class="op" id="8372902">)</span><span class="op" id="8372903">,</span>&nbsp;<span class="ident" id="8372905">nil</span><span class="op" id="8372908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8372912">if</span>&nbsp;<span class="ident" id="8372915"><a href="/text/template/parse/parse_test.go.html#8372836">err</a></span>&nbsp;<span class="op" id="8372919">!=</span>&nbsp;<span class="ident" id="8372922">nil</span>&nbsp;<span class="op" id="8372926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8372931"><a href="/text/template/parse/parse_test.go.html#8372712">t</a></span><span class="op" id="8372932">.</span><span class="ident" id="8372933">Errorf</span><span class="op" id="8372939">(</span><span class="string" id="8372940">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8372966">,</span>&nbsp;<span class="ident" id="8372968"><a href="/text/template/parse/parse_test.go.html#8372799">test</a></span><span class="op" id="8372972">.</span><span class="ident" id="8372973">name</span><span class="op" id="8372977">,</span>&nbsp;<span class="ident" id="8372979"><a href="/text/template/parse/parse_test.go.html#8372836">err</a></span><span class="op" id="8372982">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8372987">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373002">if</span>&nbsp;<span class="ident" id="8373005">empty</span>&nbsp;<span class="op" id="8373011">:=</span>&nbsp;<span class="ident" id="8373014"><a href="/text/template/parse/parse.go.html#4537136">IsEmptyTree</a></span><span class="op" id="8373025">(</span><span class="ident" id="8373026"><a href="/text/template/parse/parse_test.go.html#8372830">tree</a></span><span class="op" id="8373030">.</span><span class="ident" id="8373031">Root</span><span class="op" id="8373035">)</span><span class="op" id="8373036">;</span>&nbsp;<span class="ident" id="8373038"><a href="/text/template/parse/parse_test.go.html#8373005">empty</a></span>&nbsp;<span class="op" id="8373044">!=</span>&nbsp;<span class="ident" id="8373047"><a href="/text/template/parse/parse_test.go.html#8372799">test</a></span><span class="op" id="8373051">.</span><span class="ident" id="8373052">empty</span>&nbsp;<span class="op" id="8373058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373063"><a href="/text/template/parse/parse_test.go.html#8372712">t</a></span><span class="op" id="8373064">.</span><span class="ident" id="8373065">Errorf</span><span class="op" id="8373071">(</span><span class="string" id="8373072">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="8373096">,</span>&nbsp;<span class="ident" id="8373098"><a href="/text/template/parse/parse_test.go.html#8372799">test</a></span><span class="op" id="8373102">.</span><span class="ident" id="8373103">name</span><span class="op" id="8373107">,</span>&nbsp;<span class="ident" id="8373109"><a href="/text/template/parse/parse_test.go.html#8372799">test</a></span><span class="op" id="8373113">.</span><span class="ident" id="8373114">empty</span><span class="op" id="8373119">,</span>&nbsp;<span class="ident" id="8373121"><a href="/text/template/parse/parse_test.go.html#8373005">empty</a></span><span class="op" id="8373126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373130">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373133">}</span><br>
<span class="lineno"></span><span class="op" id="8373135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8373138">func</span>&nbsp;<span class="ident" id="8373143">TestErrorContextWithTreeCopy</span><span class="op" id="8373171">(</span><span class="ident" id="8373172">t</span>&nbsp;<span class="op" id="8373174">*</span><span class="ident" id="8373175"><a href="/text/template/parse/parse_test.go.html#8361611">testing</a></span><span class="op" id="8373182">.</span><span class="ident" id="8373183">T</span><span class="op" id="8373184">)</span>&nbsp;<span class="op" id="8373186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373189">tree</span><span class="op" id="8373193">,</span>&nbsp;<span class="ident" id="8373195">err</span>&nbsp;<span class="op" id="8373199">:=</span>&nbsp;<span class="ident" id="8373202"><a href="/text/template/parse/parse.go.html#4533652">New</a></span><span class="op" id="8373205">(</span><span class="string" id="8373206">&#34;root&#34;</span><span class="op" id="8373212">)</span><span class="op" id="8373213">.</span><span class="ident" id="8373214">Parse</span><span class="op" id="8373219">(</span><span class="string" id="8373220">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="8373240">,</span>&nbsp;<span class="string" id="8373242">&#34;&#34;</span><span class="op" id="8373244">,</span>&nbsp;<span class="string" id="8373246">&#34;&#34;</span><span class="op" id="8373248">,</span>&nbsp;<span class="builtinfunc" id="8373250">make</span><span class="op" id="8373254">(</span><span class="keyword" id="8373255">map</span><span class="op" id="8373258">[</span><span class="builtintype" id="8373259">string</span><span class="op" id="8373265">]</span><span class="op" id="8373266">*</span><span class="ident" id="8373267"><a href="/text/template/parse/parse.go.html#4531006">Tree</a></span><span class="op" id="8373271">)</span><span class="op" id="8373272">,</span>&nbsp;<span class="ident" id="8373274">nil</span><span class="op" id="8373277">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373280">if</span>&nbsp;<span class="ident" id="8373283"><a href="/text/template/parse/parse_test.go.html#8373195">err</a></span>&nbsp;<span class="op" id="8373287">!=</span>&nbsp;<span class="ident" id="8373290">nil</span>&nbsp;<span class="op" id="8373294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373298"><a href="/text/template/parse/parse_test.go.html#8373172">t</a></span><span class="op" id="8373299">.</span><span class="ident" id="8373300">Fatalf</span><span class="op" id="8373306">(</span><span class="string" id="8373307">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="8373342">,</span>&nbsp;<span class="ident" id="8373344"><a href="/text/template/parse/parse_test.go.html#8373195">err</a></span><span class="op" id="8373347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373353">treeCopy</span>&nbsp;<span class="op" id="8373362">:=</span>&nbsp;<span class="ident" id="8373365"><a href="/text/template/parse/parse_test.go.html#8373189">tree</a></span><span class="op" id="8373369">.</span><span class="ident" id="8373370">Copy</span><span class="op" id="8373374">(</span><span class="op" id="8373375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373378">wantLocation</span><span class="op" id="8373390">,</span>&nbsp;<span class="ident" id="8373392">wantContext</span>&nbsp;<span class="op" id="8373404">:=</span>&nbsp;<span class="ident" id="8373407"><a href="/text/template/parse/parse_test.go.html#8373189">tree</a></span><span class="op" id="8373411">.</span><span class="ident" id="8373412">ErrorContext</span><span class="op" id="8373424">(</span><span class="ident" id="8373425"><a href="/text/template/parse/parse_test.go.html#8373189">tree</a></span><span class="op" id="8373429">.</span><span class="ident" id="8373430">Root</span><span class="op" id="8373434">.</span><span class="ident" id="8373435">Nodes</span><span class="op" id="8373440">[</span><span class="num" id="8373441">0</span><span class="op" id="8373442">]</span><span class="op" id="8373443">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373446">gotLocation</span><span class="op" id="8373457">,</span>&nbsp;<span class="ident" id="8373459">gotContext</span>&nbsp;<span class="op" id="8373470">:=</span>&nbsp;<span class="ident" id="8373473"><a href="/text/template/parse/parse_test.go.html#8373353">treeCopy</a></span><span class="op" id="8373481">.</span><span class="ident" id="8373482">ErrorContext</span><span class="op" id="8373494">(</span><span class="ident" id="8373495"><a href="/text/template/parse/parse_test.go.html#8373353">treeCopy</a></span><span class="op" id="8373503">.</span><span class="ident" id="8373504">Root</span><span class="op" id="8373508">.</span><span class="ident" id="8373509">Nodes</span><span class="op" id="8373514">[</span><span class="num" id="8373515">0</span><span class="op" id="8373516">]</span><span class="op" id="8373517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373520">if</span>&nbsp;<span class="ident" id="8373523"><a href="/text/template/parse/parse_test.go.html#8373378">wantLocation</a></span>&nbsp;<span class="op" id="8373536">!=</span>&nbsp;<span class="ident" id="8373539"><a href="/text/template/parse/parse_test.go.html#8373446">gotLocation</a></span>&nbsp;<span class="op" id="8373551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373555"><a href="/text/template/parse/parse_test.go.html#8373172">t</a></span><span class="op" id="8373556">.</span><span class="ident" id="8373557">Errorf</span><span class="op" id="8373563">(</span><span class="string" id="8373564">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8373601">,</span>&nbsp;<span class="ident" id="8373603"><a href="/text/template/parse/parse_test.go.html#8373378">wantLocation</a></span><span class="op" id="8373615">,</span>&nbsp;<span class="ident" id="8373617"><a href="/text/template/parse/parse_test.go.html#8373446">gotLocation</a></span><span class="op" id="8373628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373634">if</span>&nbsp;<span class="ident" id="8373637"><a href="/text/template/parse/parse_test.go.html#8373392">wantContext</a></span>&nbsp;<span class="op" id="8373649">!=</span>&nbsp;<span class="ident" id="8373652"><a href="/text/template/parse/parse_test.go.html#8373459">gotContext</a></span>&nbsp;<span class="op" id="8373663">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373667"><a href="/text/template/parse/parse_test.go.html#8373172">t</a></span><span class="op" id="8373668">.</span><span class="ident" id="8373669">Errorf</span><span class="op" id="8373675">(</span><span class="string" id="8373676">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8373713">,</span>&nbsp;<span class="ident" id="8373715"><a href="/text/template/parse/parse_test.go.html#8373392">wantContext</a></span><span class="op" id="8373726">,</span>&nbsp;<span class="ident" id="8373728"><a href="/text/template/parse/parse_test.go.html#8373459">gotContext</a></span><span class="op" id="8373738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373741">}</span><br>
<span class="lineno"></span><span class="op" id="8373743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8373746">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="8373829">var</span>&nbsp;<span class="ident" id="8373833">errorTests</span>&nbsp;<span class="op" id="8373844">=</span>&nbsp;<span class="op" id="8373846">[</span><span class="op" id="8373847">]</span><span class="ident" id="8373848"><a href="/text/template/parse/parse_test.go.html#8366191">parseTest</a></span><span class="op" id="8373857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8373860">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373897">{</span><span class="string" id="8373898">&#34;unclosed1&#34;</span><span class="op" id="8373909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8373913">&#34;line1\n{{&#34;</span><span class="op" id="8373924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373928"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8373936">,</span>&nbsp;<span class="string" id="8373938">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8373990">}</span><span class="op" id="8373991">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373994">{</span><span class="string" id="8373995">&#34;unclosed2&#34;</span><span class="op" id="8374006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374010">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="8374042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374046"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374054">,</span>&nbsp;<span class="string" id="8374056">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8374108">}</span><span class="op" id="8374109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8374112">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374133">{</span><span class="string" id="8374134">&#34;function&#34;</span><span class="op" id="8374144">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374148">&#34;{{foo}}&#34;</span><span class="op" id="8374157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374161"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374169">,</span>&nbsp;<span class="string" id="8374171">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="8374199">}</span><span class="op" id="8374200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374203">{</span><span class="string" id="8374204">&#34;comment&#34;</span><span class="op" id="8374213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374217">&#34;{{/*}}&#34;</span><span class="op" id="8374225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374229"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374237">,</span>&nbsp;<span class="string" id="8374239">`unclosed&nbsp;comment`</span><span class="op" id="8374257">}</span><span class="op" id="8374258">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374261">{</span><span class="string" id="8374262">&#34;lparen&#34;</span><span class="op" id="8374270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374274">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="8374289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374293"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374301">,</span>&nbsp;<span class="string" id="8374303">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="8374324">}</span><span class="op" id="8374325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374328">{</span><span class="string" id="8374329">&#34;rparen&#34;</span><span class="op" id="8374337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374341">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="8374356">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374360"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374368">,</span>&nbsp;<span class="string" id="8374370">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="8374386">}</span><span class="op" id="8374387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374390">{</span><span class="string" id="8374391">&#34;space&#34;</span><span class="op" id="8374398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374402">&#34;{{`x`3}}&#34;</span><span class="op" id="8374412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374416"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374424">,</span>&nbsp;<span class="string" id="8374426">`missing&nbsp;space?`</span><span class="op" id="8374442">}</span><span class="op" id="8374443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374446">{</span><span class="string" id="8374447">&#34;idchar&#34;</span><span class="op" id="8374455">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374459">&#34;{{a#}}&#34;</span><span class="op" id="8374467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374471"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374479">,</span>&nbsp;<span class="string" id="8374481">`&#39;#&#39;`</span><span class="op" id="8374486">}</span><span class="op" id="8374487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374490">{</span><span class="string" id="8374491">&#34;charconst&#34;</span><span class="op" id="8374502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374506">&#34;{{&#39;a}}&#34;</span><span class="op" id="8374514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374518"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374526">,</span>&nbsp;<span class="string" id="8374528">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="8374561">}</span><span class="op" id="8374562">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374565">{</span><span class="string" id="8374566">&#34;stringconst&#34;</span><span class="op" id="8374579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374583">`{{&#34;a}}`</span><span class="op" id="8374591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374595"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374603">,</span>&nbsp;<span class="string" id="8374605">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="8374633">}</span><span class="op" id="8374634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374637">{</span><span class="string" id="8374638">&#34;rawstringconst&#34;</span><span class="op" id="8374654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374658">&#34;{{`a}}&#34;</span><span class="op" id="8374666">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374670"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374678">,</span>&nbsp;<span class="string" id="8374680">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="8374712">}</span><span class="op" id="8374713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374716">{</span><span class="string" id="8374717">&#34;number&#34;</span><span class="op" id="8374725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374729">&#34;{{0xi}}&#34;</span><span class="op" id="8374738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374742"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374750">,</span>&nbsp;<span class="string" id="8374752">`number&nbsp;syntax`</span><span class="op" id="8374767">}</span><span class="op" id="8374768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374771">{</span><span class="string" id="8374772">&#34;multidefine&#34;</span><span class="op" id="8374785">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374789">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="8374835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374839"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374847">,</span>&nbsp;<span class="string" id="8374849">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="8374882">}</span><span class="op" id="8374883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374886">{</span><span class="string" id="8374887">&#34;eof&#34;</span><span class="op" id="8374892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8374896">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="8374910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374914"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8374922">,</span>&nbsp;<span class="string" id="8374924">`unexpected&nbsp;EOF`</span><span class="op" id="8374940">}</span><span class="op" id="8374941">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374944">{</span><span class="string" id="8374945">&#34;variable&#34;</span><span class="op" id="8374955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8374959">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375058">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8375106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375110"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8375118">,</span>&nbsp;<span class="string" id="8375120">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="8375137">}</span><span class="op" id="8375138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375141">{</span><span class="string" id="8375142">&#34;multidecl&#34;</span><span class="op" id="8375153">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375157">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="8375177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375181"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8375189">,</span>&nbsp;<span class="string" id="8375191">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="8375214">}</span><span class="op" id="8375215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375218">{</span><span class="string" id="8375219">&#34;undefvar&#34;</span><span class="op" id="8375229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8375233">&#34;{{$a}}&#34;</span><span class="op" id="8375241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375245"><a href="/text/template/parse/parse_test.go.html#8366345">hasError</a></span><span class="op" id="8375253">,</span>&nbsp;<span class="string" id="8375255">`undefined&nbsp;variable`</span><span class="op" id="8375275">}</span><span class="op" id="8375276">,</span><br>
<span class="lineno">410</span><span class="op" id="8375278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8375281">func</span>&nbsp;<span class="ident" id="8375286">TestErrors</span><span class="op" id="8375296">(</span><span class="ident" id="8375297">t</span>&nbsp;<span class="op" id="8375299">*</span><span class="ident" id="8375300"><a href="/text/template/parse/parse_test.go.html#8361611">testing</a></span><span class="op" id="8375307">.</span><span class="ident" id="8375308">T</span><span class="op" id="8375309">)</span>&nbsp;<span class="op" id="8375311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375314">for</span>&nbsp;<span class="ident" id="8375318">_</span><span class="op" id="8375319">,</span>&nbsp;<span class="ident" id="8375321">test</span>&nbsp;<span class="op" id="8375326">:=</span>&nbsp;<span class="keyword" id="8375329">range</span>&nbsp;<span class="ident" id="8375335"><a href="/text/template/parse/parse_test.go.html#8373833">errorTests</a></span>&nbsp;<span class="op" id="8375346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375350">_</span><span class="op" id="8375351">,</span>&nbsp;<span class="ident" id="8375353">err</span>&nbsp;<span class="op" id="8375357">:=</span>&nbsp;<span class="ident" id="8375360"><a href="/text/template/parse/parse.go.html#4533652">New</a></span><span class="op" id="8375363">(</span><span class="ident" id="8375364"><a href="/text/template/parse/parse_test.go.html#8375321">test</a></span><span class="op" id="8375368">.</span><span class="ident" id="8375369">name</span><span class="op" id="8375373">)</span><span class="op" id="8375374">.</span><span class="ident" id="8375375">Parse</span><span class="op" id="8375380">(</span><span class="ident" id="8375381"><a href="/text/template/parse/parse_test.go.html#8375321">test</a></span><span class="op" id="8375385">.</span><span class="ident" id="8375386">input</span><span class="op" id="8375391">,</span>&nbsp;<span class="string" id="8375393">&#34;&#34;</span><span class="op" id="8375395">,</span>&nbsp;<span class="string" id="8375397">&#34;&#34;</span><span class="op" id="8375399">,</span>&nbsp;<span class="builtinfunc" id="8375401">make</span><span class="op" id="8375405">(</span><span class="keyword" id="8375406">map</span><span class="op" id="8375409">[</span><span class="builtintype" id="8375410">string</span><span class="op" id="8375416">]</span><span class="op" id="8375417">*</span><span class="ident" id="8375418"><a href="/text/template/parse/parse.go.html#4531006">Tree</a></span><span class="op" id="8375422">)</span><span class="op" id="8375423">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375427">if</span>&nbsp;<span class="ident" id="8375430"><a href="/text/template/parse/parse_test.go.html#8375353">err</a></span>&nbsp;<span class="op" id="8375434">==</span>&nbsp;<span class="ident" id="8375437">nil</span>&nbsp;<span class="op" id="8375441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375446"><a href="/text/template/parse/parse_test.go.html#8375297">t</a></span><span class="op" id="8375447">.</span><span class="ident" id="8375448">Errorf</span><span class="op" id="8375454">(</span><span class="string" id="8375455">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="8375475">,</span>&nbsp;<span class="ident" id="8375477"><a href="/text/template/parse/parse_test.go.html#8375321">test</a></span><span class="op" id="8375481">.</span><span class="ident" id="8375482">name</span><span class="op" id="8375486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375491">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375506">if</span>&nbsp;<span class="op" id="8375509">!</span><span class="ident" id="8375510"><a href="/text/template/parse/parse_test.go.html#8361600">strings</a></span><span class="op" id="8375517">.</span><span class="ident" id="8375518">Contains</span><span class="op" id="8375526">(</span><span class="ident" id="8375527"><a href="/text/template/parse/parse_test.go.html#8375353">err</a></span><span class="op" id="8375530">.</span><span class="ident" id="8375531">Error</span><span class="op" id="8375536">(</span><span class="op" id="8375537">)</span><span class="op" id="8375538">,</span>&nbsp;<span class="ident" id="8375540"><a href="/text/template/parse/parse_test.go.html#8375321">test</a></span><span class="op" id="8375544">.</span><span class="ident" id="8375545">result</span><span class="op" id="8375551">)</span>&nbsp;<span class="op" id="8375553">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375558"><a href="/text/template/parse/parse_test.go.html#8375297">t</a></span><span class="op" id="8375559">.</span><span class="ident" id="8375560">Errorf</span><span class="op" id="8375566">(</span><span class="string" id="8375567">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="8375601">,</span>&nbsp;<span class="ident" id="8375603"><a href="/text/template/parse/parse_test.go.html#8375321">test</a></span><span class="op" id="8375607">.</span><span class="ident" id="8375608">name</span><span class="op" id="8375612">,</span>&nbsp;<span class="ident" id="8375614"><a href="/text/template/parse/parse_test.go.html#8375353">err</a></span><span class="op" id="8375617">,</span>&nbsp;<span class="ident" id="8375619"><a href="/text/template/parse/parse_test.go.html#8375321">test</a></span><span class="op" id="8375623">.</span><span class="ident" id="8375624">result</span><span class="op" id="8375630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375637">}</span><br>
<span class="lineno"></span><span class="op" id="8375639">}</span>
</div>
</body>
</html>
