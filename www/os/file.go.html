<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2438992">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2439047">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2439101">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2439152">//&nbsp;Package&nbsp;os&nbsp;provides&nbsp;a&nbsp;platform-independent&nbsp;interface&nbsp;to&nbsp;operating&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2439228">//&nbsp;functionality.&nbsp;The&nbsp;design&nbsp;is&nbsp;Unix-like,&nbsp;although&nbsp;the&nbsp;error&nbsp;handling&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="2439302">//&nbsp;Go-like;&nbsp;failing&nbsp;calls&nbsp;return&nbsp;values&nbsp;of&nbsp;type&nbsp;error&nbsp;rather&nbsp;than&nbsp;error&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="comment" id="2439383">//&nbsp;Often,&nbsp;more&nbsp;information&nbsp;is&nbsp;available&nbsp;within&nbsp;the&nbsp;error.&nbsp;For&nbsp;example,</span><br>
<span class="lineno"></span><span class="comment" id="2439454">//&nbsp;if&nbsp;a&nbsp;call&nbsp;that&nbsp;takes&nbsp;a&nbsp;file&nbsp;name&nbsp;fails,&nbsp;such&nbsp;as&nbsp;Open&nbsp;or&nbsp;Stat,&nbsp;the&nbsp;error</span><br>
<span class="lineno">10</span><span class="comment" id="2439529">//&nbsp;will&nbsp;include&nbsp;the&nbsp;failing&nbsp;file&nbsp;name&nbsp;when&nbsp;printed&nbsp;and&nbsp;will&nbsp;be&nbsp;of&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="2439600">//&nbsp;*PathError,&nbsp;which&nbsp;may&nbsp;be&nbsp;unpacked&nbsp;for&nbsp;more&nbsp;information.</span><br>
<span class="lineno"></span><span class="comment" id="2439659">//</span><br>
<span class="lineno"></span><span class="comment" id="2439662">//&nbsp;The&nbsp;os&nbsp;interface&nbsp;is&nbsp;intended&nbsp;to&nbsp;be&nbsp;uniform&nbsp;across&nbsp;all&nbsp;operating&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2439738">//&nbsp;Features&nbsp;not&nbsp;generally&nbsp;available&nbsp;appear&nbsp;in&nbsp;the&nbsp;system-specific&nbsp;package&nbsp;syscall.</span><br>
<span class="lineno">15</span><span class="comment" id="2439821">//</span><br>
<span class="lineno"></span><span class="comment" id="2439824">//&nbsp;Here&nbsp;is&nbsp;a&nbsp;simple&nbsp;example,&nbsp;opening&nbsp;a&nbsp;file&nbsp;and&nbsp;reading&nbsp;some&nbsp;of&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="2439892">//</span><br>
<span class="lineno"></span><span class="comment" id="2439895">//&nbsp;&nbsp;&nbsp;&nbspfile,&nbsp;err&nbsp;:=&nbsp;os.Open(&#34;file.go&#34;)&nbsp;//&nbsp;For&nbsp;read&nbsp;access.</span><br>
<span class="lineno"></span><span class="comment" id="2439950">//&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{</span><br>
<span class="lineno">20</span><span class="comment" id="2439969">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplog.Fatal(err)</span><br>
<span class="lineno"></span><span class="comment" id="2439988">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="comment" id="2439993">//</span><br>
<span class="lineno"></span><span class="comment" id="2439996">//&nbsp;If&nbsp;the&nbsp;open&nbsp;fails,&nbsp;the&nbsp;error&nbsp;string&nbsp;will&nbsp;be&nbsp;self-explanatory,&nbsp;like</span><br>
<span class="lineno"></span><span class="comment" id="2440066">//</span><br>
<span class="lineno">25</span><span class="comment" id="2440069">//&nbsp;&nbsp;&nbsp;&nbspopen&nbsp;file.go:&nbsp;no&nbsp;such&nbsp;file&nbsp;or&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="2440112">//</span><br>
<span class="lineno"></span><span class="comment" id="2440115">//&nbsp;The&nbsp;file&#39;s&nbsp;data&nbsp;can&nbsp;then&nbsp;be&nbsp;read&nbsp;into&nbsp;a&nbsp;slice&nbsp;of&nbsp;bytes.&nbsp;Read&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2440183">//&nbsp;Write&nbsp;take&nbsp;their&nbsp;byte&nbsp;counts&nbsp;from&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;argument&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="2440254">//</span><br>
<span class="lineno">30</span><span class="comment" id="2440257">//&nbsp;&nbsp;&nbsp;&nbspdata&nbsp;:=&nbsp;make([]byte,&nbsp;100)</span><br>
<span class="lineno"></span><span class="comment" id="2440286">//&nbsp;&nbsp;&nbsp;&nbspcount,&nbsp;err&nbsp;:=&nbsp;file.Read(data)</span><br>
<span class="lineno"></span><span class="comment" id="2440319">//&nbsp;&nbsp;&nbsp;&nbspif&nbsp;err&nbsp;!=&nbsp;nil&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="2440338">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplog.Fatal(err)</span><br>
<span class="lineno"></span><span class="comment" id="2440357">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno">35</span><span class="comment" id="2440362">//&nbsp;&nbsp;&nbsp;&nbspfmt.Printf(&#34;read&nbsp;%d&nbsp;bytes:&nbsp;%q\n&#34;,&nbsp;count,&nbsp;data[:count])</span><br>
<span class="lineno"></span><span class="comment" id="2440420">//</span><br>
<span class="lineno"></span><span class="keyword" id="2440423">package</span>&nbsp;<span class="ident" id="2440431">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2440435">import</span>&nbsp;<span class="op" id="2440442">(</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2440445">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2440451">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="2440461">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2440464">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;presented&nbsp;to&nbsp;Open.</span><br>
<span class="lineno">45</span><span class="keyword" id="2440523">func</span>&nbsp;<span class="op" id="2440528">(</span><span class="ident" id="2440529">f</span>&nbsp;<span class="op" id="2440531">*</span><span class="ident" id="2440532"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2440536">)</span>&nbsp;<span class="ident" id="2440538">Name</span><span class="op" id="2440542">(</span><span class="op" id="2440543">)</span>&nbsp;<span class="builtintype" id="2440545">string</span>&nbsp;<span class="op" id="2440552">{</span>&nbsp;<span class="keyword" id="2440554">return</span>&nbsp;<span class="ident" id="2440561"><a href="/os/file.go.html#2440529">f</a></span><span class="op" id="2440562">.</span><span class="ident" id="2440563">name</span>&nbsp;<span class="op" id="2440568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2440571">//&nbsp;Stdin,&nbsp;Stdout,&nbsp;and&nbsp;Stderr&nbsp;are&nbsp;open&nbsp;Files&nbsp;pointing&nbsp;to&nbsp;the&nbsp;standard&nbsp;input,</span><br>
<span class="lineno"></span><span class="comment" id="2440647">//&nbsp;standard&nbsp;output,&nbsp;and&nbsp;standard&nbsp;error&nbsp;file&nbsp;descriptors.</span><br>
<span class="lineno"></span><span class="keyword" id="2440704">var</span>&nbsp;<span class="op" id="2440708">(</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440711">Stdin</span>&nbsp;&nbsp;<span class="op" id="2440718">=</span>&nbsp;<span class="ident" id="2440720"><a href="/os/file_unix.go.html#2451969">NewFile</a></span><span class="op" id="2440727">(</span><span class="builtintype" id="2440728">uintptr</span><span class="op" id="2440735">(</span><span class="ident" id="2440736"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2440743">.</span><span class="ident" id="2440744">Stdin</span><span class="op" id="2440749">)</span><span class="op" id="2440750">,</span>&nbsp;<span class="string" id="2440752">&#34;/dev/stdin&#34;</span><span class="op" id="2440764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440767">Stdout</span>&nbsp;<span class="op" id="2440774">=</span>&nbsp;<span class="ident" id="2440776"><a href="/os/file_unix.go.html#2451969">NewFile</a></span><span class="op" id="2440783">(</span><span class="builtintype" id="2440784">uintptr</span><span class="op" id="2440791">(</span><span class="ident" id="2440792"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2440799">.</span><span class="ident" id="2440800">Stdout</span><span class="op" id="2440806">)</span><span class="op" id="2440807">,</span>&nbsp;<span class="string" id="2440809">&#34;/dev/stdout&#34;</span><span class="op" id="2440822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440825">Stderr</span>&nbsp;<span class="op" id="2440832">=</span>&nbsp;<span class="ident" id="2440834"><a href="/os/file_unix.go.html#2451969">NewFile</a></span><span class="op" id="2440841">(</span><span class="builtintype" id="2440842">uintptr</span><span class="op" id="2440849">(</span><span class="ident" id="2440850"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2440857">.</span><span class="ident" id="2440858">Stderr</span><span class="op" id="2440864">)</span><span class="op" id="2440865">,</span>&nbsp;<span class="string" id="2440867">&#34;/dev/stderr&#34;</span><span class="op" id="2440880">)</span><br>
<span class="lineno"></span><span class="op" id="2440882">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="2440885">//&nbsp;Flags&nbsp;to&nbsp;Open&nbsp;wrapping&nbsp;those&nbsp;of&nbsp;the&nbsp;underlying&nbsp;system.&nbsp;Not&nbsp;all&nbsp;flags</span><br>
<span class="lineno"></span><span class="comment" id="2440957">//&nbsp;may&nbsp;be&nbsp;implemented&nbsp;on&nbsp;a&nbsp;given&nbsp;system.</span><br>
<span class="lineno"></span><span class="keyword" id="2440998">const</span>&nbsp;<span class="op" id="2441004">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441007">O_RDONLY</span>&nbsp;<span class="builtintype" id="2441016">int</span>&nbsp;<span class="op" id="2441020">=</span>&nbsp;<span class="ident" id="2441022"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2441029">.</span><span class="ident" id="2441030">O_RDONLY</span>&nbsp;<span class="comment" id="2441039">//&nbsp;open&nbsp;the&nbsp;file&nbsp;read-only.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441068">O_WRONLY</span>&nbsp;<span class="builtintype" id="2441077">int</span>&nbsp;<span class="op" id="2441081">=</span>&nbsp;<span class="ident" id="2441083"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2441090">.</span><span class="ident" id="2441091">O_WRONLY</span>&nbsp;<span class="comment" id="2441100">//&nbsp;open&nbsp;the&nbsp;file&nbsp;write-only.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441130">O_RDWR</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2441139">int</span>&nbsp;<span class="op" id="2441143">=</span>&nbsp;<span class="ident" id="2441145"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2441152">.</span><span class="ident" id="2441153">O_RDWR</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2441162">//&nbsp;open&nbsp;the&nbsp;file&nbsp;read-write.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441192">O_APPEND</span>&nbsp;<span class="builtintype" id="2441201">int</span>&nbsp;<span class="op" id="2441205">=</span>&nbsp;<span class="ident" id="2441207"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2441214">.</span><span class="ident" id="2441215">O_APPEND</span>&nbsp;<span class="comment" id="2441224">//&nbsp;append&nbsp;data&nbsp;to&nbsp;the&nbsp;file&nbsp;when&nbsp;writing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441266">O_CREATE</span>&nbsp;<span class="builtintype" id="2441275">int</span>&nbsp;<span class="op" id="2441279">=</span>&nbsp;<span class="ident" id="2441281"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2441288">.</span><span class="ident" id="2441289">O_CREAT</span>&nbsp;&nbsp;<span class="comment" id="2441298">//&nbsp;create&nbsp;a&nbsp;new&nbsp;file&nbsp;if&nbsp;none&nbsp;exists.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441336">O_EXCL</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2441345">int</span>&nbsp;<span class="op" id="2441349">=</span>&nbsp;<span class="ident" id="2441351"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2441358">.</span><span class="ident" id="2441359">O_EXCL</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2441368">//&nbsp;used&nbsp;with&nbsp;O_CREATE,&nbsp;file&nbsp;must&nbsp;not&nbsp;exist</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441412">O_SYNC</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2441421">int</span>&nbsp;<span class="op" id="2441425">=</span>&nbsp;<span class="ident" id="2441427"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2441434">.</span><span class="ident" id="2441435">O_SYNC</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2441444">//&nbsp;open&nbsp;for&nbsp;synchronous&nbsp;I/O.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441474">O_TRUNC</span>&nbsp;&nbsp;<span class="builtintype" id="2441483">int</span>&nbsp;<span class="op" id="2441487">=</span>&nbsp;<span class="ident" id="2441489"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2441496">.</span><span class="ident" id="2441497">O_TRUNC</span>&nbsp;&nbsp;<span class="comment" id="2441506">//&nbsp;if&nbsp;possible,&nbsp;truncate&nbsp;file&nbsp;when&nbsp;opened.</span><br>
<span class="lineno"></span><span class="op" id="2441549">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2441552">//&nbsp;Seek&nbsp;whence&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="2441575">const</span>&nbsp;<span class="op" id="2441581">(</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441584">SEEK_SET</span>&nbsp;<span class="builtintype" id="2441593">int</span>&nbsp;<span class="op" id="2441597">=</span>&nbsp;<span class="num" id="2441599">0</span>&nbsp;<span class="comment" id="2441601">//&nbsp;seek&nbsp;relative&nbsp;to&nbsp;the&nbsp;origin&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441645">SEEK_CUR</span>&nbsp;<span class="builtintype" id="2441654">int</span>&nbsp;<span class="op" id="2441658">=</span>&nbsp;<span class="num" id="2441660">1</span>&nbsp;<span class="comment" id="2441662">//&nbsp;seek&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441702">SEEK_END</span>&nbsp;<span class="builtintype" id="2441711">int</span>&nbsp;<span class="op" id="2441715">=</span>&nbsp;<span class="num" id="2441717">2</span>&nbsp;<span class="comment" id="2441719">//&nbsp;seek&nbsp;relative&nbsp;to&nbsp;the&nbsp;end</span><br>
<span class="lineno"></span><span class="op" id="2441747">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2441750">//&nbsp;LinkError&nbsp;records&nbsp;an&nbsp;error&nbsp;during&nbsp;a&nbsp;link&nbsp;or&nbsp;symlink&nbsp;or&nbsp;rename</span><br>
<span class="lineno"></span><span class="comment" id="2441815">//&nbsp;system&nbsp;call&nbsp;and&nbsp;the&nbsp;paths&nbsp;that&nbsp;caused&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="2441860">type</span>&nbsp;<span class="ident" id="2441865">LinkError</span>&nbsp;<span class="keyword" id="2441875">struct</span>&nbsp;<span class="op" id="2441882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441885">Op</span>&nbsp;&nbsp;<span class="builtintype" id="2441889">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441897">Old</span>&nbsp;<span class="builtintype" id="2441901">string</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441909">New</span>&nbsp;<span class="builtintype" id="2441913">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441921">Err</span>&nbsp;<span class="builtintype" id="2441925">error</span><br>
<span class="lineno"></span><span class="op" id="2441931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2441934">func</span>&nbsp;<span class="op" id="2441939">(</span><span class="ident" id="2441940">e</span>&nbsp;<span class="op" id="2441942">*</span><span class="ident" id="2441943"><a href="/os/file.go.html#2441865">LinkError</a></span><span class="op" id="2441952">)</span>&nbsp;<span class="ident" id="2441954">Error</span><span class="op" id="2441959">(</span><span class="op" id="2441960">)</span>&nbsp;<span class="builtintype" id="2441962">string</span>&nbsp;<span class="op" id="2441969">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2441972">return</span>&nbsp;<span class="ident" id="2441979"><a href="/os/file.go.html#2441940">e</a></span><span class="op" id="2441980">.</span><span class="ident" id="2441981">Op</span>&nbsp;<span class="op" id="2441984">+</span>&nbsp;<span class="string" id="2441986">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2441990">+</span>&nbsp;<span class="ident" id="2441992"><a href="/os/file.go.html#2441940">e</a></span><span class="op" id="2441993">.</span><span class="ident" id="2441994">Old</span>&nbsp;<span class="op" id="2441998">+</span>&nbsp;<span class="string" id="2442000">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2442004">+</span>&nbsp;<span class="ident" id="2442006"><a href="/os/file.go.html#2441940">e</a></span><span class="op" id="2442007">.</span><span class="ident" id="2442008">New</span>&nbsp;<span class="op" id="2442012">+</span>&nbsp;<span class="string" id="2442014">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2442019">+</span>&nbsp;<span class="ident" id="2442021"><a href="/os/file.go.html#2441940">e</a></span><span class="op" id="2442022">.</span><span class="ident" id="2442023">Err</span><span class="op" id="2442026">.</span><span class="ident" id="2442027">Error</span><span class="op" id="2442032">(</span><span class="op" id="2442033">)</span><br>
<span class="lineno"></span><span class="op" id="2442035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2442038">//&nbsp;Read&nbsp;reads&nbsp;up&nbsp;to&nbsp;len(b)&nbsp;bytes&nbsp;from&nbsp;the&nbsp;File.</span><br>
<span class="lineno"></span><span class="comment" id="2442086">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;read&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno">90</span><span class="comment" id="2442147">//&nbsp;EOF&nbsp;is&nbsp;signaled&nbsp;by&nbsp;a&nbsp;zero&nbsp;count&nbsp;with&nbsp;err&nbsp;set&nbsp;to&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="2442206">func</span>&nbsp;<span class="op" id="2442211">(</span><span class="ident" id="2442212">f</span>&nbsp;<span class="op" id="2442214">*</span><span class="ident" id="2442215"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2442219">)</span>&nbsp;<span class="ident" id="2442221">Read</span><span class="op" id="2442225">(</span><span class="ident" id="2442226">b</span>&nbsp;<span class="op" id="2442228">[</span><span class="op" id="2442229">]</span><span class="builtintype" id="2442230">byte</span><span class="op" id="2442234">)</span>&nbsp;<span class="op" id="2442236">(</span><span class="ident" id="2442237">n</span>&nbsp;<span class="builtintype" id="2442239">int</span><span class="op" id="2442242">,</span>&nbsp;<span class="ident" id="2442244">err</span>&nbsp;<span class="builtintype" id="2442248">error</span><span class="op" id="2442253">)</span>&nbsp;<span class="op" id="2442255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442258">if</span>&nbsp;<span class="ident" id="2442261"><a href="/os/file.go.html#2442212">f</a></span>&nbsp;<span class="op" id="2442263">==</span>&nbsp;<span class="ident" id="2442266">nil</span>&nbsp;<span class="op" id="2442270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442274">return</span>&nbsp;<span class="num" id="2442281">0</span><span class="op" id="2442282">,</span>&nbsp;<span class="ident" id="2442284"><a href="/os/error.go.html#2429601">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442296">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442299"><a href="/os/file.go.html#2442237">n</a></span><span class="op" id="2442300">,</span>&nbsp;<span class="ident" id="2442302">e</span>&nbsp;<span class="op" id="2442304">:=</span>&nbsp;<span class="ident" id="2442307"><a href="/os/file.go.html#2442212">f</a></span><span class="op" id="2442308">.</span><span class="ident" id="2442309">read</span><span class="op" id="2442313">(</span><span class="ident" id="2442314"><a href="/os/file.go.html#2442226">b</a></span><span class="op" id="2442315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442318">if</span>&nbsp;<span class="ident" id="2442321"><a href="/os/file.go.html#2442237">n</a></span>&nbsp;<span class="op" id="2442323">&lt;</span>&nbsp;<span class="num" id="2442325">0</span>&nbsp;<span class="op" id="2442327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442331"><a href="/os/file.go.html#2442237">n</a></span>&nbsp;<span class="op" id="2442333">=</span>&nbsp;<span class="num" id="2442335">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442341">if</span>&nbsp;<span class="ident" id="2442344"><a href="/os/file.go.html#2442237">n</a></span>&nbsp;<span class="op" id="2442346">==</span>&nbsp;<span class="num" id="2442349">0</span>&nbsp;<span class="op" id="2442351">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2442354">len</span><span class="op" id="2442357">(</span><span class="ident" id="2442358"><a href="/os/file.go.html#2442226">b</a></span><span class="op" id="2442359">)</span>&nbsp;<span class="op" id="2442361">&gt;</span>&nbsp;<span class="num" id="2442363">0</span>&nbsp;<span class="op" id="2442365">&amp;&amp;</span>&nbsp;<span class="ident" id="2442368"><a href="/os/file.go.html#2442302">e</a></span>&nbsp;<span class="op" id="2442370">==</span>&nbsp;<span class="ident" id="2442373">nil</span>&nbsp;<span class="op" id="2442377">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442381">return</span>&nbsp;<span class="num" id="2442388">0</span><span class="op" id="2442389">,</span>&nbsp;<span class="ident" id="2442391"><a href="/os/file.go.html#2440445">io</a></span><span class="op" id="2442393">.</span><span class="ident" id="2442394">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442402">if</span>&nbsp;<span class="ident" id="2442405"><a href="/os/file.go.html#2442302">e</a></span>&nbsp;<span class="op" id="2442407">!=</span>&nbsp;<span class="ident" id="2442410">nil</span>&nbsp;<span class="op" id="2442414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442418"><a href="/os/file.go.html#2442244">err</a></span>&nbsp;<span class="op" id="2442422">=</span>&nbsp;<span class="op" id="2442424">&amp;</span><span class="ident" id="2442425"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2442434">{</span><span class="string" id="2442435">&#34;read&#34;</span><span class="op" id="2442441">,</span>&nbsp;<span class="ident" id="2442443"><a href="/os/file.go.html#2442212">f</a></span><span class="op" id="2442444">.</span><span class="ident" id="2442445">name</span><span class="op" id="2442449">,</span>&nbsp;<span class="ident" id="2442451"><a href="/os/file.go.html#2442302">e</a></span><span class="op" id="2442452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442455">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442458">return</span>&nbsp;<span class="ident" id="2442465"><a href="/os/file.go.html#2442237">n</a></span><span class="op" id="2442466">,</span>&nbsp;<span class="ident" id="2442468"><a href="/os/file.go.html#2442244">err</a></span><br>
<span class="lineno"></span><span class="op" id="2442472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2442475">//&nbsp;ReadAt&nbsp;reads&nbsp;len(b)&nbsp;bytes&nbsp;from&nbsp;the&nbsp;File&nbsp;starting&nbsp;at&nbsp;byte&nbsp;offset&nbsp;off.</span><br>
<span class="lineno"></span><span class="comment" id="2442547">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;read&nbsp;and&nbsp;the&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno">110</span><span class="comment" id="2442609">//&nbsp;ReadAt&nbsp;always&nbsp;returns&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;when&nbsp;n&nbsp;&lt;&nbsp;len(b).</span><br>
<span class="lineno"></span><span class="comment" id="2442667">//&nbsp;At&nbsp;end&nbsp;of&nbsp;file,&nbsp;that&nbsp;error&nbsp;is&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="2442708">func</span>&nbsp;<span class="op" id="2442713">(</span><span class="ident" id="2442714">f</span>&nbsp;<span class="op" id="2442716">*</span><span class="ident" id="2442717"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2442721">)</span>&nbsp;<span class="ident" id="2442723">ReadAt</span><span class="op" id="2442729">(</span><span class="ident" id="2442730">b</span>&nbsp;<span class="op" id="2442732">[</span><span class="op" id="2442733">]</span><span class="builtintype" id="2442734">byte</span><span class="op" id="2442738">,</span>&nbsp;<span class="ident" id="2442740">off</span>&nbsp;<span class="ident" id="2442744">int64</span><span class="op" id="2442749">)</span>&nbsp;<span class="op" id="2442751">(</span><span class="ident" id="2442752">n</span>&nbsp;<span class="builtintype" id="2442754">int</span><span class="op" id="2442757">,</span>&nbsp;<span class="ident" id="2442759">err</span>&nbsp;<span class="builtintype" id="2442763">error</span><span class="op" id="2442768">)</span>&nbsp;<span class="op" id="2442770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442773">if</span>&nbsp;<span class="ident" id="2442776"><a href="/os/file.go.html#2442714">f</a></span>&nbsp;<span class="op" id="2442778">==</span>&nbsp;<span class="ident" id="2442781">nil</span>&nbsp;<span class="op" id="2442785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442789">return</span>&nbsp;<span class="num" id="2442796">0</span><span class="op" id="2442797">,</span>&nbsp;<span class="ident" id="2442799"><a href="/os/error.go.html#2429601">ErrInvalid</a></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442814">for</span>&nbsp;<span class="builtinfunc" id="2442818">len</span><span class="op" id="2442821">(</span><span class="ident" id="2442822"><a href="/os/file.go.html#2442730">b</a></span><span class="op" id="2442823">)</span>&nbsp;<span class="op" id="2442825">&gt;</span>&nbsp;<span class="num" id="2442827">0</span>&nbsp;<span class="op" id="2442829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442833">m</span><span class="op" id="2442834">,</span>&nbsp;<span class="ident" id="2442836">e</span>&nbsp;<span class="op" id="2442838">:=</span>&nbsp;<span class="ident" id="2442841"><a href="/os/file.go.html#2442714">f</a></span><span class="op" id="2442842">.</span><span class="ident" id="2442843">pread</span><span class="op" id="2442848">(</span><span class="ident" id="2442849"><a href="/os/file.go.html#2442730">b</a></span><span class="op" id="2442850">,</span>&nbsp;<span class="ident" id="2442852"><a href="/os/file.go.html#2442740">off</a></span><span class="op" id="2442855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442859">if</span>&nbsp;<span class="ident" id="2442862"><a href="/os/file.go.html#2442833">m</a></span>&nbsp;<span class="op" id="2442864">==</span>&nbsp;<span class="num" id="2442867">0</span>&nbsp;<span class="op" id="2442869">&amp;&amp;</span>&nbsp;<span class="ident" id="2442872"><a href="/os/file.go.html#2442836">e</a></span>&nbsp;<span class="op" id="2442874">==</span>&nbsp;<span class="ident" id="2442877">nil</span>&nbsp;<span class="op" id="2442881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442886">return</span>&nbsp;<span class="ident" id="2442893"><a href="/os/file.go.html#2442752">n</a></span><span class="op" id="2442894">,</span>&nbsp;<span class="ident" id="2442896"><a href="/os/file.go.html#2440445">io</a></span><span class="op" id="2442898">.</span><span class="ident" id="2442899">EOF</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442909">if</span>&nbsp;<span class="ident" id="2442912"><a href="/os/file.go.html#2442836">e</a></span>&nbsp;<span class="op" id="2442914">!=</span>&nbsp;<span class="ident" id="2442917">nil</span>&nbsp;<span class="op" id="2442921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442926"><a href="/os/file.go.html#2442759">err</a></span>&nbsp;<span class="op" id="2442930">=</span>&nbsp;<span class="op" id="2442932">&amp;</span><span class="ident" id="2442933"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2442942">{</span><span class="string" id="2442943">&#34;read&#34;</span><span class="op" id="2442949">,</span>&nbsp;<span class="ident" id="2442951"><a href="/os/file.go.html#2442714">f</a></span><span class="op" id="2442952">.</span><span class="ident" id="2442953">name</span><span class="op" id="2442957">,</span>&nbsp;<span class="ident" id="2442959"><a href="/os/file.go.html#2442836">e</a></span><span class="op" id="2442960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442965">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442973">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442977"><a href="/os/file.go.html#2442752">n</a></span>&nbsp;<span class="op" id="2442979">+=</span>&nbsp;<span class="ident" id="2442982"><a href="/os/file.go.html#2442833">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442986"><a href="/os/file.go.html#2442730">b</a></span>&nbsp;<span class="op" id="2442988">=</span>&nbsp;<span class="ident" id="2442990"><a href="/os/file.go.html#2442730">b</a></span><span class="op" id="2442991">[</span><span class="ident" id="2442992"><a href="/os/file.go.html#2442833">m</a></span><span class="op" id="2442993">:</span><span class="op" id="2442994">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442998"><a href="/os/file.go.html#2442740">off</a></span>&nbsp;<span class="op" id="2443002">+=</span>&nbsp;<span class="ident" id="2443005">int64</span><span class="op" id="2443010">(</span><span class="ident" id="2443011"><a href="/os/file.go.html#2442833">m</a></span><span class="op" id="2443012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443018">return</span><br>
<span class="lineno">130</span><span class="op" id="2443025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2443028">//&nbsp;Write&nbsp;writes&nbsp;len(b)&nbsp;bytes&nbsp;to&nbsp;the&nbsp;File.</span><br>
<span class="lineno"></span><span class="comment" id="2443070">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2443134">//&nbsp;Write&nbsp;returns&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;when&nbsp;n&nbsp;!=&nbsp;len(b).</span><br>
<span class="lineno">135</span><span class="keyword" id="2443185">func</span>&nbsp;<span class="op" id="2443190">(</span><span class="ident" id="2443191">f</span>&nbsp;<span class="op" id="2443193">*</span><span class="ident" id="2443194"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2443198">)</span>&nbsp;<span class="ident" id="2443200">Write</span><span class="op" id="2443205">(</span><span class="ident" id="2443206">b</span>&nbsp;<span class="op" id="2443208">[</span><span class="op" id="2443209">]</span><span class="builtintype" id="2443210">byte</span><span class="op" id="2443214">)</span>&nbsp;<span class="op" id="2443216">(</span><span class="ident" id="2443217">n</span>&nbsp;<span class="builtintype" id="2443219">int</span><span class="op" id="2443222">,</span>&nbsp;<span class="ident" id="2443224">err</span>&nbsp;<span class="builtintype" id="2443228">error</span><span class="op" id="2443233">)</span>&nbsp;<span class="op" id="2443235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443238">if</span>&nbsp;<span class="ident" id="2443241"><a href="/os/file.go.html#2443191">f</a></span>&nbsp;<span class="op" id="2443243">==</span>&nbsp;<span class="ident" id="2443246">nil</span>&nbsp;<span class="op" id="2443250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443254">return</span>&nbsp;<span class="num" id="2443261">0</span><span class="op" id="2443262">,</span>&nbsp;<span class="ident" id="2443264"><a href="/os/error.go.html#2429601">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443279"><a href="/os/file.go.html#2443217">n</a></span><span class="op" id="2443280">,</span>&nbsp;<span class="ident" id="2443282">e</span>&nbsp;<span class="op" id="2443284">:=</span>&nbsp;<span class="ident" id="2443287"><a href="/os/file.go.html#2443191">f</a></span><span class="op" id="2443288">.</span><span class="ident" id="2443289">write</span><span class="op" id="2443294">(</span><span class="ident" id="2443295"><a href="/os/file.go.html#2443206">b</a></span><span class="op" id="2443296">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443299">if</span>&nbsp;<span class="ident" id="2443302"><a href="/os/file.go.html#2443217">n</a></span>&nbsp;<span class="op" id="2443304">&lt;</span>&nbsp;<span class="num" id="2443306">0</span>&nbsp;<span class="op" id="2443308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443312"><a href="/os/file.go.html#2443217">n</a></span>&nbsp;<span class="op" id="2443314">=</span>&nbsp;<span class="num" id="2443316">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443322">if</span>&nbsp;<span class="ident" id="2443325"><a href="/os/file.go.html#2443217">n</a></span>&nbsp;<span class="op" id="2443327">!=</span>&nbsp;<span class="builtinfunc" id="2443330">len</span><span class="op" id="2443333">(</span><span class="ident" id="2443334"><a href="/os/file.go.html#2443206">b</a></span><span class="op" id="2443335">)</span>&nbsp;<span class="op" id="2443337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443341"><a href="/os/file.go.html#2443224">err</a></span>&nbsp;<span class="op" id="2443345">=</span>&nbsp;<span class="ident" id="2443347"><a href="/os/file.go.html#2440445">io</a></span><span class="op" id="2443349">.</span><span class="ident" id="2443350">ErrShortWrite</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443369"><a href="/os/file_unix.go.html#2452395">epipecheck</a></span><span class="op" id="2443379">(</span><span class="ident" id="2443380"><a href="/os/file.go.html#2443191">f</a></span><span class="op" id="2443381">,</span>&nbsp;<span class="ident" id="2443383"><a href="/os/file.go.html#2443282">e</a></span><span class="op" id="2443384">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443388">if</span>&nbsp;<span class="ident" id="2443391"><a href="/os/file.go.html#2443282">e</a></span>&nbsp;<span class="op" id="2443393">!=</span>&nbsp;<span class="ident" id="2443396">nil</span>&nbsp;<span class="op" id="2443400">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443404"><a href="/os/file.go.html#2443224">err</a></span>&nbsp;<span class="op" id="2443408">=</span>&nbsp;<span class="op" id="2443410">&amp;</span><span class="ident" id="2443411"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2443420">{</span><span class="string" id="2443421">&#34;write&#34;</span><span class="op" id="2443428">,</span>&nbsp;<span class="ident" id="2443430"><a href="/os/file.go.html#2443191">f</a></span><span class="op" id="2443431">.</span><span class="ident" id="2443432">name</span><span class="op" id="2443436">,</span>&nbsp;<span class="ident" id="2443438"><a href="/os/file.go.html#2443282">e</a></span><span class="op" id="2443439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443445">return</span>&nbsp;<span class="ident" id="2443452"><a href="/os/file.go.html#2443217">n</a></span><span class="op" id="2443453">,</span>&nbsp;<span class="ident" id="2443455"><a href="/os/file.go.html#2443224">err</a></span><br>
<span class="lineno"></span><span class="op" id="2443459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="2443462">//&nbsp;WriteAt&nbsp;writes&nbsp;len(b)&nbsp;bytes&nbsp;to&nbsp;the&nbsp;File&nbsp;starting&nbsp;at&nbsp;byte&nbsp;offset&nbsp;off.</span><br>
<span class="lineno"></span><span class="comment" id="2443534">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="comment" id="2443598">//&nbsp;WriteAt&nbsp;returns&nbsp;a&nbsp;non-nil&nbsp;error&nbsp;when&nbsp;n&nbsp;!=&nbsp;len(b).</span><br>
<span class="lineno"></span><span class="keyword" id="2443651">func</span>&nbsp;<span class="op" id="2443656">(</span><span class="ident" id="2443657">f</span>&nbsp;<span class="op" id="2443659">*</span><span class="ident" id="2443660"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2443664">)</span>&nbsp;<span class="ident" id="2443666">WriteAt</span><span class="op" id="2443673">(</span><span class="ident" id="2443674">b</span>&nbsp;<span class="op" id="2443676">[</span><span class="op" id="2443677">]</span><span class="builtintype" id="2443678">byte</span><span class="op" id="2443682">,</span>&nbsp;<span class="ident" id="2443684">off</span>&nbsp;<span class="ident" id="2443688">int64</span><span class="op" id="2443693">)</span>&nbsp;<span class="op" id="2443695">(</span><span class="ident" id="2443696">n</span>&nbsp;<span class="builtintype" id="2443698">int</span><span class="op" id="2443701">,</span>&nbsp;<span class="ident" id="2443703">err</span>&nbsp;<span class="builtintype" id="2443707">error</span><span class="op" id="2443712">)</span>&nbsp;<span class="op" id="2443714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443717">if</span>&nbsp;<span class="ident" id="2443720"><a href="/os/file.go.html#2443657">f</a></span>&nbsp;<span class="op" id="2443722">==</span>&nbsp;<span class="ident" id="2443725">nil</span>&nbsp;<span class="op" id="2443729">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443733">return</span>&nbsp;<span class="num" id="2443740">0</span><span class="op" id="2443741">,</span>&nbsp;<span class="ident" id="2443743"><a href="/os/error.go.html#2429601">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443758">for</span>&nbsp;<span class="builtinfunc" id="2443762">len</span><span class="op" id="2443765">(</span><span class="ident" id="2443766"><a href="/os/file.go.html#2443674">b</a></span><span class="op" id="2443767">)</span>&nbsp;<span class="op" id="2443769">&gt;</span>&nbsp;<span class="num" id="2443771">0</span>&nbsp;<span class="op" id="2443773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443777">m</span><span class="op" id="2443778">,</span>&nbsp;<span class="ident" id="2443780">e</span>&nbsp;<span class="op" id="2443782">:=</span>&nbsp;<span class="ident" id="2443785"><a href="/os/file.go.html#2443657">f</a></span><span class="op" id="2443786">.</span><span class="ident" id="2443787">pwrite</span><span class="op" id="2443793">(</span><span class="ident" id="2443794"><a href="/os/file.go.html#2443674">b</a></span><span class="op" id="2443795">,</span>&nbsp;<span class="ident" id="2443797"><a href="/os/file.go.html#2443684">off</a></span><span class="op" id="2443800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443804">if</span>&nbsp;<span class="ident" id="2443807"><a href="/os/file.go.html#2443780">e</a></span>&nbsp;<span class="op" id="2443809">!=</span>&nbsp;<span class="ident" id="2443812">nil</span>&nbsp;<span class="op" id="2443816">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443821"><a href="/os/file.go.html#2443703">err</a></span>&nbsp;<span class="op" id="2443825">=</span>&nbsp;<span class="op" id="2443827">&amp;</span><span class="ident" id="2443828"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2443837">{</span><span class="string" id="2443838">&#34;write&#34;</span><span class="op" id="2443845">,</span>&nbsp;<span class="ident" id="2443847"><a href="/os/file.go.html#2443657">f</a></span><span class="op" id="2443848">.</span><span class="ident" id="2443849">name</span><span class="op" id="2443853">,</span>&nbsp;<span class="ident" id="2443855"><a href="/os/file.go.html#2443780">e</a></span><span class="op" id="2443856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443861">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443873"><a href="/os/file.go.html#2443696">n</a></span>&nbsp;<span class="op" id="2443875">+=</span>&nbsp;<span class="ident" id="2443878"><a href="/os/file.go.html#2443777">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443882"><a href="/os/file.go.html#2443674">b</a></span>&nbsp;<span class="op" id="2443884">=</span>&nbsp;<span class="ident" id="2443886"><a href="/os/file.go.html#2443674">b</a></span><span class="op" id="2443887">[</span><span class="ident" id="2443888"><a href="/os/file.go.html#2443777">m</a></span><span class="op" id="2443889">:</span><span class="op" id="2443890">]</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443894"><a href="/os/file.go.html#2443684">off</a></span>&nbsp;<span class="op" id="2443898">+=</span>&nbsp;<span class="ident" id="2443901">int64</span><span class="op" id="2443906">(</span><span class="ident" id="2443907"><a href="/os/file.go.html#2443777">m</a></span><span class="op" id="2443908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443914">return</span><br>
<span class="lineno"></span><span class="op" id="2443921">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="2443924">//&nbsp;Seek&nbsp;sets&nbsp;the&nbsp;offset&nbsp;for&nbsp;the&nbsp;next&nbsp;Read&nbsp;or&nbsp;Write&nbsp;on&nbsp;file&nbsp;to&nbsp;offset,&nbsp;interpreted</span><br>
<span class="lineno"></span><span class="comment" id="2444006">//&nbsp;according&nbsp;to&nbsp;whence:&nbsp;0&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;origin&nbsp;of&nbsp;the&nbsp;file,&nbsp;1&nbsp;means</span><br>
<span class="lineno"></span><span class="comment" id="2444082">//&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;offset,&nbsp;and&nbsp;2&nbsp;means&nbsp;relative&nbsp;to&nbsp;the&nbsp;end.</span><br>
<span class="lineno"></span><span class="comment" id="2444150">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;new&nbsp;offset&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="keyword" id="2444201">func</span>&nbsp;<span class="op" id="2444206">(</span><span class="ident" id="2444207">f</span>&nbsp;<span class="op" id="2444209">*</span><span class="ident" id="2444210"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2444214">)</span>&nbsp;<span class="ident" id="2444216">Seek</span><span class="op" id="2444220">(</span><span class="ident" id="2444221">offset</span>&nbsp;<span class="ident" id="2444228">int64</span><span class="op" id="2444233">,</span>&nbsp;<span class="ident" id="2444235">whence</span>&nbsp;<span class="builtintype" id="2444242">int</span><span class="op" id="2444245">)</span>&nbsp;<span class="op" id="2444247">(</span><span class="ident" id="2444248">ret</span>&nbsp;<span class="ident" id="2444252">int64</span><span class="op" id="2444257">,</span>&nbsp;<span class="ident" id="2444259">err</span>&nbsp;<span class="builtintype" id="2444263">error</span><span class="op" id="2444268">)</span>&nbsp;<span class="op" id="2444270">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444273">if</span>&nbsp;<span class="ident" id="2444276"><a href="/os/file.go.html#2444207">f</a></span>&nbsp;<span class="op" id="2444278">==</span>&nbsp;<span class="ident" id="2444281">nil</span>&nbsp;<span class="op" id="2444285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444289">return</span>&nbsp;<span class="num" id="2444296">0</span><span class="op" id="2444297">,</span>&nbsp;<span class="ident" id="2444299"><a href="/os/error.go.html#2429601">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444314">r</span><span class="op" id="2444315">,</span>&nbsp;<span class="ident" id="2444317">e</span>&nbsp;<span class="op" id="2444319">:=</span>&nbsp;<span class="ident" id="2444322"><a href="/os/file.go.html#2444207">f</a></span><span class="op" id="2444323">.</span><span class="ident" id="2444324">seek</span><span class="op" id="2444328">(</span><span class="ident" id="2444329"><a href="/os/file.go.html#2444221">offset</a></span><span class="op" id="2444335">,</span>&nbsp;<span class="ident" id="2444337"><a href="/os/file.go.html#2444235">whence</a></span><span class="op" id="2444343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444346">if</span>&nbsp;<span class="ident" id="2444349"><a href="/os/file.go.html#2444317">e</a></span>&nbsp;<span class="op" id="2444351">==</span>&nbsp;<span class="ident" id="2444354">nil</span>&nbsp;<span class="op" id="2444358">&amp;&amp;</span>&nbsp;<span class="ident" id="2444361"><a href="/os/file.go.html#2444207">f</a></span><span class="op" id="2444362">.</span><span class="ident" id="2444363">dirinfo</span>&nbsp;<span class="op" id="2444371">!=</span>&nbsp;<span class="ident" id="2444374">nil</span>&nbsp;<span class="op" id="2444378">&amp;&amp;</span>&nbsp;<span class="ident" id="2444381"><a href="/os/file.go.html#2444314">r</a></span>&nbsp;<span class="op" id="2444383">!=</span>&nbsp;<span class="num" id="2444386">0</span>&nbsp;<span class="op" id="2444388">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444392"><a href="/os/file.go.html#2444317">e</a></span>&nbsp;<span class="op" id="2444394">=</span>&nbsp;<span class="ident" id="2444396"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2444403">.</span><span class="ident" id="2444404">EISDIR</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444415">if</span>&nbsp;<span class="ident" id="2444418"><a href="/os/file.go.html#2444317">e</a></span>&nbsp;<span class="op" id="2444420">!=</span>&nbsp;<span class="ident" id="2444423">nil</span>&nbsp;<span class="op" id="2444427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444431">return</span>&nbsp;<span class="num" id="2444438">0</span><span class="op" id="2444439">,</span>&nbsp;<span class="op" id="2444441">&amp;</span><span class="ident" id="2444442"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2444451">{</span><span class="string" id="2444452">&#34;seek&#34;</span><span class="op" id="2444458">,</span>&nbsp;<span class="ident" id="2444460"><a href="/os/file.go.html#2444207">f</a></span><span class="op" id="2444461">.</span><span class="ident" id="2444462">name</span><span class="op" id="2444466">,</span>&nbsp;<span class="ident" id="2444468"><a href="/os/file.go.html#2444317">e</a></span><span class="op" id="2444469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444472">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444475">return</span>&nbsp;<span class="ident" id="2444482"><a href="/os/file.go.html#2444314">r</a></span><span class="op" id="2444483">,</span>&nbsp;<span class="ident" id="2444485">nil</span><br>
<span class="lineno"></span><span class="op" id="2444489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2444492">//&nbsp;WriteString&nbsp;is&nbsp;like&nbsp;Write,&nbsp;but&nbsp;writes&nbsp;the&nbsp;contents&nbsp;of&nbsp;string&nbsp;s&nbsp;rather&nbsp;than</span><br>
<span class="lineno"></span><span class="comment" id="2444570">//&nbsp;a&nbsp;slice&nbsp;of&nbsp;bytes.</span><br>
<span class="lineno">195</span><span class="keyword" id="2444591">func</span>&nbsp;<span class="op" id="2444596">(</span><span class="ident" id="2444597">f</span>&nbsp;<span class="op" id="2444599">*</span><span class="ident" id="2444600"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2444604">)</span>&nbsp;<span class="ident" id="2444606">WriteString</span><span class="op" id="2444617">(</span><span class="ident" id="2444618">s</span>&nbsp;<span class="builtintype" id="2444620">string</span><span class="op" id="2444626">)</span>&nbsp;<span class="op" id="2444628">(</span><span class="ident" id="2444629">ret</span>&nbsp;<span class="builtintype" id="2444633">int</span><span class="op" id="2444636">,</span>&nbsp;<span class="ident" id="2444638">err</span>&nbsp;<span class="builtintype" id="2444642">error</span><span class="op" id="2444647">)</span>&nbsp;<span class="op" id="2444649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444652">if</span>&nbsp;<span class="ident" id="2444655"><a href="/os/file.go.html#2444597">f</a></span>&nbsp;<span class="op" id="2444657">==</span>&nbsp;<span class="ident" id="2444660">nil</span>&nbsp;<span class="op" id="2444664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444668">return</span>&nbsp;<span class="num" id="2444675">0</span><span class="op" id="2444676">,</span>&nbsp;<span class="ident" id="2444678"><a href="/os/error.go.html#2429601">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444693">return</span>&nbsp;<span class="ident" id="2444700"><a href="/os/file.go.html#2444597">f</a></span><span class="op" id="2444701">.</span><span class="ident" id="2444702">Write</span><span class="op" id="2444707">(</span><span class="op" id="2444708">[</span><span class="op" id="2444709">]</span><span class="builtintype" id="2444710">byte</span><span class="op" id="2444714">(</span><span class="ident" id="2444715"><a href="/os/file.go.html#2444618">s</a></span><span class="op" id="2444716">)</span><span class="op" id="2444717">)</span><br>
<span class="lineno">200</span><span class="op" id="2444719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2444722">//&nbsp;Mkdir&nbsp;creates&nbsp;a&nbsp;new&nbsp;directory&nbsp;with&nbsp;the&nbsp;specified&nbsp;name&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2444800">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2444856">func</span>&nbsp;<span class="ident" id="2444861">Mkdir</span><span class="op" id="2444866">(</span><span class="ident" id="2444867">name</span>&nbsp;<span class="builtintype" id="2444872">string</span><span class="op" id="2444878">,</span>&nbsp;<span class="ident" id="2444880">perm</span>&nbsp;<span class="ident" id="2444885"><a href="/os/types.go.html#2472066">FileMode</a></span><span class="op" id="2444893">)</span>&nbsp;<span class="builtintype" id="2444895">error</span>&nbsp;<span class="op" id="2444901">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444904">e</span>&nbsp;<span class="op" id="2444906">:=</span>&nbsp;<span class="ident" id="2444909"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2444916">.</span><span class="ident" id="2444917">Mkdir</span><span class="op" id="2444922">(</span><span class="ident" id="2444923"><a href="/os/file.go.html#2444867">name</a></span><span class="op" id="2444927">,</span>&nbsp;<span class="ident" id="2444929"><a href="/os/file_posix.go.html#2447685">syscallMode</a></span><span class="op" id="2444940">(</span><span class="ident" id="2444941"><a href="/os/file.go.html#2444880">perm</a></span><span class="op" id="2444945">)</span><span class="op" id="2444946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444949">if</span>&nbsp;<span class="ident" id="2444952"><a href="/os/file.go.html#2444904">e</a></span>&nbsp;<span class="op" id="2444954">!=</span>&nbsp;<span class="ident" id="2444957">nil</span>&nbsp;<span class="op" id="2444961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444965">return</span>&nbsp;<span class="op" id="2444972">&amp;</span><span class="ident" id="2444973"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2444982">{</span><span class="string" id="2444983">&#34;mkdir&#34;</span><span class="op" id="2444990">,</span>&nbsp;<span class="ident" id="2444992"><a href="/os/file.go.html#2444867">name</a></span><span class="op" id="2444996">,</span>&nbsp;<span class="ident" id="2444998"><a href="/os/file.go.html#2444904">e</a></span><span class="op" id="2444999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445005">return</span>&nbsp;<span class="ident" id="2445012">nil</span><br>
<span class="lineno">210</span><span class="op" id="2445016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2445019">//&nbsp;Chdir&nbsp;changes&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;to&nbsp;the&nbsp;named&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2445090">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2445146">func</span>&nbsp;<span class="ident" id="2445151">Chdir</span><span class="op" id="2445156">(</span><span class="ident" id="2445157">dir</span>&nbsp;<span class="builtintype" id="2445161">string</span><span class="op" id="2445167">)</span>&nbsp;<span class="builtintype" id="2445169">error</span>&nbsp;<span class="op" id="2445175">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445178">if</span>&nbsp;<span class="ident" id="2445181">e</span>&nbsp;<span class="op" id="2445183">:=</span>&nbsp;<span class="ident" id="2445186"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2445193">.</span><span class="ident" id="2445194">Chdir</span><span class="op" id="2445199">(</span><span class="ident" id="2445200"><a href="/os/file.go.html#2445157">dir</a></span><span class="op" id="2445203">)</span><span class="op" id="2445204">;</span>&nbsp;<span class="ident" id="2445206"><a href="/os/file.go.html#2445181">e</a></span>&nbsp;<span class="op" id="2445208">!=</span>&nbsp;<span class="ident" id="2445211">nil</span>&nbsp;<span class="op" id="2445215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445219">return</span>&nbsp;<span class="op" id="2445226">&amp;</span><span class="ident" id="2445227"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2445236">{</span><span class="string" id="2445237">&#34;chdir&#34;</span><span class="op" id="2445244">,</span>&nbsp;<span class="ident" id="2445246"><a href="/os/file.go.html#2445157">dir</a></span><span class="op" id="2445249">,</span>&nbsp;<span class="ident" id="2445251"><a href="/os/file.go.html#2445181">e</a></span><span class="op" id="2445252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445258">return</span>&nbsp;<span class="ident" id="2445265">nil</span><br>
<span class="lineno"></span><span class="op" id="2445269">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="comment" id="2445272">//&nbsp;Chdir&nbsp;changes&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;to&nbsp;the&nbsp;file,</span><br>
<span class="lineno"></span><span class="comment" id="2445332">//&nbsp;which&nbsp;must&nbsp;be&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2445362">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2445418">func</span>&nbsp;<span class="op" id="2445423">(</span><span class="ident" id="2445424">f</span>&nbsp;<span class="op" id="2445426">*</span><span class="ident" id="2445427"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2445431">)</span>&nbsp;<span class="ident" id="2445433">Chdir</span><span class="op" id="2445438">(</span><span class="op" id="2445439">)</span>&nbsp;<span class="builtintype" id="2445441">error</span>&nbsp;<span class="op" id="2445447">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445450">if</span>&nbsp;<span class="ident" id="2445453"><a href="/os/file.go.html#2445424">f</a></span>&nbsp;<span class="op" id="2445455">==</span>&nbsp;<span class="ident" id="2445458">nil</span>&nbsp;<span class="op" id="2445462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445466">return</span>&nbsp;<span class="ident" id="2445473"><a href="/os/error.go.html#2429601">ErrInvalid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445488">if</span>&nbsp;<span class="ident" id="2445491">e</span>&nbsp;<span class="op" id="2445493">:=</span>&nbsp;<span class="ident" id="2445496"><a href="/os/file.go.html#2440451">syscall</a></span><span class="op" id="2445503">.</span><span class="ident" id="2445504">Fchdir</span><span class="op" id="2445510">(</span><span class="ident" id="2445511"><a href="/os/file.go.html#2445424">f</a></span><span class="op" id="2445512">.</span><span class="ident" id="2445513">fd</span><span class="op" id="2445515">)</span><span class="op" id="2445516">;</span>&nbsp;<span class="ident" id="2445518"><a href="/os/file.go.html#2445491">e</a></span>&nbsp;<span class="op" id="2445520">!=</span>&nbsp;<span class="ident" id="2445523">nil</span>&nbsp;<span class="op" id="2445527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445531">return</span>&nbsp;<span class="op" id="2445538">&amp;</span><span class="ident" id="2445539"><a href="/os/error.go.html#2429885">PathError</a></span><span class="op" id="2445548">{</span><span class="string" id="2445549">&#34;chdir&#34;</span><span class="op" id="2445556">,</span>&nbsp;<span class="ident" id="2445558"><a href="/os/file.go.html#2445424">f</a></span><span class="op" id="2445559">.</span><span class="ident" id="2445560">name</span><span class="op" id="2445564">,</span>&nbsp;<span class="ident" id="2445566"><a href="/os/file.go.html#2445491">e</a></span><span class="op" id="2445567">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445573">return</span>&nbsp;<span class="ident" id="2445580">nil</span><br>
<span class="lineno"></span><span class="op" id="2445584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2445587">//&nbsp;Open&nbsp;opens&nbsp;the&nbsp;named&nbsp;file&nbsp;for&nbsp;reading.&nbsp;&nbsp;If&nbsp;successful,&nbsp;methods&nbsp;on</span><br>
<span class="lineno">235</span><span class="comment" id="2445656">//&nbsp;the&nbsp;returned&nbsp;file&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;reading;&nbsp;the&nbsp;associated&nbsp;file</span><br>
<span class="lineno"></span><span class="comment" id="2445722">//&nbsp;descriptor&nbsp;has&nbsp;mode&nbsp;O_RDONLY.</span><br>
<span class="lineno"></span><span class="comment" id="2445755">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2445811">func</span>&nbsp;<span class="ident" id="2445816">Open</span><span class="op" id="2445820">(</span><span class="ident" id="2445821">name</span>&nbsp;<span class="builtintype" id="2445826">string</span><span class="op" id="2445832">)</span>&nbsp;<span class="op" id="2445834">(</span><span class="ident" id="2445835">file</span>&nbsp;<span class="op" id="2445840">*</span><span class="ident" id="2445841"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2445845">,</span>&nbsp;<span class="ident" id="2445847">err</span>&nbsp;<span class="builtintype" id="2445851">error</span><span class="op" id="2445856">)</span>&nbsp;<span class="op" id="2445858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445861">return</span>&nbsp;<span class="ident" id="2445868"><a href="/os/file_unix.go.html#2453048">OpenFile</a></span><span class="op" id="2445876">(</span><span class="ident" id="2445877"><a href="/os/file.go.html#2445821">name</a></span><span class="op" id="2445881">,</span>&nbsp;<span class="ident" id="2445883"><a href="/os/file.go.html#2441007">O_RDONLY</a></span><span class="op" id="2445891">,</span>&nbsp;<span class="num" id="2445893">0</span><span class="op" id="2445894">)</span><br>
<span class="lineno">240</span><span class="op" id="2445896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2445899">//&nbsp;Create&nbsp;creates&nbsp;the&nbsp;named&nbsp;file&nbsp;mode&nbsp;0666&nbsp;(before&nbsp;umask),&nbsp;truncating</span><br>
<span class="lineno"></span><span class="comment" id="2445969">//&nbsp;it&nbsp;if&nbsp;it&nbsp;already&nbsp;exists.&nbsp;&nbsp;If&nbsp;successful,&nbsp;methods&nbsp;on&nbsp;the&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="2446037">//&nbsp;File&nbsp;can&nbsp;be&nbsp;used&nbsp;for&nbsp;I/O;&nbsp;the&nbsp;associated&nbsp;file&nbsp;descriptor&nbsp;has&nbsp;mode</span><br>
<span class="lineno">245</span><span class="comment" id="2446106">//&nbsp;O_RDWR.</span><br>
<span class="lineno"></span><span class="comment" id="2446117">//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;will&nbsp;be&nbsp;of&nbsp;type&nbsp;*PathError.</span><br>
<span class="lineno"></span><span class="keyword" id="2446173">func</span>&nbsp;<span class="ident" id="2446178">Create</span><span class="op" id="2446184">(</span><span class="ident" id="2446185">name</span>&nbsp;<span class="builtintype" id="2446190">string</span><span class="op" id="2446196">)</span>&nbsp;<span class="op" id="2446198">(</span><span class="ident" id="2446199">file</span>&nbsp;<span class="op" id="2446204">*</span><span class="ident" id="2446205"><a href="/os/file_unix.go.html#2451241">File</a></span><span class="op" id="2446209">,</span>&nbsp;<span class="ident" id="2446211">err</span>&nbsp;<span class="builtintype" id="2446215">error</span><span class="op" id="2446220">)</span>&nbsp;<span class="op" id="2446222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2446225">return</span>&nbsp;<span class="ident" id="2446232"><a href="/os/file_unix.go.html#2453048">OpenFile</a></span><span class="op" id="2446240">(</span><span class="ident" id="2446241"><a href="/os/file.go.html#2446185">name</a></span><span class="op" id="2446245">,</span>&nbsp;<span class="ident" id="2446247"><a href="/os/file.go.html#2441130">O_RDWR</a></span><span class="op" id="2446253">|</span><span class="ident" id="2446254"><a href="/os/file.go.html#2441266">O_CREATE</a></span><span class="op" id="2446262">|</span><span class="ident" id="2446263"><a href="/os/file.go.html#2441474">O_TRUNC</a></span><span class="op" id="2446270">,</span>&nbsp;<span class="num" id="2446272">0666</span><span class="op" id="2446276">)</span><br>
<span class="lineno"></span><span class="op" id="2446278">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="comment" id="2446281">//&nbsp;lstat&nbsp;is&nbsp;overridden&nbsp;in&nbsp;tests.</span><br>
<span class="lineno"></span><span class="keyword" id="2446314">var</span>&nbsp;<span class="ident" id="2446318">lstat</span>&nbsp;<span class="op" id="2446324">=</span>&nbsp;<span class="ident" id="2446326"><a href="/os/file_unix.go.html#2454926">Lstat</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2446333">//&nbsp;Rename&nbsp;renames&nbsp;(moves)&nbsp;a&nbsp;file.&nbsp;OS-specific&nbsp;restrictions&nbsp;might&nbsp;apply.</span><br>
<span class="lineno">255</span><span class="keyword" id="2446405">func</span>&nbsp;<span class="ident" id="2446410">Rename</span><span class="op" id="2446416">(</span><span class="ident" id="2446417">oldpath</span><span class="op" id="2446424">,</span>&nbsp;<span class="ident" id="2446426">newpath</span>&nbsp;<span class="builtintype" id="2446434">string</span><span class="op" id="2446440">)</span>&nbsp;<span class="builtintype" id="2446442">error</span>&nbsp;<span class="op" id="2446448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2446451">return</span>&nbsp;<span class="ident" id="2446458"><a href="/os/file_posix.go.html#2447433">rename</a></span><span class="op" id="2446464">(</span><span class="ident" id="2446465"><a href="/os/file.go.html#2446417">oldpath</a></span><span class="op" id="2446472">,</span>&nbsp;<span class="ident" id="2446474"><a href="/os/file.go.html#2446426">newpath</a></span><span class="op" id="2446481">)</span><br>
<span class="lineno"></span><span class="op" id="2446483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2446486">//&nbsp;Many&nbsp;functions&nbsp;in&nbsp;package&nbsp;syscall&nbsp;return&nbsp;a&nbsp;count&nbsp;of&nbsp;-1&nbsp;instead&nbsp;of&nbsp;0.</span><br>
<span class="lineno">260</span><span class="comment" id="2446558">//&nbsp;Using&nbsp;fixCount(call())&nbsp;instead&nbsp;of&nbsp;call()&nbsp;corrects&nbsp;the&nbsp;count.</span><br>
<span class="lineno"></span><span class="keyword" id="2446622">func</span>&nbsp;<span class="ident" id="2446627">fixCount</span><span class="op" id="2446635">(</span><span class="ident" id="2446636">n</span>&nbsp;<span class="builtintype" id="2446638">int</span><span class="op" id="2446641">,</span>&nbsp;<span class="ident" id="2446643">err</span>&nbsp;<span class="builtintype" id="2446647">error</span><span class="op" id="2446652">)</span>&nbsp;<span class="op" id="2446654">(</span><span class="builtintype" id="2446655">int</span><span class="op" id="2446658">,</span>&nbsp;<span class="builtintype" id="2446660">error</span><span class="op" id="2446665">)</span>&nbsp;<span class="op" id="2446667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2446670">if</span>&nbsp;<span class="ident" id="2446673"><a href="/os/file.go.html#2446636">n</a></span>&nbsp;<span class="op" id="2446675">&lt;</span>&nbsp;<span class="num" id="2446677">0</span>&nbsp;<span class="op" id="2446679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2446683"><a href="/os/file.go.html#2446636">n</a></span>&nbsp;<span class="op" id="2446685">=</span>&nbsp;<span class="num" id="2446687">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2446690">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2446693">return</span>&nbsp;<span class="ident" id="2446700"><a href="/os/file.go.html#2446636">n</a></span><span class="op" id="2446701">,</span>&nbsp;<span class="ident" id="2446703"><a href="/os/file.go.html#2446643">err</a></span><br>
<span class="lineno"></span><span class="op" id="2446707">}</span>
</div>
</body>
</html>
