<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7654651">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7654707">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7654761">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7654812">package</span>&nbsp;<span class="ident" id="7654820">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7654826">import</span>&nbsp;<span class="op" id="7654833">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7654836">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7654846">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7654849">func</span>&nbsp;<span class="ident" id="7654854">TestTagParsing</span><span class="op" id="7654868">(</span><span class="ident" id="7654869">t</span>&nbsp;<span class="op" id="7654871">*</span><span class="ident" id="7654872">testing</span><span class="op" id="7654879">.</span><span class="ident" id="7654880">T</span><span class="op" id="7654881">)</span>&nbsp;<span class="op" id="7654883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7654886">name</span><span class="op" id="7654890">,</span>&nbsp;<span class="ident" id="7654892">opts</span>&nbsp;<span class="op" id="7654897">:=</span>&nbsp;<span class="ident" id="7654900">parseTag</span><span class="op" id="7654908">(</span><span class="string" id="7654909">&#34;field,foobar,foo&#34;</span><span class="op" id="7654927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7654930">if</span>&nbsp;<span class="ident" id="7654933">name</span>&nbsp;<span class="op" id="7654938">!=</span>&nbsp;<span class="string" id="7654941">&#34;field&#34;</span>&nbsp;<span class="op" id="7654949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7654953">t</span><span class="op" id="7654954">.</span><span class="ident" id="7654955">Fatalf</span><span class="op" id="7654961">(</span><span class="string" id="7654962">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="7654985">,</span>&nbsp;<span class="ident" id="7654987">name</span><span class="op" id="7654991">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7654994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7654997">for</span>&nbsp;<span class="ident" id="7655001">_</span><span class="op" id="7655002">,</span>&nbsp;<span class="ident" id="7655004">tt</span>&nbsp;<span class="op" id="7655007">:=</span>&nbsp;<span class="keyword" id="7655010">range</span>&nbsp;<span class="op" id="7655016">[</span><span class="op" id="7655017">]</span><span class="keyword" id="7655018">struct</span>&nbsp;<span class="op" id="7655025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655029">opt</span>&nbsp;&nbsp;<span class="builtintype" id="7655034">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655043">want</span>&nbsp;<span class="builtintype" id="7655048">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655054">}</span><span class="op" id="7655055">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655059">{</span><span class="string" id="7655060">&#34;foobar&#34;</span><span class="op" id="7655068">,</span>&nbsp;<span class="builtintype" id="7655070">true</span><span class="op" id="7655074">}</span><span class="op" id="7655075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655079">{</span><span class="string" id="7655080">&#34;foo&#34;</span><span class="op" id="7655085">,</span>&nbsp;<span class="builtintype" id="7655087">true</span><span class="op" id="7655091">}</span><span class="op" id="7655092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655096">{</span><span class="string" id="7655097">&#34;bar&#34;</span><span class="op" id="7655102">,</span>&nbsp;<span class="builtintype" id="7655104">false</span><span class="op" id="7655109">}</span><span class="op" id="7655110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655113">}</span>&nbsp;<span class="op" id="7655115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7655119">if</span>&nbsp;<span class="ident" id="7655122">opts</span><span class="op" id="7655126">.</span><span class="ident" id="7655127">Contains</span><span class="op" id="7655135">(</span><span class="ident" id="7655136">tt</span><span class="op" id="7655138">.</span><span class="ident" id="7655139">opt</span><span class="op" id="7655142">)</span>&nbsp;<span class="op" id="7655144">!=</span>&nbsp;<span class="ident" id="7655147">tt</span><span class="op" id="7655149">.</span><span class="ident" id="7655150">want</span>&nbsp;<span class="op" id="7655155">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655160">t</span><span class="op" id="7655161">.</span><span class="ident" id="7655162">Errorf</span><span class="op" id="7655168">(</span><span class="string" id="7655169">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7655188">,</span>&nbsp;<span class="ident" id="7655190">tt</span><span class="op" id="7655192">.</span><span class="ident" id="7655193">opt</span><span class="op" id="7655196">,</span>&nbsp;<span class="op" id="7655198">!</span><span class="ident" id="7655199">tt</span><span class="op" id="7655201">.</span><span class="ident" id="7655202">want</span><span class="op" id="7655206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655213">}</span><br>
<span class="lineno"></span><span class="op" id="7655215">}</span>
</div>
</body>
</html>
