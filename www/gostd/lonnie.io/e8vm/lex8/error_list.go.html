<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/lex8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/lex8/error.go.html">error.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/error_list.go.html">error_list.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/lex_scanner.go.html">lex_scanner.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/lexer.go.html">lexer.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/pos.go.html">pos.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/rune_scanner.go.html">rune_scanner.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/lex8/token.go.html">token.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="3666560">package</span>&nbsp;<span class="ident" id="3666568">lex8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3666574">import</span>&nbsp;<span class="op" id="3666581">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3666584">&#34;fmt&#34;</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3666591">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="3666596">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3666599">//&nbsp;ErrorList&nbsp;saves&nbsp;a&nbsp;list&nbsp;of&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="3666634">type</span>&nbsp;<span class="ident" id="3666639">ErrorList</span>&nbsp;<span class="keyword" id="3666649">struct</span>&nbsp;<span class="op" id="3666656">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666659">Errs</span>&nbsp;<span class="op" id="3666664">[</span><span class="op" id="3666665">]</span><span class="op" id="3666666">*</span><span class="ident" id="3666667">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666675">Max</span>&nbsp;<span class="builtintype" id="3666679">int</span><br>
<span class="lineno"></span><span class="op" id="3666683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3666686">//&nbsp;NewErrList&nbsp;creates&nbsp;a&nbsp;new&nbsp;error&nbsp;list&nbsp;with&nbsp;default&nbsp;(20)&nbsp;maximum</span><br>
<span class="lineno"></span><span class="comment" id="3666751">//&nbsp;lines&nbsp;of&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="3666771">func</span>&nbsp;<span class="ident" id="3666776">NewErrList</span><span class="op" id="3666786">(</span><span class="op" id="3666787">)</span>&nbsp;<span class="op" id="3666789">*</span><span class="ident" id="3666790">ErrorList</span>&nbsp;<span class="op" id="3666800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666803">ret</span>&nbsp;<span class="op" id="3666807">:=</span>&nbsp;<span class="builtinfunc" id="3666810">new</span><span class="op" id="3666813">(</span><span class="ident" id="3666814">ErrorList</span><span class="op" id="3666823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666826">ret</span><span class="op" id="3666829">.</span><span class="ident" id="3666830">Max</span>&nbsp;<span class="op" id="3666834">=</span>&nbsp;<span class="num" id="3666836">20</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666841">return</span>&nbsp;<span class="ident" id="3666848">ret</span><br>
<span class="lineno"></span><span class="op" id="3666852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3666855">//&nbsp;Add&nbsp;appends&nbsp;the&nbsp;error&nbsp;to&nbsp;the&nbsp;list</span><br>
<span class="lineno">25</span><span class="keyword" id="3666892">func</span>&nbsp;<span class="op" id="3666897">(</span><span class="ident" id="3666898">lst</span>&nbsp;<span class="op" id="3666902">*</span><span class="ident" id="3666903">ErrorList</span><span class="op" id="3666912">)</span>&nbsp;<span class="ident" id="3666914">Add</span><span class="op" id="3666917">(</span><span class="ident" id="3666918">e</span>&nbsp;<span class="op" id="3666920">*</span><span class="ident" id="3666921">Error</span><span class="op" id="3666926">)</span>&nbsp;<span class="op" id="3666928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666931">if</span>&nbsp;<span class="builtinfunc" id="3666934">len</span><span class="op" id="3666937">(</span><span class="ident" id="3666938">lst</span><span class="op" id="3666941">.</span><span class="ident" id="3666942">Errs</span><span class="op" id="3666946">)</span>&nbsp;<span class="op" id="3666948">&gt;=</span>&nbsp;<span class="ident" id="3666951">lst</span><span class="op" id="3666954">.</span><span class="ident" id="3666955">Max</span>&nbsp;<span class="op" id="3666959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3666963">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3666971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3666975">lst</span><span class="op" id="3666978">.</span><span class="ident" id="3666979">Errs</span>&nbsp;<span class="op" id="3666984">=</span>&nbsp;<span class="builtinfunc" id="3666986">append</span><span class="op" id="3666992">(</span><span class="ident" id="3666993">lst</span><span class="op" id="3666996">.</span><span class="ident" id="3666997">Errs</span><span class="op" id="3667001">,</span>&nbsp;<span class="ident" id="3667003">e</span><span class="op" id="3667004">)</span><br>
<span class="lineno"></span><span class="op" id="3667006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3667009">//&nbsp;Addf&nbsp;appends&nbsp;a&nbsp;new&nbsp;error&nbsp;with&nbsp;particular&nbsp;position&nbsp;and&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="3667074">func</span>&nbsp;<span class="op" id="3667079">(</span><span class="ident" id="3667080">lst</span>&nbsp;<span class="op" id="3667084">*</span><span class="ident" id="3667085">ErrorList</span><span class="op" id="3667094">)</span>&nbsp;<span class="ident" id="3667096">Addf</span><span class="op" id="3667100">(</span><span class="ident" id="3667101">p</span>&nbsp;<span class="op" id="3667103">*</span><span class="ident" id="3667104">Pos</span><span class="op" id="3667107">,</span>&nbsp;<span class="ident" id="3667109">f</span>&nbsp;<span class="builtintype" id="3667111">string</span><span class="op" id="3667117">,</span>&nbsp;<span class="ident" id="3667119">args</span>&nbsp;<span class="op" id="3667124">...</span><span class="keyword" id="3667127">interface</span><span class="op" id="3667136">{</span><span class="op" id="3667137">}</span><span class="op" id="3667138">)</span>&nbsp;<span class="op" id="3667140">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3667143">lst</span><span class="op" id="3667146">.</span><span class="ident" id="3667147">Add</span><span class="op" id="3667150">(</span><span class="op" id="3667151">&amp;</span><span class="ident" id="3667152">Error</span><span class="op" id="3667157">{</span><span class="ident" id="3667158">p</span><span class="op" id="3667159">,</span>&nbsp;<span class="ident" id="3667161">fmt</span><span class="op" id="3667164">.</span><span class="ident" id="3667165">Errorf</span><span class="op" id="3667171">(</span><span class="ident" id="3667172">f</span><span class="op" id="3667173">,</span>&nbsp;<span class="ident" id="3667175">args</span><span class="op" id="3667179">...</span><span class="op" id="3667182">)</span><span class="op" id="3667183">}</span><span class="op" id="3667184">)</span><br>
<span class="lineno"></span><span class="op" id="3667186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3667189">//&nbsp;Print&nbsp;prints&nbsp;to&nbsp;the&nbsp;writer&nbsp;(maximume&nbsp;lst.MaxPrint&nbsp;errors).</span><br>
<span class="lineno"></span><span class="keyword" id="3667251">func</span>&nbsp;<span class="op" id="3667256">(</span><span class="ident" id="3667257">lst</span>&nbsp;<span class="op" id="3667261">*</span><span class="ident" id="3667262">ErrorList</span><span class="op" id="3667271">)</span>&nbsp;<span class="ident" id="3667273">Print</span><span class="op" id="3667278">(</span><span class="ident" id="3667279">w</span>&nbsp;<span class="ident" id="3667281">io</span><span class="op" id="3667283">.</span><span class="ident" id="3667284">Writer</span><span class="op" id="3667290">)</span>&nbsp;<span class="builtintype" id="3667292">error</span>&nbsp;<span class="op" id="3667298">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667301">for</span>&nbsp;<span class="ident" id="3667305">_</span><span class="op" id="3667306">,</span>&nbsp;<span class="ident" id="3667308">e</span>&nbsp;<span class="op" id="3667310">:=</span>&nbsp;<span class="keyword" id="3667313">range</span>&nbsp;<span class="ident" id="3667319">lst</span><span class="op" id="3667322">.</span><span class="ident" id="3667323">Errs</span>&nbsp;<span class="op" id="3667328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3667332">_</span><span class="op" id="3667333">,</span>&nbsp;<span class="ident" id="3667335">pe</span>&nbsp;<span class="op" id="3667338">:=</span>&nbsp;<span class="ident" id="3667341">fmt</span><span class="op" id="3667344">.</span><span class="ident" id="3667345">Fprintln</span><span class="op" id="3667353">(</span><span class="ident" id="3667354">w</span><span class="op" id="3667355">,</span>&nbsp;<span class="ident" id="3667357">e</span><span class="op" id="3667358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667362">if</span>&nbsp;<span class="ident" id="3667365">pe</span>&nbsp;<span class="op" id="3667368">!=</span>&nbsp;<span class="ident" id="3667371">nil</span>&nbsp;<span class="op" id="3667375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667380">return</span>&nbsp;<span class="ident" id="3667387">pe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3667392">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3667395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667399">return</span>&nbsp;<span class="ident" id="3667406">nil</span><br>
<span class="lineno"></span><span class="op" id="3667410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="3667413">//&nbsp;SingleErr&nbsp;returns&nbsp;an&nbsp;error&nbsp;array&nbsp;with&nbsp;one&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3667465">func</span>&nbsp;<span class="ident" id="3667470">SingleErr</span><span class="op" id="3667479">(</span><span class="ident" id="3667480">e</span>&nbsp;<span class="builtintype" id="3667482">error</span><span class="op" id="3667487">)</span>&nbsp;<span class="op" id="3667489">[</span><span class="op" id="3667490">]</span><span class="op" id="3667491">*</span><span class="ident" id="3667492">Error</span>&nbsp;<span class="op" id="3667498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3667501">return</span>&nbsp;<span class="op" id="3667508">[</span><span class="op" id="3667509">]</span><span class="op" id="3667510">*</span><span class="ident" id="3667511">Error</span><span class="op" id="3667516">{</span><span class="op" id="3667517">{</span><span class="ident" id="3667518">Err</span><span class="op" id="3667521">:</span>&nbsp;<span class="ident" id="3667523">e</span><span class="op" id="3667524">}</span><span class="op" id="3667525">}</span><br>
<span class="lineno"></span><span class="op" id="3667527">}</span>
</div>
</body>
</html>
