<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/heap</h2>
<ul>
<li><a href="/gostd/container/heap/example_intheap_test.go.html">example_intheap_test.go</a></li>
<li><a href="/gostd/container/heap/example_pq_test.go.html">example_pq_test.go</a></li>
<li><a href="/gostd/container/heap/heap.go.html" class="current">heap.go</a></li>
<li><a href="/gostd/container/heap/heap_test.go.html">heap_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5686200">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5686255">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5686309">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5686360">//&nbsp;Package&nbsp;heap&nbsp;provides&nbsp;heap&nbsp;operations&nbsp;for&nbsp;any&nbsp;type&nbsp;that&nbsp;implements</span><br>
<span class="lineno"></span><span class="comment" id="5686430">//&nbsp;heap.Interface.&nbsp;A&nbsp;heap&nbsp;is&nbsp;a&nbsp;tree&nbsp;with&nbsp;the&nbsp;property&nbsp;that&nbsp;each&nbsp;node&nbsp;is&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5686506">//&nbsp;minimum-valued&nbsp;node&nbsp;in&nbsp;its&nbsp;subtree.</span><br>
<span class="lineno"></span><span class="comment" id="5686545">//</span><br>
<span class="lineno"></span><span class="comment" id="5686548">//&nbsp;The&nbsp;minimum&nbsp;element&nbsp;in&nbsp;the&nbsp;tree&nbsp;is&nbsp;the&nbsp;root,&nbsp;at&nbsp;index&nbsp;0.</span><br>
<span class="lineno">10</span><span class="comment" id="5686608">//</span><br>
<span class="lineno"></span><span class="comment" id="5686611">//&nbsp;A&nbsp;heap&nbsp;is&nbsp;a&nbsp;common&nbsp;way&nbsp;to&nbsp;implement&nbsp;a&nbsp;priority&nbsp;queue.&nbsp;To&nbsp;build&nbsp;a&nbsp;priority</span><br>
<span class="lineno"></span><span class="comment" id="5686688">//&nbsp;queue,&nbsp;implement&nbsp;the&nbsp;Heap&nbsp;interface&nbsp;with&nbsp;the&nbsp;(negative)&nbsp;priority&nbsp;as&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5686763">//&nbsp;ordering&nbsp;for&nbsp;the&nbsp;Less&nbsp;method,&nbsp;so&nbsp;Push&nbsp;adds&nbsp;items&nbsp;while&nbsp;Pop&nbsp;removes&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5686837">//&nbsp;highest-priority&nbsp;item&nbsp;from&nbsp;the&nbsp;queue.&nbsp;The&nbsp;Examples&nbsp;include&nbsp;such&nbsp;an</span><br>
<span class="lineno">15</span><span class="comment" id="5686907">//&nbsp;implementation;&nbsp;the&nbsp;file&nbsp;example_pq_test.go&nbsp;has&nbsp;the&nbsp;complete&nbsp;source.</span><br>
<span class="lineno"></span><span class="comment" id="5686979">//</span><br>
<span class="lineno"></span><span class="keyword" id="5686982">package</span>&nbsp;<span class="ident" id="5686990">heap</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5686996">import</span>&nbsp;<span class="string" id="5687003">&#34;sort&#34;</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="5687011">//&nbsp;Any&nbsp;type&nbsp;that&nbsp;implements&nbsp;heap.Interface&nbsp;may&nbsp;be&nbsp;used&nbsp;as&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5687071">//&nbsp;min-heap&nbsp;with&nbsp;the&nbsp;following&nbsp;invariants&nbsp;(established&nbsp;after</span><br>
<span class="lineno"></span><span class="comment" id="5687132">//&nbsp;Init&nbsp;has&nbsp;been&nbsp;called&nbsp;or&nbsp;if&nbsp;the&nbsp;data&nbsp;is&nbsp;empty&nbsp;or&nbsp;sorted):</span><br>
<span class="lineno"></span><span class="comment" id="5687192">//</span><br>
<span class="lineno">25</span><span class="comment" id="5687195">//&nbsp;&nbsp;&nbsp;&nbsp;!h.Less(j,&nbsp;i)&nbsp;for&nbsp;0&nbsp;&lt;=&nbsp;i&nbsp;&lt;&nbsp;h.Len()&nbsp;and&nbsp;2*i+1&nbsp;&lt;=&nbsp;j&nbsp;&lt;=&nbsp;2*i+2&nbsp;and&nbsp;j&nbsp;&lt;&nbsp;h.Len()</span><br>
<span class="lineno"></span><span class="comment" id="5687273">//</span><br>
<span class="lineno"></span><span class="comment" id="5687276">//&nbsp;Note&nbsp;that&nbsp;Push&nbsp;and&nbsp;Pop&nbsp;in&nbsp;this&nbsp;interface&nbsp;are&nbsp;for&nbsp;package&nbsp;heap&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5687343">//&nbsp;implementation&nbsp;to&nbsp;call.&nbsp;&nbsp;To&nbsp;add&nbsp;and&nbsp;remove&nbsp;things&nbsp;from&nbsp;the&nbsp;heap,</span><br>
<span class="lineno"></span><span class="comment" id="5687411">//&nbsp;use&nbsp;heap.Push&nbsp;and&nbsp;heap.Pop.</span><br>
<span class="lineno">30</span><span class="keyword" id="5687442">type</span>&nbsp;<span class="ident" id="5687447">Interface</span>&nbsp;<span class="keyword" id="5687457">interface</span>&nbsp;<span class="op" id="5687467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5687470"><a href="/gostd/container/heap/heap.go.html#5687003">sort</a></span><span class="op" id="5687474">.</span><span class="ident" id="5687475"><a href="/gostd/sort/sort.go.html#2011419">Interface</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5687486">Push</span><span class="op" id="5687490">(</span><span class="ident" id="5687491">x</span>&nbsp;<span class="keyword" id="5687493">interface</span><span class="op" id="5687502">{</span><span class="op" id="5687503">}</span><span class="op" id="5687504">)</span>&nbsp;<span class="comment" id="5687506">//&nbsp;add&nbsp;x&nbsp;as&nbsp;element&nbsp;Len()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5687533">Pop</span><span class="op" id="5687536">(</span><span class="op" id="5687537">)</span>&nbsp;<span class="keyword" id="5687539">interface</span><span class="op" id="5687548">{</span><span class="op" id="5687549">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5687553">//&nbsp;remove&nbsp;and&nbsp;return&nbsp;element&nbsp;Len()&nbsp;-&nbsp;1.</span><br>
<span class="lineno"></span><span class="op" id="5687593">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="5687596">//&nbsp;A&nbsp;heap&nbsp;must&nbsp;be&nbsp;initialized&nbsp;before&nbsp;any&nbsp;of&nbsp;the&nbsp;heap&nbsp;operations</span><br>
<span class="lineno"></span><span class="comment" id="5687660">//&nbsp;can&nbsp;be&nbsp;used.&nbsp;Init&nbsp;is&nbsp;idempotent&nbsp;with&nbsp;respect&nbsp;to&nbsp;the&nbsp;heap&nbsp;invariants</span><br>
<span class="lineno"></span><span class="comment" id="5687731">//&nbsp;and&nbsp;may&nbsp;be&nbsp;called&nbsp;whenever&nbsp;the&nbsp;heap&nbsp;invariants&nbsp;may&nbsp;have&nbsp;been&nbsp;invalidated.</span><br>
<span class="lineno"></span><span class="comment" id="5687808">//&nbsp;Its&nbsp;complexity&nbsp;is&nbsp;O(n)&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno">40</span><span class="comment" id="5687853">//</span><br>
<span class="lineno"></span><span class="keyword" id="5687856">func</span>&nbsp;<span class="ident" id="5687861">Init</span><span class="op" id="5687865">(</span><span class="ident" id="5687866">h</span>&nbsp;<span class="ident" id="5687868"><a href="/gostd/container/heap/heap.go.html#5687447">Interface</a></span><span class="op" id="5687877">)</span>&nbsp;<span class="op" id="5687879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5687882">//&nbsp;heapify</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5687894">n</span>&nbsp;<span class="op" id="5687896">:=</span>&nbsp;<span class="ident" id="5687899"><a href="/gostd/container/heap/heap.go.html#5687866">h</a></span><span class="op" id="5687900">.</span><span class="ident" id="5687901"><a href="/gostd/sort/sort.go.html#2011495">Len</a></span><span class="op" id="5687904">(</span><span class="op" id="5687905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5687908">for</span>&nbsp;<span class="ident" id="5687912">i</span>&nbsp;<span class="op" id="5687914">:=</span>&nbsp;<span class="ident" id="5687917"><a href="/gostd/container/heap/heap.go.html#5687894">n</a></span><span class="op" id="5687918">/</span><span class="num" id="5687919">2</span>&nbsp;<span class="op" id="5687921">-</span>&nbsp;<span class="num" id="5687923">1</span><span class="op" id="5687924">;</span>&nbsp;<span class="ident" id="5687926"><a href="/gostd/container/heap/heap.go.html#5687912">i</a></span>&nbsp;<span class="op" id="5687928">&gt;=</span>&nbsp;<span class="num" id="5687931">0</span><span class="op" id="5687932">;</span>&nbsp;<span class="ident" id="5687934"><a href="/gostd/container/heap/heap.go.html#5687912">i</a></span><span class="op" id="5687935">--</span>&nbsp;<span class="op" id="5687938">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5687942"><a href="/gostd/container/heap/heap.go.html#5689182">down</a></span><span class="op" id="5687946">(</span><span class="ident" id="5687947"><a href="/gostd/container/heap/heap.go.html#5687866">h</a></span><span class="op" id="5687948">,</span>&nbsp;<span class="ident" id="5687950"><a href="/gostd/container/heap/heap.go.html#5687912">i</a></span><span class="op" id="5687951">,</span>&nbsp;<span class="ident" id="5687953"><a href="/gostd/container/heap/heap.go.html#5687894">n</a></span><span class="op" id="5687954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5687957">}</span><br>
<span class="lineno"></span><span class="op" id="5687959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5687962">//&nbsp;Push&nbsp;pushes&nbsp;the&nbsp;element&nbsp;x&nbsp;onto&nbsp;the&nbsp;heap.&nbsp;The&nbsp;complexity&nbsp;is</span><br>
<span class="lineno">50</span><span class="comment" id="5688024">//&nbsp;O(log(n))&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno"></span><span class="comment" id="5688056">//</span><br>
<span class="lineno"></span><span class="keyword" id="5688059">func</span>&nbsp;<span class="ident" id="5688064">Push</span><span class="op" id="5688068">(</span><span class="ident" id="5688069">h</span>&nbsp;<span class="ident" id="5688071"><a href="/gostd/container/heap/heap.go.html#5687447">Interface</a></span><span class="op" id="5688080">,</span>&nbsp;<span class="ident" id="5688082">x</span>&nbsp;<span class="keyword" id="5688084">interface</span><span class="op" id="5688093">{</span><span class="op" id="5688094">}</span><span class="op" id="5688095">)</span>&nbsp;<span class="op" id="5688097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688100"><a href="/gostd/container/heap/heap.go.html#5688069">h</a></span><span class="op" id="5688101">.</span><span class="ident" id="5688102"><a href="/gostd/container/heap/heap.go.html#5687486">Push</a></span><span class="op" id="5688106">(</span><span class="ident" id="5688107"><a href="/gostd/container/heap/heap.go.html#5688082">x</a></span><span class="op" id="5688108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688111"><a href="/gostd/container/heap/heap.go.html#5689043">up</a></span><span class="op" id="5688113">(</span><span class="ident" id="5688114"><a href="/gostd/container/heap/heap.go.html#5688069">h</a></span><span class="op" id="5688115">,</span>&nbsp;<span class="ident" id="5688117"><a href="/gostd/container/heap/heap.go.html#5688069">h</a></span><span class="op" id="5688118">.</span><span class="ident" id="5688119"><a href="/gostd/sort/sort.go.html#2011495">Len</a></span><span class="op" id="5688122">(</span><span class="op" id="5688123">)</span><span class="op" id="5688124">-</span><span class="num" id="5688125">1</span><span class="op" id="5688126">)</span><br>
<span class="lineno">55</span><span class="op" id="5688128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5688131">//&nbsp;Pop&nbsp;removes&nbsp;the&nbsp;minimum&nbsp;element&nbsp;(according&nbsp;to&nbsp;Less)&nbsp;from&nbsp;the&nbsp;heap</span><br>
<span class="lineno"></span><span class="comment" id="5688200">//&nbsp;and&nbsp;returns&nbsp;it.&nbsp;The&nbsp;complexity&nbsp;is&nbsp;O(log(n))&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno"></span><span class="comment" id="5688266">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;Remove(h,&nbsp;0).</span><br>
<span class="lineno">60</span><span class="comment" id="5688303">//</span><br>
<span class="lineno"></span><span class="keyword" id="5688306">func</span>&nbsp;<span class="ident" id="5688311">Pop</span><span class="op" id="5688314">(</span><span class="ident" id="5688315">h</span>&nbsp;<span class="ident" id="5688317"><a href="/gostd/container/heap/heap.go.html#5687447">Interface</a></span><span class="op" id="5688326">)</span>&nbsp;<span class="keyword" id="5688328">interface</span><span class="op" id="5688337">{</span><span class="op" id="5688338">}</span>&nbsp;<span class="op" id="5688340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688343">n</span>&nbsp;<span class="op" id="5688345">:=</span>&nbsp;<span class="ident" id="5688348"><a href="/gostd/container/heap/heap.go.html#5688315">h</a></span><span class="op" id="5688349">.</span><span class="ident" id="5688350"><a href="/gostd/sort/sort.go.html#2011495">Len</a></span><span class="op" id="5688353">(</span><span class="op" id="5688354">)</span>&nbsp;<span class="op" id="5688356">-</span>&nbsp;<span class="num" id="5688358">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688361"><a href="/gostd/container/heap/heap.go.html#5688315">h</a></span><span class="op" id="5688362">.</span><span class="ident" id="5688363"><a href="/gostd/sort/sort.go.html#2011676">Swap</a></span><span class="op" id="5688367">(</span><span class="num" id="5688368">0</span><span class="op" id="5688369">,</span>&nbsp;<span class="ident" id="5688371"><a href="/gostd/container/heap/heap.go.html#5688343">n</a></span><span class="op" id="5688372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688375"><a href="/gostd/container/heap/heap.go.html#5689182">down</a></span><span class="op" id="5688379">(</span><span class="ident" id="5688380"><a href="/gostd/container/heap/heap.go.html#5688315">h</a></span><span class="op" id="5688381">,</span>&nbsp;<span class="num" id="5688383">0</span><span class="op" id="5688384">,</span>&nbsp;<span class="ident" id="5688386"><a href="/gostd/container/heap/heap.go.html#5688343">n</a></span><span class="op" id="5688387">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5688390">return</span>&nbsp;<span class="ident" id="5688397"><a href="/gostd/container/heap/heap.go.html#5688315">h</a></span><span class="op" id="5688398">.</span><span class="ident" id="5688399"><a href="/gostd/container/heap/heap.go.html#5687533">Pop</a></span><span class="op" id="5688402">(</span><span class="op" id="5688403">)</span><br>
<span class="lineno"></span><span class="op" id="5688405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5688408">//&nbsp;Remove&nbsp;removes&nbsp;the&nbsp;element&nbsp;at&nbsp;index&nbsp;i&nbsp;from&nbsp;the&nbsp;heap.</span><br>
<span class="lineno"></span><span class="comment" id="5688464">//&nbsp;The&nbsp;complexity&nbsp;is&nbsp;O(log(n))&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno">70</span><span class="comment" id="5688514">//</span><br>
<span class="lineno"></span><span class="keyword" id="5688517">func</span>&nbsp;<span class="ident" id="5688522">Remove</span><span class="op" id="5688528">(</span><span class="ident" id="5688529">h</span>&nbsp;<span class="ident" id="5688531"><a href="/gostd/container/heap/heap.go.html#5687447">Interface</a></span><span class="op" id="5688540">,</span>&nbsp;<span class="ident" id="5688542">i</span>&nbsp;<span class="builtintype" id="5688544">int</span><span class="op" id="5688547">)</span>&nbsp;<span class="keyword" id="5688549">interface</span><span class="op" id="5688558">{</span><span class="op" id="5688559">}</span>&nbsp;<span class="op" id="5688561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688564">n</span>&nbsp;<span class="op" id="5688566">:=</span>&nbsp;<span class="ident" id="5688569"><a href="/gostd/container/heap/heap.go.html#5688529">h</a></span><span class="op" id="5688570">.</span><span class="ident" id="5688571"><a href="/gostd/sort/sort.go.html#2011495">Len</a></span><span class="op" id="5688574">(</span><span class="op" id="5688575">)</span>&nbsp;<span class="op" id="5688577">-</span>&nbsp;<span class="num" id="5688579">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5688582">if</span>&nbsp;<span class="ident" id="5688585"><a href="/gostd/container/heap/heap.go.html#5688564">n</a></span>&nbsp;<span class="op" id="5688587">!=</span>&nbsp;<span class="ident" id="5688590"><a href="/gostd/container/heap/heap.go.html#5688542">i</a></span>&nbsp;<span class="op" id="5688592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688596"><a href="/gostd/container/heap/heap.go.html#5688529">h</a></span><span class="op" id="5688597">.</span><span class="ident" id="5688598"><a href="/gostd/sort/sort.go.html#2011676">Swap</a></span><span class="op" id="5688602">(</span><span class="ident" id="5688603"><a href="/gostd/container/heap/heap.go.html#5688542">i</a></span><span class="op" id="5688604">,</span>&nbsp;<span class="ident" id="5688606"><a href="/gostd/container/heap/heap.go.html#5688564">n</a></span><span class="op" id="5688607">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688611"><a href="/gostd/container/heap/heap.go.html#5689182">down</a></span><span class="op" id="5688615">(</span><span class="ident" id="5688616"><a href="/gostd/container/heap/heap.go.html#5688529">h</a></span><span class="op" id="5688617">,</span>&nbsp;<span class="ident" id="5688619"><a href="/gostd/container/heap/heap.go.html#5688542">i</a></span><span class="op" id="5688620">,</span>&nbsp;<span class="ident" id="5688622"><a href="/gostd/container/heap/heap.go.html#5688564">n</a></span><span class="op" id="5688623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688627"><a href="/gostd/container/heap/heap.go.html#5689043">up</a></span><span class="op" id="5688629">(</span><span class="ident" id="5688630"><a href="/gostd/container/heap/heap.go.html#5688529">h</a></span><span class="op" id="5688631">,</span>&nbsp;<span class="ident" id="5688633"><a href="/gostd/container/heap/heap.go.html#5688542">i</a></span><span class="op" id="5688634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5688637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5688640">return</span>&nbsp;<span class="ident" id="5688647"><a href="/gostd/container/heap/heap.go.html#5688529">h</a></span><span class="op" id="5688648">.</span><span class="ident" id="5688649"><a href="/gostd/container/heap/heap.go.html#5687533">Pop</a></span><span class="op" id="5688652">(</span><span class="op" id="5688653">)</span><br>
<span class="lineno"></span><span class="op" id="5688655">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="5688658">//&nbsp;Fix&nbsp;re-establishes&nbsp;the&nbsp;heap&nbsp;ordering&nbsp;after&nbsp;the&nbsp;element&nbsp;at&nbsp;index&nbsp;i&nbsp;has&nbsp;changed&nbsp;its&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5688750">//&nbsp;Changing&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;element&nbsp;at&nbsp;index&nbsp;i&nbsp;and&nbsp;then&nbsp;calling&nbsp;Fix&nbsp;is&nbsp;equivalent&nbsp;to,</span><br>
<span class="lineno"></span><span class="comment" id="5688837">//&nbsp;but&nbsp;less&nbsp;expensive&nbsp;than,&nbsp;calling&nbsp;Remove(h,&nbsp;i)&nbsp;followed&nbsp;by&nbsp;a&nbsp;Push&nbsp;of&nbsp;the&nbsp;new&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5688923">//&nbsp;The&nbsp;complexity&nbsp;is&nbsp;O(log(n))&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno">85</span><span class="keyword" id="5688973">func</span>&nbsp;<span class="ident" id="5688978">Fix</span><span class="op" id="5688981">(</span><span class="ident" id="5688982">h</span>&nbsp;<span class="ident" id="5688984"><a href="/gostd/container/heap/heap.go.html#5687447">Interface</a></span><span class="op" id="5688993">,</span>&nbsp;<span class="ident" id="5688995">i</span>&nbsp;<span class="builtintype" id="5688997">int</span><span class="op" id="5689000">)</span>&nbsp;<span class="op" id="5689002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689005"><a href="/gostd/container/heap/heap.go.html#5689182">down</a></span><span class="op" id="5689009">(</span><span class="ident" id="5689010"><a href="/gostd/container/heap/heap.go.html#5688982">h</a></span><span class="op" id="5689011">,</span>&nbsp;<span class="ident" id="5689013"><a href="/gostd/container/heap/heap.go.html#5688995">i</a></span><span class="op" id="5689014">,</span>&nbsp;<span class="ident" id="5689016"><a href="/gostd/container/heap/heap.go.html#5688982">h</a></span><span class="op" id="5689017">.</span><span class="ident" id="5689018"><a href="/gostd/sort/sort.go.html#2011495">Len</a></span><span class="op" id="5689021">(</span><span class="op" id="5689022">)</span><span class="op" id="5689023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689026"><a href="/gostd/container/heap/heap.go.html#5689043">up</a></span><span class="op" id="5689028">(</span><span class="ident" id="5689029"><a href="/gostd/container/heap/heap.go.html#5688982">h</a></span><span class="op" id="5689030">,</span>&nbsp;<span class="ident" id="5689032"><a href="/gostd/container/heap/heap.go.html#5688995">i</a></span><span class="op" id="5689033">)</span><br>
<span class="lineno"></span><span class="op" id="5689035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="5689038">func</span>&nbsp;<span class="ident" id="5689043">up</span><span class="op" id="5689045">(</span><span class="ident" id="5689046">h</span>&nbsp;<span class="ident" id="5689048"><a href="/gostd/container/heap/heap.go.html#5687447">Interface</a></span><span class="op" id="5689057">,</span>&nbsp;<span class="ident" id="5689059">j</span>&nbsp;<span class="builtintype" id="5689061">int</span><span class="op" id="5689064">)</span>&nbsp;<span class="op" id="5689066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689069">for</span>&nbsp;<span class="op" id="5689073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689077">i</span>&nbsp;<span class="op" id="5689079">:=</span>&nbsp;<span class="op" id="5689082">(</span><span class="ident" id="5689083"><a href="/gostd/container/heap/heap.go.html#5689059">j</a></span>&nbsp;<span class="op" id="5689085">-</span>&nbsp;<span class="num" id="5689087">1</span><span class="op" id="5689088">)</span>&nbsp;<span class="op" id="5689090">/</span>&nbsp;<span class="num" id="5689092">2</span>&nbsp;<span class="comment" id="5689094">//&nbsp;parent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689106">if</span>&nbsp;<span class="ident" id="5689109"><a href="/gostd/container/heap/heap.go.html#5689077">i</a></span>&nbsp;<span class="op" id="5689111">==</span>&nbsp;<span class="ident" id="5689114"><a href="/gostd/container/heap/heap.go.html#5689059">j</a></span>&nbsp;<span class="op" id="5689116">||</span>&nbsp;<span class="op" id="5689119">!</span><span class="ident" id="5689120"><a href="/gostd/container/heap/heap.go.html#5689046">h</a></span><span class="op" id="5689121">.</span><span class="ident" id="5689122"><a href="/gostd/sort/sort.go.html#2011605">Less</a></span><span class="op" id="5689126">(</span><span class="ident" id="5689127"><a href="/gostd/container/heap/heap.go.html#5689059">j</a></span><span class="op" id="5689128">,</span>&nbsp;<span class="ident" id="5689130"><a href="/gostd/container/heap/heap.go.html#5689077">i</a></span><span class="op" id="5689131">)</span>&nbsp;<span class="op" id="5689133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689138">break</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5689146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689150"><a href="/gostd/container/heap/heap.go.html#5689046">h</a></span><span class="op" id="5689151">.</span><span class="ident" id="5689152"><a href="/gostd/sort/sort.go.html#2011676">Swap</a></span><span class="op" id="5689156">(</span><span class="ident" id="5689157"><a href="/gostd/container/heap/heap.go.html#5689077">i</a></span><span class="op" id="5689158">,</span>&nbsp;<span class="ident" id="5689160"><a href="/gostd/container/heap/heap.go.html#5689059">j</a></span><span class="op" id="5689161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689165"><a href="/gostd/container/heap/heap.go.html#5689059">j</a></span>&nbsp;<span class="op" id="5689167">=</span>&nbsp;<span class="ident" id="5689169"><a href="/gostd/container/heap/heap.go.html#5689077">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5689172">}</span><br>
<span class="lineno"></span><span class="op" id="5689174">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="5689177">func</span>&nbsp;<span class="ident" id="5689182">down</span><span class="op" id="5689186">(</span><span class="ident" id="5689187">h</span>&nbsp;<span class="ident" id="5689189"><a href="/gostd/container/heap/heap.go.html#5687447">Interface</a></span><span class="op" id="5689198">,</span>&nbsp;<span class="ident" id="5689200">i</span><span class="op" id="5689201">,</span>&nbsp;<span class="ident" id="5689203">n</span>&nbsp;<span class="builtintype" id="5689205">int</span><span class="op" id="5689208">)</span>&nbsp;<span class="op" id="5689210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689213">for</span>&nbsp;<span class="op" id="5689217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689221">j1</span>&nbsp;<span class="op" id="5689224">:=</span>&nbsp;<span class="num" id="5689227">2</span><span class="op" id="5689228">*</span><span class="ident" id="5689229"><a href="/gostd/container/heap/heap.go.html#5689200">i</a></span>&nbsp;<span class="op" id="5689231">+</span>&nbsp;<span class="num" id="5689233">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689237">if</span>&nbsp;<span class="ident" id="5689240"><a href="/gostd/container/heap/heap.go.html#5689221">j1</a></span>&nbsp;<span class="op" id="5689243">&gt;=</span>&nbsp;<span class="ident" id="5689246"><a href="/gostd/container/heap/heap.go.html#5689203">n</a></span>&nbsp;<span class="op" id="5689248">||</span>&nbsp;<span class="ident" id="5689251"><a href="/gostd/container/heap/heap.go.html#5689221">j1</a></span>&nbsp;<span class="op" id="5689254">&lt;</span>&nbsp;<span class="num" id="5689256">0</span>&nbsp;<span class="op" id="5689258">{</span>&nbsp;<span class="comment" id="5689260">//&nbsp;j1&nbsp;&lt;&nbsp;0&nbsp;after&nbsp;int&nbsp;overflow</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689292">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5689300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689304">j</span>&nbsp;<span class="op" id="5689306">:=</span>&nbsp;<span class="ident" id="5689309"><a href="/gostd/container/heap/heap.go.html#5689221">j1</a></span>&nbsp;<span class="comment" id="5689312">//&nbsp;left&nbsp;child</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689328">if</span>&nbsp;<span class="ident" id="5689331">j2</span>&nbsp;<span class="op" id="5689334">:=</span>&nbsp;<span class="ident" id="5689337"><a href="/gostd/container/heap/heap.go.html#5689221">j1</a></span>&nbsp;<span class="op" id="5689340">+</span>&nbsp;<span class="num" id="5689342">1</span><span class="op" id="5689343">;</span>&nbsp;<span class="ident" id="5689345"><a href="/gostd/container/heap/heap.go.html#5689331">j2</a></span>&nbsp;<span class="op" id="5689348">&lt;</span>&nbsp;<span class="ident" id="5689350"><a href="/gostd/container/heap/heap.go.html#5689203">n</a></span>&nbsp;<span class="op" id="5689352">&amp;&amp;</span>&nbsp;<span class="op" id="5689355">!</span><span class="ident" id="5689356"><a href="/gostd/container/heap/heap.go.html#5689187">h</a></span><span class="op" id="5689357">.</span><span class="ident" id="5689358"><a href="/gostd/sort/sort.go.html#2011605">Less</a></span><span class="op" id="5689362">(</span><span class="ident" id="5689363"><a href="/gostd/container/heap/heap.go.html#5689221">j1</a></span><span class="op" id="5689365">,</span>&nbsp;<span class="ident" id="5689367"><a href="/gostd/container/heap/heap.go.html#5689331">j2</a></span><span class="op" id="5689369">)</span>&nbsp;<span class="op" id="5689371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689376"><a href="/gostd/container/heap/heap.go.html#5689304">j</a></span>&nbsp;<span class="op" id="5689378">=</span>&nbsp;<span class="ident" id="5689380"><a href="/gostd/container/heap/heap.go.html#5689331">j2</a></span>&nbsp;<span class="comment" id="5689383">//&nbsp;=&nbsp;2*i&nbsp;+&nbsp;2&nbsp;&nbsp;//&nbsp;right&nbsp;child</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5689414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689418">if</span>&nbsp;<span class="op" id="5689421">!</span><span class="ident" id="5689422"><a href="/gostd/container/heap/heap.go.html#5689187">h</a></span><span class="op" id="5689423">.</span><span class="ident" id="5689424"><a href="/gostd/sort/sort.go.html#2011605">Less</a></span><span class="op" id="5689428">(</span><span class="ident" id="5689429"><a href="/gostd/container/heap/heap.go.html#5689304">j</a></span><span class="op" id="5689430">,</span>&nbsp;<span class="ident" id="5689432"><a href="/gostd/container/heap/heap.go.html#5689200">i</a></span><span class="op" id="5689433">)</span>&nbsp;<span class="op" id="5689435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689440">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5689448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689452"><a href="/gostd/container/heap/heap.go.html#5689187">h</a></span><span class="op" id="5689453">.</span><span class="ident" id="5689454"><a href="/gostd/sort/sort.go.html#2011676">Swap</a></span><span class="op" id="5689458">(</span><span class="ident" id="5689459"><a href="/gostd/container/heap/heap.go.html#5689200">i</a></span><span class="op" id="5689460">,</span>&nbsp;<span class="ident" id="5689462"><a href="/gostd/container/heap/heap.go.html#5689304">j</a></span><span class="op" id="5689463">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689467"><a href="/gostd/container/heap/heap.go.html#5689200">i</a></span>&nbsp;<span class="op" id="5689469">=</span>&nbsp;<span class="ident" id="5689471"><a href="/gostd/container/heap/heap.go.html#5689304">j</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5689474">}</span><br>
<span class="lineno"></span><span class="op" id="5689476">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
