<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/arch8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/arch8/console.go.html">console.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/cpu.go.html">cpu.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/cpu_test.go.html">cpu_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/device.go.html">device.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/exception.go.html">exception.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_all.go.html">inst_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_br.go.html">inst_br.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_br_test.go.html">inst_br_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_imm.go.html">inst_imm.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_imm_test.go.html">inst_imm_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_jmp.go.html">inst_jmp.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_reg.go.html">inst_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_reg_test.go.html">inst_reg_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_sys.go.html">inst_sys.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/int_bus.go.html">int_bus.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/interrupt.go.html">interrupt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/interrupt_test.go.html">interrupt_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/machine.go.html">machine.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/multi_core.go.html">multi_core.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page.go.html">page.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_table.go.html">page_table.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_table_test.go.html">page_table_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_test.go.html">page_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/phy_memory.go.html">phy_memory.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/phy_memory_test.go.html">phy_memory_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/regs.go.html">regs.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/regs_test.go.html">regs_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/run_image.go.html">run_image.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/serial.go.html">serial.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/ticker.go.html">ticker.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/virt_memory.go.html">virt_memory.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/virt_memory_test.go.html">virt_memory_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="4789607">package</span>&nbsp;<span class="ident" id="4789615">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4789622">//&nbsp;Interrupt&nbsp;defines&nbsp;the&nbsp;interrupt&nbsp;page</span><br>
<span class="lineno"></span><span class="keyword" id="4789662">type</span>&nbsp;<span class="ident" id="4789667">interrupt</span>&nbsp;<span class="keyword" id="4789677">struct</span>&nbsp;<span class="op" id="4789684">{</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789687">p</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4789692">*</span><span class="ident" id="4789693">page</span>&nbsp;&nbsp;<span class="comment" id="4789699">//&nbsp;the&nbsp;dma&nbsp;page&nbsp;for&nbsp;interrupt&nbsp;handler</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789738">base</span>&nbsp;<span class="builtintype" id="4789743">uint32</span>&nbsp;<span class="comment" id="4789750">//&nbsp;dma&nbsp;offset</span><br>
<span class="lineno"></span><span class="op" id="4789764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4789767">//&nbsp;Number&nbsp;of&nbsp;interrupts</span><br>
<span class="lineno">10</span><span class="keyword" id="4789791">const</span>&nbsp;<span class="ident" id="4789797">Ninterrupt</span>&nbsp;<span class="op" id="4789808">=</span>&nbsp;<span class="num" id="4789810">256</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4789815">const</span>&nbsp;<span class="op" id="4789821">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789824">intFlags</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4789837">=</span>&nbsp;<span class="num" id="4789839">0</span>&nbsp;&nbsp;<span class="comment" id="4789842">//&nbsp;flags,&nbsp;bit&nbsp;0&nbsp;is&nbsp;master&nbsp;enabling&nbsp;switch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789885">intKernelSP</span>&nbsp;&nbsp;<span class="op" id="4789898">=</span>&nbsp;<span class="num" id="4789900">4</span>&nbsp;&nbsp;<span class="comment" id="4789903">//&nbsp;position&nbsp;of&nbsp;the&nbsp;handler&nbsp;stack&nbsp;base&nbsp;pointer</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4789950">intHandlerPC</span>&nbsp;<span class="op" id="4789963">=</span>&nbsp;<span class="num" id="4789965">8</span>&nbsp;&nbsp;<span class="comment" id="4789968">//&nbsp;position&nbsp;of&nbsp;the&nbsp;handler&nbsp;start&nbsp;PC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790005">intSyscallPC</span>&nbsp;<span class="op" id="4790018">=</span>&nbsp;<span class="num" id="4790020">12</span>&nbsp;<span class="comment" id="4790023">//&nbsp;position&nbsp;of&nbsp;the&nbsp;syscall&nbsp;start&nbsp;PC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790060">intMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4790073">=</span>&nbsp;<span class="num" id="4790075">32</span>&nbsp;<span class="comment" id="4790078">//&nbsp;interrupt&nbsp;enable&nbsp;mask&nbsp;bits&nbsp;offset&nbsp;(32&nbsp;bytes)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790127">intPending</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4790140">=</span>&nbsp;<span class="num" id="4790142">64</span>&nbsp;<span class="comment" id="4790145">//&nbsp;interrupt&nbsp;pending&nbsp;bits&nbsp;offset&nbsp;(32&nbsp;bytes)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790191">intCtrlSize</span>&nbsp;<span class="op" id="4790203">=</span>&nbsp;<span class="num" id="4790205">128</span><br>
<span class="lineno"></span><span class="op" id="4790209">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4790212">//&nbsp;NewInterrupt&nbsp;creates&nbsp;a&nbsp;interrupt&nbsp;on&nbsp;the&nbsp;given&nbsp;DMA&nbsp;page.</span><br>
<span class="lineno"></span><span class="keyword" id="4790271">func</span>&nbsp;<span class="ident" id="4790276">newInterrupt</span><span class="op" id="4790288">(</span><span class="ident" id="4790289">p</span>&nbsp;<span class="op" id="4790291">*</span><span class="ident" id="4790292">page</span><span class="op" id="4790296">,</span>&nbsp;<span class="ident" id="4790298">core</span>&nbsp;<span class="builtintype" id="4790303">byte</span><span class="op" id="4790307">)</span>&nbsp;<span class="op" id="4790309">*</span><span class="ident" id="4790310">interrupt</span>&nbsp;<span class="op" id="4790320">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790323">ret</span>&nbsp;<span class="op" id="4790327">:=</span>&nbsp;<span class="builtinfunc" id="4790330">new</span><span class="op" id="4790333">(</span><span class="ident" id="4790334">interrupt</span><span class="op" id="4790343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790346">ret</span><span class="op" id="4790349">.</span><span class="ident" id="4790350">p</span>&nbsp;<span class="op" id="4790352">=</span>&nbsp;<span class="ident" id="4790354">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790357">ret</span><span class="op" id="4790360">.</span><span class="ident" id="4790361">base</span>&nbsp;<span class="op" id="4790366">=</span>&nbsp;<span class="builtintype" id="4790368">uint32</span><span class="op" id="4790374">(</span><span class="ident" id="4790375">core</span><span class="op" id="4790379">)</span>&nbsp;<span class="op" id="4790381">*</span>&nbsp;<span class="ident" id="4790383">intCtrlSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790396">if</span>&nbsp;<span class="ident" id="4790399">ret</span><span class="op" id="4790402">.</span><span class="ident" id="4790403">base</span><span class="op" id="4790407">+</span><span class="ident" id="4790408">intCtrlSize</span>&nbsp;<span class="op" id="4790420">&gt;</span>&nbsp;<span class="ident" id="4790422">PageSize</span>&nbsp;<span class="op" id="4790431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4790435">panic</span><span class="op" id="4790440">(</span><span class="string" id="4790441">&#34;bug&#34;</span><span class="op" id="4790446">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4790449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790453">return</span>&nbsp;<span class="ident" id="4790460">ret</span><br>
<span class="lineno"></span><span class="op" id="4790464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="4790467">func</span>&nbsp;<span class="op" id="4790472">(</span><span class="ident" id="4790473">in</span>&nbsp;<span class="op" id="4790476">*</span><span class="ident" id="4790477">interrupt</span><span class="op" id="4790486">)</span>&nbsp;<span class="ident" id="4790488">readWord</span><span class="op" id="4790496">(</span><span class="ident" id="4790497">off</span>&nbsp;<span class="builtintype" id="4790501">uint32</span><span class="op" id="4790507">)</span>&nbsp;<span class="builtintype" id="4790509">uint32</span>&nbsp;<span class="op" id="4790516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790519">return</span>&nbsp;<span class="ident" id="4790526">in</span><span class="op" id="4790528">.</span><span class="ident" id="4790529">p</span><span class="op" id="4790530">.</span><span class="ident" id="4790531">ReadWord</span><span class="op" id="4790539">(</span><span class="ident" id="4790540">in</span><span class="op" id="4790542">.</span><span class="ident" id="4790543">base</span>&nbsp;<span class="op" id="4790548">+</span>&nbsp;<span class="ident" id="4790550">off</span><span class="op" id="4790553">)</span><br>
<span class="lineno"></span><span class="op" id="4790555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4790558">func</span>&nbsp;<span class="op" id="4790563">(</span><span class="ident" id="4790564">in</span>&nbsp;<span class="op" id="4790567">*</span><span class="ident" id="4790568">interrupt</span><span class="op" id="4790577">)</span>&nbsp;<span class="ident" id="4790579">readByte</span><span class="op" id="4790587">(</span><span class="ident" id="4790588">off</span>&nbsp;<span class="builtintype" id="4790592">uint32</span><span class="op" id="4790598">)</span>&nbsp;<span class="builtintype" id="4790600">byte</span>&nbsp;<span class="op" id="4790605">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790608">return</span>&nbsp;<span class="ident" id="4790615">in</span><span class="op" id="4790617">.</span><span class="ident" id="4790618">p</span><span class="op" id="4790619">.</span><span class="ident" id="4790620">ReadByte</span><span class="op" id="4790628">(</span><span class="ident" id="4790629">in</span><span class="op" id="4790631">.</span><span class="ident" id="4790632">base</span>&nbsp;<span class="op" id="4790637">+</span>&nbsp;<span class="ident" id="4790639">off</span><span class="op" id="4790642">)</span><br>
<span class="lineno"></span><span class="op" id="4790644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4790647">func</span>&nbsp;<span class="op" id="4790652">(</span><span class="ident" id="4790653">in</span>&nbsp;<span class="op" id="4790656">*</span><span class="ident" id="4790657">interrupt</span><span class="op" id="4790666">)</span>&nbsp;<span class="ident" id="4790668">writeWord</span><span class="op" id="4790677">(</span><span class="ident" id="4790678">off</span>&nbsp;<span class="builtintype" id="4790682">uint32</span><span class="op" id="4790688">,</span>&nbsp;<span class="ident" id="4790690">v</span>&nbsp;<span class="builtintype" id="4790692">uint32</span><span class="op" id="4790698">)</span>&nbsp;<span class="op" id="4790700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790703">in</span><span class="op" id="4790705">.</span><span class="ident" id="4790706">p</span><span class="op" id="4790707">.</span><span class="ident" id="4790708">WriteWord</span><span class="op" id="4790717">(</span><span class="ident" id="4790718">in</span><span class="op" id="4790720">.</span><span class="ident" id="4790721">base</span><span class="op" id="4790725">+</span><span class="ident" id="4790726">off</span><span class="op" id="4790729">,</span>&nbsp;<span class="ident" id="4790731">v</span><span class="op" id="4790732">)</span><br>
<span class="lineno">45</span><span class="op" id="4790734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4790737">func</span>&nbsp;<span class="op" id="4790742">(</span><span class="ident" id="4790743">in</span>&nbsp;<span class="op" id="4790746">*</span><span class="ident" id="4790747">interrupt</span><span class="op" id="4790756">)</span>&nbsp;<span class="ident" id="4790758">writeByte</span><span class="op" id="4790767">(</span><span class="ident" id="4790768">off</span>&nbsp;<span class="builtintype" id="4790772">uint32</span><span class="op" id="4790778">,</span>&nbsp;<span class="ident" id="4790780">v</span>&nbsp;<span class="builtintype" id="4790782">byte</span><span class="op" id="4790786">)</span>&nbsp;<span class="op" id="4790788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4790791">in</span><span class="op" id="4790793">.</span><span class="ident" id="4790794">p</span><span class="op" id="4790795">.</span><span class="ident" id="4790796">WriteByte</span><span class="op" id="4790805">(</span><span class="ident" id="4790806">in</span><span class="op" id="4790808">.</span><span class="ident" id="4790809">base</span><span class="op" id="4790813">+</span><span class="ident" id="4790814">off</span><span class="op" id="4790817">,</span>&nbsp;<span class="ident" id="4790819">v</span><span class="op" id="4790820">)</span><br>
<span class="lineno"></span><span class="op" id="4790822">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="4790825">func</span>&nbsp;<span class="op" id="4790830">(</span><span class="ident" id="4790831">in</span>&nbsp;<span class="op" id="4790834">*</span><span class="ident" id="4790835">interrupt</span><span class="op" id="4790844">)</span>&nbsp;<span class="ident" id="4790846">kernelSP</span><span class="op" id="4790854">(</span><span class="op" id="4790855">)</span>&nbsp;<span class="builtintype" id="4790857">uint32</span>&nbsp;<span class="op" id="4790864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790867">return</span>&nbsp;<span class="ident" id="4790874">in</span><span class="op" id="4790876">.</span><span class="ident" id="4790877">readWord</span><span class="op" id="4790885">(</span><span class="ident" id="4790886">intKernelSP</span><span class="op" id="4790897">)</span><br>
<span class="lineno"></span><span class="op" id="4790899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="4790902">func</span>&nbsp;<span class="op" id="4790907">(</span><span class="ident" id="4790908">in</span>&nbsp;<span class="op" id="4790911">*</span><span class="ident" id="4790912">interrupt</span><span class="op" id="4790921">)</span>&nbsp;<span class="ident" id="4790923">handlerPC</span><span class="op" id="4790932">(</span><span class="op" id="4790933">)</span>&nbsp;<span class="builtintype" id="4790935">uint32</span>&nbsp;<span class="op" id="4790942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4790945">return</span>&nbsp;<span class="ident" id="4790952">in</span><span class="op" id="4790954">.</span><span class="ident" id="4790955">readWord</span><span class="op" id="4790963">(</span><span class="ident" id="4790964">intHandlerPC</span><span class="op" id="4790976">)</span><br>
<span class="lineno"></span><span class="op" id="4790978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4790981">func</span>&nbsp;<span class="op" id="4790986">(</span><span class="ident" id="4790987">in</span>&nbsp;<span class="op" id="4790990">*</span><span class="ident" id="4790991">interrupt</span><span class="op" id="4791000">)</span>&nbsp;<span class="ident" id="4791002">syscallPC</span><span class="op" id="4791011">(</span><span class="op" id="4791012">)</span>&nbsp;<span class="builtintype" id="4791014">uint32</span>&nbsp;<span class="op" id="4791021">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791024">return</span>&nbsp;<span class="ident" id="4791031">in</span><span class="op" id="4791033">.</span><span class="ident" id="4791034">readWord</span><span class="op" id="4791042">(</span><span class="ident" id="4791043">intSyscallPC</span><span class="op" id="4791055">)</span><br>
<span class="lineno"></span><span class="op" id="4791057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4791060">//&nbsp;Issue&nbsp;issues&nbsp;an&nbsp;interrupt.&nbsp;If&nbsp;the&nbsp;interrupt&nbsp;is&nbsp;already&nbsp;issued,</span><br>
<span class="lineno"></span><span class="comment" id="4791126">//&nbsp;this&nbsp;has&nbsp;no&nbsp;effect.</span><br>
<span class="lineno">65</span><span class="keyword" id="4791149">func</span>&nbsp;<span class="op" id="4791154">(</span><span class="ident" id="4791155">in</span>&nbsp;<span class="op" id="4791158">*</span><span class="ident" id="4791159">interrupt</span><span class="op" id="4791168">)</span>&nbsp;<span class="ident" id="4791170">Issue</span><span class="op" id="4791175">(</span><span class="ident" id="4791176">i</span>&nbsp;<span class="builtintype" id="4791178">byte</span><span class="op" id="4791182">)</span>&nbsp;<span class="op" id="4791184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791187">off</span>&nbsp;<span class="op" id="4791191">:=</span>&nbsp;<span class="builtintype" id="4791194">uint32</span><span class="op" id="4791200">(</span><span class="ident" id="4791201">i</span><span class="op" id="4791202">/</span><span class="num" id="4791203">8</span><span class="op" id="4791204">)</span>&nbsp;<span class="op" id="4791206">+</span>&nbsp;<span class="ident" id="4791208">intPending</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791220">b</span>&nbsp;<span class="op" id="4791222">:=</span>&nbsp;<span class="ident" id="4791225">in</span><span class="op" id="4791227">.</span><span class="ident" id="4791228">readByte</span><span class="op" id="4791236">(</span><span class="ident" id="4791237">off</span><span class="op" id="4791240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791243">b</span>&nbsp;<span class="op" id="4791245">|=</span>&nbsp;<span class="num" id="4791248">0x1</span>&nbsp;<span class="op" id="4791252">&lt;&lt;</span>&nbsp;<span class="op" id="4791255">(</span><span class="ident" id="4791256">i</span>&nbsp;<span class="op" id="4791258">%</span>&nbsp;<span class="num" id="4791260">8</span><span class="op" id="4791261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791264">in</span><span class="op" id="4791266">.</span><span class="ident" id="4791267">writeByte</span><span class="op" id="4791276">(</span><span class="ident" id="4791277">off</span><span class="op" id="4791280">,</span>&nbsp;<span class="ident" id="4791282">b</span><span class="op" id="4791283">)</span><br>
<span class="lineno">70</span><span class="op" id="4791285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4791288">//&nbsp;Clear&nbsp;clears&nbsp;an&nbsp;interrupt.&nbsp;If&nbsp;the&nbsp;interrupt&nbsp;is&nbsp;already&nbsp;cleared,</span><br>
<span class="lineno"></span><span class="comment" id="4791355">//&nbsp;this&nbsp;has&nbsp;no&nbsp;effect.</span><br>
<span class="lineno"></span><span class="keyword" id="4791378">func</span>&nbsp;<span class="op" id="4791383">(</span><span class="ident" id="4791384">in</span>&nbsp;<span class="op" id="4791387">*</span><span class="ident" id="4791388">interrupt</span><span class="op" id="4791397">)</span>&nbsp;<span class="ident" id="4791399">Clear</span><span class="op" id="4791404">(</span><span class="ident" id="4791405">i</span>&nbsp;<span class="builtintype" id="4791407">byte</span><span class="op" id="4791411">)</span>&nbsp;<span class="op" id="4791413">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791416">off</span>&nbsp;<span class="op" id="4791420">:=</span>&nbsp;<span class="builtintype" id="4791423">uint32</span><span class="op" id="4791429">(</span><span class="ident" id="4791430">i</span><span class="op" id="4791431">/</span><span class="num" id="4791432">8</span><span class="op" id="4791433">)</span>&nbsp;<span class="op" id="4791435">+</span>&nbsp;<span class="ident" id="4791437">intPending</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791449">b</span>&nbsp;<span class="op" id="4791451">:=</span>&nbsp;<span class="ident" id="4791454">in</span><span class="op" id="4791456">.</span><span class="ident" id="4791457">readByte</span><span class="op" id="4791465">(</span><span class="ident" id="4791466">off</span><span class="op" id="4791469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791472">b</span>&nbsp;<span class="op" id="4791474">&amp;=</span>&nbsp;<span class="op" id="4791477">^</span><span class="op" id="4791478">(</span><span class="num" id="4791479">0x1</span>&nbsp;<span class="op" id="4791483">&lt;&lt;</span>&nbsp;<span class="op" id="4791486">(</span><span class="ident" id="4791487">i</span>&nbsp;<span class="op" id="4791489">%</span>&nbsp;<span class="num" id="4791491">8</span><span class="op" id="4791492">)</span><span class="op" id="4791493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791496">in</span><span class="op" id="4791498">.</span><span class="ident" id="4791499">writeByte</span><span class="op" id="4791508">(</span><span class="ident" id="4791509">off</span><span class="op" id="4791512">,</span>&nbsp;<span class="ident" id="4791514">b</span><span class="op" id="4791515">)</span><br>
<span class="lineno"></span><span class="op" id="4791517">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="4791520">//&nbsp;Enable&nbsp;sets&nbsp;the&nbsp;interrupt&nbsp;enable&nbsp;bit&nbsp;in&nbsp;the&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="4791574">func</span>&nbsp;<span class="op" id="4791579">(</span><span class="ident" id="4791580">in</span>&nbsp;<span class="op" id="4791583">*</span><span class="ident" id="4791584">interrupt</span><span class="op" id="4791593">)</span>&nbsp;<span class="ident" id="4791595">Enable</span><span class="op" id="4791601">(</span><span class="op" id="4791602">)</span>&nbsp;<span class="op" id="4791604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791607">b</span>&nbsp;<span class="op" id="4791609">:=</span>&nbsp;<span class="ident" id="4791612">in</span><span class="op" id="4791614">.</span><span class="ident" id="4791615">readByte</span><span class="op" id="4791623">(</span><span class="ident" id="4791624">intFlags</span><span class="op" id="4791632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791635">b</span>&nbsp;<span class="op" id="4791637">|=</span>&nbsp;<span class="num" id="4791640">0x1</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791645">in</span><span class="op" id="4791647">.</span><span class="ident" id="4791648">writeByte</span><span class="op" id="4791657">(</span><span class="ident" id="4791658">intFlags</span><span class="op" id="4791666">,</span>&nbsp;<span class="ident" id="4791668">b</span><span class="op" id="4791669">)</span><br>
<span class="lineno"></span><span class="op" id="4791671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4791674">//&nbsp;Enabled&nbsp;tests&nbsp;if&nbsp;interrupt&nbsp;is&nbsp;enabled</span><br>
<span class="lineno"></span><span class="keyword" id="4791715">func</span>&nbsp;<span class="op" id="4791720">(</span><span class="ident" id="4791721">in</span>&nbsp;<span class="op" id="4791724">*</span><span class="ident" id="4791725">interrupt</span><span class="op" id="4791734">)</span>&nbsp;<span class="ident" id="4791736">Enabled</span><span class="op" id="4791743">(</span><span class="op" id="4791744">)</span>&nbsp;<span class="builtintype" id="4791746">bool</span>&nbsp;<span class="op" id="4791751">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791754">b</span>&nbsp;<span class="op" id="4791756">:=</span>&nbsp;<span class="ident" id="4791759">in</span><span class="op" id="4791761">.</span><span class="ident" id="4791762">readByte</span><span class="op" id="4791770">(</span><span class="ident" id="4791771">intFlags</span><span class="op" id="4791779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4791782">return</span>&nbsp;<span class="op" id="4791789">(</span><span class="ident" id="4791790">b</span>&nbsp;<span class="op" id="4791792">&amp;</span>&nbsp;<span class="num" id="4791794">0x1</span><span class="op" id="4791797">)</span>&nbsp;<span class="op" id="4791799">!=</span>&nbsp;<span class="num" id="4791802">0</span><br>
<span class="lineno"></span><span class="op" id="4791804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4791807">//&nbsp;Disable&nbsp;clears&nbsp;the&nbsp;interrupt&nbsp;enable&nbsp;bit&nbsp;in&nbsp;the&nbsp;flags.</span><br>
<span class="lineno">95</span><span class="keyword" id="4791864">func</span>&nbsp;<span class="op" id="4791869">(</span><span class="ident" id="4791870">in</span>&nbsp;<span class="op" id="4791873">*</span><span class="ident" id="4791874">interrupt</span><span class="op" id="4791883">)</span>&nbsp;<span class="ident" id="4791885">Disable</span><span class="op" id="4791892">(</span><span class="op" id="4791893">)</span>&nbsp;<span class="op" id="4791895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791898">b</span>&nbsp;<span class="op" id="4791900">:=</span>&nbsp;<span class="ident" id="4791903">in</span><span class="op" id="4791905">.</span><span class="ident" id="4791906">readByte</span><span class="op" id="4791914">(</span><span class="ident" id="4791915">intFlags</span><span class="op" id="4791923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791926">b</span>&nbsp;<span class="op" id="4791928">&amp;=</span>&nbsp;<span class="op" id="4791931">^</span><span class="builtintype" id="4791932">byte</span><span class="op" id="4791936">(</span><span class="num" id="4791937">0x1</span><span class="op" id="4791940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4791943">in</span><span class="op" id="4791945">.</span><span class="ident" id="4791946">writeByte</span><span class="op" id="4791955">(</span><span class="ident" id="4791956">intFlags</span><span class="op" id="4791964">,</span>&nbsp;<span class="ident" id="4791966">b</span><span class="op" id="4791967">)</span><br>
<span class="lineno"></span><span class="op" id="4791969">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4791972">//&nbsp;EnableInt&nbsp;enables&nbsp;a&nbsp;particular&nbsp;interrupt&nbsp;by&nbsp;clearing&nbsp;the&nbsp;mask.</span><br>
<span class="lineno"></span><span class="keyword" id="4792038">func</span>&nbsp;<span class="op" id="4792043">(</span><span class="ident" id="4792044">in</span>&nbsp;<span class="op" id="4792047">*</span><span class="ident" id="4792048">interrupt</span><span class="op" id="4792057">)</span>&nbsp;<span class="ident" id="4792059">EnableInt</span><span class="op" id="4792068">(</span><span class="ident" id="4792069">i</span>&nbsp;<span class="builtintype" id="4792071">byte</span><span class="op" id="4792075">)</span>&nbsp;<span class="op" id="4792077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792080">off</span>&nbsp;<span class="op" id="4792084">:=</span>&nbsp;<span class="builtintype" id="4792087">uint32</span><span class="op" id="4792093">(</span><span class="ident" id="4792094">i</span><span class="op" id="4792095">/</span><span class="num" id="4792096">8</span><span class="op" id="4792097">)</span>&nbsp;<span class="op" id="4792099">+</span>&nbsp;<span class="ident" id="4792101">intMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792110">b</span>&nbsp;<span class="op" id="4792112">:=</span>&nbsp;<span class="ident" id="4792115">in</span><span class="op" id="4792117">.</span><span class="ident" id="4792118">readByte</span><span class="op" id="4792126">(</span><span class="ident" id="4792127">off</span><span class="op" id="4792130">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792133">b</span>&nbsp;<span class="op" id="4792135">|=</span>&nbsp;<span class="num" id="4792138">0x1</span>&nbsp;<span class="op" id="4792142">&lt;&lt;</span>&nbsp;<span class="op" id="4792145">(</span><span class="ident" id="4792146">i</span>&nbsp;<span class="op" id="4792148">%</span>&nbsp;<span class="num" id="4792150">8</span><span class="op" id="4792151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792154">in</span><span class="op" id="4792156">.</span><span class="ident" id="4792157">writeByte</span><span class="op" id="4792166">(</span><span class="ident" id="4792167">off</span><span class="op" id="4792170">,</span>&nbsp;<span class="ident" id="4792172">b</span><span class="op" id="4792173">)</span><br>
<span class="lineno"></span><span class="op" id="4792175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4792178">//&nbsp;DisableInt&nbsp;disables&nbsp;a&nbsp;particular&nbsp;interrupt&nbsp;by&nbsp;setting&nbsp;the&nbsp;mask.</span><br>
<span class="lineno">110</span><span class="keyword" id="4792245">func</span>&nbsp;<span class="op" id="4792250">(</span><span class="ident" id="4792251">in</span>&nbsp;<span class="op" id="4792254">*</span><span class="ident" id="4792255">interrupt</span><span class="op" id="4792264">)</span>&nbsp;<span class="ident" id="4792266">DisableInt</span><span class="op" id="4792276">(</span><span class="ident" id="4792277">i</span>&nbsp;<span class="builtintype" id="4792279">byte</span><span class="op" id="4792283">)</span>&nbsp;<span class="op" id="4792285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792288">off</span>&nbsp;<span class="op" id="4792292">:=</span>&nbsp;<span class="builtintype" id="4792295">uint32</span><span class="op" id="4792301">(</span><span class="ident" id="4792302">i</span><span class="op" id="4792303">/</span><span class="num" id="4792304">8</span><span class="op" id="4792305">)</span>&nbsp;<span class="op" id="4792307">+</span>&nbsp;<span class="ident" id="4792309">intMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792318">b</span>&nbsp;<span class="op" id="4792320">:=</span>&nbsp;<span class="ident" id="4792323">in</span><span class="op" id="4792325">.</span><span class="ident" id="4792326">readByte</span><span class="op" id="4792334">(</span><span class="ident" id="4792335">off</span><span class="op" id="4792338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792341">b</span>&nbsp;<span class="op" id="4792343">&amp;=</span>&nbsp;<span class="op" id="4792346">^</span><span class="op" id="4792347">(</span><span class="num" id="4792348">0x1</span>&nbsp;<span class="op" id="4792352">&lt;&lt;</span>&nbsp;<span class="op" id="4792355">(</span><span class="ident" id="4792356">i</span>&nbsp;<span class="op" id="4792358">%</span>&nbsp;<span class="num" id="4792360">8</span><span class="op" id="4792361">)</span><span class="op" id="4792362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792365">in</span><span class="op" id="4792367">.</span><span class="ident" id="4792368">writeByte</span><span class="op" id="4792377">(</span><span class="ident" id="4792378">off</span><span class="op" id="4792381">,</span>&nbsp;<span class="ident" id="4792383">b</span><span class="op" id="4792384">)</span><br>
<span class="lineno">115</span><span class="op" id="4792386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4792389">//&nbsp;Flags&nbsp;returns&nbsp;the&nbsp;flags&nbsp;byte.</span><br>
<span class="lineno"></span><span class="keyword" id="4792422">func</span>&nbsp;<span class="op" id="4792427">(</span><span class="ident" id="4792428">in</span>&nbsp;<span class="op" id="4792431">*</span><span class="ident" id="4792432">interrupt</span><span class="op" id="4792441">)</span>&nbsp;<span class="ident" id="4792443">Flags</span><span class="op" id="4792448">(</span><span class="op" id="4792449">)</span>&nbsp;<span class="builtintype" id="4792451">byte</span>&nbsp;<span class="op" id="4792456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792459">return</span>&nbsp;<span class="ident" id="4792466">in</span><span class="op" id="4792468">.</span><span class="ident" id="4792469">readByte</span><span class="op" id="4792477">(</span><span class="ident" id="4792478">intFlags</span><span class="op" id="4792486">)</span><br>
<span class="lineno">120</span><span class="op" id="4792488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4792491">//&nbsp;Poll&nbsp;looks&nbsp;for&nbsp;the&nbsp;next&nbsp;pending&nbsp;interrupt.</span><br>
<span class="lineno"></span><span class="keyword" id="4792537">func</span>&nbsp;<span class="op" id="4792542">(</span><span class="ident" id="4792543">in</span>&nbsp;<span class="op" id="4792546">*</span><span class="ident" id="4792547">interrupt</span><span class="op" id="4792556">)</span>&nbsp;<span class="ident" id="4792558">Poll</span><span class="op" id="4792562">(</span><span class="op" id="4792563">)</span>&nbsp;<span class="op" id="4792565">(</span><span class="builtintype" id="4792566">bool</span><span class="op" id="4792570">,</span>&nbsp;<span class="builtintype" id="4792572">byte</span><span class="op" id="4792576">)</span>&nbsp;<span class="op" id="4792578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792581">flag</span>&nbsp;<span class="op" id="4792586">:=</span>&nbsp;<span class="ident" id="4792589">in</span><span class="op" id="4792591">.</span><span class="ident" id="4792592">Flags</span><span class="op" id="4792597">(</span><span class="op" id="4792598">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792601">if</span>&nbsp;<span class="ident" id="4792604">flag</span><span class="op" id="4792608">&amp;</span><span class="num" id="4792609">0x1</span>&nbsp;<span class="op" id="4792613">==</span>&nbsp;<span class="num" id="4792616">0</span>&nbsp;<span class="op" id="4792618">{</span>&nbsp;<span class="comment" id="4792620">//&nbsp;interrupt&nbsp;is&nbsp;disabled</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792647">return</span>&nbsp;<span class="builtintype" id="4792654">false</span><span class="op" id="4792659">,</span>&nbsp;<span class="num" id="4792661">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792664">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4792668">//&nbsp;search&nbsp;bits&nbsp;based&nbsp;on&nbsp;priorities.</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4792705">//&nbsp;smaller&nbsp;is&nbsp;higher</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792727">for</span>&nbsp;<span class="ident" id="4792731">i</span>&nbsp;<span class="op" id="4792733">:=</span>&nbsp;<span class="builtintype" id="4792736">uint32</span><span class="op" id="4792742">(</span><span class="num" id="4792743">0</span><span class="op" id="4792744">)</span><span class="op" id="4792745">;</span>&nbsp;<span class="ident" id="4792747">i</span>&nbsp;<span class="op" id="4792749">&lt;</span>&nbsp;<span class="ident" id="4792751">Ninterrupt</span><span class="op" id="4792761">/</span><span class="num" id="4792762">8</span><span class="op" id="4792763">;</span>&nbsp;<span class="ident" id="4792765">i</span><span class="op" id="4792766">++</span>&nbsp;<span class="op" id="4792769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792773">pending</span>&nbsp;<span class="op" id="4792781">:=</span>&nbsp;<span class="ident" id="4792784">in</span><span class="op" id="4792786">.</span><span class="ident" id="4792787">readByte</span><span class="op" id="4792795">(</span><span class="ident" id="4792796">intPending</span>&nbsp;<span class="op" id="4792807">+</span>&nbsp;<span class="ident" id="4792809">i</span><span class="op" id="4792810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792814">mask</span>&nbsp;<span class="op" id="4792819">:=</span>&nbsp;<span class="ident" id="4792822">in</span><span class="op" id="4792824">.</span><span class="ident" id="4792825">readByte</span><span class="op" id="4792833">(</span><span class="ident" id="4792834">intMask</span>&nbsp;<span class="op" id="4792842">+</span>&nbsp;<span class="ident" id="4792844">i</span><span class="op" id="4792845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4792849">pending</span>&nbsp;<span class="op" id="4792857">&amp;=</span>&nbsp;<span class="ident" id="4792860">mask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792867">if</span>&nbsp;<span class="ident" id="4792870">pending</span>&nbsp;<span class="op" id="4792878">==</span>&nbsp;<span class="num" id="4792881">0</span>&nbsp;<span class="op" id="4792883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792888">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792904">for</span>&nbsp;<span class="ident" id="4792908">b</span>&nbsp;<span class="op" id="4792910">:=</span>&nbsp;<span class="builtintype" id="4792913">byte</span><span class="op" id="4792917">(</span><span class="num" id="4792918">0</span><span class="op" id="4792919">)</span><span class="op" id="4792920">;</span>&nbsp;<span class="ident" id="4792922">b</span>&nbsp;<span class="op" id="4792924">&lt;</span>&nbsp;<span class="num" id="4792926">8</span><span class="op" id="4792927">;</span>&nbsp;<span class="ident" id="4792929">b</span><span class="op" id="4792930">++</span>&nbsp;<span class="op" id="4792933">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792938">if</span>&nbsp;<span class="ident" id="4792941">pending</span><span class="op" id="4792948">&amp;</span><span class="op" id="4792949">(</span><span class="num" id="4792950">0x1</span><span class="op" id="4792953">&lt;&lt;</span><span class="ident" id="4792955">b</span><span class="op" id="4792956">)</span>&nbsp;<span class="op" id="4792958">==</span>&nbsp;<span class="num" id="4792961">0</span>&nbsp;<span class="op" id="4792963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792969">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4792981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4792987">return</span>&nbsp;<span class="builtintype" id="4792994">true</span><span class="op" id="4792998">,</span>&nbsp;<span class="builtintype" id="4793000">byte</span><span class="op" id="4793004">(</span><span class="ident" id="4793005">i</span><span class="op" id="4793006">*</span><span class="num" id="4793007">8</span><span class="op" id="4793008">)</span>&nbsp;<span class="op" id="4793010">+</span>&nbsp;<span class="ident" id="4793012">b</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4793019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4793023">return</span>&nbsp;<span class="builtintype" id="4793030">false</span><span class="op" id="4793035">,</span>&nbsp;<span class="num" id="4793037">0</span><br>
<span class="lineno"></span><span class="op" id="4793039">}</span>
</div>
</body>
</html>
