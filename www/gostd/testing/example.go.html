<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>testing</h2>
<ul>
<li><a href="/gostd/testing/allocs.go.html">allocs.go</a></li>
<li><a href="/gostd/testing/allocs_test.go.html">allocs_test.go</a></li>
<li><a href="/gostd/testing/benchmark.go.html">benchmark.go</a></li>
<li><a href="/gostd/testing/benchmark_test.go.html">benchmark_test.go</a></li>
<li><a href="/gostd/testing/cover.go.html">cover.go</a></li>
<li><a href="/gostd/testing/example.go.html" class="current">example.go</a></li>
<li><a href="/gostd/testing/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/testing/testing.go.html">testing.go</a></li>
<li><a href="/gostd/testing/testing_test.go.html">testing_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6095233">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6095288">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6095342">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6095393">package</span>&nbsp;<span class="ident" id="6095401">testing</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6095410">import</span>&nbsp;<span class="op" id="6095417">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6095420">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6095429">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6095436">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6095442">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6095448">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6095459">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6095466">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6095469">type</span>&nbsp;<span class="ident" id="6095474">InternalExample</span>&nbsp;<span class="keyword" id="6095490">struct</span>&nbsp;<span class="op" id="6095497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6095500">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6095507">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6095515">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6095522">func</span><span class="op" id="6095526">(</span><span class="op" id="6095527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6095530">Output</span>&nbsp;<span class="builtintype" id="6095537">string</span><br>
<span class="lineno">20</span><span class="op" id="6095544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6095547">func</span>&nbsp;<span class="ident" id="6095552">RunExamples</span><span class="op" id="6095563">(</span><span class="ident" id="6095564">matchString</span>&nbsp;<span class="keyword" id="6095576">func</span><span class="op" id="6095580">(</span><span class="ident" id="6095581">pat</span><span class="op" id="6095584">,</span>&nbsp;<span class="ident" id="6095586">str</span>&nbsp;<span class="builtintype" id="6095590">string</span><span class="op" id="6095596">)</span>&nbsp;<span class="op" id="6095598">(</span><span class="builtintype" id="6095599">bool</span><span class="op" id="6095603">,</span>&nbsp;<span class="builtintype" id="6095605">error</span><span class="op" id="6095610">)</span><span class="op" id="6095611">,</span>&nbsp;<span class="ident" id="6095613">examples</span>&nbsp;<span class="op" id="6095622">[</span><span class="op" id="6095623">]</span><span class="ident" id="6095624">InternalExample</span><span class="op" id="6095639">)</span>&nbsp;<span class="op" id="6095641">(</span><span class="ident" id="6095642">ok</span>&nbsp;<span class="builtintype" id="6095645">bool</span><span class="op" id="6095649">)</span>&nbsp;<span class="op" id="6095651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6095654">ok</span>&nbsp;<span class="op" id="6095657">=</span>&nbsp;<span class="builtintype" id="6095659">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6095666">var</span>&nbsp;<span class="ident" id="6095670">eg</span>&nbsp;<span class="ident" id="6095673">InternalExample</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6095691">for</span>&nbsp;<span class="ident" id="6095695">_</span><span class="op" id="6095696">,</span>&nbsp;<span class="ident" id="6095698">eg</span>&nbsp;<span class="op" id="6095701">=</span>&nbsp;<span class="keyword" id="6095703">range</span>&nbsp;<span class="ident" id="6095709">examples</span>&nbsp;<span class="op" id="6095718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6095722">matched</span><span class="op" id="6095729">,</span>&nbsp;<span class="ident" id="6095731">err</span>&nbsp;<span class="op" id="6095735">:=</span>&nbsp;<span class="ident" id="6095738">matchString</span><span class="op" id="6095749">(</span><span class="op" id="6095750">*</span><span class="ident" id="6095751">match</span><span class="op" id="6095756">,</span>&nbsp;<span class="ident" id="6095758">eg</span><span class="op" id="6095760">.</span><span class="ident" id="6095761">Name</span><span class="op" id="6095765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6095769">if</span>&nbsp;<span class="ident" id="6095772">err</span>&nbsp;<span class="op" id="6095776">!=</span>&nbsp;<span class="ident" id="6095779">nil</span>&nbsp;<span class="op" id="6095783">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6095788">fmt</span><span class="op" id="6095791">.</span><span class="ident" id="6095792">Fprintf</span><span class="op" id="6095799">(</span><span class="ident" id="6095800">os</span><span class="op" id="6095802">.</span><span class="ident" id="6095803">Stderr</span><span class="op" id="6095809">,</span>&nbsp;<span class="string" id="6095811">&#34;testing:&nbsp;invalid&nbsp;regexp&nbsp;for&nbsp;-test.run:&nbsp;%s\n&#34;</span><span class="op" id="6095856">,</span>&nbsp;<span class="ident" id="6095858">err</span><span class="op" id="6095861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6095866">os</span><span class="op" id="6095868">.</span><span class="ident" id="6095869">Exit</span><span class="op" id="6095873">(</span><span class="num" id="6095874">1</span><span class="op" id="6095875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6095879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6095883">if</span>&nbsp;<span class="op" id="6095886">!</span><span class="ident" id="6095887">matched</span>&nbsp;<span class="op" id="6095895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6095900">continue</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6095911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6095915">if</span>&nbsp;<span class="op" id="6095918">!</span><span class="ident" id="6095919">runExample</span><span class="op" id="6095929">(</span><span class="ident" id="6095930">eg</span><span class="op" id="6095932">)</span>&nbsp;<span class="op" id="6095934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6095939">ok</span>&nbsp;<span class="op" id="6095942">=</span>&nbsp;<span class="builtintype" id="6095944">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6095952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6095955">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6095959">return</span><br>
<span class="lineno"></span><span class="op" id="6095966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6095969">func</span>&nbsp;<span class="ident" id="6095974">runExample</span><span class="op" id="6095984">(</span><span class="ident" id="6095985">eg</span>&nbsp;<span class="ident" id="6095988">InternalExample</span><span class="op" id="6096003">)</span>&nbsp;<span class="op" id="6096005">(</span><span class="ident" id="6096006">ok</span>&nbsp;<span class="builtintype" id="6096009">bool</span><span class="op" id="6096013">)</span>&nbsp;<span class="op" id="6096015">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6096018">if</span>&nbsp;<span class="op" id="6096021">*</span><span class="ident" id="6096022">chatty</span>&nbsp;<span class="op" id="6096029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096033">fmt</span><span class="op" id="6096036">.</span><span class="ident" id="6096037">Printf</span><span class="op" id="6096043">(</span><span class="string" id="6096044">&#34;===&nbsp;RUN:&nbsp;%s\n&#34;</span><span class="op" id="6096059">,</span>&nbsp;<span class="ident" id="6096061">eg</span><span class="op" id="6096063">.</span><span class="ident" id="6096064">Name</span><span class="op" id="6096068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6096071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6096075">//&nbsp;Capture&nbsp;stdout.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096095">stdout</span>&nbsp;<span class="op" id="6096102">:=</span>&nbsp;<span class="ident" id="6096105">os</span><span class="op" id="6096107">.</span><span class="ident" id="6096108">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096116">r</span><span class="op" id="6096117">,</span>&nbsp;<span class="ident" id="6096119">w</span><span class="op" id="6096120">,</span>&nbsp;<span class="ident" id="6096122">err</span>&nbsp;<span class="op" id="6096126">:=</span>&nbsp;<span class="ident" id="6096129">os</span><span class="op" id="6096131">.</span><span class="ident" id="6096132">Pipe</span><span class="op" id="6096136">(</span><span class="op" id="6096137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6096140">if</span>&nbsp;<span class="ident" id="6096143">err</span>&nbsp;<span class="op" id="6096147">!=</span>&nbsp;<span class="ident" id="6096150">nil</span>&nbsp;<span class="op" id="6096154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096158">fmt</span><span class="op" id="6096161">.</span><span class="ident" id="6096162">Fprintln</span><span class="op" id="6096170">(</span><span class="ident" id="6096171">os</span><span class="op" id="6096173">.</span><span class="ident" id="6096174">Stderr</span><span class="op" id="6096180">,</span>&nbsp;<span class="ident" id="6096182">err</span><span class="op" id="6096185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096189">os</span><span class="op" id="6096191">.</span><span class="ident" id="6096192">Exit</span><span class="op" id="6096196">(</span><span class="num" id="6096197">1</span><span class="op" id="6096198">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6096201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096204">os</span><span class="op" id="6096206">.</span><span class="ident" id="6096207">Stdout</span>&nbsp;<span class="op" id="6096214">=</span>&nbsp;<span class="ident" id="6096216">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096219">outC</span>&nbsp;<span class="op" id="6096224">:=</span>&nbsp;<span class="builtinfunc" id="6096227">make</span><span class="op" id="6096231">(</span><span class="keyword" id="6096232">chan</span>&nbsp;<span class="builtintype" id="6096237">string</span><span class="op" id="6096243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6096246">go</span>&nbsp;<span class="keyword" id="6096249">func</span><span class="op" id="6096253">(</span><span class="op" id="6096254">)</span>&nbsp;<span class="op" id="6096256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096260">buf</span>&nbsp;<span class="op" id="6096264">:=</span>&nbsp;<span class="builtinfunc" id="6096267">new</span><span class="op" id="6096270">(</span><span class="ident" id="6096271">bytes</span><span class="op" id="6096276">.</span><span class="ident" id="6096277">Buffer</span><span class="op" id="6096283">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096287">_</span><span class="op" id="6096288">,</span>&nbsp;<span class="ident" id="6096290">err</span>&nbsp;<span class="op" id="6096294">:=</span>&nbsp;<span class="ident" id="6096297">io</span><span class="op" id="6096299">.</span><span class="ident" id="6096300">Copy</span><span class="op" id="6096304">(</span><span class="ident" id="6096305">buf</span><span class="op" id="6096308">,</span>&nbsp;<span class="ident" id="6096310">r</span><span class="op" id="6096311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096315">r</span><span class="op" id="6096316">.</span><span class="ident" id="6096317">Close</span><span class="op" id="6096322">(</span><span class="op" id="6096323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6096327">if</span>&nbsp;<span class="ident" id="6096330">err</span>&nbsp;<span class="op" id="6096334">!=</span>&nbsp;<span class="ident" id="6096337">nil</span>&nbsp;<span class="op" id="6096341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096346">fmt</span><span class="op" id="6096349">.</span><span class="ident" id="6096350">Fprintf</span><span class="op" id="6096357">(</span><span class="ident" id="6096358">os</span><span class="op" id="6096360">.</span><span class="ident" id="6096361">Stderr</span><span class="op" id="6096367">,</span>&nbsp;<span class="string" id="6096369">&#34;testing:&nbsp;copying&nbsp;pipe:&nbsp;%v\n&#34;</span><span class="op" id="6096398">,</span>&nbsp;<span class="ident" id="6096400">err</span><span class="op" id="6096403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096408">os</span><span class="op" id="6096410">.</span><span class="ident" id="6096411">Exit</span><span class="op" id="6096415">(</span><span class="num" id="6096416">1</span><span class="op" id="6096417">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6096421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096425">outC</span>&nbsp;<span class="op" id="6096430">&lt;-</span>&nbsp;<span class="ident" id="6096433">buf</span><span class="op" id="6096436">.</span><span class="ident" id="6096437">String</span><span class="op" id="6096443">(</span><span class="op" id="6096444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6096447">}</span><span class="op" id="6096448">(</span><span class="op" id="6096449">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096453">start</span>&nbsp;<span class="op" id="6096459">:=</span>&nbsp;<span class="ident" id="6096462">time</span><span class="op" id="6096466">.</span><span class="ident" id="6096467">Now</span><span class="op" id="6096470">(</span><span class="op" id="6096471">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096474">ok</span>&nbsp;<span class="op" id="6096477">=</span>&nbsp;<span class="builtintype" id="6096479">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6096486">//&nbsp;Clean&nbsp;up&nbsp;in&nbsp;a&nbsp;deferred&nbsp;call&nbsp;so&nbsp;we&nbsp;can&nbsp;recover&nbsp;if&nbsp;the&nbsp;example&nbsp;panics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6096559">defer</span>&nbsp;<span class="keyword" id="6096565">func</span><span class="op" id="6096569">(</span><span class="op" id="6096570">)</span>&nbsp;<span class="op" id="6096572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096576">dstr</span>&nbsp;<span class="op" id="6096581">:=</span>&nbsp;<span class="ident" id="6096584">fmtDuration</span><span class="op" id="6096595">(</span><span class="ident" id="6096596">time</span><span class="op" id="6096600">.</span><span class="ident" id="6096601">Now</span><span class="op" id="6096604">(</span><span class="op" id="6096605">)</span><span class="op" id="6096606">.</span><span class="ident" id="6096607">Sub</span><span class="op" id="6096610">(</span><span class="ident" id="6096611">start</span><span class="op" id="6096616">)</span><span class="op" id="6096617">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6096622">//&nbsp;Close&nbsp;pipe,&nbsp;restore&nbsp;stdout,&nbsp;get&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096667">w</span><span class="op" id="6096668">.</span><span class="ident" id="6096669">Close</span><span class="op" id="6096674">(</span><span class="op" id="6096675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096679">os</span><span class="op" id="6096681">.</span><span class="ident" id="6096682">Stdout</span>&nbsp;<span class="op" id="6096689">=</span>&nbsp;<span class="ident" id="6096691">stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096700">out</span>&nbsp;<span class="op" id="6096704">:=</span>&nbsp;<span class="op" id="6096707">&lt;-</span><span class="ident" id="6096709">outC</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6096717">var</span>&nbsp;<span class="ident" id="6096721">fail</span>&nbsp;<span class="builtintype" id="6096726">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096735">err</span>&nbsp;<span class="op" id="6096739">:=</span>&nbsp;<span class="builtinfunc" id="6096742">recover</span><span class="op" id="6096749">(</span><span class="op" id="6096750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6096754">if</span>&nbsp;<span class="ident" id="6096757">g</span><span class="op" id="6096758">,</span>&nbsp;<span class="ident" id="6096760">e</span>&nbsp;<span class="op" id="6096762">:=</span>&nbsp;<span class="ident" id="6096765">strings</span><span class="op" id="6096772">.</span><span class="ident" id="6096773">TrimSpace</span><span class="op" id="6096782">(</span><span class="ident" id="6096783">out</span><span class="op" id="6096786">)</span><span class="op" id="6096787">,</span>&nbsp;<span class="ident" id="6096789">strings</span><span class="op" id="6096796">.</span><span class="ident" id="6096797">TrimSpace</span><span class="op" id="6096806">(</span><span class="ident" id="6096807">eg</span><span class="op" id="6096809">.</span><span class="ident" id="6096810">Output</span><span class="op" id="6096816">)</span><span class="op" id="6096817">;</span>&nbsp;<span class="ident" id="6096819">g</span>&nbsp;<span class="op" id="6096821">!=</span>&nbsp;<span class="ident" id="6096824">e</span>&nbsp;<span class="op" id="6096826">&amp;&amp;</span>&nbsp;<span class="ident" id="6096829">err</span>&nbsp;<span class="op" id="6096833">==</span>&nbsp;<span class="ident" id="6096836">nil</span>&nbsp;<span class="op" id="6096840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096845">fail</span>&nbsp;<span class="op" id="6096850">=</span>&nbsp;<span class="ident" id="6096852">fmt</span><span class="op" id="6096855">.</span><span class="ident" id="6096856">Sprintf</span><span class="op" id="6096863">(</span><span class="string" id="6096864">&#34;got:\n%s\nwant:\n%s\n&#34;</span><span class="op" id="6096887">,</span>&nbsp;<span class="ident" id="6096889">g</span><span class="op" id="6096890">,</span>&nbsp;<span class="ident" id="6096892">e</span><span class="op" id="6096893">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6096897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6096901">if</span>&nbsp;<span class="ident" id="6096904">fail</span>&nbsp;<span class="op" id="6096909">!=</span>&nbsp;<span class="string" id="6096912">&#34;&#34;</span>&nbsp;<span class="op" id="6096915">||</span>&nbsp;<span class="ident" id="6096918">err</span>&nbsp;<span class="op" id="6096922">!=</span>&nbsp;<span class="ident" id="6096925">nil</span>&nbsp;<span class="op" id="6096929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096934">fmt</span><span class="op" id="6096937">.</span><span class="ident" id="6096938">Printf</span><span class="op" id="6096944">(</span><span class="string" id="6096945">&#34;---&nbsp;FAIL:&nbsp;%s&nbsp;(%s)\n%s&#34;</span><span class="op" id="6096968">,</span>&nbsp;<span class="ident" id="6096970">eg</span><span class="op" id="6096972">.</span><span class="ident" id="6096973">Name</span><span class="op" id="6096977">,</span>&nbsp;<span class="ident" id="6096979">dstr</span><span class="op" id="6096983">,</span>&nbsp;<span class="ident" id="6096985">fail</span><span class="op" id="6096989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6096994">ok</span>&nbsp;<span class="op" id="6096997">=</span>&nbsp;<span class="builtintype" id="6096999">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6097007">}</span>&nbsp;<span class="keyword" id="6097009">else</span>&nbsp;<span class="keyword" id="6097014">if</span>&nbsp;<span class="op" id="6097017">*</span><span class="ident" id="6097018">chatty</span>&nbsp;<span class="op" id="6097025">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6097030">fmt</span><span class="op" id="6097033">.</span><span class="ident" id="6097034">Printf</span><span class="op" id="6097040">(</span><span class="string" id="6097041">&#34;---&nbsp;PASS:&nbsp;%s&nbsp;(%s)\n&#34;</span><span class="op" id="6097062">,</span>&nbsp;<span class="ident" id="6097064">eg</span><span class="op" id="6097066">.</span><span class="ident" id="6097067">Name</span><span class="op" id="6097071">,</span>&nbsp;<span class="ident" id="6097073">dstr</span><span class="op" id="6097077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6097081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6097085">if</span>&nbsp;<span class="ident" id="6097088">err</span>&nbsp;<span class="op" id="6097092">!=</span>&nbsp;<span class="ident" id="6097095">nil</span>&nbsp;<span class="op" id="6097099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6097104">panic</span><span class="op" id="6097109">(</span><span class="ident" id="6097110">err</span><span class="op" id="6097113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6097117">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6097120">}</span><span class="op" id="6097121">(</span><span class="op" id="6097122">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6097126">//&nbsp;Run&nbsp;example.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6097143">eg</span><span class="op" id="6097145">.</span><span class="ident" id="6097146">F</span><span class="op" id="6097147">(</span><span class="op" id="6097148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6097151">return</span><br>
<span class="lineno">100</span><span class="op" id="6097158">}</span>
</div>
</body>
</html>
