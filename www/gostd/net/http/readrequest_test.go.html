<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html" class="current">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7517750">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7517806">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7517860">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7517911">package</span>&nbsp;<span class="ident" id="7517919">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7517925">import</span>&nbsp;<span class="op" id="7517932">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7517935">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7517944">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7517953">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7517960">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7517966">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7517977">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7517988">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7517999">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7518009">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7518012">type</span>&nbsp;<span class="ident" id="7518017">reqTest</span>&nbsp;<span class="keyword" id="7518025">struct</span>&nbsp;<span class="op" id="7518032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518035">Raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7518043">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518051">Req</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7518059">*</span><span class="ident" id="7518060"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518069">Body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7518077">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518085">Trailer</span>&nbsp;<span class="ident" id="7518093"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518101">Error</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7518109">string</span><br>
<span class="lineno"></span><span class="op" id="7518116">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7518119">var</span>&nbsp;<span class="ident" id="7518123">noError</span>&nbsp;<span class="op" id="7518131">=</span>&nbsp;<span class="string" id="7518133">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7518136">var</span>&nbsp;<span class="ident" id="7518140">noBody</span>&nbsp;<span class="op" id="7518147">=</span>&nbsp;<span class="string" id="7518149">&#34;&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7518152">var</span>&nbsp;<span class="ident" id="7518156">noTrailer</span>&nbsp;<span class="ident" id="7518166"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span>&nbsp;<span class="op" id="7518173">=</span>&nbsp;<span class="builtintype" id="7518175">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="7518180">var</span>&nbsp;<span class="ident" id="7518184">reqTests</span>&nbsp;<span class="op" id="7518193">=</span>&nbsp;<span class="op" id="7518195">[</span><span class="op" id="7518196">]</span><span class="ident" id="7518197"><a href="/gostd/net/http/readrequest_test.go.html#7518017">reqTest</a></span><span class="op" id="7518204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7518207">//&nbsp;Baseline&nbsp;test;&nbsp;All&nbsp;Request&nbsp;fields&nbsp;included&nbsp;for&nbsp;template&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7518271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518275">&#34;GET&nbsp;http://www.techcrunch.com/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7518321">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518326">&#34;Host:&nbsp;www.techcrunch.com\r\n&#34;</span>&nbsp;<span class="op" id="7518357">+</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518362">&#34;User-Agent:&nbsp;Fake\r\n&#34;</span>&nbsp;<span class="op" id="7518385">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518390">&#34;Accept:&nbsp;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\n&#34;</span>&nbsp;<span class="op" id="7518468">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518473">&#34;Accept-Language:&nbsp;en-us,en;q=0.5\r\n&#34;</span>&nbsp;<span class="op" id="7518511">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518516">&#34;Accept-Encoding:&nbsp;gzip,deflate\r\n&#34;</span>&nbsp;<span class="op" id="7518552">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518557">&#34;Accept-Charset:&nbsp;ISO-8859-1,utf-8;q=0.7,*;q=0.7\r\n&#34;</span>&nbsp;<span class="op" id="7518610">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518615">&#34;Keep-Alive:&nbsp;300\r\n&#34;</span>&nbsp;<span class="op" id="7518637">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518642">&#34;Content-Length:&nbsp;7\r\n&#34;</span>&nbsp;<span class="op" id="7518666">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518671">&#34;Proxy-Connection:&nbsp;keep-alive\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7518710">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518715">&#34;abcdef\n???&#34;</span><span class="op" id="7518728">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7518733">&amp;</span><span class="ident" id="7518734"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7518741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518746"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7518752">:</span>&nbsp;<span class="string" id="7518754">&#34;GET&#34;</span><span class="op" id="7518759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518764"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7518767">:</span>&nbsp;<span class="op" id="7518769">&amp;</span><span class="ident" id="7518770"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7518773">.</span><span class="ident" id="7518774"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7518777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518783"><a href="/gostd/net/url/url.go.html#3751208">Scheme</a></span><span class="op" id="7518789">:</span>&nbsp;<span class="string" id="7518791">&#34;http&#34;</span><span class="op" id="7518797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518803"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="7518807">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7518811">&#34;www.techcrunch.com&#34;</span><span class="op" id="7518831">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518837"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="7518841">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7518845">&#34;/&#34;</span><span class="op" id="7518848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7518853">}</span><span class="op" id="7518854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518859"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7518864">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518871">&#34;HTTP/1.1&#34;</span><span class="op" id="7518881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518886"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7518896">:</span>&nbsp;<span class="num" id="7518898">1</span><span class="op" id="7518899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518904"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7518914">:</span>&nbsp;<span class="num" id="7518916">1</span><span class="op" id="7518917">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7518922"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7518928">:</span>&nbsp;<span class="ident" id="7518930"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7518936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7518942">&#34;Accept&#34;</span><span class="op" id="7518950">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7518962">{</span><span class="string" id="7518963">&#34;text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8&#34;</span><span class="op" id="7519028">}</span><span class="op" id="7519029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519035">&#34;Accept-Language&#34;</span><span class="op" id="7519052">:</span>&nbsp;&nbsp;<span class="op" id="7519055">{</span><span class="string" id="7519056">&#34;en-us,en;q=0.5&#34;</span><span class="op" id="7519072">}</span><span class="op" id="7519073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519079">&#34;Accept-Encoding&#34;</span><span class="op" id="7519096">:</span>&nbsp;&nbsp;<span class="op" id="7519099">{</span><span class="string" id="7519100">&#34;gzip,deflate&#34;</span><span class="op" id="7519114">}</span><span class="op" id="7519115">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519121">&#34;Accept-Charset&#34;</span><span class="op" id="7519137">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7519141">{</span><span class="string" id="7519142">&#34;ISO-8859-1,utf-8;q=0.7,*;q=0.7&#34;</span><span class="op" id="7519174">}</span><span class="op" id="7519175">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519181">&#34;Keep-Alive&#34;</span><span class="op" id="7519193">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519201">{</span><span class="string" id="7519202">&#34;300&#34;</span><span class="op" id="7519207">}</span><span class="op" id="7519208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519214">&#34;Proxy-Connection&#34;</span><span class="op" id="7519232">:</span>&nbsp;<span class="op" id="7519234">{</span><span class="string" id="7519235">&#34;keep-alive&#34;</span><span class="op" id="7519247">}</span><span class="op" id="7519248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519254">&#34;Content-Length&#34;</span><span class="op" id="7519270">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7519274">{</span><span class="string" id="7519275">&#34;7&#34;</span><span class="op" id="7519278">}</span><span class="op" id="7519279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519285">&#34;User-Agent&#34;</span><span class="op" id="7519297">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519305">{</span><span class="string" id="7519306">&#34;Fake&#34;</span><span class="op" id="7519312">}</span><span class="op" id="7519313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519318">}</span><span class="op" id="7519319">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519324"><a href="/gostd/net/http/request.go.html#4138776">Close</a></span><span class="op" id="7519329">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7519339">false</span><span class="op" id="7519344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519349"><a href="/gostd/net/http/request.go.html#4138292">ContentLength</a></span><span class="op" id="7519362">:</span>&nbsp;<span class="num" id="7519364">7</span><span class="op" id="7519365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519370"><a href="/gostd/net/http/request.go.html#4139164">Host</a></span><span class="op" id="7519374">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519385">&#34;www.techcrunch.com&#34;</span><span class="op" id="7519405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519410"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7519420">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519425">&#34;http://www.techcrunch.com/&#34;</span><span class="op" id="7519453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519457">}</span><span class="op" id="7519458">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519463">&#34;abcdef\n&#34;</span><span class="op" id="7519473">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519478"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7519487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519491"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7519498">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519501">}</span><span class="op" id="7519502">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7519506">//&nbsp;GET&nbsp;request&nbsp;with&nbsp;no&nbsp;body&nbsp;(the&nbsp;normal&nbsp;case)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519557">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7519578">+</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519583">&#34;Host:&nbsp;foo.com\r\n\r\n&#34;</span><span class="op" id="7519606">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519611">&amp;</span><span class="ident" id="7519612"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7519619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519624"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7519630">:</span>&nbsp;<span class="string" id="7519632">&#34;GET&#34;</span><span class="op" id="7519637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519642"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7519645">:</span>&nbsp;<span class="op" id="7519647">&amp;</span><span class="ident" id="7519648"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7519651">.</span><span class="ident" id="7519652"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7519655">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519661"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="7519665">:</span>&nbsp;<span class="string" id="7519667">&#34;/&#34;</span><span class="op" id="7519670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519675">}</span><span class="op" id="7519676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519681"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7519686">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519696">&#34;HTTP/1.1&#34;</span><span class="op" id="7519706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519711"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7519721">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7519726">1</span><span class="op" id="7519727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519732"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7519742">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7519747">1</span><span class="op" id="7519748">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519753"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7519759">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519768"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7519774">{</span><span class="op" id="7519775">}</span><span class="op" id="7519776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519781"><a href="/gostd/net/http/request.go.html#4138776">Close</a></span><span class="op" id="7519786">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7519796">false</span><span class="op" id="7519801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519806"><a href="/gostd/net/http/request.go.html#4138292">ContentLength</a></span><span class="op" id="7519819">:</span>&nbsp;<span class="num" id="7519821">0</span><span class="op" id="7519822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519827"><a href="/gostd/net/http/request.go.html#4139164">Host</a></span><span class="op" id="7519831">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519842">&#34;foo.com&#34;</span><span class="op" id="7519851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519856"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7519866">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7519871">&#34;/&#34;</span><span class="op" id="7519874">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519878">}</span><span class="op" id="7519879">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519884"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7519890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519894"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7519903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7519907"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7519914">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7519917">}</span><span class="op" id="7519918">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7519922">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;path&nbsp;that&nbsp;looks&nbsp;like&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7519977">//&nbsp;scheme-relative&nbsp;URI&nbsp;as&nbsp;a&nbsp;scheme-relative&nbsp;URI.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520027">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520031">&#34;GET&nbsp;//user@host/is/actually/a/path/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7520082">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520087">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7520107">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520112">&amp;</span><span class="ident" id="7520113"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7520120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520125"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7520131">:</span>&nbsp;<span class="string" id="7520133">&#34;GET&#34;</span><span class="op" id="7520138">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520143"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7520146">:</span>&nbsp;<span class="op" id="7520148">&amp;</span><span class="ident" id="7520149"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7520152">.</span><span class="ident" id="7520153"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7520156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520162"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="7520166">:</span>&nbsp;<span class="string" id="7520168">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7520201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520206">}</span><span class="op" id="7520207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520212"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7520217">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520227">&#34;HTTP/1.1&#34;</span><span class="op" id="7520237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520242"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7520252">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7520257">1</span><span class="op" id="7520258">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520263"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7520273">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7520278">1</span><span class="op" id="7520279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520284"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7520290">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520299"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7520305">{</span><span class="op" id="7520306">}</span><span class="op" id="7520307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520312"><a href="/gostd/net/http/request.go.html#4138776">Close</a></span><span class="op" id="7520317">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7520327">false</span><span class="op" id="7520332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520337"><a href="/gostd/net/http/request.go.html#4138292">ContentLength</a></span><span class="op" id="7520350">:</span>&nbsp;<span class="num" id="7520352">0</span><span class="op" id="7520353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520358"><a href="/gostd/net/http/request.go.html#4139164">Host</a></span><span class="op" id="7520362">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520373">&#34;test&#34;</span><span class="op" id="7520379">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520384"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7520394">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520399">&#34;//user@host/is/actually/a/path/&#34;</span><span class="op" id="7520432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520436">}</span><span class="op" id="7520437">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520442"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7520448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520452"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7520461">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520465"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7520472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520475">}</span><span class="op" id="7520476">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7520480">//&nbsp;Tests&nbsp;a&nbsp;bogus&nbsp;abs_path&nbsp;on&nbsp;the&nbsp;Request-Line&nbsp;(RFC&nbsp;2616&nbsp;section&nbsp;5.1.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520552">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520556">&#34;GET&nbsp;../../../../etc/passwd&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7520598">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520603">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7520623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7520627">nil</span><span class="op" id="7520630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520634"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7520640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520644"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7520653">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520657">&#34;parse&nbsp;../../../../etc/passwd:&nbsp;invalid&nbsp;URI&nbsp;for&nbsp;request&#34;</span><span class="op" id="7520712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520715">}</span><span class="op" id="7520716">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7520720">//&nbsp;Tests&nbsp;missing&nbsp;URL:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520743">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520747">&#34;GET&nbsp;&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7520767">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520772">&#34;Host:&nbsp;test\r\n\r\n&#34;</span><span class="op" id="7520792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7520796">nil</span><span class="op" id="7520799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520803"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7520809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7520813"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7520822">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520826">&#34;parse&nbsp;:&nbsp;empty&nbsp;url&#34;</span><span class="op" id="7520845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520848">}</span><span class="op" id="7520849">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7520853">//&nbsp;Tests&nbsp;chunked&nbsp;body&nbsp;with&nbsp;trailer:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7520890">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520894">&#34;POST&nbsp;/&nbsp;HTTP/1.1\r\n&#34;</span>&nbsp;<span class="op" id="7520916">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520921">&#34;Host:&nbsp;foo.com\r\n&#34;</span>&nbsp;<span class="op" id="7520941">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520946">&#34;Transfer-Encoding:&nbsp;chunked\r\n\r\n&#34;</span>&nbsp;<span class="op" id="7520983">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7520988">&#34;3\r\nfoo\r\n&#34;</span>&nbsp;<span class="op" id="7521003">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521008">&#34;3\r\nbar\r\n&#34;</span>&nbsp;<span class="op" id="7521023">+</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521028">&#34;0\r\n&#34;</span>&nbsp;<span class="op" id="7521036">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521041">&#34;Trailer-Key:&nbsp;Trailer-Value\r\n&#34;</span>&nbsp;<span class="op" id="7521074">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521079">&#34;\r\n&#34;</span><span class="op" id="7521085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521089">&amp;</span><span class="ident" id="7521090"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7521097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521102"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7521108">:</span>&nbsp;<span class="string" id="7521110">&#34;POST&#34;</span><span class="op" id="7521116">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521121"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7521124">:</span>&nbsp;<span class="op" id="7521126">&amp;</span><span class="ident" id="7521127"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7521130">.</span><span class="ident" id="7521131"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7521134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521140"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="7521144">:</span>&nbsp;<span class="string" id="7521146">&#34;/&#34;</span><span class="op" id="7521149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521154">}</span><span class="op" id="7521155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521160"><a href="/gostd/net/http/request.go.html#4138599">TransferEncoding</a></span><span class="op" id="7521176">:</span>&nbsp;<span class="op" id="7521178">[</span><span class="op" id="7521179">]</span><span class="builtintype" id="7521180">string</span><span class="op" id="7521186">{</span><span class="string" id="7521187">&#34;chunked&#34;</span><span class="op" id="7521196">}</span><span class="op" id="7521197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521202"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7521207">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521220">&#34;HTTP/1.1&#34;</span><span class="op" id="7521230">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521235"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7521245">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7521253">1</span><span class="op" id="7521254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521259"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7521269">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7521277">1</span><span class="op" id="7521278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521283"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7521289">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521301"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7521307">{</span><span class="op" id="7521308">}</span><span class="op" id="7521309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521314"><a href="/gostd/net/http/request.go.html#4138292">ContentLength</a></span><span class="op" id="7521327">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521332">-</span><span class="num" id="7521333">1</span><span class="op" id="7521334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521339"><a href="/gostd/net/http/request.go.html#4139164">Host</a></span><span class="op" id="7521343">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521357">&#34;foo.com&#34;</span><span class="op" id="7521366">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521371"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7521381">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521389">&#34;/&#34;</span><span class="op" id="7521392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521396">}</span><span class="op" id="7521397">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521402">&#34;foobar&#34;</span><span class="op" id="7521410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521414"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7521420">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521425">&#34;Trailer-Key&#34;</span><span class="op" id="7521438">:</span>&nbsp;<span class="op" id="7521440">{</span><span class="string" id="7521441">&#34;Trailer-Value&#34;</span><span class="op" id="7521456">}</span><span class="op" id="7521457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521461">}</span><span class="op" id="7521462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521466"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7521473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521476">}</span><span class="op" id="7521477">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7521481">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;domain&nbsp;name:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521523">&#34;CONNECT&nbsp;www.google.com:443&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7521568">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521573">&amp;</span><span class="ident" id="7521574"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7521581">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521586"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7521592">:</span>&nbsp;<span class="string" id="7521594">&#34;CONNECT&#34;</span><span class="op" id="7521603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521608"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7521611">:</span>&nbsp;<span class="op" id="7521613">&amp;</span><span class="ident" id="7521614"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7521617">.</span><span class="ident" id="7521618"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7521621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521627"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="7521631">:</span>&nbsp;<span class="string" id="7521633">&#34;www.google.com:443&#34;</span><span class="op" id="7521653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521658">}</span><span class="op" id="7521659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521664"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7521669">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521679">&#34;HTTP/1.1&#34;</span><span class="op" id="7521689">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521694"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7521704">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7521709">1</span><span class="op" id="7521710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521715"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7521725">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7521730">1</span><span class="op" id="7521731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521736"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7521742">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521751"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7521757">{</span><span class="op" id="7521758">}</span><span class="op" id="7521759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521764"><a href="/gostd/net/http/request.go.html#4138776">Close</a></span><span class="op" id="7521769">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7521779">false</span><span class="op" id="7521784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521789"><a href="/gostd/net/http/request.go.html#4138292">ContentLength</a></span><span class="op" id="7521802">:</span>&nbsp;<span class="num" id="7521804">0</span><span class="op" id="7521805">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521810"><a href="/gostd/net/http/request.go.html#4139164">Host</a></span><span class="op" id="7521814">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521825">&#34;www.google.com:443&#34;</span><span class="op" id="7521845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521850"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7521860">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521865">&#34;www.google.com:443&#34;</span><span class="op" id="7521885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521889">}</span><span class="op" id="7521890">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521895"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7521901">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521905"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7521914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7521918"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7521925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521928">}</span><span class="op" id="7521929">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7521933">//&nbsp;CONNECT&nbsp;request&nbsp;with&nbsp;IP&nbsp;address:</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7521970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7521974">&#34;CONNECT&nbsp;127.0.0.1:6060&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7522015">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522020">&amp;</span><span class="ident" id="7522021"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7522028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522033"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7522039">:</span>&nbsp;<span class="string" id="7522041">&#34;CONNECT&#34;</span><span class="op" id="7522050">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522055"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7522058">:</span>&nbsp;<span class="op" id="7522060">&amp;</span><span class="ident" id="7522061"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7522064">.</span><span class="ident" id="7522065"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7522068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522074"><a href="/gostd/net/url/url.go.html#3751325">Host</a></span><span class="op" id="7522078">:</span>&nbsp;<span class="string" id="7522080">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7522096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522101">}</span><span class="op" id="7522102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522107"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7522112">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7522122">&#34;HTTP/1.1&#34;</span><span class="op" id="7522132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522137"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7522147">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7522152">1</span><span class="op" id="7522153">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522158"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7522168">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7522173">1</span><span class="op" id="7522174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522179"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7522185">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522194"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7522200">{</span><span class="op" id="7522201">}</span><span class="op" id="7522202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522207"><a href="/gostd/net/http/request.go.html#4138776">Close</a></span><span class="op" id="7522212">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7522222">false</span><span class="op" id="7522227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522232"><a href="/gostd/net/http/request.go.html#4138292">ContentLength</a></span><span class="op" id="7522245">:</span>&nbsp;<span class="num" id="7522247">0</span><span class="op" id="7522248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522253"><a href="/gostd/net/http/request.go.html#4139164">Host</a></span><span class="op" id="7522257">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7522268">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7522284">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522289"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7522299">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7522304">&#34;127.0.0.1:6060&#34;</span><span class="op" id="7522320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522324">}</span><span class="op" id="7522325">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522330"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7522336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522340"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7522349">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522353"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7522360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522363">}</span><span class="op" id="7522364">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7522368">//&nbsp;CONNECT&nbsp;request&nbsp;for&nbsp;RPC:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522397">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7522401">&#34;CONNECT&nbsp;/_goRPC_&nbsp;HTTP/1.1\r\n\r\n&#34;</span><span class="op" id="7522436">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522441">&amp;</span><span class="ident" id="7522442"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7522449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522454"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7522460">:</span>&nbsp;<span class="string" id="7522462">&#34;CONNECT&#34;</span><span class="op" id="7522471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522476"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7522479">:</span>&nbsp;<span class="op" id="7522481">&amp;</span><span class="ident" id="7522482"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7522485">.</span><span class="ident" id="7522486"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7522489">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522495"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="7522499">:</span>&nbsp;<span class="string" id="7522501">&#34;/_goRPC_&#34;</span><span class="op" id="7522511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522516">}</span><span class="op" id="7522517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522522"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7522527">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7522537">&#34;HTTP/1.1&#34;</span><span class="op" id="7522547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522552"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7522562">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7522567">1</span><span class="op" id="7522568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522573"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7522583">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7522588">1</span><span class="op" id="7522589">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522594"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7522600">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522609"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7522615">{</span><span class="op" id="7522616">}</span><span class="op" id="7522617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522622"><a href="/gostd/net/http/request.go.html#4138776">Close</a></span><span class="op" id="7522627">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7522637">false</span><span class="op" id="7522642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522647"><a href="/gostd/net/http/request.go.html#4138292">ContentLength</a></span><span class="op" id="7522660">:</span>&nbsp;<span class="num" id="7522662">0</span><span class="op" id="7522663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522668"><a href="/gostd/net/http/request.go.html#4139164">Host</a></span><span class="op" id="7522672">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7522683">&#34;&#34;</span><span class="op" id="7522685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522690"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7522700">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7522705">&#34;/_goRPC_&#34;</span><span class="op" id="7522715">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522719">}</span><span class="op" id="7522720">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522725"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7522731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522735"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7522744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522748"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7522755">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522758">}</span><span class="op" id="7522759">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7522763">//&nbsp;SSDP&nbsp;Notify&nbsp;request.&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7522814">&#34;NOTIFY&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7522856">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522860">&amp;</span><span class="ident" id="7522861"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7522868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522873"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7522879">:</span>&nbsp;<span class="string" id="7522881">&#34;NOTIFY&#34;</span><span class="op" id="7522889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522894"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7522897">:</span>&nbsp;<span class="op" id="7522899">&amp;</span><span class="ident" id="7522900"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7522903">.</span><span class="ident" id="7522904"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7522907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522913"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="7522917">:</span>&nbsp;<span class="string" id="7522919">&#34;*&#34;</span><span class="op" id="7522922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7522927">}</span><span class="op" id="7522928">,</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522933"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7522938">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7522945">&#34;HTTP/1.1&#34;</span><span class="op" id="7522955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522960"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7522970">:</span>&nbsp;<span class="num" id="7522972">1</span><span class="op" id="7522973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522978"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7522988">:</span>&nbsp;<span class="num" id="7522990">1</span><span class="op" id="7522991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7522996"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7523002">:</span>&nbsp;<span class="ident" id="7523004"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7523010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523016">&#34;Server&#34;</span><span class="op" id="7523024">:</span>&nbsp;<span class="op" id="7523026">[</span><span class="op" id="7523027">]</span><span class="builtintype" id="7523028">string</span><span class="op" id="7523034">{</span><span class="string" id="7523035">&#34;foo&#34;</span><span class="op" id="7523040">}</span><span class="op" id="7523041">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523046">}</span><span class="op" id="7523047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523052"><a href="/gostd/net/http/request.go.html#4138776">Close</a></span><span class="op" id="7523057">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7523067">false</span><span class="op" id="7523072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523077"><a href="/gostd/net/http/request.go.html#4138292">ContentLength</a></span><span class="op" id="7523090">:</span>&nbsp;<span class="num" id="7523092">0</span><span class="op" id="7523093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523098"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7523108">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523113">&#34;*&#34;</span><span class="op" id="7523116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523120">}</span><span class="op" id="7523121">,</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523126"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7523132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523136"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7523145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523149"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7523156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523159">}</span><span class="op" id="7523160">,</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7523164">//&nbsp;OPTIONS&nbsp;request.&nbsp;Similar&nbsp;to&nbsp;golang.org/issue/3692</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523222">&#34;OPTIONS&nbsp;*&nbsp;HTTP/1.1\r\nServer:&nbsp;foo\r\n\r\n&#34;</span><span class="op" id="7523265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523269">&amp;</span><span class="ident" id="7523270"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7523277">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523282"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7523288">:</span>&nbsp;<span class="string" id="7523290">&#34;OPTIONS&#34;</span><span class="op" id="7523299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523304"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7523307">:</span>&nbsp;<span class="op" id="7523309">&amp;</span><span class="ident" id="7523310"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7523313">.</span><span class="ident" id="7523314"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7523317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523323"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="7523327">:</span>&nbsp;<span class="string" id="7523329">&#34;*&#34;</span><span class="op" id="7523332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523337">}</span><span class="op" id="7523338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523343"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7523348">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523355">&#34;HTTP/1.1&#34;</span><span class="op" id="7523365">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523370"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7523380">:</span>&nbsp;<span class="num" id="7523382">1</span><span class="op" id="7523383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523388"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7523398">:</span>&nbsp;<span class="num" id="7523400">1</span><span class="op" id="7523401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523406"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7523412">:</span>&nbsp;<span class="ident" id="7523414"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7523420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523426">&#34;Server&#34;</span><span class="op" id="7523434">:</span>&nbsp;<span class="op" id="7523436">[</span><span class="op" id="7523437">]</span><span class="builtintype" id="7523438">string</span><span class="op" id="7523444">{</span><span class="string" id="7523445">&#34;foo&#34;</span><span class="op" id="7523450">}</span><span class="op" id="7523451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523456">}</span><span class="op" id="7523457">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523462"><a href="/gostd/net/http/request.go.html#4138776">Close</a></span><span class="op" id="7523467">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7523477">false</span><span class="op" id="7523482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523487"><a href="/gostd/net/http/request.go.html#4138292">ContentLength</a></span><span class="op" id="7523500">:</span>&nbsp;<span class="num" id="7523502">0</span><span class="op" id="7523503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523508"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7523518">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523523">&#34;*&#34;</span><span class="op" id="7523526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523530">}</span><span class="op" id="7523531">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523536"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7523542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523546"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7523555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523559"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7523566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523569">}</span><span class="op" id="7523570">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7523574">//&nbsp;Connection:&nbsp;close.&nbsp;golang.org/issue/8261</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523623">&#34;GET&nbsp;/&nbsp;HTTP/1.1\r\nHost:&nbsp;issue8261.com\r\nConnection:&nbsp;close\r\n\r\n&#34;</span><span class="op" id="7523691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523695">&amp;</span><span class="ident" id="7523696"><a href="/gostd/net/http/request.go.html#4135954">Request</a></span><span class="op" id="7523703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523708"><a href="/gostd/net/http/request.go.html#4136084">Method</a></span><span class="op" id="7523714">:</span>&nbsp;<span class="string" id="7523716">&#34;GET&#34;</span><span class="op" id="7523721">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523726"><a href="/gostd/net/http/request.go.html#4136640">URL</a></span><span class="op" id="7523729">:</span>&nbsp;<span class="op" id="7523731">&amp;</span><span class="ident" id="7523732"><a href="/gostd/net/http/readrequest_test.go.html#7517966">url</a></span><span class="op" id="7523735">.</span><span class="ident" id="7523736"><a href="/gostd/net/url/url.go.html#3751194">URL</a></span><span class="op" id="7523739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523745"><a href="/gostd/net/url/url.go.html#3751366">Path</a></span><span class="op" id="7523749">:</span>&nbsp;<span class="string" id="7523751">&#34;/&#34;</span><span class="op" id="7523754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523759">}</span><span class="op" id="7523760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523765"><a href="/gostd/net/http/request.go.html#4137563">Header</a></span><span class="op" id="7523771">:</span>&nbsp;<span class="ident" id="7523773"><a href="/gostd/net/http/header.go.html#4126117">Header</a></span><span class="op" id="7523779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7523785">//&nbsp;This&nbsp;wasn&#39;t&nbsp;removed&nbsp;from&nbsp;Go&nbsp;1.0&nbsp;to</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7523827">//&nbsp;Go&nbsp;1.3,&nbsp;so&nbsp;locking&nbsp;it&nbsp;in&nbsp;that&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7523867">//&nbsp;keep&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523885">&#34;Connection&#34;</span><span class="op" id="7523897">:</span>&nbsp;<span class="op" id="7523899">[</span><span class="op" id="7523900">]</span><span class="builtintype" id="7523901">string</span><span class="op" id="7523907">{</span><span class="string" id="7523908">&#34;close&#34;</span><span class="op" id="7523915">}</span><span class="op" id="7523916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7523921">}</span><span class="op" id="7523922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523927"><a href="/gostd/net/http/request.go.html#4139164">Host</a></span><span class="op" id="7523931">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523939">&#34;issue8261.com&#34;</span><span class="op" id="7523954">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523959"><a href="/gostd/net/http/request.go.html#4136744">Proto</a></span><span class="op" id="7523964">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7523971">&#34;HTTP/1.1&#34;</span><span class="op" id="7523981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7523986"><a href="/gostd/net/http/request.go.html#4136777">ProtoMajor</a></span><span class="op" id="7523996">:</span>&nbsp;<span class="num" id="7523998">1</span><span class="op" id="7523999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524004"><a href="/gostd/net/http/request.go.html#4136801">ProtoMinor</a></span><span class="op" id="7524014">:</span>&nbsp;<span class="num" id="7524016">1</span><span class="op" id="7524017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524022"><a href="/gostd/net/http/request.go.html#4138776">Close</a></span><span class="op" id="7524027">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7524034">true</span><span class="op" id="7524038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524043"><a href="/gostd/net/http/request.go.html#4141462">RequestURI</a></span><span class="op" id="7524053">:</span>&nbsp;<span class="string" id="7524055">&#34;/&#34;</span><span class="op" id="7524058">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7524062">}</span><span class="op" id="7524063">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524068"><a href="/gostd/net/http/readrequest_test.go.html#7518140">noBody</a></span><span class="op" id="7524074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524078"><a href="/gostd/net/http/readrequest_test.go.html#7518156">noTrailer</a></span><span class="op" id="7524087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524091"><a href="/gostd/net/http/readrequest_test.go.html#7518123">noError</a></span><span class="op" id="7524098">,</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7524101">}</span><span class="op" id="7524102">,</span><br>
<span class="lineno"></span><span class="op" id="7524104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7524107">func</span>&nbsp;<span class="ident" id="7524112">TestReadRequest</span><span class="op" id="7524127">(</span><span class="ident" id="7524128">t</span>&nbsp;<span class="op" id="7524130">*</span><span class="ident" id="7524131"><a href="/gostd/net/http/readrequest_test.go.html#7517999">testing</a></span><span class="op" id="7524138">.</span><span class="ident" id="7524139"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7524140">)</span>&nbsp;<span class="op" id="7524142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7524145">for</span>&nbsp;<span class="ident" id="7524149">i</span>&nbsp;<span class="op" id="7524151">:=</span>&nbsp;<span class="keyword" id="7524154">range</span>&nbsp;<span class="ident" id="7524160"><a href="/gostd/net/http/readrequest_test.go.html#7518184">reqTests</a></span>&nbsp;<span class="op" id="7524169">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524173">tt</span>&nbsp;<span class="op" id="7524176">:=</span>&nbsp;<span class="op" id="7524179">&amp;</span><span class="ident" id="7524180"><a href="/gostd/net/http/readrequest_test.go.html#7518184">reqTests</a></span><span class="op" id="7524188">[</span><span class="ident" id="7524189"><a href="/gostd/net/http/readrequest_test.go.html#7524149">i</a></span><span class="op" id="7524190">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524194">req</span><span class="op" id="7524197">,</span>&nbsp;<span class="ident" id="7524199">err</span>&nbsp;<span class="op" id="7524203">:=</span>&nbsp;<span class="ident" id="7524206"><a href="/gostd/net/http/request.go.html#4152095">ReadRequest</a></span><span class="op" id="7524217">(</span><span class="ident" id="7524218"><a href="/gostd/net/http/readrequest_test.go.html#7517935">bufio</a></span><span class="op" id="7524223">.</span><span class="ident" id="7524224"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7524233">(</span><span class="ident" id="7524234"><a href="/gostd/net/http/readrequest_test.go.html#7517988">strings</a></span><span class="op" id="7524241">.</span><span class="ident" id="7524242"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7524251">(</span><span class="ident" id="7524252"><a href="/gostd/net/http/readrequest_test.go.html#7524173">tt</a></span><span class="op" id="7524254">.</span><span class="ident" id="7524255"><a href="/gostd/net/http/readrequest_test.go.html#7518035">Raw</a></span><span class="op" id="7524258">)</span><span class="op" id="7524259">)</span><span class="op" id="7524260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7524264">if</span>&nbsp;<span class="ident" id="7524267"><a href="/gostd/net/http/readrequest_test.go.html#7524199">err</a></span>&nbsp;<span class="op" id="7524271">!=</span>&nbsp;<span class="builtintype" id="7524274">nil</span>&nbsp;<span class="op" id="7524278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7524283">if</span>&nbsp;<span class="ident" id="7524286"><a href="/gostd/net/http/readrequest_test.go.html#7524199">err</a></span><span class="op" id="7524289">.</span><span class="ident" id="7524290">Error</span><span class="op" id="7524295">(</span><span class="op" id="7524296">)</span>&nbsp;<span class="op" id="7524298">!=</span>&nbsp;<span class="ident" id="7524301"><a href="/gostd/net/http/readrequest_test.go.html#7524173">tt</a></span><span class="op" id="7524303">.</span><span class="ident" id="7524304"><a href="/gostd/net/http/readrequest_test.go.html#7518101">Error</a></span>&nbsp;<span class="op" id="7524310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524316"><a href="/gostd/net/http/readrequest_test.go.html#7524128">t</a></span><span class="op" id="7524317">.</span><span class="ident" id="7524318"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7524324">(</span><span class="string" id="7524325">&#34;#%d:&nbsp;error&nbsp;%q,&nbsp;want&nbsp;error&nbsp;%q&#34;</span><span class="op" id="7524355">,</span>&nbsp;<span class="ident" id="7524357"><a href="/gostd/net/http/readrequest_test.go.html#7524149">i</a></span><span class="op" id="7524358">,</span>&nbsp;<span class="ident" id="7524360"><a href="/gostd/net/http/readrequest_test.go.html#7524199">err</a></span><span class="op" id="7524363">.</span><span class="ident" id="7524364">Error</span><span class="op" id="7524369">(</span><span class="op" id="7524370">)</span><span class="op" id="7524371">,</span>&nbsp;<span class="ident" id="7524373"><a href="/gostd/net/http/readrequest_test.go.html#7524173">tt</a></span><span class="op" id="7524375">.</span><span class="ident" id="7524376"><a href="/gostd/net/http/readrequest_test.go.html#7518101">Error</a></span><span class="op" id="7524381">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7524386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7524391">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7524402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524406">rbody</span>&nbsp;<span class="op" id="7524412">:=</span>&nbsp;<span class="ident" id="7524415"><a href="/gostd/net/http/readrequest_test.go.html#7524194">req</a></span><span class="op" id="7524418">.</span><span class="ident" id="7524419"><a href="/gostd/net/http/request.go.html#4137997">Body</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524426"><a href="/gostd/net/http/readrequest_test.go.html#7524194">req</a></span><span class="op" id="7524429">.</span><span class="ident" id="7524430"><a href="/gostd/net/http/request.go.html#4137997">Body</a></span>&nbsp;<span class="op" id="7524435">=</span>&nbsp;<span class="builtintype" id="7524437">nil</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524443">testName</span>&nbsp;<span class="op" id="7524452">:=</span>&nbsp;<span class="ident" id="7524455"><a href="/gostd/net/http/readrequest_test.go.html#7517953">fmt</a></span><span class="op" id="7524458">.</span><span class="ident" id="7524459"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="7524466">(</span><span class="string" id="7524467">&#34;Test&nbsp;%d&nbsp;(%q)&#34;</span><span class="op" id="7524481">,</span>&nbsp;<span class="ident" id="7524483"><a href="/gostd/net/http/readrequest_test.go.html#7524149">i</a></span><span class="op" id="7524484">,</span>&nbsp;<span class="ident" id="7524486"><a href="/gostd/net/http/readrequest_test.go.html#7524173">tt</a></span><span class="op" id="7524488">.</span><span class="ident" id="7524489"><a href="/gostd/net/http/readrequest_test.go.html#7518035">Raw</a></span><span class="op" id="7524492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524496"><a href="/gostd/net/http/response_test.go.html#7552373">diff</a></span><span class="op" id="7524500">(</span><span class="ident" id="7524501"><a href="/gostd/net/http/readrequest_test.go.html#7524128">t</a></span><span class="op" id="7524502">,</span>&nbsp;<span class="ident" id="7524504"><a href="/gostd/net/http/readrequest_test.go.html#7524443">testName</a></span><span class="op" id="7524512">,</span>&nbsp;<span class="ident" id="7524514"><a href="/gostd/net/http/readrequest_test.go.html#7524194">req</a></span><span class="op" id="7524517">,</span>&nbsp;<span class="ident" id="7524519"><a href="/gostd/net/http/readrequest_test.go.html#7524173">tt</a></span><span class="op" id="7524521">.</span><span class="ident" id="7524522"><a href="/gostd/net/http/readrequest_test.go.html#7518051">Req</a></span><span class="op" id="7524525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7524529">var</span>&nbsp;<span class="ident" id="7524533">bout</span>&nbsp;<span class="ident" id="7524538"><a href="/gostd/net/http/readrequest_test.go.html#7517944">bytes</a></span><span class="op" id="7524543">.</span><span class="ident" id="7524544"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7524553">if</span>&nbsp;<span class="ident" id="7524556"><a href="/gostd/net/http/readrequest_test.go.html#7524406">rbody</a></span>&nbsp;<span class="op" id="7524562">!=</span>&nbsp;<span class="builtintype" id="7524565">nil</span>&nbsp;<span class="op" id="7524569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524574">_</span><span class="op" id="7524575">,</span>&nbsp;<span class="ident" id="7524577">err</span>&nbsp;<span class="op" id="7524581">:=</span>&nbsp;<span class="ident" id="7524584"><a href="/gostd/net/http/readrequest_test.go.html#7517960">io</a></span><span class="op" id="7524586">.</span><span class="ident" id="7524587"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="7524591">(</span><span class="op" id="7524592">&amp;</span><span class="ident" id="7524593"><a href="/gostd/net/http/readrequest_test.go.html#7524533">bout</a></span><span class="op" id="7524597">,</span>&nbsp;<span class="ident" id="7524599"><a href="/gostd/net/http/readrequest_test.go.html#7524406">rbody</a></span><span class="op" id="7524604">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7524609">if</span>&nbsp;<span class="ident" id="7524612"><a href="/gostd/net/http/readrequest_test.go.html#7524577">err</a></span>&nbsp;<span class="op" id="7524616">!=</span>&nbsp;<span class="builtintype" id="7524619">nil</span>&nbsp;<span class="op" id="7524623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524629"><a href="/gostd/net/http/readrequest_test.go.html#7524128">t</a></span><span class="op" id="7524630">.</span><span class="ident" id="7524631"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7524637">(</span><span class="string" id="7524638">&#34;%s:&nbsp;copying&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7524660">,</span>&nbsp;<span class="ident" id="7524662"><a href="/gostd/net/http/readrequest_test.go.html#7524443">testName</a></span><span class="op" id="7524670">,</span>&nbsp;<span class="ident" id="7524672"><a href="/gostd/net/http/readrequest_test.go.html#7524577">err</a></span><span class="op" id="7524675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7524680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524685"><a href="/gostd/net/http/readrequest_test.go.html#7524406">rbody</a></span><span class="op" id="7524690">.</span><span class="ident" id="7524691"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="7524696">(</span><span class="op" id="7524697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7524701">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524705">body</span>&nbsp;<span class="op" id="7524710">:=</span>&nbsp;<span class="ident" id="7524713"><a href="/gostd/net/http/readrequest_test.go.html#7524533">bout</a></span><span class="op" id="7524717">.</span><span class="ident" id="7524718"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="7524724">(</span><span class="op" id="7524725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7524729">if</span>&nbsp;<span class="ident" id="7524732"><a href="/gostd/net/http/readrequest_test.go.html#7524705">body</a></span>&nbsp;<span class="op" id="7524737">!=</span>&nbsp;<span class="ident" id="7524740"><a href="/gostd/net/http/readrequest_test.go.html#7524173">tt</a></span><span class="op" id="7524742">.</span><span class="ident" id="7524743"><a href="/gostd/net/http/readrequest_test.go.html#7518069">Body</a></span>&nbsp;<span class="op" id="7524748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524753"><a href="/gostd/net/http/readrequest_test.go.html#7524128">t</a></span><span class="op" id="7524754">.</span><span class="ident" id="7524755"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7524761">(</span><span class="string" id="7524762">&#34;%s:&nbsp;Body&nbsp;=&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7524785">,</span>&nbsp;<span class="ident" id="7524787"><a href="/gostd/net/http/readrequest_test.go.html#7524443">testName</a></span><span class="op" id="7524795">,</span>&nbsp;<span class="ident" id="7524797"><a href="/gostd/net/http/readrequest_test.go.html#7524705">body</a></span><span class="op" id="7524801">,</span>&nbsp;<span class="ident" id="7524803"><a href="/gostd/net/http/readrequest_test.go.html#7524173">tt</a></span><span class="op" id="7524805">.</span><span class="ident" id="7524806"><a href="/gostd/net/http/readrequest_test.go.html#7518069">Body</a></span><span class="op" id="7524810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7524814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7524818">if</span>&nbsp;<span class="op" id="7524821">!</span><span class="ident" id="7524822"><a href="/gostd/net/http/readrequest_test.go.html#7517977">reflect</a></span><span class="op" id="7524829">.</span><span class="ident" id="7524830"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="7524839">(</span><span class="ident" id="7524840"><a href="/gostd/net/http/readrequest_test.go.html#7524173">tt</a></span><span class="op" id="7524842">.</span><span class="ident" id="7524843"><a href="/gostd/net/http/readrequest_test.go.html#7518085">Trailer</a></span><span class="op" id="7524850">,</span>&nbsp;<span class="ident" id="7524852"><a href="/gostd/net/http/readrequest_test.go.html#7524194">req</a></span><span class="op" id="7524855">.</span><span class="ident" id="7524856"><a href="/gostd/net/http/request.go.html#4140820">Trailer</a></span><span class="op" id="7524863">)</span>&nbsp;<span class="op" id="7524865">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7524870"><a href="/gostd/net/http/readrequest_test.go.html#7524128">t</a></span><span class="op" id="7524871">.</span><span class="ident" id="7524872"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7524878">(</span><span class="string" id="7524879">&#34;%s:&nbsp;Trailers&nbsp;differ.\n&nbsp;got:&nbsp;%v\nwant:&nbsp;%v&#34;</span><span class="op" id="7524921">,</span>&nbsp;<span class="ident" id="7524923"><a href="/gostd/net/http/readrequest_test.go.html#7524443">testName</a></span><span class="op" id="7524931">,</span>&nbsp;<span class="ident" id="7524933"><a href="/gostd/net/http/readrequest_test.go.html#7524194">req</a></span><span class="op" id="7524936">.</span><span class="ident" id="7524937"><a href="/gostd/net/http/request.go.html#4140820">Trailer</a></span><span class="op" id="7524944">,</span>&nbsp;<span class="ident" id="7524946"><a href="/gostd/net/http/readrequest_test.go.html#7524173">tt</a></span><span class="op" id="7524948">.</span><span class="ident" id="7524949"><a href="/gostd/net/http/readrequest_test.go.html#7518085">Trailer</a></span><span class="op" id="7524956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7524960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7524963">}</span><br>
<span class="lineno"></span><span class="op" id="7524965">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
