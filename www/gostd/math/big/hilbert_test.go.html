<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7280186">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7280241">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7280295">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7280346">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7280411">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7280470">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7280528">package</span>&nbsp;<span class="ident" id="7280536">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7280541">import</span>&nbsp;<span class="op" id="7280548">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7280551">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7280558">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7280568">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7280571">type</span>&nbsp;<span class="ident" id="7280576">matrix</span>&nbsp;<span class="keyword" id="7280583">struct</span>&nbsp;<span class="op" id="7280590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7280593">n</span><span class="op" id="7280594">,</span>&nbsp;<span class="ident" id="7280596">m</span>&nbsp;<span class="builtintype" id="7280598">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7280603">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7280608">[</span><span class="op" id="7280609">]</span><span class="op" id="7280610">*</span><span class="ident" id="7280611">Rat</span><br>
<span class="lineno"></span><span class="op" id="7280615">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7280618">func</span>&nbsp;<span class="op" id="7280623">(</span><span class="ident" id="7280624">a</span>&nbsp;<span class="op" id="7280626">*</span><span class="ident" id="7280627">matrix</span><span class="op" id="7280633">)</span>&nbsp;<span class="ident" id="7280635">at</span><span class="op" id="7280637">(</span><span class="ident" id="7280638">i</span><span class="op" id="7280639">,</span>&nbsp;<span class="ident" id="7280641">j</span>&nbsp;<span class="builtintype" id="7280643">int</span><span class="op" id="7280646">)</span>&nbsp;<span class="op" id="7280648">*</span><span class="ident" id="7280649">Rat</span>&nbsp;<span class="op" id="7280653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7280656">if</span>&nbsp;<span class="op" id="7280659">!</span><span class="op" id="7280660">(</span><span class="num" id="7280661">0</span>&nbsp;<span class="op" id="7280663">&lt;=</span>&nbsp;<span class="ident" id="7280666">i</span>&nbsp;<span class="op" id="7280668">&amp;&amp;</span>&nbsp;<span class="ident" id="7280671">i</span>&nbsp;<span class="op" id="7280673">&lt;</span>&nbsp;<span class="ident" id="7280675">a</span><span class="op" id="7280676">.</span><span class="ident" id="7280677">n</span>&nbsp;<span class="op" id="7280679">&amp;&amp;</span>&nbsp;<span class="num" id="7280682">0</span>&nbsp;<span class="op" id="7280684">&lt;=</span>&nbsp;<span class="ident" id="7280687">j</span>&nbsp;<span class="op" id="7280689">&amp;&amp;</span>&nbsp;<span class="ident" id="7280692">j</span>&nbsp;<span class="op" id="7280694">&lt;</span>&nbsp;<span class="ident" id="7280696">a</span><span class="op" id="7280697">.</span><span class="ident" id="7280698">m</span><span class="op" id="7280699">)</span>&nbsp;<span class="op" id="7280701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7280705">panic</span><span class="op" id="7280710">(</span><span class="string" id="7280711">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7280731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280734">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7280737">return</span>&nbsp;<span class="ident" id="7280744">a</span><span class="op" id="7280745">.</span><span class="ident" id="7280746">a</span><span class="op" id="7280747">[</span><span class="ident" id="7280748">i</span><span class="op" id="7280749">*</span><span class="ident" id="7280750">a</span><span class="op" id="7280751">.</span><span class="ident" id="7280752">m</span><span class="op" id="7280753">+</span><span class="ident" id="7280754">j</span><span class="op" id="7280755">]</span><br>
<span class="lineno"></span><span class="op" id="7280757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7280760">func</span>&nbsp;<span class="op" id="7280765">(</span><span class="ident" id="7280766">a</span>&nbsp;<span class="op" id="7280768">*</span><span class="ident" id="7280769">matrix</span><span class="op" id="7280775">)</span>&nbsp;<span class="ident" id="7280777">set</span><span class="op" id="7280780">(</span><span class="ident" id="7280781">i</span><span class="op" id="7280782">,</span>&nbsp;<span class="ident" id="7280784">j</span>&nbsp;<span class="builtintype" id="7280786">int</span><span class="op" id="7280789">,</span>&nbsp;<span class="ident" id="7280791">x</span>&nbsp;<span class="op" id="7280793">*</span><span class="ident" id="7280794">Rat</span><span class="op" id="7280797">)</span>&nbsp;<span class="op" id="7280799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7280802">if</span>&nbsp;<span class="op" id="7280805">!</span><span class="op" id="7280806">(</span><span class="num" id="7280807">0</span>&nbsp;<span class="op" id="7280809">&lt;=</span>&nbsp;<span class="ident" id="7280812">i</span>&nbsp;<span class="op" id="7280814">&amp;&amp;</span>&nbsp;<span class="ident" id="7280817">i</span>&nbsp;<span class="op" id="7280819">&lt;</span>&nbsp;<span class="ident" id="7280821">a</span><span class="op" id="7280822">.</span><span class="ident" id="7280823">n</span>&nbsp;<span class="op" id="7280825">&amp;&amp;</span>&nbsp;<span class="num" id="7280828">0</span>&nbsp;<span class="op" id="7280830">&lt;=</span>&nbsp;<span class="ident" id="7280833">j</span>&nbsp;<span class="op" id="7280835">&amp;&amp;</span>&nbsp;<span class="ident" id="7280838">j</span>&nbsp;<span class="op" id="7280840">&lt;</span>&nbsp;<span class="ident" id="7280842">a</span><span class="op" id="7280843">.</span><span class="ident" id="7280844">m</span><span class="op" id="7280845">)</span>&nbsp;<span class="op" id="7280847">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7280851">panic</span><span class="op" id="7280856">(</span><span class="string" id="7280857">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7280877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7280883">a</span><span class="op" id="7280884">.</span><span class="ident" id="7280885">a</span><span class="op" id="7280886">[</span><span class="ident" id="7280887">i</span><span class="op" id="7280888">*</span><span class="ident" id="7280889">a</span><span class="op" id="7280890">.</span><span class="ident" id="7280891">m</span><span class="op" id="7280892">+</span><span class="ident" id="7280893">j</span><span class="op" id="7280894">]</span>&nbsp;<span class="op" id="7280896">=</span>&nbsp;<span class="ident" id="7280898">x</span><br>
<span class="lineno"></span><span class="op" id="7280900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7280903">func</span>&nbsp;<span class="ident" id="7280908">newMatrix</span><span class="op" id="7280917">(</span><span class="ident" id="7280918">n</span><span class="op" id="7280919">,</span>&nbsp;<span class="ident" id="7280921">m</span>&nbsp;<span class="builtintype" id="7280923">int</span><span class="op" id="7280926">)</span>&nbsp;<span class="op" id="7280928">*</span><span class="ident" id="7280929">matrix</span>&nbsp;<span class="op" id="7280936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7280939">if</span>&nbsp;<span class="op" id="7280942">!</span><span class="op" id="7280943">(</span><span class="num" id="7280944">0</span>&nbsp;<span class="op" id="7280946">&lt;=</span>&nbsp;<span class="ident" id="7280949">n</span>&nbsp;<span class="op" id="7280951">&amp;&amp;</span>&nbsp;<span class="num" id="7280954">0</span>&nbsp;<span class="op" id="7280956">&lt;=</span>&nbsp;<span class="ident" id="7280959">m</span><span class="op" id="7280960">)</span>&nbsp;<span class="op" id="7280962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7280966">panic</span><span class="op" id="7280971">(</span><span class="string" id="7280972">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7280988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7280991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7280994">a</span>&nbsp;<span class="op" id="7280996">:=</span>&nbsp;<span class="builtinfunc" id="7280999">new</span><span class="op" id="7281002">(</span><span class="ident" id="7281003">matrix</span><span class="op" id="7281009">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281012">a</span><span class="op" id="7281013">.</span><span class="ident" id="7281014">n</span>&nbsp;<span class="op" id="7281016">=</span>&nbsp;<span class="ident" id="7281018">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281021">a</span><span class="op" id="7281022">.</span><span class="ident" id="7281023">m</span>&nbsp;<span class="op" id="7281025">=</span>&nbsp;<span class="ident" id="7281027">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281030">a</span><span class="op" id="7281031">.</span><span class="ident" id="7281032">a</span>&nbsp;<span class="op" id="7281034">=</span>&nbsp;<span class="builtinfunc" id="7281036">make</span><span class="op" id="7281040">(</span><span class="op" id="7281041">[</span><span class="op" id="7281042">]</span><span class="op" id="7281043">*</span><span class="ident" id="7281044">Rat</span><span class="op" id="7281047">,</span>&nbsp;<span class="ident" id="7281049">n</span><span class="op" id="7281050">*</span><span class="ident" id="7281051">m</span><span class="op" id="7281052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281055">return</span>&nbsp;<span class="ident" id="7281062">a</span><br>
<span class="lineno"></span><span class="op" id="7281064">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7281067">func</span>&nbsp;<span class="ident" id="7281072">newUnit</span><span class="op" id="7281079">(</span><span class="ident" id="7281080">n</span>&nbsp;<span class="builtintype" id="7281082">int</span><span class="op" id="7281085">)</span>&nbsp;<span class="op" id="7281087">*</span><span class="ident" id="7281088">matrix</span>&nbsp;<span class="op" id="7281095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281098">a</span>&nbsp;<span class="op" id="7281100">:=</span>&nbsp;<span class="ident" id="7281103">newMatrix</span><span class="op" id="7281112">(</span><span class="ident" id="7281113">n</span><span class="op" id="7281114">,</span>&nbsp;<span class="ident" id="7281116">n</span><span class="op" id="7281117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281120">for</span>&nbsp;<span class="ident" id="7281124">i</span>&nbsp;<span class="op" id="7281126">:=</span>&nbsp;<span class="num" id="7281129">0</span><span class="op" id="7281130">;</span>&nbsp;<span class="ident" id="7281132">i</span>&nbsp;<span class="op" id="7281134">&lt;</span>&nbsp;<span class="ident" id="7281136">n</span><span class="op" id="7281137">;</span>&nbsp;<span class="ident" id="7281139">i</span><span class="op" id="7281140">++</span>&nbsp;<span class="op" id="7281143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281147">for</span>&nbsp;<span class="ident" id="7281151">j</span>&nbsp;<span class="op" id="7281153">:=</span>&nbsp;<span class="num" id="7281156">0</span><span class="op" id="7281157">;</span>&nbsp;<span class="ident" id="7281159">j</span>&nbsp;<span class="op" id="7281161">&lt;</span>&nbsp;<span class="ident" id="7281163">n</span><span class="op" id="7281164">;</span>&nbsp;<span class="ident" id="7281166">j</span><span class="op" id="7281167">++</span>&nbsp;<span class="op" id="7281170">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281175">x</span>&nbsp;<span class="op" id="7281177">:=</span>&nbsp;<span class="ident" id="7281180">NewRat</span><span class="op" id="7281186">(</span><span class="num" id="7281187">0</span><span class="op" id="7281188">,</span>&nbsp;<span class="num" id="7281190">1</span><span class="op" id="7281191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281196">if</span>&nbsp;<span class="ident" id="7281199">i</span>&nbsp;<span class="op" id="7281201">==</span>&nbsp;<span class="ident" id="7281204">j</span>&nbsp;<span class="op" id="7281206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281212">x</span><span class="op" id="7281213">.</span><span class="ident" id="7281214">SetInt64</span><span class="op" id="7281222">(</span><span class="num" id="7281223">1</span><span class="op" id="7281224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281234">a</span><span class="op" id="7281235">.</span><span class="ident" id="7281236">set</span><span class="op" id="7281239">(</span><span class="ident" id="7281240">i</span><span class="op" id="7281241">,</span>&nbsp;<span class="ident" id="7281243">j</span><span class="op" id="7281244">,</span>&nbsp;<span class="ident" id="7281246">x</span><span class="op" id="7281247">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281257">return</span>&nbsp;<span class="ident" id="7281264">a</span><br>
<span class="lineno"></span><span class="op" id="7281266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7281269">func</span>&nbsp;<span class="ident" id="7281274">newHilbert</span><span class="op" id="7281284">(</span><span class="ident" id="7281285">n</span>&nbsp;<span class="builtintype" id="7281287">int</span><span class="op" id="7281290">)</span>&nbsp;<span class="op" id="7281292">*</span><span class="ident" id="7281293">matrix</span>&nbsp;<span class="op" id="7281300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281303">a</span>&nbsp;<span class="op" id="7281305">:=</span>&nbsp;<span class="ident" id="7281308">newMatrix</span><span class="op" id="7281317">(</span><span class="ident" id="7281318">n</span><span class="op" id="7281319">,</span>&nbsp;<span class="ident" id="7281321">n</span><span class="op" id="7281322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281325">for</span>&nbsp;<span class="ident" id="7281329">i</span>&nbsp;<span class="op" id="7281331">:=</span>&nbsp;<span class="num" id="7281334">0</span><span class="op" id="7281335">;</span>&nbsp;<span class="ident" id="7281337">i</span>&nbsp;<span class="op" id="7281339">&lt;</span>&nbsp;<span class="ident" id="7281341">n</span><span class="op" id="7281342">;</span>&nbsp;<span class="ident" id="7281344">i</span><span class="op" id="7281345">++</span>&nbsp;<span class="op" id="7281348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281352">for</span>&nbsp;<span class="ident" id="7281356">j</span>&nbsp;<span class="op" id="7281358">:=</span>&nbsp;<span class="num" id="7281361">0</span><span class="op" id="7281362">;</span>&nbsp;<span class="ident" id="7281364">j</span>&nbsp;<span class="op" id="7281366">&lt;</span>&nbsp;<span class="ident" id="7281368">n</span><span class="op" id="7281369">;</span>&nbsp;<span class="ident" id="7281371">j</span><span class="op" id="7281372">++</span>&nbsp;<span class="op" id="7281375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281380">a</span><span class="op" id="7281381">.</span><span class="ident" id="7281382">set</span><span class="op" id="7281385">(</span><span class="ident" id="7281386">i</span><span class="op" id="7281387">,</span>&nbsp;<span class="ident" id="7281389">j</span><span class="op" id="7281390">,</span>&nbsp;<span class="ident" id="7281392">NewRat</span><span class="op" id="7281398">(</span><span class="num" id="7281399">1</span><span class="op" id="7281400">,</span>&nbsp;<span class="ident" id="7281402">int64</span><span class="op" id="7281407">(</span><span class="ident" id="7281408">i</span><span class="op" id="7281409">+</span><span class="ident" id="7281410">j</span><span class="op" id="7281411">+</span><span class="num" id="7281412">1</span><span class="op" id="7281413">)</span><span class="op" id="7281414">)</span><span class="op" id="7281415">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281425">return</span>&nbsp;<span class="ident" id="7281432">a</span><br>
<span class="lineno"></span><span class="op" id="7281434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7281437">func</span>&nbsp;<span class="ident" id="7281442">newInverseHilbert</span><span class="op" id="7281459">(</span><span class="ident" id="7281460">n</span>&nbsp;<span class="builtintype" id="7281462">int</span><span class="op" id="7281465">)</span>&nbsp;<span class="op" id="7281467">*</span><span class="ident" id="7281468">matrix</span>&nbsp;<span class="op" id="7281475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281478">a</span>&nbsp;<span class="op" id="7281480">:=</span>&nbsp;<span class="ident" id="7281483">newMatrix</span><span class="op" id="7281492">(</span><span class="ident" id="7281493">n</span><span class="op" id="7281494">,</span>&nbsp;<span class="ident" id="7281496">n</span><span class="op" id="7281497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281500">for</span>&nbsp;<span class="ident" id="7281504">i</span>&nbsp;<span class="op" id="7281506">:=</span>&nbsp;<span class="num" id="7281509">0</span><span class="op" id="7281510">;</span>&nbsp;<span class="ident" id="7281512">i</span>&nbsp;<span class="op" id="7281514">&lt;</span>&nbsp;<span class="ident" id="7281516">n</span><span class="op" id="7281517">;</span>&nbsp;<span class="ident" id="7281519">i</span><span class="op" id="7281520">++</span>&nbsp;<span class="op" id="7281523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281527">for</span>&nbsp;<span class="ident" id="7281531">j</span>&nbsp;<span class="op" id="7281533">:=</span>&nbsp;<span class="num" id="7281536">0</span><span class="op" id="7281537">;</span>&nbsp;<span class="ident" id="7281539">j</span>&nbsp;<span class="op" id="7281541">&lt;</span>&nbsp;<span class="ident" id="7281543">n</span><span class="op" id="7281544">;</span>&nbsp;<span class="ident" id="7281546">j</span><span class="op" id="7281547">++</span>&nbsp;<span class="op" id="7281550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281555">x1</span>&nbsp;<span class="op" id="7281558">:=</span>&nbsp;<span class="builtinfunc" id="7281561">new</span><span class="op" id="7281564">(</span><span class="ident" id="7281565">Rat</span><span class="op" id="7281568">)</span><span class="op" id="7281569">.</span><span class="ident" id="7281570">SetInt64</span><span class="op" id="7281578">(</span><span class="ident" id="7281579">int64</span><span class="op" id="7281584">(</span><span class="ident" id="7281585">i</span>&nbsp;<span class="op" id="7281587">+</span>&nbsp;<span class="ident" id="7281589">j</span>&nbsp;<span class="op" id="7281591">+</span>&nbsp;<span class="num" id="7281593">1</span><span class="op" id="7281594">)</span><span class="op" id="7281595">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281600">x2</span>&nbsp;<span class="op" id="7281603">:=</span>&nbsp;<span class="builtinfunc" id="7281606">new</span><span class="op" id="7281609">(</span><span class="ident" id="7281610">Rat</span><span class="op" id="7281613">)</span><span class="op" id="7281614">.</span><span class="ident" id="7281615">SetInt</span><span class="op" id="7281621">(</span><span class="builtinfunc" id="7281622">new</span><span class="op" id="7281625">(</span><span class="ident" id="7281626">Int</span><span class="op" id="7281629">)</span><span class="op" id="7281630">.</span><span class="ident" id="7281631">Binomial</span><span class="op" id="7281639">(</span><span class="ident" id="7281640">int64</span><span class="op" id="7281645">(</span><span class="ident" id="7281646">n</span><span class="op" id="7281647">+</span><span class="ident" id="7281648">i</span><span class="op" id="7281649">)</span><span class="op" id="7281650">,</span>&nbsp;<span class="ident" id="7281652">int64</span><span class="op" id="7281657">(</span><span class="ident" id="7281658">n</span><span class="op" id="7281659">-</span><span class="ident" id="7281660">j</span><span class="op" id="7281661">-</span><span class="num" id="7281662">1</span><span class="op" id="7281663">)</span><span class="op" id="7281664">)</span><span class="op" id="7281665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281670">x3</span>&nbsp;<span class="op" id="7281673">:=</span>&nbsp;<span class="builtinfunc" id="7281676">new</span><span class="op" id="7281679">(</span><span class="ident" id="7281680">Rat</span><span class="op" id="7281683">)</span><span class="op" id="7281684">.</span><span class="ident" id="7281685">SetInt</span><span class="op" id="7281691">(</span><span class="builtinfunc" id="7281692">new</span><span class="op" id="7281695">(</span><span class="ident" id="7281696">Int</span><span class="op" id="7281699">)</span><span class="op" id="7281700">.</span><span class="ident" id="7281701">Binomial</span><span class="op" id="7281709">(</span><span class="ident" id="7281710">int64</span><span class="op" id="7281715">(</span><span class="ident" id="7281716">n</span><span class="op" id="7281717">+</span><span class="ident" id="7281718">j</span><span class="op" id="7281719">)</span><span class="op" id="7281720">,</span>&nbsp;<span class="ident" id="7281722">int64</span><span class="op" id="7281727">(</span><span class="ident" id="7281728">n</span><span class="op" id="7281729">-</span><span class="ident" id="7281730">i</span><span class="op" id="7281731">-</span><span class="num" id="7281732">1</span><span class="op" id="7281733">)</span><span class="op" id="7281734">)</span><span class="op" id="7281735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281740">x4</span>&nbsp;<span class="op" id="7281743">:=</span>&nbsp;<span class="builtinfunc" id="7281746">new</span><span class="op" id="7281749">(</span><span class="ident" id="7281750">Rat</span><span class="op" id="7281753">)</span><span class="op" id="7281754">.</span><span class="ident" id="7281755">SetInt</span><span class="op" id="7281761">(</span><span class="builtinfunc" id="7281762">new</span><span class="op" id="7281765">(</span><span class="ident" id="7281766">Int</span><span class="op" id="7281769">)</span><span class="op" id="7281770">.</span><span class="ident" id="7281771">Binomial</span><span class="op" id="7281779">(</span><span class="ident" id="7281780">int64</span><span class="op" id="7281785">(</span><span class="ident" id="7281786">i</span><span class="op" id="7281787">+</span><span class="ident" id="7281788">j</span><span class="op" id="7281789">)</span><span class="op" id="7281790">,</span>&nbsp;<span class="ident" id="7281792">int64</span><span class="op" id="7281797">(</span><span class="ident" id="7281798">i</span><span class="op" id="7281799">)</span><span class="op" id="7281800">)</span><span class="op" id="7281801">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281807">x1</span><span class="op" id="7281809">.</span><span class="ident" id="7281810">Mul</span><span class="op" id="7281813">(</span><span class="ident" id="7281814">x1</span><span class="op" id="7281816">,</span>&nbsp;<span class="ident" id="7281818">x2</span><span class="op" id="7281820">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281825">x1</span><span class="op" id="7281827">.</span><span class="ident" id="7281828">Mul</span><span class="op" id="7281831">(</span><span class="ident" id="7281832">x1</span><span class="op" id="7281834">,</span>&nbsp;<span class="ident" id="7281836">x3</span><span class="op" id="7281838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281843">x1</span><span class="op" id="7281845">.</span><span class="ident" id="7281846">Mul</span><span class="op" id="7281849">(</span><span class="ident" id="7281850">x1</span><span class="op" id="7281852">,</span>&nbsp;<span class="ident" id="7281854">x4</span><span class="op" id="7281856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281861">x1</span><span class="op" id="7281863">.</span><span class="ident" id="7281864">Mul</span><span class="op" id="7281867">(</span><span class="ident" id="7281868">x1</span><span class="op" id="7281870">,</span>&nbsp;<span class="ident" id="7281872">x4</span><span class="op" id="7281874">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281880">if</span>&nbsp;<span class="op" id="7281883">(</span><span class="ident" id="7281884">i</span><span class="op" id="7281885">+</span><span class="ident" id="7281886">j</span><span class="op" id="7281887">)</span><span class="op" id="7281888">&amp;</span><span class="num" id="7281889">1</span>&nbsp;<span class="op" id="7281891">!=</span>&nbsp;<span class="num" id="7281894">0</span>&nbsp;<span class="op" id="7281896">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281902">x1</span><span class="op" id="7281904">.</span><span class="ident" id="7281905">Neg</span><span class="op" id="7281908">(</span><span class="ident" id="7281909">x1</span><span class="op" id="7281911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7281922">a</span><span class="op" id="7281923">.</span><span class="ident" id="7281924">set</span><span class="op" id="7281927">(</span><span class="ident" id="7281928">i</span><span class="op" id="7281929">,</span>&nbsp;<span class="ident" id="7281931">j</span><span class="op" id="7281932">,</span>&nbsp;<span class="ident" id="7281934">x1</span><span class="op" id="7281936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281940">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7281943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7281946">return</span>&nbsp;<span class="ident" id="7281953">a</span><br>
<span class="lineno"></span><span class="op" id="7281955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7281958">func</span>&nbsp;<span class="op" id="7281963">(</span><span class="ident" id="7281964">a</span>&nbsp;<span class="op" id="7281966">*</span><span class="ident" id="7281967">matrix</span><span class="op" id="7281973">)</span>&nbsp;<span class="ident" id="7281975">mul</span><span class="op" id="7281978">(</span><span class="ident" id="7281979">b</span>&nbsp;<span class="op" id="7281981">*</span><span class="ident" id="7281982">matrix</span><span class="op" id="7281988">)</span>&nbsp;<span class="op" id="7281990">*</span><span class="ident" id="7281991">matrix</span>&nbsp;<span class="op" id="7281998">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282001">if</span>&nbsp;<span class="ident" id="7282004">a</span><span class="op" id="7282005">.</span><span class="ident" id="7282006">m</span>&nbsp;<span class="op" id="7282008">!=</span>&nbsp;<span class="ident" id="7282011">b</span><span class="op" id="7282012">.</span><span class="ident" id="7282013">n</span>&nbsp;<span class="op" id="7282015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7282019">panic</span><span class="op" id="7282024">(</span><span class="string" id="7282025">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7282050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282056">c</span>&nbsp;<span class="op" id="7282058">:=</span>&nbsp;<span class="ident" id="7282061">newMatrix</span><span class="op" id="7282070">(</span><span class="ident" id="7282071">a</span><span class="op" id="7282072">.</span><span class="ident" id="7282073">n</span><span class="op" id="7282074">,</span>&nbsp;<span class="ident" id="7282076">b</span><span class="op" id="7282077">.</span><span class="ident" id="7282078">m</span><span class="op" id="7282079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282082">for</span>&nbsp;<span class="ident" id="7282086">i</span>&nbsp;<span class="op" id="7282088">:=</span>&nbsp;<span class="num" id="7282091">0</span><span class="op" id="7282092">;</span>&nbsp;<span class="ident" id="7282094">i</span>&nbsp;<span class="op" id="7282096">&lt;</span>&nbsp;<span class="ident" id="7282098">c</span><span class="op" id="7282099">.</span><span class="ident" id="7282100">n</span><span class="op" id="7282101">;</span>&nbsp;<span class="ident" id="7282103">i</span><span class="op" id="7282104">++</span>&nbsp;<span class="op" id="7282107">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282111">for</span>&nbsp;<span class="ident" id="7282115">j</span>&nbsp;<span class="op" id="7282117">:=</span>&nbsp;<span class="num" id="7282120">0</span><span class="op" id="7282121">;</span>&nbsp;<span class="ident" id="7282123">j</span>&nbsp;<span class="op" id="7282125">&lt;</span>&nbsp;<span class="ident" id="7282127">c</span><span class="op" id="7282128">.</span><span class="ident" id="7282129">m</span><span class="op" id="7282130">;</span>&nbsp;<span class="ident" id="7282132">j</span><span class="op" id="7282133">++</span>&nbsp;<span class="op" id="7282136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282141">x</span>&nbsp;<span class="op" id="7282143">:=</span>&nbsp;<span class="ident" id="7282146">NewRat</span><span class="op" id="7282152">(</span><span class="num" id="7282153">0</span><span class="op" id="7282154">,</span>&nbsp;<span class="num" id="7282156">1</span><span class="op" id="7282157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282162">for</span>&nbsp;<span class="ident" id="7282166">k</span>&nbsp;<span class="op" id="7282168">:=</span>&nbsp;<span class="num" id="7282171">0</span><span class="op" id="7282172">;</span>&nbsp;<span class="ident" id="7282174">k</span>&nbsp;<span class="op" id="7282176">&lt;</span>&nbsp;<span class="ident" id="7282178">a</span><span class="op" id="7282179">.</span><span class="ident" id="7282180">m</span><span class="op" id="7282181">;</span>&nbsp;<span class="ident" id="7282183">k</span><span class="op" id="7282184">++</span>&nbsp;<span class="op" id="7282187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282193">x</span><span class="op" id="7282194">.</span><span class="ident" id="7282195">Add</span><span class="op" id="7282198">(</span><span class="ident" id="7282199">x</span><span class="op" id="7282200">,</span>&nbsp;<span class="builtinfunc" id="7282202">new</span><span class="op" id="7282205">(</span><span class="ident" id="7282206">Rat</span><span class="op" id="7282209">)</span><span class="op" id="7282210">.</span><span class="ident" id="7282211">Mul</span><span class="op" id="7282214">(</span><span class="ident" id="7282215">a</span><span class="op" id="7282216">.</span><span class="ident" id="7282217">at</span><span class="op" id="7282219">(</span><span class="ident" id="7282220">i</span><span class="op" id="7282221">,</span>&nbsp;<span class="ident" id="7282223">k</span><span class="op" id="7282224">)</span><span class="op" id="7282225">,</span>&nbsp;<span class="ident" id="7282227">b</span><span class="op" id="7282228">.</span><span class="ident" id="7282229">at</span><span class="op" id="7282231">(</span><span class="ident" id="7282232">k</span><span class="op" id="7282233">,</span>&nbsp;<span class="ident" id="7282235">j</span><span class="op" id="7282236">)</span><span class="op" id="7282237">)</span><span class="op" id="7282238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282243">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282248">c</span><span class="op" id="7282249">.</span><span class="ident" id="7282250">set</span><span class="op" id="7282253">(</span><span class="ident" id="7282254">i</span><span class="op" id="7282255">,</span>&nbsp;<span class="ident" id="7282257">j</span><span class="op" id="7282258">,</span>&nbsp;<span class="ident" id="7282260">x</span><span class="op" id="7282261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282271">return</span>&nbsp;<span class="ident" id="7282278">c</span><br>
<span class="lineno"></span><span class="op" id="7282280">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7282283">func</span>&nbsp;<span class="op" id="7282288">(</span><span class="ident" id="7282289">a</span>&nbsp;<span class="op" id="7282291">*</span><span class="ident" id="7282292">matrix</span><span class="op" id="7282298">)</span>&nbsp;<span class="ident" id="7282300">eql</span><span class="op" id="7282303">(</span><span class="ident" id="7282304">b</span>&nbsp;<span class="op" id="7282306">*</span><span class="ident" id="7282307">matrix</span><span class="op" id="7282313">)</span>&nbsp;<span class="builtintype" id="7282315">bool</span>&nbsp;<span class="op" id="7282320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282323">if</span>&nbsp;<span class="ident" id="7282326">a</span><span class="op" id="7282327">.</span><span class="ident" id="7282328">n</span>&nbsp;<span class="op" id="7282330">!=</span>&nbsp;<span class="ident" id="7282333">b</span><span class="op" id="7282334">.</span><span class="ident" id="7282335">n</span>&nbsp;<span class="op" id="7282337">||</span>&nbsp;<span class="ident" id="7282340">a</span><span class="op" id="7282341">.</span><span class="ident" id="7282342">m</span>&nbsp;<span class="op" id="7282344">!=</span>&nbsp;<span class="ident" id="7282347">b</span><span class="op" id="7282348">.</span><span class="ident" id="7282349">m</span>&nbsp;<span class="op" id="7282351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282355">return</span>&nbsp;<span class="builtintype" id="7282362">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282369">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282372">for</span>&nbsp;<span class="ident" id="7282376">i</span>&nbsp;<span class="op" id="7282378">:=</span>&nbsp;<span class="num" id="7282381">0</span><span class="op" id="7282382">;</span>&nbsp;<span class="ident" id="7282384">i</span>&nbsp;<span class="op" id="7282386">&lt;</span>&nbsp;<span class="ident" id="7282388">a</span><span class="op" id="7282389">.</span><span class="ident" id="7282390">n</span><span class="op" id="7282391">;</span>&nbsp;<span class="ident" id="7282393">i</span><span class="op" id="7282394">++</span>&nbsp;<span class="op" id="7282397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282401">for</span>&nbsp;<span class="ident" id="7282405">j</span>&nbsp;<span class="op" id="7282407">:=</span>&nbsp;<span class="num" id="7282410">0</span><span class="op" id="7282411">;</span>&nbsp;<span class="ident" id="7282413">j</span>&nbsp;<span class="op" id="7282415">&lt;</span>&nbsp;<span class="ident" id="7282417">a</span><span class="op" id="7282418">.</span><span class="ident" id="7282419">m</span><span class="op" id="7282420">;</span>&nbsp;<span class="ident" id="7282422">j</span><span class="op" id="7282423">++</span>&nbsp;<span class="op" id="7282426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282431">if</span>&nbsp;<span class="ident" id="7282434">a</span><span class="op" id="7282435">.</span><span class="ident" id="7282436">at</span><span class="op" id="7282438">(</span><span class="ident" id="7282439">i</span><span class="op" id="7282440">,</span>&nbsp;<span class="ident" id="7282442">j</span><span class="op" id="7282443">)</span><span class="op" id="7282444">.</span><span class="ident" id="7282445">Cmp</span><span class="op" id="7282448">(</span><span class="ident" id="7282449">b</span><span class="op" id="7282450">.</span><span class="ident" id="7282451">at</span><span class="op" id="7282453">(</span><span class="ident" id="7282454">i</span><span class="op" id="7282455">,</span>&nbsp;<span class="ident" id="7282457">j</span><span class="op" id="7282458">)</span><span class="op" id="7282459">)</span>&nbsp;<span class="op" id="7282461">!=</span>&nbsp;<span class="num" id="7282464">0</span>&nbsp;<span class="op" id="7282466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282472">return</span>&nbsp;<span class="builtintype" id="7282479">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282488">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282498">return</span>&nbsp;<span class="builtintype" id="7282505">true</span><br>
<span class="lineno"></span><span class="op" id="7282510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7282513">func</span>&nbsp;<span class="op" id="7282518">(</span><span class="ident" id="7282519">a</span>&nbsp;<span class="op" id="7282521">*</span><span class="ident" id="7282522">matrix</span><span class="op" id="7282528">)</span>&nbsp;<span class="ident" id="7282530">String</span><span class="op" id="7282536">(</span><span class="op" id="7282537">)</span>&nbsp;<span class="builtintype" id="7282539">string</span>&nbsp;<span class="op" id="7282546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282549">s</span>&nbsp;<span class="op" id="7282551">:=</span>&nbsp;<span class="string" id="7282554">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282558">for</span>&nbsp;<span class="ident" id="7282562">i</span>&nbsp;<span class="op" id="7282564">:=</span>&nbsp;<span class="num" id="7282567">0</span><span class="op" id="7282568">;</span>&nbsp;<span class="ident" id="7282570">i</span>&nbsp;<span class="op" id="7282572">&lt;</span>&nbsp;<span class="ident" id="7282574">a</span><span class="op" id="7282575">.</span><span class="ident" id="7282576">n</span><span class="op" id="7282577">;</span>&nbsp;<span class="ident" id="7282579">i</span><span class="op" id="7282580">++</span>&nbsp;<span class="op" id="7282583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282587">for</span>&nbsp;<span class="ident" id="7282591">j</span>&nbsp;<span class="op" id="7282593">:=</span>&nbsp;<span class="num" id="7282596">0</span><span class="op" id="7282597">;</span>&nbsp;<span class="ident" id="7282599">j</span>&nbsp;<span class="op" id="7282601">&lt;</span>&nbsp;<span class="ident" id="7282603">a</span><span class="op" id="7282604">.</span><span class="ident" id="7282605">m</span><span class="op" id="7282606">;</span>&nbsp;<span class="ident" id="7282608">j</span><span class="op" id="7282609">++</span>&nbsp;<span class="op" id="7282612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282617">s</span>&nbsp;<span class="op" id="7282619">+=</span>&nbsp;<span class="ident" id="7282622">fmt</span><span class="op" id="7282625">.</span><span class="ident" id="7282626">Sprintf</span><span class="op" id="7282633">(</span><span class="string" id="7282634">&#34;\t%s&#34;</span><span class="op" id="7282640">,</span>&nbsp;<span class="ident" id="7282642">a</span><span class="op" id="7282643">.</span><span class="ident" id="7282644">at</span><span class="op" id="7282646">(</span><span class="ident" id="7282647">i</span><span class="op" id="7282648">,</span>&nbsp;<span class="ident" id="7282650">j</span><span class="op" id="7282651">)</span><span class="op" id="7282652">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282660">s</span>&nbsp;<span class="op" id="7282662">+=</span>&nbsp;<span class="string" id="7282665">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282674">return</span>&nbsp;<span class="ident" id="7282681">s</span><br>
<span class="lineno"></span><span class="op" id="7282683">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7282686">func</span>&nbsp;<span class="ident" id="7282691">doHilbert</span><span class="op" id="7282700">(</span><span class="ident" id="7282701">t</span>&nbsp;<span class="op" id="7282703">*</span><span class="ident" id="7282704">testing</span><span class="op" id="7282711">.</span><span class="ident" id="7282712">T</span><span class="op" id="7282713">,</span>&nbsp;<span class="ident" id="7282715">n</span>&nbsp;<span class="builtintype" id="7282717">int</span><span class="op" id="7282720">)</span>&nbsp;<span class="op" id="7282722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282725">a</span>&nbsp;<span class="op" id="7282727">:=</span>&nbsp;<span class="ident" id="7282730">newHilbert</span><span class="op" id="7282740">(</span><span class="ident" id="7282741">n</span><span class="op" id="7282742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282745">b</span>&nbsp;<span class="op" id="7282747">:=</span>&nbsp;<span class="ident" id="7282750">newInverseHilbert</span><span class="op" id="7282767">(</span><span class="ident" id="7282768">n</span><span class="op" id="7282769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282772">I</span>&nbsp;<span class="op" id="7282774">:=</span>&nbsp;<span class="ident" id="7282777">newUnit</span><span class="op" id="7282784">(</span><span class="ident" id="7282785">n</span><span class="op" id="7282786">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282789">ab</span>&nbsp;<span class="op" id="7282792">:=</span>&nbsp;<span class="ident" id="7282795">a</span><span class="op" id="7282796">.</span><span class="ident" id="7282797">mul</span><span class="op" id="7282800">(</span><span class="ident" id="7282801">b</span><span class="op" id="7282802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282805">if</span>&nbsp;<span class="op" id="7282808">!</span><span class="ident" id="7282809">ab</span><span class="op" id="7282811">.</span><span class="ident" id="7282812">eql</span><span class="op" id="7282815">(</span><span class="ident" id="7282816">I</span><span class="op" id="7282817">)</span>&nbsp;<span class="op" id="7282819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7282823">if</span>&nbsp;<span class="ident" id="7282826">t</span>&nbsp;<span class="op" id="7282828">==</span>&nbsp;<span class="ident" id="7282831">nil</span>&nbsp;<span class="op" id="7282835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7282840">panic</span><span class="op" id="7282845">(</span><span class="string" id="7282846">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7282862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282866">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282870">t</span><span class="op" id="7282871">.</span><span class="ident" id="7282872">Errorf</span><span class="op" id="7282878">(</span><span class="string" id="7282879">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7282891">,</span>&nbsp;<span class="ident" id="7282893">a</span><span class="op" id="7282894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282898">t</span><span class="op" id="7282899">.</span><span class="ident" id="7282900">Errorf</span><span class="op" id="7282906">(</span><span class="string" id="7282907">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7282919">,</span>&nbsp;<span class="ident" id="7282921">b</span><span class="op" id="7282922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282926">t</span><span class="op" id="7282927">.</span><span class="ident" id="7282928">Errorf</span><span class="op" id="7282934">(</span><span class="string" id="7282935">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7282947">,</span>&nbsp;<span class="ident" id="7282949">ab</span><span class="op" id="7282951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7282955">t</span><span class="op" id="7282956">.</span><span class="ident" id="7282957">Errorf</span><span class="op" id="7282963">(</span><span class="string" id="7282964">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7282976">,</span>&nbsp;<span class="ident" id="7282978">I</span><span class="op" id="7282979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7282982">}</span><br>
<span class="lineno">150</span><span class="op" id="7282984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7282987">func</span>&nbsp;<span class="ident" id="7282992">TestHilbert</span><span class="op" id="7283003">(</span><span class="ident" id="7283004">t</span>&nbsp;<span class="op" id="7283006">*</span><span class="ident" id="7283007">testing</span><span class="op" id="7283014">.</span><span class="ident" id="7283015">T</span><span class="op" id="7283016">)</span>&nbsp;<span class="op" id="7283018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7283021">doHilbert</span><span class="op" id="7283030">(</span><span class="ident" id="7283031">t</span><span class="op" id="7283032">,</span>&nbsp;<span class="num" id="7283034">10</span><span class="op" id="7283036">)</span><br>
<span class="lineno"></span><span class="op" id="7283038">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7283041">func</span>&nbsp;<span class="ident" id="7283046">BenchmarkHilbert</span><span class="op" id="7283062">(</span><span class="ident" id="7283063">b</span>&nbsp;<span class="op" id="7283065">*</span><span class="ident" id="7283066">testing</span><span class="op" id="7283073">.</span><span class="ident" id="7283074">B</span><span class="op" id="7283075">)</span>&nbsp;<span class="op" id="7283077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7283080">for</span>&nbsp;<span class="ident" id="7283084">i</span>&nbsp;<span class="op" id="7283086">:=</span>&nbsp;<span class="num" id="7283089">0</span><span class="op" id="7283090">;</span>&nbsp;<span class="ident" id="7283092">i</span>&nbsp;<span class="op" id="7283094">&lt;</span>&nbsp;<span class="ident" id="7283096">b</span><span class="op" id="7283097">.</span><span class="ident" id="7283098">N</span><span class="op" id="7283099">;</span>&nbsp;<span class="ident" id="7283101">i</span><span class="op" id="7283102">++</span>&nbsp;<span class="op" id="7283105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7283109">doHilbert</span><span class="op" id="7283118">(</span><span class="ident" id="7283119">nil</span><span class="op" id="7283122">,</span>&nbsp;<span class="num" id="7283124">10</span><span class="op" id="7283126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7283129">}</span><br>
<span class="lineno">160</span><span class="op" id="7283131">}</span>
</div>
</body>
</html>
