<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/textproto</h2>
<ul>
<li><a href="/gostd/net/textproto/header.go.html">header.go</a></li>
<li><a href="/gostd/net/textproto/pipeline.go.html">pipeline.go</a></li>
<li><a href="/gostd/net/textproto/reader.go.html">reader.go</a></li>
<li><a href="/gostd/net/textproto/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/net/textproto/textproto.go.html">textproto.go</a></li>
<li><a href="/gostd/net/textproto/writer.go.html">writer.go</a></li>
<li><a href="/gostd/net/textproto/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3843373">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3843429">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3843483">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3843534">package</span>&nbsp;<span class="ident" id="3843542">textproto</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3843553">//&nbsp;A&nbsp;MIMEHeader&nbsp;represents&nbsp;a&nbsp;MIME-style&nbsp;header&nbsp;mapping</span><br>
<span class="lineno"></span><span class="comment" id="3843608">//&nbsp;keys&nbsp;to&nbsp;sets&nbsp;of&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="3843635">type</span>&nbsp;<span class="ident" id="3843640">MIMEHeader</span>&nbsp;<span class="keyword" id="3843651">map</span><span class="op" id="3843654">[</span><span class="builtintype" id="3843655">string</span><span class="op" id="3843661">]</span><span class="op" id="3843662">[</span><span class="op" id="3843663">]</span><span class="builtintype" id="3843664">string</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="3843672">//&nbsp;Add&nbsp;adds&nbsp;the&nbsp;key,&nbsp;value&nbsp;pair&nbsp;to&nbsp;the&nbsp;header.</span><br>
<span class="lineno"></span><span class="comment" id="3843719">//&nbsp;It&nbsp;appends&nbsp;to&nbsp;any&nbsp;existing&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="3843777">func</span>&nbsp;<span class="op" id="3843782">(</span><span class="ident" id="3843783">h</span>&nbsp;<span class="ident" id="3843785">MIMEHeader</span><span class="op" id="3843795">)</span>&nbsp;<span class="ident" id="3843797">Add</span><span class="op" id="3843800">(</span><span class="ident" id="3843801">key</span><span class="op" id="3843804">,</span>&nbsp;<span class="ident" id="3843806">value</span>&nbsp;<span class="builtintype" id="3843812">string</span><span class="op" id="3843818">)</span>&nbsp;<span class="op" id="3843820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3843823">key</span>&nbsp;<span class="op" id="3843827">=</span>&nbsp;<span class="ident" id="3843829">CanonicalMIMEHeaderKey</span><span class="op" id="3843851">(</span><span class="ident" id="3843852">key</span><span class="op" id="3843855">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3843858">h</span><span class="op" id="3843859">[</span><span class="ident" id="3843860">key</span><span class="op" id="3843863">]</span>&nbsp;<span class="op" id="3843865">=</span>&nbsp;<span class="builtinfunc" id="3843867">append</span><span class="op" id="3843873">(</span><span class="ident" id="3843874">h</span><span class="op" id="3843875">[</span><span class="ident" id="3843876">key</span><span class="op" id="3843879">]</span><span class="op" id="3843880">,</span>&nbsp;<span class="ident" id="3843882">value</span><span class="op" id="3843887">)</span><br>
<span class="lineno"></span><span class="op" id="3843889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3843892">//&nbsp;Set&nbsp;sets&nbsp;the&nbsp;header&nbsp;entries&nbsp;associated&nbsp;with&nbsp;key&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3843946">//&nbsp;the&nbsp;single&nbsp;element&nbsp;value.&nbsp;&nbsp;It&nbsp;replaces&nbsp;any&nbsp;existing</span><br>
<span class="lineno">20</span><span class="comment" id="3844001">//&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="3844032">func</span>&nbsp;<span class="op" id="3844037">(</span><span class="ident" id="3844038">h</span>&nbsp;<span class="ident" id="3844040">MIMEHeader</span><span class="op" id="3844050">)</span>&nbsp;<span class="ident" id="3844052">Set</span><span class="op" id="3844055">(</span><span class="ident" id="3844056">key</span><span class="op" id="3844059">,</span>&nbsp;<span class="ident" id="3844061">value</span>&nbsp;<span class="builtintype" id="3844067">string</span><span class="op" id="3844073">)</span>&nbsp;<span class="op" id="3844075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3844078">h</span><span class="op" id="3844079">[</span><span class="ident" id="3844080">CanonicalMIMEHeaderKey</span><span class="op" id="3844102">(</span><span class="ident" id="3844103">key</span><span class="op" id="3844106">)</span><span class="op" id="3844107">]</span>&nbsp;<span class="op" id="3844109">=</span>&nbsp;<span class="op" id="3844111">[</span><span class="op" id="3844112">]</span><span class="builtintype" id="3844113">string</span><span class="op" id="3844119">{</span><span class="ident" id="3844120">value</span><span class="op" id="3844125">}</span><br>
<span class="lineno"></span><span class="op" id="3844127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="3844130">//&nbsp;Get&nbsp;gets&nbsp;the&nbsp;first&nbsp;value&nbsp;associated&nbsp;with&nbsp;the&nbsp;given&nbsp;key.</span><br>
<span class="lineno"></span><span class="comment" id="3844189">//&nbsp;If&nbsp;there&nbsp;are&nbsp;no&nbsp;values&nbsp;associated&nbsp;with&nbsp;the&nbsp;key,&nbsp;Get&nbsp;returns&nbsp;&#34;&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3844256">//&nbsp;Get&nbsp;is&nbsp;a&nbsp;convenience&nbsp;method.&nbsp;&nbsp;For&nbsp;more&nbsp;complex&nbsp;queries,</span><br>
<span class="lineno"></span><span class="comment" id="3844315">//&nbsp;access&nbsp;the&nbsp;map&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="3844343">func</span>&nbsp;<span class="op" id="3844348">(</span><span class="ident" id="3844349">h</span>&nbsp;<span class="ident" id="3844351">MIMEHeader</span><span class="op" id="3844361">)</span>&nbsp;<span class="ident" id="3844363">Get</span><span class="op" id="3844366">(</span><span class="ident" id="3844367">key</span>&nbsp;<span class="builtintype" id="3844371">string</span><span class="op" id="3844377">)</span>&nbsp;<span class="builtintype" id="3844379">string</span>&nbsp;<span class="op" id="3844386">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3844389">if</span>&nbsp;<span class="ident" id="3844392">h</span>&nbsp;<span class="op" id="3844394">==</span>&nbsp;<span class="ident" id="3844397">nil</span>&nbsp;<span class="op" id="3844401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3844405">return</span>&nbsp;<span class="string" id="3844412">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3844416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3844419">v</span>&nbsp;<span class="op" id="3844421">:=</span>&nbsp;<span class="ident" id="3844424">h</span><span class="op" id="3844425">[</span><span class="ident" id="3844426">CanonicalMIMEHeaderKey</span><span class="op" id="3844448">(</span><span class="ident" id="3844449">key</span><span class="op" id="3844452">)</span><span class="op" id="3844453">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3844456">if</span>&nbsp;<span class="builtinfunc" id="3844459">len</span><span class="op" id="3844462">(</span><span class="ident" id="3844463">v</span><span class="op" id="3844464">)</span>&nbsp;<span class="op" id="3844466">==</span>&nbsp;<span class="num" id="3844469">0</span>&nbsp;<span class="op" id="3844471">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3844475">return</span>&nbsp;<span class="string" id="3844482">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3844486">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3844489">return</span>&nbsp;<span class="ident" id="3844496">v</span><span class="op" id="3844497">[</span><span class="num" id="3844498">0</span><span class="op" id="3844499">]</span><br>
<span class="lineno"></span><span class="op" id="3844501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="3844504">//&nbsp;Del&nbsp;deletes&nbsp;the&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="3844551">func</span>&nbsp;<span class="op" id="3844556">(</span><span class="ident" id="3844557">h</span>&nbsp;<span class="ident" id="3844559">MIMEHeader</span><span class="op" id="3844569">)</span>&nbsp;<span class="ident" id="3844571">Del</span><span class="op" id="3844574">(</span><span class="ident" id="3844575">key</span>&nbsp;<span class="builtintype" id="3844579">string</span><span class="op" id="3844585">)</span>&nbsp;<span class="op" id="3844587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3844590">delete</span><span class="op" id="3844596">(</span><span class="ident" id="3844597">h</span><span class="op" id="3844598">,</span>&nbsp;<span class="ident" id="3844600">CanonicalMIMEHeaderKey</span><span class="op" id="3844622">(</span><span class="ident" id="3844623">key</span><span class="op" id="3844626">)</span><span class="op" id="3844627">)</span><br>
<span class="lineno"></span><span class="op" id="3844629">}</span>
</div>
</body>
</html>
