<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html" class="current">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7753789">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7753844">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7753898">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7753949">package</span>&nbsp;<span class="ident" id="7753957">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7753963">import</span>&nbsp;<span class="op" id="7753970">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7753973">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7753982">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7753988">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7753999">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7754009">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7754012">func</span>&nbsp;<span class="ident" id="7754017">TestBodyReadBadTrailer</span><span class="op" id="7754039">(</span><span class="ident" id="7754040">t</span>&nbsp;<span class="op" id="7754042">*</span><span class="ident" id="7754043">testing</span><span class="op" id="7754050">.</span><span class="ident" id="7754051">T</span><span class="op" id="7754052">)</span>&nbsp;<span class="op" id="7754054">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754057">b</span>&nbsp;<span class="op" id="7754059">:=</span>&nbsp;<span class="op" id="7754062">&amp;</span><span class="ident" id="7754063">body</span><span class="op" id="7754067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754071">src</span><span class="op" id="7754074">:</span>&nbsp;<span class="ident" id="7754076">strings</span><span class="op" id="7754083">.</span><span class="ident" id="7754084">NewReader</span><span class="op" id="7754093">(</span><span class="string" id="7754094">&#34;foobar&#34;</span><span class="op" id="7754102">)</span><span class="op" id="7754103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754107">hdr</span><span class="op" id="7754110">:</span>&nbsp;<span class="builtintype" id="7754112">true</span><span class="op" id="7754116">,</span>&nbsp;<span class="comment" id="7754118">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754149">r</span><span class="op" id="7754150">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7754154">bufio</span><span class="op" id="7754159">.</span><span class="ident" id="7754160">NewReader</span><span class="op" id="7754169">(</span><span class="ident" id="7754170">strings</span><span class="op" id="7754177">.</span><span class="ident" id="7754178">NewReader</span><span class="op" id="7754187">(</span><span class="string" id="7754188">&#34;&#34;</span><span class="op" id="7754190">)</span><span class="op" id="7754191">)</span><span class="op" id="7754192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754195">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754198">buf</span>&nbsp;<span class="op" id="7754202">:=</span>&nbsp;<span class="builtinfunc" id="7754205">make</span><span class="op" id="7754209">(</span><span class="op" id="7754210">[</span><span class="op" id="7754211">]</span><span class="builtintype" id="7754212">byte</span><span class="op" id="7754216">,</span>&nbsp;<span class="num" id="7754218">7</span><span class="op" id="7754219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754222">n</span><span class="op" id="7754223">,</span>&nbsp;<span class="ident" id="7754225">err</span>&nbsp;<span class="op" id="7754229">:=</span>&nbsp;<span class="ident" id="7754232">b</span><span class="op" id="7754233">.</span><span class="ident" id="7754234">Read</span><span class="op" id="7754238">(</span><span class="ident" id="7754239">buf</span><span class="op" id="7754242">[</span><span class="op" id="7754243">:</span><span class="num" id="7754244">3</span><span class="op" id="7754245">]</span><span class="op" id="7754246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754249">got</span>&nbsp;<span class="op" id="7754253">:=</span>&nbsp;<span class="builtintype" id="7754256">string</span><span class="op" id="7754262">(</span><span class="ident" id="7754263">buf</span><span class="op" id="7754266">[</span><span class="op" id="7754267">:</span><span class="ident" id="7754268">n</span><span class="op" id="7754269">]</span><span class="op" id="7754270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7754273">if</span>&nbsp;<span class="ident" id="7754276">got</span>&nbsp;<span class="op" id="7754280">!=</span>&nbsp;<span class="string" id="7754283">&#34;foo&#34;</span>&nbsp;<span class="op" id="7754289">||</span>&nbsp;<span class="ident" id="7754292">err</span>&nbsp;<span class="op" id="7754296">!=</span>&nbsp;<span class="builtintype" id="7754299">nil</span>&nbsp;<span class="op" id="7754303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754307">t</span><span class="op" id="7754308">.</span><span class="ident" id="7754309">Fatalf</span><span class="op" id="7754315">(</span><span class="string" id="7754316">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="7754358">,</span>&nbsp;<span class="ident" id="7754360">n</span><span class="op" id="7754361">,</span>&nbsp;<span class="ident" id="7754363">got</span><span class="op" id="7754366">,</span>&nbsp;<span class="ident" id="7754368">err</span><span class="op" id="7754371">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754378">n</span><span class="op" id="7754379">,</span>&nbsp;<span class="ident" id="7754381">err</span>&nbsp;<span class="op" id="7754385">=</span>&nbsp;<span class="ident" id="7754387">b</span><span class="op" id="7754388">.</span><span class="ident" id="7754389">Read</span><span class="op" id="7754393">(</span><span class="ident" id="7754394">buf</span><span class="op" id="7754397">[</span><span class="op" id="7754398">:</span><span class="op" id="7754399">]</span><span class="op" id="7754400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754403">got</span>&nbsp;<span class="op" id="7754407">=</span>&nbsp;<span class="builtintype" id="7754409">string</span><span class="op" id="7754415">(</span><span class="ident" id="7754416">buf</span><span class="op" id="7754419">[</span><span class="op" id="7754420">:</span><span class="ident" id="7754421">n</span><span class="op" id="7754422">]</span><span class="op" id="7754423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7754426">if</span>&nbsp;<span class="ident" id="7754429">got</span>&nbsp;<span class="op" id="7754433">!=</span>&nbsp;<span class="string" id="7754436">&#34;bar&#34;</span>&nbsp;<span class="op" id="7754442">||</span>&nbsp;<span class="ident" id="7754445">err</span>&nbsp;<span class="op" id="7754449">!=</span>&nbsp;<span class="builtintype" id="7754452">nil</span>&nbsp;<span class="op" id="7754456">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754460">t</span><span class="op" id="7754461">.</span><span class="ident" id="7754462">Fatalf</span><span class="op" id="7754468">(</span><span class="string" id="7754469">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="7754512">,</span>&nbsp;<span class="ident" id="7754514">n</span><span class="op" id="7754515">,</span>&nbsp;<span class="ident" id="7754517">got</span><span class="op" id="7754520">,</span>&nbsp;<span class="ident" id="7754522">err</span><span class="op" id="7754525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754532">n</span><span class="op" id="7754533">,</span>&nbsp;<span class="ident" id="7754535">err</span>&nbsp;<span class="op" id="7754539">=</span>&nbsp;<span class="ident" id="7754541">b</span><span class="op" id="7754542">.</span><span class="ident" id="7754543">Read</span><span class="op" id="7754547">(</span><span class="ident" id="7754548">buf</span><span class="op" id="7754551">[</span><span class="op" id="7754552">:</span><span class="op" id="7754553">]</span><span class="op" id="7754554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754557">got</span>&nbsp;<span class="op" id="7754561">=</span>&nbsp;<span class="builtintype" id="7754563">string</span><span class="op" id="7754569">(</span><span class="ident" id="7754570">buf</span><span class="op" id="7754573">[</span><span class="op" id="7754574">:</span><span class="ident" id="7754575">n</span><span class="op" id="7754576">]</span><span class="op" id="7754577">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7754580">if</span>&nbsp;<span class="ident" id="7754583">err</span>&nbsp;<span class="op" id="7754587">==</span>&nbsp;<span class="builtintype" id="7754590">nil</span>&nbsp;<span class="op" id="7754594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754598">t</span><span class="op" id="7754599">.</span><span class="ident" id="7754600">Errorf</span><span class="op" id="7754606">(</span><span class="string" id="7754607">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="7754673">,</span>&nbsp;<span class="ident" id="7754675">got</span><span class="op" id="7754678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7754681">}</span><br>
<span class="lineno"></span><span class="op" id="7754683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7754686">func</span>&nbsp;<span class="ident" id="7754691">TestFinalChunkedBodyReadEOF</span><span class="op" id="7754718">(</span><span class="ident" id="7754719">t</span>&nbsp;<span class="op" id="7754721">*</span><span class="ident" id="7754722">testing</span><span class="op" id="7754729">.</span><span class="ident" id="7754730">T</span><span class="op" id="7754731">)</span>&nbsp;<span class="op" id="7754733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754736">res</span><span class="op" id="7754739">,</span>&nbsp;<span class="ident" id="7754741">err</span>&nbsp;<span class="op" id="7754745">:=</span>&nbsp;<span class="ident" id="7754748">ReadResponse</span><span class="op" id="7754760">(</span><span class="ident" id="7754761">bufio</span><span class="op" id="7754766">.</span><span class="ident" id="7754767">NewReader</span><span class="op" id="7754776">(</span><span class="ident" id="7754777">strings</span><span class="op" id="7754784">.</span><span class="ident" id="7754785">NewReader</span><span class="op" id="7754794">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754798">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="7754819">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754824">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="7754856">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754861">&#34;\r\n&#34;</span><span class="op" id="7754867">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754872">&#34;0a\r\n&#34;</span><span class="op" id="7754880">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754885">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="7754902">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754907">&#34;09\r\n&#34;</span><span class="op" id="7754915">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754920">&#34;continued\r\n&#34;</span><span class="op" id="7754935">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754940">&#34;0\r\n&#34;</span><span class="op" id="7754947">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7754952">&#34;\r\n&#34;</span><span class="op" id="7754958">)</span><span class="op" id="7754959">)</span><span class="op" id="7754960">,</span>&nbsp;<span class="builtintype" id="7754962">nil</span><span class="op" id="7754965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7754968">if</span>&nbsp;<span class="ident" id="7754971">err</span>&nbsp;<span class="op" id="7754975">!=</span>&nbsp;<span class="builtintype" id="7754978">nil</span>&nbsp;<span class="op" id="7754982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7754986">t</span><span class="op" id="7754987">.</span><span class="ident" id="7754988">Fatal</span><span class="op" id="7754993">(</span><span class="ident" id="7754994">err</span><span class="op" id="7754997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755003">want</span>&nbsp;<span class="op" id="7755008">:=</span>&nbsp;<span class="string" id="7755011">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755035">buf</span>&nbsp;<span class="op" id="7755039">:=</span>&nbsp;<span class="builtinfunc" id="7755042">make</span><span class="op" id="7755046">(</span><span class="op" id="7755047">[</span><span class="op" id="7755048">]</span><span class="builtintype" id="7755049">byte</span><span class="op" id="7755053">,</span>&nbsp;<span class="builtinfunc" id="7755055">len</span><span class="op" id="7755058">(</span><span class="ident" id="7755059">want</span><span class="op" id="7755063">)</span><span class="op" id="7755064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755067">n</span><span class="op" id="7755068">,</span>&nbsp;<span class="ident" id="7755070">err</span>&nbsp;<span class="op" id="7755074">:=</span>&nbsp;<span class="ident" id="7755077">res</span><span class="op" id="7755080">.</span><span class="ident" id="7755081">Body</span><span class="op" id="7755085">.</span><span class="ident" id="7755086">Read</span><span class="op" id="7755090">(</span><span class="ident" id="7755091">buf</span><span class="op" id="7755094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7755097">if</span>&nbsp;<span class="ident" id="7755100">n</span>&nbsp;<span class="op" id="7755102">!=</span>&nbsp;<span class="builtinfunc" id="7755105">len</span><span class="op" id="7755108">(</span><span class="ident" id="7755109">want</span><span class="op" id="7755113">)</span>&nbsp;<span class="op" id="7755115">||</span>&nbsp;<span class="ident" id="7755118">err</span>&nbsp;<span class="op" id="7755122">!=</span>&nbsp;<span class="ident" id="7755125">io</span><span class="op" id="7755127">.</span><span class="ident" id="7755128">EOF</span>&nbsp;<span class="op" id="7755132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755136">t</span><span class="op" id="7755137">.</span><span class="ident" id="7755138">Logf</span><span class="op" id="7755142">(</span><span class="string" id="7755143">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="7755155">,</span>&nbsp;<span class="ident" id="7755157">res</span><span class="op" id="7755160">.</span><span class="ident" id="7755161">Body</span><span class="op" id="7755165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755169">t</span><span class="op" id="7755170">.</span><span class="ident" id="7755171">Errorf</span><span class="op" id="7755177">(</span><span class="string" id="7755178">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="7755207">,</span>&nbsp;<span class="ident" id="7755209">n</span><span class="op" id="7755210">,</span>&nbsp;<span class="ident" id="7755212">err</span><span class="op" id="7755215">,</span>&nbsp;<span class="builtinfunc" id="7755217">len</span><span class="op" id="7755220">(</span><span class="ident" id="7755221">want</span><span class="op" id="7755225">)</span><span class="op" id="7755226">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7755232">if</span>&nbsp;<span class="builtintype" id="7755235">string</span><span class="op" id="7755241">(</span><span class="ident" id="7755242">buf</span><span class="op" id="7755245">)</span>&nbsp;<span class="op" id="7755247">!=</span>&nbsp;<span class="ident" id="7755250">want</span>&nbsp;<span class="op" id="7755255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7755259">t</span><span class="op" id="7755260">.</span><span class="ident" id="7755261">Errorf</span><span class="op" id="7755267">(</span><span class="string" id="7755268">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7755287">,</span>&nbsp;<span class="ident" id="7755289">buf</span><span class="op" id="7755292">,</span>&nbsp;<span class="ident" id="7755294">want</span><span class="op" id="7755298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7755301">}</span><br>
<span class="lineno"></span><span class="op" id="7755303">}</span>
</div>
</body>
</html>
