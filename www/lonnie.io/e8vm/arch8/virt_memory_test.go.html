<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="8582954">package</span>&nbsp;<span class="ident" id="8582962">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8582969">import</span>&nbsp;<span class="op" id="8582976">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8582979">&#34;testing&#34;</span><br>
<span class="lineno">5</span><span class="op" id="8582989">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8582992">func</span>&nbsp;<span class="ident" id="8582997">TestVirtMemory</span><span class="op" id="8583011">(</span><span class="ident" id="8583012">t</span>&nbsp;<span class="op" id="8583014">*</span><span class="ident" id="8583015">testing</span><span class="op" id="8583022">.</span><span class="ident" id="8583023">T</span><span class="op" id="8583024">)</span>&nbsp;<span class="op" id="8583026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583029">as</span>&nbsp;<span class="op" id="8583032">:=</span>&nbsp;<span class="keyword" id="8583035">func</span><span class="op" id="8583039">(</span><span class="ident" id="8583040">cond</span>&nbsp;<span class="builtintype" id="8583045">bool</span><span class="op" id="8583049">,</span>&nbsp;<span class="ident" id="8583051">s</span>&nbsp;<span class="builtintype" id="8583053">string</span><span class="op" id="8583059">,</span>&nbsp;<span class="ident" id="8583061">args</span>&nbsp;<span class="op" id="8583066">...</span><span class="keyword" id="8583069">interface</span><span class="op" id="8583078">{</span><span class="op" id="8583079">}</span><span class="op" id="8583080">)</span>&nbsp;<span class="op" id="8583082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8583086">if</span>&nbsp;<span class="op" id="8583089">!</span><span class="ident" id="8583090">cond</span>&nbsp;<span class="op" id="8583095">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583100">t</span><span class="op" id="8583101">.</span><span class="ident" id="8583102">Fatalf</span><span class="op" id="8583108">(</span><span class="ident" id="8583109">s</span><span class="op" id="8583110">,</span>&nbsp;<span class="ident" id="8583112">args</span><span class="op" id="8583116">...</span><span class="op" id="8583119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8583123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8583126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583130">eo</span>&nbsp;<span class="op" id="8583133">:=</span>&nbsp;<span class="keyword" id="8583136">func</span><span class="op" id="8583140">(</span><span class="ident" id="8583141">cond</span>&nbsp;<span class="builtintype" id="8583146">bool</span><span class="op" id="8583150">,</span>&nbsp;<span class="ident" id="8583152">s</span>&nbsp;<span class="builtintype" id="8583154">string</span><span class="op" id="8583160">,</span>&nbsp;<span class="ident" id="8583162">args</span>&nbsp;<span class="op" id="8583167">...</span><span class="keyword" id="8583170">interface</span><span class="op" id="8583179">{</span><span class="op" id="8583180">}</span><span class="op" id="8583181">)</span>&nbsp;<span class="op" id="8583183">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8583187">if</span>&nbsp;<span class="ident" id="8583190">cond</span>&nbsp;<span class="op" id="8583195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583200">t</span><span class="op" id="8583201">.</span><span class="ident" id="8583202">Fatalf</span><span class="op" id="8583208">(</span><span class="ident" id="8583209">s</span><span class="op" id="8583210">,</span>&nbsp;<span class="ident" id="8583212">args</span><span class="op" id="8583216">...</span><span class="op" id="8583219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8583223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8583226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583230">m</span>&nbsp;<span class="op" id="8583232">:=</span>&nbsp;<span class="ident" id="8583235">newPhyMemory</span><span class="op" id="8583247">(</span><span class="num" id="8583248">8</span>&nbsp;<span class="op" id="8583250">*</span>&nbsp;<span class="ident" id="8583252">PageSize</span><span class="op" id="8583260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583263">p1</span>&nbsp;<span class="op" id="8583266">:=</span>&nbsp;<span class="ident" id="8583269">m</span><span class="op" id="8583270">.</span><span class="ident" id="8583271">Page</span><span class="op" id="8583275">(</span><span class="num" id="8583276">1</span><span class="op" id="8583277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583280">p2</span>&nbsp;<span class="op" id="8583283">:=</span>&nbsp;<span class="ident" id="8583286">m</span><span class="op" id="8583287">.</span><span class="ident" id="8583288">Page</span><span class="op" id="8583292">(</span><span class="num" id="8583293">2</span><span class="op" id="8583294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583297">p3</span>&nbsp;<span class="op" id="8583300">:=</span>&nbsp;<span class="ident" id="8583303">m</span><span class="op" id="8583304">.</span><span class="ident" id="8583305">Page</span><span class="op" id="8583309">(</span><span class="num" id="8583310">3</span><span class="op" id="8583311">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583315">pte1</span>&nbsp;<span class="op" id="8583320">:=</span>&nbsp;<span class="ident" id="8583323">ptEntry</span><span class="op" id="8583330">(</span><span class="num" id="8583331">2</span>&nbsp;<span class="op" id="8583333">*</span>&nbsp;<span class="ident" id="8583335">PageSize</span><span class="op" id="8583343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583346">pte1</span><span class="op" id="8583350">.</span><span class="ident" id="8583351">setBit</span><span class="op" id="8583357">(</span><span class="ident" id="8583358">pteValid</span><span class="op" id="8583366">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583370">p1</span><span class="op" id="8583372">.</span><span class="ident" id="8583373">WriteWord</span><span class="op" id="8583382">(</span><span class="num" id="8583383">0</span><span class="op" id="8583384">,</span>&nbsp;<span class="builtintype" id="8583386">uint32</span><span class="op" id="8583392">(</span><span class="ident" id="8583393">pte1</span><span class="op" id="8583397">)</span><span class="op" id="8583398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583401">pte1</span>&nbsp;<span class="op" id="8583406">+=</span>&nbsp;<span class="ident" id="8583409">PageSize</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583419">p1</span><span class="op" id="8583421">.</span><span class="ident" id="8583422">WriteWord</span><span class="op" id="8583431">(</span><span class="num" id="8583432">4</span><span class="op" id="8583433">*</span><span class="num" id="8583434">10</span><span class="op" id="8583436">,</span>&nbsp;<span class="builtintype" id="8583438">uint32</span><span class="op" id="8583444">(</span><span class="ident" id="8583445">pte1</span><span class="op" id="8583449">)</span><span class="op" id="8583450">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8583454">for</span>&nbsp;<span class="ident" id="8583458">i</span>&nbsp;<span class="op" id="8583460">:=</span>&nbsp;<span class="builtintype" id="8583463">uint32</span><span class="op" id="8583469">(</span><span class="num" id="8583470">0</span><span class="op" id="8583471">)</span><span class="op" id="8583472">;</span>&nbsp;<span class="ident" id="8583474">i</span>&nbsp;<span class="op" id="8583476">&lt;</span>&nbsp;<span class="num" id="8583478">4</span><span class="op" id="8583479">;</span>&nbsp;<span class="ident" id="8583481">i</span><span class="op" id="8583482">++</span>&nbsp;<span class="op" id="8583485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583489">pte</span>&nbsp;<span class="op" id="8583493">:=</span>&nbsp;<span class="ident" id="8583496">ptEntry</span><span class="op" id="8583503">(</span><span class="op" id="8583504">(</span><span class="ident" id="8583505">i</span>&nbsp;<span class="op" id="8583507">+</span>&nbsp;<span class="num" id="8583509">4</span><span class="op" id="8583510">)</span>&nbsp;<span class="op" id="8583512">*</span>&nbsp;<span class="ident" id="8583514">PageSize</span><span class="op" id="8583522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583526">pte</span><span class="op" id="8583529">.</span><span class="ident" id="8583530">setBit</span><span class="op" id="8583536">(</span><span class="ident" id="8583537">pteValid</span><span class="op" id="8583545">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583549">p2</span><span class="op" id="8583551">.</span><span class="ident" id="8583552">WriteWord</span><span class="op" id="8583561">(</span><span class="num" id="8583562">4</span><span class="op" id="8583563">*</span><span class="ident" id="8583564">i</span><span class="op" id="8583565">,</span>&nbsp;<span class="builtintype" id="8583567">uint32</span><span class="op" id="8583573">(</span><span class="ident" id="8583574">pte</span><span class="op" id="8583577">)</span><span class="op" id="8583578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583582">p3</span><span class="op" id="8583584">.</span><span class="ident" id="8583585">WriteWord</span><span class="op" id="8583594">(</span><span class="num" id="8583595">4</span><span class="op" id="8583596">*</span><span class="op" id="8583597">(</span><span class="num" id="8583598">3</span><span class="op" id="8583599">-</span><span class="ident" id="8583600">i</span><span class="op" id="8583601">)</span><span class="op" id="8583602">,</span>&nbsp;<span class="builtintype" id="8583604">uint32</span><span class="op" id="8583610">(</span><span class="ident" id="8583611">pte</span><span class="op" id="8583614">)</span><span class="op" id="8583615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8583618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583622">vm</span>&nbsp;<span class="op" id="8583625">:=</span>&nbsp;<span class="ident" id="8583628">newVirtMemory</span><span class="op" id="8583641">(</span><span class="ident" id="8583642">m</span><span class="op" id="8583643">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583646">vm</span><span class="op" id="8583648">.</span><span class="ident" id="8583649">SetTable</span><span class="op" id="8583657">(</span><span class="ident" id="8583658">PageSize</span><span class="op" id="8583666">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8583670">//&nbsp;page&nbsp;0,&nbsp;1,&nbsp;2,&nbsp;3&nbsp;is&nbsp;mapped&nbsp;to&nbsp;4,&nbsp;5,&nbsp;6,&nbsp;7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8583714">//&nbsp;page&nbsp;B+0,&nbsp;B+1,&nbsp;B+2,&nbsp;B+3&nbsp;is&nbsp;mapped&nbsp;to&nbsp;7,&nbsp;6,&nbsp;5,&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8583766">//&nbsp;where&nbsp;B&nbsp;=&nbsp;10&nbsp;*&nbsp;1024</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583790">w</span>&nbsp;<span class="op" id="8583792">:=</span>&nbsp;<span class="builtintype" id="8583795">uint32</span><span class="op" id="8583801">(</span><span class="num" id="8583802">0x37215a40</span><span class="op" id="8583812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583815">off</span>&nbsp;<span class="op" id="8583819">:=</span>&nbsp;<span class="builtintype" id="8583822">uint32</span><span class="op" id="8583828">(</span><span class="num" id="8583829">324</span><span class="op" id="8583832">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8583836">for</span>&nbsp;<span class="ident" id="8583840">i</span>&nbsp;<span class="op" id="8583842">:=</span>&nbsp;<span class="builtintype" id="8583845">uint32</span><span class="op" id="8583851">(</span><span class="num" id="8583852">0</span><span class="op" id="8583853">)</span><span class="op" id="8583854">;</span>&nbsp;<span class="ident" id="8583856">i</span>&nbsp;<span class="op" id="8583858">&lt;</span>&nbsp;<span class="num" id="8583860">4</span><span class="op" id="8583861">;</span>&nbsp;<span class="ident" id="8583863">i</span><span class="op" id="8583864">++</span>&nbsp;<span class="op" id="8583867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583871">wd</span>&nbsp;<span class="op" id="8583874">:=</span>&nbsp;<span class="ident" id="8583877">w</span>&nbsp;<span class="op" id="8583879">+</span>&nbsp;<span class="ident" id="8583881">i</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583885">e</span>&nbsp;<span class="op" id="8583887">:=</span>&nbsp;<span class="ident" id="8583890">vm</span><span class="op" id="8583892">.</span><span class="ident" id="8583893">WriteWord</span><span class="op" id="8583902">(</span><span class="ident" id="8583903">off</span><span class="op" id="8583906">+</span><span class="ident" id="8583907">i</span><span class="op" id="8583908">*</span><span class="ident" id="8583909">PageSize</span><span class="op" id="8583917">,</span>&nbsp;<span class="num" id="8583919">0</span><span class="op" id="8583920">,</span>&nbsp;<span class="ident" id="8583922">wd</span><span class="op" id="8583924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583928">as</span><span class="op" id="8583930">(</span><span class="ident" id="8583931">e</span>&nbsp;<span class="op" id="8583933">==</span>&nbsp;<span class="ident" id="8583936">nil</span><span class="op" id="8583939">,</span>&nbsp;<span class="string" id="8583941">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8583958">,</span>&nbsp;<span class="ident" id="8583960">e</span><span class="op" id="8583961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8583965">w2</span><span class="op" id="8583967">,</span>&nbsp;<span class="ident" id="8583969">e</span>&nbsp;<span class="op" id="8583971">:=</span>&nbsp;<span class="ident" id="8583974">vm</span><span class="op" id="8583976">.</span><span class="ident" id="8583977">ReadWord</span><span class="op" id="8583985">(</span><span class="op" id="8583986">(</span><span class="num" id="8583987">10</span><span class="op" id="8583989">*</span><span class="num" id="8583990">1024</span><span class="op" id="8583994">+</span><span class="op" id="8583995">(</span><span class="num" id="8583996">3</span><span class="op" id="8583997">-</span><span class="ident" id="8583998">i</span><span class="op" id="8583999">)</span><span class="op" id="8584000">)</span><span class="op" id="8584001">*</span><span class="ident" id="8584002">PageSize</span><span class="op" id="8584010">+</span><span class="ident" id="8584011">off</span><span class="op" id="8584014">,</span>&nbsp;<span class="num" id="8584016">0</span><span class="op" id="8584017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584021">as</span><span class="op" id="8584023">(</span><span class="ident" id="8584024">e</span>&nbsp;<span class="op" id="8584026">==</span>&nbsp;<span class="ident" id="8584029">nil</span><span class="op" id="8584032">,</span>&nbsp;<span class="string" id="8584034">&#34;read&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8584050">,</span>&nbsp;<span class="ident" id="8584052">e</span><span class="op" id="8584053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584057">eo</span><span class="op" id="8584059">(</span><span class="ident" id="8584060">w2</span>&nbsp;<span class="op" id="8584063">!=</span>&nbsp;<span class="ident" id="8584066">wd</span><span class="op" id="8584068">,</span>&nbsp;<span class="string" id="8584070">&#34;expect&nbsp;0x%08x,&nbsp;got&nbsp;0x%08x&#34;</span><span class="op" id="8584097">,</span>&nbsp;<span class="ident" id="8584099">wd</span><span class="op" id="8584101">,</span>&nbsp;<span class="ident" id="8584103">w2</span><span class="op" id="8584105">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8584108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584112">b</span>&nbsp;<span class="op" id="8584114">:=</span>&nbsp;<span class="builtintype" id="8584117">byte</span><span class="op" id="8584121">(</span><span class="num" id="8584122">0x54</span><span class="op" id="8584126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584129">off</span>&nbsp;<span class="op" id="8584133">=</span>&nbsp;<span class="num" id="8584135">575</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8584140">for</span>&nbsp;<span class="ident" id="8584144">i</span>&nbsp;<span class="op" id="8584146">:=</span>&nbsp;<span class="builtintype" id="8584149">uint32</span><span class="op" id="8584155">(</span><span class="num" id="8584156">0</span><span class="op" id="8584157">)</span><span class="op" id="8584158">;</span>&nbsp;<span class="ident" id="8584160">i</span>&nbsp;<span class="op" id="8584162">&lt;</span>&nbsp;<span class="num" id="8584164">4</span><span class="op" id="8584165">;</span>&nbsp;<span class="ident" id="8584167">i</span><span class="op" id="8584168">++</span>&nbsp;<span class="op" id="8584171">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584175">bt</span>&nbsp;<span class="op" id="8584178">:=</span>&nbsp;<span class="ident" id="8584181">b</span>&nbsp;<span class="op" id="8584183">+</span>&nbsp;<span class="builtintype" id="8584185">byte</span><span class="op" id="8584189">(</span><span class="ident" id="8584190">i</span><span class="op" id="8584191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584195">e</span>&nbsp;<span class="op" id="8584197">:=</span>&nbsp;<span class="ident" id="8584200">vm</span><span class="op" id="8584202">.</span><span class="ident" id="8584203">WriteByte</span><span class="op" id="8584212">(</span><span class="ident" id="8584213">off</span><span class="op" id="8584216">+</span><span class="ident" id="8584217">i</span><span class="op" id="8584218">*</span><span class="ident" id="8584219">PageSize</span><span class="op" id="8584227">,</span>&nbsp;<span class="num" id="8584229">0</span><span class="op" id="8584230">,</span>&nbsp;<span class="ident" id="8584232">bt</span><span class="op" id="8584234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584238">as</span><span class="op" id="8584240">(</span><span class="ident" id="8584241">e</span>&nbsp;<span class="op" id="8584243">==</span>&nbsp;<span class="ident" id="8584246">nil</span><span class="op" id="8584249">,</span>&nbsp;<span class="string" id="8584251">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8584268">,</span>&nbsp;<span class="ident" id="8584270">e</span><span class="op" id="8584271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584275">b2</span><span class="op" id="8584277">,</span>&nbsp;<span class="ident" id="8584279">e</span>&nbsp;<span class="op" id="8584281">:=</span>&nbsp;<span class="ident" id="8584284">vm</span><span class="op" id="8584286">.</span><span class="ident" id="8584287">ReadByte</span><span class="op" id="8584295">(</span><span class="op" id="8584296">(</span><span class="num" id="8584297">10</span><span class="op" id="8584299">*</span><span class="num" id="8584300">1024</span><span class="op" id="8584304">+</span><span class="op" id="8584305">(</span><span class="num" id="8584306">3</span><span class="op" id="8584307">-</span><span class="ident" id="8584308">i</span><span class="op" id="8584309">)</span><span class="op" id="8584310">)</span><span class="op" id="8584311">*</span><span class="ident" id="8584312">PageSize</span><span class="op" id="8584320">+</span><span class="ident" id="8584321">off</span><span class="op" id="8584324">,</span>&nbsp;<span class="num" id="8584326">0</span><span class="op" id="8584327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584331">as</span><span class="op" id="8584333">(</span><span class="ident" id="8584334">e</span>&nbsp;<span class="op" id="8584336">==</span>&nbsp;<span class="ident" id="8584339">nil</span><span class="op" id="8584342">,</span>&nbsp;<span class="string" id="8584344">&#34;read&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="8584360">,</span>&nbsp;<span class="ident" id="8584362">e</span><span class="op" id="8584363">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8584367">eo</span><span class="op" id="8584369">(</span><span class="ident" id="8584370">b2</span>&nbsp;<span class="op" id="8584373">!=</span>&nbsp;<span class="ident" id="8584376">bt</span><span class="op" id="8584378">,</span>&nbsp;<span class="string" id="8584380">&#34;expect&nbsp;0x%02x,&nbsp;got&nbsp;0x%02x&#34;</span><span class="op" id="8584407">,</span>&nbsp;<span class="ident" id="8584409">bt</span><span class="op" id="8584411">,</span>&nbsp;<span class="ident" id="8584413">b2</span><span class="op" id="8584415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8584418">}</span><br>
<span class="lineno"></span><span class="op" id="8584420">}</span>
</div>
</body>
</html>
