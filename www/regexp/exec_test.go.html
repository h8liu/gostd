<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7043478">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7043533">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7043587">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7043638">package</span>&nbsp;<span class="ident" id="7043646">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7043654">import</span>&nbsp;<span class="op" id="7043661">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043664">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043673">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043691">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043698">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043704">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043710">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043727">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043744">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043755">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043766">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7043777">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7043792">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7043795">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="7043857">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="7043925">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="7043991">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="7044055">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7044123">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="7044187">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="7044259">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="7044330">//</span><br>
<span class="lineno">30</span><span class="comment" id="7044333">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="7044388">//</span><br>
<span class="lineno"></span><span class="comment" id="7044391">//&nbsp;&nbsp;&nbsp;&nbspstrings</span><br>
<span class="lineno"></span><span class="comment" id="7044402">//&nbsp;&nbsp;&nbsp;&nbsp&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7044411">//&nbsp;&nbsp;&nbsp;&nbsp&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="7044421">//&nbsp;&nbsp;&nbsp;&nbspregexps</span><br>
<span class="lineno"></span><span class="comment" id="7044432">//&nbsp;&nbsp;&nbsp;&nbsp&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7044444">//&nbsp;&nbsp;&nbsp;&nbsp0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="7044455">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7044462">//&nbsp;&nbsp;&nbsp;&nbsp&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="7044489">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7044496">//&nbsp;&nbsp;&nbsp;&nbsp-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="7044517">//</span><br>
<span class="lineno"></span><span class="comment" id="7044520">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="7044578">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="7044635">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="7044692">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="7044755">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="7044813">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7044856">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="7044922">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="7044980">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="7045037">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="7045097">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7045154">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="7045221">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="7045286">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7045335">//</span><br>
<span class="lineno"></span><span class="comment" id="7045338">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="7045400">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="7045467">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="7045515">//</span><br>
<span class="lineno"></span><span class="comment" id="7045518">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="7045584">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="7045658">//</span><br>
<span class="lineno">65</span><span class="keyword" id="7045661">func</span>&nbsp;<span class="ident" id="7045666">TestRE2Search</span><span class="op" id="7045679">(</span><span class="ident" id="7045680">t</span>&nbsp;<span class="op" id="7045682">*</span><span class="ident" id="7045683">testing</span><span class="op" id="7045690">.</span><span class="ident" id="7045691">T</span><span class="op" id="7045692">)</span>&nbsp;<span class="op" id="7045694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7045697">testRE2</span><span class="op" id="7045704">(</span><span class="ident" id="7045705">t</span><span class="op" id="7045706">,</span>&nbsp;<span class="string" id="7045708">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="7045733">)</span><br>
<span class="lineno"></span><span class="op" id="7045735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7045738">func</span>&nbsp;<span class="ident" id="7045743">testRE2</span><span class="op" id="7045750">(</span><span class="ident" id="7045751">t</span>&nbsp;<span class="op" id="7045753">*</span><span class="ident" id="7045754">testing</span><span class="op" id="7045761">.</span><span class="ident" id="7045762">T</span><span class="op" id="7045763">,</span>&nbsp;<span class="ident" id="7045765">file</span>&nbsp;<span class="builtintype" id="7045770">string</span><span class="op" id="7045776">)</span>&nbsp;<span class="op" id="7045778">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7045781">f</span><span class="op" id="7045782">,</span>&nbsp;<span class="ident" id="7045784">err</span>&nbsp;<span class="op" id="7045788">:=</span>&nbsp;<span class="ident" id="7045791">os</span><span class="op" id="7045793">.</span><span class="ident" id="7045794">Open</span><span class="op" id="7045798">(</span><span class="ident" id="7045799">file</span><span class="op" id="7045803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7045806">if</span>&nbsp;<span class="ident" id="7045809">err</span>&nbsp;<span class="op" id="7045813">!=</span>&nbsp;<span class="ident" id="7045816">nil</span>&nbsp;<span class="op" id="7045820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7045824">t</span><span class="op" id="7045825">.</span><span class="ident" id="7045826">Fatal</span><span class="op" id="7045831">(</span><span class="ident" id="7045832">err</span><span class="op" id="7045835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7045838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7045841">defer</span>&nbsp;<span class="ident" id="7045847">f</span><span class="op" id="7045848">.</span><span class="ident" id="7045849">Close</span><span class="op" id="7045854">(</span><span class="op" id="7045855">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7045858">var</span>&nbsp;<span class="ident" id="7045862">txt</span>&nbsp;<span class="ident" id="7045866">io</span><span class="op" id="7045868">.</span><span class="ident" id="7045869">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7045877">if</span>&nbsp;<span class="ident" id="7045880">strings</span><span class="op" id="7045887">.</span><span class="ident" id="7045888">HasSuffix</span><span class="op" id="7045897">(</span><span class="ident" id="7045898">file</span><span class="op" id="7045902">,</span>&nbsp;<span class="string" id="7045904">&#34;.bz2&#34;</span><span class="op" id="7045910">)</span>&nbsp;<span class="op" id="7045912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7045916">z</span>&nbsp;<span class="op" id="7045918">:=</span>&nbsp;<span class="ident" id="7045921">bzip2</span><span class="op" id="7045926">.</span><span class="ident" id="7045927">NewReader</span><span class="op" id="7045936">(</span><span class="ident" id="7045937">f</span><span class="op" id="7045938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7045942">txt</span>&nbsp;<span class="op" id="7045946">=</span>&nbsp;<span class="ident" id="7045948">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7045952">file</span>&nbsp;<span class="op" id="7045957">=</span>&nbsp;<span class="ident" id="7045959">file</span><span class="op" id="7045963">[</span><span class="op" id="7045964">:</span><span class="builtinfunc" id="7045965">len</span><span class="op" id="7045968">(</span><span class="ident" id="7045969">file</span><span class="op" id="7045973">)</span><span class="op" id="7045974">-</span><span class="builtinfunc" id="7045975">len</span><span class="op" id="7045978">(</span><span class="string" id="7045979">&#34;.bz2&#34;</span><span class="op" id="7045985">)</span><span class="op" id="7045986">]</span>&nbsp;<span class="comment" id="7045988">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046011">}</span>&nbsp;<span class="keyword" id="7046013">else</span>&nbsp;<span class="op" id="7046018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046022">txt</span>&nbsp;<span class="op" id="7046026">=</span>&nbsp;<span class="ident" id="7046028">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046034">lineno</span>&nbsp;<span class="op" id="7046041">:=</span>&nbsp;<span class="num" id="7046044">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046047">scanner</span>&nbsp;<span class="op" id="7046055">:=</span>&nbsp;<span class="ident" id="7046058">bufio</span><span class="op" id="7046063">.</span><span class="ident" id="7046064">NewScanner</span><span class="op" id="7046074">(</span><span class="ident" id="7046075">txt</span><span class="op" id="7046078">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046081">var</span>&nbsp;<span class="op" id="7046085">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046089">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7046099">[</span><span class="op" id="7046100">]</span><span class="builtintype" id="7046101">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046110">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7046120">[</span><span class="op" id="7046121">]</span><span class="builtintype" id="7046122">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046131">inStrings</span>&nbsp;<span class="builtintype" id="7046141">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046148">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7046158">*</span><span class="ident" id="7046159">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046168">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7046178">*</span><span class="ident" id="7046179">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046188">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7046198">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046204">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7046214">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046222">for</span>&nbsp;<span class="ident" id="7046226">lineno</span>&nbsp;<span class="op" id="7046233">:=</span>&nbsp;<span class="num" id="7046236">1</span><span class="op" id="7046237">;</span>&nbsp;<span class="ident" id="7046239">scanner</span><span class="op" id="7046246">.</span><span class="ident" id="7046247">Scan</span><span class="op" id="7046251">(</span><span class="op" id="7046252">)</span><span class="op" id="7046253">;</span>&nbsp;<span class="ident" id="7046255">lineno</span><span class="op" id="7046261">++</span>&nbsp;<span class="op" id="7046264">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046268">line</span>&nbsp;<span class="op" id="7046273">:=</span>&nbsp;<span class="ident" id="7046276">scanner</span><span class="op" id="7046283">.</span><span class="ident" id="7046284">Text</span><span class="op" id="7046288">(</span><span class="op" id="7046289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046293">switch</span>&nbsp;<span class="op" id="7046300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046304">case</span>&nbsp;<span class="ident" id="7046309">line</span>&nbsp;<span class="op" id="7046314">==</span>&nbsp;<span class="string" id="7046317">&#34;&#34;</span><span class="op" id="7046319">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046324">t</span><span class="op" id="7046325">.</span><span class="ident" id="7046326">Fatalf</span><span class="op" id="7046332">(</span><span class="string" id="7046333">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="7046363">,</span>&nbsp;<span class="ident" id="7046365">file</span><span class="op" id="7046369">,</span>&nbsp;<span class="ident" id="7046371">lineno</span><span class="op" id="7046377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046381">case</span>&nbsp;<span class="ident" id="7046386">line</span><span class="op" id="7046390">[</span><span class="num" id="7046391">0</span><span class="op" id="7046392">]</span>&nbsp;<span class="op" id="7046394">==</span>&nbsp;<span class="string" id="7046397">&#39;#&#39;</span><span class="op" id="7046400">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046405">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046416">case</span>&nbsp;<span class="string" id="7046421">&#39;A&#39;</span>&nbsp;<span class="op" id="7046425">&lt;=</span>&nbsp;<span class="ident" id="7046428">line</span><span class="op" id="7046432">[</span><span class="num" id="7046433">0</span><span class="op" id="7046434">]</span>&nbsp;<span class="op" id="7046436">&amp;&amp;</span>&nbsp;<span class="ident" id="7046439">line</span><span class="op" id="7046443">[</span><span class="num" id="7046444">0</span><span class="op" id="7046445">]</span>&nbsp;<span class="op" id="7046447">&lt;=</span>&nbsp;<span class="string" id="7046450">&#39;Z&#39;</span><span class="op" id="7046453">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7046458">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046475">t</span><span class="op" id="7046476">.</span><span class="ident" id="7046477">Logf</span><span class="op" id="7046481">(</span><span class="string" id="7046482">&#34;%s\n&#34;</span><span class="op" id="7046488">,</span>&nbsp;<span class="ident" id="7046490">line</span><span class="op" id="7046494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046499">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046510">case</span>&nbsp;<span class="ident" id="7046515">line</span>&nbsp;<span class="op" id="7046520">==</span>&nbsp;<span class="string" id="7046523">&#34;strings&#34;</span><span class="op" id="7046532">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046537">str</span>&nbsp;<span class="op" id="7046541">=</span>&nbsp;<span class="ident" id="7046543">str</span><span class="op" id="7046546">[</span><span class="op" id="7046547">:</span><span class="num" id="7046548">0</span><span class="op" id="7046549">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046554">inStrings</span>&nbsp;<span class="op" id="7046564">=</span>&nbsp;<span class="ident" id="7046566">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046573">case</span>&nbsp;<span class="ident" id="7046578">line</span>&nbsp;<span class="op" id="7046583">==</span>&nbsp;<span class="string" id="7046586">&#34;regexps&#34;</span><span class="op" id="7046595">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046600">inStrings</span>&nbsp;<span class="op" id="7046610">=</span>&nbsp;<span class="ident" id="7046612">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046620">case</span>&nbsp;<span class="ident" id="7046625">line</span><span class="op" id="7046629">[</span><span class="num" id="7046630">0</span><span class="op" id="7046631">]</span>&nbsp;<span class="op" id="7046633">==</span>&nbsp;<span class="string" id="7046636">&#39;&#34;&#39;</span><span class="op" id="7046639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046644">q</span><span class="op" id="7046645">,</span>&nbsp;<span class="ident" id="7046647">err</span>&nbsp;<span class="op" id="7046651">:=</span>&nbsp;<span class="ident" id="7046654">strconv</span><span class="op" id="7046661">.</span><span class="ident" id="7046662">Unquote</span><span class="op" id="7046669">(</span><span class="ident" id="7046670">line</span><span class="op" id="7046674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046679">if</span>&nbsp;<span class="ident" id="7046682">err</span>&nbsp;<span class="op" id="7046686">!=</span>&nbsp;<span class="ident" id="7046689">nil</span>&nbsp;<span class="op" id="7046693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7046699">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046743">t</span><span class="op" id="7046744">.</span><span class="ident" id="7046745">Fatalf</span><span class="op" id="7046751">(</span><span class="string" id="7046752">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7046775">,</span>&nbsp;<span class="ident" id="7046777">file</span><span class="op" id="7046781">,</span>&nbsp;<span class="ident" id="7046783">lineno</span><span class="op" id="7046789">,</span>&nbsp;<span class="ident" id="7046791">line</span><span class="op" id="7046795">,</span>&nbsp;<span class="ident" id="7046797">err</span><span class="op" id="7046800">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046810">if</span>&nbsp;<span class="ident" id="7046813">inStrings</span>&nbsp;<span class="op" id="7046823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046829">str</span>&nbsp;<span class="op" id="7046833">=</span>&nbsp;<span class="builtinfunc" id="7046835">append</span><span class="op" id="7046841">(</span><span class="ident" id="7046842">str</span><span class="op" id="7046845">,</span>&nbsp;<span class="ident" id="7046847">q</span><span class="op" id="7046848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046854">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7046866">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7046871">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7046890">if</span>&nbsp;<span class="builtinfunc" id="7046893">len</span><span class="op" id="7046896">(</span><span class="ident" id="7046897">input</span><span class="op" id="7046902">)</span>&nbsp;<span class="op" id="7046904">!=</span>&nbsp;<span class="num" id="7046907">0</span>&nbsp;<span class="op" id="7046909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7046915">t</span><span class="op" id="7046916">.</span><span class="ident" id="7046917">Fatalf</span><span class="op" id="7046923">(</span><span class="string" id="7046924">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="7046977">,</span>&nbsp;<span class="ident" id="7046979">file</span><span class="op" id="7046983">,</span>&nbsp;<span class="ident" id="7046985">lineno</span><span class="op" id="7046991">,</span>&nbsp;<span class="builtinfunc" id="7046993">len</span><span class="op" id="7046996">(</span><span class="ident" id="7046997">input</span><span class="op" id="7047002">)</span><span class="op" id="7047003">,</span>&nbsp;<span class="ident" id="7047005">q</span><span class="op" id="7047006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047016">re</span><span class="op" id="7047018">,</span>&nbsp;<span class="ident" id="7047020">err</span>&nbsp;<span class="op" id="7047024">=</span>&nbsp;<span class="ident" id="7047026">tryCompile</span><span class="op" id="7047036">(</span><span class="ident" id="7047037">q</span><span class="op" id="7047038">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047043">if</span>&nbsp;<span class="ident" id="7047046">err</span>&nbsp;<span class="op" id="7047050">!=</span>&nbsp;<span class="ident" id="7047053">nil</span>&nbsp;<span class="op" id="7047057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047063">if</span>&nbsp;<span class="ident" id="7047066">err</span><span class="op" id="7047069">.</span><span class="ident" id="7047070">Error</span><span class="op" id="7047075">(</span><span class="op" id="7047076">)</span>&nbsp;<span class="op" id="7047078">==</span>&nbsp;<span class="string" id="7047081">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="7047136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7047143">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047206">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047219">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047225">t</span><span class="op" id="7047226">.</span><span class="ident" id="7047227">Errorf</span><span class="op" id="7047233">(</span><span class="string" id="7047234">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7047258">,</span>&nbsp;<span class="ident" id="7047260">file</span><span class="op" id="7047264">,</span>&nbsp;<span class="ident" id="7047266">lineno</span><span class="op" id="7047272">,</span>&nbsp;<span class="ident" id="7047274">q</span><span class="op" id="7047275">,</span>&nbsp;<span class="ident" id="7047277">err</span><span class="op" id="7047280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047286">if</span>&nbsp;<span class="ident" id="7047289">nfail</span><span class="op" id="7047294">++</span><span class="op" id="7047296">;</span>&nbsp;<span class="ident" id="7047298">nfail</span>&nbsp;<span class="op" id="7047304">&gt;=</span>&nbsp;<span class="num" id="7047307">100</span>&nbsp;<span class="op" id="7047311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047318">t</span><span class="op" id="7047319">.</span><span class="ident" id="7047320">Fatalf</span><span class="op" id="7047326">(</span><span class="string" id="7047327">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7047353">,</span>&nbsp;<span class="ident" id="7047355">nfail</span><span class="op" id="7047360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047372">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047389">full</span>&nbsp;<span class="op" id="7047394">:=</span>&nbsp;<span class="string" id="7047397">`\A(?:`</span>&nbsp;<span class="op" id="7047405">+</span>&nbsp;<span class="ident" id="7047407">q</span>&nbsp;<span class="op" id="7047409">+</span>&nbsp;<span class="string" id="7047411">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047420">refull</span><span class="op" id="7047426">,</span>&nbsp;<span class="ident" id="7047428">err</span>&nbsp;<span class="op" id="7047432">=</span>&nbsp;<span class="ident" id="7047434">tryCompile</span><span class="op" id="7047444">(</span><span class="ident" id="7047445">full</span><span class="op" id="7047449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047454">if</span>&nbsp;<span class="ident" id="7047457">err</span>&nbsp;<span class="op" id="7047461">!=</span>&nbsp;<span class="ident" id="7047464">nil</span>&nbsp;<span class="op" id="7047468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7047474">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047533">t</span><span class="op" id="7047534">.</span><span class="ident" id="7047535">Fatalf</span><span class="op" id="7047541">(</span><span class="string" id="7047542">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7047571">,</span>&nbsp;<span class="ident" id="7047573">file</span><span class="op" id="7047577">,</span>&nbsp;<span class="ident" id="7047579">lineno</span><span class="op" id="7047585">,</span>&nbsp;<span class="ident" id="7047587">full</span><span class="op" id="7047591">,</span>&nbsp;<span class="ident" id="7047593">err</span><span class="op" id="7047596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047606">input</span>&nbsp;<span class="op" id="7047612">=</span>&nbsp;<span class="ident" id="7047614">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047620">case</span>&nbsp;<span class="ident" id="7047625">line</span><span class="op" id="7047629">[</span><span class="num" id="7047630">0</span><span class="op" id="7047631">]</span>&nbsp;<span class="op" id="7047633">==</span>&nbsp;<span class="string" id="7047636">&#39;-&#39;</span>&nbsp;<span class="op" id="7047640">||</span>&nbsp;<span class="string" id="7047643">&#39;0&#39;</span>&nbsp;<span class="op" id="7047647">&lt;=</span>&nbsp;<span class="ident" id="7047650">line</span><span class="op" id="7047654">[</span><span class="num" id="7047655">0</span><span class="op" id="7047656">]</span>&nbsp;<span class="op" id="7047658">&amp;&amp;</span>&nbsp;<span class="ident" id="7047661">line</span><span class="op" id="7047665">[</span><span class="num" id="7047666">0</span><span class="op" id="7047667">]</span>&nbsp;<span class="op" id="7047669">&lt;=</span>&nbsp;<span class="string" id="7047672">&#39;9&#39;</span><span class="op" id="7047675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7047680">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047715">ncase</span><span class="op" id="7047720">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047726">if</span>&nbsp;<span class="ident" id="7047729">re</span>&nbsp;<span class="op" id="7047732">==</span>&nbsp;<span class="ident" id="7047735">nil</span>&nbsp;<span class="op" id="7047739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7047745">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047785">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047797">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047802">if</span>&nbsp;<span class="builtinfunc" id="7047805">len</span><span class="op" id="7047808">(</span><span class="ident" id="7047809">input</span><span class="op" id="7047814">)</span>&nbsp;<span class="op" id="7047816">==</span>&nbsp;<span class="num" id="7047819">0</span>&nbsp;<span class="op" id="7047821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047827">t</span><span class="op" id="7047828">.</span><span class="ident" id="7047829">Fatalf</span><span class="op" id="7047835">(</span><span class="string" id="7047836">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="7047876">,</span>&nbsp;<span class="ident" id="7047878">file</span><span class="op" id="7047882">,</span>&nbsp;<span class="ident" id="7047884">lineno</span><span class="op" id="7047890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7047895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047900">var</span>&nbsp;<span class="ident" id="7047904">text</span>&nbsp;<span class="builtintype" id="7047909">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7047919">text</span><span class="op" id="7047923">,</span>&nbsp;<span class="ident" id="7047925">input</span>&nbsp;<span class="op" id="7047931">=</span>&nbsp;<span class="ident" id="7047933">input</span><span class="op" id="7047938">[</span><span class="num" id="7047939">0</span><span class="op" id="7047940">]</span><span class="op" id="7047941">,</span>&nbsp;<span class="ident" id="7047943">input</span><span class="op" id="7047948">[</span><span class="num" id="7047949">1</span><span class="op" id="7047950">:</span><span class="op" id="7047951">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7047956">if</span>&nbsp;<span class="op" id="7047959">!</span><span class="ident" id="7047960">isSingleBytes</span><span class="op" id="7047973">(</span><span class="ident" id="7047974">text</span><span class="op" id="7047978">)</span>&nbsp;<span class="op" id="7047980">&amp;&amp;</span>&nbsp;<span class="ident" id="7047983">strings</span><span class="op" id="7047990">.</span><span class="ident" id="7047991">Contains</span><span class="op" id="7047999">(</span><span class="ident" id="7048000">re</span><span class="op" id="7048002">.</span><span class="ident" id="7048003">String</span><span class="op" id="7048009">(</span><span class="op" id="7048010">)</span><span class="op" id="7048011">,</span>&nbsp;<span class="string" id="7048013">`\B`</span><span class="op" id="7048017">)</span>&nbsp;<span class="op" id="7048019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7048025">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7048072">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7048117">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7048165">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7048216">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048259">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048276">res</span>&nbsp;<span class="op" id="7048280">:=</span>&nbsp;<span class="ident" id="7048283">strings</span><span class="op" id="7048290">.</span><span class="ident" id="7048291">Split</span><span class="op" id="7048296">(</span><span class="ident" id="7048297">line</span><span class="op" id="7048301">,</span>&nbsp;<span class="string" id="7048303">&#34;;&#34;</span><span class="op" id="7048306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048311">if</span>&nbsp;<span class="builtinfunc" id="7048314">len</span><span class="op" id="7048317">(</span><span class="ident" id="7048318">res</span><span class="op" id="7048321">)</span>&nbsp;<span class="op" id="7048323">!=</span>&nbsp;<span class="builtinfunc" id="7048326">len</span><span class="op" id="7048329">(</span><span class="ident" id="7048330">run</span><span class="op" id="7048333">)</span>&nbsp;<span class="op" id="7048335">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048341">t</span><span class="op" id="7048342">.</span><span class="ident" id="7048343">Fatalf</span><span class="op" id="7048349">(</span><span class="string" id="7048350">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7048388">,</span>&nbsp;<span class="ident" id="7048390">file</span><span class="op" id="7048394">,</span>&nbsp;<span class="ident" id="7048396">lineno</span><span class="op" id="7048402">,</span>&nbsp;<span class="builtinfunc" id="7048404">len</span><span class="op" id="7048407">(</span><span class="ident" id="7048408">res</span><span class="op" id="7048411">)</span><span class="op" id="7048412">,</span>&nbsp;<span class="builtinfunc" id="7048414">len</span><span class="op" id="7048417">(</span><span class="ident" id="7048418">run</span><span class="op" id="7048421">)</span><span class="op" id="7048422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048432">for</span>&nbsp;<span class="ident" id="7048436">i</span>&nbsp;<span class="op" id="7048438">:=</span>&nbsp;<span class="keyword" id="7048441">range</span>&nbsp;<span class="ident" id="7048447">res</span>&nbsp;<span class="op" id="7048451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048457">have</span><span class="op" id="7048461">,</span>&nbsp;<span class="ident" id="7048463">suffix</span>&nbsp;<span class="op" id="7048470">:=</span>&nbsp;<span class="ident" id="7048473">run</span><span class="op" id="7048476">[</span><span class="ident" id="7048477">i</span><span class="op" id="7048478">]</span><span class="op" id="7048479">(</span><span class="ident" id="7048480">re</span><span class="op" id="7048482">,</span>&nbsp;<span class="ident" id="7048484">refull</span><span class="op" id="7048490">,</span>&nbsp;<span class="ident" id="7048492">text</span><span class="op" id="7048496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048502">want</span>&nbsp;<span class="op" id="7048507">:=</span>&nbsp;<span class="ident" id="7048510">parseResult</span><span class="op" id="7048521">(</span><span class="ident" id="7048522">t</span><span class="op" id="7048523">,</span>&nbsp;<span class="ident" id="7048525">file</span><span class="op" id="7048529">,</span>&nbsp;<span class="ident" id="7048531">lineno</span><span class="op" id="7048537">,</span>&nbsp;<span class="ident" id="7048539">res</span><span class="op" id="7048542">[</span><span class="ident" id="7048543">i</span><span class="op" id="7048544">]</span><span class="op" id="7048545">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048551">if</span>&nbsp;<span class="op" id="7048554">!</span><span class="ident" id="7048555">same</span><span class="op" id="7048559">(</span><span class="ident" id="7048560">have</span><span class="op" id="7048564">,</span>&nbsp;<span class="ident" id="7048566">want</span><span class="op" id="7048570">)</span>&nbsp;<span class="op" id="7048572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048579">t</span><span class="op" id="7048580">.</span><span class="ident" id="7048581">Errorf</span><span class="op" id="7048587">(</span><span class="string" id="7048588">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7048639">,</span>&nbsp;<span class="ident" id="7048641">file</span><span class="op" id="7048645">,</span>&nbsp;<span class="ident" id="7048647">lineno</span><span class="op" id="7048653">,</span>&nbsp;<span class="ident" id="7048655">re</span><span class="op" id="7048657">,</span>&nbsp;<span class="ident" id="7048659">suffix</span><span class="op" id="7048665">,</span>&nbsp;<span class="ident" id="7048667">text</span><span class="op" id="7048671">,</span>&nbsp;<span class="ident" id="7048673">have</span><span class="op" id="7048677">,</span>&nbsp;<span class="ident" id="7048679">want</span><span class="op" id="7048683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048690">if</span>&nbsp;<span class="ident" id="7048693">nfail</span><span class="op" id="7048698">++</span><span class="op" id="7048700">;</span>&nbsp;<span class="ident" id="7048702">nfail</span>&nbsp;<span class="op" id="7048708">&gt;=</span>&nbsp;<span class="num" id="7048711">100</span>&nbsp;<span class="op" id="7048715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048723">t</span><span class="op" id="7048724">.</span><span class="ident" id="7048725">Fatalf</span><span class="op" id="7048731">(</span><span class="string" id="7048732">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7048758">,</span>&nbsp;<span class="ident" id="7048760">nfail</span><span class="op" id="7048765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048772">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048779">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7048792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048798">b</span><span class="op" id="7048799">,</span>&nbsp;<span class="ident" id="7048801">suffix</span>&nbsp;<span class="op" id="7048808">:=</span>&nbsp;<span class="ident" id="7048811">match</span><span class="op" id="7048816">[</span><span class="ident" id="7048817">i</span><span class="op" id="7048818">]</span><span class="op" id="7048819">(</span><span class="ident" id="7048820">re</span><span class="op" id="7048822">,</span>&nbsp;<span class="ident" id="7048824">refull</span><span class="op" id="7048830">,</span>&nbsp;<span class="ident" id="7048832">text</span><span class="op" id="7048836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048842">if</span>&nbsp;<span class="ident" id="7048845">b</span>&nbsp;<span class="op" id="7048847">!=</span>&nbsp;<span class="op" id="7048850">(</span><span class="ident" id="7048851">want</span>&nbsp;<span class="op" id="7048856">!=</span>&nbsp;<span class="ident" id="7048859">nil</span><span class="op" id="7048862">)</span>&nbsp;<span class="op" id="7048864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7048871">t</span><span class="op" id="7048872">.</span><span class="ident" id="7048873">Errorf</span><span class="op" id="7048879">(</span><span class="string" id="7048880">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7048925">,</span>&nbsp;<span class="ident" id="7048927">file</span><span class="op" id="7048931">,</span>&nbsp;<span class="ident" id="7048933">lineno</span><span class="op" id="7048939">,</span>&nbsp;<span class="ident" id="7048941">re</span><span class="op" id="7048943">,</span>&nbsp;<span class="ident" id="7048945">suffix</span><span class="op" id="7048951">,</span>&nbsp;<span class="ident" id="7048953">text</span><span class="op" id="7048957">,</span>&nbsp;<span class="ident" id="7048959">b</span><span class="op" id="7048960">,</span>&nbsp;<span class="op" id="7048962">!</span><span class="ident" id="7048963">b</span><span class="op" id="7048964">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7048971">if</span>&nbsp;<span class="ident" id="7048974">nfail</span><span class="op" id="7048979">++</span><span class="op" id="7048981">;</span>&nbsp;<span class="ident" id="7048983">nfail</span>&nbsp;<span class="op" id="7048989">&gt;=</span>&nbsp;<span class="num" id="7048992">100</span>&nbsp;<span class="op" id="7048996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049004">t</span><span class="op" id="7049005">.</span><span class="ident" id="7049006">Fatalf</span><span class="op" id="7049012">(</span><span class="string" id="7049013">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7049039">,</span>&nbsp;<span class="ident" id="7049041">nfail</span><span class="op" id="7049046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049060">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049073">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049083">default</span><span class="op" id="7049090">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049095">t</span><span class="op" id="7049096">.</span><span class="ident" id="7049097">Fatalf</span><span class="op" id="7049103">(</span><span class="string" id="7049104">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="7049130">,</span>&nbsp;<span class="ident" id="7049132">file</span><span class="op" id="7049136">,</span>&nbsp;<span class="ident" id="7049138">lineno</span><span class="op" id="7049144">,</span>&nbsp;<span class="ident" id="7049146">line</span><span class="op" id="7049150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049154">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049160">if</span>&nbsp;<span class="ident" id="7049163">err</span>&nbsp;<span class="op" id="7049167">:=</span>&nbsp;<span class="ident" id="7049170">scanner</span><span class="op" id="7049177">.</span><span class="ident" id="7049178">Err</span><span class="op" id="7049181">(</span><span class="op" id="7049182">)</span><span class="op" id="7049183">;</span>&nbsp;<span class="ident" id="7049185">err</span>&nbsp;<span class="op" id="7049189">!=</span>&nbsp;<span class="ident" id="7049192">nil</span>&nbsp;<span class="op" id="7049196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049200">t</span><span class="op" id="7049201">.</span><span class="ident" id="7049202">Fatalf</span><span class="op" id="7049208">(</span><span class="string" id="7049209">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7049220">,</span>&nbsp;<span class="ident" id="7049222">file</span><span class="op" id="7049226">,</span>&nbsp;<span class="ident" id="7049228">lineno</span><span class="op" id="7049234">,</span>&nbsp;<span class="ident" id="7049236">err</span><span class="op" id="7049239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049245">if</span>&nbsp;<span class="builtinfunc" id="7049248">len</span><span class="op" id="7049251">(</span><span class="ident" id="7049252">input</span><span class="op" id="7049257">)</span>&nbsp;<span class="op" id="7049259">!=</span>&nbsp;<span class="num" id="7049262">0</span>&nbsp;<span class="op" id="7049264">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049268">t</span><span class="op" id="7049269">.</span><span class="ident" id="7049270">Fatalf</span><span class="op" id="7049276">(</span><span class="string" id="7049277">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="7049326">,</span>&nbsp;<span class="ident" id="7049328">file</span><span class="op" id="7049332">,</span>&nbsp;<span class="ident" id="7049334">lineno</span><span class="op" id="7049340">,</span>&nbsp;<span class="builtinfunc" id="7049342">len</span><span class="op" id="7049345">(</span><span class="ident" id="7049346">input</span><span class="op" id="7049351">)</span><span class="op" id="7049352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7049355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049358">t</span><span class="op" id="7049359">.</span><span class="ident" id="7049360">Logf</span><span class="op" id="7049364">(</span><span class="string" id="7049365">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="7049382">,</span>&nbsp;<span class="ident" id="7049384">ncase</span><span class="op" id="7049389">)</span><br>
<span class="lineno"></span><span class="op" id="7049391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="7049394">var</span>&nbsp;<span class="ident" id="7049398">run</span>&nbsp;<span class="op" id="7049402">=</span>&nbsp;<span class="op" id="7049404">[</span><span class="op" id="7049405">]</span><span class="keyword" id="7049406">func</span><span class="op" id="7049410">(</span><span class="op" id="7049411">*</span><span class="ident" id="7049412">Regexp</span><span class="op" id="7049418">,</span>&nbsp;<span class="op" id="7049420">*</span><span class="ident" id="7049421">Regexp</span><span class="op" id="7049427">,</span>&nbsp;<span class="builtintype" id="7049429">string</span><span class="op" id="7049435">)</span>&nbsp;<span class="op" id="7049437">(</span><span class="op" id="7049438">[</span><span class="op" id="7049439">]</span><span class="builtintype" id="7049440">int</span><span class="op" id="7049443">,</span>&nbsp;<span class="builtintype" id="7049445">string</span><span class="op" id="7049451">)</span><span class="op" id="7049452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049455">runFull</span><span class="op" id="7049462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049465">runPartial</span><span class="op" id="7049475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049478">runFullLongest</span><span class="op" id="7049492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049495">runPartialLongest</span><span class="op" id="7049512">,</span><br>
<span class="lineno">205</span><span class="op" id="7049514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7049517">func</span>&nbsp;<span class="ident" id="7049522">runFull</span><span class="op" id="7049529">(</span><span class="ident" id="7049530">re</span><span class="op" id="7049532">,</span>&nbsp;<span class="ident" id="7049534">refull</span>&nbsp;<span class="op" id="7049541">*</span><span class="ident" id="7049542">Regexp</span><span class="op" id="7049548">,</span>&nbsp;<span class="ident" id="7049550">text</span>&nbsp;<span class="builtintype" id="7049555">string</span><span class="op" id="7049561">)</span>&nbsp;<span class="op" id="7049563">(</span><span class="op" id="7049564">[</span><span class="op" id="7049565">]</span><span class="builtintype" id="7049566">int</span><span class="op" id="7049569">,</span>&nbsp;<span class="builtintype" id="7049571">string</span><span class="op" id="7049577">)</span>&nbsp;<span class="op" id="7049579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049582">refull</span><span class="op" id="7049588">.</span><span class="ident" id="7049589">longest</span>&nbsp;<span class="op" id="7049597">=</span>&nbsp;<span class="ident" id="7049599">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049606">return</span>&nbsp;<span class="ident" id="7049613">refull</span><span class="op" id="7049619">.</span><span class="ident" id="7049620">FindStringSubmatchIndex</span><span class="op" id="7049643">(</span><span class="ident" id="7049644">text</span><span class="op" id="7049648">)</span><span class="op" id="7049649">,</span>&nbsp;<span class="string" id="7049651">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="7049660">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7049663">func</span>&nbsp;<span class="ident" id="7049668">runPartial</span><span class="op" id="7049678">(</span><span class="ident" id="7049679">re</span><span class="op" id="7049681">,</span>&nbsp;<span class="ident" id="7049683">refull</span>&nbsp;<span class="op" id="7049690">*</span><span class="ident" id="7049691">Regexp</span><span class="op" id="7049697">,</span>&nbsp;<span class="ident" id="7049699">text</span>&nbsp;<span class="builtintype" id="7049704">string</span><span class="op" id="7049710">)</span>&nbsp;<span class="op" id="7049712">(</span><span class="op" id="7049713">[</span><span class="op" id="7049714">]</span><span class="builtintype" id="7049715">int</span><span class="op" id="7049718">,</span>&nbsp;<span class="builtintype" id="7049720">string</span><span class="op" id="7049726">)</span>&nbsp;<span class="op" id="7049728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049731">re</span><span class="op" id="7049733">.</span><span class="ident" id="7049734">longest</span>&nbsp;<span class="op" id="7049742">=</span>&nbsp;<span class="ident" id="7049744">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049751">return</span>&nbsp;<span class="ident" id="7049758">re</span><span class="op" id="7049760">.</span><span class="ident" id="7049761">FindStringSubmatchIndex</span><span class="op" id="7049784">(</span><span class="ident" id="7049785">text</span><span class="op" id="7049789">)</span><span class="op" id="7049790">,</span>&nbsp;<span class="string" id="7049792">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="7049795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7049798">func</span>&nbsp;<span class="ident" id="7049803">runFullLongest</span><span class="op" id="7049817">(</span><span class="ident" id="7049818">re</span><span class="op" id="7049820">,</span>&nbsp;<span class="ident" id="7049822">refull</span>&nbsp;<span class="op" id="7049829">*</span><span class="ident" id="7049830">Regexp</span><span class="op" id="7049836">,</span>&nbsp;<span class="ident" id="7049838">text</span>&nbsp;<span class="builtintype" id="7049843">string</span><span class="op" id="7049849">)</span>&nbsp;<span class="op" id="7049851">(</span><span class="op" id="7049852">[</span><span class="op" id="7049853">]</span><span class="builtintype" id="7049854">int</span><span class="op" id="7049857">,</span>&nbsp;<span class="builtintype" id="7049859">string</span><span class="op" id="7049865">)</span>&nbsp;<span class="op" id="7049867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7049870">refull</span><span class="op" id="7049876">.</span><span class="ident" id="7049877">longest</span>&nbsp;<span class="op" id="7049885">=</span>&nbsp;<span class="ident" id="7049887">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7049893">return</span>&nbsp;<span class="ident" id="7049900">refull</span><span class="op" id="7049906">.</span><span class="ident" id="7049907">FindStringSubmatchIndex</span><span class="op" id="7049930">(</span><span class="ident" id="7049931">text</span><span class="op" id="7049935">)</span><span class="op" id="7049936">,</span>&nbsp;<span class="string" id="7049938">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="7049955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7049958">func</span>&nbsp;<span class="ident" id="7049963">runPartialLongest</span><span class="op" id="7049980">(</span><span class="ident" id="7049981">re</span><span class="op" id="7049983">,</span>&nbsp;<span class="ident" id="7049985">refull</span>&nbsp;<span class="op" id="7049992">*</span><span class="ident" id="7049993">Regexp</span><span class="op" id="7049999">,</span>&nbsp;<span class="ident" id="7050001">text</span>&nbsp;<span class="builtintype" id="7050006">string</span><span class="op" id="7050012">)</span>&nbsp;<span class="op" id="7050014">(</span><span class="op" id="7050015">[</span><span class="op" id="7050016">]</span><span class="builtintype" id="7050017">int</span><span class="op" id="7050020">,</span>&nbsp;<span class="builtintype" id="7050022">string</span><span class="op" id="7050028">)</span>&nbsp;<span class="op" id="7050030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050033">re</span><span class="op" id="7050035">.</span><span class="ident" id="7050036">longest</span>&nbsp;<span class="op" id="7050044">=</span>&nbsp;<span class="ident" id="7050046">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050052">return</span>&nbsp;<span class="ident" id="7050059">re</span><span class="op" id="7050061">.</span><span class="ident" id="7050062">FindStringSubmatchIndex</span><span class="op" id="7050085">(</span><span class="ident" id="7050086">text</span><span class="op" id="7050090">)</span><span class="op" id="7050091">,</span>&nbsp;<span class="string" id="7050093">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="7050105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7050108">var</span>&nbsp;<span class="ident" id="7050112">match</span>&nbsp;<span class="op" id="7050118">=</span>&nbsp;<span class="op" id="7050120">[</span><span class="op" id="7050121">]</span><span class="keyword" id="7050122">func</span><span class="op" id="7050126">(</span><span class="op" id="7050127">*</span><span class="ident" id="7050128">Regexp</span><span class="op" id="7050134">,</span>&nbsp;<span class="op" id="7050136">*</span><span class="ident" id="7050137">Regexp</span><span class="op" id="7050143">,</span>&nbsp;<span class="builtintype" id="7050145">string</span><span class="op" id="7050151">)</span>&nbsp;<span class="op" id="7050153">(</span><span class="builtintype" id="7050154">bool</span><span class="op" id="7050158">,</span>&nbsp;<span class="builtintype" id="7050160">string</span><span class="op" id="7050166">)</span><span class="op" id="7050167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050170">matchFull</span><span class="op" id="7050179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050182">matchPartial</span><span class="op" id="7050194">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050197">matchFullLongest</span><span class="op" id="7050213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050216">matchPartialLongest</span><span class="op" id="7050235">,</span><br>
<span class="lineno"></span><span class="op" id="7050237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7050240">func</span>&nbsp;<span class="ident" id="7050245">matchFull</span><span class="op" id="7050254">(</span><span class="ident" id="7050255">re</span><span class="op" id="7050257">,</span>&nbsp;<span class="ident" id="7050259">refull</span>&nbsp;<span class="op" id="7050266">*</span><span class="ident" id="7050267">Regexp</span><span class="op" id="7050273">,</span>&nbsp;<span class="ident" id="7050275">text</span>&nbsp;<span class="builtintype" id="7050280">string</span><span class="op" id="7050286">)</span>&nbsp;<span class="op" id="7050288">(</span><span class="builtintype" id="7050289">bool</span><span class="op" id="7050293">,</span>&nbsp;<span class="builtintype" id="7050295">string</span><span class="op" id="7050301">)</span>&nbsp;<span class="op" id="7050303">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050306">refull</span><span class="op" id="7050312">.</span><span class="ident" id="7050313">longest</span>&nbsp;<span class="op" id="7050321">=</span>&nbsp;<span class="ident" id="7050323">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050330">return</span>&nbsp;<span class="ident" id="7050337">refull</span><span class="op" id="7050343">.</span><span class="ident" id="7050344">MatchString</span><span class="op" id="7050355">(</span><span class="ident" id="7050356">text</span><span class="op" id="7050360">)</span><span class="op" id="7050361">,</span>&nbsp;<span class="string" id="7050363">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7050372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7050375">func</span>&nbsp;<span class="ident" id="7050380">matchPartial</span><span class="op" id="7050392">(</span><span class="ident" id="7050393">re</span><span class="op" id="7050395">,</span>&nbsp;<span class="ident" id="7050397">refull</span>&nbsp;<span class="op" id="7050404">*</span><span class="ident" id="7050405">Regexp</span><span class="op" id="7050411">,</span>&nbsp;<span class="ident" id="7050413">text</span>&nbsp;<span class="builtintype" id="7050418">string</span><span class="op" id="7050424">)</span>&nbsp;<span class="op" id="7050426">(</span><span class="builtintype" id="7050427">bool</span><span class="op" id="7050431">,</span>&nbsp;<span class="builtintype" id="7050433">string</span><span class="op" id="7050439">)</span>&nbsp;<span class="op" id="7050441">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050444">re</span><span class="op" id="7050446">.</span><span class="ident" id="7050447">longest</span>&nbsp;<span class="op" id="7050455">=</span>&nbsp;<span class="ident" id="7050457">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050464">return</span>&nbsp;<span class="ident" id="7050471">re</span><span class="op" id="7050473">.</span><span class="ident" id="7050474">MatchString</span><span class="op" id="7050485">(</span><span class="ident" id="7050486">text</span><span class="op" id="7050490">)</span><span class="op" id="7050491">,</span>&nbsp;<span class="string" id="7050493">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7050496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7050499">func</span>&nbsp;<span class="ident" id="7050504">matchFullLongest</span><span class="op" id="7050520">(</span><span class="ident" id="7050521">re</span><span class="op" id="7050523">,</span>&nbsp;<span class="ident" id="7050525">refull</span>&nbsp;<span class="op" id="7050532">*</span><span class="ident" id="7050533">Regexp</span><span class="op" id="7050539">,</span>&nbsp;<span class="ident" id="7050541">text</span>&nbsp;<span class="builtintype" id="7050546">string</span><span class="op" id="7050552">)</span>&nbsp;<span class="op" id="7050554">(</span><span class="builtintype" id="7050555">bool</span><span class="op" id="7050559">,</span>&nbsp;<span class="builtintype" id="7050561">string</span><span class="op" id="7050567">)</span>&nbsp;<span class="op" id="7050569">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050572">refull</span><span class="op" id="7050578">.</span><span class="ident" id="7050579">longest</span>&nbsp;<span class="op" id="7050587">=</span>&nbsp;<span class="ident" id="7050589">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050595">return</span>&nbsp;<span class="ident" id="7050602">refull</span><span class="op" id="7050608">.</span><span class="ident" id="7050609">MatchString</span><span class="op" id="7050620">(</span><span class="ident" id="7050621">text</span><span class="op" id="7050625">)</span><span class="op" id="7050626">,</span>&nbsp;<span class="string" id="7050628">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7050645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7050648">func</span>&nbsp;<span class="ident" id="7050653">matchPartialLongest</span><span class="op" id="7050672">(</span><span class="ident" id="7050673">re</span><span class="op" id="7050675">,</span>&nbsp;<span class="ident" id="7050677">refull</span>&nbsp;<span class="op" id="7050684">*</span><span class="ident" id="7050685">Regexp</span><span class="op" id="7050691">,</span>&nbsp;<span class="ident" id="7050693">text</span>&nbsp;<span class="builtintype" id="7050698">string</span><span class="op" id="7050704">)</span>&nbsp;<span class="op" id="7050706">(</span><span class="builtintype" id="7050707">bool</span><span class="op" id="7050711">,</span>&nbsp;<span class="builtintype" id="7050713">string</span><span class="op" id="7050719">)</span>&nbsp;<span class="op" id="7050721">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7050724">re</span><span class="op" id="7050726">.</span><span class="ident" id="7050727">longest</span>&nbsp;<span class="op" id="7050735">=</span>&nbsp;<span class="ident" id="7050737">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050743">return</span>&nbsp;<span class="ident" id="7050750">re</span><span class="op" id="7050752">.</span><span class="ident" id="7050753">MatchString</span><span class="op" id="7050764">(</span><span class="ident" id="7050765">text</span><span class="op" id="7050769">)</span><span class="op" id="7050770">,</span>&nbsp;<span class="string" id="7050772">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7050784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7050787">func</span>&nbsp;<span class="ident" id="7050792">isSingleBytes</span><span class="op" id="7050805">(</span><span class="ident" id="7050806">s</span>&nbsp;<span class="builtintype" id="7050808">string</span><span class="op" id="7050814">)</span>&nbsp;<span class="builtintype" id="7050816">bool</span>&nbsp;<span class="op" id="7050821">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050824">for</span>&nbsp;<span class="ident" id="7050828">_</span><span class="op" id="7050829">,</span>&nbsp;<span class="ident" id="7050831">c</span>&nbsp;<span class="op" id="7050833">:=</span>&nbsp;<span class="keyword" id="7050836">range</span>&nbsp;<span class="ident" id="7050842">s</span>&nbsp;<span class="op" id="7050844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050848">if</span>&nbsp;<span class="ident" id="7050851">c</span>&nbsp;<span class="op" id="7050853">&gt;=</span>&nbsp;<span class="ident" id="7050856">utf8</span><span class="op" id="7050860">.</span><span class="ident" id="7050861">RuneSelf</span>&nbsp;<span class="op" id="7050870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050875">return</span>&nbsp;<span class="ident" id="7050882">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7050893">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7050896">return</span>&nbsp;<span class="ident" id="7050903">true</span><br>
<span class="lineno"></span><span class="op" id="7050908">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7050911">func</span>&nbsp;<span class="ident" id="7050916">tryCompile</span><span class="op" id="7050926">(</span><span class="ident" id="7050927">s</span>&nbsp;<span class="builtintype" id="7050929">string</span><span class="op" id="7050935">)</span>&nbsp;<span class="op" id="7050937">(</span><span class="ident" id="7050938">re</span>&nbsp;<span class="op" id="7050941">*</span><span class="ident" id="7050942">Regexp</span><span class="op" id="7050948">,</span>&nbsp;<span class="ident" id="7050950">err</span>&nbsp;<span class="builtintype" id="7050954">error</span><span class="op" id="7050959">)</span>&nbsp;<span class="op" id="7050961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7050964">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051006">defer</span>&nbsp;<span class="keyword" id="7051012">func</span><span class="op" id="7051016">(</span><span class="op" id="7051017">)</span>&nbsp;<span class="op" id="7051019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051023">if</span>&nbsp;<span class="ident" id="7051026">r</span>&nbsp;<span class="op" id="7051028">:=</span>&nbsp;<span class="builtinfunc" id="7051031">recover</span><span class="op" id="7051038">(</span><span class="op" id="7051039">)</span><span class="op" id="7051040">;</span>&nbsp;<span class="ident" id="7051042">r</span>&nbsp;<span class="op" id="7051044">!=</span>&nbsp;<span class="ident" id="7051047">nil</span>&nbsp;<span class="op" id="7051051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051056">err</span>&nbsp;<span class="op" id="7051060">=</span>&nbsp;<span class="ident" id="7051062">fmt</span><span class="op" id="7051065">.</span><span class="ident" id="7051066">Errorf</span><span class="op" id="7051072">(</span><span class="string" id="7051073">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="7051084">,</span>&nbsp;<span class="ident" id="7051086">r</span><span class="op" id="7051087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051094">}</span><span class="op" id="7051095">(</span><span class="op" id="7051096">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051099">return</span>&nbsp;<span class="ident" id="7051106">Compile</span><span class="op" id="7051113">(</span><span class="ident" id="7051114">s</span><span class="op" id="7051115">)</span><br>
<span class="lineno"></span><span class="op" id="7051117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7051120">func</span>&nbsp;<span class="ident" id="7051125">parseResult</span><span class="op" id="7051136">(</span><span class="ident" id="7051137">t</span>&nbsp;<span class="op" id="7051139">*</span><span class="ident" id="7051140">testing</span><span class="op" id="7051147">.</span><span class="ident" id="7051148">T</span><span class="op" id="7051149">,</span>&nbsp;<span class="ident" id="7051151">file</span>&nbsp;<span class="builtintype" id="7051156">string</span><span class="op" id="7051162">,</span>&nbsp;<span class="ident" id="7051164">lineno</span>&nbsp;<span class="builtintype" id="7051171">int</span><span class="op" id="7051174">,</span>&nbsp;<span class="ident" id="7051176">res</span>&nbsp;<span class="builtintype" id="7051180">string</span><span class="op" id="7051186">)</span>&nbsp;<span class="op" id="7051188">[</span><span class="op" id="7051189">]</span><span class="builtintype" id="7051190">int</span>&nbsp;<span class="op" id="7051194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7051197">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051232">if</span>&nbsp;<span class="ident" id="7051235">res</span>&nbsp;<span class="op" id="7051239">==</span>&nbsp;<span class="string" id="7051242">&#34;-&#34;</span>&nbsp;<span class="op" id="7051246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051250">return</span>&nbsp;<span class="ident" id="7051257">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7051265">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051313">n</span>&nbsp;<span class="op" id="7051315">:=</span>&nbsp;<span class="num" id="7051318">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051321">for</span>&nbsp;<span class="ident" id="7051325">j</span>&nbsp;<span class="op" id="7051327">:=</span>&nbsp;<span class="num" id="7051330">0</span><span class="op" id="7051331">;</span>&nbsp;<span class="ident" id="7051333">j</span>&nbsp;<span class="op" id="7051335">&lt;</span>&nbsp;<span class="builtinfunc" id="7051337">len</span><span class="op" id="7051340">(</span><span class="ident" id="7051341">res</span><span class="op" id="7051344">)</span><span class="op" id="7051345">;</span>&nbsp;<span class="ident" id="7051347">j</span><span class="op" id="7051348">++</span>&nbsp;<span class="op" id="7051351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051355">if</span>&nbsp;<span class="ident" id="7051358">res</span><span class="op" id="7051361">[</span><span class="ident" id="7051362">j</span><span class="op" id="7051363">]</span>&nbsp;<span class="op" id="7051365">==</span>&nbsp;<span class="string" id="7051368">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7051372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051377">n</span><span class="op" id="7051378">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051386">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051389">out</span>&nbsp;<span class="op" id="7051393">:=</span>&nbsp;<span class="builtinfunc" id="7051396">make</span><span class="op" id="7051400">(</span><span class="op" id="7051401">[</span><span class="op" id="7051402">]</span><span class="builtintype" id="7051403">int</span><span class="op" id="7051406">,</span>&nbsp;<span class="num" id="7051408">2</span><span class="op" id="7051409">*</span><span class="ident" id="7051410">n</span><span class="op" id="7051411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051414">i</span>&nbsp;<span class="op" id="7051416">:=</span>&nbsp;<span class="num" id="7051419">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051422">n</span>&nbsp;<span class="op" id="7051424">=</span>&nbsp;<span class="num" id="7051426">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051429">for</span>&nbsp;<span class="ident" id="7051433">j</span>&nbsp;<span class="op" id="7051435">:=</span>&nbsp;<span class="num" id="7051438">0</span><span class="op" id="7051439">;</span>&nbsp;<span class="ident" id="7051441">j</span>&nbsp;<span class="op" id="7051443">&lt;=</span>&nbsp;<span class="builtinfunc" id="7051446">len</span><span class="op" id="7051449">(</span><span class="ident" id="7051450">res</span><span class="op" id="7051453">)</span><span class="op" id="7051454">;</span>&nbsp;<span class="ident" id="7051456">j</span><span class="op" id="7051457">++</span>&nbsp;<span class="op" id="7051460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051464">if</span>&nbsp;<span class="ident" id="7051467">j</span>&nbsp;<span class="op" id="7051469">==</span>&nbsp;<span class="builtinfunc" id="7051472">len</span><span class="op" id="7051475">(</span><span class="ident" id="7051476">res</span><span class="op" id="7051479">)</span>&nbsp;<span class="op" id="7051481">||</span>&nbsp;<span class="ident" id="7051484">res</span><span class="op" id="7051487">[</span><span class="ident" id="7051488">j</span><span class="op" id="7051489">]</span>&nbsp;<span class="op" id="7051491">==</span>&nbsp;<span class="string" id="7051494">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7051498">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7051503">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051554">pair</span>&nbsp;<span class="op" id="7051559">:=</span>&nbsp;<span class="ident" id="7051562">res</span><span class="op" id="7051565">[</span><span class="ident" id="7051566">i</span><span class="op" id="7051567">:</span><span class="ident" id="7051568">j</span><span class="op" id="7051569">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051574">if</span>&nbsp;<span class="ident" id="7051577">pair</span>&nbsp;<span class="op" id="7051582">==</span>&nbsp;<span class="string" id="7051585">&#34;-&#34;</span>&nbsp;<span class="op" id="7051589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051595">out</span><span class="op" id="7051598">[</span><span class="ident" id="7051599">n</span><span class="op" id="7051600">]</span>&nbsp;<span class="op" id="7051602">=</span>&nbsp;<span class="op" id="7051604">-</span><span class="num" id="7051605">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051611">out</span><span class="op" id="7051614">[</span><span class="ident" id="7051615">n</span><span class="op" id="7051616">+</span><span class="num" id="7051617">1</span><span class="op" id="7051618">]</span>&nbsp;<span class="op" id="7051620">=</span>&nbsp;<span class="op" id="7051622">-</span><span class="num" id="7051623">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051628">}</span>&nbsp;<span class="keyword" id="7051630">else</span>&nbsp;<span class="op" id="7051635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051641">k</span>&nbsp;<span class="op" id="7051643">:=</span>&nbsp;<span class="ident" id="7051646">strings</span><span class="op" id="7051653">.</span><span class="ident" id="7051654">Index</span><span class="op" id="7051659">(</span><span class="ident" id="7051660">pair</span><span class="op" id="7051664">,</span>&nbsp;<span class="string" id="7051666">&#34;-&#34;</span><span class="op" id="7051669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051675">if</span>&nbsp;<span class="ident" id="7051678">k</span>&nbsp;<span class="op" id="7051680">&lt;</span>&nbsp;<span class="num" id="7051682">0</span>&nbsp;<span class="op" id="7051684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051691">t</span><span class="op" id="7051692">.</span><span class="ident" id="7051693">Fatalf</span><span class="op" id="7051699">(</span><span class="string" id="7051700">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7051724">,</span>&nbsp;<span class="ident" id="7051726">file</span><span class="op" id="7051730">,</span>&nbsp;<span class="ident" id="7051732">lineno</span><span class="op" id="7051738">,</span>&nbsp;<span class="ident" id="7051740">pair</span><span class="op" id="7051744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051750">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051756">lo</span><span class="op" id="7051758">,</span>&nbsp;<span class="ident" id="7051760">err1</span>&nbsp;<span class="op" id="7051765">:=</span>&nbsp;<span class="ident" id="7051768">strconv</span><span class="op" id="7051775">.</span><span class="ident" id="7051776">Atoi</span><span class="op" id="7051780">(</span><span class="ident" id="7051781">pair</span><span class="op" id="7051785">[</span><span class="op" id="7051786">:</span><span class="ident" id="7051787">k</span><span class="op" id="7051788">]</span><span class="op" id="7051789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051795">hi</span><span class="op" id="7051797">,</span>&nbsp;<span class="ident" id="7051799">err2</span>&nbsp;<span class="op" id="7051804">:=</span>&nbsp;<span class="ident" id="7051807">strconv</span><span class="op" id="7051814">.</span><span class="ident" id="7051815">Atoi</span><span class="op" id="7051819">(</span><span class="ident" id="7051820">pair</span><span class="op" id="7051824">[</span><span class="ident" id="7051825">k</span><span class="op" id="7051826">+</span><span class="num" id="7051827">1</span><span class="op" id="7051828">:</span><span class="op" id="7051829">]</span><span class="op" id="7051830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7051836">if</span>&nbsp;<span class="ident" id="7051839">err1</span>&nbsp;<span class="op" id="7051844">!=</span>&nbsp;<span class="ident" id="7051847">nil</span>&nbsp;<span class="op" id="7051851">||</span>&nbsp;<span class="ident" id="7051854">err2</span>&nbsp;<span class="op" id="7051859">!=</span>&nbsp;<span class="ident" id="7051862">nil</span>&nbsp;<span class="op" id="7051866">||</span>&nbsp;<span class="ident" id="7051869">lo</span>&nbsp;<span class="op" id="7051872">&gt;</span>&nbsp;<span class="ident" id="7051874">hi</span>&nbsp;<span class="op" id="7051877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051884">t</span><span class="op" id="7051885">.</span><span class="ident" id="7051886">Fatalf</span><span class="op" id="7051892">(</span><span class="string" id="7051893">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7051917">,</span>&nbsp;<span class="ident" id="7051919">file</span><span class="op" id="7051923">,</span>&nbsp;<span class="ident" id="7051925">lineno</span><span class="op" id="7051931">,</span>&nbsp;<span class="ident" id="7051933">pair</span><span class="op" id="7051937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051943">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051949">out</span><span class="op" id="7051952">[</span><span class="ident" id="7051953">n</span><span class="op" id="7051954">]</span>&nbsp;<span class="op" id="7051956">=</span>&nbsp;<span class="ident" id="7051958">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051965">out</span><span class="op" id="7051968">[</span><span class="ident" id="7051969">n</span><span class="op" id="7051970">+</span><span class="num" id="7051971">1</span><span class="op" id="7051972">]</span>&nbsp;<span class="op" id="7051974">=</span>&nbsp;<span class="ident" id="7051976">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7051982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051987">n</span>&nbsp;<span class="op" id="7051989">+=</span>&nbsp;<span class="num" id="7051992">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7051997">i</span>&nbsp;<span class="op" id="7051999">=</span>&nbsp;<span class="ident" id="7052001">j</span>&nbsp;<span class="op" id="7052003">+</span>&nbsp;<span class="num" id="7052005">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052015">return</span>&nbsp;<span class="ident" id="7052022">out</span><br>
<span class="lineno"></span><span class="op" id="7052026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7052029">func</span>&nbsp;<span class="ident" id="7052034">same</span><span class="op" id="7052038">(</span><span class="ident" id="7052039">x</span><span class="op" id="7052040">,</span>&nbsp;<span class="ident" id="7052042">y</span>&nbsp;<span class="op" id="7052044">[</span><span class="op" id="7052045">]</span><span class="builtintype" id="7052046">int</span><span class="op" id="7052049">)</span>&nbsp;<span class="builtintype" id="7052051">bool</span>&nbsp;<span class="op" id="7052056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052059">if</span>&nbsp;<span class="builtinfunc" id="7052062">len</span><span class="op" id="7052065">(</span><span class="ident" id="7052066">x</span><span class="op" id="7052067">)</span>&nbsp;<span class="op" id="7052069">!=</span>&nbsp;<span class="builtinfunc" id="7052072">len</span><span class="op" id="7052075">(</span><span class="ident" id="7052076">y</span><span class="op" id="7052077">)</span>&nbsp;<span class="op" id="7052079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052083">return</span>&nbsp;<span class="ident" id="7052090">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052100">for</span>&nbsp;<span class="ident" id="7052104">i</span><span class="op" id="7052105">,</span>&nbsp;<span class="ident" id="7052107">xi</span>&nbsp;<span class="op" id="7052110">:=</span>&nbsp;<span class="keyword" id="7052113">range</span>&nbsp;<span class="ident" id="7052119">x</span>&nbsp;<span class="op" id="7052121">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052125">if</span>&nbsp;<span class="ident" id="7052128">xi</span>&nbsp;<span class="op" id="7052131">!=</span>&nbsp;<span class="ident" id="7052134">y</span><span class="op" id="7052135">[</span><span class="ident" id="7052136">i</span><span class="op" id="7052137">]</span>&nbsp;<span class="op" id="7052139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052144">return</span>&nbsp;<span class="ident" id="7052151">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052165">return</span>&nbsp;<span class="ident" id="7052172">true</span><br>
<span class="lineno">325</span><span class="op" id="7052177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7052180">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7052237">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="7052297">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="7052349">func</span>&nbsp;<span class="ident" id="7052354">TestFowler</span><span class="op" id="7052364">(</span><span class="ident" id="7052365">t</span>&nbsp;<span class="op" id="7052367">*</span><span class="ident" id="7052368">testing</span><span class="op" id="7052375">.</span><span class="ident" id="7052376">T</span><span class="op" id="7052377">)</span>&nbsp;<span class="op" id="7052379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052382">files</span><span class="op" id="7052387">,</span>&nbsp;<span class="ident" id="7052389">err</span>&nbsp;<span class="op" id="7052393">:=</span>&nbsp;<span class="ident" id="7052396">filepath</span><span class="op" id="7052404">.</span><span class="ident" id="7052405">Glob</span><span class="op" id="7052409">(</span><span class="string" id="7052410">&#34;testdata/*.dat&#34;</span><span class="op" id="7052426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052429">if</span>&nbsp;<span class="ident" id="7052432">err</span>&nbsp;<span class="op" id="7052436">!=</span>&nbsp;<span class="ident" id="7052439">nil</span>&nbsp;<span class="op" id="7052443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052447">t</span><span class="op" id="7052448">.</span><span class="ident" id="7052449">Fatal</span><span class="op" id="7052454">(</span><span class="ident" id="7052455">err</span><span class="op" id="7052458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052461">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052464">for</span>&nbsp;<span class="ident" id="7052468">_</span><span class="op" id="7052469">,</span>&nbsp;<span class="ident" id="7052471">file</span>&nbsp;<span class="op" id="7052476">:=</span>&nbsp;<span class="keyword" id="7052479">range</span>&nbsp;<span class="ident" id="7052485">files</span>&nbsp;<span class="op" id="7052491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052495">t</span><span class="op" id="7052496">.</span><span class="ident" id="7052497">Log</span><span class="op" id="7052500">(</span><span class="ident" id="7052501">file</span><span class="op" id="7052505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052509">testFowler</span><span class="op" id="7052519">(</span><span class="ident" id="7052520">t</span><span class="op" id="7052521">,</span>&nbsp;<span class="ident" id="7052523">file</span><span class="op" id="7052527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052530">}</span><br>
<span class="lineno"></span><span class="op" id="7052532">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7052535">var</span>&nbsp;<span class="ident" id="7052539">notab</span>&nbsp;<span class="op" id="7052545">=</span>&nbsp;<span class="ident" id="7052547">MustCompilePOSIX</span><span class="op" id="7052563">(</span><span class="string" id="7052564">`[^\t]+`</span><span class="op" id="7052572">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7052575">func</span>&nbsp;<span class="ident" id="7052580">testFowler</span><span class="op" id="7052590">(</span><span class="ident" id="7052591">t</span>&nbsp;<span class="op" id="7052593">*</span><span class="ident" id="7052594">testing</span><span class="op" id="7052601">.</span><span class="ident" id="7052602">T</span><span class="op" id="7052603">,</span>&nbsp;<span class="ident" id="7052605">file</span>&nbsp;<span class="builtintype" id="7052610">string</span><span class="op" id="7052616">)</span>&nbsp;<span class="op" id="7052618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052621">f</span><span class="op" id="7052622">,</span>&nbsp;<span class="ident" id="7052624">err</span>&nbsp;<span class="op" id="7052628">:=</span>&nbsp;<span class="ident" id="7052631">os</span><span class="op" id="7052633">.</span><span class="ident" id="7052634">Open</span><span class="op" id="7052638">(</span><span class="ident" id="7052639">file</span><span class="op" id="7052643">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052646">if</span>&nbsp;<span class="ident" id="7052649">err</span>&nbsp;<span class="op" id="7052653">!=</span>&nbsp;<span class="ident" id="7052656">nil</span>&nbsp;<span class="op" id="7052660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052664">t</span><span class="op" id="7052665">.</span><span class="ident" id="7052666">Error</span><span class="op" id="7052671">(</span><span class="ident" id="7052672">err</span><span class="op" id="7052675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052679">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052690">defer</span>&nbsp;<span class="ident" id="7052696">f</span><span class="op" id="7052697">.</span><span class="ident" id="7052698">Close</span><span class="op" id="7052703">(</span><span class="op" id="7052704">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052707">b</span>&nbsp;<span class="op" id="7052709">:=</span>&nbsp;<span class="ident" id="7052712">bufio</span><span class="op" id="7052717">.</span><span class="ident" id="7052718">NewReader</span><span class="op" id="7052727">(</span><span class="ident" id="7052728">f</span><span class="op" id="7052729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052732">lineno</span>&nbsp;<span class="op" id="7052739">:=</span>&nbsp;<span class="num" id="7052742">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052745">lastRegexp</span>&nbsp;<span class="op" id="7052756">:=</span>&nbsp;<span class="string" id="7052759">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="7052762">Reading</span><span class="op" id="7052769">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052772">for</span>&nbsp;<span class="op" id="7052776">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052780">lineno</span><span class="op" id="7052786">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052791">line</span><span class="op" id="7052795">,</span>&nbsp;<span class="ident" id="7052797">err</span>&nbsp;<span class="op" id="7052801">:=</span>&nbsp;<span class="ident" id="7052804">b</span><span class="op" id="7052805">.</span><span class="ident" id="7052806">ReadString</span><span class="op" id="7052816">(</span><span class="string" id="7052817">&#39;\n&#39;</span><span class="op" id="7052821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052825">if</span>&nbsp;<span class="ident" id="7052828">err</span>&nbsp;<span class="op" id="7052832">!=</span>&nbsp;<span class="ident" id="7052835">nil</span>&nbsp;<span class="op" id="7052839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052844">if</span>&nbsp;<span class="ident" id="7052847">err</span>&nbsp;<span class="op" id="7052851">!=</span>&nbsp;<span class="ident" id="7052854">io</span><span class="op" id="7052856">.</span><span class="ident" id="7052857">EOF</span>&nbsp;<span class="op" id="7052861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7052867">t</span><span class="op" id="7052868">.</span><span class="ident" id="7052869">Errorf</span><span class="op" id="7052875">(</span><span class="string" id="7052876">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7052887">,</span>&nbsp;<span class="ident" id="7052889">file</span><span class="op" id="7052893">,</span>&nbsp;<span class="ident" id="7052895">lineno</span><span class="op" id="7052901">,</span>&nbsp;<span class="ident" id="7052903">err</span><span class="op" id="7052906">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7052916">break</span>&nbsp;<span class="ident" id="7052922">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7052932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7052937">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053000">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053005">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053023">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053094">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053164">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053235">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053253">if</span>&nbsp;<span class="ident" id="7053256">line</span><span class="op" id="7053260">[</span><span class="num" id="7053261">0</span><span class="op" id="7053262">]</span>&nbsp;<span class="op" id="7053264">==</span>&nbsp;<span class="string" id="7053267">&#39;#&#39;</span>&nbsp;<span class="op" id="7053271">||</span>&nbsp;<span class="ident" id="7053274">line</span><span class="op" id="7053278">[</span><span class="num" id="7053279">0</span><span class="op" id="7053280">]</span>&nbsp;<span class="op" id="7053282">==</span>&nbsp;<span class="string" id="7053285">&#39;\n&#39;</span>&nbsp;<span class="op" id="7053290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053295">continue</span>&nbsp;<span class="ident" id="7053304">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053318">line</span>&nbsp;<span class="op" id="7053323">=</span>&nbsp;<span class="ident" id="7053325">line</span><span class="op" id="7053329">[</span><span class="op" id="7053330">:</span><span class="builtinfunc" id="7053331">len</span><span class="op" id="7053334">(</span><span class="ident" id="7053335">line</span><span class="op" id="7053339">)</span><span class="op" id="7053340">-</span><span class="num" id="7053341">1</span><span class="op" id="7053342">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053346">field</span>&nbsp;<span class="op" id="7053352">:=</span>&nbsp;<span class="ident" id="7053355">notab</span><span class="op" id="7053360">.</span><span class="ident" id="7053361">FindAllString</span><span class="op" id="7053374">(</span><span class="ident" id="7053375">line</span><span class="op" id="7053379">,</span>&nbsp;<span class="op" id="7053381">-</span><span class="num" id="7053382">1</span><span class="op" id="7053383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053387">for</span>&nbsp;<span class="ident" id="7053391">i</span><span class="op" id="7053392">,</span>&nbsp;<span class="ident" id="7053394">f</span>&nbsp;<span class="op" id="7053396">:=</span>&nbsp;<span class="keyword" id="7053399">range</span>&nbsp;<span class="ident" id="7053405">field</span>&nbsp;<span class="op" id="7053411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053416">if</span>&nbsp;<span class="ident" id="7053419">f</span>&nbsp;<span class="op" id="7053421">==</span>&nbsp;<span class="string" id="7053424">&#34;NULL&#34;</span>&nbsp;<span class="op" id="7053431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053437">field</span><span class="op" id="7053442">[</span><span class="ident" id="7053443">i</span><span class="op" id="7053444">]</span>&nbsp;<span class="op" id="7053446">=</span>&nbsp;<span class="string" id="7053448">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053454">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053459">if</span>&nbsp;<span class="ident" id="7053462">f</span>&nbsp;<span class="op" id="7053464">==</span>&nbsp;<span class="string" id="7053467">&#34;NIL&#34;</span>&nbsp;<span class="op" id="7053473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7053479">t</span><span class="op" id="7053480">.</span><span class="ident" id="7053481">Logf</span><span class="op" id="7053485">(</span><span class="string" id="7053486">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="7053503">,</span>&nbsp;<span class="ident" id="7053505">file</span><span class="op" id="7053509">,</span>&nbsp;<span class="ident" id="7053511">lineno</span><span class="op" id="7053517">,</span>&nbsp;<span class="ident" id="7053519">line</span><span class="op" id="7053523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053529">continue</span>&nbsp;<span class="ident" id="7053538">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053549">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053553">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053557">if</span>&nbsp;<span class="builtinfunc" id="7053560">len</span><span class="op" id="7053563">(</span><span class="ident" id="7053564">field</span><span class="op" id="7053569">)</span>&nbsp;<span class="op" id="7053571">==</span>&nbsp;<span class="num" id="7053574">0</span>&nbsp;<span class="op" id="7053576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7053581">continue</span>&nbsp;<span class="ident" id="7053590">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7053600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053605">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053680">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053752">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053824">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053903">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053962">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7053967">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbspbasic&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspBRE&nbsp;&nbsp;&nbsp;&nbsp(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054007">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbspREG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspERE&nbsp;&nbsp;&nbsp;&nbsp(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054045">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbspREG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspARE&nbsp;&nbsp;&nbsp;&nbsp(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054097">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbspREG_SHELL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspSRE&nbsp;&nbsp;&nbsp;&nbsp(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054133">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbspREG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbspKRE&nbsp;&nbsp;&nbsp;&nbsp(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054183">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbspREG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspLRE&nbsp;&nbsp;&nbsp;&nbsp(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054219">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054224">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbspREG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054269">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbspREG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054313">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbspREG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054361">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054412">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbspREG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsprhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054456">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbspREG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054512">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbspFNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsptestfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054574">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbspREG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054622">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbspREG_ICASE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054656">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbspREG_SPAN&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054690">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbspREG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054740">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054775">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbspREG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspminimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054813">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbspREG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054855">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbspREG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054909">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054953">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbspREG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspdelimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7054997">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbspREG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055033">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055076">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbspREG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspall&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055135">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbspstandard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055198">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbspREG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055249">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbspREG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspno&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055300">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbspREG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplet&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055346">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspregexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055391">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbspREG_NULL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspNULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055435">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055508">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055580">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055651">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055656">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055686">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055691">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspset&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055752">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055757">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055835">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055900">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7055972">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056021">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspskip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056063">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspend&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056087">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056092">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056142">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056183">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056237">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056269">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056274">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspuse&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056329">flag</span>&nbsp;<span class="op" id="7056334">:=</span>&nbsp;<span class="ident" id="7056337">field</span><span class="op" id="7056342">[</span><span class="num" id="7056343">0</span><span class="op" id="7056344">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056348">switch</span>&nbsp;<span class="ident" id="7056355">flag</span><span class="op" id="7056359">[</span><span class="num" id="7056360">0</span><span class="op" id="7056361">]</span>&nbsp;<span class="op" id="7056363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056367">case</span>&nbsp;<span class="string" id="7056372">&#39;?&#39;</span><span class="op" id="7056375">,</span>&nbsp;<span class="string" id="7056377">&#39;&amp;&#39;</span><span class="op" id="7056380">,</span>&nbsp;<span class="string" id="7056382">&#39;|&#39;</span><span class="op" id="7056385">,</span>&nbsp;<span class="string" id="7056387">&#39;;&#39;</span><span class="op" id="7056390">,</span>&nbsp;<span class="string" id="7056392">&#39;{&#39;</span><span class="op" id="7056395">,</span>&nbsp;<span class="string" id="7056397">&#39;}&#39;</span><span class="op" id="7056400">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056405">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056445">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056472">flag</span>&nbsp;<span class="op" id="7056477">=</span>&nbsp;<span class="ident" id="7056479">flag</span><span class="op" id="7056483">[</span><span class="num" id="7056484">1</span><span class="op" id="7056485">:</span><span class="op" id="7056486">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056491">if</span>&nbsp;<span class="ident" id="7056494">flag</span>&nbsp;<span class="op" id="7056499">==</span>&nbsp;<span class="string" id="7056502">&#34;&#34;</span>&nbsp;<span class="op" id="7056505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056511">continue</span>&nbsp;<span class="ident" id="7056520">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056535">case</span>&nbsp;<span class="string" id="7056540">&#39;:&#39;</span><span class="op" id="7056543">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056548">i</span>&nbsp;<span class="op" id="7056550">:=</span>&nbsp;<span class="ident" id="7056553">strings</span><span class="op" id="7056560">.</span><span class="ident" id="7056561">Index</span><span class="op" id="7056566">(</span><span class="ident" id="7056567">flag</span><span class="op" id="7056571">[</span><span class="num" id="7056572">1</span><span class="op" id="7056573">:</span><span class="op" id="7056574">]</span><span class="op" id="7056575">,</span>&nbsp;<span class="string" id="7056577">&#34;:&#34;</span><span class="op" id="7056580">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056585">if</span>&nbsp;<span class="ident" id="7056588">i</span>&nbsp;<span class="op" id="7056590">&lt;</span>&nbsp;<span class="num" id="7056592">0</span>&nbsp;<span class="op" id="7056594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056600">t</span><span class="op" id="7056601">.</span><span class="ident" id="7056602">Logf</span><span class="op" id="7056606">(</span><span class="string" id="7056607">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7056617">,</span>&nbsp;<span class="ident" id="7056619">line</span><span class="op" id="7056623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056629">continue</span>&nbsp;<span class="ident" id="7056638">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056649">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056654">flag</span>&nbsp;<span class="op" id="7056659">=</span>&nbsp;<span class="ident" id="7056661">flag</span><span class="op" id="7056665">[</span><span class="num" id="7056666">1</span><span class="op" id="7056667">+</span><span class="ident" id="7056668">i</span><span class="op" id="7056669">+</span><span class="num" id="7056670">1</span><span class="op" id="7056671">:</span><span class="op" id="7056672">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056676">case</span>&nbsp;<span class="string" id="7056681">&#39;C&#39;</span><span class="op" id="7056684">,</span>&nbsp;<span class="string" id="7056686">&#39;N&#39;</span><span class="op" id="7056689">,</span>&nbsp;<span class="string" id="7056691">&#39;T&#39;</span><span class="op" id="7056694">,</span>&nbsp;<span class="string" id="7056696">&#39;0&#39;</span><span class="op" id="7056699">,</span>&nbsp;<span class="string" id="7056701">&#39;1&#39;</span><span class="op" id="7056704">,</span>&nbsp;<span class="string" id="7056706">&#39;2&#39;</span><span class="op" id="7056709">,</span>&nbsp;<span class="string" id="7056711">&#39;3&#39;</span><span class="op" id="7056714">,</span>&nbsp;<span class="string" id="7056716">&#39;4&#39;</span><span class="op" id="7056719">,</span>&nbsp;<span class="string" id="7056721">&#39;5&#39;</span><span class="op" id="7056724">,</span>&nbsp;<span class="string" id="7056726">&#39;6&#39;</span><span class="op" id="7056729">,</span>&nbsp;<span class="string" id="7056731">&#39;7&#39;</span><span class="op" id="7056734">,</span>&nbsp;<span class="string" id="7056736">&#39;8&#39;</span><span class="op" id="7056739">,</span>&nbsp;<span class="string" id="7056741">&#39;9&#39;</span><span class="op" id="7056744">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056749">t</span><span class="op" id="7056750">.</span><span class="ident" id="7056751">Logf</span><span class="op" id="7056755">(</span><span class="string" id="7056756">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7056766">,</span>&nbsp;<span class="ident" id="7056768">line</span><span class="op" id="7056772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056777">continue</span>&nbsp;<span class="ident" id="7056786">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056801">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056879">if</span>&nbsp;<span class="builtinfunc" id="7056882">len</span><span class="op" id="7056885">(</span><span class="ident" id="7056886">field</span><span class="op" id="7056891">)</span>&nbsp;<span class="op" id="7056893">&lt;</span>&nbsp;<span class="num" id="7056895">4</span>&nbsp;<span class="op" id="7056897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7056902">t</span><span class="op" id="7056903">.</span><span class="ident" id="7056904">Errorf</span><span class="op" id="7056910">(</span><span class="string" id="7056911">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="7056938">,</span>&nbsp;<span class="ident" id="7056940">file</span><span class="op" id="7056944">,</span>&nbsp;<span class="ident" id="7056946">lineno</span><span class="op" id="7056952">,</span>&nbsp;<span class="ident" id="7056954">line</span><span class="op" id="7056958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7056963">continue</span>&nbsp;<span class="ident" id="7056972">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7056982">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7056987">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057030">if</span>&nbsp;<span class="ident" id="7057033">strings</span><span class="op" id="7057040">.</span><span class="ident" id="7057041">Contains</span><span class="op" id="7057049">(</span><span class="ident" id="7057050">flag</span><span class="op" id="7057054">,</span>&nbsp;<span class="string" id="7057056">&#34;$&#34;</span><span class="op" id="7057059">)</span>&nbsp;<span class="op" id="7057061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057066">f</span>&nbsp;<span class="op" id="7057068">:=</span>&nbsp;<span class="string" id="7057071">`&#34;`</span>&nbsp;<span class="op" id="7057075">+</span>&nbsp;<span class="ident" id="7057077">field</span><span class="op" id="7057082">[</span><span class="num" id="7057083">1</span><span class="op" id="7057084">]</span>&nbsp;<span class="op" id="7057086">+</span>&nbsp;<span class="string" id="7057088">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057095">if</span>&nbsp;<span class="ident" id="7057098">field</span><span class="op" id="7057103">[</span><span class="num" id="7057104">1</span><span class="op" id="7057105">]</span><span class="op" id="7057106">,</span>&nbsp;<span class="ident" id="7057108">err</span>&nbsp;<span class="op" id="7057112">=</span>&nbsp;<span class="ident" id="7057114">strconv</span><span class="op" id="7057121">.</span><span class="ident" id="7057122">Unquote</span><span class="op" id="7057129">(</span><span class="ident" id="7057130">f</span><span class="op" id="7057131">)</span><span class="op" id="7057132">;</span>&nbsp;<span class="ident" id="7057134">err</span>&nbsp;<span class="op" id="7057138">!=</span>&nbsp;<span class="ident" id="7057141">nil</span>&nbsp;<span class="op" id="7057145">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057151">t</span><span class="op" id="7057152">.</span><span class="ident" id="7057153">Errorf</span><span class="op" id="7057159">(</span><span class="string" id="7057160">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7057186">,</span>&nbsp;<span class="ident" id="7057188">file</span><span class="op" id="7057192">,</span>&nbsp;<span class="ident" id="7057194">lineno</span><span class="op" id="7057200">,</span>&nbsp;<span class="ident" id="7057202">f</span><span class="op" id="7057203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057213">f</span>&nbsp;<span class="op" id="7057215">=</span>&nbsp;<span class="string" id="7057217">`&#34;`</span>&nbsp;<span class="op" id="7057221">+</span>&nbsp;<span class="ident" id="7057223">field</span><span class="op" id="7057228">[</span><span class="num" id="7057229">2</span><span class="op" id="7057230">]</span>&nbsp;<span class="op" id="7057232">+</span>&nbsp;<span class="string" id="7057234">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057241">if</span>&nbsp;<span class="ident" id="7057244">field</span><span class="op" id="7057249">[</span><span class="num" id="7057250">2</span><span class="op" id="7057251">]</span><span class="op" id="7057252">,</span>&nbsp;<span class="ident" id="7057254">err</span>&nbsp;<span class="op" id="7057258">=</span>&nbsp;<span class="ident" id="7057260">strconv</span><span class="op" id="7057267">.</span><span class="ident" id="7057268">Unquote</span><span class="op" id="7057275">(</span><span class="ident" id="7057276">f</span><span class="op" id="7057277">)</span><span class="op" id="7057278">;</span>&nbsp;<span class="ident" id="7057280">err</span>&nbsp;<span class="op" id="7057284">!=</span>&nbsp;<span class="ident" id="7057287">nil</span>&nbsp;<span class="op" id="7057291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057297">t</span><span class="op" id="7057298">.</span><span class="ident" id="7057299">Errorf</span><span class="op" id="7057305">(</span><span class="string" id="7057306">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7057332">,</span>&nbsp;<span class="ident" id="7057334">file</span><span class="op" id="7057338">,</span>&nbsp;<span class="ident" id="7057340">lineno</span><span class="op" id="7057346">,</span>&nbsp;<span class="ident" id="7057348">f</span><span class="op" id="7057349">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057363">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057438">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057475">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057480">if</span>&nbsp;<span class="ident" id="7057483">field</span><span class="op" id="7057488">[</span><span class="num" id="7057489">1</span><span class="op" id="7057490">]</span>&nbsp;<span class="op" id="7057492">==</span>&nbsp;<span class="string" id="7057495">&#34;SAME&#34;</span>&nbsp;<span class="op" id="7057502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057507">field</span><span class="op" id="7057512">[</span><span class="num" id="7057513">1</span><span class="op" id="7057514">]</span>&nbsp;<span class="op" id="7057516">=</span>&nbsp;<span class="ident" id="7057518">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057535">lastRegexp</span>&nbsp;<span class="op" id="7057546">=</span>&nbsp;<span class="ident" id="7057548">field</span><span class="op" id="7057553">[</span><span class="num" id="7057554">1</span><span class="op" id="7057555">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057560">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057597">text</span>&nbsp;<span class="op" id="7057602">:=</span>&nbsp;<span class="ident" id="7057605">field</span><span class="op" id="7057610">[</span><span class="num" id="7057611">2</span><span class="op" id="7057612">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057617">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057653">ok</span><span class="op" id="7057655">,</span>&nbsp;<span class="ident" id="7057657">shouldCompile</span><span class="op" id="7057670">,</span>&nbsp;<span class="ident" id="7057672">shouldMatch</span><span class="op" id="7057683">,</span>&nbsp;<span class="ident" id="7057685">pos</span>&nbsp;<span class="op" id="7057689">:=</span>&nbsp;<span class="ident" id="7057692">parseFowlerResult</span><span class="op" id="7057709">(</span><span class="ident" id="7057710">field</span><span class="op" id="7057715">[</span><span class="num" id="7057716">3</span><span class="op" id="7057717">]</span><span class="op" id="7057718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057722">if</span>&nbsp;<span class="op" id="7057725">!</span><span class="ident" id="7057726">ok</span>&nbsp;<span class="op" id="7057729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057734">t</span><span class="op" id="7057735">.</span><span class="ident" id="7057736">Errorf</span><span class="op" id="7057742">(</span><span class="string" id="7057743">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="7057775">,</span>&nbsp;<span class="ident" id="7057777">file</span><span class="op" id="7057781">,</span>&nbsp;<span class="ident" id="7057783">lineno</span><span class="op" id="7057789">,</span>&nbsp;<span class="ident" id="7057791">field</span><span class="op" id="7057796">[</span><span class="num" id="7057797">3</span><span class="op" id="7057798">]</span><span class="op" id="7057799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057804">continue</span>&nbsp;<span class="ident" id="7057813">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7057823">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057828">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057885">Testing</span><span class="op" id="7057892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7057896">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7057971">for</span>&nbsp;<span class="ident" id="7057975">_</span><span class="op" id="7057976">,</span>&nbsp;<span class="ident" id="7057978">c</span>&nbsp;<span class="op" id="7057980">:=</span>&nbsp;<span class="keyword" id="7057983">range</span>&nbsp;<span class="ident" id="7057989">flag</span>&nbsp;<span class="op" id="7057994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7057999">pattern</span>&nbsp;<span class="op" id="7058007">:=</span>&nbsp;<span class="ident" id="7058010">field</span><span class="op" id="7058015">[</span><span class="num" id="7058016">1</span><span class="op" id="7058017">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058022">syn</span>&nbsp;<span class="op" id="7058026">:=</span>&nbsp;<span class="ident" id="7058029">syntax</span><span class="op" id="7058035">.</span><span class="ident" id="7058036">POSIX</span>&nbsp;<span class="op" id="7058042">|</span>&nbsp;<span class="ident" id="7058044">syntax</span><span class="op" id="7058050">.</span><span class="ident" id="7058051">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058062">switch</span>&nbsp;<span class="ident" id="7058069">c</span>&nbsp;<span class="op" id="7058071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058076">default</span><span class="op" id="7058083">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058089">continue</span>&nbsp;<span class="ident" id="7058098">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058109">case</span>&nbsp;<span class="string" id="7058114">&#39;E&#39;</span><span class="op" id="7058117">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058123">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058163">case</span>&nbsp;<span class="string" id="7058168">&#39;L&#39;</span><span class="op" id="7058171">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7058177">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058192">pattern</span>&nbsp;<span class="op" id="7058200">=</span>&nbsp;<span class="ident" id="7058202">QuoteMeta</span><span class="op" id="7058211">(</span><span class="ident" id="7058212">pattern</span><span class="op" id="7058219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058230">for</span>&nbsp;<span class="ident" id="7058234">_</span><span class="op" id="7058235">,</span>&nbsp;<span class="ident" id="7058237">c</span>&nbsp;<span class="op" id="7058239">:=</span>&nbsp;<span class="keyword" id="7058242">range</span>&nbsp;<span class="ident" id="7058248">flag</span>&nbsp;<span class="op" id="7058253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058259">switch</span>&nbsp;<span class="ident" id="7058266">c</span>&nbsp;<span class="op" id="7058268">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058274">case</span>&nbsp;<span class="string" id="7058279">&#39;i&#39;</span><span class="op" id="7058282">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058289">syn</span>&nbsp;<span class="op" id="7058293">|=</span>&nbsp;<span class="ident" id="7058296">syntax</span><span class="op" id="7058302">.</span><span class="ident" id="7058303">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058327">re</span><span class="op" id="7058329">,</span>&nbsp;<span class="ident" id="7058331">err</span>&nbsp;<span class="op" id="7058335">:=</span>&nbsp;<span class="ident" id="7058338">compile</span><span class="op" id="7058345">(</span><span class="ident" id="7058346">pattern</span><span class="op" id="7058353">,</span>&nbsp;<span class="ident" id="7058355">syn</span><span class="op" id="7058358">,</span>&nbsp;<span class="ident" id="7058360">true</span><span class="op" id="7058364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058369">if</span>&nbsp;<span class="ident" id="7058372">err</span>&nbsp;<span class="op" id="7058376">!=</span>&nbsp;<span class="ident" id="7058379">nil</span>&nbsp;<span class="op" id="7058383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058389">if</span>&nbsp;<span class="ident" id="7058392">shouldCompile</span>&nbsp;<span class="op" id="7058406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058413">t</span><span class="op" id="7058414">.</span><span class="ident" id="7058415">Errorf</span><span class="op" id="7058421">(</span><span class="string" id="7058422">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7058450">,</span>&nbsp;<span class="ident" id="7058452">file</span><span class="op" id="7058456">,</span>&nbsp;<span class="ident" id="7058458">lineno</span><span class="op" id="7058464">,</span>&nbsp;<span class="ident" id="7058466">pattern</span><span class="op" id="7058473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058479">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058485">continue</span>&nbsp;<span class="ident" id="7058494">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058510">if</span>&nbsp;<span class="op" id="7058513">!</span><span class="ident" id="7058514">shouldCompile</span>&nbsp;<span class="op" id="7058528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058534">t</span><span class="op" id="7058535">.</span><span class="ident" id="7058536">Errorf</span><span class="op" id="7058542">(</span><span class="string" id="7058543">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7058574">,</span>&nbsp;<span class="ident" id="7058576">file</span><span class="op" id="7058580">,</span>&nbsp;<span class="ident" id="7058582">lineno</span><span class="op" id="7058588">,</span>&nbsp;<span class="ident" id="7058590">pattern</span><span class="op" id="7058597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058603">continue</span>&nbsp;<span class="ident" id="7058612">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058628">match</span>&nbsp;<span class="op" id="7058634">:=</span>&nbsp;<span class="ident" id="7058637">re</span><span class="op" id="7058639">.</span><span class="ident" id="7058640">MatchString</span><span class="op" id="7058651">(</span><span class="ident" id="7058652">text</span><span class="op" id="7058656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058661">if</span>&nbsp;<span class="ident" id="7058664">match</span>&nbsp;<span class="op" id="7058670">!=</span>&nbsp;<span class="ident" id="7058673">shouldMatch</span>&nbsp;<span class="op" id="7058685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058691">t</span><span class="op" id="7058692">.</span><span class="ident" id="7058693">Errorf</span><span class="op" id="7058699">(</span><span class="string" id="7058700">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7058737">,</span>&nbsp;<span class="ident" id="7058739">file</span><span class="op" id="7058743">,</span>&nbsp;<span class="ident" id="7058745">lineno</span><span class="op" id="7058751">,</span>&nbsp;<span class="ident" id="7058753">pattern</span><span class="op" id="7058760">,</span>&nbsp;<span class="ident" id="7058762">text</span><span class="op" id="7058766">,</span>&nbsp;<span class="ident" id="7058768">match</span><span class="op" id="7058773">,</span>&nbsp;<span class="ident" id="7058775">shouldMatch</span><span class="op" id="7058786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058792">continue</span>&nbsp;<span class="ident" id="7058801">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7058812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058817">have</span>&nbsp;<span class="op" id="7058822">:=</span>&nbsp;<span class="ident" id="7058825">re</span><span class="op" id="7058827">.</span><span class="ident" id="7058828">FindStringSubmatchIndex</span><span class="op" id="7058851">(</span><span class="ident" id="7058852">text</span><span class="op" id="7058856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7058861">if</span>&nbsp;<span class="op" id="7058864">(</span><span class="builtinfunc" id="7058865">len</span><span class="op" id="7058868">(</span><span class="ident" id="7058869">have</span><span class="op" id="7058873">)</span>&nbsp;<span class="op" id="7058875">&gt;</span>&nbsp;<span class="num" id="7058877">0</span><span class="op" id="7058878">)</span>&nbsp;<span class="op" id="7058880">!=</span>&nbsp;<span class="ident" id="7058883">match</span>&nbsp;<span class="op" id="7058889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7058895">t</span><span class="op" id="7058896">.</span><span class="ident" id="7058897">Errorf</span><span class="op" id="7058903">(</span><span class="string" id="7058904">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7058969">,</span>&nbsp;<span class="ident" id="7058971">file</span><span class="op" id="7058975">,</span>&nbsp;<span class="ident" id="7058977">lineno</span><span class="op" id="7058983">,</span>&nbsp;<span class="ident" id="7058985">pattern</span><span class="op" id="7058992">,</span>&nbsp;<span class="ident" id="7058994">text</span><span class="op" id="7058998">,</span>&nbsp;<span class="ident" id="7059000">match</span><span class="op" id="7059005">,</span>&nbsp;<span class="ident" id="7059007">pattern</span><span class="op" id="7059014">,</span>&nbsp;<span class="ident" id="7059016">text</span><span class="op" id="7059020">,</span>&nbsp;<span class="ident" id="7059022">have</span><span class="op" id="7059026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059032">continue</span>&nbsp;<span class="ident" id="7059041">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059057">if</span>&nbsp;<span class="builtinfunc" id="7059060">len</span><span class="op" id="7059063">(</span><span class="ident" id="7059064">have</span><span class="op" id="7059068">)</span>&nbsp;<span class="op" id="7059070">&gt;</span>&nbsp;<span class="builtinfunc" id="7059072">len</span><span class="op" id="7059075">(</span><span class="ident" id="7059076">pos</span><span class="op" id="7059079">)</span>&nbsp;<span class="op" id="7059081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059087">have</span>&nbsp;<span class="op" id="7059092">=</span>&nbsp;<span class="ident" id="7059094">have</span><span class="op" id="7059098">[</span><span class="op" id="7059099">:</span><span class="builtinfunc" id="7059100">len</span><span class="op" id="7059103">(</span><span class="ident" id="7059104">pos</span><span class="op" id="7059107">)</span><span class="op" id="7059108">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7059118">if</span>&nbsp;<span class="op" id="7059121">!</span><span class="ident" id="7059122">same</span><span class="op" id="7059126">(</span><span class="ident" id="7059127">have</span><span class="op" id="7059131">,</span>&nbsp;<span class="ident" id="7059133">pos</span><span class="op" id="7059136">)</span>&nbsp;<span class="op" id="7059138">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7059144">t</span><span class="op" id="7059145">.</span><span class="ident" id="7059146">Errorf</span><span class="op" id="7059152">(</span><span class="string" id="7059153">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7059202">,</span>&nbsp;<span class="ident" id="7059204">file</span><span class="op" id="7059208">,</span>&nbsp;<span class="ident" id="7059210">lineno</span><span class="op" id="7059216">,</span>&nbsp;<span class="ident" id="7059218">pattern</span><span class="op" id="7059225">,</span>&nbsp;<span class="ident" id="7059227">text</span><span class="op" id="7059231">,</span>&nbsp;<span class="ident" id="7059233">have</span><span class="op" id="7059237">,</span>&nbsp;<span class="ident" id="7059239">pos</span><span class="op" id="7059242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7059254">}</span><br>
<span class="lineno"></span><span class="op" id="7059256">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="7059259">func</span>&nbsp;<span class="ident" id="7059264">parseFowlerResult</span><span class="op" id="7059281">(</span><span class="ident" id="7059282">s</span>&nbsp;<span class="builtintype" id="7059284">string</span><span class="op" id="7059290">)</span>&nbsp;<span class="op" id="7059292">(</span><span class="ident" id="7059293">ok</span><span class="op" id="7059295">,</span>&nbsp;<span class="ident" id="7059297">compiled</span><span class="op" id="7059305">,</span>&nbsp;<span class="ident" id="7059307">matched</span>&nbsp;<span class="builtintype" id="7059315">bool</span><span class="op" id="7059319">,</span>&nbsp;<span class="ident" id="7059321">pos</span>&nbsp;<span class="op" id="7059325">[</span><span class="op" id="7059326">]</span><span class="builtintype" id="7059327">int</span><span class="op" id="7059330">)</span>&nbsp;<span class="op" id="7059332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059335">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059406">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059476">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059545">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059615">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059684">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059755">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059830">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059906">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7059979">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060055">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060131">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060203">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060278">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060296">switch</span>&nbsp;<span class="op" id="7060303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060306">case</span>&nbsp;<span class="ident" id="7060311">s</span>&nbsp;<span class="op" id="7060313">==</span>&nbsp;<span class="string" id="7060316">&#34;&#34;</span><span class="op" id="7060318">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060322">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060363">ok</span>&nbsp;<span class="op" id="7060366">=</span>&nbsp;<span class="ident" id="7060368">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060375">compiled</span>&nbsp;<span class="op" id="7060384">=</span>&nbsp;<span class="ident" id="7060386">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060393">matched</span>&nbsp;<span class="op" id="7060401">=</span>&nbsp;<span class="ident" id="7060403">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060410">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060418">case</span>&nbsp;<span class="ident" id="7060423">s</span>&nbsp;<span class="op" id="7060425">==</span>&nbsp;<span class="string" id="7060428">&#34;NOMATCH&#34;</span><span class="op" id="7060437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060441">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060461">ok</span>&nbsp;<span class="op" id="7060464">=</span>&nbsp;<span class="ident" id="7060466">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060473">compiled</span>&nbsp;<span class="op" id="7060482">=</span>&nbsp;<span class="ident" id="7060484">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060491">matched</span>&nbsp;<span class="op" id="7060499">=</span>&nbsp;<span class="ident" id="7060501">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060509">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060517">case</span>&nbsp;<span class="string" id="7060522">&#39;A&#39;</span>&nbsp;<span class="op" id="7060526">&lt;=</span>&nbsp;<span class="ident" id="7060529">s</span><span class="op" id="7060530">[</span><span class="num" id="7060531">0</span><span class="op" id="7060532">]</span>&nbsp;<span class="op" id="7060534">&amp;&amp;</span>&nbsp;<span class="ident" id="7060537">s</span><span class="op" id="7060538">[</span><span class="num" id="7060539">0</span><span class="op" id="7060540">]</span>&nbsp;<span class="op" id="7060542">&lt;=</span>&nbsp;<span class="string" id="7060545">&#39;Z&#39;</span><span class="op" id="7060548">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7060552">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060603">ok</span>&nbsp;<span class="op" id="7060606">=</span>&nbsp;<span class="ident" id="7060608">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060615">compiled</span>&nbsp;<span class="op" id="7060624">=</span>&nbsp;<span class="ident" id="7060626">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060634">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060642">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060645">compiled</span>&nbsp;<span class="op" id="7060654">=</span>&nbsp;<span class="ident" id="7060656">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060663">var</span>&nbsp;<span class="ident" id="7060667">x</span>&nbsp;<span class="op" id="7060669">[</span><span class="op" id="7060670">]</span><span class="builtintype" id="7060671">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060676">for</span>&nbsp;<span class="ident" id="7060680">s</span>&nbsp;<span class="op" id="7060682">!=</span>&nbsp;<span class="string" id="7060685">&#34;&#34;</span>&nbsp;<span class="op" id="7060688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060692">var</span>&nbsp;<span class="ident" id="7060696">end</span>&nbsp;<span class="builtintype" id="7060700">byte</span>&nbsp;<span class="op" id="7060705">=</span>&nbsp;<span class="string" id="7060707">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060713">if</span>&nbsp;<span class="builtinfunc" id="7060716">len</span><span class="op" id="7060719">(</span><span class="ident" id="7060720">x</span><span class="op" id="7060721">)</span><span class="op" id="7060722">%</span><span class="num" id="7060723">2</span>&nbsp;<span class="op" id="7060725">==</span>&nbsp;<span class="num" id="7060728">0</span>&nbsp;<span class="op" id="7060730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060735">if</span>&nbsp;<span class="ident" id="7060738">s</span><span class="op" id="7060739">[</span><span class="num" id="7060740">0</span><span class="op" id="7060741">]</span>&nbsp;<span class="op" id="7060743">!=</span>&nbsp;<span class="string" id="7060746">&#39;(&#39;</span>&nbsp;<span class="op" id="7060750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060756">ok</span>&nbsp;<span class="op" id="7060759">=</span>&nbsp;<span class="ident" id="7060761">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060771">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060781">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060786">s</span>&nbsp;<span class="op" id="7060788">=</span>&nbsp;<span class="ident" id="7060790">s</span><span class="op" id="7060791">[</span><span class="num" id="7060792">1</span><span class="op" id="7060793">:</span><span class="op" id="7060794">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060799">end</span>&nbsp;<span class="op" id="7060803">=</span>&nbsp;<span class="string" id="7060805">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060815">i</span>&nbsp;<span class="op" id="7060817">:=</span>&nbsp;<span class="num" id="7060820">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060824">for</span>&nbsp;<span class="ident" id="7060828">i</span>&nbsp;<span class="op" id="7060830">&lt;</span>&nbsp;<span class="builtinfunc" id="7060832">len</span><span class="op" id="7060835">(</span><span class="ident" id="7060836">s</span><span class="op" id="7060837">)</span>&nbsp;<span class="op" id="7060839">&amp;&amp;</span>&nbsp;<span class="ident" id="7060842">s</span><span class="op" id="7060843">[</span><span class="ident" id="7060844">i</span><span class="op" id="7060845">]</span>&nbsp;<span class="op" id="7060847">!=</span>&nbsp;<span class="ident" id="7060850">end</span>&nbsp;<span class="op" id="7060854">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060859">i</span><span class="op" id="7060860">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060869">if</span>&nbsp;<span class="ident" id="7060872">i</span>&nbsp;<span class="op" id="7060874">==</span>&nbsp;<span class="num" id="7060877">0</span>&nbsp;<span class="op" id="7060879">||</span>&nbsp;<span class="ident" id="7060882">i</span>&nbsp;<span class="op" id="7060884">==</span>&nbsp;<span class="builtinfunc" id="7060887">len</span><span class="op" id="7060890">(</span><span class="ident" id="7060891">s</span><span class="op" id="7060892">)</span>&nbsp;<span class="op" id="7060894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060899">ok</span>&nbsp;<span class="op" id="7060902">=</span>&nbsp;<span class="ident" id="7060904">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060913">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7060922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060926">var</span>&nbsp;<span class="ident" id="7060930">v</span>&nbsp;<span class="op" id="7060932">=</span>&nbsp;<span class="op" id="7060934">-</span><span class="num" id="7060935">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060939">var</span>&nbsp;<span class="ident" id="7060943">err</span>&nbsp;<span class="builtintype" id="7060947">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7060955">if</span>&nbsp;<span class="ident" id="7060958">s</span><span class="op" id="7060959">[</span><span class="op" id="7060960">:</span><span class="ident" id="7060961">i</span><span class="op" id="7060962">]</span>&nbsp;<span class="op" id="7060964">!=</span>&nbsp;<span class="string" id="7060967">&#34;?&#34;</span>&nbsp;<span class="op" id="7060971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7060976">v</span><span class="op" id="7060977">,</span>&nbsp;<span class="ident" id="7060979">err</span>&nbsp;<span class="op" id="7060983">=</span>&nbsp;<span class="ident" id="7060985">strconv</span><span class="op" id="7060992">.</span><span class="ident" id="7060993">Atoi</span><span class="op" id="7060997">(</span><span class="ident" id="7060998">s</span><span class="op" id="7060999">[</span><span class="op" id="7061000">:</span><span class="ident" id="7061001">i</span><span class="op" id="7061002">]</span><span class="op" id="7061003">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061008">if</span>&nbsp;<span class="ident" id="7061011">err</span>&nbsp;<span class="op" id="7061015">!=</span>&nbsp;<span class="ident" id="7061018">nil</span>&nbsp;<span class="op" id="7061022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061028">ok</span>&nbsp;<span class="op" id="7061031">=</span>&nbsp;<span class="ident" id="7061033">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061043">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061057">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061061">x</span>&nbsp;<span class="op" id="7061063">=</span>&nbsp;<span class="builtinfunc" id="7061065">append</span><span class="op" id="7061071">(</span><span class="ident" id="7061072">x</span><span class="op" id="7061073">,</span>&nbsp;<span class="ident" id="7061075">v</span><span class="op" id="7061076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061080">s</span>&nbsp;<span class="op" id="7061082">=</span>&nbsp;<span class="ident" id="7061084">s</span><span class="op" id="7061085">[</span><span class="ident" id="7061086">i</span><span class="op" id="7061087">+</span><span class="num" id="7061088">1</span><span class="op" id="7061089">:</span><span class="op" id="7061090">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061096">if</span>&nbsp;<span class="builtinfunc" id="7061099">len</span><span class="op" id="7061102">(</span><span class="ident" id="7061103">x</span><span class="op" id="7061104">)</span><span class="op" id="7061105">%</span><span class="num" id="7061106">2</span>&nbsp;<span class="op" id="7061108">!=</span>&nbsp;<span class="num" id="7061111">0</span>&nbsp;<span class="op" id="7061113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061117">ok</span>&nbsp;<span class="op" id="7061120">=</span>&nbsp;<span class="ident" id="7061122">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061130">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061141">ok</span>&nbsp;<span class="op" id="7061144">=</span>&nbsp;<span class="ident" id="7061146">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061152">matched</span>&nbsp;<span class="op" id="7061160">=</span>&nbsp;<span class="ident" id="7061162">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061168">pos</span>&nbsp;<span class="op" id="7061172">=</span>&nbsp;<span class="ident" id="7061174">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061177">return</span><br>
<span class="lineno"></span><span class="op" id="7061184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7061187">var</span>&nbsp;<span class="ident" id="7061191">text</span>&nbsp;<span class="op" id="7061196">[</span><span class="op" id="7061197">]</span><span class="builtintype" id="7061198">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="7061204">func</span>&nbsp;<span class="ident" id="7061209">makeText</span><span class="op" id="7061217">(</span><span class="ident" id="7061218">n</span>&nbsp;<span class="builtintype" id="7061220">int</span><span class="op" id="7061223">)</span>&nbsp;<span class="op" id="7061225">[</span><span class="op" id="7061226">]</span><span class="builtintype" id="7061227">byte</span>&nbsp;<span class="op" id="7061232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061235">if</span>&nbsp;<span class="builtinfunc" id="7061238">len</span><span class="op" id="7061241">(</span><span class="ident" id="7061242">text</span><span class="op" id="7061246">)</span>&nbsp;<span class="op" id="7061248">&gt;=</span>&nbsp;<span class="ident" id="7061251">n</span>&nbsp;<span class="op" id="7061253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061257">return</span>&nbsp;<span class="ident" id="7061264">text</span><span class="op" id="7061268">[</span><span class="op" id="7061269">:</span><span class="ident" id="7061270">n</span><span class="op" id="7061271">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061277">text</span>&nbsp;<span class="op" id="7061282">=</span>&nbsp;<span class="builtinfunc" id="7061284">make</span><span class="op" id="7061288">(</span><span class="op" id="7061289">[</span><span class="op" id="7061290">]</span><span class="builtintype" id="7061291">byte</span><span class="op" id="7061295">,</span>&nbsp;<span class="ident" id="7061297">n</span><span class="op" id="7061298">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061301">x</span>&nbsp;<span class="op" id="7061303">:=</span>&nbsp;<span class="op" id="7061306">^</span><span class="builtintype" id="7061307">uint32</span><span class="op" id="7061313">(</span><span class="num" id="7061314">0</span><span class="op" id="7061315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061318">for</span>&nbsp;<span class="ident" id="7061322">i</span>&nbsp;<span class="op" id="7061324">:=</span>&nbsp;<span class="keyword" id="7061327">range</span>&nbsp;<span class="ident" id="7061333">text</span>&nbsp;<span class="op" id="7061338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061342">x</span>&nbsp;<span class="op" id="7061344">+=</span>&nbsp;<span class="ident" id="7061347">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061351">x</span>&nbsp;<span class="op" id="7061353">^=</span>&nbsp;<span class="num" id="7061356">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061360">if</span>&nbsp;<span class="builtintype" id="7061363">int32</span><span class="op" id="7061368">(</span><span class="ident" id="7061369">x</span><span class="op" id="7061370">)</span>&nbsp;<span class="op" id="7061372">&lt;</span>&nbsp;<span class="num" id="7061374">0</span>&nbsp;<span class="op" id="7061376">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061381">x</span>&nbsp;<span class="op" id="7061383">^=</span>&nbsp;<span class="num" id="7061386">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061403">if</span>&nbsp;<span class="ident" id="7061406">x</span><span class="op" id="7061407">%</span><span class="num" id="7061408">31</span>&nbsp;<span class="op" id="7061411">==</span>&nbsp;<span class="num" id="7061414">0</span>&nbsp;<span class="op" id="7061416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061421">text</span><span class="op" id="7061425">[</span><span class="ident" id="7061426">i</span><span class="op" id="7061427">]</span>&nbsp;<span class="op" id="7061429">=</span>&nbsp;<span class="string" id="7061431">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061438">}</span>&nbsp;<span class="keyword" id="7061440">else</span>&nbsp;<span class="op" id="7061445">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061450">text</span><span class="op" id="7061454">[</span><span class="ident" id="7061455">i</span><span class="op" id="7061456">]</span>&nbsp;<span class="op" id="7061458">=</span>&nbsp;<span class="builtintype" id="7061460">byte</span><span class="op" id="7061464">(</span><span class="ident" id="7061465">x</span><span class="op" id="7061466">%</span><span class="op" id="7061467">(</span><span class="num" id="7061468">0x7E</span><span class="op" id="7061472">+</span><span class="num" id="7061473">1</span><span class="op" id="7061474">-</span><span class="num" id="7061475">0x20</span><span class="op" id="7061479">)</span>&nbsp;<span class="op" id="7061481">+</span>&nbsp;<span class="num" id="7061483">0x20</span><span class="op" id="7061487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061497">return</span>&nbsp;<span class="ident" id="7061504">text</span><br>
<span class="lineno"></span><span class="op" id="7061509">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7061512">func</span>&nbsp;<span class="ident" id="7061517">benchmark</span><span class="op" id="7061526">(</span><span class="ident" id="7061527">b</span>&nbsp;<span class="op" id="7061529">*</span><span class="ident" id="7061530">testing</span><span class="op" id="7061537">.</span><span class="ident" id="7061538">B</span><span class="op" id="7061539">,</span>&nbsp;<span class="ident" id="7061541">re</span>&nbsp;<span class="builtintype" id="7061544">string</span><span class="op" id="7061550">,</span>&nbsp;<span class="ident" id="7061552">n</span>&nbsp;<span class="builtintype" id="7061554">int</span><span class="op" id="7061557">)</span>&nbsp;<span class="op" id="7061559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061562">r</span>&nbsp;<span class="op" id="7061564">:=</span>&nbsp;<span class="ident" id="7061567">MustCompile</span><span class="op" id="7061578">(</span><span class="ident" id="7061579">re</span><span class="op" id="7061581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061584">t</span>&nbsp;<span class="op" id="7061586">:=</span>&nbsp;<span class="ident" id="7061589">makeText</span><span class="op" id="7061597">(</span><span class="ident" id="7061598">n</span><span class="op" id="7061599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061602">b</span><span class="op" id="7061603">.</span><span class="ident" id="7061604">ResetTimer</span><span class="op" id="7061614">(</span><span class="op" id="7061615">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061618">b</span><span class="op" id="7061619">.</span><span class="ident" id="7061620">SetBytes</span><span class="op" id="7061628">(</span><span class="ident" id="7061629">int64</span><span class="op" id="7061634">(</span><span class="ident" id="7061635">n</span><span class="op" id="7061636">)</span><span class="op" id="7061637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061640">for</span>&nbsp;<span class="ident" id="7061644">i</span>&nbsp;<span class="op" id="7061646">:=</span>&nbsp;<span class="num" id="7061649">0</span><span class="op" id="7061650">;</span>&nbsp;<span class="ident" id="7061652">i</span>&nbsp;<span class="op" id="7061654">&lt;</span>&nbsp;<span class="ident" id="7061656">b</span><span class="op" id="7061657">.</span><span class="ident" id="7061658">N</span><span class="op" id="7061659">;</span>&nbsp;<span class="ident" id="7061661">i</span><span class="op" id="7061662">++</span>&nbsp;<span class="op" id="7061665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7061669">if</span>&nbsp;<span class="ident" id="7061672">r</span><span class="op" id="7061673">.</span><span class="ident" id="7061674">Match</span><span class="op" id="7061679">(</span><span class="ident" id="7061680">t</span><span class="op" id="7061681">)</span>&nbsp;<span class="op" id="7061683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061688">b</span><span class="op" id="7061689">.</span><span class="ident" id="7061690">Fatal</span><span class="op" id="7061695">(</span><span class="string" id="7061696">&#34;match!&#34;</span><span class="op" id="7061704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061708">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7061711">}</span><br>
<span class="lineno"></span><span class="op" id="7061713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7061716">const</span>&nbsp;<span class="op" id="7061722">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061725">easy0</span>&nbsp;&nbsp;<span class="op" id="7061732">=</span>&nbsp;<span class="string" id="7061734">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061765">easy1</span>&nbsp;&nbsp;<span class="op" id="7061772">=</span>&nbsp;<span class="string" id="7061774">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061825">medium</span>&nbsp;<span class="op" id="7061832">=</span>&nbsp;<span class="string" id="7061834">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061870">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7061877">=</span>&nbsp;<span class="string" id="7061879">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7061916">parens</span>&nbsp;<span class="op" id="7061923">=</span>&nbsp;<span class="string" id="7061925">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="7061975">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7061979">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="7062022">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7062025">func</span>&nbsp;<span class="ident" id="7062030">BenchmarkMatchEasy0_32</span><span class="op" id="7062052">(</span><span class="ident" id="7062053">b</span>&nbsp;<span class="op" id="7062055">*</span><span class="ident" id="7062056">testing</span><span class="op" id="7062063">.</span><span class="ident" id="7062064">B</span><span class="op" id="7062065">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7062069">{</span>&nbsp;<span class="ident" id="7062071">benchmark</span><span class="op" id="7062080">(</span><span class="ident" id="7062081">b</span><span class="op" id="7062082">,</span>&nbsp;<span class="ident" id="7062084">easy0</span><span class="op" id="7062089">,</span>&nbsp;<span class="num" id="7062091">32</span><span class="op" id="7062093">&lt;&lt;</span><span class="num" id="7062095">0</span><span class="op" id="7062096">)</span>&nbsp;<span class="op" id="7062098">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062100">func</span>&nbsp;<span class="ident" id="7062105">BenchmarkMatchEasy0_1K</span><span class="op" id="7062127">(</span><span class="ident" id="7062128">b</span>&nbsp;<span class="op" id="7062130">*</span><span class="ident" id="7062131">testing</span><span class="op" id="7062138">.</span><span class="ident" id="7062139">B</span><span class="op" id="7062140">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7062144">{</span>&nbsp;<span class="ident" id="7062146">benchmark</span><span class="op" id="7062155">(</span><span class="ident" id="7062156">b</span><span class="op" id="7062157">,</span>&nbsp;<span class="ident" id="7062159">easy0</span><span class="op" id="7062164">,</span>&nbsp;<span class="num" id="7062166">1</span><span class="op" id="7062167">&lt;&lt;</span><span class="num" id="7062169">10</span><span class="op" id="7062171">)</span>&nbsp;<span class="op" id="7062173">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062175">func</span>&nbsp;<span class="ident" id="7062180">BenchmarkMatchEasy0_32K</span><span class="op" id="7062203">(</span><span class="ident" id="7062204">b</span>&nbsp;<span class="op" id="7062206">*</span><span class="ident" id="7062207">testing</span><span class="op" id="7062214">.</span><span class="ident" id="7062215">B</span><span class="op" id="7062216">)</span>&nbsp;&nbsp;<span class="op" id="7062219">{</span>&nbsp;<span class="ident" id="7062221">benchmark</span><span class="op" id="7062230">(</span><span class="ident" id="7062231">b</span><span class="op" id="7062232">,</span>&nbsp;<span class="ident" id="7062234">easy0</span><span class="op" id="7062239">,</span>&nbsp;<span class="num" id="7062241">32</span><span class="op" id="7062243">&lt;&lt;</span><span class="num" id="7062245">10</span><span class="op" id="7062247">)</span>&nbsp;<span class="op" id="7062249">}</span><br>
<span class="lineno">685</span><span class="keyword" id="7062251">func</span>&nbsp;<span class="ident" id="7062256">BenchmarkMatchEasy0_1M</span><span class="op" id="7062278">(</span><span class="ident" id="7062279">b</span>&nbsp;<span class="op" id="7062281">*</span><span class="ident" id="7062282">testing</span><span class="op" id="7062289">.</span><span class="ident" id="7062290">B</span><span class="op" id="7062291">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7062295">{</span>&nbsp;<span class="ident" id="7062297">benchmark</span><span class="op" id="7062306">(</span><span class="ident" id="7062307">b</span><span class="op" id="7062308">,</span>&nbsp;<span class="ident" id="7062310">easy0</span><span class="op" id="7062315">,</span>&nbsp;<span class="num" id="7062317">1</span><span class="op" id="7062318">&lt;&lt;</span><span class="num" id="7062320">20</span><span class="op" id="7062322">)</span>&nbsp;<span class="op" id="7062324">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062326">func</span>&nbsp;<span class="ident" id="7062331">BenchmarkMatchEasy0_32M</span><span class="op" id="7062354">(</span><span class="ident" id="7062355">b</span>&nbsp;<span class="op" id="7062357">*</span><span class="ident" id="7062358">testing</span><span class="op" id="7062365">.</span><span class="ident" id="7062366">B</span><span class="op" id="7062367">)</span>&nbsp;&nbsp;<span class="op" id="7062370">{</span>&nbsp;<span class="ident" id="7062372">benchmark</span><span class="op" id="7062381">(</span><span class="ident" id="7062382">b</span><span class="op" id="7062383">,</span>&nbsp;<span class="ident" id="7062385">easy0</span><span class="op" id="7062390">,</span>&nbsp;<span class="num" id="7062392">32</span><span class="op" id="7062394">&lt;&lt;</span><span class="num" id="7062396">20</span><span class="op" id="7062398">)</span>&nbsp;<span class="op" id="7062400">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062402">func</span>&nbsp;<span class="ident" id="7062407">BenchmarkMatchEasy1_32</span><span class="op" id="7062429">(</span><span class="ident" id="7062430">b</span>&nbsp;<span class="op" id="7062432">*</span><span class="ident" id="7062433">testing</span><span class="op" id="7062440">.</span><span class="ident" id="7062441">B</span><span class="op" id="7062442">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7062446">{</span>&nbsp;<span class="ident" id="7062448">benchmark</span><span class="op" id="7062457">(</span><span class="ident" id="7062458">b</span><span class="op" id="7062459">,</span>&nbsp;<span class="ident" id="7062461">easy1</span><span class="op" id="7062466">,</span>&nbsp;<span class="num" id="7062468">32</span><span class="op" id="7062470">&lt;&lt;</span><span class="num" id="7062472">0</span><span class="op" id="7062473">)</span>&nbsp;<span class="op" id="7062475">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062477">func</span>&nbsp;<span class="ident" id="7062482">BenchmarkMatchEasy1_1K</span><span class="op" id="7062504">(</span><span class="ident" id="7062505">b</span>&nbsp;<span class="op" id="7062507">*</span><span class="ident" id="7062508">testing</span><span class="op" id="7062515">.</span><span class="ident" id="7062516">B</span><span class="op" id="7062517">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7062521">{</span>&nbsp;<span class="ident" id="7062523">benchmark</span><span class="op" id="7062532">(</span><span class="ident" id="7062533">b</span><span class="op" id="7062534">,</span>&nbsp;<span class="ident" id="7062536">easy1</span><span class="op" id="7062541">,</span>&nbsp;<span class="num" id="7062543">1</span><span class="op" id="7062544">&lt;&lt;</span><span class="num" id="7062546">10</span><span class="op" id="7062548">)</span>&nbsp;<span class="op" id="7062550">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062552">func</span>&nbsp;<span class="ident" id="7062557">BenchmarkMatchEasy1_32K</span><span class="op" id="7062580">(</span><span class="ident" id="7062581">b</span>&nbsp;<span class="op" id="7062583">*</span><span class="ident" id="7062584">testing</span><span class="op" id="7062591">.</span><span class="ident" id="7062592">B</span><span class="op" id="7062593">)</span>&nbsp;&nbsp;<span class="op" id="7062596">{</span>&nbsp;<span class="ident" id="7062598">benchmark</span><span class="op" id="7062607">(</span><span class="ident" id="7062608">b</span><span class="op" id="7062609">,</span>&nbsp;<span class="ident" id="7062611">easy1</span><span class="op" id="7062616">,</span>&nbsp;<span class="num" id="7062618">32</span><span class="op" id="7062620">&lt;&lt;</span><span class="num" id="7062622">10</span><span class="op" id="7062624">)</span>&nbsp;<span class="op" id="7062626">}</span><br>
<span class="lineno">690</span><span class="keyword" id="7062628">func</span>&nbsp;<span class="ident" id="7062633">BenchmarkMatchEasy1_1M</span><span class="op" id="7062655">(</span><span class="ident" id="7062656">b</span>&nbsp;<span class="op" id="7062658">*</span><span class="ident" id="7062659">testing</span><span class="op" id="7062666">.</span><span class="ident" id="7062667">B</span><span class="op" id="7062668">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7062672">{</span>&nbsp;<span class="ident" id="7062674">benchmark</span><span class="op" id="7062683">(</span><span class="ident" id="7062684">b</span><span class="op" id="7062685">,</span>&nbsp;<span class="ident" id="7062687">easy1</span><span class="op" id="7062692">,</span>&nbsp;<span class="num" id="7062694">1</span><span class="op" id="7062695">&lt;&lt;</span><span class="num" id="7062697">20</span><span class="op" id="7062699">)</span>&nbsp;<span class="op" id="7062701">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062703">func</span>&nbsp;<span class="ident" id="7062708">BenchmarkMatchEasy1_32M</span><span class="op" id="7062731">(</span><span class="ident" id="7062732">b</span>&nbsp;<span class="op" id="7062734">*</span><span class="ident" id="7062735">testing</span><span class="op" id="7062742">.</span><span class="ident" id="7062743">B</span><span class="op" id="7062744">)</span>&nbsp;&nbsp;<span class="op" id="7062747">{</span>&nbsp;<span class="ident" id="7062749">benchmark</span><span class="op" id="7062758">(</span><span class="ident" id="7062759">b</span><span class="op" id="7062760">,</span>&nbsp;<span class="ident" id="7062762">easy1</span><span class="op" id="7062767">,</span>&nbsp;<span class="num" id="7062769">32</span><span class="op" id="7062771">&lt;&lt;</span><span class="num" id="7062773">20</span><span class="op" id="7062775">)</span>&nbsp;<span class="op" id="7062777">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062779">func</span>&nbsp;<span class="ident" id="7062784">BenchmarkMatchMedium_32</span><span class="op" id="7062807">(</span><span class="ident" id="7062808">b</span>&nbsp;<span class="op" id="7062810">*</span><span class="ident" id="7062811">testing</span><span class="op" id="7062818">.</span><span class="ident" id="7062819">B</span><span class="op" id="7062820">)</span>&nbsp;&nbsp;<span class="op" id="7062823">{</span>&nbsp;<span class="ident" id="7062825">benchmark</span><span class="op" id="7062834">(</span><span class="ident" id="7062835">b</span><span class="op" id="7062836">,</span>&nbsp;<span class="ident" id="7062838">medium</span><span class="op" id="7062844">,</span>&nbsp;<span class="num" id="7062846">32</span><span class="op" id="7062848">&lt;&lt;</span><span class="num" id="7062850">0</span><span class="op" id="7062851">)</span>&nbsp;<span class="op" id="7062853">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062855">func</span>&nbsp;<span class="ident" id="7062860">BenchmarkMatchMedium_1K</span><span class="op" id="7062883">(</span><span class="ident" id="7062884">b</span>&nbsp;<span class="op" id="7062886">*</span><span class="ident" id="7062887">testing</span><span class="op" id="7062894">.</span><span class="ident" id="7062895">B</span><span class="op" id="7062896">)</span>&nbsp;&nbsp;<span class="op" id="7062899">{</span>&nbsp;<span class="ident" id="7062901">benchmark</span><span class="op" id="7062910">(</span><span class="ident" id="7062911">b</span><span class="op" id="7062912">,</span>&nbsp;<span class="ident" id="7062914">medium</span><span class="op" id="7062920">,</span>&nbsp;<span class="num" id="7062922">1</span><span class="op" id="7062923">&lt;&lt;</span><span class="num" id="7062925">10</span><span class="op" id="7062927">)</span>&nbsp;<span class="op" id="7062929">}</span><br>
<span class="lineno"></span><span class="keyword" id="7062931">func</span>&nbsp;<span class="ident" id="7062936">BenchmarkMatchMedium_32K</span><span class="op" id="7062960">(</span><span class="ident" id="7062961">b</span>&nbsp;<span class="op" id="7062963">*</span><span class="ident" id="7062964">testing</span><span class="op" id="7062971">.</span><span class="ident" id="7062972">B</span><span class="op" id="7062973">)</span>&nbsp;<span class="op" id="7062975">{</span>&nbsp;<span class="ident" id="7062977">benchmark</span><span class="op" id="7062986">(</span><span class="ident" id="7062987">b</span><span class="op" id="7062988">,</span>&nbsp;<span class="ident" id="7062990">medium</span><span class="op" id="7062996">,</span>&nbsp;<span class="num" id="7062998">32</span><span class="op" id="7063000">&lt;&lt;</span><span class="num" id="7063002">10</span><span class="op" id="7063004">)</span>&nbsp;<span class="op" id="7063006">}</span><br>
<span class="lineno">695</span><span class="keyword" id="7063008">func</span>&nbsp;<span class="ident" id="7063013">BenchmarkMatchMedium_1M</span><span class="op" id="7063036">(</span><span class="ident" id="7063037">b</span>&nbsp;<span class="op" id="7063039">*</span><span class="ident" id="7063040">testing</span><span class="op" id="7063047">.</span><span class="ident" id="7063048">B</span><span class="op" id="7063049">)</span>&nbsp;&nbsp;<span class="op" id="7063052">{</span>&nbsp;<span class="ident" id="7063054">benchmark</span><span class="op" id="7063063">(</span><span class="ident" id="7063064">b</span><span class="op" id="7063065">,</span>&nbsp;<span class="ident" id="7063067">medium</span><span class="op" id="7063073">,</span>&nbsp;<span class="num" id="7063075">1</span><span class="op" id="7063076">&lt;&lt;</span><span class="num" id="7063078">20</span><span class="op" id="7063080">)</span>&nbsp;<span class="op" id="7063082">}</span><br>
<span class="lineno"></span><span class="keyword" id="7063084">func</span>&nbsp;<span class="ident" id="7063089">BenchmarkMatchMedium_32M</span><span class="op" id="7063113">(</span><span class="ident" id="7063114">b</span>&nbsp;<span class="op" id="7063116">*</span><span class="ident" id="7063117">testing</span><span class="op" id="7063124">.</span><span class="ident" id="7063125">B</span><span class="op" id="7063126">)</span>&nbsp;<span class="op" id="7063128">{</span>&nbsp;<span class="ident" id="7063130">benchmark</span><span class="op" id="7063139">(</span><span class="ident" id="7063140">b</span><span class="op" id="7063141">,</span>&nbsp;<span class="ident" id="7063143">medium</span><span class="op" id="7063149">,</span>&nbsp;<span class="num" id="7063151">32</span><span class="op" id="7063153">&lt;&lt;</span><span class="num" id="7063155">20</span><span class="op" id="7063157">)</span>&nbsp;<span class="op" id="7063159">}</span><br>
<span class="lineno"></span><span class="keyword" id="7063161">func</span>&nbsp;<span class="ident" id="7063166">BenchmarkMatchHard_32</span><span class="op" id="7063187">(</span><span class="ident" id="7063188">b</span>&nbsp;<span class="op" id="7063190">*</span><span class="ident" id="7063191">testing</span><span class="op" id="7063198">.</span><span class="ident" id="7063199">B</span><span class="op" id="7063200">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7063205">{</span>&nbsp;<span class="ident" id="7063207">benchmark</span><span class="op" id="7063216">(</span><span class="ident" id="7063217">b</span><span class="op" id="7063218">,</span>&nbsp;<span class="ident" id="7063220">hard</span><span class="op" id="7063224">,</span>&nbsp;<span class="num" id="7063226">32</span><span class="op" id="7063228">&lt;&lt;</span><span class="num" id="7063230">0</span><span class="op" id="7063231">)</span>&nbsp;<span class="op" id="7063233">}</span><br>
<span class="lineno"></span><span class="keyword" id="7063235">func</span>&nbsp;<span class="ident" id="7063240">BenchmarkMatchHard_1K</span><span class="op" id="7063261">(</span><span class="ident" id="7063262">b</span>&nbsp;<span class="op" id="7063264">*</span><span class="ident" id="7063265">testing</span><span class="op" id="7063272">.</span><span class="ident" id="7063273">B</span><span class="op" id="7063274">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7063279">{</span>&nbsp;<span class="ident" id="7063281">benchmark</span><span class="op" id="7063290">(</span><span class="ident" id="7063291">b</span><span class="op" id="7063292">,</span>&nbsp;<span class="ident" id="7063294">hard</span><span class="op" id="7063298">,</span>&nbsp;<span class="num" id="7063300">1</span><span class="op" id="7063301">&lt;&lt;</span><span class="num" id="7063303">10</span><span class="op" id="7063305">)</span>&nbsp;<span class="op" id="7063307">}</span><br>
<span class="lineno"></span><span class="keyword" id="7063309">func</span>&nbsp;<span class="ident" id="7063314">BenchmarkMatchHard_32K</span><span class="op" id="7063336">(</span><span class="ident" id="7063337">b</span>&nbsp;<span class="op" id="7063339">*</span><span class="ident" id="7063340">testing</span><span class="op" id="7063347">.</span><span class="ident" id="7063348">B</span><span class="op" id="7063349">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7063353">{</span>&nbsp;<span class="ident" id="7063355">benchmark</span><span class="op" id="7063364">(</span><span class="ident" id="7063365">b</span><span class="op" id="7063366">,</span>&nbsp;<span class="ident" id="7063368">hard</span><span class="op" id="7063372">,</span>&nbsp;<span class="num" id="7063374">32</span><span class="op" id="7063376">&lt;&lt;</span><span class="num" id="7063378">10</span><span class="op" id="7063380">)</span>&nbsp;<span class="op" id="7063382">}</span><br>
<span class="lineno">700</span><span class="keyword" id="7063384">func</span>&nbsp;<span class="ident" id="7063389">BenchmarkMatchHard_1M</span><span class="op" id="7063410">(</span><span class="ident" id="7063411">b</span>&nbsp;<span class="op" id="7063413">*</span><span class="ident" id="7063414">testing</span><span class="op" id="7063421">.</span><span class="ident" id="7063422">B</span><span class="op" id="7063423">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7063428">{</span>&nbsp;<span class="ident" id="7063430">benchmark</span><span class="op" id="7063439">(</span><span class="ident" id="7063440">b</span><span class="op" id="7063441">,</span>&nbsp;<span class="ident" id="7063443">hard</span><span class="op" id="7063447">,</span>&nbsp;<span class="num" id="7063449">1</span><span class="op" id="7063450">&lt;&lt;</span><span class="num" id="7063452">20</span><span class="op" id="7063454">)</span>&nbsp;<span class="op" id="7063456">}</span><br>
<span class="lineno"></span><span class="keyword" id="7063458">func</span>&nbsp;<span class="ident" id="7063463">BenchmarkMatchHard_32M</span><span class="op" id="7063485">(</span><span class="ident" id="7063486">b</span>&nbsp;<span class="op" id="7063488">*</span><span class="ident" id="7063489">testing</span><span class="op" id="7063496">.</span><span class="ident" id="7063497">B</span><span class="op" id="7063498">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7063502">{</span>&nbsp;<span class="ident" id="7063504">benchmark</span><span class="op" id="7063513">(</span><span class="ident" id="7063514">b</span><span class="op" id="7063515">,</span>&nbsp;<span class="ident" id="7063517">hard</span><span class="op" id="7063521">,</span>&nbsp;<span class="num" id="7063523">32</span><span class="op" id="7063525">&lt;&lt;</span><span class="num" id="7063527">20</span><span class="op" id="7063529">)</span>&nbsp;<span class="op" id="7063531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7063534">func</span>&nbsp;<span class="ident" id="7063539">TestLongest</span><span class="op" id="7063550">(</span><span class="ident" id="7063551">t</span>&nbsp;<span class="op" id="7063553">*</span><span class="ident" id="7063554">testing</span><span class="op" id="7063561">.</span><span class="ident" id="7063562">T</span><span class="op" id="7063563">)</span>&nbsp;<span class="op" id="7063565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063568">re</span><span class="op" id="7063570">,</span>&nbsp;<span class="ident" id="7063572">err</span>&nbsp;<span class="op" id="7063576">:=</span>&nbsp;<span class="ident" id="7063579">Compile</span><span class="op" id="7063586">(</span><span class="string" id="7063587">`a(|b)`</span><span class="op" id="7063594">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063597">if</span>&nbsp;<span class="ident" id="7063600">err</span>&nbsp;<span class="op" id="7063604">!=</span>&nbsp;<span class="ident" id="7063607">nil</span>&nbsp;<span class="op" id="7063611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063615">t</span><span class="op" id="7063616">.</span><span class="ident" id="7063617">Fatal</span><span class="op" id="7063622">(</span><span class="ident" id="7063623">err</span><span class="op" id="7063626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063632">if</span>&nbsp;<span class="ident" id="7063635">g</span><span class="op" id="7063636">,</span>&nbsp;<span class="ident" id="7063638">w</span>&nbsp;<span class="op" id="7063640">:=</span>&nbsp;<span class="ident" id="7063643">re</span><span class="op" id="7063645">.</span><span class="ident" id="7063646">FindString</span><span class="op" id="7063656">(</span><span class="string" id="7063657">&#34;ab&#34;</span><span class="op" id="7063661">)</span><span class="op" id="7063662">,</span>&nbsp;<span class="string" id="7063664">&#34;a&#34;</span><span class="op" id="7063667">;</span>&nbsp;<span class="ident" id="7063669">g</span>&nbsp;<span class="op" id="7063671">!=</span>&nbsp;<span class="ident" id="7063674">w</span>&nbsp;<span class="op" id="7063676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063680">t</span><span class="op" id="7063681">.</span><span class="ident" id="7063682">Errorf</span><span class="op" id="7063688">(</span><span class="string" id="7063689">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7063718">,</span>&nbsp;<span class="ident" id="7063720">g</span><span class="op" id="7063721">,</span>&nbsp;<span class="ident" id="7063723">w</span><span class="op" id="7063724">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063730">re</span><span class="op" id="7063732">.</span><span class="ident" id="7063733">Longest</span><span class="op" id="7063740">(</span><span class="op" id="7063741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7063744">if</span>&nbsp;<span class="ident" id="7063747">g</span><span class="op" id="7063748">,</span>&nbsp;<span class="ident" id="7063750">w</span>&nbsp;<span class="op" id="7063752">:=</span>&nbsp;<span class="ident" id="7063755">re</span><span class="op" id="7063757">.</span><span class="ident" id="7063758">FindString</span><span class="op" id="7063768">(</span><span class="string" id="7063769">&#34;ab&#34;</span><span class="op" id="7063773">)</span><span class="op" id="7063774">,</span>&nbsp;<span class="string" id="7063776">&#34;ab&#34;</span><span class="op" id="7063780">;</span>&nbsp;<span class="ident" id="7063782">g</span>&nbsp;<span class="op" id="7063784">!=</span>&nbsp;<span class="ident" id="7063787">w</span>&nbsp;<span class="op" id="7063789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7063793">t</span><span class="op" id="7063794">.</span><span class="ident" id="7063795">Errorf</span><span class="op" id="7063801">(</span><span class="string" id="7063802">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7063833">,</span>&nbsp;<span class="ident" id="7063835">g</span><span class="op" id="7063836">,</span>&nbsp;<span class="ident" id="7063838">w</span><span class="op" id="7063839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7063842">}</span><br>
<span class="lineno">715</span><span class="op" id="7063844">}</span>
</div>
</body>
</html>
