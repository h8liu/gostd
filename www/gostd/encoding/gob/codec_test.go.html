<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7651047">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7651102">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7651156">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7651207">package</span>&nbsp;<span class="ident" id="7651215">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7651220">import</span>&nbsp;<span class="op" id="7651227">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7651230">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7651239">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7651249">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7651257">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7651265">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7651278">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7651289">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7651300">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7651311">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7651318">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7651321">var</span>&nbsp;<span class="ident" id="7651325">doFuzzTests</span>&nbsp;<span class="op" id="7651337">=</span>&nbsp;<span class="ident" id="7651339">flag</span><span class="op" id="7651343">.</span><span class="ident" id="7651344">Bool</span><span class="op" id="7651348">(</span><span class="string" id="7651349">&#34;gob.fuzz&#34;</span><span class="op" id="7651359">,</span>&nbsp;<span class="builtintype" id="7651361">false</span><span class="op" id="7651366">,</span>&nbsp;<span class="string" id="7651368">&#34;run&nbsp;the&nbsp;fuzz&nbsp;tests,&nbsp;which&nbsp;are&nbsp;large&nbsp;and&nbsp;very&nbsp;slow&#34;</span><span class="op" id="7651419">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7651422">//&nbsp;Guarantee&nbsp;encoding&nbsp;format&nbsp;by&nbsp;comparing&nbsp;some&nbsp;encodings&nbsp;to&nbsp;hand-written&nbsp;values</span><br>
<span class="lineno"></span><span class="keyword" id="7651502">type</span>&nbsp;<span class="ident" id="7651507">EncodeT</span>&nbsp;<span class="keyword" id="7651515">struct</span>&nbsp;<span class="op" id="7651522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7651525">x</span>&nbsp;<span class="ident" id="7651527">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7651535">b</span>&nbsp;<span class="op" id="7651537">[</span><span class="op" id="7651538">]</span><span class="builtintype" id="7651539">byte</span><br>
<span class="lineno">25</span><span class="op" id="7651544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7651547">var</span>&nbsp;<span class="ident" id="7651551">encodeT</span>&nbsp;<span class="op" id="7651559">=</span>&nbsp;<span class="op" id="7651561">[</span><span class="op" id="7651562">]</span><span class="ident" id="7651563">EncodeT</span><span class="op" id="7651570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651573">{</span><span class="num" id="7651574">0x00</span><span class="op" id="7651578">,</span>&nbsp;<span class="op" id="7651580">[</span><span class="op" id="7651581">]</span><span class="builtintype" id="7651582">byte</span><span class="op" id="7651586">{</span><span class="num" id="7651587">0x00</span><span class="op" id="7651591">}</span><span class="op" id="7651592">}</span><span class="op" id="7651593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651596">{</span><span class="num" id="7651597">0x0F</span><span class="op" id="7651601">,</span>&nbsp;<span class="op" id="7651603">[</span><span class="op" id="7651604">]</span><span class="builtintype" id="7651605">byte</span><span class="op" id="7651609">{</span><span class="num" id="7651610">0x0F</span><span class="op" id="7651614">}</span><span class="op" id="7651615">}</span><span class="op" id="7651616">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651619">{</span><span class="num" id="7651620">0xFF</span><span class="op" id="7651624">,</span>&nbsp;<span class="op" id="7651626">[</span><span class="op" id="7651627">]</span><span class="builtintype" id="7651628">byte</span><span class="op" id="7651632">{</span><span class="num" id="7651633">0xFF</span><span class="op" id="7651637">,</span>&nbsp;<span class="num" id="7651639">0xFF</span><span class="op" id="7651643">}</span><span class="op" id="7651644">}</span><span class="op" id="7651645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651648">{</span><span class="num" id="7651649">0xFFFF</span><span class="op" id="7651655">,</span>&nbsp;<span class="op" id="7651657">[</span><span class="op" id="7651658">]</span><span class="builtintype" id="7651659">byte</span><span class="op" id="7651663">{</span><span class="num" id="7651664">0xFE</span><span class="op" id="7651668">,</span>&nbsp;<span class="num" id="7651670">0xFF</span><span class="op" id="7651674">,</span>&nbsp;<span class="num" id="7651676">0xFF</span><span class="op" id="7651680">}</span><span class="op" id="7651681">}</span><span class="op" id="7651682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651685">{</span><span class="num" id="7651686">0xFFFFFF</span><span class="op" id="7651694">,</span>&nbsp;<span class="op" id="7651696">[</span><span class="op" id="7651697">]</span><span class="builtintype" id="7651698">byte</span><span class="op" id="7651702">{</span><span class="num" id="7651703">0xFD</span><span class="op" id="7651707">,</span>&nbsp;<span class="num" id="7651709">0xFF</span><span class="op" id="7651713">,</span>&nbsp;<span class="num" id="7651715">0xFF</span><span class="op" id="7651719">,</span>&nbsp;<span class="num" id="7651721">0xFF</span><span class="op" id="7651725">}</span><span class="op" id="7651726">}</span><span class="op" id="7651727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651730">{</span><span class="num" id="7651731">0xFFFFFFFF</span><span class="op" id="7651741">,</span>&nbsp;<span class="op" id="7651743">[</span><span class="op" id="7651744">]</span><span class="builtintype" id="7651745">byte</span><span class="op" id="7651749">{</span><span class="num" id="7651750">0xFC</span><span class="op" id="7651754">,</span>&nbsp;<span class="num" id="7651756">0xFF</span><span class="op" id="7651760">,</span>&nbsp;<span class="num" id="7651762">0xFF</span><span class="op" id="7651766">,</span>&nbsp;<span class="num" id="7651768">0xFF</span><span class="op" id="7651772">,</span>&nbsp;<span class="num" id="7651774">0xFF</span><span class="op" id="7651778">}</span><span class="op" id="7651779">}</span><span class="op" id="7651780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651783">{</span><span class="num" id="7651784">0xFFFFFFFFFF</span><span class="op" id="7651796">,</span>&nbsp;<span class="op" id="7651798">[</span><span class="op" id="7651799">]</span><span class="builtintype" id="7651800">byte</span><span class="op" id="7651804">{</span><span class="num" id="7651805">0xFB</span><span class="op" id="7651809">,</span>&nbsp;<span class="num" id="7651811">0xFF</span><span class="op" id="7651815">,</span>&nbsp;<span class="num" id="7651817">0xFF</span><span class="op" id="7651821">,</span>&nbsp;<span class="num" id="7651823">0xFF</span><span class="op" id="7651827">,</span>&nbsp;<span class="num" id="7651829">0xFF</span><span class="op" id="7651833">,</span>&nbsp;<span class="num" id="7651835">0xFF</span><span class="op" id="7651839">}</span><span class="op" id="7651840">}</span><span class="op" id="7651841">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651844">{</span><span class="num" id="7651845">0xFFFFFFFFFFFF</span><span class="op" id="7651859">,</span>&nbsp;<span class="op" id="7651861">[</span><span class="op" id="7651862">]</span><span class="builtintype" id="7651863">byte</span><span class="op" id="7651867">{</span><span class="num" id="7651868">0xFA</span><span class="op" id="7651872">,</span>&nbsp;<span class="num" id="7651874">0xFF</span><span class="op" id="7651878">,</span>&nbsp;<span class="num" id="7651880">0xFF</span><span class="op" id="7651884">,</span>&nbsp;<span class="num" id="7651886">0xFF</span><span class="op" id="7651890">,</span>&nbsp;<span class="num" id="7651892">0xFF</span><span class="op" id="7651896">,</span>&nbsp;<span class="num" id="7651898">0xFF</span><span class="op" id="7651902">,</span>&nbsp;<span class="num" id="7651904">0xFF</span><span class="op" id="7651908">}</span><span class="op" id="7651909">}</span><span class="op" id="7651910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651913">{</span><span class="num" id="7651914">0xFFFFFFFFFFFFFF</span><span class="op" id="7651930">,</span>&nbsp;<span class="op" id="7651932">[</span><span class="op" id="7651933">]</span><span class="builtintype" id="7651934">byte</span><span class="op" id="7651938">{</span><span class="num" id="7651939">0xF9</span><span class="op" id="7651943">,</span>&nbsp;<span class="num" id="7651945">0xFF</span><span class="op" id="7651949">,</span>&nbsp;<span class="num" id="7651951">0xFF</span><span class="op" id="7651955">,</span>&nbsp;<span class="num" id="7651957">0xFF</span><span class="op" id="7651961">,</span>&nbsp;<span class="num" id="7651963">0xFF</span><span class="op" id="7651967">,</span>&nbsp;<span class="num" id="7651969">0xFF</span><span class="op" id="7651973">,</span>&nbsp;<span class="num" id="7651975">0xFF</span><span class="op" id="7651979">,</span>&nbsp;<span class="num" id="7651981">0xFF</span><span class="op" id="7651985">}</span><span class="op" id="7651986">}</span><span class="op" id="7651987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7651990">{</span><span class="num" id="7651991">0xFFFFFFFFFFFFFFFF</span><span class="op" id="7652009">,</span>&nbsp;<span class="op" id="7652011">[</span><span class="op" id="7652012">]</span><span class="builtintype" id="7652013">byte</span><span class="op" id="7652017">{</span><span class="num" id="7652018">0xF8</span><span class="op" id="7652022">,</span>&nbsp;<span class="num" id="7652024">0xFF</span><span class="op" id="7652028">,</span>&nbsp;<span class="num" id="7652030">0xFF</span><span class="op" id="7652034">,</span>&nbsp;<span class="num" id="7652036">0xFF</span><span class="op" id="7652040">,</span>&nbsp;<span class="num" id="7652042">0xFF</span><span class="op" id="7652046">,</span>&nbsp;<span class="num" id="7652048">0xFF</span><span class="op" id="7652052">,</span>&nbsp;<span class="num" id="7652054">0xFF</span><span class="op" id="7652058">,</span>&nbsp;<span class="num" id="7652060">0xFF</span><span class="op" id="7652064">,</span>&nbsp;<span class="num" id="7652066">0xFF</span><span class="op" id="7652070">}</span><span class="op" id="7652071">}</span><span class="op" id="7652072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7652075">{</span><span class="num" id="7652076">0x1111</span><span class="op" id="7652082">,</span>&nbsp;<span class="op" id="7652084">[</span><span class="op" id="7652085">]</span><span class="builtintype" id="7652086">byte</span><span class="op" id="7652090">{</span><span class="num" id="7652091">0xFE</span><span class="op" id="7652095">,</span>&nbsp;<span class="num" id="7652097">0x11</span><span class="op" id="7652101">,</span>&nbsp;<span class="num" id="7652103">0x11</span><span class="op" id="7652107">}</span><span class="op" id="7652108">}</span><span class="op" id="7652109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7652112">{</span><span class="num" id="7652113">0x1111111111111111</span><span class="op" id="7652131">,</span>&nbsp;<span class="op" id="7652133">[</span><span class="op" id="7652134">]</span><span class="builtintype" id="7652135">byte</span><span class="op" id="7652139">{</span><span class="num" id="7652140">0xF8</span><span class="op" id="7652144">,</span>&nbsp;<span class="num" id="7652146">0x11</span><span class="op" id="7652150">,</span>&nbsp;<span class="num" id="7652152">0x11</span><span class="op" id="7652156">,</span>&nbsp;<span class="num" id="7652158">0x11</span><span class="op" id="7652162">,</span>&nbsp;<span class="num" id="7652164">0x11</span><span class="op" id="7652168">,</span>&nbsp;<span class="num" id="7652170">0x11</span><span class="op" id="7652174">,</span>&nbsp;<span class="num" id="7652176">0x11</span><span class="op" id="7652180">,</span>&nbsp;<span class="num" id="7652182">0x11</span><span class="op" id="7652186">,</span>&nbsp;<span class="num" id="7652188">0x11</span><span class="op" id="7652192">}</span><span class="op" id="7652193">}</span><span class="op" id="7652194">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7652197">{</span><span class="num" id="7652198">0x8888888888888888</span><span class="op" id="7652216">,</span>&nbsp;<span class="op" id="7652218">[</span><span class="op" id="7652219">]</span><span class="builtintype" id="7652220">byte</span><span class="op" id="7652224">{</span><span class="num" id="7652225">0xF8</span><span class="op" id="7652229">,</span>&nbsp;<span class="num" id="7652231">0x88</span><span class="op" id="7652235">,</span>&nbsp;<span class="num" id="7652237">0x88</span><span class="op" id="7652241">,</span>&nbsp;<span class="num" id="7652243">0x88</span><span class="op" id="7652247">,</span>&nbsp;<span class="num" id="7652249">0x88</span><span class="op" id="7652253">,</span>&nbsp;<span class="num" id="7652255">0x88</span><span class="op" id="7652259">,</span>&nbsp;<span class="num" id="7652261">0x88</span><span class="op" id="7652265">,</span>&nbsp;<span class="num" id="7652267">0x88</span><span class="op" id="7652271">,</span>&nbsp;<span class="num" id="7652273">0x88</span><span class="op" id="7652277">}</span><span class="op" id="7652278">}</span><span class="op" id="7652279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7652282">{</span><span class="num" id="7652283">1</span>&nbsp;<span class="op" id="7652285">&lt;&lt;</span>&nbsp;<span class="num" id="7652288">63</span><span class="op" id="7652290">,</span>&nbsp;<span class="op" id="7652292">[</span><span class="op" id="7652293">]</span><span class="builtintype" id="7652294">byte</span><span class="op" id="7652298">{</span><span class="num" id="7652299">0xF8</span><span class="op" id="7652303">,</span>&nbsp;<span class="num" id="7652305">0x80</span><span class="op" id="7652309">,</span>&nbsp;<span class="num" id="7652311">0x00</span><span class="op" id="7652315">,</span>&nbsp;<span class="num" id="7652317">0x00</span><span class="op" id="7652321">,</span>&nbsp;<span class="num" id="7652323">0x00</span><span class="op" id="7652327">,</span>&nbsp;<span class="num" id="7652329">0x00</span><span class="op" id="7652333">,</span>&nbsp;<span class="num" id="7652335">0x00</span><span class="op" id="7652339">,</span>&nbsp;<span class="num" id="7652341">0x00</span><span class="op" id="7652345">,</span>&nbsp;<span class="num" id="7652347">0x00</span><span class="op" id="7652351">}</span><span class="op" id="7652352">}</span><span class="op" id="7652353">,</span><br>
<span class="lineno"></span><span class="op" id="7652355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7652358">//&nbsp;testError&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;deferred&nbsp;function&nbsp;to&nbsp;turn&nbsp;a&nbsp;panic(gobError)&nbsp;into&nbsp;a</span><br>
<span class="lineno">45</span><span class="comment" id="7652447">//&nbsp;plain&nbsp;test.Error&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="7652473">func</span>&nbsp;<span class="ident" id="7652478">testError</span><span class="op" id="7652487">(</span><span class="ident" id="7652488">t</span>&nbsp;<span class="op" id="7652490">*</span><span class="ident" id="7652491">testing</span><span class="op" id="7652498">.</span><span class="ident" id="7652499">T</span><span class="op" id="7652500">)</span>&nbsp;<span class="op" id="7652502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7652505">if</span>&nbsp;<span class="ident" id="7652508">e</span>&nbsp;<span class="op" id="7652510">:=</span>&nbsp;<span class="builtinfunc" id="7652513">recover</span><span class="op" id="7652520">(</span><span class="op" id="7652521">)</span><span class="op" id="7652522">;</span>&nbsp;<span class="ident" id="7652524">e</span>&nbsp;<span class="op" id="7652526">!=</span>&nbsp;<span class="ident" id="7652529">nil</span>&nbsp;<span class="op" id="7652533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7652537">t</span><span class="op" id="7652538">.</span><span class="ident" id="7652539">Error</span><span class="op" id="7652544">(</span><span class="ident" id="7652545">e</span><span class="op" id="7652546">.</span><span class="op" id="7652547">(</span><span class="ident" id="7652548">gobError</span><span class="op" id="7652556">)</span><span class="op" id="7652557">.</span><span class="ident" id="7652558">err</span><span class="op" id="7652561">)</span>&nbsp;<span class="comment" id="7652563">//&nbsp;Will&nbsp;re-panic&nbsp;if&nbsp;not&nbsp;one&nbsp;of&nbsp;our&nbsp;errors,&nbsp;such&nbsp;as&nbsp;a&nbsp;runtime&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7652632">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7652635">return</span><br>
<span class="lineno"></span><span class="op" id="7652642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7652645">func</span>&nbsp;<span class="ident" id="7652650">newDecBuffer</span><span class="op" id="7652662">(</span><span class="ident" id="7652663">data</span>&nbsp;<span class="op" id="7652668">[</span><span class="op" id="7652669">]</span><span class="builtintype" id="7652670">byte</span><span class="op" id="7652674">)</span>&nbsp;<span class="op" id="7652676">*</span><span class="ident" id="7652677">decBuffer</span>&nbsp;<span class="op" id="7652687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7652690">return</span>&nbsp;<span class="op" id="7652697">&amp;</span><span class="ident" id="7652698">decBuffer</span><span class="op" id="7652707">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7652711">data</span><span class="op" id="7652715">:</span>&nbsp;<span class="ident" id="7652717">data</span><span class="op" id="7652721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7652724">}</span><br>
<span class="lineno"></span><span class="op" id="7652726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7652729">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;unsigned&nbsp;integers</span><br>
<span class="lineno">60</span><span class="keyword" id="7652788">func</span>&nbsp;<span class="ident" id="7652793">TestUintCodec</span><span class="op" id="7652806">(</span><span class="ident" id="7652807">t</span>&nbsp;<span class="op" id="7652809">*</span><span class="ident" id="7652810">testing</span><span class="op" id="7652817">.</span><span class="ident" id="7652818">T</span><span class="op" id="7652819">)</span>&nbsp;<span class="op" id="7652821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7652824">defer</span>&nbsp;<span class="ident" id="7652830">testError</span><span class="op" id="7652839">(</span><span class="ident" id="7652840">t</span><span class="op" id="7652841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7652844">b</span>&nbsp;<span class="op" id="7652846">:=</span>&nbsp;<span class="builtinfunc" id="7652849">new</span><span class="op" id="7652852">(</span><span class="ident" id="7652853">encBuffer</span><span class="op" id="7652862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7652865">encState</span>&nbsp;<span class="op" id="7652874">:=</span>&nbsp;<span class="ident" id="7652877">newEncoderState</span><span class="op" id="7652892">(</span><span class="ident" id="7652893">b</span><span class="op" id="7652894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7652897">for</span>&nbsp;<span class="ident" id="7652901">_</span><span class="op" id="7652902">,</span>&nbsp;<span class="ident" id="7652904">tt</span>&nbsp;<span class="op" id="7652907">:=</span>&nbsp;<span class="keyword" id="7652910">range</span>&nbsp;<span class="ident" id="7652916">encodeT</span>&nbsp;<span class="op" id="7652924">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7652928">b</span><span class="op" id="7652929">.</span><span class="ident" id="7652930">Reset</span><span class="op" id="7652935">(</span><span class="op" id="7652936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7652940">encState</span><span class="op" id="7652948">.</span><span class="ident" id="7652949">encodeUint</span><span class="op" id="7652959">(</span><span class="ident" id="7652960">tt</span><span class="op" id="7652962">.</span><span class="ident" id="7652963">x</span><span class="op" id="7652964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7652968">if</span>&nbsp;<span class="op" id="7652971">!</span><span class="ident" id="7652972">bytes</span><span class="op" id="7652977">.</span><span class="ident" id="7652978">Equal</span><span class="op" id="7652983">(</span><span class="ident" id="7652984">tt</span><span class="op" id="7652986">.</span><span class="ident" id="7652987">b</span><span class="op" id="7652988">,</span>&nbsp;<span class="ident" id="7652990">b</span><span class="op" id="7652991">.</span><span class="ident" id="7652992">Bytes</span><span class="op" id="7652997">(</span><span class="op" id="7652998">)</span><span class="op" id="7652999">)</span>&nbsp;<span class="op" id="7653001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653006">t</span><span class="op" id="7653007">.</span><span class="ident" id="7653008">Errorf</span><span class="op" id="7653014">(</span><span class="string" id="7653015">&#34;encodeUint:&nbsp;%#x&nbsp;encode:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7653061">,</span>&nbsp;<span class="ident" id="7653063">tt</span><span class="op" id="7653065">.</span><span class="ident" id="7653066">x</span><span class="op" id="7653067">,</span>&nbsp;<span class="ident" id="7653069">tt</span><span class="op" id="7653071">.</span><span class="ident" id="7653072">b</span><span class="op" id="7653073">,</span>&nbsp;<span class="ident" id="7653075">b</span><span class="op" id="7653076">.</span><span class="ident" id="7653077">Bytes</span><span class="op" id="7653082">(</span><span class="op" id="7653083">)</span><span class="op" id="7653084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7653088">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7653091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653094">for</span>&nbsp;<span class="ident" id="7653098">u</span>&nbsp;<span class="op" id="7653100">:=</span>&nbsp;<span class="ident" id="7653103">uint64</span><span class="op" id="7653109">(</span><span class="num" id="7653110">0</span><span class="op" id="7653111">)</span><span class="op" id="7653112">;</span>&nbsp;<span class="op" id="7653114">;</span>&nbsp;<span class="ident" id="7653116">u</span>&nbsp;<span class="op" id="7653118">=</span>&nbsp;<span class="op" id="7653120">(</span><span class="ident" id="7653121">u</span>&nbsp;<span class="op" id="7653123">+</span>&nbsp;<span class="num" id="7653125">1</span><span class="op" id="7653126">)</span>&nbsp;<span class="op" id="7653128">*</span>&nbsp;<span class="num" id="7653130">7</span>&nbsp;<span class="op" id="7653132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653136">b</span><span class="op" id="7653137">.</span><span class="ident" id="7653138">Reset</span><span class="op" id="7653143">(</span><span class="op" id="7653144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653148">encState</span><span class="op" id="7653156">.</span><span class="ident" id="7653157">encodeUint</span><span class="op" id="7653167">(</span><span class="ident" id="7653168">u</span><span class="op" id="7653169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653173">decState</span>&nbsp;<span class="op" id="7653182">:=</span>&nbsp;<span class="ident" id="7653185">newDecodeState</span><span class="op" id="7653199">(</span><span class="ident" id="7653200">newDecBuffer</span><span class="op" id="7653212">(</span><span class="ident" id="7653213">b</span><span class="op" id="7653214">.</span><span class="ident" id="7653215">Bytes</span><span class="op" id="7653220">(</span><span class="op" id="7653221">)</span><span class="op" id="7653222">)</span><span class="op" id="7653223">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653227">v</span>&nbsp;<span class="op" id="7653229">:=</span>&nbsp;<span class="ident" id="7653232">decState</span><span class="op" id="7653240">.</span><span class="ident" id="7653241">decodeUint</span><span class="op" id="7653251">(</span><span class="op" id="7653252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653256">if</span>&nbsp;<span class="ident" id="7653259">u</span>&nbsp;<span class="op" id="7653261">!=</span>&nbsp;<span class="ident" id="7653264">v</span>&nbsp;<span class="op" id="7653266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653271">t</span><span class="op" id="7653272">.</span><span class="ident" id="7653273">Errorf</span><span class="op" id="7653279">(</span><span class="string" id="7653280">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="7653318">,</span>&nbsp;<span class="ident" id="7653320">u</span><span class="op" id="7653321">,</span>&nbsp;<span class="ident" id="7653323">v</span><span class="op" id="7653324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7653328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653332">if</span>&nbsp;<span class="ident" id="7653335">u</span><span class="op" id="7653336">&amp;</span><span class="op" id="7653337">(</span><span class="num" id="7653338">1</span><span class="op" id="7653339">&lt;&lt;</span><span class="num" id="7653341">63</span><span class="op" id="7653343">)</span>&nbsp;<span class="op" id="7653345">!=</span>&nbsp;<span class="num" id="7653348">0</span>&nbsp;<span class="op" id="7653350">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653355">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7653363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7653366">}</span><br>
<span class="lineno"></span><span class="op" id="7653368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="7653371">func</span>&nbsp;<span class="ident" id="7653376">verifyInt</span><span class="op" id="7653385">(</span><span class="ident" id="7653386">i</span>&nbsp;<span class="ident" id="7653388">int64</span><span class="op" id="7653393">,</span>&nbsp;<span class="ident" id="7653395">t</span>&nbsp;<span class="op" id="7653397">*</span><span class="ident" id="7653398">testing</span><span class="op" id="7653405">.</span><span class="ident" id="7653406">T</span><span class="op" id="7653407">)</span>&nbsp;<span class="op" id="7653409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653412">defer</span>&nbsp;<span class="ident" id="7653418">testError</span><span class="op" id="7653427">(</span><span class="ident" id="7653428">t</span><span class="op" id="7653429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653432">var</span>&nbsp;<span class="ident" id="7653436">b</span>&nbsp;<span class="op" id="7653438">=</span>&nbsp;<span class="builtinfunc" id="7653440">new</span><span class="op" id="7653443">(</span><span class="ident" id="7653444">encBuffer</span><span class="op" id="7653453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653456">encState</span>&nbsp;<span class="op" id="7653465">:=</span>&nbsp;<span class="ident" id="7653468">newEncoderState</span><span class="op" id="7653483">(</span><span class="ident" id="7653484">b</span><span class="op" id="7653485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653488">encState</span><span class="op" id="7653496">.</span><span class="ident" id="7653497">encodeInt</span><span class="op" id="7653506">(</span><span class="ident" id="7653507">i</span><span class="op" id="7653508">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653511">decState</span>&nbsp;<span class="op" id="7653520">:=</span>&nbsp;<span class="ident" id="7653523">newDecodeState</span><span class="op" id="7653537">(</span><span class="ident" id="7653538">newDecBuffer</span><span class="op" id="7653550">(</span><span class="ident" id="7653551">b</span><span class="op" id="7653552">.</span><span class="ident" id="7653553">Bytes</span><span class="op" id="7653558">(</span><span class="op" id="7653559">)</span><span class="op" id="7653560">)</span><span class="op" id="7653561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653564">decState</span><span class="op" id="7653572">.</span><span class="ident" id="7653573">buf</span>&nbsp;<span class="op" id="7653577">=</span>&nbsp;<span class="builtinfunc" id="7653579">make</span><span class="op" id="7653583">(</span><span class="op" id="7653584">[</span><span class="op" id="7653585">]</span><span class="builtintype" id="7653586">byte</span><span class="op" id="7653590">,</span>&nbsp;<span class="num" id="7653592">8</span><span class="op" id="7653593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653596">j</span>&nbsp;<span class="op" id="7653598">:=</span>&nbsp;<span class="ident" id="7653601">decState</span><span class="op" id="7653609">.</span><span class="ident" id="7653610">decodeInt</span><span class="op" id="7653619">(</span><span class="op" id="7653620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653623">if</span>&nbsp;<span class="ident" id="7653626">i</span>&nbsp;<span class="op" id="7653628">!=</span>&nbsp;<span class="ident" id="7653631">j</span>&nbsp;<span class="op" id="7653633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653637">t</span><span class="op" id="7653638">.</span><span class="ident" id="7653639">Errorf</span><span class="op" id="7653645">(</span><span class="string" id="7653646">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="7653684">,</span>&nbsp;<span class="ident" id="7653686">uint64</span><span class="op" id="7653692">(</span><span class="ident" id="7653693">i</span><span class="op" id="7653694">)</span><span class="op" id="7653695">,</span>&nbsp;<span class="ident" id="7653697">uint64</span><span class="op" id="7653703">(</span><span class="ident" id="7653704">j</span><span class="op" id="7653705">)</span><span class="op" id="7653706">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7653709">}</span><br>
<span class="lineno"></span><span class="op" id="7653711">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7653714">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;signed&nbsp;integers</span><br>
<span class="lineno"></span><span class="keyword" id="7653771">func</span>&nbsp;<span class="ident" id="7653776">TestIntCodec</span><span class="op" id="7653788">(</span><span class="ident" id="7653789">t</span>&nbsp;<span class="op" id="7653791">*</span><span class="ident" id="7653792">testing</span><span class="op" id="7653799">.</span><span class="ident" id="7653800">T</span><span class="op" id="7653801">)</span>&nbsp;<span class="op" id="7653803">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653806">for</span>&nbsp;<span class="ident" id="7653810">u</span>&nbsp;<span class="op" id="7653812">:=</span>&nbsp;<span class="ident" id="7653815">uint64</span><span class="op" id="7653821">(</span><span class="num" id="7653822">0</span><span class="op" id="7653823">)</span><span class="op" id="7653824">;</span>&nbsp;<span class="op" id="7653826">;</span>&nbsp;<span class="ident" id="7653828">u</span>&nbsp;<span class="op" id="7653830">=</span>&nbsp;<span class="op" id="7653832">(</span><span class="ident" id="7653833">u</span>&nbsp;<span class="op" id="7653835">+</span>&nbsp;<span class="num" id="7653837">1</span><span class="op" id="7653838">)</span>&nbsp;<span class="op" id="7653840">*</span>&nbsp;<span class="num" id="7653842">7</span>&nbsp;<span class="op" id="7653844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7653848">//&nbsp;Do&nbsp;positive&nbsp;and&nbsp;negative&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653885">i</span>&nbsp;<span class="op" id="7653887">:=</span>&nbsp;<span class="ident" id="7653890">int64</span><span class="op" id="7653895">(</span><span class="ident" id="7653896">u</span><span class="op" id="7653897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653901">verifyInt</span><span class="op" id="7653910">(</span><span class="ident" id="7653911">i</span><span class="op" id="7653912">,</span>&nbsp;<span class="ident" id="7653914">t</span><span class="op" id="7653915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653919">verifyInt</span><span class="op" id="7653928">(</span><span class="op" id="7653929">-</span><span class="ident" id="7653930">i</span><span class="op" id="7653931">,</span>&nbsp;<span class="ident" id="7653933">t</span><span class="op" id="7653934">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653938">verifyInt</span><span class="op" id="7653947">(</span><span class="op" id="7653948">^</span><span class="ident" id="7653949">i</span><span class="op" id="7653950">,</span>&nbsp;<span class="ident" id="7653952">t</span><span class="op" id="7653953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653957">if</span>&nbsp;<span class="ident" id="7653960">u</span><span class="op" id="7653961">&amp;</span><span class="op" id="7653962">(</span><span class="num" id="7653963">1</span><span class="op" id="7653964">&lt;&lt;</span><span class="num" id="7653966">63</span><span class="op" id="7653968">)</span>&nbsp;<span class="op" id="7653970">!=</span>&nbsp;<span class="num" id="7653973">0</span>&nbsp;<span class="op" id="7653975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7653980">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7653988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7653991">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7653994">verifyInt</span><span class="op" id="7654003">(</span><span class="op" id="7654004">-</span><span class="num" id="7654005">1</span><span class="op" id="7654006">&lt;&lt;</span><span class="num" id="7654008">63</span><span class="op" id="7654010">,</span>&nbsp;<span class="ident" id="7654012">t</span><span class="op" id="7654013">)</span>&nbsp;<span class="comment" id="7654015">//&nbsp;a&nbsp;tricky&nbsp;case</span><br>
<span class="lineno"></span><span class="op" id="7654032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7654035">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;true&nbsp;boolean&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="7654096">var</span>&nbsp;<span class="ident" id="7654100">boolResult</span>&nbsp;<span class="op" id="7654111">=</span>&nbsp;<span class="op" id="7654113">[</span><span class="op" id="7654114">]</span><span class="builtintype" id="7654115">byte</span><span class="op" id="7654119">{</span><span class="num" id="7654120">0x07</span><span class="op" id="7654124">,</span>&nbsp;<span class="num" id="7654126">0x01</span><span class="op" id="7654130">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="7654133">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="7654191">var</span>&nbsp;<span class="ident" id="7654195">signedResult</span>&nbsp;<span class="op" id="7654208">=</span>&nbsp;<span class="op" id="7654210">[</span><span class="op" id="7654211">]</span><span class="builtintype" id="7654212">byte</span><span class="op" id="7654216">{</span><span class="num" id="7654217">0x07</span><span class="op" id="7654221">,</span>&nbsp;<span class="num" id="7654223">2</span>&nbsp;<span class="op" id="7654225">*</span>&nbsp;<span class="num" id="7654227">17</span><span class="op" id="7654229">}</span><br>
<span class="lineno"></span><span class="keyword" id="7654231">var</span>&nbsp;<span class="ident" id="7654235">unsignedResult</span>&nbsp;<span class="op" id="7654250">=</span>&nbsp;<span class="op" id="7654252">[</span><span class="op" id="7654253">]</span><span class="builtintype" id="7654254">byte</span><span class="op" id="7654258">{</span><span class="num" id="7654259">0x07</span><span class="op" id="7654263">,</span>&nbsp;<span class="num" id="7654265">17</span><span class="op" id="7654267">}</span><br>
<span class="lineno"></span><span class="keyword" id="7654269">var</span>&nbsp;<span class="ident" id="7654273">floatResult</span>&nbsp;<span class="op" id="7654285">=</span>&nbsp;<span class="op" id="7654287">[</span><span class="op" id="7654288">]</span><span class="builtintype" id="7654289">byte</span><span class="op" id="7654293">{</span><span class="num" id="7654294">0x07</span><span class="op" id="7654298">,</span>&nbsp;<span class="num" id="7654300">0xFE</span><span class="op" id="7654304">,</span>&nbsp;<span class="num" id="7654306">0x31</span><span class="op" id="7654310">,</span>&nbsp;<span class="num" id="7654312">0x40</span><span class="op" id="7654316">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="7654319">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17+19i&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="7654381">var</span>&nbsp;<span class="ident" id="7654385">complexResult</span>&nbsp;<span class="op" id="7654399">=</span>&nbsp;<span class="op" id="7654401">[</span><span class="op" id="7654402">]</span><span class="builtintype" id="7654403">byte</span><span class="op" id="7654407">{</span><span class="num" id="7654408">0x07</span><span class="op" id="7654412">,</span>&nbsp;<span class="num" id="7654414">0xFE</span><span class="op" id="7654418">,</span>&nbsp;<span class="num" id="7654420">0x31</span><span class="op" id="7654424">,</span>&nbsp;<span class="num" id="7654426">0x40</span><span class="op" id="7654430">,</span>&nbsp;<span class="num" id="7654432">0xFE</span><span class="op" id="7654436">,</span>&nbsp;<span class="num" id="7654438">0x33</span><span class="op" id="7654442">,</span>&nbsp;<span class="num" id="7654444">0x40</span><span class="op" id="7654448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7654451">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;&#34;hello&#34;&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno">125</span><span class="keyword" id="7654505">var</span>&nbsp;<span class="ident" id="7654509">bytesResult</span>&nbsp;<span class="op" id="7654521">=</span>&nbsp;<span class="op" id="7654523">[</span><span class="op" id="7654524">]</span><span class="builtintype" id="7654525">byte</span><span class="op" id="7654529">{</span><span class="num" id="7654530">0x07</span><span class="op" id="7654534">,</span>&nbsp;<span class="num" id="7654536">0x05</span><span class="op" id="7654540">,</span>&nbsp;<span class="string" id="7654542">&#39;h&#39;</span><span class="op" id="7654545">,</span>&nbsp;<span class="string" id="7654547">&#39;e&#39;</span><span class="op" id="7654550">,</span>&nbsp;<span class="string" id="7654552">&#39;l&#39;</span><span class="op" id="7654555">,</span>&nbsp;<span class="string" id="7654557">&#39;l&#39;</span><span class="op" id="7654560">,</span>&nbsp;<span class="string" id="7654562">&#39;o&#39;</span><span class="op" id="7654565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7654568">func</span>&nbsp;<span class="ident" id="7654573">newDecodeState</span><span class="op" id="7654587">(</span><span class="ident" id="7654588">buf</span>&nbsp;<span class="op" id="7654592">*</span><span class="ident" id="7654593">decBuffer</span><span class="op" id="7654602">)</span>&nbsp;<span class="op" id="7654604">*</span><span class="ident" id="7654605">decoderState</span>&nbsp;<span class="op" id="7654618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7654621">d</span>&nbsp;<span class="op" id="7654623">:=</span>&nbsp;<span class="builtinfunc" id="7654626">new</span><span class="op" id="7654629">(</span><span class="ident" id="7654630">decoderState</span><span class="op" id="7654642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7654645">d</span><span class="op" id="7654646">.</span><span class="ident" id="7654647">b</span>&nbsp;<span class="op" id="7654649">=</span>&nbsp;<span class="ident" id="7654651">buf</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7654656">d</span><span class="op" id="7654657">.</span><span class="ident" id="7654658">buf</span>&nbsp;<span class="op" id="7654662">=</span>&nbsp;<span class="builtinfunc" id="7654664">make</span><span class="op" id="7654668">(</span><span class="op" id="7654669">[</span><span class="op" id="7654670">]</span><span class="builtintype" id="7654671">byte</span><span class="op" id="7654675">,</span>&nbsp;<span class="ident" id="7654677">uint64Size</span><span class="op" id="7654687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7654690">return</span>&nbsp;<span class="ident" id="7654697">d</span><br>
<span class="lineno"></span><span class="op" id="7654699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7654702">func</span>&nbsp;<span class="ident" id="7654707">newEncoderState</span><span class="op" id="7654722">(</span><span class="ident" id="7654723">b</span>&nbsp;<span class="op" id="7654725">*</span><span class="ident" id="7654726">encBuffer</span><span class="op" id="7654735">)</span>&nbsp;<span class="op" id="7654737">*</span><span class="ident" id="7654738">encoderState</span>&nbsp;<span class="op" id="7654751">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7654754">b</span><span class="op" id="7654755">.</span><span class="ident" id="7654756">Reset</span><span class="op" id="7654761">(</span><span class="op" id="7654762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7654765">state</span>&nbsp;<span class="op" id="7654771">:=</span>&nbsp;<span class="op" id="7654774">&amp;</span><span class="ident" id="7654775">encoderState</span><span class="op" id="7654787">{</span><span class="ident" id="7654788">enc</span><span class="op" id="7654791">:</span>&nbsp;<span class="ident" id="7654793">nil</span><span class="op" id="7654796">,</span>&nbsp;<span class="ident" id="7654798">b</span><span class="op" id="7654799">:</span>&nbsp;<span class="ident" id="7654801">b</span><span class="op" id="7654802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7654805">state</span><span class="op" id="7654810">.</span><span class="ident" id="7654811">fieldnum</span>&nbsp;<span class="op" id="7654820">=</span>&nbsp;<span class="op" id="7654822">-</span><span class="num" id="7654823">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7654826">return</span>&nbsp;<span class="ident" id="7654833">state</span><br>
<span class="lineno"></span><span class="op" id="7654839">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="7654842">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="7654886">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="keyword" id="7654969">func</span>&nbsp;<span class="ident" id="7654974">TestScalarEncInstructions</span><span class="op" id="7654999">(</span><span class="ident" id="7655000">t</span>&nbsp;<span class="op" id="7655002">*</span><span class="ident" id="7655003">testing</span><span class="op" id="7655010">.</span><span class="ident" id="7655011">T</span><span class="op" id="7655012">)</span>&nbsp;<span class="op" id="7655014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7655017">var</span>&nbsp;<span class="ident" id="7655021">b</span>&nbsp;<span class="op" id="7655023">=</span>&nbsp;<span class="builtinfunc" id="7655025">new</span><span class="op" id="7655028">(</span><span class="ident" id="7655029">encBuffer</span><span class="op" id="7655038">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7655042">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7655055">var</span>&nbsp;<span class="ident" id="7655059">data</span>&nbsp;<span class="builtintype" id="7655064">bool</span>&nbsp;<span class="op" id="7655069">=</span>&nbsp;<span class="builtintype" id="7655071">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655078">instr</span>&nbsp;<span class="op" id="7655084">:=</span>&nbsp;<span class="op" id="7655087">&amp;</span><span class="ident" id="7655088">encInstr</span><span class="op" id="7655096">{</span><span class="ident" id="7655097">encBool</span><span class="op" id="7655104">,</span>&nbsp;<span class="num" id="7655106">6</span><span class="op" id="7655107">,</span>&nbsp;<span class="ident" id="7655109">nil</span><span class="op" id="7655112">,</span>&nbsp;<span class="num" id="7655114">0</span><span class="op" id="7655115">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655119">state</span>&nbsp;<span class="op" id="7655125">:=</span>&nbsp;<span class="ident" id="7655128">newEncoderState</span><span class="op" id="7655143">(</span><span class="ident" id="7655144">b</span><span class="op" id="7655145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655149">instr</span><span class="op" id="7655154">.</span><span class="ident" id="7655155">op</span><span class="op" id="7655157">(</span><span class="ident" id="7655158">instr</span><span class="op" id="7655163">,</span>&nbsp;<span class="ident" id="7655165">state</span><span class="op" id="7655170">,</span>&nbsp;<span class="ident" id="7655172">reflect</span><span class="op" id="7655179">.</span><span class="ident" id="7655180">ValueOf</span><span class="op" id="7655187">(</span><span class="ident" id="7655188">data</span><span class="op" id="7655192">)</span><span class="op" id="7655193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7655197">if</span>&nbsp;<span class="op" id="7655200">!</span><span class="ident" id="7655201">bytes</span><span class="op" id="7655206">.</span><span class="ident" id="7655207">Equal</span><span class="op" id="7655212">(</span><span class="ident" id="7655213">boolResult</span><span class="op" id="7655223">,</span>&nbsp;<span class="ident" id="7655225">b</span><span class="op" id="7655226">.</span><span class="ident" id="7655227">Bytes</span><span class="op" id="7655232">(</span><span class="op" id="7655233">)</span><span class="op" id="7655234">)</span>&nbsp;<span class="op" id="7655236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655241">t</span><span class="op" id="7655242">.</span><span class="ident" id="7655243">Errorf</span><span class="op" id="7655249">(</span><span class="string" id="7655250">&#34;bool&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7655295">,</span>&nbsp;<span class="ident" id="7655297">boolResult</span><span class="op" id="7655307">,</span>&nbsp;<span class="ident" id="7655309">b</span><span class="op" id="7655310">.</span><span class="ident" id="7655311">Bytes</span><span class="op" id="7655316">(</span><span class="op" id="7655317">)</span><span class="op" id="7655318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655322">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655325">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7655329">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655341">b</span><span class="op" id="7655342">.</span><span class="ident" id="7655343">Reset</span><span class="op" id="7655348">(</span><span class="op" id="7655349">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7655353">var</span>&nbsp;<span class="ident" id="7655357">data</span>&nbsp;<span class="builtintype" id="7655362">int</span>&nbsp;<span class="op" id="7655366">=</span>&nbsp;<span class="num" id="7655368">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655373">instr</span>&nbsp;<span class="op" id="7655379">:=</span>&nbsp;<span class="op" id="7655382">&amp;</span><span class="ident" id="7655383">encInstr</span><span class="op" id="7655391">{</span><span class="ident" id="7655392">encInt</span><span class="op" id="7655398">,</span>&nbsp;<span class="num" id="7655400">6</span><span class="op" id="7655401">,</span>&nbsp;<span class="ident" id="7655403">nil</span><span class="op" id="7655406">,</span>&nbsp;<span class="num" id="7655408">0</span><span class="op" id="7655409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655413">state</span>&nbsp;<span class="op" id="7655419">:=</span>&nbsp;<span class="ident" id="7655422">newEncoderState</span><span class="op" id="7655437">(</span><span class="ident" id="7655438">b</span><span class="op" id="7655439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655443">instr</span><span class="op" id="7655448">.</span><span class="ident" id="7655449">op</span><span class="op" id="7655451">(</span><span class="ident" id="7655452">instr</span><span class="op" id="7655457">,</span>&nbsp;<span class="ident" id="7655459">state</span><span class="op" id="7655464">,</span>&nbsp;<span class="ident" id="7655466">reflect</span><span class="op" id="7655473">.</span><span class="ident" id="7655474">ValueOf</span><span class="op" id="7655481">(</span><span class="ident" id="7655482">data</span><span class="op" id="7655486">)</span><span class="op" id="7655487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7655491">if</span>&nbsp;<span class="op" id="7655494">!</span><span class="ident" id="7655495">bytes</span><span class="op" id="7655500">.</span><span class="ident" id="7655501">Equal</span><span class="op" id="7655506">(</span><span class="ident" id="7655507">signedResult</span><span class="op" id="7655519">,</span>&nbsp;<span class="ident" id="7655521">b</span><span class="op" id="7655522">.</span><span class="ident" id="7655523">Bytes</span><span class="op" id="7655528">(</span><span class="op" id="7655529">)</span><span class="op" id="7655530">)</span>&nbsp;<span class="op" id="7655532">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655537">t</span><span class="op" id="7655538">.</span><span class="ident" id="7655539">Errorf</span><span class="op" id="7655545">(</span><span class="string" id="7655546">&#34;int&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7655590">,</span>&nbsp;<span class="ident" id="7655592">signedResult</span><span class="op" id="7655604">,</span>&nbsp;<span class="ident" id="7655606">b</span><span class="op" id="7655607">.</span><span class="ident" id="7655608">Bytes</span><span class="op" id="7655613">(</span><span class="op" id="7655614">)</span><span class="op" id="7655615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7655626">//&nbsp;uint</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655639">b</span><span class="op" id="7655640">.</span><span class="ident" id="7655641">Reset</span><span class="op" id="7655646">(</span><span class="op" id="7655647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7655651">var</span>&nbsp;<span class="ident" id="7655655">data</span>&nbsp;<span class="builtintype" id="7655660">uint</span>&nbsp;<span class="op" id="7655665">=</span>&nbsp;<span class="num" id="7655667">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655672">instr</span>&nbsp;<span class="op" id="7655678">:=</span>&nbsp;<span class="op" id="7655681">&amp;</span><span class="ident" id="7655682">encInstr</span><span class="op" id="7655690">{</span><span class="ident" id="7655691">encUint</span><span class="op" id="7655698">,</span>&nbsp;<span class="num" id="7655700">6</span><span class="op" id="7655701">,</span>&nbsp;<span class="ident" id="7655703">nil</span><span class="op" id="7655706">,</span>&nbsp;<span class="num" id="7655708">0</span><span class="op" id="7655709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655713">state</span>&nbsp;<span class="op" id="7655719">:=</span>&nbsp;<span class="ident" id="7655722">newEncoderState</span><span class="op" id="7655737">(</span><span class="ident" id="7655738">b</span><span class="op" id="7655739">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655743">instr</span><span class="op" id="7655748">.</span><span class="ident" id="7655749">op</span><span class="op" id="7655751">(</span><span class="ident" id="7655752">instr</span><span class="op" id="7655757">,</span>&nbsp;<span class="ident" id="7655759">state</span><span class="op" id="7655764">,</span>&nbsp;<span class="ident" id="7655766">reflect</span><span class="op" id="7655773">.</span><span class="ident" id="7655774">ValueOf</span><span class="op" id="7655781">(</span><span class="ident" id="7655782">data</span><span class="op" id="7655786">)</span><span class="op" id="7655787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7655791">if</span>&nbsp;<span class="op" id="7655794">!</span><span class="ident" id="7655795">bytes</span><span class="op" id="7655800">.</span><span class="ident" id="7655801">Equal</span><span class="op" id="7655806">(</span><span class="ident" id="7655807">unsignedResult</span><span class="op" id="7655821">,</span>&nbsp;<span class="ident" id="7655823">b</span><span class="op" id="7655824">.</span><span class="ident" id="7655825">Bytes</span><span class="op" id="7655830">(</span><span class="op" id="7655831">)</span><span class="op" id="7655832">)</span>&nbsp;<span class="op" id="7655834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655839">t</span><span class="op" id="7655840">.</span><span class="ident" id="7655841">Errorf</span><span class="op" id="7655847">(</span><span class="string" id="7655848">&#34;uint&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7655893">,</span>&nbsp;<span class="ident" id="7655895">unsignedResult</span><span class="op" id="7655909">,</span>&nbsp;<span class="ident" id="7655911">b</span><span class="op" id="7655912">.</span><span class="ident" id="7655913">Bytes</span><span class="op" id="7655918">(</span><span class="op" id="7655919">)</span><span class="op" id="7655920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655927">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7655931">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7655940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655944">b</span><span class="op" id="7655945">.</span><span class="ident" id="7655946">Reset</span><span class="op" id="7655951">(</span><span class="op" id="7655952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7655956">var</span>&nbsp;<span class="ident" id="7655960">data</span>&nbsp;<span class="builtintype" id="7655965">int8</span>&nbsp;<span class="op" id="7655970">=</span>&nbsp;<span class="num" id="7655972">17</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7655977">instr</span>&nbsp;<span class="op" id="7655983">:=</span>&nbsp;<span class="op" id="7655986">&amp;</span><span class="ident" id="7655987">encInstr</span><span class="op" id="7655995">{</span><span class="ident" id="7655996">encInt</span><span class="op" id="7656002">,</span>&nbsp;<span class="num" id="7656004">6</span><span class="op" id="7656005">,</span>&nbsp;<span class="ident" id="7656007">nil</span><span class="op" id="7656010">,</span>&nbsp;<span class="num" id="7656012">0</span><span class="op" id="7656013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656017">state</span>&nbsp;<span class="op" id="7656023">:=</span>&nbsp;<span class="ident" id="7656026">newEncoderState</span><span class="op" id="7656041">(</span><span class="ident" id="7656042">b</span><span class="op" id="7656043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656047">instr</span><span class="op" id="7656052">.</span><span class="ident" id="7656053">op</span><span class="op" id="7656055">(</span><span class="ident" id="7656056">instr</span><span class="op" id="7656061">,</span>&nbsp;<span class="ident" id="7656063">state</span><span class="op" id="7656068">,</span>&nbsp;<span class="ident" id="7656070">reflect</span><span class="op" id="7656077">.</span><span class="ident" id="7656078">ValueOf</span><span class="op" id="7656085">(</span><span class="ident" id="7656086">data</span><span class="op" id="7656090">)</span><span class="op" id="7656091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7656095">if</span>&nbsp;<span class="op" id="7656098">!</span><span class="ident" id="7656099">bytes</span><span class="op" id="7656104">.</span><span class="ident" id="7656105">Equal</span><span class="op" id="7656110">(</span><span class="ident" id="7656111">signedResult</span><span class="op" id="7656123">,</span>&nbsp;<span class="ident" id="7656125">b</span><span class="op" id="7656126">.</span><span class="ident" id="7656127">Bytes</span><span class="op" id="7656132">(</span><span class="op" id="7656133">)</span><span class="op" id="7656134">)</span>&nbsp;<span class="op" id="7656136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656141">t</span><span class="op" id="7656142">.</span><span class="ident" id="7656143">Errorf</span><span class="op" id="7656149">(</span><span class="string" id="7656150">&#34;int8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7656195">,</span>&nbsp;<span class="ident" id="7656197">signedResult</span><span class="op" id="7656209">,</span>&nbsp;<span class="ident" id="7656211">b</span><span class="op" id="7656212">.</span><span class="ident" id="7656213">Bytes</span><span class="op" id="7656218">(</span><span class="op" id="7656219">)</span><span class="op" id="7656220">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7656231">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656241">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656245">b</span><span class="op" id="7656246">.</span><span class="ident" id="7656247">Reset</span><span class="op" id="7656252">(</span><span class="op" id="7656253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7656257">var</span>&nbsp;<span class="ident" id="7656261">data</span>&nbsp;<span class="builtintype" id="7656266">uint8</span>&nbsp;<span class="op" id="7656272">=</span>&nbsp;<span class="num" id="7656274">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656279">instr</span>&nbsp;<span class="op" id="7656285">:=</span>&nbsp;<span class="op" id="7656288">&amp;</span><span class="ident" id="7656289">encInstr</span><span class="op" id="7656297">{</span><span class="ident" id="7656298">encUint</span><span class="op" id="7656305">,</span>&nbsp;<span class="num" id="7656307">6</span><span class="op" id="7656308">,</span>&nbsp;<span class="ident" id="7656310">nil</span><span class="op" id="7656313">,</span>&nbsp;<span class="num" id="7656315">0</span><span class="op" id="7656316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656320">state</span>&nbsp;<span class="op" id="7656326">:=</span>&nbsp;<span class="ident" id="7656329">newEncoderState</span><span class="op" id="7656344">(</span><span class="ident" id="7656345">b</span><span class="op" id="7656346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656350">instr</span><span class="op" id="7656355">.</span><span class="ident" id="7656356">op</span><span class="op" id="7656358">(</span><span class="ident" id="7656359">instr</span><span class="op" id="7656364">,</span>&nbsp;<span class="ident" id="7656366">state</span><span class="op" id="7656371">,</span>&nbsp;<span class="ident" id="7656373">reflect</span><span class="op" id="7656380">.</span><span class="ident" id="7656381">ValueOf</span><span class="op" id="7656388">(</span><span class="ident" id="7656389">data</span><span class="op" id="7656393">)</span><span class="op" id="7656394">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7656398">if</span>&nbsp;<span class="op" id="7656401">!</span><span class="ident" id="7656402">bytes</span><span class="op" id="7656407">.</span><span class="ident" id="7656408">Equal</span><span class="op" id="7656413">(</span><span class="ident" id="7656414">unsignedResult</span><span class="op" id="7656428">,</span>&nbsp;<span class="ident" id="7656430">b</span><span class="op" id="7656431">.</span><span class="ident" id="7656432">Bytes</span><span class="op" id="7656437">(</span><span class="op" id="7656438">)</span><span class="op" id="7656439">)</span>&nbsp;<span class="op" id="7656441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656446">t</span><span class="op" id="7656447">.</span><span class="ident" id="7656448">Errorf</span><span class="op" id="7656454">(</span><span class="string" id="7656455">&#34;uint8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7656501">,</span>&nbsp;<span class="ident" id="7656503">unsignedResult</span><span class="op" id="7656517">,</span>&nbsp;<span class="ident" id="7656519">b</span><span class="op" id="7656520">.</span><span class="ident" id="7656521">Bytes</span><span class="op" id="7656526">(</span><span class="op" id="7656527">)</span><span class="op" id="7656528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7656539">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656553">b</span><span class="op" id="7656554">.</span><span class="ident" id="7656555">Reset</span><span class="op" id="7656560">(</span><span class="op" id="7656561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7656565">var</span>&nbsp;<span class="ident" id="7656569">data</span>&nbsp;<span class="builtintype" id="7656574">int16</span>&nbsp;<span class="op" id="7656580">=</span>&nbsp;<span class="num" id="7656582">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656587">instr</span>&nbsp;<span class="op" id="7656593">:=</span>&nbsp;<span class="op" id="7656596">&amp;</span><span class="ident" id="7656597">encInstr</span><span class="op" id="7656605">{</span><span class="ident" id="7656606">encInt</span><span class="op" id="7656612">,</span>&nbsp;<span class="num" id="7656614">6</span><span class="op" id="7656615">,</span>&nbsp;<span class="ident" id="7656617">nil</span><span class="op" id="7656620">,</span>&nbsp;<span class="num" id="7656622">0</span><span class="op" id="7656623">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656627">state</span>&nbsp;<span class="op" id="7656633">:=</span>&nbsp;<span class="ident" id="7656636">newEncoderState</span><span class="op" id="7656651">(</span><span class="ident" id="7656652">b</span><span class="op" id="7656653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656657">instr</span><span class="op" id="7656662">.</span><span class="ident" id="7656663">op</span><span class="op" id="7656665">(</span><span class="ident" id="7656666">instr</span><span class="op" id="7656671">,</span>&nbsp;<span class="ident" id="7656673">state</span><span class="op" id="7656678">,</span>&nbsp;<span class="ident" id="7656680">reflect</span><span class="op" id="7656687">.</span><span class="ident" id="7656688">ValueOf</span><span class="op" id="7656695">(</span><span class="ident" id="7656696">data</span><span class="op" id="7656700">)</span><span class="op" id="7656701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7656705">if</span>&nbsp;<span class="op" id="7656708">!</span><span class="ident" id="7656709">bytes</span><span class="op" id="7656714">.</span><span class="ident" id="7656715">Equal</span><span class="op" id="7656720">(</span><span class="ident" id="7656721">signedResult</span><span class="op" id="7656733">,</span>&nbsp;<span class="ident" id="7656735">b</span><span class="op" id="7656736">.</span><span class="ident" id="7656737">Bytes</span><span class="op" id="7656742">(</span><span class="op" id="7656743">)</span><span class="op" id="7656744">)</span>&nbsp;<span class="op" id="7656746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656751">t</span><span class="op" id="7656752">.</span><span class="ident" id="7656753">Errorf</span><span class="op" id="7656759">(</span><span class="string" id="7656760">&#34;int16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7656806">,</span>&nbsp;<span class="ident" id="7656808">signedResult</span><span class="op" id="7656820">,</span>&nbsp;<span class="ident" id="7656822">b</span><span class="op" id="7656823">.</span><span class="ident" id="7656824">Bytes</span><span class="op" id="7656829">(</span><span class="op" id="7656830">)</span><span class="op" id="7656831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656835">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7656842">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7656853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656857">b</span><span class="op" id="7656858">.</span><span class="ident" id="7656859">Reset</span><span class="op" id="7656864">(</span><span class="op" id="7656865">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7656869">var</span>&nbsp;<span class="ident" id="7656873">data</span>&nbsp;<span class="builtintype" id="7656878">uint16</span>&nbsp;<span class="op" id="7656885">=</span>&nbsp;<span class="num" id="7656887">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656892">instr</span>&nbsp;<span class="op" id="7656898">:=</span>&nbsp;<span class="op" id="7656901">&amp;</span><span class="ident" id="7656902">encInstr</span><span class="op" id="7656910">{</span><span class="ident" id="7656911">encUint</span><span class="op" id="7656918">,</span>&nbsp;<span class="num" id="7656920">6</span><span class="op" id="7656921">,</span>&nbsp;<span class="ident" id="7656923">nil</span><span class="op" id="7656926">,</span>&nbsp;<span class="num" id="7656928">0</span><span class="op" id="7656929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656933">state</span>&nbsp;<span class="op" id="7656939">:=</span>&nbsp;<span class="ident" id="7656942">newEncoderState</span><span class="op" id="7656957">(</span><span class="ident" id="7656958">b</span><span class="op" id="7656959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7656963">instr</span><span class="op" id="7656968">.</span><span class="ident" id="7656969">op</span><span class="op" id="7656971">(</span><span class="ident" id="7656972">instr</span><span class="op" id="7656977">,</span>&nbsp;<span class="ident" id="7656979">state</span><span class="op" id="7656984">,</span>&nbsp;<span class="ident" id="7656986">reflect</span><span class="op" id="7656993">.</span><span class="ident" id="7656994">ValueOf</span><span class="op" id="7657001">(</span><span class="ident" id="7657002">data</span><span class="op" id="7657006">)</span><span class="op" id="7657007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7657011">if</span>&nbsp;<span class="op" id="7657014">!</span><span class="ident" id="7657015">bytes</span><span class="op" id="7657020">.</span><span class="ident" id="7657021">Equal</span><span class="op" id="7657026">(</span><span class="ident" id="7657027">unsignedResult</span><span class="op" id="7657041">,</span>&nbsp;<span class="ident" id="7657043">b</span><span class="op" id="7657044">.</span><span class="ident" id="7657045">Bytes</span><span class="op" id="7657050">(</span><span class="op" id="7657051">)</span><span class="op" id="7657052">)</span>&nbsp;<span class="op" id="7657054">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657059">t</span><span class="op" id="7657060">.</span><span class="ident" id="7657061">Errorf</span><span class="op" id="7657067">(</span><span class="string" id="7657068">&#34;uint16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7657115">,</span>&nbsp;<span class="ident" id="7657117">unsignedResult</span><span class="op" id="7657131">,</span>&nbsp;<span class="ident" id="7657133">b</span><span class="op" id="7657134">.</span><span class="ident" id="7657135">Bytes</span><span class="op" id="7657140">(</span><span class="op" id="7657141">)</span><span class="op" id="7657142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7657153">//&nbsp;int32</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657167">b</span><span class="op" id="7657168">.</span><span class="ident" id="7657169">Reset</span><span class="op" id="7657174">(</span><span class="op" id="7657175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7657179">var</span>&nbsp;<span class="ident" id="7657183">data</span>&nbsp;<span class="builtintype" id="7657188">int32</span>&nbsp;<span class="op" id="7657194">=</span>&nbsp;<span class="num" id="7657196">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657201">instr</span>&nbsp;<span class="op" id="7657207">:=</span>&nbsp;<span class="op" id="7657210">&amp;</span><span class="ident" id="7657211">encInstr</span><span class="op" id="7657219">{</span><span class="ident" id="7657220">encInt</span><span class="op" id="7657226">,</span>&nbsp;<span class="num" id="7657228">6</span><span class="op" id="7657229">,</span>&nbsp;<span class="ident" id="7657231">nil</span><span class="op" id="7657234">,</span>&nbsp;<span class="num" id="7657236">0</span><span class="op" id="7657237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657241">state</span>&nbsp;<span class="op" id="7657247">:=</span>&nbsp;<span class="ident" id="7657250">newEncoderState</span><span class="op" id="7657265">(</span><span class="ident" id="7657266">b</span><span class="op" id="7657267">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657271">instr</span><span class="op" id="7657276">.</span><span class="ident" id="7657277">op</span><span class="op" id="7657279">(</span><span class="ident" id="7657280">instr</span><span class="op" id="7657285">,</span>&nbsp;<span class="ident" id="7657287">state</span><span class="op" id="7657292">,</span>&nbsp;<span class="ident" id="7657294">reflect</span><span class="op" id="7657301">.</span><span class="ident" id="7657302">ValueOf</span><span class="op" id="7657309">(</span><span class="ident" id="7657310">data</span><span class="op" id="7657314">)</span><span class="op" id="7657315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7657319">if</span>&nbsp;<span class="op" id="7657322">!</span><span class="ident" id="7657323">bytes</span><span class="op" id="7657328">.</span><span class="ident" id="7657329">Equal</span><span class="op" id="7657334">(</span><span class="ident" id="7657335">signedResult</span><span class="op" id="7657347">,</span>&nbsp;<span class="ident" id="7657349">b</span><span class="op" id="7657350">.</span><span class="ident" id="7657351">Bytes</span><span class="op" id="7657356">(</span><span class="op" id="7657357">)</span><span class="op" id="7657358">)</span>&nbsp;<span class="op" id="7657360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657365">t</span><span class="op" id="7657366">.</span><span class="ident" id="7657367">Errorf</span><span class="op" id="7657373">(</span><span class="string" id="7657374">&#34;int32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7657420">,</span>&nbsp;<span class="ident" id="7657422">signedResult</span><span class="op" id="7657434">,</span>&nbsp;<span class="ident" id="7657436">b</span><span class="op" id="7657437">.</span><span class="ident" id="7657438">Bytes</span><span class="op" id="7657443">(</span><span class="op" id="7657444">)</span><span class="op" id="7657445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657452">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7657456">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657471">b</span><span class="op" id="7657472">.</span><span class="ident" id="7657473">Reset</span><span class="op" id="7657478">(</span><span class="op" id="7657479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7657483">var</span>&nbsp;<span class="ident" id="7657487">data</span>&nbsp;<span class="builtintype" id="7657492">uint32</span>&nbsp;<span class="op" id="7657499">=</span>&nbsp;<span class="num" id="7657501">17</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657506">instr</span>&nbsp;<span class="op" id="7657512">:=</span>&nbsp;<span class="op" id="7657515">&amp;</span><span class="ident" id="7657516">encInstr</span><span class="op" id="7657524">{</span><span class="ident" id="7657525">encUint</span><span class="op" id="7657532">,</span>&nbsp;<span class="num" id="7657534">6</span><span class="op" id="7657535">,</span>&nbsp;<span class="ident" id="7657537">nil</span><span class="op" id="7657540">,</span>&nbsp;<span class="num" id="7657542">0</span><span class="op" id="7657543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657547">state</span>&nbsp;<span class="op" id="7657553">:=</span>&nbsp;<span class="ident" id="7657556">newEncoderState</span><span class="op" id="7657571">(</span><span class="ident" id="7657572">b</span><span class="op" id="7657573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657577">instr</span><span class="op" id="7657582">.</span><span class="ident" id="7657583">op</span><span class="op" id="7657585">(</span><span class="ident" id="7657586">instr</span><span class="op" id="7657591">,</span>&nbsp;<span class="ident" id="7657593">state</span><span class="op" id="7657598">,</span>&nbsp;<span class="ident" id="7657600">reflect</span><span class="op" id="7657607">.</span><span class="ident" id="7657608">ValueOf</span><span class="op" id="7657615">(</span><span class="ident" id="7657616">data</span><span class="op" id="7657620">)</span><span class="op" id="7657621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7657625">if</span>&nbsp;<span class="op" id="7657628">!</span><span class="ident" id="7657629">bytes</span><span class="op" id="7657634">.</span><span class="ident" id="7657635">Equal</span><span class="op" id="7657640">(</span><span class="ident" id="7657641">unsignedResult</span><span class="op" id="7657655">,</span>&nbsp;<span class="ident" id="7657657">b</span><span class="op" id="7657658">.</span><span class="ident" id="7657659">Bytes</span><span class="op" id="7657664">(</span><span class="op" id="7657665">)</span><span class="op" id="7657666">)</span>&nbsp;<span class="op" id="7657668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657673">t</span><span class="op" id="7657674">.</span><span class="ident" id="7657675">Errorf</span><span class="op" id="7657681">(</span><span class="string" id="7657682">&#34;uint32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7657729">,</span>&nbsp;<span class="ident" id="7657731">unsignedResult</span><span class="op" id="7657745">,</span>&nbsp;<span class="ident" id="7657747">b</span><span class="op" id="7657748">.</span><span class="ident" id="7657749">Bytes</span><span class="op" id="7657754">(</span><span class="op" id="7657755">)</span><span class="op" id="7657756">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7657767">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7657777">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657781">b</span><span class="op" id="7657782">.</span><span class="ident" id="7657783">Reset</span><span class="op" id="7657788">(</span><span class="op" id="7657789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7657793">var</span>&nbsp;<span class="ident" id="7657797">data</span>&nbsp;<span class="ident" id="7657802">int64</span>&nbsp;<span class="op" id="7657808">=</span>&nbsp;<span class="num" id="7657810">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657815">instr</span>&nbsp;<span class="op" id="7657821">:=</span>&nbsp;<span class="op" id="7657824">&amp;</span><span class="ident" id="7657825">encInstr</span><span class="op" id="7657833">{</span><span class="ident" id="7657834">encInt</span><span class="op" id="7657840">,</span>&nbsp;<span class="num" id="7657842">6</span><span class="op" id="7657843">,</span>&nbsp;<span class="ident" id="7657845">nil</span><span class="op" id="7657848">,</span>&nbsp;<span class="num" id="7657850">0</span><span class="op" id="7657851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657855">state</span>&nbsp;<span class="op" id="7657861">:=</span>&nbsp;<span class="ident" id="7657864">newEncoderState</span><span class="op" id="7657879">(</span><span class="ident" id="7657880">b</span><span class="op" id="7657881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657885">instr</span><span class="op" id="7657890">.</span><span class="ident" id="7657891">op</span><span class="op" id="7657893">(</span><span class="ident" id="7657894">instr</span><span class="op" id="7657899">,</span>&nbsp;<span class="ident" id="7657901">state</span><span class="op" id="7657906">,</span>&nbsp;<span class="ident" id="7657908">reflect</span><span class="op" id="7657915">.</span><span class="ident" id="7657916">ValueOf</span><span class="op" id="7657923">(</span><span class="ident" id="7657924">data</span><span class="op" id="7657928">)</span><span class="op" id="7657929">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7657933">if</span>&nbsp;<span class="op" id="7657936">!</span><span class="ident" id="7657937">bytes</span><span class="op" id="7657942">.</span><span class="ident" id="7657943">Equal</span><span class="op" id="7657948">(</span><span class="ident" id="7657949">signedResult</span><span class="op" id="7657961">,</span>&nbsp;<span class="ident" id="7657963">b</span><span class="op" id="7657964">.</span><span class="ident" id="7657965">Bytes</span><span class="op" id="7657970">(</span><span class="op" id="7657971">)</span><span class="op" id="7657972">)</span>&nbsp;<span class="op" id="7657974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7657979">t</span><span class="op" id="7657980">.</span><span class="ident" id="7657981">Errorf</span><span class="op" id="7657987">(</span><span class="string" id="7657988">&#34;int64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7658034">,</span>&nbsp;<span class="ident" id="7658036">signedResult</span><span class="op" id="7658048">,</span>&nbsp;<span class="ident" id="7658050">b</span><span class="op" id="7658051">.</span><span class="ident" id="7658052">Bytes</span><span class="op" id="7658057">(</span><span class="op" id="7658058">)</span><span class="op" id="7658059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7658070">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658085">b</span><span class="op" id="7658086">.</span><span class="ident" id="7658087">Reset</span><span class="op" id="7658092">(</span><span class="op" id="7658093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7658097">var</span>&nbsp;<span class="ident" id="7658101">data</span>&nbsp;<span class="ident" id="7658106">uint64</span>&nbsp;<span class="op" id="7658113">=</span>&nbsp;<span class="num" id="7658115">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658120">instr</span>&nbsp;<span class="op" id="7658126">:=</span>&nbsp;<span class="op" id="7658129">&amp;</span><span class="ident" id="7658130">encInstr</span><span class="op" id="7658138">{</span><span class="ident" id="7658139">encUint</span><span class="op" id="7658146">,</span>&nbsp;<span class="num" id="7658148">6</span><span class="op" id="7658149">,</span>&nbsp;<span class="ident" id="7658151">nil</span><span class="op" id="7658154">,</span>&nbsp;<span class="num" id="7658156">0</span><span class="op" id="7658157">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658161">state</span>&nbsp;<span class="op" id="7658167">:=</span>&nbsp;<span class="ident" id="7658170">newEncoderState</span><span class="op" id="7658185">(</span><span class="ident" id="7658186">b</span><span class="op" id="7658187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658191">instr</span><span class="op" id="7658196">.</span><span class="ident" id="7658197">op</span><span class="op" id="7658199">(</span><span class="ident" id="7658200">instr</span><span class="op" id="7658205">,</span>&nbsp;<span class="ident" id="7658207">state</span><span class="op" id="7658212">,</span>&nbsp;<span class="ident" id="7658214">reflect</span><span class="op" id="7658221">.</span><span class="ident" id="7658222">ValueOf</span><span class="op" id="7658229">(</span><span class="ident" id="7658230">data</span><span class="op" id="7658234">)</span><span class="op" id="7658235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7658239">if</span>&nbsp;<span class="op" id="7658242">!</span><span class="ident" id="7658243">bytes</span><span class="op" id="7658248">.</span><span class="ident" id="7658249">Equal</span><span class="op" id="7658254">(</span><span class="ident" id="7658255">unsignedResult</span><span class="op" id="7658269">,</span>&nbsp;<span class="ident" id="7658271">b</span><span class="op" id="7658272">.</span><span class="ident" id="7658273">Bytes</span><span class="op" id="7658278">(</span><span class="op" id="7658279">)</span><span class="op" id="7658280">)</span>&nbsp;<span class="op" id="7658282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658287">t</span><span class="op" id="7658288">.</span><span class="ident" id="7658289">Errorf</span><span class="op" id="7658295">(</span><span class="string" id="7658296">&#34;uint64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7658343">,</span>&nbsp;<span class="ident" id="7658345">unsignedResult</span><span class="op" id="7658359">,</span>&nbsp;<span class="ident" id="7658361">b</span><span class="op" id="7658362">.</span><span class="ident" id="7658363">Bytes</span><span class="op" id="7658368">(</span><span class="op" id="7658369">)</span><span class="op" id="7658370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658374">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7658381">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658397">b</span><span class="op" id="7658398">.</span><span class="ident" id="7658399">Reset</span><span class="op" id="7658404">(</span><span class="op" id="7658405">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7658409">var</span>&nbsp;<span class="ident" id="7658413">data</span>&nbsp;<span class="builtintype" id="7658418">float32</span>&nbsp;<span class="op" id="7658426">=</span>&nbsp;<span class="num" id="7658428">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658433">instr</span>&nbsp;<span class="op" id="7658439">:=</span>&nbsp;<span class="op" id="7658442">&amp;</span><span class="ident" id="7658443">encInstr</span><span class="op" id="7658451">{</span><span class="ident" id="7658452">encFloat</span><span class="op" id="7658460">,</span>&nbsp;<span class="num" id="7658462">6</span><span class="op" id="7658463">,</span>&nbsp;<span class="ident" id="7658465">nil</span><span class="op" id="7658468">,</span>&nbsp;<span class="num" id="7658470">0</span><span class="op" id="7658471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658475">state</span>&nbsp;<span class="op" id="7658481">:=</span>&nbsp;<span class="ident" id="7658484">newEncoderState</span><span class="op" id="7658499">(</span><span class="ident" id="7658500">b</span><span class="op" id="7658501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658505">instr</span><span class="op" id="7658510">.</span><span class="ident" id="7658511">op</span><span class="op" id="7658513">(</span><span class="ident" id="7658514">instr</span><span class="op" id="7658519">,</span>&nbsp;<span class="ident" id="7658521">state</span><span class="op" id="7658526">,</span>&nbsp;<span class="ident" id="7658528">reflect</span><span class="op" id="7658535">.</span><span class="ident" id="7658536">ValueOf</span><span class="op" id="7658543">(</span><span class="ident" id="7658544">data</span><span class="op" id="7658548">)</span><span class="op" id="7658549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7658553">if</span>&nbsp;<span class="op" id="7658556">!</span><span class="ident" id="7658557">bytes</span><span class="op" id="7658562">.</span><span class="ident" id="7658563">Equal</span><span class="op" id="7658568">(</span><span class="ident" id="7658569">floatResult</span><span class="op" id="7658580">,</span>&nbsp;<span class="ident" id="7658582">b</span><span class="op" id="7658583">.</span><span class="ident" id="7658584">Bytes</span><span class="op" id="7658589">(</span><span class="op" id="7658590">)</span><span class="op" id="7658591">)</span>&nbsp;<span class="op" id="7658593">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658598">t</span><span class="op" id="7658599">.</span><span class="ident" id="7658600">Errorf</span><span class="op" id="7658606">(</span><span class="string" id="7658607">&#34;float32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7658655">,</span>&nbsp;<span class="ident" id="7658657">floatResult</span><span class="op" id="7658668">,</span>&nbsp;<span class="ident" id="7658670">b</span><span class="op" id="7658671">.</span><span class="ident" id="7658672">Bytes</span><span class="op" id="7658677">(</span><span class="op" id="7658678">)</span><span class="op" id="7658679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7658690">//&nbsp;float64</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658706">b</span><span class="op" id="7658707">.</span><span class="ident" id="7658708">Reset</span><span class="op" id="7658713">(</span><span class="op" id="7658714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7658718">var</span>&nbsp;<span class="ident" id="7658722">data</span>&nbsp;<span class="builtintype" id="7658727">float64</span>&nbsp;<span class="op" id="7658735">=</span>&nbsp;<span class="num" id="7658737">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658742">instr</span>&nbsp;<span class="op" id="7658748">:=</span>&nbsp;<span class="op" id="7658751">&amp;</span><span class="ident" id="7658752">encInstr</span><span class="op" id="7658760">{</span><span class="ident" id="7658761">encFloat</span><span class="op" id="7658769">,</span>&nbsp;<span class="num" id="7658771">6</span><span class="op" id="7658772">,</span>&nbsp;<span class="ident" id="7658774">nil</span><span class="op" id="7658777">,</span>&nbsp;<span class="num" id="7658779">0</span><span class="op" id="7658780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658784">state</span>&nbsp;<span class="op" id="7658790">:=</span>&nbsp;<span class="ident" id="7658793">newEncoderState</span><span class="op" id="7658808">(</span><span class="ident" id="7658809">b</span><span class="op" id="7658810">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658814">instr</span><span class="op" id="7658819">.</span><span class="ident" id="7658820">op</span><span class="op" id="7658822">(</span><span class="ident" id="7658823">instr</span><span class="op" id="7658828">,</span>&nbsp;<span class="ident" id="7658830">state</span><span class="op" id="7658835">,</span>&nbsp;<span class="ident" id="7658837">reflect</span><span class="op" id="7658844">.</span><span class="ident" id="7658845">ValueOf</span><span class="op" id="7658852">(</span><span class="ident" id="7658853">data</span><span class="op" id="7658857">)</span><span class="op" id="7658858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7658862">if</span>&nbsp;<span class="op" id="7658865">!</span><span class="ident" id="7658866">bytes</span><span class="op" id="7658871">.</span><span class="ident" id="7658872">Equal</span><span class="op" id="7658877">(</span><span class="ident" id="7658878">floatResult</span><span class="op" id="7658889">,</span>&nbsp;<span class="ident" id="7658891">b</span><span class="op" id="7658892">.</span><span class="ident" id="7658893">Bytes</span><span class="op" id="7658898">(</span><span class="op" id="7658899">)</span><span class="op" id="7658900">)</span>&nbsp;<span class="op" id="7658902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7658907">t</span><span class="op" id="7658908">.</span><span class="ident" id="7658909">Errorf</span><span class="op" id="7658915">(</span><span class="string" id="7658916">&#34;float64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7658964">,</span>&nbsp;<span class="ident" id="7658966">floatResult</span><span class="op" id="7658977">,</span>&nbsp;<span class="ident" id="7658979">b</span><span class="op" id="7658980">.</span><span class="ident" id="7658981">Bytes</span><span class="op" id="7658986">(</span><span class="op" id="7658987">)</span><span class="op" id="7658988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7658995">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7658999">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659024">b</span><span class="op" id="7659025">.</span><span class="ident" id="7659026">Reset</span><span class="op" id="7659031">(</span><span class="op" id="7659032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659036">data</span>&nbsp;<span class="op" id="7659041">:=</span>&nbsp;<span class="op" id="7659044">[</span><span class="op" id="7659045">]</span><span class="builtintype" id="7659046">byte</span><span class="op" id="7659050">(</span><span class="string" id="7659051">&#34;hello&#34;</span><span class="op" id="7659058">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659062">instr</span>&nbsp;<span class="op" id="7659068">:=</span>&nbsp;<span class="op" id="7659071">&amp;</span><span class="ident" id="7659072">encInstr</span><span class="op" id="7659080">{</span><span class="ident" id="7659081">encUint8Array</span><span class="op" id="7659094">,</span>&nbsp;<span class="num" id="7659096">6</span><span class="op" id="7659097">,</span>&nbsp;<span class="ident" id="7659099">nil</span><span class="op" id="7659102">,</span>&nbsp;<span class="num" id="7659104">0</span><span class="op" id="7659105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659109">state</span>&nbsp;<span class="op" id="7659115">:=</span>&nbsp;<span class="ident" id="7659118">newEncoderState</span><span class="op" id="7659133">(</span><span class="ident" id="7659134">b</span><span class="op" id="7659135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659139">instr</span><span class="op" id="7659144">.</span><span class="ident" id="7659145">op</span><span class="op" id="7659147">(</span><span class="ident" id="7659148">instr</span><span class="op" id="7659153">,</span>&nbsp;<span class="ident" id="7659155">state</span><span class="op" id="7659160">,</span>&nbsp;<span class="ident" id="7659162">reflect</span><span class="op" id="7659169">.</span><span class="ident" id="7659170">ValueOf</span><span class="op" id="7659177">(</span><span class="ident" id="7659178">data</span><span class="op" id="7659182">)</span><span class="op" id="7659183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659187">if</span>&nbsp;<span class="op" id="7659190">!</span><span class="ident" id="7659191">bytes</span><span class="op" id="7659196">.</span><span class="ident" id="7659197">Equal</span><span class="op" id="7659202">(</span><span class="ident" id="7659203">bytesResult</span><span class="op" id="7659214">,</span>&nbsp;<span class="ident" id="7659216">b</span><span class="op" id="7659217">.</span><span class="ident" id="7659218">Bytes</span><span class="op" id="7659223">(</span><span class="op" id="7659224">)</span><span class="op" id="7659225">)</span>&nbsp;<span class="op" id="7659227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659232">t</span><span class="op" id="7659233">.</span><span class="ident" id="7659234">Errorf</span><span class="op" id="7659240">(</span><span class="string" id="7659241">&#34;bytes&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7659287">,</span>&nbsp;<span class="ident" id="7659289">bytesResult</span><span class="op" id="7659300">,</span>&nbsp;<span class="ident" id="7659302">b</span><span class="op" id="7659303">.</span><span class="ident" id="7659304">Bytes</span><span class="op" id="7659309">(</span><span class="op" id="7659310">)</span><span class="op" id="7659311">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7659322">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659333">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659337">b</span><span class="op" id="7659338">.</span><span class="ident" id="7659339">Reset</span><span class="op" id="7659344">(</span><span class="op" id="7659345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659349">var</span>&nbsp;<span class="ident" id="7659353">data</span>&nbsp;<span class="builtintype" id="7659358">string</span>&nbsp;<span class="op" id="7659365">=</span>&nbsp;<span class="string" id="7659367">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659377">instr</span>&nbsp;<span class="op" id="7659383">:=</span>&nbsp;<span class="op" id="7659386">&amp;</span><span class="ident" id="7659387">encInstr</span><span class="op" id="7659395">{</span><span class="ident" id="7659396">encString</span><span class="op" id="7659405">,</span>&nbsp;<span class="num" id="7659407">6</span><span class="op" id="7659408">,</span>&nbsp;<span class="ident" id="7659410">nil</span><span class="op" id="7659413">,</span>&nbsp;<span class="num" id="7659415">0</span><span class="op" id="7659416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659420">state</span>&nbsp;<span class="op" id="7659426">:=</span>&nbsp;<span class="ident" id="7659429">newEncoderState</span><span class="op" id="7659444">(</span><span class="ident" id="7659445">b</span><span class="op" id="7659446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659450">instr</span><span class="op" id="7659455">.</span><span class="ident" id="7659456">op</span><span class="op" id="7659458">(</span><span class="ident" id="7659459">instr</span><span class="op" id="7659464">,</span>&nbsp;<span class="ident" id="7659466">state</span><span class="op" id="7659471">,</span>&nbsp;<span class="ident" id="7659473">reflect</span><span class="op" id="7659480">.</span><span class="ident" id="7659481">ValueOf</span><span class="op" id="7659488">(</span><span class="ident" id="7659489">data</span><span class="op" id="7659493">)</span><span class="op" id="7659494">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659498">if</span>&nbsp;<span class="op" id="7659501">!</span><span class="ident" id="7659502">bytes</span><span class="op" id="7659507">.</span><span class="ident" id="7659508">Equal</span><span class="op" id="7659513">(</span><span class="ident" id="7659514">bytesResult</span><span class="op" id="7659525">,</span>&nbsp;<span class="ident" id="7659527">b</span><span class="op" id="7659528">.</span><span class="ident" id="7659529">Bytes</span><span class="op" id="7659534">(</span><span class="op" id="7659535">)</span><span class="op" id="7659536">)</span>&nbsp;<span class="op" id="7659538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659543">t</span><span class="op" id="7659544">.</span><span class="ident" id="7659545">Errorf</span><span class="op" id="7659551">(</span><span class="string" id="7659552">&#34;string&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7659599">,</span>&nbsp;<span class="ident" id="7659601">bytesResult</span><span class="op" id="7659612">,</span>&nbsp;<span class="ident" id="7659614">b</span><span class="op" id="7659615">.</span><span class="ident" id="7659616">Bytes</span><span class="op" id="7659621">(</span><span class="op" id="7659622">)</span><span class="op" id="7659623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659630">}</span><br>
<span class="lineno"></span><span class="op" id="7659632">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="7659635">func</span>&nbsp;<span class="ident" id="7659640">execDec</span><span class="op" id="7659647">(</span><span class="ident" id="7659648">typ</span>&nbsp;<span class="builtintype" id="7659652">string</span><span class="op" id="7659658">,</span>&nbsp;<span class="ident" id="7659660">instr</span>&nbsp;<span class="op" id="7659666">*</span><span class="ident" id="7659667">decInstr</span><span class="op" id="7659675">,</span>&nbsp;<span class="ident" id="7659677">state</span>&nbsp;<span class="op" id="7659683">*</span><span class="ident" id="7659684">decoderState</span><span class="op" id="7659696">,</span>&nbsp;<span class="ident" id="7659698">t</span>&nbsp;<span class="op" id="7659700">*</span><span class="ident" id="7659701">testing</span><span class="op" id="7659708">.</span><span class="ident" id="7659709">T</span><span class="op" id="7659710">,</span>&nbsp;<span class="ident" id="7659712">value</span>&nbsp;<span class="ident" id="7659718">reflect</span><span class="op" id="7659725">.</span><span class="ident" id="7659726">Value</span><span class="op" id="7659731">)</span>&nbsp;<span class="op" id="7659733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659736">defer</span>&nbsp;<span class="ident" id="7659742">testError</span><span class="op" id="7659751">(</span><span class="ident" id="7659752">t</span><span class="op" id="7659753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659756">v</span>&nbsp;<span class="op" id="7659758">:=</span>&nbsp;<span class="builtintype" id="7659761">int</span><span class="op" id="7659764">(</span><span class="ident" id="7659765">state</span><span class="op" id="7659770">.</span><span class="ident" id="7659771">decodeUint</span><span class="op" id="7659781">(</span><span class="op" id="7659782">)</span><span class="op" id="7659783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7659786">if</span>&nbsp;<span class="ident" id="7659789">v</span><span class="op" id="7659790">+</span><span class="ident" id="7659791">state</span><span class="op" id="7659796">.</span><span class="ident" id="7659797">fieldnum</span>&nbsp;<span class="op" id="7659806">!=</span>&nbsp;<span class="num" id="7659809">6</span>&nbsp;<span class="op" id="7659811">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659815">t</span><span class="op" id="7659816">.</span><span class="ident" id="7659817">Fatalf</span><span class="op" id="7659823">(</span><span class="string" id="7659824">&#34;decoding&nbsp;field&nbsp;number&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7659858">,</span>&nbsp;<span class="num" id="7659860">6</span><span class="op" id="7659861">,</span>&nbsp;<span class="ident" id="7659863">v</span><span class="op" id="7659864">+</span><span class="ident" id="7659865">state</span><span class="op" id="7659870">.</span><span class="ident" id="7659871">fieldnum</span><span class="op" id="7659879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7659882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659885">instr</span><span class="op" id="7659890">.</span><span class="ident" id="7659891">op</span><span class="op" id="7659893">(</span><span class="ident" id="7659894">instr</span><span class="op" id="7659899">,</span>&nbsp;<span class="ident" id="7659901">state</span><span class="op" id="7659906">,</span>&nbsp;<span class="ident" id="7659908">value</span><span class="op" id="7659913">.</span><span class="ident" id="7659914">Elem</span><span class="op" id="7659918">(</span><span class="op" id="7659919">)</span><span class="op" id="7659920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7659923">state</span><span class="op" id="7659928">.</span><span class="ident" id="7659929">fieldnum</span>&nbsp;<span class="op" id="7659938">=</span>&nbsp;<span class="num" id="7659940">6</span><br>
<span class="lineno"></span><span class="op" id="7659942">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="7659945">func</span>&nbsp;<span class="ident" id="7659950">newDecodeStateFromData</span><span class="op" id="7659972">(</span><span class="ident" id="7659973">data</span>&nbsp;<span class="op" id="7659978">[</span><span class="op" id="7659979">]</span><span class="builtintype" id="7659980">byte</span><span class="op" id="7659984">)</span>&nbsp;<span class="op" id="7659986">*</span><span class="ident" id="7659987">decoderState</span>&nbsp;<span class="op" id="7660000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660003">b</span>&nbsp;<span class="op" id="7660005">:=</span>&nbsp;<span class="ident" id="7660008">newDecBuffer</span><span class="op" id="7660020">(</span><span class="ident" id="7660021">data</span><span class="op" id="7660025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660028">state</span>&nbsp;<span class="op" id="7660034">:=</span>&nbsp;<span class="ident" id="7660037">newDecodeState</span><span class="op" id="7660051">(</span><span class="ident" id="7660052">b</span><span class="op" id="7660053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660056">state</span><span class="op" id="7660061">.</span><span class="ident" id="7660062">fieldnum</span>&nbsp;<span class="op" id="7660071">=</span>&nbsp;<span class="op" id="7660073">-</span><span class="num" id="7660074">1</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660077">return</span>&nbsp;<span class="ident" id="7660084">state</span><br>
<span class="lineno"></span><span class="op" id="7660090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7660093">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="comment" id="7660137">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno">345</span><span class="keyword" id="7660220">func</span>&nbsp;<span class="ident" id="7660225">TestScalarDecInstructions</span><span class="op" id="7660250">(</span><span class="ident" id="7660251">t</span>&nbsp;<span class="op" id="7660253">*</span><span class="ident" id="7660254">testing</span><span class="op" id="7660261">.</span><span class="ident" id="7660262">T</span><span class="op" id="7660263">)</span>&nbsp;<span class="op" id="7660265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660268">ovfl</span>&nbsp;<span class="op" id="7660273">:=</span>&nbsp;<span class="ident" id="7660276">errors</span><span class="op" id="7660282">.</span><span class="ident" id="7660283">New</span><span class="op" id="7660286">(</span><span class="string" id="7660287">&#34;overflow&#34;</span><span class="op" id="7660297">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7660301">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660310">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660314">var</span>&nbsp;<span class="ident" id="7660318">data</span>&nbsp;<span class="builtintype" id="7660323">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660330">instr</span>&nbsp;<span class="op" id="7660336">:=</span>&nbsp;<span class="op" id="7660339">&amp;</span><span class="ident" id="7660340">decInstr</span><span class="op" id="7660348">{</span><span class="ident" id="7660349">decBool</span><span class="op" id="7660356">,</span>&nbsp;<span class="num" id="7660358">6</span><span class="op" id="7660359">,</span>&nbsp;<span class="ident" id="7660361">nil</span><span class="op" id="7660364">,</span>&nbsp;<span class="ident" id="7660366">ovfl</span><span class="op" id="7660370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660374">state</span>&nbsp;<span class="op" id="7660380">:=</span>&nbsp;<span class="ident" id="7660383">newDecodeStateFromData</span><span class="op" id="7660405">(</span><span class="ident" id="7660406">boolResult</span><span class="op" id="7660416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660420">execDec</span><span class="op" id="7660427">(</span><span class="string" id="7660428">&#34;bool&#34;</span><span class="op" id="7660434">,</span>&nbsp;<span class="ident" id="7660436">instr</span><span class="op" id="7660441">,</span>&nbsp;<span class="ident" id="7660443">state</span><span class="op" id="7660448">,</span>&nbsp;<span class="ident" id="7660450">t</span><span class="op" id="7660451">,</span>&nbsp;<span class="ident" id="7660453">reflect</span><span class="op" id="7660460">.</span><span class="ident" id="7660461">ValueOf</span><span class="op" id="7660468">(</span><span class="op" id="7660469">&amp;</span><span class="ident" id="7660470">data</span><span class="op" id="7660474">)</span><span class="op" id="7660475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660479">if</span>&nbsp;<span class="ident" id="7660482">data</span>&nbsp;<span class="op" id="7660487">!=</span>&nbsp;<span class="builtintype" id="7660490">true</span>&nbsp;<span class="op" id="7660495">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660500">t</span><span class="op" id="7660501">.</span><span class="ident" id="7660502">Errorf</span><span class="op" id="7660508">(</span><span class="string" id="7660509">&#34;bool&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;true&#34;</span><span class="op" id="7660531">,</span>&nbsp;<span class="ident" id="7660533">data</span><span class="op" id="7660537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7660547">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660555">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660559">var</span>&nbsp;<span class="ident" id="7660563">data</span>&nbsp;<span class="builtintype" id="7660568">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660574">instr</span>&nbsp;<span class="op" id="7660580">:=</span>&nbsp;<span class="op" id="7660583">&amp;</span><span class="ident" id="7660584">decInstr</span><span class="op" id="7660592">{</span><span class="ident" id="7660593">decOpTable</span><span class="op" id="7660603">[</span><span class="ident" id="7660604">reflect</span><span class="op" id="7660611">.</span><span class="ident" id="7660612">Int</span><span class="op" id="7660615">]</span><span class="op" id="7660616">,</span>&nbsp;<span class="num" id="7660618">6</span><span class="op" id="7660619">,</span>&nbsp;<span class="ident" id="7660621">nil</span><span class="op" id="7660624">,</span>&nbsp;<span class="ident" id="7660626">ovfl</span><span class="op" id="7660630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660634">state</span>&nbsp;<span class="op" id="7660640">:=</span>&nbsp;<span class="ident" id="7660643">newDecodeStateFromData</span><span class="op" id="7660665">(</span><span class="ident" id="7660666">signedResult</span><span class="op" id="7660678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660682">execDec</span><span class="op" id="7660689">(</span><span class="string" id="7660690">&#34;int&#34;</span><span class="op" id="7660695">,</span>&nbsp;<span class="ident" id="7660697">instr</span><span class="op" id="7660702">,</span>&nbsp;<span class="ident" id="7660704">state</span><span class="op" id="7660709">,</span>&nbsp;<span class="ident" id="7660711">t</span><span class="op" id="7660712">,</span>&nbsp;<span class="ident" id="7660714">reflect</span><span class="op" id="7660721">.</span><span class="ident" id="7660722">ValueOf</span><span class="op" id="7660729">(</span><span class="op" id="7660730">&amp;</span><span class="ident" id="7660731">data</span><span class="op" id="7660735">)</span><span class="op" id="7660736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660740">if</span>&nbsp;<span class="ident" id="7660743">data</span>&nbsp;<span class="op" id="7660748">!=</span>&nbsp;<span class="num" id="7660751">17</span>&nbsp;<span class="op" id="7660754">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660759">t</span><span class="op" id="7660760">.</span><span class="ident" id="7660761">Errorf</span><span class="op" id="7660767">(</span><span class="string" id="7660768">&#34;int&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7660787">,</span>&nbsp;<span class="ident" id="7660789">data</span><span class="op" id="7660793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7660804">//&nbsp;uint</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7660813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7660817">var</span>&nbsp;<span class="ident" id="7660821">data</span>&nbsp;<span class="builtintype" id="7660826">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660833">instr</span>&nbsp;<span class="op" id="7660839">:=</span>&nbsp;<span class="op" id="7660842">&amp;</span><span class="ident" id="7660843">decInstr</span><span class="op" id="7660851">{</span><span class="ident" id="7660852">decOpTable</span><span class="op" id="7660862">[</span><span class="ident" id="7660863">reflect</span><span class="op" id="7660870">.</span><span class="ident" id="7660871">Uint</span><span class="op" id="7660875">]</span><span class="op" id="7660876">,</span>&nbsp;<span class="num" id="7660878">6</span><span class="op" id="7660879">,</span>&nbsp;<span class="ident" id="7660881">nil</span><span class="op" id="7660884">,</span>&nbsp;<span class="ident" id="7660886">ovfl</span><span class="op" id="7660890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660894">state</span>&nbsp;<span class="op" id="7660900">:=</span>&nbsp;<span class="ident" id="7660903">newDecodeStateFromData</span><span class="op" id="7660925">(</span><span class="ident" id="7660926">unsignedResult</span><span class="op" id="7660940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7660944">execDec</span><span class="op" id="7660951">(</span><span class="string" id="7660952">&#34;uint&#34;</span><span class="op" id="7660958">,</span>&nbsp;<span class="ident" id="7660960">instr</span><span class="op" id="7660965">,</span>&nbsp;<span class="ident" id="7660967">state</span><span class="op" id="7660972">,</span>&nbsp;<span class="ident" id="7660974">t</span><span class="op" id="7660975">,</span>&nbsp;<span class="ident" id="7660977">reflect</span><span class="op" id="7660984">.</span><span class="ident" id="7660985">ValueOf</span><span class="op" id="7660992">(</span><span class="op" id="7660993">&amp;</span><span class="ident" id="7660994">data</span><span class="op" id="7660998">)</span><span class="op" id="7660999">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661003">if</span>&nbsp;<span class="ident" id="7661006">data</span>&nbsp;<span class="op" id="7661011">!=</span>&nbsp;<span class="num" id="7661014">17</span>&nbsp;<span class="op" id="7661017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661022">t</span><span class="op" id="7661023">.</span><span class="ident" id="7661024">Errorf</span><span class="op" id="7661030">(</span><span class="string" id="7661031">&#34;uint&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7661051">,</span>&nbsp;<span class="ident" id="7661053">data</span><span class="op" id="7661057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7661068">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661081">var</span>&nbsp;<span class="ident" id="7661085">data</span>&nbsp;<span class="builtintype" id="7661090">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661097">instr</span>&nbsp;<span class="op" id="7661103">:=</span>&nbsp;<span class="op" id="7661106">&amp;</span><span class="ident" id="7661107">decInstr</span><span class="op" id="7661115">{</span><span class="ident" id="7661116">decInt8</span><span class="op" id="7661123">,</span>&nbsp;<span class="num" id="7661125">6</span><span class="op" id="7661126">,</span>&nbsp;<span class="ident" id="7661128">nil</span><span class="op" id="7661131">,</span>&nbsp;<span class="ident" id="7661133">ovfl</span><span class="op" id="7661137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661141">state</span>&nbsp;<span class="op" id="7661147">:=</span>&nbsp;<span class="ident" id="7661150">newDecodeStateFromData</span><span class="op" id="7661172">(</span><span class="ident" id="7661173">signedResult</span><span class="op" id="7661185">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661189">execDec</span><span class="op" id="7661196">(</span><span class="string" id="7661197">&#34;int8&#34;</span><span class="op" id="7661203">,</span>&nbsp;<span class="ident" id="7661205">instr</span><span class="op" id="7661210">,</span>&nbsp;<span class="ident" id="7661212">state</span><span class="op" id="7661217">,</span>&nbsp;<span class="ident" id="7661219">t</span><span class="op" id="7661220">,</span>&nbsp;<span class="ident" id="7661222">reflect</span><span class="op" id="7661229">.</span><span class="ident" id="7661230">ValueOf</span><span class="op" id="7661237">(</span><span class="op" id="7661238">&amp;</span><span class="ident" id="7661239">data</span><span class="op" id="7661243">)</span><span class="op" id="7661244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661248">if</span>&nbsp;<span class="ident" id="7661251">data</span>&nbsp;<span class="op" id="7661256">!=</span>&nbsp;<span class="num" id="7661259">17</span>&nbsp;<span class="op" id="7661262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661267">t</span><span class="op" id="7661268">.</span><span class="ident" id="7661269">Errorf</span><span class="op" id="7661275">(</span><span class="string" id="7661276">&#34;int8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7661296">,</span>&nbsp;<span class="ident" id="7661298">data</span><span class="op" id="7661302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661309">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7661313">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661327">var</span>&nbsp;<span class="ident" id="7661331">data</span>&nbsp;<span class="builtintype" id="7661336">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661344">instr</span>&nbsp;<span class="op" id="7661350">:=</span>&nbsp;<span class="op" id="7661353">&amp;</span><span class="ident" id="7661354">decInstr</span><span class="op" id="7661362">{</span><span class="ident" id="7661363">decUint8</span><span class="op" id="7661371">,</span>&nbsp;<span class="num" id="7661373">6</span><span class="op" id="7661374">,</span>&nbsp;<span class="ident" id="7661376">nil</span><span class="op" id="7661379">,</span>&nbsp;<span class="ident" id="7661381">ovfl</span><span class="op" id="7661385">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661389">state</span>&nbsp;<span class="op" id="7661395">:=</span>&nbsp;<span class="ident" id="7661398">newDecodeStateFromData</span><span class="op" id="7661420">(</span><span class="ident" id="7661421">unsignedResult</span><span class="op" id="7661435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661439">execDec</span><span class="op" id="7661446">(</span><span class="string" id="7661447">&#34;uint8&#34;</span><span class="op" id="7661454">,</span>&nbsp;<span class="ident" id="7661456">instr</span><span class="op" id="7661461">,</span>&nbsp;<span class="ident" id="7661463">state</span><span class="op" id="7661468">,</span>&nbsp;<span class="ident" id="7661470">t</span><span class="op" id="7661471">,</span>&nbsp;<span class="ident" id="7661473">reflect</span><span class="op" id="7661480">.</span><span class="ident" id="7661481">ValueOf</span><span class="op" id="7661488">(</span><span class="op" id="7661489">&amp;</span><span class="ident" id="7661490">data</span><span class="op" id="7661494">)</span><span class="op" id="7661495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661499">if</span>&nbsp;<span class="ident" id="7661502">data</span>&nbsp;<span class="op" id="7661507">!=</span>&nbsp;<span class="num" id="7661510">17</span>&nbsp;<span class="op" id="7661513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661518">t</span><span class="op" id="7661519">.</span><span class="ident" id="7661520">Errorf</span><span class="op" id="7661526">(</span><span class="string" id="7661527">&#34;uint8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7661548">,</span>&nbsp;<span class="ident" id="7661550">data</span><span class="op" id="7661554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661558">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7661565">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661579">var</span>&nbsp;<span class="ident" id="7661583">data</span>&nbsp;<span class="builtintype" id="7661588">int16</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661596">instr</span>&nbsp;<span class="op" id="7661602">:=</span>&nbsp;<span class="op" id="7661605">&amp;</span><span class="ident" id="7661606">decInstr</span><span class="op" id="7661614">{</span><span class="ident" id="7661615">decInt16</span><span class="op" id="7661623">,</span>&nbsp;<span class="num" id="7661625">6</span><span class="op" id="7661626">,</span>&nbsp;<span class="ident" id="7661628">nil</span><span class="op" id="7661631">,</span>&nbsp;<span class="ident" id="7661633">ovfl</span><span class="op" id="7661637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661641">state</span>&nbsp;<span class="op" id="7661647">:=</span>&nbsp;<span class="ident" id="7661650">newDecodeStateFromData</span><span class="op" id="7661672">(</span><span class="ident" id="7661673">signedResult</span><span class="op" id="7661685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661689">execDec</span><span class="op" id="7661696">(</span><span class="string" id="7661697">&#34;int16&#34;</span><span class="op" id="7661704">,</span>&nbsp;<span class="ident" id="7661706">instr</span><span class="op" id="7661711">,</span>&nbsp;<span class="ident" id="7661713">state</span><span class="op" id="7661718">,</span>&nbsp;<span class="ident" id="7661720">t</span><span class="op" id="7661721">,</span>&nbsp;<span class="ident" id="7661723">reflect</span><span class="op" id="7661730">.</span><span class="ident" id="7661731">ValueOf</span><span class="op" id="7661738">(</span><span class="op" id="7661739">&amp;</span><span class="ident" id="7661740">data</span><span class="op" id="7661744">)</span><span class="op" id="7661745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661749">if</span>&nbsp;<span class="ident" id="7661752">data</span>&nbsp;<span class="op" id="7661757">!=</span>&nbsp;<span class="num" id="7661760">17</span>&nbsp;<span class="op" id="7661763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661768">t</span><span class="op" id="7661769">.</span><span class="ident" id="7661770">Errorf</span><span class="op" id="7661776">(</span><span class="string" id="7661777">&#34;int16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7661798">,</span>&nbsp;<span class="ident" id="7661800">data</span><span class="op" id="7661804">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7661815">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7661826">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7661830">var</span>&nbsp;<span class="ident" id="7661834">data</span>&nbsp;<span class="builtintype" id="7661839">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661848">instr</span>&nbsp;<span class="op" id="7661854">:=</span>&nbsp;<span class="op" id="7661857">&amp;</span><span class="ident" id="7661858">decInstr</span><span class="op" id="7661866">{</span><span class="ident" id="7661867">decUint16</span><span class="op" id="7661876">,</span>&nbsp;<span class="num" id="7661878">6</span><span class="op" id="7661879">,</span>&nbsp;<span class="ident" id="7661881">nil</span><span class="op" id="7661884">,</span>&nbsp;<span class="ident" id="7661886">ovfl</span><span class="op" id="7661890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661894">state</span>&nbsp;<span class="op" id="7661900">:=</span>&nbsp;<span class="ident" id="7661903">newDecodeStateFromData</span><span class="op" id="7661925">(</span><span class="ident" id="7661926">unsignedResult</span><span class="op" id="7661940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7661944">execDec</span><span class="op" id="7661951">(</span><span class="string" id="7661952">&#34;uint16&#34;</span><span class="op" id="7661960">,</span>&nbsp;<span class="ident" id="7661962">instr</span><span class="op" id="7661967">,</span>&nbsp;<span class="ident" id="7661969">state</span><span class="op" id="7661974">,</span>&nbsp;<span class="ident" id="7661976">t</span><span class="op" id="7661977">,</span>&nbsp;<span class="ident" id="7661979">reflect</span><span class="op" id="7661986">.</span><span class="ident" id="7661987">ValueOf</span><span class="op" id="7661994">(</span><span class="op" id="7661995">&amp;</span><span class="ident" id="7661996">data</span><span class="op" id="7662000">)</span><span class="op" id="7662001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662005">if</span>&nbsp;<span class="ident" id="7662008">data</span>&nbsp;<span class="op" id="7662013">!=</span>&nbsp;<span class="num" id="7662016">17</span>&nbsp;<span class="op" id="7662019">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662024">t</span><span class="op" id="7662025">.</span><span class="ident" id="7662026">Errorf</span><span class="op" id="7662032">(</span><span class="string" id="7662033">&#34;uint16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7662055">,</span>&nbsp;<span class="ident" id="7662057">data</span><span class="op" id="7662061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7662072">//&nbsp;int32</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662086">var</span>&nbsp;<span class="ident" id="7662090">data</span>&nbsp;<span class="builtintype" id="7662095">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662103">instr</span>&nbsp;<span class="op" id="7662109">:=</span>&nbsp;<span class="op" id="7662112">&amp;</span><span class="ident" id="7662113">decInstr</span><span class="op" id="7662121">{</span><span class="ident" id="7662122">decInt32</span><span class="op" id="7662130">,</span>&nbsp;<span class="num" id="7662132">6</span><span class="op" id="7662133">,</span>&nbsp;<span class="ident" id="7662135">nil</span><span class="op" id="7662138">,</span>&nbsp;<span class="ident" id="7662140">ovfl</span><span class="op" id="7662144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662148">state</span>&nbsp;<span class="op" id="7662154">:=</span>&nbsp;<span class="ident" id="7662157">newDecodeStateFromData</span><span class="op" id="7662179">(</span><span class="ident" id="7662180">signedResult</span><span class="op" id="7662192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662196">execDec</span><span class="op" id="7662203">(</span><span class="string" id="7662204">&#34;int32&#34;</span><span class="op" id="7662211">,</span>&nbsp;<span class="ident" id="7662213">instr</span><span class="op" id="7662218">,</span>&nbsp;<span class="ident" id="7662220">state</span><span class="op" id="7662225">,</span>&nbsp;<span class="ident" id="7662227">t</span><span class="op" id="7662228">,</span>&nbsp;<span class="ident" id="7662230">reflect</span><span class="op" id="7662237">.</span><span class="ident" id="7662238">ValueOf</span><span class="op" id="7662245">(</span><span class="op" id="7662246">&amp;</span><span class="ident" id="7662247">data</span><span class="op" id="7662251">)</span><span class="op" id="7662252">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662256">if</span>&nbsp;<span class="ident" id="7662259">data</span>&nbsp;<span class="op" id="7662264">!=</span>&nbsp;<span class="num" id="7662267">17</span>&nbsp;<span class="op" id="7662270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662275">t</span><span class="op" id="7662276">.</span><span class="ident" id="7662277">Errorf</span><span class="op" id="7662283">(</span><span class="string" id="7662284">&#34;int32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7662305">,</span>&nbsp;<span class="ident" id="7662307">data</span><span class="op" id="7662311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7662322">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662337">var</span>&nbsp;<span class="ident" id="7662341">data</span>&nbsp;<span class="builtintype" id="7662346">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662355">instr</span>&nbsp;<span class="op" id="7662361">:=</span>&nbsp;<span class="op" id="7662364">&amp;</span><span class="ident" id="7662365">decInstr</span><span class="op" id="7662373">{</span><span class="ident" id="7662374">decUint32</span><span class="op" id="7662383">,</span>&nbsp;<span class="num" id="7662385">6</span><span class="op" id="7662386">,</span>&nbsp;<span class="ident" id="7662388">nil</span><span class="op" id="7662391">,</span>&nbsp;<span class="ident" id="7662393">ovfl</span><span class="op" id="7662397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662401">state</span>&nbsp;<span class="op" id="7662407">:=</span>&nbsp;<span class="ident" id="7662410">newDecodeStateFromData</span><span class="op" id="7662432">(</span><span class="ident" id="7662433">unsignedResult</span><span class="op" id="7662447">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662451">execDec</span><span class="op" id="7662458">(</span><span class="string" id="7662459">&#34;uint32&#34;</span><span class="op" id="7662467">,</span>&nbsp;<span class="ident" id="7662469">instr</span><span class="op" id="7662474">,</span>&nbsp;<span class="ident" id="7662476">state</span><span class="op" id="7662481">,</span>&nbsp;<span class="ident" id="7662483">t</span><span class="op" id="7662484">,</span>&nbsp;<span class="ident" id="7662486">reflect</span><span class="op" id="7662493">.</span><span class="ident" id="7662494">ValueOf</span><span class="op" id="7662501">(</span><span class="op" id="7662502">&amp;</span><span class="ident" id="7662503">data</span><span class="op" id="7662507">)</span><span class="op" id="7662508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662512">if</span>&nbsp;<span class="ident" id="7662515">data</span>&nbsp;<span class="op" id="7662520">!=</span>&nbsp;<span class="num" id="7662523">17</span>&nbsp;<span class="op" id="7662526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662531">t</span><span class="op" id="7662532">.</span><span class="ident" id="7662533">Errorf</span><span class="op" id="7662539">(</span><span class="string" id="7662540">&#34;uint32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7662562">,</span>&nbsp;<span class="ident" id="7662564">data</span><span class="op" id="7662568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662575">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7662579">//&nbsp;uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662595">var</span>&nbsp;<span class="ident" id="7662599">data</span>&nbsp;<span class="builtintype" id="7662604">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662614">instr</span>&nbsp;<span class="op" id="7662620">:=</span>&nbsp;<span class="op" id="7662623">&amp;</span><span class="ident" id="7662624">decInstr</span><span class="op" id="7662632">{</span><span class="ident" id="7662633">decOpTable</span><span class="op" id="7662643">[</span><span class="ident" id="7662644">reflect</span><span class="op" id="7662651">.</span><span class="ident" id="7662652">Uintptr</span><span class="op" id="7662659">]</span><span class="op" id="7662660">,</span>&nbsp;<span class="num" id="7662662">6</span><span class="op" id="7662663">,</span>&nbsp;<span class="ident" id="7662665">nil</span><span class="op" id="7662668">,</span>&nbsp;<span class="ident" id="7662670">ovfl</span><span class="op" id="7662674">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662678">state</span>&nbsp;<span class="op" id="7662684">:=</span>&nbsp;<span class="ident" id="7662687">newDecodeStateFromData</span><span class="op" id="7662709">(</span><span class="ident" id="7662710">unsignedResult</span><span class="op" id="7662724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662728">execDec</span><span class="op" id="7662735">(</span><span class="string" id="7662736">&#34;uintptr&#34;</span><span class="op" id="7662745">,</span>&nbsp;<span class="ident" id="7662747">instr</span><span class="op" id="7662752">,</span>&nbsp;<span class="ident" id="7662754">state</span><span class="op" id="7662759">,</span>&nbsp;<span class="ident" id="7662761">t</span><span class="op" id="7662762">,</span>&nbsp;<span class="ident" id="7662764">reflect</span><span class="op" id="7662771">.</span><span class="ident" id="7662772">ValueOf</span><span class="op" id="7662779">(</span><span class="op" id="7662780">&amp;</span><span class="ident" id="7662781">data</span><span class="op" id="7662785">)</span><span class="op" id="7662786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662790">if</span>&nbsp;<span class="ident" id="7662793">data</span>&nbsp;<span class="op" id="7662798">!=</span>&nbsp;<span class="num" id="7662801">17</span>&nbsp;<span class="op" id="7662804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662809">t</span><span class="op" id="7662810">.</span><span class="ident" id="7662811">Errorf</span><span class="op" id="7662817">(</span><span class="string" id="7662818">&#34;uintptr&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7662841">,</span>&nbsp;<span class="ident" id="7662843">data</span><span class="op" id="7662847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662851">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7662858">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7662868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7662872">var</span>&nbsp;<span class="ident" id="7662876">data</span>&nbsp;<span class="ident" id="7662881">int64</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662889">instr</span>&nbsp;<span class="op" id="7662895">:=</span>&nbsp;<span class="op" id="7662898">&amp;</span><span class="ident" id="7662899">decInstr</span><span class="op" id="7662907">{</span><span class="ident" id="7662908">decInt64</span><span class="op" id="7662916">,</span>&nbsp;<span class="num" id="7662918">6</span><span class="op" id="7662919">,</span>&nbsp;<span class="ident" id="7662921">nil</span><span class="op" id="7662924">,</span>&nbsp;<span class="ident" id="7662926">ovfl</span><span class="op" id="7662930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662934">state</span>&nbsp;<span class="op" id="7662940">:=</span>&nbsp;<span class="ident" id="7662943">newDecodeStateFromData</span><span class="op" id="7662965">(</span><span class="ident" id="7662966">signedResult</span><span class="op" id="7662978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7662982">execDec</span><span class="op" id="7662989">(</span><span class="string" id="7662990">&#34;int64&#34;</span><span class="op" id="7662997">,</span>&nbsp;<span class="ident" id="7662999">instr</span><span class="op" id="7663004">,</span>&nbsp;<span class="ident" id="7663006">state</span><span class="op" id="7663011">,</span>&nbsp;<span class="ident" id="7663013">t</span><span class="op" id="7663014">,</span>&nbsp;<span class="ident" id="7663016">reflect</span><span class="op" id="7663023">.</span><span class="ident" id="7663024">ValueOf</span><span class="op" id="7663031">(</span><span class="op" id="7663032">&amp;</span><span class="ident" id="7663033">data</span><span class="op" id="7663037">)</span><span class="op" id="7663038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7663042">if</span>&nbsp;<span class="ident" id="7663045">data</span>&nbsp;<span class="op" id="7663050">!=</span>&nbsp;<span class="num" id="7663053">17</span>&nbsp;<span class="op" id="7663056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663061">t</span><span class="op" id="7663062">.</span><span class="ident" id="7663063">Errorf</span><span class="op" id="7663069">(</span><span class="string" id="7663070">&#34;int64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7663091">,</span>&nbsp;<span class="ident" id="7663093">data</span><span class="op" id="7663097">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7663108">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663119">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7663123">var</span>&nbsp;<span class="ident" id="7663127">data</span>&nbsp;<span class="ident" id="7663132">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663141">instr</span>&nbsp;<span class="op" id="7663147">:=</span>&nbsp;<span class="op" id="7663150">&amp;</span><span class="ident" id="7663151">decInstr</span><span class="op" id="7663159">{</span><span class="ident" id="7663160">decUint64</span><span class="op" id="7663169">,</span>&nbsp;<span class="num" id="7663171">6</span><span class="op" id="7663172">,</span>&nbsp;<span class="ident" id="7663174">nil</span><span class="op" id="7663177">,</span>&nbsp;<span class="ident" id="7663179">ovfl</span><span class="op" id="7663183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663187">state</span>&nbsp;<span class="op" id="7663193">:=</span>&nbsp;<span class="ident" id="7663196">newDecodeStateFromData</span><span class="op" id="7663218">(</span><span class="ident" id="7663219">unsignedResult</span><span class="op" id="7663233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663237">execDec</span><span class="op" id="7663244">(</span><span class="string" id="7663245">&#34;uint64&#34;</span><span class="op" id="7663253">,</span>&nbsp;<span class="ident" id="7663255">instr</span><span class="op" id="7663260">,</span>&nbsp;<span class="ident" id="7663262">state</span><span class="op" id="7663267">,</span>&nbsp;<span class="ident" id="7663269">t</span><span class="op" id="7663270">,</span>&nbsp;<span class="ident" id="7663272">reflect</span><span class="op" id="7663279">.</span><span class="ident" id="7663280">ValueOf</span><span class="op" id="7663287">(</span><span class="op" id="7663288">&amp;</span><span class="ident" id="7663289">data</span><span class="op" id="7663293">)</span><span class="op" id="7663294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7663298">if</span>&nbsp;<span class="ident" id="7663301">data</span>&nbsp;<span class="op" id="7663306">!=</span>&nbsp;<span class="num" id="7663309">17</span>&nbsp;<span class="op" id="7663312">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663317">t</span><span class="op" id="7663318">.</span><span class="ident" id="7663319">Errorf</span><span class="op" id="7663325">(</span><span class="string" id="7663326">&#34;uint64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7663348">,</span>&nbsp;<span class="ident" id="7663350">data</span><span class="op" id="7663354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7663365">//&nbsp;float32</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7663381">var</span>&nbsp;<span class="ident" id="7663385">data</span>&nbsp;<span class="builtintype" id="7663390">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663400">instr</span>&nbsp;<span class="op" id="7663406">:=</span>&nbsp;<span class="op" id="7663409">&amp;</span><span class="ident" id="7663410">decInstr</span><span class="op" id="7663418">{</span><span class="ident" id="7663419">decFloat32</span><span class="op" id="7663429">,</span>&nbsp;<span class="num" id="7663431">6</span><span class="op" id="7663432">,</span>&nbsp;<span class="ident" id="7663434">nil</span><span class="op" id="7663437">,</span>&nbsp;<span class="ident" id="7663439">ovfl</span><span class="op" id="7663443">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663447">state</span>&nbsp;<span class="op" id="7663453">:=</span>&nbsp;<span class="ident" id="7663456">newDecodeStateFromData</span><span class="op" id="7663478">(</span><span class="ident" id="7663479">floatResult</span><span class="op" id="7663490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663494">execDec</span><span class="op" id="7663501">(</span><span class="string" id="7663502">&#34;float32&#34;</span><span class="op" id="7663511">,</span>&nbsp;<span class="ident" id="7663513">instr</span><span class="op" id="7663518">,</span>&nbsp;<span class="ident" id="7663520">state</span><span class="op" id="7663525">,</span>&nbsp;<span class="ident" id="7663527">t</span><span class="op" id="7663528">,</span>&nbsp;<span class="ident" id="7663530">reflect</span><span class="op" id="7663537">.</span><span class="ident" id="7663538">ValueOf</span><span class="op" id="7663545">(</span><span class="op" id="7663546">&amp;</span><span class="ident" id="7663547">data</span><span class="op" id="7663551">)</span><span class="op" id="7663552">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7663556">if</span>&nbsp;<span class="ident" id="7663559">data</span>&nbsp;<span class="op" id="7663564">!=</span>&nbsp;<span class="num" id="7663567">17</span>&nbsp;<span class="op" id="7663570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663575">t</span><span class="op" id="7663576">.</span><span class="ident" id="7663577">Errorf</span><span class="op" id="7663583">(</span><span class="string" id="7663584">&#34;float32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7663607">,</span>&nbsp;<span class="ident" id="7663609">data</span><span class="op" id="7663613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7663624">//&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7663640">var</span>&nbsp;<span class="ident" id="7663644">data</span>&nbsp;<span class="builtintype" id="7663649">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663659">instr</span>&nbsp;<span class="op" id="7663665">:=</span>&nbsp;<span class="op" id="7663668">&amp;</span><span class="ident" id="7663669">decInstr</span><span class="op" id="7663677">{</span><span class="ident" id="7663678">decFloat64</span><span class="op" id="7663688">,</span>&nbsp;<span class="num" id="7663690">6</span><span class="op" id="7663691">,</span>&nbsp;<span class="ident" id="7663693">nil</span><span class="op" id="7663696">,</span>&nbsp;<span class="ident" id="7663698">ovfl</span><span class="op" id="7663702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663706">state</span>&nbsp;<span class="op" id="7663712">:=</span>&nbsp;<span class="ident" id="7663715">newDecodeStateFromData</span><span class="op" id="7663737">(</span><span class="ident" id="7663738">floatResult</span><span class="op" id="7663749">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663753">execDec</span><span class="op" id="7663760">(</span><span class="string" id="7663761">&#34;float64&#34;</span><span class="op" id="7663770">,</span>&nbsp;<span class="ident" id="7663772">instr</span><span class="op" id="7663777">,</span>&nbsp;<span class="ident" id="7663779">state</span><span class="op" id="7663784">,</span>&nbsp;<span class="ident" id="7663786">t</span><span class="op" id="7663787">,</span>&nbsp;<span class="ident" id="7663789">reflect</span><span class="op" id="7663796">.</span><span class="ident" id="7663797">ValueOf</span><span class="op" id="7663804">(</span><span class="op" id="7663805">&amp;</span><span class="ident" id="7663806">data</span><span class="op" id="7663810">)</span><span class="op" id="7663811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7663815">if</span>&nbsp;<span class="ident" id="7663818">data</span>&nbsp;<span class="op" id="7663823">!=</span>&nbsp;<span class="num" id="7663826">17</span>&nbsp;<span class="op" id="7663829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663834">t</span><span class="op" id="7663835">.</span><span class="ident" id="7663836">Errorf</span><span class="op" id="7663842">(</span><span class="string" id="7663843">&#34;float64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7663866">,</span>&nbsp;<span class="ident" id="7663868">data</span><span class="op" id="7663872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663879">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7663883">//&nbsp;complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7663901">var</span>&nbsp;<span class="ident" id="7663905">data</span>&nbsp;<span class="builtintype" id="7663910">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663922">instr</span>&nbsp;<span class="op" id="7663928">:=</span>&nbsp;<span class="op" id="7663931">&amp;</span><span class="ident" id="7663932">decInstr</span><span class="op" id="7663940">{</span><span class="ident" id="7663941">decOpTable</span><span class="op" id="7663951">[</span><span class="ident" id="7663952">reflect</span><span class="op" id="7663959">.</span><span class="ident" id="7663960">Complex64</span><span class="op" id="7663969">]</span><span class="op" id="7663970">,</span>&nbsp;<span class="num" id="7663972">6</span><span class="op" id="7663973">,</span>&nbsp;<span class="ident" id="7663975">nil</span><span class="op" id="7663978">,</span>&nbsp;<span class="ident" id="7663980">ovfl</span><span class="op" id="7663984">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663988">state</span>&nbsp;<span class="op" id="7663994">:=</span>&nbsp;<span class="ident" id="7663997">newDecodeStateFromData</span><span class="op" id="7664019">(</span><span class="ident" id="7664020">complexResult</span><span class="op" id="7664033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664037">execDec</span><span class="op" id="7664044">(</span><span class="string" id="7664045">&#34;complex&#34;</span><span class="op" id="7664054">,</span>&nbsp;<span class="ident" id="7664056">instr</span><span class="op" id="7664061">,</span>&nbsp;<span class="ident" id="7664063">state</span><span class="op" id="7664068">,</span>&nbsp;<span class="ident" id="7664070">t</span><span class="op" id="7664071">,</span>&nbsp;<span class="ident" id="7664073">reflect</span><span class="op" id="7664080">.</span><span class="ident" id="7664081">ValueOf</span><span class="op" id="7664088">(</span><span class="op" id="7664089">&amp;</span><span class="ident" id="7664090">data</span><span class="op" id="7664094">)</span><span class="op" id="7664095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664099">if</span>&nbsp;<span class="ident" id="7664102">data</span>&nbsp;<span class="op" id="7664107">!=</span>&nbsp;<span class="num" id="7664110">17</span><span class="op" id="7664112">+</span><span class="num" id="7664113">19i</span>&nbsp;<span class="op" id="7664117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664122">t</span><span class="op" id="7664123">.</span><span class="ident" id="7664124">Errorf</span><span class="op" id="7664130">(</span><span class="string" id="7664131">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="7664158">,</span>&nbsp;<span class="ident" id="7664160">data</span><span class="op" id="7664164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664168">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7664175">//&nbsp;complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664194">var</span>&nbsp;<span class="ident" id="7664198">data</span>&nbsp;<span class="builtintype" id="7664203">complex128</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664216">instr</span>&nbsp;<span class="op" id="7664222">:=</span>&nbsp;<span class="op" id="7664225">&amp;</span><span class="ident" id="7664226">decInstr</span><span class="op" id="7664234">{</span><span class="ident" id="7664235">decOpTable</span><span class="op" id="7664245">[</span><span class="ident" id="7664246">reflect</span><span class="op" id="7664253">.</span><span class="ident" id="7664254">Complex128</span><span class="op" id="7664264">]</span><span class="op" id="7664265">,</span>&nbsp;<span class="num" id="7664267">6</span><span class="op" id="7664268">,</span>&nbsp;<span class="ident" id="7664270">nil</span><span class="op" id="7664273">,</span>&nbsp;<span class="ident" id="7664275">ovfl</span><span class="op" id="7664279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664283">state</span>&nbsp;<span class="op" id="7664289">:=</span>&nbsp;<span class="ident" id="7664292">newDecodeStateFromData</span><span class="op" id="7664314">(</span><span class="ident" id="7664315">complexResult</span><span class="op" id="7664328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664332">execDec</span><span class="op" id="7664339">(</span><span class="string" id="7664340">&#34;complex&#34;</span><span class="op" id="7664349">,</span>&nbsp;<span class="ident" id="7664351">instr</span><span class="op" id="7664356">,</span>&nbsp;<span class="ident" id="7664358">state</span><span class="op" id="7664363">,</span>&nbsp;<span class="ident" id="7664365">t</span><span class="op" id="7664366">,</span>&nbsp;<span class="ident" id="7664368">reflect</span><span class="op" id="7664375">.</span><span class="ident" id="7664376">ValueOf</span><span class="op" id="7664383">(</span><span class="op" id="7664384">&amp;</span><span class="ident" id="7664385">data</span><span class="op" id="7664389">)</span><span class="op" id="7664390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664394">if</span>&nbsp;<span class="ident" id="7664397">data</span>&nbsp;<span class="op" id="7664402">!=</span>&nbsp;<span class="num" id="7664405">17</span><span class="op" id="7664407">+</span><span class="num" id="7664408">19i</span>&nbsp;<span class="op" id="7664412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664417">t</span><span class="op" id="7664418">.</span><span class="ident" id="7664419">Errorf</span><span class="op" id="7664425">(</span><span class="string" id="7664426">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="7664453">,</span>&nbsp;<span class="ident" id="7664455">data</span><span class="op" id="7664459">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7664470">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664491">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664495">var</span>&nbsp;<span class="ident" id="7664499">data</span>&nbsp;<span class="op" id="7664504">[</span><span class="op" id="7664505">]</span><span class="builtintype" id="7664506">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664513">instr</span>&nbsp;<span class="op" id="7664519">:=</span>&nbsp;<span class="op" id="7664522">&amp;</span><span class="ident" id="7664523">decInstr</span><span class="op" id="7664531">{</span><span class="ident" id="7664532">decUint8Slice</span><span class="op" id="7664545">,</span>&nbsp;<span class="num" id="7664547">6</span><span class="op" id="7664548">,</span>&nbsp;<span class="ident" id="7664550">nil</span><span class="op" id="7664553">,</span>&nbsp;<span class="ident" id="7664555">ovfl</span><span class="op" id="7664559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664563">state</span>&nbsp;<span class="op" id="7664569">:=</span>&nbsp;<span class="ident" id="7664572">newDecodeStateFromData</span><span class="op" id="7664594">(</span><span class="ident" id="7664595">bytesResult</span><span class="op" id="7664606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664610">execDec</span><span class="op" id="7664617">(</span><span class="string" id="7664618">&#34;bytes&#34;</span><span class="op" id="7664625">,</span>&nbsp;<span class="ident" id="7664627">instr</span><span class="op" id="7664632">,</span>&nbsp;<span class="ident" id="7664634">state</span><span class="op" id="7664639">,</span>&nbsp;<span class="ident" id="7664641">t</span><span class="op" id="7664642">,</span>&nbsp;<span class="ident" id="7664644">reflect</span><span class="op" id="7664651">.</span><span class="ident" id="7664652">ValueOf</span><span class="op" id="7664659">(</span><span class="op" id="7664660">&amp;</span><span class="ident" id="7664661">data</span><span class="op" id="7664665">)</span><span class="op" id="7664666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664670">if</span>&nbsp;<span class="builtintype" id="7664673">string</span><span class="op" id="7664679">(</span><span class="ident" id="7664680">data</span><span class="op" id="7664684">)</span>&nbsp;<span class="op" id="7664686">!=</span>&nbsp;<span class="string" id="7664689">&#34;hello&#34;</span>&nbsp;<span class="op" id="7664697">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664702">t</span><span class="op" id="7664703">.</span><span class="ident" id="7664704">Errorf</span><span class="op" id="7664710">(</span><span class="string" id="7664711">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="7664737">,</span>&nbsp;<span class="builtintype" id="7664739">string</span><span class="op" id="7664745">(</span><span class="ident" id="7664746">data</span><span class="op" id="7664750">)</span><span class="op" id="7664751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7664762">//&nbsp;string</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664777">var</span>&nbsp;<span class="ident" id="7664781">data</span>&nbsp;<span class="builtintype" id="7664786">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664795">instr</span>&nbsp;<span class="op" id="7664801">:=</span>&nbsp;<span class="op" id="7664804">&amp;</span><span class="ident" id="7664805">decInstr</span><span class="op" id="7664813">{</span><span class="ident" id="7664814">decString</span><span class="op" id="7664823">,</span>&nbsp;<span class="num" id="7664825">6</span><span class="op" id="7664826">,</span>&nbsp;<span class="ident" id="7664828">nil</span><span class="op" id="7664831">,</span>&nbsp;<span class="ident" id="7664833">ovfl</span><span class="op" id="7664837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664841">state</span>&nbsp;<span class="op" id="7664847">:=</span>&nbsp;<span class="ident" id="7664850">newDecodeStateFromData</span><span class="op" id="7664872">(</span><span class="ident" id="7664873">bytesResult</span><span class="op" id="7664884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664888">execDec</span><span class="op" id="7664895">(</span><span class="string" id="7664896">&#34;bytes&#34;</span><span class="op" id="7664903">,</span>&nbsp;<span class="ident" id="7664905">instr</span><span class="op" id="7664910">,</span>&nbsp;<span class="ident" id="7664912">state</span><span class="op" id="7664917">,</span>&nbsp;<span class="ident" id="7664919">t</span><span class="op" id="7664920">,</span>&nbsp;<span class="ident" id="7664922">reflect</span><span class="op" id="7664929">.</span><span class="ident" id="7664930">ValueOf</span><span class="op" id="7664937">(</span><span class="op" id="7664938">&amp;</span><span class="ident" id="7664939">data</span><span class="op" id="7664943">)</span><span class="op" id="7664944">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664948">if</span>&nbsp;<span class="ident" id="7664951">data</span>&nbsp;<span class="op" id="7664956">!=</span>&nbsp;<span class="string" id="7664959">&#34;hello&#34;</span>&nbsp;<span class="op" id="7664967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664972">t</span><span class="op" id="7664973">.</span><span class="ident" id="7664974">Errorf</span><span class="op" id="7664980">(</span><span class="string" id="7664981">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="7665007">,</span>&nbsp;<span class="ident" id="7665009">data</span><span class="op" id="7665013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7665017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7665020">}</span><br>
<span class="lineno"></span><span class="op" id="7665022">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="7665025">func</span>&nbsp;<span class="ident" id="7665030">TestEndToEnd</span><span class="op" id="7665042">(</span><span class="ident" id="7665043">t</span>&nbsp;<span class="op" id="7665045">*</span><span class="ident" id="7665046">testing</span><span class="op" id="7665053">.</span><span class="ident" id="7665054">T</span><span class="op" id="7665055">)</span>&nbsp;<span class="op" id="7665057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7665060">type</span>&nbsp;<span class="ident" id="7665065">T2</span>&nbsp;<span class="keyword" id="7665068">struct</span>&nbsp;<span class="op" id="7665075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665079">T</span>&nbsp;<span class="builtintype" id="7665081">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7665089">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665092">s1</span>&nbsp;<span class="op" id="7665095">:=</span>&nbsp;<span class="string" id="7665098">&#34;string1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665109">s2</span>&nbsp;<span class="op" id="7665112">:=</span>&nbsp;<span class="string" id="7665115">&#34;string2&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7665126">type</span>&nbsp;<span class="ident" id="7665131">T1</span>&nbsp;<span class="keyword" id="7665134">struct</span>&nbsp;<span class="op" id="7665141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665145">A</span><span class="op" id="7665146">,</span>&nbsp;<span class="ident" id="7665148">B</span><span class="op" id="7665149">,</span>&nbsp;<span class="ident" id="7665151">C</span>&nbsp;&nbsp;<span class="builtintype" id="7665154">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665160">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7665169">map</span><span class="op" id="7665172">[</span><span class="builtintype" id="7665173">string</span><span class="op" id="7665179">]</span><span class="op" id="7665180">*</span><span class="builtintype" id="7665181">float64</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665191">EmptyMap</span>&nbsp;<span class="keyword" id="7665200">map</span><span class="op" id="7665203">[</span><span class="builtintype" id="7665204">string</span><span class="op" id="7665210">]</span><span class="builtintype" id="7665211">int</span>&nbsp;<span class="comment" id="7665215">//&nbsp;to&nbsp;check&nbsp;that&nbsp;we&nbsp;receive&nbsp;a&nbsp;non-nil&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665260">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7665269">*</span><span class="op" id="7665270">[</span><span class="num" id="7665271">3</span><span class="op" id="7665272">]</span><span class="builtintype" id="7665273">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665283">Strs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7665292">*</span><span class="op" id="7665293">[</span><span class="num" id="7665294">2</span><span class="op" id="7665295">]</span><span class="builtintype" id="7665296">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665305">Int64s</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7665314">*</span><span class="op" id="7665315">[</span><span class="op" id="7665316">]</span><span class="ident" id="7665317">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665325">RI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7665334">complex64</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665346">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7665355">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665364">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7665373">[</span><span class="op" id="7665374">]</span><span class="builtintype" id="7665375">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665382">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7665391">*</span><span class="ident" id="7665392">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7665396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665399">pi</span>&nbsp;<span class="op" id="7665402">:=</span>&nbsp;<span class="num" id="7665405">3.14159</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665414">e</span>&nbsp;<span class="op" id="7665416">:=</span>&nbsp;<span class="num" id="7665419">2.71828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665428">t1</span>&nbsp;<span class="op" id="7665431">:=</span>&nbsp;<span class="op" id="7665434">&amp;</span><span class="ident" id="7665435">T1</span><span class="op" id="7665437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665441">A</span><span class="op" id="7665442">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7665451">17</span><span class="op" id="7665453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665457">B</span><span class="op" id="7665458">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7665467">18</span><span class="op" id="7665469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665473">C</span><span class="op" id="7665474">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7665483">-</span><span class="num" id="7665484">5</span><span class="op" id="7665485">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665489">M</span><span class="op" id="7665490">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7665499">map</span><span class="op" id="7665502">[</span><span class="builtintype" id="7665503">string</span><span class="op" id="7665509">]</span><span class="op" id="7665510">*</span><span class="builtintype" id="7665511">float64</span><span class="op" id="7665518">{</span><span class="string" id="7665519">&#34;pi&#34;</span><span class="op" id="7665523">:</span>&nbsp;<span class="op" id="7665525">&amp;</span><span class="ident" id="7665526">pi</span><span class="op" id="7665528">,</span>&nbsp;<span class="string" id="7665530">&#34;e&#34;</span><span class="op" id="7665533">:</span>&nbsp;<span class="op" id="7665535">&amp;</span><span class="ident" id="7665536">e</span><span class="op" id="7665537">}</span><span class="op" id="7665538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665542">EmptyMap</span><span class="op" id="7665550">:</span>&nbsp;<span class="builtinfunc" id="7665552">make</span><span class="op" id="7665556">(</span><span class="keyword" id="7665557">map</span><span class="op" id="7665560">[</span><span class="builtintype" id="7665561">string</span><span class="op" id="7665567">]</span><span class="builtintype" id="7665568">int</span><span class="op" id="7665571">)</span><span class="op" id="7665572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665576">N</span><span class="op" id="7665577">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7665586">&amp;</span><span class="op" id="7665587">[</span><span class="num" id="7665588">3</span><span class="op" id="7665589">]</span><span class="builtintype" id="7665590">float64</span><span class="op" id="7665597">{</span><span class="num" id="7665598">1.5</span><span class="op" id="7665601">,</span>&nbsp;<span class="num" id="7665603">2.5</span><span class="op" id="7665606">,</span>&nbsp;<span class="num" id="7665608">3.5</span><span class="op" id="7665611">}</span><span class="op" id="7665612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665616">Strs</span><span class="op" id="7665620">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7665626">&amp;</span><span class="op" id="7665627">[</span><span class="num" id="7665628">2</span><span class="op" id="7665629">]</span><span class="builtintype" id="7665630">string</span><span class="op" id="7665636">{</span><span class="ident" id="7665637">s1</span><span class="op" id="7665639">,</span>&nbsp;<span class="ident" id="7665641">s2</span><span class="op" id="7665643">}</span><span class="op" id="7665644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665648">Int64s</span><span class="op" id="7665654">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7665658">&amp;</span><span class="op" id="7665659">[</span><span class="op" id="7665660">]</span><span class="ident" id="7665661">int64</span><span class="op" id="7665666">{</span><span class="num" id="7665667">77</span><span class="op" id="7665669">,</span>&nbsp;<span class="num" id="7665671">89</span><span class="op" id="7665673">,</span>&nbsp;<span class="num" id="7665675">123412342134</span><span class="op" id="7665687">}</span><span class="op" id="7665688">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665692">RI</span><span class="op" id="7665694">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7665702">17</span>&nbsp;<span class="op" id="7665705">-</span>&nbsp;<span class="num" id="7665707">23i</span><span class="op" id="7665710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665714">S</span><span class="op" id="7665715">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7665724">&#34;Now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="7665741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665745">Y</span><span class="op" id="7665746">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7665755">[</span><span class="op" id="7665756">]</span><span class="builtintype" id="7665757">byte</span><span class="op" id="7665761">(</span><span class="string" id="7665762">&#34;hello,&nbsp;sailor&#34;</span><span class="op" id="7665777">)</span><span class="op" id="7665778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665782">T</span><span class="op" id="7665783">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7665792">&amp;</span><span class="ident" id="7665793">T2</span><span class="op" id="7665795">{</span><span class="string" id="7665796">&#34;this&nbsp;is&nbsp;T2&#34;</span><span class="op" id="7665808">}</span><span class="op" id="7665809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7665812">}</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665815">b</span>&nbsp;<span class="op" id="7665817">:=</span>&nbsp;<span class="builtinfunc" id="7665820">new</span><span class="op" id="7665823">(</span><span class="ident" id="7665824">bytes</span><span class="op" id="7665829">.</span><span class="ident" id="7665830">Buffer</span><span class="op" id="7665836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665839">err</span>&nbsp;<span class="op" id="7665843">:=</span>&nbsp;<span class="ident" id="7665846">NewEncoder</span><span class="op" id="7665856">(</span><span class="ident" id="7665857">b</span><span class="op" id="7665858">)</span><span class="op" id="7665859">.</span><span class="ident" id="7665860">Encode</span><span class="op" id="7665866">(</span><span class="ident" id="7665867">t1</span><span class="op" id="7665869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7665872">if</span>&nbsp;<span class="ident" id="7665875">err</span>&nbsp;<span class="op" id="7665879">!=</span>&nbsp;<span class="ident" id="7665882">nil</span>&nbsp;<span class="op" id="7665886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665890">t</span><span class="op" id="7665891">.</span><span class="ident" id="7665892">Error</span><span class="op" id="7665897">(</span><span class="string" id="7665898">&#34;encode:&#34;</span><span class="op" id="7665907">,</span>&nbsp;<span class="ident" id="7665909">err</span><span class="op" id="7665912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7665915">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7665918">var</span>&nbsp;<span class="ident" id="7665922">_t1</span>&nbsp;<span class="ident" id="7665926">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665930">err</span>&nbsp;<span class="op" id="7665934">=</span>&nbsp;<span class="ident" id="7665936">NewDecoder</span><span class="op" id="7665946">(</span><span class="ident" id="7665947">b</span><span class="op" id="7665948">)</span><span class="op" id="7665949">.</span><span class="ident" id="7665950">Decode</span><span class="op" id="7665956">(</span><span class="op" id="7665957">&amp;</span><span class="ident" id="7665958">_t1</span><span class="op" id="7665961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7665964">if</span>&nbsp;<span class="ident" id="7665967">err</span>&nbsp;<span class="op" id="7665971">!=</span>&nbsp;<span class="ident" id="7665974">nil</span>&nbsp;<span class="op" id="7665978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665982">t</span><span class="op" id="7665983">.</span><span class="ident" id="7665984">Fatal</span><span class="op" id="7665989">(</span><span class="string" id="7665990">&#34;decode:&#34;</span><span class="op" id="7665999">,</span>&nbsp;<span class="ident" id="7666001">err</span><span class="op" id="7666004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666007">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666010">if</span>&nbsp;<span class="op" id="7666013">!</span><span class="ident" id="7666014">reflect</span><span class="op" id="7666021">.</span><span class="ident" id="7666022">DeepEqual</span><span class="op" id="7666031">(</span><span class="ident" id="7666032">t1</span><span class="op" id="7666034">,</span>&nbsp;<span class="op" id="7666036">&amp;</span><span class="ident" id="7666037">_t1</span><span class="op" id="7666040">)</span>&nbsp;<span class="op" id="7666042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666046">t</span><span class="op" id="7666047">.</span><span class="ident" id="7666048">Errorf</span><span class="op" id="7666054">(</span><span class="string" id="7666055">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7666082">,</span>&nbsp;<span class="op" id="7666084">*</span><span class="ident" id="7666085">t1</span><span class="op" id="7666087">,</span>&nbsp;<span class="ident" id="7666089">_t1</span><span class="op" id="7666092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7666098">//&nbsp;Be&nbsp;absolutely&nbsp;sure&nbsp;the&nbsp;received&nbsp;map&nbsp;is&nbsp;non-nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666150">if</span>&nbsp;<span class="ident" id="7666153">t1</span><span class="op" id="7666155">.</span><span class="ident" id="7666156">EmptyMap</span>&nbsp;<span class="op" id="7666165">==</span>&nbsp;<span class="ident" id="7666168">nil</span>&nbsp;<span class="op" id="7666172">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666176">t</span><span class="op" id="7666177">.</span><span class="ident" id="7666178">Errorf</span><span class="op" id="7666184">(</span><span class="string" id="7666185">&#34;nil&nbsp;map&nbsp;sent&#34;</span><span class="op" id="7666199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666205">if</span>&nbsp;<span class="ident" id="7666208">_t1</span><span class="op" id="7666211">.</span><span class="ident" id="7666212">EmptyMap</span>&nbsp;<span class="op" id="7666221">==</span>&nbsp;<span class="ident" id="7666224">nil</span>&nbsp;<span class="op" id="7666228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666232">t</span><span class="op" id="7666233">.</span><span class="ident" id="7666234">Errorf</span><span class="op" id="7666240">(</span><span class="string" id="7666241">&#34;nil&nbsp;map&nbsp;received&#34;</span><span class="op" id="7666259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666262">}</span><br>
<span class="lineno">600</span><span class="op" id="7666264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7666267">func</span>&nbsp;<span class="ident" id="7666272">TestOverflow</span><span class="op" id="7666284">(</span><span class="ident" id="7666285">t</span>&nbsp;<span class="op" id="7666287">*</span><span class="ident" id="7666288">testing</span><span class="op" id="7666295">.</span><span class="ident" id="7666296">T</span><span class="op" id="7666297">)</span>&nbsp;<span class="op" id="7666299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666302">type</span>&nbsp;<span class="ident" id="7666307">inputT</span>&nbsp;<span class="keyword" id="7666314">struct</span>&nbsp;<span class="op" id="7666321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666325">Maxi</span>&nbsp;<span class="ident" id="7666330">int64</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666338">Mini</span>&nbsp;<span class="ident" id="7666343">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666351">Maxu</span>&nbsp;<span class="ident" id="7666356">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666365">Maxf</span>&nbsp;<span class="builtintype" id="7666370">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666380">Minf</span>&nbsp;<span class="builtintype" id="7666385">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666395">Maxc</span>&nbsp;<span class="builtintype" id="7666400">complex128</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666413">Minc</span>&nbsp;<span class="builtintype" id="7666418">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666433">var</span>&nbsp;<span class="ident" id="7666437">it</span>&nbsp;<span class="ident" id="7666440">inputT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666448">var</span>&nbsp;<span class="ident" id="7666452">err</span>&nbsp;<span class="builtintype" id="7666456">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666463">b</span>&nbsp;<span class="op" id="7666465">:=</span>&nbsp;<span class="builtinfunc" id="7666468">new</span><span class="op" id="7666471">(</span><span class="ident" id="7666472">bytes</span><span class="op" id="7666477">.</span><span class="ident" id="7666478">Buffer</span><span class="op" id="7666484">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666487">enc</span>&nbsp;<span class="op" id="7666491">:=</span>&nbsp;<span class="ident" id="7666494">NewEncoder</span><span class="op" id="7666504">(</span><span class="ident" id="7666505">b</span><span class="op" id="7666506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666509">dec</span>&nbsp;<span class="op" id="7666513">:=</span>&nbsp;<span class="ident" id="7666516">NewDecoder</span><span class="op" id="7666526">(</span><span class="ident" id="7666527">b</span><span class="op" id="7666528">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7666532">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666541">b</span><span class="op" id="7666542">.</span><span class="ident" id="7666543">Reset</span><span class="op" id="7666548">(</span><span class="op" id="7666549">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666552">it</span>&nbsp;<span class="op" id="7666555">=</span>&nbsp;<span class="ident" id="7666557">inputT</span><span class="op" id="7666563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666567">Maxi</span><span class="op" id="7666571">:</span>&nbsp;<span class="ident" id="7666573">math</span><span class="op" id="7666577">.</span><span class="ident" id="7666578">MaxInt8</span>&nbsp;<span class="op" id="7666586">+</span>&nbsp;<span class="num" id="7666588">1</span><span class="op" id="7666589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666595">type</span>&nbsp;<span class="ident" id="7666600">outi8</span>&nbsp;<span class="keyword" id="7666606">struct</span>&nbsp;<span class="op" id="7666613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666617">Maxi</span>&nbsp;<span class="builtintype" id="7666622">int8</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666629">Mini</span>&nbsp;<span class="builtintype" id="7666634">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666643">var</span>&nbsp;<span class="ident" id="7666647">o1</span>&nbsp;<span class="ident" id="7666650">outi8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666657">enc</span><span class="op" id="7666660">.</span><span class="ident" id="7666661">Encode</span><span class="op" id="7666667">(</span><span class="ident" id="7666668">it</span><span class="op" id="7666670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666673">err</span>&nbsp;<span class="op" id="7666677">=</span>&nbsp;<span class="ident" id="7666679">dec</span><span class="op" id="7666682">.</span><span class="ident" id="7666683">Decode</span><span class="op" id="7666689">(</span><span class="op" id="7666690">&amp;</span><span class="ident" id="7666691">o1</span><span class="op" id="7666693">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666696">if</span>&nbsp;<span class="ident" id="7666699">err</span>&nbsp;<span class="op" id="7666703">==</span>&nbsp;<span class="ident" id="7666706">nil</span>&nbsp;<span class="op" id="7666710">||</span>&nbsp;<span class="ident" id="7666713">err</span><span class="op" id="7666716">.</span><span class="ident" id="7666717">Error</span><span class="op" id="7666722">(</span><span class="op" id="7666723">)</span>&nbsp;<span class="op" id="7666725">!=</span>&nbsp;<span class="string" id="7666728">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7666760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666764">t</span><span class="op" id="7666765">.</span><span class="ident" id="7666766">Error</span><span class="op" id="7666771">(</span><span class="string" id="7666772">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="7666804">,</span>&nbsp;<span class="ident" id="7666806">err</span><span class="op" id="7666809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666815">it</span>&nbsp;<span class="op" id="7666818">=</span>&nbsp;<span class="ident" id="7666820">inputT</span><span class="op" id="7666826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666830">Mini</span><span class="op" id="7666834">:</span>&nbsp;<span class="ident" id="7666836">math</span><span class="op" id="7666840">.</span><span class="ident" id="7666841">MinInt8</span>&nbsp;<span class="op" id="7666849">-</span>&nbsp;<span class="num" id="7666851">1</span><span class="op" id="7666852">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666858">b</span><span class="op" id="7666859">.</span><span class="ident" id="7666860">Reset</span><span class="op" id="7666865">(</span><span class="op" id="7666866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666869">enc</span><span class="op" id="7666872">.</span><span class="ident" id="7666873">Encode</span><span class="op" id="7666879">(</span><span class="ident" id="7666880">it</span><span class="op" id="7666882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666885">err</span>&nbsp;<span class="op" id="7666889">=</span>&nbsp;<span class="ident" id="7666891">dec</span><span class="op" id="7666894">.</span><span class="ident" id="7666895">Decode</span><span class="op" id="7666901">(</span><span class="op" id="7666902">&amp;</span><span class="ident" id="7666903">o1</span><span class="op" id="7666905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666908">if</span>&nbsp;<span class="ident" id="7666911">err</span>&nbsp;<span class="op" id="7666915">==</span>&nbsp;<span class="ident" id="7666918">nil</span>&nbsp;<span class="op" id="7666922">||</span>&nbsp;<span class="ident" id="7666925">err</span><span class="op" id="7666928">.</span><span class="ident" id="7666929">Error</span><span class="op" id="7666934">(</span><span class="op" id="7666935">)</span>&nbsp;<span class="op" id="7666937">!=</span>&nbsp;<span class="string" id="7666940">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7666972">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666976">t</span><span class="op" id="7666977">.</span><span class="ident" id="7666978">Error</span><span class="op" id="7666983">(</span><span class="string" id="7666984">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="7667017">,</span>&nbsp;<span class="ident" id="7667019">err</span><span class="op" id="7667022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7667029">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667039">b</span><span class="op" id="7667040">.</span><span class="ident" id="7667041">Reset</span><span class="op" id="7667046">(</span><span class="op" id="7667047">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667050">it</span>&nbsp;<span class="op" id="7667053">=</span>&nbsp;<span class="ident" id="7667055">inputT</span><span class="op" id="7667061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667065">Maxi</span><span class="op" id="7667069">:</span>&nbsp;<span class="ident" id="7667071">math</span><span class="op" id="7667075">.</span><span class="ident" id="7667076">MaxInt16</span>&nbsp;<span class="op" id="7667085">+</span>&nbsp;<span class="num" id="7667087">1</span><span class="op" id="7667088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667094">type</span>&nbsp;<span class="ident" id="7667099">outi16</span>&nbsp;<span class="keyword" id="7667106">struct</span>&nbsp;<span class="op" id="7667113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667117">Maxi</span>&nbsp;<span class="builtintype" id="7667122">int16</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667130">Mini</span>&nbsp;<span class="builtintype" id="7667135">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667145">var</span>&nbsp;<span class="ident" id="7667149">o2</span>&nbsp;<span class="ident" id="7667152">outi16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667160">enc</span><span class="op" id="7667163">.</span><span class="ident" id="7667164">Encode</span><span class="op" id="7667170">(</span><span class="ident" id="7667171">it</span><span class="op" id="7667173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667176">err</span>&nbsp;<span class="op" id="7667180">=</span>&nbsp;<span class="ident" id="7667182">dec</span><span class="op" id="7667185">.</span><span class="ident" id="7667186">Decode</span><span class="op" id="7667192">(</span><span class="op" id="7667193">&amp;</span><span class="ident" id="7667194">o2</span><span class="op" id="7667196">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667199">if</span>&nbsp;<span class="ident" id="7667202">err</span>&nbsp;<span class="op" id="7667206">==</span>&nbsp;<span class="ident" id="7667209">nil</span>&nbsp;<span class="op" id="7667213">||</span>&nbsp;<span class="ident" id="7667216">err</span><span class="op" id="7667219">.</span><span class="ident" id="7667220">Error</span><span class="op" id="7667225">(</span><span class="op" id="7667226">)</span>&nbsp;<span class="op" id="7667228">!=</span>&nbsp;<span class="string" id="7667231">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7667263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667267">t</span><span class="op" id="7667268">.</span><span class="ident" id="7667269">Error</span><span class="op" id="7667274">(</span><span class="string" id="7667275">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="7667308">,</span>&nbsp;<span class="ident" id="7667310">err</span><span class="op" id="7667313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667319">it</span>&nbsp;<span class="op" id="7667322">=</span>&nbsp;<span class="ident" id="7667324">inputT</span><span class="op" id="7667330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667334">Mini</span><span class="op" id="7667338">:</span>&nbsp;<span class="ident" id="7667340">math</span><span class="op" id="7667344">.</span><span class="ident" id="7667345">MinInt16</span>&nbsp;<span class="op" id="7667354">-</span>&nbsp;<span class="num" id="7667356">1</span><span class="op" id="7667357">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667363">b</span><span class="op" id="7667364">.</span><span class="ident" id="7667365">Reset</span><span class="op" id="7667370">(</span><span class="op" id="7667371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667374">enc</span><span class="op" id="7667377">.</span><span class="ident" id="7667378">Encode</span><span class="op" id="7667384">(</span><span class="ident" id="7667385">it</span><span class="op" id="7667387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667390">err</span>&nbsp;<span class="op" id="7667394">=</span>&nbsp;<span class="ident" id="7667396">dec</span><span class="op" id="7667399">.</span><span class="ident" id="7667400">Decode</span><span class="op" id="7667406">(</span><span class="op" id="7667407">&amp;</span><span class="ident" id="7667408">o2</span><span class="op" id="7667410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667413">if</span>&nbsp;<span class="ident" id="7667416">err</span>&nbsp;<span class="op" id="7667420">==</span>&nbsp;<span class="ident" id="7667423">nil</span>&nbsp;<span class="op" id="7667427">||</span>&nbsp;<span class="ident" id="7667430">err</span><span class="op" id="7667433">.</span><span class="ident" id="7667434">Error</span><span class="op" id="7667439">(</span><span class="op" id="7667440">)</span>&nbsp;<span class="op" id="7667442">!=</span>&nbsp;<span class="string" id="7667445">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7667477">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667481">t</span><span class="op" id="7667482">.</span><span class="ident" id="7667483">Error</span><span class="op" id="7667488">(</span><span class="string" id="7667489">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="7667523">,</span>&nbsp;<span class="ident" id="7667525">err</span><span class="op" id="7667528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7667535">//&nbsp;int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667545">b</span><span class="op" id="7667546">.</span><span class="ident" id="7667547">Reset</span><span class="op" id="7667552">(</span><span class="op" id="7667553">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667556">it</span>&nbsp;<span class="op" id="7667559">=</span>&nbsp;<span class="ident" id="7667561">inputT</span><span class="op" id="7667567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667571">Maxi</span><span class="op" id="7667575">:</span>&nbsp;<span class="ident" id="7667577">math</span><span class="op" id="7667581">.</span><span class="ident" id="7667582">MaxInt32</span>&nbsp;<span class="op" id="7667591">+</span>&nbsp;<span class="num" id="7667593">1</span><span class="op" id="7667594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667600">type</span>&nbsp;<span class="ident" id="7667605">outi32</span>&nbsp;<span class="keyword" id="7667612">struct</span>&nbsp;<span class="op" id="7667619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667623">Maxi</span>&nbsp;<span class="builtintype" id="7667628">int32</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667636">Mini</span>&nbsp;<span class="builtintype" id="7667641">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667651">var</span>&nbsp;<span class="ident" id="7667655">o3</span>&nbsp;<span class="ident" id="7667658">outi32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667666">enc</span><span class="op" id="7667669">.</span><span class="ident" id="7667670">Encode</span><span class="op" id="7667676">(</span><span class="ident" id="7667677">it</span><span class="op" id="7667679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667682">err</span>&nbsp;<span class="op" id="7667686">=</span>&nbsp;<span class="ident" id="7667688">dec</span><span class="op" id="7667691">.</span><span class="ident" id="7667692">Decode</span><span class="op" id="7667698">(</span><span class="op" id="7667699">&amp;</span><span class="ident" id="7667700">o3</span><span class="op" id="7667702">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667705">if</span>&nbsp;<span class="ident" id="7667708">err</span>&nbsp;<span class="op" id="7667712">==</span>&nbsp;<span class="ident" id="7667715">nil</span>&nbsp;<span class="op" id="7667719">||</span>&nbsp;<span class="ident" id="7667722">err</span><span class="op" id="7667725">.</span><span class="ident" id="7667726">Error</span><span class="op" id="7667731">(</span><span class="op" id="7667732">)</span>&nbsp;<span class="op" id="7667734">!=</span>&nbsp;<span class="string" id="7667737">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7667769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667773">t</span><span class="op" id="7667774">.</span><span class="ident" id="7667775">Error</span><span class="op" id="7667780">(</span><span class="string" id="7667781">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="7667814">,</span>&nbsp;<span class="ident" id="7667816">err</span><span class="op" id="7667819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667825">it</span>&nbsp;<span class="op" id="7667828">=</span>&nbsp;<span class="ident" id="7667830">inputT</span><span class="op" id="7667836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667840">Mini</span><span class="op" id="7667844">:</span>&nbsp;<span class="ident" id="7667846">math</span><span class="op" id="7667850">.</span><span class="ident" id="7667851">MinInt32</span>&nbsp;<span class="op" id="7667860">-</span>&nbsp;<span class="num" id="7667862">1</span><span class="op" id="7667863">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667869">b</span><span class="op" id="7667870">.</span><span class="ident" id="7667871">Reset</span><span class="op" id="7667876">(</span><span class="op" id="7667877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667880">enc</span><span class="op" id="7667883">.</span><span class="ident" id="7667884">Encode</span><span class="op" id="7667890">(</span><span class="ident" id="7667891">it</span><span class="op" id="7667893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667896">err</span>&nbsp;<span class="op" id="7667900">=</span>&nbsp;<span class="ident" id="7667902">dec</span><span class="op" id="7667905">.</span><span class="ident" id="7667906">Decode</span><span class="op" id="7667912">(</span><span class="op" id="7667913">&amp;</span><span class="ident" id="7667914">o3</span><span class="op" id="7667916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667919">if</span>&nbsp;<span class="ident" id="7667922">err</span>&nbsp;<span class="op" id="7667926">==</span>&nbsp;<span class="ident" id="7667929">nil</span>&nbsp;<span class="op" id="7667933">||</span>&nbsp;<span class="ident" id="7667936">err</span><span class="op" id="7667939">.</span><span class="ident" id="7667940">Error</span><span class="op" id="7667945">(</span><span class="op" id="7667946">)</span>&nbsp;<span class="op" id="7667948">!=</span>&nbsp;<span class="string" id="7667951">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7667983">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667987">t</span><span class="op" id="7667988">.</span><span class="ident" id="7667989">Error</span><span class="op" id="7667994">(</span><span class="string" id="7667995">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="7668029">,</span>&nbsp;<span class="ident" id="7668031">err</span><span class="op" id="7668034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7668041">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668051">b</span><span class="op" id="7668052">.</span><span class="ident" id="7668053">Reset</span><span class="op" id="7668058">(</span><span class="op" id="7668059">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668062">it</span>&nbsp;<span class="op" id="7668065">=</span>&nbsp;<span class="ident" id="7668067">inputT</span><span class="op" id="7668073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668077">Maxu</span><span class="op" id="7668081">:</span>&nbsp;<span class="ident" id="7668083">math</span><span class="op" id="7668087">.</span><span class="ident" id="7668088">MaxUint8</span>&nbsp;<span class="op" id="7668097">+</span>&nbsp;<span class="num" id="7668099">1</span><span class="op" id="7668100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668106">type</span>&nbsp;<span class="ident" id="7668111">outu8</span>&nbsp;<span class="keyword" id="7668117">struct</span>&nbsp;<span class="op" id="7668124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668128">Maxu</span>&nbsp;<span class="builtintype" id="7668133">uint8</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668143">var</span>&nbsp;<span class="ident" id="7668147">o4</span>&nbsp;<span class="ident" id="7668150">outu8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668157">enc</span><span class="op" id="7668160">.</span><span class="ident" id="7668161">Encode</span><span class="op" id="7668167">(</span><span class="ident" id="7668168">it</span><span class="op" id="7668170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668173">err</span>&nbsp;<span class="op" id="7668177">=</span>&nbsp;<span class="ident" id="7668179">dec</span><span class="op" id="7668182">.</span><span class="ident" id="7668183">Decode</span><span class="op" id="7668189">(</span><span class="op" id="7668190">&amp;</span><span class="ident" id="7668191">o4</span><span class="op" id="7668193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668196">if</span>&nbsp;<span class="ident" id="7668199">err</span>&nbsp;<span class="op" id="7668203">==</span>&nbsp;<span class="ident" id="7668206">nil</span>&nbsp;<span class="op" id="7668210">||</span>&nbsp;<span class="ident" id="7668213">err</span><span class="op" id="7668216">.</span><span class="ident" id="7668217">Error</span><span class="op" id="7668222">(</span><span class="op" id="7668223">)</span>&nbsp;<span class="op" id="7668225">!=</span>&nbsp;<span class="string" id="7668228">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7668260">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668264">t</span><span class="op" id="7668265">.</span><span class="ident" id="7668266">Error</span><span class="op" id="7668271">(</span><span class="string" id="7668272">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint8:&#34;</span><span class="op" id="7668305">,</span>&nbsp;<span class="ident" id="7668307">err</span><span class="op" id="7668310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7668317">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668328">b</span><span class="op" id="7668329">.</span><span class="ident" id="7668330">Reset</span><span class="op" id="7668335">(</span><span class="op" id="7668336">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668339">it</span>&nbsp;<span class="op" id="7668342">=</span>&nbsp;<span class="ident" id="7668344">inputT</span><span class="op" id="7668350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668354">Maxu</span><span class="op" id="7668358">:</span>&nbsp;<span class="ident" id="7668360">math</span><span class="op" id="7668364">.</span><span class="ident" id="7668365">MaxUint16</span>&nbsp;<span class="op" id="7668375">+</span>&nbsp;<span class="num" id="7668377">1</span><span class="op" id="7668378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668384">type</span>&nbsp;<span class="ident" id="7668389">outu16</span>&nbsp;<span class="keyword" id="7668396">struct</span>&nbsp;<span class="op" id="7668403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668407">Maxu</span>&nbsp;<span class="builtintype" id="7668412">uint16</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668423">var</span>&nbsp;<span class="ident" id="7668427">o5</span>&nbsp;<span class="ident" id="7668430">outu16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668438">enc</span><span class="op" id="7668441">.</span><span class="ident" id="7668442">Encode</span><span class="op" id="7668448">(</span><span class="ident" id="7668449">it</span><span class="op" id="7668451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668454">err</span>&nbsp;<span class="op" id="7668458">=</span>&nbsp;<span class="ident" id="7668460">dec</span><span class="op" id="7668463">.</span><span class="ident" id="7668464">Decode</span><span class="op" id="7668470">(</span><span class="op" id="7668471">&amp;</span><span class="ident" id="7668472">o5</span><span class="op" id="7668474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668477">if</span>&nbsp;<span class="ident" id="7668480">err</span>&nbsp;<span class="op" id="7668484">==</span>&nbsp;<span class="ident" id="7668487">nil</span>&nbsp;<span class="op" id="7668491">||</span>&nbsp;<span class="ident" id="7668494">err</span><span class="op" id="7668497">.</span><span class="ident" id="7668498">Error</span><span class="op" id="7668503">(</span><span class="op" id="7668504">)</span>&nbsp;<span class="op" id="7668506">!=</span>&nbsp;<span class="string" id="7668509">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7668541">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668545">t</span><span class="op" id="7668546">.</span><span class="ident" id="7668547">Error</span><span class="op" id="7668552">(</span><span class="string" id="7668553">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint16:&#34;</span><span class="op" id="7668587">,</span>&nbsp;<span class="ident" id="7668589">err</span><span class="op" id="7668592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7668599">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668610">b</span><span class="op" id="7668611">.</span><span class="ident" id="7668612">Reset</span><span class="op" id="7668617">(</span><span class="op" id="7668618">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668621">it</span>&nbsp;<span class="op" id="7668624">=</span>&nbsp;<span class="ident" id="7668626">inputT</span><span class="op" id="7668632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668636">Maxu</span><span class="op" id="7668640">:</span>&nbsp;<span class="ident" id="7668642">math</span><span class="op" id="7668646">.</span><span class="ident" id="7668647">MaxUint32</span>&nbsp;<span class="op" id="7668657">+</span>&nbsp;<span class="num" id="7668659">1</span><span class="op" id="7668660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668666">type</span>&nbsp;<span class="ident" id="7668671">outu32</span>&nbsp;<span class="keyword" id="7668678">struct</span>&nbsp;<span class="op" id="7668685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668689">Maxu</span>&nbsp;<span class="builtintype" id="7668694">uint32</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668705">var</span>&nbsp;<span class="ident" id="7668709">o6</span>&nbsp;<span class="ident" id="7668712">outu32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668720">enc</span><span class="op" id="7668723">.</span><span class="ident" id="7668724">Encode</span><span class="op" id="7668730">(</span><span class="ident" id="7668731">it</span><span class="op" id="7668733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668736">err</span>&nbsp;<span class="op" id="7668740">=</span>&nbsp;<span class="ident" id="7668742">dec</span><span class="op" id="7668745">.</span><span class="ident" id="7668746">Decode</span><span class="op" id="7668752">(</span><span class="op" id="7668753">&amp;</span><span class="ident" id="7668754">o6</span><span class="op" id="7668756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668759">if</span>&nbsp;<span class="ident" id="7668762">err</span>&nbsp;<span class="op" id="7668766">==</span>&nbsp;<span class="ident" id="7668769">nil</span>&nbsp;<span class="op" id="7668773">||</span>&nbsp;<span class="ident" id="7668776">err</span><span class="op" id="7668779">.</span><span class="ident" id="7668780">Error</span><span class="op" id="7668785">(</span><span class="op" id="7668786">)</span>&nbsp;<span class="op" id="7668788">!=</span>&nbsp;<span class="string" id="7668791">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7668823">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668827">t</span><span class="op" id="7668828">.</span><span class="ident" id="7668829">Error</span><span class="op" id="7668834">(</span><span class="string" id="7668835">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint32:&#34;</span><span class="op" id="7668869">,</span>&nbsp;<span class="ident" id="7668871">err</span><span class="op" id="7668874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7668881">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668893">b</span><span class="op" id="7668894">.</span><span class="ident" id="7668895">Reset</span><span class="op" id="7668900">(</span><span class="op" id="7668901">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668904">it</span>&nbsp;<span class="op" id="7668907">=</span>&nbsp;<span class="ident" id="7668909">inputT</span><span class="op" id="7668915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668919">Maxf</span><span class="op" id="7668923">:</span>&nbsp;<span class="ident" id="7668925">math</span><span class="op" id="7668929">.</span><span class="ident" id="7668930">MaxFloat32</span>&nbsp;<span class="op" id="7668941">*</span>&nbsp;<span class="num" id="7668943">2</span><span class="op" id="7668944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668950">type</span>&nbsp;<span class="ident" id="7668955">outf32</span>&nbsp;<span class="keyword" id="7668962">struct</span>&nbsp;<span class="op" id="7668969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668973">Maxf</span>&nbsp;<span class="builtintype" id="7668978">float32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668988">Minf</span>&nbsp;<span class="builtintype" id="7668993">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669005">var</span>&nbsp;<span class="ident" id="7669009">o7</span>&nbsp;<span class="ident" id="7669012">outf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669020">enc</span><span class="op" id="7669023">.</span><span class="ident" id="7669024">Encode</span><span class="op" id="7669030">(</span><span class="ident" id="7669031">it</span><span class="op" id="7669033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669036">err</span>&nbsp;<span class="op" id="7669040">=</span>&nbsp;<span class="ident" id="7669042">dec</span><span class="op" id="7669045">.</span><span class="ident" id="7669046">Decode</span><span class="op" id="7669052">(</span><span class="op" id="7669053">&amp;</span><span class="ident" id="7669054">o7</span><span class="op" id="7669056">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669059">if</span>&nbsp;<span class="ident" id="7669062">err</span>&nbsp;<span class="op" id="7669066">==</span>&nbsp;<span class="ident" id="7669069">nil</span>&nbsp;<span class="op" id="7669073">||</span>&nbsp;<span class="ident" id="7669076">err</span><span class="op" id="7669079">.</span><span class="ident" id="7669080">Error</span><span class="op" id="7669085">(</span><span class="op" id="7669086">)</span>&nbsp;<span class="op" id="7669088">!=</span>&nbsp;<span class="string" id="7669091">`value&nbsp;for&nbsp;&#34;Maxf&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7669123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669127">t</span><span class="op" id="7669128">.</span><span class="ident" id="7669129">Error</span><span class="op" id="7669134">(</span><span class="string" id="7669135">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;float32:&#34;</span><span class="op" id="7669170">,</span>&nbsp;<span class="ident" id="7669172">err</span><span class="op" id="7669175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669178">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7669182">//&nbsp;complex64</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669196">b</span><span class="op" id="7669197">.</span><span class="ident" id="7669198">Reset</span><span class="op" id="7669203">(</span><span class="op" id="7669204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669207">it</span>&nbsp;<span class="op" id="7669210">=</span>&nbsp;<span class="ident" id="7669212">inputT</span><span class="op" id="7669218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669222">Maxc</span><span class="op" id="7669226">:</span>&nbsp;<span class="builtinfunc" id="7669228">complex</span><span class="op" id="7669235">(</span><span class="ident" id="7669236">math</span><span class="op" id="7669240">.</span><span class="ident" id="7669241">MaxFloat32</span><span class="op" id="7669251">*</span><span class="num" id="7669252">2</span><span class="op" id="7669253">,</span>&nbsp;<span class="ident" id="7669255">math</span><span class="op" id="7669259">.</span><span class="ident" id="7669260">MaxFloat32</span><span class="op" id="7669270">*</span><span class="num" id="7669271">2</span><span class="op" id="7669272">)</span><span class="op" id="7669273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669279">type</span>&nbsp;<span class="ident" id="7669284">outc64</span>&nbsp;<span class="keyword" id="7669291">struct</span>&nbsp;<span class="op" id="7669298">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669302">Maxc</span>&nbsp;<span class="builtintype" id="7669307">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669319">Minc</span>&nbsp;<span class="builtintype" id="7669324">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669338">var</span>&nbsp;<span class="ident" id="7669342">o8</span>&nbsp;<span class="ident" id="7669345">outc64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669353">enc</span><span class="op" id="7669356">.</span><span class="ident" id="7669357">Encode</span><span class="op" id="7669363">(</span><span class="ident" id="7669364">it</span><span class="op" id="7669366">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669369">err</span>&nbsp;<span class="op" id="7669373">=</span>&nbsp;<span class="ident" id="7669375">dec</span><span class="op" id="7669378">.</span><span class="ident" id="7669379">Decode</span><span class="op" id="7669385">(</span><span class="op" id="7669386">&amp;</span><span class="ident" id="7669387">o8</span><span class="op" id="7669389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669392">if</span>&nbsp;<span class="ident" id="7669395">err</span>&nbsp;<span class="op" id="7669399">==</span>&nbsp;<span class="ident" id="7669402">nil</span>&nbsp;<span class="op" id="7669406">||</span>&nbsp;<span class="ident" id="7669409">err</span><span class="op" id="7669412">.</span><span class="ident" id="7669413">Error</span><span class="op" id="7669418">(</span><span class="op" id="7669419">)</span>&nbsp;<span class="op" id="7669421">!=</span>&nbsp;<span class="string" id="7669424">`value&nbsp;for&nbsp;&#34;Maxc&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7669456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669460">t</span><span class="op" id="7669461">.</span><span class="ident" id="7669462">Error</span><span class="op" id="7669467">(</span><span class="string" id="7669468">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;complex64:&#34;</span><span class="op" id="7669505">,</span>&nbsp;<span class="ident" id="7669507">err</span><span class="op" id="7669510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669513">}</span><br>
<span class="lineno"></span><span class="op" id="7669515">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="keyword" id="7669518">func</span>&nbsp;<span class="ident" id="7669523">TestNesting</span><span class="op" id="7669534">(</span><span class="ident" id="7669535">t</span>&nbsp;<span class="op" id="7669537">*</span><span class="ident" id="7669538">testing</span><span class="op" id="7669545">.</span><span class="ident" id="7669546">T</span><span class="op" id="7669547">)</span>&nbsp;<span class="op" id="7669549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669552">type</span>&nbsp;<span class="ident" id="7669557">RT</span>&nbsp;<span class="keyword" id="7669560">struct</span>&nbsp;<span class="op" id="7669567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669571">A</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7669576">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669585">Next</span>&nbsp;<span class="op" id="7669590">*</span><span class="ident" id="7669591">RT</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669598">rt</span>&nbsp;<span class="op" id="7669601">:=</span>&nbsp;<span class="builtinfunc" id="7669604">new</span><span class="op" id="7669607">(</span><span class="ident" id="7669608">RT</span><span class="op" id="7669610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669613">rt</span><span class="op" id="7669615">.</span><span class="ident" id="7669616">A</span>&nbsp;<span class="op" id="7669618">=</span>&nbsp;<span class="string" id="7669620">&#34;level1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669630">rt</span><span class="op" id="7669632">.</span><span class="ident" id="7669633">Next</span>&nbsp;<span class="op" id="7669638">=</span>&nbsp;<span class="builtinfunc" id="7669640">new</span><span class="op" id="7669643">(</span><span class="ident" id="7669644">RT</span><span class="op" id="7669646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669649">rt</span><span class="op" id="7669651">.</span><span class="ident" id="7669652">Next</span><span class="op" id="7669656">.</span><span class="ident" id="7669657">A</span>&nbsp;<span class="op" id="7669659">=</span>&nbsp;<span class="string" id="7669661">&#34;level2&#34;</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669671">b</span>&nbsp;<span class="op" id="7669673">:=</span>&nbsp;<span class="builtinfunc" id="7669676">new</span><span class="op" id="7669679">(</span><span class="ident" id="7669680">bytes</span><span class="op" id="7669685">.</span><span class="ident" id="7669686">Buffer</span><span class="op" id="7669692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669695">NewEncoder</span><span class="op" id="7669705">(</span><span class="ident" id="7669706">b</span><span class="op" id="7669707">)</span><span class="op" id="7669708">.</span><span class="ident" id="7669709">Encode</span><span class="op" id="7669715">(</span><span class="ident" id="7669716">rt</span><span class="op" id="7669718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669721">var</span>&nbsp;<span class="ident" id="7669725">drt</span>&nbsp;<span class="ident" id="7669729">RT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669733">dec</span>&nbsp;<span class="op" id="7669737">:=</span>&nbsp;<span class="ident" id="7669740">NewDecoder</span><span class="op" id="7669750">(</span><span class="ident" id="7669751">b</span><span class="op" id="7669752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669755">err</span>&nbsp;<span class="op" id="7669759">:=</span>&nbsp;<span class="ident" id="7669762">dec</span><span class="op" id="7669765">.</span><span class="ident" id="7669766">Decode</span><span class="op" id="7669772">(</span><span class="op" id="7669773">&amp;</span><span class="ident" id="7669774">drt</span><span class="op" id="7669777">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669780">if</span>&nbsp;<span class="ident" id="7669783">err</span>&nbsp;<span class="op" id="7669787">!=</span>&nbsp;<span class="ident" id="7669790">nil</span>&nbsp;<span class="op" id="7669794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669798">t</span><span class="op" id="7669799">.</span><span class="ident" id="7669800">Fatal</span><span class="op" id="7669805">(</span><span class="string" id="7669806">&#34;decoder&nbsp;error:&#34;</span><span class="op" id="7669822">,</span>&nbsp;<span class="ident" id="7669824">err</span><span class="op" id="7669827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669833">if</span>&nbsp;<span class="ident" id="7669836">drt</span><span class="op" id="7669839">.</span><span class="ident" id="7669840">A</span>&nbsp;<span class="op" id="7669842">!=</span>&nbsp;<span class="ident" id="7669845">rt</span><span class="op" id="7669847">.</span><span class="ident" id="7669848">A</span>&nbsp;<span class="op" id="7669850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669854">t</span><span class="op" id="7669855">.</span><span class="ident" id="7669856">Errorf</span><span class="op" id="7669862">(</span><span class="string" id="7669863">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7669899">,</span>&nbsp;<span class="op" id="7669901">*</span><span class="ident" id="7669902">rt</span><span class="op" id="7669904">,</span>&nbsp;<span class="ident" id="7669906">drt</span><span class="op" id="7669909">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669915">if</span>&nbsp;<span class="ident" id="7669918">drt</span><span class="op" id="7669921">.</span><span class="ident" id="7669922">Next</span>&nbsp;<span class="op" id="7669927">==</span>&nbsp;<span class="ident" id="7669930">nil</span>&nbsp;<span class="op" id="7669934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669938">t</span><span class="op" id="7669939">.</span><span class="ident" id="7669940">Errorf</span><span class="op" id="7669946">(</span><span class="string" id="7669947">&#34;nesting:&nbsp;recursion&nbsp;failed&#34;</span><span class="op" id="7669974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669980">if</span>&nbsp;<span class="ident" id="7669983">drt</span><span class="op" id="7669986">.</span><span class="ident" id="7669987">Next</span><span class="op" id="7669991">.</span><span class="ident" id="7669992">A</span>&nbsp;<span class="op" id="7669994">!=</span>&nbsp;<span class="ident" id="7669997">rt</span><span class="op" id="7669999">.</span><span class="ident" id="7670000">Next</span><span class="op" id="7670004">.</span><span class="ident" id="7670005">A</span>&nbsp;<span class="op" id="7670007">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670011">t</span><span class="op" id="7670012">.</span><span class="ident" id="7670013">Errorf</span><span class="op" id="7670019">(</span><span class="string" id="7670020">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7670056">,</span>&nbsp;<span class="op" id="7670058">*</span><span class="ident" id="7670059">rt</span><span class="op" id="7670061">.</span><span class="ident" id="7670062">Next</span><span class="op" id="7670066">,</span>&nbsp;<span class="op" id="7670068">*</span><span class="ident" id="7670069">drt</span><span class="op" id="7670072">.</span><span class="ident" id="7670073">Next</span><span class="op" id="7670077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670080">}</span><br>
<span class="lineno"></span><span class="op" id="7670082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7670085">//&nbsp;These&nbsp;three&nbsp;structures&nbsp;have&nbsp;the&nbsp;same&nbsp;data&nbsp;with&nbsp;different&nbsp;indirections</span><br>
<span class="lineno">800</span><span class="keyword" id="7670158">type</span>&nbsp;<span class="ident" id="7670163">T0</span>&nbsp;<span class="keyword" id="7670166">struct</span>&nbsp;<span class="op" id="7670173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670176">A</span>&nbsp;<span class="builtintype" id="7670178">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670183">B</span>&nbsp;<span class="builtintype" id="7670185">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670190">C</span>&nbsp;<span class="builtintype" id="7670192">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670197">D</span>&nbsp;<span class="builtintype" id="7670199">int</span><br>
<span class="lineno">805</span><span class="op" id="7670203">}</span><br>
<span class="lineno"></span><span class="keyword" id="7670205">type</span>&nbsp;<span class="ident" id="7670210">T1</span>&nbsp;<span class="keyword" id="7670213">struct</span>&nbsp;<span class="op" id="7670220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670223">A</span>&nbsp;<span class="builtintype" id="7670225">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670230">B</span>&nbsp;<span class="op" id="7670232">*</span><span class="builtintype" id="7670233">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670238">C</span>&nbsp;<span class="op" id="7670240">*</span><span class="op" id="7670241">*</span><span class="builtintype" id="7670242">int</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670247">D</span>&nbsp;<span class="op" id="7670249">*</span><span class="op" id="7670250">*</span><span class="op" id="7670251">*</span><span class="builtintype" id="7670252">int</span><br>
<span class="lineno"></span><span class="op" id="7670256">}</span><br>
<span class="lineno"></span><span class="keyword" id="7670258">type</span>&nbsp;<span class="ident" id="7670263">T2</span>&nbsp;<span class="keyword" id="7670266">struct</span>&nbsp;<span class="op" id="7670273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670276">A</span>&nbsp;<span class="op" id="7670278">*</span><span class="op" id="7670279">*</span><span class="op" id="7670280">*</span><span class="builtintype" id="7670281">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670286">B</span>&nbsp;<span class="op" id="7670288">*</span><span class="op" id="7670289">*</span><span class="builtintype" id="7670290">int</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670295">C</span>&nbsp;<span class="op" id="7670297">*</span><span class="builtintype" id="7670298">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670303">D</span>&nbsp;<span class="builtintype" id="7670305">int</span><br>
<span class="lineno"></span><span class="op" id="7670309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7670312">func</span>&nbsp;<span class="ident" id="7670317">TestAutoIndirection</span><span class="op" id="7670336">(</span><span class="ident" id="7670337">t</span>&nbsp;<span class="op" id="7670339">*</span><span class="ident" id="7670340">testing</span><span class="op" id="7670347">.</span><span class="ident" id="7670348">T</span><span class="op" id="7670349">)</span>&nbsp;<span class="op" id="7670351">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7670354">//&nbsp;First&nbsp;transfer&nbsp;t1&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670384">var</span>&nbsp;<span class="ident" id="7670388">t1</span>&nbsp;<span class="ident" id="7670391">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670395">t1</span><span class="op" id="7670397">.</span><span class="ident" id="7670398">A</span>&nbsp;<span class="op" id="7670400">=</span>&nbsp;<span class="num" id="7670402">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670406">t1</span><span class="op" id="7670408">.</span><span class="ident" id="7670409">B</span>&nbsp;<span class="op" id="7670411">=</span>&nbsp;<span class="builtinfunc" id="7670413">new</span><span class="op" id="7670416">(</span><span class="builtintype" id="7670417">int</span><span class="op" id="7670420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670423">*</span><span class="ident" id="7670424">t1</span><span class="op" id="7670426">.</span><span class="ident" id="7670427">B</span>&nbsp;<span class="op" id="7670429">=</span>&nbsp;<span class="num" id="7670431">177</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670436">t1</span><span class="op" id="7670438">.</span><span class="ident" id="7670439">C</span>&nbsp;<span class="op" id="7670441">=</span>&nbsp;<span class="builtinfunc" id="7670443">new</span><span class="op" id="7670446">(</span><span class="op" id="7670447">*</span><span class="builtintype" id="7670448">int</span><span class="op" id="7670451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670454">*</span><span class="ident" id="7670455">t1</span><span class="op" id="7670457">.</span><span class="ident" id="7670458">C</span>&nbsp;<span class="op" id="7670460">=</span>&nbsp;<span class="builtinfunc" id="7670462">new</span><span class="op" id="7670465">(</span><span class="builtintype" id="7670466">int</span><span class="op" id="7670469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670472">*</span><span class="op" id="7670473">*</span><span class="ident" id="7670474">t1</span><span class="op" id="7670476">.</span><span class="ident" id="7670477">C</span>&nbsp;<span class="op" id="7670479">=</span>&nbsp;<span class="num" id="7670481">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670487">t1</span><span class="op" id="7670489">.</span><span class="ident" id="7670490">D</span>&nbsp;<span class="op" id="7670492">=</span>&nbsp;<span class="builtinfunc" id="7670494">new</span><span class="op" id="7670497">(</span><span class="op" id="7670498">*</span><span class="op" id="7670499">*</span><span class="builtintype" id="7670500">int</span><span class="op" id="7670503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670506">*</span><span class="ident" id="7670507">t1</span><span class="op" id="7670509">.</span><span class="ident" id="7670510">D</span>&nbsp;<span class="op" id="7670512">=</span>&nbsp;<span class="builtinfunc" id="7670514">new</span><span class="op" id="7670517">(</span><span class="op" id="7670518">*</span><span class="builtintype" id="7670519">int</span><span class="op" id="7670522">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670525">*</span><span class="op" id="7670526">*</span><span class="ident" id="7670527">t1</span><span class="op" id="7670529">.</span><span class="ident" id="7670530">D</span>&nbsp;<span class="op" id="7670532">=</span>&nbsp;<span class="builtinfunc" id="7670534">new</span><span class="op" id="7670537">(</span><span class="builtintype" id="7670538">int</span><span class="op" id="7670541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670544">*</span><span class="op" id="7670545">*</span><span class="op" id="7670546">*</span><span class="ident" id="7670547">t1</span><span class="op" id="7670549">.</span><span class="ident" id="7670550">D</span>&nbsp;<span class="op" id="7670552">=</span>&nbsp;<span class="num" id="7670554">17777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670561">b</span>&nbsp;<span class="op" id="7670563">:=</span>&nbsp;<span class="builtinfunc" id="7670566">new</span><span class="op" id="7670569">(</span><span class="ident" id="7670570">bytes</span><span class="op" id="7670575">.</span><span class="ident" id="7670576">Buffer</span><span class="op" id="7670582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670585">enc</span>&nbsp;<span class="op" id="7670589">:=</span>&nbsp;<span class="ident" id="7670592">NewEncoder</span><span class="op" id="7670602">(</span><span class="ident" id="7670603">b</span><span class="op" id="7670604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670607">enc</span><span class="op" id="7670610">.</span><span class="ident" id="7670611">Encode</span><span class="op" id="7670617">(</span><span class="ident" id="7670618">t1</span><span class="op" id="7670620">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670623">dec</span>&nbsp;<span class="op" id="7670627">:=</span>&nbsp;<span class="ident" id="7670630">NewDecoder</span><span class="op" id="7670640">(</span><span class="ident" id="7670641">b</span><span class="op" id="7670642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670645">var</span>&nbsp;<span class="ident" id="7670649">t0</span>&nbsp;<span class="ident" id="7670652">T0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670656">dec</span><span class="op" id="7670659">.</span><span class="ident" id="7670660">Decode</span><span class="op" id="7670666">(</span><span class="op" id="7670667">&amp;</span><span class="ident" id="7670668">t0</span><span class="op" id="7670670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670673">if</span>&nbsp;<span class="ident" id="7670676">t0</span><span class="op" id="7670678">.</span><span class="ident" id="7670679">A</span>&nbsp;<span class="op" id="7670681">!=</span>&nbsp;<span class="num" id="7670684">17</span>&nbsp;<span class="op" id="7670687">||</span>&nbsp;<span class="ident" id="7670690">t0</span><span class="op" id="7670692">.</span><span class="ident" id="7670693">B</span>&nbsp;<span class="op" id="7670695">!=</span>&nbsp;<span class="num" id="7670698">177</span>&nbsp;<span class="op" id="7670702">||</span>&nbsp;<span class="ident" id="7670705">t0</span><span class="op" id="7670707">.</span><span class="ident" id="7670708">C</span>&nbsp;<span class="op" id="7670710">!=</span>&nbsp;<span class="num" id="7670713">1777</span>&nbsp;<span class="op" id="7670718">||</span>&nbsp;<span class="ident" id="7670721">t0</span><span class="op" id="7670723">.</span><span class="ident" id="7670724">D</span>&nbsp;<span class="op" id="7670726">!=</span>&nbsp;<span class="num" id="7670729">17777</span>&nbsp;<span class="op" id="7670735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670739">t</span><span class="op" id="7670740">.</span><span class="ident" id="7670741">Errorf</span><span class="op" id="7670747">(</span><span class="string" id="7670748">&#34;t1-&gt;t0:&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7670794">,</span>&nbsp;<span class="ident" id="7670796">t0</span><span class="op" id="7670798">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7670805">//&nbsp;Now&nbsp;transfer&nbsp;t2&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670833">var</span>&nbsp;<span class="ident" id="7670837">t2</span>&nbsp;<span class="ident" id="7670840">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670844">t2</span><span class="op" id="7670846">.</span><span class="ident" id="7670847">D</span>&nbsp;<span class="op" id="7670849">=</span>&nbsp;<span class="num" id="7670851">17777</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670858">t2</span><span class="op" id="7670860">.</span><span class="ident" id="7670861">C</span>&nbsp;<span class="op" id="7670863">=</span>&nbsp;<span class="builtinfunc" id="7670865">new</span><span class="op" id="7670868">(</span><span class="builtintype" id="7670869">int</span><span class="op" id="7670872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670875">*</span><span class="ident" id="7670876">t2</span><span class="op" id="7670878">.</span><span class="ident" id="7670879">C</span>&nbsp;<span class="op" id="7670881">=</span>&nbsp;<span class="num" id="7670883">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670889">t2</span><span class="op" id="7670891">.</span><span class="ident" id="7670892">B</span>&nbsp;<span class="op" id="7670894">=</span>&nbsp;<span class="builtinfunc" id="7670896">new</span><span class="op" id="7670899">(</span><span class="op" id="7670900">*</span><span class="builtintype" id="7670901">int</span><span class="op" id="7670904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670907">*</span><span class="ident" id="7670908">t2</span><span class="op" id="7670910">.</span><span class="ident" id="7670911">B</span>&nbsp;<span class="op" id="7670913">=</span>&nbsp;<span class="builtinfunc" id="7670915">new</span><span class="op" id="7670918">(</span><span class="builtintype" id="7670919">int</span><span class="op" id="7670922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670925">*</span><span class="op" id="7670926">*</span><span class="ident" id="7670927">t2</span><span class="op" id="7670929">.</span><span class="ident" id="7670930">B</span>&nbsp;<span class="op" id="7670932">=</span>&nbsp;<span class="num" id="7670934">177</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670939">t2</span><span class="op" id="7670941">.</span><span class="ident" id="7670942">A</span>&nbsp;<span class="op" id="7670944">=</span>&nbsp;<span class="builtinfunc" id="7670946">new</span><span class="op" id="7670949">(</span><span class="op" id="7670950">*</span><span class="op" id="7670951">*</span><span class="builtintype" id="7670952">int</span><span class="op" id="7670955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670958">*</span><span class="ident" id="7670959">t2</span><span class="op" id="7670961">.</span><span class="ident" id="7670962">A</span>&nbsp;<span class="op" id="7670964">=</span>&nbsp;<span class="builtinfunc" id="7670966">new</span><span class="op" id="7670969">(</span><span class="op" id="7670970">*</span><span class="builtintype" id="7670971">int</span><span class="op" id="7670974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670977">*</span><span class="op" id="7670978">*</span><span class="ident" id="7670979">t2</span><span class="op" id="7670981">.</span><span class="ident" id="7670982">A</span>&nbsp;<span class="op" id="7670984">=</span>&nbsp;<span class="builtinfunc" id="7670986">new</span><span class="op" id="7670989">(</span><span class="builtintype" id="7670990">int</span><span class="op" id="7670993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670996">*</span><span class="op" id="7670997">*</span><span class="op" id="7670998">*</span><span class="ident" id="7670999">t2</span><span class="op" id="7671001">.</span><span class="ident" id="7671002">A</span>&nbsp;<span class="op" id="7671004">=</span>&nbsp;<span class="num" id="7671006">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671010">b</span><span class="op" id="7671011">.</span><span class="ident" id="7671012">Reset</span><span class="op" id="7671017">(</span><span class="op" id="7671018">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671021">enc</span><span class="op" id="7671024">.</span><span class="ident" id="7671025">Encode</span><span class="op" id="7671031">(</span><span class="ident" id="7671032">t2</span><span class="op" id="7671034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671037">t0</span>&nbsp;<span class="op" id="7671040">=</span>&nbsp;<span class="ident" id="7671042">T0</span><span class="op" id="7671044">{</span><span class="op" id="7671045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671048">dec</span><span class="op" id="7671051">.</span><span class="ident" id="7671052">Decode</span><span class="op" id="7671058">(</span><span class="op" id="7671059">&amp;</span><span class="ident" id="7671060">t0</span><span class="op" id="7671062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671065">if</span>&nbsp;<span class="ident" id="7671068">t0</span><span class="op" id="7671070">.</span><span class="ident" id="7671071">A</span>&nbsp;<span class="op" id="7671073">!=</span>&nbsp;<span class="num" id="7671076">17</span>&nbsp;<span class="op" id="7671079">||</span>&nbsp;<span class="ident" id="7671082">t0</span><span class="op" id="7671084">.</span><span class="ident" id="7671085">B</span>&nbsp;<span class="op" id="7671087">!=</span>&nbsp;<span class="num" id="7671090">177</span>&nbsp;<span class="op" id="7671094">||</span>&nbsp;<span class="ident" id="7671097">t0</span><span class="op" id="7671099">.</span><span class="ident" id="7671100">C</span>&nbsp;<span class="op" id="7671102">!=</span>&nbsp;<span class="num" id="7671105">1777</span>&nbsp;<span class="op" id="7671110">||</span>&nbsp;<span class="ident" id="7671113">t0</span><span class="op" id="7671115">.</span><span class="ident" id="7671116">D</span>&nbsp;<span class="op" id="7671118">!=</span>&nbsp;<span class="num" id="7671121">17777</span>&nbsp;<span class="op" id="7671127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671131">t</span><span class="op" id="7671132">.</span><span class="ident" id="7671133">Errorf</span><span class="op" id="7671139">(</span><span class="string" id="7671140">&#34;t2-&gt;t0&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7671185">,</span>&nbsp;<span class="ident" id="7671187">t0</span><span class="op" id="7671189">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7671196">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671224">t0</span>&nbsp;<span class="op" id="7671227">=</span>&nbsp;<span class="ident" id="7671229">T0</span><span class="op" id="7671231">{</span><span class="num" id="7671232">17</span><span class="op" id="7671234">,</span>&nbsp;<span class="num" id="7671236">177</span><span class="op" id="7671239">,</span>&nbsp;<span class="num" id="7671241">1777</span><span class="op" id="7671245">,</span>&nbsp;<span class="num" id="7671247">17777</span><span class="op" id="7671252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671255">b</span><span class="op" id="7671256">.</span><span class="ident" id="7671257">Reset</span><span class="op" id="7671262">(</span><span class="op" id="7671263">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671266">enc</span><span class="op" id="7671269">.</span><span class="ident" id="7671270">Encode</span><span class="op" id="7671276">(</span><span class="ident" id="7671277">t0</span><span class="op" id="7671279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671282">t1</span>&nbsp;<span class="op" id="7671285">=</span>&nbsp;<span class="ident" id="7671287">T1</span><span class="op" id="7671289">{</span><span class="op" id="7671290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671293">dec</span><span class="op" id="7671296">.</span><span class="ident" id="7671297">Decode</span><span class="op" id="7671303">(</span><span class="op" id="7671304">&amp;</span><span class="ident" id="7671305">t1</span><span class="op" id="7671307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671310">if</span>&nbsp;<span class="ident" id="7671313">t1</span><span class="op" id="7671315">.</span><span class="ident" id="7671316">A</span>&nbsp;<span class="op" id="7671318">!=</span>&nbsp;<span class="num" id="7671321">17</span>&nbsp;<span class="op" id="7671324">||</span>&nbsp;<span class="op" id="7671327">*</span><span class="ident" id="7671328">t1</span><span class="op" id="7671330">.</span><span class="ident" id="7671331">B</span>&nbsp;<span class="op" id="7671333">!=</span>&nbsp;<span class="num" id="7671336">177</span>&nbsp;<span class="op" id="7671340">||</span>&nbsp;<span class="op" id="7671343">*</span><span class="op" id="7671344">*</span><span class="ident" id="7671345">t1</span><span class="op" id="7671347">.</span><span class="ident" id="7671348">C</span>&nbsp;<span class="op" id="7671350">!=</span>&nbsp;<span class="num" id="7671353">1777</span>&nbsp;<span class="op" id="7671358">||</span>&nbsp;<span class="op" id="7671361">*</span><span class="op" id="7671362">*</span><span class="op" id="7671363">*</span><span class="ident" id="7671364">t1</span><span class="op" id="7671366">.</span><span class="ident" id="7671367">D</span>&nbsp;<span class="op" id="7671369">!=</span>&nbsp;<span class="num" id="7671372">17777</span>&nbsp;<span class="op" id="7671378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671382">t</span><span class="op" id="7671383">.</span><span class="ident" id="7671384">Errorf</span><span class="op" id="7671390">(</span><span class="string" id="7671391">&#34;t0-&gt;t1&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="7671447">,</span>&nbsp;<span class="ident" id="7671449">t1</span><span class="op" id="7671451">.</span><span class="ident" id="7671452">A</span><span class="op" id="7671453">,</span>&nbsp;<span class="op" id="7671455">*</span><span class="ident" id="7671456">t1</span><span class="op" id="7671458">.</span><span class="ident" id="7671459">B</span><span class="op" id="7671460">,</span>&nbsp;<span class="op" id="7671462">*</span><span class="op" id="7671463">*</span><span class="ident" id="7671464">t1</span><span class="op" id="7671466">.</span><span class="ident" id="7671467">C</span><span class="op" id="7671468">,</span>&nbsp;<span class="op" id="7671470">*</span><span class="op" id="7671471">*</span><span class="op" id="7671472">*</span><span class="ident" id="7671473">t1</span><span class="op" id="7671475">.</span><span class="ident" id="7671476">D</span><span class="op" id="7671477">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7671484">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671512">b</span><span class="op" id="7671513">.</span><span class="ident" id="7671514">Reset</span><span class="op" id="7671519">(</span><span class="op" id="7671520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671523">enc</span><span class="op" id="7671526">.</span><span class="ident" id="7671527">Encode</span><span class="op" id="7671533">(</span><span class="ident" id="7671534">t0</span><span class="op" id="7671536">)</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671539">t2</span>&nbsp;<span class="op" id="7671542">=</span>&nbsp;<span class="ident" id="7671544">T2</span><span class="op" id="7671546">{</span><span class="op" id="7671547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671550">dec</span><span class="op" id="7671553">.</span><span class="ident" id="7671554">Decode</span><span class="op" id="7671560">(</span><span class="op" id="7671561">&amp;</span><span class="ident" id="7671562">t2</span><span class="op" id="7671564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671567">if</span>&nbsp;<span class="op" id="7671570">*</span><span class="op" id="7671571">*</span><span class="op" id="7671572">*</span><span class="ident" id="7671573">t2</span><span class="op" id="7671575">.</span><span class="ident" id="7671576">A</span>&nbsp;<span class="op" id="7671578">!=</span>&nbsp;<span class="num" id="7671581">17</span>&nbsp;<span class="op" id="7671584">||</span>&nbsp;<span class="op" id="7671587">*</span><span class="op" id="7671588">*</span><span class="ident" id="7671589">t2</span><span class="op" id="7671591">.</span><span class="ident" id="7671592">B</span>&nbsp;<span class="op" id="7671594">!=</span>&nbsp;<span class="num" id="7671597">177</span>&nbsp;<span class="op" id="7671601">||</span>&nbsp;<span class="op" id="7671604">*</span><span class="ident" id="7671605">t2</span><span class="op" id="7671607">.</span><span class="ident" id="7671608">C</span>&nbsp;<span class="op" id="7671610">!=</span>&nbsp;<span class="num" id="7671613">1777</span>&nbsp;<span class="op" id="7671618">||</span>&nbsp;<span class="ident" id="7671621">t2</span><span class="op" id="7671623">.</span><span class="ident" id="7671624">D</span>&nbsp;<span class="op" id="7671626">!=</span>&nbsp;<span class="num" id="7671629">17777</span>&nbsp;<span class="op" id="7671635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671639">t</span><span class="op" id="7671640">.</span><span class="ident" id="7671641">Errorf</span><span class="op" id="7671647">(</span><span class="string" id="7671648">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="7671704">,</span>&nbsp;<span class="op" id="7671706">*</span><span class="op" id="7671707">*</span><span class="op" id="7671708">*</span><span class="ident" id="7671709">t2</span><span class="op" id="7671711">.</span><span class="ident" id="7671712">A</span><span class="op" id="7671713">,</span>&nbsp;<span class="op" id="7671715">*</span><span class="op" id="7671716">*</span><span class="ident" id="7671717">t2</span><span class="op" id="7671719">.</span><span class="ident" id="7671720">B</span><span class="op" id="7671721">,</span>&nbsp;<span class="op" id="7671723">*</span><span class="ident" id="7671724">t2</span><span class="op" id="7671726">.</span><span class="ident" id="7671727">C</span><span class="op" id="7671728">,</span>&nbsp;<span class="ident" id="7671730">t2</span><span class="op" id="7671732">.</span><span class="ident" id="7671733">D</span><span class="op" id="7671734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671737">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7671741">//&nbsp;Now&nbsp;do&nbsp;t2&nbsp;again&nbsp;but&nbsp;without&nbsp;pre-allocated&nbsp;pointers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671797">b</span><span class="op" id="7671798">.</span><span class="ident" id="7671799">Reset</span><span class="op" id="7671804">(</span><span class="op" id="7671805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671808">enc</span><span class="op" id="7671811">.</span><span class="ident" id="7671812">Encode</span><span class="op" id="7671818">(</span><span class="ident" id="7671819">t0</span><span class="op" id="7671821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671824">*</span><span class="op" id="7671825">*</span><span class="op" id="7671826">*</span><span class="ident" id="7671827">t2</span><span class="op" id="7671829">.</span><span class="ident" id="7671830">A</span>&nbsp;<span class="op" id="7671832">=</span>&nbsp;<span class="num" id="7671834">0</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671837">*</span><span class="op" id="7671838">*</span><span class="ident" id="7671839">t2</span><span class="op" id="7671841">.</span><span class="ident" id="7671842">B</span>&nbsp;<span class="op" id="7671844">=</span>&nbsp;<span class="num" id="7671846">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671849">*</span><span class="ident" id="7671850">t2</span><span class="op" id="7671852">.</span><span class="ident" id="7671853">C</span>&nbsp;<span class="op" id="7671855">=</span>&nbsp;<span class="num" id="7671857">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671860">t2</span><span class="op" id="7671862">.</span><span class="ident" id="7671863">D</span>&nbsp;<span class="op" id="7671865">=</span>&nbsp;<span class="num" id="7671867">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671870">dec</span><span class="op" id="7671873">.</span><span class="ident" id="7671874">Decode</span><span class="op" id="7671880">(</span><span class="op" id="7671881">&amp;</span><span class="ident" id="7671882">t2</span><span class="op" id="7671884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671887">if</span>&nbsp;<span class="op" id="7671890">*</span><span class="op" id="7671891">*</span><span class="op" id="7671892">*</span><span class="ident" id="7671893">t2</span><span class="op" id="7671895">.</span><span class="ident" id="7671896">A</span>&nbsp;<span class="op" id="7671898">!=</span>&nbsp;<span class="num" id="7671901">17</span>&nbsp;<span class="op" id="7671904">||</span>&nbsp;<span class="op" id="7671907">*</span><span class="op" id="7671908">*</span><span class="ident" id="7671909">t2</span><span class="op" id="7671911">.</span><span class="ident" id="7671912">B</span>&nbsp;<span class="op" id="7671914">!=</span>&nbsp;<span class="num" id="7671917">177</span>&nbsp;<span class="op" id="7671921">||</span>&nbsp;<span class="op" id="7671924">*</span><span class="ident" id="7671925">t2</span><span class="op" id="7671927">.</span><span class="ident" id="7671928">C</span>&nbsp;<span class="op" id="7671930">!=</span>&nbsp;<span class="num" id="7671933">1777</span>&nbsp;<span class="op" id="7671938">||</span>&nbsp;<span class="ident" id="7671941">t2</span><span class="op" id="7671943">.</span><span class="ident" id="7671944">D</span>&nbsp;<span class="op" id="7671946">!=</span>&nbsp;<span class="num" id="7671949">17777</span>&nbsp;<span class="op" id="7671955">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671959">t</span><span class="op" id="7671960">.</span><span class="ident" id="7671961">Errorf</span><span class="op" id="7671967">(</span><span class="string" id="7671968">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="7672024">,</span>&nbsp;<span class="op" id="7672026">*</span><span class="op" id="7672027">*</span><span class="op" id="7672028">*</span><span class="ident" id="7672029">t2</span><span class="op" id="7672031">.</span><span class="ident" id="7672032">A</span><span class="op" id="7672033">,</span>&nbsp;<span class="op" id="7672035">*</span><span class="op" id="7672036">*</span><span class="ident" id="7672037">t2</span><span class="op" id="7672039">.</span><span class="ident" id="7672040">B</span><span class="op" id="7672041">,</span>&nbsp;<span class="op" id="7672043">*</span><span class="ident" id="7672044">t2</span><span class="op" id="7672046">.</span><span class="ident" id="7672047">C</span><span class="op" id="7672048">,</span>&nbsp;<span class="ident" id="7672050">t2</span><span class="op" id="7672052">.</span><span class="ident" id="7672053">D</span><span class="op" id="7672054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672057">}</span><br>
<span class="lineno"></span><span class="op" id="7672059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7672062">type</span>&nbsp;<span class="ident" id="7672067">RT0</span>&nbsp;<span class="keyword" id="7672071">struct</span>&nbsp;<span class="op" id="7672078">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672081">A</span>&nbsp;<span class="builtintype" id="7672083">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672088">B</span>&nbsp;<span class="builtintype" id="7672090">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672098">C</span>&nbsp;<span class="builtintype" id="7672100">float64</span><br>
<span class="lineno"></span><span class="op" id="7672108">}</span><br>
<span class="lineno"></span><span class="keyword" id="7672110">type</span>&nbsp;<span class="ident" id="7672115">RT1</span>&nbsp;<span class="keyword" id="7672119">struct</span>&nbsp;<span class="op" id="7672126">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672129">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7672136">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672145">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7672152">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672160">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7672167">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672172">NotSet</span>&nbsp;<span class="builtintype" id="7672179">string</span><br>
<span class="lineno"></span><span class="op" id="7672186">}</span><br>
<span class="lineno">905</span><br>
<span class="lineno"></span><span class="keyword" id="7672189">func</span>&nbsp;<span class="ident" id="7672194">TestReorderedFields</span><span class="op" id="7672213">(</span><span class="ident" id="7672214">t</span>&nbsp;<span class="op" id="7672216">*</span><span class="ident" id="7672217">testing</span><span class="op" id="7672224">.</span><span class="ident" id="7672225">T</span><span class="op" id="7672226">)</span>&nbsp;<span class="op" id="7672228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672231">var</span>&nbsp;<span class="ident" id="7672235">rt0</span>&nbsp;<span class="ident" id="7672239">RT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672244">rt0</span><span class="op" id="7672247">.</span><span class="ident" id="7672248">A</span>&nbsp;<span class="op" id="7672250">=</span>&nbsp;<span class="num" id="7672252">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672256">rt0</span><span class="op" id="7672259">.</span><span class="ident" id="7672260">B</span>&nbsp;<span class="op" id="7672262">=</span>&nbsp;<span class="string" id="7672264">&#34;hello&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672273">rt0</span><span class="op" id="7672276">.</span><span class="ident" id="7672277">C</span>&nbsp;<span class="op" id="7672279">=</span>&nbsp;<span class="num" id="7672281">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672290">b</span>&nbsp;<span class="op" id="7672292">:=</span>&nbsp;<span class="builtinfunc" id="7672295">new</span><span class="op" id="7672298">(</span><span class="ident" id="7672299">bytes</span><span class="op" id="7672304">.</span><span class="ident" id="7672305">Buffer</span><span class="op" id="7672311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672314">NewEncoder</span><span class="op" id="7672324">(</span><span class="ident" id="7672325">b</span><span class="op" id="7672326">)</span><span class="op" id="7672327">.</span><span class="ident" id="7672328">Encode</span><span class="op" id="7672334">(</span><span class="ident" id="7672335">rt0</span><span class="op" id="7672338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672341">dec</span>&nbsp;<span class="op" id="7672345">:=</span>&nbsp;<span class="ident" id="7672348">NewDecoder</span><span class="op" id="7672358">(</span><span class="ident" id="7672359">b</span><span class="op" id="7672360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672363">var</span>&nbsp;<span class="ident" id="7672367">rt1</span>&nbsp;<span class="ident" id="7672371">RT1</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7672376">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;RT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672417">err</span>&nbsp;<span class="op" id="7672421">:=</span>&nbsp;<span class="ident" id="7672424">dec</span><span class="op" id="7672427">.</span><span class="ident" id="7672428">Decode</span><span class="op" id="7672434">(</span><span class="op" id="7672435">&amp;</span><span class="ident" id="7672436">rt1</span><span class="op" id="7672439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672442">if</span>&nbsp;<span class="ident" id="7672445">err</span>&nbsp;<span class="op" id="7672449">!=</span>&nbsp;<span class="ident" id="7672452">nil</span>&nbsp;<span class="op" id="7672456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672460">t</span><span class="op" id="7672461">.</span><span class="ident" id="7672462">Fatal</span><span class="op" id="7672467">(</span><span class="string" id="7672468">&#34;decode&nbsp;error:&#34;</span><span class="op" id="7672483">,</span>&nbsp;<span class="ident" id="7672485">err</span><span class="op" id="7672488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672491">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672494">if</span>&nbsp;<span class="ident" id="7672497">rt0</span><span class="op" id="7672500">.</span><span class="ident" id="7672501">A</span>&nbsp;<span class="op" id="7672503">!=</span>&nbsp;<span class="ident" id="7672506">rt1</span><span class="op" id="7672509">.</span><span class="ident" id="7672510">A</span>&nbsp;<span class="op" id="7672512">||</span>&nbsp;<span class="ident" id="7672515">rt0</span><span class="op" id="7672518">.</span><span class="ident" id="7672519">B</span>&nbsp;<span class="op" id="7672521">!=</span>&nbsp;<span class="ident" id="7672524">rt1</span><span class="op" id="7672527">.</span><span class="ident" id="7672528">B</span>&nbsp;<span class="op" id="7672530">||</span>&nbsp;<span class="ident" id="7672533">rt0</span><span class="op" id="7672536">.</span><span class="ident" id="7672537">C</span>&nbsp;<span class="op" id="7672539">!=</span>&nbsp;<span class="ident" id="7672542">rt1</span><span class="op" id="7672545">.</span><span class="ident" id="7672546">C</span>&nbsp;<span class="op" id="7672548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672552">t</span><span class="op" id="7672553">.</span><span class="ident" id="7672554">Errorf</span><span class="op" id="7672560">(</span><span class="string" id="7672561">&#34;rt1-&gt;rt0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7672592">,</span>&nbsp;<span class="ident" id="7672594">rt0</span><span class="op" id="7672597">,</span>&nbsp;<span class="ident" id="7672599">rt1</span><span class="op" id="7672602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672605">}</span><br>
<span class="lineno"></span><span class="op" id="7672607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="7672610">//&nbsp;Like&nbsp;an&nbsp;RT0&nbsp;but&nbsp;with&nbsp;fields&nbsp;we&#39;ll&nbsp;ignore&nbsp;on&nbsp;the&nbsp;decode&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="7672674">type</span>&nbsp;<span class="ident" id="7672679">IT0</span>&nbsp;<span class="keyword" id="7672683">struct</span>&nbsp;<span class="op" id="7672690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672693">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7672702">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672709">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7672718">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672726">Ignore_d</span>&nbsp;<span class="op" id="7672735">[</span><span class="op" id="7672736">]</span><span class="builtintype" id="7672737">int</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672742">Ignore_e</span>&nbsp;<span class="op" id="7672751">[</span><span class="num" id="7672752">3</span><span class="op" id="7672753">]</span><span class="builtintype" id="7672754">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672763">Ignore_f</span>&nbsp;<span class="builtintype" id="7672772">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672778">Ignore_g</span>&nbsp;<span class="builtintype" id="7672787">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672795">Ignore_h</span>&nbsp;<span class="op" id="7672804">[</span><span class="op" id="7672805">]</span><span class="builtintype" id="7672806">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672812">Ignore_i</span>&nbsp;<span class="op" id="7672821">*</span><span class="ident" id="7672822">RT1</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672827">Ignore_m</span>&nbsp;<span class="keyword" id="7672836">map</span><span class="op" id="7672839">[</span><span class="builtintype" id="7672840">string</span><span class="op" id="7672846">]</span><span class="builtintype" id="7672847">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672852">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7672861">float64</span><br>
<span class="lineno"></span><span class="op" id="7672869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7672872">func</span>&nbsp;<span class="ident" id="7672877">TestIgnoredFields</span><span class="op" id="7672894">(</span><span class="ident" id="7672895">t</span>&nbsp;<span class="op" id="7672897">*</span><span class="ident" id="7672898">testing</span><span class="op" id="7672905">.</span><span class="ident" id="7672906">T</span><span class="op" id="7672907">)</span>&nbsp;<span class="op" id="7672909">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672912">var</span>&nbsp;<span class="ident" id="7672916">it0</span>&nbsp;<span class="ident" id="7672920">IT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672925">it0</span><span class="op" id="7672928">.</span><span class="ident" id="7672929">A</span>&nbsp;<span class="op" id="7672931">=</span>&nbsp;<span class="num" id="7672933">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672937">it0</span><span class="op" id="7672940">.</span><span class="ident" id="7672941">B</span>&nbsp;<span class="op" id="7672943">=</span>&nbsp;<span class="string" id="7672945">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672954">it0</span><span class="op" id="7672957">.</span><span class="ident" id="7672958">C</span>&nbsp;<span class="op" id="7672960">=</span>&nbsp;<span class="num" id="7672962">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672971">it0</span><span class="op" id="7672974">.</span><span class="ident" id="7672975">Ignore_d</span>&nbsp;<span class="op" id="7672984">=</span>&nbsp;<span class="op" id="7672986">[</span><span class="op" id="7672987">]</span><span class="builtintype" id="7672988">int</span><span class="op" id="7672991">{</span><span class="num" id="7672992">1</span><span class="op" id="7672993">,</span>&nbsp;<span class="num" id="7672995">2</span><span class="op" id="7672996">,</span>&nbsp;<span class="num" id="7672998">3</span><span class="op" id="7672999">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673002">it0</span><span class="op" id="7673005">.</span><span class="ident" id="7673006">Ignore_e</span><span class="op" id="7673014">[</span><span class="num" id="7673015">0</span><span class="op" id="7673016">]</span>&nbsp;<span class="op" id="7673018">=</span>&nbsp;<span class="num" id="7673020">1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673025">it0</span><span class="op" id="7673028">.</span><span class="ident" id="7673029">Ignore_e</span><span class="op" id="7673037">[</span><span class="num" id="7673038">1</span><span class="op" id="7673039">]</span>&nbsp;<span class="op" id="7673041">=</span>&nbsp;<span class="num" id="7673043">2.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673048">it0</span><span class="op" id="7673051">.</span><span class="ident" id="7673052">Ignore_e</span><span class="op" id="7673060">[</span><span class="num" id="7673061">2</span><span class="op" id="7673062">]</span>&nbsp;<span class="op" id="7673064">=</span>&nbsp;<span class="num" id="7673066">3.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673071">it0</span><span class="op" id="7673074">.</span><span class="ident" id="7673075">Ignore_f</span>&nbsp;<span class="op" id="7673084">=</span>&nbsp;<span class="builtintype" id="7673086">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673092">it0</span><span class="op" id="7673095">.</span><span class="ident" id="7673096">Ignore_g</span>&nbsp;<span class="op" id="7673105">=</span>&nbsp;<span class="string" id="7673107">&#34;pay&nbsp;no&nbsp;attention&#34;</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673127">it0</span><span class="op" id="7673130">.</span><span class="ident" id="7673131">Ignore_h</span>&nbsp;<span class="op" id="7673140">=</span>&nbsp;<span class="op" id="7673142">[</span><span class="op" id="7673143">]</span><span class="builtintype" id="7673144">byte</span><span class="op" id="7673148">(</span><span class="string" id="7673149">&#34;to&nbsp;the&nbsp;curtain&#34;</span><span class="op" id="7673165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673168">it0</span><span class="op" id="7673171">.</span><span class="ident" id="7673172">Ignore_i</span>&nbsp;<span class="op" id="7673181">=</span>&nbsp;<span class="op" id="7673183">&amp;</span><span class="ident" id="7673184">RT1</span><span class="op" id="7673187">{</span><span class="num" id="7673188">3.1</span><span class="op" id="7673191">,</span>&nbsp;<span class="string" id="7673193">&#34;hi&#34;</span><span class="op" id="7673197">,</span>&nbsp;<span class="num" id="7673199">7</span><span class="op" id="7673200">,</span>&nbsp;<span class="string" id="7673202">&#34;hello&#34;</span><span class="op" id="7673209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673212">it0</span><span class="op" id="7673215">.</span><span class="ident" id="7673216">Ignore_m</span>&nbsp;<span class="op" id="7673225">=</span>&nbsp;<span class="keyword" id="7673227">map</span><span class="op" id="7673230">[</span><span class="builtintype" id="7673231">string</span><span class="op" id="7673237">]</span><span class="builtintype" id="7673238">int</span><span class="op" id="7673241">{</span><span class="string" id="7673242">&#34;one&#34;</span><span class="op" id="7673247">:</span>&nbsp;<span class="num" id="7673249">1</span><span class="op" id="7673250">,</span>&nbsp;<span class="string" id="7673252">&#34;two&#34;</span><span class="op" id="7673257">:</span>&nbsp;<span class="num" id="7673259">2</span><span class="op" id="7673260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673264">b</span>&nbsp;<span class="op" id="7673266">:=</span>&nbsp;<span class="builtinfunc" id="7673269">new</span><span class="op" id="7673272">(</span><span class="ident" id="7673273">bytes</span><span class="op" id="7673278">.</span><span class="ident" id="7673279">Buffer</span><span class="op" id="7673285">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673288">NewEncoder</span><span class="op" id="7673298">(</span><span class="ident" id="7673299">b</span><span class="op" id="7673300">)</span><span class="op" id="7673301">.</span><span class="ident" id="7673302">Encode</span><span class="op" id="7673308">(</span><span class="ident" id="7673309">it0</span><span class="op" id="7673312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673315">dec</span>&nbsp;<span class="op" id="7673319">:=</span>&nbsp;<span class="ident" id="7673322">NewDecoder</span><span class="op" id="7673332">(</span><span class="ident" id="7673333">b</span><span class="op" id="7673334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673337">var</span>&nbsp;<span class="ident" id="7673341">rt1</span>&nbsp;<span class="ident" id="7673345">RT1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7673350">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;IT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673391">err</span>&nbsp;<span class="op" id="7673395">:=</span>&nbsp;<span class="ident" id="7673398">dec</span><span class="op" id="7673401">.</span><span class="ident" id="7673402">Decode</span><span class="op" id="7673408">(</span><span class="op" id="7673409">&amp;</span><span class="ident" id="7673410">rt1</span><span class="op" id="7673413">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673416">if</span>&nbsp;<span class="ident" id="7673419">err</span>&nbsp;<span class="op" id="7673423">!=</span>&nbsp;<span class="ident" id="7673426">nil</span>&nbsp;<span class="op" id="7673430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673434">t</span><span class="op" id="7673435">.</span><span class="ident" id="7673436">Error</span><span class="op" id="7673441">(</span><span class="string" id="7673442">&#34;error:&nbsp;&#34;</span><span class="op" id="7673451">,</span>&nbsp;<span class="ident" id="7673453">err</span><span class="op" id="7673456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673462">if</span>&nbsp;<span class="builtintype" id="7673465">int</span><span class="op" id="7673468">(</span><span class="ident" id="7673469">it0</span><span class="op" id="7673472">.</span><span class="ident" id="7673473">A</span><span class="op" id="7673474">)</span>&nbsp;<span class="op" id="7673476">!=</span>&nbsp;<span class="ident" id="7673479">rt1</span><span class="op" id="7673482">.</span><span class="ident" id="7673483">A</span>&nbsp;<span class="op" id="7673485">||</span>&nbsp;<span class="ident" id="7673488">it0</span><span class="op" id="7673491">.</span><span class="ident" id="7673492">B</span>&nbsp;<span class="op" id="7673494">!=</span>&nbsp;<span class="ident" id="7673497">rt1</span><span class="op" id="7673500">.</span><span class="ident" id="7673501">B</span>&nbsp;<span class="op" id="7673503">||</span>&nbsp;<span class="ident" id="7673506">it0</span><span class="op" id="7673509">.</span><span class="ident" id="7673510">C</span>&nbsp;<span class="op" id="7673512">!=</span>&nbsp;<span class="ident" id="7673515">rt1</span><span class="op" id="7673518">.</span><span class="ident" id="7673519">C</span>&nbsp;<span class="op" id="7673521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673525">t</span><span class="op" id="7673526">.</span><span class="ident" id="7673527">Errorf</span><span class="op" id="7673533">(</span><span class="string" id="7673534">&#34;rt0-&gt;rt1:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7673565">,</span>&nbsp;<span class="ident" id="7673567">it0</span><span class="op" id="7673570">,</span>&nbsp;<span class="ident" id="7673572">rt1</span><span class="op" id="7673575">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673578">}</span><br>
<span class="lineno"></span><span class="op" id="7673580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7673583">func</span>&nbsp;<span class="ident" id="7673588">TestBadRecursiveType</span><span class="op" id="7673608">(</span><span class="ident" id="7673609">t</span>&nbsp;<span class="op" id="7673611">*</span><span class="ident" id="7673612">testing</span><span class="op" id="7673619">.</span><span class="ident" id="7673620">T</span><span class="op" id="7673621">)</span>&nbsp;<span class="op" id="7673623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673626">type</span>&nbsp;<span class="ident" id="7673631">Rec</span>&nbsp;<span class="op" id="7673635">*</span><span class="op" id="7673636">*</span><span class="op" id="7673637">*</span><span class="ident" id="7673638">Rec</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673643">var</span>&nbsp;<span class="ident" id="7673647">rec</span>&nbsp;<span class="ident" id="7673651">Rec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673656">b</span>&nbsp;<span class="op" id="7673658">:=</span>&nbsp;<span class="builtinfunc" id="7673661">new</span><span class="op" id="7673664">(</span><span class="ident" id="7673665">bytes</span><span class="op" id="7673670">.</span><span class="ident" id="7673671">Buffer</span><span class="op" id="7673677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673680">err</span>&nbsp;<span class="op" id="7673684">:=</span>&nbsp;<span class="ident" id="7673687">NewEncoder</span><span class="op" id="7673697">(</span><span class="ident" id="7673698">b</span><span class="op" id="7673699">)</span><span class="op" id="7673700">.</span><span class="ident" id="7673701">Encode</span><span class="op" id="7673707">(</span><span class="op" id="7673708">&amp;</span><span class="ident" id="7673709">rec</span><span class="op" id="7673712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673715">if</span>&nbsp;<span class="ident" id="7673718">err</span>&nbsp;<span class="op" id="7673722">==</span>&nbsp;<span class="ident" id="7673725">nil</span>&nbsp;<span class="op" id="7673729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673733">t</span><span class="op" id="7673734">.</span><span class="ident" id="7673735">Error</span><span class="op" id="7673740">(</span><span class="string" id="7673741">&#34;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7673767">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673770">}</span>&nbsp;<span class="keyword" id="7673772">else</span>&nbsp;<span class="keyword" id="7673777">if</span>&nbsp;<span class="ident" id="7673780">strings</span><span class="op" id="7673787">.</span><span class="ident" id="7673788">Index</span><span class="op" id="7673793">(</span><span class="ident" id="7673794">err</span><span class="op" id="7673797">.</span><span class="ident" id="7673798">Error</span><span class="op" id="7673803">(</span><span class="op" id="7673804">)</span><span class="op" id="7673805">,</span>&nbsp;<span class="string" id="7673807">&#34;recursive&#34;</span><span class="op" id="7673818">)</span>&nbsp;<span class="op" id="7673820">&lt;</span>&nbsp;<span class="num" id="7673822">0</span>&nbsp;<span class="op" id="7673824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673828">t</span><span class="op" id="7673829">.</span><span class="ident" id="7673830">Error</span><span class="op" id="7673835">(</span><span class="string" id="7673836">&#34;expected&nbsp;recursive&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7673872">,</span>&nbsp;<span class="ident" id="7673874">err</span><span class="op" id="7673877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7673880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7673883">//&nbsp;Can&#39;t&nbsp;test&nbsp;decode&nbsp;easily&nbsp;because&nbsp;we&nbsp;can&#39;t&nbsp;encode&nbsp;one,&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;pass&nbsp;one&nbsp;to&nbsp;a&nbsp;Decoder.</span><br>
<span class="lineno"></span><span class="op" id="7673975">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="7673978">type</span>&nbsp;<span class="ident" id="7673983">Indirect</span>&nbsp;<span class="keyword" id="7673992">struct</span>&nbsp;<span class="op" id="7673999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674002">A</span>&nbsp;<span class="op" id="7674004">*</span><span class="op" id="7674005">*</span><span class="op" id="7674006">*</span><span class="op" id="7674007">[</span><span class="num" id="7674008">3</span><span class="op" id="7674009">]</span><span class="builtintype" id="7674010">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674015">S</span>&nbsp;<span class="op" id="7674017">*</span><span class="op" id="7674018">*</span><span class="op" id="7674019">*</span><span class="op" id="7674020">[</span><span class="op" id="7674021">]</span><span class="builtintype" id="7674022">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674027">M</span>&nbsp;<span class="op" id="7674029">*</span><span class="op" id="7674030">*</span><span class="op" id="7674031">*</span><span class="op" id="7674032">*</span><span class="keyword" id="7674033">map</span><span class="op" id="7674036">[</span><span class="builtintype" id="7674037">string</span><span class="op" id="7674043">]</span><span class="builtintype" id="7674044">int</span><br>
<span class="lineno">985</span><span class="op" id="7674048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674051">type</span>&nbsp;<span class="ident" id="7674056">Direct</span>&nbsp;<span class="keyword" id="7674063">struct</span>&nbsp;<span class="op" id="7674070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674073">A</span>&nbsp;<span class="op" id="7674075">[</span><span class="num" id="7674076">3</span><span class="op" id="7674077">]</span><span class="builtintype" id="7674078">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674083">S</span>&nbsp;<span class="op" id="7674085">[</span><span class="op" id="7674086">]</span><span class="builtintype" id="7674087">int</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674092">M</span>&nbsp;<span class="keyword" id="7674094">map</span><span class="op" id="7674097">[</span><span class="builtintype" id="7674098">string</span><span class="op" id="7674104">]</span><span class="builtintype" id="7674105">int</span><br>
<span class="lineno"></span><span class="op" id="7674109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674112">func</span>&nbsp;<span class="ident" id="7674117">TestIndirectSliceMapArray</span><span class="op" id="7674142">(</span><span class="ident" id="7674143">t</span>&nbsp;<span class="op" id="7674145">*</span><span class="ident" id="7674146">testing</span><span class="op" id="7674153">.</span><span class="ident" id="7674154">T</span><span class="op" id="7674155">)</span>&nbsp;<span class="op" id="7674157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7674160">//&nbsp;Marshal&nbsp;indirect,&nbsp;unmarshal&nbsp;to&nbsp;direct.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674203">i</span>&nbsp;<span class="op" id="7674205">:=</span>&nbsp;<span class="builtinfunc" id="7674208">new</span><span class="op" id="7674211">(</span><span class="ident" id="7674212">Indirect</span><span class="op" id="7674220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674223">i</span><span class="op" id="7674224">.</span><span class="ident" id="7674225">A</span>&nbsp;<span class="op" id="7674227">=</span>&nbsp;<span class="builtinfunc" id="7674229">new</span><span class="op" id="7674232">(</span><span class="op" id="7674233">*</span><span class="op" id="7674234">*</span><span class="op" id="7674235">[</span><span class="num" id="7674236">3</span><span class="op" id="7674237">]</span><span class="builtintype" id="7674238">int</span><span class="op" id="7674241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674244">*</span><span class="ident" id="7674245">i</span><span class="op" id="7674246">.</span><span class="ident" id="7674247">A</span>&nbsp;<span class="op" id="7674249">=</span>&nbsp;<span class="builtinfunc" id="7674251">new</span><span class="op" id="7674254">(</span><span class="op" id="7674255">*</span><span class="op" id="7674256">[</span><span class="num" id="7674257">3</span><span class="op" id="7674258">]</span><span class="builtintype" id="7674259">int</span><span class="op" id="7674262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674265">*</span><span class="op" id="7674266">*</span><span class="ident" id="7674267">i</span><span class="op" id="7674268">.</span><span class="ident" id="7674269">A</span>&nbsp;<span class="op" id="7674271">=</span>&nbsp;<span class="builtinfunc" id="7674273">new</span><span class="op" id="7674276">(</span><span class="op" id="7674277">[</span><span class="num" id="7674278">3</span><span class="op" id="7674279">]</span><span class="builtintype" id="7674280">int</span><span class="op" id="7674283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674286">*</span><span class="op" id="7674287">*</span><span class="op" id="7674288">*</span><span class="ident" id="7674289">i</span><span class="op" id="7674290">.</span><span class="ident" id="7674291">A</span>&nbsp;<span class="op" id="7674293">=</span>&nbsp;<span class="op" id="7674295">[</span><span class="num" id="7674296">3</span><span class="op" id="7674297">]</span><span class="builtintype" id="7674298">int</span><span class="op" id="7674301">{</span><span class="num" id="7674302">1</span><span class="op" id="7674303">,</span>&nbsp;<span class="num" id="7674305">2</span><span class="op" id="7674306">,</span>&nbsp;<span class="num" id="7674308">3</span><span class="op" id="7674309">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674312">i</span><span class="op" id="7674313">.</span><span class="ident" id="7674314">S</span>&nbsp;<span class="op" id="7674316">=</span>&nbsp;<span class="builtinfunc" id="7674318">new</span><span class="op" id="7674321">(</span><span class="op" id="7674322">*</span><span class="op" id="7674323">*</span><span class="op" id="7674324">[</span><span class="op" id="7674325">]</span><span class="builtintype" id="7674326">int</span><span class="op" id="7674329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674332">*</span><span class="ident" id="7674333">i</span><span class="op" id="7674334">.</span><span class="ident" id="7674335">S</span>&nbsp;<span class="op" id="7674337">=</span>&nbsp;<span class="builtinfunc" id="7674339">new</span><span class="op" id="7674342">(</span><span class="op" id="7674343">*</span><span class="op" id="7674344">[</span><span class="op" id="7674345">]</span><span class="builtintype" id="7674346">int</span><span class="op" id="7674349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674352">*</span><span class="op" id="7674353">*</span><span class="ident" id="7674354">i</span><span class="op" id="7674355">.</span><span class="ident" id="7674356">S</span>&nbsp;<span class="op" id="7674358">=</span>&nbsp;<span class="builtinfunc" id="7674360">new</span><span class="op" id="7674363">(</span><span class="op" id="7674364">[</span><span class="op" id="7674365">]</span><span class="builtintype" id="7674366">int</span><span class="op" id="7674369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674372">*</span><span class="op" id="7674373">*</span><span class="op" id="7674374">*</span><span class="ident" id="7674375">i</span><span class="op" id="7674376">.</span><span class="ident" id="7674377">S</span>&nbsp;<span class="op" id="7674379">=</span>&nbsp;<span class="op" id="7674381">[</span><span class="op" id="7674382">]</span><span class="builtintype" id="7674383">int</span><span class="op" id="7674386">{</span><span class="num" id="7674387">4</span><span class="op" id="7674388">,</span>&nbsp;<span class="num" id="7674390">5</span><span class="op" id="7674391">,</span>&nbsp;<span class="num" id="7674393">6</span><span class="op" id="7674394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674397">i</span><span class="op" id="7674398">.</span><span class="ident" id="7674399">M</span>&nbsp;<span class="op" id="7674401">=</span>&nbsp;<span class="builtinfunc" id="7674403">new</span><span class="op" id="7674406">(</span><span class="op" id="7674407">*</span><span class="op" id="7674408">*</span><span class="op" id="7674409">*</span><span class="keyword" id="7674410">map</span><span class="op" id="7674413">[</span><span class="builtintype" id="7674414">string</span><span class="op" id="7674420">]</span><span class="builtintype" id="7674421">int</span><span class="op" id="7674424">)</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674427">*</span><span class="ident" id="7674428">i</span><span class="op" id="7674429">.</span><span class="ident" id="7674430">M</span>&nbsp;<span class="op" id="7674432">=</span>&nbsp;<span class="builtinfunc" id="7674434">new</span><span class="op" id="7674437">(</span><span class="op" id="7674438">*</span><span class="op" id="7674439">*</span><span class="keyword" id="7674440">map</span><span class="op" id="7674443">[</span><span class="builtintype" id="7674444">string</span><span class="op" id="7674450">]</span><span class="builtintype" id="7674451">int</span><span class="op" id="7674454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674457">*</span><span class="op" id="7674458">*</span><span class="ident" id="7674459">i</span><span class="op" id="7674460">.</span><span class="ident" id="7674461">M</span>&nbsp;<span class="op" id="7674463">=</span>&nbsp;<span class="builtinfunc" id="7674465">new</span><span class="op" id="7674468">(</span><span class="op" id="7674469">*</span><span class="keyword" id="7674470">map</span><span class="op" id="7674473">[</span><span class="builtintype" id="7674474">string</span><span class="op" id="7674480">]</span><span class="builtintype" id="7674481">int</span><span class="op" id="7674484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674487">*</span><span class="op" id="7674488">*</span><span class="op" id="7674489">*</span><span class="ident" id="7674490">i</span><span class="op" id="7674491">.</span><span class="ident" id="7674492">M</span>&nbsp;<span class="op" id="7674494">=</span>&nbsp;<span class="builtinfunc" id="7674496">new</span><span class="op" id="7674499">(</span><span class="keyword" id="7674500">map</span><span class="op" id="7674503">[</span><span class="builtintype" id="7674504">string</span><span class="op" id="7674510">]</span><span class="builtintype" id="7674511">int</span><span class="op" id="7674514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674517">*</span><span class="op" id="7674518">*</span><span class="op" id="7674519">*</span><span class="op" id="7674520">*</span><span class="ident" id="7674521">i</span><span class="op" id="7674522">.</span><span class="ident" id="7674523">M</span>&nbsp;<span class="op" id="7674525">=</span>&nbsp;<span class="keyword" id="7674527">map</span><span class="op" id="7674530">[</span><span class="builtintype" id="7674531">string</span><span class="op" id="7674537">]</span><span class="builtintype" id="7674538">int</span><span class="op" id="7674541">{</span><span class="string" id="7674542">&#34;one&#34;</span><span class="op" id="7674547">:</span>&nbsp;<span class="num" id="7674549">1</span><span class="op" id="7674550">,</span>&nbsp;<span class="string" id="7674552">&#34;two&#34;</span><span class="op" id="7674557">:</span>&nbsp;<span class="num" id="7674559">2</span><span class="op" id="7674560">,</span>&nbsp;<span class="string" id="7674562">&#34;three&#34;</span><span class="op" id="7674569">:</span>&nbsp;<span class="num" id="7674571">3</span><span class="op" id="7674572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674575">b</span>&nbsp;<span class="op" id="7674577">:=</span>&nbsp;<span class="builtinfunc" id="7674580">new</span><span class="op" id="7674583">(</span><span class="ident" id="7674584">bytes</span><span class="op" id="7674589">.</span><span class="ident" id="7674590">Buffer</span><span class="op" id="7674596">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674599">NewEncoder</span><span class="op" id="7674609">(</span><span class="ident" id="7674610">b</span><span class="op" id="7674611">)</span><span class="op" id="7674612">.</span><span class="ident" id="7674613">Encode</span><span class="op" id="7674619">(</span><span class="ident" id="7674620">i</span><span class="op" id="7674621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674624">dec</span>&nbsp;<span class="op" id="7674628">:=</span>&nbsp;<span class="ident" id="7674631">NewDecoder</span><span class="op" id="7674641">(</span><span class="ident" id="7674642">b</span><span class="op" id="7674643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674646">var</span>&nbsp;<span class="ident" id="7674650">d</span>&nbsp;<span class="ident" id="7674652">Direct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674660">err</span>&nbsp;<span class="op" id="7674664">:=</span>&nbsp;<span class="ident" id="7674667">dec</span><span class="op" id="7674670">.</span><span class="ident" id="7674671">Decode</span><span class="op" id="7674677">(</span><span class="op" id="7674678">&amp;</span><span class="ident" id="7674679">d</span><span class="op" id="7674680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674683">if</span>&nbsp;<span class="ident" id="7674686">err</span>&nbsp;<span class="op" id="7674690">!=</span>&nbsp;<span class="ident" id="7674693">nil</span>&nbsp;<span class="op" id="7674697">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674701">t</span><span class="op" id="7674702">.</span><span class="ident" id="7674703">Error</span><span class="op" id="7674708">(</span><span class="string" id="7674709">&#34;error:&nbsp;&#34;</span><span class="op" id="7674718">,</span>&nbsp;<span class="ident" id="7674720">err</span><span class="op" id="7674723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674729">if</span>&nbsp;<span class="builtinfunc" id="7674732">len</span><span class="op" id="7674735">(</span><span class="ident" id="7674736">d</span><span class="op" id="7674737">.</span><span class="ident" id="7674738">A</span><span class="op" id="7674739">)</span>&nbsp;<span class="op" id="7674741">!=</span>&nbsp;<span class="num" id="7674744">3</span>&nbsp;<span class="op" id="7674746">||</span>&nbsp;<span class="ident" id="7674749">d</span><span class="op" id="7674750">.</span><span class="ident" id="7674751">A</span><span class="op" id="7674752">[</span><span class="num" id="7674753">0</span><span class="op" id="7674754">]</span>&nbsp;<span class="op" id="7674756">!=</span>&nbsp;<span class="num" id="7674759">1</span>&nbsp;<span class="op" id="7674761">||</span>&nbsp;<span class="ident" id="7674764">d</span><span class="op" id="7674765">.</span><span class="ident" id="7674766">A</span><span class="op" id="7674767">[</span><span class="num" id="7674768">1</span><span class="op" id="7674769">]</span>&nbsp;<span class="op" id="7674771">!=</span>&nbsp;<span class="num" id="7674774">2</span>&nbsp;<span class="op" id="7674776">||</span>&nbsp;<span class="ident" id="7674779">d</span><span class="op" id="7674780">.</span><span class="ident" id="7674781">A</span><span class="op" id="7674782">[</span><span class="num" id="7674783">2</span><span class="op" id="7674784">]</span>&nbsp;<span class="op" id="7674786">!=</span>&nbsp;<span class="num" id="7674789">3</span>&nbsp;<span class="op" id="7674791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674795">t</span><span class="op" id="7674796">.</span><span class="ident" id="7674797">Errorf</span><span class="op" id="7674803">(</span><span class="string" id="7674804">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7674842">,</span>&nbsp;<span class="ident" id="7674844">d</span><span class="op" id="7674845">.</span><span class="ident" id="7674846">A</span><span class="op" id="7674847">,</span>&nbsp;<span class="op" id="7674849">*</span><span class="op" id="7674850">*</span><span class="op" id="7674851">*</span><span class="ident" id="7674852">i</span><span class="op" id="7674853">.</span><span class="ident" id="7674854">A</span><span class="op" id="7674855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674858">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674861">if</span>&nbsp;<span class="builtinfunc" id="7674864">len</span><span class="op" id="7674867">(</span><span class="ident" id="7674868">d</span><span class="op" id="7674869">.</span><span class="ident" id="7674870">S</span><span class="op" id="7674871">)</span>&nbsp;<span class="op" id="7674873">!=</span>&nbsp;<span class="num" id="7674876">3</span>&nbsp;<span class="op" id="7674878">||</span>&nbsp;<span class="ident" id="7674881">d</span><span class="op" id="7674882">.</span><span class="ident" id="7674883">S</span><span class="op" id="7674884">[</span><span class="num" id="7674885">0</span><span class="op" id="7674886">]</span>&nbsp;<span class="op" id="7674888">!=</span>&nbsp;<span class="num" id="7674891">4</span>&nbsp;<span class="op" id="7674893">||</span>&nbsp;<span class="ident" id="7674896">d</span><span class="op" id="7674897">.</span><span class="ident" id="7674898">S</span><span class="op" id="7674899">[</span><span class="num" id="7674900">1</span><span class="op" id="7674901">]</span>&nbsp;<span class="op" id="7674903">!=</span>&nbsp;<span class="num" id="7674906">5</span>&nbsp;<span class="op" id="7674908">||</span>&nbsp;<span class="ident" id="7674911">d</span><span class="op" id="7674912">.</span><span class="ident" id="7674913">S</span><span class="op" id="7674914">[</span><span class="num" id="7674915">2</span><span class="op" id="7674916">]</span>&nbsp;<span class="op" id="7674918">!=</span>&nbsp;<span class="num" id="7674921">6</span>&nbsp;<span class="op" id="7674923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674927">t</span><span class="op" id="7674928">.</span><span class="ident" id="7674929">Errorf</span><span class="op" id="7674935">(</span><span class="string" id="7674936">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7674974">,</span>&nbsp;<span class="ident" id="7674976">d</span><span class="op" id="7674977">.</span><span class="ident" id="7674978">S</span><span class="op" id="7674979">,</span>&nbsp;<span class="op" id="7674981">*</span><span class="op" id="7674982">*</span><span class="op" id="7674983">*</span><span class="ident" id="7674984">i</span><span class="op" id="7674985">.</span><span class="ident" id="7674986">S</span><span class="op" id="7674987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674993">if</span>&nbsp;<span class="builtinfunc" id="7674996">len</span><span class="op" id="7674999">(</span><span class="ident" id="7675000">d</span><span class="op" id="7675001">.</span><span class="ident" id="7675002">M</span><span class="op" id="7675003">)</span>&nbsp;<span class="op" id="7675005">!=</span>&nbsp;<span class="num" id="7675008">3</span>&nbsp;<span class="op" id="7675010">||</span>&nbsp;<span class="ident" id="7675013">d</span><span class="op" id="7675014">.</span><span class="ident" id="7675015">M</span><span class="op" id="7675016">[</span><span class="string" id="7675017">&#34;one&#34;</span><span class="op" id="7675022">]</span>&nbsp;<span class="op" id="7675024">!=</span>&nbsp;<span class="num" id="7675027">1</span>&nbsp;<span class="op" id="7675029">||</span>&nbsp;<span class="ident" id="7675032">d</span><span class="op" id="7675033">.</span><span class="ident" id="7675034">M</span><span class="op" id="7675035">[</span><span class="string" id="7675036">&#34;two&#34;</span><span class="op" id="7675041">]</span>&nbsp;<span class="op" id="7675043">!=</span>&nbsp;<span class="num" id="7675046">2</span>&nbsp;<span class="op" id="7675048">||</span>&nbsp;<span class="ident" id="7675051">d</span><span class="op" id="7675052">.</span><span class="ident" id="7675053">M</span><span class="op" id="7675054">[</span><span class="string" id="7675055">&#34;three&#34;</span><span class="op" id="7675062">]</span>&nbsp;<span class="op" id="7675064">!=</span>&nbsp;<span class="num" id="7675067">3</span>&nbsp;<span class="op" id="7675069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675073">t</span><span class="op" id="7675074">.</span><span class="ident" id="7675075">Errorf</span><span class="op" id="7675081">(</span><span class="string" id="7675082">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7675120">,</span>&nbsp;<span class="ident" id="7675122">d</span><span class="op" id="7675123">.</span><span class="ident" id="7675124">M</span><span class="op" id="7675125">,</span>&nbsp;<span class="op" id="7675127">*</span><span class="op" id="7675128">*</span><span class="op" id="7675129">*</span><span class="ident" id="7675130">i</span><span class="op" id="7675131">.</span><span class="ident" id="7675132">M</span><span class="op" id="7675133">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7675139">//&nbsp;Marshal&nbsp;direct,&nbsp;unmarshal&nbsp;to&nbsp;indirect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675182">d</span><span class="op" id="7675183">.</span><span class="ident" id="7675184">A</span>&nbsp;<span class="op" id="7675186">=</span>&nbsp;<span class="op" id="7675188">[</span><span class="num" id="7675189">3</span><span class="op" id="7675190">]</span><span class="builtintype" id="7675191">int</span><span class="op" id="7675194">{</span><span class="num" id="7675195">11</span><span class="op" id="7675197">,</span>&nbsp;<span class="num" id="7675199">22</span><span class="op" id="7675201">,</span>&nbsp;<span class="num" id="7675203">33</span><span class="op" id="7675205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675208">d</span><span class="op" id="7675209">.</span><span class="ident" id="7675210">S</span>&nbsp;<span class="op" id="7675212">=</span>&nbsp;<span class="op" id="7675214">[</span><span class="op" id="7675215">]</span><span class="builtintype" id="7675216">int</span><span class="op" id="7675219">{</span><span class="num" id="7675220">44</span><span class="op" id="7675222">,</span>&nbsp;<span class="num" id="7675224">55</span><span class="op" id="7675226">,</span>&nbsp;<span class="num" id="7675228">66</span><span class="op" id="7675230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675233">d</span><span class="op" id="7675234">.</span><span class="ident" id="7675235">M</span>&nbsp;<span class="op" id="7675237">=</span>&nbsp;<span class="keyword" id="7675239">map</span><span class="op" id="7675242">[</span><span class="builtintype" id="7675243">string</span><span class="op" id="7675249">]</span><span class="builtintype" id="7675250">int</span><span class="op" id="7675253">{</span><span class="string" id="7675254">&#34;four&#34;</span><span class="op" id="7675260">:</span>&nbsp;<span class="num" id="7675262">4</span><span class="op" id="7675263">,</span>&nbsp;<span class="string" id="7675265">&#34;five&#34;</span><span class="op" id="7675271">:</span>&nbsp;<span class="num" id="7675273">5</span><span class="op" id="7675274">,</span>&nbsp;<span class="string" id="7675276">&#34;six&#34;</span><span class="op" id="7675281">:</span>&nbsp;<span class="num" id="7675283">6</span><span class="op" id="7675284">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675287">i</span>&nbsp;<span class="op" id="7675289">=</span>&nbsp;<span class="builtinfunc" id="7675291">new</span><span class="op" id="7675294">(</span><span class="ident" id="7675295">Indirect</span><span class="op" id="7675303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675306">b</span><span class="op" id="7675307">.</span><span class="ident" id="7675308">Reset</span><span class="op" id="7675313">(</span><span class="op" id="7675314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675317">NewEncoder</span><span class="op" id="7675327">(</span><span class="ident" id="7675328">b</span><span class="op" id="7675329">)</span><span class="op" id="7675330">.</span><span class="ident" id="7675331">Encode</span><span class="op" id="7675337">(</span><span class="ident" id="7675338">d</span><span class="op" id="7675339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675342">dec</span>&nbsp;<span class="op" id="7675346">=</span>&nbsp;<span class="ident" id="7675348">NewDecoder</span><span class="op" id="7675358">(</span><span class="ident" id="7675359">b</span><span class="op" id="7675360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675363">err</span>&nbsp;<span class="op" id="7675367">=</span>&nbsp;<span class="ident" id="7675369">dec</span><span class="op" id="7675372">.</span><span class="ident" id="7675373">Decode</span><span class="op" id="7675379">(</span><span class="op" id="7675380">&amp;</span><span class="ident" id="7675381">i</span><span class="op" id="7675382">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675385">if</span>&nbsp;<span class="ident" id="7675388">err</span>&nbsp;<span class="op" id="7675392">!=</span>&nbsp;<span class="ident" id="7675395">nil</span>&nbsp;<span class="op" id="7675399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675403">t</span><span class="op" id="7675404">.</span><span class="ident" id="7675405">Fatal</span><span class="op" id="7675410">(</span><span class="string" id="7675411">&#34;error:&nbsp;&#34;</span><span class="op" id="7675420">,</span>&nbsp;<span class="ident" id="7675422">err</span><span class="op" id="7675425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675431">if</span>&nbsp;<span class="builtinfunc" id="7675434">len</span><span class="op" id="7675437">(</span><span class="op" id="7675438">*</span><span class="op" id="7675439">*</span><span class="op" id="7675440">*</span><span class="ident" id="7675441">i</span><span class="op" id="7675442">.</span><span class="ident" id="7675443">A</span><span class="op" id="7675444">)</span>&nbsp;<span class="op" id="7675446">!=</span>&nbsp;<span class="num" id="7675449">3</span>&nbsp;<span class="op" id="7675451">||</span>&nbsp;<span class="op" id="7675454">(</span><span class="op" id="7675455">*</span><span class="op" id="7675456">*</span><span class="op" id="7675457">*</span><span class="ident" id="7675458">i</span><span class="op" id="7675459">.</span><span class="ident" id="7675460">A</span><span class="op" id="7675461">)</span><span class="op" id="7675462">[</span><span class="num" id="7675463">0</span><span class="op" id="7675464">]</span>&nbsp;<span class="op" id="7675466">!=</span>&nbsp;<span class="num" id="7675469">11</span>&nbsp;<span class="op" id="7675472">||</span>&nbsp;<span class="op" id="7675475">(</span><span class="op" id="7675476">*</span><span class="op" id="7675477">*</span><span class="op" id="7675478">*</span><span class="ident" id="7675479">i</span><span class="op" id="7675480">.</span><span class="ident" id="7675481">A</span><span class="op" id="7675482">)</span><span class="op" id="7675483">[</span><span class="num" id="7675484">1</span><span class="op" id="7675485">]</span>&nbsp;<span class="op" id="7675487">!=</span>&nbsp;<span class="num" id="7675490">22</span>&nbsp;<span class="op" id="7675493">||</span>&nbsp;<span class="op" id="7675496">(</span><span class="op" id="7675497">*</span><span class="op" id="7675498">*</span><span class="op" id="7675499">*</span><span class="ident" id="7675500">i</span><span class="op" id="7675501">.</span><span class="ident" id="7675502">A</span><span class="op" id="7675503">)</span><span class="op" id="7675504">[</span><span class="num" id="7675505">2</span><span class="op" id="7675506">]</span>&nbsp;<span class="op" id="7675508">!=</span>&nbsp;<span class="num" id="7675511">33</span>&nbsp;<span class="op" id="7675514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675518">t</span><span class="op" id="7675519">.</span><span class="ident" id="7675520">Errorf</span><span class="op" id="7675526">(</span><span class="string" id="7675527">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7675568">,</span>&nbsp;<span class="op" id="7675570">*</span><span class="op" id="7675571">*</span><span class="op" id="7675572">*</span><span class="ident" id="7675573">i</span><span class="op" id="7675574">.</span><span class="ident" id="7675575">A</span><span class="op" id="7675576">,</span>&nbsp;<span class="ident" id="7675578">d</span><span class="op" id="7675579">.</span><span class="ident" id="7675580">A</span><span class="op" id="7675581">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675587">if</span>&nbsp;<span class="builtinfunc" id="7675590">len</span><span class="op" id="7675593">(</span><span class="op" id="7675594">*</span><span class="op" id="7675595">*</span><span class="op" id="7675596">*</span><span class="ident" id="7675597">i</span><span class="op" id="7675598">.</span><span class="ident" id="7675599">S</span><span class="op" id="7675600">)</span>&nbsp;<span class="op" id="7675602">!=</span>&nbsp;<span class="num" id="7675605">3</span>&nbsp;<span class="op" id="7675607">||</span>&nbsp;<span class="op" id="7675610">(</span><span class="op" id="7675611">*</span><span class="op" id="7675612">*</span><span class="op" id="7675613">*</span><span class="ident" id="7675614">i</span><span class="op" id="7675615">.</span><span class="ident" id="7675616">S</span><span class="op" id="7675617">)</span><span class="op" id="7675618">[</span><span class="num" id="7675619">0</span><span class="op" id="7675620">]</span>&nbsp;<span class="op" id="7675622">!=</span>&nbsp;<span class="num" id="7675625">44</span>&nbsp;<span class="op" id="7675628">||</span>&nbsp;<span class="op" id="7675631">(</span><span class="op" id="7675632">*</span><span class="op" id="7675633">*</span><span class="op" id="7675634">*</span><span class="ident" id="7675635">i</span><span class="op" id="7675636">.</span><span class="ident" id="7675637">S</span><span class="op" id="7675638">)</span><span class="op" id="7675639">[</span><span class="num" id="7675640">1</span><span class="op" id="7675641">]</span>&nbsp;<span class="op" id="7675643">!=</span>&nbsp;<span class="num" id="7675646">55</span>&nbsp;<span class="op" id="7675649">||</span>&nbsp;<span class="op" id="7675652">(</span><span class="op" id="7675653">*</span><span class="op" id="7675654">*</span><span class="op" id="7675655">*</span><span class="ident" id="7675656">i</span><span class="op" id="7675657">.</span><span class="ident" id="7675658">S</span><span class="op" id="7675659">)</span><span class="op" id="7675660">[</span><span class="num" id="7675661">2</span><span class="op" id="7675662">]</span>&nbsp;<span class="op" id="7675664">!=</span>&nbsp;<span class="num" id="7675667">66</span>&nbsp;<span class="op" id="7675670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675674">t</span><span class="op" id="7675675">.</span><span class="ident" id="7675676">Errorf</span><span class="op" id="7675682">(</span><span class="string" id="7675683">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7675724">,</span>&nbsp;<span class="op" id="7675726">*</span><span class="op" id="7675727">*</span><span class="op" id="7675728">*</span><span class="ident" id="7675729">i</span><span class="op" id="7675730">.</span><span class="ident" id="7675731">S</span><span class="op" id="7675732">,</span>&nbsp;<span class="op" id="7675734">*</span><span class="op" id="7675735">*</span><span class="op" id="7675736">*</span><span class="ident" id="7675737">i</span><span class="op" id="7675738">.</span><span class="ident" id="7675739">S</span><span class="op" id="7675740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675746">if</span>&nbsp;<span class="builtinfunc" id="7675749">len</span><span class="op" id="7675752">(</span><span class="op" id="7675753">*</span><span class="op" id="7675754">*</span><span class="op" id="7675755">*</span><span class="op" id="7675756">*</span><span class="ident" id="7675757">i</span><span class="op" id="7675758">.</span><span class="ident" id="7675759">M</span><span class="op" id="7675760">)</span>&nbsp;<span class="op" id="7675762">!=</span>&nbsp;<span class="num" id="7675765">3</span>&nbsp;<span class="op" id="7675767">||</span>&nbsp;<span class="op" id="7675770">(</span><span class="op" id="7675771">*</span><span class="op" id="7675772">*</span><span class="op" id="7675773">*</span><span class="op" id="7675774">*</span><span class="ident" id="7675775">i</span><span class="op" id="7675776">.</span><span class="ident" id="7675777">M</span><span class="op" id="7675778">)</span><span class="op" id="7675779">[</span><span class="string" id="7675780">&#34;four&#34;</span><span class="op" id="7675786">]</span>&nbsp;<span class="op" id="7675788">!=</span>&nbsp;<span class="num" id="7675791">4</span>&nbsp;<span class="op" id="7675793">||</span>&nbsp;<span class="op" id="7675796">(</span><span class="op" id="7675797">*</span><span class="op" id="7675798">*</span><span class="op" id="7675799">*</span><span class="op" id="7675800">*</span><span class="ident" id="7675801">i</span><span class="op" id="7675802">.</span><span class="ident" id="7675803">M</span><span class="op" id="7675804">)</span><span class="op" id="7675805">[</span><span class="string" id="7675806">&#34;five&#34;</span><span class="op" id="7675812">]</span>&nbsp;<span class="op" id="7675814">!=</span>&nbsp;<span class="num" id="7675817">5</span>&nbsp;<span class="op" id="7675819">||</span>&nbsp;<span class="op" id="7675822">(</span><span class="op" id="7675823">*</span><span class="op" id="7675824">*</span><span class="op" id="7675825">*</span><span class="op" id="7675826">*</span><span class="ident" id="7675827">i</span><span class="op" id="7675828">.</span><span class="ident" id="7675829">M</span><span class="op" id="7675830">)</span><span class="op" id="7675831">[</span><span class="string" id="7675832">&#34;six&#34;</span><span class="op" id="7675837">]</span>&nbsp;<span class="op" id="7675839">!=</span>&nbsp;<span class="num" id="7675842">6</span>&nbsp;<span class="op" id="7675844">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675848">t</span><span class="op" id="7675849">.</span><span class="ident" id="7675850">Errorf</span><span class="op" id="7675856">(</span><span class="string" id="7675857">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;****i.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7675899">,</span>&nbsp;<span class="op" id="7675901">*</span><span class="op" id="7675902">*</span><span class="op" id="7675903">*</span><span class="op" id="7675904">*</span><span class="ident" id="7675905">i</span><span class="op" id="7675906">.</span><span class="ident" id="7675907">M</span><span class="op" id="7675908">,</span>&nbsp;<span class="ident" id="7675910">d</span><span class="op" id="7675911">.</span><span class="ident" id="7675912">M</span><span class="op" id="7675913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675916">}</span><br>
<span class="lineno"></span><span class="op" id="7675918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7675921">//&nbsp;An&nbsp;interface&nbsp;with&nbsp;several&nbsp;implementations</span><br>
<span class="lineno">1050</span><span class="keyword" id="7675966">type</span>&nbsp;<span class="ident" id="7675971">Squarer</span>&nbsp;<span class="keyword" id="7675979">interface</span>&nbsp;<span class="op" id="7675989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675992">Square</span><span class="op" id="7675998">(</span><span class="op" id="7675999">)</span>&nbsp;<span class="builtintype" id="7676001">int</span><br>
<span class="lineno"></span><span class="op" id="7676005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676008">type</span>&nbsp;<span class="ident" id="7676013">Int</span>&nbsp;<span class="builtintype" id="7676017">int</span><br>
<span class="lineno">1055</span><br>
<span class="lineno"></span><span class="keyword" id="7676022">func</span>&nbsp;<span class="op" id="7676027">(</span><span class="ident" id="7676028">i</span>&nbsp;<span class="ident" id="7676030">Int</span><span class="op" id="7676033">)</span>&nbsp;<span class="ident" id="7676035">Square</span><span class="op" id="7676041">(</span><span class="op" id="7676042">)</span>&nbsp;<span class="builtintype" id="7676044">int</span>&nbsp;<span class="op" id="7676048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676051">return</span>&nbsp;<span class="builtintype" id="7676058">int</span><span class="op" id="7676061">(</span><span class="ident" id="7676062">i</span>&nbsp;<span class="op" id="7676064">*</span>&nbsp;<span class="ident" id="7676066">i</span><span class="op" id="7676067">)</span><br>
<span class="lineno"></span><span class="op" id="7676069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="7676072">type</span>&nbsp;<span class="ident" id="7676077">Float</span>&nbsp;<span class="builtintype" id="7676083">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676092">func</span>&nbsp;<span class="op" id="7676097">(</span><span class="ident" id="7676098">f</span>&nbsp;<span class="ident" id="7676100">Float</span><span class="op" id="7676105">)</span>&nbsp;<span class="ident" id="7676107">Square</span><span class="op" id="7676113">(</span><span class="op" id="7676114">)</span>&nbsp;<span class="builtintype" id="7676116">int</span>&nbsp;<span class="op" id="7676120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676123">return</span>&nbsp;<span class="builtintype" id="7676130">int</span><span class="op" id="7676133">(</span><span class="ident" id="7676134">f</span>&nbsp;<span class="op" id="7676136">*</span>&nbsp;<span class="ident" id="7676138">f</span><span class="op" id="7676139">)</span><br>
<span class="lineno"></span><span class="op" id="7676141">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="7676144">type</span>&nbsp;<span class="ident" id="7676149">Vector</span>&nbsp;<span class="op" id="7676156">[</span><span class="op" id="7676157">]</span><span class="builtintype" id="7676158">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676163">func</span>&nbsp;<span class="op" id="7676168">(</span><span class="ident" id="7676169">v</span>&nbsp;<span class="ident" id="7676171">Vector</span><span class="op" id="7676177">)</span>&nbsp;<span class="ident" id="7676179">Square</span><span class="op" id="7676185">(</span><span class="op" id="7676186">)</span>&nbsp;<span class="builtintype" id="7676188">int</span>&nbsp;<span class="op" id="7676192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676195">sum</span>&nbsp;<span class="op" id="7676199">:=</span>&nbsp;<span class="num" id="7676202">0</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676205">for</span>&nbsp;<span class="ident" id="7676209">_</span><span class="op" id="7676210">,</span>&nbsp;<span class="ident" id="7676212">x</span>&nbsp;<span class="op" id="7676214">:=</span>&nbsp;<span class="keyword" id="7676217">range</span>&nbsp;<span class="ident" id="7676223">v</span>&nbsp;<span class="op" id="7676225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676229">sum</span>&nbsp;<span class="op" id="7676233">+=</span>&nbsp;<span class="ident" id="7676236">x</span>&nbsp;<span class="op" id="7676238">*</span>&nbsp;<span class="ident" id="7676240">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676246">return</span>&nbsp;<span class="ident" id="7676253">sum</span><br>
<span class="lineno"></span><span class="op" id="7676257">}</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span><span class="keyword" id="7676260">type</span>&nbsp;<span class="ident" id="7676265">Point</span>&nbsp;<span class="keyword" id="7676271">struct</span>&nbsp;<span class="op" id="7676278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676281">X</span><span class="op" id="7676282">,</span>&nbsp;<span class="ident" id="7676284">Y</span>&nbsp;<span class="builtintype" id="7676286">int</span><br>
<span class="lineno"></span><span class="op" id="7676290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1080</span><span class="keyword" id="7676293">func</span>&nbsp;<span class="op" id="7676298">(</span><span class="ident" id="7676299">p</span>&nbsp;<span class="ident" id="7676301">Point</span><span class="op" id="7676306">)</span>&nbsp;<span class="ident" id="7676308">Square</span><span class="op" id="7676314">(</span><span class="op" id="7676315">)</span>&nbsp;<span class="builtintype" id="7676317">int</span>&nbsp;<span class="op" id="7676321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676324">return</span>&nbsp;<span class="ident" id="7676331">p</span><span class="op" id="7676332">.</span><span class="ident" id="7676333">X</span><span class="op" id="7676334">*</span><span class="ident" id="7676335">p</span><span class="op" id="7676336">.</span><span class="ident" id="7676337">X</span>&nbsp;<span class="op" id="7676339">+</span>&nbsp;<span class="ident" id="7676341">p</span><span class="op" id="7676342">.</span><span class="ident" id="7676343">Y</span><span class="op" id="7676344">*</span><span class="ident" id="7676345">p</span><span class="op" id="7676346">.</span><span class="ident" id="7676347">Y</span><br>
<span class="lineno"></span><span class="op" id="7676349">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7676352">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;interfaces&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1085</span><span class="keyword" id="7676387">type</span>&nbsp;<span class="ident" id="7676392">InterfaceItem</span>&nbsp;<span class="keyword" id="7676406">struct</span>&nbsp;<span class="op" id="7676413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676416">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7676430">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676435">Sq1</span><span class="op" id="7676438">,</span>&nbsp;<span class="ident" id="7676440">Sq2</span><span class="op" id="7676443">,</span>&nbsp;<span class="ident" id="7676445">Sq3</span>&nbsp;<span class="ident" id="7676449">Squarer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676458">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7676472">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676481">Sq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7676495">[</span><span class="op" id="7676496">]</span><span class="ident" id="7676497">Squarer</span><br>
<span class="lineno">1090</span><span class="op" id="7676505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7676508">//&nbsp;The&nbsp;same&nbsp;struct&nbsp;without&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="keyword" id="7676546">type</span>&nbsp;<span class="ident" id="7676551">NoInterfaceItem</span>&nbsp;<span class="keyword" id="7676567">struct</span>&nbsp;<span class="op" id="7676574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676577">I</span>&nbsp;<span class="builtintype" id="7676579">int</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676584">F</span>&nbsp;<span class="builtintype" id="7676586">float64</span><br>
<span class="lineno"></span><span class="op" id="7676594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676597">func</span>&nbsp;<span class="ident" id="7676602">TestInterface</span><span class="op" id="7676615">(</span><span class="ident" id="7676616">t</span>&nbsp;<span class="op" id="7676618">*</span><span class="ident" id="7676619">testing</span><span class="op" id="7676626">.</span><span class="ident" id="7676627">T</span><span class="op" id="7676628">)</span>&nbsp;<span class="op" id="7676630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676633">iVal</span>&nbsp;<span class="op" id="7676638">:=</span>&nbsp;<span class="ident" id="7676641">Int</span><span class="op" id="7676644">(</span><span class="num" id="7676645">3</span><span class="op" id="7676646">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676649">fVal</span>&nbsp;<span class="op" id="7676654">:=</span>&nbsp;<span class="ident" id="7676657">Float</span><span class="op" id="7676662">(</span><span class="num" id="7676663">5</span><span class="op" id="7676664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7676667">//&nbsp;Sending&nbsp;a&nbsp;Vector&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7676750">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676785">vVal</span>&nbsp;<span class="op" id="7676790">:=</span>&nbsp;<span class="ident" id="7676793">Vector</span><span class="op" id="7676799">{</span><span class="num" id="7676800">1</span><span class="op" id="7676801">,</span>&nbsp;<span class="num" id="7676803">2</span><span class="op" id="7676804">,</span>&nbsp;<span class="num" id="7676806">3</span><span class="op" id="7676807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676810">b</span>&nbsp;<span class="op" id="7676812">:=</span>&nbsp;<span class="builtinfunc" id="7676815">new</span><span class="op" id="7676818">(</span><span class="ident" id="7676819">bytes</span><span class="op" id="7676824">.</span><span class="ident" id="7676825">Buffer</span><span class="op" id="7676831">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676834">item1</span>&nbsp;<span class="op" id="7676840">:=</span>&nbsp;<span class="op" id="7676843">&amp;</span><span class="ident" id="7676844">InterfaceItem</span><span class="op" id="7676857">{</span><span class="num" id="7676858">1</span><span class="op" id="7676859">,</span>&nbsp;<span class="ident" id="7676861">iVal</span><span class="op" id="7676865">,</span>&nbsp;<span class="ident" id="7676867">fVal</span><span class="op" id="7676871">,</span>&nbsp;<span class="ident" id="7676873">vVal</span><span class="op" id="7676877">,</span>&nbsp;<span class="num" id="7676879">11.5</span><span class="op" id="7676883">,</span>&nbsp;<span class="op" id="7676885">[</span><span class="op" id="7676886">]</span><span class="ident" id="7676887">Squarer</span><span class="op" id="7676894">{</span><span class="ident" id="7676895">iVal</span><span class="op" id="7676899">,</span>&nbsp;<span class="ident" id="7676901">fVal</span><span class="op" id="7676905">,</span>&nbsp;<span class="ident" id="7676907">nil</span><span class="op" id="7676910">,</span>&nbsp;<span class="ident" id="7676912">vVal</span><span class="op" id="7676916">}</span><span class="op" id="7676917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7676920">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676944">Register</span><span class="op" id="7676952">(</span><span class="ident" id="7676953">Int</span><span class="op" id="7676956">(</span><span class="num" id="7676957">0</span><span class="op" id="7676958">)</span><span class="op" id="7676959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676962">Register</span><span class="op" id="7676970">(</span><span class="ident" id="7676971">Float</span><span class="op" id="7676976">(</span><span class="num" id="7676977">0</span><span class="op" id="7676978">)</span><span class="op" id="7676979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676982">Register</span><span class="op" id="7676990">(</span><span class="ident" id="7676991">Vector</span><span class="op" id="7676997">{</span><span class="op" id="7676998">}</span><span class="op" id="7676999">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677002">err</span>&nbsp;<span class="op" id="7677006">:=</span>&nbsp;<span class="ident" id="7677009">NewEncoder</span><span class="op" id="7677019">(</span><span class="ident" id="7677020">b</span><span class="op" id="7677021">)</span><span class="op" id="7677022">.</span><span class="ident" id="7677023">Encode</span><span class="op" id="7677029">(</span><span class="ident" id="7677030">item1</span><span class="op" id="7677035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677038">if</span>&nbsp;<span class="ident" id="7677041">err</span>&nbsp;<span class="op" id="7677045">!=</span>&nbsp;<span class="ident" id="7677048">nil</span>&nbsp;<span class="op" id="7677052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677056">t</span><span class="op" id="7677057">.</span><span class="ident" id="7677058">Error</span><span class="op" id="7677063">(</span><span class="string" id="7677064">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7677095">,</span>&nbsp;<span class="ident" id="7677097">err</span><span class="op" id="7677100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677107">item2</span>&nbsp;<span class="op" id="7677113">:=</span>&nbsp;<span class="ident" id="7677116">InterfaceItem</span><span class="op" id="7677129">{</span><span class="op" id="7677130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677133">err</span>&nbsp;<span class="op" id="7677137">=</span>&nbsp;<span class="ident" id="7677139">NewDecoder</span><span class="op" id="7677149">(</span><span class="ident" id="7677150">b</span><span class="op" id="7677151">)</span><span class="op" id="7677152">.</span><span class="ident" id="7677153">Decode</span><span class="op" id="7677159">(</span><span class="op" id="7677160">&amp;</span><span class="ident" id="7677161">item2</span><span class="op" id="7677166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677169">if</span>&nbsp;<span class="ident" id="7677172">err</span>&nbsp;<span class="op" id="7677176">!=</span>&nbsp;<span class="ident" id="7677179">nil</span>&nbsp;<span class="op" id="7677183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677187">t</span><span class="op" id="7677188">.</span><span class="ident" id="7677189">Fatal</span><span class="op" id="7677194">(</span><span class="string" id="7677195">&#34;decode:&#34;</span><span class="op" id="7677204">,</span>&nbsp;<span class="ident" id="7677206">err</span><span class="op" id="7677209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677212">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677215">if</span>&nbsp;<span class="ident" id="7677218">item2</span><span class="op" id="7677223">.</span><span class="ident" id="7677224">I</span>&nbsp;<span class="op" id="7677226">!=</span>&nbsp;<span class="ident" id="7677229">item1</span><span class="op" id="7677234">.</span><span class="ident" id="7677235">I</span>&nbsp;<span class="op" id="7677237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677241">t</span><span class="op" id="7677242">.</span><span class="ident" id="7677243">Error</span><span class="op" id="7677248">(</span><span class="string" id="7677249">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7677286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677292">if</span>&nbsp;<span class="ident" id="7677295">item2</span><span class="op" id="7677300">.</span><span class="ident" id="7677301">Sq1</span>&nbsp;<span class="op" id="7677305">==</span>&nbsp;<span class="ident" id="7677308">nil</span>&nbsp;<span class="op" id="7677312">||</span>&nbsp;<span class="ident" id="7677315">item2</span><span class="op" id="7677320">.</span><span class="ident" id="7677321">Sq1</span><span class="op" id="7677324">.</span><span class="ident" id="7677325">Square</span><span class="op" id="7677331">(</span><span class="op" id="7677332">)</span>&nbsp;<span class="op" id="7677334">!=</span>&nbsp;<span class="ident" id="7677337">iVal</span><span class="op" id="7677341">.</span><span class="ident" id="7677342">Square</span><span class="op" id="7677348">(</span><span class="op" id="7677349">)</span>&nbsp;<span class="op" id="7677351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677355">t</span><span class="op" id="7677356">.</span><span class="ident" id="7677357">Error</span><span class="op" id="7677362">(</span><span class="string" id="7677363">&#34;Int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7677393">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677399">if</span>&nbsp;<span class="ident" id="7677402">item2</span><span class="op" id="7677407">.</span><span class="ident" id="7677408">Sq2</span>&nbsp;<span class="op" id="7677412">==</span>&nbsp;<span class="ident" id="7677415">nil</span>&nbsp;<span class="op" id="7677419">||</span>&nbsp;<span class="ident" id="7677422">item2</span><span class="op" id="7677427">.</span><span class="ident" id="7677428">Sq2</span><span class="op" id="7677431">.</span><span class="ident" id="7677432">Square</span><span class="op" id="7677438">(</span><span class="op" id="7677439">)</span>&nbsp;<span class="op" id="7677441">!=</span>&nbsp;<span class="ident" id="7677444">fVal</span><span class="op" id="7677448">.</span><span class="ident" id="7677449">Square</span><span class="op" id="7677455">(</span><span class="op" id="7677456">)</span>&nbsp;<span class="op" id="7677458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677462">t</span><span class="op" id="7677463">.</span><span class="ident" id="7677464">Error</span><span class="op" id="7677469">(</span><span class="string" id="7677470">&#34;Float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7677502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677508">if</span>&nbsp;<span class="ident" id="7677511">item2</span><span class="op" id="7677516">.</span><span class="ident" id="7677517">Sq3</span>&nbsp;<span class="op" id="7677521">==</span>&nbsp;<span class="ident" id="7677524">nil</span>&nbsp;<span class="op" id="7677528">||</span>&nbsp;<span class="ident" id="7677531">item2</span><span class="op" id="7677536">.</span><span class="ident" id="7677537">Sq3</span><span class="op" id="7677540">.</span><span class="ident" id="7677541">Square</span><span class="op" id="7677547">(</span><span class="op" id="7677548">)</span>&nbsp;<span class="op" id="7677550">!=</span>&nbsp;<span class="ident" id="7677553">vVal</span><span class="op" id="7677557">.</span><span class="ident" id="7677558">Square</span><span class="op" id="7677564">(</span><span class="op" id="7677565">)</span>&nbsp;<span class="op" id="7677567">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677571">t</span><span class="op" id="7677572">.</span><span class="ident" id="7677573">Error</span><span class="op" id="7677578">(</span><span class="string" id="7677579">&#34;Vector&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7677612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677618">if</span>&nbsp;<span class="ident" id="7677621">item2</span><span class="op" id="7677626">.</span><span class="ident" id="7677627">F</span>&nbsp;<span class="op" id="7677629">!=</span>&nbsp;<span class="ident" id="7677632">item1</span><span class="op" id="7677637">.</span><span class="ident" id="7677638">F</span>&nbsp;<span class="op" id="7677640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677644">t</span><span class="op" id="7677645">.</span><span class="ident" id="7677646">Error</span><span class="op" id="7677651">(</span><span class="string" id="7677652">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7677691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677694">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7677697">//&nbsp;Now&nbsp;check&nbsp;that&nbsp;we&nbsp;received&nbsp;a&nbsp;slice&nbsp;of&nbsp;Squarers&nbsp;correctly,&nbsp;including&nbsp;a&nbsp;nil&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677783">if</span>&nbsp;<span class="builtinfunc" id="7677786">len</span><span class="op" id="7677789">(</span><span class="ident" id="7677790">item1</span><span class="op" id="7677795">.</span><span class="ident" id="7677796">Sq</span><span class="op" id="7677798">)</span>&nbsp;<span class="op" id="7677800">!=</span>&nbsp;<span class="builtinfunc" id="7677803">len</span><span class="op" id="7677806">(</span><span class="ident" id="7677807">item2</span><span class="op" id="7677812">.</span><span class="ident" id="7677813">Sq</span><span class="op" id="7677815">)</span>&nbsp;<span class="op" id="7677817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677821">t</span><span class="op" id="7677822">.</span><span class="ident" id="7677823">Fatalf</span><span class="op" id="7677829">(</span><span class="string" id="7677830">&#34;[]Squarer&nbsp;length&nbsp;wrong:&nbsp;got&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7677875">,</span>&nbsp;<span class="builtinfunc" id="7677877">len</span><span class="op" id="7677880">(</span><span class="ident" id="7677881">item2</span><span class="op" id="7677886">.</span><span class="ident" id="7677887">Sq</span><span class="op" id="7677889">)</span><span class="op" id="7677890">,</span>&nbsp;<span class="builtinfunc" id="7677892">len</span><span class="op" id="7677895">(</span><span class="ident" id="7677896">item1</span><span class="op" id="7677901">.</span><span class="ident" id="7677902">Sq</span><span class="op" id="7677904">)</span><span class="op" id="7677905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677911">for</span>&nbsp;<span class="ident" id="7677915">i</span><span class="op" id="7677916">,</span>&nbsp;<span class="ident" id="7677918">v1</span>&nbsp;<span class="op" id="7677921">:=</span>&nbsp;<span class="keyword" id="7677924">range</span>&nbsp;<span class="ident" id="7677930">item1</span><span class="op" id="7677935">.</span><span class="ident" id="7677936">Sq</span>&nbsp;<span class="op" id="7677939">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677943">v2</span>&nbsp;<span class="op" id="7677946">:=</span>&nbsp;<span class="ident" id="7677949">item2</span><span class="op" id="7677954">.</span><span class="ident" id="7677955">Sq</span><span class="op" id="7677957">[</span><span class="ident" id="7677958">i</span><span class="op" id="7677959">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677963">if</span>&nbsp;<span class="ident" id="7677966">v1</span>&nbsp;<span class="op" id="7677969">==</span>&nbsp;<span class="ident" id="7677972">nil</span>&nbsp;<span class="op" id="7677976">||</span>&nbsp;<span class="ident" id="7677979">v2</span>&nbsp;<span class="op" id="7677982">==</span>&nbsp;<span class="ident" id="7677985">nil</span>&nbsp;<span class="op" id="7677989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677994">if</span>&nbsp;<span class="ident" id="7677997">v1</span>&nbsp;<span class="op" id="7678000">!=</span>&nbsp;<span class="ident" id="7678003">nil</span>&nbsp;<span class="op" id="7678007">||</span>&nbsp;<span class="ident" id="7678010">v2</span>&nbsp;<span class="op" id="7678013">!=</span>&nbsp;<span class="ident" id="7678016">nil</span>&nbsp;<span class="op" id="7678020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678026">t</span><span class="op" id="7678027">.</span><span class="ident" id="7678028">Errorf</span><span class="op" id="7678034">(</span><span class="string" id="7678035">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;nils&#34;</span><span class="op" id="7678062">,</span>&nbsp;<span class="ident" id="7678064">i</span><span class="op" id="7678065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7678070">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7678074">}</span>&nbsp;<span class="keyword" id="7678076">else</span>&nbsp;<span class="keyword" id="7678081">if</span>&nbsp;<span class="ident" id="7678084">v1</span><span class="op" id="7678086">.</span><span class="ident" id="7678087">Square</span><span class="op" id="7678093">(</span><span class="op" id="7678094">)</span>&nbsp;<span class="op" id="7678096">!=</span>&nbsp;<span class="ident" id="7678099">v2</span><span class="op" id="7678101">.</span><span class="ident" id="7678102">Square</span><span class="op" id="7678108">(</span><span class="op" id="7678109">)</span>&nbsp;<span class="op" id="7678111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678116">t</span><span class="op" id="7678117">.</span><span class="ident" id="7678118">Errorf</span><span class="op" id="7678124">(</span><span class="string" id="7678125">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;values:&nbsp;%v&nbsp;%v&#34;</span><span class="op" id="7678161">,</span>&nbsp;<span class="ident" id="7678163">i</span><span class="op" id="7678164">,</span>&nbsp;<span class="ident" id="7678166">v1</span><span class="op" id="7678168">,</span>&nbsp;<span class="ident" id="7678170">v2</span><span class="op" id="7678172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7678176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7678179">}</span><br>
<span class="lineno"></span><span class="op" id="7678181">}</span><br>
<span class="lineno">1150</span><br>
<span class="lineno"></span><span class="comment" id="7678184">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;all&nbsp;basic&nbsp;types,&nbsp;stored&nbsp;in&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="keyword" id="7678240">type</span>&nbsp;<span class="ident" id="7678245">BasicInterfaceItem</span>&nbsp;<span class="keyword" id="7678264">struct</span>&nbsp;<span class="op" id="7678271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678274">Int</span><span class="op" id="7678277">,</span>&nbsp;<span class="ident" id="7678279">Int8</span><span class="op" id="7678283">,</span>&nbsp;<span class="ident" id="7678285">Int16</span><span class="op" id="7678290">,</span>&nbsp;<span class="ident" id="7678292">Int32</span><span class="op" id="7678297">,</span>&nbsp;<span class="ident" id="7678299">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7678310">interface</span><span class="op" id="7678319">{</span><span class="op" id="7678320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678323">Uint</span><span class="op" id="7678327">,</span>&nbsp;<span class="ident" id="7678329">Uint8</span><span class="op" id="7678334">,</span>&nbsp;<span class="ident" id="7678336">Uint16</span><span class="op" id="7678342">,</span>&nbsp;<span class="ident" id="7678344">Uint32</span><span class="op" id="7678350">,</span>&nbsp;<span class="ident" id="7678352">Uint64</span>&nbsp;<span class="keyword" id="7678359">interface</span><span class="op" id="7678368">{</span><span class="op" id="7678369">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678372">Float32</span><span class="op" id="7678379">,</span>&nbsp;<span class="ident" id="7678381">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7678408">interface</span><span class="op" id="7678417">{</span><span class="op" id="7678418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678421">Complex64</span><span class="op" id="7678430">,</span>&nbsp;<span class="ident" id="7678432">Complex128</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7678457">interface</span><span class="op" id="7678466">{</span><span class="op" id="7678467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678470">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7678506">interface</span><span class="op" id="7678515">{</span><span class="op" id="7678516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678519">String</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7678555">interface</span><span class="op" id="7678564">{</span><span class="op" id="7678565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678568">Bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7678604">interface</span><span class="op" id="7678613">{</span><span class="op" id="7678614">}</span><br>
<span class="lineno">1160</span><span class="op" id="7678616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7678619">func</span>&nbsp;<span class="ident" id="7678624">TestInterfaceBasic</span><span class="op" id="7678642">(</span><span class="ident" id="7678643">t</span>&nbsp;<span class="op" id="7678645">*</span><span class="ident" id="7678646">testing</span><span class="op" id="7678653">.</span><span class="ident" id="7678654">T</span><span class="op" id="7678655">)</span>&nbsp;<span class="op" id="7678657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678660">b</span>&nbsp;<span class="op" id="7678662">:=</span>&nbsp;<span class="builtinfunc" id="7678665">new</span><span class="op" id="7678668">(</span><span class="ident" id="7678669">bytes</span><span class="op" id="7678674">.</span><span class="ident" id="7678675">Buffer</span><span class="op" id="7678681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678684">item1</span>&nbsp;<span class="op" id="7678690">:=</span>&nbsp;<span class="op" id="7678693">&amp;</span><span class="ident" id="7678694">BasicInterfaceItem</span><span class="op" id="7678712">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7678716">int</span><span class="op" id="7678719">(</span><span class="num" id="7678720">1</span><span class="op" id="7678721">)</span><span class="op" id="7678722">,</span>&nbsp;<span class="builtintype" id="7678724">int8</span><span class="op" id="7678728">(</span><span class="num" id="7678729">1</span><span class="op" id="7678730">)</span><span class="op" id="7678731">,</span>&nbsp;<span class="builtintype" id="7678733">int16</span><span class="op" id="7678738">(</span><span class="num" id="7678739">1</span><span class="op" id="7678740">)</span><span class="op" id="7678741">,</span>&nbsp;<span class="builtintype" id="7678743">int32</span><span class="op" id="7678748">(</span><span class="num" id="7678749">1</span><span class="op" id="7678750">)</span><span class="op" id="7678751">,</span>&nbsp;<span class="ident" id="7678753">int64</span><span class="op" id="7678758">(</span><span class="num" id="7678759">1</span><span class="op" id="7678760">)</span><span class="op" id="7678761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7678765">uint</span><span class="op" id="7678769">(</span><span class="num" id="7678770">1</span><span class="op" id="7678771">)</span><span class="op" id="7678772">,</span>&nbsp;<span class="builtintype" id="7678774">uint8</span><span class="op" id="7678779">(</span><span class="num" id="7678780">1</span><span class="op" id="7678781">)</span><span class="op" id="7678782">,</span>&nbsp;<span class="builtintype" id="7678784">uint16</span><span class="op" id="7678790">(</span><span class="num" id="7678791">1</span><span class="op" id="7678792">)</span><span class="op" id="7678793">,</span>&nbsp;<span class="builtintype" id="7678795">uint32</span><span class="op" id="7678801">(</span><span class="num" id="7678802">1</span><span class="op" id="7678803">)</span><span class="op" id="7678804">,</span>&nbsp;<span class="ident" id="7678806">uint64</span><span class="op" id="7678812">(</span><span class="num" id="7678813">1</span><span class="op" id="7678814">)</span><span class="op" id="7678815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7678819">float32</span><span class="op" id="7678826">(</span><span class="num" id="7678827">1</span><span class="op" id="7678828">)</span><span class="op" id="7678829">,</span>&nbsp;<span class="num" id="7678831">1.0</span><span class="op" id="7678834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7678838">complex64</span><span class="op" id="7678847">(</span><span class="num" id="7678848">1i</span><span class="op" id="7678850">)</span><span class="op" id="7678851">,</span>&nbsp;<span class="builtintype" id="7678853">complex128</span><span class="op" id="7678863">(</span><span class="num" id="7678864">1i</span><span class="op" id="7678866">)</span><span class="op" id="7678867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7678871">true</span><span class="op" id="7678875">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7678879">&#34;hello&#34;</span><span class="op" id="7678886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7678890">[</span><span class="op" id="7678891">]</span><span class="builtintype" id="7678892">byte</span><span class="op" id="7678896">(</span><span class="string" id="7678897">&#34;sailor&#34;</span><span class="op" id="7678905">)</span><span class="op" id="7678906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7678909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678912">err</span>&nbsp;<span class="op" id="7678916">:=</span>&nbsp;<span class="ident" id="7678919">NewEncoder</span><span class="op" id="7678929">(</span><span class="ident" id="7678930">b</span><span class="op" id="7678931">)</span><span class="op" id="7678932">.</span><span class="ident" id="7678933">Encode</span><span class="op" id="7678939">(</span><span class="ident" id="7678940">item1</span><span class="op" id="7678945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7678948">if</span>&nbsp;<span class="ident" id="7678951">err</span>&nbsp;<span class="op" id="7678955">!=</span>&nbsp;<span class="ident" id="7678958">nil</span>&nbsp;<span class="op" id="7678962">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678966">t</span><span class="op" id="7678967">.</span><span class="ident" id="7678968">Error</span><span class="op" id="7678973">(</span><span class="string" id="7678974">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7679005">,</span>&nbsp;<span class="ident" id="7679007">err</span><span class="op" id="7679010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679017">item2</span>&nbsp;<span class="op" id="7679023">:=</span>&nbsp;<span class="op" id="7679026">&amp;</span><span class="ident" id="7679027">BasicInterfaceItem</span><span class="op" id="7679045">{</span><span class="op" id="7679046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679049">err</span>&nbsp;<span class="op" id="7679053">=</span>&nbsp;<span class="ident" id="7679055">NewDecoder</span><span class="op" id="7679065">(</span><span class="ident" id="7679066">b</span><span class="op" id="7679067">)</span><span class="op" id="7679068">.</span><span class="ident" id="7679069">Decode</span><span class="op" id="7679075">(</span><span class="op" id="7679076">&amp;</span><span class="ident" id="7679077">item2</span><span class="op" id="7679082">)</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7679085">if</span>&nbsp;<span class="ident" id="7679088">err</span>&nbsp;<span class="op" id="7679092">!=</span>&nbsp;<span class="ident" id="7679095">nil</span>&nbsp;<span class="op" id="7679099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679103">t</span><span class="op" id="7679104">.</span><span class="ident" id="7679105">Fatal</span><span class="op" id="7679110">(</span><span class="string" id="7679111">&#34;decode:&#34;</span><span class="op" id="7679120">,</span>&nbsp;<span class="ident" id="7679122">err</span><span class="op" id="7679125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7679131">if</span>&nbsp;<span class="op" id="7679134">!</span><span class="ident" id="7679135">reflect</span><span class="op" id="7679142">.</span><span class="ident" id="7679143">DeepEqual</span><span class="op" id="7679152">(</span><span class="ident" id="7679153">item1</span><span class="op" id="7679158">,</span>&nbsp;<span class="ident" id="7679160">item2</span><span class="op" id="7679165">)</span>&nbsp;<span class="op" id="7679167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679171">t</span><span class="op" id="7679172">.</span><span class="ident" id="7679173">Errorf</span><span class="op" id="7679179">(</span><span class="string" id="7679180">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7679207">,</span>&nbsp;<span class="ident" id="7679209">item1</span><span class="op" id="7679214">,</span>&nbsp;<span class="ident" id="7679216">item2</span><span class="op" id="7679221">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7679227">//&nbsp;Hand&nbsp;check&nbsp;a&nbsp;couple&nbsp;for&nbsp;correct&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7679270">if</span>&nbsp;<span class="ident" id="7679273">v</span><span class="op" id="7679274">,</span>&nbsp;<span class="ident" id="7679276">ok</span>&nbsp;<span class="op" id="7679279">:=</span>&nbsp;<span class="ident" id="7679282">item2</span><span class="op" id="7679287">.</span><span class="ident" id="7679288">Bool</span><span class="op" id="7679292">.</span><span class="op" id="7679293">(</span><span class="builtintype" id="7679294">bool</span><span class="op" id="7679298">)</span><span class="op" id="7679299">;</span>&nbsp;<span class="op" id="7679301">!</span><span class="ident" id="7679302">ok</span>&nbsp;<span class="op" id="7679305">||</span>&nbsp;<span class="op" id="7679308">!</span><span class="ident" id="7679309">v</span>&nbsp;<span class="op" id="7679311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679315">t</span><span class="op" id="7679316">.</span><span class="ident" id="7679317">Error</span><span class="op" id="7679322">(</span><span class="string" id="7679323">&#34;boolean&nbsp;should&nbsp;be&nbsp;true&#34;</span><span class="op" id="7679347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679350">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7679353">if</span>&nbsp;<span class="ident" id="7679356">v</span><span class="op" id="7679357">,</span>&nbsp;<span class="ident" id="7679359">ok</span>&nbsp;<span class="op" id="7679362">:=</span>&nbsp;<span class="ident" id="7679365">item2</span><span class="op" id="7679370">.</span><span class="ident" id="7679371">String</span><span class="op" id="7679377">.</span><span class="op" id="7679378">(</span><span class="builtintype" id="7679379">string</span><span class="op" id="7679385">)</span><span class="op" id="7679386">;</span>&nbsp;<span class="op" id="7679388">!</span><span class="ident" id="7679389">ok</span>&nbsp;<span class="op" id="7679392">||</span>&nbsp;<span class="ident" id="7679395">v</span>&nbsp;<span class="op" id="7679397">!=</span>&nbsp;<span class="ident" id="7679400">item1</span><span class="op" id="7679405">.</span><span class="ident" id="7679406">String</span><span class="op" id="7679412">.</span><span class="op" id="7679413">(</span><span class="builtintype" id="7679414">string</span><span class="op" id="7679420">)</span>&nbsp;<span class="op" id="7679422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679426">t</span><span class="op" id="7679427">.</span><span class="ident" id="7679428">Errorf</span><span class="op" id="7679434">(</span><span class="string" id="7679435">&#34;string&nbsp;should&nbsp;be&nbsp;%v&nbsp;is&nbsp;%v&#34;</span><span class="op" id="7679462">,</span>&nbsp;<span class="ident" id="7679464">item1</span><span class="op" id="7679469">.</span><span class="ident" id="7679470">String</span><span class="op" id="7679476">,</span>&nbsp;<span class="ident" id="7679478">v</span><span class="op" id="7679479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679482">}</span><br>
<span class="lineno"></span><span class="op" id="7679484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span><span class="keyword" id="7679487">type</span>&nbsp;<span class="ident" id="7679492">String</span>&nbsp;<span class="builtintype" id="7679499">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7679507">type</span>&nbsp;<span class="ident" id="7679512">PtrInterfaceItem</span>&nbsp;<span class="keyword" id="7679529">struct</span>&nbsp;<span class="op" id="7679536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679539">Str1</span>&nbsp;<span class="keyword" id="7679544">interface</span><span class="op" id="7679553">{</span><span class="op" id="7679554">}</span>&nbsp;<span class="comment" id="7679556">//&nbsp;basic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679566">Str2</span>&nbsp;<span class="keyword" id="7679571">interface</span><span class="op" id="7679580">{</span><span class="op" id="7679581">}</span>&nbsp;<span class="comment" id="7679583">//&nbsp;derived</span><br>
<span class="lineno">1200</span><span class="op" id="7679594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7679597">//&nbsp;We&#39;ll&nbsp;send&nbsp;pointers;&nbsp;should&nbsp;receive&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="7679644">//&nbsp;Also&nbsp;check&nbsp;that&nbsp;we&nbsp;can&nbsp;register&nbsp;T&nbsp;but&nbsp;send&nbsp;*T.</span><br>
<span class="lineno"></span><span class="keyword" id="7679694">func</span>&nbsp;<span class="ident" id="7679699">TestInterfacePointer</span><span class="op" id="7679719">(</span><span class="ident" id="7679720">t</span>&nbsp;<span class="op" id="7679722">*</span><span class="ident" id="7679723">testing</span><span class="op" id="7679730">.</span><span class="ident" id="7679731">T</span><span class="op" id="7679732">)</span>&nbsp;<span class="op" id="7679734">{</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679737">b</span>&nbsp;<span class="op" id="7679739">:=</span>&nbsp;<span class="builtinfunc" id="7679742">new</span><span class="op" id="7679745">(</span><span class="ident" id="7679746">bytes</span><span class="op" id="7679751">.</span><span class="ident" id="7679752">Buffer</span><span class="op" id="7679758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679761">str1</span>&nbsp;<span class="op" id="7679766">:=</span>&nbsp;<span class="string" id="7679769">&#34;howdy&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679778">str2</span>&nbsp;<span class="op" id="7679783">:=</span>&nbsp;<span class="ident" id="7679786">String</span><span class="op" id="7679792">(</span><span class="string" id="7679793">&#34;kiddo&#34;</span><span class="op" id="7679800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679803">item1</span>&nbsp;<span class="op" id="7679809">:=</span>&nbsp;<span class="op" id="7679812">&amp;</span><span class="ident" id="7679813">PtrInterfaceItem</span><span class="op" id="7679829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679833">&amp;</span><span class="ident" id="7679834">str1</span><span class="op" id="7679838">,</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679842">&amp;</span><span class="ident" id="7679843">str2</span><span class="op" id="7679847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7679853">//&nbsp;Register&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679876">Register</span><span class="op" id="7679884">(</span><span class="ident" id="7679885">str2</span><span class="op" id="7679889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679892">err</span>&nbsp;<span class="op" id="7679896">:=</span>&nbsp;<span class="ident" id="7679899">NewEncoder</span><span class="op" id="7679909">(</span><span class="ident" id="7679910">b</span><span class="op" id="7679911">)</span><span class="op" id="7679912">.</span><span class="ident" id="7679913">Encode</span><span class="op" id="7679919">(</span><span class="ident" id="7679920">item1</span><span class="op" id="7679925">)</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7679928">if</span>&nbsp;<span class="ident" id="7679931">err</span>&nbsp;<span class="op" id="7679935">!=</span>&nbsp;<span class="ident" id="7679938">nil</span>&nbsp;<span class="op" id="7679942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679946">t</span><span class="op" id="7679947">.</span><span class="ident" id="7679948">Error</span><span class="op" id="7679953">(</span><span class="string" id="7679954">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7679985">,</span>&nbsp;<span class="ident" id="7679987">err</span><span class="op" id="7679990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7679993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7679997">item2</span>&nbsp;<span class="op" id="7680003">:=</span>&nbsp;<span class="op" id="7680006">&amp;</span><span class="ident" id="7680007">PtrInterfaceItem</span><span class="op" id="7680023">{</span><span class="op" id="7680024">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680027">err</span>&nbsp;<span class="op" id="7680031">=</span>&nbsp;<span class="ident" id="7680033">NewDecoder</span><span class="op" id="7680043">(</span><span class="ident" id="7680044">b</span><span class="op" id="7680045">)</span><span class="op" id="7680046">.</span><span class="ident" id="7680047">Decode</span><span class="op" id="7680053">(</span><span class="op" id="7680054">&amp;</span><span class="ident" id="7680055">item2</span><span class="op" id="7680060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680063">if</span>&nbsp;<span class="ident" id="7680066">err</span>&nbsp;<span class="op" id="7680070">!=</span>&nbsp;<span class="ident" id="7680073">nil</span>&nbsp;<span class="op" id="7680077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680081">t</span><span class="op" id="7680082">.</span><span class="ident" id="7680083">Fatal</span><span class="op" id="7680088">(</span><span class="string" id="7680089">&#34;decode:&#34;</span><span class="op" id="7680098">,</span>&nbsp;<span class="ident" id="7680100">err</span><span class="op" id="7680103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7680106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7680109">//&nbsp;Hand&nbsp;test&nbsp;for&nbsp;correct&nbsp;types&nbsp;and&nbsp;values.</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680153">if</span>&nbsp;<span class="ident" id="7680156">v</span><span class="op" id="7680157">,</span>&nbsp;<span class="ident" id="7680159">ok</span>&nbsp;<span class="op" id="7680162">:=</span>&nbsp;<span class="ident" id="7680165">item2</span><span class="op" id="7680170">.</span><span class="ident" id="7680171">Str1</span><span class="op" id="7680175">.</span><span class="op" id="7680176">(</span><span class="builtintype" id="7680177">string</span><span class="op" id="7680183">)</span><span class="op" id="7680184">;</span>&nbsp;<span class="op" id="7680186">!</span><span class="ident" id="7680187">ok</span>&nbsp;<span class="op" id="7680190">||</span>&nbsp;<span class="ident" id="7680193">v</span>&nbsp;<span class="op" id="7680195">!=</span>&nbsp;<span class="ident" id="7680198">str1</span>&nbsp;<span class="op" id="7680203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680207">t</span><span class="op" id="7680208">.</span><span class="ident" id="7680209">Errorf</span><span class="op" id="7680215">(</span><span class="string" id="7680216">&#34;basic&nbsp;string&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="7680254">,</span>&nbsp;<span class="ident" id="7680256">v</span><span class="op" id="7680257">,</span>&nbsp;<span class="ident" id="7680259">str1</span><span class="op" id="7680263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7680266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680269">if</span>&nbsp;<span class="ident" id="7680272">v</span><span class="op" id="7680273">,</span>&nbsp;<span class="ident" id="7680275">ok</span>&nbsp;<span class="op" id="7680278">:=</span>&nbsp;<span class="ident" id="7680281">item2</span><span class="op" id="7680286">.</span><span class="ident" id="7680287">Str2</span><span class="op" id="7680291">.</span><span class="op" id="7680292">(</span><span class="ident" id="7680293">String</span><span class="op" id="7680299">)</span><span class="op" id="7680300">;</span>&nbsp;<span class="op" id="7680302">!</span><span class="ident" id="7680303">ok</span>&nbsp;<span class="op" id="7680306">||</span>&nbsp;<span class="ident" id="7680309">v</span>&nbsp;<span class="op" id="7680311">!=</span>&nbsp;<span class="ident" id="7680314">str2</span>&nbsp;<span class="op" id="7680319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680323">t</span><span class="op" id="7680324">.</span><span class="ident" id="7680325">Errorf</span><span class="op" id="7680331">(</span><span class="string" id="7680332">&#34;derived&nbsp;type&nbsp;String&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="7680377">,</span>&nbsp;<span class="ident" id="7680379">v</span><span class="op" id="7680380">,</span>&nbsp;<span class="ident" id="7680382">str2</span><span class="op" id="7680386">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7680389">}</span><br>
<span class="lineno"></span><span class="op" id="7680391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7680394">func</span>&nbsp;<span class="ident" id="7680399">TestIgnoreInterface</span><span class="op" id="7680418">(</span><span class="ident" id="7680419">t</span>&nbsp;<span class="op" id="7680421">*</span><span class="ident" id="7680422">testing</span><span class="op" id="7680429">.</span><span class="ident" id="7680430">T</span><span class="op" id="7680431">)</span>&nbsp;<span class="op" id="7680433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680436">iVal</span>&nbsp;<span class="op" id="7680441">:=</span>&nbsp;<span class="ident" id="7680444">Int</span><span class="op" id="7680447">(</span><span class="num" id="7680448">3</span><span class="op" id="7680449">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680452">fVal</span>&nbsp;<span class="op" id="7680457">:=</span>&nbsp;<span class="ident" id="7680460">Float</span><span class="op" id="7680465">(</span><span class="num" id="7680466">5</span><span class="op" id="7680467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7680470">//&nbsp;Sending&nbsp;a&nbsp;Point&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7680552">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680587">pVal</span>&nbsp;<span class="op" id="7680592">:=</span>&nbsp;<span class="ident" id="7680595">Point</span><span class="op" id="7680600">{</span><span class="num" id="7680601">2</span><span class="op" id="7680602">,</span>&nbsp;<span class="num" id="7680604">3</span><span class="op" id="7680605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680608">b</span>&nbsp;<span class="op" id="7680610">:=</span>&nbsp;<span class="builtinfunc" id="7680613">new</span><span class="op" id="7680616">(</span><span class="ident" id="7680617">bytes</span><span class="op" id="7680622">.</span><span class="ident" id="7680623">Buffer</span><span class="op" id="7680629">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680632">item1</span>&nbsp;<span class="op" id="7680638">:=</span>&nbsp;<span class="op" id="7680641">&amp;</span><span class="ident" id="7680642">InterfaceItem</span><span class="op" id="7680655">{</span><span class="num" id="7680656">1</span><span class="op" id="7680657">,</span>&nbsp;<span class="ident" id="7680659">iVal</span><span class="op" id="7680663">,</span>&nbsp;<span class="ident" id="7680665">fVal</span><span class="op" id="7680669">,</span>&nbsp;<span class="ident" id="7680671">pVal</span><span class="op" id="7680675">,</span>&nbsp;<span class="num" id="7680677">11.5</span><span class="op" id="7680681">,</span>&nbsp;<span class="ident" id="7680683">nil</span><span class="op" id="7680686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7680689">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680713">Register</span><span class="op" id="7680721">(</span><span class="ident" id="7680722">Int</span><span class="op" id="7680725">(</span><span class="num" id="7680726">0</span><span class="op" id="7680727">)</span><span class="op" id="7680728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680731">Register</span><span class="op" id="7680739">(</span><span class="ident" id="7680740">Float</span><span class="op" id="7680745">(</span><span class="num" id="7680746">0</span><span class="op" id="7680747">)</span><span class="op" id="7680748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680751">Register</span><span class="op" id="7680759">(</span><span class="ident" id="7680760">Point</span><span class="op" id="7680765">{</span><span class="op" id="7680766">}</span><span class="op" id="7680767">)</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680770">err</span>&nbsp;<span class="op" id="7680774">:=</span>&nbsp;<span class="ident" id="7680777">NewEncoder</span><span class="op" id="7680787">(</span><span class="ident" id="7680788">b</span><span class="op" id="7680789">)</span><span class="op" id="7680790">.</span><span class="ident" id="7680791">Encode</span><span class="op" id="7680797">(</span><span class="ident" id="7680798">item1</span><span class="op" id="7680803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680806">if</span>&nbsp;<span class="ident" id="7680809">err</span>&nbsp;<span class="op" id="7680813">!=</span>&nbsp;<span class="ident" id="7680816">nil</span>&nbsp;<span class="op" id="7680820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680824">t</span><span class="op" id="7680825">.</span><span class="ident" id="7680826">Error</span><span class="op" id="7680831">(</span><span class="string" id="7680832">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7680863">,</span>&nbsp;<span class="ident" id="7680865">err</span><span class="op" id="7680868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7680871">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680875">item2</span>&nbsp;<span class="op" id="7680881">:=</span>&nbsp;<span class="ident" id="7680884">NoInterfaceItem</span><span class="op" id="7680899">{</span><span class="op" id="7680900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680903">err</span>&nbsp;<span class="op" id="7680907">=</span>&nbsp;<span class="ident" id="7680909">NewDecoder</span><span class="op" id="7680919">(</span><span class="ident" id="7680920">b</span><span class="op" id="7680921">)</span><span class="op" id="7680922">.</span><span class="ident" id="7680923">Decode</span><span class="op" id="7680929">(</span><span class="op" id="7680930">&amp;</span><span class="ident" id="7680931">item2</span><span class="op" id="7680936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680939">if</span>&nbsp;<span class="ident" id="7680942">err</span>&nbsp;<span class="op" id="7680946">!=</span>&nbsp;<span class="ident" id="7680949">nil</span>&nbsp;<span class="op" id="7680953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7680957">t</span><span class="op" id="7680958">.</span><span class="ident" id="7680959">Fatal</span><span class="op" id="7680964">(</span><span class="string" id="7680965">&#34;decode:&#34;</span><span class="op" id="7680974">,</span>&nbsp;<span class="ident" id="7680976">err</span><span class="op" id="7680979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7680982">}</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7680985">if</span>&nbsp;<span class="ident" id="7680988">item2</span><span class="op" id="7680993">.</span><span class="ident" id="7680994">I</span>&nbsp;<span class="op" id="7680996">!=</span>&nbsp;<span class="ident" id="7680999">item1</span><span class="op" id="7681004">.</span><span class="ident" id="7681005">I</span>&nbsp;<span class="op" id="7681007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681011">t</span><span class="op" id="7681012">.</span><span class="ident" id="7681013">Error</span><span class="op" id="7681018">(</span><span class="string" id="7681019">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7681056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681062">if</span>&nbsp;<span class="ident" id="7681065">item2</span><span class="op" id="7681070">.</span><span class="ident" id="7681071">F</span>&nbsp;<span class="op" id="7681073">!=</span>&nbsp;<span class="ident" id="7681076">item2</span><span class="op" id="7681081">.</span><span class="ident" id="7681082">F</span>&nbsp;<span class="op" id="7681084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681088">t</span><span class="op" id="7681089">.</span><span class="ident" id="7681090">Error</span><span class="op" id="7681095">(</span><span class="string" id="7681096">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7681135">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681138">}</span><br>
<span class="lineno"></span><span class="op" id="7681140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7681143">type</span>&nbsp;<span class="ident" id="7681148">U</span>&nbsp;<span class="keyword" id="7681150">struct</span>&nbsp;<span class="op" id="7681157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681160">A</span>&nbsp;<span class="builtintype" id="7681162">int</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681167">B</span>&nbsp;<span class="builtintype" id="7681169">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681177">c</span>&nbsp;<span class="builtintype" id="7681179">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681188">D</span>&nbsp;<span class="builtintype" id="7681190">uint</span><br>
<span class="lineno"></span><span class="op" id="7681195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="keyword" id="7681198">func</span>&nbsp;<span class="ident" id="7681203">TestUnexportedFields</span><span class="op" id="7681223">(</span><span class="ident" id="7681224">t</span>&nbsp;<span class="op" id="7681226">*</span><span class="ident" id="7681227">testing</span><span class="op" id="7681234">.</span><span class="ident" id="7681235">T</span><span class="op" id="7681236">)</span>&nbsp;<span class="op" id="7681238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681241">var</span>&nbsp;<span class="ident" id="7681245">u0</span>&nbsp;<span class="ident" id="7681248">U</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681251">u0</span><span class="op" id="7681253">.</span><span class="ident" id="7681254">A</span>&nbsp;<span class="op" id="7681256">=</span>&nbsp;<span class="num" id="7681258">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681262">u0</span><span class="op" id="7681264">.</span><span class="ident" id="7681265">B</span>&nbsp;<span class="op" id="7681267">=</span>&nbsp;<span class="string" id="7681269">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681278">u0</span><span class="op" id="7681280">.</span><span class="ident" id="7681281">c</span>&nbsp;<span class="op" id="7681283">=</span>&nbsp;<span class="num" id="7681285">3.14159</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681294">u0</span><span class="op" id="7681296">.</span><span class="ident" id="7681297">D</span>&nbsp;<span class="op" id="7681299">=</span>&nbsp;<span class="num" id="7681301">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681305">b</span>&nbsp;<span class="op" id="7681307">:=</span>&nbsp;<span class="builtinfunc" id="7681310">new</span><span class="op" id="7681313">(</span><span class="ident" id="7681314">bytes</span><span class="op" id="7681319">.</span><span class="ident" id="7681320">Buffer</span><span class="op" id="7681326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681329">NewEncoder</span><span class="op" id="7681339">(</span><span class="ident" id="7681340">b</span><span class="op" id="7681341">)</span><span class="op" id="7681342">.</span><span class="ident" id="7681343">Encode</span><span class="op" id="7681349">(</span><span class="ident" id="7681350">u0</span><span class="op" id="7681352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681355">dec</span>&nbsp;<span class="op" id="7681359">:=</span>&nbsp;<span class="ident" id="7681362">NewDecoder</span><span class="op" id="7681372">(</span><span class="ident" id="7681373">b</span><span class="op" id="7681374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681377">var</span>&nbsp;<span class="ident" id="7681381">u1</span>&nbsp;<span class="ident" id="7681384">U</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681387">u1</span><span class="op" id="7681389">.</span><span class="ident" id="7681390">c</span>&nbsp;<span class="op" id="7681392">=</span>&nbsp;<span class="num" id="7681394">1234.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681401">err</span>&nbsp;<span class="op" id="7681405">:=</span>&nbsp;<span class="ident" id="7681408">dec</span><span class="op" id="7681411">.</span><span class="ident" id="7681412">Decode</span><span class="op" id="7681418">(</span><span class="op" id="7681419">&amp;</span><span class="ident" id="7681420">u1</span><span class="op" id="7681422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681425">if</span>&nbsp;<span class="ident" id="7681428">err</span>&nbsp;<span class="op" id="7681432">!=</span>&nbsp;<span class="ident" id="7681435">nil</span>&nbsp;<span class="op" id="7681439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681443">t</span><span class="op" id="7681444">.</span><span class="ident" id="7681445">Fatal</span><span class="op" id="7681450">(</span><span class="string" id="7681451">&#34;decode&nbsp;error:&#34;</span><span class="op" id="7681466">,</span>&nbsp;<span class="ident" id="7681468">err</span><span class="op" id="7681471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681474">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681477">if</span>&nbsp;<span class="ident" id="7681480">u0</span><span class="op" id="7681482">.</span><span class="ident" id="7681483">A</span>&nbsp;<span class="op" id="7681485">!=</span>&nbsp;<span class="ident" id="7681488">u0</span><span class="op" id="7681490">.</span><span class="ident" id="7681491">A</span>&nbsp;<span class="op" id="7681493">||</span>&nbsp;<span class="ident" id="7681496">u0</span><span class="op" id="7681498">.</span><span class="ident" id="7681499">B</span>&nbsp;<span class="op" id="7681501">!=</span>&nbsp;<span class="ident" id="7681504">u1</span><span class="op" id="7681506">.</span><span class="ident" id="7681507">B</span>&nbsp;<span class="op" id="7681509">||</span>&nbsp;<span class="ident" id="7681512">u0</span><span class="op" id="7681514">.</span><span class="ident" id="7681515">D</span>&nbsp;<span class="op" id="7681517">!=</span>&nbsp;<span class="ident" id="7681520">u1</span><span class="op" id="7681522">.</span><span class="ident" id="7681523">D</span>&nbsp;<span class="op" id="7681525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681529">t</span><span class="op" id="7681530">.</span><span class="ident" id="7681531">Errorf</span><span class="op" id="7681537">(</span><span class="string" id="7681538">&#34;u1-&gt;u0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7681567">,</span>&nbsp;<span class="ident" id="7681569">u0</span><span class="op" id="7681571">,</span>&nbsp;<span class="ident" id="7681573">u1</span><span class="op" id="7681575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681581">if</span>&nbsp;<span class="ident" id="7681584">u1</span><span class="op" id="7681586">.</span><span class="ident" id="7681587">c</span>&nbsp;<span class="op" id="7681589">!=</span>&nbsp;<span class="num" id="7681592">1234.</span>&nbsp;<span class="op" id="7681598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681602">t</span><span class="op" id="7681603">.</span><span class="ident" id="7681604">Error</span><span class="op" id="7681609">(</span><span class="string" id="7681610">&#34;u1.c&nbsp;modified&#34;</span><span class="op" id="7681625">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681628">}</span><br>
<span class="lineno"></span><span class="op" id="7681630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7681633">var</span>&nbsp;<span class="ident" id="7681637">singletons</span>&nbsp;<span class="op" id="7681648">=</span>&nbsp;<span class="op" id="7681650">[</span><span class="op" id="7681651">]</span><span class="keyword" id="7681652">interface</span><span class="op" id="7681661">{</span><span class="op" id="7681662">}</span><span class="op" id="7681663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7681666">true</span><span class="op" id="7681670">,</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7681673">7</span><span class="op" id="7681674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7681677">3.2</span><span class="op" id="7681680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7681683">&#34;hello&#34;</span><span class="op" id="7681690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681693">[</span><span class="num" id="7681694">3</span><span class="op" id="7681695">]</span><span class="builtintype" id="7681696">int</span><span class="op" id="7681699">{</span><span class="num" id="7681700">11</span><span class="op" id="7681702">,</span>&nbsp;<span class="num" id="7681704">22</span><span class="op" id="7681706">,</span>&nbsp;<span class="num" id="7681708">33</span><span class="op" id="7681710">}</span><span class="op" id="7681711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681714">[</span><span class="op" id="7681715">]</span><span class="builtintype" id="7681716">float32</span><span class="op" id="7681723">{</span><span class="num" id="7681724">0.5</span><span class="op" id="7681727">,</span>&nbsp;<span class="num" id="7681729">0.25</span><span class="op" id="7681733">,</span>&nbsp;<span class="num" id="7681735">0.125</span><span class="op" id="7681740">}</span><span class="op" id="7681741">,</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681744">map</span><span class="op" id="7681747">[</span><span class="builtintype" id="7681748">string</span><span class="op" id="7681754">]</span><span class="builtintype" id="7681755">int</span><span class="op" id="7681758">{</span><span class="string" id="7681759">&#34;one&#34;</span><span class="op" id="7681764">:</span>&nbsp;<span class="num" id="7681766">1</span><span class="op" id="7681767">,</span>&nbsp;<span class="string" id="7681769">&#34;two&#34;</span><span class="op" id="7681774">:</span>&nbsp;<span class="num" id="7681776">2</span><span class="op" id="7681777">}</span><span class="op" id="7681778">,</span><br>
<span class="lineno"></span><span class="op" id="7681780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7681783">func</span>&nbsp;<span class="ident" id="7681788">TestDebugSingleton</span><span class="op" id="7681806">(</span><span class="ident" id="7681807">t</span>&nbsp;<span class="op" id="7681809">*</span><span class="ident" id="7681810">testing</span><span class="op" id="7681817">.</span><span class="ident" id="7681818">T</span><span class="op" id="7681819">)</span>&nbsp;<span class="op" id="7681821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681824">if</span>&nbsp;<span class="ident" id="7681827">debugFunc</span>&nbsp;<span class="op" id="7681837">==</span>&nbsp;<span class="ident" id="7681840">nil</span>&nbsp;<span class="op" id="7681844">{</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681848">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7681856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681859">b</span>&nbsp;<span class="op" id="7681861">:=</span>&nbsp;<span class="builtinfunc" id="7681864">new</span><span class="op" id="7681867">(</span><span class="ident" id="7681868">bytes</span><span class="op" id="7681873">.</span><span class="ident" id="7681874">Buffer</span><span class="op" id="7681880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7681883">//&nbsp;Accumulate&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;and&nbsp;print&nbsp;them&nbsp;out&nbsp;all&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7681949">for</span>&nbsp;<span class="ident" id="7681953">_</span><span class="op" id="7681954">,</span>&nbsp;<span class="ident" id="7681956">x</span>&nbsp;<span class="op" id="7681958">:=</span>&nbsp;<span class="keyword" id="7681961">range</span>&nbsp;<span class="ident" id="7681967">singletons</span>&nbsp;<span class="op" id="7681978">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7681982">err</span>&nbsp;<span class="op" id="7681986">:=</span>&nbsp;<span class="ident" id="7681989">NewEncoder</span><span class="op" id="7681999">(</span><span class="ident" id="7682000">b</span><span class="op" id="7682001">)</span><span class="op" id="7682002">.</span><span class="ident" id="7682003">Encode</span><span class="op" id="7682009">(</span><span class="ident" id="7682010">x</span><span class="op" id="7682011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682015">if</span>&nbsp;<span class="ident" id="7682018">err</span>&nbsp;<span class="op" id="7682022">!=</span>&nbsp;<span class="ident" id="7682025">nil</span>&nbsp;<span class="op" id="7682029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682034">t</span><span class="op" id="7682035">.</span><span class="ident" id="7682036">Fatal</span><span class="op" id="7682041">(</span><span class="string" id="7682042">&#34;encode:&#34;</span><span class="op" id="7682051">,</span>&nbsp;<span class="ident" id="7682053">err</span><span class="op" id="7682056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682063">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682066">debugFunc</span><span class="op" id="7682075">(</span><span class="ident" id="7682076">b</span><span class="op" id="7682077">)</span><br>
<span class="lineno"></span><span class="op" id="7682079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7682082">//&nbsp;A&nbsp;type&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;gob&nbsp;until&nbsp;we&nbsp;send&nbsp;it&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="7682165">type</span>&nbsp;<span class="ident" id="7682170">OnTheFly</span>&nbsp;<span class="keyword" id="7682179">struct</span>&nbsp;<span class="op" id="7682186">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682189">A</span>&nbsp;<span class="builtintype" id="7682191">int</span><br>
<span class="lineno"></span><span class="op" id="7682195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7682198">type</span>&nbsp;<span class="ident" id="7682203">DT</span>&nbsp;<span class="keyword" id="7682206">struct</span>&nbsp;<span class="op" id="7682213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7682216">//&nbsp;&nbsp;&nbsp;&nbspX&nbsp;OnTheFly</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682231">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7682237">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682242">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7682248">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682256">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7682262">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682271">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7682277">interface</span><span class="op" id="7682286">{</span><span class="op" id="7682287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682290">J</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7682296">interface</span><span class="op" id="7682305">{</span><span class="op" id="7682306">}</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682309">I_nil</span>&nbsp;<span class="keyword" id="7682315">interface</span><span class="op" id="7682324">{</span><span class="op" id="7682325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682328">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7682334">map</span><span class="op" id="7682337">[</span><span class="builtintype" id="7682338">string</span><span class="op" id="7682344">]</span><span class="builtintype" id="7682345">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682350">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7682356">[</span><span class="num" id="7682357">3</span><span class="op" id="7682358">]</span><span class="builtintype" id="7682359">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682364">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7682370">[</span><span class="op" id="7682371">]</span><span class="builtintype" id="7682372">string</span><br>
<span class="lineno"></span><span class="op" id="7682379">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="keyword" id="7682382">func</span>&nbsp;<span class="ident" id="7682387">newDT</span><span class="op" id="7682392">(</span><span class="op" id="7682393">)</span>&nbsp;<span class="ident" id="7682395">DT</span>&nbsp;<span class="op" id="7682398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682401">var</span>&nbsp;<span class="ident" id="7682405">dt</span>&nbsp;<span class="ident" id="7682408">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682412">dt</span><span class="op" id="7682414">.</span><span class="ident" id="7682415">A</span>&nbsp;<span class="op" id="7682417">=</span>&nbsp;<span class="num" id="7682419">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682423">dt</span><span class="op" id="7682425">.</span><span class="ident" id="7682426">B</span>&nbsp;<span class="op" id="7682428">=</span>&nbsp;<span class="string" id="7682430">&#34;hello&#34;</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682439">dt</span><span class="op" id="7682441">.</span><span class="ident" id="7682442">C</span>&nbsp;<span class="op" id="7682444">=</span>&nbsp;<span class="num" id="7682446">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682455">dt</span><span class="op" id="7682457">.</span><span class="ident" id="7682458">I</span>&nbsp;<span class="op" id="7682460">=</span>&nbsp;<span class="num" id="7682462">271828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682470">dt</span><span class="op" id="7682472">.</span><span class="ident" id="7682473">J</span>&nbsp;<span class="op" id="7682475">=</span>&nbsp;<span class="ident" id="7682477">OnTheFly</span><span class="op" id="7682485">{</span><span class="num" id="7682486">3</span><span class="op" id="7682487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682490">dt</span><span class="op" id="7682492">.</span><span class="ident" id="7682493">I_nil</span>&nbsp;<span class="op" id="7682499">=</span>&nbsp;<span class="ident" id="7682501">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682506">dt</span><span class="op" id="7682508">.</span><span class="ident" id="7682509">M</span>&nbsp;<span class="op" id="7682511">=</span>&nbsp;<span class="keyword" id="7682513">map</span><span class="op" id="7682516">[</span><span class="builtintype" id="7682517">string</span><span class="op" id="7682523">]</span><span class="builtintype" id="7682524">int</span><span class="op" id="7682527">{</span><span class="string" id="7682528">&#34;one&#34;</span><span class="op" id="7682533">:</span>&nbsp;<span class="num" id="7682535">1</span><span class="op" id="7682536">,</span>&nbsp;<span class="string" id="7682538">&#34;two&#34;</span><span class="op" id="7682543">:</span>&nbsp;<span class="num" id="7682545">2</span><span class="op" id="7682546">}</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682549">dt</span><span class="op" id="7682551">.</span><span class="ident" id="7682552">T</span>&nbsp;<span class="op" id="7682554">=</span>&nbsp;<span class="op" id="7682556">[</span><span class="num" id="7682557">3</span><span class="op" id="7682558">]</span><span class="builtintype" id="7682559">int</span><span class="op" id="7682562">{</span><span class="num" id="7682563">11</span><span class="op" id="7682565">,</span>&nbsp;<span class="num" id="7682567">22</span><span class="op" id="7682569">,</span>&nbsp;<span class="num" id="7682571">33</span><span class="op" id="7682573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682576">dt</span><span class="op" id="7682578">.</span><span class="ident" id="7682579">S</span>&nbsp;<span class="op" id="7682581">=</span>&nbsp;<span class="op" id="7682583">[</span><span class="op" id="7682584">]</span><span class="builtintype" id="7682585">string</span><span class="op" id="7682591">{</span><span class="string" id="7682592">&#34;hi&#34;</span><span class="op" id="7682596">,</span>&nbsp;<span class="string" id="7682598">&#34;joe&#34;</span><span class="op" id="7682603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682606">return</span>&nbsp;<span class="ident" id="7682613">dt</span><br>
<span class="lineno"></span><span class="op" id="7682616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="keyword" id="7682619">func</span>&nbsp;<span class="ident" id="7682624">TestDebugStruct</span><span class="op" id="7682639">(</span><span class="ident" id="7682640">t</span>&nbsp;<span class="op" id="7682642">*</span><span class="ident" id="7682643">testing</span><span class="op" id="7682650">.</span><span class="ident" id="7682651">T</span><span class="op" id="7682652">)</span>&nbsp;<span class="op" id="7682654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682657">if</span>&nbsp;<span class="ident" id="7682660">debugFunc</span>&nbsp;<span class="op" id="7682670">==</span>&nbsp;<span class="ident" id="7682673">nil</span>&nbsp;<span class="op" id="7682677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682681">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682692">Register</span><span class="op" id="7682700">(</span><span class="ident" id="7682701">OnTheFly</span><span class="op" id="7682709">{</span><span class="op" id="7682710">}</span><span class="op" id="7682711">)</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682714">dt</span>&nbsp;<span class="op" id="7682717">:=</span>&nbsp;<span class="ident" id="7682720">newDT</span><span class="op" id="7682725">(</span><span class="op" id="7682726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682729">b</span>&nbsp;<span class="op" id="7682731">:=</span>&nbsp;<span class="builtinfunc" id="7682734">new</span><span class="op" id="7682737">(</span><span class="ident" id="7682738">bytes</span><span class="op" id="7682743">.</span><span class="ident" id="7682744">Buffer</span><span class="op" id="7682750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682753">err</span>&nbsp;<span class="op" id="7682757">:=</span>&nbsp;<span class="ident" id="7682760">NewEncoder</span><span class="op" id="7682770">(</span><span class="ident" id="7682771">b</span><span class="op" id="7682772">)</span><span class="op" id="7682773">.</span><span class="ident" id="7682774">Encode</span><span class="op" id="7682780">(</span><span class="ident" id="7682781">dt</span><span class="op" id="7682783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682786">if</span>&nbsp;<span class="ident" id="7682789">err</span>&nbsp;<span class="op" id="7682793">!=</span>&nbsp;<span class="ident" id="7682796">nil</span>&nbsp;<span class="op" id="7682800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682804">t</span><span class="op" id="7682805">.</span><span class="ident" id="7682806">Fatal</span><span class="op" id="7682811">(</span><span class="string" id="7682812">&#34;encode:&#34;</span><span class="op" id="7682821">,</span>&nbsp;<span class="ident" id="7682823">err</span><span class="op" id="7682826">)</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682832">debugBuffer</span>&nbsp;<span class="op" id="7682844">:=</span>&nbsp;<span class="ident" id="7682847">bytes</span><span class="op" id="7682852">.</span><span class="ident" id="7682853">NewBuffer</span><span class="op" id="7682862">(</span><span class="ident" id="7682863">b</span><span class="op" id="7682864">.</span><span class="ident" id="7682865">Bytes</span><span class="op" id="7682870">(</span><span class="op" id="7682871">)</span><span class="op" id="7682872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682875">dt2</span>&nbsp;<span class="op" id="7682879">:=</span>&nbsp;<span class="op" id="7682882">&amp;</span><span class="ident" id="7682883">DT</span><span class="op" id="7682885">{</span><span class="op" id="7682886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682889">err</span>&nbsp;<span class="op" id="7682893">=</span>&nbsp;<span class="ident" id="7682895">NewDecoder</span><span class="op" id="7682905">(</span><span class="ident" id="7682906">b</span><span class="op" id="7682907">)</span><span class="op" id="7682908">.</span><span class="ident" id="7682909">Decode</span><span class="op" id="7682915">(</span><span class="op" id="7682916">&amp;</span><span class="ident" id="7682917">dt2</span><span class="op" id="7682920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7682923">if</span>&nbsp;<span class="ident" id="7682926">err</span>&nbsp;<span class="op" id="7682930">!=</span>&nbsp;<span class="ident" id="7682933">nil</span>&nbsp;<span class="op" id="7682937">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682941">t</span><span class="op" id="7682942">.</span><span class="ident" id="7682943">Error</span><span class="op" id="7682948">(</span><span class="string" id="7682949">&#34;decode:&#34;</span><span class="op" id="7682958">,</span>&nbsp;<span class="ident" id="7682960">err</span><span class="op" id="7682963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7682966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7682969">debugFunc</span><span class="op" id="7682978">(</span><span class="ident" id="7682979">debugBuffer</span><span class="op" id="7682990">)</span><br>
<span class="lineno"></span><span class="op" id="7682992">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1370</span><span class="keyword" id="7682995">func</span>&nbsp;<span class="ident" id="7683000">encFuzzDec</span><span class="op" id="7683010">(</span><span class="ident" id="7683011">rng</span>&nbsp;<span class="op" id="7683015">*</span><span class="ident" id="7683016">rand</span><span class="op" id="7683020">.</span><span class="ident" id="7683021">Rand</span><span class="op" id="7683025">,</span>&nbsp;<span class="ident" id="7683027">in</span>&nbsp;<span class="keyword" id="7683030">interface</span><span class="op" id="7683039">{</span><span class="op" id="7683040">}</span><span class="op" id="7683041">)</span>&nbsp;<span class="builtintype" id="7683043">error</span>&nbsp;<span class="op" id="7683049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683052">buf</span>&nbsp;<span class="op" id="7683056">:=</span>&nbsp;<span class="builtinfunc" id="7683059">new</span><span class="op" id="7683062">(</span><span class="ident" id="7683063">bytes</span><span class="op" id="7683068">.</span><span class="ident" id="7683069">Buffer</span><span class="op" id="7683075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683078">enc</span>&nbsp;<span class="op" id="7683082">:=</span>&nbsp;<span class="ident" id="7683085">NewEncoder</span><span class="op" id="7683095">(</span><span class="ident" id="7683096">buf</span><span class="op" id="7683099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683102">if</span>&nbsp;<span class="ident" id="7683105">err</span>&nbsp;<span class="op" id="7683109">:=</span>&nbsp;<span class="ident" id="7683112">enc</span><span class="op" id="7683115">.</span><span class="ident" id="7683116">Encode</span><span class="op" id="7683122">(</span><span class="op" id="7683123">&amp;</span><span class="ident" id="7683124">in</span><span class="op" id="7683126">)</span><span class="op" id="7683127">;</span>&nbsp;<span class="ident" id="7683129">err</span>&nbsp;<span class="op" id="7683133">!=</span>&nbsp;<span class="ident" id="7683136">nil</span>&nbsp;<span class="op" id="7683140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683144">return</span>&nbsp;<span class="ident" id="7683151">err</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683160">b</span>&nbsp;<span class="op" id="7683162">:=</span>&nbsp;<span class="ident" id="7683165">buf</span><span class="op" id="7683168">.</span><span class="ident" id="7683169">Bytes</span><span class="op" id="7683174">(</span><span class="op" id="7683175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683178">for</span>&nbsp;<span class="ident" id="7683182">i</span><span class="op" id="7683183">,</span>&nbsp;<span class="ident" id="7683185">bi</span>&nbsp;<span class="op" id="7683188">:=</span>&nbsp;<span class="keyword" id="7683191">range</span>&nbsp;<span class="ident" id="7683197">b</span>&nbsp;<span class="op" id="7683199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683203">if</span>&nbsp;<span class="ident" id="7683206">rng</span><span class="op" id="7683209">.</span><span class="ident" id="7683210">Intn</span><span class="op" id="7683214">(</span><span class="num" id="7683215">10</span><span class="op" id="7683217">)</span>&nbsp;<span class="op" id="7683219">&lt;</span>&nbsp;<span class="num" id="7683221">3</span>&nbsp;<span class="op" id="7683223">{</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683228">b</span><span class="op" id="7683229">[</span><span class="ident" id="7683230">i</span><span class="op" id="7683231">]</span>&nbsp;<span class="op" id="7683233">=</span>&nbsp;<span class="ident" id="7683235">bi</span>&nbsp;<span class="op" id="7683238">+</span>&nbsp;<span class="builtintype" id="7683240">uint8</span><span class="op" id="7683245">(</span><span class="ident" id="7683246">rng</span><span class="op" id="7683249">.</span><span class="ident" id="7683250">Intn</span><span class="op" id="7683254">(</span><span class="num" id="7683255">256</span><span class="op" id="7683258">)</span><span class="op" id="7683259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683270">dec</span>&nbsp;<span class="op" id="7683274">:=</span>&nbsp;<span class="ident" id="7683277">NewDecoder</span><span class="op" id="7683287">(</span><span class="ident" id="7683288">buf</span><span class="op" id="7683291">)</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683294">var</span>&nbsp;<span class="ident" id="7683298">e</span>&nbsp;<span class="keyword" id="7683300">interface</span><span class="op" id="7683309">{</span><span class="op" id="7683310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683313">if</span>&nbsp;<span class="ident" id="7683316">err</span>&nbsp;<span class="op" id="7683320">:=</span>&nbsp;<span class="ident" id="7683323">dec</span><span class="op" id="7683326">.</span><span class="ident" id="7683327">Decode</span><span class="op" id="7683333">(</span><span class="op" id="7683334">&amp;</span><span class="ident" id="7683335">e</span><span class="op" id="7683336">)</span><span class="op" id="7683337">;</span>&nbsp;<span class="ident" id="7683339">err</span>&nbsp;<span class="op" id="7683343">!=</span>&nbsp;<span class="ident" id="7683346">nil</span>&nbsp;<span class="op" id="7683350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683354">return</span>&nbsp;<span class="ident" id="7683361">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683369">return</span>&nbsp;<span class="ident" id="7683376">nil</span><br>
<span class="lineno">1390</span><span class="op" id="7683380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7683383">//&nbsp;This&nbsp;does&nbsp;some&nbsp;&#34;fuzz&nbsp;testing&#34;&nbsp;by&nbsp;attempting&nbsp;to&nbsp;decode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;random&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="7683468">func</span>&nbsp;<span class="ident" id="7683473">TestFuzz</span><span class="op" id="7683481">(</span><span class="ident" id="7683482">t</span>&nbsp;<span class="op" id="7683484">*</span><span class="ident" id="7683485">testing</span><span class="op" id="7683492">.</span><span class="ident" id="7683493">T</span><span class="op" id="7683494">)</span>&nbsp;<span class="op" id="7683496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683499">if</span>&nbsp;<span class="op" id="7683502">!</span><span class="op" id="7683503">*</span><span class="ident" id="7683504">doFuzzTests</span>&nbsp;<span class="op" id="7683516">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683520">t</span><span class="op" id="7683521">.</span><span class="ident" id="7683522">Logf</span><span class="op" id="7683526">(</span><span class="string" id="7683527">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="7683567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683571">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7683583">//&nbsp;all&nbsp;possible&nbsp;inputs</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683607">input</span>&nbsp;<span class="op" id="7683613">:=</span>&nbsp;<span class="op" id="7683616">[</span><span class="op" id="7683617">]</span><span class="keyword" id="7683618">interface</span><span class="op" id="7683627">{</span><span class="op" id="7683628">}</span><span class="op" id="7683629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7683633">new</span><span class="op" id="7683636">(</span><span class="builtintype" id="7683637">int</span><span class="op" id="7683640">)</span><span class="op" id="7683641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7683645">new</span><span class="op" id="7683648">(</span><span class="builtintype" id="7683649">float32</span><span class="op" id="7683656">)</span><span class="op" id="7683657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7683661">new</span><span class="op" id="7683664">(</span><span class="builtintype" id="7683665">float64</span><span class="op" id="7683672">)</span><span class="op" id="7683673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7683677">new</span><span class="op" id="7683680">(</span><span class="builtintype" id="7683681">complex128</span><span class="op" id="7683691">)</span><span class="op" id="7683692">,</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683696">&amp;</span><span class="ident" id="7683697">ByteStruct</span><span class="op" id="7683707">{</span><span class="num" id="7683708">255</span><span class="op" id="7683711">}</span><span class="op" id="7683712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683716">&amp;</span><span class="ident" id="7683717">ArrayStruct</span><span class="op" id="7683728">{</span><span class="op" id="7683729">}</span><span class="op" id="7683730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683734">&amp;</span><span class="ident" id="7683735">StringStruct</span><span class="op" id="7683747">{</span><span class="string" id="7683748">&#34;hello&#34;</span><span class="op" id="7683755">}</span><span class="op" id="7683756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683760">&amp;</span><span class="ident" id="7683761">GobTest1</span><span class="op" id="7683769">{</span><span class="num" id="7683770">0</span><span class="op" id="7683771">,</span>&nbsp;<span class="op" id="7683773">&amp;</span><span class="ident" id="7683774">StringStruct</span><span class="op" id="7683786">{</span><span class="string" id="7683787">&#34;hello&#34;</span><span class="op" id="7683794">}</span><span class="op" id="7683795">}</span><span class="op" id="7683796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683799">}</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683802">testFuzz</span><span class="op" id="7683810">(</span><span class="ident" id="7683811">t</span><span class="op" id="7683812">,</span>&nbsp;<span class="ident" id="7683814">time</span><span class="op" id="7683818">.</span><span class="ident" id="7683819">Now</span><span class="op" id="7683822">(</span><span class="op" id="7683823">)</span><span class="op" id="7683824">.</span><span class="ident" id="7683825">UnixNano</span><span class="op" id="7683833">(</span><span class="op" id="7683834">)</span><span class="op" id="7683835">,</span>&nbsp;<span class="num" id="7683837">100</span><span class="op" id="7683840">,</span>&nbsp;<span class="ident" id="7683842">input</span><span class="op" id="7683847">...</span><span class="op" id="7683850">)</span><br>
<span class="lineno"></span><span class="op" id="7683852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7683855">func</span>&nbsp;<span class="ident" id="7683860">TestFuzzRegressions</span><span class="op" id="7683879">(</span><span class="ident" id="7683880">t</span>&nbsp;<span class="op" id="7683882">*</span><span class="ident" id="7683883">testing</span><span class="op" id="7683890">.</span><span class="ident" id="7683891">T</span><span class="op" id="7683892">)</span>&nbsp;<span class="op" id="7683894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683897">if</span>&nbsp;<span class="op" id="7683900">!</span><span class="op" id="7683901">*</span><span class="ident" id="7683902">doFuzzTests</span>&nbsp;<span class="op" id="7683914">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7683918">t</span><span class="op" id="7683919">.</span><span class="ident" id="7683920">Logf</span><span class="op" id="7683924">(</span><span class="string" id="7683925">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="7683965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7683969">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7683977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7683981">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;length&nbsp;~102&nbsp;GB.</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684039">testFuzz</span><span class="op" id="7684047">(</span><span class="ident" id="7684048">t</span><span class="op" id="7684049">,</span>&nbsp;<span class="num" id="7684051">1328492090837718000</span><span class="op" id="7684070">,</span>&nbsp;<span class="num" id="7684072">100</span><span class="op" id="7684075">,</span>&nbsp;<span class="builtinfunc" id="7684077">new</span><span class="op" id="7684080">(</span><span class="builtintype" id="7684081">float32</span><span class="op" id="7684088">)</span><span class="op" id="7684089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7684092">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;1.6&nbsp;GB.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7684142">//&nbsp;Note:&nbsp;can&nbsp;take&nbsp;several&nbsp;minutes&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684185">testFuzz</span><span class="op" id="7684193">(</span><span class="ident" id="7684194">t</span><span class="op" id="7684195">,</span>&nbsp;<span class="num" id="7684197">1330522872628565000</span><span class="op" id="7684216">,</span>&nbsp;<span class="num" id="7684218">100</span><span class="op" id="7684221">,</span>&nbsp;<span class="builtinfunc" id="7684223">new</span><span class="op" id="7684226">(</span><span class="builtintype" id="7684227">int</span><span class="op" id="7684230">)</span><span class="op" id="7684231">)</span><br>
<span class="lineno"></span><span class="op" id="7684233">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="keyword" id="7684236">func</span>&nbsp;<span class="ident" id="7684241">testFuzz</span><span class="op" id="7684249">(</span><span class="ident" id="7684250">t</span>&nbsp;<span class="op" id="7684252">*</span><span class="ident" id="7684253">testing</span><span class="op" id="7684260">.</span><span class="ident" id="7684261">T</span><span class="op" id="7684262">,</span>&nbsp;<span class="ident" id="7684264">seed</span>&nbsp;<span class="ident" id="7684269">int64</span><span class="op" id="7684274">,</span>&nbsp;<span class="ident" id="7684276">n</span>&nbsp;<span class="builtintype" id="7684278">int</span><span class="op" id="7684281">,</span>&nbsp;<span class="ident" id="7684283">input</span>&nbsp;<span class="op" id="7684289">...</span><span class="keyword" id="7684292">interface</span><span class="op" id="7684301">{</span><span class="op" id="7684302">}</span><span class="op" id="7684303">)</span>&nbsp;<span class="op" id="7684305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684308">for</span>&nbsp;<span class="ident" id="7684312">_</span><span class="op" id="7684313">,</span>&nbsp;<span class="ident" id="7684315">e</span>&nbsp;<span class="op" id="7684317">:=</span>&nbsp;<span class="keyword" id="7684320">range</span>&nbsp;<span class="ident" id="7684326">input</span>&nbsp;<span class="op" id="7684332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684336">t</span><span class="op" id="7684337">.</span><span class="ident" id="7684338">Logf</span><span class="op" id="7684342">(</span><span class="string" id="7684343">&#34;seed=%d&nbsp;n=%d&nbsp;e=%T&#34;</span><span class="op" id="7684362">,</span>&nbsp;<span class="ident" id="7684364">seed</span><span class="op" id="7684368">,</span>&nbsp;<span class="ident" id="7684370">n</span><span class="op" id="7684371">,</span>&nbsp;<span class="ident" id="7684373">e</span><span class="op" id="7684374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684378">rng</span>&nbsp;<span class="op" id="7684382">:=</span>&nbsp;<span class="ident" id="7684385">rand</span><span class="op" id="7684389">.</span><span class="ident" id="7684390">New</span><span class="op" id="7684393">(</span><span class="ident" id="7684394">rand</span><span class="op" id="7684398">.</span><span class="ident" id="7684399">NewSource</span><span class="op" id="7684408">(</span><span class="ident" id="7684409">seed</span><span class="op" id="7684413">)</span><span class="op" id="7684414">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684418">for</span>&nbsp;<span class="ident" id="7684422">i</span>&nbsp;<span class="op" id="7684424">:=</span>&nbsp;<span class="num" id="7684427">0</span><span class="op" id="7684428">;</span>&nbsp;<span class="ident" id="7684430">i</span>&nbsp;<span class="op" id="7684432">&lt;</span>&nbsp;<span class="ident" id="7684434">n</span><span class="op" id="7684435">;</span>&nbsp;<span class="ident" id="7684437">i</span><span class="op" id="7684438">++</span>&nbsp;<span class="op" id="7684441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684446">encFuzzDec</span><span class="op" id="7684456">(</span><span class="ident" id="7684457">rng</span><span class="op" id="7684460">,</span>&nbsp;<span class="ident" id="7684462">e</span><span class="op" id="7684463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684470">}</span><br>
<span class="lineno"></span><span class="op" id="7684472">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="comment" id="7684475">//&nbsp;TestFuzzOneByte&nbsp;tries&nbsp;to&nbsp;decode&nbsp;corrupted&nbsp;input&nbsp;sequences</span><br>
<span class="lineno"></span><span class="comment" id="7684536">//&nbsp;and&nbsp;checks&nbsp;that&nbsp;no&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="7684572">func</span>&nbsp;<span class="ident" id="7684577">TestFuzzOneByte</span><span class="op" id="7684592">(</span><span class="ident" id="7684593">t</span>&nbsp;<span class="op" id="7684595">*</span><span class="ident" id="7684596">testing</span><span class="op" id="7684603">.</span><span class="ident" id="7684604">T</span><span class="op" id="7684605">)</span>&nbsp;<span class="op" id="7684607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684610">buf</span>&nbsp;<span class="op" id="7684614">:=</span>&nbsp;<span class="builtinfunc" id="7684617">new</span><span class="op" id="7684620">(</span><span class="ident" id="7684621">bytes</span><span class="op" id="7684626">.</span><span class="ident" id="7684627">Buffer</span><span class="op" id="7684633">)</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684636">Register</span><span class="op" id="7684644">(</span><span class="ident" id="7684645">OnTheFly</span><span class="op" id="7684653">{</span><span class="op" id="7684654">}</span><span class="op" id="7684655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684658">dt</span>&nbsp;<span class="op" id="7684661">:=</span>&nbsp;<span class="ident" id="7684664">newDT</span><span class="op" id="7684669">(</span><span class="op" id="7684670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684673">if</span>&nbsp;<span class="ident" id="7684676">err</span>&nbsp;<span class="op" id="7684680">:=</span>&nbsp;<span class="ident" id="7684683">NewEncoder</span><span class="op" id="7684693">(</span><span class="ident" id="7684694">buf</span><span class="op" id="7684697">)</span><span class="op" id="7684698">.</span><span class="ident" id="7684699">Encode</span><span class="op" id="7684705">(</span><span class="ident" id="7684706">dt</span><span class="op" id="7684708">)</span><span class="op" id="7684709">;</span>&nbsp;<span class="ident" id="7684711">err</span>&nbsp;<span class="op" id="7684715">!=</span>&nbsp;<span class="ident" id="7684718">nil</span>&nbsp;<span class="op" id="7684722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684726">t</span><span class="op" id="7684727">.</span><span class="ident" id="7684728">Fatal</span><span class="op" id="7684733">(</span><span class="ident" id="7684734">err</span><span class="op" id="7684737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684740">}</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684743">s</span>&nbsp;<span class="op" id="7684745">:=</span>&nbsp;<span class="ident" id="7684748">buf</span><span class="op" id="7684751">.</span><span class="ident" id="7684752">String</span><span class="op" id="7684758">(</span><span class="op" id="7684759">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684763">indices</span>&nbsp;<span class="op" id="7684771">:=</span>&nbsp;<span class="builtinfunc" id="7684774">make</span><span class="op" id="7684778">(</span><span class="op" id="7684779">[</span><span class="op" id="7684780">]</span><span class="builtintype" id="7684781">int</span><span class="op" id="7684784">,</span>&nbsp;<span class="num" id="7684786">0</span><span class="op" id="7684787">,</span>&nbsp;<span class="builtinfunc" id="7684789">len</span><span class="op" id="7684792">(</span><span class="ident" id="7684793">s</span><span class="op" id="7684794">)</span><span class="op" id="7684795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684798">for</span>&nbsp;<span class="ident" id="7684802">i</span>&nbsp;<span class="op" id="7684804">:=</span>&nbsp;<span class="num" id="7684807">0</span><span class="op" id="7684808">;</span>&nbsp;<span class="ident" id="7684810">i</span>&nbsp;<span class="op" id="7684812">&lt;</span>&nbsp;<span class="builtinfunc" id="7684814">len</span><span class="op" id="7684817">(</span><span class="ident" id="7684818">s</span><span class="op" id="7684819">)</span><span class="op" id="7684820">;</span>&nbsp;<span class="ident" id="7684822">i</span><span class="op" id="7684823">++</span>&nbsp;<span class="op" id="7684826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684830">switch</span>&nbsp;<span class="ident" id="7684837">i</span>&nbsp;<span class="op" id="7684839">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684843">case</span>&nbsp;<span class="num" id="7684848">14</span><span class="op" id="7684850">,</span>&nbsp;<span class="num" id="7684852">167</span><span class="op" id="7684855">,</span>&nbsp;<span class="num" id="7684857">231</span><span class="op" id="7684860">,</span>&nbsp;<span class="num" id="7684862">265</span><span class="op" id="7684865">:</span>&nbsp;<span class="comment" id="7684867">//&nbsp;a&nbsp;slice&nbsp;length,&nbsp;corruptions&nbsp;are&nbsp;not&nbsp;handled&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684922">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684937">indices</span>&nbsp;<span class="op" id="7684945">=</span>&nbsp;<span class="builtinfunc" id="7684947">append</span><span class="op" id="7684953">(</span><span class="ident" id="7684954">indices</span><span class="op" id="7684961">,</span>&nbsp;<span class="ident" id="7684963">i</span><span class="op" id="7684964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7684967">}</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7684970">if</span>&nbsp;<span class="ident" id="7684973">testing</span><span class="op" id="7684980">.</span><span class="ident" id="7684981">Short</span><span class="op" id="7684986">(</span><span class="op" id="7684987">)</span>&nbsp;<span class="op" id="7684989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7684993">indices</span>&nbsp;<span class="op" id="7685001">=</span>&nbsp;<span class="op" id="7685003">[</span><span class="op" id="7685004">]</span><span class="builtintype" id="7685005">int</span><span class="op" id="7685008">{</span><span class="num" id="7685009">1</span><span class="op" id="7685010">,</span>&nbsp;<span class="num" id="7685012">111</span><span class="op" id="7685015">,</span>&nbsp;<span class="num" id="7685017">178</span><span class="op" id="7685020">}</span>&nbsp;<span class="comment" id="7685022">//&nbsp;known&nbsp;fixed&nbsp;panics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685048">for</span>&nbsp;<span class="ident" id="7685052">_</span><span class="op" id="7685053">,</span>&nbsp;<span class="ident" id="7685055">i</span>&nbsp;<span class="op" id="7685057">:=</span>&nbsp;<span class="keyword" id="7685060">range</span>&nbsp;<span class="ident" id="7685066">indices</span>&nbsp;<span class="op" id="7685074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685078">for</span>&nbsp;<span class="ident" id="7685082">j</span>&nbsp;<span class="op" id="7685084">:=</span>&nbsp;<span class="num" id="7685087">0</span><span class="op" id="7685088">;</span>&nbsp;<span class="ident" id="7685090">j</span>&nbsp;<span class="op" id="7685092">&lt;</span>&nbsp;<span class="num" id="7685094">256</span><span class="op" id="7685097">;</span>&nbsp;<span class="ident" id="7685099">j</span>&nbsp;<span class="op" id="7685101">+=</span>&nbsp;<span class="num" id="7685104">3</span>&nbsp;<span class="op" id="7685106">{</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685111">b</span>&nbsp;<span class="op" id="7685113">:=</span>&nbsp;<span class="op" id="7685116">[</span><span class="op" id="7685117">]</span><span class="builtintype" id="7685118">byte</span><span class="op" id="7685122">(</span><span class="ident" id="7685123">s</span><span class="op" id="7685124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685129">b</span><span class="op" id="7685130">[</span><span class="ident" id="7685131">i</span><span class="op" id="7685132">]</span>&nbsp;<span class="op" id="7685134">^=</span>&nbsp;<span class="builtintype" id="7685137">byte</span><span class="op" id="7685141">(</span><span class="ident" id="7685142">j</span><span class="op" id="7685143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685148">var</span>&nbsp;<span class="ident" id="7685152">e</span>&nbsp;<span class="ident" id="7685154">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685160">func</span><span class="op" id="7685164">(</span><span class="op" id="7685165">)</span>&nbsp;<span class="op" id="7685167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685173">defer</span>&nbsp;<span class="keyword" id="7685179">func</span><span class="op" id="7685183">(</span><span class="op" id="7685184">)</span>&nbsp;<span class="op" id="7685186">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7685193">if</span>&nbsp;<span class="ident" id="7685196">p</span>&nbsp;<span class="op" id="7685198">:=</span>&nbsp;<span class="builtinfunc" id="7685201">recover</span><span class="op" id="7685208">(</span><span class="op" id="7685209">)</span><span class="op" id="7685210">;</span>&nbsp;<span class="ident" id="7685212">p</span>&nbsp;<span class="op" id="7685214">!=</span>&nbsp;<span class="ident" id="7685217">nil</span>&nbsp;<span class="op" id="7685221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685229">t</span><span class="op" id="7685230">.</span><span class="ident" id="7685231">Errorf</span><span class="op" id="7685237">(</span><span class="string" id="7685238">&#34;crash&nbsp;for&nbsp;b[%d]&nbsp;^=&nbsp;0x%x&#34;</span><span class="op" id="7685263">,</span>&nbsp;<span class="ident" id="7685265">i</span><span class="op" id="7685266">,</span>&nbsp;<span class="ident" id="7685268">j</span><span class="op" id="7685269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7685277">panic</span><span class="op" id="7685282">(</span><span class="ident" id="7685283">p</span><span class="op" id="7685284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685297">}</span><span class="op" id="7685298">(</span><span class="op" id="7685299">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685305">err</span>&nbsp;<span class="op" id="7685309">:=</span>&nbsp;<span class="ident" id="7685312">NewDecoder</span><span class="op" id="7685322">(</span><span class="ident" id="7685323">bytes</span><span class="op" id="7685328">.</span><span class="ident" id="7685329">NewReader</span><span class="op" id="7685338">(</span><span class="ident" id="7685339">b</span><span class="op" id="7685340">)</span><span class="op" id="7685341">)</span><span class="op" id="7685342">.</span><span class="ident" id="7685343">Decode</span><span class="op" id="7685349">(</span><span class="op" id="7685350">&amp;</span><span class="ident" id="7685351">e</span><span class="op" id="7685352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7685358">_</span>&nbsp;<span class="op" id="7685360">=</span>&nbsp;<span class="ident" id="7685362">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685369">}</span><span class="op" id="7685370">(</span><span class="op" id="7685371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7685378">}</span><br>
<span class="lineno">1475</span><span class="op" id="7685380">}</span>
</div>
</body>
</html>
