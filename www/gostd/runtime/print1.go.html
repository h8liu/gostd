<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1834449">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1834504">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1834558">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1834609">package</span>&nbsp;<span class="ident" id="1834617">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1834626">import</span>&nbsp;<span class="string" id="1834633">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1834643">//&nbsp;The&nbsp;compiler&nbsp;knows&nbsp;that&nbsp;a&nbsp;print&nbsp;of&nbsp;a&nbsp;value&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno">10</span><span class="comment" id="1834702">//&nbsp;should&nbsp;use&nbsp;printhex&nbsp;instead&nbsp;of&nbsp;printuint&nbsp;(decimal).</span><br>
<span class="lineno"></span><span class="keyword" id="1834757">type</span>&nbsp;<span class="ident" id="1834762">hex</span>&nbsp;<span class="ident" id="1834766">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1834774">func</span>&nbsp;<span class="ident" id="1834779">bytes</span><span class="op" id="1834784">(</span><span class="ident" id="1834785">s</span>&nbsp;<span class="builtintype" id="1834787">string</span><span class="op" id="1834793">)</span>&nbsp;<span class="op" id="1834795">(</span><span class="ident" id="1834796">ret</span>&nbsp;<span class="op" id="1834800">[</span><span class="op" id="1834801">]</span><span class="builtintype" id="1834802">byte</span><span class="op" id="1834806">)</span>&nbsp;<span class="op" id="1834808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1834811">rp</span>&nbsp;<span class="op" id="1834814">:=</span>&nbsp;<span class="op" id="1834817">(</span><span class="op" id="1834818">*</span><span class="ident" id="1834819">slice</span><span class="op" id="1834824">)</span><span class="op" id="1834825">(</span><span class="ident" id="1834826">unsafe</span><span class="op" id="1834832">.</span><span class="ident" id="1834833">Pointer</span><span class="op" id="1834840">(</span><span class="op" id="1834841">&amp;</span><span class="ident" id="1834842">ret</span><span class="op" id="1834845">)</span><span class="op" id="1834846">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1834849">sp</span>&nbsp;<span class="op" id="1834852">:=</span>&nbsp;<span class="op" id="1834855">(</span><span class="op" id="1834856">*</span><span class="ident" id="1834857">_string</span><span class="op" id="1834864">)</span><span class="op" id="1834865">(</span><span class="ident" id="1834866">noescape</span><span class="op" id="1834874">(</span><span class="ident" id="1834875">unsafe</span><span class="op" id="1834881">.</span><span class="ident" id="1834882">Pointer</span><span class="op" id="1834889">(</span><span class="op" id="1834890">&amp;</span><span class="ident" id="1834891">s</span><span class="op" id="1834892">)</span><span class="op" id="1834893">)</span><span class="op" id="1834894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1834897">rp</span><span class="op" id="1834899">.</span><span class="ident" id="1834900">array</span>&nbsp;<span class="op" id="1834906">=</span>&nbsp;<span class="ident" id="1834908">sp</span><span class="op" id="1834910">.</span><span class="ident" id="1834911">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1834916">rp</span><span class="op" id="1834918">.</span><span class="builtinfunc" id="1834919">len</span>&nbsp;<span class="op" id="1834923">=</span>&nbsp;<span class="builtintype" id="1834925">uint</span><span class="op" id="1834929">(</span><span class="ident" id="1834930">sp</span><span class="op" id="1834932">.</span><span class="builtinfunc" id="1834933">len</span><span class="op" id="1834936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1834939">rp</span><span class="op" id="1834941">.</span><span class="builtinfunc" id="1834942">cap</span>&nbsp;<span class="op" id="1834946">=</span>&nbsp;<span class="builtintype" id="1834948">uint</span><span class="op" id="1834952">(</span><span class="ident" id="1834953">sp</span><span class="op" id="1834955">.</span><span class="builtinfunc" id="1834956">len</span><span class="op" id="1834959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1834962">return</span><br>
<span class="lineno">20</span><span class="op" id="1834969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1834972">//&nbsp;printf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1835051">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1835122">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno">25</span><span class="comment" id="1835166">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1835179">func</span>&nbsp;<span class="ident" id="1835184">printf</span><span class="op" id="1835190">(</span><span class="ident" id="1835191">s</span>&nbsp;<span class="op" id="1835193">*</span><span class="builtintype" id="1835194">byte</span><span class="op" id="1835198">)</span>&nbsp;<span class="op" id="1835200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1835203">vprintf</span><span class="op" id="1835210">(</span><span class="ident" id="1835211">gostringnocopy</span><span class="op" id="1835225">(</span><span class="ident" id="1835226">s</span><span class="op" id="1835227">)</span><span class="op" id="1835228">,</span>&nbsp;<span class="ident" id="1835230">add</span><span class="op" id="1835233">(</span><span class="ident" id="1835234">unsafe</span><span class="op" id="1835240">.</span><span class="ident" id="1835241">Pointer</span><span class="op" id="1835248">(</span><span class="op" id="1835249">&amp;</span><span class="ident" id="1835250">s</span><span class="op" id="1835251">)</span><span class="op" id="1835252">,</span>&nbsp;<span class="ident" id="1835254">unsafe</span><span class="op" id="1835260">.</span><span class="ident" id="1835261">Sizeof</span><span class="op" id="1835267">(</span><span class="ident" id="1835268">s</span><span class="op" id="1835269">)</span><span class="op" id="1835270">)</span><span class="op" id="1835271">)</span><br>
<span class="lineno"></span><span class="op" id="1835273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="1835276">//&nbsp;sprintf&nbsp;is&nbsp;only&nbsp;called&nbsp;from&nbsp;C&nbsp;code.&nbsp;It&nbsp;has&nbsp;no&nbsp;type&nbsp;information&nbsp;for&nbsp;the&nbsp;args,</span><br>
<span class="lineno"></span><span class="comment" id="1835356">//&nbsp;but&nbsp;C&nbsp;stacks&nbsp;are&nbsp;ignored&nbsp;by&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;anyway,&nbsp;so&nbsp;having</span><br>
<span class="lineno"></span><span class="comment" id="1835427">//&nbsp;type&nbsp;information&nbsp;would&nbsp;not&nbsp;add&nbsp;anything.</span><br>
<span class="lineno"></span><span class="comment" id="1835471">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1835484">func</span>&nbsp;<span class="ident" id="1835489">snprintf</span><span class="op" id="1835497">(</span><span class="ident" id="1835498">dst</span>&nbsp;<span class="op" id="1835502">*</span><span class="builtintype" id="1835503">byte</span><span class="op" id="1835507">,</span>&nbsp;<span class="ident" id="1835509">n</span>&nbsp;<span class="builtintype" id="1835511">int32</span><span class="op" id="1835516">,</span>&nbsp;<span class="ident" id="1835518">s</span>&nbsp;<span class="op" id="1835520">*</span><span class="builtintype" id="1835521">byte</span><span class="op" id="1835525">)</span>&nbsp;<span class="op" id="1835527">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1835530">buf</span>&nbsp;<span class="op" id="1835534">:=</span>&nbsp;<span class="op" id="1835537">(</span><span class="op" id="1835538">*</span><span class="op" id="1835539">[</span><span class="num" id="1835540">1</span>&nbsp;<span class="op" id="1835542">&lt;&lt;</span>&nbsp;<span class="num" id="1835545">30</span><span class="op" id="1835547">]</span><span class="builtintype" id="1835548">byte</span><span class="op" id="1835552">)</span><span class="op" id="1835553">(</span><span class="ident" id="1835554">unsafe</span><span class="op" id="1835560">.</span><span class="ident" id="1835561">Pointer</span><span class="op" id="1835568">(</span><span class="ident" id="1835569">dst</span><span class="op" id="1835572">)</span><span class="op" id="1835573">)</span><span class="op" id="1835574">[</span><span class="num" id="1835575">0</span><span class="op" id="1835576">:</span><span class="ident" id="1835577">n</span><span class="op" id="1835578">:</span><span class="ident" id="1835579">n</span><span class="op" id="1835580">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1835584">gp</span>&nbsp;<span class="op" id="1835587">:=</span>&nbsp;<span class="ident" id="1835590">getg</span><span class="op" id="1835594">(</span><span class="op" id="1835595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1835598">gp</span><span class="op" id="1835600">.</span><span class="ident" id="1835601">writebuf</span>&nbsp;<span class="op" id="1835610">=</span>&nbsp;<span class="ident" id="1835612">buf</span><span class="op" id="1835615">[</span><span class="num" id="1835616">0</span><span class="op" id="1835617">:</span><span class="num" id="1835618">0</span>&nbsp;<span class="op" id="1835620">:</span>&nbsp;<span class="ident" id="1835622">n</span><span class="op" id="1835623">-</span><span class="num" id="1835624">1</span><span class="op" id="1835625">]</span>&nbsp;<span class="comment" id="1835627">//&nbsp;leave&nbsp;room&nbsp;for&nbsp;NUL,&nbsp;this&nbsp;is&nbsp;called&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1835673">vprintf</span><span class="op" id="1835680">(</span><span class="ident" id="1835681">gostringnocopy</span><span class="op" id="1835695">(</span><span class="ident" id="1835696">s</span><span class="op" id="1835697">)</span><span class="op" id="1835698">,</span>&nbsp;<span class="ident" id="1835700">add</span><span class="op" id="1835703">(</span><span class="ident" id="1835704">unsafe</span><span class="op" id="1835710">.</span><span class="ident" id="1835711">Pointer</span><span class="op" id="1835718">(</span><span class="op" id="1835719">&amp;</span><span class="ident" id="1835720">s</span><span class="op" id="1835721">)</span><span class="op" id="1835722">,</span>&nbsp;<span class="ident" id="1835724">unsafe</span><span class="op" id="1835730">.</span><span class="ident" id="1835731">Sizeof</span><span class="op" id="1835737">(</span><span class="ident" id="1835738">s</span><span class="op" id="1835739">)</span><span class="op" id="1835740">)</span><span class="op" id="1835741">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1835744">buf</span><span class="op" id="1835747">[</span><span class="builtinfunc" id="1835748">len</span><span class="op" id="1835751">(</span><span class="ident" id="1835752">gp</span><span class="op" id="1835754">.</span><span class="ident" id="1835755">writebuf</span><span class="op" id="1835763">)</span><span class="op" id="1835764">]</span>&nbsp;<span class="op" id="1835766">=</span>&nbsp;<span class="string" id="1835768">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1835776">gp</span><span class="op" id="1835778">.</span><span class="ident" id="1835779">writebuf</span>&nbsp;<span class="op" id="1835788">=</span>&nbsp;<span class="ident" id="1835790">nil</span><br>
<span class="lineno"></span><span class="op" id="1835794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1835797">//var&nbsp;debuglock&nbsp;mutex</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1835820">//&nbsp;write&nbsp;to&nbsp;goroutine-local&nbsp;buffer&nbsp;if&nbsp;diverting&nbsp;output,</span><br>
<span class="lineno"></span><span class="comment" id="1835876">//&nbsp;or&nbsp;else&nbsp;standard&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1835903">func</span>&nbsp;<span class="ident" id="1835908">gwrite</span><span class="op" id="1835914">(</span><span class="ident" id="1835915">b</span>&nbsp;<span class="op" id="1835917">[</span><span class="op" id="1835918">]</span><span class="builtintype" id="1835919">byte</span><span class="op" id="1835923">)</span>&nbsp;<span class="op" id="1835925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1835928">if</span>&nbsp;<span class="builtinfunc" id="1835931">len</span><span class="op" id="1835934">(</span><span class="ident" id="1835935">b</span><span class="op" id="1835936">)</span>&nbsp;<span class="op" id="1835938">==</span>&nbsp;<span class="num" id="1835941">0</span>&nbsp;<span class="op" id="1835943">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1835947">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1835955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1835958">gp</span>&nbsp;<span class="op" id="1835961">:=</span>&nbsp;<span class="ident" id="1835964">getg</span><span class="op" id="1835968">(</span><span class="op" id="1835969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1835972">if</span>&nbsp;<span class="ident" id="1835975">gp</span>&nbsp;<span class="op" id="1835978">==</span>&nbsp;<span class="ident" id="1835981">nil</span>&nbsp;<span class="op" id="1835985">||</span>&nbsp;<span class="ident" id="1835988">gp</span><span class="op" id="1835990">.</span><span class="ident" id="1835991">writebuf</span>&nbsp;<span class="op" id="1836000">==</span>&nbsp;<span class="ident" id="1836003">nil</span>&nbsp;<span class="op" id="1836007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836011">write</span><span class="op" id="1836016">(</span><span class="num" id="1836017">2</span><span class="op" id="1836018">,</span>&nbsp;<span class="ident" id="1836020">unsafe</span><span class="op" id="1836026">.</span><span class="ident" id="1836027">Pointer</span><span class="op" id="1836034">(</span><span class="op" id="1836035">&amp;</span><span class="ident" id="1836036">b</span><span class="op" id="1836037">[</span><span class="num" id="1836038">0</span><span class="op" id="1836039">]</span><span class="op" id="1836040">)</span><span class="op" id="1836041">,</span>&nbsp;<span class="builtintype" id="1836043">int32</span><span class="op" id="1836048">(</span><span class="builtinfunc" id="1836049">len</span><span class="op" id="1836052">(</span><span class="ident" id="1836053">b</span><span class="op" id="1836054">)</span><span class="op" id="1836055">)</span><span class="op" id="1836056">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836060">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1836068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836072">n</span>&nbsp;<span class="op" id="1836074">:=</span>&nbsp;<span class="builtinfunc" id="1836077">copy</span><span class="op" id="1836081">(</span><span class="ident" id="1836082">gp</span><span class="op" id="1836084">.</span><span class="ident" id="1836085">writebuf</span><span class="op" id="1836093">[</span><span class="builtinfunc" id="1836094">len</span><span class="op" id="1836097">(</span><span class="ident" id="1836098">gp</span><span class="op" id="1836100">.</span><span class="ident" id="1836101">writebuf</span><span class="op" id="1836109">)</span><span class="op" id="1836110">:</span><span class="builtinfunc" id="1836111">cap</span><span class="op" id="1836114">(</span><span class="ident" id="1836115">gp</span><span class="op" id="1836117">.</span><span class="ident" id="1836118">writebuf</span><span class="op" id="1836126">)</span><span class="op" id="1836127">]</span><span class="op" id="1836128">,</span>&nbsp;<span class="ident" id="1836130">b</span><span class="op" id="1836131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836134">gp</span><span class="op" id="1836136">.</span><span class="ident" id="1836137">writebuf</span>&nbsp;<span class="op" id="1836146">=</span>&nbsp;<span class="ident" id="1836148">gp</span><span class="op" id="1836150">.</span><span class="ident" id="1836151">writebuf</span><span class="op" id="1836159">[</span><span class="op" id="1836160">:</span><span class="builtinfunc" id="1836161">len</span><span class="op" id="1836164">(</span><span class="ident" id="1836165">gp</span><span class="op" id="1836167">.</span><span class="ident" id="1836168">writebuf</span><span class="op" id="1836176">)</span><span class="op" id="1836177">+</span><span class="ident" id="1836178">n</span><span class="op" id="1836179">]</span><br>
<span class="lineno">60</span><span class="op" id="1836181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1836184">func</span>&nbsp;<span class="ident" id="1836189">prints</span><span class="op" id="1836195">(</span><span class="ident" id="1836196">s</span>&nbsp;<span class="op" id="1836198">*</span><span class="builtintype" id="1836199">byte</span><span class="op" id="1836203">)</span>&nbsp;<span class="op" id="1836205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836208">b</span>&nbsp;<span class="op" id="1836210">:=</span>&nbsp;<span class="op" id="1836213">(</span><span class="op" id="1836214">*</span><span class="op" id="1836215">[</span><span class="num" id="1836216">1</span>&nbsp;<span class="op" id="1836218">&lt;&lt;</span>&nbsp;<span class="num" id="1836221">30</span><span class="op" id="1836223">]</span><span class="builtintype" id="1836224">byte</span><span class="op" id="1836228">)</span><span class="op" id="1836229">(</span><span class="ident" id="1836230">unsafe</span><span class="op" id="1836236">.</span><span class="ident" id="1836237">Pointer</span><span class="op" id="1836244">(</span><span class="ident" id="1836245">s</span><span class="op" id="1836246">)</span><span class="op" id="1836247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836250">for</span>&nbsp;<span class="ident" id="1836254">i</span>&nbsp;<span class="op" id="1836256">:=</span>&nbsp;<span class="num" id="1836259">0</span><span class="op" id="1836260">;</span>&nbsp;<span class="op" id="1836262">;</span>&nbsp;<span class="ident" id="1836264">i</span><span class="op" id="1836265">++</span>&nbsp;<span class="op" id="1836268">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836272">if</span>&nbsp;<span class="ident" id="1836275">b</span><span class="op" id="1836276">[</span><span class="ident" id="1836277">i</span><span class="op" id="1836278">]</span>&nbsp;<span class="op" id="1836280">==</span>&nbsp;<span class="num" id="1836283">0</span>&nbsp;<span class="op" id="1836285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836290">gwrite</span><span class="op" id="1836296">(</span><span class="ident" id="1836297">b</span><span class="op" id="1836298">[</span><span class="op" id="1836299">:</span><span class="ident" id="1836300">i</span><span class="op" id="1836301">]</span><span class="op" id="1836302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836307">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1836316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1836319">}</span><br>
<span class="lineno">70</span><span class="op" id="1836321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1836324">func</span>&nbsp;<span class="ident" id="1836329">printsp</span><span class="op" id="1836336">(</span><span class="op" id="1836337">)</span>&nbsp;<span class="op" id="1836339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1836342">print</span><span class="op" id="1836347">(</span><span class="string" id="1836348">&#34;&nbsp;&#34;</span><span class="op" id="1836351">)</span><br>
<span class="lineno"></span><span class="op" id="1836353">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="1836356">func</span>&nbsp;<span class="ident" id="1836361">printnl</span><span class="op" id="1836368">(</span><span class="op" id="1836369">)</span>&nbsp;<span class="op" id="1836371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1836374">print</span><span class="op" id="1836379">(</span><span class="string" id="1836380">&#34;\n&#34;</span><span class="op" id="1836384">)</span><br>
<span class="lineno"></span><span class="op" id="1836386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="1836389">//&nbsp;Very&nbsp;simple&nbsp;printf.&nbsp;&nbsp;Only&nbsp;for&nbsp;debugging&nbsp;prints.</span><br>
<span class="lineno"></span><span class="comment" id="1836440">//&nbsp;Do&nbsp;not&nbsp;add&nbsp;to&nbsp;this&nbsp;without&nbsp;checking&nbsp;with&nbsp;Rob.</span><br>
<span class="lineno"></span><span class="keyword" id="1836489">func</span>&nbsp;<span class="ident" id="1836494">vprintf</span><span class="op" id="1836501">(</span><span class="ident" id="1836502">str</span>&nbsp;<span class="builtintype" id="1836506">string</span><span class="op" id="1836512">,</span>&nbsp;<span class="ident" id="1836514">arg</span>&nbsp;<span class="ident" id="1836518">unsafe</span><span class="op" id="1836524">.</span><span class="ident" id="1836525">Pointer</span><span class="op" id="1836532">)</span>&nbsp;<span class="op" id="1836534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1836537">//lock(&amp;debuglock);</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836559">s</span>&nbsp;<span class="op" id="1836561">:=</span>&nbsp;<span class="ident" id="1836564">bytes</span><span class="op" id="1836569">(</span><span class="ident" id="1836570">str</span><span class="op" id="1836573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836576">start</span>&nbsp;<span class="op" id="1836582">:=</span>&nbsp;<span class="num" id="1836585">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836588">i</span>&nbsp;<span class="op" id="1836590">:=</span>&nbsp;<span class="num" id="1836593">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836596">for</span>&nbsp;<span class="op" id="1836600">;</span>&nbsp;<span class="ident" id="1836602">i</span>&nbsp;<span class="op" id="1836604">&lt;</span>&nbsp;<span class="builtinfunc" id="1836606">len</span><span class="op" id="1836609">(</span><span class="ident" id="1836610">s</span><span class="op" id="1836611">)</span><span class="op" id="1836612">;</span>&nbsp;<span class="ident" id="1836614">i</span><span class="op" id="1836615">++</span>&nbsp;<span class="op" id="1836618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836622">if</span>&nbsp;<span class="ident" id="1836625">s</span><span class="op" id="1836626">[</span><span class="ident" id="1836627">i</span><span class="op" id="1836628">]</span>&nbsp;<span class="op" id="1836630">!=</span>&nbsp;<span class="string" id="1836633">&#39;%&#39;</span>&nbsp;<span class="op" id="1836637">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836642">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1836653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836657">if</span>&nbsp;<span class="ident" id="1836660">i</span>&nbsp;<span class="op" id="1836662">&gt;</span>&nbsp;<span class="ident" id="1836664">start</span>&nbsp;<span class="op" id="1836670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836675">gwrite</span><span class="op" id="1836681">(</span><span class="ident" id="1836682">s</span><span class="op" id="1836683">[</span><span class="ident" id="1836684">start</span><span class="op" id="1836689">:</span><span class="ident" id="1836690">i</span><span class="op" id="1836691">]</span><span class="op" id="1836692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1836696">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836700">if</span>&nbsp;<span class="ident" id="1836703">i</span><span class="op" id="1836704">++</span><span class="op" id="1836706">;</span>&nbsp;<span class="ident" id="1836708">i</span>&nbsp;<span class="op" id="1836710">&gt;=</span>&nbsp;<span class="builtinfunc" id="1836713">len</span><span class="op" id="1836716">(</span><span class="ident" id="1836717">s</span><span class="op" id="1836718">)</span>&nbsp;<span class="op" id="1836720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836725">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1836733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836737">var</span>&nbsp;<span class="ident" id="1836741">siz</span>&nbsp;<span class="builtintype" id="1836745">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836755">switch</span>&nbsp;<span class="ident" id="1836762">s</span><span class="op" id="1836763">[</span><span class="ident" id="1836764">i</span><span class="op" id="1836765">]</span>&nbsp;<span class="op" id="1836767">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836771">case</span>&nbsp;<span class="string" id="1836776">&#39;t&#39;</span><span class="op" id="1836779">,</span>&nbsp;<span class="string" id="1836781">&#39;c&#39;</span><span class="op" id="1836784">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836789">siz</span>&nbsp;<span class="op" id="1836793">=</span>&nbsp;<span class="num" id="1836795">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836799">case</span>&nbsp;<span class="string" id="1836804">&#39;d&#39;</span><span class="op" id="1836807">,</span>&nbsp;<span class="string" id="1836809">&#39;x&#39;</span><span class="op" id="1836812">:</span>&nbsp;<span class="comment" id="1836814">//&nbsp;32-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836827">arg</span>&nbsp;<span class="op" id="1836831">=</span>&nbsp;<span class="ident" id="1836833">roundup</span><span class="op" id="1836840">(</span><span class="ident" id="1836841">arg</span><span class="op" id="1836844">,</span>&nbsp;<span class="num" id="1836846">4</span><span class="op" id="1836847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836852">siz</span>&nbsp;<span class="op" id="1836856">=</span>&nbsp;<span class="num" id="1836858">4</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836862">case</span>&nbsp;<span class="string" id="1836867">&#39;D&#39;</span><span class="op" id="1836870">,</span>&nbsp;<span class="string" id="1836872">&#39;U&#39;</span><span class="op" id="1836875">,</span>&nbsp;<span class="string" id="1836877">&#39;X&#39;</span><span class="op" id="1836880">,</span>&nbsp;<span class="string" id="1836882">&#39;f&#39;</span><span class="op" id="1836885">:</span>&nbsp;<span class="comment" id="1836887">//&nbsp;64-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836900">arg</span>&nbsp;<span class="op" id="1836904">=</span>&nbsp;<span class="ident" id="1836906">roundup</span><span class="op" id="1836913">(</span><span class="ident" id="1836914">arg</span><span class="op" id="1836917">,</span>&nbsp;<span class="ident" id="1836919">unsafe</span><span class="op" id="1836925">.</span><span class="ident" id="1836926">Sizeof</span><span class="op" id="1836932">(</span><span class="ident" id="1836933">uintreg</span><span class="op" id="1836940">(</span><span class="num" id="1836941">0</span><span class="op" id="1836942">)</span><span class="op" id="1836943">)</span><span class="op" id="1836944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836949">siz</span>&nbsp;<span class="op" id="1836953">=</span>&nbsp;<span class="num" id="1836955">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1836959">case</span>&nbsp;<span class="string" id="1836964">&#39;C&#39;</span><span class="op" id="1836967">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1836972">arg</span>&nbsp;<span class="op" id="1836976">=</span>&nbsp;<span class="ident" id="1836978">roundup</span><span class="op" id="1836985">(</span><span class="ident" id="1836986">arg</span><span class="op" id="1836989">,</span>&nbsp;<span class="ident" id="1836991">unsafe</span><span class="op" id="1836997">.</span><span class="ident" id="1836998">Sizeof</span><span class="op" id="1837004">(</span><span class="ident" id="1837005">uintreg</span><span class="op" id="1837012">(</span><span class="num" id="1837013">0</span><span class="op" id="1837014">)</span><span class="op" id="1837015">)</span><span class="op" id="1837016">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837021">siz</span>&nbsp;<span class="op" id="1837025">=</span>&nbsp;<span class="num" id="1837027">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837032">case</span>&nbsp;<span class="string" id="1837037">&#39;p&#39;</span><span class="op" id="1837040">,</span>&nbsp;<span class="string" id="1837042">&#39;s&#39;</span><span class="op" id="1837045">:</span>&nbsp;<span class="comment" id="1837047">//&nbsp;pointer-sized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837067">arg</span>&nbsp;<span class="op" id="1837071">=</span>&nbsp;<span class="ident" id="1837073">roundup</span><span class="op" id="1837080">(</span><span class="ident" id="1837081">arg</span><span class="op" id="1837084">,</span>&nbsp;<span class="ident" id="1837086">unsafe</span><span class="op" id="1837092">.</span><span class="ident" id="1837093">Sizeof</span><span class="op" id="1837099">(</span><span class="builtintype" id="1837100">uintptr</span><span class="op" id="1837107">(</span><span class="num" id="1837108">0</span><span class="op" id="1837109">)</span><span class="op" id="1837110">)</span><span class="op" id="1837111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837116">siz</span>&nbsp;<span class="op" id="1837120">=</span>&nbsp;<span class="ident" id="1837122">unsafe</span><span class="op" id="1837128">.</span><span class="ident" id="1837129">Sizeof</span><span class="op" id="1837135">(</span><span class="builtintype" id="1837136">uintptr</span><span class="op" id="1837143">(</span><span class="num" id="1837144">0</span><span class="op" id="1837145">)</span><span class="op" id="1837146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837150">case</span>&nbsp;<span class="string" id="1837155">&#39;S&#39;</span><span class="op" id="1837158">:</span>&nbsp;<span class="comment" id="1837160">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837193">arg</span>&nbsp;<span class="op" id="1837197">=</span>&nbsp;<span class="ident" id="1837199">roundup</span><span class="op" id="1837206">(</span><span class="ident" id="1837207">arg</span><span class="op" id="1837210">,</span>&nbsp;<span class="ident" id="1837212">unsafe</span><span class="op" id="1837218">.</span><span class="ident" id="1837219">Sizeof</span><span class="op" id="1837225">(</span><span class="builtintype" id="1837226">uintptr</span><span class="op" id="1837233">(</span><span class="num" id="1837234">0</span><span class="op" id="1837235">)</span><span class="op" id="1837236">)</span><span class="op" id="1837237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837242">siz</span>&nbsp;<span class="op" id="1837246">=</span>&nbsp;<span class="ident" id="1837248">unsafe</span><span class="op" id="1837254">.</span><span class="ident" id="1837255">Sizeof</span><span class="op" id="1837261">(</span><span class="builtintype" id="1837262">string</span><span class="op" id="1837268">(</span><span class="string" id="1837269">&#34;&#34;</span><span class="op" id="1837271">)</span><span class="op" id="1837272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837276">case</span>&nbsp;<span class="string" id="1837281">&#39;a&#39;</span><span class="op" id="1837284">:</span>&nbsp;<span class="comment" id="1837286">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837319">arg</span>&nbsp;<span class="op" id="1837323">=</span>&nbsp;<span class="ident" id="1837325">roundup</span><span class="op" id="1837332">(</span><span class="ident" id="1837333">arg</span><span class="op" id="1837336">,</span>&nbsp;<span class="ident" id="1837338">unsafe</span><span class="op" id="1837344">.</span><span class="ident" id="1837345">Sizeof</span><span class="op" id="1837351">(</span><span class="builtintype" id="1837352">uintptr</span><span class="op" id="1837359">(</span><span class="num" id="1837360">0</span><span class="op" id="1837361">)</span><span class="op" id="1837362">)</span><span class="op" id="1837363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837368">siz</span>&nbsp;<span class="op" id="1837372">=</span>&nbsp;<span class="ident" id="1837374">unsafe</span><span class="op" id="1837380">.</span><span class="ident" id="1837381">Sizeof</span><span class="op" id="1837387">(</span><span class="op" id="1837388">[</span><span class="op" id="1837389">]</span><span class="builtintype" id="1837390">byte</span><span class="op" id="1837394">{</span><span class="op" id="1837395">}</span><span class="op" id="1837396">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837400">case</span>&nbsp;<span class="string" id="1837405">&#39;i&#39;</span><span class="op" id="1837408">,</span>&nbsp;<span class="string" id="1837410">&#39;e&#39;</span><span class="op" id="1837413">:</span>&nbsp;<span class="comment" id="1837415">//&nbsp;pointer-aligned&nbsp;but&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837448">arg</span>&nbsp;<span class="op" id="1837452">=</span>&nbsp;<span class="ident" id="1837454">roundup</span><span class="op" id="1837461">(</span><span class="ident" id="1837462">arg</span><span class="op" id="1837465">,</span>&nbsp;<span class="ident" id="1837467">unsafe</span><span class="op" id="1837473">.</span><span class="ident" id="1837474">Sizeof</span><span class="op" id="1837480">(</span><span class="builtintype" id="1837481">uintptr</span><span class="op" id="1837488">(</span><span class="num" id="1837489">0</span><span class="op" id="1837490">)</span><span class="op" id="1837491">)</span><span class="op" id="1837492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837497">siz</span>&nbsp;<span class="op" id="1837501">=</span>&nbsp;<span class="ident" id="1837503">unsafe</span><span class="op" id="1837509">.</span><span class="ident" id="1837510">Sizeof</span><span class="op" id="1837516">(</span><span class="keyword" id="1837517">interface</span><span class="op" id="1837526">{</span><span class="op" id="1837527">}</span><span class="op" id="1837528">(</span><span class="ident" id="1837529">nil</span><span class="op" id="1837532">)</span><span class="op" id="1837533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1837537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837541">switch</span>&nbsp;<span class="ident" id="1837548">s</span><span class="op" id="1837549">[</span><span class="ident" id="1837550">i</span><span class="op" id="1837551">]</span>&nbsp;<span class="op" id="1837553">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837557">case</span>&nbsp;<span class="string" id="1837562">&#39;a&#39;</span><span class="op" id="1837565">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837570">printslice</span><span class="op" id="1837580">(</span><span class="op" id="1837581">*</span><span class="op" id="1837582">(</span><span class="op" id="1837583">*</span><span class="op" id="1837584">[</span><span class="op" id="1837585">]</span><span class="builtintype" id="1837586">byte</span><span class="op" id="1837590">)</span><span class="op" id="1837591">(</span><span class="ident" id="1837592">arg</span><span class="op" id="1837595">)</span><span class="op" id="1837596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837600">case</span>&nbsp;<span class="string" id="1837605">&#39;c&#39;</span><span class="op" id="1837608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837613">printbyte</span><span class="op" id="1837622">(</span><span class="op" id="1837623">*</span><span class="op" id="1837624">(</span><span class="op" id="1837625">*</span><span class="builtintype" id="1837626">byte</span><span class="op" id="1837630">)</span><span class="op" id="1837631">(</span><span class="ident" id="1837632">arg</span><span class="op" id="1837635">)</span><span class="op" id="1837636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837640">case</span>&nbsp;<span class="string" id="1837645">&#39;d&#39;</span><span class="op" id="1837648">:</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837653">printint</span><span class="op" id="1837661">(</span><span class="ident" id="1837662">int64</span><span class="op" id="1837667">(</span><span class="op" id="1837668">*</span><span class="op" id="1837669">(</span><span class="op" id="1837670">*</span><span class="builtintype" id="1837671">int32</span><span class="op" id="1837676">)</span><span class="op" id="1837677">(</span><span class="ident" id="1837678">arg</span><span class="op" id="1837681">)</span><span class="op" id="1837682">)</span><span class="op" id="1837683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837687">case</span>&nbsp;<span class="string" id="1837692">&#39;D&#39;</span><span class="op" id="1837695">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837700">printint</span><span class="op" id="1837708">(</span><span class="ident" id="1837709">int64</span><span class="op" id="1837714">(</span><span class="op" id="1837715">*</span><span class="op" id="1837716">(</span><span class="op" id="1837717">*</span><span class="ident" id="1837718">int64</span><span class="op" id="1837723">)</span><span class="op" id="1837724">(</span><span class="ident" id="1837725">arg</span><span class="op" id="1837728">)</span><span class="op" id="1837729">)</span><span class="op" id="1837730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837734">case</span>&nbsp;<span class="string" id="1837739">&#39;e&#39;</span><span class="op" id="1837742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837747">printeface</span><span class="op" id="1837757">(</span><span class="op" id="1837758">*</span><span class="op" id="1837759">(</span><span class="op" id="1837760">*</span><span class="keyword" id="1837761">interface</span><span class="op" id="1837770">{</span><span class="op" id="1837771">}</span><span class="op" id="1837772">)</span><span class="op" id="1837773">(</span><span class="ident" id="1837774">arg</span><span class="op" id="1837777">)</span><span class="op" id="1837778">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837782">case</span>&nbsp;<span class="string" id="1837787">&#39;f&#39;</span><span class="op" id="1837790">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837795">printfloat</span><span class="op" id="1837805">(</span><span class="op" id="1837806">*</span><span class="op" id="1837807">(</span><span class="op" id="1837808">*</span><span class="builtintype" id="1837809">float64</span><span class="op" id="1837816">)</span><span class="op" id="1837817">(</span><span class="ident" id="1837818">arg</span><span class="op" id="1837821">)</span><span class="op" id="1837822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837826">case</span>&nbsp;<span class="string" id="1837831">&#39;C&#39;</span><span class="op" id="1837834">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837839">printcomplex</span><span class="op" id="1837851">(</span><span class="op" id="1837852">*</span><span class="op" id="1837853">(</span><span class="op" id="1837854">*</span><span class="builtintype" id="1837855">complex128</span><span class="op" id="1837865">)</span><span class="op" id="1837866">(</span><span class="ident" id="1837867">arg</span><span class="op" id="1837870">)</span><span class="op" id="1837871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837875">case</span>&nbsp;<span class="string" id="1837880">&#39;i&#39;</span><span class="op" id="1837883">:</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837888">printiface</span><span class="op" id="1837898">(</span><span class="op" id="1837899">*</span><span class="op" id="1837900">(</span><span class="op" id="1837901">*</span><span class="ident" id="1837902">fInterface</span><span class="op" id="1837912">)</span><span class="op" id="1837913">(</span><span class="ident" id="1837914">arg</span><span class="op" id="1837917">)</span><span class="op" id="1837918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837922">case</span>&nbsp;<span class="string" id="1837927">&#39;p&#39;</span><span class="op" id="1837930">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837935">printpointer</span><span class="op" id="1837947">(</span><span class="op" id="1837948">*</span><span class="op" id="1837949">(</span><span class="op" id="1837950">*</span><span class="ident" id="1837951">unsafe</span><span class="op" id="1837957">.</span><span class="ident" id="1837958">Pointer</span><span class="op" id="1837965">)</span><span class="op" id="1837966">(</span><span class="ident" id="1837967">arg</span><span class="op" id="1837970">)</span><span class="op" id="1837971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1837975">case</span>&nbsp;<span class="string" id="1837980">&#39;s&#39;</span><span class="op" id="1837983">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1837988">prints</span><span class="op" id="1837994">(</span><span class="op" id="1837995">*</span><span class="op" id="1837996">(</span><span class="op" id="1837997">*</span><span class="op" id="1837998">*</span><span class="builtintype" id="1837999">byte</span><span class="op" id="1838003">)</span><span class="op" id="1838004">(</span><span class="ident" id="1838005">arg</span><span class="op" id="1838008">)</span><span class="op" id="1838009">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838013">case</span>&nbsp;<span class="string" id="1838018">&#39;S&#39;</span><span class="op" id="1838021">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838026">printstring</span><span class="op" id="1838037">(</span><span class="op" id="1838038">*</span><span class="op" id="1838039">(</span><span class="op" id="1838040">*</span><span class="builtintype" id="1838041">string</span><span class="op" id="1838047">)</span><span class="op" id="1838048">(</span><span class="ident" id="1838049">arg</span><span class="op" id="1838052">)</span><span class="op" id="1838053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838057">case</span>&nbsp;<span class="string" id="1838062">&#39;t&#39;</span><span class="op" id="1838065">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838070">printbool</span><span class="op" id="1838079">(</span><span class="op" id="1838080">*</span><span class="op" id="1838081">(</span><span class="op" id="1838082">*</span><span class="builtintype" id="1838083">bool</span><span class="op" id="1838087">)</span><span class="op" id="1838088">(</span><span class="ident" id="1838089">arg</span><span class="op" id="1838092">)</span><span class="op" id="1838093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838097">case</span>&nbsp;<span class="string" id="1838102">&#39;U&#39;</span><span class="op" id="1838105">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838110">printuint</span><span class="op" id="1838119">(</span><span class="op" id="1838120">*</span><span class="op" id="1838121">(</span><span class="op" id="1838122">*</span><span class="ident" id="1838123">uint64</span><span class="op" id="1838129">)</span><span class="op" id="1838130">(</span><span class="ident" id="1838131">arg</span><span class="op" id="1838134">)</span><span class="op" id="1838135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838139">case</span>&nbsp;<span class="string" id="1838144">&#39;x&#39;</span><span class="op" id="1838147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838152">printhex</span><span class="op" id="1838160">(</span><span class="ident" id="1838161">uint64</span><span class="op" id="1838167">(</span><span class="op" id="1838168">*</span><span class="op" id="1838169">(</span><span class="op" id="1838170">*</span><span class="builtintype" id="1838171">uint32</span><span class="op" id="1838177">)</span><span class="op" id="1838178">(</span><span class="ident" id="1838179">arg</span><span class="op" id="1838182">)</span><span class="op" id="1838183">)</span><span class="op" id="1838184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838188">case</span>&nbsp;<span class="string" id="1838193">&#39;X&#39;</span><span class="op" id="1838196">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838201">printhex</span><span class="op" id="1838209">(</span><span class="op" id="1838210">*</span><span class="op" id="1838211">(</span><span class="op" id="1838212">*</span><span class="ident" id="1838213">uint64</span><span class="op" id="1838219">)</span><span class="op" id="1838220">(</span><span class="ident" id="1838221">arg</span><span class="op" id="1838224">)</span><span class="op" id="1838225">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838233">arg</span>&nbsp;<span class="op" id="1838237">=</span>&nbsp;<span class="ident" id="1838239">add</span><span class="op" id="1838242">(</span><span class="ident" id="1838243">arg</span><span class="op" id="1838246">,</span>&nbsp;<span class="ident" id="1838248">siz</span><span class="op" id="1838251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838255">start</span>&nbsp;<span class="op" id="1838261">=</span>&nbsp;<span class="ident" id="1838263">i</span>&nbsp;<span class="op" id="1838265">+</span>&nbsp;<span class="num" id="1838267">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838273">if</span>&nbsp;<span class="ident" id="1838276">start</span>&nbsp;<span class="op" id="1838282">&lt;</span>&nbsp;<span class="ident" id="1838284">i</span>&nbsp;<span class="op" id="1838286">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838290">gwrite</span><span class="op" id="1838296">(</span><span class="ident" id="1838297">s</span><span class="op" id="1838298">[</span><span class="ident" id="1838299">start</span><span class="op" id="1838304">:</span><span class="ident" id="1838305">i</span><span class="op" id="1838306">]</span><span class="op" id="1838307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1838314">//unlock(&amp;debuglock);</span><br>
<span class="lineno"></span><span class="op" id="1838336">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="1838339">func</span>&nbsp;<span class="ident" id="1838344">printpc</span><span class="op" id="1838351">(</span><span class="ident" id="1838352">p</span>&nbsp;<span class="ident" id="1838354">unsafe</span><span class="op" id="1838360">.</span><span class="ident" id="1838361">Pointer</span><span class="op" id="1838368">)</span>&nbsp;<span class="op" id="1838370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1838373">print</span><span class="op" id="1838378">(</span><span class="string" id="1838379">&#34;PC=&#34;</span><span class="op" id="1838384">,</span>&nbsp;<span class="ident" id="1838386">hex</span><span class="op" id="1838389">(</span><span class="builtintype" id="1838390">uintptr</span><span class="op" id="1838397">(</span><span class="ident" id="1838398">p</span><span class="op" id="1838399">)</span><span class="op" id="1838400">)</span><span class="op" id="1838401">)</span><br>
<span class="lineno"></span><span class="op" id="1838403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="1838406">func</span>&nbsp;<span class="ident" id="1838411">printbool</span><span class="op" id="1838420">(</span><span class="ident" id="1838421">v</span>&nbsp;<span class="builtintype" id="1838423">bool</span><span class="op" id="1838427">)</span>&nbsp;<span class="op" id="1838429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838432">if</span>&nbsp;<span class="ident" id="1838435">v</span>&nbsp;<span class="op" id="1838437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1838441">print</span><span class="op" id="1838446">(</span><span class="string" id="1838447">&#34;true&#34;</span><span class="op" id="1838453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838456">}</span>&nbsp;<span class="keyword" id="1838458">else</span>&nbsp;<span class="op" id="1838463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1838467">print</span><span class="op" id="1838472">(</span><span class="string" id="1838473">&#34;false&#34;</span><span class="op" id="1838480">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838483">}</span><br>
<span class="lineno"></span><span class="op" id="1838485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1838488">func</span>&nbsp;<span class="ident" id="1838493">printbyte</span><span class="op" id="1838502">(</span><span class="ident" id="1838503">c</span>&nbsp;<span class="builtintype" id="1838505">byte</span><span class="op" id="1838509">)</span>&nbsp;<span class="op" id="1838511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838514">gwrite</span><span class="op" id="1838520">(</span><span class="op" id="1838521">(</span><span class="op" id="1838522">*</span><span class="op" id="1838523">[</span><span class="num" id="1838524">1</span><span class="op" id="1838525">]</span><span class="builtintype" id="1838526">byte</span><span class="op" id="1838530">)</span><span class="op" id="1838531">(</span><span class="ident" id="1838532">unsafe</span><span class="op" id="1838538">.</span><span class="ident" id="1838539">Pointer</span><span class="op" id="1838546">(</span><span class="op" id="1838547">&amp;</span><span class="ident" id="1838548">c</span><span class="op" id="1838549">)</span><span class="op" id="1838550">)</span><span class="op" id="1838551">[</span><span class="op" id="1838552">:</span><span class="op" id="1838553">]</span><span class="op" id="1838554">)</span><br>
<span class="lineno">180</span><span class="op" id="1838556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1838559">func</span>&nbsp;<span class="ident" id="1838564">printfloat</span><span class="op" id="1838574">(</span><span class="ident" id="1838575">v</span>&nbsp;<span class="builtintype" id="1838577">float64</span><span class="op" id="1838584">)</span>&nbsp;<span class="op" id="1838586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838589">switch</span>&nbsp;<span class="op" id="1838596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838599">case</span>&nbsp;<span class="ident" id="1838604">v</span>&nbsp;<span class="op" id="1838606">!=</span>&nbsp;<span class="ident" id="1838609">v</span><span class="op" id="1838610">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1838614">print</span><span class="op" id="1838619">(</span><span class="string" id="1838620">&#34;NaN&#34;</span><span class="op" id="1838625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838629">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838637">case</span>&nbsp;<span class="ident" id="1838642">v</span><span class="op" id="1838643">+</span><span class="ident" id="1838644">v</span>&nbsp;<span class="op" id="1838646">==</span>&nbsp;<span class="ident" id="1838649">v</span>&nbsp;<span class="op" id="1838651">&amp;&amp;</span>&nbsp;<span class="ident" id="1838654">v</span>&nbsp;<span class="op" id="1838656">&gt;</span>&nbsp;<span class="num" id="1838658">0</span><span class="op" id="1838659">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1838663">print</span><span class="op" id="1838668">(</span><span class="string" id="1838669">&#34;+Inf&#34;</span><span class="op" id="1838675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838679">return</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838687">case</span>&nbsp;<span class="ident" id="1838692">v</span><span class="op" id="1838693">+</span><span class="ident" id="1838694">v</span>&nbsp;<span class="op" id="1838696">==</span>&nbsp;<span class="ident" id="1838699">v</span>&nbsp;<span class="op" id="1838701">&amp;&amp;</span>&nbsp;<span class="ident" id="1838704">v</span>&nbsp;<span class="op" id="1838706">&lt;</span>&nbsp;<span class="num" id="1838708">0</span><span class="op" id="1838709">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1838713">print</span><span class="op" id="1838718">(</span><span class="string" id="1838719">&#34;-Inf&#34;</span><span class="op" id="1838725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838729">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838741">const</span>&nbsp;<span class="ident" id="1838747">n</span>&nbsp;<span class="op" id="1838749">=</span>&nbsp;<span class="num" id="1838751">7</span>&nbsp;<span class="comment" id="1838753">//&nbsp;digits&nbsp;printed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838772">var</span>&nbsp;<span class="ident" id="1838776">buf</span>&nbsp;<span class="op" id="1838780">[</span><span class="ident" id="1838781">n</span>&nbsp;<span class="op" id="1838783">+</span>&nbsp;<span class="num" id="1838785">7</span><span class="op" id="1838786">]</span><span class="builtintype" id="1838787">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838793">buf</span><span class="op" id="1838796">[</span><span class="num" id="1838797">0</span><span class="op" id="1838798">]</span>&nbsp;<span class="op" id="1838800">=</span>&nbsp;<span class="string" id="1838802">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838807">e</span>&nbsp;<span class="op" id="1838809">:=</span>&nbsp;<span class="num" id="1838812">0</span>&nbsp;<span class="comment" id="1838814">//&nbsp;exp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838822">if</span>&nbsp;<span class="ident" id="1838825">v</span>&nbsp;<span class="op" id="1838827">==</span>&nbsp;<span class="num" id="1838830">0</span>&nbsp;<span class="op" id="1838832">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838836">if</span>&nbsp;<span class="num" id="1838839">1</span><span class="op" id="1838840">/</span><span class="ident" id="1838841">v</span>&nbsp;<span class="op" id="1838843">&lt;</span>&nbsp;<span class="num" id="1838845">0</span>&nbsp;<span class="op" id="1838847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838852">buf</span><span class="op" id="1838855">[</span><span class="num" id="1838856">0</span><span class="op" id="1838857">]</span>&nbsp;<span class="op" id="1838859">=</span>&nbsp;<span class="string" id="1838861">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838870">}</span>&nbsp;<span class="keyword" id="1838872">else</span>&nbsp;<span class="op" id="1838877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838881">if</span>&nbsp;<span class="ident" id="1838884">v</span>&nbsp;<span class="op" id="1838886">&lt;</span>&nbsp;<span class="num" id="1838888">0</span>&nbsp;<span class="op" id="1838890">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838895">v</span>&nbsp;<span class="op" id="1838897">=</span>&nbsp;<span class="op" id="1838899">-</span><span class="ident" id="1838900">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838905">buf</span><span class="op" id="1838908">[</span><span class="num" id="1838909">0</span><span class="op" id="1838910">]</span>&nbsp;<span class="op" id="1838912">=</span>&nbsp;<span class="string" id="1838914">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838920">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1838925">//&nbsp;normalize</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838940">for</span>&nbsp;<span class="ident" id="1838944">v</span>&nbsp;<span class="op" id="1838946">&gt;=</span>&nbsp;<span class="num" id="1838949">10</span>&nbsp;<span class="op" id="1838952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838957">e</span><span class="op" id="1838958">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838964">v</span>&nbsp;<span class="op" id="1838966">/=</span>&nbsp;<span class="num" id="1838969">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1838974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1838978">for</span>&nbsp;<span class="ident" id="1838982">v</span>&nbsp;<span class="op" id="1838984">&lt;</span>&nbsp;<span class="num" id="1838986">1</span>&nbsp;<span class="op" id="1838988">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1838993">e</span><span class="op" id="1838994">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839000">v</span>&nbsp;<span class="op" id="1839002">*=</span>&nbsp;<span class="num" id="1839005">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1839015">//&nbsp;round</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839026">h</span>&nbsp;<span class="op" id="1839028">:=</span>&nbsp;<span class="num" id="1839031">5.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839037">for</span>&nbsp;<span class="ident" id="1839041">i</span>&nbsp;<span class="op" id="1839043">:=</span>&nbsp;<span class="num" id="1839046">0</span><span class="op" id="1839047">;</span>&nbsp;<span class="ident" id="1839049">i</span>&nbsp;<span class="op" id="1839051">&lt;</span>&nbsp;<span class="ident" id="1839053">n</span><span class="op" id="1839054">;</span>&nbsp;<span class="ident" id="1839056">i</span><span class="op" id="1839057">++</span>&nbsp;<span class="op" id="1839060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839065">h</span>&nbsp;<span class="op" id="1839067">/=</span>&nbsp;<span class="num" id="1839070">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839079">v</span>&nbsp;<span class="op" id="1839081">+=</span>&nbsp;<span class="ident" id="1839084">h</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839088">if</span>&nbsp;<span class="ident" id="1839091">v</span>&nbsp;<span class="op" id="1839093">&gt;=</span>&nbsp;<span class="num" id="1839096">10</span>&nbsp;<span class="op" id="1839099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839104">e</span><span class="op" id="1839105">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839111">v</span>&nbsp;<span class="op" id="1839113">/=</span>&nbsp;<span class="num" id="1839116">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839124">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1839128">//&nbsp;format&nbsp;+d.dddd+edd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839151">for</span>&nbsp;<span class="ident" id="1839155">i</span>&nbsp;<span class="op" id="1839157">:=</span>&nbsp;<span class="num" id="1839160">0</span><span class="op" id="1839161">;</span>&nbsp;<span class="ident" id="1839163">i</span>&nbsp;<span class="op" id="1839165">&lt;</span>&nbsp;<span class="ident" id="1839167">n</span><span class="op" id="1839168">;</span>&nbsp;<span class="ident" id="1839170">i</span><span class="op" id="1839171">++</span>&nbsp;<span class="op" id="1839174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839178">s</span>&nbsp;<span class="op" id="1839180">:=</span>&nbsp;<span class="builtintype" id="1839183">int</span><span class="op" id="1839186">(</span><span class="ident" id="1839187">v</span><span class="op" id="1839188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839192">buf</span><span class="op" id="1839195">[</span><span class="ident" id="1839196">i</span><span class="op" id="1839197">+</span><span class="num" id="1839198">2</span><span class="op" id="1839199">]</span>&nbsp;<span class="op" id="1839201">=</span>&nbsp;<span class="builtintype" id="1839203">byte</span><span class="op" id="1839207">(</span><span class="ident" id="1839208">s</span>&nbsp;<span class="op" id="1839210">+</span>&nbsp;<span class="string" id="1839212">&#39;0&#39;</span><span class="op" id="1839215">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839219">v</span>&nbsp;<span class="op" id="1839221">-=</span>&nbsp;<span class="builtintype" id="1839224">float64</span><span class="op" id="1839231">(</span><span class="ident" id="1839232">s</span><span class="op" id="1839233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839237">v</span>&nbsp;<span class="op" id="1839239">*=</span>&nbsp;<span class="num" id="1839242">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839249">buf</span><span class="op" id="1839252">[</span><span class="num" id="1839253">1</span><span class="op" id="1839254">]</span>&nbsp;<span class="op" id="1839256">=</span>&nbsp;<span class="ident" id="1839258">buf</span><span class="op" id="1839261">[</span><span class="num" id="1839262">2</span><span class="op" id="1839263">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839266">buf</span><span class="op" id="1839269">[</span><span class="num" id="1839270">2</span><span class="op" id="1839271">]</span>&nbsp;<span class="op" id="1839273">=</span>&nbsp;<span class="string" id="1839275">&#39;.&#39;</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839281">buf</span><span class="op" id="1839284">[</span><span class="ident" id="1839285">n</span><span class="op" id="1839286">+</span><span class="num" id="1839287">2</span><span class="op" id="1839288">]</span>&nbsp;<span class="op" id="1839290">=</span>&nbsp;<span class="string" id="1839292">&#39;e&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839297">buf</span><span class="op" id="1839300">[</span><span class="ident" id="1839301">n</span><span class="op" id="1839302">+</span><span class="num" id="1839303">3</span><span class="op" id="1839304">]</span>&nbsp;<span class="op" id="1839306">=</span>&nbsp;<span class="string" id="1839308">&#39;+&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839313">if</span>&nbsp;<span class="ident" id="1839316">e</span>&nbsp;<span class="op" id="1839318">&lt;</span>&nbsp;<span class="num" id="1839320">0</span>&nbsp;<span class="op" id="1839322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839326">e</span>&nbsp;<span class="op" id="1839328">=</span>&nbsp;<span class="op" id="1839330">-</span><span class="ident" id="1839331">e</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839335">buf</span><span class="op" id="1839338">[</span><span class="ident" id="1839339">n</span><span class="op" id="1839340">+</span><span class="num" id="1839341">3</span><span class="op" id="1839342">]</span>&nbsp;<span class="op" id="1839344">=</span>&nbsp;<span class="string" id="1839346">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839355">buf</span><span class="op" id="1839358">[</span><span class="ident" id="1839359">n</span><span class="op" id="1839360">+</span><span class="num" id="1839361">4</span><span class="op" id="1839362">]</span>&nbsp;<span class="op" id="1839364">=</span>&nbsp;<span class="builtintype" id="1839366">byte</span><span class="op" id="1839370">(</span><span class="ident" id="1839371">e</span><span class="op" id="1839372">/</span><span class="num" id="1839373">100</span><span class="op" id="1839376">)</span>&nbsp;<span class="op" id="1839378">+</span>&nbsp;<span class="string" id="1839380">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839385">buf</span><span class="op" id="1839388">[</span><span class="ident" id="1839389">n</span><span class="op" id="1839390">+</span><span class="num" id="1839391">5</span><span class="op" id="1839392">]</span>&nbsp;<span class="op" id="1839394">=</span>&nbsp;<span class="builtintype" id="1839396">byte</span><span class="op" id="1839400">(</span><span class="ident" id="1839401">e</span><span class="op" id="1839402">/</span><span class="num" id="1839403">10</span><span class="op" id="1839405">)</span><span class="op" id="1839406">%</span><span class="num" id="1839407">10</span>&nbsp;<span class="op" id="1839410">+</span>&nbsp;<span class="string" id="1839412">&#39;0&#39;</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839417">buf</span><span class="op" id="1839420">[</span><span class="ident" id="1839421">n</span><span class="op" id="1839422">+</span><span class="num" id="1839423">6</span><span class="op" id="1839424">]</span>&nbsp;<span class="op" id="1839426">=</span>&nbsp;<span class="builtintype" id="1839428">byte</span><span class="op" id="1839432">(</span><span class="ident" id="1839433">e</span><span class="op" id="1839434">%</span><span class="num" id="1839435">10</span><span class="op" id="1839437">)</span>&nbsp;<span class="op" id="1839439">+</span>&nbsp;<span class="string" id="1839441">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839446">gwrite</span><span class="op" id="1839452">(</span><span class="ident" id="1839453">buf</span><span class="op" id="1839456">[</span><span class="op" id="1839457">:</span><span class="op" id="1839458">]</span><span class="op" id="1839459">)</span><br>
<span class="lineno"></span><span class="op" id="1839461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1839464">func</span>&nbsp;<span class="ident" id="1839469">printcomplex</span><span class="op" id="1839481">(</span><span class="ident" id="1839482">c</span>&nbsp;<span class="builtintype" id="1839484">complex128</span><span class="op" id="1839494">)</span>&nbsp;<span class="op" id="1839496">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1839499">print</span><span class="op" id="1839504">(</span><span class="string" id="1839505">&#34;(&#34;</span><span class="op" id="1839508">,</span>&nbsp;<span class="builtinfunc" id="1839510">real</span><span class="op" id="1839514">(</span><span class="ident" id="1839515">c</span><span class="op" id="1839516">)</span><span class="op" id="1839517">,</span>&nbsp;<span class="builtinfunc" id="1839519">imag</span><span class="op" id="1839523">(</span><span class="ident" id="1839524">c</span><span class="op" id="1839525">)</span><span class="op" id="1839526">,</span>&nbsp;<span class="string" id="1839528">&#34;i)&#34;</span><span class="op" id="1839532">)</span><br>
<span class="lineno"></span><span class="op" id="1839534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1839537">func</span>&nbsp;<span class="ident" id="1839542">printuint</span><span class="op" id="1839551">(</span><span class="ident" id="1839552">v</span>&nbsp;<span class="ident" id="1839554">uint64</span><span class="op" id="1839560">)</span>&nbsp;<span class="op" id="1839562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839565">var</span>&nbsp;<span class="ident" id="1839569">buf</span>&nbsp;<span class="op" id="1839573">[</span><span class="num" id="1839574">100</span><span class="op" id="1839577">]</span><span class="builtintype" id="1839578">byte</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839584">i</span>&nbsp;<span class="op" id="1839586">:=</span>&nbsp;<span class="builtinfunc" id="1839589">len</span><span class="op" id="1839592">(</span><span class="ident" id="1839593">buf</span><span class="op" id="1839596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839599">for</span>&nbsp;<span class="ident" id="1839603">i</span><span class="op" id="1839604">--</span><span class="op" id="1839606">;</span>&nbsp;<span class="ident" id="1839608">i</span>&nbsp;<span class="op" id="1839610">&gt;</span>&nbsp;<span class="num" id="1839612">0</span><span class="op" id="1839613">;</span>&nbsp;<span class="ident" id="1839615">i</span><span class="op" id="1839616">--</span>&nbsp;<span class="op" id="1839619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839623">buf</span><span class="op" id="1839626">[</span><span class="ident" id="1839627">i</span><span class="op" id="1839628">]</span>&nbsp;<span class="op" id="1839630">=</span>&nbsp;<span class="builtintype" id="1839632">byte</span><span class="op" id="1839636">(</span><span class="ident" id="1839637">v</span><span class="op" id="1839638">%</span><span class="num" id="1839639">10</span>&nbsp;<span class="op" id="1839642">+</span>&nbsp;<span class="string" id="1839644">&#39;0&#39;</span><span class="op" id="1839647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839651">if</span>&nbsp;<span class="ident" id="1839654">v</span>&nbsp;<span class="op" id="1839656">&lt;</span>&nbsp;<span class="num" id="1839658">10</span>&nbsp;<span class="op" id="1839661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839666">break</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839678">v</span>&nbsp;<span class="op" id="1839680">/=</span>&nbsp;<span class="num" id="1839683">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839690">gwrite</span><span class="op" id="1839696">(</span><span class="ident" id="1839697">buf</span><span class="op" id="1839700">[</span><span class="ident" id="1839701">i</span><span class="op" id="1839702">:</span><span class="op" id="1839703">]</span><span class="op" id="1839704">)</span><br>
<span class="lineno"></span><span class="op" id="1839706">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1839709">func</span>&nbsp;<span class="ident" id="1839714">printint</span><span class="op" id="1839722">(</span><span class="ident" id="1839723">v</span>&nbsp;<span class="ident" id="1839725">int64</span><span class="op" id="1839730">)</span>&nbsp;<span class="op" id="1839732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839735">if</span>&nbsp;<span class="ident" id="1839738">v</span>&nbsp;<span class="op" id="1839740">&lt;</span>&nbsp;<span class="num" id="1839742">0</span>&nbsp;<span class="op" id="1839744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1839748">print</span><span class="op" id="1839753">(</span><span class="string" id="1839754">&#34;-&#34;</span><span class="op" id="1839757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839761">v</span>&nbsp;<span class="op" id="1839763">=</span>&nbsp;<span class="op" id="1839765">-</span><span class="ident" id="1839766">v</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839772">printuint</span><span class="op" id="1839781">(</span><span class="ident" id="1839782">uint64</span><span class="op" id="1839788">(</span><span class="ident" id="1839789">v</span><span class="op" id="1839790">)</span><span class="op" id="1839791">)</span><br>
<span class="lineno"></span><span class="op" id="1839793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1839796">func</span>&nbsp;<span class="ident" id="1839801">printhex</span><span class="op" id="1839809">(</span><span class="ident" id="1839810">v</span>&nbsp;<span class="ident" id="1839812">uint64</span><span class="op" id="1839818">)</span>&nbsp;<span class="op" id="1839820">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839823">const</span>&nbsp;<span class="ident" id="1839829">dig</span>&nbsp;<span class="op" id="1839833">=</span>&nbsp;<span class="string" id="1839835">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839855">var</span>&nbsp;<span class="ident" id="1839859">buf</span>&nbsp;<span class="op" id="1839863">[</span><span class="num" id="1839864">100</span><span class="op" id="1839867">]</span><span class="builtintype" id="1839868">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839874">i</span>&nbsp;<span class="op" id="1839876">:=</span>&nbsp;<span class="builtinfunc" id="1839879">len</span><span class="op" id="1839882">(</span><span class="ident" id="1839883">buf</span><span class="op" id="1839886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839889">for</span>&nbsp;<span class="ident" id="1839893">i</span><span class="op" id="1839894">--</span><span class="op" id="1839896">;</span>&nbsp;<span class="ident" id="1839898">i</span>&nbsp;<span class="op" id="1839900">&gt;</span>&nbsp;<span class="num" id="1839902">0</span><span class="op" id="1839903">;</span>&nbsp;<span class="ident" id="1839905">i</span><span class="op" id="1839906">--</span>&nbsp;<span class="op" id="1839909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839913">buf</span><span class="op" id="1839916">[</span><span class="ident" id="1839917">i</span><span class="op" id="1839918">]</span>&nbsp;<span class="op" id="1839920">=</span>&nbsp;<span class="ident" id="1839922">dig</span><span class="op" id="1839925">[</span><span class="ident" id="1839926">v</span><span class="op" id="1839927">%</span><span class="num" id="1839928">16</span><span class="op" id="1839930">]</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839934">if</span>&nbsp;<span class="ident" id="1839937">v</span>&nbsp;<span class="op" id="1839939">&lt;</span>&nbsp;<span class="num" id="1839941">16</span>&nbsp;<span class="op" id="1839944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1839949">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839961">v</span>&nbsp;<span class="op" id="1839963">/=</span>&nbsp;<span class="num" id="1839966">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1839970">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839973">i</span><span class="op" id="1839974">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839978">buf</span><span class="op" id="1839981">[</span><span class="ident" id="1839982">i</span><span class="op" id="1839983">]</span>&nbsp;<span class="op" id="1839985">=</span>&nbsp;<span class="string" id="1839987">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839992">i</span><span class="op" id="1839993">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1839997">buf</span><span class="op" id="1840000">[</span><span class="ident" id="1840001">i</span><span class="op" id="1840002">]</span>&nbsp;<span class="op" id="1840004">=</span>&nbsp;<span class="string" id="1840006">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1840011">gwrite</span><span class="op" id="1840017">(</span><span class="ident" id="1840018">buf</span><span class="op" id="1840021">[</span><span class="ident" id="1840022">i</span><span class="op" id="1840023">:</span><span class="op" id="1840024">]</span><span class="op" id="1840025">)</span><br>
<span class="lineno">295</span><span class="op" id="1840027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1840030">func</span>&nbsp;<span class="ident" id="1840035">printpointer</span><span class="op" id="1840047">(</span><span class="ident" id="1840048">p</span>&nbsp;<span class="ident" id="1840050">unsafe</span><span class="op" id="1840056">.</span><span class="ident" id="1840057">Pointer</span><span class="op" id="1840064">)</span>&nbsp;<span class="op" id="1840066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1840069">printhex</span><span class="op" id="1840077">(</span><span class="ident" id="1840078">uint64</span><span class="op" id="1840084">(</span><span class="builtintype" id="1840085">uintptr</span><span class="op" id="1840092">(</span><span class="ident" id="1840093">p</span><span class="op" id="1840094">)</span><span class="op" id="1840095">)</span><span class="op" id="1840096">)</span><br>
<span class="lineno"></span><span class="op" id="1840098">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="keyword" id="1840101">func</span>&nbsp;<span class="ident" id="1840106">printstring</span><span class="op" id="1840117">(</span><span class="ident" id="1840118">s</span>&nbsp;<span class="builtintype" id="1840120">string</span><span class="op" id="1840126">)</span>&nbsp;<span class="op" id="1840128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1840131">if</span>&nbsp;<span class="builtintype" id="1840134">uintptr</span><span class="op" id="1840141">(</span><span class="builtinfunc" id="1840142">len</span><span class="op" id="1840145">(</span><span class="ident" id="1840146">s</span><span class="op" id="1840147">)</span><span class="op" id="1840148">)</span>&nbsp;<span class="op" id="1840150">&gt;</span>&nbsp;<span class="ident" id="1840152">maxstring</span>&nbsp;<span class="op" id="1840162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1840166">gwrite</span><span class="op" id="1840172">(</span><span class="ident" id="1840173">bytes</span><span class="op" id="1840178">(</span><span class="string" id="1840179">&#34;[string&nbsp;too&nbsp;long]&#34;</span><span class="op" id="1840198">)</span><span class="op" id="1840199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1840203">return</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1840211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1840214">gwrite</span><span class="op" id="1840220">(</span><span class="ident" id="1840221">bytes</span><span class="op" id="1840226">(</span><span class="ident" id="1840227">s</span><span class="op" id="1840228">)</span><span class="op" id="1840229">)</span><br>
<span class="lineno"></span><span class="op" id="1840231">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1840234">func</span>&nbsp;<span class="ident" id="1840239">printslice</span><span class="op" id="1840249">(</span><span class="ident" id="1840250">s</span>&nbsp;<span class="op" id="1840252">[</span><span class="op" id="1840253">]</span><span class="builtintype" id="1840254">byte</span><span class="op" id="1840258">)</span>&nbsp;<span class="op" id="1840260">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1840263">sp</span>&nbsp;<span class="op" id="1840266">:=</span>&nbsp;<span class="op" id="1840269">(</span><span class="op" id="1840270">*</span><span class="ident" id="1840271">slice</span><span class="op" id="1840276">)</span><span class="op" id="1840277">(</span><span class="ident" id="1840278">unsafe</span><span class="op" id="1840284">.</span><span class="ident" id="1840285">Pointer</span><span class="op" id="1840292">(</span><span class="op" id="1840293">&amp;</span><span class="ident" id="1840294">s</span><span class="op" id="1840295">)</span><span class="op" id="1840296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1840299">print</span><span class="op" id="1840304">(</span><span class="string" id="1840305">&#34;[&#34;</span><span class="op" id="1840308">,</span>&nbsp;<span class="builtinfunc" id="1840310">len</span><span class="op" id="1840313">(</span><span class="ident" id="1840314">s</span><span class="op" id="1840315">)</span><span class="op" id="1840316">,</span>&nbsp;<span class="string" id="1840318">&#34;/&#34;</span><span class="op" id="1840321">,</span>&nbsp;<span class="builtinfunc" id="1840323">cap</span><span class="op" id="1840326">(</span><span class="ident" id="1840327">s</span><span class="op" id="1840328">)</span><span class="op" id="1840329">,</span>&nbsp;<span class="string" id="1840331">&#34;]&#34;</span><span class="op" id="1840334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1840337">printpointer</span><span class="op" id="1840349">(</span><span class="ident" id="1840350">unsafe</span><span class="op" id="1840356">.</span><span class="ident" id="1840357">Pointer</span><span class="op" id="1840364">(</span><span class="ident" id="1840365">sp</span><span class="op" id="1840367">.</span><span class="ident" id="1840368">array</span><span class="op" id="1840373">)</span><span class="op" id="1840374">)</span><br>
<span class="lineno"></span><span class="op" id="1840376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1840379">func</span>&nbsp;<span class="ident" id="1840384">printeface</span><span class="op" id="1840394">(</span><span class="ident" id="1840395">e</span>&nbsp;<span class="keyword" id="1840397">interface</span><span class="op" id="1840406">{</span><span class="op" id="1840407">}</span><span class="op" id="1840408">)</span>&nbsp;<span class="op" id="1840410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1840413">ep</span>&nbsp;<span class="op" id="1840416">:=</span>&nbsp;<span class="op" id="1840419">(</span><span class="op" id="1840420">*</span><span class="ident" id="1840421">eface</span><span class="op" id="1840426">)</span><span class="op" id="1840427">(</span><span class="ident" id="1840428">unsafe</span><span class="op" id="1840434">.</span><span class="ident" id="1840435">Pointer</span><span class="op" id="1840442">(</span><span class="op" id="1840443">&amp;</span><span class="ident" id="1840444">e</span><span class="op" id="1840445">)</span><span class="op" id="1840446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1840449">print</span><span class="op" id="1840454">(</span><span class="string" id="1840455">&#34;(&#34;</span><span class="op" id="1840458">,</span>&nbsp;<span class="ident" id="1840460">ep</span><span class="op" id="1840462">.</span><span class="ident" id="1840463">_type</span><span class="op" id="1840468">,</span>&nbsp;<span class="string" id="1840470">&#34;,&#34;</span><span class="op" id="1840473">,</span>&nbsp;<span class="ident" id="1840475">ep</span><span class="op" id="1840477">.</span><span class="ident" id="1840478">data</span><span class="op" id="1840482">,</span>&nbsp;<span class="string" id="1840484">&#34;)&#34;</span><span class="op" id="1840487">)</span><br>
<span class="lineno"></span><span class="op" id="1840489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1840492">func</span>&nbsp;<span class="ident" id="1840497">printiface</span><span class="op" id="1840507">(</span><span class="ident" id="1840508">i</span>&nbsp;<span class="ident" id="1840510">fInterface</span><span class="op" id="1840520">)</span>&nbsp;<span class="op" id="1840522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1840525">ip</span>&nbsp;<span class="op" id="1840528">:=</span>&nbsp;<span class="op" id="1840531">(</span><span class="op" id="1840532">*</span><span class="ident" id="1840533">iface</span><span class="op" id="1840538">)</span><span class="op" id="1840539">(</span><span class="ident" id="1840540">unsafe</span><span class="op" id="1840546">.</span><span class="ident" id="1840547">Pointer</span><span class="op" id="1840554">(</span><span class="op" id="1840555">&amp;</span><span class="ident" id="1840556">i</span><span class="op" id="1840557">)</span><span class="op" id="1840558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1840561">print</span><span class="op" id="1840566">(</span><span class="string" id="1840567">&#34;(&#34;</span><span class="op" id="1840570">,</span>&nbsp;<span class="ident" id="1840572">ip</span><span class="op" id="1840574">.</span><span class="ident" id="1840575">tab</span><span class="op" id="1840578">,</span>&nbsp;<span class="string" id="1840580">&#34;,&#34;</span><span class="op" id="1840583">,</span>&nbsp;<span class="ident" id="1840585">ip</span><span class="op" id="1840587">.</span><span class="ident" id="1840588">data</span><span class="op" id="1840592">,</span>&nbsp;<span class="string" id="1840594">&#34;)&#34;</span><span class="op" id="1840597">)</span><br>
<span class="lineno"></span><span class="op" id="1840599">}</span>
</div>
</body>
</html>
