<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1475603">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1475658">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1475712">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1475763">//&nbsp;Simple&nbsp;file&nbsp;i/o&nbsp;and&nbsp;string&nbsp;manipulation,&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span><span class="comment" id="1475816">//&nbsp;depending&nbsp;on&nbsp;strconv&nbsp;and&nbsp;bufio&nbsp;and&nbsp;strings.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1475864">package</span>&nbsp;<span class="ident" id="1475872">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="1475877">import</span>&nbsp;<span class="op" id="1475884">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1475887">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1475893">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="1475898">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="1475901">type</span>&nbsp;<span class="ident" id="1475906">file</span>&nbsp;<span class="keyword" id="1475911">struct</span>&nbsp;<span class="op" id="1475918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475921">file</span>&nbsp;&nbsp;<span class="op" id="1475927">*</span><span class="ident" id="1475928"><a href="/net/parse.go.html#1475893">os</a></span><span class="op" id="1475930">.</span><span class="ident" id="1475931">File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475937">data</span>&nbsp;&nbsp;<span class="op" id="1475943">[</span><span class="op" id="1475944">]</span><span class="builtintype" id="1475945">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475951">atEOF</span>&nbsp;<span class="builtintype" id="1475957">bool</span><br>
<span class="lineno"></span><span class="op" id="1475962">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1475965">func</span>&nbsp;<span class="op" id="1475970">(</span><span class="ident" id="1475971">f</span>&nbsp;<span class="op" id="1475973">*</span><span class="ident" id="1475974"><a href="/net/parse.go.html#1475906">file</a></span><span class="op" id="1475978">)</span>&nbsp;<span class="builtinfunc" id="1475980">close</span><span class="op" id="1475985">(</span><span class="op" id="1475986">)</span>&nbsp;<span class="op" id="1475988">{</span>&nbsp;<span class="ident" id="1475990"><a href="/net/parse.go.html#1475971">f</a></span><span class="op" id="1475991">.</span><span class="ident" id="1475992">file</span><span class="op" id="1475996">.</span><span class="ident" id="1475997">Close</span><span class="op" id="1476002">(</span><span class="op" id="1476003">)</span>&nbsp;<span class="op" id="1476005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1476008">func</span>&nbsp;<span class="op" id="1476013">(</span><span class="ident" id="1476014">f</span>&nbsp;<span class="op" id="1476016">*</span><span class="ident" id="1476017"><a href="/net/parse.go.html#1475906">file</a></span><span class="op" id="1476021">)</span>&nbsp;<span class="ident" id="1476023">getLineFromData</span><span class="op" id="1476038">(</span><span class="op" id="1476039">)</span>&nbsp;<span class="op" id="1476041">(</span><span class="ident" id="1476042">s</span>&nbsp;<span class="builtintype" id="1476044">string</span><span class="op" id="1476050">,</span>&nbsp;<span class="ident" id="1476052">ok</span>&nbsp;<span class="builtintype" id="1476055">bool</span><span class="op" id="1476059">)</span>&nbsp;<span class="op" id="1476061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476064">data</span>&nbsp;<span class="op" id="1476069">:=</span>&nbsp;<span class="ident" id="1476072"><a href="/net/parse.go.html#1476014">f</a></span><span class="op" id="1476073">.</span><span class="ident" id="1476074">data</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476080">i</span>&nbsp;<span class="op" id="1476082">:=</span>&nbsp;<span class="num" id="1476085">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476088">for</span>&nbsp;<span class="ident" id="1476092"><a href="/net/parse.go.html#1476080">i</a></span>&nbsp;<span class="op" id="1476094">=</span>&nbsp;<span class="num" id="1476096">0</span><span class="op" id="1476097">;</span>&nbsp;<span class="ident" id="1476099"><a href="/net/parse.go.html#1476080">i</a></span>&nbsp;<span class="op" id="1476101">&lt;</span>&nbsp;<span class="builtinfunc" id="1476103">len</span><span class="op" id="1476106">(</span><span class="ident" id="1476107"><a href="/net/parse.go.html#1476064">data</a></span><span class="op" id="1476111">)</span><span class="op" id="1476112">;</span>&nbsp;<span class="ident" id="1476114"><a href="/net/parse.go.html#1476080">i</a></span><span class="op" id="1476115">++</span>&nbsp;<span class="op" id="1476118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476122">if</span>&nbsp;<span class="ident" id="1476125"><a href="/net/parse.go.html#1476064">data</a></span><span class="op" id="1476129">[</span><span class="ident" id="1476130"><a href="/net/parse.go.html#1476080">i</a></span><span class="op" id="1476131">]</span>&nbsp;<span class="op" id="1476133">==</span>&nbsp;<span class="string" id="1476136">&#39;\n&#39;</span>&nbsp;<span class="op" id="1476141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476146"><a href="/net/parse.go.html#1476042">s</a></span>&nbsp;<span class="op" id="1476148">=</span>&nbsp;<span class="builtintype" id="1476150">string</span><span class="op" id="1476156">(</span><span class="ident" id="1476157"><a href="/net/parse.go.html#1476064">data</a></span><span class="op" id="1476161">[</span><span class="num" id="1476162">0</span><span class="op" id="1476163">:</span><span class="ident" id="1476164"><a href="/net/parse.go.html#1476080">i</a></span><span class="op" id="1476165">]</span><span class="op" id="1476166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476171"><a href="/net/parse.go.html#1476052">ok</a></span>&nbsp;<span class="op" id="1476174">=</span>&nbsp;<span class="builtintype" id="1476176">true</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1476184">//&nbsp;move&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476200"><a href="/net/parse.go.html#1476080">i</a></span><span class="op" id="1476201">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476207">n</span>&nbsp;<span class="op" id="1476209">:=</span>&nbsp;<span class="builtinfunc" id="1476212">len</span><span class="op" id="1476215">(</span><span class="ident" id="1476216"><a href="/net/parse.go.html#1476064">data</a></span><span class="op" id="1476220">)</span>&nbsp;<span class="op" id="1476222">-</span>&nbsp;<span class="ident" id="1476224"><a href="/net/parse.go.html#1476080">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1476229">copy</span><span class="op" id="1476233">(</span><span class="ident" id="1476234"><a href="/net/parse.go.html#1476064">data</a></span><span class="op" id="1476238">[</span><span class="num" id="1476239">0</span><span class="op" id="1476240">:</span><span class="op" id="1476241">]</span><span class="op" id="1476242">,</span>&nbsp;<span class="ident" id="1476244"><a href="/net/parse.go.html#1476064">data</a></span><span class="op" id="1476248">[</span><span class="ident" id="1476249"><a href="/net/parse.go.html#1476080">i</a></span><span class="op" id="1476250">:</span><span class="op" id="1476251">]</span><span class="op" id="1476252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476257"><a href="/net/parse.go.html#1476014">f</a></span><span class="op" id="1476258">.</span><span class="ident" id="1476259">data</span>&nbsp;<span class="op" id="1476264">=</span>&nbsp;<span class="ident" id="1476266"><a href="/net/parse.go.html#1476064">data</a></span><span class="op" id="1476270">[</span><span class="num" id="1476271">0</span><span class="op" id="1476272">:</span><span class="ident" id="1476273"><a href="/net/parse.go.html#1476207">n</a></span><span class="op" id="1476274">]</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476279">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476294">if</span>&nbsp;<span class="ident" id="1476297"><a href="/net/parse.go.html#1476014">f</a></span><span class="op" id="1476298">.</span><span class="ident" id="1476299">atEOF</span>&nbsp;<span class="op" id="1476305">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1476308">len</span><span class="op" id="1476311">(</span><span class="ident" id="1476312"><a href="/net/parse.go.html#1476014">f</a></span><span class="op" id="1476313">.</span><span class="ident" id="1476314">data</span><span class="op" id="1476318">)</span>&nbsp;<span class="op" id="1476320">&gt;</span>&nbsp;<span class="num" id="1476322">0</span>&nbsp;<span class="op" id="1476324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1476328">//&nbsp;EOF,&nbsp;return&nbsp;all&nbsp;we&nbsp;have</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476357"><a href="/net/parse.go.html#1476042">s</a></span>&nbsp;<span class="op" id="1476359">=</span>&nbsp;<span class="builtintype" id="1476361">string</span><span class="op" id="1476367">(</span><span class="ident" id="1476368"><a href="/net/parse.go.html#1476064">data</a></span><span class="op" id="1476372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476376"><a href="/net/parse.go.html#1476014">f</a></span><span class="op" id="1476377">.</span><span class="ident" id="1476378">data</span>&nbsp;<span class="op" id="1476383">=</span>&nbsp;<span class="ident" id="1476385"><a href="/net/parse.go.html#1476014">f</a></span><span class="op" id="1476386">.</span><span class="ident" id="1476387">data</span><span class="op" id="1476391">[</span><span class="num" id="1476392">0</span><span class="op" id="1476393">:</span><span class="num" id="1476394">0</span><span class="op" id="1476395">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476399"><a href="/net/parse.go.html#1476052">ok</a></span>&nbsp;<span class="op" id="1476402">=</span>&nbsp;<span class="builtintype" id="1476404">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476413">return</span><br>
<span class="lineno">45</span><span class="op" id="1476420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1476423">func</span>&nbsp;<span class="op" id="1476428">(</span><span class="ident" id="1476429">f</span>&nbsp;<span class="op" id="1476431">*</span><span class="ident" id="1476432"><a href="/net/parse.go.html#1475906">file</a></span><span class="op" id="1476436">)</span>&nbsp;<span class="ident" id="1476438">readLine</span><span class="op" id="1476446">(</span><span class="op" id="1476447">)</span>&nbsp;<span class="op" id="1476449">(</span><span class="ident" id="1476450">s</span>&nbsp;<span class="builtintype" id="1476452">string</span><span class="op" id="1476458">,</span>&nbsp;<span class="ident" id="1476460">ok</span>&nbsp;<span class="builtintype" id="1476463">bool</span><span class="op" id="1476467">)</span>&nbsp;<span class="op" id="1476469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476472">if</span>&nbsp;<span class="ident" id="1476475"><a href="/net/parse.go.html#1476450">s</a></span><span class="op" id="1476476">,</span>&nbsp;<span class="ident" id="1476478"><a href="/net/parse.go.html#1476460">ok</a></span>&nbsp;<span class="op" id="1476481">=</span>&nbsp;<span class="ident" id="1476483"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476484">.</span><span class="ident" id="1476485">getLineFromData</span><span class="op" id="1476500">(</span><span class="op" id="1476501">)</span><span class="op" id="1476502">;</span>&nbsp;<span class="ident" id="1476504"><a href="/net/parse.go.html#1476460">ok</a></span>&nbsp;<span class="op" id="1476507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476511">return</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476522">if</span>&nbsp;<span class="builtinfunc" id="1476525">len</span><span class="op" id="1476528">(</span><span class="ident" id="1476529"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476530">.</span><span class="ident" id="1476531">data</span><span class="op" id="1476535">)</span>&nbsp;<span class="op" id="1476537">&lt;</span>&nbsp;<span class="builtinfunc" id="1476539">cap</span><span class="op" id="1476542">(</span><span class="ident" id="1476543"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476544">.</span><span class="ident" id="1476545">data</span><span class="op" id="1476549">)</span>&nbsp;<span class="op" id="1476551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476555">ln</span>&nbsp;<span class="op" id="1476558">:=</span>&nbsp;<span class="builtinfunc" id="1476561">len</span><span class="op" id="1476564">(</span><span class="ident" id="1476565"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476566">.</span><span class="ident" id="1476567">data</span><span class="op" id="1476571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476575">n</span><span class="op" id="1476576">,</span>&nbsp;<span class="ident" id="1476578">err</span>&nbsp;<span class="op" id="1476582">:=</span>&nbsp;<span class="ident" id="1476585"><a href="/net/parse.go.html#1475887">io</a></span><span class="op" id="1476587">.</span><span class="ident" id="1476588">ReadFull</span><span class="op" id="1476596">(</span><span class="ident" id="1476597"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476598">.</span><span class="ident" id="1476599">file</span><span class="op" id="1476603">,</span>&nbsp;<span class="ident" id="1476605"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476606">.</span><span class="ident" id="1476607">data</span><span class="op" id="1476611">[</span><span class="ident" id="1476612"><a href="/net/parse.go.html#1476555">ln</a></span><span class="op" id="1476614">:</span><span class="builtinfunc" id="1476615">cap</span><span class="op" id="1476618">(</span><span class="ident" id="1476619"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476620">.</span><span class="ident" id="1476621">data</span><span class="op" id="1476625">)</span><span class="op" id="1476626">]</span><span class="op" id="1476627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476631">if</span>&nbsp;<span class="ident" id="1476634"><a href="/net/parse.go.html#1476575">n</a></span>&nbsp;<span class="op" id="1476636">&gt;=</span>&nbsp;<span class="num" id="1476639">0</span>&nbsp;<span class="op" id="1476641">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476646"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476647">.</span><span class="ident" id="1476648">data</span>&nbsp;<span class="op" id="1476653">=</span>&nbsp;<span class="ident" id="1476655"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476656">.</span><span class="ident" id="1476657">data</span><span class="op" id="1476661">[</span><span class="num" id="1476662">0</span>&nbsp;<span class="op" id="1476664">:</span>&nbsp;<span class="ident" id="1476666"><a href="/net/parse.go.html#1476555">ln</a></span><span class="op" id="1476668">+</span><span class="ident" id="1476669"><a href="/net/parse.go.html#1476575">n</a></span><span class="op" id="1476670">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476678">if</span>&nbsp;<span class="ident" id="1476681"><a href="/net/parse.go.html#1476578">err</a></span>&nbsp;<span class="op" id="1476685">==</span>&nbsp;<span class="ident" id="1476688"><a href="/net/parse.go.html#1475887">io</a></span><span class="op" id="1476690">.</span><span class="ident" id="1476691">EOF</span>&nbsp;<span class="op" id="1476695">||</span>&nbsp;<span class="ident" id="1476698"><a href="/net/parse.go.html#1476578">err</a></span>&nbsp;<span class="op" id="1476702">==</span>&nbsp;<span class="ident" id="1476705"><a href="/net/parse.go.html#1475887">io</a></span><span class="op" id="1476707">.</span><span class="ident" id="1476708">ErrUnexpectedEOF</span>&nbsp;<span class="op" id="1476725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476730"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476731">.</span><span class="ident" id="1476732">atEOF</span>&nbsp;<span class="op" id="1476738">=</span>&nbsp;<span class="builtintype" id="1476740">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476747">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476753"><a href="/net/parse.go.html#1476450">s</a></span><span class="op" id="1476754">,</span>&nbsp;<span class="ident" id="1476756"><a href="/net/parse.go.html#1476460">ok</a></span>&nbsp;<span class="op" id="1476759">=</span>&nbsp;<span class="ident" id="1476761"><a href="/net/parse.go.html#1476429">f</a></span><span class="op" id="1476762">.</span><span class="ident" id="1476763">getLineFromData</span><span class="op" id="1476778">(</span><span class="op" id="1476779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476782">return</span><br>
<span class="lineno"></span><span class="op" id="1476789">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="1476792">func</span>&nbsp;<span class="ident" id="1476797">open</span><span class="op" id="1476801">(</span><span class="ident" id="1476802">name</span>&nbsp;<span class="builtintype" id="1476807">string</span><span class="op" id="1476813">)</span>&nbsp;<span class="op" id="1476815">(</span><span class="op" id="1476816">*</span><span class="ident" id="1476817"><a href="/net/parse.go.html#1475906">file</a></span><span class="op" id="1476821">,</span>&nbsp;<span class="builtintype" id="1476823">error</span><span class="op" id="1476828">)</span>&nbsp;<span class="op" id="1476830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476833">fd</span><span class="op" id="1476835">,</span>&nbsp;<span class="ident" id="1476837">err</span>&nbsp;<span class="op" id="1476841">:=</span>&nbsp;<span class="ident" id="1476844"><a href="/net/parse.go.html#1475893">os</a></span><span class="op" id="1476846">.</span><span class="ident" id="1476847">Open</span><span class="op" id="1476851">(</span><span class="ident" id="1476852"><a href="/net/parse.go.html#1476802">name</a></span><span class="op" id="1476856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476859">if</span>&nbsp;<span class="ident" id="1476862"><a href="/net/parse.go.html#1476837">err</a></span>&nbsp;<span class="op" id="1476866">!=</span>&nbsp;<span class="ident" id="1476869">nil</span>&nbsp;<span class="op" id="1476873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476877">return</span>&nbsp;<span class="ident" id="1476884">nil</span><span class="op" id="1476887">,</span>&nbsp;<span class="ident" id="1476889"><a href="/net/parse.go.html#1476837">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476894">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476897">return</span>&nbsp;<span class="op" id="1476904">&amp;</span><span class="ident" id="1476905"><a href="/net/parse.go.html#1475906">file</a></span><span class="op" id="1476909">{</span><span class="ident" id="1476910"><a href="/net/parse.go.html#1476833">fd</a></span><span class="op" id="1476912">,</span>&nbsp;<span class="builtinfunc" id="1476914">make</span><span class="op" id="1476918">(</span><span class="op" id="1476919">[</span><span class="op" id="1476920">]</span><span class="builtintype" id="1476921">byte</span><span class="op" id="1476925">,</span>&nbsp;<span class="num" id="1476927">0</span><span class="op" id="1476928">,</span>&nbsp;<span class="ident" id="1476930"><a href="/net/parse.go.html#1475893">os</a></span><span class="op" id="1476932">.</span><span class="ident" id="1476933">Getpagesize</span><span class="op" id="1476944">(</span><span class="op" id="1476945">)</span><span class="op" id="1476946">)</span><span class="op" id="1476947">,</span>&nbsp;<span class="builtintype" id="1476949">false</span><span class="op" id="1476954">}</span><span class="op" id="1476955">,</span>&nbsp;<span class="ident" id="1476957">nil</span><br>
<span class="lineno"></span><span class="op" id="1476961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1476964">func</span>&nbsp;<span class="ident" id="1476969">byteIndex</span><span class="op" id="1476978">(</span><span class="ident" id="1476979">s</span>&nbsp;<span class="builtintype" id="1476981">string</span><span class="op" id="1476987">,</span>&nbsp;<span class="ident" id="1476989">c</span>&nbsp;<span class="builtintype" id="1476991">byte</span><span class="op" id="1476995">)</span>&nbsp;<span class="builtintype" id="1476997">int</span>&nbsp;<span class="op" id="1477001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477004">for</span>&nbsp;<span class="ident" id="1477008">i</span>&nbsp;<span class="op" id="1477010">:=</span>&nbsp;<span class="num" id="1477013">0</span><span class="op" id="1477014">;</span>&nbsp;<span class="ident" id="1477016"><a href="/net/parse.go.html#1477008">i</a></span>&nbsp;<span class="op" id="1477018">&lt;</span>&nbsp;<span class="builtinfunc" id="1477020">len</span><span class="op" id="1477023">(</span><span class="ident" id="1477024"><a href="/net/parse.go.html#1476979">s</a></span><span class="op" id="1477025">)</span><span class="op" id="1477026">;</span>&nbsp;<span class="ident" id="1477028"><a href="/net/parse.go.html#1477008">i</a></span><span class="op" id="1477029">++</span>&nbsp;<span class="op" id="1477032">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477036">if</span>&nbsp;<span class="ident" id="1477039"><a href="/net/parse.go.html#1476979">s</a></span><span class="op" id="1477040">[</span><span class="ident" id="1477041"><a href="/net/parse.go.html#1477008">i</a></span><span class="op" id="1477042">]</span>&nbsp;<span class="op" id="1477044">==</span>&nbsp;<span class="ident" id="1477047"><a href="/net/parse.go.html#1476989">c</a></span>&nbsp;<span class="op" id="1477049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477054">return</span>&nbsp;<span class="ident" id="1477061"><a href="/net/parse.go.html#1477008">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477071">return</span>&nbsp;<span class="op" id="1477078">-</span><span class="num" id="1477079">1</span><br>
<span class="lineno">80</span><span class="op" id="1477081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1477084">//&nbsp;Count&nbsp;occurrences&nbsp;in&nbsp;s&nbsp;of&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="1477129">func</span>&nbsp;<span class="ident" id="1477134">countAnyByte</span><span class="op" id="1477146">(</span><span class="ident" id="1477147">s</span>&nbsp;<span class="builtintype" id="1477149">string</span><span class="op" id="1477155">,</span>&nbsp;<span class="ident" id="1477157">t</span>&nbsp;<span class="builtintype" id="1477159">string</span><span class="op" id="1477165">)</span>&nbsp;<span class="builtintype" id="1477167">int</span>&nbsp;<span class="op" id="1477171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477174">n</span>&nbsp;<span class="op" id="1477176">:=</span>&nbsp;<span class="num" id="1477179">0</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477182">for</span>&nbsp;<span class="ident" id="1477186">i</span>&nbsp;<span class="op" id="1477188">:=</span>&nbsp;<span class="num" id="1477191">0</span><span class="op" id="1477192">;</span>&nbsp;<span class="ident" id="1477194"><a href="/net/parse.go.html#1477186">i</a></span>&nbsp;<span class="op" id="1477196">&lt;</span>&nbsp;<span class="builtinfunc" id="1477198">len</span><span class="op" id="1477201">(</span><span class="ident" id="1477202"><a href="/net/parse.go.html#1477147">s</a></span><span class="op" id="1477203">)</span><span class="op" id="1477204">;</span>&nbsp;<span class="ident" id="1477206"><a href="/net/parse.go.html#1477186">i</a></span><span class="op" id="1477207">++</span>&nbsp;<span class="op" id="1477210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477214">if</span>&nbsp;<span class="ident" id="1477217"><a href="/net/parse.go.html#1476969">byteIndex</a></span><span class="op" id="1477226">(</span><span class="ident" id="1477227"><a href="/net/parse.go.html#1477157">t</a></span><span class="op" id="1477228">,</span>&nbsp;<span class="ident" id="1477230"><a href="/net/parse.go.html#1477147">s</a></span><span class="op" id="1477231">[</span><span class="ident" id="1477232"><a href="/net/parse.go.html#1477186">i</a></span><span class="op" id="1477233">]</span><span class="op" id="1477234">)</span>&nbsp;<span class="op" id="1477236">&gt;=</span>&nbsp;<span class="num" id="1477239">0</span>&nbsp;<span class="op" id="1477241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477246"><a href="/net/parse.go.html#1477174">n</a></span><span class="op" id="1477247">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477255">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477258">return</span>&nbsp;<span class="ident" id="1477265"><a href="/net/parse.go.html#1477174">n</a></span><br>
<span class="lineno"></span><span class="op" id="1477267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1477270">//&nbsp;Split&nbsp;s&nbsp;at&nbsp;any&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="1477300">func</span>&nbsp;<span class="ident" id="1477305">splitAtBytes</span><span class="op" id="1477317">(</span><span class="ident" id="1477318">s</span>&nbsp;<span class="builtintype" id="1477320">string</span><span class="op" id="1477326">,</span>&nbsp;<span class="ident" id="1477328">t</span>&nbsp;<span class="builtintype" id="1477330">string</span><span class="op" id="1477336">)</span>&nbsp;<span class="op" id="1477338">[</span><span class="op" id="1477339">]</span><span class="builtintype" id="1477340">string</span>&nbsp;<span class="op" id="1477347">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477350">a</span>&nbsp;<span class="op" id="1477352">:=</span>&nbsp;<span class="builtinfunc" id="1477355">make</span><span class="op" id="1477359">(</span><span class="op" id="1477360">[</span><span class="op" id="1477361">]</span><span class="builtintype" id="1477362">string</span><span class="op" id="1477368">,</span>&nbsp;<span class="num" id="1477370">1</span><span class="op" id="1477371">+</span><span class="ident" id="1477372"><a href="/net/parse.go.html#1477134">countAnyByte</a></span><span class="op" id="1477384">(</span><span class="ident" id="1477385"><a href="/net/parse.go.html#1477318">s</a></span><span class="op" id="1477386">,</span>&nbsp;<span class="ident" id="1477388"><a href="/net/parse.go.html#1477328">t</a></span><span class="op" id="1477389">)</span><span class="op" id="1477390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477393">n</span>&nbsp;<span class="op" id="1477395">:=</span>&nbsp;<span class="num" id="1477398">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477401">last</span>&nbsp;<span class="op" id="1477406">:=</span>&nbsp;<span class="num" id="1477409">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477412">for</span>&nbsp;<span class="ident" id="1477416">i</span>&nbsp;<span class="op" id="1477418">:=</span>&nbsp;<span class="num" id="1477421">0</span><span class="op" id="1477422">;</span>&nbsp;<span class="ident" id="1477424"><a href="/net/parse.go.html#1477416">i</a></span>&nbsp;<span class="op" id="1477426">&lt;</span>&nbsp;<span class="builtinfunc" id="1477428">len</span><span class="op" id="1477431">(</span><span class="ident" id="1477432"><a href="/net/parse.go.html#1477318">s</a></span><span class="op" id="1477433">)</span><span class="op" id="1477434">;</span>&nbsp;<span class="ident" id="1477436"><a href="/net/parse.go.html#1477416">i</a></span><span class="op" id="1477437">++</span>&nbsp;<span class="op" id="1477440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477444">if</span>&nbsp;<span class="ident" id="1477447"><a href="/net/parse.go.html#1476969">byteIndex</a></span><span class="op" id="1477456">(</span><span class="ident" id="1477457"><a href="/net/parse.go.html#1477328">t</a></span><span class="op" id="1477458">,</span>&nbsp;<span class="ident" id="1477460"><a href="/net/parse.go.html#1477318">s</a></span><span class="op" id="1477461">[</span><span class="ident" id="1477462"><a href="/net/parse.go.html#1477416">i</a></span><span class="op" id="1477463">]</span><span class="op" id="1477464">)</span>&nbsp;<span class="op" id="1477466">&gt;=</span>&nbsp;<span class="num" id="1477469">0</span>&nbsp;<span class="op" id="1477471">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477476">if</span>&nbsp;<span class="ident" id="1477479"><a href="/net/parse.go.html#1477401">last</a></span>&nbsp;<span class="op" id="1477484">&lt;</span>&nbsp;<span class="ident" id="1477486"><a href="/net/parse.go.html#1477416">i</a></span>&nbsp;<span class="op" id="1477488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477494"><a href="/net/parse.go.html#1477350">a</a></span><span class="op" id="1477495">[</span><span class="ident" id="1477496"><a href="/net/parse.go.html#1477393">n</a></span><span class="op" id="1477497">]</span>&nbsp;<span class="op" id="1477499">=</span>&nbsp;<span class="builtintype" id="1477501">string</span><span class="op" id="1477507">(</span><span class="ident" id="1477508"><a href="/net/parse.go.html#1477318">s</a></span><span class="op" id="1477509">[</span><span class="ident" id="1477510"><a href="/net/parse.go.html#1477401">last</a></span><span class="op" id="1477514">:</span><span class="ident" id="1477515"><a href="/net/parse.go.html#1477416">i</a></span><span class="op" id="1477516">]</span><span class="op" id="1477517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477523"><a href="/net/parse.go.html#1477393">n</a></span><span class="op" id="1477524">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477535"><a href="/net/parse.go.html#1477401">last</a></span>&nbsp;<span class="op" id="1477540">=</span>&nbsp;<span class="ident" id="1477542"><a href="/net/parse.go.html#1477416">i</a></span>&nbsp;<span class="op" id="1477544">+</span>&nbsp;<span class="num" id="1477546">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477556">if</span>&nbsp;<span class="ident" id="1477559"><a href="/net/parse.go.html#1477401">last</a></span>&nbsp;<span class="op" id="1477564">&lt;</span>&nbsp;<span class="builtinfunc" id="1477566">len</span><span class="op" id="1477569">(</span><span class="ident" id="1477570"><a href="/net/parse.go.html#1477318">s</a></span><span class="op" id="1477571">)</span>&nbsp;<span class="op" id="1477573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477577"><a href="/net/parse.go.html#1477350">a</a></span><span class="op" id="1477578">[</span><span class="ident" id="1477579"><a href="/net/parse.go.html#1477393">n</a></span><span class="op" id="1477580">]</span>&nbsp;<span class="op" id="1477582">=</span>&nbsp;<span class="builtintype" id="1477584">string</span><span class="op" id="1477590">(</span><span class="ident" id="1477591"><a href="/net/parse.go.html#1477318">s</a></span><span class="op" id="1477592">[</span><span class="ident" id="1477593"><a href="/net/parse.go.html#1477401">last</a></span><span class="op" id="1477597">:</span><span class="op" id="1477598">]</span><span class="op" id="1477599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477603"><a href="/net/parse.go.html#1477393">n</a></span><span class="op" id="1477604">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477611">return</span>&nbsp;<span class="ident" id="1477618"><a href="/net/parse.go.html#1477350">a</a></span><span class="op" id="1477619">[</span><span class="num" id="1477620">0</span><span class="op" id="1477621">:</span><span class="ident" id="1477622"><a href="/net/parse.go.html#1477393">n</a></span><span class="op" id="1477623">]</span><br>
<span class="lineno"></span><span class="op" id="1477625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1477628">func</span>&nbsp;<span class="ident" id="1477633">getFields</span><span class="op" id="1477642">(</span><span class="ident" id="1477643">s</span>&nbsp;<span class="builtintype" id="1477645">string</span><span class="op" id="1477651">)</span>&nbsp;<span class="op" id="1477653">[</span><span class="op" id="1477654">]</span><span class="builtintype" id="1477655">string</span>&nbsp;<span class="op" id="1477662">{</span>&nbsp;<span class="keyword" id="1477664">return</span>&nbsp;<span class="ident" id="1477671"><a href="/net/parse.go.html#1477305">splitAtBytes</a></span><span class="op" id="1477683">(</span><span class="ident" id="1477684"><a href="/net/parse.go.html#1477643">s</a></span><span class="op" id="1477685">,</span>&nbsp;<span class="string" id="1477687">&#34;&nbsp;\r\t\n&#34;</span><span class="op" id="1477696">)</span>&nbsp;<span class="op" id="1477698">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="1477701">//&nbsp;Bigger&nbsp;than&nbsp;we&nbsp;need,&nbsp;not&nbsp;too&nbsp;big&nbsp;to&nbsp;worry&nbsp;about&nbsp;overflow</span><br>
<span class="lineno"></span><span class="keyword" id="1477761">const</span>&nbsp;<span class="ident" id="1477767">big</span>&nbsp;<span class="op" id="1477771">=</span>&nbsp;<span class="num" id="1477773">0xFFFFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1477783">//&nbsp;Decimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno">120</span><span class="comment" id="1477825">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="1477865">func</span>&nbsp;<span class="ident" id="1477870">dtoi</span><span class="op" id="1477874">(</span><span class="ident" id="1477875">s</span>&nbsp;<span class="builtintype" id="1477877">string</span><span class="op" id="1477883">,</span>&nbsp;<span class="ident" id="1477885">i0</span>&nbsp;<span class="builtintype" id="1477888">int</span><span class="op" id="1477891">)</span>&nbsp;<span class="op" id="1477893">(</span><span class="ident" id="1477894">n</span>&nbsp;<span class="builtintype" id="1477896">int</span><span class="op" id="1477899">,</span>&nbsp;<span class="ident" id="1477901">i</span>&nbsp;<span class="builtintype" id="1477903">int</span><span class="op" id="1477906">,</span>&nbsp;<span class="ident" id="1477908">ok</span>&nbsp;<span class="builtintype" id="1477911">bool</span><span class="op" id="1477915">)</span>&nbsp;<span class="op" id="1477917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477920"><a href="/net/parse.go.html#1477894">n</a></span>&nbsp;<span class="op" id="1477922">=</span>&nbsp;<span class="num" id="1477924">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477927">for</span>&nbsp;<span class="ident" id="1477931"><a href="/net/parse.go.html#1477901">i</a></span>&nbsp;<span class="op" id="1477933">=</span>&nbsp;<span class="ident" id="1477935"><a href="/net/parse.go.html#1477885">i0</a></span><span class="op" id="1477937">;</span>&nbsp;<span class="ident" id="1477939"><a href="/net/parse.go.html#1477901">i</a></span>&nbsp;<span class="op" id="1477941">&lt;</span>&nbsp;<span class="builtinfunc" id="1477943">len</span><span class="op" id="1477946">(</span><span class="ident" id="1477947"><a href="/net/parse.go.html#1477875">s</a></span><span class="op" id="1477948">)</span>&nbsp;<span class="op" id="1477950">&amp;&amp;</span>&nbsp;<span class="string" id="1477953">&#39;0&#39;</span>&nbsp;<span class="op" id="1477957">&lt;=</span>&nbsp;<span class="ident" id="1477960"><a href="/net/parse.go.html#1477875">s</a></span><span class="op" id="1477961">[</span><span class="ident" id="1477962"><a href="/net/parse.go.html#1477901">i</a></span><span class="op" id="1477963">]</span>&nbsp;<span class="op" id="1477965">&amp;&amp;</span>&nbsp;<span class="ident" id="1477968"><a href="/net/parse.go.html#1477875">s</a></span><span class="op" id="1477969">[</span><span class="ident" id="1477970"><a href="/net/parse.go.html#1477901">i</a></span><span class="op" id="1477971">]</span>&nbsp;<span class="op" id="1477973">&lt;=</span>&nbsp;<span class="string" id="1477976">&#39;9&#39;</span><span class="op" id="1477979">;</span>&nbsp;<span class="ident" id="1477981"><a href="/net/parse.go.html#1477901">i</a></span><span class="op" id="1477982">++</span>&nbsp;<span class="op" id="1477985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477989"><a href="/net/parse.go.html#1477894">n</a></span>&nbsp;<span class="op" id="1477991">=</span>&nbsp;<span class="ident" id="1477993"><a href="/net/parse.go.html#1477894">n</a></span><span class="op" id="1477994">*</span><span class="num" id="1477995">10</span>&nbsp;<span class="op" id="1477998">+</span>&nbsp;<span class="builtintype" id="1478000">int</span><span class="op" id="1478003">(</span><span class="ident" id="1478004"><a href="/net/parse.go.html#1477875">s</a></span><span class="op" id="1478005">[</span><span class="ident" id="1478006"><a href="/net/parse.go.html#1477901">i</a></span><span class="op" id="1478007">]</span><span class="op" id="1478008">-</span><span class="string" id="1478009">&#39;0&#39;</span><span class="op" id="1478012">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478016">if</span>&nbsp;<span class="ident" id="1478019"><a href="/net/parse.go.html#1477894">n</a></span>&nbsp;<span class="op" id="1478021">&gt;=</span>&nbsp;<span class="ident" id="1478024"><a href="/net/parse.go.html#1477767">big</a></span>&nbsp;<span class="op" id="1478028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478033">return</span>&nbsp;<span class="num" id="1478040">0</span><span class="op" id="1478041">,</span>&nbsp;<span class="ident" id="1478043"><a href="/net/parse.go.html#1477901">i</a></span><span class="op" id="1478044">,</span>&nbsp;<span class="builtintype" id="1478046">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478060">if</span>&nbsp;<span class="ident" id="1478063"><a href="/net/parse.go.html#1477901">i</a></span>&nbsp;<span class="op" id="1478065">==</span>&nbsp;<span class="ident" id="1478068"><a href="/net/parse.go.html#1477885">i0</a></span>&nbsp;<span class="op" id="1478071">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478075">return</span>&nbsp;<span class="num" id="1478082">0</span><span class="op" id="1478083">,</span>&nbsp;<span class="ident" id="1478085"><a href="/net/parse.go.html#1477901">i</a></span><span class="op" id="1478086">,</span>&nbsp;<span class="builtintype" id="1478088">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478098">return</span>&nbsp;<span class="ident" id="1478105"><a href="/net/parse.go.html#1477894">n</a></span><span class="op" id="1478106">,</span>&nbsp;<span class="ident" id="1478108"><a href="/net/parse.go.html#1477901">i</a></span><span class="op" id="1478109">,</span>&nbsp;<span class="builtintype" id="1478111">true</span><br>
<span class="lineno"></span><span class="op" id="1478116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="1478119">//&nbsp;Hexadecimal&nbsp;to&nbsp;integer&nbsp;starting&nbsp;at&nbsp;&amp;s[i0].</span><br>
<span class="lineno"></span><span class="comment" id="1478165">//&nbsp;Returns&nbsp;number,&nbsp;new&nbsp;offset,&nbsp;success.</span><br>
<span class="lineno"></span><span class="keyword" id="1478205">func</span>&nbsp;<span class="ident" id="1478210">xtoi</span><span class="op" id="1478214">(</span><span class="ident" id="1478215">s</span>&nbsp;<span class="builtintype" id="1478217">string</span><span class="op" id="1478223">,</span>&nbsp;<span class="ident" id="1478225">i0</span>&nbsp;<span class="builtintype" id="1478228">int</span><span class="op" id="1478231">)</span>&nbsp;<span class="op" id="1478233">(</span><span class="ident" id="1478234">n</span>&nbsp;<span class="builtintype" id="1478236">int</span><span class="op" id="1478239">,</span>&nbsp;<span class="ident" id="1478241">i</span>&nbsp;<span class="builtintype" id="1478243">int</span><span class="op" id="1478246">,</span>&nbsp;<span class="ident" id="1478248">ok</span>&nbsp;<span class="builtintype" id="1478251">bool</span><span class="op" id="1478255">)</span>&nbsp;<span class="op" id="1478257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478260"><a href="/net/parse.go.html#1478234">n</a></span>&nbsp;<span class="op" id="1478262">=</span>&nbsp;<span class="num" id="1478264">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478267">for</span>&nbsp;<span class="ident" id="1478271"><a href="/net/parse.go.html#1478241">i</a></span>&nbsp;<span class="op" id="1478273">=</span>&nbsp;<span class="ident" id="1478275"><a href="/net/parse.go.html#1478225">i0</a></span><span class="op" id="1478277">;</span>&nbsp;<span class="ident" id="1478279"><a href="/net/parse.go.html#1478241">i</a></span>&nbsp;<span class="op" id="1478281">&lt;</span>&nbsp;<span class="builtinfunc" id="1478283">len</span><span class="op" id="1478286">(</span><span class="ident" id="1478287"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478288">)</span><span class="op" id="1478289">;</span>&nbsp;<span class="ident" id="1478291"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478292">++</span>&nbsp;<span class="op" id="1478295">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478299">if</span>&nbsp;<span class="string" id="1478302">&#39;0&#39;</span>&nbsp;<span class="op" id="1478306">&lt;=</span>&nbsp;<span class="ident" id="1478309"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478310">[</span><span class="ident" id="1478311"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478312">]</span>&nbsp;<span class="op" id="1478314">&amp;&amp;</span>&nbsp;<span class="ident" id="1478317"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478318">[</span><span class="ident" id="1478319"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478320">]</span>&nbsp;<span class="op" id="1478322">&lt;=</span>&nbsp;<span class="string" id="1478325">&#39;9&#39;</span>&nbsp;<span class="op" id="1478329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478334"><a href="/net/parse.go.html#1478234">n</a></span>&nbsp;<span class="op" id="1478336">*=</span>&nbsp;<span class="num" id="1478339">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478345"><a href="/net/parse.go.html#1478234">n</a></span>&nbsp;<span class="op" id="1478347">+=</span>&nbsp;<span class="builtintype" id="1478350">int</span><span class="op" id="1478353">(</span><span class="ident" id="1478354"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478355">[</span><span class="ident" id="1478356"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478357">]</span>&nbsp;<span class="op" id="1478359">-</span>&nbsp;<span class="string" id="1478361">&#39;0&#39;</span><span class="op" id="1478364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478368">}</span>&nbsp;<span class="keyword" id="1478370">else</span>&nbsp;<span class="keyword" id="1478375">if</span>&nbsp;<span class="string" id="1478378">&#39;a&#39;</span>&nbsp;<span class="op" id="1478382">&lt;=</span>&nbsp;<span class="ident" id="1478385"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478386">[</span><span class="ident" id="1478387"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478388">]</span>&nbsp;<span class="op" id="1478390">&amp;&amp;</span>&nbsp;<span class="ident" id="1478393"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478394">[</span><span class="ident" id="1478395"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478396">]</span>&nbsp;<span class="op" id="1478398">&lt;=</span>&nbsp;<span class="string" id="1478401">&#39;f&#39;</span>&nbsp;<span class="op" id="1478405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478410"><a href="/net/parse.go.html#1478234">n</a></span>&nbsp;<span class="op" id="1478412">*=</span>&nbsp;<span class="num" id="1478415">16</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478421"><a href="/net/parse.go.html#1478234">n</a></span>&nbsp;<span class="op" id="1478423">+=</span>&nbsp;<span class="builtintype" id="1478426">int</span><span class="op" id="1478429">(</span><span class="ident" id="1478430"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478431">[</span><span class="ident" id="1478432"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478433">]</span><span class="op" id="1478434">-</span><span class="string" id="1478435">&#39;a&#39;</span><span class="op" id="1478438">)</span>&nbsp;<span class="op" id="1478440">+</span>&nbsp;<span class="num" id="1478442">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478447">}</span>&nbsp;<span class="keyword" id="1478449">else</span>&nbsp;<span class="keyword" id="1478454">if</span>&nbsp;<span class="string" id="1478457">&#39;A&#39;</span>&nbsp;<span class="op" id="1478461">&lt;=</span>&nbsp;<span class="ident" id="1478464"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478465">[</span><span class="ident" id="1478466"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478467">]</span>&nbsp;<span class="op" id="1478469">&amp;&amp;</span>&nbsp;<span class="ident" id="1478472"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478473">[</span><span class="ident" id="1478474"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478475">]</span>&nbsp;<span class="op" id="1478477">&lt;=</span>&nbsp;<span class="string" id="1478480">&#39;F&#39;</span>&nbsp;<span class="op" id="1478484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478489"><a href="/net/parse.go.html#1478234">n</a></span>&nbsp;<span class="op" id="1478491">*=</span>&nbsp;<span class="num" id="1478494">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478500"><a href="/net/parse.go.html#1478234">n</a></span>&nbsp;<span class="op" id="1478502">+=</span>&nbsp;<span class="builtintype" id="1478505">int</span><span class="op" id="1478508">(</span><span class="ident" id="1478509"><a href="/net/parse.go.html#1478215">s</a></span><span class="op" id="1478510">[</span><span class="ident" id="1478511"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478512">]</span><span class="op" id="1478513">-</span><span class="string" id="1478514">&#39;A&#39;</span><span class="op" id="1478517">)</span>&nbsp;<span class="op" id="1478519">+</span>&nbsp;<span class="num" id="1478521">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478526">}</span>&nbsp;<span class="keyword" id="1478528">else</span>&nbsp;<span class="op" id="1478533">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478538">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478550">if</span>&nbsp;<span class="ident" id="1478553"><a href="/net/parse.go.html#1478234">n</a></span>&nbsp;<span class="op" id="1478555">&gt;=</span>&nbsp;<span class="ident" id="1478558"><a href="/net/parse.go.html#1477767">big</a></span>&nbsp;<span class="op" id="1478562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478567">return</span>&nbsp;<span class="num" id="1478574">0</span><span class="op" id="1478575">,</span>&nbsp;<span class="ident" id="1478577"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478578">,</span>&nbsp;<span class="builtintype" id="1478580">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478588">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478594">if</span>&nbsp;<span class="ident" id="1478597"><a href="/net/parse.go.html#1478241">i</a></span>&nbsp;<span class="op" id="1478599">==</span>&nbsp;<span class="ident" id="1478602"><a href="/net/parse.go.html#1478225">i0</a></span>&nbsp;<span class="op" id="1478605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478609">return</span>&nbsp;<span class="num" id="1478616">0</span><span class="op" id="1478617">,</span>&nbsp;<span class="ident" id="1478619"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478620">,</span>&nbsp;<span class="builtintype" id="1478622">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478632">return</span>&nbsp;<span class="ident" id="1478639"><a href="/net/parse.go.html#1478234">n</a></span><span class="op" id="1478640">,</span>&nbsp;<span class="ident" id="1478642"><a href="/net/parse.go.html#1478241">i</a></span><span class="op" id="1478643">,</span>&nbsp;<span class="builtintype" id="1478645">true</span><br>
<span class="lineno">160</span><span class="op" id="1478650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1478653">//&nbsp;xtoi2&nbsp;converts&nbsp;the&nbsp;next&nbsp;two&nbsp;hex&nbsp;digits&nbsp;of&nbsp;s&nbsp;into&nbsp;a&nbsp;byte.</span><br>
<span class="lineno"></span><span class="comment" id="1478713">//&nbsp;If&nbsp;s&nbsp;is&nbsp;longer&nbsp;than&nbsp;2&nbsp;bytes&nbsp;then&nbsp;the&nbsp;third&nbsp;byte&nbsp;must&nbsp;be&nbsp;e.</span><br>
<span class="lineno"></span><span class="comment" id="1478775">//&nbsp;If&nbsp;the&nbsp;first&nbsp;two&nbsp;bytes&nbsp;of&nbsp;s&nbsp;are&nbsp;not&nbsp;hex&nbsp;digits&nbsp;or&nbsp;the&nbsp;third&nbsp;byte</span><br>
<span class="lineno">165</span><span class="comment" id="1478843">//&nbsp;does&nbsp;not&nbsp;match&nbsp;e,&nbsp;false&nbsp;is&nbsp;returned.</span><br>
<span class="lineno"></span><span class="keyword" id="1478883">func</span>&nbsp;<span class="ident" id="1478888">xtoi2</span><span class="op" id="1478893">(</span><span class="ident" id="1478894">s</span>&nbsp;<span class="builtintype" id="1478896">string</span><span class="op" id="1478902">,</span>&nbsp;<span class="ident" id="1478904">e</span>&nbsp;<span class="builtintype" id="1478906">byte</span><span class="op" id="1478910">)</span>&nbsp;<span class="op" id="1478912">(</span><span class="builtintype" id="1478913">byte</span><span class="op" id="1478917">,</span>&nbsp;<span class="builtintype" id="1478919">bool</span><span class="op" id="1478923">)</span>&nbsp;<span class="op" id="1478925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478928">if</span>&nbsp;<span class="builtinfunc" id="1478931">len</span><span class="op" id="1478934">(</span><span class="ident" id="1478935"><a href="/net/parse.go.html#1478894">s</a></span><span class="op" id="1478936">)</span>&nbsp;<span class="op" id="1478938">&gt;</span>&nbsp;<span class="num" id="1478940">2</span>&nbsp;<span class="op" id="1478942">&amp;&amp;</span>&nbsp;<span class="ident" id="1478945"><a href="/net/parse.go.html#1478894">s</a></span><span class="op" id="1478946">[</span><span class="num" id="1478947">2</span><span class="op" id="1478948">]</span>&nbsp;<span class="op" id="1478950">!=</span>&nbsp;<span class="ident" id="1478953"><a href="/net/parse.go.html#1478904">e</a></span>&nbsp;<span class="op" id="1478955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478959">return</span>&nbsp;<span class="num" id="1478966">0</span><span class="op" id="1478967">,</span>&nbsp;<span class="builtintype" id="1478969">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478976">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478979">n</span><span class="op" id="1478980">,</span>&nbsp;<span class="ident" id="1478982">ei</span><span class="op" id="1478984">,</span>&nbsp;<span class="ident" id="1478986">ok</span>&nbsp;<span class="op" id="1478989">:=</span>&nbsp;<span class="ident" id="1478992"><a href="/net/parse.go.html#1478210">xtoi</a></span><span class="op" id="1478996">(</span><span class="ident" id="1478997"><a href="/net/parse.go.html#1478894">s</a></span><span class="op" id="1478998">[</span><span class="op" id="1478999">:</span><span class="num" id="1479000">2</span><span class="op" id="1479001">]</span><span class="op" id="1479002">,</span>&nbsp;<span class="num" id="1479004">0</span><span class="op" id="1479005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479008">return</span>&nbsp;<span class="builtintype" id="1479015">byte</span><span class="op" id="1479019">(</span><span class="ident" id="1479020"><a href="/net/parse.go.html#1478979">n</a></span><span class="op" id="1479021">)</span><span class="op" id="1479022">,</span>&nbsp;<span class="ident" id="1479024"><a href="/net/parse.go.html#1478986">ok</a></span>&nbsp;<span class="op" id="1479027">&amp;&amp;</span>&nbsp;<span class="ident" id="1479030"><a href="/net/parse.go.html#1478982">ei</a></span>&nbsp;<span class="op" id="1479033">==</span>&nbsp;<span class="num" id="1479036">2</span><br>
<span class="lineno"></span><span class="op" id="1479038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1479041">//&nbsp;Integer&nbsp;to&nbsp;decimal.</span><br>
<span class="lineno">175</span><span class="keyword" id="1479064">func</span>&nbsp;<span class="ident" id="1479069">itoa</span><span class="op" id="1479073">(</span><span class="ident" id="1479074">i</span>&nbsp;<span class="builtintype" id="1479076">int</span><span class="op" id="1479079">)</span>&nbsp;<span class="builtintype" id="1479081">string</span>&nbsp;<span class="op" id="1479088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479091">var</span>&nbsp;<span class="ident" id="1479095">buf</span>&nbsp;<span class="op" id="1479099">[</span><span class="num" id="1479100">30</span><span class="op" id="1479102">]</span><span class="builtintype" id="1479103">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479109">n</span>&nbsp;<span class="op" id="1479111">:=</span>&nbsp;<span class="builtinfunc" id="1479114">len</span><span class="op" id="1479117">(</span><span class="ident" id="1479118"><a href="/net/parse.go.html#1479095">buf</a></span><span class="op" id="1479121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479124">neg</span>&nbsp;<span class="op" id="1479128">:=</span>&nbsp;<span class="builtintype" id="1479131">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479138">if</span>&nbsp;<span class="ident" id="1479141"><a href="/net/parse.go.html#1479074">i</a></span>&nbsp;<span class="op" id="1479143">&lt;</span>&nbsp;<span class="num" id="1479145">0</span>&nbsp;<span class="op" id="1479147">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479151"><a href="/net/parse.go.html#1479074">i</a></span>&nbsp;<span class="op" id="1479153">=</span>&nbsp;<span class="op" id="1479155">-</span><span class="ident" id="1479156"><a href="/net/parse.go.html#1479074">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479160"><a href="/net/parse.go.html#1479124">neg</a></span>&nbsp;<span class="op" id="1479164">=</span>&nbsp;<span class="builtintype" id="1479166">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479175">ui</span>&nbsp;<span class="op" id="1479178">:=</span>&nbsp;<span class="builtintype" id="1479181">uint</span><span class="op" id="1479185">(</span><span class="ident" id="1479186"><a href="/net/parse.go.html#1479074">i</a></span><span class="op" id="1479187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479190">for</span>&nbsp;<span class="ident" id="1479194"><a href="/net/parse.go.html#1479175">ui</a></span>&nbsp;<span class="op" id="1479197">&gt;</span>&nbsp;<span class="num" id="1479199">0</span>&nbsp;<span class="op" id="1479201">||</span>&nbsp;<span class="ident" id="1479204"><a href="/net/parse.go.html#1479109">n</a></span>&nbsp;<span class="op" id="1479206">==</span>&nbsp;<span class="builtinfunc" id="1479209">len</span><span class="op" id="1479212">(</span><span class="ident" id="1479213"><a href="/net/parse.go.html#1479095">buf</a></span><span class="op" id="1479216">)</span>&nbsp;<span class="op" id="1479218">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479222"><a href="/net/parse.go.html#1479109">n</a></span><span class="op" id="1479223">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479228"><a href="/net/parse.go.html#1479095">buf</a></span><span class="op" id="1479231">[</span><span class="ident" id="1479232"><a href="/net/parse.go.html#1479109">n</a></span><span class="op" id="1479233">]</span>&nbsp;<span class="op" id="1479235">=</span>&nbsp;<span class="builtintype" id="1479237">byte</span><span class="op" id="1479241">(</span><span class="string" id="1479242">&#39;0&#39;</span>&nbsp;<span class="op" id="1479246">+</span>&nbsp;<span class="ident" id="1479248"><a href="/net/parse.go.html#1479175">ui</a></span><span class="op" id="1479250">%</span><span class="num" id="1479251">10</span><span class="op" id="1479253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479257"><a href="/net/parse.go.html#1479175">ui</a></span>&nbsp;<span class="op" id="1479260">/=</span>&nbsp;<span class="num" id="1479263">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479270">if</span>&nbsp;<span class="ident" id="1479273"><a href="/net/parse.go.html#1479124">neg</a></span>&nbsp;<span class="op" id="1479277">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479281"><a href="/net/parse.go.html#1479109">n</a></span><span class="op" id="1479282">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479287"><a href="/net/parse.go.html#1479095">buf</a></span><span class="op" id="1479290">[</span><span class="ident" id="1479291"><a href="/net/parse.go.html#1479109">n</a></span><span class="op" id="1479292">]</span>&nbsp;<span class="op" id="1479294">=</span>&nbsp;<span class="string" id="1479296">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479304">return</span>&nbsp;<span class="builtintype" id="1479311">string</span><span class="op" id="1479317">(</span><span class="ident" id="1479318"><a href="/net/parse.go.html#1479095">buf</a></span><span class="op" id="1479321">[</span><span class="ident" id="1479322"><a href="/net/parse.go.html#1479109">n</a></span><span class="op" id="1479323">:</span><span class="op" id="1479324">]</span><span class="op" id="1479325">)</span><br>
<span class="lineno"></span><span class="op" id="1479327">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="1479330">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;decimal&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1479362">func</span>&nbsp;<span class="ident" id="1479367">itod</span><span class="op" id="1479371">(</span><span class="ident" id="1479372">i</span>&nbsp;<span class="builtintype" id="1479374">uint</span><span class="op" id="1479378">)</span>&nbsp;<span class="builtintype" id="1479380">string</span>&nbsp;<span class="op" id="1479387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479390">if</span>&nbsp;<span class="ident" id="1479393"><a href="/net/parse.go.html#1479372">i</a></span>&nbsp;<span class="op" id="1479395">==</span>&nbsp;<span class="num" id="1479398">0</span>&nbsp;<span class="op" id="1479400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479404">return</span>&nbsp;<span class="string" id="1479411">&#34;0&#34;</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1479420">//&nbsp;Assemble&nbsp;decimal&nbsp;in&nbsp;reverse&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479459">var</span>&nbsp;<span class="ident" id="1479463">b</span>&nbsp;<span class="op" id="1479465">[</span><span class="num" id="1479466">32</span><span class="op" id="1479468">]</span><span class="builtintype" id="1479469">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479475">bp</span>&nbsp;<span class="op" id="1479478">:=</span>&nbsp;<span class="builtinfunc" id="1479481">len</span><span class="op" id="1479484">(</span><span class="ident" id="1479485"><a href="/net/parse.go.html#1479463">b</a></span><span class="op" id="1479486">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479489">for</span>&nbsp;<span class="op" id="1479493">;</span>&nbsp;<span class="ident" id="1479495"><a href="/net/parse.go.html#1479372">i</a></span>&nbsp;<span class="op" id="1479497">&gt;</span>&nbsp;<span class="num" id="1479499">0</span><span class="op" id="1479500">;</span>&nbsp;<span class="ident" id="1479502"><a href="/net/parse.go.html#1479372">i</a></span>&nbsp;<span class="op" id="1479504">/=</span>&nbsp;<span class="num" id="1479507">10</span>&nbsp;<span class="op" id="1479510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479514"><a href="/net/parse.go.html#1479475">bp</a></span><span class="op" id="1479516">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479521"><a href="/net/parse.go.html#1479463">b</a></span><span class="op" id="1479522">[</span><span class="ident" id="1479523"><a href="/net/parse.go.html#1479475">bp</a></span><span class="op" id="1479525">]</span>&nbsp;<span class="op" id="1479527">=</span>&nbsp;<span class="builtintype" id="1479529">byte</span><span class="op" id="1479533">(</span><span class="ident" id="1479534"><a href="/net/parse.go.html#1479372">i</a></span><span class="op" id="1479535">%</span><span class="num" id="1479536">10</span><span class="op" id="1479538">)</span>&nbsp;<span class="op" id="1479540">+</span>&nbsp;<span class="string" id="1479542">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479551">return</span>&nbsp;<span class="builtintype" id="1479558">string</span><span class="op" id="1479564">(</span><span class="ident" id="1479565"><a href="/net/parse.go.html#1479463">b</a></span><span class="op" id="1479566">[</span><span class="ident" id="1479567"><a href="/net/parse.go.html#1479475">bp</a></span><span class="op" id="1479569">:</span><span class="op" id="1479570">]</span><span class="op" id="1479571">)</span><br>
<span class="lineno"></span><span class="op" id="1479573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1479576">//&nbsp;Convert&nbsp;i&nbsp;to&nbsp;a&nbsp;hexadecimal&nbsp;string.&nbsp;Leading&nbsp;zeros&nbsp;are&nbsp;not&nbsp;printed.</span><br>
<span class="lineno"></span><span class="keyword" id="1479645">func</span>&nbsp;<span class="ident" id="1479650">appendHex</span><span class="op" id="1479659">(</span><span class="ident" id="1479660">dst</span>&nbsp;<span class="op" id="1479664">[</span><span class="op" id="1479665">]</span><span class="builtintype" id="1479666">byte</span><span class="op" id="1479670">,</span>&nbsp;<span class="ident" id="1479672">i</span>&nbsp;<span class="builtintype" id="1479674">uint32</span><span class="op" id="1479680">)</span>&nbsp;<span class="op" id="1479682">[</span><span class="op" id="1479683">]</span><span class="builtintype" id="1479684">byte</span>&nbsp;<span class="op" id="1479689">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479692">if</span>&nbsp;<span class="ident" id="1479695"><a href="/net/parse.go.html#1479672">i</a></span>&nbsp;<span class="op" id="1479697">==</span>&nbsp;<span class="num" id="1479700">0</span>&nbsp;<span class="op" id="1479702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479706">return</span>&nbsp;<span class="builtinfunc" id="1479713">append</span><span class="op" id="1479719">(</span><span class="ident" id="1479720"><a href="/net/parse.go.html#1479660">dst</a></span><span class="op" id="1479723">,</span>&nbsp;<span class="string" id="1479725">&#39;0&#39;</span><span class="op" id="1479728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479734">for</span>&nbsp;<span class="ident" id="1479738">j</span>&nbsp;<span class="op" id="1479740">:=</span>&nbsp;<span class="num" id="1479743">7</span><span class="op" id="1479744">;</span>&nbsp;<span class="ident" id="1479746"><a href="/net/parse.go.html#1479738">j</a></span>&nbsp;<span class="op" id="1479748">&gt;=</span>&nbsp;<span class="num" id="1479751">0</span><span class="op" id="1479752">;</span>&nbsp;<span class="ident" id="1479754"><a href="/net/parse.go.html#1479738">j</a></span><span class="op" id="1479755">--</span>&nbsp;<span class="op" id="1479758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479762">v</span>&nbsp;<span class="op" id="1479764">:=</span>&nbsp;<span class="ident" id="1479767"><a href="/net/parse.go.html#1479672">i</a></span>&nbsp;<span class="op" id="1479769">&gt;&gt;</span>&nbsp;<span class="builtintype" id="1479772">uint</span><span class="op" id="1479776">(</span><span class="ident" id="1479777"><a href="/net/parse.go.html#1479738">j</a></span><span class="op" id="1479778">*</span><span class="num" id="1479779">4</span><span class="op" id="1479780">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479784">if</span>&nbsp;<span class="ident" id="1479787"><a href="/net/parse.go.html#1479762">v</a></span>&nbsp;<span class="op" id="1479789">&gt;</span>&nbsp;<span class="num" id="1479791">0</span>&nbsp;<span class="op" id="1479793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479798"><a href="/net/parse.go.html#1479660">dst</a></span>&nbsp;<span class="op" id="1479802">=</span>&nbsp;<span class="builtinfunc" id="1479804">append</span><span class="op" id="1479810">(</span><span class="ident" id="1479811"><a href="/net/parse.go.html#1479660">dst</a></span><span class="op" id="1479814">,</span>&nbsp;<span class="ident" id="1479816"><a href="/net/mac.go.html#1462368">hexDigit</a></span><span class="op" id="1479824">[</span><span class="ident" id="1479825"><a href="/net/parse.go.html#1479762">v</a></span><span class="op" id="1479826">&amp;</span><span class="num" id="1479827">0xf</span><span class="op" id="1479830">]</span><span class="op" id="1479831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479841">return</span>&nbsp;<span class="ident" id="1479848"><a href="/net/parse.go.html#1479660">dst</a></span><br>
<span class="lineno">225</span><span class="op" id="1479852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1479855">//&nbsp;Number&nbsp;of&nbsp;occurrences&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="1479891">func</span>&nbsp;<span class="ident" id="1479896">count</span><span class="op" id="1479901">(</span><span class="ident" id="1479902">s</span>&nbsp;<span class="builtintype" id="1479904">string</span><span class="op" id="1479910">,</span>&nbsp;<span class="ident" id="1479912">b</span>&nbsp;<span class="builtintype" id="1479914">byte</span><span class="op" id="1479918">)</span>&nbsp;<span class="builtintype" id="1479920">int</span>&nbsp;<span class="op" id="1479924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479927">n</span>&nbsp;<span class="op" id="1479929">:=</span>&nbsp;<span class="num" id="1479932">0</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479935">for</span>&nbsp;<span class="ident" id="1479939">i</span>&nbsp;<span class="op" id="1479941">:=</span>&nbsp;<span class="num" id="1479944">0</span><span class="op" id="1479945">;</span>&nbsp;<span class="ident" id="1479947"><a href="/net/parse.go.html#1479939">i</a></span>&nbsp;<span class="op" id="1479949">&lt;</span>&nbsp;<span class="builtinfunc" id="1479951">len</span><span class="op" id="1479954">(</span><span class="ident" id="1479955"><a href="/net/parse.go.html#1479902">s</a></span><span class="op" id="1479956">)</span><span class="op" id="1479957">;</span>&nbsp;<span class="ident" id="1479959"><a href="/net/parse.go.html#1479939">i</a></span><span class="op" id="1479960">++</span>&nbsp;<span class="op" id="1479963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479967">if</span>&nbsp;<span class="ident" id="1479970"><a href="/net/parse.go.html#1479902">s</a></span><span class="op" id="1479971">[</span><span class="ident" id="1479972"><a href="/net/parse.go.html#1479939">i</a></span><span class="op" id="1479973">]</span>&nbsp;<span class="op" id="1479975">==</span>&nbsp;<span class="ident" id="1479978"><a href="/net/parse.go.html#1479912">b</a></span>&nbsp;<span class="op" id="1479980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479985"><a href="/net/parse.go.html#1479927">n</a></span><span class="op" id="1479986">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479994">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479997">return</span>&nbsp;<span class="ident" id="1480004"><a href="/net/parse.go.html#1479927">n</a></span><br>
<span class="lineno"></span><span class="op" id="1480006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1480009">//&nbsp;Index&nbsp;of&nbsp;rightmost&nbsp;occurrence&nbsp;of&nbsp;b&nbsp;in&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="1480053">func</span>&nbsp;<span class="ident" id="1480058">last</span><span class="op" id="1480062">(</span><span class="ident" id="1480063">s</span>&nbsp;<span class="builtintype" id="1480065">string</span><span class="op" id="1480071">,</span>&nbsp;<span class="ident" id="1480073">b</span>&nbsp;<span class="builtintype" id="1480075">byte</span><span class="op" id="1480079">)</span>&nbsp;<span class="builtintype" id="1480081">int</span>&nbsp;<span class="op" id="1480085">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480088">i</span>&nbsp;<span class="op" id="1480090">:=</span>&nbsp;<span class="builtinfunc" id="1480093">len</span><span class="op" id="1480096">(</span><span class="ident" id="1480097"><a href="/net/parse.go.html#1480063">s</a></span><span class="op" id="1480098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480101">for</span>&nbsp;<span class="ident" id="1480105"><a href="/net/parse.go.html#1480088">i</a></span><span class="op" id="1480106">--</span><span class="op" id="1480108">;</span>&nbsp;<span class="ident" id="1480110"><a href="/net/parse.go.html#1480088">i</a></span>&nbsp;<span class="op" id="1480112">&gt;=</span>&nbsp;<span class="num" id="1480115">0</span><span class="op" id="1480116">;</span>&nbsp;<span class="ident" id="1480118"><a href="/net/parse.go.html#1480088">i</a></span><span class="op" id="1480119">--</span>&nbsp;<span class="op" id="1480122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480126">if</span>&nbsp;<span class="ident" id="1480129"><a href="/net/parse.go.html#1480063">s</a></span><span class="op" id="1480130">[</span><span class="ident" id="1480131"><a href="/net/parse.go.html#1480088">i</a></span><span class="op" id="1480132">]</span>&nbsp;<span class="op" id="1480134">==</span>&nbsp;<span class="ident" id="1480137"><a href="/net/parse.go.html#1480073">b</a></span>&nbsp;<span class="op" id="1480139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480144">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480152">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480158">return</span>&nbsp;<span class="ident" id="1480165"><a href="/net/parse.go.html#1480088">i</a></span><br>
<span class="lineno"></span><span class="op" id="1480167">}</span>
</div>
</body>
</html>
