<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7674618">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7674673">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7674727">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7674778">package</span>&nbsp;<span class="ident" id="7674786">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674791">import</span>&nbsp;<span class="op" id="7674798">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674801">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674810">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674829">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7674837">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7674847">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674850">type</span>&nbsp;<span class="ident" id="7674855">golden</span>&nbsp;<span class="keyword" id="7674862">struct</span>&nbsp;<span class="op" id="7674869">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674872">sum</span>&nbsp;&nbsp;<span class="op" id="7674877">[</span><span class="op" id="7674878">]</span><span class="builtintype" id="7674879">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674885">text</span>&nbsp;<span class="builtintype" id="7674890">string</span><br>
<span class="lineno"></span><span class="op" id="7674897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674900">var</span>&nbsp;<span class="ident" id="7674904">golden32</span>&nbsp;<span class="op" id="7674913">=</span>&nbsp;<span class="op" id="7674915">[</span><span class="op" id="7674916">]</span><span class="ident" id="7674917">golden</span><span class="op" id="7674923">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674926">{</span><span class="op" id="7674927">[</span><span class="op" id="7674928">]</span><span class="builtintype" id="7674929">byte</span><span class="op" id="7674933">{</span><span class="num" id="7674934">0x81</span><span class="op" id="7674938">,</span>&nbsp;<span class="num" id="7674940">0x1c</span><span class="op" id="7674944">,</span>&nbsp;<span class="num" id="7674946">0x9d</span><span class="op" id="7674950">,</span>&nbsp;<span class="num" id="7674952">0xc5</span><span class="op" id="7674956">}</span><span class="op" id="7674957">,</span>&nbsp;<span class="string" id="7674959">&#34;&#34;</span><span class="op" id="7674961">}</span><span class="op" id="7674962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674965">{</span><span class="op" id="7674966">[</span><span class="op" id="7674967">]</span><span class="builtintype" id="7674968">byte</span><span class="op" id="7674972">{</span><span class="num" id="7674973">0x05</span><span class="op" id="7674977">,</span>&nbsp;<span class="num" id="7674979">0x0c</span><span class="op" id="7674983">,</span>&nbsp;<span class="num" id="7674985">0x5d</span><span class="op" id="7674989">,</span>&nbsp;<span class="num" id="7674991">0x7e</span><span class="op" id="7674995">}</span><span class="op" id="7674996">,</span>&nbsp;<span class="string" id="7674998">&#34;a&#34;</span><span class="op" id="7675001">}</span><span class="op" id="7675002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675005">{</span><span class="op" id="7675006">[</span><span class="op" id="7675007">]</span><span class="builtintype" id="7675008">byte</span><span class="op" id="7675012">{</span><span class="num" id="7675013">0x70</span><span class="op" id="7675017">,</span>&nbsp;<span class="num" id="7675019">0x77</span><span class="op" id="7675023">,</span>&nbsp;<span class="num" id="7675025">0x2d</span><span class="op" id="7675029">,</span>&nbsp;<span class="num" id="7675031">0x38</span><span class="op" id="7675035">}</span><span class="op" id="7675036">,</span>&nbsp;<span class="string" id="7675038">&#34;ab&#34;</span><span class="op" id="7675042">}</span><span class="op" id="7675043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675046">{</span><span class="op" id="7675047">[</span><span class="op" id="7675048">]</span><span class="builtintype" id="7675049">byte</span><span class="op" id="7675053">{</span><span class="num" id="7675054">0x43</span><span class="op" id="7675058">,</span>&nbsp;<span class="num" id="7675060">0x9c</span><span class="op" id="7675064">,</span>&nbsp;<span class="num" id="7675066">0x2f</span><span class="op" id="7675070">,</span>&nbsp;<span class="num" id="7675072">0x4b</span><span class="op" id="7675076">}</span><span class="op" id="7675077">,</span>&nbsp;<span class="string" id="7675079">&#34;abc&#34;</span><span class="op" id="7675084">}</span><span class="op" id="7675085">,</span><br>
<span class="lineno"></span><span class="op" id="7675087">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7675090">var</span>&nbsp;<span class="ident" id="7675094">golden32a</span>&nbsp;<span class="op" id="7675104">=</span>&nbsp;<span class="op" id="7675106">[</span><span class="op" id="7675107">]</span><span class="ident" id="7675108">golden</span><span class="op" id="7675114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675117">{</span><span class="op" id="7675118">[</span><span class="op" id="7675119">]</span><span class="builtintype" id="7675120">byte</span><span class="op" id="7675124">{</span><span class="num" id="7675125">0x81</span><span class="op" id="7675129">,</span>&nbsp;<span class="num" id="7675131">0x1c</span><span class="op" id="7675135">,</span>&nbsp;<span class="num" id="7675137">0x9d</span><span class="op" id="7675141">,</span>&nbsp;<span class="num" id="7675143">0xc5</span><span class="op" id="7675147">}</span><span class="op" id="7675148">,</span>&nbsp;<span class="string" id="7675150">&#34;&#34;</span><span class="op" id="7675152">}</span><span class="op" id="7675153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675156">{</span><span class="op" id="7675157">[</span><span class="op" id="7675158">]</span><span class="builtintype" id="7675159">byte</span><span class="op" id="7675163">{</span><span class="num" id="7675164">0xe4</span><span class="op" id="7675168">,</span>&nbsp;<span class="num" id="7675170">0x0c</span><span class="op" id="7675174">,</span>&nbsp;<span class="num" id="7675176">0x29</span><span class="op" id="7675180">,</span>&nbsp;<span class="num" id="7675182">0x2c</span><span class="op" id="7675186">}</span><span class="op" id="7675187">,</span>&nbsp;<span class="string" id="7675189">&#34;a&#34;</span><span class="op" id="7675192">}</span><span class="op" id="7675193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675196">{</span><span class="op" id="7675197">[</span><span class="op" id="7675198">]</span><span class="builtintype" id="7675199">byte</span><span class="op" id="7675203">{</span><span class="num" id="7675204">0x4d</span><span class="op" id="7675208">,</span>&nbsp;<span class="num" id="7675210">0x25</span><span class="op" id="7675214">,</span>&nbsp;<span class="num" id="7675216">0x05</span><span class="op" id="7675220">,</span>&nbsp;<span class="num" id="7675222">0xca</span><span class="op" id="7675226">}</span><span class="op" id="7675227">,</span>&nbsp;<span class="string" id="7675229">&#34;ab&#34;</span><span class="op" id="7675233">}</span><span class="op" id="7675234">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675237">{</span><span class="op" id="7675238">[</span><span class="op" id="7675239">]</span><span class="builtintype" id="7675240">byte</span><span class="op" id="7675244">{</span><span class="num" id="7675245">0x1a</span><span class="op" id="7675249">,</span>&nbsp;<span class="num" id="7675251">0x47</span><span class="op" id="7675255">,</span>&nbsp;<span class="num" id="7675257">0xe9</span><span class="op" id="7675261">,</span>&nbsp;<span class="num" id="7675263">0x0b</span><span class="op" id="7675267">}</span><span class="op" id="7675268">,</span>&nbsp;<span class="string" id="7675270">&#34;abc&#34;</span><span class="op" id="7675275">}</span><span class="op" id="7675276">,</span><br>
<span class="lineno"></span><span class="op" id="7675278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7675281">var</span>&nbsp;<span class="ident" id="7675285">golden64</span>&nbsp;<span class="op" id="7675294">=</span>&nbsp;<span class="op" id="7675296">[</span><span class="op" id="7675297">]</span><span class="ident" id="7675298">golden</span><span class="op" id="7675304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675307">{</span><span class="op" id="7675308">[</span><span class="op" id="7675309">]</span><span class="builtintype" id="7675310">byte</span><span class="op" id="7675314">{</span><span class="num" id="7675315">0xcb</span><span class="op" id="7675319">,</span>&nbsp;<span class="num" id="7675321">0xf2</span><span class="op" id="7675325">,</span>&nbsp;<span class="num" id="7675327">0x9c</span><span class="op" id="7675331">,</span>&nbsp;<span class="num" id="7675333">0xe4</span><span class="op" id="7675337">,</span>&nbsp;<span class="num" id="7675339">0x84</span><span class="op" id="7675343">,</span>&nbsp;<span class="num" id="7675345">0x22</span><span class="op" id="7675349">,</span>&nbsp;<span class="num" id="7675351">0x23</span><span class="op" id="7675355">,</span>&nbsp;<span class="num" id="7675357">0x25</span><span class="op" id="7675361">}</span><span class="op" id="7675362">,</span>&nbsp;<span class="string" id="7675364">&#34;&#34;</span><span class="op" id="7675366">}</span><span class="op" id="7675367">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675370">{</span><span class="op" id="7675371">[</span><span class="op" id="7675372">]</span><span class="builtintype" id="7675373">byte</span><span class="op" id="7675377">{</span><span class="num" id="7675378">0xaf</span><span class="op" id="7675382">,</span>&nbsp;<span class="num" id="7675384">0x63</span><span class="op" id="7675388">,</span>&nbsp;<span class="num" id="7675390">0xbd</span><span class="op" id="7675394">,</span>&nbsp;<span class="num" id="7675396">0x4c</span><span class="op" id="7675400">,</span>&nbsp;<span class="num" id="7675402">0x86</span><span class="op" id="7675406">,</span>&nbsp;<span class="num" id="7675408">0x01</span><span class="op" id="7675412">,</span>&nbsp;<span class="num" id="7675414">0xb7</span><span class="op" id="7675418">,</span>&nbsp;<span class="num" id="7675420">0xbe</span><span class="op" id="7675424">}</span><span class="op" id="7675425">,</span>&nbsp;<span class="string" id="7675427">&#34;a&#34;</span><span class="op" id="7675430">}</span><span class="op" id="7675431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675434">{</span><span class="op" id="7675435">[</span><span class="op" id="7675436">]</span><span class="builtintype" id="7675437">byte</span><span class="op" id="7675441">{</span><span class="num" id="7675442">0x08</span><span class="op" id="7675446">,</span>&nbsp;<span class="num" id="7675448">0x32</span><span class="op" id="7675452">,</span>&nbsp;<span class="num" id="7675454">0x67</span><span class="op" id="7675458">,</span>&nbsp;<span class="num" id="7675460">0x07</span><span class="op" id="7675464">,</span>&nbsp;<span class="num" id="7675466">0xb4</span><span class="op" id="7675470">,</span>&nbsp;<span class="num" id="7675472">0xeb</span><span class="op" id="7675476">,</span>&nbsp;<span class="num" id="7675478">0x37</span><span class="op" id="7675482">,</span>&nbsp;<span class="num" id="7675484">0xb8</span><span class="op" id="7675488">}</span><span class="op" id="7675489">,</span>&nbsp;<span class="string" id="7675491">&#34;ab&#34;</span><span class="op" id="7675495">}</span><span class="op" id="7675496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675499">{</span><span class="op" id="7675500">[</span><span class="op" id="7675501">]</span><span class="builtintype" id="7675502">byte</span><span class="op" id="7675506">{</span><span class="num" id="7675507">0xd8</span><span class="op" id="7675511">,</span>&nbsp;<span class="num" id="7675513">0xdc</span><span class="op" id="7675517">,</span>&nbsp;<span class="num" id="7675519">0xca</span><span class="op" id="7675523">,</span>&nbsp;<span class="num" id="7675525">0x18</span><span class="op" id="7675529">,</span>&nbsp;<span class="num" id="7675531">0x6b</span><span class="op" id="7675535">,</span>&nbsp;<span class="num" id="7675537">0xaf</span><span class="op" id="7675541">,</span>&nbsp;<span class="num" id="7675543">0xad</span><span class="op" id="7675547">,</span>&nbsp;<span class="num" id="7675549">0xcb</span><span class="op" id="7675553">}</span><span class="op" id="7675554">,</span>&nbsp;<span class="string" id="7675556">&#34;abc&#34;</span><span class="op" id="7675561">}</span><span class="op" id="7675562">,</span><br>
<span class="lineno"></span><span class="op" id="7675564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7675567">var</span>&nbsp;<span class="ident" id="7675571">golden64a</span>&nbsp;<span class="op" id="7675581">=</span>&nbsp;<span class="op" id="7675583">[</span><span class="op" id="7675584">]</span><span class="ident" id="7675585">golden</span><span class="op" id="7675591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675594">{</span><span class="op" id="7675595">[</span><span class="op" id="7675596">]</span><span class="builtintype" id="7675597">byte</span><span class="op" id="7675601">{</span><span class="num" id="7675602">0xcb</span><span class="op" id="7675606">,</span>&nbsp;<span class="num" id="7675608">0xf2</span><span class="op" id="7675612">,</span>&nbsp;<span class="num" id="7675614">0x9c</span><span class="op" id="7675618">,</span>&nbsp;<span class="num" id="7675620">0xe4</span><span class="op" id="7675624">,</span>&nbsp;<span class="num" id="7675626">0x84</span><span class="op" id="7675630">,</span>&nbsp;<span class="num" id="7675632">0x22</span><span class="op" id="7675636">,</span>&nbsp;<span class="num" id="7675638">0x23</span><span class="op" id="7675642">,</span>&nbsp;<span class="num" id="7675644">0x25</span><span class="op" id="7675648">}</span><span class="op" id="7675649">,</span>&nbsp;<span class="string" id="7675651">&#34;&#34;</span><span class="op" id="7675653">}</span><span class="op" id="7675654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675657">{</span><span class="op" id="7675658">[</span><span class="op" id="7675659">]</span><span class="builtintype" id="7675660">byte</span><span class="op" id="7675664">{</span><span class="num" id="7675665">0xaf</span><span class="op" id="7675669">,</span>&nbsp;<span class="num" id="7675671">0x63</span><span class="op" id="7675675">,</span>&nbsp;<span class="num" id="7675677">0xdc</span><span class="op" id="7675681">,</span>&nbsp;<span class="num" id="7675683">0x4c</span><span class="op" id="7675687">,</span>&nbsp;<span class="num" id="7675689">0x86</span><span class="op" id="7675693">,</span>&nbsp;<span class="num" id="7675695">0x01</span><span class="op" id="7675699">,</span>&nbsp;<span class="num" id="7675701">0xec</span><span class="op" id="7675705">,</span>&nbsp;<span class="num" id="7675707">0x8c</span><span class="op" id="7675711">}</span><span class="op" id="7675712">,</span>&nbsp;<span class="string" id="7675714">&#34;a&#34;</span><span class="op" id="7675717">}</span><span class="op" id="7675718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675721">{</span><span class="op" id="7675722">[</span><span class="op" id="7675723">]</span><span class="builtintype" id="7675724">byte</span><span class="op" id="7675728">{</span><span class="num" id="7675729">0x08</span><span class="op" id="7675733">,</span>&nbsp;<span class="num" id="7675735">0x9c</span><span class="op" id="7675739">,</span>&nbsp;<span class="num" id="7675741">0x44</span><span class="op" id="7675745">,</span>&nbsp;<span class="num" id="7675747">0x07</span><span class="op" id="7675751">,</span>&nbsp;<span class="num" id="7675753">0xb5</span><span class="op" id="7675757">,</span>&nbsp;<span class="num" id="7675759">0x45</span><span class="op" id="7675763">,</span>&nbsp;<span class="num" id="7675765">0x98</span><span class="op" id="7675769">,</span>&nbsp;<span class="num" id="7675771">0x6a</span><span class="op" id="7675775">}</span><span class="op" id="7675776">,</span>&nbsp;<span class="string" id="7675778">&#34;ab&#34;</span><span class="op" id="7675782">}</span><span class="op" id="7675783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675786">{</span><span class="op" id="7675787">[</span><span class="op" id="7675788">]</span><span class="builtintype" id="7675789">byte</span><span class="op" id="7675793">{</span><span class="num" id="7675794">0xe7</span><span class="op" id="7675798">,</span>&nbsp;<span class="num" id="7675800">0x1f</span><span class="op" id="7675804">,</span>&nbsp;<span class="num" id="7675806">0xa2</span><span class="op" id="7675810">,</span>&nbsp;<span class="num" id="7675812">0x19</span><span class="op" id="7675816">,</span>&nbsp;<span class="num" id="7675818">0x05</span><span class="op" id="7675822">,</span>&nbsp;<span class="num" id="7675824">0x41</span><span class="op" id="7675828">,</span>&nbsp;<span class="num" id="7675830">0x57</span><span class="op" id="7675834">,</span>&nbsp;<span class="num" id="7675836">0x4b</span><span class="op" id="7675840">}</span><span class="op" id="7675841">,</span>&nbsp;<span class="string" id="7675843">&#34;abc&#34;</span><span class="op" id="7675848">}</span><span class="op" id="7675849">,</span><br>
<span class="lineno">45</span><span class="op" id="7675851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7675854">func</span>&nbsp;<span class="ident" id="7675859">TestGolden32</span><span class="op" id="7675871">(</span><span class="ident" id="7675872">t</span>&nbsp;<span class="op" id="7675874">*</span><span class="ident" id="7675875">testing</span><span class="op" id="7675882">.</span><span class="ident" id="7675883">T</span><span class="op" id="7675884">)</span>&nbsp;<span class="op" id="7675886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675889">testGolden</span><span class="op" id="7675899">(</span><span class="ident" id="7675900">t</span><span class="op" id="7675901">,</span>&nbsp;<span class="ident" id="7675903">New32</span><span class="op" id="7675908">(</span><span class="op" id="7675909">)</span><span class="op" id="7675910">,</span>&nbsp;<span class="ident" id="7675912">golden32</span><span class="op" id="7675920">)</span><br>
<span class="lineno"></span><span class="op" id="7675922">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7675925">func</span>&nbsp;<span class="ident" id="7675930">TestGolden32a</span><span class="op" id="7675943">(</span><span class="ident" id="7675944">t</span>&nbsp;<span class="op" id="7675946">*</span><span class="ident" id="7675947">testing</span><span class="op" id="7675954">.</span><span class="ident" id="7675955">T</span><span class="op" id="7675956">)</span>&nbsp;<span class="op" id="7675958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675961">testGolden</span><span class="op" id="7675971">(</span><span class="ident" id="7675972">t</span><span class="op" id="7675973">,</span>&nbsp;<span class="ident" id="7675975">New32a</span><span class="op" id="7675981">(</span><span class="op" id="7675982">)</span><span class="op" id="7675983">,</span>&nbsp;<span class="ident" id="7675985">golden32a</span><span class="op" id="7675994">)</span><br>
<span class="lineno"></span><span class="op" id="7675996">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7675999">func</span>&nbsp;<span class="ident" id="7676004">TestGolden64</span><span class="op" id="7676016">(</span><span class="ident" id="7676017">t</span>&nbsp;<span class="op" id="7676019">*</span><span class="ident" id="7676020">testing</span><span class="op" id="7676027">.</span><span class="ident" id="7676028">T</span><span class="op" id="7676029">)</span>&nbsp;<span class="op" id="7676031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676034">testGolden</span><span class="op" id="7676044">(</span><span class="ident" id="7676045">t</span><span class="op" id="7676046">,</span>&nbsp;<span class="ident" id="7676048">New64</span><span class="op" id="7676053">(</span><span class="op" id="7676054">)</span><span class="op" id="7676055">,</span>&nbsp;<span class="ident" id="7676057">golden64</span><span class="op" id="7676065">)</span><br>
<span class="lineno"></span><span class="op" id="7676067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676070">func</span>&nbsp;<span class="ident" id="7676075">TestGolden64a</span><span class="op" id="7676088">(</span><span class="ident" id="7676089">t</span>&nbsp;<span class="op" id="7676091">*</span><span class="ident" id="7676092">testing</span><span class="op" id="7676099">.</span><span class="ident" id="7676100">T</span><span class="op" id="7676101">)</span>&nbsp;<span class="op" id="7676103">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676106">testGolden</span><span class="op" id="7676116">(</span><span class="ident" id="7676117">t</span><span class="op" id="7676118">,</span>&nbsp;<span class="ident" id="7676120">New64a</span><span class="op" id="7676126">(</span><span class="op" id="7676127">)</span><span class="op" id="7676128">,</span>&nbsp;<span class="ident" id="7676130">golden64a</span><span class="op" id="7676139">)</span><br>
<span class="lineno"></span><span class="op" id="7676141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676144">func</span>&nbsp;<span class="ident" id="7676149">testGolden</span><span class="op" id="7676159">(</span><span class="ident" id="7676160">t</span>&nbsp;<span class="op" id="7676162">*</span><span class="ident" id="7676163">testing</span><span class="op" id="7676170">.</span><span class="ident" id="7676171">T</span><span class="op" id="7676172">,</span>&nbsp;<span class="ident" id="7676174">hash</span>&nbsp;<span class="ident" id="7676179">hash</span><span class="op" id="7676183">.</span><span class="ident" id="7676184">Hash</span><span class="op" id="7676188">,</span>&nbsp;<span class="ident" id="7676190">gold</span>&nbsp;<span class="op" id="7676195">[</span><span class="op" id="7676196">]</span><span class="ident" id="7676197">golden</span><span class="op" id="7676203">)</span>&nbsp;<span class="op" id="7676205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676208">for</span>&nbsp;<span class="ident" id="7676212">_</span><span class="op" id="7676213">,</span>&nbsp;<span class="ident" id="7676215">g</span>&nbsp;<span class="op" id="7676217">:=</span>&nbsp;<span class="keyword" id="7676220">range</span>&nbsp;<span class="ident" id="7676226">gold</span>&nbsp;<span class="op" id="7676231">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676235">hash</span><span class="op" id="7676239">.</span><span class="ident" id="7676240">Reset</span><span class="op" id="7676245">(</span><span class="op" id="7676246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676250">done</span><span class="op" id="7676254">,</span>&nbsp;<span class="builtintype" id="7676256">error</span>&nbsp;<span class="op" id="7676262">:=</span>&nbsp;<span class="ident" id="7676265">hash</span><span class="op" id="7676269">.</span><span class="ident" id="7676270">Write</span><span class="op" id="7676275">(</span><span class="op" id="7676276">[</span><span class="op" id="7676277">]</span><span class="builtintype" id="7676278">byte</span><span class="op" id="7676282">(</span><span class="ident" id="7676283">g</span><span class="op" id="7676284">.</span><span class="ident" id="7676285">text</span><span class="op" id="7676289">)</span><span class="op" id="7676290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676294">if</span>&nbsp;<span class="builtintype" id="7676297">error</span>&nbsp;<span class="op" id="7676303">!=</span>&nbsp;<span class="ident" id="7676306">nil</span>&nbsp;<span class="op" id="7676310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676315">t</span><span class="op" id="7676316">.</span><span class="ident" id="7676317">Fatalf</span><span class="op" id="7676323">(</span><span class="string" id="7676324">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7676341">,</span>&nbsp;<span class="builtintype" id="7676343">error</span><span class="op" id="7676348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676352">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676356">if</span>&nbsp;<span class="ident" id="7676359">done</span>&nbsp;<span class="op" id="7676364">!=</span>&nbsp;<span class="builtinfunc" id="7676367">len</span><span class="op" id="7676370">(</span><span class="ident" id="7676371">g</span><span class="op" id="7676372">.</span><span class="ident" id="7676373">text</span><span class="op" id="7676377">)</span>&nbsp;<span class="op" id="7676379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676384">t</span><span class="op" id="7676385">.</span><span class="ident" id="7676386">Fatalf</span><span class="op" id="7676392">(</span><span class="string" id="7676393">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7676424">,</span>&nbsp;<span class="ident" id="7676426">done</span><span class="op" id="7676430">,</span>&nbsp;<span class="builtinfunc" id="7676432">len</span><span class="op" id="7676435">(</span><span class="ident" id="7676436">g</span><span class="op" id="7676437">.</span><span class="ident" id="7676438">text</span><span class="op" id="7676442">)</span><span class="op" id="7676443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676451">if</span>&nbsp;<span class="ident" id="7676454">actual</span>&nbsp;<span class="op" id="7676461">:=</span>&nbsp;<span class="ident" id="7676464">hash</span><span class="op" id="7676468">.</span><span class="ident" id="7676469">Sum</span><span class="op" id="7676472">(</span><span class="ident" id="7676473">nil</span><span class="op" id="7676476">)</span><span class="op" id="7676477">;</span>&nbsp;<span class="op" id="7676479">!</span><span class="ident" id="7676480">bytes</span><span class="op" id="7676485">.</span><span class="ident" id="7676486">Equal</span><span class="op" id="7676491">(</span><span class="ident" id="7676492">g</span><span class="op" id="7676493">.</span><span class="ident" id="7676494">sum</span><span class="op" id="7676497">,</span>&nbsp;<span class="ident" id="7676499">actual</span><span class="op" id="7676505">)</span>&nbsp;<span class="op" id="7676507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676512">t</span><span class="op" id="7676513">.</span><span class="ident" id="7676514">Errorf</span><span class="op" id="7676520">(</span><span class="string" id="7676521">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7676548">,</span>&nbsp;<span class="ident" id="7676550">g</span><span class="op" id="7676551">.</span><span class="ident" id="7676552">text</span><span class="op" id="7676556">,</span>&nbsp;<span class="ident" id="7676558">actual</span><span class="op" id="7676564">,</span>&nbsp;<span class="ident" id="7676566">g</span><span class="op" id="7676567">.</span><span class="ident" id="7676568">sum</span><span class="op" id="7676571">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7676578">}</span><br>
<span class="lineno"></span><span class="op" id="7676580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676583">func</span>&nbsp;<span class="ident" id="7676588">TestIntegrity32</span><span class="op" id="7676603">(</span><span class="ident" id="7676604">t</span>&nbsp;<span class="op" id="7676606">*</span><span class="ident" id="7676607">testing</span><span class="op" id="7676614">.</span><span class="ident" id="7676615">T</span><span class="op" id="7676616">)</span>&nbsp;<span class="op" id="7676618">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676621">testIntegrity</span><span class="op" id="7676634">(</span><span class="ident" id="7676635">t</span><span class="op" id="7676636">,</span>&nbsp;<span class="ident" id="7676638">New32</span><span class="op" id="7676643">(</span><span class="op" id="7676644">)</span><span class="op" id="7676645">)</span><br>
<span class="lineno"></span><span class="op" id="7676647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676650">func</span>&nbsp;<span class="ident" id="7676655">TestIntegrity32a</span><span class="op" id="7676671">(</span><span class="ident" id="7676672">t</span>&nbsp;<span class="op" id="7676674">*</span><span class="ident" id="7676675">testing</span><span class="op" id="7676682">.</span><span class="ident" id="7676683">T</span><span class="op" id="7676684">)</span>&nbsp;<span class="op" id="7676686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676689">testIntegrity</span><span class="op" id="7676702">(</span><span class="ident" id="7676703">t</span><span class="op" id="7676704">,</span>&nbsp;<span class="ident" id="7676706">New32a</span><span class="op" id="7676712">(</span><span class="op" id="7676713">)</span><span class="op" id="7676714">)</span><br>
<span class="lineno">85</span><span class="op" id="7676716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7676719">func</span>&nbsp;<span class="ident" id="7676724">TestIntegrity64</span><span class="op" id="7676739">(</span><span class="ident" id="7676740">t</span>&nbsp;<span class="op" id="7676742">*</span><span class="ident" id="7676743">testing</span><span class="op" id="7676750">.</span><span class="ident" id="7676751">T</span><span class="op" id="7676752">)</span>&nbsp;<span class="op" id="7676754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676757">testIntegrity</span><span class="op" id="7676770">(</span><span class="ident" id="7676771">t</span><span class="op" id="7676772">,</span>&nbsp;<span class="ident" id="7676774">New64</span><span class="op" id="7676779">(</span><span class="op" id="7676780">)</span><span class="op" id="7676781">)</span><br>
<span class="lineno"></span><span class="op" id="7676783">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7676786">func</span>&nbsp;<span class="ident" id="7676791">TestIntegrity64a</span><span class="op" id="7676807">(</span><span class="ident" id="7676808">t</span>&nbsp;<span class="op" id="7676810">*</span><span class="ident" id="7676811">testing</span><span class="op" id="7676818">.</span><span class="ident" id="7676819">T</span><span class="op" id="7676820">)</span>&nbsp;<span class="op" id="7676822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676825">testIntegrity</span><span class="op" id="7676838">(</span><span class="ident" id="7676839">t</span><span class="op" id="7676840">,</span>&nbsp;<span class="ident" id="7676842">New64a</span><span class="op" id="7676848">(</span><span class="op" id="7676849">)</span><span class="op" id="7676850">)</span><br>
<span class="lineno"></span><span class="op" id="7676852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7676855">func</span>&nbsp;<span class="ident" id="7676860">testIntegrity</span><span class="op" id="7676873">(</span><span class="ident" id="7676874">t</span>&nbsp;<span class="op" id="7676876">*</span><span class="ident" id="7676877">testing</span><span class="op" id="7676884">.</span><span class="ident" id="7676885">T</span><span class="op" id="7676886">,</span>&nbsp;<span class="ident" id="7676888">h</span>&nbsp;<span class="ident" id="7676890">hash</span><span class="op" id="7676894">.</span><span class="ident" id="7676895">Hash</span><span class="op" id="7676899">)</span>&nbsp;<span class="op" id="7676901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676904">data</span>&nbsp;<span class="op" id="7676909">:=</span>&nbsp;<span class="op" id="7676912">[</span><span class="op" id="7676913">]</span><span class="builtintype" id="7676914">byte</span><span class="op" id="7676918">{</span><span class="string" id="7676919">&#39;1&#39;</span><span class="op" id="7676922">,</span>&nbsp;<span class="string" id="7676924">&#39;2&#39;</span><span class="op" id="7676927">,</span>&nbsp;<span class="num" id="7676929">3</span><span class="op" id="7676930">,</span>&nbsp;<span class="num" id="7676932">4</span><span class="op" id="7676933">,</span>&nbsp;<span class="num" id="7676935">5</span><span class="op" id="7676936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676939">h</span><span class="op" id="7676940">.</span><span class="ident" id="7676941">Write</span><span class="op" id="7676946">(</span><span class="ident" id="7676947">data</span><span class="op" id="7676951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7676954">sum</span>&nbsp;<span class="op" id="7676958">:=</span>&nbsp;<span class="ident" id="7676961">h</span><span class="op" id="7676962">.</span><span class="ident" id="7676963">Sum</span><span class="op" id="7676966">(</span><span class="ident" id="7676967">nil</span><span class="op" id="7676970">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7676974">if</span>&nbsp;<span class="ident" id="7676977">size</span>&nbsp;<span class="op" id="7676982">:=</span>&nbsp;<span class="ident" id="7676985">h</span><span class="op" id="7676986">.</span><span class="ident" id="7676987">Size</span><span class="op" id="7676991">(</span><span class="op" id="7676992">)</span><span class="op" id="7676993">;</span>&nbsp;<span class="ident" id="7676995">size</span>&nbsp;<span class="op" id="7677000">!=</span>&nbsp;<span class="builtinfunc" id="7677003">len</span><span class="op" id="7677006">(</span><span class="ident" id="7677007">sum</span><span class="op" id="7677010">)</span>&nbsp;<span class="op" id="7677012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677016">t</span><span class="op" id="7677017">.</span><span class="ident" id="7677018">Fatalf</span><span class="op" id="7677024">(</span><span class="string" id="7677025">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="7677054">,</span>&nbsp;<span class="ident" id="7677056">size</span><span class="op" id="7677060">,</span>&nbsp;<span class="builtinfunc" id="7677062">len</span><span class="op" id="7677065">(</span><span class="ident" id="7677066">sum</span><span class="op" id="7677069">)</span><span class="op" id="7677070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677077">if</span>&nbsp;<span class="ident" id="7677080">a</span>&nbsp;<span class="op" id="7677082">:=</span>&nbsp;<span class="ident" id="7677085">h</span><span class="op" id="7677086">.</span><span class="ident" id="7677087">Sum</span><span class="op" id="7677090">(</span><span class="ident" id="7677091">nil</span><span class="op" id="7677094">)</span><span class="op" id="7677095">;</span>&nbsp;<span class="op" id="7677097">!</span><span class="ident" id="7677098">bytes</span><span class="op" id="7677103">.</span><span class="ident" id="7677104">Equal</span><span class="op" id="7677109">(</span><span class="ident" id="7677110">sum</span><span class="op" id="7677113">,</span>&nbsp;<span class="ident" id="7677115">a</span><span class="op" id="7677116">)</span>&nbsp;<span class="op" id="7677118">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677122">t</span><span class="op" id="7677123">.</span><span class="ident" id="7677124">Fatalf</span><span class="op" id="7677130">(</span><span class="string" id="7677131">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7677168">,</span>&nbsp;<span class="ident" id="7677170">sum</span><span class="op" id="7677173">,</span>&nbsp;<span class="ident" id="7677175">a</span><span class="op" id="7677176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677183">h</span><span class="op" id="7677184">.</span><span class="ident" id="7677185">Reset</span><span class="op" id="7677190">(</span><span class="op" id="7677191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677194">h</span><span class="op" id="7677195">.</span><span class="ident" id="7677196">Write</span><span class="op" id="7677201">(</span><span class="ident" id="7677202">data</span><span class="op" id="7677206">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677209">if</span>&nbsp;<span class="ident" id="7677212">a</span>&nbsp;<span class="op" id="7677214">:=</span>&nbsp;<span class="ident" id="7677217">h</span><span class="op" id="7677218">.</span><span class="ident" id="7677219">Sum</span><span class="op" id="7677222">(</span><span class="ident" id="7677223">nil</span><span class="op" id="7677226">)</span><span class="op" id="7677227">;</span>&nbsp;<span class="op" id="7677229">!</span><span class="ident" id="7677230">bytes</span><span class="op" id="7677235">.</span><span class="ident" id="7677236">Equal</span><span class="op" id="7677241">(</span><span class="ident" id="7677242">sum</span><span class="op" id="7677245">,</span>&nbsp;<span class="ident" id="7677247">a</span><span class="op" id="7677248">)</span>&nbsp;<span class="op" id="7677250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677254">t</span><span class="op" id="7677255">.</span><span class="ident" id="7677256">Fatalf</span><span class="op" id="7677262">(</span><span class="string" id="7677263">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7677305">,</span>&nbsp;<span class="ident" id="7677307">sum</span><span class="op" id="7677310">,</span>&nbsp;<span class="ident" id="7677312">a</span><span class="op" id="7677313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677320">h</span><span class="op" id="7677321">.</span><span class="ident" id="7677322">Reset</span><span class="op" id="7677327">(</span><span class="op" id="7677328">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677331">h</span><span class="op" id="7677332">.</span><span class="ident" id="7677333">Write</span><span class="op" id="7677338">(</span><span class="ident" id="7677339">data</span><span class="op" id="7677343">[</span><span class="op" id="7677344">:</span><span class="num" id="7677345">2</span><span class="op" id="7677346">]</span><span class="op" id="7677347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677350">h</span><span class="op" id="7677351">.</span><span class="ident" id="7677352">Write</span><span class="op" id="7677357">(</span><span class="ident" id="7677358">data</span><span class="op" id="7677362">[</span><span class="num" id="7677363">2</span><span class="op" id="7677364">:</span><span class="op" id="7677365">]</span><span class="op" id="7677366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677369">if</span>&nbsp;<span class="ident" id="7677372">a</span>&nbsp;<span class="op" id="7677374">:=</span>&nbsp;<span class="ident" id="7677377">h</span><span class="op" id="7677378">.</span><span class="ident" id="7677379">Sum</span><span class="op" id="7677382">(</span><span class="ident" id="7677383">nil</span><span class="op" id="7677386">)</span><span class="op" id="7677387">;</span>&nbsp;<span class="op" id="7677389">!</span><span class="ident" id="7677390">bytes</span><span class="op" id="7677395">.</span><span class="ident" id="7677396">Equal</span><span class="op" id="7677401">(</span><span class="ident" id="7677402">sum</span><span class="op" id="7677405">,</span>&nbsp;<span class="ident" id="7677407">a</span><span class="op" id="7677408">)</span>&nbsp;<span class="op" id="7677410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677414">t</span><span class="op" id="7677415">.</span><span class="ident" id="7677416">Fatalf</span><span class="op" id="7677422">(</span><span class="string" id="7677423">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7677472">,</span>&nbsp;<span class="ident" id="7677474">sum</span><span class="op" id="7677477">,</span>&nbsp;<span class="ident" id="7677479">a</span><span class="op" id="7677480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677483">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677487">switch</span>&nbsp;<span class="ident" id="7677494">h</span><span class="op" id="7677495">.</span><span class="ident" id="7677496">Size</span><span class="op" id="7677500">(</span><span class="op" id="7677501">)</span>&nbsp;<span class="op" id="7677503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677506">case</span>&nbsp;<span class="num" id="7677511">4</span><span class="op" id="7677512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677516">sum32</span>&nbsp;<span class="op" id="7677522">:=</span>&nbsp;<span class="ident" id="7677525">h</span><span class="op" id="7677526">.</span><span class="op" id="7677527">(</span><span class="ident" id="7677528">hash</span><span class="op" id="7677532">.</span><span class="ident" id="7677533">Hash32</span><span class="op" id="7677539">)</span><span class="op" id="7677540">.</span><span class="ident" id="7677541">Sum32</span><span class="op" id="7677546">(</span><span class="op" id="7677547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677551">if</span>&nbsp;<span class="ident" id="7677554">sum32</span>&nbsp;<span class="op" id="7677560">!=</span>&nbsp;<span class="ident" id="7677563">binary</span><span class="op" id="7677569">.</span><span class="ident" id="7677570">BigEndian</span><span class="op" id="7677579">.</span><span class="ident" id="7677580">Uint32</span><span class="op" id="7677586">(</span><span class="ident" id="7677587">sum</span><span class="op" id="7677590">)</span>&nbsp;<span class="op" id="7677592">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677597">t</span><span class="op" id="7677598">.</span><span class="ident" id="7677599">Fatalf</span><span class="op" id="7677605">(</span><span class="string" id="7677606">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="7677636">,</span>&nbsp;<span class="ident" id="7677638">sum</span><span class="op" id="7677641">,</span>&nbsp;<span class="ident" id="7677643">sum32</span><span class="op" id="7677648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677655">case</span>&nbsp;<span class="num" id="7677660">8</span><span class="op" id="7677661">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677665">sum64</span>&nbsp;<span class="op" id="7677671">:=</span>&nbsp;<span class="ident" id="7677674">h</span><span class="op" id="7677675">.</span><span class="op" id="7677676">(</span><span class="ident" id="7677677">hash</span><span class="op" id="7677681">.</span><span class="ident" id="7677682">Hash64</span><span class="op" id="7677688">)</span><span class="op" id="7677689">.</span><span class="ident" id="7677690">Sum64</span><span class="op" id="7677695">(</span><span class="op" id="7677696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7677700">if</span>&nbsp;<span class="ident" id="7677703">sum64</span>&nbsp;<span class="op" id="7677709">!=</span>&nbsp;<span class="ident" id="7677712">binary</span><span class="op" id="7677718">.</span><span class="ident" id="7677719">BigEndian</span><span class="op" id="7677728">.</span><span class="ident" id="7677729">Uint64</span><span class="op" id="7677735">(</span><span class="ident" id="7677736">sum</span><span class="op" id="7677739">)</span>&nbsp;<span class="op" id="7677741">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677746">t</span><span class="op" id="7677747">.</span><span class="ident" id="7677748">Fatalf</span><span class="op" id="7677754">(</span><span class="string" id="7677755">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="7677785">,</span>&nbsp;<span class="ident" id="7677787">sum</span><span class="op" id="7677790">,</span>&nbsp;<span class="ident" id="7677792">sum64</span><span class="op" id="7677797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7677804">}</span><br>
<span class="lineno"></span><span class="op" id="7677806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7677809">func</span>&nbsp;<span class="ident" id="7677814">BenchmarkFnv32KB</span><span class="op" id="7677830">(</span><span class="ident" id="7677831">b</span>&nbsp;<span class="op" id="7677833">*</span><span class="ident" id="7677834">testing</span><span class="op" id="7677841">.</span><span class="ident" id="7677842">B</span><span class="op" id="7677843">)</span>&nbsp;<span class="op" id="7677845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677848">benchmarkKB</span><span class="op" id="7677859">(</span><span class="ident" id="7677860">b</span><span class="op" id="7677861">,</span>&nbsp;<span class="ident" id="7677863">New32</span><span class="op" id="7677868">(</span><span class="op" id="7677869">)</span><span class="op" id="7677870">)</span><br>
<span class="lineno"></span><span class="op" id="7677872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7677875">func</span>&nbsp;<span class="ident" id="7677880">BenchmarkFnv32aKB</span><span class="op" id="7677897">(</span><span class="ident" id="7677898">b</span>&nbsp;<span class="op" id="7677900">*</span><span class="ident" id="7677901">testing</span><span class="op" id="7677908">.</span><span class="ident" id="7677909">B</span><span class="op" id="7677910">)</span>&nbsp;<span class="op" id="7677912">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677915">benchmarkKB</span><span class="op" id="7677926">(</span><span class="ident" id="7677927">b</span><span class="op" id="7677928">,</span>&nbsp;<span class="ident" id="7677930">New32a</span><span class="op" id="7677936">(</span><span class="op" id="7677937">)</span><span class="op" id="7677938">)</span><br>
<span class="lineno"></span><span class="op" id="7677940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7677943">func</span>&nbsp;<span class="ident" id="7677948">BenchmarkFnv64KB</span><span class="op" id="7677964">(</span><span class="ident" id="7677965">b</span>&nbsp;<span class="op" id="7677967">*</span><span class="ident" id="7677968">testing</span><span class="op" id="7677975">.</span><span class="ident" id="7677976">B</span><span class="op" id="7677977">)</span>&nbsp;<span class="op" id="7677979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7677982">benchmarkKB</span><span class="op" id="7677993">(</span><span class="ident" id="7677994">b</span><span class="op" id="7677995">,</span>&nbsp;<span class="ident" id="7677997">New64</span><span class="op" id="7678002">(</span><span class="op" id="7678003">)</span><span class="op" id="7678004">)</span><br>
<span class="lineno">145</span><span class="op" id="7678006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7678009">func</span>&nbsp;<span class="ident" id="7678014">BenchmarkFnv64aKB</span><span class="op" id="7678031">(</span><span class="ident" id="7678032">b</span>&nbsp;<span class="op" id="7678034">*</span><span class="ident" id="7678035">testing</span><span class="op" id="7678042">.</span><span class="ident" id="7678043">B</span><span class="op" id="7678044">)</span>&nbsp;<span class="op" id="7678046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678049">benchmarkKB</span><span class="op" id="7678060">(</span><span class="ident" id="7678061">b</span><span class="op" id="7678062">,</span>&nbsp;<span class="ident" id="7678064">New64a</span><span class="op" id="7678070">(</span><span class="op" id="7678071">)</span><span class="op" id="7678072">)</span><br>
<span class="lineno"></span><span class="op" id="7678074">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="7678077">func</span>&nbsp;<span class="ident" id="7678082">benchmarkKB</span><span class="op" id="7678093">(</span><span class="ident" id="7678094">b</span>&nbsp;<span class="op" id="7678096">*</span><span class="ident" id="7678097">testing</span><span class="op" id="7678104">.</span><span class="ident" id="7678105">B</span><span class="op" id="7678106">,</span>&nbsp;<span class="ident" id="7678108">h</span>&nbsp;<span class="ident" id="7678110">hash</span><span class="op" id="7678114">.</span><span class="ident" id="7678115">Hash</span><span class="op" id="7678119">)</span>&nbsp;<span class="op" id="7678121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678124">b</span><span class="op" id="7678125">.</span><span class="ident" id="7678126">SetBytes</span><span class="op" id="7678134">(</span><span class="num" id="7678135">1024</span><span class="op" id="7678139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678142">data</span>&nbsp;<span class="op" id="7678147">:=</span>&nbsp;<span class="builtinfunc" id="7678150">make</span><span class="op" id="7678154">(</span><span class="op" id="7678155">[</span><span class="op" id="7678156">]</span><span class="builtintype" id="7678157">byte</span><span class="op" id="7678161">,</span>&nbsp;<span class="num" id="7678163">1024</span><span class="op" id="7678167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7678170">for</span>&nbsp;<span class="ident" id="7678174">i</span>&nbsp;<span class="op" id="7678176">:=</span>&nbsp;<span class="keyword" id="7678179">range</span>&nbsp;<span class="ident" id="7678185">data</span>&nbsp;<span class="op" id="7678190">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678194">data</span><span class="op" id="7678198">[</span><span class="ident" id="7678199">i</span><span class="op" id="7678200">]</span>&nbsp;<span class="op" id="7678202">=</span>&nbsp;<span class="builtintype" id="7678204">byte</span><span class="op" id="7678208">(</span><span class="ident" id="7678209">i</span><span class="op" id="7678210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7678213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678216">in</span>&nbsp;<span class="op" id="7678219">:=</span>&nbsp;<span class="builtinfunc" id="7678222">make</span><span class="op" id="7678226">(</span><span class="op" id="7678227">[</span><span class="op" id="7678228">]</span><span class="builtintype" id="7678229">byte</span><span class="op" id="7678233">,</span>&nbsp;<span class="num" id="7678235">0</span><span class="op" id="7678236">,</span>&nbsp;<span class="ident" id="7678238">h</span><span class="op" id="7678239">.</span><span class="ident" id="7678240">Size</span><span class="op" id="7678244">(</span><span class="op" id="7678245">)</span><span class="op" id="7678246">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678250">b</span><span class="op" id="7678251">.</span><span class="ident" id="7678252">ResetTimer</span><span class="op" id="7678262">(</span><span class="op" id="7678263">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7678266">for</span>&nbsp;<span class="ident" id="7678270">i</span>&nbsp;<span class="op" id="7678272">:=</span>&nbsp;<span class="num" id="7678275">0</span><span class="op" id="7678276">;</span>&nbsp;<span class="ident" id="7678278">i</span>&nbsp;<span class="op" id="7678280">&lt;</span>&nbsp;<span class="ident" id="7678282">b</span><span class="op" id="7678283">.</span><span class="ident" id="7678284">N</span><span class="op" id="7678285">;</span>&nbsp;<span class="ident" id="7678287">i</span><span class="op" id="7678288">++</span>&nbsp;<span class="op" id="7678291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678295">h</span><span class="op" id="7678296">.</span><span class="ident" id="7678297">Reset</span><span class="op" id="7678302">(</span><span class="op" id="7678303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678307">h</span><span class="op" id="7678308">.</span><span class="ident" id="7678309">Write</span><span class="op" id="7678314">(</span><span class="ident" id="7678315">data</span><span class="op" id="7678319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7678323">h</span><span class="op" id="7678324">.</span><span class="ident" id="7678325">Sum</span><span class="op" id="7678328">(</span><span class="ident" id="7678329">in</span><span class="op" id="7678331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7678334">}</span><br>
<span class="lineno">165</span><span class="op" id="7678336">}</span>
</div>
</body>
</html>
