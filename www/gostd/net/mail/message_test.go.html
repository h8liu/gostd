<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/mail</h2>
<ul>
<li><a href="/gostd/net/mail/message.go.html">message.go</a></li>
<li><a href="/gostd/net/mail/message_test.go.html">message_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6466867">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6466922">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6466976">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6467027">package</span>&nbsp;<span class="ident" id="6467035">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6467041">import</span>&nbsp;<span class="op" id="6467048">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467051">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467060">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467073">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467084">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467095">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467106">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6467113">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6467116">var</span>&nbsp;<span class="ident" id="6467120">parseTests</span>&nbsp;<span class="op" id="6467131">=</span>&nbsp;<span class="op" id="6467133">[</span><span class="op" id="6467134">]</span><span class="keyword" id="6467135">struct</span>&nbsp;<span class="op" id="6467142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467145">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6467152">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467160">header</span>&nbsp;<span class="ident" id="6467167">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467175">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6467182">string</span><br>
<span class="lineno">20</span><span class="op" id="6467189">}</span><span class="op" id="6467190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6467197">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467227">in</span><span class="op" id="6467229">:</span>&nbsp;<span class="string" id="6467231">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="6467457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467461">header</span><span class="op" id="6467467">:</span>&nbsp;<span class="ident" id="6467469">Header</span><span class="op" id="6467475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467480">&#34;From&#34;</span><span class="op" id="6467486">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467494">[</span><span class="op" id="6467495">]</span><span class="builtintype" id="6467496">string</span><span class="op" id="6467502">{</span><span class="string" id="6467503">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="6467536">}</span><span class="op" id="6467537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467542">&#34;To&#34;</span><span class="op" id="6467546">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467556">[</span><span class="op" id="6467557">]</span><span class="builtintype" id="6467558">string</span><span class="op" id="6467564">{</span><span class="string" id="6467565">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="6467596">}</span><span class="op" id="6467597">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467602">&#34;Subject&#34;</span><span class="op" id="6467611">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467616">[</span><span class="op" id="6467617">]</span><span class="builtintype" id="6467618">string</span><span class="op" id="6467624">{</span><span class="string" id="6467625">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="6467639">}</span><span class="op" id="6467640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467645">&#34;Date&#34;</span><span class="op" id="6467651">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6467659">[</span><span class="op" id="6467660">]</span><span class="builtintype" id="6467661">string</span><span class="op" id="6467667">{</span><span class="string" id="6467668">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6467701">}</span><span class="op" id="6467702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6467707">&#34;Message-Id&#34;</span><span class="op" id="6467719">:</span>&nbsp;<span class="op" id="6467721">[</span><span class="op" id="6467722">]</span><span class="builtintype" id="6467723">string</span><span class="op" id="6467729">{</span><span class="string" id="6467730">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="6467760">}</span><span class="op" id="6467761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467765">}</span><span class="op" id="6467766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467770">body</span><span class="op" id="6467774">:</span>&nbsp;<span class="string" id="6467776">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="6467832">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6467835">}</span><span class="op" id="6467836">,</span><br>
<span class="lineno"></span><span class="op" id="6467838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6467841">func</span>&nbsp;<span class="ident" id="6467846">TestParsing</span><span class="op" id="6467857">(</span><span class="ident" id="6467858">t</span>&nbsp;<span class="op" id="6467860">*</span><span class="ident" id="6467861">testing</span><span class="op" id="6467868">.</span><span class="ident" id="6467869">T</span><span class="op" id="6467870">)</span>&nbsp;<span class="op" id="6467872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467875">for</span>&nbsp;<span class="ident" id="6467879">i</span><span class="op" id="6467880">,</span>&nbsp;<span class="ident" id="6467882">test</span>&nbsp;<span class="op" id="6467887">:=</span>&nbsp;<span class="keyword" id="6467890">range</span>&nbsp;<span class="ident" id="6467896">parseTests</span>&nbsp;<span class="op" id="6467907">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467911">msg</span><span class="op" id="6467914">,</span>&nbsp;<span class="ident" id="6467916">err</span>&nbsp;<span class="op" id="6467920">:=</span>&nbsp;<span class="ident" id="6467923">ReadMessage</span><span class="op" id="6467934">(</span><span class="ident" id="6467935">bytes</span><span class="op" id="6467940">.</span><span class="ident" id="6467941">NewBuffer</span><span class="op" id="6467950">(</span><span class="op" id="6467951">[</span><span class="op" id="6467952">]</span><span class="builtintype" id="6467953">byte</span><span class="op" id="6467957">(</span><span class="ident" id="6467958">test</span><span class="op" id="6467962">.</span><span class="ident" id="6467963">in</span><span class="op" id="6467965">)</span><span class="op" id="6467966">)</span><span class="op" id="6467967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6467971">if</span>&nbsp;<span class="ident" id="6467974">err</span>&nbsp;<span class="op" id="6467978">!=</span>&nbsp;<span class="ident" id="6467981">nil</span>&nbsp;<span class="op" id="6467985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6467990">t</span><span class="op" id="6467991">.</span><span class="ident" id="6467992">Errorf</span><span class="op" id="6467998">(</span><span class="string" id="6467999">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="6468037">,</span>&nbsp;<span class="ident" id="6468039">i</span><span class="op" id="6468040">,</span>&nbsp;<span class="ident" id="6468042">err</span><span class="op" id="6468045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468050">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468061">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468065">if</span>&nbsp;<span class="op" id="6468068">!</span><span class="ident" id="6468069">headerEq</span><span class="op" id="6468077">(</span><span class="ident" id="6468078">msg</span><span class="op" id="6468081">.</span><span class="ident" id="6468082">Header</span><span class="op" id="6468088">,</span>&nbsp;<span class="ident" id="6468090">test</span><span class="op" id="6468094">.</span><span class="ident" id="6468095">header</span><span class="op" id="6468101">)</span>&nbsp;<span class="op" id="6468103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468108">t</span><span class="op" id="6468109">.</span><span class="ident" id="6468110">Errorf</span><span class="op" id="6468116">(</span><span class="string" id="6468117">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6468186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468192">i</span><span class="op" id="6468193">,</span>&nbsp;<span class="ident" id="6468195">msg</span><span class="op" id="6468198">.</span><span class="ident" id="6468199">Header</span><span class="op" id="6468205">,</span>&nbsp;<span class="ident" id="6468207">test</span><span class="op" id="6468211">.</span><span class="ident" id="6468212">header</span><span class="op" id="6468218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468226">body</span><span class="op" id="6468230">,</span>&nbsp;<span class="ident" id="6468232">err</span>&nbsp;<span class="op" id="6468236">:=</span>&nbsp;<span class="ident" id="6468239">ioutil</span><span class="op" id="6468245">.</span><span class="ident" id="6468246">ReadAll</span><span class="op" id="6468253">(</span><span class="ident" id="6468254">msg</span><span class="op" id="6468257">.</span><span class="ident" id="6468258">Body</span><span class="op" id="6468262">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468266">if</span>&nbsp;<span class="ident" id="6468269">err</span>&nbsp;<span class="op" id="6468273">!=</span>&nbsp;<span class="ident" id="6468276">nil</span>&nbsp;<span class="op" id="6468280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468285">t</span><span class="op" id="6468286">.</span><span class="ident" id="6468287">Errorf</span><span class="op" id="6468293">(</span><span class="string" id="6468294">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="6468329">,</span>&nbsp;<span class="ident" id="6468331">i</span><span class="op" id="6468332">,</span>&nbsp;<span class="ident" id="6468334">err</span><span class="op" id="6468337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468342">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468357">bodyStr</span>&nbsp;<span class="op" id="6468365">:=</span>&nbsp;<span class="builtintype" id="6468368">string</span><span class="op" id="6468374">(</span><span class="ident" id="6468375">body</span><span class="op" id="6468379">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468383">if</span>&nbsp;<span class="ident" id="6468386">bodyStr</span>&nbsp;<span class="op" id="6468394">!=</span>&nbsp;<span class="ident" id="6468397">test</span><span class="op" id="6468401">.</span><span class="ident" id="6468402">body</span>&nbsp;<span class="op" id="6468407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468412">t</span><span class="op" id="6468413">.</span><span class="ident" id="6468414">Errorf</span><span class="op" id="6468420">(</span><span class="string" id="6468421">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6468488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468494">i</span><span class="op" id="6468495">,</span>&nbsp;<span class="ident" id="6468497">bodyStr</span><span class="op" id="6468504">,</span>&nbsp;<span class="ident" id="6468506">test</span><span class="op" id="6468510">.</span><span class="ident" id="6468511">body</span><span class="op" id="6468515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468522">}</span><br>
<span class="lineno">65</span><span class="op" id="6468524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6468527">func</span>&nbsp;<span class="ident" id="6468532">headerEq</span><span class="op" id="6468540">(</span><span class="ident" id="6468541">a</span><span class="op" id="6468542">,</span>&nbsp;<span class="ident" id="6468544">b</span>&nbsp;<span class="ident" id="6468546">Header</span><span class="op" id="6468552">)</span>&nbsp;<span class="builtintype" id="6468554">bool</span>&nbsp;<span class="op" id="6468559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468562">if</span>&nbsp;<span class="builtinfunc" id="6468565">len</span><span class="op" id="6468568">(</span><span class="ident" id="6468569">a</span><span class="op" id="6468570">)</span>&nbsp;<span class="op" id="6468572">!=</span>&nbsp;<span class="builtinfunc" id="6468575">len</span><span class="op" id="6468578">(</span><span class="ident" id="6468579">b</span><span class="op" id="6468580">)</span>&nbsp;<span class="op" id="6468582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468586">return</span>&nbsp;<span class="builtintype" id="6468593">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468603">for</span>&nbsp;<span class="ident" id="6468607">k</span><span class="op" id="6468608">,</span>&nbsp;<span class="ident" id="6468610">as</span>&nbsp;<span class="op" id="6468613">:=</span>&nbsp;<span class="keyword" id="6468616">range</span>&nbsp;<span class="ident" id="6468622">a</span>&nbsp;<span class="op" id="6468624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468628">bs</span><span class="op" id="6468630">,</span>&nbsp;<span class="ident" id="6468632">ok</span>&nbsp;<span class="op" id="6468635">:=</span>&nbsp;<span class="ident" id="6468638">b</span><span class="op" id="6468639">[</span><span class="ident" id="6468640">k</span><span class="op" id="6468641">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468645">if</span>&nbsp;<span class="op" id="6468648">!</span><span class="ident" id="6468649">ok</span>&nbsp;<span class="op" id="6468652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468657">return</span>&nbsp;<span class="builtintype" id="6468664">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468676">if</span>&nbsp;<span class="op" id="6468679">!</span><span class="ident" id="6468680">reflect</span><span class="op" id="6468687">.</span><span class="ident" id="6468688">DeepEqual</span><span class="op" id="6468697">(</span><span class="ident" id="6468698">as</span><span class="op" id="6468700">,</span>&nbsp;<span class="ident" id="6468702">bs</span><span class="op" id="6468704">)</span>&nbsp;<span class="op" id="6468706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468711">return</span>&nbsp;<span class="builtintype" id="6468718">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468729">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6468732">return</span>&nbsp;<span class="builtintype" id="6468739">true</span><br>
<span class="lineno"></span><span class="op" id="6468744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6468747">func</span>&nbsp;<span class="ident" id="6468752">TestDateParsing</span><span class="op" id="6468767">(</span><span class="ident" id="6468768">t</span>&nbsp;<span class="op" id="6468770">*</span><span class="ident" id="6468771">testing</span><span class="op" id="6468778">.</span><span class="ident" id="6468779">T</span><span class="op" id="6468780">)</span>&nbsp;<span class="op" id="6468782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468785">tests</span>&nbsp;<span class="op" id="6468791">:=</span>&nbsp;<span class="op" id="6468794">[</span><span class="op" id="6468795">]</span><span class="keyword" id="6468796">struct</span>&nbsp;<span class="op" id="6468803">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468807">dateStr</span>&nbsp;<span class="builtintype" id="6468815">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468824">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6468832">time</span><span class="op" id="6468836">.</span><span class="ident" id="6468837">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468843">}</span><span class="op" id="6468844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6468848">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468878">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6468883">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6468916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6468921">time</span><span class="op" id="6468925">.</span><span class="ident" id="6468926">Date</span><span class="op" id="6468930">(</span><span class="num" id="6468931">1997</span><span class="op" id="6468935">,</span>&nbsp;<span class="num" id="6468937">11</span><span class="op" id="6468939">,</span>&nbsp;<span class="num" id="6468941">21</span><span class="op" id="6468943">,</span>&nbsp;<span class="num" id="6468945">9</span><span class="op" id="6468946">,</span>&nbsp;<span class="num" id="6468948">55</span><span class="op" id="6468950">,</span>&nbsp;<span class="num" id="6468952">6</span><span class="op" id="6468953">,</span>&nbsp;<span class="num" id="6468955">0</span><span class="op" id="6468956">,</span>&nbsp;<span class="ident" id="6468958">time</span><span class="op" id="6468962">.</span><span class="ident" id="6468963">FixedZone</span><span class="op" id="6468972">(</span><span class="string" id="6468973">&#34;&#34;</span><span class="op" id="6468975">,</span>&nbsp;<span class="op" id="6468977">-</span><span class="num" id="6468978">6</span><span class="op" id="6468979">*</span><span class="num" id="6468980">60</span><span class="op" id="6468982">*</span><span class="num" id="6468983">60</span><span class="op" id="6468985">)</span><span class="op" id="6468986">)</span><span class="op" id="6468987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6468991">}</span><span class="op" id="6468992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6468996">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6469025">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6469050">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="6469074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469079">time</span><span class="op" id="6469083">.</span><span class="ident" id="6469084">Date</span><span class="op" id="6469088">(</span><span class="num" id="6469089">1997</span><span class="op" id="6469093">,</span>&nbsp;<span class="num" id="6469095">11</span><span class="op" id="6469097">,</span>&nbsp;<span class="num" id="6469099">21</span><span class="op" id="6469101">,</span>&nbsp;<span class="num" id="6469103">9</span><span class="op" id="6469104">,</span>&nbsp;<span class="num" id="6469106">55</span><span class="op" id="6469108">,</span>&nbsp;<span class="num" id="6469110">6</span><span class="op" id="6469111">,</span>&nbsp;<span class="num" id="6469113">0</span><span class="op" id="6469114">,</span>&nbsp;<span class="ident" id="6469116">time</span><span class="op" id="6469120">.</span><span class="ident" id="6469121">FixedZone</span><span class="op" id="6469130">(</span><span class="string" id="6469131">&#34;GMT&#34;</span><span class="op" id="6469136">,</span>&nbsp;<span class="num" id="6469138">0</span><span class="op" id="6469139">)</span><span class="op" id="6469140">)</span><span class="op" id="6469141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469145">}</span><span class="op" id="6469146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6469150">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6469209">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="6469248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469253">time</span><span class="op" id="6469257">.</span><span class="ident" id="6469258">Date</span><span class="op" id="6469262">(</span><span class="num" id="6469263">1997</span><span class="op" id="6469267">,</span>&nbsp;<span class="num" id="6469269">11</span><span class="op" id="6469271">,</span>&nbsp;<span class="num" id="6469273">21</span><span class="op" id="6469275">,</span>&nbsp;<span class="num" id="6469277">9</span><span class="op" id="6469278">,</span>&nbsp;<span class="num" id="6469280">55</span><span class="op" id="6469282">,</span>&nbsp;<span class="num" id="6469284">6</span><span class="op" id="6469285">,</span>&nbsp;<span class="num" id="6469287">0</span><span class="op" id="6469288">,</span>&nbsp;<span class="ident" id="6469290">time</span><span class="op" id="6469294">.</span><span class="ident" id="6469295">FixedZone</span><span class="op" id="6469304">(</span><span class="string" id="6469305">&#34;&#34;</span><span class="op" id="6469307">,</span>&nbsp;<span class="op" id="6469309">-</span><span class="num" id="6469310">6</span><span class="op" id="6469311">*</span><span class="num" id="6469312">60</span><span class="op" id="6469314">*</span><span class="num" id="6469315">60</span><span class="op" id="6469317">)</span><span class="op" id="6469318">)</span><span class="op" id="6469319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469323">}</span><span class="op" id="6469324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469327">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469330">for</span>&nbsp;<span class="ident" id="6469334">_</span><span class="op" id="6469335">,</span>&nbsp;<span class="ident" id="6469337">test</span>&nbsp;<span class="op" id="6469342">:=</span>&nbsp;<span class="keyword" id="6469345">range</span>&nbsp;<span class="ident" id="6469351">tests</span>&nbsp;<span class="op" id="6469357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469361">hdr</span>&nbsp;<span class="op" id="6469365">:=</span>&nbsp;<span class="ident" id="6469368">Header</span><span class="op" id="6469374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6469379">&#34;Date&#34;</span><span class="op" id="6469385">:</span>&nbsp;<span class="op" id="6469387">[</span><span class="op" id="6469388">]</span><span class="builtintype" id="6469389">string</span><span class="op" id="6469395">{</span><span class="ident" id="6469396">test</span><span class="op" id="6469400">.</span><span class="ident" id="6469401">dateStr</span><span class="op" id="6469408">}</span><span class="op" id="6469409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469417">date</span><span class="op" id="6469421">,</span>&nbsp;<span class="ident" id="6469423">err</span>&nbsp;<span class="op" id="6469427">:=</span>&nbsp;<span class="ident" id="6469430">hdr</span><span class="op" id="6469433">.</span><span class="ident" id="6469434">Date</span><span class="op" id="6469438">(</span><span class="op" id="6469439">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469443">if</span>&nbsp;<span class="ident" id="6469446">err</span>&nbsp;<span class="op" id="6469450">!=</span>&nbsp;<span class="ident" id="6469453">nil</span>&nbsp;<span class="op" id="6469457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469462">t</span><span class="op" id="6469463">.</span><span class="ident" id="6469464">Errorf</span><span class="op" id="6469470">(</span><span class="string" id="6469471">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6469494">,</span>&nbsp;<span class="ident" id="6469496">test</span><span class="op" id="6469500">.</span><span class="ident" id="6469501">dateStr</span><span class="op" id="6469508">,</span>&nbsp;<span class="ident" id="6469510">err</span><span class="op" id="6469513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469518">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469533">if</span>&nbsp;<span class="op" id="6469536">!</span><span class="ident" id="6469537">date</span><span class="op" id="6469541">.</span><span class="ident" id="6469542">Equal</span><span class="op" id="6469547">(</span><span class="ident" id="6469548">test</span><span class="op" id="6469552">.</span><span class="ident" id="6469553">exp</span><span class="op" id="6469556">)</span>&nbsp;<span class="op" id="6469558">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469563">t</span><span class="op" id="6469564">.</span><span class="ident" id="6469565">Errorf</span><span class="op" id="6469571">(</span><span class="string" id="6469572">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6469604">,</span>&nbsp;<span class="ident" id="6469606">test</span><span class="op" id="6469610">.</span><span class="ident" id="6469611">dateStr</span><span class="op" id="6469618">,</span>&nbsp;<span class="ident" id="6469620">date</span><span class="op" id="6469624">,</span>&nbsp;<span class="ident" id="6469626">test</span><span class="op" id="6469630">.</span><span class="ident" id="6469631">exp</span><span class="op" id="6469634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469641">}</span><br>
<span class="lineno"></span><span class="op" id="6469643">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="6469646">func</span>&nbsp;<span class="ident" id="6469651">TestAddressParsingError</span><span class="op" id="6469674">(</span><span class="ident" id="6469675">t</span>&nbsp;<span class="op" id="6469677">*</span><span class="ident" id="6469678">testing</span><span class="op" id="6469685">.</span><span class="ident" id="6469686">T</span><span class="op" id="6469687">)</span>&nbsp;<span class="op" id="6469689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469692">const</span>&nbsp;<span class="ident" id="6469698">txt</span>&nbsp;<span class="op" id="6469702">=</span>&nbsp;<span class="string" id="6469704">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469764">_</span><span class="op" id="6469765">,</span>&nbsp;<span class="ident" id="6469767">err</span>&nbsp;<span class="op" id="6469771">:=</span>&nbsp;<span class="ident" id="6469774">ParseAddress</span><span class="op" id="6469786">(</span><span class="ident" id="6469787">txt</span><span class="op" id="6469790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6469793">if</span>&nbsp;<span class="ident" id="6469796">err</span>&nbsp;<span class="op" id="6469800">==</span>&nbsp;<span class="ident" id="6469803">nil</span>&nbsp;<span class="op" id="6469807">||</span>&nbsp;<span class="op" id="6469810">!</span><span class="ident" id="6469811">strings</span><span class="op" id="6469818">.</span><span class="ident" id="6469819">Contains</span><span class="op" id="6469827">(</span><span class="ident" id="6469828">err</span><span class="op" id="6469831">.</span><span class="ident" id="6469832">Error</span><span class="op" id="6469837">(</span><span class="op" id="6469838">)</span><span class="op" id="6469839">,</span>&nbsp;<span class="string" id="6469841">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="6469864">)</span>&nbsp;<span class="op" id="6469866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6469870">t</span><span class="op" id="6469871">.</span><span class="ident" id="6469872">Errorf</span><span class="op" id="6469878">(</span><span class="string" id="6469879">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="6469944">,</span>&nbsp;<span class="ident" id="6469946">txt</span><span class="op" id="6469949">,</span>&nbsp;<span class="ident" id="6469951">err</span><span class="op" id="6469954">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6469957">}</span><br>
<span class="lineno"></span><span class="op" id="6469959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6469962">func</span>&nbsp;<span class="ident" id="6469967">TestAddressParsing</span><span class="op" id="6469985">(</span><span class="ident" id="6469986">t</span>&nbsp;<span class="op" id="6469988">*</span><span class="ident" id="6469989">testing</span><span class="op" id="6469996">.</span><span class="ident" id="6469997">T</span><span class="op" id="6469998">)</span>&nbsp;<span class="op" id="6470000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470003">tests</span>&nbsp;<span class="op" id="6470009">:=</span>&nbsp;<span class="op" id="6470012">[</span><span class="op" id="6470013">]</span><span class="keyword" id="6470014">struct</span>&nbsp;<span class="op" id="6470021">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470025">addrsStr</span>&nbsp;<span class="builtintype" id="6470034">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470043">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6470052">[</span><span class="op" id="6470053">]</span><span class="op" id="6470054">*</span><span class="ident" id="6470055">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470064">}</span><span class="op" id="6470065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6470069">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470087">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6470092">`jdoe@machine.example`</span><span class="op" id="6470114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470119">[</span><span class="op" id="6470120">]</span><span class="op" id="6470121">*</span><span class="ident" id="6470122">Address</span><span class="op" id="6470129">{</span><span class="op" id="6470130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470136">Address</span><span class="op" id="6470143">:</span>&nbsp;<span class="string" id="6470145">&#34;jdoe@machine.example&#34;</span><span class="op" id="6470167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470172">}</span><span class="op" id="6470173">}</span><span class="op" id="6470174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470178">}</span><span class="op" id="6470179">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6470183">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6470218">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="6470251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470256">[</span><span class="op" id="6470257">]</span><span class="op" id="6470258">*</span><span class="ident" id="6470259">Address</span><span class="op" id="6470266">{</span><span class="op" id="6470267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470273">Name</span><span class="op" id="6470277">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6470282">&#34;John&nbsp;Doe&#34;</span><span class="op" id="6470292">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470298">Address</span><span class="op" id="6470305">:</span>&nbsp;<span class="string" id="6470307">&#34;jdoe@machine.example&#34;</span><span class="op" id="6470329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470334">}</span><span class="op" id="6470335">}</span><span class="op" id="6470336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470340">}</span><span class="op" id="6470341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6470345">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470375">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6470380">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="6470425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470430">[</span><span class="op" id="6470431">]</span><span class="op" id="6470432">*</span><span class="ident" id="6470433">Address</span><span class="op" id="6470440">{</span><span class="op" id="6470441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470447">Name</span><span class="op" id="6470451">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6470456">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="6470471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470477">Address</span><span class="op" id="6470484">:</span>&nbsp;<span class="string" id="6470486">&#34;john.q.public@example.com&#34;</span><span class="op" id="6470513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470518">}</span><span class="op" id="6470519">}</span><span class="op" id="6470520">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470524">}</span><span class="op" id="6470525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6470534">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="6470597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470602">[</span><span class="op" id="6470603">]</span><span class="op" id="6470604">*</span><span class="ident" id="6470605">Address</span><span class="op" id="6470612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470618">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470625">Name</span><span class="op" id="6470629">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6470634">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="6470646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470653">Address</span><span class="op" id="6470660">:</span>&nbsp;<span class="string" id="6470662">&#34;mary@x.test&#34;</span><span class="op" id="6470675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470681">}</span><span class="op" id="6470682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470695">Address</span><span class="op" id="6470702">:</span>&nbsp;<span class="string" id="6470704">&#34;jdoe@example.org&#34;</span><span class="op" id="6470722">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470728">}</span><span class="op" id="6470729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470742">Name</span><span class="op" id="6470746">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6470751">&#34;Who?&#34;</span><span class="op" id="6470757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470764">Address</span><span class="op" id="6470771">:</span>&nbsp;<span class="string" id="6470773">&#34;one@y.test&#34;</span><span class="op" id="6470785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470791">}</span><span class="op" id="6470792">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470797">}</span><span class="op" id="6470798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470802">}</span><span class="op" id="6470803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6470812">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="6470877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470882">[</span><span class="op" id="6470883">]</span><span class="op" id="6470884">*</span><span class="ident" id="6470885">Address</span><span class="op" id="6470892">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470905">Address</span><span class="op" id="6470912">:</span>&nbsp;<span class="string" id="6470914">&#34;boss@nil.test&#34;</span><span class="op" id="6470929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470935">}</span><span class="op" id="6470936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6470942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470949">Name</span><span class="op" id="6470953">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6470958">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="6470976">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6470983">Address</span><span class="op" id="6470990">:</span>&nbsp;<span class="string" id="6470992">&#34;sysservices@example.net&#34;</span><span class="op" id="6471017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471023">}</span><span class="op" id="6471024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471029">}</span><span class="op" id="6471030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471034">}</span><span class="op" id="6471035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471039">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471069">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471108">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6471159">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6471208">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471213">[</span><span class="op" id="6471214">]</span><span class="op" id="6471215">*</span><span class="ident" id="6471216">Address</span><span class="op" id="6471223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471236">Name</span><span class="op" id="6471240">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6471245">`Jrg&nbsp;Doe`</span><span class="op" id="6471256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471263">Address</span><span class="op" id="6471270">:</span>&nbsp;<span class="string" id="6471272">&#34;joerg@example.com&#34;</span><span class="op" id="6471291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471297">}</span><span class="op" id="6471298">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471303">}</span><span class="op" id="6471304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471308">}</span><span class="op" id="6471309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471313">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6471378">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6471425">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471430">[</span><span class="op" id="6471431">]</span><span class="op" id="6471432">*</span><span class="ident" id="6471433">Address</span><span class="op" id="6471440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471453">Name</span><span class="op" id="6471457">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6471462">`Jorg&nbsp;Doe`</span><span class="op" id="6471472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471479">Address</span><span class="op" id="6471486">:</span>&nbsp;<span class="string" id="6471488">&#34;joerg@example.com&#34;</span><span class="op" id="6471507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471513">}</span><span class="op" id="6471514">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471519">}</span><span class="op" id="6471520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471524">}</span><span class="op" id="6471525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471529">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6471575">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6471622">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471627">[</span><span class="op" id="6471628">]</span><span class="op" id="6471629">*</span><span class="ident" id="6471630">Address</span><span class="op" id="6471637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471650">Name</span><span class="op" id="6471654">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6471659">`Jrg&nbsp;Doe`</span><span class="op" id="6471670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471677">Address</span><span class="op" id="6471684">:</span>&nbsp;<span class="string" id="6471686">&#34;joerg@example.com&#34;</span><span class="op" id="6471705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471711">}</span><span class="op" id="6471712">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471717">}</span><span class="op" id="6471718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471722">}</span><span class="op" id="6471723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471727">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6471758">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="6471814">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471819">[</span><span class="op" id="6471820">]</span><span class="op" id="6471821">*</span><span class="ident" id="6471822">Address</span><span class="op" id="6471829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471842">Name</span><span class="op" id="6471846">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6471851">`Andr&nbsp;Pirard`</span><span class="op" id="6471866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6471873">Address</span><span class="op" id="6471880">:</span>&nbsp;<span class="string" id="6471882">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="6471904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471910">}</span><span class="op" id="6471911">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471916">}</span><span class="op" id="6471917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471921">}</span><span class="op" id="6471922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6471926">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6471990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6471995">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6472042">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472047">[</span><span class="op" id="6472048">]</span><span class="op" id="6472049">*</span><span class="ident" id="6472050">Address</span><span class="op" id="6472057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472070">Name</span><span class="op" id="6472074">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6472079">`Jrg`</span><span class="op" id="6472086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472093">Address</span><span class="op" id="6472100">:</span>&nbsp;<span class="string" id="6472102">&#34;joerg@example.com&#34;</span><span class="op" id="6472121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472127">}</span><span class="op" id="6472128">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472133">}</span><span class="op" id="6472134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472138">}</span><span class="op" id="6472139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6472143">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6472207">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6472249">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472254">[</span><span class="op" id="6472255">]</span><span class="op" id="6472256">*</span><span class="ident" id="6472257">Address</span><span class="op" id="6472264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472277">Name</span><span class="op" id="6472281">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6472286">`Jrg`</span><span class="op" id="6472293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472300">Address</span><span class="op" id="6472307">:</span>&nbsp;<span class="string" id="6472309">&#34;joerg@example.com&#34;</span><span class="op" id="6472328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472334">}</span><span class="op" id="6472335">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472340">}</span><span class="op" id="6472341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472345">}</span><span class="op" id="6472346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6472350">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6472408">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="6472439">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472444">[</span><span class="op" id="6472445">]</span><span class="op" id="6472446">*</span><span class="ident" id="6472447">Address</span><span class="op" id="6472454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472467">Name</span><span class="op" id="6472471">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6472476">`Asem&nbsp;H.`</span><span class="op" id="6472485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472492">Address</span><span class="op" id="6472499">:</span>&nbsp;<span class="string" id="6472501">&#34;noreply@example.com&#34;</span><span class="op" id="6472522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472528">}</span><span class="op" id="6472529">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472534">}</span><span class="op" id="6472535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472539">}</span><span class="op" id="6472540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472546">for</span>&nbsp;<span class="ident" id="6472550">_</span><span class="op" id="6472551">,</span>&nbsp;<span class="ident" id="6472553">test</span>&nbsp;<span class="op" id="6472558">:=</span>&nbsp;<span class="keyword" id="6472561">range</span>&nbsp;<span class="ident" id="6472567">tests</span>&nbsp;<span class="op" id="6472573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472577">if</span>&nbsp;<span class="builtinfunc" id="6472580">len</span><span class="op" id="6472583">(</span><span class="ident" id="6472584">test</span><span class="op" id="6472588">.</span><span class="ident" id="6472589">exp</span><span class="op" id="6472592">)</span>&nbsp;<span class="op" id="6472594">==</span>&nbsp;<span class="num" id="6472597">1</span>&nbsp;<span class="op" id="6472599">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472604">addr</span><span class="op" id="6472608">,</span>&nbsp;<span class="ident" id="6472610">err</span>&nbsp;<span class="op" id="6472614">:=</span>&nbsp;<span class="ident" id="6472617">ParseAddress</span><span class="op" id="6472629">(</span><span class="ident" id="6472630">test</span><span class="op" id="6472634">.</span><span class="ident" id="6472635">addrsStr</span><span class="op" id="6472643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472648">if</span>&nbsp;<span class="ident" id="6472651">err</span>&nbsp;<span class="op" id="6472655">!=</span>&nbsp;<span class="ident" id="6472658">nil</span>&nbsp;<span class="op" id="6472662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472668">t</span><span class="op" id="6472669">.</span><span class="ident" id="6472670">Errorf</span><span class="op" id="6472676">(</span><span class="string" id="6472677">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6472709">,</span>&nbsp;<span class="ident" id="6472711">test</span><span class="op" id="6472715">.</span><span class="ident" id="6472716">addrsStr</span><span class="op" id="6472724">,</span>&nbsp;<span class="ident" id="6472726">err</span><span class="op" id="6472729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472735">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472747">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472752">if</span>&nbsp;<span class="op" id="6472755">!</span><span class="ident" id="6472756">reflect</span><span class="op" id="6472763">.</span><span class="ident" id="6472764">DeepEqual</span><span class="op" id="6472773">(</span><span class="op" id="6472774">[</span><span class="op" id="6472775">]</span><span class="op" id="6472776">*</span><span class="ident" id="6472777">Address</span><span class="op" id="6472784">{</span><span class="ident" id="6472785">addr</span><span class="op" id="6472789">}</span><span class="op" id="6472790">,</span>&nbsp;<span class="ident" id="6472792">test</span><span class="op" id="6472796">.</span><span class="ident" id="6472797">exp</span><span class="op" id="6472800">)</span>&nbsp;<span class="op" id="6472802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472808">t</span><span class="op" id="6472809">.</span><span class="ident" id="6472810">Errorf</span><span class="op" id="6472816">(</span><span class="string" id="6472817">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6472858">,</span>&nbsp;<span class="ident" id="6472860">test</span><span class="op" id="6472864">.</span><span class="ident" id="6472865">addrsStr</span><span class="op" id="6472873">,</span>&nbsp;<span class="ident" id="6472875">addr</span><span class="op" id="6472879">,</span>&nbsp;<span class="ident" id="6472881">test</span><span class="op" id="6472885">.</span><span class="ident" id="6472886">exp</span><span class="op" id="6472889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6472898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472903">addrs</span><span class="op" id="6472908">,</span>&nbsp;<span class="ident" id="6472910">err</span>&nbsp;<span class="op" id="6472914">:=</span>&nbsp;<span class="ident" id="6472917">ParseAddressList</span><span class="op" id="6472933">(</span><span class="ident" id="6472934">test</span><span class="op" id="6472938">.</span><span class="ident" id="6472939">addrsStr</span><span class="op" id="6472947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6472951">if</span>&nbsp;<span class="ident" id="6472954">err</span>&nbsp;<span class="op" id="6472958">!=</span>&nbsp;<span class="ident" id="6472961">nil</span>&nbsp;<span class="op" id="6472965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6472970">t</span><span class="op" id="6472971">.</span><span class="ident" id="6472972">Errorf</span><span class="op" id="6472978">(</span><span class="string" id="6472979">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6473009">,</span>&nbsp;<span class="ident" id="6473011">test</span><span class="op" id="6473015">.</span><span class="ident" id="6473016">addrsStr</span><span class="op" id="6473024">,</span>&nbsp;<span class="ident" id="6473026">err</span><span class="op" id="6473029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473034">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473045">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473049">if</span>&nbsp;<span class="op" id="6473052">!</span><span class="ident" id="6473053">reflect</span><span class="op" id="6473060">.</span><span class="ident" id="6473061">DeepEqual</span><span class="op" id="6473070">(</span><span class="ident" id="6473071">addrs</span><span class="op" id="6473076">,</span>&nbsp;<span class="ident" id="6473078">test</span><span class="op" id="6473082">.</span><span class="ident" id="6473083">exp</span><span class="op" id="6473086">)</span>&nbsp;<span class="op" id="6473088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473093">t</span><span class="op" id="6473094">.</span><span class="ident" id="6473095">Errorf</span><span class="op" id="6473101">(</span><span class="string" id="6473102">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6473141">,</span>&nbsp;<span class="ident" id="6473143">test</span><span class="op" id="6473147">.</span><span class="ident" id="6473148">addrsStr</span><span class="op" id="6473156">,</span>&nbsp;<span class="ident" id="6473158">addrs</span><span class="op" id="6473163">,</span>&nbsp;<span class="ident" id="6473165">test</span><span class="op" id="6473169">.</span><span class="ident" id="6473170">exp</span><span class="op" id="6473173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473180">}</span><br>
<span class="lineno"></span><span class="op" id="6473182">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6473185">func</span>&nbsp;<span class="ident" id="6473190">TestAddressFormatting</span><span class="op" id="6473211">(</span><span class="ident" id="6473212">t</span>&nbsp;<span class="op" id="6473214">*</span><span class="ident" id="6473215">testing</span><span class="op" id="6473222">.</span><span class="ident" id="6473223">T</span><span class="op" id="6473224">)</span>&nbsp;<span class="op" id="6473226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473229">tests</span>&nbsp;<span class="op" id="6473235">:=</span>&nbsp;<span class="op" id="6473238">[</span><span class="op" id="6473239">]</span><span class="keyword" id="6473240">struct</span>&nbsp;<span class="op" id="6473247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473251">addr</span>&nbsp;<span class="op" id="6473256">*</span><span class="ident" id="6473257">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473267">exp</span>&nbsp;&nbsp;<span class="builtintype" id="6473272">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473280">}</span><span class="op" id="6473281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473290">&amp;</span><span class="ident" id="6473291">Address</span><span class="op" id="6473298">{</span><span class="ident" id="6473299">Address</span><span class="op" id="6473306">:</span>&nbsp;<span class="string" id="6473308">&#34;bob@example.com&#34;</span><span class="op" id="6473325">}</span><span class="op" id="6473326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6473331">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="6473350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473354">}</span><span class="op" id="6473355">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473364">&amp;</span><span class="ident" id="6473365">Address</span><span class="op" id="6473372">{</span><span class="ident" id="6473373">Name</span><span class="op" id="6473377">:</span>&nbsp;<span class="string" id="6473379">&#34;Bob&#34;</span><span class="op" id="6473384">,</span>&nbsp;<span class="ident" id="6473386">Address</span><span class="op" id="6473393">:</span>&nbsp;<span class="string" id="6473395">&#34;bob@example.com&#34;</span><span class="op" id="6473412">}</span><span class="op" id="6473413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6473418">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6473443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473447">}</span><span class="op" id="6473448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473452">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6473457">//&nbsp;note&nbsp;the&nbsp;&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473494">&amp;</span><span class="ident" id="6473495">Address</span><span class="op" id="6473502">{</span><span class="ident" id="6473503">Name</span><span class="op" id="6473507">:</span>&nbsp;<span class="string" id="6473509">&#34;Bb&#34;</span><span class="op" id="6473515">,</span>&nbsp;<span class="ident" id="6473517">Address</span><span class="op" id="6473524">:</span>&nbsp;<span class="string" id="6473526">&#34;bob@example.com&#34;</span><span class="op" id="6473543">}</span><span class="op" id="6473544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6473549">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6473589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473593">}</span><span class="op" id="6473594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473598">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473603">&amp;</span><span class="ident" id="6473604">Address</span><span class="op" id="6473611">{</span><span class="ident" id="6473612">Name</span><span class="op" id="6473616">:</span>&nbsp;<span class="string" id="6473618">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="6473628">,</span>&nbsp;<span class="ident" id="6473630">Address</span><span class="op" id="6473637">:</span>&nbsp;<span class="string" id="6473639">&#34;bob@example.com&#34;</span><span class="op" id="6473656">}</span><span class="op" id="6473657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6473662">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6473692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473696">}</span><span class="op" id="6473697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473706">&amp;</span><span class="ident" id="6473707">Address</span><span class="op" id="6473714">{</span><span class="ident" id="6473715">Name</span><span class="op" id="6473719">:</span>&nbsp;<span class="string" id="6473721">&#34;Bb&nbsp;Jacb&#34;</span><span class="op" id="6473734">,</span>&nbsp;<span class="ident" id="6473736">Address</span><span class="op" id="6473743">:</span>&nbsp;<span class="string" id="6473745">&#34;bob@example.com&#34;</span><span class="op" id="6473762">}</span><span class="op" id="6473763">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6473768">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6473819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473823">}</span><span class="op" id="6473824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473830">for</span>&nbsp;<span class="ident" id="6473834">_</span><span class="op" id="6473835">,</span>&nbsp;<span class="ident" id="6473837">test</span>&nbsp;<span class="op" id="6473842">:=</span>&nbsp;<span class="keyword" id="6473845">range</span>&nbsp;<span class="ident" id="6473851">tests</span>&nbsp;<span class="op" id="6473857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473861">s</span>&nbsp;<span class="op" id="6473863">:=</span>&nbsp;<span class="ident" id="6473866">test</span><span class="op" id="6473870">.</span><span class="ident" id="6473871">addr</span><span class="op" id="6473875">.</span><span class="ident" id="6473876">String</span><span class="op" id="6473882">(</span><span class="op" id="6473883">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6473887">if</span>&nbsp;<span class="ident" id="6473890">s</span>&nbsp;<span class="op" id="6473892">!=</span>&nbsp;<span class="ident" id="6473895">test</span><span class="op" id="6473899">.</span><span class="ident" id="6473900">exp</span>&nbsp;<span class="op" id="6473904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6473909">t</span><span class="op" id="6473910">.</span><span class="ident" id="6473911">Errorf</span><span class="op" id="6473917">(</span><span class="string" id="6473918">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6473953">,</span>&nbsp;<span class="op" id="6473955">*</span><span class="ident" id="6473956">test</span><span class="op" id="6473960">.</span><span class="ident" id="6473961">addr</span><span class="op" id="6473965">,</span>&nbsp;<span class="ident" id="6473967">s</span><span class="op" id="6473968">,</span>&nbsp;<span class="ident" id="6473970">test</span><span class="op" id="6473974">.</span><span class="ident" id="6473975">exp</span><span class="op" id="6473978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6473985">}</span><br>
<span class="lineno"></span><span class="op" id="6473987">}</span>
</div>
</body>
</html>
