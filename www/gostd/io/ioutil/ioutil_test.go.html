<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html" class="current">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6659038">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6659093">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6659147">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6659198">package</span>&nbsp;<span class="ident" id="6659206">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6659214">import</span>&nbsp;<span class="op" id="6659221">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6659224">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6659230">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6659240">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6659243">func</span>&nbsp;<span class="ident" id="6659248">checkSize</span><span class="op" id="6659257">(</span><span class="ident" id="6659258">t</span>&nbsp;<span class="op" id="6659260">*</span><span class="ident" id="6659261">testing</span><span class="op" id="6659268">.</span><span class="ident" id="6659269">T</span><span class="op" id="6659270">,</span>&nbsp;<span class="ident" id="6659272">path</span>&nbsp;<span class="builtintype" id="6659277">string</span><span class="op" id="6659283">,</span>&nbsp;<span class="ident" id="6659285">size</span>&nbsp;<span class="ident" id="6659290">int64</span><span class="op" id="6659295">)</span>&nbsp;<span class="op" id="6659297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659300">dir</span><span class="op" id="6659303">,</span>&nbsp;<span class="ident" id="6659305">err</span>&nbsp;<span class="op" id="6659309">:=</span>&nbsp;<span class="ident" id="6659312">os</span><span class="op" id="6659314">.</span><span class="ident" id="6659315">Stat</span><span class="op" id="6659319">(</span><span class="ident" id="6659320">path</span><span class="op" id="6659324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6659327">if</span>&nbsp;<span class="ident" id="6659330">err</span>&nbsp;<span class="op" id="6659334">!=</span>&nbsp;<span class="builtintype" id="6659337">nil</span>&nbsp;<span class="op" id="6659341">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659345">t</span><span class="op" id="6659346">.</span><span class="ident" id="6659347">Fatalf</span><span class="op" id="6659353">(</span><span class="string" id="6659354">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="6659389">,</span>&nbsp;<span class="ident" id="6659391">path</span><span class="op" id="6659395">,</span>&nbsp;<span class="ident" id="6659397">size</span><span class="op" id="6659401">,</span>&nbsp;<span class="ident" id="6659403">err</span><span class="op" id="6659406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6659409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6659412">if</span>&nbsp;<span class="ident" id="6659415">dir</span><span class="op" id="6659418">.</span><span class="ident" id="6659419">Size</span><span class="op" id="6659423">(</span><span class="op" id="6659424">)</span>&nbsp;<span class="op" id="6659426">!=</span>&nbsp;<span class="ident" id="6659429">size</span>&nbsp;<span class="op" id="6659434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659438">t</span><span class="op" id="6659439">.</span><span class="ident" id="6659440">Errorf</span><span class="op" id="6659446">(</span><span class="string" id="6659447">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6659473">,</span>&nbsp;<span class="ident" id="6659475">path</span><span class="op" id="6659479">,</span>&nbsp;<span class="ident" id="6659481">dir</span><span class="op" id="6659484">.</span><span class="ident" id="6659485">Size</span><span class="op" id="6659489">(</span><span class="op" id="6659490">)</span><span class="op" id="6659491">,</span>&nbsp;<span class="ident" id="6659493">size</span><span class="op" id="6659497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6659500">}</span><br>
<span class="lineno">20</span><span class="op" id="6659502">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6659505">func</span>&nbsp;<span class="ident" id="6659510">TestReadFile</span><span class="op" id="6659522">(</span><span class="ident" id="6659523">t</span>&nbsp;<span class="op" id="6659525">*</span><span class="ident" id="6659526">testing</span><span class="op" id="6659533">.</span><span class="ident" id="6659534">T</span><span class="op" id="6659535">)</span>&nbsp;<span class="op" id="6659537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659540">filename</span>&nbsp;<span class="op" id="6659549">:=</span>&nbsp;<span class="string" id="6659552">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659571">contents</span><span class="op" id="6659579">,</span>&nbsp;<span class="ident" id="6659581">err</span>&nbsp;<span class="op" id="6659585">:=</span>&nbsp;<span class="ident" id="6659588">ReadFile</span><span class="op" id="6659596">(</span><span class="ident" id="6659597">filename</span><span class="op" id="6659605">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6659608">if</span>&nbsp;<span class="ident" id="6659611">err</span>&nbsp;<span class="op" id="6659615">==</span>&nbsp;<span class="builtintype" id="6659618">nil</span>&nbsp;<span class="op" id="6659622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659626">t</span><span class="op" id="6659627">.</span><span class="ident" id="6659628">Fatalf</span><span class="op" id="6659634">(</span><span class="string" id="6659635">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="6659676">,</span>&nbsp;<span class="ident" id="6659678">filename</span><span class="op" id="6659686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6659689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659693">filename</span>&nbsp;<span class="op" id="6659702">=</span>&nbsp;<span class="string" id="6659704">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659722">contents</span><span class="op" id="6659730">,</span>&nbsp;<span class="ident" id="6659732">err</span>&nbsp;<span class="op" id="6659736">=</span>&nbsp;<span class="ident" id="6659738">ReadFile</span><span class="op" id="6659746">(</span><span class="ident" id="6659747">filename</span><span class="op" id="6659755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6659758">if</span>&nbsp;<span class="ident" id="6659761">err</span>&nbsp;<span class="op" id="6659765">!=</span>&nbsp;<span class="builtintype" id="6659768">nil</span>&nbsp;<span class="op" id="6659772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659776">t</span><span class="op" id="6659777">.</span><span class="ident" id="6659778">Fatalf</span><span class="op" id="6659784">(</span><span class="string" id="6659785">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6659802">,</span>&nbsp;<span class="ident" id="6659804">filename</span><span class="op" id="6659812">,</span>&nbsp;<span class="ident" id="6659814">err</span><span class="op" id="6659817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6659820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659824">checkSize</span><span class="op" id="6659833">(</span><span class="ident" id="6659834">t</span><span class="op" id="6659835">,</span>&nbsp;<span class="ident" id="6659837">filename</span><span class="op" id="6659845">,</span>&nbsp;<span class="ident" id="6659847">int64</span><span class="op" id="6659852">(</span><span class="builtinfunc" id="6659853">len</span><span class="op" id="6659856">(</span><span class="ident" id="6659857">contents</span><span class="op" id="6659865">)</span><span class="op" id="6659866">)</span><span class="op" id="6659867">)</span><br>
<span class="lineno"></span><span class="op" id="6659869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6659872">func</span>&nbsp;<span class="ident" id="6659877">TestWriteFile</span><span class="op" id="6659890">(</span><span class="ident" id="6659891">t</span>&nbsp;<span class="op" id="6659893">*</span><span class="ident" id="6659894">testing</span><span class="op" id="6659901">.</span><span class="ident" id="6659902">T</span><span class="op" id="6659903">)</span>&nbsp;<span class="op" id="6659905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659908">f</span><span class="op" id="6659909">,</span>&nbsp;<span class="ident" id="6659911">err</span>&nbsp;<span class="op" id="6659915">:=</span>&nbsp;<span class="ident" id="6659918">TempFile</span><span class="op" id="6659926">(</span><span class="string" id="6659927">&#34;&#34;</span><span class="op" id="6659929">,</span>&nbsp;<span class="string" id="6659931">&#34;ioutil-test&#34;</span><span class="op" id="6659944">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6659947">if</span>&nbsp;<span class="ident" id="6659950">err</span>&nbsp;<span class="op" id="6659954">!=</span>&nbsp;<span class="builtintype" id="6659957">nil</span>&nbsp;<span class="op" id="6659961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659965">t</span><span class="op" id="6659966">.</span><span class="ident" id="6659967">Fatal</span><span class="op" id="6659972">(</span><span class="ident" id="6659973">err</span><span class="op" id="6659976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6659979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6659982">filename</span>&nbsp;<span class="op" id="6659991">:=</span>&nbsp;<span class="ident" id="6659994">f</span><span class="op" id="6659995">.</span><span class="ident" id="6659996">Name</span><span class="op" id="6660000">(</span><span class="op" id="6660001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660004">data</span>&nbsp;<span class="op" id="6660009">:=</span>&nbsp;<span class="string" id="6660012">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="6660082">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6660086">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="6660159">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6660163">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660237">if</span>&nbsp;<span class="ident" id="6660240">err</span>&nbsp;<span class="op" id="6660244">:=</span>&nbsp;<span class="ident" id="6660247">WriteFile</span><span class="op" id="6660256">(</span><span class="ident" id="6660257">filename</span><span class="op" id="6660265">,</span>&nbsp;<span class="op" id="6660267">[</span><span class="op" id="6660268">]</span><span class="builtintype" id="6660269">byte</span><span class="op" id="6660273">(</span><span class="ident" id="6660274">data</span><span class="op" id="6660278">)</span><span class="op" id="6660279">,</span>&nbsp;<span class="num" id="6660281">0644</span><span class="op" id="6660285">)</span><span class="op" id="6660286">;</span>&nbsp;<span class="ident" id="6660288">err</span>&nbsp;<span class="op" id="6660292">!=</span>&nbsp;<span class="builtintype" id="6660295">nil</span>&nbsp;<span class="op" id="6660299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660303">t</span><span class="op" id="6660304">.</span><span class="ident" id="6660305">Fatalf</span><span class="op" id="6660311">(</span><span class="string" id="6660312">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6660330">,</span>&nbsp;<span class="ident" id="6660332">filename</span><span class="op" id="6660340">,</span>&nbsp;<span class="ident" id="6660342">err</span><span class="op" id="6660345">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6660348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660352">contents</span><span class="op" id="6660360">,</span>&nbsp;<span class="ident" id="6660362">err</span>&nbsp;<span class="op" id="6660366">:=</span>&nbsp;<span class="ident" id="6660369">ReadFile</span><span class="op" id="6660377">(</span><span class="ident" id="6660378">filename</span><span class="op" id="6660386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660389">if</span>&nbsp;<span class="ident" id="6660392">err</span>&nbsp;<span class="op" id="6660396">!=</span>&nbsp;<span class="builtintype" id="6660399">nil</span>&nbsp;<span class="op" id="6660403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660407">t</span><span class="op" id="6660408">.</span><span class="ident" id="6660409">Fatalf</span><span class="op" id="6660415">(</span><span class="string" id="6660416">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6660433">,</span>&nbsp;<span class="ident" id="6660435">filename</span><span class="op" id="6660443">,</span>&nbsp;<span class="ident" id="6660445">err</span><span class="op" id="6660448">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6660451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660455">if</span>&nbsp;<span class="builtintype" id="6660458">string</span><span class="op" id="6660464">(</span><span class="ident" id="6660465">contents</span><span class="op" id="6660473">)</span>&nbsp;<span class="op" id="6660475">!=</span>&nbsp;<span class="ident" id="6660478">data</span>&nbsp;<span class="op" id="6660483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660487">t</span><span class="op" id="6660488">.</span><span class="ident" id="6660489">Fatalf</span><span class="op" id="6660495">(</span><span class="string" id="6660496">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="6660526">,</span>&nbsp;<span class="builtintype" id="6660528">string</span><span class="op" id="6660534">(</span><span class="ident" id="6660535">contents</span><span class="op" id="6660543">)</span><span class="op" id="6660544">,</span>&nbsp;<span class="ident" id="6660546">data</span><span class="op" id="6660550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6660553">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6660557">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660569">f</span><span class="op" id="6660570">.</span><span class="ident" id="6660571">Close</span><span class="op" id="6660576">(</span><span class="op" id="6660577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660580">os</span><span class="op" id="6660582">.</span><span class="ident" id="6660583">Remove</span><span class="op" id="6660589">(</span><span class="ident" id="6660590">filename</span><span class="op" id="6660598">)</span>&nbsp;<span class="comment" id="6660600">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="6660616">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6660619">func</span>&nbsp;<span class="ident" id="6660624">TestReadDir</span><span class="op" id="6660635">(</span><span class="ident" id="6660636">t</span>&nbsp;<span class="op" id="6660638">*</span><span class="ident" id="6660639">testing</span><span class="op" id="6660646">.</span><span class="ident" id="6660647">T</span><span class="op" id="6660648">)</span>&nbsp;<span class="op" id="6660650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660653">dirname</span>&nbsp;<span class="op" id="6660661">:=</span>&nbsp;<span class="string" id="6660664">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660683">_</span><span class="op" id="6660684">,</span>&nbsp;<span class="ident" id="6660686">err</span>&nbsp;<span class="op" id="6660690">:=</span>&nbsp;<span class="ident" id="6660693">ReadDir</span><span class="op" id="6660700">(</span><span class="ident" id="6660701">dirname</span><span class="op" id="6660708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660711">if</span>&nbsp;<span class="ident" id="6660714">err</span>&nbsp;<span class="op" id="6660718">==</span>&nbsp;<span class="builtintype" id="6660721">nil</span>&nbsp;<span class="op" id="6660725">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660729">t</span><span class="op" id="6660730">.</span><span class="ident" id="6660731">Fatalf</span><span class="op" id="6660737">(</span><span class="string" id="6660738">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="6660778">,</span>&nbsp;<span class="ident" id="6660780">dirname</span><span class="op" id="6660787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6660790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660794">dirname</span>&nbsp;<span class="op" id="6660802">=</span>&nbsp;<span class="string" id="6660804">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660810">list</span><span class="op" id="6660814">,</span>&nbsp;<span class="ident" id="6660816">err</span>&nbsp;<span class="op" id="6660820">:=</span>&nbsp;<span class="ident" id="6660823">ReadDir</span><span class="op" id="6660830">(</span><span class="ident" id="6660831">dirname</span><span class="op" id="6660838">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660841">if</span>&nbsp;<span class="ident" id="6660844">err</span>&nbsp;<span class="op" id="6660848">!=</span>&nbsp;<span class="builtintype" id="6660851">nil</span>&nbsp;<span class="op" id="6660855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660859">t</span><span class="op" id="6660860">.</span><span class="ident" id="6660861">Fatalf</span><span class="op" id="6660867">(</span><span class="string" id="6660868">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6660884">,</span>&nbsp;<span class="ident" id="6660886">dirname</span><span class="op" id="6660893">,</span>&nbsp;<span class="ident" id="6660895">err</span><span class="op" id="6660898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6660901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660905">foundFile</span>&nbsp;<span class="op" id="6660915">:=</span>&nbsp;<span class="builtintype" id="6660918">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6660925">foundSubDir</span>&nbsp;<span class="op" id="6660937">:=</span>&nbsp;<span class="builtintype" id="6660940">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660947">for</span>&nbsp;<span class="ident" id="6660951">_</span><span class="op" id="6660952">,</span>&nbsp;<span class="ident" id="6660954">dir</span>&nbsp;<span class="op" id="6660958">:=</span>&nbsp;<span class="keyword" id="6660961">range</span>&nbsp;<span class="ident" id="6660967">list</span>&nbsp;<span class="op" id="6660972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660976">switch</span>&nbsp;<span class="op" id="6660983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6660987">case</span>&nbsp;<span class="op" id="6660992">!</span><span class="ident" id="6660993">dir</span><span class="op" id="6660996">.</span><span class="ident" id="6660997">IsDir</span><span class="op" id="6661002">(</span><span class="op" id="6661003">)</span>&nbsp;<span class="op" id="6661005">&amp;&amp;</span>&nbsp;<span class="ident" id="6661008">dir</span><span class="op" id="6661011">.</span><span class="ident" id="6661012">Name</span><span class="op" id="6661016">(</span><span class="op" id="6661017">)</span>&nbsp;<span class="op" id="6661019">==</span>&nbsp;<span class="string" id="6661022">&#34;io_test.go&#34;</span><span class="op" id="6661034">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661039">foundFile</span>&nbsp;<span class="op" id="6661049">=</span>&nbsp;<span class="builtintype" id="6661051">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6661058">case</span>&nbsp;<span class="ident" id="6661063">dir</span><span class="op" id="6661066">.</span><span class="ident" id="6661067">IsDir</span><span class="op" id="6661072">(</span><span class="op" id="6661073">)</span>&nbsp;<span class="op" id="6661075">&amp;&amp;</span>&nbsp;<span class="ident" id="6661078">dir</span><span class="op" id="6661081">.</span><span class="ident" id="6661082">Name</span><span class="op" id="6661086">(</span><span class="op" id="6661087">)</span>&nbsp;<span class="op" id="6661089">==</span>&nbsp;<span class="string" id="6661092">&#34;ioutil&#34;</span><span class="op" id="6661100">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661105">foundSubDir</span>&nbsp;<span class="op" id="6661117">=</span>&nbsp;<span class="builtintype" id="6661119">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6661126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6661129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6661132">if</span>&nbsp;<span class="op" id="6661135">!</span><span class="ident" id="6661136">foundFile</span>&nbsp;<span class="op" id="6661146">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661150">t</span><span class="op" id="6661151">.</span><span class="ident" id="6661152">Fatalf</span><span class="op" id="6661158">(</span><span class="string" id="6661159">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="6661198">,</span>&nbsp;<span class="ident" id="6661200">dirname</span><span class="op" id="6661207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6661210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6661213">if</span>&nbsp;<span class="op" id="6661216">!</span><span class="ident" id="6661217">foundSubDir</span>&nbsp;<span class="op" id="6661229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6661233">t</span><span class="op" id="6661234">.</span><span class="ident" id="6661235">Fatalf</span><span class="op" id="6661241">(</span><span class="string" id="6661242">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="6661282">,</span>&nbsp;<span class="ident" id="6661284">dirname</span><span class="op" id="6661291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6661294">}</span><br>
<span class="lineno">95</span><span class="op" id="6661296">}</span>
</div>
</body>
</html>
