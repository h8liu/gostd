<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7377263">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7377318">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7377372">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7377423">package</span>&nbsp;<span class="ident" id="7377431">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7377439">import</span>&nbsp;<span class="op" id="7377446">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377449">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377460">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377477">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377488">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7377498">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7377501">var</span>&nbsp;<span class="ident" id="7377505">good_re</span>&nbsp;<span class="op" id="7377513">=</span>&nbsp;<span class="op" id="7377515">[</span><span class="op" id="7377516">]</span><span class="builtintype" id="7377517">string</span><span class="op" id="7377523">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377526">``</span><span class="op" id="7377528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377531">`.`</span><span class="op" id="7377534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377537">`^.$`</span><span class="op" id="7377542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377545">`a`</span><span class="op" id="7377548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377551">`a*`</span><span class="op" id="7377555">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377558">`a+`</span><span class="op" id="7377562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377565">`a?`</span><span class="op" id="7377569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377572">`a|b`</span><span class="op" id="7377577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377580">`a*|b*`</span><span class="op" id="7377587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377590">`(a*|b)(c*|d)`</span><span class="op" id="7377604">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377607">`[a-z]`</span><span class="op" id="7377614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377617">`[a-abc-c\-\]\[]`</span><span class="op" id="7377634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377637">`[a-z]+`</span><span class="op" id="7377645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377648">`[abc]`</span><span class="op" id="7377655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377658">`[^1234]`</span><span class="op" id="7377667">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377670">`[^\n]`</span><span class="op" id="7377677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7377680">`\!\\`</span><span class="op" id="7377686">,</span><br>
<span class="lineno"></span><span class="op" id="7377688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7377691">type</span>&nbsp;<span class="ident" id="7377696">stringError</span>&nbsp;<span class="keyword" id="7377708">struct</span>&nbsp;<span class="op" id="7377715">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7377718">re</span>&nbsp;&nbsp;<span class="builtintype" id="7377722">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7377730">err</span>&nbsp;<span class="builtintype" id="7377734">string</span><br>
<span class="lineno"></span><span class="op" id="7377741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7377744">var</span>&nbsp;<span class="ident" id="7377748">bad_re</span>&nbsp;<span class="op" id="7377755">=</span>&nbsp;<span class="op" id="7377757">[</span><span class="op" id="7377758">]</span><span class="ident" id="7377759">stringError</span><span class="op" id="7377770">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7377773">{</span><span class="string" id="7377774">`*`</span><span class="op" id="7377777">,</span>&nbsp;<span class="string" id="7377779">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`*`&#34;</span><span class="op" id="7377825">}</span><span class="op" id="7377826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7377829">{</span><span class="string" id="7377830">`+`</span><span class="op" id="7377833">,</span>&nbsp;<span class="string" id="7377835">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`+`&#34;</span><span class="op" id="7377881">}</span><span class="op" id="7377882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7377885">{</span><span class="string" id="7377886">`?`</span><span class="op" id="7377889">,</span>&nbsp;<span class="string" id="7377891">&#34;missing&nbsp;argument&nbsp;to&nbsp;repetition&nbsp;operator:&nbsp;`?`&#34;</span><span class="op" id="7377937">}</span><span class="op" id="7377938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7377941">{</span><span class="string" id="7377942">`(abc`</span><span class="op" id="7377948">,</span>&nbsp;<span class="string" id="7377950">&#34;missing&nbsp;closing&nbsp;):&nbsp;`(abc`&#34;</span><span class="op" id="7377977">}</span><span class="op" id="7377978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7377981">{</span><span class="string" id="7377982">`abc)`</span><span class="op" id="7377988">,</span>&nbsp;<span class="string" id="7377990">&#34;unexpected&nbsp;):&nbsp;`abc)`&#34;</span><span class="op" id="7378012">}</span><span class="op" id="7378013">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378016">{</span><span class="string" id="7378017">`x[a-z`</span><span class="op" id="7378024">,</span>&nbsp;<span class="string" id="7378026">&#34;missing&nbsp;closing&nbsp;]:&nbsp;`[a-z`&#34;</span><span class="op" id="7378053">}</span><span class="op" id="7378054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378057">{</span><span class="string" id="7378058">`[z-a]`</span><span class="op" id="7378065">,</span>&nbsp;<span class="string" id="7378067">&#34;invalid&nbsp;character&nbsp;class&nbsp;range:&nbsp;`z-a`&#34;</span><span class="op" id="7378105">}</span><span class="op" id="7378106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378109">{</span><span class="string" id="7378110">`abc\`</span><span class="op" id="7378116">,</span>&nbsp;<span class="string" id="7378118">&#34;trailing&nbsp;backslash&nbsp;at&nbsp;end&nbsp;of&nbsp;expression&#34;</span><span class="op" id="7378159">}</span><span class="op" id="7378160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378163">{</span><span class="string" id="7378164">`a**`</span><span class="op" id="7378169">,</span>&nbsp;<span class="string" id="7378171">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`**`&#34;</span><span class="op" id="7378213">}</span><span class="op" id="7378214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378217">{</span><span class="string" id="7378218">`a*+`</span><span class="op" id="7378223">,</span>&nbsp;<span class="string" id="7378225">&#34;invalid&nbsp;nested&nbsp;repetition&nbsp;operator:&nbsp;`*+`&#34;</span><span class="op" id="7378267">}</span><span class="op" id="7378268">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378271">{</span><span class="string" id="7378272">`\x`</span><span class="op" id="7378276">,</span>&nbsp;<span class="string" id="7378278">&#34;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\x`&#34;</span><span class="op" id="7378310">}</span><span class="op" id="7378311">,</span><br>
<span class="lineno"></span><span class="op" id="7378313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7378316">func</span>&nbsp;<span class="ident" id="7378321">compileTest</span><span class="op" id="7378332">(</span><span class="ident" id="7378333">t</span>&nbsp;<span class="op" id="7378335">*</span><span class="ident" id="7378336">testing</span><span class="op" id="7378343">.</span><span class="ident" id="7378344">T</span><span class="op" id="7378345">,</span>&nbsp;<span class="ident" id="7378347">expr</span>&nbsp;<span class="builtintype" id="7378352">string</span><span class="op" id="7378358">,</span>&nbsp;<span class="builtintype" id="7378360">error</span>&nbsp;<span class="builtintype" id="7378366">string</span><span class="op" id="7378372">)</span>&nbsp;<span class="op" id="7378374">*</span><span class="ident" id="7378375">Regexp</span>&nbsp;<span class="op" id="7378382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7378385">re</span><span class="op" id="7378387">,</span>&nbsp;<span class="ident" id="7378389">err</span>&nbsp;<span class="op" id="7378393">:=</span>&nbsp;<span class="ident" id="7378396">Compile</span><span class="op" id="7378403">(</span><span class="ident" id="7378404">expr</span><span class="op" id="7378408">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7378411">if</span>&nbsp;<span class="builtintype" id="7378414">error</span>&nbsp;<span class="op" id="7378420">==</span>&nbsp;<span class="string" id="7378423">&#34;&#34;</span>&nbsp;<span class="op" id="7378426">&amp;&amp;</span>&nbsp;<span class="ident" id="7378429">err</span>&nbsp;<span class="op" id="7378433">!=</span>&nbsp;<span class="ident" id="7378436">nil</span>&nbsp;<span class="op" id="7378440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7378444">t</span><span class="op" id="7378445">.</span><span class="ident" id="7378446">Error</span><span class="op" id="7378451">(</span><span class="string" id="7378452">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7378465">,</span>&nbsp;<span class="ident" id="7378467">expr</span><span class="op" id="7378471">,</span>&nbsp;<span class="string" id="7378473">&#34;`;&nbsp;unexpected&nbsp;error:&nbsp;&#34;</span><span class="op" id="7378496">,</span>&nbsp;<span class="ident" id="7378498">err</span><span class="op" id="7378501">.</span><span class="ident" id="7378502">Error</span><span class="op" id="7378507">(</span><span class="op" id="7378508">)</span><span class="op" id="7378509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7378515">if</span>&nbsp;<span class="builtintype" id="7378518">error</span>&nbsp;<span class="op" id="7378524">!=</span>&nbsp;<span class="string" id="7378527">&#34;&#34;</span>&nbsp;<span class="op" id="7378530">&amp;&amp;</span>&nbsp;<span class="ident" id="7378533">err</span>&nbsp;<span class="op" id="7378537">==</span>&nbsp;<span class="ident" id="7378540">nil</span>&nbsp;<span class="op" id="7378544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7378548">t</span><span class="op" id="7378549">.</span><span class="ident" id="7378550">Error</span><span class="op" id="7378555">(</span><span class="string" id="7378556">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7378569">,</span>&nbsp;<span class="ident" id="7378571">expr</span><span class="op" id="7378575">,</span>&nbsp;<span class="string" id="7378577">&#34;`;&nbsp;missing&nbsp;error&#34;</span><span class="op" id="7378595">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378598">}</span>&nbsp;<span class="keyword" id="7378600">else</span>&nbsp;<span class="keyword" id="7378605">if</span>&nbsp;<span class="builtintype" id="7378608">error</span>&nbsp;<span class="op" id="7378614">!=</span>&nbsp;<span class="string" id="7378617">&#34;&#34;</span>&nbsp;<span class="op" id="7378620">&amp;&amp;</span>&nbsp;<span class="op" id="7378623">!</span><span class="ident" id="7378624">strings</span><span class="op" id="7378631">.</span><span class="ident" id="7378632">Contains</span><span class="op" id="7378640">(</span><span class="ident" id="7378641">err</span><span class="op" id="7378644">.</span><span class="ident" id="7378645">Error</span><span class="op" id="7378650">(</span><span class="op" id="7378651">)</span><span class="op" id="7378652">,</span>&nbsp;<span class="builtintype" id="7378654">error</span><span class="op" id="7378659">)</span>&nbsp;<span class="op" id="7378661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7378665">t</span><span class="op" id="7378666">.</span><span class="ident" id="7378667">Error</span><span class="op" id="7378672">(</span><span class="string" id="7378673">&#34;compiling&nbsp;`&#34;</span><span class="op" id="7378686">,</span>&nbsp;<span class="ident" id="7378688">expr</span><span class="op" id="7378692">,</span>&nbsp;<span class="string" id="7378694">&#34;`;&nbsp;wrong&nbsp;error:&nbsp;&#34;</span><span class="op" id="7378712">,</span>&nbsp;<span class="ident" id="7378714">err</span><span class="op" id="7378717">.</span><span class="ident" id="7378718">Error</span><span class="op" id="7378723">(</span><span class="op" id="7378724">)</span><span class="op" id="7378725">,</span>&nbsp;<span class="string" id="7378727">&#34;;&nbsp;want&nbsp;&#34;</span><span class="op" id="7378736">,</span>&nbsp;<span class="builtintype" id="7378738">error</span><span class="op" id="7378743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7378749">return</span>&nbsp;<span class="ident" id="7378756">re</span><br>
<span class="lineno"></span><span class="op" id="7378759">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7378762">func</span>&nbsp;<span class="ident" id="7378767">TestGoodCompile</span><span class="op" id="7378782">(</span><span class="ident" id="7378783">t</span>&nbsp;<span class="op" id="7378785">*</span><span class="ident" id="7378786">testing</span><span class="op" id="7378793">.</span><span class="ident" id="7378794">T</span><span class="op" id="7378795">)</span>&nbsp;<span class="op" id="7378797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7378800">for</span>&nbsp;<span class="ident" id="7378804">i</span>&nbsp;<span class="op" id="7378806">:=</span>&nbsp;<span class="num" id="7378809">0</span><span class="op" id="7378810">;</span>&nbsp;<span class="ident" id="7378812">i</span>&nbsp;<span class="op" id="7378814">&lt;</span>&nbsp;<span class="builtinfunc" id="7378816">len</span><span class="op" id="7378819">(</span><span class="ident" id="7378820">good_re</span><span class="op" id="7378827">)</span><span class="op" id="7378828">;</span>&nbsp;<span class="ident" id="7378830">i</span><span class="op" id="7378831">++</span>&nbsp;<span class="op" id="7378834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7378838">compileTest</span><span class="op" id="7378849">(</span><span class="ident" id="7378850">t</span><span class="op" id="7378851">,</span>&nbsp;<span class="ident" id="7378853">good_re</span><span class="op" id="7378860">[</span><span class="ident" id="7378861">i</span><span class="op" id="7378862">]</span><span class="op" id="7378863">,</span>&nbsp;<span class="string" id="7378865">&#34;&#34;</span><span class="op" id="7378867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378870">}</span><br>
<span class="lineno">70</span><span class="op" id="7378872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7378875">func</span>&nbsp;<span class="ident" id="7378880">TestBadCompile</span><span class="op" id="7378894">(</span><span class="ident" id="7378895">t</span>&nbsp;<span class="op" id="7378897">*</span><span class="ident" id="7378898">testing</span><span class="op" id="7378905">.</span><span class="ident" id="7378906">T</span><span class="op" id="7378907">)</span>&nbsp;<span class="op" id="7378909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7378912">for</span>&nbsp;<span class="ident" id="7378916">i</span>&nbsp;<span class="op" id="7378918">:=</span>&nbsp;<span class="num" id="7378921">0</span><span class="op" id="7378922">;</span>&nbsp;<span class="ident" id="7378924">i</span>&nbsp;<span class="op" id="7378926">&lt;</span>&nbsp;<span class="builtinfunc" id="7378928">len</span><span class="op" id="7378931">(</span><span class="ident" id="7378932">bad_re</span><span class="op" id="7378938">)</span><span class="op" id="7378939">;</span>&nbsp;<span class="ident" id="7378941">i</span><span class="op" id="7378942">++</span>&nbsp;<span class="op" id="7378945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7378949">compileTest</span><span class="op" id="7378960">(</span><span class="ident" id="7378961">t</span><span class="op" id="7378962">,</span>&nbsp;<span class="ident" id="7378964">bad_re</span><span class="op" id="7378970">[</span><span class="ident" id="7378971">i</span><span class="op" id="7378972">]</span><span class="op" id="7378973">.</span><span class="ident" id="7378974">re</span><span class="op" id="7378976">,</span>&nbsp;<span class="ident" id="7378978">bad_re</span><span class="op" id="7378984">[</span><span class="ident" id="7378985">i</span><span class="op" id="7378986">]</span><span class="op" id="7378987">.</span><span class="ident" id="7378988">err</span><span class="op" id="7378991">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7378994">}</span><br>
<span class="lineno"></span><span class="op" id="7378996">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7378999">func</span>&nbsp;<span class="ident" id="7379004">matchTest</span><span class="op" id="7379013">(</span><span class="ident" id="7379014">t</span>&nbsp;<span class="op" id="7379016">*</span><span class="ident" id="7379017">testing</span><span class="op" id="7379024">.</span><span class="ident" id="7379025">T</span><span class="op" id="7379026">,</span>&nbsp;<span class="ident" id="7379028">test</span>&nbsp;<span class="op" id="7379033">*</span><span class="ident" id="7379034">FindTest</span><span class="op" id="7379042">)</span>&nbsp;<span class="op" id="7379044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379047">re</span>&nbsp;<span class="op" id="7379050">:=</span>&nbsp;<span class="ident" id="7379053">compileTest</span><span class="op" id="7379064">(</span><span class="ident" id="7379065">t</span><span class="op" id="7379066">,</span>&nbsp;<span class="ident" id="7379068">test</span><span class="op" id="7379072">.</span><span class="ident" id="7379073">pat</span><span class="op" id="7379076">,</span>&nbsp;<span class="string" id="7379078">&#34;&#34;</span><span class="op" id="7379080">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7379083">if</span>&nbsp;<span class="ident" id="7379086">re</span>&nbsp;<span class="op" id="7379089">==</span>&nbsp;<span class="ident" id="7379092">nil</span>&nbsp;<span class="op" id="7379096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7379100">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7379108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379111">m</span>&nbsp;<span class="op" id="7379113">:=</span>&nbsp;<span class="ident" id="7379116">re</span><span class="op" id="7379118">.</span><span class="ident" id="7379119">MatchString</span><span class="op" id="7379130">(</span><span class="ident" id="7379131">test</span><span class="op" id="7379135">.</span><span class="ident" id="7379136">text</span><span class="op" id="7379140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7379143">if</span>&nbsp;<span class="ident" id="7379146">m</span>&nbsp;<span class="op" id="7379148">!=</span>&nbsp;<span class="op" id="7379151">(</span><span class="builtinfunc" id="7379152">len</span><span class="op" id="7379155">(</span><span class="ident" id="7379156">test</span><span class="op" id="7379160">.</span><span class="ident" id="7379161">matches</span><span class="op" id="7379168">)</span>&nbsp;<span class="op" id="7379170">&gt;</span>&nbsp;<span class="num" id="7379172">0</span><span class="op" id="7379173">)</span>&nbsp;<span class="op" id="7379175">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379179">t</span><span class="op" id="7379180">.</span><span class="ident" id="7379181">Errorf</span><span class="op" id="7379187">(</span><span class="string" id="7379188">&#34;MatchString&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7379232">,</span>&nbsp;<span class="ident" id="7379234">test</span><span class="op" id="7379238">,</span>&nbsp;<span class="ident" id="7379240">m</span><span class="op" id="7379241">,</span>&nbsp;<span class="builtinfunc" id="7379243">len</span><span class="op" id="7379246">(</span><span class="ident" id="7379247">test</span><span class="op" id="7379251">.</span><span class="ident" id="7379252">matches</span><span class="op" id="7379259">)</span>&nbsp;<span class="op" id="7379261">&gt;</span>&nbsp;<span class="num" id="7379263">0</span><span class="op" id="7379264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7379267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7379270">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379288">m</span>&nbsp;<span class="op" id="7379290">=</span>&nbsp;<span class="ident" id="7379292">re</span><span class="op" id="7379294">.</span><span class="ident" id="7379295">Match</span><span class="op" id="7379300">(</span><span class="op" id="7379301">[</span><span class="op" id="7379302">]</span><span class="builtintype" id="7379303">byte</span><span class="op" id="7379307">(</span><span class="ident" id="7379308">test</span><span class="op" id="7379312">.</span><span class="ident" id="7379313">text</span><span class="op" id="7379317">)</span><span class="op" id="7379318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7379321">if</span>&nbsp;<span class="ident" id="7379324">m</span>&nbsp;<span class="op" id="7379326">!=</span>&nbsp;<span class="op" id="7379329">(</span><span class="builtinfunc" id="7379330">len</span><span class="op" id="7379333">(</span><span class="ident" id="7379334">test</span><span class="op" id="7379338">.</span><span class="ident" id="7379339">matches</span><span class="op" id="7379346">)</span>&nbsp;<span class="op" id="7379348">&gt;</span>&nbsp;<span class="num" id="7379350">0</span><span class="op" id="7379351">)</span>&nbsp;<span class="op" id="7379353">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379357">t</span><span class="op" id="7379358">.</span><span class="ident" id="7379359">Errorf</span><span class="op" id="7379365">(</span><span class="string" id="7379366">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7379404">,</span>&nbsp;<span class="ident" id="7379406">test</span><span class="op" id="7379410">,</span>&nbsp;<span class="ident" id="7379412">m</span><span class="op" id="7379413">,</span>&nbsp;<span class="builtinfunc" id="7379415">len</span><span class="op" id="7379418">(</span><span class="ident" id="7379419">test</span><span class="op" id="7379423">.</span><span class="ident" id="7379424">matches</span><span class="op" id="7379431">)</span>&nbsp;<span class="op" id="7379433">&gt;</span>&nbsp;<span class="num" id="7379435">0</span><span class="op" id="7379436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7379439">}</span><br>
<span class="lineno"></span><span class="op" id="7379441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7379444">func</span>&nbsp;<span class="ident" id="7379449">TestMatch</span><span class="op" id="7379458">(</span><span class="ident" id="7379459">t</span>&nbsp;<span class="op" id="7379461">*</span><span class="ident" id="7379462">testing</span><span class="op" id="7379469">.</span><span class="ident" id="7379470">T</span><span class="op" id="7379471">)</span>&nbsp;<span class="op" id="7379473">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7379476">for</span>&nbsp;<span class="ident" id="7379480">_</span><span class="op" id="7379481">,</span>&nbsp;<span class="ident" id="7379483">test</span>&nbsp;<span class="op" id="7379488">:=</span>&nbsp;<span class="keyword" id="7379491">range</span>&nbsp;<span class="ident" id="7379497">findTests</span>&nbsp;<span class="op" id="7379507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379511">matchTest</span><span class="op" id="7379520">(</span><span class="ident" id="7379521">t</span><span class="op" id="7379522">,</span>&nbsp;<span class="op" id="7379524">&amp;</span><span class="ident" id="7379525">test</span><span class="op" id="7379529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7379532">}</span><br>
<span class="lineno"></span><span class="op" id="7379534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="7379537">func</span>&nbsp;<span class="ident" id="7379542">matchFunctionTest</span><span class="op" id="7379559">(</span><span class="ident" id="7379560">t</span>&nbsp;<span class="op" id="7379562">*</span><span class="ident" id="7379563">testing</span><span class="op" id="7379570">.</span><span class="ident" id="7379571">T</span><span class="op" id="7379572">,</span>&nbsp;<span class="ident" id="7379574">test</span>&nbsp;<span class="op" id="7379579">*</span><span class="ident" id="7379580">FindTest</span><span class="op" id="7379588">)</span>&nbsp;<span class="op" id="7379590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379593">m</span><span class="op" id="7379594">,</span>&nbsp;<span class="ident" id="7379596">err</span>&nbsp;<span class="op" id="7379600">:=</span>&nbsp;<span class="ident" id="7379603">MatchString</span><span class="op" id="7379614">(</span><span class="ident" id="7379615">test</span><span class="op" id="7379619">.</span><span class="ident" id="7379620">pat</span><span class="op" id="7379623">,</span>&nbsp;<span class="ident" id="7379625">test</span><span class="op" id="7379629">.</span><span class="ident" id="7379630">text</span><span class="op" id="7379634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7379637">if</span>&nbsp;<span class="ident" id="7379640">err</span>&nbsp;<span class="op" id="7379644">==</span>&nbsp;<span class="ident" id="7379647">nil</span>&nbsp;<span class="op" id="7379651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7379655">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7379663">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7379666">if</span>&nbsp;<span class="ident" id="7379669">m</span>&nbsp;<span class="op" id="7379671">!=</span>&nbsp;<span class="op" id="7379674">(</span><span class="builtinfunc" id="7379675">len</span><span class="op" id="7379678">(</span><span class="ident" id="7379679">test</span><span class="op" id="7379683">.</span><span class="ident" id="7379684">matches</span><span class="op" id="7379691">)</span>&nbsp;<span class="op" id="7379693">&gt;</span>&nbsp;<span class="num" id="7379695">0</span><span class="op" id="7379696">)</span>&nbsp;<span class="op" id="7379698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379702">t</span><span class="op" id="7379703">.</span><span class="ident" id="7379704">Errorf</span><span class="op" id="7379710">(</span><span class="string" id="7379711">&#34;Match&nbsp;failure&nbsp;on&nbsp;%s:&nbsp;%t&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7379749">,</span>&nbsp;<span class="ident" id="7379751">test</span><span class="op" id="7379755">,</span>&nbsp;<span class="ident" id="7379757">m</span><span class="op" id="7379758">,</span>&nbsp;<span class="builtinfunc" id="7379760">len</span><span class="op" id="7379763">(</span><span class="ident" id="7379764">test</span><span class="op" id="7379768">.</span><span class="ident" id="7379769">matches</span><span class="op" id="7379776">)</span>&nbsp;<span class="op" id="7379778">&gt;</span>&nbsp;<span class="num" id="7379780">0</span><span class="op" id="7379781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7379784">}</span><br>
<span class="lineno"></span><span class="op" id="7379786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7379789">func</span>&nbsp;<span class="ident" id="7379794">TestMatchFunction</span><span class="op" id="7379811">(</span><span class="ident" id="7379812">t</span>&nbsp;<span class="op" id="7379814">*</span><span class="ident" id="7379815">testing</span><span class="op" id="7379822">.</span><span class="ident" id="7379823">T</span><span class="op" id="7379824">)</span>&nbsp;<span class="op" id="7379826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7379829">for</span>&nbsp;<span class="ident" id="7379833">_</span><span class="op" id="7379834">,</span>&nbsp;<span class="ident" id="7379836">test</span>&nbsp;<span class="op" id="7379841">:=</span>&nbsp;<span class="keyword" id="7379844">range</span>&nbsp;<span class="ident" id="7379850">findTests</span>&nbsp;<span class="op" id="7379860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379864">matchFunctionTest</span><span class="op" id="7379881">(</span><span class="ident" id="7379882">t</span><span class="op" id="7379883">,</span>&nbsp;<span class="op" id="7379885">&amp;</span><span class="ident" id="7379886">test</span><span class="op" id="7379890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7379893">}</span><br>
<span class="lineno"></span><span class="op" id="7379895">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="keyword" id="7379898">type</span>&nbsp;<span class="ident" id="7379903">ReplaceTest</span>&nbsp;<span class="keyword" id="7379915">struct</span>&nbsp;<span class="op" id="7379922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7379925">pattern</span><span class="op" id="7379932">,</span>&nbsp;<span class="ident" id="7379934">replacement</span><span class="op" id="7379945">,</span>&nbsp;<span class="ident" id="7379947">input</span><span class="op" id="7379952">,</span>&nbsp;<span class="ident" id="7379954">output</span>&nbsp;<span class="builtintype" id="7379961">string</span><br>
<span class="lineno"></span><span class="op" id="7379968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7379971">var</span>&nbsp;<span class="ident" id="7379975">replaceTests</span>&nbsp;<span class="op" id="7379988">=</span>&nbsp;<span class="op" id="7379990">[</span><span class="op" id="7379991">]</span><span class="ident" id="7379992">ReplaceTest</span><span class="op" id="7380003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7380006">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;matches&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380091">{</span><span class="string" id="7380092">&#34;&#34;</span><span class="op" id="7380094">,</span>&nbsp;<span class="string" id="7380096">&#34;&#34;</span><span class="op" id="7380098">,</span>&nbsp;<span class="string" id="7380100">&#34;&#34;</span><span class="op" id="7380102">,</span>&nbsp;<span class="string" id="7380104">&#34;&#34;</span><span class="op" id="7380106">}</span><span class="op" id="7380107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380110">{</span><span class="string" id="7380111">&#34;&#34;</span><span class="op" id="7380113">,</span>&nbsp;<span class="string" id="7380115">&#34;x&#34;</span><span class="op" id="7380118">,</span>&nbsp;<span class="string" id="7380120">&#34;&#34;</span><span class="op" id="7380122">,</span>&nbsp;<span class="string" id="7380124">&#34;x&#34;</span><span class="op" id="7380127">}</span><span class="op" id="7380128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380131">{</span><span class="string" id="7380132">&#34;&#34;</span><span class="op" id="7380134">,</span>&nbsp;<span class="string" id="7380136">&#34;&#34;</span><span class="op" id="7380138">,</span>&nbsp;<span class="string" id="7380140">&#34;abc&#34;</span><span class="op" id="7380145">,</span>&nbsp;<span class="string" id="7380147">&#34;abc&#34;</span><span class="op" id="7380152">}</span><span class="op" id="7380153">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380156">{</span><span class="string" id="7380157">&#34;&#34;</span><span class="op" id="7380159">,</span>&nbsp;<span class="string" id="7380161">&#34;x&#34;</span><span class="op" id="7380164">,</span>&nbsp;<span class="string" id="7380166">&#34;abc&#34;</span><span class="op" id="7380171">,</span>&nbsp;<span class="string" id="7380173">&#34;xaxbxcx&#34;</span><span class="op" id="7380182">}</span><span class="op" id="7380183">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7380187">//&nbsp;Test&nbsp;empty&nbsp;input&nbsp;and/or&nbsp;replacement,&nbsp;with&nbsp;pattern&nbsp;that&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380279">{</span><span class="string" id="7380280">&#34;b&#34;</span><span class="op" id="7380283">,</span>&nbsp;<span class="string" id="7380285">&#34;&#34;</span><span class="op" id="7380287">,</span>&nbsp;<span class="string" id="7380289">&#34;&#34;</span><span class="op" id="7380291">,</span>&nbsp;<span class="string" id="7380293">&#34;&#34;</span><span class="op" id="7380295">}</span><span class="op" id="7380296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380299">{</span><span class="string" id="7380300">&#34;b&#34;</span><span class="op" id="7380303">,</span>&nbsp;<span class="string" id="7380305">&#34;x&#34;</span><span class="op" id="7380308">,</span>&nbsp;<span class="string" id="7380310">&#34;&#34;</span><span class="op" id="7380312">,</span>&nbsp;<span class="string" id="7380314">&#34;&#34;</span><span class="op" id="7380316">}</span><span class="op" id="7380317">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380320">{</span><span class="string" id="7380321">&#34;b&#34;</span><span class="op" id="7380324">,</span>&nbsp;<span class="string" id="7380326">&#34;&#34;</span><span class="op" id="7380328">,</span>&nbsp;<span class="string" id="7380330">&#34;abc&#34;</span><span class="op" id="7380335">,</span>&nbsp;<span class="string" id="7380337">&#34;ac&#34;</span><span class="op" id="7380341">}</span><span class="op" id="7380342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380345">{</span><span class="string" id="7380346">&#34;b&#34;</span><span class="op" id="7380349">,</span>&nbsp;<span class="string" id="7380351">&#34;x&#34;</span><span class="op" id="7380354">,</span>&nbsp;<span class="string" id="7380356">&#34;abc&#34;</span><span class="op" id="7380361">,</span>&nbsp;<span class="string" id="7380363">&#34;axc&#34;</span><span class="op" id="7380368">}</span><span class="op" id="7380369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380372">{</span><span class="string" id="7380373">&#34;y&#34;</span><span class="op" id="7380376">,</span>&nbsp;<span class="string" id="7380378">&#34;&#34;</span><span class="op" id="7380380">,</span>&nbsp;<span class="string" id="7380382">&#34;&#34;</span><span class="op" id="7380384">,</span>&nbsp;<span class="string" id="7380386">&#34;&#34;</span><span class="op" id="7380388">}</span><span class="op" id="7380389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380392">{</span><span class="string" id="7380393">&#34;y&#34;</span><span class="op" id="7380396">,</span>&nbsp;<span class="string" id="7380398">&#34;x&#34;</span><span class="op" id="7380401">,</span>&nbsp;<span class="string" id="7380403">&#34;&#34;</span><span class="op" id="7380405">,</span>&nbsp;<span class="string" id="7380407">&#34;&#34;</span><span class="op" id="7380409">}</span><span class="op" id="7380410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380413">{</span><span class="string" id="7380414">&#34;y&#34;</span><span class="op" id="7380417">,</span>&nbsp;<span class="string" id="7380419">&#34;&#34;</span><span class="op" id="7380421">,</span>&nbsp;<span class="string" id="7380423">&#34;abc&#34;</span><span class="op" id="7380428">,</span>&nbsp;<span class="string" id="7380430">&#34;abc&#34;</span><span class="op" id="7380435">}</span><span class="op" id="7380436">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380439">{</span><span class="string" id="7380440">&#34;y&#34;</span><span class="op" id="7380443">,</span>&nbsp;<span class="string" id="7380445">&#34;x&#34;</span><span class="op" id="7380448">,</span>&nbsp;<span class="string" id="7380450">&#34;abc&#34;</span><span class="op" id="7380455">,</span>&nbsp;<span class="string" id="7380457">&#34;abc&#34;</span><span class="op" id="7380462">}</span><span class="op" id="7380463">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7380467">//&nbsp;Multibyte&nbsp;characters&nbsp;--&nbsp;verify&nbsp;that&nbsp;we&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;match&nbsp;in&nbsp;the&nbsp;middle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7380543">//&nbsp;of&nbsp;a&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380563">{</span><span class="string" id="7380564">&#34;[a-c]*&#34;</span><span class="op" id="7380572">,</span>&nbsp;<span class="string" id="7380574">&#34;x&#34;</span><span class="op" id="7380577">,</span>&nbsp;<span class="string" id="7380579">&#34;\u65e5&#34;</span><span class="op" id="7380587">,</span>&nbsp;<span class="string" id="7380589">&#34;x\u65e5x&#34;</span><span class="op" id="7380599">}</span><span class="op" id="7380600">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380603">{</span><span class="string" id="7380604">&#34;[^\u65e5]&#34;</span><span class="op" id="7380615">,</span>&nbsp;<span class="string" id="7380617">&#34;x&#34;</span><span class="op" id="7380620">,</span>&nbsp;<span class="string" id="7380622">&#34;abc\u65e5def&#34;</span><span class="op" id="7380636">,</span>&nbsp;<span class="string" id="7380638">&#34;xxx\u65e5xxx&#34;</span><span class="op" id="7380652">}</span><span class="op" id="7380653">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7380657">//&nbsp;Start&nbsp;and&nbsp;end&nbsp;of&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380688">{</span><span class="string" id="7380689">&#34;^[a-c]*&#34;</span><span class="op" id="7380698">,</span>&nbsp;<span class="string" id="7380700">&#34;x&#34;</span><span class="op" id="7380703">,</span>&nbsp;<span class="string" id="7380705">&#34;abcdabc&#34;</span><span class="op" id="7380714">,</span>&nbsp;<span class="string" id="7380716">&#34;xdabc&#34;</span><span class="op" id="7380723">}</span><span class="op" id="7380724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380727">{</span><span class="string" id="7380728">&#34;[a-c]*$&#34;</span><span class="op" id="7380737">,</span>&nbsp;<span class="string" id="7380739">&#34;x&#34;</span><span class="op" id="7380742">,</span>&nbsp;<span class="string" id="7380744">&#34;abcdabc&#34;</span><span class="op" id="7380753">,</span>&nbsp;<span class="string" id="7380755">&#34;abcdx&#34;</span><span class="op" id="7380762">}</span><span class="op" id="7380763">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380766">{</span><span class="string" id="7380767">&#34;^[a-c]*$&#34;</span><span class="op" id="7380777">,</span>&nbsp;<span class="string" id="7380779">&#34;x&#34;</span><span class="op" id="7380782">,</span>&nbsp;<span class="string" id="7380784">&#34;abcdabc&#34;</span><span class="op" id="7380793">,</span>&nbsp;<span class="string" id="7380795">&#34;abcdabc&#34;</span><span class="op" id="7380804">}</span><span class="op" id="7380805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380808">{</span><span class="string" id="7380809">&#34;^[a-c]*&#34;</span><span class="op" id="7380818">,</span>&nbsp;<span class="string" id="7380820">&#34;x&#34;</span><span class="op" id="7380823">,</span>&nbsp;<span class="string" id="7380825">&#34;abc&#34;</span><span class="op" id="7380830">,</span>&nbsp;<span class="string" id="7380832">&#34;x&#34;</span><span class="op" id="7380835">}</span><span class="op" id="7380836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380839">{</span><span class="string" id="7380840">&#34;[a-c]*$&#34;</span><span class="op" id="7380849">,</span>&nbsp;<span class="string" id="7380851">&#34;x&#34;</span><span class="op" id="7380854">,</span>&nbsp;<span class="string" id="7380856">&#34;abc&#34;</span><span class="op" id="7380861">,</span>&nbsp;<span class="string" id="7380863">&#34;x&#34;</span><span class="op" id="7380866">}</span><span class="op" id="7380867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380870">{</span><span class="string" id="7380871">&#34;^[a-c]*$&#34;</span><span class="op" id="7380881">,</span>&nbsp;<span class="string" id="7380883">&#34;x&#34;</span><span class="op" id="7380886">,</span>&nbsp;<span class="string" id="7380888">&#34;abc&#34;</span><span class="op" id="7380893">,</span>&nbsp;<span class="string" id="7380895">&#34;x&#34;</span><span class="op" id="7380898">}</span><span class="op" id="7380899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380902">{</span><span class="string" id="7380903">&#34;^[a-c]*&#34;</span><span class="op" id="7380912">,</span>&nbsp;<span class="string" id="7380914">&#34;x&#34;</span><span class="op" id="7380917">,</span>&nbsp;<span class="string" id="7380919">&#34;dabce&#34;</span><span class="op" id="7380926">,</span>&nbsp;<span class="string" id="7380928">&#34;xdabce&#34;</span><span class="op" id="7380936">}</span><span class="op" id="7380937">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380940">{</span><span class="string" id="7380941">&#34;[a-c]*$&#34;</span><span class="op" id="7380950">,</span>&nbsp;<span class="string" id="7380952">&#34;x&#34;</span><span class="op" id="7380955">,</span>&nbsp;<span class="string" id="7380957">&#34;dabce&#34;</span><span class="op" id="7380964">,</span>&nbsp;<span class="string" id="7380966">&#34;dabcex&#34;</span><span class="op" id="7380974">}</span><span class="op" id="7380975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7380978">{</span><span class="string" id="7380979">&#34;^[a-c]*$&#34;</span><span class="op" id="7380989">,</span>&nbsp;<span class="string" id="7380991">&#34;x&#34;</span><span class="op" id="7380994">,</span>&nbsp;<span class="string" id="7380996">&#34;dabce&#34;</span><span class="op" id="7381003">,</span>&nbsp;<span class="string" id="7381005">&#34;dabce&#34;</span><span class="op" id="7381012">}</span><span class="op" id="7381013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381016">{</span><span class="string" id="7381017">&#34;^[a-c]*&#34;</span><span class="op" id="7381026">,</span>&nbsp;<span class="string" id="7381028">&#34;x&#34;</span><span class="op" id="7381031">,</span>&nbsp;<span class="string" id="7381033">&#34;&#34;</span><span class="op" id="7381035">,</span>&nbsp;<span class="string" id="7381037">&#34;x&#34;</span><span class="op" id="7381040">}</span><span class="op" id="7381041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381044">{</span><span class="string" id="7381045">&#34;[a-c]*$&#34;</span><span class="op" id="7381054">,</span>&nbsp;<span class="string" id="7381056">&#34;x&#34;</span><span class="op" id="7381059">,</span>&nbsp;<span class="string" id="7381061">&#34;&#34;</span><span class="op" id="7381063">,</span>&nbsp;<span class="string" id="7381065">&#34;x&#34;</span><span class="op" id="7381068">}</span><span class="op" id="7381069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381072">{</span><span class="string" id="7381073">&#34;^[a-c]*$&#34;</span><span class="op" id="7381083">,</span>&nbsp;<span class="string" id="7381085">&#34;x&#34;</span><span class="op" id="7381088">,</span>&nbsp;<span class="string" id="7381090">&#34;&#34;</span><span class="op" id="7381092">,</span>&nbsp;<span class="string" id="7381094">&#34;x&#34;</span><span class="op" id="7381097">}</span><span class="op" id="7381098">,</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381102">{</span><span class="string" id="7381103">&#34;^[a-c]+&#34;</span><span class="op" id="7381112">,</span>&nbsp;<span class="string" id="7381114">&#34;x&#34;</span><span class="op" id="7381117">,</span>&nbsp;<span class="string" id="7381119">&#34;abcdabc&#34;</span><span class="op" id="7381128">,</span>&nbsp;<span class="string" id="7381130">&#34;xdabc&#34;</span><span class="op" id="7381137">}</span><span class="op" id="7381138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381141">{</span><span class="string" id="7381142">&#34;[a-c]+$&#34;</span><span class="op" id="7381151">,</span>&nbsp;<span class="string" id="7381153">&#34;x&#34;</span><span class="op" id="7381156">,</span>&nbsp;<span class="string" id="7381158">&#34;abcdabc&#34;</span><span class="op" id="7381167">,</span>&nbsp;<span class="string" id="7381169">&#34;abcdx&#34;</span><span class="op" id="7381176">}</span><span class="op" id="7381177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381180">{</span><span class="string" id="7381181">&#34;^[a-c]+$&#34;</span><span class="op" id="7381191">,</span>&nbsp;<span class="string" id="7381193">&#34;x&#34;</span><span class="op" id="7381196">,</span>&nbsp;<span class="string" id="7381198">&#34;abcdabc&#34;</span><span class="op" id="7381207">,</span>&nbsp;<span class="string" id="7381209">&#34;abcdabc&#34;</span><span class="op" id="7381218">}</span><span class="op" id="7381219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381222">{</span><span class="string" id="7381223">&#34;^[a-c]+&#34;</span><span class="op" id="7381232">,</span>&nbsp;<span class="string" id="7381234">&#34;x&#34;</span><span class="op" id="7381237">,</span>&nbsp;<span class="string" id="7381239">&#34;abc&#34;</span><span class="op" id="7381244">,</span>&nbsp;<span class="string" id="7381246">&#34;x&#34;</span><span class="op" id="7381249">}</span><span class="op" id="7381250">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381253">{</span><span class="string" id="7381254">&#34;[a-c]+$&#34;</span><span class="op" id="7381263">,</span>&nbsp;<span class="string" id="7381265">&#34;x&#34;</span><span class="op" id="7381268">,</span>&nbsp;<span class="string" id="7381270">&#34;abc&#34;</span><span class="op" id="7381275">,</span>&nbsp;<span class="string" id="7381277">&#34;x&#34;</span><span class="op" id="7381280">}</span><span class="op" id="7381281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381284">{</span><span class="string" id="7381285">&#34;^[a-c]+$&#34;</span><span class="op" id="7381295">,</span>&nbsp;<span class="string" id="7381297">&#34;x&#34;</span><span class="op" id="7381300">,</span>&nbsp;<span class="string" id="7381302">&#34;abc&#34;</span><span class="op" id="7381307">,</span>&nbsp;<span class="string" id="7381309">&#34;x&#34;</span><span class="op" id="7381312">}</span><span class="op" id="7381313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381316">{</span><span class="string" id="7381317">&#34;^[a-c]+&#34;</span><span class="op" id="7381326">,</span>&nbsp;<span class="string" id="7381328">&#34;x&#34;</span><span class="op" id="7381331">,</span>&nbsp;<span class="string" id="7381333">&#34;dabce&#34;</span><span class="op" id="7381340">,</span>&nbsp;<span class="string" id="7381342">&#34;dabce&#34;</span><span class="op" id="7381349">}</span><span class="op" id="7381350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381353">{</span><span class="string" id="7381354">&#34;[a-c]+$&#34;</span><span class="op" id="7381363">,</span>&nbsp;<span class="string" id="7381365">&#34;x&#34;</span><span class="op" id="7381368">,</span>&nbsp;<span class="string" id="7381370">&#34;dabce&#34;</span><span class="op" id="7381377">,</span>&nbsp;<span class="string" id="7381379">&#34;dabce&#34;</span><span class="op" id="7381386">}</span><span class="op" id="7381387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381390">{</span><span class="string" id="7381391">&#34;^[a-c]+$&#34;</span><span class="op" id="7381401">,</span>&nbsp;<span class="string" id="7381403">&#34;x&#34;</span><span class="op" id="7381406">,</span>&nbsp;<span class="string" id="7381408">&#34;dabce&#34;</span><span class="op" id="7381415">,</span>&nbsp;<span class="string" id="7381417">&#34;dabce&#34;</span><span class="op" id="7381424">}</span><span class="op" id="7381425">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381428">{</span><span class="string" id="7381429">&#34;^[a-c]+&#34;</span><span class="op" id="7381438">,</span>&nbsp;<span class="string" id="7381440">&#34;x&#34;</span><span class="op" id="7381443">,</span>&nbsp;<span class="string" id="7381445">&#34;&#34;</span><span class="op" id="7381447">,</span>&nbsp;<span class="string" id="7381449">&#34;&#34;</span><span class="op" id="7381451">}</span><span class="op" id="7381452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381455">{</span><span class="string" id="7381456">&#34;[a-c]+$&#34;</span><span class="op" id="7381465">,</span>&nbsp;<span class="string" id="7381467">&#34;x&#34;</span><span class="op" id="7381470">,</span>&nbsp;<span class="string" id="7381472">&#34;&#34;</span><span class="op" id="7381474">,</span>&nbsp;<span class="string" id="7381476">&#34;&#34;</span><span class="op" id="7381478">}</span><span class="op" id="7381479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381482">{</span><span class="string" id="7381483">&#34;^[a-c]+$&#34;</span><span class="op" id="7381493">,</span>&nbsp;<span class="string" id="7381495">&#34;x&#34;</span><span class="op" id="7381498">,</span>&nbsp;<span class="string" id="7381500">&#34;&#34;</span><span class="op" id="7381502">,</span>&nbsp;<span class="string" id="7381504">&#34;&#34;</span><span class="op" id="7381506">}</span><span class="op" id="7381507">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7381511">//&nbsp;Other&nbsp;cases.</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381528">{</span><span class="string" id="7381529">&#34;abc&#34;</span><span class="op" id="7381534">,</span>&nbsp;<span class="string" id="7381536">&#34;def&#34;</span><span class="op" id="7381541">,</span>&nbsp;<span class="string" id="7381543">&#34;abcdefg&#34;</span><span class="op" id="7381552">,</span>&nbsp;<span class="string" id="7381554">&#34;defdefg&#34;</span><span class="op" id="7381563">}</span><span class="op" id="7381564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381567">{</span><span class="string" id="7381568">&#34;bc&#34;</span><span class="op" id="7381572">,</span>&nbsp;<span class="string" id="7381574">&#34;BC&#34;</span><span class="op" id="7381578">,</span>&nbsp;<span class="string" id="7381580">&#34;abcbcdcdedef&#34;</span><span class="op" id="7381594">,</span>&nbsp;<span class="string" id="7381596">&#34;aBCBCdcdedef&#34;</span><span class="op" id="7381610">}</span><span class="op" id="7381611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381614">{</span><span class="string" id="7381615">&#34;abc&#34;</span><span class="op" id="7381620">,</span>&nbsp;<span class="string" id="7381622">&#34;&#34;</span><span class="op" id="7381624">,</span>&nbsp;<span class="string" id="7381626">&#34;abcdabc&#34;</span><span class="op" id="7381635">,</span>&nbsp;<span class="string" id="7381637">&#34;d&#34;</span><span class="op" id="7381640">}</span><span class="op" id="7381641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381644">{</span><span class="string" id="7381645">&#34;x&#34;</span><span class="op" id="7381648">,</span>&nbsp;<span class="string" id="7381650">&#34;xXx&#34;</span><span class="op" id="7381655">,</span>&nbsp;<span class="string" id="7381657">&#34;xxxXxxx&#34;</span><span class="op" id="7381666">,</span>&nbsp;<span class="string" id="7381668">&#34;xXxxXxxXxXxXxxXxxXx&#34;</span><span class="op" id="7381689">}</span><span class="op" id="7381690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381693">{</span><span class="string" id="7381694">&#34;abc&#34;</span><span class="op" id="7381699">,</span>&nbsp;<span class="string" id="7381701">&#34;d&#34;</span><span class="op" id="7381704">,</span>&nbsp;<span class="string" id="7381706">&#34;&#34;</span><span class="op" id="7381708">,</span>&nbsp;<span class="string" id="7381710">&#34;&#34;</span><span class="op" id="7381712">}</span><span class="op" id="7381713">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381716">{</span><span class="string" id="7381717">&#34;abc&#34;</span><span class="op" id="7381722">,</span>&nbsp;<span class="string" id="7381724">&#34;d&#34;</span><span class="op" id="7381727">,</span>&nbsp;<span class="string" id="7381729">&#34;abc&#34;</span><span class="op" id="7381734">,</span>&nbsp;<span class="string" id="7381736">&#34;d&#34;</span><span class="op" id="7381739">}</span><span class="op" id="7381740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381743">{</span><span class="string" id="7381744">&#34;.+&#34;</span><span class="op" id="7381748">,</span>&nbsp;<span class="string" id="7381750">&#34;x&#34;</span><span class="op" id="7381753">,</span>&nbsp;<span class="string" id="7381755">&#34;abc&#34;</span><span class="op" id="7381760">,</span>&nbsp;<span class="string" id="7381762">&#34;x&#34;</span><span class="op" id="7381765">}</span><span class="op" id="7381766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381769">{</span><span class="string" id="7381770">&#34;[a-c]*&#34;</span><span class="op" id="7381778">,</span>&nbsp;<span class="string" id="7381780">&#34;x&#34;</span><span class="op" id="7381783">,</span>&nbsp;<span class="string" id="7381785">&#34;def&#34;</span><span class="op" id="7381790">,</span>&nbsp;<span class="string" id="7381792">&#34;xdxexfx&#34;</span><span class="op" id="7381801">}</span><span class="op" id="7381802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381805">{</span><span class="string" id="7381806">&#34;[a-c]+&#34;</span><span class="op" id="7381814">,</span>&nbsp;<span class="string" id="7381816">&#34;x&#34;</span><span class="op" id="7381819">,</span>&nbsp;<span class="string" id="7381821">&#34;abcbcdcdedef&#34;</span><span class="op" id="7381835">,</span>&nbsp;<span class="string" id="7381837">&#34;xdxdedef&#34;</span><span class="op" id="7381847">}</span><span class="op" id="7381848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381851">{</span><span class="string" id="7381852">&#34;[a-c]*&#34;</span><span class="op" id="7381860">,</span>&nbsp;<span class="string" id="7381862">&#34;x&#34;</span><span class="op" id="7381865">,</span>&nbsp;<span class="string" id="7381867">&#34;abcbcdcdedef&#34;</span><span class="op" id="7381881">,</span>&nbsp;<span class="string" id="7381883">&#34;xdxdxexdxexfx&#34;</span><span class="op" id="7381898">}</span><span class="op" id="7381899">,</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7381903">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381921">{</span><span class="string" id="7381922">&#34;a+&#34;</span><span class="op" id="7381926">,</span>&nbsp;<span class="string" id="7381928">&#34;($0)&#34;</span><span class="op" id="7381934">,</span>&nbsp;<span class="string" id="7381936">&#34;banana&#34;</span><span class="op" id="7381944">,</span>&nbsp;<span class="string" id="7381946">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="7381960">}</span><span class="op" id="7381961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7381964">{</span><span class="string" id="7381965">&#34;a+&#34;</span><span class="op" id="7381969">,</span>&nbsp;<span class="string" id="7381971">&#34;(${0})&#34;</span><span class="op" id="7381979">,</span>&nbsp;<span class="string" id="7381981">&#34;banana&#34;</span><span class="op" id="7381989">,</span>&nbsp;<span class="string" id="7381991">&#34;b(a)n(a)n(a)&#34;</span><span class="op" id="7382005">}</span><span class="op" id="7382006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382009">{</span><span class="string" id="7382010">&#34;a+&#34;</span><span class="op" id="7382014">,</span>&nbsp;<span class="string" id="7382016">&#34;(${0})$0&#34;</span><span class="op" id="7382026">,</span>&nbsp;<span class="string" id="7382028">&#34;banana&#34;</span><span class="op" id="7382036">,</span>&nbsp;<span class="string" id="7382038">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="7382055">}</span><span class="op" id="7382056">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382059">{</span><span class="string" id="7382060">&#34;a+&#34;</span><span class="op" id="7382064">,</span>&nbsp;<span class="string" id="7382066">&#34;(${0})$0&#34;</span><span class="op" id="7382076">,</span>&nbsp;<span class="string" id="7382078">&#34;banana&#34;</span><span class="op" id="7382086">,</span>&nbsp;<span class="string" id="7382088">&#34;b(a)an(a)an(a)a&#34;</span><span class="op" id="7382105">}</span><span class="op" id="7382106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382109">{</span><span class="string" id="7382110">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7382123">,</span>&nbsp;<span class="string" id="7382125">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7382140">,</span>&nbsp;<span class="string" id="7382142">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7382156">,</span>&nbsp;<span class="string" id="7382158">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7382174">}</span><span class="op" id="7382175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382178">{</span><span class="string" id="7382179">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7382192">,</span>&nbsp;<span class="string" id="7382194">&#34;goodbye,&nbsp;$1x&#34;</span><span class="op" id="7382208">,</span>&nbsp;<span class="string" id="7382210">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7382224">,</span>&nbsp;<span class="string" id="7382226">&#34;goodbye,&nbsp;&#34;</span><span class="op" id="7382237">}</span><span class="op" id="7382238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382241">{</span><span class="string" id="7382242">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7382255">,</span>&nbsp;<span class="string" id="7382257">&#34;goodbye,&nbsp;${1}x&#34;</span><span class="op" id="7382273">,</span>&nbsp;<span class="string" id="7382275">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7382289">,</span>&nbsp;<span class="string" id="7382291">&#34;goodbye,&nbsp;worldx&#34;</span><span class="op" id="7382308">}</span><span class="op" id="7382309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382312">{</span><span class="string" id="7382313">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7382326">,</span>&nbsp;<span class="string" id="7382328">&#34;&lt;$0&gt;&lt;$1&gt;&lt;$2&gt;&lt;$3&gt;&#34;</span><span class="op" id="7382346">,</span>&nbsp;<span class="string" id="7382348">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7382362">,</span>&nbsp;<span class="string" id="7382364">&#34;&lt;hello,&nbsp;world&gt;&lt;world&gt;&lt;&gt;&lt;&gt;&#34;</span><span class="op" id="7382391">}</span><span class="op" id="7382392">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382395">{</span><span class="string" id="7382396">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7382417">,</span>&nbsp;<span class="string" id="7382419">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7382436">,</span>&nbsp;<span class="string" id="7382438">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7382452">,</span>&nbsp;<span class="string" id="7382454">&#34;goodbye,&nbsp;world!&#34;</span><span class="op" id="7382471">}</span><span class="op" id="7382472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382475">{</span><span class="string" id="7382476">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7382497">,</span>&nbsp;<span class="string" id="7382499">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7382517">,</span>&nbsp;<span class="string" id="7382519">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7382533">,</span>&nbsp;<span class="string" id="7382535">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7382551">}</span><span class="op" id="7382552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382555">{</span><span class="string" id="7382556">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7382578">,</span>&nbsp;<span class="string" id="7382580">&#34;$x$x$x&#34;</span><span class="op" id="7382588">,</span>&nbsp;<span class="string" id="7382590">&#34;hi&#34;</span><span class="op" id="7382594">,</span>&nbsp;<span class="string" id="7382596">&#34;hihihi&#34;</span><span class="op" id="7382604">}</span><span class="op" id="7382605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382608">{</span><span class="string" id="7382609">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7382631">,</span>&nbsp;<span class="string" id="7382633">&#34;$x$x$x&#34;</span><span class="op" id="7382641">,</span>&nbsp;<span class="string" id="7382643">&#34;bye&#34;</span><span class="op" id="7382648">,</span>&nbsp;<span class="string" id="7382650">&#34;byebyebye&#34;</span><span class="op" id="7382661">}</span><span class="op" id="7382662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382665">{</span><span class="string" id="7382666">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7382688">,</span>&nbsp;<span class="string" id="7382690">&#34;$xyz&#34;</span><span class="op" id="7382696">,</span>&nbsp;<span class="string" id="7382698">&#34;hi&#34;</span><span class="op" id="7382702">,</span>&nbsp;<span class="string" id="7382704">&#34;&#34;</span><span class="op" id="7382706">}</span><span class="op" id="7382707">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382710">{</span><span class="string" id="7382711">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7382733">,</span>&nbsp;<span class="string" id="7382735">&#34;${x}yz&#34;</span><span class="op" id="7382743">,</span>&nbsp;<span class="string" id="7382745">&#34;hi&#34;</span><span class="op" id="7382749">,</span>&nbsp;<span class="string" id="7382751">&#34;hiyz&#34;</span><span class="op" id="7382757">}</span><span class="op" id="7382758">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382761">{</span><span class="string" id="7382762">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7382784">,</span>&nbsp;<span class="string" id="7382786">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7382797">,</span>&nbsp;<span class="string" id="7382799">&#34;hi&#34;</span><span class="op" id="7382803">,</span>&nbsp;<span class="string" id="7382805">&#34;hello&nbsp;$x&#34;</span><span class="op" id="7382815">}</span><span class="op" id="7382816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382819">{</span><span class="string" id="7382820">&#34;a+&#34;</span><span class="op" id="7382824">,</span>&nbsp;<span class="string" id="7382826">&#34;${oops&#34;</span><span class="op" id="7382834">,</span>&nbsp;<span class="string" id="7382836">&#34;aaa&#34;</span><span class="op" id="7382841">,</span>&nbsp;<span class="string" id="7382843">&#34;${oops&#34;</span><span class="op" id="7382851">}</span><span class="op" id="7382852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382855">{</span><span class="string" id="7382856">&#34;a+&#34;</span><span class="op" id="7382860">,</span>&nbsp;<span class="string" id="7382862">&#34;$$&#34;</span><span class="op" id="7382866">,</span>&nbsp;<span class="string" id="7382868">&#34;aaa&#34;</span><span class="op" id="7382873">,</span>&nbsp;<span class="string" id="7382875">&#34;$&#34;</span><span class="op" id="7382878">}</span><span class="op" id="7382879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382882">{</span><span class="string" id="7382883">&#34;a+&#34;</span><span class="op" id="7382887">,</span>&nbsp;<span class="string" id="7382889">&#34;$&#34;</span><span class="op" id="7382892">,</span>&nbsp;<span class="string" id="7382894">&#34;aaa&#34;</span><span class="op" id="7382899">,</span>&nbsp;<span class="string" id="7382901">&#34;$&#34;</span><span class="op" id="7382904">}</span><span class="op" id="7382905">,</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7382909">//&nbsp;Substitution&nbsp;when&nbsp;subexpression&nbsp;isn&#39;t&nbsp;found</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382957">{</span><span class="string" id="7382958">&#34;(x)?&#34;</span><span class="op" id="7382964">,</span>&nbsp;<span class="string" id="7382966">&#34;$1&#34;</span><span class="op" id="7382970">,</span>&nbsp;<span class="string" id="7382972">&#34;123&#34;</span><span class="op" id="7382977">,</span>&nbsp;<span class="string" id="7382979">&#34;123&#34;</span><span class="op" id="7382984">}</span><span class="op" id="7382985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7382988">{</span><span class="string" id="7382989">&#34;abc&#34;</span><span class="op" id="7382994">,</span>&nbsp;<span class="string" id="7382996">&#34;$1&#34;</span><span class="op" id="7383000">,</span>&nbsp;<span class="string" id="7383002">&#34;123&#34;</span><span class="op" id="7383007">,</span>&nbsp;<span class="string" id="7383009">&#34;123&#34;</span><span class="op" id="7383014">}</span><span class="op" id="7383015">,</span><br>
<span class="lineno"></span><span class="op" id="7383017">}</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="keyword" id="7383020">var</span>&nbsp;<span class="ident" id="7383024">replaceLiteralTests</span>&nbsp;<span class="op" id="7383044">=</span>&nbsp;<span class="op" id="7383046">[</span><span class="op" id="7383047">]</span><span class="ident" id="7383048">ReplaceTest</span><span class="op" id="7383059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7383062">//&nbsp;Substitutions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383080">{</span><span class="string" id="7383081">&#34;a+&#34;</span><span class="op" id="7383085">,</span>&nbsp;<span class="string" id="7383087">&#34;($0)&#34;</span><span class="op" id="7383093">,</span>&nbsp;<span class="string" id="7383095">&#34;banana&#34;</span><span class="op" id="7383103">,</span>&nbsp;<span class="string" id="7383105">&#34;b($0)n($0)n($0)&#34;</span><span class="op" id="7383122">}</span><span class="op" id="7383123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383126">{</span><span class="string" id="7383127">&#34;a+&#34;</span><span class="op" id="7383131">,</span>&nbsp;<span class="string" id="7383133">&#34;(${0})&#34;</span><span class="op" id="7383141">,</span>&nbsp;<span class="string" id="7383143">&#34;banana&#34;</span><span class="op" id="7383151">,</span>&nbsp;<span class="string" id="7383153">&#34;b(${0})n(${0})n(${0})&#34;</span><span class="op" id="7383176">}</span><span class="op" id="7383177">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383180">{</span><span class="string" id="7383181">&#34;a+&#34;</span><span class="op" id="7383185">,</span>&nbsp;<span class="string" id="7383187">&#34;(${0})$0&#34;</span><span class="op" id="7383197">,</span>&nbsp;<span class="string" id="7383199">&#34;banana&#34;</span><span class="op" id="7383207">,</span>&nbsp;<span class="string" id="7383209">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="7383238">}</span><span class="op" id="7383239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383242">{</span><span class="string" id="7383243">&#34;a+&#34;</span><span class="op" id="7383247">,</span>&nbsp;<span class="string" id="7383249">&#34;(${0})$0&#34;</span><span class="op" id="7383259">,</span>&nbsp;<span class="string" id="7383261">&#34;banana&#34;</span><span class="op" id="7383269">,</span>&nbsp;<span class="string" id="7383271">&#34;b(${0})$0n(${0})$0n(${0})$0&#34;</span><span class="op" id="7383300">}</span><span class="op" id="7383301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383304">{</span><span class="string" id="7383305">&#34;hello,&nbsp;(.+)&#34;</span><span class="op" id="7383318">,</span>&nbsp;<span class="string" id="7383320">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7383335">,</span>&nbsp;<span class="string" id="7383337">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7383351">,</span>&nbsp;<span class="string" id="7383353">&#34;goodbye,&nbsp;${1}&#34;</span><span class="op" id="7383368">}</span><span class="op" id="7383369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383372">{</span><span class="string" id="7383373">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7383394">,</span>&nbsp;<span class="string" id="7383396">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7383413">,</span>&nbsp;<span class="string" id="7383415">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7383429">,</span>&nbsp;<span class="string" id="7383431">&#34;goodbye,&nbsp;$noun!&#34;</span><span class="op" id="7383448">}</span><span class="op" id="7383449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383452">{</span><span class="string" id="7383453">&#34;hello,&nbsp;(?P&lt;noun&gt;.+)&#34;</span><span class="op" id="7383474">,</span>&nbsp;<span class="string" id="7383476">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7383494">,</span>&nbsp;<span class="string" id="7383496">&#34;hello,&nbsp;world&#34;</span><span class="op" id="7383510">,</span>&nbsp;<span class="string" id="7383512">&#34;goodbye,&nbsp;${noun}&#34;</span><span class="op" id="7383530">}</span><span class="op" id="7383531">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383534">{</span><span class="string" id="7383535">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7383557">,</span>&nbsp;<span class="string" id="7383559">&#34;$x$x$x&#34;</span><span class="op" id="7383567">,</span>&nbsp;<span class="string" id="7383569">&#34;hi&#34;</span><span class="op" id="7383573">,</span>&nbsp;<span class="string" id="7383575">&#34;$x$x$x&#34;</span><span class="op" id="7383583">}</span><span class="op" id="7383584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383587">{</span><span class="string" id="7383588">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7383610">,</span>&nbsp;<span class="string" id="7383612">&#34;$x$x$x&#34;</span><span class="op" id="7383620">,</span>&nbsp;<span class="string" id="7383622">&#34;bye&#34;</span><span class="op" id="7383627">,</span>&nbsp;<span class="string" id="7383629">&#34;$x$x$x&#34;</span><span class="op" id="7383637">}</span><span class="op" id="7383638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383641">{</span><span class="string" id="7383642">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7383664">,</span>&nbsp;<span class="string" id="7383666">&#34;$xyz&#34;</span><span class="op" id="7383672">,</span>&nbsp;<span class="string" id="7383674">&#34;hi&#34;</span><span class="op" id="7383678">,</span>&nbsp;<span class="string" id="7383680">&#34;$xyz&#34;</span><span class="op" id="7383686">}</span><span class="op" id="7383687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383690">{</span><span class="string" id="7383691">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7383713">,</span>&nbsp;<span class="string" id="7383715">&#34;${x}yz&#34;</span><span class="op" id="7383723">,</span>&nbsp;<span class="string" id="7383725">&#34;hi&#34;</span><span class="op" id="7383729">,</span>&nbsp;<span class="string" id="7383731">&#34;${x}yz&#34;</span><span class="op" id="7383739">}</span><span class="op" id="7383740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383743">{</span><span class="string" id="7383744">&#34;(?P&lt;x&gt;hi)|(?P&lt;x&gt;bye)&#34;</span><span class="op" id="7383766">,</span>&nbsp;<span class="string" id="7383768">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7383779">,</span>&nbsp;<span class="string" id="7383781">&#34;hi&#34;</span><span class="op" id="7383785">,</span>&nbsp;<span class="string" id="7383787">&#34;hello&nbsp;$$x&#34;</span><span class="op" id="7383798">}</span><span class="op" id="7383799">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383802">{</span><span class="string" id="7383803">&#34;a+&#34;</span><span class="op" id="7383807">,</span>&nbsp;<span class="string" id="7383809">&#34;${oops&#34;</span><span class="op" id="7383817">,</span>&nbsp;<span class="string" id="7383819">&#34;aaa&#34;</span><span class="op" id="7383824">,</span>&nbsp;<span class="string" id="7383826">&#34;${oops&#34;</span><span class="op" id="7383834">}</span><span class="op" id="7383835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383838">{</span><span class="string" id="7383839">&#34;a+&#34;</span><span class="op" id="7383843">,</span>&nbsp;<span class="string" id="7383845">&#34;$$&#34;</span><span class="op" id="7383849">,</span>&nbsp;<span class="string" id="7383851">&#34;aaa&#34;</span><span class="op" id="7383856">,</span>&nbsp;<span class="string" id="7383858">&#34;$$&#34;</span><span class="op" id="7383862">}</span><span class="op" id="7383863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7383866">{</span><span class="string" id="7383867">&#34;a+&#34;</span><span class="op" id="7383871">,</span>&nbsp;<span class="string" id="7383873">&#34;$&#34;</span><span class="op" id="7383876">,</span>&nbsp;<span class="string" id="7383878">&#34;aaa&#34;</span><span class="op" id="7383883">,</span>&nbsp;<span class="string" id="7383885">&#34;$&#34;</span><span class="op" id="7383888">}</span><span class="op" id="7383889">,</span><br>
<span class="lineno"></span><span class="op" id="7383891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="7383894">type</span>&nbsp;<span class="ident" id="7383899">ReplaceFuncTest</span>&nbsp;<span class="keyword" id="7383915">struct</span>&nbsp;<span class="op" id="7383922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7383925">pattern</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7383939">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7383947">replacement</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="7383961">func</span><span class="op" id="7383965">(</span><span class="builtintype" id="7383966">string</span><span class="op" id="7383972">)</span>&nbsp;<span class="builtintype" id="7383974">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7383982">input</span><span class="op" id="7383987">,</span>&nbsp;<span class="ident" id="7383989">output</span>&nbsp;<span class="builtintype" id="7383996">string</span><br>
<span class="lineno"></span><span class="op" id="7384003">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7384006">var</span>&nbsp;<span class="ident" id="7384010">replaceFuncTests</span>&nbsp;<span class="op" id="7384027">=</span>&nbsp;<span class="op" id="7384029">[</span><span class="op" id="7384030">]</span><span class="ident" id="7384031">ReplaceFuncTest</span><span class="op" id="7384046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384049">{</span><span class="string" id="7384050">&#34;[a-c]&#34;</span><span class="op" id="7384057">,</span>&nbsp;<span class="keyword" id="7384059">func</span><span class="op" id="7384063">(</span><span class="ident" id="7384064">s</span>&nbsp;<span class="builtintype" id="7384066">string</span><span class="op" id="7384072">)</span>&nbsp;<span class="builtintype" id="7384074">string</span>&nbsp;<span class="op" id="7384081">{</span>&nbsp;<span class="keyword" id="7384083">return</span>&nbsp;<span class="string" id="7384090">&#34;x&#34;</span>&nbsp;<span class="op" id="7384094">+</span>&nbsp;<span class="ident" id="7384096">s</span>&nbsp;<span class="op" id="7384098">+</span>&nbsp;<span class="string" id="7384100">&#34;y&#34;</span>&nbsp;<span class="op" id="7384104">}</span><span class="op" id="7384105">,</span>&nbsp;<span class="string" id="7384107">&#34;defabcdef&#34;</span><span class="op" id="7384118">,</span>&nbsp;<span class="string" id="7384120">&#34;defxayxbyxcydef&#34;</span><span class="op" id="7384137">}</span><span class="op" id="7384138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384141">{</span><span class="string" id="7384142">&#34;[a-c]+&#34;</span><span class="op" id="7384150">,</span>&nbsp;<span class="keyword" id="7384152">func</span><span class="op" id="7384156">(</span><span class="ident" id="7384157">s</span>&nbsp;<span class="builtintype" id="7384159">string</span><span class="op" id="7384165">)</span>&nbsp;<span class="builtintype" id="7384167">string</span>&nbsp;<span class="op" id="7384174">{</span>&nbsp;<span class="keyword" id="7384176">return</span>&nbsp;<span class="string" id="7384183">&#34;x&#34;</span>&nbsp;<span class="op" id="7384187">+</span>&nbsp;<span class="ident" id="7384189">s</span>&nbsp;<span class="op" id="7384191">+</span>&nbsp;<span class="string" id="7384193">&#34;y&#34;</span>&nbsp;<span class="op" id="7384197">}</span><span class="op" id="7384198">,</span>&nbsp;<span class="string" id="7384200">&#34;defabcdef&#34;</span><span class="op" id="7384211">,</span>&nbsp;<span class="string" id="7384213">&#34;defxabcydef&#34;</span><span class="op" id="7384226">}</span><span class="op" id="7384227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384230">{</span><span class="string" id="7384231">&#34;[a-c]*&#34;</span><span class="op" id="7384239">,</span>&nbsp;<span class="keyword" id="7384241">func</span><span class="op" id="7384245">(</span><span class="ident" id="7384246">s</span>&nbsp;<span class="builtintype" id="7384248">string</span><span class="op" id="7384254">)</span>&nbsp;<span class="builtintype" id="7384256">string</span>&nbsp;<span class="op" id="7384263">{</span>&nbsp;<span class="keyword" id="7384265">return</span>&nbsp;<span class="string" id="7384272">&#34;x&#34;</span>&nbsp;<span class="op" id="7384276">+</span>&nbsp;<span class="ident" id="7384278">s</span>&nbsp;<span class="op" id="7384280">+</span>&nbsp;<span class="string" id="7384282">&#34;y&#34;</span>&nbsp;<span class="op" id="7384286">}</span><span class="op" id="7384287">,</span>&nbsp;<span class="string" id="7384289">&#34;defabcdef&#34;</span><span class="op" id="7384300">,</span>&nbsp;<span class="string" id="7384302">&#34;xydxyexyfxabcydxyexyfxy&#34;</span><span class="op" id="7384327">}</span><span class="op" id="7384328">,</span><br>
<span class="lineno">235</span><span class="op" id="7384330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7384333">func</span>&nbsp;<span class="ident" id="7384338">TestReplaceAll</span><span class="op" id="7384352">(</span><span class="ident" id="7384353">t</span>&nbsp;<span class="op" id="7384355">*</span><span class="ident" id="7384356">testing</span><span class="op" id="7384363">.</span><span class="ident" id="7384364">T</span><span class="op" id="7384365">)</span>&nbsp;<span class="op" id="7384367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7384370">for</span>&nbsp;<span class="ident" id="7384374">_</span><span class="op" id="7384375">,</span>&nbsp;<span class="ident" id="7384377">tc</span>&nbsp;<span class="op" id="7384380">:=</span>&nbsp;<span class="keyword" id="7384383">range</span>&nbsp;<span class="ident" id="7384389">replaceTests</span>&nbsp;<span class="op" id="7384402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384406">re</span><span class="op" id="7384408">,</span>&nbsp;<span class="ident" id="7384410">err</span>&nbsp;<span class="op" id="7384414">:=</span>&nbsp;<span class="ident" id="7384417">Compile</span><span class="op" id="7384424">(</span><span class="ident" id="7384425">tc</span><span class="op" id="7384427">.</span><span class="ident" id="7384428">pattern</span><span class="op" id="7384435">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7384439">if</span>&nbsp;<span class="ident" id="7384442">err</span>&nbsp;<span class="op" id="7384446">!=</span>&nbsp;<span class="ident" id="7384449">nil</span>&nbsp;<span class="op" id="7384453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384458">t</span><span class="op" id="7384459">.</span><span class="ident" id="7384460">Errorf</span><span class="op" id="7384466">(</span><span class="string" id="7384467">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7384502">,</span>&nbsp;<span class="ident" id="7384504">tc</span><span class="op" id="7384506">.</span><span class="ident" id="7384507">pattern</span><span class="op" id="7384514">,</span>&nbsp;<span class="ident" id="7384516">err</span><span class="op" id="7384519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7384524">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384535">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384539">actual</span>&nbsp;<span class="op" id="7384546">:=</span>&nbsp;<span class="ident" id="7384549">re</span><span class="op" id="7384551">.</span><span class="ident" id="7384552">ReplaceAllString</span><span class="op" id="7384568">(</span><span class="ident" id="7384569">tc</span><span class="op" id="7384571">.</span><span class="ident" id="7384572">input</span><span class="op" id="7384577">,</span>&nbsp;<span class="ident" id="7384579">tc</span><span class="op" id="7384581">.</span><span class="ident" id="7384582">replacement</span><span class="op" id="7384593">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7384597">if</span>&nbsp;<span class="ident" id="7384600">actual</span>&nbsp;<span class="op" id="7384607">!=</span>&nbsp;<span class="ident" id="7384610">tc</span><span class="op" id="7384612">.</span><span class="ident" id="7384613">output</span>&nbsp;<span class="op" id="7384620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384625">t</span><span class="op" id="7384626">.</span><span class="ident" id="7384627">Errorf</span><span class="op" id="7384633">(</span><span class="string" id="7384634">&#34;%q.ReplaceAllString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7384676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384682">tc</span><span class="op" id="7384684">.</span><span class="ident" id="7384685">pattern</span><span class="op" id="7384692">,</span>&nbsp;<span class="ident" id="7384694">tc</span><span class="op" id="7384696">.</span><span class="ident" id="7384697">input</span><span class="op" id="7384702">,</span>&nbsp;<span class="ident" id="7384704">tc</span><span class="op" id="7384706">.</span><span class="ident" id="7384707">replacement</span><span class="op" id="7384718">,</span>&nbsp;<span class="ident" id="7384720">actual</span><span class="op" id="7384726">,</span>&nbsp;<span class="ident" id="7384728">tc</span><span class="op" id="7384730">.</span><span class="ident" id="7384731">output</span><span class="op" id="7384737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7384745">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384764">actual</span>&nbsp;<span class="op" id="7384771">=</span>&nbsp;<span class="builtintype" id="7384773">string</span><span class="op" id="7384779">(</span><span class="ident" id="7384780">re</span><span class="op" id="7384782">.</span><span class="ident" id="7384783">ReplaceAll</span><span class="op" id="7384793">(</span><span class="op" id="7384794">[</span><span class="op" id="7384795">]</span><span class="builtintype" id="7384796">byte</span><span class="op" id="7384800">(</span><span class="ident" id="7384801">tc</span><span class="op" id="7384803">.</span><span class="ident" id="7384804">input</span><span class="op" id="7384809">)</span><span class="op" id="7384810">,</span>&nbsp;<span class="op" id="7384812">[</span><span class="op" id="7384813">]</span><span class="builtintype" id="7384814">byte</span><span class="op" id="7384818">(</span><span class="ident" id="7384819">tc</span><span class="op" id="7384821">.</span><span class="ident" id="7384822">replacement</span><span class="op" id="7384833">)</span><span class="op" id="7384834">)</span><span class="op" id="7384835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7384839">if</span>&nbsp;<span class="ident" id="7384842">actual</span>&nbsp;<span class="op" id="7384849">!=</span>&nbsp;<span class="ident" id="7384852">tc</span><span class="op" id="7384854">.</span><span class="ident" id="7384855">output</span>&nbsp;<span class="op" id="7384862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384867">t</span><span class="op" id="7384868">.</span><span class="ident" id="7384869">Errorf</span><span class="op" id="7384875">(</span><span class="string" id="7384876">&#34;%q.ReplaceAll(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7384912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7384918">tc</span><span class="op" id="7384920">.</span><span class="ident" id="7384921">pattern</span><span class="op" id="7384928">,</span>&nbsp;<span class="ident" id="7384930">tc</span><span class="op" id="7384932">.</span><span class="ident" id="7384933">input</span><span class="op" id="7384938">,</span>&nbsp;<span class="ident" id="7384940">tc</span><span class="op" id="7384942">.</span><span class="ident" id="7384943">replacement</span><span class="op" id="7384954">,</span>&nbsp;<span class="ident" id="7384956">actual</span><span class="op" id="7384962">,</span>&nbsp;<span class="ident" id="7384964">tc</span><span class="op" id="7384966">.</span><span class="ident" id="7384967">output</span><span class="op" id="7384973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384977">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7384980">}</span><br>
<span class="lineno"></span><span class="op" id="7384982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7384985">func</span>&nbsp;<span class="ident" id="7384990">TestReplaceAllLiteral</span><span class="op" id="7385011">(</span><span class="ident" id="7385012">t</span>&nbsp;<span class="op" id="7385014">*</span><span class="ident" id="7385015">testing</span><span class="op" id="7385022">.</span><span class="ident" id="7385023">T</span><span class="op" id="7385024">)</span>&nbsp;<span class="op" id="7385026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7385029">//&nbsp;Run&nbsp;ReplaceAll&nbsp;tests&nbsp;that&nbsp;do&nbsp;not&nbsp;have&nbsp;$&nbsp;expansions.</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385085">for</span>&nbsp;<span class="ident" id="7385089">_</span><span class="op" id="7385090">,</span>&nbsp;<span class="ident" id="7385092">tc</span>&nbsp;<span class="op" id="7385095">:=</span>&nbsp;<span class="keyword" id="7385098">range</span>&nbsp;<span class="ident" id="7385104">replaceTests</span>&nbsp;<span class="op" id="7385117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385121">if</span>&nbsp;<span class="ident" id="7385124">strings</span><span class="op" id="7385131">.</span><span class="ident" id="7385132">Contains</span><span class="op" id="7385140">(</span><span class="ident" id="7385141">tc</span><span class="op" id="7385143">.</span><span class="ident" id="7385144">replacement</span><span class="op" id="7385155">,</span>&nbsp;<span class="string" id="7385157">&#34;$&#34;</span><span class="op" id="7385160">)</span>&nbsp;<span class="op" id="7385162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385167">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385182">re</span><span class="op" id="7385184">,</span>&nbsp;<span class="ident" id="7385186">err</span>&nbsp;<span class="op" id="7385190">:=</span>&nbsp;<span class="ident" id="7385193">Compile</span><span class="op" id="7385200">(</span><span class="ident" id="7385201">tc</span><span class="op" id="7385203">.</span><span class="ident" id="7385204">pattern</span><span class="op" id="7385211">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385215">if</span>&nbsp;<span class="ident" id="7385218">err</span>&nbsp;<span class="op" id="7385222">!=</span>&nbsp;<span class="ident" id="7385225">nil</span>&nbsp;<span class="op" id="7385229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385234">t</span><span class="op" id="7385235">.</span><span class="ident" id="7385236">Errorf</span><span class="op" id="7385242">(</span><span class="string" id="7385243">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7385278">,</span>&nbsp;<span class="ident" id="7385280">tc</span><span class="op" id="7385282">.</span><span class="ident" id="7385283">pattern</span><span class="op" id="7385290">,</span>&nbsp;<span class="ident" id="7385292">err</span><span class="op" id="7385295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385300">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385315">actual</span>&nbsp;<span class="op" id="7385322">:=</span>&nbsp;<span class="ident" id="7385325">re</span><span class="op" id="7385327">.</span><span class="ident" id="7385328">ReplaceAllLiteralString</span><span class="op" id="7385351">(</span><span class="ident" id="7385352">tc</span><span class="op" id="7385354">.</span><span class="ident" id="7385355">input</span><span class="op" id="7385360">,</span>&nbsp;<span class="ident" id="7385362">tc</span><span class="op" id="7385364">.</span><span class="ident" id="7385365">replacement</span><span class="op" id="7385376">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385380">if</span>&nbsp;<span class="ident" id="7385383">actual</span>&nbsp;<span class="op" id="7385390">!=</span>&nbsp;<span class="ident" id="7385393">tc</span><span class="op" id="7385395">.</span><span class="ident" id="7385396">output</span>&nbsp;<span class="op" id="7385403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385408">t</span><span class="op" id="7385409">.</span><span class="ident" id="7385410">Errorf</span><span class="op" id="7385416">(</span><span class="string" id="7385417">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7385466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385472">tc</span><span class="op" id="7385474">.</span><span class="ident" id="7385475">pattern</span><span class="op" id="7385482">,</span>&nbsp;<span class="ident" id="7385484">tc</span><span class="op" id="7385486">.</span><span class="ident" id="7385487">input</span><span class="op" id="7385492">,</span>&nbsp;<span class="ident" id="7385494">tc</span><span class="op" id="7385496">.</span><span class="ident" id="7385497">replacement</span><span class="op" id="7385508">,</span>&nbsp;<span class="ident" id="7385510">actual</span><span class="op" id="7385516">,</span>&nbsp;<span class="ident" id="7385518">tc</span><span class="op" id="7385520">.</span><span class="ident" id="7385521">output</span><span class="op" id="7385527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7385535">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385554">actual</span>&nbsp;<span class="op" id="7385561">=</span>&nbsp;<span class="builtintype" id="7385563">string</span><span class="op" id="7385569">(</span><span class="ident" id="7385570">re</span><span class="op" id="7385572">.</span><span class="ident" id="7385573">ReplaceAllLiteral</span><span class="op" id="7385590">(</span><span class="op" id="7385591">[</span><span class="op" id="7385592">]</span><span class="builtintype" id="7385593">byte</span><span class="op" id="7385597">(</span><span class="ident" id="7385598">tc</span><span class="op" id="7385600">.</span><span class="ident" id="7385601">input</span><span class="op" id="7385606">)</span><span class="op" id="7385607">,</span>&nbsp;<span class="op" id="7385609">[</span><span class="op" id="7385610">]</span><span class="builtintype" id="7385611">byte</span><span class="op" id="7385615">(</span><span class="ident" id="7385616">tc</span><span class="op" id="7385618">.</span><span class="ident" id="7385619">replacement</span><span class="op" id="7385630">)</span><span class="op" id="7385631">)</span><span class="op" id="7385632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385636">if</span>&nbsp;<span class="ident" id="7385639">actual</span>&nbsp;<span class="op" id="7385646">!=</span>&nbsp;<span class="ident" id="7385649">tc</span><span class="op" id="7385651">.</span><span class="ident" id="7385652">output</span>&nbsp;<span class="op" id="7385659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385664">t</span><span class="op" id="7385665">.</span><span class="ident" id="7385666">Errorf</span><span class="op" id="7385672">(</span><span class="string" id="7385673">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7385716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385722">tc</span><span class="op" id="7385724">.</span><span class="ident" id="7385725">pattern</span><span class="op" id="7385732">,</span>&nbsp;<span class="ident" id="7385734">tc</span><span class="op" id="7385736">.</span><span class="ident" id="7385737">input</span><span class="op" id="7385742">,</span>&nbsp;<span class="ident" id="7385744">tc</span><span class="op" id="7385746">.</span><span class="ident" id="7385747">replacement</span><span class="op" id="7385758">,</span>&nbsp;<span class="ident" id="7385760">actual</span><span class="op" id="7385766">,</span>&nbsp;<span class="ident" id="7385768">tc</span><span class="op" id="7385770">.</span><span class="ident" id="7385771">output</span><span class="op" id="7385777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385781">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7385788">//&nbsp;Run&nbsp;literal-specific&nbsp;tests.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385820">for</span>&nbsp;<span class="ident" id="7385824">_</span><span class="op" id="7385825">,</span>&nbsp;<span class="ident" id="7385827">tc</span>&nbsp;<span class="op" id="7385830">:=</span>&nbsp;<span class="keyword" id="7385833">range</span>&nbsp;<span class="ident" id="7385839">replaceLiteralTests</span>&nbsp;<span class="op" id="7385859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385863">re</span><span class="op" id="7385865">,</span>&nbsp;<span class="ident" id="7385867">err</span>&nbsp;<span class="op" id="7385871">:=</span>&nbsp;<span class="ident" id="7385874">Compile</span><span class="op" id="7385881">(</span><span class="ident" id="7385882">tc</span><span class="op" id="7385884">.</span><span class="ident" id="7385885">pattern</span><span class="op" id="7385892">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385896">if</span>&nbsp;<span class="ident" id="7385899">err</span>&nbsp;<span class="op" id="7385903">!=</span>&nbsp;<span class="ident" id="7385906">nil</span>&nbsp;<span class="op" id="7385910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385915">t</span><span class="op" id="7385916">.</span><span class="ident" id="7385917">Errorf</span><span class="op" id="7385923">(</span><span class="string" id="7385924">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7385959">,</span>&nbsp;<span class="ident" id="7385961">tc</span><span class="op" id="7385963">.</span><span class="ident" id="7385964">pattern</span><span class="op" id="7385971">,</span>&nbsp;<span class="ident" id="7385973">err</span><span class="op" id="7385976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7385981">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7385992">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7385996">actual</span>&nbsp;<span class="op" id="7386003">:=</span>&nbsp;<span class="ident" id="7386006">re</span><span class="op" id="7386008">.</span><span class="ident" id="7386009">ReplaceAllLiteralString</span><span class="op" id="7386032">(</span><span class="ident" id="7386033">tc</span><span class="op" id="7386035">.</span><span class="ident" id="7386036">input</span><span class="op" id="7386041">,</span>&nbsp;<span class="ident" id="7386043">tc</span><span class="op" id="7386045">.</span><span class="ident" id="7386046">replacement</span><span class="op" id="7386057">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7386061">if</span>&nbsp;<span class="ident" id="7386064">actual</span>&nbsp;<span class="op" id="7386071">!=</span>&nbsp;<span class="ident" id="7386074">tc</span><span class="op" id="7386076">.</span><span class="ident" id="7386077">output</span>&nbsp;<span class="op" id="7386084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386089">t</span><span class="op" id="7386090">.</span><span class="ident" id="7386091">Errorf</span><span class="op" id="7386097">(</span><span class="string" id="7386098">&#34;%q.ReplaceAllLiteralString(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7386147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386153">tc</span><span class="op" id="7386155">.</span><span class="ident" id="7386156">pattern</span><span class="op" id="7386163">,</span>&nbsp;<span class="ident" id="7386165">tc</span><span class="op" id="7386167">.</span><span class="ident" id="7386168">input</span><span class="op" id="7386173">,</span>&nbsp;<span class="ident" id="7386175">tc</span><span class="op" id="7386177">.</span><span class="ident" id="7386178">replacement</span><span class="op" id="7386189">,</span>&nbsp;<span class="ident" id="7386191">actual</span><span class="op" id="7386197">,</span>&nbsp;<span class="ident" id="7386199">tc</span><span class="op" id="7386201">.</span><span class="ident" id="7386202">output</span><span class="op" id="7386208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7386216">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386235">actual</span>&nbsp;<span class="op" id="7386242">=</span>&nbsp;<span class="builtintype" id="7386244">string</span><span class="op" id="7386250">(</span><span class="ident" id="7386251">re</span><span class="op" id="7386253">.</span><span class="ident" id="7386254">ReplaceAllLiteral</span><span class="op" id="7386271">(</span><span class="op" id="7386272">[</span><span class="op" id="7386273">]</span><span class="builtintype" id="7386274">byte</span><span class="op" id="7386278">(</span><span class="ident" id="7386279">tc</span><span class="op" id="7386281">.</span><span class="ident" id="7386282">input</span><span class="op" id="7386287">)</span><span class="op" id="7386288">,</span>&nbsp;<span class="op" id="7386290">[</span><span class="op" id="7386291">]</span><span class="builtintype" id="7386292">byte</span><span class="op" id="7386296">(</span><span class="ident" id="7386297">tc</span><span class="op" id="7386299">.</span><span class="ident" id="7386300">replacement</span><span class="op" id="7386311">)</span><span class="op" id="7386312">)</span><span class="op" id="7386313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7386317">if</span>&nbsp;<span class="ident" id="7386320">actual</span>&nbsp;<span class="op" id="7386327">!=</span>&nbsp;<span class="ident" id="7386330">tc</span><span class="op" id="7386332">.</span><span class="ident" id="7386333">output</span>&nbsp;<span class="op" id="7386340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386345">t</span><span class="op" id="7386346">.</span><span class="ident" id="7386347">Errorf</span><span class="op" id="7386353">(</span><span class="string" id="7386354">&#34;%q.ReplaceAllLiteral(%q,%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7386397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386403">tc</span><span class="op" id="7386405">.</span><span class="ident" id="7386406">pattern</span><span class="op" id="7386413">,</span>&nbsp;<span class="ident" id="7386415">tc</span><span class="op" id="7386417">.</span><span class="ident" id="7386418">input</span><span class="op" id="7386423">,</span>&nbsp;<span class="ident" id="7386425">tc</span><span class="op" id="7386427">.</span><span class="ident" id="7386428">replacement</span><span class="op" id="7386439">,</span>&nbsp;<span class="ident" id="7386441">actual</span><span class="op" id="7386447">,</span>&nbsp;<span class="ident" id="7386449">tc</span><span class="op" id="7386451">.</span><span class="ident" id="7386452">output</span><span class="op" id="7386458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386462">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386465">}</span><br>
<span class="lineno"></span><span class="op" id="7386467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7386470">func</span>&nbsp;<span class="ident" id="7386475">TestReplaceAllFunc</span><span class="op" id="7386493">(</span><span class="ident" id="7386494">t</span>&nbsp;<span class="op" id="7386496">*</span><span class="ident" id="7386497">testing</span><span class="op" id="7386504">.</span><span class="ident" id="7386505">T</span><span class="op" id="7386506">)</span>&nbsp;<span class="op" id="7386508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7386511">for</span>&nbsp;<span class="ident" id="7386515">_</span><span class="op" id="7386516">,</span>&nbsp;<span class="ident" id="7386518">tc</span>&nbsp;<span class="op" id="7386521">:=</span>&nbsp;<span class="keyword" id="7386524">range</span>&nbsp;<span class="ident" id="7386530">replaceFuncTests</span>&nbsp;<span class="op" id="7386547">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386551">re</span><span class="op" id="7386553">,</span>&nbsp;<span class="ident" id="7386555">err</span>&nbsp;<span class="op" id="7386559">:=</span>&nbsp;<span class="ident" id="7386562">Compile</span><span class="op" id="7386569">(</span><span class="ident" id="7386570">tc</span><span class="op" id="7386572">.</span><span class="ident" id="7386573">pattern</span><span class="op" id="7386580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7386584">if</span>&nbsp;<span class="ident" id="7386587">err</span>&nbsp;<span class="op" id="7386591">!=</span>&nbsp;<span class="ident" id="7386594">nil</span>&nbsp;<span class="op" id="7386598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386603">t</span><span class="op" id="7386604">.</span><span class="ident" id="7386605">Errorf</span><span class="op" id="7386611">(</span><span class="string" id="7386612">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7386647">,</span>&nbsp;<span class="ident" id="7386649">tc</span><span class="op" id="7386651">.</span><span class="ident" id="7386652">pattern</span><span class="op" id="7386659">,</span>&nbsp;<span class="ident" id="7386661">err</span><span class="op" id="7386664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7386669">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386680">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386684">actual</span>&nbsp;<span class="op" id="7386691">:=</span>&nbsp;<span class="ident" id="7386694">re</span><span class="op" id="7386696">.</span><span class="ident" id="7386697">ReplaceAllStringFunc</span><span class="op" id="7386717">(</span><span class="ident" id="7386718">tc</span><span class="op" id="7386720">.</span><span class="ident" id="7386721">input</span><span class="op" id="7386726">,</span>&nbsp;<span class="ident" id="7386728">tc</span><span class="op" id="7386730">.</span><span class="ident" id="7386731">replacement</span><span class="op" id="7386742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7386746">if</span>&nbsp;<span class="ident" id="7386749">actual</span>&nbsp;<span class="op" id="7386756">!=</span>&nbsp;<span class="ident" id="7386759">tc</span><span class="op" id="7386761">.</span><span class="ident" id="7386762">output</span>&nbsp;<span class="op" id="7386769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386774">t</span><span class="op" id="7386775">.</span><span class="ident" id="7386776">Errorf</span><span class="op" id="7386782">(</span><span class="string" id="7386783">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7386820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386826">tc</span><span class="op" id="7386828">.</span><span class="ident" id="7386829">pattern</span><span class="op" id="7386836">,</span>&nbsp;<span class="ident" id="7386838">tc</span><span class="op" id="7386840">.</span><span class="ident" id="7386841">input</span><span class="op" id="7386846">,</span>&nbsp;<span class="ident" id="7386848">actual</span><span class="op" id="7386854">,</span>&nbsp;<span class="ident" id="7386856">tc</span><span class="op" id="7386858">.</span><span class="ident" id="7386859">output</span><span class="op" id="7386865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7386869">}</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7386873">//&nbsp;now&nbsp;try&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7386892">actual</span>&nbsp;<span class="op" id="7386899">=</span>&nbsp;<span class="builtintype" id="7386901">string</span><span class="op" id="7386907">(</span><span class="ident" id="7386908">re</span><span class="op" id="7386910">.</span><span class="ident" id="7386911">ReplaceAllFunc</span><span class="op" id="7386925">(</span><span class="op" id="7386926">[</span><span class="op" id="7386927">]</span><span class="builtintype" id="7386928">byte</span><span class="op" id="7386932">(</span><span class="ident" id="7386933">tc</span><span class="op" id="7386935">.</span><span class="ident" id="7386936">input</span><span class="op" id="7386941">)</span><span class="op" id="7386942">,</span>&nbsp;<span class="keyword" id="7386944">func</span><span class="op" id="7386948">(</span><span class="ident" id="7386949">s</span>&nbsp;<span class="op" id="7386951">[</span><span class="op" id="7386952">]</span><span class="builtintype" id="7386953">byte</span><span class="op" id="7386957">)</span>&nbsp;<span class="op" id="7386959">[</span><span class="op" id="7386960">]</span><span class="builtintype" id="7386961">byte</span>&nbsp;<span class="op" id="7386966">{</span>&nbsp;<span class="keyword" id="7386968">return</span>&nbsp;<span class="op" id="7386975">[</span><span class="op" id="7386976">]</span><span class="builtintype" id="7386977">byte</span><span class="op" id="7386981">(</span><span class="ident" id="7386982">tc</span><span class="op" id="7386984">.</span><span class="ident" id="7386985">replacement</span><span class="op" id="7386996">(</span><span class="builtintype" id="7386997">string</span><span class="op" id="7387003">(</span><span class="ident" id="7387004">s</span><span class="op" id="7387005">)</span><span class="op" id="7387006">)</span><span class="op" id="7387007">)</span>&nbsp;<span class="op" id="7387009">}</span><span class="op" id="7387010">)</span><span class="op" id="7387011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387015">if</span>&nbsp;<span class="ident" id="7387018">actual</span>&nbsp;<span class="op" id="7387025">!=</span>&nbsp;<span class="ident" id="7387028">tc</span><span class="op" id="7387030">.</span><span class="ident" id="7387031">output</span>&nbsp;<span class="op" id="7387038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387043">t</span><span class="op" id="7387044">.</span><span class="ident" id="7387045">Errorf</span><span class="op" id="7387051">(</span><span class="string" id="7387052">&#34;%q.ReplaceFunc(%q,fn)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7387089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387095">tc</span><span class="op" id="7387097">.</span><span class="ident" id="7387098">pattern</span><span class="op" id="7387105">,</span>&nbsp;<span class="ident" id="7387107">tc</span><span class="op" id="7387109">.</span><span class="ident" id="7387110">input</span><span class="op" id="7387115">,</span>&nbsp;<span class="ident" id="7387117">actual</span><span class="op" id="7387123">,</span>&nbsp;<span class="ident" id="7387125">tc</span><span class="op" id="7387127">.</span><span class="ident" id="7387128">output</span><span class="op" id="7387134">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387141">}</span><br>
<span class="lineno"></span><span class="op" id="7387143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7387146">type</span>&nbsp;<span class="ident" id="7387151">MetaTest</span>&nbsp;<span class="keyword" id="7387160">struct</span>&nbsp;<span class="op" id="7387167">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387170">pattern</span><span class="op" id="7387177">,</span>&nbsp;<span class="ident" id="7387179">output</span><span class="op" id="7387185">,</span>&nbsp;<span class="ident" id="7387187">literal</span>&nbsp;<span class="builtintype" id="7387195">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387203">isLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7387228">bool</span><br>
<span class="lineno"></span><span class="op" id="7387233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7387236">var</span>&nbsp;<span class="ident" id="7387240">metaTests</span>&nbsp;<span class="op" id="7387250">=</span>&nbsp;<span class="op" id="7387252">[</span><span class="op" id="7387253">]</span><span class="ident" id="7387254">MetaTest</span><span class="op" id="7387262">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387265">{</span><span class="string" id="7387266">``</span><span class="op" id="7387268">,</span>&nbsp;<span class="string" id="7387270">``</span><span class="op" id="7387272">,</span>&nbsp;<span class="string" id="7387274">``</span><span class="op" id="7387276">,</span>&nbsp;<span class="builtintype" id="7387278">true</span><span class="op" id="7387282">}</span><span class="op" id="7387283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387286">{</span><span class="string" id="7387287">`foo`</span><span class="op" id="7387292">,</span>&nbsp;<span class="string" id="7387294">`foo`</span><span class="op" id="7387299">,</span>&nbsp;<span class="string" id="7387301">`foo`</span><span class="op" id="7387306">,</span>&nbsp;<span class="builtintype" id="7387308">true</span><span class="op" id="7387312">}</span><span class="op" id="7387313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387316">{</span><span class="string" id="7387317">`foo\.\$`</span><span class="op" id="7387326">,</span>&nbsp;<span class="string" id="7387328">`foo\\\.\\\$`</span><span class="op" id="7387341">,</span>&nbsp;<span class="string" id="7387343">`foo.$`</span><span class="op" id="7387350">,</span>&nbsp;<span class="builtintype" id="7387352">true</span><span class="op" id="7387356">}</span><span class="op" id="7387357">,</span>&nbsp;<span class="comment" id="7387359">//&nbsp;has&nbsp;meta&nbsp;but&nbsp;no&nbsp;operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387388">{</span><span class="string" id="7387389">`foo.\$`</span><span class="op" id="7387397">,</span>&nbsp;<span class="string" id="7387399">`foo\.\\\$`</span><span class="op" id="7387410">,</span>&nbsp;<span class="string" id="7387412">`foo`</span><span class="op" id="7387417">,</span>&nbsp;<span class="builtintype" id="7387419">false</span><span class="op" id="7387424">}</span><span class="op" id="7387425">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7387431">//&nbsp;has&nbsp;escaped&nbsp;operators&nbsp;and&nbsp;real&nbsp;operators</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387476">{</span><span class="string" id="7387477">`!@#$%^&amp;*()_+-=[{]}\|,&lt;.&gt;/?~`</span><span class="op" id="7387506">,</span>&nbsp;<span class="string" id="7387508">`!@#\$%\^&amp;\*\(\)_\+-=\[\{\]\}\\\|,&lt;\.&gt;/\?~`</span><span class="op" id="7387551">,</span>&nbsp;<span class="string" id="7387553">`!@#`</span><span class="op" id="7387558">,</span>&nbsp;<span class="builtintype" id="7387560">false</span><span class="op" id="7387565">}</span><span class="op" id="7387566">,</span><br>
<span class="lineno">335</span><span class="op" id="7387568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7387571">func</span>&nbsp;<span class="ident" id="7387576">TestQuoteMeta</span><span class="op" id="7387589">(</span><span class="ident" id="7387590">t</span>&nbsp;<span class="op" id="7387592">*</span><span class="ident" id="7387593">testing</span><span class="op" id="7387600">.</span><span class="ident" id="7387601">T</span><span class="op" id="7387602">)</span>&nbsp;<span class="op" id="7387604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387607">for</span>&nbsp;<span class="ident" id="7387611">_</span><span class="op" id="7387612">,</span>&nbsp;<span class="ident" id="7387614">tc</span>&nbsp;<span class="op" id="7387617">:=</span>&nbsp;<span class="keyword" id="7387620">range</span>&nbsp;<span class="ident" id="7387626">metaTests</span>&nbsp;<span class="op" id="7387636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7387640">//&nbsp;Verify&nbsp;that&nbsp;QuoteMeta&nbsp;returns&nbsp;the&nbsp;expected&nbsp;string.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387696">quoted</span>&nbsp;<span class="op" id="7387703">:=</span>&nbsp;<span class="ident" id="7387706">QuoteMeta</span><span class="op" id="7387715">(</span><span class="ident" id="7387716">tc</span><span class="op" id="7387718">.</span><span class="ident" id="7387719">pattern</span><span class="op" id="7387726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387730">if</span>&nbsp;<span class="ident" id="7387733">quoted</span>&nbsp;<span class="op" id="7387740">!=</span>&nbsp;<span class="ident" id="7387743">tc</span><span class="op" id="7387745">.</span><span class="ident" id="7387746">output</span>&nbsp;<span class="op" id="7387753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387758">t</span><span class="op" id="7387759">.</span><span class="ident" id="7387760">Errorf</span><span class="op" id="7387766">(</span><span class="string" id="7387767">&#34;QuoteMeta(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7387802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7387808">tc</span><span class="op" id="7387810">.</span><span class="ident" id="7387811">pattern</span><span class="op" id="7387818">,</span>&nbsp;<span class="ident" id="7387820">quoted</span><span class="op" id="7387826">,</span>&nbsp;<span class="ident" id="7387828">tc</span><span class="op" id="7387830">.</span><span class="ident" id="7387831">output</span><span class="op" id="7387837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387842">continue</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7387853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7387858">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;quoted&nbsp;string&nbsp;is&nbsp;in&nbsp;fact&nbsp;treated&nbsp;as&nbsp;expected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7387924">//&nbsp;by&nbsp;Compile&nbsp;--&nbsp;i.e.&nbsp;that&nbsp;it&nbsp;matches&nbsp;the&nbsp;original,&nbsp;unquoted&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7387995">if</span>&nbsp;<span class="ident" id="7387998">tc</span><span class="op" id="7388000">.</span><span class="ident" id="7388001">pattern</span>&nbsp;<span class="op" id="7388009">!=</span>&nbsp;<span class="string" id="7388012">&#34;&#34;</span>&nbsp;<span class="op" id="7388015">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388020">re</span><span class="op" id="7388022">,</span>&nbsp;<span class="ident" id="7388024">err</span>&nbsp;<span class="op" id="7388028">:=</span>&nbsp;<span class="ident" id="7388031">Compile</span><span class="op" id="7388038">(</span><span class="ident" id="7388039">quoted</span><span class="op" id="7388045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388050">if</span>&nbsp;<span class="ident" id="7388053">err</span>&nbsp;<span class="op" id="7388057">!=</span>&nbsp;<span class="ident" id="7388060">nil</span>&nbsp;<span class="op" id="7388064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388070">t</span><span class="op" id="7388071">.</span><span class="ident" id="7388072">Errorf</span><span class="op" id="7388078">(</span><span class="string" id="7388079">&#34;Unexpected&nbsp;error&nbsp;compiling&nbsp;QuoteMeta(`%s`):&nbsp;%v&#34;</span><span class="op" id="7388127">,</span>&nbsp;<span class="ident" id="7388129">tc</span><span class="op" id="7388131">.</span><span class="ident" id="7388132">pattern</span><span class="op" id="7388139">,</span>&nbsp;<span class="ident" id="7388141">err</span><span class="op" id="7388144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388150">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388162">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388167">src</span>&nbsp;<span class="op" id="7388171">:=</span>&nbsp;<span class="string" id="7388174">&#34;abc&#34;</span>&nbsp;<span class="op" id="7388180">+</span>&nbsp;<span class="ident" id="7388182">tc</span><span class="op" id="7388184">.</span><span class="ident" id="7388185">pattern</span>&nbsp;<span class="op" id="7388193">+</span>&nbsp;<span class="string" id="7388195">&#34;def&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388204">repl</span>&nbsp;<span class="op" id="7388209">:=</span>&nbsp;<span class="string" id="7388212">&#34;xyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388221">replaced</span>&nbsp;<span class="op" id="7388230">:=</span>&nbsp;<span class="ident" id="7388233">re</span><span class="op" id="7388235">.</span><span class="ident" id="7388236">ReplaceAllString</span><span class="op" id="7388252">(</span><span class="ident" id="7388253">src</span><span class="op" id="7388256">,</span>&nbsp;<span class="ident" id="7388258">repl</span><span class="op" id="7388262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388267">expected</span>&nbsp;<span class="op" id="7388276">:=</span>&nbsp;<span class="string" id="7388279">&#34;abcxyzdef&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388294">if</span>&nbsp;<span class="ident" id="7388297">replaced</span>&nbsp;<span class="op" id="7388306">!=</span>&nbsp;<span class="ident" id="7388309">expected</span>&nbsp;<span class="op" id="7388318">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388324">t</span><span class="op" id="7388325">.</span><span class="ident" id="7388326">Errorf</span><span class="op" id="7388332">(</span><span class="string" id="7388333">&#34;QuoteMeta(`%s`).Replace(`%s`,`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7388387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388394">tc</span><span class="op" id="7388396">.</span><span class="ident" id="7388397">pattern</span><span class="op" id="7388404">,</span>&nbsp;<span class="ident" id="7388406">src</span><span class="op" id="7388409">,</span>&nbsp;<span class="ident" id="7388411">repl</span><span class="op" id="7388415">,</span>&nbsp;<span class="ident" id="7388417">replaced</span><span class="op" id="7388425">,</span>&nbsp;<span class="ident" id="7388427">expected</span><span class="op" id="7388435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388447">}</span><br>
<span class="lineno">365</span><span class="op" id="7388449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7388452">func</span>&nbsp;<span class="ident" id="7388457">TestLiteralPrefix</span><span class="op" id="7388474">(</span><span class="ident" id="7388475">t</span>&nbsp;<span class="op" id="7388477">*</span><span class="ident" id="7388478">testing</span><span class="op" id="7388485">.</span><span class="ident" id="7388486">T</span><span class="op" id="7388487">)</span>&nbsp;<span class="op" id="7388489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388492">for</span>&nbsp;<span class="ident" id="7388496">_</span><span class="op" id="7388497">,</span>&nbsp;<span class="ident" id="7388499">tc</span>&nbsp;<span class="op" id="7388502">:=</span>&nbsp;<span class="keyword" id="7388505">range</span>&nbsp;<span class="ident" id="7388511">metaTests</span>&nbsp;<span class="op" id="7388521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7388525">//&nbsp;Literal&nbsp;method&nbsp;needs&nbsp;to&nbsp;scan&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388572">re</span>&nbsp;<span class="op" id="7388575">:=</span>&nbsp;<span class="ident" id="7388578">MustCompile</span><span class="op" id="7388589">(</span><span class="ident" id="7388590">tc</span><span class="op" id="7388592">.</span><span class="ident" id="7388593">pattern</span><span class="op" id="7388600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388604">str</span><span class="op" id="7388607">,</span>&nbsp;<span class="ident" id="7388609">complete</span>&nbsp;<span class="op" id="7388618">:=</span>&nbsp;<span class="ident" id="7388621">re</span><span class="op" id="7388623">.</span><span class="ident" id="7388624">LiteralPrefix</span><span class="op" id="7388637">(</span><span class="op" id="7388638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388642">if</span>&nbsp;<span class="ident" id="7388645">complete</span>&nbsp;<span class="op" id="7388654">!=</span>&nbsp;<span class="ident" id="7388657">tc</span><span class="op" id="7388659">.</span><span class="ident" id="7388660">isLiteral</span>&nbsp;<span class="op" id="7388670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388675">t</span><span class="op" id="7388676">.</span><span class="ident" id="7388677">Errorf</span><span class="op" id="7388683">(</span><span class="string" id="7388684">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;%t;&nbsp;want&nbsp;%t&#34;</span><span class="op" id="7388719">,</span>&nbsp;<span class="ident" id="7388721">tc</span><span class="op" id="7388723">.</span><span class="ident" id="7388724">pattern</span><span class="op" id="7388731">,</span>&nbsp;<span class="ident" id="7388733">complete</span><span class="op" id="7388741">,</span>&nbsp;<span class="ident" id="7388743">tc</span><span class="op" id="7388745">.</span><span class="ident" id="7388746">isLiteral</span><span class="op" id="7388755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388759">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7388763">if</span>&nbsp;<span class="ident" id="7388766">str</span>&nbsp;<span class="op" id="7388770">!=</span>&nbsp;<span class="ident" id="7388773">tc</span><span class="op" id="7388775">.</span><span class="ident" id="7388776">literal</span>&nbsp;<span class="op" id="7388784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388789">t</span><span class="op" id="7388790">.</span><span class="ident" id="7388791">Errorf</span><span class="op" id="7388797">(</span><span class="string" id="7388798">&#34;LiteralPrefix(`%s`)&nbsp;=&nbsp;`%s`;&nbsp;want&nbsp;`%s`&#34;</span><span class="op" id="7388837">,</span>&nbsp;<span class="ident" id="7388839">tc</span><span class="op" id="7388841">.</span><span class="ident" id="7388842">pattern</span><span class="op" id="7388849">,</span>&nbsp;<span class="ident" id="7388851">str</span><span class="op" id="7388854">,</span>&nbsp;<span class="ident" id="7388856">tc</span><span class="op" id="7388858">.</span><span class="ident" id="7388859">literal</span><span class="op" id="7388866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388873">}</span><br>
<span class="lineno"></span><span class="op" id="7388875">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span><span class="keyword" id="7388878">type</span>&nbsp;<span class="ident" id="7388883">subexpCase</span>&nbsp;<span class="keyword" id="7388894">struct</span>&nbsp;<span class="op" id="7388901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388904">input</span>&nbsp;<span class="builtintype" id="7388910">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388918">num</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7388924">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7388929">names</span>&nbsp;<span class="op" id="7388935">[</span><span class="op" id="7388936">]</span><span class="builtintype" id="7388937">string</span><br>
<span class="lineno">385</span><span class="op" id="7388944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7388947">var</span>&nbsp;<span class="ident" id="7388951">subexpCases</span>&nbsp;<span class="op" id="7388963">=</span>&nbsp;<span class="op" id="7388965">[</span><span class="op" id="7388966">]</span><span class="ident" id="7388967">subexpCase</span><span class="op" id="7388977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388980">{</span><span class="string" id="7388981">``</span><span class="op" id="7388983">,</span>&nbsp;<span class="num" id="7388985">0</span><span class="op" id="7388986">,</span>&nbsp;<span class="ident" id="7388988">nil</span><span class="op" id="7388991">}</span><span class="op" id="7388992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7388995">{</span><span class="string" id="7388996">`.*`</span><span class="op" id="7389000">,</span>&nbsp;<span class="num" id="7389002">0</span><span class="op" id="7389003">,</span>&nbsp;<span class="ident" id="7389005">nil</span><span class="op" id="7389008">}</span><span class="op" id="7389009">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389012">{</span><span class="string" id="7389013">`abba`</span><span class="op" id="7389019">,</span>&nbsp;<span class="num" id="7389021">0</span><span class="op" id="7389022">,</span>&nbsp;<span class="ident" id="7389024">nil</span><span class="op" id="7389027">}</span><span class="op" id="7389028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389031">{</span><span class="string" id="7389032">`ab(b)a`</span><span class="op" id="7389040">,</span>&nbsp;<span class="num" id="7389042">1</span><span class="op" id="7389043">,</span>&nbsp;<span class="op" id="7389045">[</span><span class="op" id="7389046">]</span><span class="builtintype" id="7389047">string</span><span class="op" id="7389053">{</span><span class="string" id="7389054">&#34;&#34;</span><span class="op" id="7389056">,</span>&nbsp;<span class="string" id="7389058">&#34;&#34;</span><span class="op" id="7389060">}</span><span class="op" id="7389061">}</span><span class="op" id="7389062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389065">{</span><span class="string" id="7389066">`ab(.*)a`</span><span class="op" id="7389075">,</span>&nbsp;<span class="num" id="7389077">1</span><span class="op" id="7389078">,</span>&nbsp;<span class="op" id="7389080">[</span><span class="op" id="7389081">]</span><span class="builtintype" id="7389082">string</span><span class="op" id="7389088">{</span><span class="string" id="7389089">&#34;&#34;</span><span class="op" id="7389091">,</span>&nbsp;<span class="string" id="7389093">&#34;&#34;</span><span class="op" id="7389095">}</span><span class="op" id="7389096">}</span><span class="op" id="7389097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389100">{</span><span class="string" id="7389101">`(.*)ab(.*)a`</span><span class="op" id="7389114">,</span>&nbsp;<span class="num" id="7389116">2</span><span class="op" id="7389117">,</span>&nbsp;<span class="op" id="7389119">[</span><span class="op" id="7389120">]</span><span class="builtintype" id="7389121">string</span><span class="op" id="7389127">{</span><span class="string" id="7389128">&#34;&#34;</span><span class="op" id="7389130">,</span>&nbsp;<span class="string" id="7389132">&#34;&#34;</span><span class="op" id="7389134">,</span>&nbsp;<span class="string" id="7389136">&#34;&#34;</span><span class="op" id="7389138">}</span><span class="op" id="7389139">}</span><span class="op" id="7389140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389143">{</span><span class="string" id="7389144">`(.*)(ab)(.*)a`</span><span class="op" id="7389159">,</span>&nbsp;<span class="num" id="7389161">3</span><span class="op" id="7389162">,</span>&nbsp;<span class="op" id="7389164">[</span><span class="op" id="7389165">]</span><span class="builtintype" id="7389166">string</span><span class="op" id="7389172">{</span><span class="string" id="7389173">&#34;&#34;</span><span class="op" id="7389175">,</span>&nbsp;<span class="string" id="7389177">&#34;&#34;</span><span class="op" id="7389179">,</span>&nbsp;<span class="string" id="7389181">&#34;&#34;</span><span class="op" id="7389183">,</span>&nbsp;<span class="string" id="7389185">&#34;&#34;</span><span class="op" id="7389187">}</span><span class="op" id="7389188">}</span><span class="op" id="7389189">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389192">{</span><span class="string" id="7389193">`(.*)((a)b)(.*)a`</span><span class="op" id="7389210">,</span>&nbsp;<span class="num" id="7389212">4</span><span class="op" id="7389213">,</span>&nbsp;<span class="op" id="7389215">[</span><span class="op" id="7389216">]</span><span class="builtintype" id="7389217">string</span><span class="op" id="7389223">{</span><span class="string" id="7389224">&#34;&#34;</span><span class="op" id="7389226">,</span>&nbsp;<span class="string" id="7389228">&#34;&#34;</span><span class="op" id="7389230">,</span>&nbsp;<span class="string" id="7389232">&#34;&#34;</span><span class="op" id="7389234">,</span>&nbsp;<span class="string" id="7389236">&#34;&#34;</span><span class="op" id="7389238">,</span>&nbsp;<span class="string" id="7389240">&#34;&#34;</span><span class="op" id="7389242">}</span><span class="op" id="7389243">}</span><span class="op" id="7389244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389247">{</span><span class="string" id="7389248">`(.*)(\(ab)(.*)a`</span><span class="op" id="7389265">,</span>&nbsp;<span class="num" id="7389267">3</span><span class="op" id="7389268">,</span>&nbsp;<span class="op" id="7389270">[</span><span class="op" id="7389271">]</span><span class="builtintype" id="7389272">string</span><span class="op" id="7389278">{</span><span class="string" id="7389279">&#34;&#34;</span><span class="op" id="7389281">,</span>&nbsp;<span class="string" id="7389283">&#34;&#34;</span><span class="op" id="7389285">,</span>&nbsp;<span class="string" id="7389287">&#34;&#34;</span><span class="op" id="7389289">,</span>&nbsp;<span class="string" id="7389291">&#34;&#34;</span><span class="op" id="7389293">}</span><span class="op" id="7389294">}</span><span class="op" id="7389295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389298">{</span><span class="string" id="7389299">`(.*)(\(a\)b)(.*)a`</span><span class="op" id="7389318">,</span>&nbsp;<span class="num" id="7389320">3</span><span class="op" id="7389321">,</span>&nbsp;<span class="op" id="7389323">[</span><span class="op" id="7389324">]</span><span class="builtintype" id="7389325">string</span><span class="op" id="7389331">{</span><span class="string" id="7389332">&#34;&#34;</span><span class="op" id="7389334">,</span>&nbsp;<span class="string" id="7389336">&#34;&#34;</span><span class="op" id="7389338">,</span>&nbsp;<span class="string" id="7389340">&#34;&#34;</span><span class="op" id="7389342">,</span>&nbsp;<span class="string" id="7389344">&#34;&#34;</span><span class="op" id="7389346">}</span><span class="op" id="7389347">}</span><span class="op" id="7389348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389351">{</span><span class="string" id="7389352">`(?P&lt;foo&gt;.*)(?P&lt;bar&gt;(a)b)(?P&lt;foo&gt;.*)a`</span><span class="op" id="7389390">,</span>&nbsp;<span class="num" id="7389392">4</span><span class="op" id="7389393">,</span>&nbsp;<span class="op" id="7389395">[</span><span class="op" id="7389396">]</span><span class="builtintype" id="7389397">string</span><span class="op" id="7389403">{</span><span class="string" id="7389404">&#34;&#34;</span><span class="op" id="7389406">,</span>&nbsp;<span class="string" id="7389408">&#34;foo&#34;</span><span class="op" id="7389413">,</span>&nbsp;<span class="string" id="7389415">&#34;bar&#34;</span><span class="op" id="7389420">,</span>&nbsp;<span class="string" id="7389422">&#34;&#34;</span><span class="op" id="7389424">,</span>&nbsp;<span class="string" id="7389426">&#34;foo&#34;</span><span class="op" id="7389431">}</span><span class="op" id="7389432">}</span><span class="op" id="7389433">,</span><br>
<span class="lineno"></span><span class="op" id="7389435">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="7389438">func</span>&nbsp;<span class="ident" id="7389443">TestSubexp</span><span class="op" id="7389453">(</span><span class="ident" id="7389454">t</span>&nbsp;<span class="op" id="7389456">*</span><span class="ident" id="7389457">testing</span><span class="op" id="7389464">.</span><span class="ident" id="7389465">T</span><span class="op" id="7389466">)</span>&nbsp;<span class="op" id="7389468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389471">for</span>&nbsp;<span class="ident" id="7389475">_</span><span class="op" id="7389476">,</span>&nbsp;<span class="ident" id="7389478">c</span>&nbsp;<span class="op" id="7389480">:=</span>&nbsp;<span class="keyword" id="7389483">range</span>&nbsp;<span class="ident" id="7389489">subexpCases</span>&nbsp;<span class="op" id="7389501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389505">re</span>&nbsp;<span class="op" id="7389508">:=</span>&nbsp;<span class="ident" id="7389511">MustCompile</span><span class="op" id="7389522">(</span><span class="ident" id="7389523">c</span><span class="op" id="7389524">.</span><span class="ident" id="7389525">input</span><span class="op" id="7389530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389534">n</span>&nbsp;<span class="op" id="7389536">:=</span>&nbsp;<span class="ident" id="7389539">re</span><span class="op" id="7389541">.</span><span class="ident" id="7389542">NumSubexp</span><span class="op" id="7389551">(</span><span class="op" id="7389552">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389556">if</span>&nbsp;<span class="ident" id="7389559">n</span>&nbsp;<span class="op" id="7389561">!=</span>&nbsp;<span class="ident" id="7389564">c</span><span class="op" id="7389565">.</span><span class="ident" id="7389566">num</span>&nbsp;<span class="op" id="7389570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389575">t</span><span class="op" id="7389576">.</span><span class="ident" id="7389577">Errorf</span><span class="op" id="7389583">(</span><span class="string" id="7389584">&#34;%q:&nbsp;NumSubexp&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7389613">,</span>&nbsp;<span class="ident" id="7389615">c</span><span class="op" id="7389616">.</span><span class="ident" id="7389617">input</span><span class="op" id="7389622">,</span>&nbsp;<span class="ident" id="7389624">n</span><span class="op" id="7389625">,</span>&nbsp;<span class="ident" id="7389627">c</span><span class="op" id="7389628">.</span><span class="ident" id="7389629">num</span><span class="op" id="7389632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389637">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389652">names</span>&nbsp;<span class="op" id="7389658">:=</span>&nbsp;<span class="ident" id="7389661">re</span><span class="op" id="7389663">.</span><span class="ident" id="7389664">SubexpNames</span><span class="op" id="7389675">(</span><span class="op" id="7389676">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389680">if</span>&nbsp;<span class="builtinfunc" id="7389683">len</span><span class="op" id="7389686">(</span><span class="ident" id="7389687">names</span><span class="op" id="7389692">)</span>&nbsp;<span class="op" id="7389694">!=</span>&nbsp;<span class="num" id="7389697">1</span><span class="op" id="7389698">+</span><span class="ident" id="7389699">n</span>&nbsp;<span class="op" id="7389701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389706">t</span><span class="op" id="7389707">.</span><span class="ident" id="7389708">Errorf</span><span class="op" id="7389714">(</span><span class="string" id="7389715">&#34;%q:&nbsp;len(SubexpNames)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7389751">,</span>&nbsp;<span class="ident" id="7389753">c</span><span class="op" id="7389754">.</span><span class="ident" id="7389755">input</span><span class="op" id="7389760">,</span>&nbsp;<span class="builtinfunc" id="7389762">len</span><span class="op" id="7389765">(</span><span class="ident" id="7389766">names</span><span class="op" id="7389771">)</span><span class="op" id="7389772">,</span>&nbsp;<span class="ident" id="7389774">n</span><span class="op" id="7389775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389780">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389795">if</span>&nbsp;<span class="ident" id="7389798">c</span><span class="op" id="7389799">.</span><span class="ident" id="7389800">names</span>&nbsp;<span class="op" id="7389806">!=</span>&nbsp;<span class="ident" id="7389809">nil</span>&nbsp;<span class="op" id="7389813">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389818">for</span>&nbsp;<span class="ident" id="7389822">i</span>&nbsp;<span class="op" id="7389824">:=</span>&nbsp;<span class="num" id="7389827">0</span><span class="op" id="7389828">;</span>&nbsp;<span class="ident" id="7389830">i</span>&nbsp;<span class="op" id="7389832">&lt;</span>&nbsp;<span class="num" id="7389834">1</span><span class="op" id="7389835">+</span><span class="ident" id="7389836">n</span><span class="op" id="7389837">;</span>&nbsp;<span class="ident" id="7389839">i</span><span class="op" id="7389840">++</span>&nbsp;<span class="op" id="7389843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7389849">if</span>&nbsp;<span class="ident" id="7389852">names</span><span class="op" id="7389857">[</span><span class="ident" id="7389858">i</span><span class="op" id="7389859">]</span>&nbsp;<span class="op" id="7389861">!=</span>&nbsp;<span class="ident" id="7389864">c</span><span class="op" id="7389865">.</span><span class="ident" id="7389866">names</span><span class="op" id="7389871">[</span><span class="ident" id="7389872">i</span><span class="op" id="7389873">]</span>&nbsp;<span class="op" id="7389875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7389882">t</span><span class="op" id="7389883">.</span><span class="ident" id="7389884">Errorf</span><span class="op" id="7389890">(</span><span class="string" id="7389891">&#34;%q:&nbsp;SubexpNames[%d]&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7389926">,</span>&nbsp;<span class="ident" id="7389928">c</span><span class="op" id="7389929">.</span><span class="ident" id="7389930">input</span><span class="op" id="7389935">,</span>&nbsp;<span class="ident" id="7389937">i</span><span class="op" id="7389938">,</span>&nbsp;<span class="ident" id="7389940">names</span><span class="op" id="7389945">[</span><span class="ident" id="7389946">i</span><span class="op" id="7389947">]</span><span class="op" id="7389948">,</span>&nbsp;<span class="ident" id="7389950">c</span><span class="op" id="7389951">.</span><span class="ident" id="7389952">names</span><span class="op" id="7389957">[</span><span class="ident" id="7389958">i</span><span class="op" id="7389959">]</span><span class="op" id="7389960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389971">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7389978">}</span><br>
<span class="lineno"></span><span class="op" id="7389980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7389983">var</span>&nbsp;<span class="ident" id="7389987">splitTests</span>&nbsp;<span class="op" id="7389998">=</span>&nbsp;<span class="op" id="7390000">[</span><span class="op" id="7390001">]</span><span class="keyword" id="7390002">struct</span>&nbsp;<span class="op" id="7390009">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7390012">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7390016">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7390024">r</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7390028">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7390036">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7390040">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7390045">out</span>&nbsp;<span class="op" id="7390049">[</span><span class="op" id="7390050">]</span><span class="builtintype" id="7390051">string</span><br>
<span class="lineno"></span><span class="op" id="7390058">}</span><span class="op" id="7390059">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390062">{</span><span class="string" id="7390063">&#34;foo:and:bar&#34;</span><span class="op" id="7390076">,</span>&nbsp;<span class="string" id="7390078">&#34;:&#34;</span><span class="op" id="7390081">,</span>&nbsp;<span class="op" id="7390083">-</span><span class="num" id="7390084">1</span><span class="op" id="7390085">,</span>&nbsp;<span class="op" id="7390087">[</span><span class="op" id="7390088">]</span><span class="builtintype" id="7390089">string</span><span class="op" id="7390095">{</span><span class="string" id="7390096">&#34;foo&#34;</span><span class="op" id="7390101">,</span>&nbsp;<span class="string" id="7390103">&#34;and&#34;</span><span class="op" id="7390108">,</span>&nbsp;<span class="string" id="7390110">&#34;bar&#34;</span><span class="op" id="7390115">}</span><span class="op" id="7390116">}</span><span class="op" id="7390117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390120">{</span><span class="string" id="7390121">&#34;foo:and:bar&#34;</span><span class="op" id="7390134">,</span>&nbsp;<span class="string" id="7390136">&#34;:&#34;</span><span class="op" id="7390139">,</span>&nbsp;<span class="num" id="7390141">1</span><span class="op" id="7390142">,</span>&nbsp;<span class="op" id="7390144">[</span><span class="op" id="7390145">]</span><span class="builtintype" id="7390146">string</span><span class="op" id="7390152">{</span><span class="string" id="7390153">&#34;foo:and:bar&#34;</span><span class="op" id="7390166">}</span><span class="op" id="7390167">}</span><span class="op" id="7390168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390171">{</span><span class="string" id="7390172">&#34;foo:and:bar&#34;</span><span class="op" id="7390185">,</span>&nbsp;<span class="string" id="7390187">&#34;:&#34;</span><span class="op" id="7390190">,</span>&nbsp;<span class="num" id="7390192">2</span><span class="op" id="7390193">,</span>&nbsp;<span class="op" id="7390195">[</span><span class="op" id="7390196">]</span><span class="builtintype" id="7390197">string</span><span class="op" id="7390203">{</span><span class="string" id="7390204">&#34;foo&#34;</span><span class="op" id="7390209">,</span>&nbsp;<span class="string" id="7390211">&#34;and:bar&#34;</span><span class="op" id="7390220">}</span><span class="op" id="7390221">}</span><span class="op" id="7390222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390225">{</span><span class="string" id="7390226">&#34;foo:and:bar&#34;</span><span class="op" id="7390239">,</span>&nbsp;<span class="string" id="7390241">&#34;foo&#34;</span><span class="op" id="7390246">,</span>&nbsp;<span class="op" id="7390248">-</span><span class="num" id="7390249">1</span><span class="op" id="7390250">,</span>&nbsp;<span class="op" id="7390252">[</span><span class="op" id="7390253">]</span><span class="builtintype" id="7390254">string</span><span class="op" id="7390260">{</span><span class="string" id="7390261">&#34;&#34;</span><span class="op" id="7390263">,</span>&nbsp;<span class="string" id="7390265">&#34;:and:bar&#34;</span><span class="op" id="7390275">}</span><span class="op" id="7390276">}</span><span class="op" id="7390277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390280">{</span><span class="string" id="7390281">&#34;foo:and:bar&#34;</span><span class="op" id="7390294">,</span>&nbsp;<span class="string" id="7390296">&#34;bar&#34;</span><span class="op" id="7390301">,</span>&nbsp;<span class="op" id="7390303">-</span><span class="num" id="7390304">1</span><span class="op" id="7390305">,</span>&nbsp;<span class="op" id="7390307">[</span><span class="op" id="7390308">]</span><span class="builtintype" id="7390309">string</span><span class="op" id="7390315">{</span><span class="string" id="7390316">&#34;foo:and:&#34;</span><span class="op" id="7390326">,</span>&nbsp;<span class="string" id="7390328">&#34;&#34;</span><span class="op" id="7390330">}</span><span class="op" id="7390331">}</span><span class="op" id="7390332">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390335">{</span><span class="string" id="7390336">&#34;foo:and:bar&#34;</span><span class="op" id="7390349">,</span>&nbsp;<span class="string" id="7390351">&#34;baz&#34;</span><span class="op" id="7390356">,</span>&nbsp;<span class="op" id="7390358">-</span><span class="num" id="7390359">1</span><span class="op" id="7390360">,</span>&nbsp;<span class="op" id="7390362">[</span><span class="op" id="7390363">]</span><span class="builtintype" id="7390364">string</span><span class="op" id="7390370">{</span><span class="string" id="7390371">&#34;foo:and:bar&#34;</span><span class="op" id="7390384">}</span><span class="op" id="7390385">}</span><span class="op" id="7390386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390389">{</span><span class="string" id="7390390">&#34;baabaab&#34;</span><span class="op" id="7390399">,</span>&nbsp;<span class="string" id="7390401">&#34;a&#34;</span><span class="op" id="7390404">,</span>&nbsp;<span class="op" id="7390406">-</span><span class="num" id="7390407">1</span><span class="op" id="7390408">,</span>&nbsp;<span class="op" id="7390410">[</span><span class="op" id="7390411">]</span><span class="builtintype" id="7390412">string</span><span class="op" id="7390418">{</span><span class="string" id="7390419">&#34;b&#34;</span><span class="op" id="7390422">,</span>&nbsp;<span class="string" id="7390424">&#34;&#34;</span><span class="op" id="7390426">,</span>&nbsp;<span class="string" id="7390428">&#34;b&#34;</span><span class="op" id="7390431">,</span>&nbsp;<span class="string" id="7390433">&#34;&#34;</span><span class="op" id="7390435">,</span>&nbsp;<span class="string" id="7390437">&#34;b&#34;</span><span class="op" id="7390440">}</span><span class="op" id="7390441">}</span><span class="op" id="7390442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390445">{</span><span class="string" id="7390446">&#34;baabaab&#34;</span><span class="op" id="7390455">,</span>&nbsp;<span class="string" id="7390457">&#34;a*&#34;</span><span class="op" id="7390461">,</span>&nbsp;<span class="op" id="7390463">-</span><span class="num" id="7390464">1</span><span class="op" id="7390465">,</span>&nbsp;<span class="op" id="7390467">[</span><span class="op" id="7390468">]</span><span class="builtintype" id="7390469">string</span><span class="op" id="7390475">{</span><span class="string" id="7390476">&#34;b&#34;</span><span class="op" id="7390479">,</span>&nbsp;<span class="string" id="7390481">&#34;b&#34;</span><span class="op" id="7390484">,</span>&nbsp;<span class="string" id="7390486">&#34;b&#34;</span><span class="op" id="7390489">}</span><span class="op" id="7390490">}</span><span class="op" id="7390491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390494">{</span><span class="string" id="7390495">&#34;baabaab&#34;</span><span class="op" id="7390504">,</span>&nbsp;<span class="string" id="7390506">&#34;ba*&#34;</span><span class="op" id="7390511">,</span>&nbsp;<span class="op" id="7390513">-</span><span class="num" id="7390514">1</span><span class="op" id="7390515">,</span>&nbsp;<span class="op" id="7390517">[</span><span class="op" id="7390518">]</span><span class="builtintype" id="7390519">string</span><span class="op" id="7390525">{</span><span class="string" id="7390526">&#34;&#34;</span><span class="op" id="7390528">,</span>&nbsp;<span class="string" id="7390530">&#34;&#34;</span><span class="op" id="7390532">,</span>&nbsp;<span class="string" id="7390534">&#34;&#34;</span><span class="op" id="7390536">,</span>&nbsp;<span class="string" id="7390538">&#34;&#34;</span><span class="op" id="7390540">}</span><span class="op" id="7390541">}</span><span class="op" id="7390542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390545">{</span><span class="string" id="7390546">&#34;foobar&#34;</span><span class="op" id="7390554">,</span>&nbsp;<span class="string" id="7390556">&#34;f*b*&#34;</span><span class="op" id="7390562">,</span>&nbsp;<span class="op" id="7390564">-</span><span class="num" id="7390565">1</span><span class="op" id="7390566">,</span>&nbsp;<span class="op" id="7390568">[</span><span class="op" id="7390569">]</span><span class="builtintype" id="7390570">string</span><span class="op" id="7390576">{</span><span class="string" id="7390577">&#34;&#34;</span><span class="op" id="7390579">,</span>&nbsp;<span class="string" id="7390581">&#34;o&#34;</span><span class="op" id="7390584">,</span>&nbsp;<span class="string" id="7390586">&#34;o&#34;</span><span class="op" id="7390589">,</span>&nbsp;<span class="string" id="7390591">&#34;a&#34;</span><span class="op" id="7390594">,</span>&nbsp;<span class="string" id="7390596">&#34;r&#34;</span><span class="op" id="7390599">}</span><span class="op" id="7390600">}</span><span class="op" id="7390601">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390604">{</span><span class="string" id="7390605">&#34;foobar&#34;</span><span class="op" id="7390613">,</span>&nbsp;<span class="string" id="7390615">&#34;f+.*b+&#34;</span><span class="op" id="7390623">,</span>&nbsp;<span class="op" id="7390625">-</span><span class="num" id="7390626">1</span><span class="op" id="7390627">,</span>&nbsp;<span class="op" id="7390629">[</span><span class="op" id="7390630">]</span><span class="builtintype" id="7390631">string</span><span class="op" id="7390637">{</span><span class="string" id="7390638">&#34;&#34;</span><span class="op" id="7390640">,</span>&nbsp;<span class="string" id="7390642">&#34;ar&#34;</span><span class="op" id="7390646">}</span><span class="op" id="7390647">}</span><span class="op" id="7390648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390651">{</span><span class="string" id="7390652">&#34;foobooboar&#34;</span><span class="op" id="7390664">,</span>&nbsp;<span class="string" id="7390666">&#34;o{2}&#34;</span><span class="op" id="7390672">,</span>&nbsp;<span class="op" id="7390674">-</span><span class="num" id="7390675">1</span><span class="op" id="7390676">,</span>&nbsp;<span class="op" id="7390678">[</span><span class="op" id="7390679">]</span><span class="builtintype" id="7390680">string</span><span class="op" id="7390686">{</span><span class="string" id="7390687">&#34;f&#34;</span><span class="op" id="7390690">,</span>&nbsp;<span class="string" id="7390692">&#34;b&#34;</span><span class="op" id="7390695">,</span>&nbsp;<span class="string" id="7390697">&#34;boar&#34;</span><span class="op" id="7390703">}</span><span class="op" id="7390704">}</span><span class="op" id="7390705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390708">{</span><span class="string" id="7390709">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="7390722">,</span>&nbsp;<span class="string" id="7390724">&#34;,&#34;</span><span class="op" id="7390727">,</span>&nbsp;<span class="num" id="7390729">3</span><span class="op" id="7390730">,</span>&nbsp;<span class="op" id="7390732">[</span><span class="op" id="7390733">]</span><span class="builtintype" id="7390734">string</span><span class="op" id="7390740">{</span><span class="string" id="7390741">&#34;a&#34;</span><span class="op" id="7390744">,</span>&nbsp;<span class="string" id="7390746">&#34;b&#34;</span><span class="op" id="7390749">,</span>&nbsp;<span class="string" id="7390751">&#34;c,d,e,f&#34;</span><span class="op" id="7390760">}</span><span class="op" id="7390761">}</span><span class="op" id="7390762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390765">{</span><span class="string" id="7390766">&#34;a,b,c,d,e,f&#34;</span><span class="op" id="7390779">,</span>&nbsp;<span class="string" id="7390781">&#34;,&#34;</span><span class="op" id="7390784">,</span>&nbsp;<span class="num" id="7390786">0</span><span class="op" id="7390787">,</span>&nbsp;<span class="ident" id="7390789">nil</span><span class="op" id="7390792">}</span><span class="op" id="7390793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390796">{</span><span class="string" id="7390797">&#34;,&#34;</span><span class="op" id="7390800">,</span>&nbsp;<span class="string" id="7390802">&#34;,&#34;</span><span class="op" id="7390805">,</span>&nbsp;<span class="op" id="7390807">-</span><span class="num" id="7390808">1</span><span class="op" id="7390809">,</span>&nbsp;<span class="op" id="7390811">[</span><span class="op" id="7390812">]</span><span class="builtintype" id="7390813">string</span><span class="op" id="7390819">{</span><span class="string" id="7390820">&#34;&#34;</span><span class="op" id="7390822">,</span>&nbsp;<span class="string" id="7390824">&#34;&#34;</span><span class="op" id="7390826">}</span><span class="op" id="7390827">}</span><span class="op" id="7390828">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390831">{</span><span class="string" id="7390832">&#34;,,,&#34;</span><span class="op" id="7390837">,</span>&nbsp;<span class="string" id="7390839">&#34;,&#34;</span><span class="op" id="7390842">,</span>&nbsp;<span class="op" id="7390844">-</span><span class="num" id="7390845">1</span><span class="op" id="7390846">,</span>&nbsp;<span class="op" id="7390848">[</span><span class="op" id="7390849">]</span><span class="builtintype" id="7390850">string</span><span class="op" id="7390856">{</span><span class="string" id="7390857">&#34;&#34;</span><span class="op" id="7390859">,</span>&nbsp;<span class="string" id="7390861">&#34;&#34;</span><span class="op" id="7390863">,</span>&nbsp;<span class="string" id="7390865">&#34;&#34;</span><span class="op" id="7390867">,</span>&nbsp;<span class="string" id="7390869">&#34;&#34;</span><span class="op" id="7390871">}</span><span class="op" id="7390872">}</span><span class="op" id="7390873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390876">{</span><span class="string" id="7390877">&#34;&#34;</span><span class="op" id="7390879">,</span>&nbsp;<span class="string" id="7390881">&#34;,&#34;</span><span class="op" id="7390884">,</span>&nbsp;<span class="op" id="7390886">-</span><span class="num" id="7390887">1</span><span class="op" id="7390888">,</span>&nbsp;<span class="op" id="7390890">[</span><span class="op" id="7390891">]</span><span class="builtintype" id="7390892">string</span><span class="op" id="7390898">{</span><span class="string" id="7390899">&#34;&#34;</span><span class="op" id="7390901">}</span><span class="op" id="7390902">}</span><span class="op" id="7390903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390906">{</span><span class="string" id="7390907">&#34;&#34;</span><span class="op" id="7390909">,</span>&nbsp;<span class="string" id="7390911">&#34;.*&#34;</span><span class="op" id="7390915">,</span>&nbsp;<span class="op" id="7390917">-</span><span class="num" id="7390918">1</span><span class="op" id="7390919">,</span>&nbsp;<span class="op" id="7390921">[</span><span class="op" id="7390922">]</span><span class="builtintype" id="7390923">string</span><span class="op" id="7390929">{</span><span class="string" id="7390930">&#34;&#34;</span><span class="op" id="7390932">}</span><span class="op" id="7390933">}</span><span class="op" id="7390934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390937">{</span><span class="string" id="7390938">&#34;&#34;</span><span class="op" id="7390940">,</span>&nbsp;<span class="string" id="7390942">&#34;.+&#34;</span><span class="op" id="7390946">,</span>&nbsp;<span class="op" id="7390948">-</span><span class="num" id="7390949">1</span><span class="op" id="7390950">,</span>&nbsp;<span class="op" id="7390952">[</span><span class="op" id="7390953">]</span><span class="builtintype" id="7390954">string</span><span class="op" id="7390960">{</span><span class="string" id="7390961">&#34;&#34;</span><span class="op" id="7390963">}</span><span class="op" id="7390964">}</span><span class="op" id="7390965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390968">{</span><span class="string" id="7390969">&#34;&#34;</span><span class="op" id="7390971">,</span>&nbsp;<span class="string" id="7390973">&#34;&#34;</span><span class="op" id="7390975">,</span>&nbsp;<span class="op" id="7390977">-</span><span class="num" id="7390978">1</span><span class="op" id="7390979">,</span>&nbsp;<span class="op" id="7390981">[</span><span class="op" id="7390982">]</span><span class="builtintype" id="7390983">string</span><span class="op" id="7390989">{</span><span class="op" id="7390990">}</span><span class="op" id="7390991">}</span><span class="op" id="7390992">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7390995">{</span><span class="string" id="7390996">&#34;foobar&#34;</span><span class="op" id="7391004">,</span>&nbsp;<span class="string" id="7391006">&#34;&#34;</span><span class="op" id="7391008">,</span>&nbsp;<span class="op" id="7391010">-</span><span class="num" id="7391011">1</span><span class="op" id="7391012">,</span>&nbsp;<span class="op" id="7391014">[</span><span class="op" id="7391015">]</span><span class="builtintype" id="7391016">string</span><span class="op" id="7391022">{</span><span class="string" id="7391023">&#34;f&#34;</span><span class="op" id="7391026">,</span>&nbsp;<span class="string" id="7391028">&#34;o&#34;</span><span class="op" id="7391031">,</span>&nbsp;<span class="string" id="7391033">&#34;o&#34;</span><span class="op" id="7391036">,</span>&nbsp;<span class="string" id="7391038">&#34;b&#34;</span><span class="op" id="7391041">,</span>&nbsp;<span class="string" id="7391043">&#34;a&#34;</span><span class="op" id="7391046">,</span>&nbsp;<span class="string" id="7391048">&#34;r&#34;</span><span class="op" id="7391051">}</span><span class="op" id="7391052">}</span><span class="op" id="7391053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7391056">{</span><span class="string" id="7391057">&#34;abaabaccadaaae&#34;</span><span class="op" id="7391073">,</span>&nbsp;<span class="string" id="7391075">&#34;a*&#34;</span><span class="op" id="7391079">,</span>&nbsp;<span class="num" id="7391081">5</span><span class="op" id="7391082">,</span>&nbsp;<span class="op" id="7391084">[</span><span class="op" id="7391085">]</span><span class="builtintype" id="7391086">string</span><span class="op" id="7391092">{</span><span class="string" id="7391093">&#34;&#34;</span><span class="op" id="7391095">,</span>&nbsp;<span class="string" id="7391097">&#34;b&#34;</span><span class="op" id="7391100">,</span>&nbsp;<span class="string" id="7391102">&#34;b&#34;</span><span class="op" id="7391105">,</span>&nbsp;<span class="string" id="7391107">&#34;c&#34;</span><span class="op" id="7391110">,</span>&nbsp;<span class="string" id="7391112">&#34;cadaaae&#34;</span><span class="op" id="7391121">}</span><span class="op" id="7391122">}</span><span class="op" id="7391123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7391126">{</span><span class="string" id="7391127">&#34;:x:y:z:&#34;</span><span class="op" id="7391136">,</span>&nbsp;<span class="string" id="7391138">&#34;:&#34;</span><span class="op" id="7391141">,</span>&nbsp;<span class="op" id="7391143">-</span><span class="num" id="7391144">1</span><span class="op" id="7391145">,</span>&nbsp;<span class="op" id="7391147">[</span><span class="op" id="7391148">]</span><span class="builtintype" id="7391149">string</span><span class="op" id="7391155">{</span><span class="string" id="7391156">&#34;&#34;</span><span class="op" id="7391158">,</span>&nbsp;<span class="string" id="7391160">&#34;x&#34;</span><span class="op" id="7391163">,</span>&nbsp;<span class="string" id="7391165">&#34;y&#34;</span><span class="op" id="7391168">,</span>&nbsp;<span class="string" id="7391170">&#34;z&#34;</span><span class="op" id="7391173">,</span>&nbsp;<span class="string" id="7391175">&#34;&#34;</span><span class="op" id="7391177">}</span><span class="op" id="7391178">}</span><span class="op" id="7391179">,</span><br>
<span class="lineno"></span><span class="op" id="7391181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="7391184">func</span>&nbsp;<span class="ident" id="7391189">TestSplit</span><span class="op" id="7391198">(</span><span class="ident" id="7391199">t</span>&nbsp;<span class="op" id="7391201">*</span><span class="ident" id="7391202">testing</span><span class="op" id="7391209">.</span><span class="ident" id="7391210">T</span><span class="op" id="7391211">)</span>&nbsp;<span class="op" id="7391213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7391216">for</span>&nbsp;<span class="ident" id="7391220">i</span><span class="op" id="7391221">,</span>&nbsp;<span class="ident" id="7391223">test</span>&nbsp;<span class="op" id="7391228">:=</span>&nbsp;<span class="keyword" id="7391231">range</span>&nbsp;<span class="ident" id="7391237">splitTests</span>&nbsp;<span class="op" id="7391248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7391252">re</span><span class="op" id="7391254">,</span>&nbsp;<span class="ident" id="7391256">err</span>&nbsp;<span class="op" id="7391260">:=</span>&nbsp;<span class="ident" id="7391263">Compile</span><span class="op" id="7391270">(</span><span class="ident" id="7391271">test</span><span class="op" id="7391275">.</span><span class="ident" id="7391276">r</span><span class="op" id="7391277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7391281">if</span>&nbsp;<span class="ident" id="7391284">err</span>&nbsp;<span class="op" id="7391288">!=</span>&nbsp;<span class="ident" id="7391291">nil</span>&nbsp;<span class="op" id="7391295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7391300">t</span><span class="op" id="7391301">.</span><span class="ident" id="7391302">Errorf</span><span class="op" id="7391308">(</span><span class="string" id="7391309">&#34;#%d:&nbsp;%q:&nbsp;compile&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7391337">,</span>&nbsp;<span class="ident" id="7391339">i</span><span class="op" id="7391340">,</span>&nbsp;<span class="ident" id="7391342">test</span><span class="op" id="7391346">.</span><span class="ident" id="7391347">r</span><span class="op" id="7391348">,</span>&nbsp;<span class="ident" id="7391350">err</span><span class="op" id="7391353">.</span><span class="ident" id="7391354">Error</span><span class="op" id="7391359">(</span><span class="op" id="7391360">)</span><span class="op" id="7391361">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7391366">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7391377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7391382">split</span>&nbsp;<span class="op" id="7391388">:=</span>&nbsp;<span class="ident" id="7391391">re</span><span class="op" id="7391393">.</span><span class="ident" id="7391394">Split</span><span class="op" id="7391399">(</span><span class="ident" id="7391400">test</span><span class="op" id="7391404">.</span><span class="ident" id="7391405">s</span><span class="op" id="7391406">,</span>&nbsp;<span class="ident" id="7391408">test</span><span class="op" id="7391412">.</span><span class="ident" id="7391413">n</span><span class="op" id="7391414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7391418">if</span>&nbsp;<span class="op" id="7391421">!</span><span class="ident" id="7391422">reflect</span><span class="op" id="7391429">.</span><span class="ident" id="7391430">DeepEqual</span><span class="op" id="7391439">(</span><span class="ident" id="7391440">split</span><span class="op" id="7391445">,</span>&nbsp;<span class="ident" id="7391447">test</span><span class="op" id="7391451">.</span><span class="ident" id="7391452">out</span><span class="op" id="7391455">)</span>&nbsp;<span class="op" id="7391457">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7391462">t</span><span class="op" id="7391463">.</span><span class="ident" id="7391464">Errorf</span><span class="op" id="7391470">(</span><span class="string" id="7391471">&#34;#%d:&nbsp;%q:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7391497">,</span>&nbsp;<span class="ident" id="7391499">i</span><span class="op" id="7391500">,</span>&nbsp;<span class="ident" id="7391502">test</span><span class="op" id="7391506">.</span><span class="ident" id="7391507">r</span><span class="op" id="7391508">,</span>&nbsp;<span class="ident" id="7391510">split</span><span class="op" id="7391515">,</span>&nbsp;<span class="ident" id="7391517">test</span><span class="op" id="7391521">.</span><span class="ident" id="7391522">out</span><span class="op" id="7391525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7391529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7391534">if</span>&nbsp;<span class="ident" id="7391537">QuoteMeta</span><span class="op" id="7391546">(</span><span class="ident" id="7391547">test</span><span class="op" id="7391551">.</span><span class="ident" id="7391552">r</span><span class="op" id="7391553">)</span>&nbsp;<span class="op" id="7391555">==</span>&nbsp;<span class="ident" id="7391558">test</span><span class="op" id="7391562">.</span><span class="ident" id="7391563">r</span>&nbsp;<span class="op" id="7391565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7391570">strsplit</span>&nbsp;<span class="op" id="7391579">:=</span>&nbsp;<span class="ident" id="7391582">strings</span><span class="op" id="7391589">.</span><span class="ident" id="7391590">SplitN</span><span class="op" id="7391596">(</span><span class="ident" id="7391597">test</span><span class="op" id="7391601">.</span><span class="ident" id="7391602">s</span><span class="op" id="7391603">,</span>&nbsp;<span class="ident" id="7391605">test</span><span class="op" id="7391609">.</span><span class="ident" id="7391610">r</span><span class="op" id="7391611">,</span>&nbsp;<span class="ident" id="7391613">test</span><span class="op" id="7391617">.</span><span class="ident" id="7391618">n</span><span class="op" id="7391619">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7391624">if</span>&nbsp;<span class="op" id="7391627">!</span><span class="ident" id="7391628">reflect</span><span class="op" id="7391635">.</span><span class="ident" id="7391636">DeepEqual</span><span class="op" id="7391645">(</span><span class="ident" id="7391646">split</span><span class="op" id="7391651">,</span>&nbsp;<span class="ident" id="7391653">strsplit</span><span class="op" id="7391661">)</span>&nbsp;<span class="op" id="7391663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7391669">t</span><span class="op" id="7391670">.</span><span class="ident" id="7391671">Errorf</span><span class="op" id="7391677">(</span><span class="string" id="7391678">&#34;#%d:&nbsp;Split(%q,&nbsp;%q,&nbsp;%d):&nbsp;regexp&nbsp;vs&nbsp;strings&nbsp;mismatch\nregexp=%q\nstrings=%q&#34;</span><span class="op" id="7391753">,</span>&nbsp;<span class="ident" id="7391755">i</span><span class="op" id="7391756">,</span>&nbsp;<span class="ident" id="7391758">test</span><span class="op" id="7391762">.</span><span class="ident" id="7391763">s</span><span class="op" id="7391764">,</span>&nbsp;<span class="ident" id="7391766">test</span><span class="op" id="7391770">.</span><span class="ident" id="7391771">r</span><span class="op" id="7391772">,</span>&nbsp;<span class="ident" id="7391774">test</span><span class="op" id="7391778">.</span><span class="ident" id="7391779">n</span><span class="op" id="7391780">,</span>&nbsp;<span class="ident" id="7391782">split</span><span class="op" id="7391787">,</span>&nbsp;<span class="ident" id="7391789">strsplit</span><span class="op" id="7391797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7391802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7391806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7391809">}</span><br>
<span class="lineno">475</span><span class="op" id="7391811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7391814">//&nbsp;Check&nbsp;that&nbsp;one-pass&nbsp;cutoff&nbsp;does&nbsp;trigger.</span><br>
<span class="lineno"></span><span class="keyword" id="7391858">func</span>&nbsp;<span class="ident" id="7391863">TestOnePassCutoff</span><span class="op" id="7391880">(</span><span class="ident" id="7391881">t</span>&nbsp;<span class="op" id="7391883">*</span><span class="ident" id="7391884">testing</span><span class="op" id="7391891">.</span><span class="ident" id="7391892">T</span><span class="op" id="7391893">)</span>&nbsp;<span class="op" id="7391895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7391898">re</span><span class="op" id="7391900">,</span>&nbsp;<span class="ident" id="7391902">err</span>&nbsp;<span class="op" id="7391906">:=</span>&nbsp;<span class="ident" id="7391909">syntax</span><span class="op" id="7391915">.</span><span class="ident" id="7391916">Parse</span><span class="op" id="7391921">(</span><span class="string" id="7391922">`^x{1,1000}y{1,1000}$`</span><span class="op" id="7391944">,</span>&nbsp;<span class="ident" id="7391946">syntax</span><span class="op" id="7391952">.</span><span class="ident" id="7391953">Perl</span><span class="op" id="7391957">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7391960">if</span>&nbsp;<span class="ident" id="7391963">err</span>&nbsp;<span class="op" id="7391967">!=</span>&nbsp;<span class="ident" id="7391970">nil</span>&nbsp;<span class="op" id="7391974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7391978">t</span><span class="op" id="7391979">.</span><span class="ident" id="7391980">Fatalf</span><span class="op" id="7391986">(</span><span class="string" id="7391987">&#34;parse:&nbsp;%v&#34;</span><span class="op" id="7391998">,</span>&nbsp;<span class="ident" id="7392000">err</span><span class="op" id="7392003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7392006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392009">p</span><span class="op" id="7392010">,</span>&nbsp;<span class="ident" id="7392012">err</span>&nbsp;<span class="op" id="7392016">:=</span>&nbsp;<span class="ident" id="7392019">syntax</span><span class="op" id="7392025">.</span><span class="ident" id="7392026">Compile</span><span class="op" id="7392033">(</span><span class="ident" id="7392034">re</span><span class="op" id="7392036">.</span><span class="ident" id="7392037">Simplify</span><span class="op" id="7392045">(</span><span class="op" id="7392046">)</span><span class="op" id="7392047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7392050">if</span>&nbsp;<span class="ident" id="7392053">err</span>&nbsp;<span class="op" id="7392057">!=</span>&nbsp;<span class="ident" id="7392060">nil</span>&nbsp;<span class="op" id="7392064">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392068">t</span><span class="op" id="7392069">.</span><span class="ident" id="7392070">Fatalf</span><span class="op" id="7392076">(</span><span class="string" id="7392077">&#34;compile:&nbsp;%v&#34;</span><span class="op" id="7392090">,</span>&nbsp;<span class="ident" id="7392092">err</span><span class="op" id="7392095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7392098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7392101">if</span>&nbsp;<span class="ident" id="7392104">compileOnePass</span><span class="op" id="7392118">(</span><span class="ident" id="7392119">p</span><span class="op" id="7392120">)</span>&nbsp;<span class="op" id="7392122">!=</span>&nbsp;<span class="ident" id="7392125">notOnePass</span>&nbsp;<span class="op" id="7392136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392140">t</span><span class="op" id="7392141">.</span><span class="ident" id="7392142">Fatalf</span><span class="op" id="7392148">(</span><span class="string" id="7392149">&#34;makeOnePass&nbsp;succeeded;&nbsp;wanted&nbsp;notOnePass&#34;</span><span class="op" id="7392191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7392194">}</span><br>
<span class="lineno">490</span><span class="op" id="7392196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7392199">func</span>&nbsp;<span class="ident" id="7392204">BenchmarkLiteral</span><span class="op" id="7392220">(</span><span class="ident" id="7392221">b</span>&nbsp;<span class="op" id="7392223">*</span><span class="ident" id="7392224">testing</span><span class="op" id="7392231">.</span><span class="ident" id="7392232">B</span><span class="op" id="7392233">)</span>&nbsp;<span class="op" id="7392235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392238">x</span>&nbsp;<span class="op" id="7392240">:=</span>&nbsp;<span class="ident" id="7392243">strings</span><span class="op" id="7392250">.</span><span class="ident" id="7392251">Repeat</span><span class="op" id="7392257">(</span><span class="string" id="7392258">&#34;x&#34;</span><span class="op" id="7392261">,</span>&nbsp;<span class="num" id="7392263">50</span><span class="op" id="7392265">)</span>&nbsp;<span class="op" id="7392267">+</span>&nbsp;<span class="string" id="7392269">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392274">b</span><span class="op" id="7392275">.</span><span class="ident" id="7392276">StopTimer</span><span class="op" id="7392285">(</span><span class="op" id="7392286">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392289">re</span>&nbsp;<span class="op" id="7392292">:=</span>&nbsp;<span class="ident" id="7392295">MustCompile</span><span class="op" id="7392306">(</span><span class="string" id="7392307">&#34;y&#34;</span><span class="op" id="7392310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392313">b</span><span class="op" id="7392314">.</span><span class="ident" id="7392315">StartTimer</span><span class="op" id="7392325">(</span><span class="op" id="7392326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7392329">for</span>&nbsp;<span class="ident" id="7392333">i</span>&nbsp;<span class="op" id="7392335">:=</span>&nbsp;<span class="num" id="7392338">0</span><span class="op" id="7392339">;</span>&nbsp;<span class="ident" id="7392341">i</span>&nbsp;<span class="op" id="7392343">&lt;</span>&nbsp;<span class="ident" id="7392345">b</span><span class="op" id="7392346">.</span><span class="ident" id="7392347">N</span><span class="op" id="7392348">;</span>&nbsp;<span class="ident" id="7392350">i</span><span class="op" id="7392351">++</span>&nbsp;<span class="op" id="7392354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7392358">if</span>&nbsp;<span class="op" id="7392361">!</span><span class="ident" id="7392362">re</span><span class="op" id="7392364">.</span><span class="ident" id="7392365">MatchString</span><span class="op" id="7392376">(</span><span class="ident" id="7392377">x</span><span class="op" id="7392378">)</span>&nbsp;<span class="op" id="7392380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392385">b</span><span class="op" id="7392386">.</span><span class="ident" id="7392387">Fatalf</span><span class="op" id="7392393">(</span><span class="string" id="7392394">&#34;no&nbsp;match!&#34;</span><span class="op" id="7392405">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7392409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7392412">}</span><br>
<span class="lineno"></span><span class="op" id="7392414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7392417">func</span>&nbsp;<span class="ident" id="7392422">BenchmarkNotLiteral</span><span class="op" id="7392441">(</span><span class="ident" id="7392442">b</span>&nbsp;<span class="op" id="7392444">*</span><span class="ident" id="7392445">testing</span><span class="op" id="7392452">.</span><span class="ident" id="7392453">B</span><span class="op" id="7392454">)</span>&nbsp;<span class="op" id="7392456">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392459">x</span>&nbsp;<span class="op" id="7392461">:=</span>&nbsp;<span class="ident" id="7392464">strings</span><span class="op" id="7392471">.</span><span class="ident" id="7392472">Repeat</span><span class="op" id="7392478">(</span><span class="string" id="7392479">&#34;x&#34;</span><span class="op" id="7392482">,</span>&nbsp;<span class="num" id="7392484">50</span><span class="op" id="7392486">)</span>&nbsp;<span class="op" id="7392488">+</span>&nbsp;<span class="string" id="7392490">&#34;y&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392495">b</span><span class="op" id="7392496">.</span><span class="ident" id="7392497">StopTimer</span><span class="op" id="7392506">(</span><span class="op" id="7392507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392510">re</span>&nbsp;<span class="op" id="7392513">:=</span>&nbsp;<span class="ident" id="7392516">MustCompile</span><span class="op" id="7392527">(</span><span class="string" id="7392528">&#34;.y&#34;</span><span class="op" id="7392532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392535">b</span><span class="op" id="7392536">.</span><span class="ident" id="7392537">StartTimer</span><span class="op" id="7392547">(</span><span class="op" id="7392548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7392551">for</span>&nbsp;<span class="ident" id="7392555">i</span>&nbsp;<span class="op" id="7392557">:=</span>&nbsp;<span class="num" id="7392560">0</span><span class="op" id="7392561">;</span>&nbsp;<span class="ident" id="7392563">i</span>&nbsp;<span class="op" id="7392565">&lt;</span>&nbsp;<span class="ident" id="7392567">b</span><span class="op" id="7392568">.</span><span class="ident" id="7392569">N</span><span class="op" id="7392570">;</span>&nbsp;<span class="ident" id="7392572">i</span><span class="op" id="7392573">++</span>&nbsp;<span class="op" id="7392576">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7392580">if</span>&nbsp;<span class="op" id="7392583">!</span><span class="ident" id="7392584">re</span><span class="op" id="7392586">.</span><span class="ident" id="7392587">MatchString</span><span class="op" id="7392598">(</span><span class="ident" id="7392599">x</span><span class="op" id="7392600">)</span>&nbsp;<span class="op" id="7392602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392607">b</span><span class="op" id="7392608">.</span><span class="ident" id="7392609">Fatalf</span><span class="op" id="7392615">(</span><span class="string" id="7392616">&#34;no&nbsp;match!&#34;</span><span class="op" id="7392627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7392631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7392634">}</span><br>
<span class="lineno"></span><span class="op" id="7392636">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="keyword" id="7392639">func</span>&nbsp;<span class="ident" id="7392644">BenchmarkMatchClass</span><span class="op" id="7392663">(</span><span class="ident" id="7392664">b</span>&nbsp;<span class="op" id="7392666">*</span><span class="ident" id="7392667">testing</span><span class="op" id="7392674">.</span><span class="ident" id="7392675">B</span><span class="op" id="7392676">)</span>&nbsp;<span class="op" id="7392678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392681">b</span><span class="op" id="7392682">.</span><span class="ident" id="7392683">StopTimer</span><span class="op" id="7392692">(</span><span class="op" id="7392693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392696">x</span>&nbsp;<span class="op" id="7392698">:=</span>&nbsp;<span class="ident" id="7392701">strings</span><span class="op" id="7392708">.</span><span class="ident" id="7392709">Repeat</span><span class="op" id="7392715">(</span><span class="string" id="7392716">&#34;xxxx&#34;</span><span class="op" id="7392722">,</span>&nbsp;<span class="num" id="7392724">20</span><span class="op" id="7392726">)</span>&nbsp;<span class="op" id="7392728">+</span>&nbsp;<span class="string" id="7392730">&#34;w&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392735">re</span>&nbsp;<span class="op" id="7392738">:=</span>&nbsp;<span class="ident" id="7392741">MustCompile</span><span class="op" id="7392752">(</span><span class="string" id="7392753">&#34;[abcdw]&#34;</span><span class="op" id="7392762">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392765">b</span><span class="op" id="7392766">.</span><span class="ident" id="7392767">StartTimer</span><span class="op" id="7392777">(</span><span class="op" id="7392778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7392781">for</span>&nbsp;<span class="ident" id="7392785">i</span>&nbsp;<span class="op" id="7392787">:=</span>&nbsp;<span class="num" id="7392790">0</span><span class="op" id="7392791">;</span>&nbsp;<span class="ident" id="7392793">i</span>&nbsp;<span class="op" id="7392795">&lt;</span>&nbsp;<span class="ident" id="7392797">b</span><span class="op" id="7392798">.</span><span class="ident" id="7392799">N</span><span class="op" id="7392800">;</span>&nbsp;<span class="ident" id="7392802">i</span><span class="op" id="7392803">++</span>&nbsp;<span class="op" id="7392806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7392810">if</span>&nbsp;<span class="op" id="7392813">!</span><span class="ident" id="7392814">re</span><span class="op" id="7392816">.</span><span class="ident" id="7392817">MatchString</span><span class="op" id="7392828">(</span><span class="ident" id="7392829">x</span><span class="op" id="7392830">)</span>&nbsp;<span class="op" id="7392832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392837">b</span><span class="op" id="7392838">.</span><span class="ident" id="7392839">Fatalf</span><span class="op" id="7392845">(</span><span class="string" id="7392846">&#34;no&nbsp;match!&#34;</span><span class="op" id="7392857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7392861">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7392864">}</span><br>
<span class="lineno"></span><span class="op" id="7392866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7392869">func</span>&nbsp;<span class="ident" id="7392874">BenchmarkMatchClass_InRange</span><span class="op" id="7392901">(</span><span class="ident" id="7392902">b</span>&nbsp;<span class="op" id="7392904">*</span><span class="ident" id="7392905">testing</span><span class="op" id="7392912">.</span><span class="ident" id="7392913">B</span><span class="op" id="7392914">)</span>&nbsp;<span class="op" id="7392916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7392919">b</span><span class="op" id="7392920">.</span><span class="ident" id="7392921">StopTimer</span><span class="op" id="7392930">(</span><span class="op" id="7392931">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7392934">//&nbsp;&#39;b&#39;&nbsp;is&nbsp;between&nbsp;&#39;a&#39;&nbsp;and&nbsp;&#39;c&#39;,&nbsp;so&nbsp;the&nbsp;charclass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7392983">//&nbsp;range&nbsp;checking&nbsp;is&nbsp;no&nbsp;help&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393019">x</span>&nbsp;<span class="op" id="7393021">:=</span>&nbsp;<span class="ident" id="7393024">strings</span><span class="op" id="7393031">.</span><span class="ident" id="7393032">Repeat</span><span class="op" id="7393038">(</span><span class="string" id="7393039">&#34;bbbb&#34;</span><span class="op" id="7393045">,</span>&nbsp;<span class="num" id="7393047">20</span><span class="op" id="7393049">)</span>&nbsp;<span class="op" id="7393051">+</span>&nbsp;<span class="string" id="7393053">&#34;c&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393058">re</span>&nbsp;<span class="op" id="7393061">:=</span>&nbsp;<span class="ident" id="7393064">MustCompile</span><span class="op" id="7393075">(</span><span class="string" id="7393076">&#34;[ac]&#34;</span><span class="op" id="7393082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393085">b</span><span class="op" id="7393086">.</span><span class="ident" id="7393087">StartTimer</span><span class="op" id="7393097">(</span><span class="op" id="7393098">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7393101">for</span>&nbsp;<span class="ident" id="7393105">i</span>&nbsp;<span class="op" id="7393107">:=</span>&nbsp;<span class="num" id="7393110">0</span><span class="op" id="7393111">;</span>&nbsp;<span class="ident" id="7393113">i</span>&nbsp;<span class="op" id="7393115">&lt;</span>&nbsp;<span class="ident" id="7393117">b</span><span class="op" id="7393118">.</span><span class="ident" id="7393119">N</span><span class="op" id="7393120">;</span>&nbsp;<span class="ident" id="7393122">i</span><span class="op" id="7393123">++</span>&nbsp;<span class="op" id="7393126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7393130">if</span>&nbsp;<span class="op" id="7393133">!</span><span class="ident" id="7393134">re</span><span class="op" id="7393136">.</span><span class="ident" id="7393137">MatchString</span><span class="op" id="7393148">(</span><span class="ident" id="7393149">x</span><span class="op" id="7393150">)</span>&nbsp;<span class="op" id="7393152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393157">b</span><span class="op" id="7393158">.</span><span class="ident" id="7393159">Fatalf</span><span class="op" id="7393165">(</span><span class="string" id="7393166">&#34;no&nbsp;match!&#34;</span><span class="op" id="7393177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7393181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7393184">}</span><br>
<span class="lineno">540</span><span class="op" id="7393186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7393189">func</span>&nbsp;<span class="ident" id="7393194">BenchmarkReplaceAll</span><span class="op" id="7393213">(</span><span class="ident" id="7393214">b</span>&nbsp;<span class="op" id="7393216">*</span><span class="ident" id="7393217">testing</span><span class="op" id="7393224">.</span><span class="ident" id="7393225">B</span><span class="op" id="7393226">)</span>&nbsp;<span class="op" id="7393228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393231">x</span>&nbsp;<span class="op" id="7393233">:=</span>&nbsp;<span class="string" id="7393236">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393266">b</span><span class="op" id="7393267">.</span><span class="ident" id="7393268">StopTimer</span><span class="op" id="7393277">(</span><span class="op" id="7393278">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393281">re</span>&nbsp;<span class="op" id="7393284">:=</span>&nbsp;<span class="ident" id="7393287">MustCompile</span><span class="op" id="7393298">(</span><span class="string" id="7393299">&#34;[cjrw]&#34;</span><span class="op" id="7393307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393310">b</span><span class="op" id="7393311">.</span><span class="ident" id="7393312">StartTimer</span><span class="op" id="7393322">(</span><span class="op" id="7393323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7393326">for</span>&nbsp;<span class="ident" id="7393330">i</span>&nbsp;<span class="op" id="7393332">:=</span>&nbsp;<span class="num" id="7393335">0</span><span class="op" id="7393336">;</span>&nbsp;<span class="ident" id="7393338">i</span>&nbsp;<span class="op" id="7393340">&lt;</span>&nbsp;<span class="ident" id="7393342">b</span><span class="op" id="7393343">.</span><span class="ident" id="7393344">N</span><span class="op" id="7393345">;</span>&nbsp;<span class="ident" id="7393347">i</span><span class="op" id="7393348">++</span>&nbsp;<span class="op" id="7393351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393355">re</span><span class="op" id="7393357">.</span><span class="ident" id="7393358">ReplaceAllString</span><span class="op" id="7393374">(</span><span class="ident" id="7393375">x</span><span class="op" id="7393376">,</span>&nbsp;<span class="string" id="7393378">&#34;&#34;</span><span class="op" id="7393380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7393383">}</span><br>
<span class="lineno">550</span><span class="op" id="7393385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7393388">func</span>&nbsp;<span class="ident" id="7393393">BenchmarkAnchoredLiteralShortNonMatch</span><span class="op" id="7393430">(</span><span class="ident" id="7393431">b</span>&nbsp;<span class="op" id="7393433">*</span><span class="ident" id="7393434">testing</span><span class="op" id="7393441">.</span><span class="ident" id="7393442">B</span><span class="op" id="7393443">)</span>&nbsp;<span class="op" id="7393445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393448">b</span><span class="op" id="7393449">.</span><span class="ident" id="7393450">StopTimer</span><span class="op" id="7393459">(</span><span class="op" id="7393460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393463">x</span>&nbsp;<span class="op" id="7393465">:=</span>&nbsp;<span class="op" id="7393468">[</span><span class="op" id="7393469">]</span><span class="builtintype" id="7393470">byte</span><span class="op" id="7393474">(</span><span class="string" id="7393475">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7393503">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393506">re</span>&nbsp;<span class="op" id="7393509">:=</span>&nbsp;<span class="ident" id="7393512">MustCompile</span><span class="op" id="7393523">(</span><span class="string" id="7393524">&#34;^zbc(d|e)&#34;</span><span class="op" id="7393535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393538">b</span><span class="op" id="7393539">.</span><span class="ident" id="7393540">StartTimer</span><span class="op" id="7393550">(</span><span class="op" id="7393551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7393554">for</span>&nbsp;<span class="ident" id="7393558">i</span>&nbsp;<span class="op" id="7393560">:=</span>&nbsp;<span class="num" id="7393563">0</span><span class="op" id="7393564">;</span>&nbsp;<span class="ident" id="7393566">i</span>&nbsp;<span class="op" id="7393568">&lt;</span>&nbsp;<span class="ident" id="7393570">b</span><span class="op" id="7393571">.</span><span class="ident" id="7393572">N</span><span class="op" id="7393573">;</span>&nbsp;<span class="ident" id="7393575">i</span><span class="op" id="7393576">++</span>&nbsp;<span class="op" id="7393579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393583">re</span><span class="op" id="7393585">.</span><span class="ident" id="7393586">Match</span><span class="op" id="7393591">(</span><span class="ident" id="7393592">x</span><span class="op" id="7393593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7393596">}</span><br>
<span class="lineno">560</span><span class="op" id="7393598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7393601">func</span>&nbsp;<span class="ident" id="7393606">BenchmarkAnchoredLiteralLongNonMatch</span><span class="op" id="7393642">(</span><span class="ident" id="7393643">b</span>&nbsp;<span class="op" id="7393645">*</span><span class="ident" id="7393646">testing</span><span class="op" id="7393653">.</span><span class="ident" id="7393654">B</span><span class="op" id="7393655">)</span>&nbsp;<span class="op" id="7393657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393660">b</span><span class="op" id="7393661">.</span><span class="ident" id="7393662">StopTimer</span><span class="op" id="7393671">(</span><span class="op" id="7393672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393675">x</span>&nbsp;<span class="op" id="7393677">:=</span>&nbsp;<span class="op" id="7393680">[</span><span class="op" id="7393681">]</span><span class="builtintype" id="7393682">byte</span><span class="op" id="7393686">(</span><span class="string" id="7393687">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7393715">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7393718">for</span>&nbsp;<span class="ident" id="7393722">i</span>&nbsp;<span class="op" id="7393724">:=</span>&nbsp;<span class="num" id="7393727">0</span><span class="op" id="7393728">;</span>&nbsp;<span class="ident" id="7393730">i</span>&nbsp;<span class="op" id="7393732">&lt;</span>&nbsp;<span class="num" id="7393734">15</span><span class="op" id="7393736">;</span>&nbsp;<span class="ident" id="7393738">i</span><span class="op" id="7393739">++</span>&nbsp;<span class="op" id="7393742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393746">x</span>&nbsp;<span class="op" id="7393748">=</span>&nbsp;<span class="builtinfunc" id="7393750">append</span><span class="op" id="7393756">(</span><span class="ident" id="7393757">x</span><span class="op" id="7393758">,</span>&nbsp;<span class="ident" id="7393760">x</span><span class="op" id="7393761">...</span><span class="op" id="7393764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7393767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393770">re</span>&nbsp;<span class="op" id="7393773">:=</span>&nbsp;<span class="ident" id="7393776">MustCompile</span><span class="op" id="7393787">(</span><span class="string" id="7393788">&#34;^zbc(d|e)&#34;</span><span class="op" id="7393799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393802">b</span><span class="op" id="7393803">.</span><span class="ident" id="7393804">StartTimer</span><span class="op" id="7393814">(</span><span class="op" id="7393815">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7393818">for</span>&nbsp;<span class="ident" id="7393822">i</span>&nbsp;<span class="op" id="7393824">:=</span>&nbsp;<span class="num" id="7393827">0</span><span class="op" id="7393828">;</span>&nbsp;<span class="ident" id="7393830">i</span>&nbsp;<span class="op" id="7393832">&lt;</span>&nbsp;<span class="ident" id="7393834">b</span><span class="op" id="7393835">.</span><span class="ident" id="7393836">N</span><span class="op" id="7393837">;</span>&nbsp;<span class="ident" id="7393839">i</span><span class="op" id="7393840">++</span>&nbsp;<span class="op" id="7393843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393847">re</span><span class="op" id="7393849">.</span><span class="ident" id="7393850">Match</span><span class="op" id="7393855">(</span><span class="ident" id="7393856">x</span><span class="op" id="7393857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7393860">}</span><br>
<span class="lineno"></span><span class="op" id="7393862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="7393865">func</span>&nbsp;<span class="ident" id="7393870">BenchmarkAnchoredShortMatch</span><span class="op" id="7393897">(</span><span class="ident" id="7393898">b</span>&nbsp;<span class="op" id="7393900">*</span><span class="ident" id="7393901">testing</span><span class="op" id="7393908">.</span><span class="ident" id="7393909">B</span><span class="op" id="7393910">)</span>&nbsp;<span class="op" id="7393912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393915">b</span><span class="op" id="7393916">.</span><span class="ident" id="7393917">StopTimer</span><span class="op" id="7393926">(</span><span class="op" id="7393927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393930">x</span>&nbsp;<span class="op" id="7393932">:=</span>&nbsp;<span class="op" id="7393935">[</span><span class="op" id="7393936">]</span><span class="builtintype" id="7393937">byte</span><span class="op" id="7393941">(</span><span class="string" id="7393942">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7393970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7393973">re</span>&nbsp;<span class="op" id="7393976">:=</span>&nbsp;<span class="ident" id="7393979">MustCompile</span><span class="op" id="7393990">(</span><span class="string" id="7393991">&#34;^.bc(d|e)&#34;</span><span class="op" id="7394002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394005">b</span><span class="op" id="7394006">.</span><span class="ident" id="7394007">StartTimer</span><span class="op" id="7394017">(</span><span class="op" id="7394018">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7394021">for</span>&nbsp;<span class="ident" id="7394025">i</span>&nbsp;<span class="op" id="7394027">:=</span>&nbsp;<span class="num" id="7394030">0</span><span class="op" id="7394031">;</span>&nbsp;<span class="ident" id="7394033">i</span>&nbsp;<span class="op" id="7394035">&lt;</span>&nbsp;<span class="ident" id="7394037">b</span><span class="op" id="7394038">.</span><span class="ident" id="7394039">N</span><span class="op" id="7394040">;</span>&nbsp;<span class="ident" id="7394042">i</span><span class="op" id="7394043">++</span>&nbsp;<span class="op" id="7394046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394050">re</span><span class="op" id="7394052">.</span><span class="ident" id="7394053">Match</span><span class="op" id="7394058">(</span><span class="ident" id="7394059">x</span><span class="op" id="7394060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7394063">}</span><br>
<span class="lineno"></span><span class="op" id="7394065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7394068">func</span>&nbsp;<span class="ident" id="7394073">BenchmarkAnchoredLongMatch</span><span class="op" id="7394099">(</span><span class="ident" id="7394100">b</span>&nbsp;<span class="op" id="7394102">*</span><span class="ident" id="7394103">testing</span><span class="op" id="7394110">.</span><span class="ident" id="7394111">B</span><span class="op" id="7394112">)</span>&nbsp;<span class="op" id="7394114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394117">b</span><span class="op" id="7394118">.</span><span class="ident" id="7394119">StopTimer</span><span class="op" id="7394128">(</span><span class="op" id="7394129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394132">x</span>&nbsp;<span class="op" id="7394134">:=</span>&nbsp;<span class="op" id="7394137">[</span><span class="op" id="7394138">]</span><span class="builtintype" id="7394139">byte</span><span class="op" id="7394143">(</span><span class="string" id="7394144">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7394172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7394175">for</span>&nbsp;<span class="ident" id="7394179">i</span>&nbsp;<span class="op" id="7394181">:=</span>&nbsp;<span class="num" id="7394184">0</span><span class="op" id="7394185">;</span>&nbsp;<span class="ident" id="7394187">i</span>&nbsp;<span class="op" id="7394189">&lt;</span>&nbsp;<span class="num" id="7394191">15</span><span class="op" id="7394193">;</span>&nbsp;<span class="ident" id="7394195">i</span><span class="op" id="7394196">++</span>&nbsp;<span class="op" id="7394199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394203">x</span>&nbsp;<span class="op" id="7394205">=</span>&nbsp;<span class="builtinfunc" id="7394207">append</span><span class="op" id="7394213">(</span><span class="ident" id="7394214">x</span><span class="op" id="7394215">,</span>&nbsp;<span class="ident" id="7394217">x</span><span class="op" id="7394218">...</span><span class="op" id="7394221">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7394224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394227">re</span>&nbsp;<span class="op" id="7394230">:=</span>&nbsp;<span class="ident" id="7394233">MustCompile</span><span class="op" id="7394244">(</span><span class="string" id="7394245">&#34;^.bc(d|e)&#34;</span><span class="op" id="7394256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394259">b</span><span class="op" id="7394260">.</span><span class="ident" id="7394261">StartTimer</span><span class="op" id="7394271">(</span><span class="op" id="7394272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7394275">for</span>&nbsp;<span class="ident" id="7394279">i</span>&nbsp;<span class="op" id="7394281">:=</span>&nbsp;<span class="num" id="7394284">0</span><span class="op" id="7394285">;</span>&nbsp;<span class="ident" id="7394287">i</span>&nbsp;<span class="op" id="7394289">&lt;</span>&nbsp;<span class="ident" id="7394291">b</span><span class="op" id="7394292">.</span><span class="ident" id="7394293">N</span><span class="op" id="7394294">;</span>&nbsp;<span class="ident" id="7394296">i</span><span class="op" id="7394297">++</span>&nbsp;<span class="op" id="7394300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394304">re</span><span class="op" id="7394306">.</span><span class="ident" id="7394307">Match</span><span class="op" id="7394312">(</span><span class="ident" id="7394313">x</span><span class="op" id="7394314">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7394317">}</span><br>
<span class="lineno"></span><span class="op" id="7394319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7394322">func</span>&nbsp;<span class="ident" id="7394327">BenchmarkOnePassShortA</span><span class="op" id="7394349">(</span><span class="ident" id="7394350">b</span>&nbsp;<span class="op" id="7394352">*</span><span class="ident" id="7394353">testing</span><span class="op" id="7394360">.</span><span class="ident" id="7394361">B</span><span class="op" id="7394362">)</span>&nbsp;<span class="op" id="7394364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394367">b</span><span class="op" id="7394368">.</span><span class="ident" id="7394369">StopTimer</span><span class="op" id="7394378">(</span><span class="op" id="7394379">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394382">x</span>&nbsp;<span class="op" id="7394384">:=</span>&nbsp;<span class="op" id="7394387">[</span><span class="op" id="7394388">]</span><span class="builtintype" id="7394389">byte</span><span class="op" id="7394393">(</span><span class="string" id="7394394">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7394413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394416">re</span>&nbsp;<span class="op" id="7394419">:=</span>&nbsp;<span class="ident" id="7394422">MustCompile</span><span class="op" id="7394433">(</span><span class="string" id="7394434">&#34;^.bc(d|e)*$&#34;</span><span class="op" id="7394447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394450">b</span><span class="op" id="7394451">.</span><span class="ident" id="7394452">StartTimer</span><span class="op" id="7394462">(</span><span class="op" id="7394463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7394466">for</span>&nbsp;<span class="ident" id="7394470">i</span>&nbsp;<span class="op" id="7394472">:=</span>&nbsp;<span class="num" id="7394475">0</span><span class="op" id="7394476">;</span>&nbsp;<span class="ident" id="7394478">i</span>&nbsp;<span class="op" id="7394480">&lt;</span>&nbsp;<span class="ident" id="7394482">b</span><span class="op" id="7394483">.</span><span class="ident" id="7394484">N</span><span class="op" id="7394485">;</span>&nbsp;<span class="ident" id="7394487">i</span><span class="op" id="7394488">++</span>&nbsp;<span class="op" id="7394491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394495">re</span><span class="op" id="7394497">.</span><span class="ident" id="7394498">Match</span><span class="op" id="7394503">(</span><span class="ident" id="7394504">x</span><span class="op" id="7394505">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7394508">}</span><br>
<span class="lineno"></span><span class="op" id="7394510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7394513">func</span>&nbsp;<span class="ident" id="7394518">BenchmarkNotOnePassShortA</span><span class="op" id="7394543">(</span><span class="ident" id="7394544">b</span>&nbsp;<span class="op" id="7394546">*</span><span class="ident" id="7394547">testing</span><span class="op" id="7394554">.</span><span class="ident" id="7394555">B</span><span class="op" id="7394556">)</span>&nbsp;<span class="op" id="7394558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394561">b</span><span class="op" id="7394562">.</span><span class="ident" id="7394563">StopTimer</span><span class="op" id="7394572">(</span><span class="op" id="7394573">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394576">x</span>&nbsp;<span class="op" id="7394578">:=</span>&nbsp;<span class="op" id="7394581">[</span><span class="op" id="7394582">]</span><span class="builtintype" id="7394583">byte</span><span class="op" id="7394587">(</span><span class="string" id="7394588">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7394607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394610">re</span>&nbsp;<span class="op" id="7394613">:=</span>&nbsp;<span class="ident" id="7394616">MustCompile</span><span class="op" id="7394627">(</span><span class="string" id="7394628">&#34;.bc(d|e)*$&#34;</span><span class="op" id="7394640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394643">b</span><span class="op" id="7394644">.</span><span class="ident" id="7394645">StartTimer</span><span class="op" id="7394655">(</span><span class="op" id="7394656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7394659">for</span>&nbsp;<span class="ident" id="7394663">i</span>&nbsp;<span class="op" id="7394665">:=</span>&nbsp;<span class="num" id="7394668">0</span><span class="op" id="7394669">;</span>&nbsp;<span class="ident" id="7394671">i</span>&nbsp;<span class="op" id="7394673">&lt;</span>&nbsp;<span class="ident" id="7394675">b</span><span class="op" id="7394676">.</span><span class="ident" id="7394677">N</span><span class="op" id="7394678">;</span>&nbsp;<span class="ident" id="7394680">i</span><span class="op" id="7394681">++</span>&nbsp;<span class="op" id="7394684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394688">re</span><span class="op" id="7394690">.</span><span class="ident" id="7394691">Match</span><span class="op" id="7394696">(</span><span class="ident" id="7394697">x</span><span class="op" id="7394698">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7394701">}</span><br>
<span class="lineno"></span><span class="op" id="7394703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7394706">func</span>&nbsp;<span class="ident" id="7394711">BenchmarkOnePassShortB</span><span class="op" id="7394733">(</span><span class="ident" id="7394734">b</span>&nbsp;<span class="op" id="7394736">*</span><span class="ident" id="7394737">testing</span><span class="op" id="7394744">.</span><span class="ident" id="7394745">B</span><span class="op" id="7394746">)</span>&nbsp;<span class="op" id="7394748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394751">b</span><span class="op" id="7394752">.</span><span class="ident" id="7394753">StopTimer</span><span class="op" id="7394762">(</span><span class="op" id="7394763">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394766">x</span>&nbsp;<span class="op" id="7394768">:=</span>&nbsp;<span class="op" id="7394771">[</span><span class="op" id="7394772">]</span><span class="builtintype" id="7394773">byte</span><span class="op" id="7394777">(</span><span class="string" id="7394778">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7394797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394800">re</span>&nbsp;<span class="op" id="7394803">:=</span>&nbsp;<span class="ident" id="7394806">MustCompile</span><span class="op" id="7394817">(</span><span class="string" id="7394818">&#34;^.bc(?:d|e)*$&#34;</span><span class="op" id="7394833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394836">b</span><span class="op" id="7394837">.</span><span class="ident" id="7394838">StartTimer</span><span class="op" id="7394848">(</span><span class="op" id="7394849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7394852">for</span>&nbsp;<span class="ident" id="7394856">i</span>&nbsp;<span class="op" id="7394858">:=</span>&nbsp;<span class="num" id="7394861">0</span><span class="op" id="7394862">;</span>&nbsp;<span class="ident" id="7394864">i</span>&nbsp;<span class="op" id="7394866">&lt;</span>&nbsp;<span class="ident" id="7394868">b</span><span class="op" id="7394869">.</span><span class="ident" id="7394870">N</span><span class="op" id="7394871">;</span>&nbsp;<span class="ident" id="7394873">i</span><span class="op" id="7394874">++</span>&nbsp;<span class="op" id="7394877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394881">re</span><span class="op" id="7394883">.</span><span class="ident" id="7394884">Match</span><span class="op" id="7394889">(</span><span class="ident" id="7394890">x</span><span class="op" id="7394891">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7394894">}</span><br>
<span class="lineno"></span><span class="op" id="7394896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7394899">func</span>&nbsp;<span class="ident" id="7394904">BenchmarkNotOnePassShortB</span><span class="op" id="7394929">(</span><span class="ident" id="7394930">b</span>&nbsp;<span class="op" id="7394932">*</span><span class="ident" id="7394933">testing</span><span class="op" id="7394940">.</span><span class="ident" id="7394941">B</span><span class="op" id="7394942">)</span>&nbsp;<span class="op" id="7394944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394947">b</span><span class="op" id="7394948">.</span><span class="ident" id="7394949">StopTimer</span><span class="op" id="7394958">(</span><span class="op" id="7394959">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394962">x</span>&nbsp;<span class="op" id="7394964">:=</span>&nbsp;<span class="op" id="7394967">[</span><span class="op" id="7394968">]</span><span class="builtintype" id="7394969">byte</span><span class="op" id="7394973">(</span><span class="string" id="7394974">&#34;abcddddddeeeededd&#34;</span><span class="op" id="7394993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7394996">re</span>&nbsp;<span class="op" id="7394999">:=</span>&nbsp;<span class="ident" id="7395002">MustCompile</span><span class="op" id="7395013">(</span><span class="string" id="7395014">&#34;.bc(?:d|e)*$&#34;</span><span class="op" id="7395028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395031">b</span><span class="op" id="7395032">.</span><span class="ident" id="7395033">StartTimer</span><span class="op" id="7395043">(</span><span class="op" id="7395044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7395047">for</span>&nbsp;<span class="ident" id="7395051">i</span>&nbsp;<span class="op" id="7395053">:=</span>&nbsp;<span class="num" id="7395056">0</span><span class="op" id="7395057">;</span>&nbsp;<span class="ident" id="7395059">i</span>&nbsp;<span class="op" id="7395061">&lt;</span>&nbsp;<span class="ident" id="7395063">b</span><span class="op" id="7395064">.</span><span class="ident" id="7395065">N</span><span class="op" id="7395066">;</span>&nbsp;<span class="ident" id="7395068">i</span><span class="op" id="7395069">++</span>&nbsp;<span class="op" id="7395072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395076">re</span><span class="op" id="7395078">.</span><span class="ident" id="7395079">Match</span><span class="op" id="7395084">(</span><span class="ident" id="7395085">x</span><span class="op" id="7395086">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7395089">}</span><br>
<span class="lineno"></span><span class="op" id="7395091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7395094">func</span>&nbsp;<span class="ident" id="7395099">BenchmarkOnePassLongPrefix</span><span class="op" id="7395125">(</span><span class="ident" id="7395126">b</span>&nbsp;<span class="op" id="7395128">*</span><span class="ident" id="7395129">testing</span><span class="op" id="7395136">.</span><span class="ident" id="7395137">B</span><span class="op" id="7395138">)</span>&nbsp;<span class="op" id="7395140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395143">b</span><span class="op" id="7395144">.</span><span class="ident" id="7395145">StopTimer</span><span class="op" id="7395154">(</span><span class="op" id="7395155">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395158">x</span>&nbsp;<span class="op" id="7395160">:=</span>&nbsp;<span class="op" id="7395163">[</span><span class="op" id="7395164">]</span><span class="builtintype" id="7395165">byte</span><span class="op" id="7395169">(</span><span class="string" id="7395170">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7395198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395201">re</span>&nbsp;<span class="op" id="7395204">:=</span>&nbsp;<span class="ident" id="7395207">MustCompile</span><span class="op" id="7395218">(</span><span class="string" id="7395219">&#34;^abcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="7395251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395254">b</span><span class="op" id="7395255">.</span><span class="ident" id="7395256">StartTimer</span><span class="op" id="7395266">(</span><span class="op" id="7395267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7395270">for</span>&nbsp;<span class="ident" id="7395274">i</span>&nbsp;<span class="op" id="7395276">:=</span>&nbsp;<span class="num" id="7395279">0</span><span class="op" id="7395280">;</span>&nbsp;<span class="ident" id="7395282">i</span>&nbsp;<span class="op" id="7395284">&lt;</span>&nbsp;<span class="ident" id="7395286">b</span><span class="op" id="7395287">.</span><span class="ident" id="7395288">N</span><span class="op" id="7395289">;</span>&nbsp;<span class="ident" id="7395291">i</span><span class="op" id="7395292">++</span>&nbsp;<span class="op" id="7395295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395299">re</span><span class="op" id="7395301">.</span><span class="ident" id="7395302">Match</span><span class="op" id="7395307">(</span><span class="ident" id="7395308">x</span><span class="op" id="7395309">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7395312">}</span><br>
<span class="lineno"></span><span class="op" id="7395314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7395317">func</span>&nbsp;<span class="ident" id="7395322">BenchmarkOnePassLongNotPrefix</span><span class="op" id="7395351">(</span><span class="ident" id="7395352">b</span>&nbsp;<span class="op" id="7395354">*</span><span class="ident" id="7395355">testing</span><span class="op" id="7395362">.</span><span class="ident" id="7395363">B</span><span class="op" id="7395364">)</span>&nbsp;<span class="op" id="7395366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395369">b</span><span class="op" id="7395370">.</span><span class="ident" id="7395371">StopTimer</span><span class="op" id="7395380">(</span><span class="op" id="7395381">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395384">x</span>&nbsp;<span class="op" id="7395386">:=</span>&nbsp;<span class="op" id="7395389">[</span><span class="op" id="7395390">]</span><span class="builtintype" id="7395391">byte</span><span class="op" id="7395395">(</span><span class="string" id="7395396">&#34;abcdefghijklmnopqrstuvwxyz&#34;</span><span class="op" id="7395424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395427">re</span>&nbsp;<span class="op" id="7395430">:=</span>&nbsp;<span class="ident" id="7395433">MustCompile</span><span class="op" id="7395444">(</span><span class="string" id="7395445">&#34;^.bcdefghijklmnopqrstuvwxyz.*$&#34;</span><span class="op" id="7395477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395480">b</span><span class="op" id="7395481">.</span><span class="ident" id="7395482">StartTimer</span><span class="op" id="7395492">(</span><span class="op" id="7395493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7395496">for</span>&nbsp;<span class="ident" id="7395500">i</span>&nbsp;<span class="op" id="7395502">:=</span>&nbsp;<span class="num" id="7395505">0</span><span class="op" id="7395506">;</span>&nbsp;<span class="ident" id="7395508">i</span>&nbsp;<span class="op" id="7395510">&lt;</span>&nbsp;<span class="ident" id="7395512">b</span><span class="op" id="7395513">.</span><span class="ident" id="7395514">N</span><span class="op" id="7395515">;</span>&nbsp;<span class="ident" id="7395517">i</span><span class="op" id="7395518">++</span>&nbsp;<span class="op" id="7395521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7395525">re</span><span class="op" id="7395527">.</span><span class="ident" id="7395528">Match</span><span class="op" id="7395533">(</span><span class="ident" id="7395534">x</span><span class="op" id="7395535">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7395538">}</span><br>
<span class="lineno"></span><span class="op" id="7395540">}</span>
</div>
</body>
</html>
