<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8049730">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8049785">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8049839">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8049890">package</span>&nbsp;<span class="ident" id="8049898">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8049907">import</span>&nbsp;<span class="op" id="8049914">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8049917">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8049929">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8049942">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8049948">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8049965">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8049976">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8049986">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8049989">var</span>&nbsp;<span class="ident" id="8049993">fset</span>&nbsp;<span class="op" id="8049998">=</span>&nbsp;<span class="ident" id="8050000">token</span><span class="op" id="8050005">.</span><span class="ident" id="8050006">NewFileSet</span><span class="op" id="8050016">(</span><span class="op" id="8050017">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8050020">const</span>&nbsp;<span class="comment" id="8050026">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="8050038">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8050041">special</span>&nbsp;<span class="op" id="8050049">=</span>&nbsp;<span class="ident" id="8050051">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8050057">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8050066">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8050076">keyword</span><br>
<span class="lineno"></span><span class="op" id="8050084">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="8050087">func</span>&nbsp;<span class="ident" id="8050092">tokenclass</span><span class="op" id="8050102">(</span><span class="ident" id="8050103">tok</span>&nbsp;<span class="ident" id="8050107">token</span><span class="op" id="8050112">.</span><span class="ident" id="8050113">Token</span><span class="op" id="8050118">)</span>&nbsp;<span class="builtintype" id="8050120">int</span>&nbsp;<span class="op" id="8050124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8050127">switch</span>&nbsp;<span class="op" id="8050134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8050137">case</span>&nbsp;<span class="ident" id="8050142">tok</span><span class="op" id="8050145">.</span><span class="ident" id="8050146">IsLiteral</span><span class="op" id="8050155">(</span><span class="op" id="8050156">)</span><span class="op" id="8050157">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8050161">return</span>&nbsp;<span class="ident" id="8050168">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8050177">case</span>&nbsp;<span class="ident" id="8050182">tok</span><span class="op" id="8050185">.</span><span class="ident" id="8050186">IsOperator</span><span class="op" id="8050196">(</span><span class="op" id="8050197">)</span><span class="op" id="8050198">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8050202">return</span>&nbsp;<span class="ident" id="8050209">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8050219">case</span>&nbsp;<span class="ident" id="8050224">tok</span><span class="op" id="8050227">.</span><span class="ident" id="8050228">IsKeyword</span><span class="op" id="8050237">(</span><span class="op" id="8050238">)</span><span class="op" id="8050239">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8050243">return</span>&nbsp;<span class="ident" id="8050250">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8050262">return</span>&nbsp;<span class="ident" id="8050269">special</span><br>
<span class="lineno">35</span><span class="op" id="8050277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8050280">type</span>&nbsp;<span class="ident" id="8050285">elt</span>&nbsp;<span class="keyword" id="8050289">struct</span>&nbsp;<span class="op" id="8050296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8050299">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8050305">token</span><span class="op" id="8050310">.</span><span class="ident" id="8050311">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8050318">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8050324">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8050332">class</span>&nbsp;<span class="builtintype" id="8050338">int</span><br>
<span class="lineno"></span><span class="op" id="8050342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8050345">var</span>&nbsp;<span class="ident" id="8050349">tokens</span>&nbsp;<span class="op" id="8050356">=</span>&nbsp;<span class="op" id="8050358">[</span><span class="op" id="8050359">...</span><span class="op" id="8050362">]</span><span class="ident" id="8050363">elt</span><span class="op" id="8050366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8050369">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050388">{</span><span class="ident" id="8050389">token</span><span class="op" id="8050394">.</span><span class="ident" id="8050395">COMMENT</span><span class="op" id="8050402">,</span>&nbsp;<span class="string" id="8050404">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8050421">,</span>&nbsp;<span class="ident" id="8050423">special</span><span class="op" id="8050430">}</span><span class="op" id="8050431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050434">{</span><span class="ident" id="8050435">token</span><span class="op" id="8050440">.</span><span class="ident" id="8050441">COMMENT</span><span class="op" id="8050448">,</span>&nbsp;<span class="string" id="8050450">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="8050467">,</span>&nbsp;<span class="ident" id="8050469">special</span><span class="op" id="8050476">}</span><span class="op" id="8050477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050480">{</span><span class="ident" id="8050481">token</span><span class="op" id="8050486">.</span><span class="ident" id="8050487">COMMENT</span><span class="op" id="8050494">,</span>&nbsp;<span class="string" id="8050496">&#34;/*\r*/&#34;</span><span class="op" id="8050504">,</span>&nbsp;<span class="ident" id="8050506">special</span><span class="op" id="8050513">}</span><span class="op" id="8050514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050517">{</span><span class="ident" id="8050518">token</span><span class="op" id="8050523">.</span><span class="ident" id="8050524">COMMENT</span><span class="op" id="8050531">,</span>&nbsp;<span class="string" id="8050533">&#34;//\r\n&#34;</span><span class="op" id="8050541">,</span>&nbsp;<span class="ident" id="8050543">special</span><span class="op" id="8050550">}</span><span class="op" id="8050551">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8050555">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050595">{</span><span class="ident" id="8050596">token</span><span class="op" id="8050601">.</span><span class="ident" id="8050602">IDENT</span><span class="op" id="8050607">,</span>&nbsp;<span class="string" id="8050609">&#34;foobar&#34;</span><span class="op" id="8050617">,</span>&nbsp;<span class="ident" id="8050619">literal</span><span class="op" id="8050626">}</span><span class="op" id="8050627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050630">{</span><span class="ident" id="8050631">token</span><span class="op" id="8050636">.</span><span class="ident" id="8050637">IDENT</span><span class="op" id="8050642">,</span>&nbsp;<span class="string" id="8050644">&#34;a۰۱۸&#34;</span><span class="op" id="8050653">,</span>&nbsp;<span class="ident" id="8050655">literal</span><span class="op" id="8050662">}</span><span class="op" id="8050663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050666">{</span><span class="ident" id="8050667">token</span><span class="op" id="8050672">.</span><span class="ident" id="8050673">IDENT</span><span class="op" id="8050678">,</span>&nbsp;<span class="string" id="8050680">&#34;foo६४&#34;</span><span class="op" id="8050691">,</span>&nbsp;<span class="ident" id="8050693">literal</span><span class="op" id="8050700">}</span><span class="op" id="8050701">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050704">{</span><span class="ident" id="8050705">token</span><span class="op" id="8050710">.</span><span class="ident" id="8050711">IDENT</span><span class="op" id="8050716">,</span>&nbsp;<span class="string" id="8050718">&#34;bar９８７６&#34;</span><span class="op" id="8050735">,</span>&nbsp;<span class="ident" id="8050737">literal</span><span class="op" id="8050744">}</span><span class="op" id="8050745">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050748">{</span><span class="ident" id="8050749">token</span><span class="op" id="8050754">.</span><span class="ident" id="8050755">IDENT</span><span class="op" id="8050760">,</span>&nbsp;<span class="string" id="8050762">&#34;ŝ&#34;</span><span class="op" id="8050766">,</span>&nbsp;<span class="ident" id="8050768">literal</span><span class="op" id="8050775">}</span><span class="op" id="8050776">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8050781">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050806">{</span><span class="ident" id="8050807">token</span><span class="op" id="8050812">.</span><span class="ident" id="8050813">IDENT</span><span class="op" id="8050818">,</span>&nbsp;<span class="string" id="8050820">&#34;ŝfoo&#34;</span><span class="op" id="8050827">,</span>&nbsp;<span class="ident" id="8050829">literal</span><span class="op" id="8050836">}</span><span class="op" id="8050837">,</span>&nbsp;<span class="comment" id="8050839">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050864">{</span><span class="ident" id="8050865">token</span><span class="op" id="8050870">.</span><span class="ident" id="8050871">INT</span><span class="op" id="8050874">,</span>&nbsp;<span class="string" id="8050876">&#34;0&#34;</span><span class="op" id="8050879">,</span>&nbsp;<span class="ident" id="8050881">literal</span><span class="op" id="8050888">}</span><span class="op" id="8050889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050892">{</span><span class="ident" id="8050893">token</span><span class="op" id="8050898">.</span><span class="ident" id="8050899">INT</span><span class="op" id="8050902">,</span>&nbsp;<span class="string" id="8050904">&#34;1&#34;</span><span class="op" id="8050907">,</span>&nbsp;<span class="ident" id="8050909">literal</span><span class="op" id="8050916">}</span><span class="op" id="8050917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050920">{</span><span class="ident" id="8050921">token</span><span class="op" id="8050926">.</span><span class="ident" id="8050927">INT</span><span class="op" id="8050930">,</span>&nbsp;<span class="string" id="8050932">&#34;123456789012345678890&#34;</span><span class="op" id="8050955">,</span>&nbsp;<span class="ident" id="8050957">literal</span><span class="op" id="8050964">}</span><span class="op" id="8050965">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8050968">{</span><span class="ident" id="8050969">token</span><span class="op" id="8050974">.</span><span class="ident" id="8050975">INT</span><span class="op" id="8050978">,</span>&nbsp;<span class="string" id="8050980">&#34;01234567&#34;</span><span class="op" id="8050990">,</span>&nbsp;<span class="ident" id="8050992">literal</span><span class="op" id="8050999">}</span><span class="op" id="8051000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051003">{</span><span class="ident" id="8051004">token</span><span class="op" id="8051009">.</span><span class="ident" id="8051010">INT</span><span class="op" id="8051013">,</span>&nbsp;<span class="string" id="8051015">&#34;0xcafebabe&#34;</span><span class="op" id="8051027">,</span>&nbsp;<span class="ident" id="8051029">literal</span><span class="op" id="8051036">}</span><span class="op" id="8051037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051040">{</span><span class="ident" id="8051041">token</span><span class="op" id="8051046">.</span><span class="ident" id="8051047">FLOAT</span><span class="op" id="8051052">,</span>&nbsp;<span class="string" id="8051054">&#34;0.&#34;</span><span class="op" id="8051058">,</span>&nbsp;<span class="ident" id="8051060">literal</span><span class="op" id="8051067">}</span><span class="op" id="8051068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051071">{</span><span class="ident" id="8051072">token</span><span class="op" id="8051077">.</span><span class="ident" id="8051078">FLOAT</span><span class="op" id="8051083">,</span>&nbsp;<span class="string" id="8051085">&#34;.0&#34;</span><span class="op" id="8051089">,</span>&nbsp;<span class="ident" id="8051091">literal</span><span class="op" id="8051098">}</span><span class="op" id="8051099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051102">{</span><span class="ident" id="8051103">token</span><span class="op" id="8051108">.</span><span class="ident" id="8051109">FLOAT</span><span class="op" id="8051114">,</span>&nbsp;<span class="string" id="8051116">&#34;3.14159265&#34;</span><span class="op" id="8051128">,</span>&nbsp;<span class="ident" id="8051130">literal</span><span class="op" id="8051137">}</span><span class="op" id="8051138">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051141">{</span><span class="ident" id="8051142">token</span><span class="op" id="8051147">.</span><span class="ident" id="8051148">FLOAT</span><span class="op" id="8051153">,</span>&nbsp;<span class="string" id="8051155">&#34;1e0&#34;</span><span class="op" id="8051160">,</span>&nbsp;<span class="ident" id="8051162">literal</span><span class="op" id="8051169">}</span><span class="op" id="8051170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051173">{</span><span class="ident" id="8051174">token</span><span class="op" id="8051179">.</span><span class="ident" id="8051180">FLOAT</span><span class="op" id="8051185">,</span>&nbsp;<span class="string" id="8051187">&#34;1e+100&#34;</span><span class="op" id="8051195">,</span>&nbsp;<span class="ident" id="8051197">literal</span><span class="op" id="8051204">}</span><span class="op" id="8051205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051208">{</span><span class="ident" id="8051209">token</span><span class="op" id="8051214">.</span><span class="ident" id="8051215">FLOAT</span><span class="op" id="8051220">,</span>&nbsp;<span class="string" id="8051222">&#34;1e-100&#34;</span><span class="op" id="8051230">,</span>&nbsp;<span class="ident" id="8051232">literal</span><span class="op" id="8051239">}</span><span class="op" id="8051240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051243">{</span><span class="ident" id="8051244">token</span><span class="op" id="8051249">.</span><span class="ident" id="8051250">FLOAT</span><span class="op" id="8051255">,</span>&nbsp;<span class="string" id="8051257">&#34;2.71828e-1000&#34;</span><span class="op" id="8051272">,</span>&nbsp;<span class="ident" id="8051274">literal</span><span class="op" id="8051281">}</span><span class="op" id="8051282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051285">{</span><span class="ident" id="8051286">token</span><span class="op" id="8051291">.</span><span class="ident" id="8051292">IMAG</span><span class="op" id="8051296">,</span>&nbsp;<span class="string" id="8051298">&#34;0i&#34;</span><span class="op" id="8051302">,</span>&nbsp;<span class="ident" id="8051304">literal</span><span class="op" id="8051311">}</span><span class="op" id="8051312">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051315">{</span><span class="ident" id="8051316">token</span><span class="op" id="8051321">.</span><span class="ident" id="8051322">IMAG</span><span class="op" id="8051326">,</span>&nbsp;<span class="string" id="8051328">&#34;1i&#34;</span><span class="op" id="8051332">,</span>&nbsp;<span class="ident" id="8051334">literal</span><span class="op" id="8051341">}</span><span class="op" id="8051342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051345">{</span><span class="ident" id="8051346">token</span><span class="op" id="8051351">.</span><span class="ident" id="8051352">IMAG</span><span class="op" id="8051356">,</span>&nbsp;<span class="string" id="8051358">&#34;012345678901234567889i&#34;</span><span class="op" id="8051382">,</span>&nbsp;<span class="ident" id="8051384">literal</span><span class="op" id="8051391">}</span><span class="op" id="8051392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051395">{</span><span class="ident" id="8051396">token</span><span class="op" id="8051401">.</span><span class="ident" id="8051402">IMAG</span><span class="op" id="8051406">,</span>&nbsp;<span class="string" id="8051408">&#34;123456789012345678890i&#34;</span><span class="op" id="8051432">,</span>&nbsp;<span class="ident" id="8051434">literal</span><span class="op" id="8051441">}</span><span class="op" id="8051442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051445">{</span><span class="ident" id="8051446">token</span><span class="op" id="8051451">.</span><span class="ident" id="8051452">IMAG</span><span class="op" id="8051456">,</span>&nbsp;<span class="string" id="8051458">&#34;0.i&#34;</span><span class="op" id="8051463">,</span>&nbsp;<span class="ident" id="8051465">literal</span><span class="op" id="8051472">}</span><span class="op" id="8051473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051476">{</span><span class="ident" id="8051477">token</span><span class="op" id="8051482">.</span><span class="ident" id="8051483">IMAG</span><span class="op" id="8051487">,</span>&nbsp;<span class="string" id="8051489">&#34;.0i&#34;</span><span class="op" id="8051494">,</span>&nbsp;<span class="ident" id="8051496">literal</span><span class="op" id="8051503">}</span><span class="op" id="8051504">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051507">{</span><span class="ident" id="8051508">token</span><span class="op" id="8051513">.</span><span class="ident" id="8051514">IMAG</span><span class="op" id="8051518">,</span>&nbsp;<span class="string" id="8051520">&#34;3.14159265i&#34;</span><span class="op" id="8051533">,</span>&nbsp;<span class="ident" id="8051535">literal</span><span class="op" id="8051542">}</span><span class="op" id="8051543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051546">{</span><span class="ident" id="8051547">token</span><span class="op" id="8051552">.</span><span class="ident" id="8051553">IMAG</span><span class="op" id="8051557">,</span>&nbsp;<span class="string" id="8051559">&#34;1e0i&#34;</span><span class="op" id="8051565">,</span>&nbsp;<span class="ident" id="8051567">literal</span><span class="op" id="8051574">}</span><span class="op" id="8051575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051578">{</span><span class="ident" id="8051579">token</span><span class="op" id="8051584">.</span><span class="ident" id="8051585">IMAG</span><span class="op" id="8051589">,</span>&nbsp;<span class="string" id="8051591">&#34;1e+100i&#34;</span><span class="op" id="8051600">,</span>&nbsp;<span class="ident" id="8051602">literal</span><span class="op" id="8051609">}</span><span class="op" id="8051610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051613">{</span><span class="ident" id="8051614">token</span><span class="op" id="8051619">.</span><span class="ident" id="8051620">IMAG</span><span class="op" id="8051624">,</span>&nbsp;<span class="string" id="8051626">&#34;1e-100i&#34;</span><span class="op" id="8051635">,</span>&nbsp;<span class="ident" id="8051637">literal</span><span class="op" id="8051644">}</span><span class="op" id="8051645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051648">{</span><span class="ident" id="8051649">token</span><span class="op" id="8051654">.</span><span class="ident" id="8051655">IMAG</span><span class="op" id="8051659">,</span>&nbsp;<span class="string" id="8051661">&#34;2.71828e-1000i&#34;</span><span class="op" id="8051677">,</span>&nbsp;<span class="ident" id="8051679">literal</span><span class="op" id="8051686">}</span><span class="op" id="8051687">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051690">{</span><span class="ident" id="8051691">token</span><span class="op" id="8051696">.</span><span class="ident" id="8051697">CHAR</span><span class="op" id="8051701">,</span>&nbsp;<span class="string" id="8051703">&#34;&#39;a&#39;&#34;</span><span class="op" id="8051708">,</span>&nbsp;<span class="ident" id="8051710">literal</span><span class="op" id="8051717">}</span><span class="op" id="8051718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051721">{</span><span class="ident" id="8051722">token</span><span class="op" id="8051727">.</span><span class="ident" id="8051728">CHAR</span><span class="op" id="8051732">,</span>&nbsp;<span class="string" id="8051734">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="8051743">,</span>&nbsp;<span class="ident" id="8051745">literal</span><span class="op" id="8051752">}</span><span class="op" id="8051753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051756">{</span><span class="ident" id="8051757">token</span><span class="op" id="8051762">.</span><span class="ident" id="8051763">CHAR</span><span class="op" id="8051767">,</span>&nbsp;<span class="string" id="8051769">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="8051778">,</span>&nbsp;<span class="ident" id="8051780">literal</span><span class="op" id="8051787">}</span><span class="op" id="8051788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051791">{</span><span class="ident" id="8051792">token</span><span class="op" id="8051797">.</span><span class="ident" id="8051798">CHAR</span><span class="op" id="8051802">,</span>&nbsp;<span class="string" id="8051804">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="8051815">,</span>&nbsp;<span class="ident" id="8051817">literal</span><span class="op" id="8051824">}</span><span class="op" id="8051825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051828">{</span><span class="ident" id="8051829">token</span><span class="op" id="8051834">.</span><span class="ident" id="8051835">CHAR</span><span class="op" id="8051839">,</span>&nbsp;<span class="string" id="8051841">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="8051856">,</span>&nbsp;<span class="ident" id="8051858">literal</span><span class="op" id="8051865">}</span><span class="op" id="8051866">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051869">{</span><span class="ident" id="8051870">token</span><span class="op" id="8051875">.</span><span class="ident" id="8051876">STRING</span><span class="op" id="8051882">,</span>&nbsp;<span class="string" id="8051884">&#34;`foobar`&#34;</span><span class="op" id="8051894">,</span>&nbsp;<span class="ident" id="8051896">literal</span><span class="op" id="8051903">}</span><span class="op" id="8051904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051907">{</span><span class="ident" id="8051908">token</span><span class="op" id="8051913">.</span><span class="ident" id="8051914">STRING</span><span class="op" id="8051920">,</span>&nbsp;<span class="string" id="8051922">&#34;`&#34;</span>&nbsp;<span class="op" id="8051926">+</span>&nbsp;<span class="string" id="8051928">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="8051963">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8051967">&#34;`&#34;</span><span class="op" id="8051970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8051974">literal</span><span class="op" id="8051981">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051984">}</span><span class="op" id="8051985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8051988">{</span><span class="ident" id="8051989">token</span><span class="op" id="8051994">.</span><span class="ident" id="8051995">STRING</span><span class="op" id="8052001">,</span>&nbsp;<span class="string" id="8052003">&#34;`\r`&#34;</span><span class="op" id="8052009">,</span>&nbsp;<span class="ident" id="8052011">literal</span><span class="op" id="8052018">}</span><span class="op" id="8052019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052022">{</span><span class="ident" id="8052023">token</span><span class="op" id="8052028">.</span><span class="ident" id="8052029">STRING</span><span class="op" id="8052035">,</span>&nbsp;<span class="string" id="8052037">&#34;`foo\r\nbar`&#34;</span><span class="op" id="8052051">,</span>&nbsp;<span class="ident" id="8052053">literal</span><span class="op" id="8052060">}</span><span class="op" id="8052061">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8052065">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052094">{</span><span class="ident" id="8052095">token</span><span class="op" id="8052100">.</span><span class="ident" id="8052101">ADD</span><span class="op" id="8052104">,</span>&nbsp;<span class="string" id="8052106">&#34;+&#34;</span><span class="op" id="8052109">,</span>&nbsp;<span class="ident" id="8052111">operator</span><span class="op" id="8052119">}</span><span class="op" id="8052120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052123">{</span><span class="ident" id="8052124">token</span><span class="op" id="8052129">.</span><span class="ident" id="8052130">SUB</span><span class="op" id="8052133">,</span>&nbsp;<span class="string" id="8052135">&#34;-&#34;</span><span class="op" id="8052138">,</span>&nbsp;<span class="ident" id="8052140">operator</span><span class="op" id="8052148">}</span><span class="op" id="8052149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052152">{</span><span class="ident" id="8052153">token</span><span class="op" id="8052158">.</span><span class="ident" id="8052159">MUL</span><span class="op" id="8052162">,</span>&nbsp;<span class="string" id="8052164">&#34;*&#34;</span><span class="op" id="8052167">,</span>&nbsp;<span class="ident" id="8052169">operator</span><span class="op" id="8052177">}</span><span class="op" id="8052178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052181">{</span><span class="ident" id="8052182">token</span><span class="op" id="8052187">.</span><span class="ident" id="8052188">QUO</span><span class="op" id="8052191">,</span>&nbsp;<span class="string" id="8052193">&#34;/&#34;</span><span class="op" id="8052196">,</span>&nbsp;<span class="ident" id="8052198">operator</span><span class="op" id="8052206">}</span><span class="op" id="8052207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052210">{</span><span class="ident" id="8052211">token</span><span class="op" id="8052216">.</span><span class="ident" id="8052217">REM</span><span class="op" id="8052220">,</span>&nbsp;<span class="string" id="8052222">&#34;%&#34;</span><span class="op" id="8052225">,</span>&nbsp;<span class="ident" id="8052227">operator</span><span class="op" id="8052235">}</span><span class="op" id="8052236">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052240">{</span><span class="ident" id="8052241">token</span><span class="op" id="8052246">.</span><span class="ident" id="8052247">AND</span><span class="op" id="8052250">,</span>&nbsp;<span class="string" id="8052252">&#34;&amp;&#34;</span><span class="op" id="8052255">,</span>&nbsp;<span class="ident" id="8052257">operator</span><span class="op" id="8052265">}</span><span class="op" id="8052266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052269">{</span><span class="ident" id="8052270">token</span><span class="op" id="8052275">.</span><span class="ident" id="8052276">OR</span><span class="op" id="8052278">,</span>&nbsp;<span class="string" id="8052280">&#34;|&#34;</span><span class="op" id="8052283">,</span>&nbsp;<span class="ident" id="8052285">operator</span><span class="op" id="8052293">}</span><span class="op" id="8052294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052297">{</span><span class="ident" id="8052298">token</span><span class="op" id="8052303">.</span><span class="ident" id="8052304">XOR</span><span class="op" id="8052307">,</span>&nbsp;<span class="string" id="8052309">&#34;^&#34;</span><span class="op" id="8052312">,</span>&nbsp;<span class="ident" id="8052314">operator</span><span class="op" id="8052322">}</span><span class="op" id="8052323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052326">{</span><span class="ident" id="8052327">token</span><span class="op" id="8052332">.</span><span class="ident" id="8052333">SHL</span><span class="op" id="8052336">,</span>&nbsp;<span class="string" id="8052338">&#34;&lt;&lt;&#34;</span><span class="op" id="8052342">,</span>&nbsp;<span class="ident" id="8052344">operator</span><span class="op" id="8052352">}</span><span class="op" id="8052353">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052356">{</span><span class="ident" id="8052357">token</span><span class="op" id="8052362">.</span><span class="ident" id="8052363">SHR</span><span class="op" id="8052366">,</span>&nbsp;<span class="string" id="8052368">&#34;&gt;&gt;&#34;</span><span class="op" id="8052372">,</span>&nbsp;<span class="ident" id="8052374">operator</span><span class="op" id="8052382">}</span><span class="op" id="8052383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052386">{</span><span class="ident" id="8052387">token</span><span class="op" id="8052392">.</span><span class="ident" id="8052393">AND_NOT</span><span class="op" id="8052400">,</span>&nbsp;<span class="string" id="8052402">&#34;&amp;^&#34;</span><span class="op" id="8052406">,</span>&nbsp;<span class="ident" id="8052408">operator</span><span class="op" id="8052416">}</span><span class="op" id="8052417">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052421">{</span><span class="ident" id="8052422">token</span><span class="op" id="8052427">.</span><span class="ident" id="8052428">ADD_ASSIGN</span><span class="op" id="8052438">,</span>&nbsp;<span class="string" id="8052440">&#34;+=&#34;</span><span class="op" id="8052444">,</span>&nbsp;<span class="ident" id="8052446">operator</span><span class="op" id="8052454">}</span><span class="op" id="8052455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052458">{</span><span class="ident" id="8052459">token</span><span class="op" id="8052464">.</span><span class="ident" id="8052465">SUB_ASSIGN</span><span class="op" id="8052475">,</span>&nbsp;<span class="string" id="8052477">&#34;-=&#34;</span><span class="op" id="8052481">,</span>&nbsp;<span class="ident" id="8052483">operator</span><span class="op" id="8052491">}</span><span class="op" id="8052492">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052495">{</span><span class="ident" id="8052496">token</span><span class="op" id="8052501">.</span><span class="ident" id="8052502">MUL_ASSIGN</span><span class="op" id="8052512">,</span>&nbsp;<span class="string" id="8052514">&#34;*=&#34;</span><span class="op" id="8052518">,</span>&nbsp;<span class="ident" id="8052520">operator</span><span class="op" id="8052528">}</span><span class="op" id="8052529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052532">{</span><span class="ident" id="8052533">token</span><span class="op" id="8052538">.</span><span class="ident" id="8052539">QUO_ASSIGN</span><span class="op" id="8052549">,</span>&nbsp;<span class="string" id="8052551">&#34;/=&#34;</span><span class="op" id="8052555">,</span>&nbsp;<span class="ident" id="8052557">operator</span><span class="op" id="8052565">}</span><span class="op" id="8052566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052569">{</span><span class="ident" id="8052570">token</span><span class="op" id="8052575">.</span><span class="ident" id="8052576">REM_ASSIGN</span><span class="op" id="8052586">,</span>&nbsp;<span class="string" id="8052588">&#34;%=&#34;</span><span class="op" id="8052592">,</span>&nbsp;<span class="ident" id="8052594">operator</span><span class="op" id="8052602">}</span><span class="op" id="8052603">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052607">{</span><span class="ident" id="8052608">token</span><span class="op" id="8052613">.</span><span class="ident" id="8052614">AND_ASSIGN</span><span class="op" id="8052624">,</span>&nbsp;<span class="string" id="8052626">&#34;&amp;=&#34;</span><span class="op" id="8052630">,</span>&nbsp;<span class="ident" id="8052632">operator</span><span class="op" id="8052640">}</span><span class="op" id="8052641">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052644">{</span><span class="ident" id="8052645">token</span><span class="op" id="8052650">.</span><span class="ident" id="8052651">OR_ASSIGN</span><span class="op" id="8052660">,</span>&nbsp;<span class="string" id="8052662">&#34;|=&#34;</span><span class="op" id="8052666">,</span>&nbsp;<span class="ident" id="8052668">operator</span><span class="op" id="8052676">}</span><span class="op" id="8052677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052680">{</span><span class="ident" id="8052681">token</span><span class="op" id="8052686">.</span><span class="ident" id="8052687">XOR_ASSIGN</span><span class="op" id="8052697">,</span>&nbsp;<span class="string" id="8052699">&#34;^=&#34;</span><span class="op" id="8052703">,</span>&nbsp;<span class="ident" id="8052705">operator</span><span class="op" id="8052713">}</span><span class="op" id="8052714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052717">{</span><span class="ident" id="8052718">token</span><span class="op" id="8052723">.</span><span class="ident" id="8052724">SHL_ASSIGN</span><span class="op" id="8052734">,</span>&nbsp;<span class="string" id="8052736">&#34;&lt;&lt;=&#34;</span><span class="op" id="8052741">,</span>&nbsp;<span class="ident" id="8052743">operator</span><span class="op" id="8052751">}</span><span class="op" id="8052752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052755">{</span><span class="ident" id="8052756">token</span><span class="op" id="8052761">.</span><span class="ident" id="8052762">SHR_ASSIGN</span><span class="op" id="8052772">,</span>&nbsp;<span class="string" id="8052774">&#34;&gt;&gt;=&#34;</span><span class="op" id="8052779">,</span>&nbsp;<span class="ident" id="8052781">operator</span><span class="op" id="8052789">}</span><span class="op" id="8052790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052793">{</span><span class="ident" id="8052794">token</span><span class="op" id="8052799">.</span><span class="ident" id="8052800">AND_NOT_ASSIGN</span><span class="op" id="8052814">,</span>&nbsp;<span class="string" id="8052816">&#34;&amp;^=&#34;</span><span class="op" id="8052821">,</span>&nbsp;<span class="ident" id="8052823">operator</span><span class="op" id="8052831">}</span><span class="op" id="8052832">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052836">{</span><span class="ident" id="8052837">token</span><span class="op" id="8052842">.</span><span class="ident" id="8052843">LAND</span><span class="op" id="8052847">,</span>&nbsp;<span class="string" id="8052849">&#34;&amp;&amp;&#34;</span><span class="op" id="8052853">,</span>&nbsp;<span class="ident" id="8052855">operator</span><span class="op" id="8052863">}</span><span class="op" id="8052864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052867">{</span><span class="ident" id="8052868">token</span><span class="op" id="8052873">.</span><span class="ident" id="8052874">LOR</span><span class="op" id="8052877">,</span>&nbsp;<span class="string" id="8052879">&#34;||&#34;</span><span class="op" id="8052883">,</span>&nbsp;<span class="ident" id="8052885">operator</span><span class="op" id="8052893">}</span><span class="op" id="8052894">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052897">{</span><span class="ident" id="8052898">token</span><span class="op" id="8052903">.</span><span class="ident" id="8052904">ARROW</span><span class="op" id="8052909">,</span>&nbsp;<span class="string" id="8052911">&#34;&lt;-&#34;</span><span class="op" id="8052915">,</span>&nbsp;<span class="ident" id="8052917">operator</span><span class="op" id="8052925">}</span><span class="op" id="8052926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052929">{</span><span class="ident" id="8052930">token</span><span class="op" id="8052935">.</span><span class="ident" id="8052936">INC</span><span class="op" id="8052939">,</span>&nbsp;<span class="string" id="8052941">&#34;++&#34;</span><span class="op" id="8052945">,</span>&nbsp;<span class="ident" id="8052947">operator</span><span class="op" id="8052955">}</span><span class="op" id="8052956">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052959">{</span><span class="ident" id="8052960">token</span><span class="op" id="8052965">.</span><span class="ident" id="8052966">DEC</span><span class="op" id="8052969">,</span>&nbsp;<span class="string" id="8052971">&#34;--&#34;</span><span class="op" id="8052975">,</span>&nbsp;<span class="ident" id="8052977">operator</span><span class="op" id="8052985">}</span><span class="op" id="8052986">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8052990">{</span><span class="ident" id="8052991">token</span><span class="op" id="8052996">.</span><span class="ident" id="8052997">EQL</span><span class="op" id="8053000">,</span>&nbsp;<span class="string" id="8053002">&#34;==&#34;</span><span class="op" id="8053006">,</span>&nbsp;<span class="ident" id="8053008">operator</span><span class="op" id="8053016">}</span><span class="op" id="8053017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053020">{</span><span class="ident" id="8053021">token</span><span class="op" id="8053026">.</span><span class="ident" id="8053027">LSS</span><span class="op" id="8053030">,</span>&nbsp;<span class="string" id="8053032">&#34;&lt;&#34;</span><span class="op" id="8053035">,</span>&nbsp;<span class="ident" id="8053037">operator</span><span class="op" id="8053045">}</span><span class="op" id="8053046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053049">{</span><span class="ident" id="8053050">token</span><span class="op" id="8053055">.</span><span class="ident" id="8053056">GTR</span><span class="op" id="8053059">,</span>&nbsp;<span class="string" id="8053061">&#34;&gt;&#34;</span><span class="op" id="8053064">,</span>&nbsp;<span class="ident" id="8053066">operator</span><span class="op" id="8053074">}</span><span class="op" id="8053075">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053078">{</span><span class="ident" id="8053079">token</span><span class="op" id="8053084">.</span><span class="ident" id="8053085">ASSIGN</span><span class="op" id="8053091">,</span>&nbsp;<span class="string" id="8053093">&#34;=&#34;</span><span class="op" id="8053096">,</span>&nbsp;<span class="ident" id="8053098">operator</span><span class="op" id="8053106">}</span><span class="op" id="8053107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053110">{</span><span class="ident" id="8053111">token</span><span class="op" id="8053116">.</span><span class="ident" id="8053117">NOT</span><span class="op" id="8053120">,</span>&nbsp;<span class="string" id="8053122">&#34;!&#34;</span><span class="op" id="8053125">,</span>&nbsp;<span class="ident" id="8053127">operator</span><span class="op" id="8053135">}</span><span class="op" id="8053136">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053140">{</span><span class="ident" id="8053141">token</span><span class="op" id="8053146">.</span><span class="ident" id="8053147">NEQ</span><span class="op" id="8053150">,</span>&nbsp;<span class="string" id="8053152">&#34;!=&#34;</span><span class="op" id="8053156">,</span>&nbsp;<span class="ident" id="8053158">operator</span><span class="op" id="8053166">}</span><span class="op" id="8053167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053170">{</span><span class="ident" id="8053171">token</span><span class="op" id="8053176">.</span><span class="ident" id="8053177">LEQ</span><span class="op" id="8053180">,</span>&nbsp;<span class="string" id="8053182">&#34;&lt;=&#34;</span><span class="op" id="8053186">,</span>&nbsp;<span class="ident" id="8053188">operator</span><span class="op" id="8053196">}</span><span class="op" id="8053197">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053200">{</span><span class="ident" id="8053201">token</span><span class="op" id="8053206">.</span><span class="ident" id="8053207">GEQ</span><span class="op" id="8053210">,</span>&nbsp;<span class="string" id="8053212">&#34;&gt;=&#34;</span><span class="op" id="8053216">,</span>&nbsp;<span class="ident" id="8053218">operator</span><span class="op" id="8053226">}</span><span class="op" id="8053227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053230">{</span><span class="ident" id="8053231">token</span><span class="op" id="8053236">.</span><span class="ident" id="8053237">DEFINE</span><span class="op" id="8053243">,</span>&nbsp;<span class="string" id="8053245">&#34;:=&#34;</span><span class="op" id="8053249">,</span>&nbsp;<span class="ident" id="8053251">operator</span><span class="op" id="8053259">}</span><span class="op" id="8053260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053263">{</span><span class="ident" id="8053264">token</span><span class="op" id="8053269">.</span><span class="ident" id="8053270">ELLIPSIS</span><span class="op" id="8053278">,</span>&nbsp;<span class="string" id="8053280">&#34;...&#34;</span><span class="op" id="8053285">,</span>&nbsp;<span class="ident" id="8053287">operator</span><span class="op" id="8053295">}</span><span class="op" id="8053296">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053300">{</span><span class="ident" id="8053301">token</span><span class="op" id="8053306">.</span><span class="ident" id="8053307">LPAREN</span><span class="op" id="8053313">,</span>&nbsp;<span class="string" id="8053315">&#34;(&#34;</span><span class="op" id="8053318">,</span>&nbsp;<span class="ident" id="8053320">operator</span><span class="op" id="8053328">}</span><span class="op" id="8053329">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053332">{</span><span class="ident" id="8053333">token</span><span class="op" id="8053338">.</span><span class="ident" id="8053339">LBRACK</span><span class="op" id="8053345">,</span>&nbsp;<span class="string" id="8053347">&#34;[&#34;</span><span class="op" id="8053350">,</span>&nbsp;<span class="ident" id="8053352">operator</span><span class="op" id="8053360">}</span><span class="op" id="8053361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053364">{</span><span class="ident" id="8053365">token</span><span class="op" id="8053370">.</span><span class="ident" id="8053371">LBRACE</span><span class="op" id="8053377">,</span>&nbsp;<span class="string" id="8053379">&#34;{&#34;</span><span class="op" id="8053382">,</span>&nbsp;<span class="ident" id="8053384">operator</span><span class="op" id="8053392">}</span><span class="op" id="8053393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053396">{</span><span class="ident" id="8053397">token</span><span class="op" id="8053402">.</span><span class="ident" id="8053403">COMMA</span><span class="op" id="8053408">,</span>&nbsp;<span class="string" id="8053410">&#34;,&#34;</span><span class="op" id="8053413">,</span>&nbsp;<span class="ident" id="8053415">operator</span><span class="op" id="8053423">}</span><span class="op" id="8053424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053427">{</span><span class="ident" id="8053428">token</span><span class="op" id="8053433">.</span><span class="ident" id="8053434">PERIOD</span><span class="op" id="8053440">,</span>&nbsp;<span class="string" id="8053442">&#34;.&#34;</span><span class="op" id="8053445">,</span>&nbsp;<span class="ident" id="8053447">operator</span><span class="op" id="8053455">}</span><span class="op" id="8053456">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053460">{</span><span class="ident" id="8053461">token</span><span class="op" id="8053466">.</span><span class="ident" id="8053467">RPAREN</span><span class="op" id="8053473">,</span>&nbsp;<span class="string" id="8053475">&#34;)&#34;</span><span class="op" id="8053478">,</span>&nbsp;<span class="ident" id="8053480">operator</span><span class="op" id="8053488">}</span><span class="op" id="8053489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053492">{</span><span class="ident" id="8053493">token</span><span class="op" id="8053498">.</span><span class="ident" id="8053499">RBRACK</span><span class="op" id="8053505">,</span>&nbsp;<span class="string" id="8053507">&#34;]&#34;</span><span class="op" id="8053510">,</span>&nbsp;<span class="ident" id="8053512">operator</span><span class="op" id="8053520">}</span><span class="op" id="8053521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053524">{</span><span class="ident" id="8053525">token</span><span class="op" id="8053530">.</span><span class="ident" id="8053531">RBRACE</span><span class="op" id="8053537">,</span>&nbsp;<span class="string" id="8053539">&#34;}&#34;</span><span class="op" id="8053542">,</span>&nbsp;<span class="ident" id="8053544">operator</span><span class="op" id="8053552">}</span><span class="op" id="8053553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053556">{</span><span class="ident" id="8053557">token</span><span class="op" id="8053562">.</span><span class="ident" id="8053563">SEMICOLON</span><span class="op" id="8053572">,</span>&nbsp;<span class="string" id="8053574">&#34;;&#34;</span><span class="op" id="8053577">,</span>&nbsp;<span class="ident" id="8053579">operator</span><span class="op" id="8053587">}</span><span class="op" id="8053588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053591">{</span><span class="ident" id="8053592">token</span><span class="op" id="8053597">.</span><span class="ident" id="8053598">COLON</span><span class="op" id="8053603">,</span>&nbsp;<span class="string" id="8053605">&#34;:&#34;</span><span class="op" id="8053608">,</span>&nbsp;<span class="ident" id="8053610">operator</span><span class="op" id="8053618">}</span><span class="op" id="8053619">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8053623">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053636">{</span><span class="ident" id="8053637">token</span><span class="op" id="8053642">.</span><span class="ident" id="8053643">BREAK</span><span class="op" id="8053648">,</span>&nbsp;<span class="string" id="8053650">&#34;break&#34;</span><span class="op" id="8053657">,</span>&nbsp;<span class="ident" id="8053659">keyword</span><span class="op" id="8053666">}</span><span class="op" id="8053667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053670">{</span><span class="ident" id="8053671">token</span><span class="op" id="8053676">.</span><span class="ident" id="8053677">CASE</span><span class="op" id="8053681">,</span>&nbsp;<span class="string" id="8053683">&#34;case&#34;</span><span class="op" id="8053689">,</span>&nbsp;<span class="ident" id="8053691">keyword</span><span class="op" id="8053698">}</span><span class="op" id="8053699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053702">{</span><span class="ident" id="8053703">token</span><span class="op" id="8053708">.</span><span class="ident" id="8053709">CHAN</span><span class="op" id="8053713">,</span>&nbsp;<span class="string" id="8053715">&#34;chan&#34;</span><span class="op" id="8053721">,</span>&nbsp;<span class="ident" id="8053723">keyword</span><span class="op" id="8053730">}</span><span class="op" id="8053731">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053734">{</span><span class="ident" id="8053735">token</span><span class="op" id="8053740">.</span><span class="ident" id="8053741">CONST</span><span class="op" id="8053746">,</span>&nbsp;<span class="string" id="8053748">&#34;const&#34;</span><span class="op" id="8053755">,</span>&nbsp;<span class="ident" id="8053757">keyword</span><span class="op" id="8053764">}</span><span class="op" id="8053765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053768">{</span><span class="ident" id="8053769">token</span><span class="op" id="8053774">.</span><span class="ident" id="8053775">CONTINUE</span><span class="op" id="8053783">,</span>&nbsp;<span class="string" id="8053785">&#34;continue&#34;</span><span class="op" id="8053795">,</span>&nbsp;<span class="ident" id="8053797">keyword</span><span class="op" id="8053804">}</span><span class="op" id="8053805">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053809">{</span><span class="ident" id="8053810">token</span><span class="op" id="8053815">.</span><span class="ident" id="8053816">DEFAULT</span><span class="op" id="8053823">,</span>&nbsp;<span class="string" id="8053825">&#34;default&#34;</span><span class="op" id="8053834">,</span>&nbsp;<span class="ident" id="8053836">keyword</span><span class="op" id="8053843">}</span><span class="op" id="8053844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053847">{</span><span class="ident" id="8053848">token</span><span class="op" id="8053853">.</span><span class="ident" id="8053854">DEFER</span><span class="op" id="8053859">,</span>&nbsp;<span class="string" id="8053861">&#34;defer&#34;</span><span class="op" id="8053868">,</span>&nbsp;<span class="ident" id="8053870">keyword</span><span class="op" id="8053877">}</span><span class="op" id="8053878">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053881">{</span><span class="ident" id="8053882">token</span><span class="op" id="8053887">.</span><span class="ident" id="8053888">ELSE</span><span class="op" id="8053892">,</span>&nbsp;<span class="string" id="8053894">&#34;else&#34;</span><span class="op" id="8053900">,</span>&nbsp;<span class="ident" id="8053902">keyword</span><span class="op" id="8053909">}</span><span class="op" id="8053910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053913">{</span><span class="ident" id="8053914">token</span><span class="op" id="8053919">.</span><span class="ident" id="8053920">FALLTHROUGH</span><span class="op" id="8053931">,</span>&nbsp;<span class="string" id="8053933">&#34;fallthrough&#34;</span><span class="op" id="8053946">,</span>&nbsp;<span class="ident" id="8053948">keyword</span><span class="op" id="8053955">}</span><span class="op" id="8053956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053959">{</span><span class="ident" id="8053960">token</span><span class="op" id="8053965">.</span><span class="ident" id="8053966">FOR</span><span class="op" id="8053969">,</span>&nbsp;<span class="string" id="8053971">&#34;for&#34;</span><span class="op" id="8053976">,</span>&nbsp;<span class="ident" id="8053978">keyword</span><span class="op" id="8053985">}</span><span class="op" id="8053986">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8053990">{</span><span class="ident" id="8053991">token</span><span class="op" id="8053996">.</span><span class="ident" id="8053997">FUNC</span><span class="op" id="8054001">,</span>&nbsp;<span class="string" id="8054003">&#34;func&#34;</span><span class="op" id="8054009">,</span>&nbsp;<span class="ident" id="8054011">keyword</span><span class="op" id="8054018">}</span><span class="op" id="8054019">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054022">{</span><span class="ident" id="8054023">token</span><span class="op" id="8054028">.</span><span class="ident" id="8054029">GO</span><span class="op" id="8054031">,</span>&nbsp;<span class="string" id="8054033">&#34;go&#34;</span><span class="op" id="8054037">,</span>&nbsp;<span class="ident" id="8054039">keyword</span><span class="op" id="8054046">}</span><span class="op" id="8054047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054050">{</span><span class="ident" id="8054051">token</span><span class="op" id="8054056">.</span><span class="ident" id="8054057">GOTO</span><span class="op" id="8054061">,</span>&nbsp;<span class="string" id="8054063">&#34;goto&#34;</span><span class="op" id="8054069">,</span>&nbsp;<span class="ident" id="8054071">keyword</span><span class="op" id="8054078">}</span><span class="op" id="8054079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054082">{</span><span class="ident" id="8054083">token</span><span class="op" id="8054088">.</span><span class="ident" id="8054089">IF</span><span class="op" id="8054091">,</span>&nbsp;<span class="string" id="8054093">&#34;if&#34;</span><span class="op" id="8054097">,</span>&nbsp;<span class="ident" id="8054099">keyword</span><span class="op" id="8054106">}</span><span class="op" id="8054107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054110">{</span><span class="ident" id="8054111">token</span><span class="op" id="8054116">.</span><span class="ident" id="8054117">IMPORT</span><span class="op" id="8054123">,</span>&nbsp;<span class="string" id="8054125">&#34;import&#34;</span><span class="op" id="8054133">,</span>&nbsp;<span class="ident" id="8054135">keyword</span><span class="op" id="8054142">}</span><span class="op" id="8054143">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054147">{</span><span class="ident" id="8054148">token</span><span class="op" id="8054153">.</span><span class="ident" id="8054154">INTERFACE</span><span class="op" id="8054163">,</span>&nbsp;<span class="string" id="8054165">&#34;interface&#34;</span><span class="op" id="8054176">,</span>&nbsp;<span class="ident" id="8054178">keyword</span><span class="op" id="8054185">}</span><span class="op" id="8054186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054189">{</span><span class="ident" id="8054190">token</span><span class="op" id="8054195">.</span><span class="ident" id="8054196">MAP</span><span class="op" id="8054199">,</span>&nbsp;<span class="string" id="8054201">&#34;map&#34;</span><span class="op" id="8054206">,</span>&nbsp;<span class="ident" id="8054208">keyword</span><span class="op" id="8054215">}</span><span class="op" id="8054216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054219">{</span><span class="ident" id="8054220">token</span><span class="op" id="8054225">.</span><span class="ident" id="8054226">PACKAGE</span><span class="op" id="8054233">,</span>&nbsp;<span class="string" id="8054235">&#34;package&#34;</span><span class="op" id="8054244">,</span>&nbsp;<span class="ident" id="8054246">keyword</span><span class="op" id="8054253">}</span><span class="op" id="8054254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054257">{</span><span class="ident" id="8054258">token</span><span class="op" id="8054263">.</span><span class="ident" id="8054264">RANGE</span><span class="op" id="8054269">,</span>&nbsp;<span class="string" id="8054271">&#34;range&#34;</span><span class="op" id="8054278">,</span>&nbsp;<span class="ident" id="8054280">keyword</span><span class="op" id="8054287">}</span><span class="op" id="8054288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054291">{</span><span class="ident" id="8054292">token</span><span class="op" id="8054297">.</span><span class="ident" id="8054298">RETURN</span><span class="op" id="8054304">,</span>&nbsp;<span class="string" id="8054306">&#34;return&#34;</span><span class="op" id="8054314">,</span>&nbsp;<span class="ident" id="8054316">keyword</span><span class="op" id="8054323">}</span><span class="op" id="8054324">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054328">{</span><span class="ident" id="8054329">token</span><span class="op" id="8054334">.</span><span class="ident" id="8054335">SELECT</span><span class="op" id="8054341">,</span>&nbsp;<span class="string" id="8054343">&#34;select&#34;</span><span class="op" id="8054351">,</span>&nbsp;<span class="ident" id="8054353">keyword</span><span class="op" id="8054360">}</span><span class="op" id="8054361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054364">{</span><span class="ident" id="8054365">token</span><span class="op" id="8054370">.</span><span class="ident" id="8054371">STRUCT</span><span class="op" id="8054377">,</span>&nbsp;<span class="string" id="8054379">&#34;struct&#34;</span><span class="op" id="8054387">,</span>&nbsp;<span class="ident" id="8054389">keyword</span><span class="op" id="8054396">}</span><span class="op" id="8054397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054400">{</span><span class="ident" id="8054401">token</span><span class="op" id="8054406">.</span><span class="ident" id="8054407">SWITCH</span><span class="op" id="8054413">,</span>&nbsp;<span class="string" id="8054415">&#34;switch&#34;</span><span class="op" id="8054423">,</span>&nbsp;<span class="ident" id="8054425">keyword</span><span class="op" id="8054432">}</span><span class="op" id="8054433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054436">{</span><span class="ident" id="8054437">token</span><span class="op" id="8054442">.</span><span class="ident" id="8054443">TYPE</span><span class="op" id="8054447">,</span>&nbsp;<span class="string" id="8054449">&#34;type&#34;</span><span class="op" id="8054455">,</span>&nbsp;<span class="ident" id="8054457">keyword</span><span class="op" id="8054464">}</span><span class="op" id="8054465">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054468">{</span><span class="ident" id="8054469">token</span><span class="op" id="8054474">.</span><span class="ident" id="8054475">VAR</span><span class="op" id="8054478">,</span>&nbsp;<span class="string" id="8054480">&#34;var&#34;</span><span class="op" id="8054485">,</span>&nbsp;<span class="ident" id="8054487">keyword</span><span class="op" id="8054494">}</span><span class="op" id="8054495">,</span><br>
<span class="lineno"></span><span class="op" id="8054497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8054500">const</span>&nbsp;<span class="ident" id="8054506">whitespace</span>&nbsp;<span class="op" id="8054517">=</span>&nbsp;<span class="string" id="8054519">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="8054534">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="8054557">var</span>&nbsp;<span class="ident" id="8054561">source</span>&nbsp;<span class="op" id="8054568">=</span>&nbsp;<span class="keyword" id="8054570">func</span><span class="op" id="8054574">(</span><span class="op" id="8054575">)</span>&nbsp;<span class="op" id="8054577">[</span><span class="op" id="8054578">]</span><span class="builtintype" id="8054579">byte</span>&nbsp;<span class="op" id="8054584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8054587">var</span>&nbsp;<span class="ident" id="8054591">src</span>&nbsp;<span class="op" id="8054595">[</span><span class="op" id="8054596">]</span><span class="builtintype" id="8054597">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8054603">for</span>&nbsp;<span class="ident" id="8054607">_</span><span class="op" id="8054608">,</span>&nbsp;<span class="ident" id="8054610">t</span>&nbsp;<span class="op" id="8054612">:=</span>&nbsp;<span class="keyword" id="8054615">range</span>&nbsp;<span class="ident" id="8054621">tokens</span>&nbsp;<span class="op" id="8054628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8054632">src</span>&nbsp;<span class="op" id="8054636">=</span>&nbsp;<span class="builtinfunc" id="8054638">append</span><span class="op" id="8054644">(</span><span class="ident" id="8054645">src</span><span class="op" id="8054648">,</span>&nbsp;<span class="ident" id="8054650">t</span><span class="op" id="8054651">.</span><span class="ident" id="8054652">lit</span><span class="op" id="8054655">...</span><span class="op" id="8054658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8054662">src</span>&nbsp;<span class="op" id="8054666">=</span>&nbsp;<span class="builtinfunc" id="8054668">append</span><span class="op" id="8054674">(</span><span class="ident" id="8054675">src</span><span class="op" id="8054678">,</span>&nbsp;<span class="ident" id="8054680">whitespace</span><span class="op" id="8054690">...</span><span class="op" id="8054693">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8054699">return</span>&nbsp;<span class="ident" id="8054706">src</span><br>
<span class="lineno"></span><span class="op" id="8054710">}</span><span class="op" id="8054711">(</span><span class="op" id="8054712">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8054715">func</span>&nbsp;<span class="ident" id="8054720">newlineCount</span><span class="op" id="8054732">(</span><span class="ident" id="8054733">s</span>&nbsp;<span class="builtintype" id="8054735">string</span><span class="op" id="8054741">)</span>&nbsp;<span class="builtintype" id="8054743">int</span>&nbsp;<span class="op" id="8054747">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8054750">n</span>&nbsp;<span class="op" id="8054752">:=</span>&nbsp;<span class="num" id="8054755">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8054758">for</span>&nbsp;<span class="ident" id="8054762">i</span>&nbsp;<span class="op" id="8054764">:=</span>&nbsp;<span class="num" id="8054767">0</span><span class="op" id="8054768">;</span>&nbsp;<span class="ident" id="8054770">i</span>&nbsp;<span class="op" id="8054772">&lt;</span>&nbsp;<span class="builtinfunc" id="8054774">len</span><span class="op" id="8054777">(</span><span class="ident" id="8054778">s</span><span class="op" id="8054779">)</span><span class="op" id="8054780">;</span>&nbsp;<span class="ident" id="8054782">i</span><span class="op" id="8054783">++</span>&nbsp;<span class="op" id="8054786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8054790">if</span>&nbsp;<span class="ident" id="8054793">s</span><span class="op" id="8054794">[</span><span class="ident" id="8054795">i</span><span class="op" id="8054796">]</span>&nbsp;<span class="op" id="8054798">==</span>&nbsp;<span class="string" id="8054801">&#39;\n&#39;</span>&nbsp;<span class="op" id="8054806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8054811">n</span><span class="op" id="8054812">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054817">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8054820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8054823">return</span>&nbsp;<span class="ident" id="8054830">n</span><br>
<span class="lineno"></span><span class="op" id="8054832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8054835">func</span>&nbsp;<span class="ident" id="8054840">checkPos</span><span class="op" id="8054848">(</span><span class="ident" id="8054849">t</span>&nbsp;<span class="op" id="8054851">*</span><span class="ident" id="8054852">testing</span><span class="op" id="8054859">.</span><span class="ident" id="8054860">T</span><span class="op" id="8054861">,</span>&nbsp;<span class="ident" id="8054863">lit</span>&nbsp;<span class="builtintype" id="8054867">string</span><span class="op" id="8054873">,</span>&nbsp;<span class="ident" id="8054875">p</span>&nbsp;<span class="ident" id="8054877">token</span><span class="op" id="8054882">.</span><span class="ident" id="8054883">Pos</span><span class="op" id="8054886">,</span>&nbsp;<span class="ident" id="8054888">expected</span>&nbsp;<span class="ident" id="8054897">token</span><span class="op" id="8054902">.</span><span class="ident" id="8054903">Position</span><span class="op" id="8054911">)</span>&nbsp;<span class="op" id="8054913">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8054916">pos</span>&nbsp;<span class="op" id="8054920">:=</span>&nbsp;<span class="ident" id="8054923">fset</span><span class="op" id="8054927">.</span><span class="ident" id="8054928">Position</span><span class="op" id="8054936">(</span><span class="ident" id="8054937">p</span><span class="op" id="8054938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8054941">if</span>&nbsp;<span class="ident" id="8054944">pos</span><span class="op" id="8054947">.</span><span class="ident" id="8054948">Filename</span>&nbsp;<span class="op" id="8054957">!=</span>&nbsp;<span class="ident" id="8054960">expected</span><span class="op" id="8054968">.</span><span class="ident" id="8054969">Filename</span>&nbsp;<span class="op" id="8054978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8054982">t</span><span class="op" id="8054983">.</span><span class="ident" id="8054984">Errorf</span><span class="op" id="8054990">(</span><span class="string" id="8054991">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8055033">,</span>&nbsp;<span class="ident" id="8055035">lit</span><span class="op" id="8055038">,</span>&nbsp;<span class="ident" id="8055040">pos</span><span class="op" id="8055043">.</span><span class="ident" id="8055044">Filename</span><span class="op" id="8055052">,</span>&nbsp;<span class="ident" id="8055054">expected</span><span class="op" id="8055062">.</span><span class="ident" id="8055063">Filename</span><span class="op" id="8055071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8055074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8055077">if</span>&nbsp;<span class="ident" id="8055080">pos</span><span class="op" id="8055083">.</span><span class="ident" id="8055084">Offset</span>&nbsp;<span class="op" id="8055091">!=</span>&nbsp;<span class="ident" id="8055094">expected</span><span class="op" id="8055102">.</span><span class="ident" id="8055103">Offset</span>&nbsp;<span class="op" id="8055110">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055114">t</span><span class="op" id="8055115">.</span><span class="ident" id="8055116">Errorf</span><span class="op" id="8055122">(</span><span class="string" id="8055123">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8055165">,</span>&nbsp;<span class="ident" id="8055167">lit</span><span class="op" id="8055170">,</span>&nbsp;<span class="ident" id="8055172">pos</span><span class="op" id="8055175">.</span><span class="ident" id="8055176">Offset</span><span class="op" id="8055182">,</span>&nbsp;<span class="ident" id="8055184">expected</span><span class="op" id="8055192">.</span><span class="ident" id="8055193">Offset</span><span class="op" id="8055199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8055202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8055205">if</span>&nbsp;<span class="ident" id="8055208">pos</span><span class="op" id="8055211">.</span><span class="ident" id="8055212">Line</span>&nbsp;<span class="op" id="8055217">!=</span>&nbsp;<span class="ident" id="8055220">expected</span><span class="op" id="8055228">.</span><span class="ident" id="8055229">Line</span>&nbsp;<span class="op" id="8055234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055238">t</span><span class="op" id="8055239">.</span><span class="ident" id="8055240">Errorf</span><span class="op" id="8055246">(</span><span class="string" id="8055247">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8055285">,</span>&nbsp;<span class="ident" id="8055287">lit</span><span class="op" id="8055290">,</span>&nbsp;<span class="ident" id="8055292">pos</span><span class="op" id="8055295">.</span><span class="ident" id="8055296">Line</span><span class="op" id="8055300">,</span>&nbsp;<span class="ident" id="8055302">expected</span><span class="op" id="8055310">.</span><span class="ident" id="8055311">Line</span><span class="op" id="8055315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8055318">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8055321">if</span>&nbsp;<span class="ident" id="8055324">pos</span><span class="op" id="8055327">.</span><span class="ident" id="8055328">Column</span>&nbsp;<span class="op" id="8055335">!=</span>&nbsp;<span class="ident" id="8055338">expected</span><span class="op" id="8055346">.</span><span class="ident" id="8055347">Column</span>&nbsp;<span class="op" id="8055354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055358">t</span><span class="op" id="8055359">.</span><span class="ident" id="8055360">Errorf</span><span class="op" id="8055366">(</span><span class="string" id="8055367">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8055407">,</span>&nbsp;<span class="ident" id="8055409">lit</span><span class="op" id="8055412">,</span>&nbsp;<span class="ident" id="8055414">pos</span><span class="op" id="8055417">.</span><span class="ident" id="8055418">Column</span><span class="op" id="8055424">,</span>&nbsp;<span class="ident" id="8055426">expected</span><span class="op" id="8055434">.</span><span class="ident" id="8055435">Column</span><span class="op" id="8055441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8055444">}</span><br>
<span class="lineno"></span><span class="op" id="8055446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="8055449">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="8055509">func</span>&nbsp;<span class="ident" id="8055514">TestScan</span><span class="op" id="8055522">(</span><span class="ident" id="8055523">t</span>&nbsp;<span class="op" id="8055525">*</span><span class="ident" id="8055526">testing</span><span class="op" id="8055533">.</span><span class="ident" id="8055534">T</span><span class="op" id="8055535">)</span>&nbsp;<span class="op" id="8055537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055540">whitespace_linecount</span>&nbsp;<span class="op" id="8055561">:=</span>&nbsp;<span class="ident" id="8055564">newlineCount</span><span class="op" id="8055576">(</span><span class="ident" id="8055577">whitespace</span><span class="op" id="8055587">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8055591">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055609">eh</span>&nbsp;<span class="op" id="8055612">:=</span>&nbsp;<span class="keyword" id="8055615">func</span><span class="op" id="8055619">(</span><span class="ident" id="8055620">_</span>&nbsp;<span class="ident" id="8055622">token</span><span class="op" id="8055627">.</span><span class="ident" id="8055628">Position</span><span class="op" id="8055636">,</span>&nbsp;<span class="ident" id="8055638">msg</span>&nbsp;<span class="builtintype" id="8055642">string</span><span class="op" id="8055648">)</span>&nbsp;<span class="op" id="8055650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055654">t</span><span class="op" id="8055655">.</span><span class="ident" id="8055656">Errorf</span><span class="op" id="8055662">(</span><span class="string" id="8055663">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="8055696">,</span>&nbsp;<span class="ident" id="8055698">msg</span><span class="op" id="8055701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8055704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8055708">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8055724">var</span>&nbsp;<span class="ident" id="8055728">s</span>&nbsp;<span class="ident" id="8055730">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055739">s</span><span class="op" id="8055740">.</span><span class="ident" id="8055741">Init</span><span class="op" id="8055745">(</span><span class="ident" id="8055746">fset</span><span class="op" id="8055750">.</span><span class="ident" id="8055751">AddFile</span><span class="op" id="8055758">(</span><span class="string" id="8055759">&#34;&#34;</span><span class="op" id="8055761">,</span>&nbsp;<span class="ident" id="8055763">fset</span><span class="op" id="8055767">.</span><span class="ident" id="8055768">Base</span><span class="op" id="8055772">(</span><span class="op" id="8055773">)</span><span class="op" id="8055774">,</span>&nbsp;<span class="builtinfunc" id="8055776">len</span><span class="op" id="8055779">(</span><span class="ident" id="8055780">source</span><span class="op" id="8055786">)</span><span class="op" id="8055787">)</span><span class="op" id="8055788">,</span>&nbsp;<span class="ident" id="8055790">source</span><span class="op" id="8055796">,</span>&nbsp;<span class="ident" id="8055798">eh</span><span class="op" id="8055800">,</span>&nbsp;<span class="ident" id="8055802">ScanComments</span><span class="op" id="8055814">|</span><span class="ident" id="8055815">dontInsertSemis</span><span class="op" id="8055830">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8055834">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055863">epos</span>&nbsp;<span class="op" id="8055868">:=</span>&nbsp;<span class="ident" id="8055871">token</span><span class="op" id="8055876">.</span><span class="ident" id="8055877">Position</span><span class="op" id="8055885">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055889">Filename</span><span class="op" id="8055897">:</span>&nbsp;<span class="string" id="8055899">&#34;&#34;</span><span class="op" id="8055901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055905">Offset</span><span class="op" id="8055911">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8055915">0</span><span class="op" id="8055916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055920">Line</span><span class="op" id="8055924">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8055930">1</span><span class="op" id="8055931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055935">Column</span><span class="op" id="8055941">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8055945">1</span><span class="op" id="8055946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8055949">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055953">index</span>&nbsp;<span class="op" id="8055959">:=</span>&nbsp;<span class="num" id="8055962">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8055965">for</span>&nbsp;<span class="op" id="8055969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8055973">pos</span><span class="op" id="8055976">,</span>&nbsp;<span class="ident" id="8055978">tok</span><span class="op" id="8055981">,</span>&nbsp;<span class="ident" id="8055983">lit</span>&nbsp;<span class="op" id="8055987">:=</span>&nbsp;<span class="ident" id="8055990">s</span><span class="op" id="8055991">.</span><span class="ident" id="8055992">Scan</span><span class="op" id="8055996">(</span><span class="op" id="8055997">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8056002">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056022">if</span>&nbsp;<span class="ident" id="8056025">tok</span>&nbsp;<span class="op" id="8056029">==</span>&nbsp;<span class="ident" id="8056032">token</span><span class="op" id="8056037">.</span><span class="ident" id="8056038">EOF</span>&nbsp;<span class="op" id="8056042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8056047">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056072">epos</span><span class="op" id="8056076">.</span><span class="ident" id="8056077">Line</span>&nbsp;<span class="op" id="8056082">=</span>&nbsp;<span class="ident" id="8056084">newlineCount</span><span class="op" id="8056096">(</span><span class="builtintype" id="8056097">string</span><span class="op" id="8056103">(</span><span class="ident" id="8056104">source</span><span class="op" id="8056110">)</span><span class="op" id="8056111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056116">epos</span><span class="op" id="8056120">.</span><span class="ident" id="8056121">Column</span>&nbsp;<span class="op" id="8056128">=</span>&nbsp;<span class="num" id="8056130">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8056134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056138">checkPos</span><span class="op" id="8056146">(</span><span class="ident" id="8056147">t</span><span class="op" id="8056148">,</span>&nbsp;<span class="ident" id="8056150">lit</span><span class="op" id="8056153">,</span>&nbsp;<span class="ident" id="8056155">pos</span><span class="op" id="8056158">,</span>&nbsp;<span class="ident" id="8056160">epos</span><span class="op" id="8056164">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8056169">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056186">e</span>&nbsp;<span class="op" id="8056188">:=</span>&nbsp;<span class="ident" id="8056191">elt</span><span class="op" id="8056194">{</span><span class="ident" id="8056195">token</span><span class="op" id="8056200">.</span><span class="ident" id="8056201">EOF</span><span class="op" id="8056204">,</span>&nbsp;<span class="string" id="8056206">&#34;&#34;</span><span class="op" id="8056208">,</span>&nbsp;<span class="ident" id="8056210">special</span><span class="op" id="8056217">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056221">if</span>&nbsp;<span class="ident" id="8056224">index</span>&nbsp;<span class="op" id="8056230">&lt;</span>&nbsp;<span class="builtinfunc" id="8056232">len</span><span class="op" id="8056235">(</span><span class="ident" id="8056236">tokens</span><span class="op" id="8056242">)</span>&nbsp;<span class="op" id="8056244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056249">e</span>&nbsp;<span class="op" id="8056251">=</span>&nbsp;<span class="ident" id="8056253">tokens</span><span class="op" id="8056259">[</span><span class="ident" id="8056260">index</span><span class="op" id="8056265">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056270">index</span><span class="op" id="8056275">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8056280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056284">if</span>&nbsp;<span class="ident" id="8056287">tok</span>&nbsp;<span class="op" id="8056291">!=</span>&nbsp;<span class="ident" id="8056294">e</span><span class="op" id="8056295">.</span><span class="ident" id="8056296">tok</span>&nbsp;<span class="op" id="8056300">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056305">t</span><span class="op" id="8056306">.</span><span class="ident" id="8056307">Errorf</span><span class="op" id="8056313">(</span><span class="string" id="8056314">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8056353">,</span>&nbsp;<span class="ident" id="8056355">lit</span><span class="op" id="8056358">,</span>&nbsp;<span class="ident" id="8056360">tok</span><span class="op" id="8056363">,</span>&nbsp;<span class="ident" id="8056365">e</span><span class="op" id="8056366">.</span><span class="ident" id="8056367">tok</span><span class="op" id="8056370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8056374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8056379">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056402">if</span>&nbsp;<span class="ident" id="8056405">tokenclass</span><span class="op" id="8056415">(</span><span class="ident" id="8056416">tok</span><span class="op" id="8056419">)</span>&nbsp;<span class="op" id="8056421">!=</span>&nbsp;<span class="ident" id="8056424">e</span><span class="op" id="8056425">.</span><span class="ident" id="8056426">class</span>&nbsp;<span class="op" id="8056432">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056437">t</span><span class="op" id="8056438">.</span><span class="ident" id="8056439">Errorf</span><span class="op" id="8056445">(</span><span class="string" id="8056446">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8056485">,</span>&nbsp;<span class="ident" id="8056487">lit</span><span class="op" id="8056490">,</span>&nbsp;<span class="ident" id="8056492">tokenclass</span><span class="op" id="8056502">(</span><span class="ident" id="8056503">tok</span><span class="op" id="8056506">)</span><span class="op" id="8056507">,</span>&nbsp;<span class="ident" id="8056509">e</span><span class="op" id="8056510">.</span><span class="ident" id="8056511">class</span><span class="op" id="8056516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8056520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8056525">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056544">elit</span>&nbsp;<span class="op" id="8056549">:=</span>&nbsp;<span class="string" id="8056552">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056557">switch</span>&nbsp;<span class="ident" id="8056564">e</span><span class="op" id="8056565">.</span><span class="ident" id="8056566">tok</span>&nbsp;<span class="op" id="8056570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056574">case</span>&nbsp;<span class="ident" id="8056579">token</span><span class="op" id="8056584">.</span><span class="ident" id="8056585">COMMENT</span><span class="op" id="8056592">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8056597">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056622">elit</span>&nbsp;<span class="op" id="8056627">=</span>&nbsp;<span class="builtintype" id="8056629">string</span><span class="op" id="8056635">(</span><span class="ident" id="8056636">stripCR</span><span class="op" id="8056643">(</span><span class="op" id="8056644">[</span><span class="op" id="8056645">]</span><span class="builtintype" id="8056646">byte</span><span class="op" id="8056650">(</span><span class="ident" id="8056651">e</span><span class="op" id="8056652">.</span><span class="ident" id="8056653">lit</span><span class="op" id="8056656">)</span><span class="op" id="8056657">)</span><span class="op" id="8056658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8056663">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056715">if</span>&nbsp;<span class="ident" id="8056718">elit</span><span class="op" id="8056722">[</span><span class="num" id="8056723">1</span><span class="op" id="8056724">]</span>&nbsp;<span class="op" id="8056726">==</span>&nbsp;<span class="string" id="8056729">&#39;/&#39;</span>&nbsp;<span class="op" id="8056733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056739">elit</span>&nbsp;<span class="op" id="8056744">=</span>&nbsp;<span class="ident" id="8056746">elit</span><span class="op" id="8056750">[</span><span class="num" id="8056751">0</span>&nbsp;<span class="op" id="8056753">:</span>&nbsp;<span class="builtinfunc" id="8056755">len</span><span class="op" id="8056758">(</span><span class="ident" id="8056759">elit</span><span class="op" id="8056763">)</span><span class="op" id="8056764">-</span><span class="num" id="8056765">1</span><span class="op" id="8056766">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8056771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056775">case</span>&nbsp;<span class="ident" id="8056780">token</span><span class="op" id="8056785">.</span><span class="ident" id="8056786">IDENT</span><span class="op" id="8056791">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056796">elit</span>&nbsp;<span class="op" id="8056801">=</span>&nbsp;<span class="ident" id="8056803">e</span><span class="op" id="8056804">.</span><span class="ident" id="8056805">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056811">case</span>&nbsp;<span class="ident" id="8056816">token</span><span class="op" id="8056821">.</span><span class="ident" id="8056822">SEMICOLON</span><span class="op" id="8056831">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056836">elit</span>&nbsp;<span class="op" id="8056841">=</span>&nbsp;<span class="string" id="8056843">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056849">default</span><span class="op" id="8056856">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056861">if</span>&nbsp;<span class="ident" id="8056864">e</span><span class="op" id="8056865">.</span><span class="ident" id="8056866">tok</span><span class="op" id="8056869">.</span><span class="ident" id="8056870">IsLiteral</span><span class="op" id="8056879">(</span><span class="op" id="8056880">)</span>&nbsp;<span class="op" id="8056882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8056888">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056925">elit</span>&nbsp;<span class="op" id="8056930">=</span>&nbsp;<span class="ident" id="8056932">e</span><span class="op" id="8056933">.</span><span class="ident" id="8056934">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8056942">if</span>&nbsp;<span class="ident" id="8056945">elit</span><span class="op" id="8056949">[</span><span class="num" id="8056950">0</span><span class="op" id="8056951">]</span>&nbsp;<span class="op" id="8056953">==</span>&nbsp;<span class="string" id="8056956">&#39;`&#39;</span>&nbsp;<span class="op" id="8056960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056967">elit</span>&nbsp;<span class="op" id="8056972">=</span>&nbsp;<span class="builtintype" id="8056974">string</span><span class="op" id="8056980">(</span><span class="ident" id="8056981">stripCR</span><span class="op" id="8056988">(</span><span class="op" id="8056989">[</span><span class="op" id="8056990">]</span><span class="builtintype" id="8056991">byte</span><span class="op" id="8056995">(</span><span class="ident" id="8056996">elit</span><span class="op" id="8057000">)</span><span class="op" id="8057001">)</span><span class="op" id="8057002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057013">}</span>&nbsp;<span class="keyword" id="8057015">else</span>&nbsp;<span class="keyword" id="8057020">if</span>&nbsp;<span class="ident" id="8057023">e</span><span class="op" id="8057024">.</span><span class="ident" id="8057025">tok</span><span class="op" id="8057028">.</span><span class="ident" id="8057029">IsKeyword</span><span class="op" id="8057038">(</span><span class="op" id="8057039">)</span>&nbsp;<span class="op" id="8057041">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057047">elit</span>&nbsp;<span class="op" id="8057052">=</span>&nbsp;<span class="ident" id="8057054">e</span><span class="op" id="8057055">.</span><span class="ident" id="8057056">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057071">if</span>&nbsp;<span class="ident" id="8057074">lit</span>&nbsp;<span class="op" id="8057078">!=</span>&nbsp;<span class="ident" id="8057081">elit</span>&nbsp;<span class="op" id="8057086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057091">t</span><span class="op" id="8057092">.</span><span class="ident" id="8057093">Errorf</span><span class="op" id="8057099">(</span><span class="string" id="8057100">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8057141">,</span>&nbsp;<span class="ident" id="8057143">lit</span><span class="op" id="8057146">,</span>&nbsp;<span class="ident" id="8057148">lit</span><span class="op" id="8057151">,</span>&nbsp;<span class="ident" id="8057153">elit</span><span class="op" id="8057157">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057166">if</span>&nbsp;<span class="ident" id="8057169">tok</span>&nbsp;<span class="op" id="8057173">==</span>&nbsp;<span class="ident" id="8057176">token</span><span class="op" id="8057181">.</span><span class="ident" id="8057182">EOF</span>&nbsp;<span class="op" id="8057186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057191">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057199">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8057204">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057225">epos</span><span class="op" id="8057229">.</span><span class="ident" id="8057230">Offset</span>&nbsp;<span class="op" id="8057237">+=</span>&nbsp;<span class="builtinfunc" id="8057240">len</span><span class="op" id="8057243">(</span><span class="ident" id="8057244">e</span><span class="op" id="8057245">.</span><span class="ident" id="8057246">lit</span><span class="op" id="8057249">)</span>&nbsp;<span class="op" id="8057251">+</span>&nbsp;<span class="builtinfunc" id="8057253">len</span><span class="op" id="8057256">(</span><span class="ident" id="8057257">whitespace</span><span class="op" id="8057267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057271">epos</span><span class="op" id="8057275">.</span><span class="ident" id="8057276">Line</span>&nbsp;<span class="op" id="8057281">+=</span>&nbsp;<span class="ident" id="8057284">newlineCount</span><span class="op" id="8057296">(</span><span class="ident" id="8057297">e</span><span class="op" id="8057298">.</span><span class="ident" id="8057299">lit</span><span class="op" id="8057302">)</span>&nbsp;<span class="op" id="8057304">+</span>&nbsp;<span class="ident" id="8057306">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057333">if</span>&nbsp;<span class="ident" id="8057336">s</span><span class="op" id="8057337">.</span><span class="ident" id="8057338">ErrorCount</span>&nbsp;<span class="op" id="8057349">!=</span>&nbsp;<span class="num" id="8057352">0</span>&nbsp;<span class="op" id="8057354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057358">t</span><span class="op" id="8057359">.</span><span class="ident" id="8057360">Errorf</span><span class="op" id="8057366">(</span><span class="string" id="8057367">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8057384">,</span>&nbsp;<span class="ident" id="8057386">s</span><span class="op" id="8057387">.</span><span class="ident" id="8057388">ErrorCount</span><span class="op" id="8057398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057401">}</span><br>
<span class="lineno">310</span><span class="op" id="8057403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8057406">func</span>&nbsp;<span class="ident" id="8057411">checkSemi</span><span class="op" id="8057420">(</span><span class="ident" id="8057421">t</span>&nbsp;<span class="op" id="8057423">*</span><span class="ident" id="8057424">testing</span><span class="op" id="8057431">.</span><span class="ident" id="8057432">T</span><span class="op" id="8057433">,</span>&nbsp;<span class="ident" id="8057435">line</span>&nbsp;<span class="builtintype" id="8057440">string</span><span class="op" id="8057446">,</span>&nbsp;<span class="ident" id="8057448">mode</span>&nbsp;<span class="ident" id="8057453">Mode</span><span class="op" id="8057457">)</span>&nbsp;<span class="op" id="8057459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057462">var</span>&nbsp;<span class="ident" id="8057466">S</span>&nbsp;<span class="ident" id="8057468">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057477">file</span>&nbsp;<span class="op" id="8057482">:=</span>&nbsp;<span class="ident" id="8057485">fset</span><span class="op" id="8057489">.</span><span class="ident" id="8057490">AddFile</span><span class="op" id="8057497">(</span><span class="string" id="8057498">&#34;TestSemis&#34;</span><span class="op" id="8057509">,</span>&nbsp;<span class="ident" id="8057511">fset</span><span class="op" id="8057515">.</span><span class="ident" id="8057516">Base</span><span class="op" id="8057520">(</span><span class="op" id="8057521">)</span><span class="op" id="8057522">,</span>&nbsp;<span class="builtinfunc" id="8057524">len</span><span class="op" id="8057527">(</span><span class="ident" id="8057528">line</span><span class="op" id="8057532">)</span><span class="op" id="8057533">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057536">S</span><span class="op" id="8057537">.</span><span class="ident" id="8057538">Init</span><span class="op" id="8057542">(</span><span class="ident" id="8057543">file</span><span class="op" id="8057547">,</span>&nbsp;<span class="op" id="8057549">[</span><span class="op" id="8057550">]</span><span class="builtintype" id="8057551">byte</span><span class="op" id="8057555">(</span><span class="ident" id="8057556">line</span><span class="op" id="8057560">)</span><span class="op" id="8057561">,</span>&nbsp;<span class="builtintype" id="8057563">nil</span><span class="op" id="8057566">,</span>&nbsp;<span class="ident" id="8057568">mode</span><span class="op" id="8057572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057575">pos</span><span class="op" id="8057578">,</span>&nbsp;<span class="ident" id="8057580">tok</span><span class="op" id="8057583">,</span>&nbsp;<span class="ident" id="8057585">lit</span>&nbsp;<span class="op" id="8057589">:=</span>&nbsp;<span class="ident" id="8057592">S</span><span class="op" id="8057593">.</span><span class="ident" id="8057594">Scan</span><span class="op" id="8057598">(</span><span class="op" id="8057599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057602">for</span>&nbsp;<span class="ident" id="8057606">tok</span>&nbsp;<span class="op" id="8057610">!=</span>&nbsp;<span class="ident" id="8057613">token</span><span class="op" id="8057618">.</span><span class="ident" id="8057619">EOF</span>&nbsp;<span class="op" id="8057623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057627">if</span>&nbsp;<span class="ident" id="8057630">tok</span>&nbsp;<span class="op" id="8057634">==</span>&nbsp;<span class="ident" id="8057637">token</span><span class="op" id="8057642">.</span><span class="ident" id="8057643">ILLEGAL</span>&nbsp;<span class="op" id="8057651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8057656">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8057703">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057745">semiLit</span>&nbsp;<span class="op" id="8057753">:=</span>&nbsp;<span class="string" id="8057756">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057764">if</span>&nbsp;<span class="ident" id="8057767">lit</span><span class="op" id="8057770">[</span><span class="num" id="8057771">0</span><span class="op" id="8057772">]</span>&nbsp;<span class="op" id="8057774">==</span>&nbsp;<span class="string" id="8057777">&#39;#&#39;</span>&nbsp;<span class="op" id="8057781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057787">semiLit</span>&nbsp;<span class="op" id="8057795">=</span>&nbsp;<span class="string" id="8057797">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057804">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8057809">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057846">semiPos</span>&nbsp;<span class="op" id="8057854">:=</span>&nbsp;<span class="ident" id="8057857">file</span><span class="op" id="8057861">.</span><span class="ident" id="8057862">Position</span><span class="op" id="8057870">(</span><span class="ident" id="8057871">pos</span><span class="op" id="8057874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057879">semiPos</span><span class="op" id="8057886">.</span><span class="ident" id="8057887">Offset</span><span class="op" id="8057893">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057899">semiPos</span><span class="op" id="8057906">.</span><span class="ident" id="8057907">Column</span><span class="op" id="8057913">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057919">pos</span><span class="op" id="8057922">,</span>&nbsp;<span class="ident" id="8057924">tok</span><span class="op" id="8057927">,</span>&nbsp;<span class="ident" id="8057929">lit</span>&nbsp;<span class="op" id="8057933">=</span>&nbsp;<span class="ident" id="8057935">S</span><span class="op" id="8057936">.</span><span class="ident" id="8057937">Scan</span><span class="op" id="8057941">(</span><span class="op" id="8057942">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057947">if</span>&nbsp;<span class="ident" id="8057950">tok</span>&nbsp;<span class="op" id="8057954">==</span>&nbsp;<span class="ident" id="8057957">token</span><span class="op" id="8057962">.</span><span class="ident" id="8057963">SEMICOLON</span>&nbsp;<span class="op" id="8057973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8057979">if</span>&nbsp;<span class="ident" id="8057982">lit</span>&nbsp;<span class="op" id="8057986">!=</span>&nbsp;<span class="ident" id="8057989">semiLit</span>&nbsp;<span class="op" id="8057997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058004">t</span><span class="op" id="8058005">.</span><span class="ident" id="8058006">Errorf</span><span class="op" id="8058012">(</span><span class="string" id="8058013">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="8058054">,</span>&nbsp;<span class="ident" id="8058056">line</span><span class="op" id="8058060">,</span>&nbsp;<span class="ident" id="8058062">lit</span><span class="op" id="8058065">,</span>&nbsp;<span class="ident" id="8058067">semiLit</span><span class="op" id="8058074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8058080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058086">checkPos</span><span class="op" id="8058094">(</span><span class="ident" id="8058095">t</span><span class="op" id="8058096">,</span>&nbsp;<span class="ident" id="8058098">line</span><span class="op" id="8058102">,</span>&nbsp;<span class="ident" id="8058104">pos</span><span class="op" id="8058107">,</span>&nbsp;<span class="ident" id="8058109">semiPos</span><span class="op" id="8058116">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8058121">}</span>&nbsp;<span class="keyword" id="8058123">else</span>&nbsp;<span class="op" id="8058128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058134">t</span><span class="op" id="8058135">.</span><span class="ident" id="8058136">Errorf</span><span class="op" id="8058142">(</span><span class="string" id="8058143">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="8058181">,</span>&nbsp;<span class="ident" id="8058183">line</span><span class="op" id="8058187">,</span>&nbsp;<span class="ident" id="8058189">tok</span><span class="op" id="8058192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8058197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8058201">}</span>&nbsp;<span class="keyword" id="8058203">else</span>&nbsp;<span class="keyword" id="8058208">if</span>&nbsp;<span class="ident" id="8058211">tok</span>&nbsp;<span class="op" id="8058215">==</span>&nbsp;<span class="ident" id="8058218">token</span><span class="op" id="8058223">.</span><span class="ident" id="8058224">SEMICOLON</span>&nbsp;<span class="op" id="8058234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058239">t</span><span class="op" id="8058240">.</span><span class="ident" id="8058241">Errorf</span><span class="op" id="8058247">(</span><span class="string" id="8058248">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="8058288">,</span>&nbsp;<span class="ident" id="8058290">line</span><span class="op" id="8058294">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8058298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058302">pos</span><span class="op" id="8058305">,</span>&nbsp;<span class="ident" id="8058307">tok</span><span class="op" id="8058310">,</span>&nbsp;<span class="ident" id="8058312">lit</span>&nbsp;<span class="op" id="8058316">=</span>&nbsp;<span class="ident" id="8058318">S</span><span class="op" id="8058319">.</span><span class="ident" id="8058320">Scan</span><span class="op" id="8058324">(</span><span class="op" id="8058325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8058328">}</span><br>
<span class="lineno"></span><span class="op" id="8058330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="8058333">var</span>&nbsp;<span class="ident" id="8058337">lines</span>&nbsp;<span class="op" id="8058343">=</span>&nbsp;<span class="op" id="8058345">[</span><span class="op" id="8058346">]</span><span class="builtintype" id="8058347">string</span><span class="op" id="8058353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8058356">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8058406">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058458">&#34;&#34;</span><span class="op" id="8058460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058463">&#34;\ufeff#;&#34;</span><span class="op" id="8058473">,</span>&nbsp;<span class="comment" id="8058475">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058500">&#34;#;&#34;</span><span class="op" id="8058504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058507">&#34;foo$\n&#34;</span><span class="op" id="8058515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058518">&#34;123$\n&#34;</span><span class="op" id="8058526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058529">&#34;1.2$\n&#34;</span><span class="op" id="8058537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058540">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="8058548">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058551">`&#34;x&#34;`</span>&nbsp;<span class="op" id="8058557">+</span>&nbsp;<span class="string" id="8058559">&#34;$\n&#34;</span><span class="op" id="8058564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058567">&#34;`x`$\n&#34;</span><span class="op" id="8058575">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058579">&#34;+\n&#34;</span><span class="op" id="8058584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058587">&#34;-\n&#34;</span><span class="op" id="8058592">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058595">&#34;*\n&#34;</span><span class="op" id="8058600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058603">&#34;/\n&#34;</span><span class="op" id="8058608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058611">&#34;%\n&#34;</span><span class="op" id="8058616">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058620">&#34;&amp;\n&#34;</span><span class="op" id="8058625">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058628">&#34;|\n&#34;</span><span class="op" id="8058633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058636">&#34;^\n&#34;</span><span class="op" id="8058641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058644">&#34;&lt;&lt;\n&#34;</span><span class="op" id="8058650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058653">&#34;&gt;&gt;\n&#34;</span><span class="op" id="8058659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058662">&#34;&amp;^\n&#34;</span><span class="op" id="8058668">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058672">&#34;+=\n&#34;</span><span class="op" id="8058678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058681">&#34;-=\n&#34;</span><span class="op" id="8058687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058690">&#34;*=\n&#34;</span><span class="op" id="8058696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058699">&#34;/=\n&#34;</span><span class="op" id="8058705">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058708">&#34;%=\n&#34;</span><span class="op" id="8058714">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058718">&#34;&amp;=\n&#34;</span><span class="op" id="8058724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058727">&#34;|=\n&#34;</span><span class="op" id="8058733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058736">&#34;^=\n&#34;</span><span class="op" id="8058742">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058745">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="8058752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058755">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="8058762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058765">&#34;&amp;^=\n&#34;</span><span class="op" id="8058772">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058776">&#34;&amp;&amp;\n&#34;</span><span class="op" id="8058782">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058785">&#34;||\n&#34;</span><span class="op" id="8058791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058794">&#34;&lt;-\n&#34;</span><span class="op" id="8058800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058803">&#34;++$\n&#34;</span><span class="op" id="8058810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058813">&#34;--$\n&#34;</span><span class="op" id="8058820">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058824">&#34;==\n&#34;</span><span class="op" id="8058830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058833">&#34;&lt;\n&#34;</span><span class="op" id="8058838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058841">&#34;&gt;\n&#34;</span><span class="op" id="8058846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058849">&#34;=\n&#34;</span><span class="op" id="8058854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058857">&#34;!\n&#34;</span><span class="op" id="8058862">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058866">&#34;!=\n&#34;</span><span class="op" id="8058872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058875">&#34;&lt;=\n&#34;</span><span class="op" id="8058881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058884">&#34;&gt;=\n&#34;</span><span class="op" id="8058890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058893">&#34;:=\n&#34;</span><span class="op" id="8058899">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058902">&#34;...\n&#34;</span><span class="op" id="8058909">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058913">&#34;(\n&#34;</span><span class="op" id="8058918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058921">&#34;[\n&#34;</span><span class="op" id="8058926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058929">&#34;{\n&#34;</span><span class="op" id="8058934">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058937">&#34;,\n&#34;</span><span class="op" id="8058942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058945">&#34;.\n&#34;</span><span class="op" id="8058950">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058954">&#34;)$\n&#34;</span><span class="op" id="8058960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058963">&#34;]$\n&#34;</span><span class="op" id="8058969">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058972">&#34;}$\n&#34;</span><span class="op" id="8058978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058981">&#34;#;\n&#34;</span><span class="op" id="8058987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058990">&#34;:\n&#34;</span><span class="op" id="8058995">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8058999">&#34;break$\n&#34;</span><span class="op" id="8059009">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059012">&#34;case\n&#34;</span><span class="op" id="8059020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059023">&#34;chan\n&#34;</span><span class="op" id="8059031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059034">&#34;const\n&#34;</span><span class="op" id="8059043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059046">&#34;continue$\n&#34;</span><span class="op" id="8059059">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059063">&#34;default\n&#34;</span><span class="op" id="8059074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059077">&#34;defer\n&#34;</span><span class="op" id="8059086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059089">&#34;else\n&#34;</span><span class="op" id="8059097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059100">&#34;fallthrough$\n&#34;</span><span class="op" id="8059116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059119">&#34;for\n&#34;</span><span class="op" id="8059126">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059130">&#34;func\n&#34;</span><span class="op" id="8059138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059141">&#34;go\n&#34;</span><span class="op" id="8059147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059150">&#34;goto\n&#34;</span><span class="op" id="8059158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059161">&#34;if\n&#34;</span><span class="op" id="8059167">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059170">&#34;import\n&#34;</span><span class="op" id="8059180">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059184">&#34;interface\n&#34;</span><span class="op" id="8059197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059200">&#34;map\n&#34;</span><span class="op" id="8059207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059210">&#34;package\n&#34;</span><span class="op" id="8059221">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059224">&#34;range\n&#34;</span><span class="op" id="8059233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059236">&#34;return$\n&#34;</span><span class="op" id="8059247">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059251">&#34;select\n&#34;</span><span class="op" id="8059261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059264">&#34;struct\n&#34;</span><span class="op" id="8059274">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059277">&#34;switch\n&#34;</span><span class="op" id="8059287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059290">&#34;type\n&#34;</span><span class="op" id="8059298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059301">&#34;var\n&#34;</span><span class="op" id="8059308">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059312">&#34;foo$//comment\n&#34;</span><span class="op" id="8059329">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059332">&#34;foo$//comment&#34;</span><span class="op" id="8059347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059350">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="8059369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059372">&#34;foo$/*\n*/&#34;</span><span class="op" id="8059384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059387">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8059410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059413">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8059429">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059433">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="8059455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059458">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="8059478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059481">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="8059504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059507">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="8059523">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059526">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="8059562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059565">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="8059594">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059598">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8059625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059628">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="8059661">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059664">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="8059735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059738">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="8059778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059781">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="8059824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059827">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="8059870">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059874">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="8059941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8059944">&#34;package&nbsp;main$&#34;</span><span class="op" id="8059959">,</span><br>
<span class="lineno"></span><span class="op" id="8059961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8059964">func</span>&nbsp;<span class="ident" id="8059969">TestSemis</span><span class="op" id="8059978">(</span><span class="ident" id="8059979">t</span>&nbsp;<span class="op" id="8059981">*</span><span class="ident" id="8059982">testing</span><span class="op" id="8059989">.</span><span class="ident" id="8059990">T</span><span class="op" id="8059991">)</span>&nbsp;<span class="op" id="8059993">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8059996">for</span>&nbsp;<span class="ident" id="8060000">_</span><span class="op" id="8060001">,</span>&nbsp;<span class="ident" id="8060003">line</span>&nbsp;<span class="op" id="8060008">:=</span>&nbsp;<span class="keyword" id="8060011">range</span>&nbsp;<span class="ident" id="8060017">lines</span>&nbsp;<span class="op" id="8060023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060027">checkSemi</span><span class="op" id="8060036">(</span><span class="ident" id="8060037">t</span><span class="op" id="8060038">,</span>&nbsp;<span class="ident" id="8060040">line</span><span class="op" id="8060044">,</span>&nbsp;<span class="num" id="8060046">0</span><span class="op" id="8060047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060051">checkSemi</span><span class="op" id="8060060">(</span><span class="ident" id="8060061">t</span><span class="op" id="8060062">,</span>&nbsp;<span class="ident" id="8060064">line</span><span class="op" id="8060068">,</span>&nbsp;<span class="ident" id="8060070">ScanComments</span><span class="op" id="8060082">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8060087">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8060152">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8060193">for</span>&nbsp;<span class="ident" id="8060197">i</span>&nbsp;<span class="op" id="8060199">:=</span>&nbsp;<span class="builtinfunc" id="8060202">len</span><span class="op" id="8060205">(</span><span class="ident" id="8060206">line</span><span class="op" id="8060210">)</span>&nbsp;<span class="op" id="8060212">-</span>&nbsp;<span class="num" id="8060214">1</span><span class="op" id="8060215">;</span>&nbsp;<span class="ident" id="8060217">i</span>&nbsp;<span class="op" id="8060219">&gt;=</span>&nbsp;<span class="num" id="8060222">0</span>&nbsp;<span class="op" id="8060224">&amp;&amp;</span>&nbsp;<span class="ident" id="8060227">line</span><span class="op" id="8060231">[</span><span class="ident" id="8060232">i</span><span class="op" id="8060233">]</span>&nbsp;<span class="op" id="8060235">==</span>&nbsp;<span class="string" id="8060238">&#39;\n&#39;</span><span class="op" id="8060242">;</span>&nbsp;<span class="ident" id="8060244">i</span><span class="op" id="8060245">--</span>&nbsp;<span class="op" id="8060248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060253">checkSemi</span><span class="op" id="8060262">(</span><span class="ident" id="8060263">t</span><span class="op" id="8060264">,</span>&nbsp;<span class="ident" id="8060266">line</span><span class="op" id="8060270">[</span><span class="num" id="8060271">0</span><span class="op" id="8060272">:</span><span class="ident" id="8060273">i</span><span class="op" id="8060274">]</span><span class="op" id="8060275">,</span>&nbsp;<span class="num" id="8060277">0</span><span class="op" id="8060278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060283">checkSemi</span><span class="op" id="8060292">(</span><span class="ident" id="8060293">t</span><span class="op" id="8060294">,</span>&nbsp;<span class="ident" id="8060296">line</span><span class="op" id="8060300">[</span><span class="num" id="8060301">0</span><span class="op" id="8060302">:</span><span class="ident" id="8060303">i</span><span class="op" id="8060304">]</span><span class="op" id="8060305">,</span>&nbsp;<span class="ident" id="8060307">ScanComments</span><span class="op" id="8060319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060323">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060326">}</span><br>
<span class="lineno"></span><span class="op" id="8060328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8060331">type</span>&nbsp;<span class="ident" id="8060336">segment</span>&nbsp;<span class="keyword" id="8060344">struct</span>&nbsp;<span class="op" id="8060351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060354">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="8060363">string</span>&nbsp;<span class="comment" id="8060370">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060396">filename</span>&nbsp;<span class="builtintype" id="8060405">string</span>&nbsp;<span class="comment" id="8060412">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060443">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8060452">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8060459">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="8060492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8060495">var</span>&nbsp;<span class="ident" id="8060499">segments</span>&nbsp;<span class="op" id="8060508">=</span>&nbsp;<span class="op" id="8060510">[</span><span class="op" id="8060511">]</span><span class="ident" id="8060512">segment</span><span class="op" id="8060519">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8060522">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060599">{</span><span class="string" id="8060600">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="8060609">,</span>&nbsp;<span class="ident" id="8060611">filepath</span><span class="op" id="8060619">.</span><span class="ident" id="8060620">Join</span><span class="op" id="8060624">(</span><span class="string" id="8060625">&#34;dir&#34;</span><span class="op" id="8060630">,</span>&nbsp;<span class="string" id="8060632">&#34;TestLineComments&#34;</span><span class="op" id="8060650">)</span><span class="op" id="8060651">,</span>&nbsp;<span class="num" id="8060653">1</span><span class="op" id="8060654">}</span><span class="op" id="8060655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060658">{</span><span class="string" id="8060659">&#34;\nline2&#34;</span><span class="op" id="8060668">,</span>&nbsp;<span class="ident" id="8060670">filepath</span><span class="op" id="8060678">.</span><span class="ident" id="8060679">Join</span><span class="op" id="8060683">(</span><span class="string" id="8060684">&#34;dir&#34;</span><span class="op" id="8060689">,</span>&nbsp;<span class="string" id="8060691">&#34;TestLineComments&#34;</span><span class="op" id="8060709">)</span><span class="op" id="8060710">,</span>&nbsp;<span class="num" id="8060712">2</span><span class="op" id="8060713">}</span><span class="op" id="8060714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060717">{</span><span class="string" id="8060718">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="8060748">,</span>&nbsp;<span class="ident" id="8060750">filepath</span><span class="op" id="8060758">.</span><span class="ident" id="8060759">Join</span><span class="op" id="8060763">(</span><span class="string" id="8060764">&#34;dir&#34;</span><span class="op" id="8060769">,</span>&nbsp;<span class="string" id="8060771">&#34;TestLineComments&#34;</span><span class="op" id="8060789">)</span><span class="op" id="8060790">,</span>&nbsp;<span class="num" id="8060792">3</span><span class="op" id="8060793">}</span><span class="op" id="8060794">,</span>&nbsp;<span class="comment" id="8060796">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060826">{</span><span class="string" id="8060827">&#34;\nline4&#34;</span><span class="op" id="8060836">,</span>&nbsp;<span class="ident" id="8060838">filepath</span><span class="op" id="8060846">.</span><span class="ident" id="8060847">Join</span><span class="op" id="8060851">(</span><span class="string" id="8060852">&#34;dir&#34;</span><span class="op" id="8060857">,</span>&nbsp;<span class="string" id="8060859">&#34;TestLineComments&#34;</span><span class="op" id="8060877">)</span><span class="op" id="8060878">,</span>&nbsp;<span class="num" id="8060880">4</span><span class="op" id="8060881">}</span><span class="op" id="8060882">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060885">{</span><span class="string" id="8060886">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8060920">,</span>&nbsp;<span class="ident" id="8060922">filepath</span><span class="op" id="8060930">.</span><span class="ident" id="8060931">Join</span><span class="op" id="8060935">(</span><span class="string" id="8060936">&#34;dir&#34;</span><span class="op" id="8060941">,</span>&nbsp;<span class="string" id="8060943">&#34;File1.go&#34;</span><span class="op" id="8060953">)</span><span class="op" id="8060954">,</span>&nbsp;<span class="num" id="8060956">100</span><span class="op" id="8060959">}</span><span class="op" id="8060960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060963">{</span><span class="string" id="8060964">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="8060991">,</span>&nbsp;<span class="string" id="8060993">&#34;&#34;</span><span class="op" id="8060995">,</span>&nbsp;<span class="num" id="8060997">42</span><span class="op" id="8060999">}</span><span class="op" id="8061000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061003">{</span><span class="string" id="8061004">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="8061038">,</span>&nbsp;<span class="ident" id="8061040">filepath</span><span class="op" id="8061048">.</span><span class="ident" id="8061049">Join</span><span class="op" id="8061053">(</span><span class="string" id="8061054">&#34;dir&#34;</span><span class="op" id="8061059">,</span>&nbsp;<span class="string" id="8061061">&#34;File2.go&#34;</span><span class="op" id="8061071">)</span><span class="op" id="8061072">,</span>&nbsp;<span class="num" id="8061074">200</span><span class="op" id="8061077">}</span><span class="op" id="8061078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061081">{</span><span class="string" id="8061082">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8061111">,</span>&nbsp;<span class="ident" id="8061113">filepath</span><span class="op" id="8061121">.</span><span class="ident" id="8061122">Join</span><span class="op" id="8061126">(</span><span class="string" id="8061127">&#34;dir&#34;</span><span class="op" id="8061132">,</span>&nbsp;<span class="string" id="8061134">&#34;foo&#34;</span><span class="op" id="8061139">)</span><span class="op" id="8061140">,</span>&nbsp;<span class="num" id="8061142">42</span><span class="op" id="8061144">}</span><span class="op" id="8061145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061148">{</span><span class="string" id="8061149">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="8061177">,</span>&nbsp;<span class="ident" id="8061179">filepath</span><span class="op" id="8061187">.</span><span class="ident" id="8061188">Join</span><span class="op" id="8061192">(</span><span class="string" id="8061193">&#34;dir&#34;</span><span class="op" id="8061198">,</span>&nbsp;<span class="string" id="8061200">&#34;foo&#34;</span><span class="op" id="8061205">)</span><span class="op" id="8061206">,</span>&nbsp;<span class="num" id="8061208">44</span><span class="op" id="8061210">}</span><span class="op" id="8061211">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8061223">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061253">{</span><span class="string" id="8061254">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="8061281">,</span>&nbsp;<span class="ident" id="8061283">filepath</span><span class="op" id="8061291">.</span><span class="ident" id="8061292">Join</span><span class="op" id="8061296">(</span><span class="string" id="8061297">&#34;dir&#34;</span><span class="op" id="8061302">,</span>&nbsp;<span class="string" id="8061304">&#34;foo&#34;</span><span class="op" id="8061309">)</span><span class="op" id="8061310">,</span>&nbsp;<span class="num" id="8061312">46</span><span class="op" id="8061314">}</span><span class="op" id="8061315">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8061328">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061358">{</span><span class="string" id="8061359">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="8061397">,</span>&nbsp;<span class="ident" id="8061399">filepath</span><span class="op" id="8061407">.</span><span class="ident" id="8061408">Join</span><span class="op" id="8061412">(</span><span class="string" id="8061413">&#34;dir&#34;</span><span class="op" id="8061418">,</span>&nbsp;<span class="string" id="8061420">&#34;foo&#34;</span><span class="op" id="8061425">)</span><span class="op" id="8061426">,</span>&nbsp;<span class="num" id="8061428">48</span><span class="op" id="8061430">}</span><span class="op" id="8061431">,</span>&nbsp;<span class="comment" id="8061433">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061463">{</span><span class="string" id="8061464">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8061493">,</span>&nbsp;<span class="ident" id="8061495">filepath</span><span class="op" id="8061503">.</span><span class="ident" id="8061504">Join</span><span class="op" id="8061508">(</span><span class="string" id="8061509">&#34;dir&#34;</span><span class="op" id="8061514">,</span>&nbsp;<span class="string" id="8061516">&#34;foo&#34;</span><span class="op" id="8061521">)</span><span class="op" id="8061522">,</span>&nbsp;<span class="num" id="8061524">42</span><span class="op" id="8061526">}</span><span class="op" id="8061527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061530">{</span><span class="string" id="8061531">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8061571">,</span>&nbsp;<span class="ident" id="8061573">filepath</span><span class="op" id="8061581">.</span><span class="ident" id="8061582">Join</span><span class="op" id="8061586">(</span><span class="string" id="8061587">&#34;dir&#34;</span><span class="op" id="8061592">,</span>&nbsp;<span class="string" id="8061594">&#34;a&#34;</span><span class="op" id="8061597">,</span>&nbsp;<span class="string" id="8061599">&#34;b&#34;</span><span class="op" id="8061602">,</span>&nbsp;<span class="string" id="8061604">&#34;c&#34;</span><span class="op" id="8061607">,</span>&nbsp;<span class="string" id="8061609">&#34;File1.go&#34;</span><span class="op" id="8061619">)</span><span class="op" id="8061620">,</span>&nbsp;<span class="num" id="8061622">100</span><span class="op" id="8061625">}</span><span class="op" id="8061626">,</span><br>
<span class="lineno"></span><span class="op" id="8061628">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="8061631">var</span>&nbsp;<span class="ident" id="8061635">unixsegments</span>&nbsp;<span class="op" id="8061648">=</span>&nbsp;<span class="op" id="8061650">[</span><span class="op" id="8061651">]</span><span class="ident" id="8061652">segment</span><span class="op" id="8061659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061662">{</span><span class="string" id="8061663">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8061691">,</span>&nbsp;<span class="string" id="8061693">&#34;/bar&#34;</span><span class="op" id="8061699">,</span>&nbsp;<span class="num" id="8061701">42</span><span class="op" id="8061703">}</span><span class="op" id="8061704">,</span><br>
<span class="lineno"></span><span class="op" id="8061706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="8061709">var</span>&nbsp;<span class="ident" id="8061713">winsegments</span>&nbsp;<span class="op" id="8061725">=</span>&nbsp;<span class="op" id="8061727">[</span><span class="op" id="8061728">]</span><span class="ident" id="8061729">segment</span><span class="op" id="8061736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061739">{</span><span class="string" id="8061740">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="8061771">,</span>&nbsp;<span class="string" id="8061773">&#34;c:\\bar&#34;</span><span class="op" id="8061782">,</span>&nbsp;<span class="num" id="8061784">42</span><span class="op" id="8061786">}</span><span class="op" id="8061787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061790">{</span><span class="string" id="8061791">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="8061834">,</span>&nbsp;<span class="string" id="8061836">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="8061855">,</span>&nbsp;<span class="num" id="8061857">100</span><span class="op" id="8061860">}</span><span class="op" id="8061861">,</span><br>
<span class="lineno"></span><span class="op" id="8061863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="8061866">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8061952">func</span>&nbsp;<span class="ident" id="8061957">TestLineComments</span><span class="op" id="8061973">(</span><span class="ident" id="8061974">t</span>&nbsp;<span class="op" id="8061976">*</span><span class="ident" id="8061977">testing</span><span class="op" id="8061984">.</span><span class="ident" id="8061985">T</span><span class="op" id="8061986">)</span>&nbsp;<span class="op" id="8061988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061991">segs</span>&nbsp;<span class="op" id="8061996">:=</span>&nbsp;<span class="ident" id="8061999">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062009">if</span>&nbsp;<span class="ident" id="8062012">runtime</span><span class="op" id="8062019">.</span><span class="ident" id="8062020">GOOS</span>&nbsp;<span class="op" id="8062025">==</span>&nbsp;<span class="string" id="8062028">&#34;windows&#34;</span>&nbsp;<span class="op" id="8062038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062042">segs</span>&nbsp;<span class="op" id="8062047">=</span>&nbsp;<span class="builtinfunc" id="8062049">append</span><span class="op" id="8062055">(</span><span class="ident" id="8062056">segs</span><span class="op" id="8062060">,</span>&nbsp;<span class="ident" id="8062062">winsegments</span><span class="op" id="8062073">...</span><span class="op" id="8062076">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062079">}</span>&nbsp;<span class="keyword" id="8062081">else</span>&nbsp;<span class="op" id="8062086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062090">segs</span>&nbsp;<span class="op" id="8062095">=</span>&nbsp;<span class="builtinfunc" id="8062097">append</span><span class="op" id="8062103">(</span><span class="ident" id="8062104">segs</span><span class="op" id="8062108">,</span>&nbsp;<span class="ident" id="8062110">unixsegments</span><span class="op" id="8062122">...</span><span class="op" id="8062125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8062132">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062148">var</span>&nbsp;<span class="ident" id="8062152">src</span>&nbsp;<span class="builtintype" id="8062156">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062164">for</span>&nbsp;<span class="ident" id="8062168">_</span><span class="op" id="8062169">,</span>&nbsp;<span class="ident" id="8062171">e</span>&nbsp;<span class="op" id="8062173">:=</span>&nbsp;<span class="keyword" id="8062176">range</span>&nbsp;<span class="ident" id="8062182">segs</span>&nbsp;<span class="op" id="8062187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062191">src</span>&nbsp;<span class="op" id="8062195">+=</span>&nbsp;<span class="ident" id="8062198">e</span><span class="op" id="8062199">.</span><span class="ident" id="8062200">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8062213">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062229">var</span>&nbsp;<span class="ident" id="8062233">S</span>&nbsp;<span class="ident" id="8062235">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062244">file</span>&nbsp;<span class="op" id="8062249">:=</span>&nbsp;<span class="ident" id="8062252">fset</span><span class="op" id="8062256">.</span><span class="ident" id="8062257">AddFile</span><span class="op" id="8062264">(</span><span class="ident" id="8062265">filepath</span><span class="op" id="8062273">.</span><span class="ident" id="8062274">Join</span><span class="op" id="8062278">(</span><span class="string" id="8062279">&#34;dir&#34;</span><span class="op" id="8062284">,</span>&nbsp;<span class="string" id="8062286">&#34;TestLineComments&#34;</span><span class="op" id="8062304">)</span><span class="op" id="8062305">,</span>&nbsp;<span class="ident" id="8062307">fset</span><span class="op" id="8062311">.</span><span class="ident" id="8062312">Base</span><span class="op" id="8062316">(</span><span class="op" id="8062317">)</span><span class="op" id="8062318">,</span>&nbsp;<span class="builtinfunc" id="8062320">len</span><span class="op" id="8062323">(</span><span class="ident" id="8062324">src</span><span class="op" id="8062327">)</span><span class="op" id="8062328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062331">S</span><span class="op" id="8062332">.</span><span class="ident" id="8062333">Init</span><span class="op" id="8062337">(</span><span class="ident" id="8062338">file</span><span class="op" id="8062342">,</span>&nbsp;<span class="op" id="8062344">[</span><span class="op" id="8062345">]</span><span class="builtintype" id="8062346">byte</span><span class="op" id="8062350">(</span><span class="ident" id="8062351">src</span><span class="op" id="8062354">)</span><span class="op" id="8062355">,</span>&nbsp;<span class="builtintype" id="8062357">nil</span><span class="op" id="8062360">,</span>&nbsp;<span class="ident" id="8062362">dontInsertSemis</span><span class="op" id="8062377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062380">for</span>&nbsp;<span class="ident" id="8062384">_</span><span class="op" id="8062385">,</span>&nbsp;<span class="ident" id="8062387">s</span>&nbsp;<span class="op" id="8062389">:=</span>&nbsp;<span class="keyword" id="8062392">range</span>&nbsp;<span class="ident" id="8062398">segs</span>&nbsp;<span class="op" id="8062403">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062407">p</span><span class="op" id="8062408">,</span>&nbsp;<span class="ident" id="8062410">_</span><span class="op" id="8062411">,</span>&nbsp;<span class="ident" id="8062413">lit</span>&nbsp;<span class="op" id="8062417">:=</span>&nbsp;<span class="ident" id="8062420">S</span><span class="op" id="8062421">.</span><span class="ident" id="8062422">Scan</span><span class="op" id="8062426">(</span><span class="op" id="8062427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062431">pos</span>&nbsp;<span class="op" id="8062435">:=</span>&nbsp;<span class="ident" id="8062438">file</span><span class="op" id="8062442">.</span><span class="ident" id="8062443">Position</span><span class="op" id="8062451">(</span><span class="ident" id="8062452">p</span><span class="op" id="8062453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062457">checkPos</span><span class="op" id="8062465">(</span><span class="ident" id="8062466">t</span><span class="op" id="8062467">,</span>&nbsp;<span class="ident" id="8062469">lit</span><span class="op" id="8062472">,</span>&nbsp;<span class="ident" id="8062474">p</span><span class="op" id="8062475">,</span>&nbsp;<span class="ident" id="8062477">token</span><span class="op" id="8062482">.</span><span class="ident" id="8062483">Position</span><span class="op" id="8062491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062496">Filename</span><span class="op" id="8062504">:</span>&nbsp;<span class="ident" id="8062506">s</span><span class="op" id="8062507">.</span><span class="ident" id="8062508">filename</span><span class="op" id="8062516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062521">Offset</span><span class="op" id="8062527">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8062531">pos</span><span class="op" id="8062534">.</span><span class="ident" id="8062535">Offset</span><span class="op" id="8062541">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062546">Line</span><span class="op" id="8062550">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062556">s</span><span class="op" id="8062557">.</span><span class="ident" id="8062558">line</span><span class="op" id="8062562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062567">Column</span><span class="op" id="8062573">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8062577">pos</span><span class="op" id="8062580">.</span><span class="ident" id="8062581">Column</span><span class="op" id="8062587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062591">}</span><span class="op" id="8062592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062599">if</span>&nbsp;<span class="ident" id="8062602">S</span><span class="op" id="8062603">.</span><span class="ident" id="8062604">ErrorCount</span>&nbsp;<span class="op" id="8062615">!=</span>&nbsp;<span class="num" id="8062618">0</span>&nbsp;<span class="op" id="8062620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062624">t</span><span class="op" id="8062625">.</span><span class="ident" id="8062626">Errorf</span><span class="op" id="8062632">(</span><span class="string" id="8062633">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8062650">,</span>&nbsp;<span class="ident" id="8062652">S</span><span class="op" id="8062653">.</span><span class="ident" id="8062654">ErrorCount</span><span class="op" id="8062664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062667">}</span><br>
<span class="lineno"></span><span class="op" id="8062669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="8062672">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="8062749">func</span>&nbsp;<span class="ident" id="8062754">TestInit</span><span class="op" id="8062762">(</span><span class="ident" id="8062763">t</span>&nbsp;<span class="op" id="8062765">*</span><span class="ident" id="8062766">testing</span><span class="op" id="8062773">.</span><span class="ident" id="8062774">T</span><span class="op" id="8062775">)</span>&nbsp;<span class="op" id="8062777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062780">var</span>&nbsp;<span class="ident" id="8062784">s</span>&nbsp;<span class="ident" id="8062786">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8062796">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062809">src1</span>&nbsp;<span class="op" id="8062814">:=</span>&nbsp;<span class="string" id="8062817">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062832">f1</span>&nbsp;<span class="op" id="8062835">:=</span>&nbsp;<span class="ident" id="8062838">fset</span><span class="op" id="8062842">.</span><span class="ident" id="8062843">AddFile</span><span class="op" id="8062850">(</span><span class="string" id="8062851">&#34;src1&#34;</span><span class="op" id="8062857">,</span>&nbsp;<span class="ident" id="8062859">fset</span><span class="op" id="8062863">.</span><span class="ident" id="8062864">Base</span><span class="op" id="8062868">(</span><span class="op" id="8062869">)</span><span class="op" id="8062870">,</span>&nbsp;<span class="builtinfunc" id="8062872">len</span><span class="op" id="8062875">(</span><span class="ident" id="8062876">src1</span><span class="op" id="8062880">)</span><span class="op" id="8062881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062884">s</span><span class="op" id="8062885">.</span><span class="ident" id="8062886">Init</span><span class="op" id="8062890">(</span><span class="ident" id="8062891">f1</span><span class="op" id="8062893">,</span>&nbsp;<span class="op" id="8062895">[</span><span class="op" id="8062896">]</span><span class="builtintype" id="8062897">byte</span><span class="op" id="8062901">(</span><span class="ident" id="8062902">src1</span><span class="op" id="8062906">)</span><span class="op" id="8062907">,</span>&nbsp;<span class="builtintype" id="8062909">nil</span><span class="op" id="8062912">,</span>&nbsp;<span class="ident" id="8062914">dontInsertSemis</span><span class="op" id="8062929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062932">if</span>&nbsp;<span class="ident" id="8062935">f1</span><span class="op" id="8062937">.</span><span class="ident" id="8062938">Size</span><span class="op" id="8062942">(</span><span class="op" id="8062943">)</span>&nbsp;<span class="op" id="8062945">!=</span>&nbsp;<span class="builtinfunc" id="8062948">len</span><span class="op" id="8062951">(</span><span class="ident" id="8062952">src1</span><span class="op" id="8062956">)</span>&nbsp;<span class="op" id="8062958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062962">t</span><span class="op" id="8062963">.</span><span class="ident" id="8062964">Errorf</span><span class="op" id="8062970">(</span><span class="string" id="8062971">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8063007">,</span>&nbsp;<span class="ident" id="8063009">f1</span><span class="op" id="8063011">.</span><span class="ident" id="8063012">Size</span><span class="op" id="8063016">(</span><span class="op" id="8063017">)</span><span class="op" id="8063018">,</span>&nbsp;<span class="builtinfunc" id="8063020">len</span><span class="op" id="8063023">(</span><span class="ident" id="8063024">src1</span><span class="op" id="8063028">)</span><span class="op" id="8063029">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063035">s</span><span class="op" id="8063036">.</span><span class="ident" id="8063037">Scan</span><span class="op" id="8063041">(</span><span class="op" id="8063042">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8063057">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063064">s</span><span class="op" id="8063065">.</span><span class="ident" id="8063066">Scan</span><span class="op" id="8063070">(</span><span class="op" id="8063071">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8063086">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063095">_</span><span class="op" id="8063096">,</span>&nbsp;<span class="ident" id="8063098">tok</span><span class="op" id="8063101">,</span>&nbsp;<span class="ident" id="8063103">_</span>&nbsp;<span class="op" id="8063105">:=</span>&nbsp;<span class="ident" id="8063108">s</span><span class="op" id="8063109">.</span><span class="ident" id="8063110">Scan</span><span class="op" id="8063114">(</span><span class="op" id="8063115">)</span>&nbsp;<span class="comment" id="8063117">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063123">if</span>&nbsp;<span class="ident" id="8063126">tok</span>&nbsp;<span class="op" id="8063130">!=</span>&nbsp;<span class="ident" id="8063133">token</span><span class="op" id="8063138">.</span><span class="ident" id="8063139">LBRACE</span>&nbsp;<span class="op" id="8063146">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063150">t</span><span class="op" id="8063151">.</span><span class="ident" id="8063152">Errorf</span><span class="op" id="8063158">(</span><span class="string" id="8063159">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8063191">,</span>&nbsp;<span class="ident" id="8063193">tok</span><span class="op" id="8063196">,</span>&nbsp;<span class="ident" id="8063198">token</span><span class="op" id="8063203">.</span><span class="ident" id="8063204">LBRACE</span><span class="op" id="8063210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8063217">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063230">src2</span>&nbsp;<span class="op" id="8063235">:=</span>&nbsp;<span class="string" id="8063238">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063253">f2</span>&nbsp;<span class="op" id="8063256">:=</span>&nbsp;<span class="ident" id="8063259">fset</span><span class="op" id="8063263">.</span><span class="ident" id="8063264">AddFile</span><span class="op" id="8063271">(</span><span class="string" id="8063272">&#34;src2&#34;</span><span class="op" id="8063278">,</span>&nbsp;<span class="ident" id="8063280">fset</span><span class="op" id="8063284">.</span><span class="ident" id="8063285">Base</span><span class="op" id="8063289">(</span><span class="op" id="8063290">)</span><span class="op" id="8063291">,</span>&nbsp;<span class="builtinfunc" id="8063293">len</span><span class="op" id="8063296">(</span><span class="ident" id="8063297">src2</span><span class="op" id="8063301">)</span><span class="op" id="8063302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063305">s</span><span class="op" id="8063306">.</span><span class="ident" id="8063307">Init</span><span class="op" id="8063311">(</span><span class="ident" id="8063312">f2</span><span class="op" id="8063314">,</span>&nbsp;<span class="op" id="8063316">[</span><span class="op" id="8063317">]</span><span class="builtintype" id="8063318">byte</span><span class="op" id="8063322">(</span><span class="ident" id="8063323">src2</span><span class="op" id="8063327">)</span><span class="op" id="8063328">,</span>&nbsp;<span class="builtintype" id="8063330">nil</span><span class="op" id="8063333">,</span>&nbsp;<span class="ident" id="8063335">dontInsertSemis</span><span class="op" id="8063350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063353">if</span>&nbsp;<span class="ident" id="8063356">f2</span><span class="op" id="8063358">.</span><span class="ident" id="8063359">Size</span><span class="op" id="8063363">(</span><span class="op" id="8063364">)</span>&nbsp;<span class="op" id="8063366">!=</span>&nbsp;<span class="builtinfunc" id="8063369">len</span><span class="op" id="8063372">(</span><span class="ident" id="8063373">src2</span><span class="op" id="8063377">)</span>&nbsp;<span class="op" id="8063379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063383">t</span><span class="op" id="8063384">.</span><span class="ident" id="8063385">Errorf</span><span class="op" id="8063391">(</span><span class="string" id="8063392">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8063428">,</span>&nbsp;<span class="ident" id="8063430">f2</span><span class="op" id="8063432">.</span><span class="ident" id="8063433">Size</span><span class="op" id="8063437">(</span><span class="op" id="8063438">)</span><span class="op" id="8063439">,</span>&nbsp;<span class="builtinfunc" id="8063441">len</span><span class="op" id="8063444">(</span><span class="ident" id="8063445">src2</span><span class="op" id="8063449">)</span><span class="op" id="8063450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063453">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063456">_</span><span class="op" id="8063457">,</span>&nbsp;<span class="ident" id="8063459">tok</span><span class="op" id="8063462">,</span>&nbsp;<span class="ident" id="8063464">_</span>&nbsp;<span class="op" id="8063466">=</span>&nbsp;<span class="ident" id="8063468">s</span><span class="op" id="8063469">.</span><span class="ident" id="8063470">Scan</span><span class="op" id="8063474">(</span><span class="op" id="8063475">)</span>&nbsp;<span class="comment" id="8063477">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063484">if</span>&nbsp;<span class="ident" id="8063487">tok</span>&nbsp;<span class="op" id="8063491">!=</span>&nbsp;<span class="ident" id="8063494">token</span><span class="op" id="8063499">.</span><span class="ident" id="8063500">GO</span>&nbsp;<span class="op" id="8063503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063507">t</span><span class="op" id="8063508">.</span><span class="ident" id="8063509">Errorf</span><span class="op" id="8063515">(</span><span class="string" id="8063516">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8063548">,</span>&nbsp;<span class="ident" id="8063550">tok</span><span class="op" id="8063553">,</span>&nbsp;<span class="ident" id="8063555">token</span><span class="op" id="8063560">.</span><span class="ident" id="8063561">GO</span><span class="op" id="8063563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063570">if</span>&nbsp;<span class="ident" id="8063573">s</span><span class="op" id="8063574">.</span><span class="ident" id="8063575">ErrorCount</span>&nbsp;<span class="op" id="8063586">!=</span>&nbsp;<span class="num" id="8063589">0</span>&nbsp;<span class="op" id="8063591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063595">t</span><span class="op" id="8063596">.</span><span class="ident" id="8063597">Errorf</span><span class="op" id="8063603">(</span><span class="string" id="8063604">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8063621">,</span>&nbsp;<span class="ident" id="8063623">s</span><span class="op" id="8063624">.</span><span class="ident" id="8063625">ErrorCount</span><span class="op" id="8063635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063638">}</span><br>
<span class="lineno"></span><span class="op" id="8063640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="8063643">func</span>&nbsp;<span class="ident" id="8063648">TestStdErrorHander</span><span class="op" id="8063666">(</span><span class="ident" id="8063667">t</span>&nbsp;<span class="op" id="8063669">*</span><span class="ident" id="8063670">testing</span><span class="op" id="8063677">.</span><span class="ident" id="8063678">T</span><span class="op" id="8063679">)</span>&nbsp;<span class="op" id="8063681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063684">const</span>&nbsp;<span class="ident" id="8063690">src</span>&nbsp;<span class="op" id="8063694">=</span>&nbsp;<span class="string" id="8063696">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8063702">+</span>&nbsp;<span class="comment" id="8063704">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8063743">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8063751">+</span>&nbsp;<span class="comment" id="8063753">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8063786">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="8063806">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8063810">&#34;@\n&#34;</span>&nbsp;<span class="op" id="8063816">+</span>&nbsp;<span class="comment" id="8063818">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8063853">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="8063872">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8063876">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="8063884">+</span>&nbsp;<span class="comment" id="8063886">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8063925">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="8063944">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8063948">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="8063956">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063989">var</span>&nbsp;<span class="ident" id="8063993">list</span>&nbsp;<span class="ident" id="8063998">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064009">eh</span>&nbsp;<span class="op" id="8064012">:=</span>&nbsp;<span class="keyword" id="8064015">func</span><span class="op" id="8064019">(</span><span class="ident" id="8064020">pos</span>&nbsp;<span class="ident" id="8064024">token</span><span class="op" id="8064029">.</span><span class="ident" id="8064030">Position</span><span class="op" id="8064038">,</span>&nbsp;<span class="ident" id="8064040">msg</span>&nbsp;<span class="builtintype" id="8064044">string</span><span class="op" id="8064050">)</span>&nbsp;<span class="op" id="8064052">{</span>&nbsp;<span class="ident" id="8064054">list</span><span class="op" id="8064058">.</span><span class="ident" id="8064059">Add</span><span class="op" id="8064062">(</span><span class="ident" id="8064063">pos</span><span class="op" id="8064066">,</span>&nbsp;<span class="ident" id="8064068">msg</span><span class="op" id="8064071">)</span>&nbsp;<span class="op" id="8064073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064077">var</span>&nbsp;<span class="ident" id="8064081">s</span>&nbsp;<span class="ident" id="8064083">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064092">s</span><span class="op" id="8064093">.</span><span class="ident" id="8064094">Init</span><span class="op" id="8064098">(</span><span class="ident" id="8064099">fset</span><span class="op" id="8064103">.</span><span class="ident" id="8064104">AddFile</span><span class="op" id="8064111">(</span><span class="string" id="8064112">&#34;File1&#34;</span><span class="op" id="8064119">,</span>&nbsp;<span class="ident" id="8064121">fset</span><span class="op" id="8064125">.</span><span class="ident" id="8064126">Base</span><span class="op" id="8064130">(</span><span class="op" id="8064131">)</span><span class="op" id="8064132">,</span>&nbsp;<span class="builtinfunc" id="8064134">len</span><span class="op" id="8064137">(</span><span class="ident" id="8064138">src</span><span class="op" id="8064141">)</span><span class="op" id="8064142">)</span><span class="op" id="8064143">,</span>&nbsp;<span class="op" id="8064145">[</span><span class="op" id="8064146">]</span><span class="builtintype" id="8064147">byte</span><span class="op" id="8064151">(</span><span class="ident" id="8064152">src</span><span class="op" id="8064155">)</span><span class="op" id="8064156">,</span>&nbsp;<span class="ident" id="8064158">eh</span><span class="op" id="8064160">,</span>&nbsp;<span class="ident" id="8064162">dontInsertSemis</span><span class="op" id="8064177">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064180">for</span>&nbsp;<span class="op" id="8064184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064188">if</span>&nbsp;<span class="ident" id="8064191">_</span><span class="op" id="8064192">,</span>&nbsp;<span class="ident" id="8064194">tok</span><span class="op" id="8064197">,</span>&nbsp;<span class="ident" id="8064199">_</span>&nbsp;<span class="op" id="8064201">:=</span>&nbsp;<span class="ident" id="8064204">s</span><span class="op" id="8064205">.</span><span class="ident" id="8064206">Scan</span><span class="op" id="8064210">(</span><span class="op" id="8064211">)</span><span class="op" id="8064212">;</span>&nbsp;<span class="ident" id="8064214">tok</span>&nbsp;<span class="op" id="8064218">==</span>&nbsp;<span class="ident" id="8064221">token</span><span class="op" id="8064226">.</span><span class="ident" id="8064227">EOF</span>&nbsp;<span class="op" id="8064231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064236">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064247">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064251">if</span>&nbsp;<span class="builtinfunc" id="8064254">len</span><span class="op" id="8064257">(</span><span class="ident" id="8064258">list</span><span class="op" id="8064262">)</span>&nbsp;<span class="op" id="8064264">!=</span>&nbsp;<span class="ident" id="8064267">s</span><span class="op" id="8064268">.</span><span class="ident" id="8064269">ErrorCount</span>&nbsp;<span class="op" id="8064280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064284">t</span><span class="op" id="8064285">.</span><span class="ident" id="8064286">Errorf</span><span class="op" id="8064292">(</span><span class="string" id="8064293">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8064323">,</span>&nbsp;<span class="builtinfunc" id="8064325">len</span><span class="op" id="8064328">(</span><span class="ident" id="8064329">list</span><span class="op" id="8064333">)</span><span class="op" id="8064334">,</span>&nbsp;<span class="ident" id="8064336">s</span><span class="op" id="8064337">.</span><span class="ident" id="8064338">ErrorCount</span><span class="op" id="8064348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064355">if</span>&nbsp;<span class="builtinfunc" id="8064358">len</span><span class="op" id="8064361">(</span><span class="ident" id="8064362">list</span><span class="op" id="8064366">)</span>&nbsp;<span class="op" id="8064368">!=</span>&nbsp;<span class="num" id="8064371">9</span>&nbsp;<span class="op" id="8064373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064377">t</span><span class="op" id="8064378">.</span><span class="ident" id="8064379">Errorf</span><span class="op" id="8064385">(</span><span class="string" id="8064386">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8064419">,</span>&nbsp;<span class="builtinfunc" id="8064421">len</span><span class="op" id="8064424">(</span><span class="ident" id="8064425">list</span><span class="op" id="8064429">)</span><span class="op" id="8064430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064434">PrintError</span><span class="op" id="8064444">(</span><span class="ident" id="8064445">os</span><span class="op" id="8064447">.</span><span class="ident" id="8064448">Stderr</span><span class="op" id="8064454">,</span>&nbsp;<span class="ident" id="8064456">list</span><span class="op" id="8064460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064467">list</span><span class="op" id="8064471">.</span><span class="ident" id="8064472">Sort</span><span class="op" id="8064476">(</span><span class="op" id="8064477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064480">if</span>&nbsp;<span class="builtinfunc" id="8064483">len</span><span class="op" id="8064486">(</span><span class="ident" id="8064487">list</span><span class="op" id="8064491">)</span>&nbsp;<span class="op" id="8064493">!=</span>&nbsp;<span class="num" id="8064496">9</span>&nbsp;<span class="op" id="8064498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064502">t</span><span class="op" id="8064503">.</span><span class="ident" id="8064504">Errorf</span><span class="op" id="8064510">(</span><span class="string" id="8064511">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="8064547">,</span>&nbsp;<span class="builtinfunc" id="8064549">len</span><span class="op" id="8064552">(</span><span class="ident" id="8064553">list</span><span class="op" id="8064557">)</span><span class="op" id="8064558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064562">PrintError</span><span class="op" id="8064572">(</span><span class="ident" id="8064573">os</span><span class="op" id="8064575">.</span><span class="ident" id="8064576">Stderr</span><span class="op" id="8064582">,</span>&nbsp;<span class="ident" id="8064584">list</span><span class="op" id="8064588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064591">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064595">list</span><span class="op" id="8064599">.</span><span class="ident" id="8064600">RemoveMultiples</span><span class="op" id="8064615">(</span><span class="op" id="8064616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064619">if</span>&nbsp;<span class="builtinfunc" id="8064622">len</span><span class="op" id="8064625">(</span><span class="ident" id="8064626">list</span><span class="op" id="8064630">)</span>&nbsp;<span class="op" id="8064632">!=</span>&nbsp;<span class="num" id="8064635">4</span>&nbsp;<span class="op" id="8064637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064641">t</span><span class="op" id="8064642">.</span><span class="ident" id="8064643">Errorf</span><span class="op" id="8064649">(</span><span class="string" id="8064650">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="8064692">,</span>&nbsp;<span class="builtinfunc" id="8064694">len</span><span class="op" id="8064697">(</span><span class="ident" id="8064698">list</span><span class="op" id="8064702">)</span><span class="op" id="8064703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064707">PrintError</span><span class="op" id="8064717">(</span><span class="ident" id="8064718">os</span><span class="op" id="8064720">.</span><span class="ident" id="8064721">Stderr</span><span class="op" id="8064727">,</span>&nbsp;<span class="ident" id="8064729">list</span><span class="op" id="8064733">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064736">}</span><br>
<span class="lineno"></span><span class="op" id="8064738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8064741">type</span>&nbsp;<span class="ident" id="8064746">errorCollector</span>&nbsp;<span class="keyword" id="8064761">struct</span>&nbsp;<span class="op" id="8064768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064771">cnt</span>&nbsp;<span class="builtintype" id="8064775">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8064790">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064823">msg</span>&nbsp;<span class="builtintype" id="8064827">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8064842">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064877">pos</span>&nbsp;<span class="ident" id="8064881">token</span><span class="op" id="8064886">.</span><span class="ident" id="8064887">Position</span>&nbsp;<span class="comment" id="8064896">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="8064931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8064934">func</span>&nbsp;<span class="ident" id="8064939">checkError</span><span class="op" id="8064949">(</span><span class="ident" id="8064950">t</span>&nbsp;<span class="op" id="8064952">*</span><span class="ident" id="8064953">testing</span><span class="op" id="8064960">.</span><span class="ident" id="8064961">T</span><span class="op" id="8064962">,</span>&nbsp;<span class="ident" id="8064964">src</span>&nbsp;<span class="builtintype" id="8064968">string</span><span class="op" id="8064974">,</span>&nbsp;<span class="ident" id="8064976">tok</span>&nbsp;<span class="ident" id="8064980">token</span><span class="op" id="8064985">.</span><span class="ident" id="8064986">Token</span><span class="op" id="8064991">,</span>&nbsp;<span class="ident" id="8064993">pos</span>&nbsp;<span class="builtintype" id="8064997">int</span><span class="op" id="8065000">,</span>&nbsp;<span class="ident" id="8065002">lit</span><span class="op" id="8065005">,</span>&nbsp;<span class="ident" id="8065007">err</span>&nbsp;<span class="builtintype" id="8065011">string</span><span class="op" id="8065017">)</span>&nbsp;<span class="op" id="8065019">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065022">var</span>&nbsp;<span class="ident" id="8065026">s</span>&nbsp;<span class="ident" id="8065028">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065037">var</span>&nbsp;<span class="ident" id="8065041">h</span>&nbsp;<span class="ident" id="8065043">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065059">eh</span>&nbsp;<span class="op" id="8065062">:=</span>&nbsp;<span class="keyword" id="8065065">func</span><span class="op" id="8065069">(</span><span class="ident" id="8065070">pos</span>&nbsp;<span class="ident" id="8065074">token</span><span class="op" id="8065079">.</span><span class="ident" id="8065080">Position</span><span class="op" id="8065088">,</span>&nbsp;<span class="ident" id="8065090">msg</span>&nbsp;<span class="builtintype" id="8065094">string</span><span class="op" id="8065100">)</span>&nbsp;<span class="op" id="8065102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065106">h</span><span class="op" id="8065107">.</span><span class="ident" id="8065108">cnt</span><span class="op" id="8065111">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065116">h</span><span class="op" id="8065117">.</span><span class="ident" id="8065118">msg</span>&nbsp;<span class="op" id="8065122">=</span>&nbsp;<span class="ident" id="8065124">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065130">h</span><span class="op" id="8065131">.</span><span class="ident" id="8065132">pos</span>&nbsp;<span class="op" id="8065136">=</span>&nbsp;<span class="ident" id="8065138">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065146">s</span><span class="op" id="8065147">.</span><span class="ident" id="8065148">Init</span><span class="op" id="8065152">(</span><span class="ident" id="8065153">fset</span><span class="op" id="8065157">.</span><span class="ident" id="8065158">AddFile</span><span class="op" id="8065165">(</span><span class="string" id="8065166">&#34;&#34;</span><span class="op" id="8065168">,</span>&nbsp;<span class="ident" id="8065170">fset</span><span class="op" id="8065174">.</span><span class="ident" id="8065175">Base</span><span class="op" id="8065179">(</span><span class="op" id="8065180">)</span><span class="op" id="8065181">,</span>&nbsp;<span class="builtinfunc" id="8065183">len</span><span class="op" id="8065186">(</span><span class="ident" id="8065187">src</span><span class="op" id="8065190">)</span><span class="op" id="8065191">)</span><span class="op" id="8065192">,</span>&nbsp;<span class="op" id="8065194">[</span><span class="op" id="8065195">]</span><span class="builtintype" id="8065196">byte</span><span class="op" id="8065200">(</span><span class="ident" id="8065201">src</span><span class="op" id="8065204">)</span><span class="op" id="8065205">,</span>&nbsp;<span class="ident" id="8065207">eh</span><span class="op" id="8065209">,</span>&nbsp;<span class="ident" id="8065211">ScanComments</span><span class="op" id="8065223">|</span><span class="ident" id="8065224">dontInsertSemis</span><span class="op" id="8065239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065242">_</span><span class="op" id="8065243">,</span>&nbsp;<span class="ident" id="8065245">tok0</span><span class="op" id="8065249">,</span>&nbsp;<span class="ident" id="8065251">lit0</span>&nbsp;<span class="op" id="8065256">:=</span>&nbsp;<span class="ident" id="8065259">s</span><span class="op" id="8065260">.</span><span class="ident" id="8065261">Scan</span><span class="op" id="8065265">(</span><span class="op" id="8065266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065269">if</span>&nbsp;<span class="ident" id="8065272">tok0</span>&nbsp;<span class="op" id="8065277">!=</span>&nbsp;<span class="ident" id="8065280">tok</span>&nbsp;<span class="op" id="8065284">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065288">t</span><span class="op" id="8065289">.</span><span class="ident" id="8065290">Errorf</span><span class="op" id="8065296">(</span><span class="string" id="8065297">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="8065322">,</span>&nbsp;<span class="ident" id="8065324">src</span><span class="op" id="8065327">,</span>&nbsp;<span class="ident" id="8065329">tok0</span><span class="op" id="8065333">,</span>&nbsp;<span class="ident" id="8065335">tok</span><span class="op" id="8065338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065344">if</span>&nbsp;<span class="ident" id="8065347">tok0</span>&nbsp;<span class="op" id="8065352">!=</span>&nbsp;<span class="ident" id="8065355">token</span><span class="op" id="8065360">.</span><span class="ident" id="8065361">ILLEGAL</span>&nbsp;<span class="op" id="8065369">&amp;&amp;</span>&nbsp;<span class="ident" id="8065372">lit0</span>&nbsp;<span class="op" id="8065377">!=</span>&nbsp;<span class="ident" id="8065380">lit</span>&nbsp;<span class="op" id="8065384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065388">t</span><span class="op" id="8065389">.</span><span class="ident" id="8065390">Errorf</span><span class="op" id="8065396">(</span><span class="string" id="8065397">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8065430">,</span>&nbsp;<span class="ident" id="8065432">src</span><span class="op" id="8065435">,</span>&nbsp;<span class="ident" id="8065437">lit0</span><span class="op" id="8065441">,</span>&nbsp;<span class="ident" id="8065443">lit</span><span class="op" id="8065446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065449">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065452">cnt</span>&nbsp;<span class="op" id="8065456">:=</span>&nbsp;<span class="num" id="8065459">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065462">if</span>&nbsp;<span class="ident" id="8065465">err</span>&nbsp;<span class="op" id="8065469">!=</span>&nbsp;<span class="string" id="8065472">&#34;&#34;</span>&nbsp;<span class="op" id="8065475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065479">cnt</span>&nbsp;<span class="op" id="8065483">=</span>&nbsp;<span class="num" id="8065485">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065491">if</span>&nbsp;<span class="ident" id="8065494">h</span><span class="op" id="8065495">.</span><span class="ident" id="8065496">cnt</span>&nbsp;<span class="op" id="8065500">!=</span>&nbsp;<span class="ident" id="8065503">cnt</span>&nbsp;<span class="op" id="8065507">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065511">t</span><span class="op" id="8065512">.</span><span class="ident" id="8065513">Errorf</span><span class="op" id="8065519">(</span><span class="string" id="8065520">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8065549">,</span>&nbsp;<span class="ident" id="8065551">src</span><span class="op" id="8065554">,</span>&nbsp;<span class="ident" id="8065556">h</span><span class="op" id="8065557">.</span><span class="ident" id="8065558">cnt</span><span class="op" id="8065561">,</span>&nbsp;<span class="ident" id="8065563">cnt</span><span class="op" id="8065566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065572">if</span>&nbsp;<span class="ident" id="8065575">h</span><span class="op" id="8065576">.</span><span class="ident" id="8065577">msg</span>&nbsp;<span class="op" id="8065581">!=</span>&nbsp;<span class="ident" id="8065584">err</span>&nbsp;<span class="op" id="8065588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065592">t</span><span class="op" id="8065593">.</span><span class="ident" id="8065594">Errorf</span><span class="op" id="8065600">(</span><span class="string" id="8065601">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="8065630">,</span>&nbsp;<span class="ident" id="8065632">src</span><span class="op" id="8065635">,</span>&nbsp;<span class="ident" id="8065637">h</span><span class="op" id="8065638">.</span><span class="ident" id="8065639">msg</span><span class="op" id="8065642">,</span>&nbsp;<span class="ident" id="8065644">err</span><span class="op" id="8065647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065650">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065653">if</span>&nbsp;<span class="ident" id="8065656">h</span><span class="op" id="8065657">.</span><span class="ident" id="8065658">pos</span><span class="op" id="8065661">.</span><span class="ident" id="8065662">Offset</span>&nbsp;<span class="op" id="8065669">!=</span>&nbsp;<span class="ident" id="8065672">pos</span>&nbsp;<span class="op" id="8065676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065680">t</span><span class="op" id="8065681">.</span><span class="ident" id="8065682">Errorf</span><span class="op" id="8065688">(</span><span class="string" id="8065689">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8065721">,</span>&nbsp;<span class="ident" id="8065723">src</span><span class="op" id="8065726">,</span>&nbsp;<span class="ident" id="8065728">h</span><span class="op" id="8065729">.</span><span class="ident" id="8065730">pos</span><span class="op" id="8065733">.</span><span class="ident" id="8065734">Offset</span><span class="op" id="8065740">,</span>&nbsp;<span class="ident" id="8065742">pos</span><span class="op" id="8065745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065748">}</span><br>
<span class="lineno"></span><span class="op" id="8065750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="8065753">var</span>&nbsp;<span class="ident" id="8065757">errors</span>&nbsp;<span class="op" id="8065764">=</span>&nbsp;<span class="op" id="8065766">[</span><span class="op" id="8065767">]</span><span class="keyword" id="8065768">struct</span>&nbsp;<span class="op" id="8065775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065778">src</span>&nbsp;<span class="builtintype" id="8065782">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065790">tok</span>&nbsp;<span class="ident" id="8065794">token</span><span class="op" id="8065799">.</span><span class="ident" id="8065800">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065807">pos</span>&nbsp;<span class="builtintype" id="8065811">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065816">lit</span>&nbsp;<span class="builtintype" id="8065820">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065828">err</span>&nbsp;<span class="builtintype" id="8065832">string</span><br>
<span class="lineno"></span><span class="op" id="8065839">}</span><span class="op" id="8065840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065843">{</span><span class="string" id="8065844">&#34;\a&#34;</span><span class="op" id="8065848">,</span>&nbsp;<span class="ident" id="8065850">token</span><span class="op" id="8065855">.</span><span class="ident" id="8065856">ILLEGAL</span><span class="op" id="8065863">,</span>&nbsp;<span class="num" id="8065865">0</span><span class="op" id="8065866">,</span>&nbsp;<span class="string" id="8065868">&#34;&#34;</span><span class="op" id="8065870">,</span>&nbsp;<span class="string" id="8065872">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="8065898">}</span><span class="op" id="8065899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065902">{</span><span class="string" id="8065903">`#`</span><span class="op" id="8065906">,</span>&nbsp;<span class="ident" id="8065908">token</span><span class="op" id="8065913">.</span><span class="ident" id="8065914">ILLEGAL</span><span class="op" id="8065921">,</span>&nbsp;<span class="num" id="8065923">0</span><span class="op" id="8065924">,</span>&nbsp;<span class="string" id="8065926">&#34;&#34;</span><span class="op" id="8065928">,</span>&nbsp;<span class="string" id="8065930">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="8065960">}</span><span class="op" id="8065961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065964">{</span><span class="string" id="8065965">`…`</span><span class="op" id="8065970">,</span>&nbsp;<span class="ident" id="8065972">token</span><span class="op" id="8065977">.</span><span class="ident" id="8065978">ILLEGAL</span><span class="op" id="8065985">,</span>&nbsp;<span class="num" id="8065987">0</span><span class="op" id="8065988">,</span>&nbsp;<span class="string" id="8065990">&#34;&#34;</span><span class="op" id="8065992">,</span>&nbsp;<span class="string" id="8065994">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="8066026">}</span><span class="op" id="8066027">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066030">{</span><span class="string" id="8066031">`&#39;&nbsp;&#39;`</span><span class="op" id="8066036">,</span>&nbsp;<span class="ident" id="8066038">token</span><span class="op" id="8066043">.</span><span class="ident" id="8066044">CHAR</span><span class="op" id="8066048">,</span>&nbsp;<span class="num" id="8066050">0</span><span class="op" id="8066051">,</span>&nbsp;<span class="string" id="8066053">`&#39;&nbsp;&#39;`</span><span class="op" id="8066058">,</span>&nbsp;<span class="string" id="8066060">&#34;&#34;</span><span class="op" id="8066062">}</span><span class="op" id="8066063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066066">{</span><span class="string" id="8066067">`&#39;&#39;`</span><span class="op" id="8066071">,</span>&nbsp;<span class="ident" id="8066073">token</span><span class="op" id="8066078">.</span><span class="ident" id="8066079">CHAR</span><span class="op" id="8066083">,</span>&nbsp;<span class="num" id="8066085">0</span><span class="op" id="8066086">,</span>&nbsp;<span class="string" id="8066088">`&#39;&#39;`</span><span class="op" id="8066092">,</span>&nbsp;<span class="string" id="8066094">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8066116">}</span><span class="op" id="8066117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066120">{</span><span class="string" id="8066121">`&#39;12&#39;`</span><span class="op" id="8066127">,</span>&nbsp;<span class="ident" id="8066129">token</span><span class="op" id="8066134">.</span><span class="ident" id="8066135">CHAR</span><span class="op" id="8066139">,</span>&nbsp;<span class="num" id="8066141">0</span><span class="op" id="8066142">,</span>&nbsp;<span class="string" id="8066144">`&#39;12&#39;`</span><span class="op" id="8066150">,</span>&nbsp;<span class="string" id="8066152">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8066174">}</span><span class="op" id="8066175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066178">{</span><span class="string" id="8066179">`&#39;123&#39;`</span><span class="op" id="8066186">,</span>&nbsp;<span class="ident" id="8066188">token</span><span class="op" id="8066193">.</span><span class="ident" id="8066194">CHAR</span><span class="op" id="8066198">,</span>&nbsp;<span class="num" id="8066200">0</span><span class="op" id="8066201">,</span>&nbsp;<span class="string" id="8066203">`&#39;123&#39;`</span><span class="op" id="8066210">,</span>&nbsp;<span class="string" id="8066212">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="8066234">}</span><span class="op" id="8066235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066238">{</span><span class="string" id="8066239">`&#39;\0&#39;`</span><span class="op" id="8066245">,</span>&nbsp;<span class="ident" id="8066247">token</span><span class="op" id="8066252">.</span><span class="ident" id="8066253">CHAR</span><span class="op" id="8066257">,</span>&nbsp;<span class="num" id="8066259">3</span><span class="op" id="8066260">,</span>&nbsp;<span class="string" id="8066262">`&#39;\0&#39;`</span><span class="op" id="8066268">,</span>&nbsp;<span class="string" id="8066270">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8066319">}</span><span class="op" id="8066320">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066323">{</span><span class="string" id="8066324">`&#39;\07&#39;`</span><span class="op" id="8066331">,</span>&nbsp;<span class="ident" id="8066333">token</span><span class="op" id="8066338">.</span><span class="ident" id="8066339">CHAR</span><span class="op" id="8066343">,</span>&nbsp;<span class="num" id="8066345">4</span><span class="op" id="8066346">,</span>&nbsp;<span class="string" id="8066348">`&#39;\07&#39;`</span><span class="op" id="8066355">,</span>&nbsp;<span class="string" id="8066357">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8066406">}</span><span class="op" id="8066407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066410">{</span><span class="string" id="8066411">`&#39;\8&#39;`</span><span class="op" id="8066417">,</span>&nbsp;<span class="ident" id="8066419">token</span><span class="op" id="8066424">.</span><span class="ident" id="8066425">CHAR</span><span class="op" id="8066429">,</span>&nbsp;<span class="num" id="8066431">2</span><span class="op" id="8066432">,</span>&nbsp;<span class="string" id="8066434">`&#39;\8&#39;`</span><span class="op" id="8066440">,</span>&nbsp;<span class="string" id="8066442">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8066467">}</span><span class="op" id="8066468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066471">{</span><span class="string" id="8066472">`&#39;\08&#39;`</span><span class="op" id="8066479">,</span>&nbsp;<span class="ident" id="8066481">token</span><span class="op" id="8066486">.</span><span class="ident" id="8066487">CHAR</span><span class="op" id="8066491">,</span>&nbsp;<span class="num" id="8066493">3</span><span class="op" id="8066494">,</span>&nbsp;<span class="string" id="8066496">`&#39;\08&#39;`</span><span class="op" id="8066503">,</span>&nbsp;<span class="string" id="8066505">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8066554">}</span><span class="op" id="8066555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066558">{</span><span class="string" id="8066559">`&#39;\x&#39;`</span><span class="op" id="8066565">,</span>&nbsp;<span class="ident" id="8066567">token</span><span class="op" id="8066572">.</span><span class="ident" id="8066573">CHAR</span><span class="op" id="8066577">,</span>&nbsp;<span class="num" id="8066579">3</span><span class="op" id="8066580">,</span>&nbsp;<span class="string" id="8066582">`&#39;\x&#39;`</span><span class="op" id="8066588">,</span>&nbsp;<span class="string" id="8066590">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8066639">}</span><span class="op" id="8066640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066643">{</span><span class="string" id="8066644">`&#39;\x0&#39;`</span><span class="op" id="8066651">,</span>&nbsp;<span class="ident" id="8066653">token</span><span class="op" id="8066658">.</span><span class="ident" id="8066659">CHAR</span><span class="op" id="8066663">,</span>&nbsp;<span class="num" id="8066665">4</span><span class="op" id="8066666">,</span>&nbsp;<span class="string" id="8066668">`&#39;\x0&#39;`</span><span class="op" id="8066675">,</span>&nbsp;<span class="string" id="8066677">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8066726">}</span><span class="op" id="8066727">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066730">{</span><span class="string" id="8066731">`&#39;\x0g&#39;`</span><span class="op" id="8066739">,</span>&nbsp;<span class="ident" id="8066741">token</span><span class="op" id="8066746">.</span><span class="ident" id="8066747">CHAR</span><span class="op" id="8066751">,</span>&nbsp;<span class="num" id="8066753">4</span><span class="op" id="8066754">,</span>&nbsp;<span class="string" id="8066756">`&#39;\x0g&#39;`</span><span class="op" id="8066764">,</span>&nbsp;<span class="string" id="8066766">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8066815">}</span><span class="op" id="8066816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066819">{</span><span class="string" id="8066820">`&#39;\u&#39;`</span><span class="op" id="8066826">,</span>&nbsp;<span class="ident" id="8066828">token</span><span class="op" id="8066833">.</span><span class="ident" id="8066834">CHAR</span><span class="op" id="8066838">,</span>&nbsp;<span class="num" id="8066840">3</span><span class="op" id="8066841">,</span>&nbsp;<span class="string" id="8066843">`&#39;\u&#39;`</span><span class="op" id="8066849">,</span>&nbsp;<span class="string" id="8066851">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8066900">}</span><span class="op" id="8066901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066904">{</span><span class="string" id="8066905">`&#39;\u0&#39;`</span><span class="op" id="8066912">,</span>&nbsp;<span class="ident" id="8066914">token</span><span class="op" id="8066919">.</span><span class="ident" id="8066920">CHAR</span><span class="op" id="8066924">,</span>&nbsp;<span class="num" id="8066926">4</span><span class="op" id="8066927">,</span>&nbsp;<span class="string" id="8066929">`&#39;\u0&#39;`</span><span class="op" id="8066936">,</span>&nbsp;<span class="string" id="8066938">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8066987">}</span><span class="op" id="8066988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8066991">{</span><span class="string" id="8066992">`&#39;\u00&#39;`</span><span class="op" id="8067000">,</span>&nbsp;<span class="ident" id="8067002">token</span><span class="op" id="8067007">.</span><span class="ident" id="8067008">CHAR</span><span class="op" id="8067012">,</span>&nbsp;<span class="num" id="8067014">5</span><span class="op" id="8067015">,</span>&nbsp;<span class="string" id="8067017">`&#39;\u00&#39;`</span><span class="op" id="8067025">,</span>&nbsp;<span class="string" id="8067027">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8067076">}</span><span class="op" id="8067077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067080">{</span><span class="string" id="8067081">`&#39;\u000&#39;`</span><span class="op" id="8067090">,</span>&nbsp;<span class="ident" id="8067092">token</span><span class="op" id="8067097">.</span><span class="ident" id="8067098">CHAR</span><span class="op" id="8067102">,</span>&nbsp;<span class="num" id="8067104">6</span><span class="op" id="8067105">,</span>&nbsp;<span class="string" id="8067107">`&#39;\u000&#39;`</span><span class="op" id="8067116">,</span>&nbsp;<span class="string" id="8067118">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8067167">}</span><span class="op" id="8067168">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067171">{</span><span class="string" id="8067172">`&#39;\u000`</span><span class="op" id="8067180">,</span>&nbsp;<span class="ident" id="8067182">token</span><span class="op" id="8067187">.</span><span class="ident" id="8067188">CHAR</span><span class="op" id="8067192">,</span>&nbsp;<span class="num" id="8067194">6</span><span class="op" id="8067195">,</span>&nbsp;<span class="string" id="8067197">`&#39;\u000`</span><span class="op" id="8067205">,</span>&nbsp;<span class="string" id="8067207">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8067239">}</span><span class="op" id="8067240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067243">{</span><span class="string" id="8067244">`&#39;\u0000&#39;`</span><span class="op" id="8067254">,</span>&nbsp;<span class="ident" id="8067256">token</span><span class="op" id="8067261">.</span><span class="ident" id="8067262">CHAR</span><span class="op" id="8067266">,</span>&nbsp;<span class="num" id="8067268">0</span><span class="op" id="8067269">,</span>&nbsp;<span class="string" id="8067271">`&#39;\u0000&#39;`</span><span class="op" id="8067281">,</span>&nbsp;<span class="string" id="8067283">&#34;&#34;</span><span class="op" id="8067285">}</span><span class="op" id="8067286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067289">{</span><span class="string" id="8067290">`&#39;\U&#39;`</span><span class="op" id="8067296">,</span>&nbsp;<span class="ident" id="8067298">token</span><span class="op" id="8067303">.</span><span class="ident" id="8067304">CHAR</span><span class="op" id="8067308">,</span>&nbsp;<span class="num" id="8067310">3</span><span class="op" id="8067311">,</span>&nbsp;<span class="string" id="8067313">`&#39;\U&#39;`</span><span class="op" id="8067319">,</span>&nbsp;<span class="string" id="8067321">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8067370">}</span><span class="op" id="8067371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067374">{</span><span class="string" id="8067375">`&#39;\U0&#39;`</span><span class="op" id="8067382">,</span>&nbsp;<span class="ident" id="8067384">token</span><span class="op" id="8067389">.</span><span class="ident" id="8067390">CHAR</span><span class="op" id="8067394">,</span>&nbsp;<span class="num" id="8067396">4</span><span class="op" id="8067397">,</span>&nbsp;<span class="string" id="8067399">`&#39;\U0&#39;`</span><span class="op" id="8067406">,</span>&nbsp;<span class="string" id="8067408">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8067457">}</span><span class="op" id="8067458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067461">{</span><span class="string" id="8067462">`&#39;\U00&#39;`</span><span class="op" id="8067470">,</span>&nbsp;<span class="ident" id="8067472">token</span><span class="op" id="8067477">.</span><span class="ident" id="8067478">CHAR</span><span class="op" id="8067482">,</span>&nbsp;<span class="num" id="8067484">5</span><span class="op" id="8067485">,</span>&nbsp;<span class="string" id="8067487">`&#39;\U00&#39;`</span><span class="op" id="8067495">,</span>&nbsp;<span class="string" id="8067497">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8067546">}</span><span class="op" id="8067547">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067550">{</span><span class="string" id="8067551">`&#39;\U000&#39;`</span><span class="op" id="8067560">,</span>&nbsp;<span class="ident" id="8067562">token</span><span class="op" id="8067567">.</span><span class="ident" id="8067568">CHAR</span><span class="op" id="8067572">,</span>&nbsp;<span class="num" id="8067574">6</span><span class="op" id="8067575">,</span>&nbsp;<span class="string" id="8067577">`&#39;\U000&#39;`</span><span class="op" id="8067586">,</span>&nbsp;<span class="string" id="8067588">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8067637">}</span><span class="op" id="8067638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067641">{</span><span class="string" id="8067642">`&#39;\U0000&#39;`</span><span class="op" id="8067652">,</span>&nbsp;<span class="ident" id="8067654">token</span><span class="op" id="8067659">.</span><span class="ident" id="8067660">CHAR</span><span class="op" id="8067664">,</span>&nbsp;<span class="num" id="8067666">7</span><span class="op" id="8067667">,</span>&nbsp;<span class="string" id="8067669">`&#39;\U0000&#39;`</span><span class="op" id="8067679">,</span>&nbsp;<span class="string" id="8067681">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8067730">}</span><span class="op" id="8067731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067734">{</span><span class="string" id="8067735">`&#39;\U00000&#39;`</span><span class="op" id="8067746">,</span>&nbsp;<span class="ident" id="8067748">token</span><span class="op" id="8067753">.</span><span class="ident" id="8067754">CHAR</span><span class="op" id="8067758">,</span>&nbsp;<span class="num" id="8067760">8</span><span class="op" id="8067761">,</span>&nbsp;<span class="string" id="8067763">`&#39;\U00000&#39;`</span><span class="op" id="8067774">,</span>&nbsp;<span class="string" id="8067776">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8067825">}</span><span class="op" id="8067826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067829">{</span><span class="string" id="8067830">`&#39;\U000000&#39;`</span><span class="op" id="8067842">,</span>&nbsp;<span class="ident" id="8067844">token</span><span class="op" id="8067849">.</span><span class="ident" id="8067850">CHAR</span><span class="op" id="8067854">,</span>&nbsp;<span class="num" id="8067856">9</span><span class="op" id="8067857">,</span>&nbsp;<span class="string" id="8067859">`&#39;\U000000&#39;`</span><span class="op" id="8067871">,</span>&nbsp;<span class="string" id="8067873">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8067922">}</span><span class="op" id="8067923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8067926">{</span><span class="string" id="8067927">`&#39;\U0000000&#39;`</span><span class="op" id="8067940">,</span>&nbsp;<span class="ident" id="8067942">token</span><span class="op" id="8067947">.</span><span class="ident" id="8067948">CHAR</span><span class="op" id="8067952">,</span>&nbsp;<span class="num" id="8067954">10</span><span class="op" id="8067956">,</span>&nbsp;<span class="string" id="8067958">`&#39;\U0000000&#39;`</span><span class="op" id="8067971">,</span>&nbsp;<span class="string" id="8067973">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="8068022">}</span><span class="op" id="8068023">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068026">{</span><span class="string" id="8068027">`&#39;\U0000000`</span><span class="op" id="8068039">,</span>&nbsp;<span class="ident" id="8068041">token</span><span class="op" id="8068046">.</span><span class="ident" id="8068047">CHAR</span><span class="op" id="8068051">,</span>&nbsp;<span class="num" id="8068053">10</span><span class="op" id="8068055">,</span>&nbsp;<span class="string" id="8068057">`&#39;\U0000000`</span><span class="op" id="8068069">,</span>&nbsp;<span class="string" id="8068071">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068103">}</span><span class="op" id="8068104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068107">{</span><span class="string" id="8068108">`&#39;\U00000000&#39;`</span><span class="op" id="8068122">,</span>&nbsp;<span class="ident" id="8068124">token</span><span class="op" id="8068129">.</span><span class="ident" id="8068130">CHAR</span><span class="op" id="8068134">,</span>&nbsp;<span class="num" id="8068136">0</span><span class="op" id="8068137">,</span>&nbsp;<span class="string" id="8068139">`&#39;\U00000000&#39;`</span><span class="op" id="8068153">,</span>&nbsp;<span class="string" id="8068155">&#34;&#34;</span><span class="op" id="8068157">}</span><span class="op" id="8068158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068161">{</span><span class="string" id="8068162">`&#39;\Uffffffff&#39;`</span><span class="op" id="8068176">,</span>&nbsp;<span class="ident" id="8068178">token</span><span class="op" id="8068183">.</span><span class="ident" id="8068184">CHAR</span><span class="op" id="8068188">,</span>&nbsp;<span class="num" id="8068190">2</span><span class="op" id="8068191">,</span>&nbsp;<span class="string" id="8068193">`&#39;\Uffffffff&#39;`</span><span class="op" id="8068207">,</span>&nbsp;<span class="string" id="8068209">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="8068256">}</span><span class="op" id="8068257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068260">{</span><span class="string" id="8068261">`&#39;`</span><span class="op" id="8068264">,</span>&nbsp;<span class="ident" id="8068266">token</span><span class="op" id="8068271">.</span><span class="ident" id="8068272">CHAR</span><span class="op" id="8068276">,</span>&nbsp;<span class="num" id="8068278">0</span><span class="op" id="8068279">,</span>&nbsp;<span class="string" id="8068281">`&#39;`</span><span class="op" id="8068284">,</span>&nbsp;<span class="string" id="8068286">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068315">}</span><span class="op" id="8068316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068319">{</span><span class="string" id="8068320">`&#39;\`</span><span class="op" id="8068324">,</span>&nbsp;<span class="ident" id="8068326">token</span><span class="op" id="8068331">.</span><span class="ident" id="8068332">CHAR</span><span class="op" id="8068336">,</span>&nbsp;<span class="num" id="8068338">2</span><span class="op" id="8068339">,</span>&nbsp;<span class="string" id="8068341">`&#39;\`</span><span class="op" id="8068345">,</span>&nbsp;<span class="string" id="8068347">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068379">}</span><span class="op" id="8068380">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068383">{</span><span class="string" id="8068384">&#34;&#39;\n&#34;</span><span class="op" id="8068389">,</span>&nbsp;<span class="ident" id="8068391">token</span><span class="op" id="8068396">.</span><span class="ident" id="8068397">CHAR</span><span class="op" id="8068401">,</span>&nbsp;<span class="num" id="8068403">0</span><span class="op" id="8068404">,</span>&nbsp;<span class="string" id="8068406">&#34;&#39;&#34;</span><span class="op" id="8068409">,</span>&nbsp;<span class="string" id="8068411">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068440">}</span><span class="op" id="8068441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068444">{</span><span class="string" id="8068445">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8068453">,</span>&nbsp;<span class="ident" id="8068455">token</span><span class="op" id="8068460">.</span><span class="ident" id="8068461">CHAR</span><span class="op" id="8068465">,</span>&nbsp;<span class="num" id="8068467">0</span><span class="op" id="8068468">,</span>&nbsp;<span class="string" id="8068470">&#34;&#39;&#34;</span><span class="op" id="8068473">,</span>&nbsp;<span class="string" id="8068475">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068504">}</span><span class="op" id="8068505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068508">{</span><span class="string" id="8068509">`&#34;&#34;`</span><span class="op" id="8068513">,</span>&nbsp;<span class="ident" id="8068515">token</span><span class="op" id="8068520">.</span><span class="ident" id="8068521">STRING</span><span class="op" id="8068527">,</span>&nbsp;<span class="num" id="8068529">0</span><span class="op" id="8068530">,</span>&nbsp;<span class="string" id="8068532">`&#34;&#34;`</span><span class="op" id="8068536">,</span>&nbsp;<span class="string" id="8068538">&#34;&#34;</span><span class="op" id="8068540">}</span><span class="op" id="8068541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068544">{</span><span class="string" id="8068545">`&#34;abc`</span><span class="op" id="8068551">,</span>&nbsp;<span class="ident" id="8068553">token</span><span class="op" id="8068558">.</span><span class="ident" id="8068559">STRING</span><span class="op" id="8068565">,</span>&nbsp;<span class="num" id="8068567">0</span><span class="op" id="8068568">,</span>&nbsp;<span class="string" id="8068570">`&#34;abc`</span><span class="op" id="8068576">,</span>&nbsp;<span class="string" id="8068578">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068609">}</span><span class="op" id="8068610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068613">{</span><span class="string" id="8068614">&#34;\&#34;abc\n&#34;</span><span class="op" id="8068623">,</span>&nbsp;<span class="ident" id="8068625">token</span><span class="op" id="8068630">.</span><span class="ident" id="8068631">STRING</span><span class="op" id="8068637">,</span>&nbsp;<span class="num" id="8068639">0</span><span class="op" id="8068640">,</span>&nbsp;<span class="string" id="8068642">`&#34;abc`</span><span class="op" id="8068648">,</span>&nbsp;<span class="string" id="8068650">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068681">}</span><span class="op" id="8068682">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068685">{</span><span class="string" id="8068686">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="8068698">,</span>&nbsp;<span class="ident" id="8068700">token</span><span class="op" id="8068705">.</span><span class="ident" id="8068706">STRING</span><span class="op" id="8068712">,</span>&nbsp;<span class="num" id="8068714">0</span><span class="op" id="8068715">,</span>&nbsp;<span class="string" id="8068717">`&#34;abc`</span><span class="op" id="8068723">,</span>&nbsp;<span class="string" id="8068725">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068756">}</span><span class="op" id="8068757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068760">{</span><span class="string" id="8068761">&#34;``&#34;</span><span class="op" id="8068765">,</span>&nbsp;<span class="ident" id="8068767">token</span><span class="op" id="8068772">.</span><span class="ident" id="8068773">STRING</span><span class="op" id="8068779">,</span>&nbsp;<span class="num" id="8068781">0</span><span class="op" id="8068782">,</span>&nbsp;<span class="string" id="8068784">&#34;``&#34;</span><span class="op" id="8068788">,</span>&nbsp;<span class="string" id="8068790">&#34;&#34;</span><span class="op" id="8068792">}</span><span class="op" id="8068793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068796">{</span><span class="string" id="8068797">&#34;`&#34;</span><span class="op" id="8068800">,</span>&nbsp;<span class="ident" id="8068802">token</span><span class="op" id="8068807">.</span><span class="ident" id="8068808">STRING</span><span class="op" id="8068814">,</span>&nbsp;<span class="num" id="8068816">0</span><span class="op" id="8068817">,</span>&nbsp;<span class="string" id="8068819">&#34;`&#34;</span><span class="op" id="8068822">,</span>&nbsp;<span class="string" id="8068824">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068859">}</span><span class="op" id="8068860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068863">{</span><span class="string" id="8068864">&#34;/**/&#34;</span><span class="op" id="8068870">,</span>&nbsp;<span class="ident" id="8068872">token</span><span class="op" id="8068877">.</span><span class="ident" id="8068878">COMMENT</span><span class="op" id="8068885">,</span>&nbsp;<span class="num" id="8068887">0</span><span class="op" id="8068888">,</span>&nbsp;<span class="string" id="8068890">&#34;/**/&#34;</span><span class="op" id="8068896">,</span>&nbsp;<span class="string" id="8068898">&#34;&#34;</span><span class="op" id="8068900">}</span><span class="op" id="8068901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068904">{</span><span class="string" id="8068905">&#34;/*&#34;</span><span class="op" id="8068909">,</span>&nbsp;<span class="ident" id="8068911">token</span><span class="op" id="8068916">.</span><span class="ident" id="8068917">COMMENT</span><span class="op" id="8068924">,</span>&nbsp;<span class="num" id="8068926">0</span><span class="op" id="8068927">,</span>&nbsp;<span class="string" id="8068929">&#34;/*&#34;</span><span class="op" id="8068933">,</span>&nbsp;<span class="string" id="8068935">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8068959">}</span><span class="op" id="8068960">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068963">{</span><span class="string" id="8068964">&#34;077&#34;</span><span class="op" id="8068969">,</span>&nbsp;<span class="ident" id="8068971">token</span><span class="op" id="8068976">.</span><span class="ident" id="8068977">INT</span><span class="op" id="8068980">,</span>&nbsp;<span class="num" id="8068982">0</span><span class="op" id="8068983">,</span>&nbsp;<span class="string" id="8068985">&#34;077&#34;</span><span class="op" id="8068990">,</span>&nbsp;<span class="string" id="8068992">&#34;&#34;</span><span class="op" id="8068994">}</span><span class="op" id="8068995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8068998">{</span><span class="string" id="8068999">&#34;078.&#34;</span><span class="op" id="8069005">,</span>&nbsp;<span class="ident" id="8069007">token</span><span class="op" id="8069012">.</span><span class="ident" id="8069013">FLOAT</span><span class="op" id="8069018">,</span>&nbsp;<span class="num" id="8069020">0</span><span class="op" id="8069021">,</span>&nbsp;<span class="string" id="8069023">&#34;078.&#34;</span><span class="op" id="8069029">,</span>&nbsp;<span class="string" id="8069031">&#34;&#34;</span><span class="op" id="8069033">}</span><span class="op" id="8069034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069037">{</span><span class="string" id="8069038">&#34;07801234567.&#34;</span><span class="op" id="8069052">,</span>&nbsp;<span class="ident" id="8069054">token</span><span class="op" id="8069059">.</span><span class="ident" id="8069060">FLOAT</span><span class="op" id="8069065">,</span>&nbsp;<span class="num" id="8069067">0</span><span class="op" id="8069068">,</span>&nbsp;<span class="string" id="8069070">&#34;07801234567.&#34;</span><span class="op" id="8069084">,</span>&nbsp;<span class="string" id="8069086">&#34;&#34;</span><span class="op" id="8069088">}</span><span class="op" id="8069089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069092">{</span><span class="string" id="8069093">&#34;078e0&#34;</span><span class="op" id="8069100">,</span>&nbsp;<span class="ident" id="8069102">token</span><span class="op" id="8069107">.</span><span class="ident" id="8069108">FLOAT</span><span class="op" id="8069113">,</span>&nbsp;<span class="num" id="8069115">0</span><span class="op" id="8069116">,</span>&nbsp;<span class="string" id="8069118">&#34;078e0&#34;</span><span class="op" id="8069125">,</span>&nbsp;<span class="string" id="8069127">&#34;&#34;</span><span class="op" id="8069129">}</span><span class="op" id="8069130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069133">{</span><span class="string" id="8069134">&#34;078&#34;</span><span class="op" id="8069139">,</span>&nbsp;<span class="ident" id="8069141">token</span><span class="op" id="8069146">.</span><span class="ident" id="8069147">INT</span><span class="op" id="8069150">,</span>&nbsp;<span class="num" id="8069152">0</span><span class="op" id="8069153">,</span>&nbsp;<span class="string" id="8069155">&#34;078&#34;</span><span class="op" id="8069160">,</span>&nbsp;<span class="string" id="8069162">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8069184">}</span><span class="op" id="8069185">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069188">{</span><span class="string" id="8069189">&#34;07800000009&#34;</span><span class="op" id="8069202">,</span>&nbsp;<span class="ident" id="8069204">token</span><span class="op" id="8069209">.</span><span class="ident" id="8069210">INT</span><span class="op" id="8069213">,</span>&nbsp;<span class="num" id="8069215">0</span><span class="op" id="8069216">,</span>&nbsp;<span class="string" id="8069218">&#34;07800000009&#34;</span><span class="op" id="8069231">,</span>&nbsp;<span class="string" id="8069233">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8069255">}</span><span class="op" id="8069256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069259">{</span><span class="string" id="8069260">&#34;0x&#34;</span><span class="op" id="8069264">,</span>&nbsp;<span class="ident" id="8069266">token</span><span class="op" id="8069271">.</span><span class="ident" id="8069272">INT</span><span class="op" id="8069275">,</span>&nbsp;<span class="num" id="8069277">0</span><span class="op" id="8069278">,</span>&nbsp;<span class="string" id="8069280">&#34;0x&#34;</span><span class="op" id="8069284">,</span>&nbsp;<span class="string" id="8069286">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8069314">}</span><span class="op" id="8069315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069318">{</span><span class="string" id="8069319">&#34;0X&#34;</span><span class="op" id="8069323">,</span>&nbsp;<span class="ident" id="8069325">token</span><span class="op" id="8069330">.</span><span class="ident" id="8069331">INT</span><span class="op" id="8069334">,</span>&nbsp;<span class="num" id="8069336">0</span><span class="op" id="8069337">,</span>&nbsp;<span class="string" id="8069339">&#34;0X&#34;</span><span class="op" id="8069343">,</span>&nbsp;<span class="string" id="8069345">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8069373">}</span><span class="op" id="8069374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069377">{</span><span class="string" id="8069378">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8069394">,</span>&nbsp;<span class="ident" id="8069396">token</span><span class="op" id="8069401">.</span><span class="ident" id="8069402">STRING</span><span class="op" id="8069408">,</span>&nbsp;<span class="num" id="8069410">4</span><span class="op" id="8069411">,</span>&nbsp;<span class="string" id="8069413">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="8069429">,</span>&nbsp;<span class="string" id="8069431">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8069454">}</span><span class="op" id="8069455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069458">{</span><span class="string" id="8069459">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8069475">,</span>&nbsp;<span class="ident" id="8069477">token</span><span class="op" id="8069482">.</span><span class="ident" id="8069483">STRING</span><span class="op" id="8069489">,</span>&nbsp;<span class="num" id="8069491">4</span><span class="op" id="8069492">,</span>&nbsp;<span class="string" id="8069494">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="8069510">,</span>&nbsp;<span class="string" id="8069512">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8069536">}</span><span class="op" id="8069537">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069540">{</span><span class="string" id="8069541">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8069555">,</span>&nbsp;<span class="ident" id="8069557">token</span><span class="op" id="8069562">.</span><span class="ident" id="8069563">ILLEGAL</span><span class="op" id="8069570">,</span>&nbsp;<span class="num" id="8069572">3</span><span class="op" id="8069573">,</span>&nbsp;<span class="string" id="8069575">&#34;\ufeff\ufeff&#34;</span><span class="op" id="8069589">,</span>&nbsp;<span class="string" id="8069591">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8069616">}</span><span class="op" id="8069617">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8069642">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069672">{</span><span class="string" id="8069673">&#34;//\ufeff&#34;</span><span class="op" id="8069683">,</span>&nbsp;<span class="ident" id="8069685">token</span><span class="op" id="8069690">.</span><span class="ident" id="8069691">COMMENT</span><span class="op" id="8069698">,</span>&nbsp;<span class="num" id="8069700">2</span><span class="op" id="8069701">,</span>&nbsp;<span class="string" id="8069703">&#34;//\ufeff&#34;</span><span class="op" id="8069713">,</span>&nbsp;<span class="string" id="8069715">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8069740">}</span><span class="op" id="8069741">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8069774">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069804">{</span><span class="string" id="8069805">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8069815">+</span>&nbsp;<span class="string" id="8069817">`&#39;`</span><span class="op" id="8069820">,</span>&nbsp;<span class="ident" id="8069822">token</span><span class="op" id="8069827">.</span><span class="ident" id="8069828">CHAR</span><span class="op" id="8069832">,</span>&nbsp;<span class="num" id="8069834">1</span><span class="op" id="8069835">,</span>&nbsp;<span class="string" id="8069837">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="8069847">+</span>&nbsp;<span class="string" id="8069849">`&#39;`</span><span class="op" id="8069852">,</span>&nbsp;<span class="string" id="8069854">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8069879">}</span><span class="op" id="8069880">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8069906">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8069936">{</span><span class="string" id="8069937">`&#34;`</span>&nbsp;<span class="op" id="8069941">+</span>&nbsp;<span class="string" id="8069943">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8069958">+</span>&nbsp;<span class="string" id="8069960">`&#34;`</span><span class="op" id="8069963">,</span>&nbsp;<span class="ident" id="8069965">token</span><span class="op" id="8069970">.</span><span class="ident" id="8069971">STRING</span><span class="op" id="8069977">,</span>&nbsp;<span class="num" id="8069979">4</span><span class="op" id="8069980">,</span>&nbsp;<span class="string" id="8069982">`&#34;`</span>&nbsp;<span class="op" id="8069986">+</span>&nbsp;<span class="string" id="8069988">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="8070003">+</span>&nbsp;<span class="string" id="8070005">`&#34;`</span><span class="op" id="8070008">,</span>&nbsp;<span class="string" id="8070010">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="8070035">}</span><span class="op" id="8070036">,</span>&nbsp;<span class="comment" id="8070038">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="8070067">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="8070070">func</span>&nbsp;<span class="ident" id="8070075">TestScanErrors</span><span class="op" id="8070089">(</span><span class="ident" id="8070090">t</span>&nbsp;<span class="op" id="8070092">*</span><span class="ident" id="8070093">testing</span><span class="op" id="8070100">.</span><span class="ident" id="8070101">T</span><span class="op" id="8070102">)</span>&nbsp;<span class="op" id="8070104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070107">for</span>&nbsp;<span class="ident" id="8070111">_</span><span class="op" id="8070112">,</span>&nbsp;<span class="ident" id="8070114">e</span>&nbsp;<span class="op" id="8070116">:=</span>&nbsp;<span class="keyword" id="8070119">range</span>&nbsp;<span class="ident" id="8070125">errors</span>&nbsp;<span class="op" id="8070132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070136">checkError</span><span class="op" id="8070146">(</span><span class="ident" id="8070147">t</span><span class="op" id="8070148">,</span>&nbsp;<span class="ident" id="8070150">e</span><span class="op" id="8070151">.</span><span class="ident" id="8070152">src</span><span class="op" id="8070155">,</span>&nbsp;<span class="ident" id="8070157">e</span><span class="op" id="8070158">.</span><span class="ident" id="8070159">tok</span><span class="op" id="8070162">,</span>&nbsp;<span class="ident" id="8070164">e</span><span class="op" id="8070165">.</span><span class="ident" id="8070166">pos</span><span class="op" id="8070169">,</span>&nbsp;<span class="ident" id="8070171">e</span><span class="op" id="8070172">.</span><span class="ident" id="8070173">lit</span><span class="op" id="8070176">,</span>&nbsp;<span class="ident" id="8070178">e</span><span class="op" id="8070179">.</span><span class="ident" id="8070180">err</span><span class="op" id="8070183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8070186">}</span><br>
<span class="lineno">735</span><span class="op" id="8070188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8070191">func</span>&nbsp;<span class="ident" id="8070196">BenchmarkScan</span><span class="op" id="8070209">(</span><span class="ident" id="8070210">b</span>&nbsp;<span class="op" id="8070212">*</span><span class="ident" id="8070213">testing</span><span class="op" id="8070220">.</span><span class="ident" id="8070221">B</span><span class="op" id="8070222">)</span>&nbsp;<span class="op" id="8070224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070227">b</span><span class="op" id="8070228">.</span><span class="ident" id="8070229">StopTimer</span><span class="op" id="8070238">(</span><span class="op" id="8070239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070242">fset</span>&nbsp;<span class="op" id="8070247">:=</span>&nbsp;<span class="ident" id="8070250">token</span><span class="op" id="8070255">.</span><span class="ident" id="8070256">NewFileSet</span><span class="op" id="8070266">(</span><span class="op" id="8070267">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070270">file</span>&nbsp;<span class="op" id="8070275">:=</span>&nbsp;<span class="ident" id="8070278">fset</span><span class="op" id="8070282">.</span><span class="ident" id="8070283">AddFile</span><span class="op" id="8070290">(</span><span class="string" id="8070291">&#34;&#34;</span><span class="op" id="8070293">,</span>&nbsp;<span class="ident" id="8070295">fset</span><span class="op" id="8070299">.</span><span class="ident" id="8070300">Base</span><span class="op" id="8070304">(</span><span class="op" id="8070305">)</span><span class="op" id="8070306">,</span>&nbsp;<span class="builtinfunc" id="8070308">len</span><span class="op" id="8070311">(</span><span class="ident" id="8070312">source</span><span class="op" id="8070318">)</span><span class="op" id="8070319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070322">var</span>&nbsp;<span class="ident" id="8070326">s</span>&nbsp;<span class="ident" id="8070328">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070337">b</span><span class="op" id="8070338">.</span><span class="ident" id="8070339">StartTimer</span><span class="op" id="8070349">(</span><span class="op" id="8070350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070353">for</span>&nbsp;<span class="ident" id="8070357">i</span>&nbsp;<span class="op" id="8070359">:=</span>&nbsp;<span class="num" id="8070362">0</span><span class="op" id="8070363">;</span>&nbsp;<span class="ident" id="8070365">i</span>&nbsp;<span class="op" id="8070367">&lt;</span>&nbsp;<span class="ident" id="8070369">b</span><span class="op" id="8070370">.</span><span class="ident" id="8070371">N</span><span class="op" id="8070372">;</span>&nbsp;<span class="ident" id="8070374">i</span><span class="op" id="8070375">++</span>&nbsp;<span class="op" id="8070378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070382">s</span><span class="op" id="8070383">.</span><span class="ident" id="8070384">Init</span><span class="op" id="8070388">(</span><span class="ident" id="8070389">file</span><span class="op" id="8070393">,</span>&nbsp;<span class="ident" id="8070395">source</span><span class="op" id="8070401">,</span>&nbsp;<span class="builtintype" id="8070403">nil</span><span class="op" id="8070406">,</span>&nbsp;<span class="ident" id="8070408">ScanComments</span><span class="op" id="8070420">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070424">for</span>&nbsp;<span class="op" id="8070428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070433">_</span><span class="op" id="8070434">,</span>&nbsp;<span class="ident" id="8070436">tok</span><span class="op" id="8070439">,</span>&nbsp;<span class="ident" id="8070441">_</span>&nbsp;<span class="op" id="8070443">:=</span>&nbsp;<span class="ident" id="8070446">s</span><span class="op" id="8070447">.</span><span class="ident" id="8070448">Scan</span><span class="op" id="8070452">(</span><span class="op" id="8070453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070458">if</span>&nbsp;<span class="ident" id="8070461">tok</span>&nbsp;<span class="op" id="8070465">==</span>&nbsp;<span class="ident" id="8070468">token</span><span class="op" id="8070473">.</span><span class="ident" id="8070474">EOF</span>&nbsp;<span class="op" id="8070478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070484">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8070493">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8070497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8070500">}</span><br>
<span class="lineno"></span><span class="op" id="8070502">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8070505">func</span>&nbsp;<span class="ident" id="8070510">BenchmarkScanFile</span><span class="op" id="8070527">(</span><span class="ident" id="8070528">b</span>&nbsp;<span class="op" id="8070530">*</span><span class="ident" id="8070531">testing</span><span class="op" id="8070538">.</span><span class="ident" id="8070539">B</span><span class="op" id="8070540">)</span>&nbsp;<span class="op" id="8070542">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070545">b</span><span class="op" id="8070546">.</span><span class="ident" id="8070547">StopTimer</span><span class="op" id="8070556">(</span><span class="op" id="8070557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070560">const</span>&nbsp;<span class="ident" id="8070566">filename</span>&nbsp;<span class="op" id="8070575">=</span>&nbsp;<span class="string" id="8070577">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070591">src</span><span class="op" id="8070594">,</span>&nbsp;<span class="ident" id="8070596">err</span>&nbsp;<span class="op" id="8070600">:=</span>&nbsp;<span class="ident" id="8070603">ioutil</span><span class="op" id="8070609">.</span><span class="ident" id="8070610">ReadFile</span><span class="op" id="8070618">(</span><span class="ident" id="8070619">filename</span><span class="op" id="8070627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070630">if</span>&nbsp;<span class="ident" id="8070633">err</span>&nbsp;<span class="op" id="8070637">!=</span>&nbsp;<span class="builtintype" id="8070640">nil</span>&nbsp;<span class="op" id="8070644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8070648">panic</span><span class="op" id="8070653">(</span><span class="ident" id="8070654">err</span><span class="op" id="8070657">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8070660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070663">fset</span>&nbsp;<span class="op" id="8070668">:=</span>&nbsp;<span class="ident" id="8070671">token</span><span class="op" id="8070676">.</span><span class="ident" id="8070677">NewFileSet</span><span class="op" id="8070687">(</span><span class="op" id="8070688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070691">file</span>&nbsp;<span class="op" id="8070696">:=</span>&nbsp;<span class="ident" id="8070699">fset</span><span class="op" id="8070703">.</span><span class="ident" id="8070704">AddFile</span><span class="op" id="8070711">(</span><span class="ident" id="8070712">filename</span><span class="op" id="8070720">,</span>&nbsp;<span class="ident" id="8070722">fset</span><span class="op" id="8070726">.</span><span class="ident" id="8070727">Base</span><span class="op" id="8070731">(</span><span class="op" id="8070732">)</span><span class="op" id="8070733">,</span>&nbsp;<span class="builtinfunc" id="8070735">len</span><span class="op" id="8070738">(</span><span class="ident" id="8070739">src</span><span class="op" id="8070742">)</span><span class="op" id="8070743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070746">b</span><span class="op" id="8070747">.</span><span class="ident" id="8070748">SetBytes</span><span class="op" id="8070756">(</span><span class="ident" id="8070757">int64</span><span class="op" id="8070762">(</span><span class="builtinfunc" id="8070763">len</span><span class="op" id="8070766">(</span><span class="ident" id="8070767">src</span><span class="op" id="8070770">)</span><span class="op" id="8070771">)</span><span class="op" id="8070772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070775">var</span>&nbsp;<span class="ident" id="8070779">s</span>&nbsp;<span class="ident" id="8070781">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070790">b</span><span class="op" id="8070791">.</span><span class="ident" id="8070792">StartTimer</span><span class="op" id="8070802">(</span><span class="op" id="8070803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070806">for</span>&nbsp;<span class="ident" id="8070810">i</span>&nbsp;<span class="op" id="8070812">:=</span>&nbsp;<span class="num" id="8070815">0</span><span class="op" id="8070816">;</span>&nbsp;<span class="ident" id="8070818">i</span>&nbsp;<span class="op" id="8070820">&lt;</span>&nbsp;<span class="ident" id="8070822">b</span><span class="op" id="8070823">.</span><span class="ident" id="8070824">N</span><span class="op" id="8070825">;</span>&nbsp;<span class="ident" id="8070827">i</span><span class="op" id="8070828">++</span>&nbsp;<span class="op" id="8070831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070835">s</span><span class="op" id="8070836">.</span><span class="ident" id="8070837">Init</span><span class="op" id="8070841">(</span><span class="ident" id="8070842">file</span><span class="op" id="8070846">,</span>&nbsp;<span class="ident" id="8070848">src</span><span class="op" id="8070851">,</span>&nbsp;<span class="builtintype" id="8070853">nil</span><span class="op" id="8070856">,</span>&nbsp;<span class="ident" id="8070858">ScanComments</span><span class="op" id="8070870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070874">for</span>&nbsp;<span class="op" id="8070878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8070883">_</span><span class="op" id="8070884">,</span>&nbsp;<span class="ident" id="8070886">tok</span><span class="op" id="8070889">,</span>&nbsp;<span class="ident" id="8070891">_</span>&nbsp;<span class="op" id="8070893">:=</span>&nbsp;<span class="ident" id="8070896">s</span><span class="op" id="8070897">.</span><span class="ident" id="8070898">Scan</span><span class="op" id="8070902">(</span><span class="op" id="8070903">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070908">if</span>&nbsp;<span class="ident" id="8070911">tok</span>&nbsp;<span class="op" id="8070915">==</span>&nbsp;<span class="ident" id="8070918">token</span><span class="op" id="8070923">.</span><span class="ident" id="8070924">EOF</span>&nbsp;<span class="op" id="8070928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8070934">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8070943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8070947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8070950">}</span><br>
<span class="lineno">775</span><span class="op" id="8070952">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
