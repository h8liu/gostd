<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7406355">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7406410">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7406464">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7406515">package</span>&nbsp;<span class="ident" id="7406523">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7406530">import</span>&nbsp;<span class="op" id="7406537">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7406540">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7406549">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7406555">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7406565">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7406568">func</span>&nbsp;<span class="ident" id="7406573">TestReset</span><span class="op" id="7406582">(</span><span class="ident" id="7406583">t</span>&nbsp;<span class="op" id="7406585">*</span><span class="ident" id="7406586">testing</span><span class="op" id="7406593">.</span><span class="ident" id="7406594">T</span><span class="op" id="7406595">)</span>&nbsp;<span class="op" id="7406597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406600">ss</span>&nbsp;<span class="op" id="7406603">:=</span>&nbsp;<span class="op" id="7406606">[</span><span class="op" id="7406607">]</span><span class="builtintype" id="7406608">string</span><span class="op" id="7406614">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7406618">&#34;lorem&nbsp;ipsum&nbsp;izzle&nbsp;fo&nbsp;rizzle&#34;</span><span class="op" id="7406647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7406651">&#34;the&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&#34;</span><span class="op" id="7406684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7406687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406691">deflated</span>&nbsp;<span class="op" id="7406700">:=</span>&nbsp;<span class="builtinfunc" id="7406703">make</span><span class="op" id="7406707">(</span><span class="op" id="7406708">[</span><span class="op" id="7406709">]</span><span class="ident" id="7406710">bytes</span><span class="op" id="7406715">.</span><span class="ident" id="7406716">Buffer</span><span class="op" id="7406722">,</span>&nbsp;<span class="num" id="7406724">2</span><span class="op" id="7406725">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7406728">for</span>&nbsp;<span class="ident" id="7406732">i</span><span class="op" id="7406733">,</span>&nbsp;<span class="ident" id="7406735">s</span>&nbsp;<span class="op" id="7406737">:=</span>&nbsp;<span class="keyword" id="7406740">range</span>&nbsp;<span class="ident" id="7406746">ss</span>&nbsp;<span class="op" id="7406749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406753">w</span><span class="op" id="7406754">,</span>&nbsp;<span class="ident" id="7406756">_</span>&nbsp;<span class="op" id="7406758">:=</span>&nbsp;<span class="ident" id="7406761">NewWriter</span><span class="op" id="7406770">(</span><span class="op" id="7406771">&amp;</span><span class="ident" id="7406772">deflated</span><span class="op" id="7406780">[</span><span class="ident" id="7406781">i</span><span class="op" id="7406782">]</span><span class="op" id="7406783">,</span>&nbsp;<span class="num" id="7406785">1</span><span class="op" id="7406786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406790">w</span><span class="op" id="7406791">.</span><span class="ident" id="7406792">Write</span><span class="op" id="7406797">(</span><span class="op" id="7406798">[</span><span class="op" id="7406799">]</span><span class="builtintype" id="7406800">byte</span><span class="op" id="7406804">(</span><span class="ident" id="7406805">s</span><span class="op" id="7406806">)</span><span class="op" id="7406807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406811">w</span><span class="op" id="7406812">.</span><span class="ident" id="7406813">Close</span><span class="op" id="7406818">(</span><span class="op" id="7406819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7406822">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406826">inflated</span>&nbsp;<span class="op" id="7406835">:=</span>&nbsp;<span class="builtinfunc" id="7406838">make</span><span class="op" id="7406842">(</span><span class="op" id="7406843">[</span><span class="op" id="7406844">]</span><span class="ident" id="7406845">bytes</span><span class="op" id="7406850">.</span><span class="ident" id="7406851">Buffer</span><span class="op" id="7406857">,</span>&nbsp;<span class="num" id="7406859">2</span><span class="op" id="7406860">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406864">f</span>&nbsp;<span class="op" id="7406866">:=</span>&nbsp;<span class="ident" id="7406869">NewReader</span><span class="op" id="7406878">(</span><span class="op" id="7406879">&amp;</span><span class="ident" id="7406880">deflated</span><span class="op" id="7406888">[</span><span class="num" id="7406889">0</span><span class="op" id="7406890">]</span><span class="op" id="7406891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406894">io</span><span class="op" id="7406896">.</span><span class="ident" id="7406897">Copy</span><span class="op" id="7406901">(</span><span class="op" id="7406902">&amp;</span><span class="ident" id="7406903">inflated</span><span class="op" id="7406911">[</span><span class="num" id="7406912">0</span><span class="op" id="7406913">]</span><span class="op" id="7406914">,</span>&nbsp;<span class="ident" id="7406916">f</span><span class="op" id="7406917">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406920">f</span><span class="op" id="7406921">.</span><span class="op" id="7406922">(</span><span class="ident" id="7406923">Resetter</span><span class="op" id="7406931">)</span><span class="op" id="7406932">.</span><span class="ident" id="7406933">Reset</span><span class="op" id="7406938">(</span><span class="op" id="7406939">&amp;</span><span class="ident" id="7406940">deflated</span><span class="op" id="7406948">[</span><span class="num" id="7406949">1</span><span class="op" id="7406950">]</span><span class="op" id="7406951">,</span>&nbsp;<span class="ident" id="7406953">nil</span><span class="op" id="7406956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406959">io</span><span class="op" id="7406961">.</span><span class="ident" id="7406962">Copy</span><span class="op" id="7406966">(</span><span class="op" id="7406967">&amp;</span><span class="ident" id="7406968">inflated</span><span class="op" id="7406976">[</span><span class="num" id="7406977">1</span><span class="op" id="7406978">]</span><span class="op" id="7406979">,</span>&nbsp;<span class="ident" id="7406981">f</span><span class="op" id="7406982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406985">f</span><span class="op" id="7406986">.</span><span class="ident" id="7406987">Close</span><span class="op" id="7406992">(</span><span class="op" id="7406993">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7406997">for</span>&nbsp;<span class="ident" id="7407001">i</span><span class="op" id="7407002">,</span>&nbsp;<span class="ident" id="7407004">s</span>&nbsp;<span class="op" id="7407006">:=</span>&nbsp;<span class="keyword" id="7407009">range</span>&nbsp;<span class="ident" id="7407015">ss</span>&nbsp;<span class="op" id="7407018">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7407022">if</span>&nbsp;<span class="ident" id="7407025">s</span>&nbsp;<span class="op" id="7407027">!=</span>&nbsp;<span class="ident" id="7407030">inflated</span><span class="op" id="7407038">[</span><span class="ident" id="7407039">i</span><span class="op" id="7407040">]</span><span class="op" id="7407041">.</span><span class="ident" id="7407042">String</span><span class="op" id="7407048">(</span><span class="op" id="7407049">)</span>&nbsp;<span class="op" id="7407051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7407056">t</span><span class="op" id="7407057">.</span><span class="ident" id="7407058">Errorf</span><span class="op" id="7407064">(</span><span class="string" id="7407065">&#34;inflated[%d]:\ngot&nbsp;&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="7407098">,</span>&nbsp;<span class="ident" id="7407100">i</span><span class="op" id="7407101">,</span>&nbsp;<span class="ident" id="7407103">inflated</span><span class="op" id="7407111">[</span><span class="ident" id="7407112">i</span><span class="op" id="7407113">]</span><span class="op" id="7407114">,</span>&nbsp;<span class="ident" id="7407116">s</span><span class="op" id="7407117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7407121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7407124">}</span><br>
<span class="lineno"></span><span class="op" id="7407126">}</span>
</div>
</body>
</html>
