<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html" class="current">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8118659">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8118714">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8118768">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8118819">package</span>&nbsp;<span class="ident" id="8118827">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8118834">import</span>&nbsp;<span class="op" id="8118841">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8118844">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8118853">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8118859">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8118869">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8118872">func</span>&nbsp;<span class="ident" id="8118877">TestReset</span><span class="op" id="8118886">(</span><span class="ident" id="8118887">t</span>&nbsp;<span class="op" id="8118889">*</span><span class="ident" id="8118890">testing</span><span class="op" id="8118897">.</span><span class="ident" id="8118898">T</span><span class="op" id="8118899">)</span>&nbsp;<span class="op" id="8118901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8118904">ss</span>&nbsp;<span class="op" id="8118907">:=</span>&nbsp;<span class="op" id="8118910">[</span><span class="op" id="8118911">]</span><span class="builtintype" id="8118912">string</span><span class="op" id="8118918">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8118922">&#34;lorem&nbsp;ipsum&nbsp;izzle&nbsp;fo&nbsp;rizzle&#34;</span><span class="op" id="8118951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8118955">&#34;the&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&#34;</span><span class="op" id="8118988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8118991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8118995">deflated</span>&nbsp;<span class="op" id="8119004">:=</span>&nbsp;<span class="builtinfunc" id="8119007">make</span><span class="op" id="8119011">(</span><span class="op" id="8119012">[</span><span class="op" id="8119013">]</span><span class="ident" id="8119014">bytes</span><span class="op" id="8119019">.</span><span class="ident" id="8119020">Buffer</span><span class="op" id="8119026">,</span>&nbsp;<span class="num" id="8119028">2</span><span class="op" id="8119029">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8119032">for</span>&nbsp;<span class="ident" id="8119036">i</span><span class="op" id="8119037">,</span>&nbsp;<span class="ident" id="8119039">s</span>&nbsp;<span class="op" id="8119041">:=</span>&nbsp;<span class="keyword" id="8119044">range</span>&nbsp;<span class="ident" id="8119050">ss</span>&nbsp;<span class="op" id="8119053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119057">w</span><span class="op" id="8119058">,</span>&nbsp;<span class="ident" id="8119060">_</span>&nbsp;<span class="op" id="8119062">:=</span>&nbsp;<span class="ident" id="8119065">NewWriter</span><span class="op" id="8119074">(</span><span class="op" id="8119075">&amp;</span><span class="ident" id="8119076">deflated</span><span class="op" id="8119084">[</span><span class="ident" id="8119085">i</span><span class="op" id="8119086">]</span><span class="op" id="8119087">,</span>&nbsp;<span class="num" id="8119089">1</span><span class="op" id="8119090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119094">w</span><span class="op" id="8119095">.</span><span class="ident" id="8119096">Write</span><span class="op" id="8119101">(</span><span class="op" id="8119102">[</span><span class="op" id="8119103">]</span><span class="builtintype" id="8119104">byte</span><span class="op" id="8119108">(</span><span class="ident" id="8119109">s</span><span class="op" id="8119110">)</span><span class="op" id="8119111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119115">w</span><span class="op" id="8119116">.</span><span class="ident" id="8119117">Close</span><span class="op" id="8119122">(</span><span class="op" id="8119123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8119126">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119130">inflated</span>&nbsp;<span class="op" id="8119139">:=</span>&nbsp;<span class="builtinfunc" id="8119142">make</span><span class="op" id="8119146">(</span><span class="op" id="8119147">[</span><span class="op" id="8119148">]</span><span class="ident" id="8119149">bytes</span><span class="op" id="8119154">.</span><span class="ident" id="8119155">Buffer</span><span class="op" id="8119161">,</span>&nbsp;<span class="num" id="8119163">2</span><span class="op" id="8119164">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119168">f</span>&nbsp;<span class="op" id="8119170">:=</span>&nbsp;<span class="ident" id="8119173">NewReader</span><span class="op" id="8119182">(</span><span class="op" id="8119183">&amp;</span><span class="ident" id="8119184">deflated</span><span class="op" id="8119192">[</span><span class="num" id="8119193">0</span><span class="op" id="8119194">]</span><span class="op" id="8119195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119198">io</span><span class="op" id="8119200">.</span><span class="ident" id="8119201">Copy</span><span class="op" id="8119205">(</span><span class="op" id="8119206">&amp;</span><span class="ident" id="8119207">inflated</span><span class="op" id="8119215">[</span><span class="num" id="8119216">0</span><span class="op" id="8119217">]</span><span class="op" id="8119218">,</span>&nbsp;<span class="ident" id="8119220">f</span><span class="op" id="8119221">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119224">f</span><span class="op" id="8119225">.</span><span class="op" id="8119226">(</span><span class="ident" id="8119227">Resetter</span><span class="op" id="8119235">)</span><span class="op" id="8119236">.</span><span class="ident" id="8119237">Reset</span><span class="op" id="8119242">(</span><span class="op" id="8119243">&amp;</span><span class="ident" id="8119244">deflated</span><span class="op" id="8119252">[</span><span class="num" id="8119253">1</span><span class="op" id="8119254">]</span><span class="op" id="8119255">,</span>&nbsp;<span class="builtintype" id="8119257">nil</span><span class="op" id="8119260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119263">io</span><span class="op" id="8119265">.</span><span class="ident" id="8119266">Copy</span><span class="op" id="8119270">(</span><span class="op" id="8119271">&amp;</span><span class="ident" id="8119272">inflated</span><span class="op" id="8119280">[</span><span class="num" id="8119281">1</span><span class="op" id="8119282">]</span><span class="op" id="8119283">,</span>&nbsp;<span class="ident" id="8119285">f</span><span class="op" id="8119286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119289">f</span><span class="op" id="8119290">.</span><span class="ident" id="8119291">Close</span><span class="op" id="8119296">(</span><span class="op" id="8119297">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8119301">for</span>&nbsp;<span class="ident" id="8119305">i</span><span class="op" id="8119306">,</span>&nbsp;<span class="ident" id="8119308">s</span>&nbsp;<span class="op" id="8119310">:=</span>&nbsp;<span class="keyword" id="8119313">range</span>&nbsp;<span class="ident" id="8119319">ss</span>&nbsp;<span class="op" id="8119322">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8119326">if</span>&nbsp;<span class="ident" id="8119329">s</span>&nbsp;<span class="op" id="8119331">!=</span>&nbsp;<span class="ident" id="8119334">inflated</span><span class="op" id="8119342">[</span><span class="ident" id="8119343">i</span><span class="op" id="8119344">]</span><span class="op" id="8119345">.</span><span class="ident" id="8119346">String</span><span class="op" id="8119352">(</span><span class="op" id="8119353">)</span>&nbsp;<span class="op" id="8119355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8119360">t</span><span class="op" id="8119361">.</span><span class="ident" id="8119362">Errorf</span><span class="op" id="8119368">(</span><span class="string" id="8119369">&#34;inflated[%d]:\ngot&nbsp;&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="8119402">,</span>&nbsp;<span class="ident" id="8119404">i</span><span class="op" id="8119405">,</span>&nbsp;<span class="ident" id="8119407">inflated</span><span class="op" id="8119415">[</span><span class="ident" id="8119416">i</span><span class="op" id="8119417">]</span><span class="op" id="8119418">,</span>&nbsp;<span class="ident" id="8119420">s</span><span class="op" id="8119421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8119425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8119428">}</span><br>
<span class="lineno"></span><span class="op" id="8119430">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
