<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2391737">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2391792">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2391846">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2391897">package</span>&nbsp;<span class="ident" id="2391905">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2391910">import</span>&nbsp;<span class="op" id="2391917">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2391920">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2391930">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2391936">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2391942">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2391953">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2391961">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2391976">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2391979">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2392045">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2392082">var</span>&nbsp;<span class="op" id="2392086">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392089">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2392106">=</span>&nbsp;<span class="op" id="2392108">[</span><span class="op" id="2392109">]</span><span class="builtintype" id="2392110">byte</span><span class="op" id="2392114">(</span><span class="string" id="2392115">&#34;,&nbsp;&#34;</span><span class="op" id="2392119">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392122">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392139">=</span>&nbsp;<span class="op" id="2392141">[</span><span class="op" id="2392142">]</span><span class="builtintype" id="2392143">byte</span><span class="op" id="2392147">(</span><span class="string" id="2392148">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2392155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392158">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392175">=</span>&nbsp;<span class="op" id="2392177">[</span><span class="op" id="2392178">]</span><span class="builtintype" id="2392179">byte</span><span class="op" id="2392183">(</span><span class="string" id="2392184">&#34;(nil)&#34;</span><span class="op" id="2392191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392194">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392211">=</span>&nbsp;<span class="op" id="2392213">[</span><span class="op" id="2392214">]</span><span class="builtintype" id="2392215">byte</span><span class="op" id="2392219">(</span><span class="string" id="2392220">&#34;nil&#34;</span><span class="op" id="2392225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392228">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392245">=</span>&nbsp;<span class="op" id="2392247">[</span><span class="op" id="2392248">]</span><span class="builtintype" id="2392249">byte</span><span class="op" id="2392253">(</span><span class="string" id="2392254">&#34;map[&#34;</span><span class="op" id="2392260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392263">percentBangBytes</span>&nbsp;<span class="op" id="2392280">=</span>&nbsp;<span class="op" id="2392282">[</span><span class="op" id="2392283">]</span><span class="builtintype" id="2392284">byte</span><span class="op" id="2392288">(</span><span class="string" id="2392289">&#34;%!&#34;</span><span class="op" id="2392293">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392296">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392313">=</span>&nbsp;<span class="op" id="2392315">[</span><span class="op" id="2392316">]</span><span class="builtintype" id="2392317">byte</span><span class="op" id="2392321">(</span><span class="string" id="2392322">&#34;(MISSING)&#34;</span><span class="op" id="2392333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392336">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392353">=</span>&nbsp;<span class="op" id="2392355">[</span><span class="op" id="2392356">]</span><span class="builtintype" id="2392357">byte</span><span class="op" id="2392361">(</span><span class="string" id="2392362">&#34;(BADINDEX)&#34;</span><span class="op" id="2392374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392377">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392394">=</span>&nbsp;<span class="op" id="2392396">[</span><span class="op" id="2392397">]</span><span class="builtintype" id="2392398">byte</span><span class="op" id="2392402">(</span><span class="string" id="2392403">&#34;(PANIC=&#34;</span><span class="op" id="2392412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392415">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392432">=</span>&nbsp;<span class="op" id="2392434">[</span><span class="op" id="2392435">]</span><span class="builtintype" id="2392436">byte</span><span class="op" id="2392440">(</span><span class="string" id="2392441">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2392452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392455">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392472">=</span>&nbsp;<span class="op" id="2392474">[</span><span class="op" id="2392475">]</span><span class="builtintype" id="2392476">byte</span><span class="op" id="2392480">(</span><span class="string" id="2392481">&#34;i)&#34;</span><span class="op" id="2392485">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392488">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392505">=</span>&nbsp;<span class="op" id="2392507">[</span><span class="op" id="2392508">]</span><span class="builtintype" id="2392509">byte</span><span class="op" id="2392513">(</span><span class="string" id="2392514">&#34;[]byte{&#34;</span><span class="op" id="2392523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392526">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392543">=</span>&nbsp;<span class="op" id="2392545">[</span><span class="op" id="2392546">]</span><span class="builtintype" id="2392547">byte</span><span class="op" id="2392551">(</span><span class="string" id="2392552">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2392566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392569">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392586">=</span>&nbsp;<span class="op" id="2392588">[</span><span class="op" id="2392589">]</span><span class="builtintype" id="2392590">byte</span><span class="op" id="2392594">(</span><span class="string" id="2392595">&#34;%!(BADPREC)&#34;</span><span class="op" id="2392608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392611">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2392628">=</span>&nbsp;<span class="op" id="2392630">[</span><span class="op" id="2392631">]</span><span class="builtintype" id="2392632">byte</span><span class="op" id="2392636">(</span><span class="string" id="2392637">&#34;%!(NOVERB)&#34;</span><span class="op" id="2392649">)</span><br>
<span class="lineno"></span><span class="op" id="2392651">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2392654">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2392721">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2392793">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2392854">type</span>&nbsp;<span class="ident" id="2392859">State</span>&nbsp;<span class="keyword" id="2392865">interface</span>&nbsp;<span class="op" id="2392875">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2392878">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2392952">Write</span><span class="op" id="2392957">(</span><span class="ident" id="2392958">b</span>&nbsp;<span class="op" id="2392960">[</span><span class="op" id="2392961">]</span><span class="builtintype" id="2392962">byte</span><span class="op" id="2392966">)</span>&nbsp;<span class="op" id="2392968">(</span><span class="ident" id="2392969">ret</span>&nbsp;<span class="builtintype" id="2392973">int</span><span class="op" id="2392976">,</span>&nbsp;<span class="ident" id="2392978">err</span>&nbsp;<span class="builtintype" id="2392982">error</span><span class="op" id="2392987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2392990">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393067">Width</span><span class="op" id="2393072">(</span><span class="op" id="2393073">)</span>&nbsp;<span class="op" id="2393075">(</span><span class="ident" id="2393076">wid</span>&nbsp;<span class="builtintype" id="2393080">int</span><span class="op" id="2393083">,</span>&nbsp;<span class="ident" id="2393085">ok</span>&nbsp;<span class="builtintype" id="2393088">bool</span><span class="op" id="2393092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2393095">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393180">Precision</span><span class="op" id="2393189">(</span><span class="op" id="2393190">)</span>&nbsp;<span class="op" id="2393192">(</span><span class="ident" id="2393193">prec</span>&nbsp;<span class="builtintype" id="2393198">int</span><span class="op" id="2393201">,</span>&nbsp;<span class="ident" id="2393203">ok</span>&nbsp;<span class="builtintype" id="2393206">bool</span><span class="op" id="2393210">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2393214">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393278">Flag</span><span class="op" id="2393282">(</span><span class="ident" id="2393283">c</span>&nbsp;<span class="builtintype" id="2393285">int</span><span class="op" id="2393288">)</span>&nbsp;<span class="builtintype" id="2393290">bool</span><br>
<span class="lineno"></span><span class="op" id="2393295">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2393298">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2393375">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2393444">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2393471">type</span>&nbsp;<span class="ident" id="2393476">Formatter</span>&nbsp;<span class="keyword" id="2393486">interface</span>&nbsp;<span class="op" id="2393496">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393499">Format</span><span class="op" id="2393505">(</span><span class="ident" id="2393506">f</span>&nbsp;<span class="ident" id="2393508">State</span><span class="op" id="2393513">,</span>&nbsp;<span class="ident" id="2393515">c</span>&nbsp;<span class="builtintype" id="2393517">rune</span><span class="op" id="2393521">)</span><br>
<span class="lineno"></span><span class="op" id="2393523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2393526">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2393592">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2393647">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2393713">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2393781">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2393799">type</span>&nbsp;<span class="ident" id="2393804">Stringer</span>&nbsp;<span class="keyword" id="2393813">interface</span>&nbsp;<span class="op" id="2393823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2393826">String</span><span class="op" id="2393832">(</span><span class="op" id="2393833">)</span>&nbsp;<span class="builtintype" id="2393835">string</span><br>
<span class="lineno">65</span><span class="op" id="2393842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2393845">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2393915">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2393962">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2394030">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2394050">type</span>&nbsp;<span class="ident" id="2394055">GoStringer</span>&nbsp;<span class="keyword" id="2394066">interface</span>&nbsp;<span class="op" id="2394076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394079">GoString</span><span class="op" id="2394087">(</span><span class="op" id="2394088">)</span>&nbsp;<span class="builtintype" id="2394090">string</span><br>
<span class="lineno"></span><span class="op" id="2394097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2394100">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2394172">type</span>&nbsp;<span class="ident" id="2394177">buffer</span>&nbsp;<span class="op" id="2394184">[</span><span class="op" id="2394185">]</span><span class="builtintype" id="2394186">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2394192">func</span>&nbsp;<span class="op" id="2394197">(</span><span class="ident" id="2394198">b</span>&nbsp;<span class="op" id="2394200">*</span><span class="ident" id="2394201">buffer</span><span class="op" id="2394207">)</span>&nbsp;<span class="ident" id="2394209">Write</span><span class="op" id="2394214">(</span><span class="ident" id="2394215">p</span>&nbsp;<span class="op" id="2394217">[</span><span class="op" id="2394218">]</span><span class="builtintype" id="2394219">byte</span><span class="op" id="2394223">)</span>&nbsp;<span class="op" id="2394225">(</span><span class="ident" id="2394226">n</span>&nbsp;<span class="builtintype" id="2394228">int</span><span class="op" id="2394231">,</span>&nbsp;<span class="ident" id="2394233">err</span>&nbsp;<span class="builtintype" id="2394237">error</span><span class="op" id="2394242">)</span>&nbsp;<span class="op" id="2394244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394247">*</span><span class="ident" id="2394248">b</span>&nbsp;<span class="op" id="2394250">=</span>&nbsp;<span class="builtinfunc" id="2394252">append</span><span class="op" id="2394258">(</span><span class="op" id="2394259">*</span><span class="ident" id="2394260">b</span><span class="op" id="2394261">,</span>&nbsp;<span class="ident" id="2394263">p</span><span class="op" id="2394264">...</span><span class="op" id="2394267">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394270">return</span>&nbsp;<span class="builtinfunc" id="2394277">len</span><span class="op" id="2394280">(</span><span class="ident" id="2394281">p</span><span class="op" id="2394282">)</span><span class="op" id="2394283">,</span>&nbsp;<span class="ident" id="2394285">nil</span><br>
<span class="lineno"></span><span class="op" id="2394289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2394292">func</span>&nbsp;<span class="op" id="2394297">(</span><span class="ident" id="2394298">b</span>&nbsp;<span class="op" id="2394300">*</span><span class="ident" id="2394301">buffer</span><span class="op" id="2394307">)</span>&nbsp;<span class="ident" id="2394309">WriteString</span><span class="op" id="2394320">(</span><span class="ident" id="2394321">s</span>&nbsp;<span class="builtintype" id="2394323">string</span><span class="op" id="2394329">)</span>&nbsp;<span class="op" id="2394331">(</span><span class="ident" id="2394332">n</span>&nbsp;<span class="builtintype" id="2394334">int</span><span class="op" id="2394337">,</span>&nbsp;<span class="ident" id="2394339">err</span>&nbsp;<span class="builtintype" id="2394343">error</span><span class="op" id="2394348">)</span>&nbsp;<span class="op" id="2394350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394353">*</span><span class="ident" id="2394354">b</span>&nbsp;<span class="op" id="2394356">=</span>&nbsp;<span class="builtinfunc" id="2394358">append</span><span class="op" id="2394364">(</span><span class="op" id="2394365">*</span><span class="ident" id="2394366">b</span><span class="op" id="2394367">,</span>&nbsp;<span class="ident" id="2394369">s</span><span class="op" id="2394370">...</span><span class="op" id="2394373">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394376">return</span>&nbsp;<span class="builtinfunc" id="2394383">len</span><span class="op" id="2394386">(</span><span class="ident" id="2394387">s</span><span class="op" id="2394388">)</span><span class="op" id="2394389">,</span>&nbsp;<span class="ident" id="2394391">nil</span><br>
<span class="lineno"></span><span class="op" id="2394395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2394398">func</span>&nbsp;<span class="op" id="2394403">(</span><span class="ident" id="2394404">b</span>&nbsp;<span class="op" id="2394406">*</span><span class="ident" id="2394407">buffer</span><span class="op" id="2394413">)</span>&nbsp;<span class="ident" id="2394415">WriteByte</span><span class="op" id="2394424">(</span><span class="ident" id="2394425">c</span>&nbsp;<span class="builtintype" id="2394427">byte</span><span class="op" id="2394431">)</span>&nbsp;<span class="builtintype" id="2394433">error</span>&nbsp;<span class="op" id="2394439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394442">*</span><span class="ident" id="2394443">b</span>&nbsp;<span class="op" id="2394445">=</span>&nbsp;<span class="builtinfunc" id="2394447">append</span><span class="op" id="2394453">(</span><span class="op" id="2394454">*</span><span class="ident" id="2394455">b</span><span class="op" id="2394456">,</span>&nbsp;<span class="ident" id="2394458">c</span><span class="op" id="2394459">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394462">return</span>&nbsp;<span class="ident" id="2394469">nil</span><br>
<span class="lineno"></span><span class="op" id="2394473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2394476">func</span>&nbsp;<span class="op" id="2394481">(</span><span class="ident" id="2394482">bp</span>&nbsp;<span class="op" id="2394485">*</span><span class="ident" id="2394486">buffer</span><span class="op" id="2394492">)</span>&nbsp;<span class="ident" id="2394494">WriteRune</span><span class="op" id="2394503">(</span><span class="ident" id="2394504">r</span>&nbsp;<span class="builtintype" id="2394506">rune</span><span class="op" id="2394510">)</span>&nbsp;<span class="builtintype" id="2394512">error</span>&nbsp;<span class="op" id="2394518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394521">if</span>&nbsp;<span class="ident" id="2394524">r</span>&nbsp;<span class="op" id="2394526">&lt;</span>&nbsp;<span class="ident" id="2394528">utf8</span><span class="op" id="2394532">.</span><span class="ident" id="2394533">RuneSelf</span>&nbsp;<span class="op" id="2394542">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394546">*</span><span class="ident" id="2394547">bp</span>&nbsp;<span class="op" id="2394550">=</span>&nbsp;<span class="builtinfunc" id="2394552">append</span><span class="op" id="2394558">(</span><span class="op" id="2394559">*</span><span class="ident" id="2394560">bp</span><span class="op" id="2394562">,</span>&nbsp;<span class="builtintype" id="2394564">byte</span><span class="op" id="2394568">(</span><span class="ident" id="2394569">r</span><span class="op" id="2394570">)</span><span class="op" id="2394571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394575">return</span>&nbsp;<span class="ident" id="2394582">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394591">b</span>&nbsp;<span class="op" id="2394593">:=</span>&nbsp;<span class="op" id="2394596">*</span><span class="ident" id="2394597">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394601">n</span>&nbsp;<span class="op" id="2394603">:=</span>&nbsp;<span class="builtinfunc" id="2394606">len</span><span class="op" id="2394609">(</span><span class="ident" id="2394610">b</span><span class="op" id="2394611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394614">for</span>&nbsp;<span class="ident" id="2394618">n</span><span class="op" id="2394619">+</span><span class="ident" id="2394620">utf8</span><span class="op" id="2394624">.</span><span class="ident" id="2394625">UTFMax</span>&nbsp;<span class="op" id="2394632">&gt;</span>&nbsp;<span class="builtinfunc" id="2394634">cap</span><span class="op" id="2394637">(</span><span class="ident" id="2394638">b</span><span class="op" id="2394639">)</span>&nbsp;<span class="op" id="2394641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394645">b</span>&nbsp;<span class="op" id="2394647">=</span>&nbsp;<span class="builtinfunc" id="2394649">append</span><span class="op" id="2394655">(</span><span class="ident" id="2394656">b</span><span class="op" id="2394657">,</span>&nbsp;<span class="num" id="2394659">0</span><span class="op" id="2394660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394666">w</span>&nbsp;<span class="op" id="2394668">:=</span>&nbsp;<span class="ident" id="2394671">utf8</span><span class="op" id="2394675">.</span><span class="ident" id="2394676">EncodeRune</span><span class="op" id="2394686">(</span><span class="ident" id="2394687">b</span><span class="op" id="2394688">[</span><span class="ident" id="2394689">n</span><span class="op" id="2394690">:</span><span class="ident" id="2394691">n</span><span class="op" id="2394692">+</span><span class="ident" id="2394693">utf8</span><span class="op" id="2394697">.</span><span class="ident" id="2394698">UTFMax</span><span class="op" id="2394704">]</span><span class="op" id="2394705">,</span>&nbsp;<span class="ident" id="2394707">r</span><span class="op" id="2394708">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2394711">*</span><span class="ident" id="2394712">bp</span>&nbsp;<span class="op" id="2394715">=</span>&nbsp;<span class="ident" id="2394717">b</span><span class="op" id="2394718">[</span><span class="op" id="2394719">:</span><span class="ident" id="2394720">n</span><span class="op" id="2394721">+</span><span class="ident" id="2394722">w</span><span class="op" id="2394723">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2394726">return</span>&nbsp;<span class="ident" id="2394733">nil</span><br>
<span class="lineno"></span><span class="op" id="2394737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2394740">type</span>&nbsp;<span class="ident" id="2394745">pp</span>&nbsp;<span class="keyword" id="2394748">struct</span>&nbsp;<span class="op" id="2394755">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394758">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2394768">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394773">panicking</span>&nbsp;<span class="builtintype" id="2394783">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394789">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2394799">bool</span>&nbsp;<span class="comment" id="2394804">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394836">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2394846">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2394854">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394905">arg</span>&nbsp;<span class="keyword" id="2394909">interface</span><span class="op" id="2394918">{</span><span class="op" id="2394919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2394922">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2394988">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395043">value</span>&nbsp;<span class="ident" id="2395049">reflect</span><span class="op" id="2395056">.</span><span class="ident" id="2395057">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395064">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395138">reordered</span>&nbsp;<span class="builtintype" id="2395148">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395154">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395233">goodArgNum</span>&nbsp;<span class="builtintype" id="2395244">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395250">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2395261">[</span><span class="ident" id="2395262">utf8</span><span class="op" id="2395266">.</span><span class="ident" id="2395267">UTFMax</span><span class="op" id="2395273">]</span><span class="builtintype" id="2395274">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395280">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2395291">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2395295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2395298">var</span>&nbsp;<span class="ident" id="2395302">ppFree</span>&nbsp;<span class="op" id="2395309">=</span>&nbsp;<span class="ident" id="2395311">sync</span><span class="op" id="2395315">.</span><span class="ident" id="2395316">Pool</span><span class="op" id="2395320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395323">New</span><span class="op" id="2395326">:</span>&nbsp;<span class="keyword" id="2395328">func</span><span class="op" id="2395332">(</span><span class="op" id="2395333">)</span>&nbsp;<span class="keyword" id="2395335">interface</span><span class="op" id="2395344">{</span><span class="op" id="2395345">}</span>&nbsp;<span class="op" id="2395347">{</span>&nbsp;<span class="keyword" id="2395349">return</span>&nbsp;<span class="builtinfunc" id="2395356">new</span><span class="op" id="2395359">(</span><span class="ident" id="2395360">pp</span><span class="op" id="2395362">)</span>&nbsp;<span class="op" id="2395364">}</span><span class="op" id="2395365">,</span><br>
<span class="lineno"></span><span class="op" id="2395367">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2395370">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2395433">func</span>&nbsp;<span class="ident" id="2395438">newPrinter</span><span class="op" id="2395448">(</span><span class="op" id="2395449">)</span>&nbsp;<span class="op" id="2395451">*</span><span class="ident" id="2395452">pp</span>&nbsp;<span class="op" id="2395455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395458">p</span>&nbsp;<span class="op" id="2395460">:=</span>&nbsp;<span class="ident" id="2395463">ppFree</span><span class="op" id="2395469">.</span><span class="ident" id="2395470">Get</span><span class="op" id="2395473">(</span><span class="op" id="2395474">)</span><span class="op" id="2395475">.</span><span class="op" id="2395476">(</span><span class="op" id="2395477">*</span><span class="ident" id="2395478">pp</span><span class="op" id="2395480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395483">p</span><span class="op" id="2395484">.</span><span class="ident" id="2395485">panicking</span>&nbsp;<span class="op" id="2395495">=</span>&nbsp;<span class="builtintype" id="2395497">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395504">p</span><span class="op" id="2395505">.</span><span class="ident" id="2395506">erroring</span>&nbsp;<span class="op" id="2395515">=</span>&nbsp;<span class="builtintype" id="2395517">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395524">p</span><span class="op" id="2395525">.</span><span class="ident" id="2395526">fmt</span><span class="op" id="2395529">.</span><span class="ident" id="2395530">init</span><span class="op" id="2395534">(</span><span class="op" id="2395535">&amp;</span><span class="ident" id="2395536">p</span><span class="op" id="2395537">.</span><span class="ident" id="2395538">buf</span><span class="op" id="2395541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395544">return</span>&nbsp;<span class="ident" id="2395551">p</span><br>
<span class="lineno"></span><span class="op" id="2395553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2395556">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2395634">func</span>&nbsp;<span class="op" id="2395639">(</span><span class="ident" id="2395640">p</span>&nbsp;<span class="op" id="2395642">*</span><span class="ident" id="2395643">pp</span><span class="op" id="2395645">)</span>&nbsp;<span class="ident" id="2395647">free</span><span class="op" id="2395651">(</span><span class="op" id="2395652">)</span>&nbsp;<span class="op" id="2395654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395657">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395709">if</span>&nbsp;<span class="builtinfunc" id="2395712">cap</span><span class="op" id="2395715">(</span><span class="ident" id="2395716">p</span><span class="op" id="2395717">.</span><span class="ident" id="2395718">buf</span><span class="op" id="2395721">)</span>&nbsp;<span class="op" id="2395723">&gt;</span>&nbsp;<span class="num" id="2395725">1024</span>&nbsp;<span class="op" id="2395730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2395734">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2395742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395745">p</span><span class="op" id="2395746">.</span><span class="ident" id="2395747">buf</span>&nbsp;<span class="op" id="2395751">=</span>&nbsp;<span class="ident" id="2395753">p</span><span class="op" id="2395754">.</span><span class="ident" id="2395755">buf</span><span class="op" id="2395758">[</span><span class="op" id="2395759">:</span><span class="num" id="2395760">0</span><span class="op" id="2395761">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395764">p</span><span class="op" id="2395765">.</span><span class="ident" id="2395766">arg</span>&nbsp;<span class="op" id="2395770">=</span>&nbsp;<span class="ident" id="2395772">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395777">p</span><span class="op" id="2395778">.</span><span class="ident" id="2395779">value</span>&nbsp;<span class="op" id="2395785">=</span>&nbsp;<span class="ident" id="2395787">reflect</span><span class="op" id="2395794">.</span><span class="ident" id="2395795">Value</span><span class="op" id="2395800">{</span><span class="op" id="2395801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395804">ppFree</span><span class="op" id="2395810">.</span><span class="ident" id="2395811">Put</span><span class="op" id="2395814">(</span><span class="ident" id="2395815">p</span><span class="op" id="2395816">)</span><br>
<span class="lineno">150</span><span class="op" id="2395818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2395821">func</span>&nbsp;<span class="op" id="2395826">(</span><span class="ident" id="2395827">p</span>&nbsp;<span class="op" id="2395829">*</span><span class="ident" id="2395830">pp</span><span class="op" id="2395832">)</span>&nbsp;<span class="ident" id="2395834">Width</span><span class="op" id="2395839">(</span><span class="op" id="2395840">)</span>&nbsp;<span class="op" id="2395842">(</span><span class="ident" id="2395843">wid</span>&nbsp;<span class="builtintype" id="2395847">int</span><span class="op" id="2395850">,</span>&nbsp;<span class="ident" id="2395852">ok</span>&nbsp;<span class="builtintype" id="2395855">bool</span><span class="op" id="2395859">)</span>&nbsp;<span class="op" id="2395861">{</span>&nbsp;<span class="keyword" id="2395863">return</span>&nbsp;<span class="ident" id="2395870">p</span><span class="op" id="2395871">.</span><span class="ident" id="2395872">fmt</span><span class="op" id="2395875">.</span><span class="ident" id="2395876">wid</span><span class="op" id="2395879">,</span>&nbsp;<span class="ident" id="2395881">p</span><span class="op" id="2395882">.</span><span class="ident" id="2395883">fmt</span><span class="op" id="2395886">.</span><span class="ident" id="2395887">widPresent</span>&nbsp;<span class="op" id="2395898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2395901">func</span>&nbsp;<span class="op" id="2395906">(</span><span class="ident" id="2395907">p</span>&nbsp;<span class="op" id="2395909">*</span><span class="ident" id="2395910">pp</span><span class="op" id="2395912">)</span>&nbsp;<span class="ident" id="2395914">Precision</span><span class="op" id="2395923">(</span><span class="op" id="2395924">)</span>&nbsp;<span class="op" id="2395926">(</span><span class="ident" id="2395927">prec</span>&nbsp;<span class="builtintype" id="2395932">int</span><span class="op" id="2395935">,</span>&nbsp;<span class="ident" id="2395937">ok</span>&nbsp;<span class="builtintype" id="2395940">bool</span><span class="op" id="2395944">)</span>&nbsp;<span class="op" id="2395946">{</span>&nbsp;<span class="keyword" id="2395948">return</span>&nbsp;<span class="ident" id="2395955">p</span><span class="op" id="2395956">.</span><span class="ident" id="2395957">fmt</span><span class="op" id="2395960">.</span><span class="ident" id="2395961">prec</span><span class="op" id="2395965">,</span>&nbsp;<span class="ident" id="2395967">p</span><span class="op" id="2395968">.</span><span class="ident" id="2395969">fmt</span><span class="op" id="2395972">.</span><span class="ident" id="2395973">precPresent</span>&nbsp;<span class="op" id="2395985">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2395988">func</span>&nbsp;<span class="op" id="2395993">(</span><span class="ident" id="2395994">p</span>&nbsp;<span class="op" id="2395996">*</span><span class="ident" id="2395997">pp</span><span class="op" id="2395999">)</span>&nbsp;<span class="ident" id="2396001">Flag</span><span class="op" id="2396005">(</span><span class="ident" id="2396006">b</span>&nbsp;<span class="builtintype" id="2396008">int</span><span class="op" id="2396011">)</span>&nbsp;<span class="builtintype" id="2396013">bool</span>&nbsp;<span class="op" id="2396018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396021">switch</span>&nbsp;<span class="ident" id="2396028">b</span>&nbsp;<span class="op" id="2396030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396033">case</span>&nbsp;<span class="string" id="2396038">&#39;-&#39;</span><span class="op" id="2396041">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396045">return</span>&nbsp;<span class="ident" id="2396052">p</span><span class="op" id="2396053">.</span><span class="ident" id="2396054">fmt</span><span class="op" id="2396057">.</span><span class="ident" id="2396058">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396065">case</span>&nbsp;<span class="string" id="2396070">&#39;+&#39;</span><span class="op" id="2396073">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396077">return</span>&nbsp;<span class="ident" id="2396084">p</span><span class="op" id="2396085">.</span><span class="ident" id="2396086">fmt</span><span class="op" id="2396089">.</span><span class="ident" id="2396090">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396096">case</span>&nbsp;<span class="string" id="2396101">&#39;#&#39;</span><span class="op" id="2396104">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396108">return</span>&nbsp;<span class="ident" id="2396115">p</span><span class="op" id="2396116">.</span><span class="ident" id="2396117">fmt</span><span class="op" id="2396120">.</span><span class="ident" id="2396121">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396128">case</span>&nbsp;<span class="string" id="2396133">&#39;&nbsp;&#39;</span><span class="op" id="2396136">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396140">return</span>&nbsp;<span class="ident" id="2396147">p</span><span class="op" id="2396148">.</span><span class="ident" id="2396149">fmt</span><span class="op" id="2396152">.</span><span class="ident" id="2396153">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396160">case</span>&nbsp;<span class="string" id="2396165">&#39;0&#39;</span><span class="op" id="2396168">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396172">return</span>&nbsp;<span class="ident" id="2396179">p</span><span class="op" id="2396180">.</span><span class="ident" id="2396181">fmt</span><span class="op" id="2396184">.</span><span class="ident" id="2396185">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2396191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396194">return</span>&nbsp;<span class="builtintype" id="2396201">false</span><br>
<span class="lineno">170</span><span class="op" id="2396207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2396210">func</span>&nbsp;<span class="op" id="2396215">(</span><span class="ident" id="2396216">p</span>&nbsp;<span class="op" id="2396218">*</span><span class="ident" id="2396219">pp</span><span class="op" id="2396221">)</span>&nbsp;<span class="ident" id="2396223">add</span><span class="op" id="2396226">(</span><span class="ident" id="2396227">c</span>&nbsp;<span class="builtintype" id="2396229">rune</span><span class="op" id="2396233">)</span>&nbsp;<span class="op" id="2396235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396238">p</span><span class="op" id="2396239">.</span><span class="ident" id="2396240">buf</span><span class="op" id="2396243">.</span><span class="ident" id="2396244">WriteRune</span><span class="op" id="2396253">(</span><span class="ident" id="2396254">c</span><span class="op" id="2396255">)</span><br>
<span class="lineno"></span><span class="op" id="2396257">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2396260">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2396331">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2396365">func</span>&nbsp;<span class="op" id="2396370">(</span><span class="ident" id="2396371">p</span>&nbsp;<span class="op" id="2396373">*</span><span class="ident" id="2396374">pp</span><span class="op" id="2396376">)</span>&nbsp;<span class="ident" id="2396378">Write</span><span class="op" id="2396383">(</span><span class="ident" id="2396384">b</span>&nbsp;<span class="op" id="2396386">[</span><span class="op" id="2396387">]</span><span class="builtintype" id="2396388">byte</span><span class="op" id="2396392">)</span>&nbsp;<span class="op" id="2396394">(</span><span class="ident" id="2396395">ret</span>&nbsp;<span class="builtintype" id="2396399">int</span><span class="op" id="2396402">,</span>&nbsp;<span class="ident" id="2396404">err</span>&nbsp;<span class="builtintype" id="2396408">error</span><span class="op" id="2396413">)</span>&nbsp;<span class="op" id="2396415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396418">return</span>&nbsp;<span class="ident" id="2396425">p</span><span class="op" id="2396426">.</span><span class="ident" id="2396427">buf</span><span class="op" id="2396430">.</span><span class="ident" id="2396431">Write</span><span class="op" id="2396436">(</span><span class="ident" id="2396437">b</span><span class="op" id="2396438">)</span><br>
<span class="lineno">180</span><span class="op" id="2396440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2396443">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2396499">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2396567">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2396642">func</span>&nbsp;<span class="ident" id="2396647">Fprintf</span><span class="op" id="2396654">(</span><span class="ident" id="2396655">w</span>&nbsp;<span class="ident" id="2396657">io</span><span class="op" id="2396659">.</span><span class="ident" id="2396660">Writer</span><span class="op" id="2396666">,</span>&nbsp;<span class="ident" id="2396668">format</span>&nbsp;<span class="builtintype" id="2396675">string</span><span class="op" id="2396681">,</span>&nbsp;<span class="ident" id="2396683">a</span>&nbsp;<span class="op" id="2396685">...</span><span class="keyword" id="2396688">interface</span><span class="op" id="2396697">{</span><span class="op" id="2396698">}</span><span class="op" id="2396699">)</span>&nbsp;<span class="op" id="2396701">(</span><span class="ident" id="2396702">n</span>&nbsp;<span class="builtintype" id="2396704">int</span><span class="op" id="2396707">,</span>&nbsp;<span class="ident" id="2396709">err</span>&nbsp;<span class="builtintype" id="2396713">error</span><span class="op" id="2396718">)</span>&nbsp;<span class="op" id="2396720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396723">p</span>&nbsp;<span class="op" id="2396725">:=</span>&nbsp;<span class="ident" id="2396728">newPrinter</span><span class="op" id="2396738">(</span><span class="op" id="2396739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396742">p</span><span class="op" id="2396743">.</span><span class="ident" id="2396744">doPrintf</span><span class="op" id="2396752">(</span><span class="ident" id="2396753">format</span><span class="op" id="2396759">,</span>&nbsp;<span class="ident" id="2396761">a</span><span class="op" id="2396762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396765">n</span><span class="op" id="2396766">,</span>&nbsp;<span class="ident" id="2396768">err</span>&nbsp;<span class="op" id="2396772">=</span>&nbsp;<span class="ident" id="2396774">w</span><span class="op" id="2396775">.</span><span class="ident" id="2396776">Write</span><span class="op" id="2396781">(</span><span class="ident" id="2396782">p</span><span class="op" id="2396783">.</span><span class="ident" id="2396784">buf</span><span class="op" id="2396787">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396790">p</span><span class="op" id="2396791">.</span><span class="ident" id="2396792">free</span><span class="op" id="2396796">(</span><span class="op" id="2396797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2396800">return</span><br>
<span class="lineno"></span><span class="op" id="2396807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2396810">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2396891">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2396966">func</span>&nbsp;<span class="ident" id="2396971">Printf</span><span class="op" id="2396977">(</span><span class="ident" id="2396978">format</span>&nbsp;<span class="builtintype" id="2396985">string</span><span class="op" id="2396991">,</span>&nbsp;<span class="ident" id="2396993">a</span>&nbsp;<span class="op" id="2396995">...</span><span class="keyword" id="2396998">interface</span><span class="op" id="2397007">{</span><span class="op" id="2397008">}</span><span class="op" id="2397009">)</span>&nbsp;<span class="op" id="2397011">(</span><span class="ident" id="2397012">n</span>&nbsp;<span class="builtintype" id="2397014">int</span><span class="op" id="2397017">,</span>&nbsp;<span class="ident" id="2397019">err</span>&nbsp;<span class="builtintype" id="2397023">error</span><span class="op" id="2397028">)</span>&nbsp;<span class="op" id="2397030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2397033">return</span>&nbsp;<span class="ident" id="2397040">Fprintf</span><span class="op" id="2397047">(</span><span class="ident" id="2397048">os</span><span class="op" id="2397050">.</span><span class="ident" id="2397051">Stdout</span><span class="op" id="2397057">,</span>&nbsp;<span class="ident" id="2397059">format</span><span class="op" id="2397065">,</span>&nbsp;<span class="ident" id="2397067">a</span><span class="op" id="2397068">...</span><span class="op" id="2397071">)</span><br>
<span class="lineno"></span><span class="op" id="2397073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2397076">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2397161">func</span>&nbsp;<span class="ident" id="2397166">Sprintf</span><span class="op" id="2397173">(</span><span class="ident" id="2397174">format</span>&nbsp;<span class="builtintype" id="2397181">string</span><span class="op" id="2397187">,</span>&nbsp;<span class="ident" id="2397189">a</span>&nbsp;<span class="op" id="2397191">...</span><span class="keyword" id="2397194">interface</span><span class="op" id="2397203">{</span><span class="op" id="2397204">}</span><span class="op" id="2397205">)</span>&nbsp;<span class="builtintype" id="2397207">string</span>&nbsp;<span class="op" id="2397214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397217">p</span>&nbsp;<span class="op" id="2397219">:=</span>&nbsp;<span class="ident" id="2397222">newPrinter</span><span class="op" id="2397232">(</span><span class="op" id="2397233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397236">p</span><span class="op" id="2397237">.</span><span class="ident" id="2397238">doPrintf</span><span class="op" id="2397246">(</span><span class="ident" id="2397247">format</span><span class="op" id="2397253">,</span>&nbsp;<span class="ident" id="2397255">a</span><span class="op" id="2397256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397259">s</span>&nbsp;<span class="op" id="2397261">:=</span>&nbsp;<span class="builtintype" id="2397264">string</span><span class="op" id="2397270">(</span><span class="ident" id="2397271">p</span><span class="op" id="2397272">.</span><span class="ident" id="2397273">buf</span><span class="op" id="2397276">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397279">p</span><span class="op" id="2397280">.</span><span class="ident" id="2397281">free</span><span class="op" id="2397285">(</span><span class="op" id="2397286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2397289">return</span>&nbsp;<span class="ident" id="2397296">s</span><br>
<span class="lineno"></span><span class="op" id="2397298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2397301">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2397374">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2397410">func</span>&nbsp;<span class="ident" id="2397415">Errorf</span><span class="op" id="2397421">(</span><span class="ident" id="2397422">format</span>&nbsp;<span class="builtintype" id="2397429">string</span><span class="op" id="2397435">,</span>&nbsp;<span class="ident" id="2397437">a</span>&nbsp;<span class="op" id="2397439">...</span><span class="keyword" id="2397442">interface</span><span class="op" id="2397451">{</span><span class="op" id="2397452">}</span><span class="op" id="2397453">)</span>&nbsp;<span class="builtintype" id="2397455">error</span>&nbsp;<span class="op" id="2397461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2397464">return</span>&nbsp;<span class="ident" id="2397471">errors</span><span class="op" id="2397477">.</span><span class="ident" id="2397478">New</span><span class="op" id="2397481">(</span><span class="ident" id="2397482">Sprintf</span><span class="op" id="2397489">(</span><span class="ident" id="2397490">format</span><span class="op" id="2397496">,</span>&nbsp;<span class="ident" id="2397498">a</span><span class="op" id="2397499">...</span><span class="op" id="2397502">)</span><span class="op" id="2397503">)</span><br>
<span class="lineno"></span><span class="op" id="2397505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2397508">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2397555">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2397633">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2397696">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2397771">func</span>&nbsp;<span class="ident" id="2397776">Fprint</span><span class="op" id="2397782">(</span><span class="ident" id="2397783">w</span>&nbsp;<span class="ident" id="2397785">io</span><span class="op" id="2397787">.</span><span class="ident" id="2397788">Writer</span><span class="op" id="2397794">,</span>&nbsp;<span class="ident" id="2397796">a</span>&nbsp;<span class="op" id="2397798">...</span><span class="keyword" id="2397801">interface</span><span class="op" id="2397810">{</span><span class="op" id="2397811">}</span><span class="op" id="2397812">)</span>&nbsp;<span class="op" id="2397814">(</span><span class="ident" id="2397815">n</span>&nbsp;<span class="builtintype" id="2397817">int</span><span class="op" id="2397820">,</span>&nbsp;<span class="ident" id="2397822">err</span>&nbsp;<span class="builtintype" id="2397826">error</span><span class="op" id="2397831">)</span>&nbsp;<span class="op" id="2397833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397836">p</span>&nbsp;<span class="op" id="2397838">:=</span>&nbsp;<span class="ident" id="2397841">newPrinter</span><span class="op" id="2397851">(</span><span class="op" id="2397852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397855">p</span><span class="op" id="2397856">.</span><span class="ident" id="2397857">doPrint</span><span class="op" id="2397864">(</span><span class="ident" id="2397865">a</span><span class="op" id="2397866">,</span>&nbsp;<span class="builtintype" id="2397868">false</span><span class="op" id="2397873">,</span>&nbsp;<span class="builtintype" id="2397875">false</span><span class="op" id="2397880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397883">n</span><span class="op" id="2397884">,</span>&nbsp;<span class="ident" id="2397886">err</span>&nbsp;<span class="op" id="2397890">=</span>&nbsp;<span class="ident" id="2397892">w</span><span class="op" id="2397893">.</span><span class="ident" id="2397894">Write</span><span class="op" id="2397899">(</span><span class="ident" id="2397900">p</span><span class="op" id="2397901">.</span><span class="ident" id="2397902">buf</span><span class="op" id="2397905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397908">p</span><span class="op" id="2397909">.</span><span class="ident" id="2397910">free</span><span class="op" id="2397914">(</span><span class="op" id="2397915">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2397918">return</span><br>
<span class="lineno"></span><span class="op" id="2397925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2397928">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2398019">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2398082">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2398157">func</span>&nbsp;<span class="ident" id="2398162">Print</span><span class="op" id="2398167">(</span><span class="ident" id="2398168">a</span>&nbsp;<span class="op" id="2398170">...</span><span class="keyword" id="2398173">interface</span><span class="op" id="2398182">{</span><span class="op" id="2398183">}</span><span class="op" id="2398184">)</span>&nbsp;<span class="op" id="2398186">(</span><span class="ident" id="2398187">n</span>&nbsp;<span class="builtintype" id="2398189">int</span><span class="op" id="2398192">,</span>&nbsp;<span class="ident" id="2398194">err</span>&nbsp;<span class="builtintype" id="2398198">error</span><span class="op" id="2398203">)</span>&nbsp;<span class="op" id="2398205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398208">return</span>&nbsp;<span class="ident" id="2398215">Fprint</span><span class="op" id="2398221">(</span><span class="ident" id="2398222">os</span><span class="op" id="2398224">.</span><span class="ident" id="2398225">Stdout</span><span class="op" id="2398231">,</span>&nbsp;<span class="ident" id="2398233">a</span><span class="op" id="2398234">...</span><span class="op" id="2398237">)</span><br>
<span class="lineno"></span><span class="op" id="2398239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2398242">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2398337">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2398400">func</span>&nbsp;<span class="ident" id="2398405">Sprint</span><span class="op" id="2398411">(</span><span class="ident" id="2398412">a</span>&nbsp;<span class="op" id="2398414">...</span><span class="keyword" id="2398417">interface</span><span class="op" id="2398426">{</span><span class="op" id="2398427">}</span><span class="op" id="2398428">)</span>&nbsp;<span class="builtintype" id="2398430">string</span>&nbsp;<span class="op" id="2398437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398440">p</span>&nbsp;<span class="op" id="2398442">:=</span>&nbsp;<span class="ident" id="2398445">newPrinter</span><span class="op" id="2398455">(</span><span class="op" id="2398456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398459">p</span><span class="op" id="2398460">.</span><span class="ident" id="2398461">doPrint</span><span class="op" id="2398468">(</span><span class="ident" id="2398469">a</span><span class="op" id="2398470">,</span>&nbsp;<span class="builtintype" id="2398472">false</span><span class="op" id="2398477">,</span>&nbsp;<span class="builtintype" id="2398479">false</span><span class="op" id="2398484">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398487">s</span>&nbsp;<span class="op" id="2398489">:=</span>&nbsp;<span class="builtintype" id="2398492">string</span><span class="op" id="2398498">(</span><span class="ident" id="2398499">p</span><span class="op" id="2398500">.</span><span class="ident" id="2398501">buf</span><span class="op" id="2398504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398507">p</span><span class="op" id="2398508">.</span><span class="ident" id="2398509">free</span><span class="op" id="2398513">(</span><span class="op" id="2398514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2398517">return</span>&nbsp;<span class="ident" id="2398524">s</span><br>
<span class="lineno"></span><span class="op" id="2398526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2398529">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2398589">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2398646">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2398674">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2398754">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2398825">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2398900">func</span>&nbsp;<span class="ident" id="2398905">Fprintln</span><span class="op" id="2398913">(</span><span class="ident" id="2398914">w</span>&nbsp;<span class="ident" id="2398916">io</span><span class="op" id="2398918">.</span><span class="ident" id="2398919">Writer</span><span class="op" id="2398925">,</span>&nbsp;<span class="ident" id="2398927">a</span>&nbsp;<span class="op" id="2398929">...</span><span class="keyword" id="2398932">interface</span><span class="op" id="2398941">{</span><span class="op" id="2398942">}</span><span class="op" id="2398943">)</span>&nbsp;<span class="op" id="2398945">(</span><span class="ident" id="2398946">n</span>&nbsp;<span class="builtintype" id="2398948">int</span><span class="op" id="2398951">,</span>&nbsp;<span class="ident" id="2398953">err</span>&nbsp;<span class="builtintype" id="2398957">error</span><span class="op" id="2398962">)</span>&nbsp;<span class="op" id="2398964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398967">p</span>&nbsp;<span class="op" id="2398969">:=</span>&nbsp;<span class="ident" id="2398972">newPrinter</span><span class="op" id="2398982">(</span><span class="op" id="2398983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398986">p</span><span class="op" id="2398987">.</span><span class="ident" id="2398988">doPrint</span><span class="op" id="2398995">(</span><span class="ident" id="2398996">a</span><span class="op" id="2398997">,</span>&nbsp;<span class="builtintype" id="2398999">true</span><span class="op" id="2399003">,</span>&nbsp;<span class="builtintype" id="2399005">true</span><span class="op" id="2399009">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399012">n</span><span class="op" id="2399013">,</span>&nbsp;<span class="ident" id="2399015">err</span>&nbsp;<span class="op" id="2399019">=</span>&nbsp;<span class="ident" id="2399021">w</span><span class="op" id="2399022">.</span><span class="ident" id="2399023">Write</span><span class="op" id="2399028">(</span><span class="ident" id="2399029">p</span><span class="op" id="2399030">.</span><span class="ident" id="2399031">buf</span><span class="op" id="2399034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399037">p</span><span class="op" id="2399038">.</span><span class="ident" id="2399039">free</span><span class="op" id="2399043">(</span><span class="op" id="2399044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399047">return</span><br>
<span class="lineno"></span><span class="op" id="2399054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2399057">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2399150">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2399221">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2399296">func</span>&nbsp;<span class="ident" id="2399301">Println</span><span class="op" id="2399308">(</span><span class="ident" id="2399309">a</span>&nbsp;<span class="op" id="2399311">...</span><span class="keyword" id="2399314">interface</span><span class="op" id="2399323">{</span><span class="op" id="2399324">}</span><span class="op" id="2399325">)</span>&nbsp;<span class="op" id="2399327">(</span><span class="ident" id="2399328">n</span>&nbsp;<span class="builtintype" id="2399330">int</span><span class="op" id="2399333">,</span>&nbsp;<span class="ident" id="2399335">err</span>&nbsp;<span class="builtintype" id="2399339">error</span><span class="op" id="2399344">)</span>&nbsp;<span class="op" id="2399346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399349">return</span>&nbsp;<span class="ident" id="2399356">Fprintln</span><span class="op" id="2399364">(</span><span class="ident" id="2399365">os</span><span class="op" id="2399367">.</span><span class="ident" id="2399368">Stdout</span><span class="op" id="2399374">,</span>&nbsp;<span class="ident" id="2399376">a</span><span class="op" id="2399377">...</span><span class="op" id="2399380">)</span><br>
<span class="lineno">265</span><span class="op" id="2399382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2399385">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2399482">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2399553">func</span>&nbsp;<span class="ident" id="2399558">Sprintln</span><span class="op" id="2399566">(</span><span class="ident" id="2399567">a</span>&nbsp;<span class="op" id="2399569">...</span><span class="keyword" id="2399572">interface</span><span class="op" id="2399581">{</span><span class="op" id="2399582">}</span><span class="op" id="2399583">)</span>&nbsp;<span class="builtintype" id="2399585">string</span>&nbsp;<span class="op" id="2399592">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399595">p</span>&nbsp;<span class="op" id="2399597">:=</span>&nbsp;<span class="ident" id="2399600">newPrinter</span><span class="op" id="2399610">(</span><span class="op" id="2399611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399614">p</span><span class="op" id="2399615">.</span><span class="ident" id="2399616">doPrint</span><span class="op" id="2399623">(</span><span class="ident" id="2399624">a</span><span class="op" id="2399625">,</span>&nbsp;<span class="builtintype" id="2399627">true</span><span class="op" id="2399631">,</span>&nbsp;<span class="builtintype" id="2399633">true</span><span class="op" id="2399637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399640">s</span>&nbsp;<span class="op" id="2399642">:=</span>&nbsp;<span class="builtintype" id="2399645">string</span><span class="op" id="2399651">(</span><span class="ident" id="2399652">p</span><span class="op" id="2399653">.</span><span class="ident" id="2399654">buf</span><span class="op" id="2399657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399660">p</span><span class="op" id="2399661">.</span><span class="ident" id="2399662">free</span><span class="op" id="2399666">(</span><span class="op" id="2399667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399670">return</span>&nbsp;<span class="ident" id="2399677">s</span><br>
<span class="lineno">275</span><span class="op" id="2399679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2399682">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2399735">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2399797">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2399858">func</span>&nbsp;<span class="ident" id="2399863">getField</span><span class="op" id="2399871">(</span><span class="ident" id="2399872">v</span>&nbsp;<span class="ident" id="2399874">reflect</span><span class="op" id="2399881">.</span><span class="ident" id="2399882">Value</span><span class="op" id="2399887">,</span>&nbsp;<span class="ident" id="2399889">i</span>&nbsp;<span class="builtintype" id="2399891">int</span><span class="op" id="2399894">)</span>&nbsp;<span class="ident" id="2399896">reflect</span><span class="op" id="2399903">.</span><span class="ident" id="2399904">Value</span>&nbsp;<span class="op" id="2399910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399913">val</span>&nbsp;<span class="op" id="2399917">:=</span>&nbsp;<span class="ident" id="2399920">v</span><span class="op" id="2399921">.</span><span class="ident" id="2399922">Field</span><span class="op" id="2399927">(</span><span class="ident" id="2399928">i</span><span class="op" id="2399929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2399932">if</span>&nbsp;<span class="ident" id="2399935">val</span><span class="op" id="2399938">.</span><span class="ident" id="2399939">Kind</span><span class="op" id="2399943">(</span><span class="op" id="2399944">)</span>&nbsp;<span class="op" id="2399946">==</span>&nbsp;<span class="ident" id="2399949">reflect</span><span class="op" id="2399956">.</span><span class="ident" id="2399957">Interface</span>&nbsp;<span class="op" id="2399967">&amp;&amp;</span>&nbsp;<span class="op" id="2399970">!</span><span class="ident" id="2399971">val</span><span class="op" id="2399974">.</span><span class="ident" id="2399975">IsNil</span><span class="op" id="2399980">(</span><span class="op" id="2399981">)</span>&nbsp;<span class="op" id="2399983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399987">val</span>&nbsp;<span class="op" id="2399991">=</span>&nbsp;<span class="ident" id="2399993">val</span><span class="op" id="2399996">.</span><span class="ident" id="2399997">Elem</span><span class="op" id="2400001">(</span><span class="op" id="2400002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2400005">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400008">return</span>&nbsp;<span class="ident" id="2400015">val</span><br>
<span class="lineno"></span><span class="op" id="2400019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2400022">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2400114">func</span>&nbsp;<span class="ident" id="2400119">parsenum</span><span class="op" id="2400127">(</span><span class="ident" id="2400128">s</span>&nbsp;<span class="builtintype" id="2400130">string</span><span class="op" id="2400136">,</span>&nbsp;<span class="ident" id="2400138">start</span><span class="op" id="2400143">,</span>&nbsp;<span class="ident" id="2400145">end</span>&nbsp;<span class="builtintype" id="2400149">int</span><span class="op" id="2400152">)</span>&nbsp;<span class="op" id="2400154">(</span><span class="ident" id="2400155">num</span>&nbsp;<span class="builtintype" id="2400159">int</span><span class="op" id="2400162">,</span>&nbsp;<span class="ident" id="2400164">isnum</span>&nbsp;<span class="builtintype" id="2400170">bool</span><span class="op" id="2400174">,</span>&nbsp;<span class="ident" id="2400176">newi</span>&nbsp;<span class="builtintype" id="2400181">int</span><span class="op" id="2400184">)</span>&nbsp;<span class="op" id="2400186">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400189">if</span>&nbsp;<span class="ident" id="2400192">start</span>&nbsp;<span class="op" id="2400198">&gt;=</span>&nbsp;<span class="ident" id="2400201">end</span>&nbsp;<span class="op" id="2400205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400209">return</span>&nbsp;<span class="num" id="2400216">0</span><span class="op" id="2400217">,</span>&nbsp;<span class="builtintype" id="2400219">false</span><span class="op" id="2400224">,</span>&nbsp;<span class="ident" id="2400226">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2400231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400234">for</span>&nbsp;<span class="ident" id="2400238">newi</span>&nbsp;<span class="op" id="2400243">=</span>&nbsp;<span class="ident" id="2400245">start</span><span class="op" id="2400250">;</span>&nbsp;<span class="ident" id="2400252">newi</span>&nbsp;<span class="op" id="2400257">&lt;</span>&nbsp;<span class="ident" id="2400259">end</span>&nbsp;<span class="op" id="2400263">&amp;&amp;</span>&nbsp;<span class="string" id="2400266">&#39;0&#39;</span>&nbsp;<span class="op" id="2400270">&lt;=</span>&nbsp;<span class="ident" id="2400273">s</span><span class="op" id="2400274">[</span><span class="ident" id="2400275">newi</span><span class="op" id="2400279">]</span>&nbsp;<span class="op" id="2400281">&amp;&amp;</span>&nbsp;<span class="ident" id="2400284">s</span><span class="op" id="2400285">[</span><span class="ident" id="2400286">newi</span><span class="op" id="2400290">]</span>&nbsp;<span class="op" id="2400292">&lt;=</span>&nbsp;<span class="string" id="2400295">&#39;9&#39;</span><span class="op" id="2400298">;</span>&nbsp;<span class="ident" id="2400300">newi</span><span class="op" id="2400304">++</span>&nbsp;<span class="op" id="2400307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400311">num</span>&nbsp;<span class="op" id="2400315">=</span>&nbsp;<span class="ident" id="2400317">num</span><span class="op" id="2400320">*</span><span class="num" id="2400321">10</span>&nbsp;<span class="op" id="2400324">+</span>&nbsp;<span class="builtintype" id="2400326">int</span><span class="op" id="2400329">(</span><span class="ident" id="2400330">s</span><span class="op" id="2400331">[</span><span class="ident" id="2400332">newi</span><span class="op" id="2400336">]</span><span class="op" id="2400337">-</span><span class="string" id="2400338">&#39;0&#39;</span><span class="op" id="2400341">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400345">isnum</span>&nbsp;<span class="op" id="2400351">=</span>&nbsp;<span class="builtintype" id="2400353">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2400359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400362">return</span><br>
<span class="lineno"></span><span class="op" id="2400369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2400372">func</span>&nbsp;<span class="op" id="2400377">(</span><span class="ident" id="2400378">p</span>&nbsp;<span class="op" id="2400380">*</span><span class="ident" id="2400381">pp</span><span class="op" id="2400383">)</span>&nbsp;<span class="ident" id="2400385">unknownType</span><span class="op" id="2400396">(</span><span class="ident" id="2400397">v</span>&nbsp;<span class="ident" id="2400399">reflect</span><span class="op" id="2400406">.</span><span class="ident" id="2400407">Value</span><span class="op" id="2400412">)</span>&nbsp;<span class="op" id="2400414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400417">if</span>&nbsp;<span class="op" id="2400420">!</span><span class="ident" id="2400421">v</span><span class="op" id="2400422">.</span><span class="ident" id="2400423">IsValid</span><span class="op" id="2400430">(</span><span class="op" id="2400431">)</span>&nbsp;<span class="op" id="2400433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400437">p</span><span class="op" id="2400438">.</span><span class="ident" id="2400439">buf</span><span class="op" id="2400442">.</span><span class="ident" id="2400443">Write</span><span class="op" id="2400448">(</span><span class="ident" id="2400449">nilAngleBytes</span><span class="op" id="2400462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400466">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2400474">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400477">p</span><span class="op" id="2400478">.</span><span class="ident" id="2400479">buf</span><span class="op" id="2400482">.</span><span class="ident" id="2400483">WriteByte</span><span class="op" id="2400492">(</span><span class="string" id="2400493">&#39;?&#39;</span><span class="op" id="2400496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400499">p</span><span class="op" id="2400500">.</span><span class="ident" id="2400501">buf</span><span class="op" id="2400504">.</span><span class="ident" id="2400505">WriteString</span><span class="op" id="2400516">(</span><span class="ident" id="2400517">v</span><span class="op" id="2400518">.</span><span class="ident" id="2400519">Type</span><span class="op" id="2400523">(</span><span class="op" id="2400524">)</span><span class="op" id="2400525">.</span><span class="ident" id="2400526">String</span><span class="op" id="2400532">(</span><span class="op" id="2400533">)</span><span class="op" id="2400534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400537">p</span><span class="op" id="2400538">.</span><span class="ident" id="2400539">buf</span><span class="op" id="2400542">.</span><span class="ident" id="2400543">WriteByte</span><span class="op" id="2400552">(</span><span class="string" id="2400553">&#39;?&#39;</span><span class="op" id="2400556">)</span><br>
<span class="lineno"></span><span class="op" id="2400558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2400561">func</span>&nbsp;<span class="op" id="2400566">(</span><span class="ident" id="2400567">p</span>&nbsp;<span class="op" id="2400569">*</span><span class="ident" id="2400570">pp</span><span class="op" id="2400572">)</span>&nbsp;<span class="ident" id="2400574">badVerb</span><span class="op" id="2400581">(</span><span class="ident" id="2400582">verb</span>&nbsp;<span class="builtintype" id="2400587">rune</span><span class="op" id="2400591">)</span>&nbsp;<span class="op" id="2400593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400596">p</span><span class="op" id="2400597">.</span><span class="ident" id="2400598">erroring</span>&nbsp;<span class="op" id="2400607">=</span>&nbsp;<span class="builtintype" id="2400609">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400615">p</span><span class="op" id="2400616">.</span><span class="ident" id="2400617">add</span><span class="op" id="2400620">(</span><span class="string" id="2400621">&#39;%&#39;</span><span class="op" id="2400624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400627">p</span><span class="op" id="2400628">.</span><span class="ident" id="2400629">add</span><span class="op" id="2400632">(</span><span class="string" id="2400633">&#39;!&#39;</span><span class="op" id="2400636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400639">p</span><span class="op" id="2400640">.</span><span class="ident" id="2400641">add</span><span class="op" id="2400644">(</span><span class="ident" id="2400645">verb</span><span class="op" id="2400649">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400652">p</span><span class="op" id="2400653">.</span><span class="ident" id="2400654">add</span><span class="op" id="2400657">(</span><span class="string" id="2400658">&#39;(&#39;</span><span class="op" id="2400661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400664">switch</span>&nbsp;<span class="op" id="2400671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400674">case</span>&nbsp;<span class="ident" id="2400679">p</span><span class="op" id="2400680">.</span><span class="ident" id="2400681">arg</span>&nbsp;<span class="op" id="2400685">!=</span>&nbsp;<span class="ident" id="2400688">nil</span><span class="op" id="2400691">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400695">p</span><span class="op" id="2400696">.</span><span class="ident" id="2400697">buf</span><span class="op" id="2400700">.</span><span class="ident" id="2400701">WriteString</span><span class="op" id="2400712">(</span><span class="ident" id="2400713">reflect</span><span class="op" id="2400720">.</span><span class="ident" id="2400721">TypeOf</span><span class="op" id="2400727">(</span><span class="ident" id="2400728">p</span><span class="op" id="2400729">.</span><span class="ident" id="2400730">arg</span><span class="op" id="2400733">)</span><span class="op" id="2400734">.</span><span class="ident" id="2400735">String</span><span class="op" id="2400741">(</span><span class="op" id="2400742">)</span><span class="op" id="2400743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400747">p</span><span class="op" id="2400748">.</span><span class="ident" id="2400749">add</span><span class="op" id="2400752">(</span><span class="string" id="2400753">&#39;=&#39;</span><span class="op" id="2400756">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400760">p</span><span class="op" id="2400761">.</span><span class="ident" id="2400762">printArg</span><span class="op" id="2400770">(</span><span class="ident" id="2400771">p</span><span class="op" id="2400772">.</span><span class="ident" id="2400773">arg</span><span class="op" id="2400776">,</span>&nbsp;<span class="string" id="2400778">&#39;v&#39;</span><span class="op" id="2400781">,</span>&nbsp;<span class="num" id="2400783">0</span><span class="op" id="2400784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400787">case</span>&nbsp;<span class="ident" id="2400792">p</span><span class="op" id="2400793">.</span><span class="ident" id="2400794">value</span><span class="op" id="2400799">.</span><span class="ident" id="2400800">IsValid</span><span class="op" id="2400807">(</span><span class="op" id="2400808">)</span><span class="op" id="2400809">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400813">p</span><span class="op" id="2400814">.</span><span class="ident" id="2400815">buf</span><span class="op" id="2400818">.</span><span class="ident" id="2400819">WriteString</span><span class="op" id="2400830">(</span><span class="ident" id="2400831">p</span><span class="op" id="2400832">.</span><span class="ident" id="2400833">value</span><span class="op" id="2400838">.</span><span class="ident" id="2400839">Type</span><span class="op" id="2400843">(</span><span class="op" id="2400844">)</span><span class="op" id="2400845">.</span><span class="ident" id="2400846">String</span><span class="op" id="2400852">(</span><span class="op" id="2400853">)</span><span class="op" id="2400854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400858">p</span><span class="op" id="2400859">.</span><span class="ident" id="2400860">add</span><span class="op" id="2400863">(</span><span class="string" id="2400864">&#39;=&#39;</span><span class="op" id="2400867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400871">p</span><span class="op" id="2400872">.</span><span class="ident" id="2400873">printValue</span><span class="op" id="2400883">(</span><span class="ident" id="2400884">p</span><span class="op" id="2400885">.</span><span class="ident" id="2400886">value</span><span class="op" id="2400891">,</span>&nbsp;<span class="string" id="2400893">&#39;v&#39;</span><span class="op" id="2400896">,</span>&nbsp;<span class="num" id="2400898">0</span><span class="op" id="2400899">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2400902">default</span><span class="op" id="2400909">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400913">p</span><span class="op" id="2400914">.</span><span class="ident" id="2400915">buf</span><span class="op" id="2400918">.</span><span class="ident" id="2400919">Write</span><span class="op" id="2400924">(</span><span class="ident" id="2400925">nilAngleBytes</span><span class="op" id="2400938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2400941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400944">p</span><span class="op" id="2400945">.</span><span class="ident" id="2400946">add</span><span class="op" id="2400949">(</span><span class="string" id="2400950">&#39;)&#39;</span><span class="op" id="2400953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400956">p</span><span class="op" id="2400957">.</span><span class="ident" id="2400958">erroring</span>&nbsp;<span class="op" id="2400967">=</span>&nbsp;<span class="builtintype" id="2400969">false</span><br>
<span class="lineno">330</span><span class="op" id="2400975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2400978">func</span>&nbsp;<span class="op" id="2400983">(</span><span class="ident" id="2400984">p</span>&nbsp;<span class="op" id="2400986">*</span><span class="ident" id="2400987">pp</span><span class="op" id="2400989">)</span>&nbsp;<span class="ident" id="2400991">fmtBool</span><span class="op" id="2400998">(</span><span class="ident" id="2400999">v</span>&nbsp;<span class="builtintype" id="2401001">bool</span><span class="op" id="2401005">,</span>&nbsp;<span class="ident" id="2401007">verb</span>&nbsp;<span class="builtintype" id="2401012">rune</span><span class="op" id="2401016">)</span>&nbsp;<span class="op" id="2401018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401021">switch</span>&nbsp;<span class="ident" id="2401028">verb</span>&nbsp;<span class="op" id="2401033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401036">case</span>&nbsp;<span class="string" id="2401041">&#39;t&#39;</span><span class="op" id="2401044">,</span>&nbsp;<span class="string" id="2401046">&#39;v&#39;</span><span class="op" id="2401049">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401053">p</span><span class="op" id="2401054">.</span><span class="ident" id="2401055">fmt</span><span class="op" id="2401058">.</span><span class="ident" id="2401059">fmt_boolean</span><span class="op" id="2401070">(</span><span class="ident" id="2401071">v</span><span class="op" id="2401072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401075">default</span><span class="op" id="2401082">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401086">p</span><span class="op" id="2401087">.</span><span class="ident" id="2401088">badVerb</span><span class="op" id="2401095">(</span><span class="ident" id="2401096">verb</span><span class="op" id="2401100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401103">}</span><br>
<span class="lineno"></span><span class="op" id="2401105">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2401108">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2401151">func</span>&nbsp;<span class="op" id="2401156">(</span><span class="ident" id="2401157">p</span>&nbsp;<span class="op" id="2401159">*</span><span class="ident" id="2401160">pp</span><span class="op" id="2401162">)</span>&nbsp;<span class="ident" id="2401164">fmtC</span><span class="op" id="2401168">(</span><span class="ident" id="2401169">c</span>&nbsp;<span class="ident" id="2401171">int64</span><span class="op" id="2401176">)</span>&nbsp;<span class="op" id="2401178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401181">r</span>&nbsp;<span class="op" id="2401183">:=</span>&nbsp;<span class="builtintype" id="2401186">rune</span><span class="op" id="2401190">(</span><span class="ident" id="2401191">c</span><span class="op" id="2401192">)</span>&nbsp;<span class="comment" id="2401194">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401218">if</span>&nbsp;<span class="ident" id="2401221">int64</span><span class="op" id="2401226">(</span><span class="ident" id="2401227">r</span><span class="op" id="2401228">)</span>&nbsp;<span class="op" id="2401230">!=</span>&nbsp;<span class="ident" id="2401233">c</span>&nbsp;<span class="op" id="2401235">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401239">r</span>&nbsp;<span class="op" id="2401241">=</span>&nbsp;<span class="ident" id="2401243">utf8</span><span class="op" id="2401247">.</span><span class="ident" id="2401248">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401262">w</span>&nbsp;<span class="op" id="2401264">:=</span>&nbsp;<span class="ident" id="2401267">utf8</span><span class="op" id="2401271">.</span><span class="ident" id="2401272">EncodeRune</span><span class="op" id="2401282">(</span><span class="ident" id="2401283">p</span><span class="op" id="2401284">.</span><span class="ident" id="2401285">runeBuf</span><span class="op" id="2401292">[</span><span class="num" id="2401293">0</span><span class="op" id="2401294">:</span><span class="ident" id="2401295">utf8</span><span class="op" id="2401299">.</span><span class="ident" id="2401300">UTFMax</span><span class="op" id="2401306">]</span><span class="op" id="2401307">,</span>&nbsp;<span class="ident" id="2401309">r</span><span class="op" id="2401310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401313">p</span><span class="op" id="2401314">.</span><span class="ident" id="2401315">fmt</span><span class="op" id="2401318">.</span><span class="ident" id="2401319">pad</span><span class="op" id="2401322">(</span><span class="ident" id="2401323">p</span><span class="op" id="2401324">.</span><span class="ident" id="2401325">runeBuf</span><span class="op" id="2401332">[</span><span class="num" id="2401333">0</span><span class="op" id="2401334">:</span><span class="ident" id="2401335">w</span><span class="op" id="2401336">]</span><span class="op" id="2401337">)</span><br>
<span class="lineno"></span><span class="op" id="2401339">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2401342">func</span>&nbsp;<span class="op" id="2401347">(</span><span class="ident" id="2401348">p</span>&nbsp;<span class="op" id="2401350">*</span><span class="ident" id="2401351">pp</span><span class="op" id="2401353">)</span>&nbsp;<span class="ident" id="2401355">fmtInt64</span><span class="op" id="2401363">(</span><span class="ident" id="2401364">v</span>&nbsp;<span class="ident" id="2401366">int64</span><span class="op" id="2401371">,</span>&nbsp;<span class="ident" id="2401373">verb</span>&nbsp;<span class="builtintype" id="2401378">rune</span><span class="op" id="2401382">)</span>&nbsp;<span class="op" id="2401384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401387">switch</span>&nbsp;<span class="ident" id="2401394">verb</span>&nbsp;<span class="op" id="2401399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401402">case</span>&nbsp;<span class="string" id="2401407">&#39;b&#39;</span><span class="op" id="2401410">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401414">p</span><span class="op" id="2401415">.</span><span class="ident" id="2401416">fmt</span><span class="op" id="2401419">.</span><span class="ident" id="2401420">integer</span><span class="op" id="2401427">(</span><span class="ident" id="2401428">v</span><span class="op" id="2401429">,</span>&nbsp;<span class="num" id="2401431">2</span><span class="op" id="2401432">,</span>&nbsp;<span class="ident" id="2401434">signed</span><span class="op" id="2401440">,</span>&nbsp;<span class="ident" id="2401442">ldigits</span><span class="op" id="2401449">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401452">case</span>&nbsp;<span class="string" id="2401457">&#39;c&#39;</span><span class="op" id="2401460">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401464">p</span><span class="op" id="2401465">.</span><span class="ident" id="2401466">fmtC</span><span class="op" id="2401470">(</span><span class="ident" id="2401471">v</span><span class="op" id="2401472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401475">case</span>&nbsp;<span class="string" id="2401480">&#39;d&#39;</span><span class="op" id="2401483">,</span>&nbsp;<span class="string" id="2401485">&#39;v&#39;</span><span class="op" id="2401488">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401492">p</span><span class="op" id="2401493">.</span><span class="ident" id="2401494">fmt</span><span class="op" id="2401497">.</span><span class="ident" id="2401498">integer</span><span class="op" id="2401505">(</span><span class="ident" id="2401506">v</span><span class="op" id="2401507">,</span>&nbsp;<span class="num" id="2401509">10</span><span class="op" id="2401511">,</span>&nbsp;<span class="ident" id="2401513">signed</span><span class="op" id="2401519">,</span>&nbsp;<span class="ident" id="2401521">ldigits</span><span class="op" id="2401528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401531">case</span>&nbsp;<span class="string" id="2401536">&#39;o&#39;</span><span class="op" id="2401539">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401543">p</span><span class="op" id="2401544">.</span><span class="ident" id="2401545">fmt</span><span class="op" id="2401548">.</span><span class="ident" id="2401549">integer</span><span class="op" id="2401556">(</span><span class="ident" id="2401557">v</span><span class="op" id="2401558">,</span>&nbsp;<span class="num" id="2401560">8</span><span class="op" id="2401561">,</span>&nbsp;<span class="ident" id="2401563">signed</span><span class="op" id="2401569">,</span>&nbsp;<span class="ident" id="2401571">ldigits</span><span class="op" id="2401578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401581">case</span>&nbsp;<span class="string" id="2401586">&#39;q&#39;</span><span class="op" id="2401589">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401593">if</span>&nbsp;<span class="num" id="2401596">0</span>&nbsp;<span class="op" id="2401598">&lt;=</span>&nbsp;<span class="ident" id="2401601">v</span>&nbsp;<span class="op" id="2401603">&amp;&amp;</span>&nbsp;<span class="ident" id="2401606">v</span>&nbsp;<span class="op" id="2401608">&lt;=</span>&nbsp;<span class="ident" id="2401611">utf8</span><span class="op" id="2401615">.</span><span class="ident" id="2401616">MaxRune</span>&nbsp;<span class="op" id="2401624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401629">p</span><span class="op" id="2401630">.</span><span class="ident" id="2401631">fmt</span><span class="op" id="2401634">.</span><span class="ident" id="2401635">fmt_qc</span><span class="op" id="2401641">(</span><span class="ident" id="2401642">v</span><span class="op" id="2401643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401647">}</span>&nbsp;<span class="keyword" id="2401649">else</span>&nbsp;<span class="op" id="2401654">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401659">p</span><span class="op" id="2401660">.</span><span class="ident" id="2401661">badVerb</span><span class="op" id="2401668">(</span><span class="ident" id="2401669">verb</span><span class="op" id="2401673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401680">case</span>&nbsp;<span class="string" id="2401685">&#39;x&#39;</span><span class="op" id="2401688">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401692">p</span><span class="op" id="2401693">.</span><span class="ident" id="2401694">fmt</span><span class="op" id="2401697">.</span><span class="ident" id="2401698">integer</span><span class="op" id="2401705">(</span><span class="ident" id="2401706">v</span><span class="op" id="2401707">,</span>&nbsp;<span class="num" id="2401709">16</span><span class="op" id="2401711">,</span>&nbsp;<span class="ident" id="2401713">signed</span><span class="op" id="2401719">,</span>&nbsp;<span class="ident" id="2401721">ldigits</span><span class="op" id="2401728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401731">case</span>&nbsp;<span class="string" id="2401736">&#39;U&#39;</span><span class="op" id="2401739">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401743">p</span><span class="op" id="2401744">.</span><span class="ident" id="2401745">fmtUnicode</span><span class="op" id="2401755">(</span><span class="ident" id="2401756">v</span><span class="op" id="2401757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401760">case</span>&nbsp;<span class="string" id="2401765">&#39;X&#39;</span><span class="op" id="2401768">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401772">p</span><span class="op" id="2401773">.</span><span class="ident" id="2401774">fmt</span><span class="op" id="2401777">.</span><span class="ident" id="2401778">integer</span><span class="op" id="2401785">(</span><span class="ident" id="2401786">v</span><span class="op" id="2401787">,</span>&nbsp;<span class="num" id="2401789">16</span><span class="op" id="2401791">,</span>&nbsp;<span class="ident" id="2401793">signed</span><span class="op" id="2401799">,</span>&nbsp;<span class="ident" id="2401801">udigits</span><span class="op" id="2401808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2401811">default</span><span class="op" id="2401818">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401822">p</span><span class="op" id="2401823">.</span><span class="ident" id="2401824">badVerb</span><span class="op" id="2401831">(</span><span class="ident" id="2401832">verb</span><span class="op" id="2401836">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2401839">}</span><br>
<span class="lineno"></span><span class="op" id="2401841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2401844">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2401914">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2401975">func</span>&nbsp;<span class="op" id="2401980">(</span><span class="ident" id="2401981">p</span>&nbsp;<span class="op" id="2401983">*</span><span class="ident" id="2401984">pp</span><span class="op" id="2401986">)</span>&nbsp;<span class="ident" id="2401988">fmt0x64</span><span class="op" id="2401995">(</span><span class="ident" id="2401996">v</span>&nbsp;<span class="ident" id="2401998">uint64</span><span class="op" id="2402004">,</span>&nbsp;<span class="ident" id="2402006">leading0x</span>&nbsp;<span class="builtintype" id="2402016">bool</span><span class="op" id="2402020">)</span>&nbsp;<span class="op" id="2402022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402025">sharp</span>&nbsp;<span class="op" id="2402031">:=</span>&nbsp;<span class="ident" id="2402034">p</span><span class="op" id="2402035">.</span><span class="ident" id="2402036">fmt</span><span class="op" id="2402039">.</span><span class="ident" id="2402040">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402047">p</span><span class="op" id="2402048">.</span><span class="ident" id="2402049">fmt</span><span class="op" id="2402052">.</span><span class="ident" id="2402053">sharp</span>&nbsp;<span class="op" id="2402059">=</span>&nbsp;<span class="ident" id="2402061">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402072">p</span><span class="op" id="2402073">.</span><span class="ident" id="2402074">fmt</span><span class="op" id="2402077">.</span><span class="ident" id="2402078">integer</span><span class="op" id="2402085">(</span><span class="ident" id="2402086">int64</span><span class="op" id="2402091">(</span><span class="ident" id="2402092">v</span><span class="op" id="2402093">)</span><span class="op" id="2402094">,</span>&nbsp;<span class="num" id="2402096">16</span><span class="op" id="2402098">,</span>&nbsp;<span class="ident" id="2402100">unsigned</span><span class="op" id="2402108">,</span>&nbsp;<span class="ident" id="2402110">ldigits</span><span class="op" id="2402117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402120">p</span><span class="op" id="2402121">.</span><span class="ident" id="2402122">fmt</span><span class="op" id="2402125">.</span><span class="ident" id="2402126">sharp</span>&nbsp;<span class="op" id="2402132">=</span>&nbsp;<span class="ident" id="2402134">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2402140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2402143">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2402192">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2402263">func</span>&nbsp;<span class="op" id="2402268">(</span><span class="ident" id="2402269">p</span>&nbsp;<span class="op" id="2402271">*</span><span class="ident" id="2402272">pp</span><span class="op" id="2402274">)</span>&nbsp;<span class="ident" id="2402276">fmtUnicode</span><span class="op" id="2402286">(</span><span class="ident" id="2402287">v</span>&nbsp;<span class="ident" id="2402289">int64</span><span class="op" id="2402294">)</span>&nbsp;<span class="op" id="2402296">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402299">precPresent</span>&nbsp;<span class="op" id="2402311">:=</span>&nbsp;<span class="ident" id="2402314">p</span><span class="op" id="2402315">.</span><span class="ident" id="2402316">fmt</span><span class="op" id="2402319">.</span><span class="ident" id="2402320">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402333">sharp</span>&nbsp;<span class="op" id="2402339">:=</span>&nbsp;<span class="ident" id="2402342">p</span><span class="op" id="2402343">.</span><span class="ident" id="2402344">fmt</span><span class="op" id="2402347">.</span><span class="ident" id="2402348">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402355">p</span><span class="op" id="2402356">.</span><span class="ident" id="2402357">fmt</span><span class="op" id="2402360">.</span><span class="ident" id="2402361">sharp</span>&nbsp;<span class="op" id="2402367">=</span>&nbsp;<span class="builtintype" id="2402369">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402376">prec</span>&nbsp;<span class="op" id="2402381">:=</span>&nbsp;<span class="ident" id="2402384">p</span><span class="op" id="2402385">.</span><span class="ident" id="2402386">fmt</span><span class="op" id="2402389">.</span><span class="ident" id="2402390">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402396">if</span>&nbsp;<span class="op" id="2402399">!</span><span class="ident" id="2402400">precPresent</span>&nbsp;<span class="op" id="2402412">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2402416">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402485">p</span><span class="op" id="2402486">.</span><span class="ident" id="2402487">fmt</span><span class="op" id="2402490">.</span><span class="ident" id="2402491">prec</span>&nbsp;<span class="op" id="2402496">=</span>&nbsp;<span class="num" id="2402498">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402502">p</span><span class="op" id="2402503">.</span><span class="ident" id="2402504">fmt</span><span class="op" id="2402507">.</span><span class="ident" id="2402508">precPresent</span>&nbsp;<span class="op" id="2402520">=</span>&nbsp;<span class="builtintype" id="2402522">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2402528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402531">p</span><span class="op" id="2402532">.</span><span class="ident" id="2402533">fmt</span><span class="op" id="2402536">.</span><span class="ident" id="2402537">unicode</span>&nbsp;<span class="op" id="2402545">=</span>&nbsp;<span class="builtintype" id="2402547">true</span>&nbsp;<span class="comment" id="2402552">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402567">p</span><span class="op" id="2402568">.</span><span class="ident" id="2402569">fmt</span><span class="op" id="2402572">.</span><span class="ident" id="2402573">uniQuote</span>&nbsp;<span class="op" id="2402582">=</span>&nbsp;<span class="ident" id="2402584">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402591">p</span><span class="op" id="2402592">.</span><span class="ident" id="2402593">fmt</span><span class="op" id="2402596">.</span><span class="ident" id="2402597">integer</span><span class="op" id="2402604">(</span><span class="ident" id="2402605">int64</span><span class="op" id="2402610">(</span><span class="ident" id="2402611">v</span><span class="op" id="2402612">)</span><span class="op" id="2402613">,</span>&nbsp;<span class="num" id="2402615">16</span><span class="op" id="2402617">,</span>&nbsp;<span class="ident" id="2402619">unsigned</span><span class="op" id="2402627">,</span>&nbsp;<span class="ident" id="2402629">udigits</span><span class="op" id="2402636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402639">p</span><span class="op" id="2402640">.</span><span class="ident" id="2402641">fmt</span><span class="op" id="2402644">.</span><span class="ident" id="2402645">unicode</span>&nbsp;<span class="op" id="2402653">=</span>&nbsp;<span class="builtintype" id="2402655">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402662">p</span><span class="op" id="2402663">.</span><span class="ident" id="2402664">fmt</span><span class="op" id="2402667">.</span><span class="ident" id="2402668">uniQuote</span>&nbsp;<span class="op" id="2402677">=</span>&nbsp;<span class="builtintype" id="2402679">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402686">p</span><span class="op" id="2402687">.</span><span class="ident" id="2402688">fmt</span><span class="op" id="2402691">.</span><span class="ident" id="2402692">prec</span>&nbsp;<span class="op" id="2402697">=</span>&nbsp;<span class="ident" id="2402699">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402705">p</span><span class="op" id="2402706">.</span><span class="ident" id="2402707">fmt</span><span class="op" id="2402710">.</span><span class="ident" id="2402711">precPresent</span>&nbsp;<span class="op" id="2402723">=</span>&nbsp;<span class="ident" id="2402725">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402738">p</span><span class="op" id="2402739">.</span><span class="ident" id="2402740">fmt</span><span class="op" id="2402743">.</span><span class="ident" id="2402744">sharp</span>&nbsp;<span class="op" id="2402750">=</span>&nbsp;<span class="ident" id="2402752">sharp</span><br>
<span class="lineno"></span><span class="op" id="2402758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2402761">func</span>&nbsp;<span class="op" id="2402766">(</span><span class="ident" id="2402767">p</span>&nbsp;<span class="op" id="2402769">*</span><span class="ident" id="2402770">pp</span><span class="op" id="2402772">)</span>&nbsp;<span class="ident" id="2402774">fmtUint64</span><span class="op" id="2402783">(</span><span class="ident" id="2402784">v</span>&nbsp;<span class="ident" id="2402786">uint64</span><span class="op" id="2402792">,</span>&nbsp;<span class="ident" id="2402794">verb</span>&nbsp;<span class="builtintype" id="2402799">rune</span><span class="op" id="2402803">)</span>&nbsp;<span class="op" id="2402805">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402808">switch</span>&nbsp;<span class="ident" id="2402815">verb</span>&nbsp;<span class="op" id="2402820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402823">case</span>&nbsp;<span class="string" id="2402828">&#39;b&#39;</span><span class="op" id="2402831">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402835">p</span><span class="op" id="2402836">.</span><span class="ident" id="2402837">fmt</span><span class="op" id="2402840">.</span><span class="ident" id="2402841">integer</span><span class="op" id="2402848">(</span><span class="ident" id="2402849">int64</span><span class="op" id="2402854">(</span><span class="ident" id="2402855">v</span><span class="op" id="2402856">)</span><span class="op" id="2402857">,</span>&nbsp;<span class="num" id="2402859">2</span><span class="op" id="2402860">,</span>&nbsp;<span class="ident" id="2402862">unsigned</span><span class="op" id="2402870">,</span>&nbsp;<span class="ident" id="2402872">ldigits</span><span class="op" id="2402879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402882">case</span>&nbsp;<span class="string" id="2402887">&#39;c&#39;</span><span class="op" id="2402890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402894">p</span><span class="op" id="2402895">.</span><span class="ident" id="2402896">fmtC</span><span class="op" id="2402900">(</span><span class="ident" id="2402901">int64</span><span class="op" id="2402906">(</span><span class="ident" id="2402907">v</span><span class="op" id="2402908">)</span><span class="op" id="2402909">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402912">case</span>&nbsp;<span class="string" id="2402917">&#39;d&#39;</span><span class="op" id="2402920">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402924">p</span><span class="op" id="2402925">.</span><span class="ident" id="2402926">fmt</span><span class="op" id="2402929">.</span><span class="ident" id="2402930">integer</span><span class="op" id="2402937">(</span><span class="ident" id="2402938">int64</span><span class="op" id="2402943">(</span><span class="ident" id="2402944">v</span><span class="op" id="2402945">)</span><span class="op" id="2402946">,</span>&nbsp;<span class="num" id="2402948">10</span><span class="op" id="2402950">,</span>&nbsp;<span class="ident" id="2402952">unsigned</span><span class="op" id="2402960">,</span>&nbsp;<span class="ident" id="2402962">ldigits</span><span class="op" id="2402969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402972">case</span>&nbsp;<span class="string" id="2402977">&#39;v&#39;</span><span class="op" id="2402980">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2402984">if</span>&nbsp;<span class="ident" id="2402987">p</span><span class="op" id="2402988">.</span><span class="ident" id="2402989">fmt</span><span class="op" id="2402992">.</span><span class="ident" id="2402993">sharpV</span>&nbsp;<span class="op" id="2403000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403005">p</span><span class="op" id="2403006">.</span><span class="ident" id="2403007">fmt0x64</span><span class="op" id="2403014">(</span><span class="ident" id="2403015">v</span><span class="op" id="2403016">,</span>&nbsp;<span class="builtintype" id="2403018">true</span><span class="op" id="2403022">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403026">}</span>&nbsp;<span class="keyword" id="2403028">else</span>&nbsp;<span class="op" id="2403033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403038">p</span><span class="op" id="2403039">.</span><span class="ident" id="2403040">fmt</span><span class="op" id="2403043">.</span><span class="ident" id="2403044">integer</span><span class="op" id="2403051">(</span><span class="ident" id="2403052">int64</span><span class="op" id="2403057">(</span><span class="ident" id="2403058">v</span><span class="op" id="2403059">)</span><span class="op" id="2403060">,</span>&nbsp;<span class="num" id="2403062">10</span><span class="op" id="2403064">,</span>&nbsp;<span class="ident" id="2403066">unsigned</span><span class="op" id="2403074">,</span>&nbsp;<span class="ident" id="2403076">ldigits</span><span class="op" id="2403083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403090">case</span>&nbsp;<span class="string" id="2403095">&#39;o&#39;</span><span class="op" id="2403098">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403102">p</span><span class="op" id="2403103">.</span><span class="ident" id="2403104">fmt</span><span class="op" id="2403107">.</span><span class="ident" id="2403108">integer</span><span class="op" id="2403115">(</span><span class="ident" id="2403116">int64</span><span class="op" id="2403121">(</span><span class="ident" id="2403122">v</span><span class="op" id="2403123">)</span><span class="op" id="2403124">,</span>&nbsp;<span class="num" id="2403126">8</span><span class="op" id="2403127">,</span>&nbsp;<span class="ident" id="2403129">unsigned</span><span class="op" id="2403137">,</span>&nbsp;<span class="ident" id="2403139">ldigits</span><span class="op" id="2403146">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403149">case</span>&nbsp;<span class="string" id="2403154">&#39;q&#39;</span><span class="op" id="2403157">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403161">if</span>&nbsp;<span class="num" id="2403164">0</span>&nbsp;<span class="op" id="2403166">&lt;=</span>&nbsp;<span class="ident" id="2403169">v</span>&nbsp;<span class="op" id="2403171">&amp;&amp;</span>&nbsp;<span class="ident" id="2403174">v</span>&nbsp;<span class="op" id="2403176">&lt;=</span>&nbsp;<span class="ident" id="2403179">utf8</span><span class="op" id="2403183">.</span><span class="ident" id="2403184">MaxRune</span>&nbsp;<span class="op" id="2403192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403197">p</span><span class="op" id="2403198">.</span><span class="ident" id="2403199">fmt</span><span class="op" id="2403202">.</span><span class="ident" id="2403203">fmt_qc</span><span class="op" id="2403209">(</span><span class="ident" id="2403210">int64</span><span class="op" id="2403215">(</span><span class="ident" id="2403216">v</span><span class="op" id="2403217">)</span><span class="op" id="2403218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403222">}</span>&nbsp;<span class="keyword" id="2403224">else</span>&nbsp;<span class="op" id="2403229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403234">p</span><span class="op" id="2403235">.</span><span class="ident" id="2403236">badVerb</span><span class="op" id="2403243">(</span><span class="ident" id="2403244">verb</span><span class="op" id="2403248">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403255">case</span>&nbsp;<span class="string" id="2403260">&#39;x&#39;</span><span class="op" id="2403263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403267">p</span><span class="op" id="2403268">.</span><span class="ident" id="2403269">fmt</span><span class="op" id="2403272">.</span><span class="ident" id="2403273">integer</span><span class="op" id="2403280">(</span><span class="ident" id="2403281">int64</span><span class="op" id="2403286">(</span><span class="ident" id="2403287">v</span><span class="op" id="2403288">)</span><span class="op" id="2403289">,</span>&nbsp;<span class="num" id="2403291">16</span><span class="op" id="2403293">,</span>&nbsp;<span class="ident" id="2403295">unsigned</span><span class="op" id="2403303">,</span>&nbsp;<span class="ident" id="2403305">ldigits</span><span class="op" id="2403312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403315">case</span>&nbsp;<span class="string" id="2403320">&#39;X&#39;</span><span class="op" id="2403323">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403327">p</span><span class="op" id="2403328">.</span><span class="ident" id="2403329">fmt</span><span class="op" id="2403332">.</span><span class="ident" id="2403333">integer</span><span class="op" id="2403340">(</span><span class="ident" id="2403341">int64</span><span class="op" id="2403346">(</span><span class="ident" id="2403347">v</span><span class="op" id="2403348">)</span><span class="op" id="2403349">,</span>&nbsp;<span class="num" id="2403351">16</span><span class="op" id="2403353">,</span>&nbsp;<span class="ident" id="2403355">unsigned</span><span class="op" id="2403363">,</span>&nbsp;<span class="ident" id="2403365">udigits</span><span class="op" id="2403372">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403375">case</span>&nbsp;<span class="string" id="2403380">&#39;U&#39;</span><span class="op" id="2403383">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403387">p</span><span class="op" id="2403388">.</span><span class="ident" id="2403389">fmtUnicode</span><span class="op" id="2403399">(</span><span class="ident" id="2403400">int64</span><span class="op" id="2403405">(</span><span class="ident" id="2403406">v</span><span class="op" id="2403407">)</span><span class="op" id="2403408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403411">default</span><span class="op" id="2403418">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403422">p</span><span class="op" id="2403423">.</span><span class="ident" id="2403424">badVerb</span><span class="op" id="2403431">(</span><span class="ident" id="2403432">verb</span><span class="op" id="2403436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403439">}</span><br>
<span class="lineno">440</span><span class="op" id="2403441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2403444">func</span>&nbsp;<span class="op" id="2403449">(</span><span class="ident" id="2403450">p</span>&nbsp;<span class="op" id="2403452">*</span><span class="ident" id="2403453">pp</span><span class="op" id="2403455">)</span>&nbsp;<span class="ident" id="2403457">fmtFloat32</span><span class="op" id="2403467">(</span><span class="ident" id="2403468">v</span>&nbsp;<span class="builtintype" id="2403470">float32</span><span class="op" id="2403477">,</span>&nbsp;<span class="ident" id="2403479">verb</span>&nbsp;<span class="builtintype" id="2403484">rune</span><span class="op" id="2403488">)</span>&nbsp;<span class="op" id="2403490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403493">switch</span>&nbsp;<span class="ident" id="2403500">verb</span>&nbsp;<span class="op" id="2403505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403508">case</span>&nbsp;<span class="string" id="2403513">&#39;b&#39;</span><span class="op" id="2403516">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403520">p</span><span class="op" id="2403521">.</span><span class="ident" id="2403522">fmt</span><span class="op" id="2403525">.</span><span class="ident" id="2403526">fmt_fb32</span><span class="op" id="2403534">(</span><span class="ident" id="2403535">v</span><span class="op" id="2403536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403539">case</span>&nbsp;<span class="string" id="2403544">&#39;e&#39;</span><span class="op" id="2403547">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403551">p</span><span class="op" id="2403552">.</span><span class="ident" id="2403553">fmt</span><span class="op" id="2403556">.</span><span class="ident" id="2403557">fmt_e32</span><span class="op" id="2403564">(</span><span class="ident" id="2403565">v</span><span class="op" id="2403566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403569">case</span>&nbsp;<span class="string" id="2403574">&#39;E&#39;</span><span class="op" id="2403577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403581">p</span><span class="op" id="2403582">.</span><span class="ident" id="2403583">fmt</span><span class="op" id="2403586">.</span><span class="ident" id="2403587">fmt_E32</span><span class="op" id="2403594">(</span><span class="ident" id="2403595">v</span><span class="op" id="2403596">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403599">case</span>&nbsp;<span class="string" id="2403604">&#39;f&#39;</span><span class="op" id="2403607">,</span>&nbsp;<span class="string" id="2403609">&#39;F&#39;</span><span class="op" id="2403612">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403616">p</span><span class="op" id="2403617">.</span><span class="ident" id="2403618">fmt</span><span class="op" id="2403621">.</span><span class="ident" id="2403622">fmt_f32</span><span class="op" id="2403629">(</span><span class="ident" id="2403630">v</span><span class="op" id="2403631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403634">case</span>&nbsp;<span class="string" id="2403639">&#39;g&#39;</span><span class="op" id="2403642">,</span>&nbsp;<span class="string" id="2403644">&#39;v&#39;</span><span class="op" id="2403647">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403651">p</span><span class="op" id="2403652">.</span><span class="ident" id="2403653">fmt</span><span class="op" id="2403656">.</span><span class="ident" id="2403657">fmt_g32</span><span class="op" id="2403664">(</span><span class="ident" id="2403665">v</span><span class="op" id="2403666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403669">case</span>&nbsp;<span class="string" id="2403674">&#39;G&#39;</span><span class="op" id="2403677">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403681">p</span><span class="op" id="2403682">.</span><span class="ident" id="2403683">fmt</span><span class="op" id="2403686">.</span><span class="ident" id="2403687">fmt_G32</span><span class="op" id="2403694">(</span><span class="ident" id="2403695">v</span><span class="op" id="2403696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403699">default</span><span class="op" id="2403706">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403710">p</span><span class="op" id="2403711">.</span><span class="ident" id="2403712">badVerb</span><span class="op" id="2403719">(</span><span class="ident" id="2403720">verb</span><span class="op" id="2403724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2403727">}</span><br>
<span class="lineno"></span><span class="op" id="2403729">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2403732">func</span>&nbsp;<span class="op" id="2403737">(</span><span class="ident" id="2403738">p</span>&nbsp;<span class="op" id="2403740">*</span><span class="ident" id="2403741">pp</span><span class="op" id="2403743">)</span>&nbsp;<span class="ident" id="2403745">fmtFloat64</span><span class="op" id="2403755">(</span><span class="ident" id="2403756">v</span>&nbsp;<span class="builtintype" id="2403758">float64</span><span class="op" id="2403765">,</span>&nbsp;<span class="ident" id="2403767">verb</span>&nbsp;<span class="builtintype" id="2403772">rune</span><span class="op" id="2403776">)</span>&nbsp;<span class="op" id="2403778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403781">switch</span>&nbsp;<span class="ident" id="2403788">verb</span>&nbsp;<span class="op" id="2403793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403796">case</span>&nbsp;<span class="string" id="2403801">&#39;b&#39;</span><span class="op" id="2403804">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403808">p</span><span class="op" id="2403809">.</span><span class="ident" id="2403810">fmt</span><span class="op" id="2403813">.</span><span class="ident" id="2403814">fmt_fb64</span><span class="op" id="2403822">(</span><span class="ident" id="2403823">v</span><span class="op" id="2403824">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403827">case</span>&nbsp;<span class="string" id="2403832">&#39;e&#39;</span><span class="op" id="2403835">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403839">p</span><span class="op" id="2403840">.</span><span class="ident" id="2403841">fmt</span><span class="op" id="2403844">.</span><span class="ident" id="2403845">fmt_e64</span><span class="op" id="2403852">(</span><span class="ident" id="2403853">v</span><span class="op" id="2403854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403857">case</span>&nbsp;<span class="string" id="2403862">&#39;E&#39;</span><span class="op" id="2403865">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403869">p</span><span class="op" id="2403870">.</span><span class="ident" id="2403871">fmt</span><span class="op" id="2403874">.</span><span class="ident" id="2403875">fmt_E64</span><span class="op" id="2403882">(</span><span class="ident" id="2403883">v</span><span class="op" id="2403884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403887">case</span>&nbsp;<span class="string" id="2403892">&#39;f&#39;</span><span class="op" id="2403895">,</span>&nbsp;<span class="string" id="2403897">&#39;F&#39;</span><span class="op" id="2403900">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403904">p</span><span class="op" id="2403905">.</span><span class="ident" id="2403906">fmt</span><span class="op" id="2403909">.</span><span class="ident" id="2403910">fmt_f64</span><span class="op" id="2403917">(</span><span class="ident" id="2403918">v</span><span class="op" id="2403919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403922">case</span>&nbsp;<span class="string" id="2403927">&#39;g&#39;</span><span class="op" id="2403930">,</span>&nbsp;<span class="string" id="2403932">&#39;v&#39;</span><span class="op" id="2403935">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403939">p</span><span class="op" id="2403940">.</span><span class="ident" id="2403941">fmt</span><span class="op" id="2403944">.</span><span class="ident" id="2403945">fmt_g64</span><span class="op" id="2403952">(</span><span class="ident" id="2403953">v</span><span class="op" id="2403954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403957">case</span>&nbsp;<span class="string" id="2403962">&#39;G&#39;</span><span class="op" id="2403965">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403969">p</span><span class="op" id="2403970">.</span><span class="ident" id="2403971">fmt</span><span class="op" id="2403974">.</span><span class="ident" id="2403975">fmt_G64</span><span class="op" id="2403982">(</span><span class="ident" id="2403983">v</span><span class="op" id="2403984">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2403987">default</span><span class="op" id="2403994">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403998">p</span><span class="op" id="2403999">.</span><span class="ident" id="2404000">badVerb</span><span class="op" id="2404007">(</span><span class="ident" id="2404008">verb</span><span class="op" id="2404012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404015">}</span><br>
<span class="lineno"></span><span class="op" id="2404017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2404020">func</span>&nbsp;<span class="op" id="2404025">(</span><span class="ident" id="2404026">p</span>&nbsp;<span class="op" id="2404028">*</span><span class="ident" id="2404029">pp</span><span class="op" id="2404031">)</span>&nbsp;<span class="ident" id="2404033">fmtComplex64</span><span class="op" id="2404045">(</span><span class="ident" id="2404046">v</span>&nbsp;<span class="builtintype" id="2404048">complex64</span><span class="op" id="2404057">,</span>&nbsp;<span class="ident" id="2404059">verb</span>&nbsp;<span class="builtintype" id="2404064">rune</span><span class="op" id="2404068">)</span>&nbsp;<span class="op" id="2404070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404073">switch</span>&nbsp;<span class="ident" id="2404080">verb</span>&nbsp;<span class="op" id="2404085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404088">case</span>&nbsp;<span class="string" id="2404093">&#39;b&#39;</span><span class="op" id="2404096">,</span>&nbsp;<span class="string" id="2404098">&#39;e&#39;</span><span class="op" id="2404101">,</span>&nbsp;<span class="string" id="2404103">&#39;E&#39;</span><span class="op" id="2404106">,</span>&nbsp;<span class="string" id="2404108">&#39;f&#39;</span><span class="op" id="2404111">,</span>&nbsp;<span class="string" id="2404113">&#39;F&#39;</span><span class="op" id="2404116">,</span>&nbsp;<span class="string" id="2404118">&#39;g&#39;</span><span class="op" id="2404121">,</span>&nbsp;<span class="string" id="2404123">&#39;G&#39;</span><span class="op" id="2404126">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404130">p</span><span class="op" id="2404131">.</span><span class="ident" id="2404132">fmt</span><span class="op" id="2404135">.</span><span class="ident" id="2404136">fmt_c64</span><span class="op" id="2404143">(</span><span class="ident" id="2404144">v</span><span class="op" id="2404145">,</span>&nbsp;<span class="ident" id="2404147">verb</span><span class="op" id="2404151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404154">case</span>&nbsp;<span class="string" id="2404159">&#39;v&#39;</span><span class="op" id="2404162">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404166">p</span><span class="op" id="2404167">.</span><span class="ident" id="2404168">fmt</span><span class="op" id="2404171">.</span><span class="ident" id="2404172">fmt_c64</span><span class="op" id="2404179">(</span><span class="ident" id="2404180">v</span><span class="op" id="2404181">,</span>&nbsp;<span class="string" id="2404183">&#39;g&#39;</span><span class="op" id="2404186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404189">default</span><span class="op" id="2404196">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404200">p</span><span class="op" id="2404201">.</span><span class="ident" id="2404202">badVerb</span><span class="op" id="2404209">(</span><span class="ident" id="2404210">verb</span><span class="op" id="2404214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404217">}</span><br>
<span class="lineno"></span><span class="op" id="2404219">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2404222">func</span>&nbsp;<span class="op" id="2404227">(</span><span class="ident" id="2404228">p</span>&nbsp;<span class="op" id="2404230">*</span><span class="ident" id="2404231">pp</span><span class="op" id="2404233">)</span>&nbsp;<span class="ident" id="2404235">fmtComplex128</span><span class="op" id="2404248">(</span><span class="ident" id="2404249">v</span>&nbsp;<span class="builtintype" id="2404251">complex128</span><span class="op" id="2404261">,</span>&nbsp;<span class="ident" id="2404263">verb</span>&nbsp;<span class="builtintype" id="2404268">rune</span><span class="op" id="2404272">)</span>&nbsp;<span class="op" id="2404274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404277">switch</span>&nbsp;<span class="ident" id="2404284">verb</span>&nbsp;<span class="op" id="2404289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404292">case</span>&nbsp;<span class="string" id="2404297">&#39;b&#39;</span><span class="op" id="2404300">,</span>&nbsp;<span class="string" id="2404302">&#39;e&#39;</span><span class="op" id="2404305">,</span>&nbsp;<span class="string" id="2404307">&#39;E&#39;</span><span class="op" id="2404310">,</span>&nbsp;<span class="string" id="2404312">&#39;f&#39;</span><span class="op" id="2404315">,</span>&nbsp;<span class="string" id="2404317">&#39;F&#39;</span><span class="op" id="2404320">,</span>&nbsp;<span class="string" id="2404322">&#39;g&#39;</span><span class="op" id="2404325">,</span>&nbsp;<span class="string" id="2404327">&#39;G&#39;</span><span class="op" id="2404330">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404334">p</span><span class="op" id="2404335">.</span><span class="ident" id="2404336">fmt</span><span class="op" id="2404339">.</span><span class="ident" id="2404340">fmt_c128</span><span class="op" id="2404348">(</span><span class="ident" id="2404349">v</span><span class="op" id="2404350">,</span>&nbsp;<span class="ident" id="2404352">verb</span><span class="op" id="2404356">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404359">case</span>&nbsp;<span class="string" id="2404364">&#39;v&#39;</span><span class="op" id="2404367">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404371">p</span><span class="op" id="2404372">.</span><span class="ident" id="2404373">fmt</span><span class="op" id="2404376">.</span><span class="ident" id="2404377">fmt_c128</span><span class="op" id="2404385">(</span><span class="ident" id="2404386">v</span><span class="op" id="2404387">,</span>&nbsp;<span class="string" id="2404389">&#39;g&#39;</span><span class="op" id="2404392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404395">default</span><span class="op" id="2404402">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404406">p</span><span class="op" id="2404407">.</span><span class="ident" id="2404408">badVerb</span><span class="op" id="2404415">(</span><span class="ident" id="2404416">verb</span><span class="op" id="2404420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404423">}</span><br>
<span class="lineno">500</span><span class="op" id="2404425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2404428">func</span>&nbsp;<span class="op" id="2404433">(</span><span class="ident" id="2404434">p</span>&nbsp;<span class="op" id="2404436">*</span><span class="ident" id="2404437">pp</span><span class="op" id="2404439">)</span>&nbsp;<span class="ident" id="2404441">fmtString</span><span class="op" id="2404450">(</span><span class="ident" id="2404451">v</span>&nbsp;<span class="builtintype" id="2404453">string</span><span class="op" id="2404459">,</span>&nbsp;<span class="ident" id="2404461">verb</span>&nbsp;<span class="builtintype" id="2404466">rune</span><span class="op" id="2404470">)</span>&nbsp;<span class="op" id="2404472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404475">switch</span>&nbsp;<span class="ident" id="2404482">verb</span>&nbsp;<span class="op" id="2404487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404490">case</span>&nbsp;<span class="string" id="2404495">&#39;v&#39;</span><span class="op" id="2404498">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404502">if</span>&nbsp;<span class="ident" id="2404505">p</span><span class="op" id="2404506">.</span><span class="ident" id="2404507">fmt</span><span class="op" id="2404510">.</span><span class="ident" id="2404511">sharpV</span>&nbsp;<span class="op" id="2404518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404523">p</span><span class="op" id="2404524">.</span><span class="ident" id="2404525">fmt</span><span class="op" id="2404528">.</span><span class="ident" id="2404529">fmt_q</span><span class="op" id="2404534">(</span><span class="ident" id="2404535">v</span><span class="op" id="2404536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404540">}</span>&nbsp;<span class="keyword" id="2404542">else</span>&nbsp;<span class="op" id="2404547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404552">p</span><span class="op" id="2404553">.</span><span class="ident" id="2404554">fmt</span><span class="op" id="2404557">.</span><span class="ident" id="2404558">fmt_s</span><span class="op" id="2404563">(</span><span class="ident" id="2404564">v</span><span class="op" id="2404565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404569">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404572">case</span>&nbsp;<span class="string" id="2404577">&#39;s&#39;</span><span class="op" id="2404580">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404584">p</span><span class="op" id="2404585">.</span><span class="ident" id="2404586">fmt</span><span class="op" id="2404589">.</span><span class="ident" id="2404590">fmt_s</span><span class="op" id="2404595">(</span><span class="ident" id="2404596">v</span><span class="op" id="2404597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404600">case</span>&nbsp;<span class="string" id="2404605">&#39;x&#39;</span><span class="op" id="2404608">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404612">p</span><span class="op" id="2404613">.</span><span class="ident" id="2404614">fmt</span><span class="op" id="2404617">.</span><span class="ident" id="2404618">fmt_sx</span><span class="op" id="2404624">(</span><span class="ident" id="2404625">v</span><span class="op" id="2404626">,</span>&nbsp;<span class="ident" id="2404628">ldigits</span><span class="op" id="2404635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404638">case</span>&nbsp;<span class="string" id="2404643">&#39;X&#39;</span><span class="op" id="2404646">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404650">p</span><span class="op" id="2404651">.</span><span class="ident" id="2404652">fmt</span><span class="op" id="2404655">.</span><span class="ident" id="2404656">fmt_sx</span><span class="op" id="2404662">(</span><span class="ident" id="2404663">v</span><span class="op" id="2404664">,</span>&nbsp;<span class="ident" id="2404666">udigits</span><span class="op" id="2404673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404676">case</span>&nbsp;<span class="string" id="2404681">&#39;q&#39;</span><span class="op" id="2404684">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404688">p</span><span class="op" id="2404689">.</span><span class="ident" id="2404690">fmt</span><span class="op" id="2404693">.</span><span class="ident" id="2404694">fmt_q</span><span class="op" id="2404699">(</span><span class="ident" id="2404700">v</span><span class="op" id="2404701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404704">default</span><span class="op" id="2404711">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404715">p</span><span class="op" id="2404716">.</span><span class="ident" id="2404717">badVerb</span><span class="op" id="2404724">(</span><span class="ident" id="2404725">verb</span><span class="op" id="2404729">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404732">}</span><br>
<span class="lineno"></span><span class="op" id="2404734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2404737">func</span>&nbsp;<span class="op" id="2404742">(</span><span class="ident" id="2404743">p</span>&nbsp;<span class="op" id="2404745">*</span><span class="ident" id="2404746">pp</span><span class="op" id="2404748">)</span>&nbsp;<span class="ident" id="2404750">fmtBytes</span><span class="op" id="2404758">(</span><span class="ident" id="2404759">v</span>&nbsp;<span class="op" id="2404761">[</span><span class="op" id="2404762">]</span><span class="builtintype" id="2404763">byte</span><span class="op" id="2404767">,</span>&nbsp;<span class="ident" id="2404769">verb</span>&nbsp;<span class="builtintype" id="2404774">rune</span><span class="op" id="2404778">,</span>&nbsp;<span class="ident" id="2404780">typ</span>&nbsp;<span class="ident" id="2404784">reflect</span><span class="op" id="2404791">.</span><span class="ident" id="2404792">Type</span><span class="op" id="2404796">,</span>&nbsp;<span class="ident" id="2404798">depth</span>&nbsp;<span class="builtintype" id="2404804">int</span><span class="op" id="2404807">)</span>&nbsp;<span class="op" id="2404809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404812">if</span>&nbsp;<span class="ident" id="2404815">verb</span>&nbsp;<span class="op" id="2404820">==</span>&nbsp;<span class="string" id="2404823">&#39;v&#39;</span>&nbsp;<span class="op" id="2404827">||</span>&nbsp;<span class="ident" id="2404830">verb</span>&nbsp;<span class="op" id="2404835">==</span>&nbsp;<span class="string" id="2404838">&#39;d&#39;</span>&nbsp;<span class="op" id="2404842">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404846">if</span>&nbsp;<span class="ident" id="2404849">p</span><span class="op" id="2404850">.</span><span class="ident" id="2404851">fmt</span><span class="op" id="2404854">.</span><span class="ident" id="2404855">sharpV</span>&nbsp;<span class="op" id="2404862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404867">if</span>&nbsp;<span class="ident" id="2404870">v</span>&nbsp;<span class="op" id="2404872">==</span>&nbsp;<span class="ident" id="2404875">nil</span>&nbsp;<span class="op" id="2404879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2404885">if</span>&nbsp;<span class="ident" id="2404888">typ</span>&nbsp;<span class="op" id="2404892">==</span>&nbsp;<span class="ident" id="2404895">nil</span>&nbsp;<span class="op" id="2404899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404906">p</span><span class="op" id="2404907">.</span><span class="ident" id="2404908">buf</span><span class="op" id="2404911">.</span><span class="ident" id="2404912">WriteString</span><span class="op" id="2404923">(</span><span class="string" id="2404924">&#34;[]byte(nil)&#34;</span><span class="op" id="2404937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2404943">}</span>&nbsp;<span class="keyword" id="2404945">else</span>&nbsp;<span class="op" id="2404950">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404957">p</span><span class="op" id="2404958">.</span><span class="ident" id="2404959">buf</span><span class="op" id="2404962">.</span><span class="ident" id="2404963">WriteString</span><span class="op" id="2404974">(</span><span class="ident" id="2404975">typ</span><span class="op" id="2404978">.</span><span class="ident" id="2404979">String</span><span class="op" id="2404985">(</span><span class="op" id="2404986">)</span><span class="op" id="2404987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404994">p</span><span class="op" id="2404995">.</span><span class="ident" id="2404996">buf</span><span class="op" id="2404999">.</span><span class="ident" id="2405000">Write</span><span class="op" id="2405005">(</span><span class="ident" id="2405006">nilParenBytes</span><span class="op" id="2405019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405031">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405041">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405046">if</span>&nbsp;<span class="ident" id="2405049">typ</span>&nbsp;<span class="op" id="2405053">==</span>&nbsp;<span class="ident" id="2405056">nil</span>&nbsp;<span class="op" id="2405060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405066">p</span><span class="op" id="2405067">.</span><span class="ident" id="2405068">buf</span><span class="op" id="2405071">.</span><span class="ident" id="2405072">Write</span><span class="op" id="2405077">(</span><span class="ident" id="2405078">bytesBytes</span><span class="op" id="2405088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405093">}</span>&nbsp;<span class="keyword" id="2405095">else</span>&nbsp;<span class="op" id="2405100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405106">p</span><span class="op" id="2405107">.</span><span class="ident" id="2405108">buf</span><span class="op" id="2405111">.</span><span class="ident" id="2405112">WriteString</span><span class="op" id="2405123">(</span><span class="ident" id="2405124">typ</span><span class="op" id="2405127">.</span><span class="ident" id="2405128">String</span><span class="op" id="2405134">(</span><span class="op" id="2405135">)</span><span class="op" id="2405136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405142">p</span><span class="op" id="2405143">.</span><span class="ident" id="2405144">buf</span><span class="op" id="2405147">.</span><span class="ident" id="2405148">WriteByte</span><span class="op" id="2405157">(</span><span class="string" id="2405158">&#39;{&#39;</span><span class="op" id="2405161">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405170">}</span>&nbsp;<span class="keyword" id="2405172">else</span>&nbsp;<span class="op" id="2405177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405182">p</span><span class="op" id="2405183">.</span><span class="ident" id="2405184">buf</span><span class="op" id="2405187">.</span><span class="ident" id="2405188">WriteByte</span><span class="op" id="2405197">(</span><span class="string" id="2405198">&#39;[&#39;</span><span class="op" id="2405201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405209">for</span>&nbsp;<span class="ident" id="2405213">i</span><span class="op" id="2405214">,</span>&nbsp;<span class="ident" id="2405216">c</span>&nbsp;<span class="op" id="2405218">:=</span>&nbsp;<span class="keyword" id="2405221">range</span>&nbsp;<span class="ident" id="2405227">v</span>&nbsp;<span class="op" id="2405229">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405234">if</span>&nbsp;<span class="ident" id="2405237">i</span>&nbsp;<span class="op" id="2405239">&gt;</span>&nbsp;<span class="num" id="2405241">0</span>&nbsp;<span class="op" id="2405243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405249">if</span>&nbsp;<span class="ident" id="2405252">p</span><span class="op" id="2405253">.</span><span class="ident" id="2405254">fmt</span><span class="op" id="2405257">.</span><span class="ident" id="2405258">sharpV</span>&nbsp;<span class="op" id="2405265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405272">p</span><span class="op" id="2405273">.</span><span class="ident" id="2405274">buf</span><span class="op" id="2405277">.</span><span class="ident" id="2405278">Write</span><span class="op" id="2405283">(</span><span class="ident" id="2405284">commaSpaceBytes</span><span class="op" id="2405299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405305">}</span>&nbsp;<span class="keyword" id="2405307">else</span>&nbsp;<span class="op" id="2405312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405319">p</span><span class="op" id="2405320">.</span><span class="ident" id="2405321">buf</span><span class="op" id="2405324">.</span><span class="ident" id="2405325">WriteByte</span><span class="op" id="2405334">(</span><span class="string" id="2405335">&#39;&nbsp;&#39;</span><span class="op" id="2405338">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405354">p</span><span class="op" id="2405355">.</span><span class="ident" id="2405356">printArg</span><span class="op" id="2405364">(</span><span class="ident" id="2405365">c</span><span class="op" id="2405366">,</span>&nbsp;<span class="string" id="2405368">&#39;v&#39;</span><span class="op" id="2405371">,</span>&nbsp;<span class="ident" id="2405373">depth</span><span class="op" id="2405378">+</span><span class="num" id="2405379">1</span><span class="op" id="2405380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405388">if</span>&nbsp;<span class="ident" id="2405391">p</span><span class="op" id="2405392">.</span><span class="ident" id="2405393">fmt</span><span class="op" id="2405396">.</span><span class="ident" id="2405397">sharpV</span>&nbsp;<span class="op" id="2405404">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405409">p</span><span class="op" id="2405410">.</span><span class="ident" id="2405411">buf</span><span class="op" id="2405414">.</span><span class="ident" id="2405415">WriteByte</span><span class="op" id="2405424">(</span><span class="string" id="2405425">&#39;}&#39;</span><span class="op" id="2405428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405432">}</span>&nbsp;<span class="keyword" id="2405434">else</span>&nbsp;<span class="op" id="2405439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405444">p</span><span class="op" id="2405445">.</span><span class="ident" id="2405446">buf</span><span class="op" id="2405449">.</span><span class="ident" id="2405450">WriteByte</span><span class="op" id="2405459">(</span><span class="string" id="2405460">&#39;]&#39;</span><span class="op" id="2405463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405471">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405482">switch</span>&nbsp;<span class="ident" id="2405489">verb</span>&nbsp;<span class="op" id="2405494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405497">case</span>&nbsp;<span class="string" id="2405502">&#39;s&#39;</span><span class="op" id="2405505">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405509">p</span><span class="op" id="2405510">.</span><span class="ident" id="2405511">fmt</span><span class="op" id="2405514">.</span><span class="ident" id="2405515">fmt_s</span><span class="op" id="2405520">(</span><span class="builtintype" id="2405521">string</span><span class="op" id="2405527">(</span><span class="ident" id="2405528">v</span><span class="op" id="2405529">)</span><span class="op" id="2405530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405533">case</span>&nbsp;<span class="string" id="2405538">&#39;x&#39;</span><span class="op" id="2405541">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405545">p</span><span class="op" id="2405546">.</span><span class="ident" id="2405547">fmt</span><span class="op" id="2405550">.</span><span class="ident" id="2405551">fmt_bx</span><span class="op" id="2405557">(</span><span class="ident" id="2405558">v</span><span class="op" id="2405559">,</span>&nbsp;<span class="ident" id="2405561">ldigits</span><span class="op" id="2405568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405571">case</span>&nbsp;<span class="string" id="2405576">&#39;X&#39;</span><span class="op" id="2405579">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405583">p</span><span class="op" id="2405584">.</span><span class="ident" id="2405585">fmt</span><span class="op" id="2405588">.</span><span class="ident" id="2405589">fmt_bx</span><span class="op" id="2405595">(</span><span class="ident" id="2405596">v</span><span class="op" id="2405597">,</span>&nbsp;<span class="ident" id="2405599">udigits</span><span class="op" id="2405606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405609">case</span>&nbsp;<span class="string" id="2405614">&#39;q&#39;</span><span class="op" id="2405617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405621">p</span><span class="op" id="2405622">.</span><span class="ident" id="2405623">fmt</span><span class="op" id="2405626">.</span><span class="ident" id="2405627">fmt_q</span><span class="op" id="2405632">(</span><span class="builtintype" id="2405633">string</span><span class="op" id="2405639">(</span><span class="ident" id="2405640">v</span><span class="op" id="2405641">)</span><span class="op" id="2405642">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405645">default</span><span class="op" id="2405652">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405656">p</span><span class="op" id="2405657">.</span><span class="ident" id="2405658">badVerb</span><span class="op" id="2405665">(</span><span class="ident" id="2405666">verb</span><span class="op" id="2405670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405673">}</span><br>
<span class="lineno"></span><span class="op" id="2405675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2405678">func</span>&nbsp;<span class="op" id="2405683">(</span><span class="ident" id="2405684">p</span>&nbsp;<span class="op" id="2405686">*</span><span class="ident" id="2405687">pp</span><span class="op" id="2405689">)</span>&nbsp;<span class="ident" id="2405691">fmtPointer</span><span class="op" id="2405701">(</span><span class="ident" id="2405702">value</span>&nbsp;<span class="ident" id="2405708">reflect</span><span class="op" id="2405715">.</span><span class="ident" id="2405716">Value</span><span class="op" id="2405721">,</span>&nbsp;<span class="ident" id="2405723">verb</span>&nbsp;<span class="builtintype" id="2405728">rune</span><span class="op" id="2405732">)</span>&nbsp;<span class="op" id="2405734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405737">use0x64</span>&nbsp;<span class="op" id="2405745">:=</span>&nbsp;<span class="builtintype" id="2405748">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405754">switch</span>&nbsp;<span class="ident" id="2405761">verb</span>&nbsp;<span class="op" id="2405766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405769">case</span>&nbsp;<span class="string" id="2405774">&#39;p&#39;</span><span class="op" id="2405777">,</span>&nbsp;<span class="string" id="2405779">&#39;v&#39;</span><span class="op" id="2405782">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2405786">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405793">case</span>&nbsp;<span class="string" id="2405798">&#39;b&#39;</span><span class="op" id="2405801">,</span>&nbsp;<span class="string" id="2405803">&#39;d&#39;</span><span class="op" id="2405806">,</span>&nbsp;<span class="string" id="2405808">&#39;o&#39;</span><span class="op" id="2405811">,</span>&nbsp;<span class="string" id="2405813">&#39;x&#39;</span><span class="op" id="2405816">,</span>&nbsp;<span class="string" id="2405818">&#39;X&#39;</span><span class="op" id="2405821">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405825">use0x64</span>&nbsp;<span class="op" id="2405833">=</span>&nbsp;<span class="builtintype" id="2405835">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2405843">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405850">default</span><span class="op" id="2405857">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405861">p</span><span class="op" id="2405862">.</span><span class="ident" id="2405863">badVerb</span><span class="op" id="2405870">(</span><span class="ident" id="2405871">verb</span><span class="op" id="2405875">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405879">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2405887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405891">var</span>&nbsp;<span class="ident" id="2405895">u</span>&nbsp;<span class="builtintype" id="2405897">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405906">switch</span>&nbsp;<span class="ident" id="2405913">value</span><span class="op" id="2405918">.</span><span class="ident" id="2405919">Kind</span><span class="op" id="2405923">(</span><span class="op" id="2405924">)</span>&nbsp;<span class="op" id="2405926">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2405929">case</span>&nbsp;<span class="ident" id="2405934">reflect</span><span class="op" id="2405941">.</span><span class="ident" id="2405942">Chan</span><span class="op" id="2405946">,</span>&nbsp;<span class="ident" id="2405948">reflect</span><span class="op" id="2405955">.</span><span class="ident" id="2405956">Func</span><span class="op" id="2405960">,</span>&nbsp;<span class="ident" id="2405962">reflect</span><span class="op" id="2405969">.</span><span class="ident" id="2405970">Map</span><span class="op" id="2405973">,</span>&nbsp;<span class="ident" id="2405975">reflect</span><span class="op" id="2405982">.</span><span class="ident" id="2405983">Ptr</span><span class="op" id="2405986">,</span>&nbsp;<span class="ident" id="2405988">reflect</span><span class="op" id="2405995">.</span><span class="ident" id="2405996">Slice</span><span class="op" id="2406001">,</span>&nbsp;<span class="ident" id="2406003">reflect</span><span class="op" id="2406010">.</span><span class="ident" id="2406011">UnsafePointer</span><span class="op" id="2406024">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406028">u</span>&nbsp;<span class="op" id="2406030">=</span>&nbsp;<span class="ident" id="2406032">value</span><span class="op" id="2406037">.</span><span class="ident" id="2406038">Pointer</span><span class="op" id="2406045">(</span><span class="op" id="2406046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406049">default</span><span class="op" id="2406056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406060">p</span><span class="op" id="2406061">.</span><span class="ident" id="2406062">badVerb</span><span class="op" id="2406069">(</span><span class="ident" id="2406070">verb</span><span class="op" id="2406074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406078">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406090">if</span>&nbsp;<span class="ident" id="2406093">p</span><span class="op" id="2406094">.</span><span class="ident" id="2406095">fmt</span><span class="op" id="2406098">.</span><span class="ident" id="2406099">sharpV</span>&nbsp;<span class="op" id="2406106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406110">p</span><span class="op" id="2406111">.</span><span class="ident" id="2406112">add</span><span class="op" id="2406115">(</span><span class="string" id="2406116">&#39;(&#39;</span><span class="op" id="2406119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406123">p</span><span class="op" id="2406124">.</span><span class="ident" id="2406125">buf</span><span class="op" id="2406128">.</span><span class="ident" id="2406129">WriteString</span><span class="op" id="2406140">(</span><span class="ident" id="2406141">value</span><span class="op" id="2406146">.</span><span class="ident" id="2406147">Type</span><span class="op" id="2406151">(</span><span class="op" id="2406152">)</span><span class="op" id="2406153">.</span><span class="ident" id="2406154">String</span><span class="op" id="2406160">(</span><span class="op" id="2406161">)</span><span class="op" id="2406162">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406166">p</span><span class="op" id="2406167">.</span><span class="ident" id="2406168">add</span><span class="op" id="2406171">(</span><span class="string" id="2406172">&#39;)&#39;</span><span class="op" id="2406175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406179">p</span><span class="op" id="2406180">.</span><span class="ident" id="2406181">add</span><span class="op" id="2406184">(</span><span class="string" id="2406185">&#39;(&#39;</span><span class="op" id="2406188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406192">if</span>&nbsp;<span class="ident" id="2406195">u</span>&nbsp;<span class="op" id="2406197">==</span>&nbsp;<span class="num" id="2406200">0</span>&nbsp;<span class="op" id="2406202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406207">p</span><span class="op" id="2406208">.</span><span class="ident" id="2406209">buf</span><span class="op" id="2406212">.</span><span class="ident" id="2406213">Write</span><span class="op" id="2406218">(</span><span class="ident" id="2406219">nilBytes</span><span class="op" id="2406227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406231">}</span>&nbsp;<span class="keyword" id="2406233">else</span>&nbsp;<span class="op" id="2406238">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406243">p</span><span class="op" id="2406244">.</span><span class="ident" id="2406245">fmt0x64</span><span class="op" id="2406252">(</span><span class="ident" id="2406253">uint64</span><span class="op" id="2406259">(</span><span class="ident" id="2406260">u</span><span class="op" id="2406261">)</span><span class="op" id="2406262">,</span>&nbsp;<span class="builtintype" id="2406264">true</span><span class="op" id="2406268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406276">p</span><span class="op" id="2406277">.</span><span class="ident" id="2406278">add</span><span class="op" id="2406281">(</span><span class="string" id="2406282">&#39;)&#39;</span><span class="op" id="2406285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406288">}</span>&nbsp;<span class="keyword" id="2406290">else</span>&nbsp;<span class="keyword" id="2406295">if</span>&nbsp;<span class="ident" id="2406298">verb</span>&nbsp;<span class="op" id="2406303">==</span>&nbsp;<span class="string" id="2406306">&#39;v&#39;</span>&nbsp;<span class="op" id="2406310">&amp;&amp;</span>&nbsp;<span class="ident" id="2406313">u</span>&nbsp;<span class="op" id="2406315">==</span>&nbsp;<span class="num" id="2406318">0</span>&nbsp;<span class="op" id="2406320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406324">p</span><span class="op" id="2406325">.</span><span class="ident" id="2406326">buf</span><span class="op" id="2406329">.</span><span class="ident" id="2406330">Write</span><span class="op" id="2406335">(</span><span class="ident" id="2406336">nilAngleBytes</span><span class="op" id="2406349">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406352">}</span>&nbsp;<span class="keyword" id="2406354">else</span>&nbsp;<span class="op" id="2406359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406363">if</span>&nbsp;<span class="ident" id="2406366">use0x64</span>&nbsp;<span class="op" id="2406374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406379">p</span><span class="op" id="2406380">.</span><span class="ident" id="2406381">fmt0x64</span><span class="op" id="2406388">(</span><span class="ident" id="2406389">uint64</span><span class="op" id="2406395">(</span><span class="ident" id="2406396">u</span><span class="op" id="2406397">)</span><span class="op" id="2406398">,</span>&nbsp;<span class="op" id="2406400">!</span><span class="ident" id="2406401">p</span><span class="op" id="2406402">.</span><span class="ident" id="2406403">fmt</span><span class="op" id="2406406">.</span><span class="ident" id="2406407">sharp</span><span class="op" id="2406412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406416">}</span>&nbsp;<span class="keyword" id="2406418">else</span>&nbsp;<span class="op" id="2406423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406428">p</span><span class="op" id="2406429">.</span><span class="ident" id="2406430">fmtUint64</span><span class="op" id="2406439">(</span><span class="ident" id="2406440">uint64</span><span class="op" id="2406446">(</span><span class="ident" id="2406447">u</span><span class="op" id="2406448">)</span><span class="op" id="2406449">,</span>&nbsp;<span class="ident" id="2406451">verb</span><span class="op" id="2406455">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406462">}</span><br>
<span class="lineno"></span><span class="op" id="2406464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2406467">var</span>&nbsp;<span class="op" id="2406471">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406474">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2406486">=</span>&nbsp;<span class="ident" id="2406488">reflect</span><span class="op" id="2406495">.</span><span class="ident" id="2406496">TypeOf</span><span class="op" id="2406502">(</span><span class="num" id="2406503">0</span><span class="op" id="2406504">)</span><span class="op" id="2406505">.</span><span class="ident" id="2406506">Bits</span><span class="op" id="2406510">(</span><span class="op" id="2406511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406514">uintptrBits</span>&nbsp;<span class="op" id="2406526">=</span>&nbsp;<span class="ident" id="2406528">reflect</span><span class="op" id="2406535">.</span><span class="ident" id="2406536">TypeOf</span><span class="op" id="2406542">(</span><span class="builtintype" id="2406543">uintptr</span><span class="op" id="2406550">(</span><span class="num" id="2406551">0</span><span class="op" id="2406552">)</span><span class="op" id="2406553">)</span><span class="op" id="2406554">.</span><span class="ident" id="2406555">Bits</span><span class="op" id="2406559">(</span><span class="op" id="2406560">)</span><br>
<span class="lineno"></span><span class="op" id="2406562">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2406565">func</span>&nbsp;<span class="op" id="2406570">(</span><span class="ident" id="2406571">p</span>&nbsp;<span class="op" id="2406573">*</span><span class="ident" id="2406574">pp</span><span class="op" id="2406576">)</span>&nbsp;<span class="ident" id="2406578">catchPanic</span><span class="op" id="2406588">(</span><span class="ident" id="2406589">arg</span>&nbsp;<span class="keyword" id="2406593">interface</span><span class="op" id="2406602">{</span><span class="op" id="2406603">}</span><span class="op" id="2406604">,</span>&nbsp;<span class="ident" id="2406606">verb</span>&nbsp;<span class="builtintype" id="2406611">rune</span><span class="op" id="2406615">)</span>&nbsp;<span class="op" id="2406617">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406620">if</span>&nbsp;<span class="ident" id="2406623">err</span>&nbsp;<span class="op" id="2406627">:=</span>&nbsp;<span class="builtinfunc" id="2406630">recover</span><span class="op" id="2406637">(</span><span class="op" id="2406638">)</span><span class="op" id="2406639">;</span>&nbsp;<span class="ident" id="2406641">err</span>&nbsp;<span class="op" id="2406645">!=</span>&nbsp;<span class="ident" id="2406648">nil</span>&nbsp;<span class="op" id="2406652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406656">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406729">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406798">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406865">if</span>&nbsp;<span class="ident" id="2406868">v</span>&nbsp;<span class="op" id="2406870">:=</span>&nbsp;<span class="ident" id="2406873">reflect</span><span class="op" id="2406880">.</span><span class="ident" id="2406881">ValueOf</span><span class="op" id="2406888">(</span><span class="ident" id="2406889">arg</span><span class="op" id="2406892">)</span><span class="op" id="2406893">;</span>&nbsp;<span class="ident" id="2406895">v</span><span class="op" id="2406896">.</span><span class="ident" id="2406897">Kind</span><span class="op" id="2406901">(</span><span class="op" id="2406902">)</span>&nbsp;<span class="op" id="2406904">==</span>&nbsp;<span class="ident" id="2406907">reflect</span><span class="op" id="2406914">.</span><span class="ident" id="2406915">Ptr</span>&nbsp;<span class="op" id="2406919">&amp;&amp;</span>&nbsp;<span class="ident" id="2406922">v</span><span class="op" id="2406923">.</span><span class="ident" id="2406924">IsNil</span><span class="op" id="2406929">(</span><span class="op" id="2406930">)</span>&nbsp;<span class="op" id="2406932">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406937">p</span><span class="op" id="2406938">.</span><span class="ident" id="2406939">buf</span><span class="op" id="2406942">.</span><span class="ident" id="2406943">Write</span><span class="op" id="2406948">(</span><span class="ident" id="2406949">nilAngleBytes</span><span class="op" id="2406962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406967">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2406976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406980">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2407053">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407090">if</span>&nbsp;<span class="ident" id="2407093">p</span><span class="op" id="2407094">.</span><span class="ident" id="2407095">panicking</span>&nbsp;<span class="op" id="2407105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2407110">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2407173">panic</span><span class="op" id="2407178">(</span><span class="ident" id="2407179">err</span><span class="op" id="2407182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2407186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407190">p</span><span class="op" id="2407191">.</span><span class="ident" id="2407192">fmt</span><span class="op" id="2407195">.</span><span class="ident" id="2407196">clearflags</span><span class="op" id="2407206">(</span><span class="op" id="2407207">)</span>&nbsp;<span class="comment" id="2407209">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407273">p</span><span class="op" id="2407274">.</span><span class="ident" id="2407275">buf</span><span class="op" id="2407278">.</span><span class="ident" id="2407279">Write</span><span class="op" id="2407284">(</span><span class="ident" id="2407285">percentBangBytes</span><span class="op" id="2407301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407305">p</span><span class="op" id="2407306">.</span><span class="ident" id="2407307">add</span><span class="op" id="2407310">(</span><span class="ident" id="2407311">verb</span><span class="op" id="2407315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407319">p</span><span class="op" id="2407320">.</span><span class="ident" id="2407321">buf</span><span class="op" id="2407324">.</span><span class="ident" id="2407325">Write</span><span class="op" id="2407330">(</span><span class="ident" id="2407331">panicBytes</span><span class="op" id="2407341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407345">p</span><span class="op" id="2407346">.</span><span class="ident" id="2407347">panicking</span>&nbsp;<span class="op" id="2407357">=</span>&nbsp;<span class="builtintype" id="2407359">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407366">p</span><span class="op" id="2407367">.</span><span class="ident" id="2407368">printArg</span><span class="op" id="2407376">(</span><span class="ident" id="2407377">err</span><span class="op" id="2407380">,</span>&nbsp;<span class="string" id="2407382">&#39;v&#39;</span><span class="op" id="2407385">,</span>&nbsp;<span class="num" id="2407387">0</span><span class="op" id="2407388">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407392">p</span><span class="op" id="2407393">.</span><span class="ident" id="2407394">panicking</span>&nbsp;<span class="op" id="2407404">=</span>&nbsp;<span class="builtintype" id="2407406">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407414">p</span><span class="op" id="2407415">.</span><span class="ident" id="2407416">buf</span><span class="op" id="2407419">.</span><span class="ident" id="2407420">WriteByte</span><span class="op" id="2407429">(</span><span class="string" id="2407430">&#39;)&#39;</span><span class="op" id="2407433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2407436">}</span><br>
<span class="lineno"></span><span class="op" id="2407438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2407441">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2407530">func</span>&nbsp;<span class="op" id="2407535">(</span><span class="ident" id="2407536">p</span>&nbsp;<span class="op" id="2407538">*</span><span class="ident" id="2407539">pp</span><span class="op" id="2407541">)</span>&nbsp;<span class="ident" id="2407543">clearSpecialFlags</span><span class="op" id="2407560">(</span><span class="op" id="2407561">)</span>&nbsp;<span class="op" id="2407563">(</span><span class="ident" id="2407564">plusV</span><span class="op" id="2407569">,</span>&nbsp;<span class="ident" id="2407571">sharpV</span>&nbsp;<span class="builtintype" id="2407578">bool</span><span class="op" id="2407582">)</span>&nbsp;<span class="op" id="2407584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407587">plusV</span>&nbsp;<span class="op" id="2407593">=</span>&nbsp;<span class="ident" id="2407595">p</span><span class="op" id="2407596">.</span><span class="ident" id="2407597">fmt</span><span class="op" id="2407600">.</span><span class="ident" id="2407601">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407608">if</span>&nbsp;<span class="ident" id="2407611">plusV</span>&nbsp;<span class="op" id="2407617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407621">p</span><span class="op" id="2407622">.</span><span class="ident" id="2407623">fmt</span><span class="op" id="2407626">.</span><span class="ident" id="2407627">plus</span>&nbsp;<span class="op" id="2407632">=</span>&nbsp;<span class="builtintype" id="2407634">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407641">p</span><span class="op" id="2407642">.</span><span class="ident" id="2407643">fmt</span><span class="op" id="2407646">.</span><span class="ident" id="2407647">plusV</span>&nbsp;<span class="op" id="2407653">=</span>&nbsp;<span class="builtintype" id="2407655">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2407662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407665">sharpV</span>&nbsp;<span class="op" id="2407672">=</span>&nbsp;<span class="ident" id="2407674">p</span><span class="op" id="2407675">.</span><span class="ident" id="2407676">fmt</span><span class="op" id="2407679">.</span><span class="ident" id="2407680">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407688">if</span>&nbsp;<span class="ident" id="2407691">sharpV</span>&nbsp;<span class="op" id="2407698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407702">p</span><span class="op" id="2407703">.</span><span class="ident" id="2407704">fmt</span><span class="op" id="2407707">.</span><span class="ident" id="2407708">sharp</span>&nbsp;<span class="op" id="2407714">=</span>&nbsp;<span class="builtintype" id="2407716">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407723">p</span><span class="op" id="2407724">.</span><span class="ident" id="2407725">fmt</span><span class="op" id="2407728">.</span><span class="ident" id="2407729">sharpV</span>&nbsp;<span class="op" id="2407736">=</span>&nbsp;<span class="builtintype" id="2407738">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2407745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407748">return</span><br>
<span class="lineno"></span><span class="op" id="2407755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2407758">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2407836">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2407891">func</span>&nbsp;<span class="op" id="2407896">(</span><span class="ident" id="2407897">p</span>&nbsp;<span class="op" id="2407899">*</span><span class="ident" id="2407900">pp</span><span class="op" id="2407902">)</span>&nbsp;<span class="ident" id="2407904">restoreSpecialFlags</span><span class="op" id="2407923">(</span><span class="ident" id="2407924">plusV</span><span class="op" id="2407929">,</span>&nbsp;<span class="ident" id="2407931">sharpV</span>&nbsp;<span class="builtintype" id="2407938">bool</span><span class="op" id="2407942">)</span>&nbsp;<span class="op" id="2407944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407947">if</span>&nbsp;<span class="ident" id="2407950">plusV</span>&nbsp;<span class="op" id="2407956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407960">p</span><span class="op" id="2407961">.</span><span class="ident" id="2407962">fmt</span><span class="op" id="2407965">.</span><span class="ident" id="2407966">plus</span>&nbsp;<span class="op" id="2407971">=</span>&nbsp;<span class="builtintype" id="2407973">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407981">p</span><span class="op" id="2407982">.</span><span class="ident" id="2407983">fmt</span><span class="op" id="2407986">.</span><span class="ident" id="2407987">plusV</span>&nbsp;<span class="op" id="2407993">=</span>&nbsp;<span class="builtintype" id="2407995">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408004">if</span>&nbsp;<span class="ident" id="2408007">sharpV</span>&nbsp;<span class="op" id="2408014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408018">p</span><span class="op" id="2408019">.</span><span class="ident" id="2408020">fmt</span><span class="op" id="2408023">.</span><span class="ident" id="2408024">sharp</span>&nbsp;<span class="op" id="2408030">=</span>&nbsp;<span class="builtintype" id="2408032">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408040">p</span><span class="op" id="2408041">.</span><span class="ident" id="2408042">fmt</span><span class="op" id="2408045">.</span><span class="ident" id="2408046">sharpV</span>&nbsp;<span class="op" id="2408053">=</span>&nbsp;<span class="builtintype" id="2408055">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408061">}</span><br>
<span class="lineno"></span><span class="op" id="2408063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2408066">func</span>&nbsp;<span class="op" id="2408071">(</span><span class="ident" id="2408072">p</span>&nbsp;<span class="op" id="2408074">*</span><span class="ident" id="2408075">pp</span><span class="op" id="2408077">)</span>&nbsp;<span class="ident" id="2408079">handleMethods</span><span class="op" id="2408092">(</span><span class="ident" id="2408093">verb</span>&nbsp;<span class="builtintype" id="2408098">rune</span><span class="op" id="2408102">,</span>&nbsp;<span class="ident" id="2408104">depth</span>&nbsp;<span class="builtintype" id="2408110">int</span><span class="op" id="2408113">)</span>&nbsp;<span class="op" id="2408115">(</span><span class="ident" id="2408116">handled</span>&nbsp;<span class="builtintype" id="2408124">bool</span><span class="op" id="2408128">)</span>&nbsp;<span class="op" id="2408130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408133">if</span>&nbsp;<span class="ident" id="2408136">p</span><span class="op" id="2408137">.</span><span class="ident" id="2408138">erroring</span>&nbsp;<span class="op" id="2408147">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408151">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2408162">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408185">if</span>&nbsp;<span class="ident" id="2408188">formatter</span><span class="op" id="2408197">,</span>&nbsp;<span class="ident" id="2408199">ok</span>&nbsp;<span class="op" id="2408202">:=</span>&nbsp;<span class="ident" id="2408205">p</span><span class="op" id="2408206">.</span><span class="ident" id="2408207">arg</span><span class="op" id="2408210">.</span><span class="op" id="2408211">(</span><span class="ident" id="2408212">Formatter</span><span class="op" id="2408221">)</span><span class="op" id="2408222">;</span>&nbsp;<span class="ident" id="2408224">ok</span>&nbsp;<span class="op" id="2408227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408231">handled</span>&nbsp;<span class="op" id="2408239">=</span>&nbsp;<span class="builtintype" id="2408241">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408248">defer</span>&nbsp;<span class="ident" id="2408254">p</span><span class="op" id="2408255">.</span><span class="ident" id="2408256">restoreSpecialFlags</span><span class="op" id="2408275">(</span><span class="ident" id="2408276">p</span><span class="op" id="2408277">.</span><span class="ident" id="2408278">clearSpecialFlags</span><span class="op" id="2408295">(</span><span class="op" id="2408296">)</span><span class="op" id="2408297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408301">defer</span>&nbsp;<span class="ident" id="2408307">p</span><span class="op" id="2408308">.</span><span class="ident" id="2408309">catchPanic</span><span class="op" id="2408319">(</span><span class="ident" id="2408320">p</span><span class="op" id="2408321">.</span><span class="ident" id="2408322">arg</span><span class="op" id="2408325">,</span>&nbsp;<span class="ident" id="2408327">verb</span><span class="op" id="2408331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408335">formatter</span><span class="op" id="2408344">.</span><span class="ident" id="2408345">Format</span><span class="op" id="2408351">(</span><span class="ident" id="2408352">p</span><span class="op" id="2408353">,</span>&nbsp;<span class="ident" id="2408355">verb</span><span class="op" id="2408359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408363">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408371">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2408375">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408466">if</span>&nbsp;<span class="ident" id="2408469">p</span><span class="op" id="2408470">.</span><span class="ident" id="2408471">fmt</span><span class="op" id="2408474">.</span><span class="ident" id="2408475">sharpV</span>&nbsp;<span class="op" id="2408482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408486">if</span>&nbsp;<span class="ident" id="2408489">stringer</span><span class="op" id="2408497">,</span>&nbsp;<span class="ident" id="2408499">ok</span>&nbsp;<span class="op" id="2408502">:=</span>&nbsp;<span class="ident" id="2408505">p</span><span class="op" id="2408506">.</span><span class="ident" id="2408507">arg</span><span class="op" id="2408510">.</span><span class="op" id="2408511">(</span><span class="ident" id="2408512">GoStringer</span><span class="op" id="2408522">)</span><span class="op" id="2408523">;</span>&nbsp;<span class="ident" id="2408525">ok</span>&nbsp;<span class="op" id="2408528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408533">handled</span>&nbsp;<span class="op" id="2408541">=</span>&nbsp;<span class="builtintype" id="2408543">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408551">defer</span>&nbsp;<span class="ident" id="2408557">p</span><span class="op" id="2408558">.</span><span class="ident" id="2408559">catchPanic</span><span class="op" id="2408569">(</span><span class="ident" id="2408570">p</span><span class="op" id="2408571">.</span><span class="ident" id="2408572">arg</span><span class="op" id="2408575">,</span>&nbsp;<span class="ident" id="2408577">verb</span><span class="op" id="2408581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2408586">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408632">p</span><span class="op" id="2408633">.</span><span class="ident" id="2408634">fmt</span><span class="op" id="2408637">.</span><span class="ident" id="2408638">fmt_s</span><span class="op" id="2408643">(</span><span class="ident" id="2408644">stringer</span><span class="op" id="2408652">.</span><span class="ident" id="2408653">GoString</span><span class="op" id="2408661">(</span><span class="op" id="2408662">)</span><span class="op" id="2408663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408668">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408677">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408680">}</span>&nbsp;<span class="keyword" id="2408682">else</span>&nbsp;<span class="op" id="2408687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2408691">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2408754">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2408816">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408873">switch</span>&nbsp;<span class="ident" id="2408880">verb</span>&nbsp;<span class="op" id="2408885">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408889">case</span>&nbsp;<span class="string" id="2408894">&#39;v&#39;</span><span class="op" id="2408897">,</span>&nbsp;<span class="string" id="2408899">&#39;s&#39;</span><span class="op" id="2408902">,</span>&nbsp;<span class="string" id="2408904">&#39;x&#39;</span><span class="op" id="2408907">,</span>&nbsp;<span class="string" id="2408909">&#39;X&#39;</span><span class="op" id="2408912">,</span>&nbsp;<span class="string" id="2408914">&#39;q&#39;</span><span class="op" id="2408917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2408922">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2408956">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409006">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409053">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409098">switch</span>&nbsp;<span class="ident" id="2409105">v</span>&nbsp;<span class="op" id="2409107">:=</span>&nbsp;<span class="ident" id="2409110">p</span><span class="op" id="2409111">.</span><span class="ident" id="2409112">arg</span><span class="op" id="2409115">.</span><span class="op" id="2409116">(</span><span class="keyword" id="2409117">type</span><span class="op" id="2409121">)</span>&nbsp;<span class="op" id="2409123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409128">case</span>&nbsp;<span class="builtintype" id="2409133">error</span><span class="op" id="2409138">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409144">handled</span>&nbsp;<span class="op" id="2409152">=</span>&nbsp;<span class="builtintype" id="2409154">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409163">defer</span>&nbsp;<span class="ident" id="2409169">p</span><span class="op" id="2409170">.</span><span class="ident" id="2409171">catchPanic</span><span class="op" id="2409181">(</span><span class="ident" id="2409182">p</span><span class="op" id="2409183">.</span><span class="ident" id="2409184">arg</span><span class="op" id="2409187">,</span>&nbsp;<span class="ident" id="2409189">verb</span><span class="op" id="2409193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409199">p</span><span class="op" id="2409200">.</span><span class="ident" id="2409201">printArg</span><span class="op" id="2409209">(</span><span class="ident" id="2409210">v</span><span class="op" id="2409211">.</span><span class="ident" id="2409212">Error</span><span class="op" id="2409217">(</span><span class="op" id="2409218">)</span><span class="op" id="2409219">,</span>&nbsp;<span class="ident" id="2409221">verb</span><span class="op" id="2409225">,</span>&nbsp;<span class="ident" id="2409227">depth</span><span class="op" id="2409232">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409238">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409249">case</span>&nbsp;<span class="ident" id="2409254">Stringer</span><span class="op" id="2409262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409268">handled</span>&nbsp;<span class="op" id="2409276">=</span>&nbsp;<span class="builtintype" id="2409278">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409287">defer</span>&nbsp;<span class="ident" id="2409293">p</span><span class="op" id="2409294">.</span><span class="ident" id="2409295">catchPanic</span><span class="op" id="2409305">(</span><span class="ident" id="2409306">p</span><span class="op" id="2409307">.</span><span class="ident" id="2409308">arg</span><span class="op" id="2409311">,</span>&nbsp;<span class="ident" id="2409313">verb</span><span class="op" id="2409317">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409323">p</span><span class="op" id="2409324">.</span><span class="ident" id="2409325">printArg</span><span class="op" id="2409333">(</span><span class="ident" id="2409334">v</span><span class="op" id="2409335">.</span><span class="ident" id="2409336">String</span><span class="op" id="2409342">(</span><span class="op" id="2409343">)</span><span class="op" id="2409344">,</span>&nbsp;<span class="ident" id="2409346">verb</span><span class="op" id="2409350">,</span>&nbsp;<span class="ident" id="2409352">depth</span><span class="op" id="2409357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409363">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409380">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409383">return</span>&nbsp;<span class="builtintype" id="2409390">false</span><br>
<span class="lineno"></span><span class="op" id="2409396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2409399">func</span>&nbsp;<span class="op" id="2409404">(</span><span class="ident" id="2409405">p</span>&nbsp;<span class="op" id="2409407">*</span><span class="ident" id="2409408">pp</span><span class="op" id="2409410">)</span>&nbsp;<span class="ident" id="2409412">printArg</span><span class="op" id="2409420">(</span><span class="ident" id="2409421">arg</span>&nbsp;<span class="keyword" id="2409425">interface</span><span class="op" id="2409434">{</span><span class="op" id="2409435">}</span><span class="op" id="2409436">,</span>&nbsp;<span class="ident" id="2409438">verb</span>&nbsp;<span class="builtintype" id="2409443">rune</span><span class="op" id="2409447">,</span>&nbsp;<span class="ident" id="2409449">depth</span>&nbsp;<span class="builtintype" id="2409455">int</span><span class="op" id="2409458">)</span>&nbsp;<span class="op" id="2409460">(</span><span class="ident" id="2409461">wasString</span>&nbsp;<span class="builtintype" id="2409471">bool</span><span class="op" id="2409475">)</span>&nbsp;<span class="op" id="2409477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409480">p</span><span class="op" id="2409481">.</span><span class="ident" id="2409482">arg</span>&nbsp;<span class="op" id="2409486">=</span>&nbsp;<span class="ident" id="2409488">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409493">p</span><span class="op" id="2409494">.</span><span class="ident" id="2409495">value</span>&nbsp;<span class="op" id="2409501">=</span>&nbsp;<span class="ident" id="2409503">reflect</span><span class="op" id="2409510">.</span><span class="ident" id="2409511">Value</span><span class="op" id="2409516">{</span><span class="op" id="2409517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409521">if</span>&nbsp;<span class="ident" id="2409524">arg</span>&nbsp;<span class="op" id="2409528">==</span>&nbsp;<span class="ident" id="2409531">nil</span>&nbsp;<span class="op" id="2409535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409539">if</span>&nbsp;<span class="ident" id="2409542">verb</span>&nbsp;<span class="op" id="2409547">==</span>&nbsp;<span class="string" id="2409550">&#39;T&#39;</span>&nbsp;<span class="op" id="2409554">||</span>&nbsp;<span class="ident" id="2409557">verb</span>&nbsp;<span class="op" id="2409562">==</span>&nbsp;<span class="string" id="2409565">&#39;v&#39;</span>&nbsp;<span class="op" id="2409569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409574">p</span><span class="op" id="2409575">.</span><span class="ident" id="2409576">fmt</span><span class="op" id="2409579">.</span><span class="ident" id="2409580">pad</span><span class="op" id="2409583">(</span><span class="ident" id="2409584">nilAngleBytes</span><span class="op" id="2409597">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409601">}</span>&nbsp;<span class="keyword" id="2409603">else</span>&nbsp;<span class="op" id="2409608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409613">p</span><span class="op" id="2409614">.</span><span class="ident" id="2409615">badVerb</span><span class="op" id="2409622">(</span><span class="ident" id="2409623">verb</span><span class="op" id="2409627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409635">return</span>&nbsp;<span class="builtintype" id="2409642">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409649">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409653">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409692">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409777">switch</span>&nbsp;<span class="ident" id="2409784">verb</span>&nbsp;<span class="op" id="2409789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409792">case</span>&nbsp;<span class="string" id="2409797">&#39;T&#39;</span><span class="op" id="2409800">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409804">p</span><span class="op" id="2409805">.</span><span class="ident" id="2409806">printArg</span><span class="op" id="2409814">(</span><span class="ident" id="2409815">reflect</span><span class="op" id="2409822">.</span><span class="ident" id="2409823">TypeOf</span><span class="op" id="2409829">(</span><span class="ident" id="2409830">arg</span><span class="op" id="2409833">)</span><span class="op" id="2409834">.</span><span class="ident" id="2409835">String</span><span class="op" id="2409841">(</span><span class="op" id="2409842">)</span><span class="op" id="2409843">,</span>&nbsp;<span class="string" id="2409845">&#39;s&#39;</span><span class="op" id="2409848">,</span>&nbsp;<span class="num" id="2409850">0</span><span class="op" id="2409851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409855">return</span>&nbsp;<span class="builtintype" id="2409862">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409869">case</span>&nbsp;<span class="string" id="2409874">&#39;p&#39;</span><span class="op" id="2409877">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409881">p</span><span class="op" id="2409882">.</span><span class="ident" id="2409883">fmtPointer</span><span class="op" id="2409893">(</span><span class="ident" id="2409894">reflect</span><span class="op" id="2409901">.</span><span class="ident" id="2409902">ValueOf</span><span class="op" id="2409909">(</span><span class="ident" id="2409910">arg</span><span class="op" id="2409913">)</span><span class="op" id="2409914">,</span>&nbsp;<span class="ident" id="2409916">verb</span><span class="op" id="2409920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409924">return</span>&nbsp;<span class="builtintype" id="2409931">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2409942">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409989">switch</span>&nbsp;<span class="ident" id="2409996">f</span>&nbsp;<span class="op" id="2409998">:=</span>&nbsp;<span class="ident" id="2410001">arg</span><span class="op" id="2410004">.</span><span class="op" id="2410005">(</span><span class="keyword" id="2410006">type</span><span class="op" id="2410010">)</span>&nbsp;<span class="op" id="2410012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410015">case</span>&nbsp;<span class="builtintype" id="2410020">bool</span><span class="op" id="2410024">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410028">p</span><span class="op" id="2410029">.</span><span class="ident" id="2410030">fmtBool</span><span class="op" id="2410037">(</span><span class="ident" id="2410038">f</span><span class="op" id="2410039">,</span>&nbsp;<span class="ident" id="2410041">verb</span><span class="op" id="2410045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410048">case</span>&nbsp;<span class="builtintype" id="2410053">float32</span><span class="op" id="2410060">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410064">p</span><span class="op" id="2410065">.</span><span class="ident" id="2410066">fmtFloat32</span><span class="op" id="2410076">(</span><span class="ident" id="2410077">f</span><span class="op" id="2410078">,</span>&nbsp;<span class="ident" id="2410080">verb</span><span class="op" id="2410084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410087">case</span>&nbsp;<span class="builtintype" id="2410092">float64</span><span class="op" id="2410099">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410103">p</span><span class="op" id="2410104">.</span><span class="ident" id="2410105">fmtFloat64</span><span class="op" id="2410115">(</span><span class="ident" id="2410116">f</span><span class="op" id="2410117">,</span>&nbsp;<span class="ident" id="2410119">verb</span><span class="op" id="2410123">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410126">case</span>&nbsp;<span class="builtintype" id="2410131">complex64</span><span class="op" id="2410140">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410144">p</span><span class="op" id="2410145">.</span><span class="ident" id="2410146">fmtComplex64</span><span class="op" id="2410158">(</span><span class="ident" id="2410159">f</span><span class="op" id="2410160">,</span>&nbsp;<span class="ident" id="2410162">verb</span><span class="op" id="2410166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410169">case</span>&nbsp;<span class="builtintype" id="2410174">complex128</span><span class="op" id="2410184">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410188">p</span><span class="op" id="2410189">.</span><span class="ident" id="2410190">fmtComplex128</span><span class="op" id="2410203">(</span><span class="ident" id="2410204">f</span><span class="op" id="2410205">,</span>&nbsp;<span class="ident" id="2410207">verb</span><span class="op" id="2410211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410214">case</span>&nbsp;<span class="builtintype" id="2410219">int</span><span class="op" id="2410222">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410226">p</span><span class="op" id="2410227">.</span><span class="ident" id="2410228">fmtInt64</span><span class="op" id="2410236">(</span><span class="ident" id="2410237">int64</span><span class="op" id="2410242">(</span><span class="ident" id="2410243">f</span><span class="op" id="2410244">)</span><span class="op" id="2410245">,</span>&nbsp;<span class="ident" id="2410247">verb</span><span class="op" id="2410251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410254">case</span>&nbsp;<span class="builtintype" id="2410259">int8</span><span class="op" id="2410263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410267">p</span><span class="op" id="2410268">.</span><span class="ident" id="2410269">fmtInt64</span><span class="op" id="2410277">(</span><span class="ident" id="2410278">int64</span><span class="op" id="2410283">(</span><span class="ident" id="2410284">f</span><span class="op" id="2410285">)</span><span class="op" id="2410286">,</span>&nbsp;<span class="ident" id="2410288">verb</span><span class="op" id="2410292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410295">case</span>&nbsp;<span class="builtintype" id="2410300">int16</span><span class="op" id="2410305">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410309">p</span><span class="op" id="2410310">.</span><span class="ident" id="2410311">fmtInt64</span><span class="op" id="2410319">(</span><span class="ident" id="2410320">int64</span><span class="op" id="2410325">(</span><span class="ident" id="2410326">f</span><span class="op" id="2410327">)</span><span class="op" id="2410328">,</span>&nbsp;<span class="ident" id="2410330">verb</span><span class="op" id="2410334">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410337">case</span>&nbsp;<span class="builtintype" id="2410342">int32</span><span class="op" id="2410347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410351">p</span><span class="op" id="2410352">.</span><span class="ident" id="2410353">fmtInt64</span><span class="op" id="2410361">(</span><span class="ident" id="2410362">int64</span><span class="op" id="2410367">(</span><span class="ident" id="2410368">f</span><span class="op" id="2410369">)</span><span class="op" id="2410370">,</span>&nbsp;<span class="ident" id="2410372">verb</span><span class="op" id="2410376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410379">case</span>&nbsp;<span class="ident" id="2410384">int64</span><span class="op" id="2410389">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410393">p</span><span class="op" id="2410394">.</span><span class="ident" id="2410395">fmtInt64</span><span class="op" id="2410403">(</span><span class="ident" id="2410404">f</span><span class="op" id="2410405">,</span>&nbsp;<span class="ident" id="2410407">verb</span><span class="op" id="2410411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410414">case</span>&nbsp;<span class="builtintype" id="2410419">uint</span><span class="op" id="2410423">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410427">p</span><span class="op" id="2410428">.</span><span class="ident" id="2410429">fmtUint64</span><span class="op" id="2410438">(</span><span class="ident" id="2410439">uint64</span><span class="op" id="2410445">(</span><span class="ident" id="2410446">f</span><span class="op" id="2410447">)</span><span class="op" id="2410448">,</span>&nbsp;<span class="ident" id="2410450">verb</span><span class="op" id="2410454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410457">case</span>&nbsp;<span class="builtintype" id="2410462">uint8</span><span class="op" id="2410467">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410471">p</span><span class="op" id="2410472">.</span><span class="ident" id="2410473">fmtUint64</span><span class="op" id="2410482">(</span><span class="ident" id="2410483">uint64</span><span class="op" id="2410489">(</span><span class="ident" id="2410490">f</span><span class="op" id="2410491">)</span><span class="op" id="2410492">,</span>&nbsp;<span class="ident" id="2410494">verb</span><span class="op" id="2410498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410501">case</span>&nbsp;<span class="builtintype" id="2410506">uint16</span><span class="op" id="2410512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410516">p</span><span class="op" id="2410517">.</span><span class="ident" id="2410518">fmtUint64</span><span class="op" id="2410527">(</span><span class="ident" id="2410528">uint64</span><span class="op" id="2410534">(</span><span class="ident" id="2410535">f</span><span class="op" id="2410536">)</span><span class="op" id="2410537">,</span>&nbsp;<span class="ident" id="2410539">verb</span><span class="op" id="2410543">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410546">case</span>&nbsp;<span class="builtintype" id="2410551">uint32</span><span class="op" id="2410557">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410561">p</span><span class="op" id="2410562">.</span><span class="ident" id="2410563">fmtUint64</span><span class="op" id="2410572">(</span><span class="ident" id="2410573">uint64</span><span class="op" id="2410579">(</span><span class="ident" id="2410580">f</span><span class="op" id="2410581">)</span><span class="op" id="2410582">,</span>&nbsp;<span class="ident" id="2410584">verb</span><span class="op" id="2410588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410591">case</span>&nbsp;<span class="ident" id="2410596">uint64</span><span class="op" id="2410602">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410606">p</span><span class="op" id="2410607">.</span><span class="ident" id="2410608">fmtUint64</span><span class="op" id="2410617">(</span><span class="ident" id="2410618">f</span><span class="op" id="2410619">,</span>&nbsp;<span class="ident" id="2410621">verb</span><span class="op" id="2410625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410628">case</span>&nbsp;<span class="builtintype" id="2410633">uintptr</span><span class="op" id="2410640">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410644">p</span><span class="op" id="2410645">.</span><span class="ident" id="2410646">fmtUint64</span><span class="op" id="2410655">(</span><span class="ident" id="2410656">uint64</span><span class="op" id="2410662">(</span><span class="ident" id="2410663">f</span><span class="op" id="2410664">)</span><span class="op" id="2410665">,</span>&nbsp;<span class="ident" id="2410667">verb</span><span class="op" id="2410671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410674">case</span>&nbsp;<span class="builtintype" id="2410679">string</span><span class="op" id="2410685">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410689">p</span><span class="op" id="2410690">.</span><span class="ident" id="2410691">fmtString</span><span class="op" id="2410700">(</span><span class="ident" id="2410701">f</span><span class="op" id="2410702">,</span>&nbsp;<span class="ident" id="2410704">verb</span><span class="op" id="2410708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410712">wasString</span>&nbsp;<span class="op" id="2410722">=</span>&nbsp;<span class="ident" id="2410724">verb</span>&nbsp;<span class="op" id="2410729">==</span>&nbsp;<span class="string" id="2410732">&#39;s&#39;</span>&nbsp;<span class="op" id="2410736">||</span>&nbsp;<span class="ident" id="2410739">verb</span>&nbsp;<span class="op" id="2410744">==</span>&nbsp;<span class="string" id="2410747">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410752">case</span>&nbsp;<span class="op" id="2410757">[</span><span class="op" id="2410758">]</span><span class="builtintype" id="2410759">byte</span><span class="op" id="2410763">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410767">p</span><span class="op" id="2410768">.</span><span class="ident" id="2410769">fmtBytes</span><span class="op" id="2410777">(</span><span class="ident" id="2410778">f</span><span class="op" id="2410779">,</span>&nbsp;<span class="ident" id="2410781">verb</span><span class="op" id="2410785">,</span>&nbsp;<span class="ident" id="2410787">nil</span><span class="op" id="2410790">,</span>&nbsp;<span class="ident" id="2410792">depth</span><span class="op" id="2410797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410801">wasString</span>&nbsp;<span class="op" id="2410811">=</span>&nbsp;<span class="ident" id="2410813">verb</span>&nbsp;<span class="op" id="2410818">==</span>&nbsp;<span class="string" id="2410821">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410826">default</span><span class="op" id="2410833">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2410837">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410892">if</span>&nbsp;<span class="ident" id="2410895">handled</span>&nbsp;<span class="op" id="2410903">:=</span>&nbsp;<span class="ident" id="2410906">p</span><span class="op" id="2410907">.</span><span class="ident" id="2410908">handleMethods</span><span class="op" id="2410921">(</span><span class="ident" id="2410922">verb</span><span class="op" id="2410926">,</span>&nbsp;<span class="ident" id="2410928">depth</span><span class="op" id="2410933">)</span><span class="op" id="2410934">;</span>&nbsp;<span class="ident" id="2410936">handled</span>&nbsp;<span class="op" id="2410944">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410949">return</span>&nbsp;<span class="builtintype" id="2410956">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2410968">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410996">return</span>&nbsp;<span class="ident" id="2411003">p</span><span class="op" id="2411004">.</span><span class="ident" id="2411005">printReflectValue</span><span class="op" id="2411022">(</span><span class="ident" id="2411023">reflect</span><span class="op" id="2411030">.</span><span class="ident" id="2411031">ValueOf</span><span class="op" id="2411038">(</span><span class="ident" id="2411039">arg</span><span class="op" id="2411042">)</span><span class="op" id="2411043">,</span>&nbsp;<span class="ident" id="2411045">verb</span><span class="op" id="2411049">,</span>&nbsp;<span class="ident" id="2411051">depth</span><span class="op" id="2411056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411059">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411062">p</span><span class="op" id="2411063">.</span><span class="ident" id="2411064">arg</span>&nbsp;<span class="op" id="2411068">=</span>&nbsp;<span class="ident" id="2411070">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411075">return</span><br>
<span class="lineno"></span><span class="op" id="2411082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2411085">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2411175">func</span>&nbsp;<span class="op" id="2411180">(</span><span class="ident" id="2411181">p</span>&nbsp;<span class="op" id="2411183">*</span><span class="ident" id="2411184">pp</span><span class="op" id="2411186">)</span>&nbsp;<span class="ident" id="2411188">printValue</span><span class="op" id="2411198">(</span><span class="ident" id="2411199">value</span>&nbsp;<span class="ident" id="2411205">reflect</span><span class="op" id="2411212">.</span><span class="ident" id="2411213">Value</span><span class="op" id="2411218">,</span>&nbsp;<span class="ident" id="2411220">verb</span>&nbsp;<span class="builtintype" id="2411225">rune</span><span class="op" id="2411229">,</span>&nbsp;<span class="ident" id="2411231">depth</span>&nbsp;<span class="builtintype" id="2411237">int</span><span class="op" id="2411240">)</span>&nbsp;<span class="op" id="2411242">(</span><span class="ident" id="2411243">wasString</span>&nbsp;<span class="builtintype" id="2411253">bool</span><span class="op" id="2411257">)</span>&nbsp;<span class="op" id="2411259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411262">if</span>&nbsp;<span class="op" id="2411265">!</span><span class="ident" id="2411266">value</span><span class="op" id="2411271">.</span><span class="ident" id="2411272">IsValid</span><span class="op" id="2411279">(</span><span class="op" id="2411280">)</span>&nbsp;<span class="op" id="2411282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411286">if</span>&nbsp;<span class="ident" id="2411289">verb</span>&nbsp;<span class="op" id="2411294">==</span>&nbsp;<span class="string" id="2411297">&#39;T&#39;</span>&nbsp;<span class="op" id="2411301">||</span>&nbsp;<span class="ident" id="2411304">verb</span>&nbsp;<span class="op" id="2411309">==</span>&nbsp;<span class="string" id="2411312">&#39;v&#39;</span>&nbsp;<span class="op" id="2411316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411321">p</span><span class="op" id="2411322">.</span><span class="ident" id="2411323">buf</span><span class="op" id="2411326">.</span><span class="ident" id="2411327">Write</span><span class="op" id="2411332">(</span><span class="ident" id="2411333">nilAngleBytes</span><span class="op" id="2411346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411350">}</span>&nbsp;<span class="keyword" id="2411352">else</span>&nbsp;<span class="op" id="2411357">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411362">p</span><span class="op" id="2411363">.</span><span class="ident" id="2411364">badVerb</span><span class="op" id="2411371">(</span><span class="ident" id="2411372">verb</span><span class="op" id="2411376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411384">return</span>&nbsp;<span class="builtintype" id="2411391">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411402">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411441">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411526">switch</span>&nbsp;<span class="ident" id="2411533">verb</span>&nbsp;<span class="op" id="2411538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411541">case</span>&nbsp;<span class="string" id="2411546">&#39;T&#39;</span><span class="op" id="2411549">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411553">p</span><span class="op" id="2411554">.</span><span class="ident" id="2411555">printArg</span><span class="op" id="2411563">(</span><span class="ident" id="2411564">value</span><span class="op" id="2411569">.</span><span class="ident" id="2411570">Type</span><span class="op" id="2411574">(</span><span class="op" id="2411575">)</span><span class="op" id="2411576">.</span><span class="ident" id="2411577">String</span><span class="op" id="2411583">(</span><span class="op" id="2411584">)</span><span class="op" id="2411585">,</span>&nbsp;<span class="string" id="2411587">&#39;s&#39;</span><span class="op" id="2411590">,</span>&nbsp;<span class="num" id="2411592">0</span><span class="op" id="2411593">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411597">return</span>&nbsp;<span class="builtintype" id="2411604">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411611">case</span>&nbsp;<span class="string" id="2411616">&#39;p&#39;</span><span class="op" id="2411619">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411623">p</span><span class="op" id="2411624">.</span><span class="ident" id="2411625">fmtPointer</span><span class="op" id="2411635">(</span><span class="ident" id="2411636">value</span><span class="op" id="2411641">,</span>&nbsp;<span class="ident" id="2411643">verb</span><span class="op" id="2411647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411651">return</span>&nbsp;<span class="builtintype" id="2411658">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411665">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411669">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2411709">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411796">p</span><span class="op" id="2411797">.</span><span class="ident" id="2411798">arg</span>&nbsp;<span class="op" id="2411802">=</span>&nbsp;<span class="ident" id="2411804">nil</span>&nbsp;<span class="comment" id="2411808">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411848">if</span>&nbsp;<span class="ident" id="2411851">value</span><span class="op" id="2411856">.</span><span class="ident" id="2411857">CanInterface</span><span class="op" id="2411869">(</span><span class="op" id="2411870">)</span>&nbsp;<span class="op" id="2411872">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411876">p</span><span class="op" id="2411877">.</span><span class="ident" id="2411878">arg</span>&nbsp;<span class="op" id="2411882">=</span>&nbsp;<span class="ident" id="2411884">value</span><span class="op" id="2411889">.</span><span class="ident" id="2411890">Interface</span><span class="op" id="2411899">(</span><span class="op" id="2411900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411906">if</span>&nbsp;<span class="ident" id="2411909">handled</span>&nbsp;<span class="op" id="2411917">:=</span>&nbsp;<span class="ident" id="2411920">p</span><span class="op" id="2411921">.</span><span class="ident" id="2411922">handleMethods</span><span class="op" id="2411935">(</span><span class="ident" id="2411936">verb</span><span class="op" id="2411940">,</span>&nbsp;<span class="ident" id="2411942">depth</span><span class="op" id="2411947">)</span><span class="op" id="2411948">;</span>&nbsp;<span class="ident" id="2411950">handled</span>&nbsp;<span class="op" id="2411958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411962">return</span>&nbsp;<span class="builtintype" id="2411969">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411976">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411980">return</span>&nbsp;<span class="ident" id="2411987">p</span><span class="op" id="2411988">.</span><span class="ident" id="2411989">printReflectValue</span><span class="op" id="2412006">(</span><span class="ident" id="2412007">value</span><span class="op" id="2412012">,</span>&nbsp;<span class="ident" id="2412014">verb</span><span class="op" id="2412018">,</span>&nbsp;<span class="ident" id="2412020">depth</span><span class="op" id="2412025">)</span><br>
<span class="lineno"></span><span class="op" id="2412027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2412030">var</span>&nbsp;<span class="ident" id="2412034">byteType</span>&nbsp;<span class="op" id="2412043">=</span>&nbsp;<span class="ident" id="2412045">reflect</span><span class="op" id="2412052">.</span><span class="ident" id="2412053">TypeOf</span><span class="op" id="2412059">(</span><span class="builtintype" id="2412060">byte</span><span class="op" id="2412064">(</span><span class="num" id="2412065">0</span><span class="op" id="2412066">)</span><span class="op" id="2412067">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2412070">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2412141">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2412180">func</span>&nbsp;<span class="op" id="2412185">(</span><span class="ident" id="2412186">p</span>&nbsp;<span class="op" id="2412188">*</span><span class="ident" id="2412189">pp</span><span class="op" id="2412191">)</span>&nbsp;<span class="ident" id="2412193">printReflectValue</span><span class="op" id="2412210">(</span><span class="ident" id="2412211">value</span>&nbsp;<span class="ident" id="2412217">reflect</span><span class="op" id="2412224">.</span><span class="ident" id="2412225">Value</span><span class="op" id="2412230">,</span>&nbsp;<span class="ident" id="2412232">verb</span>&nbsp;<span class="builtintype" id="2412237">rune</span><span class="op" id="2412241">,</span>&nbsp;<span class="ident" id="2412243">depth</span>&nbsp;<span class="builtintype" id="2412249">int</span><span class="op" id="2412252">)</span>&nbsp;<span class="op" id="2412254">(</span><span class="ident" id="2412255">wasString</span>&nbsp;<span class="builtintype" id="2412265">bool</span><span class="op" id="2412269">)</span>&nbsp;<span class="op" id="2412271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412274">oldValue</span>&nbsp;<span class="op" id="2412283">:=</span>&nbsp;<span class="ident" id="2412286">p</span><span class="op" id="2412287">.</span><span class="ident" id="2412288">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412295">p</span><span class="op" id="2412296">.</span><span class="ident" id="2412297">value</span>&nbsp;<span class="op" id="2412303">=</span>&nbsp;<span class="ident" id="2412305">value</span><br>
<span class="lineno"></span><span class="ident" id="2412311">BigSwitch</span><span class="op" id="2412320">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412323">switch</span>&nbsp;<span class="ident" id="2412330">f</span>&nbsp;<span class="op" id="2412332">:=</span>&nbsp;<span class="ident" id="2412335">value</span><span class="op" id="2412340">;</span>&nbsp;<span class="ident" id="2412342">f</span><span class="op" id="2412343">.</span><span class="ident" id="2412344">Kind</span><span class="op" id="2412348">(</span><span class="op" id="2412349">)</span>&nbsp;<span class="op" id="2412351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412354">case</span>&nbsp;<span class="ident" id="2412359">reflect</span><span class="op" id="2412366">.</span><span class="ident" id="2412367">Bool</span><span class="op" id="2412371">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412375">p</span><span class="op" id="2412376">.</span><span class="ident" id="2412377">fmtBool</span><span class="op" id="2412384">(</span><span class="ident" id="2412385">f</span><span class="op" id="2412386">.</span><span class="ident" id="2412387">Bool</span><span class="op" id="2412391">(</span><span class="op" id="2412392">)</span><span class="op" id="2412393">,</span>&nbsp;<span class="ident" id="2412395">verb</span><span class="op" id="2412399">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412402">case</span>&nbsp;<span class="ident" id="2412407">reflect</span><span class="op" id="2412414">.</span><span class="ident" id="2412415">Int</span><span class="op" id="2412418">,</span>&nbsp;<span class="ident" id="2412420">reflect</span><span class="op" id="2412427">.</span><span class="ident" id="2412428">Int8</span><span class="op" id="2412432">,</span>&nbsp;<span class="ident" id="2412434">reflect</span><span class="op" id="2412441">.</span><span class="ident" id="2412442">Int16</span><span class="op" id="2412447">,</span>&nbsp;<span class="ident" id="2412449">reflect</span><span class="op" id="2412456">.</span><span class="ident" id="2412457">Int32</span><span class="op" id="2412462">,</span>&nbsp;<span class="ident" id="2412464">reflect</span><span class="op" id="2412471">.</span><span class="ident" id="2412472">Int64</span><span class="op" id="2412477">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412481">p</span><span class="op" id="2412482">.</span><span class="ident" id="2412483">fmtInt64</span><span class="op" id="2412491">(</span><span class="ident" id="2412492">f</span><span class="op" id="2412493">.</span><span class="ident" id="2412494">Int</span><span class="op" id="2412497">(</span><span class="op" id="2412498">)</span><span class="op" id="2412499">,</span>&nbsp;<span class="ident" id="2412501">verb</span><span class="op" id="2412505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412508">case</span>&nbsp;<span class="ident" id="2412513">reflect</span><span class="op" id="2412520">.</span><span class="ident" id="2412521">Uint</span><span class="op" id="2412525">,</span>&nbsp;<span class="ident" id="2412527">reflect</span><span class="op" id="2412534">.</span><span class="ident" id="2412535">Uint8</span><span class="op" id="2412540">,</span>&nbsp;<span class="ident" id="2412542">reflect</span><span class="op" id="2412549">.</span><span class="ident" id="2412550">Uint16</span><span class="op" id="2412556">,</span>&nbsp;<span class="ident" id="2412558">reflect</span><span class="op" id="2412565">.</span><span class="ident" id="2412566">Uint32</span><span class="op" id="2412572">,</span>&nbsp;<span class="ident" id="2412574">reflect</span><span class="op" id="2412581">.</span><span class="ident" id="2412582">Uint64</span><span class="op" id="2412588">,</span>&nbsp;<span class="ident" id="2412590">reflect</span><span class="op" id="2412597">.</span><span class="ident" id="2412598">Uintptr</span><span class="op" id="2412605">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412609">p</span><span class="op" id="2412610">.</span><span class="ident" id="2412611">fmtUint64</span><span class="op" id="2412620">(</span><span class="ident" id="2412621">f</span><span class="op" id="2412622">.</span><span class="ident" id="2412623">Uint</span><span class="op" id="2412627">(</span><span class="op" id="2412628">)</span><span class="op" id="2412629">,</span>&nbsp;<span class="ident" id="2412631">verb</span><span class="op" id="2412635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412638">case</span>&nbsp;<span class="ident" id="2412643">reflect</span><span class="op" id="2412650">.</span><span class="ident" id="2412651">Float32</span><span class="op" id="2412658">,</span>&nbsp;<span class="ident" id="2412660">reflect</span><span class="op" id="2412667">.</span><span class="ident" id="2412668">Float64</span><span class="op" id="2412675">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412679">if</span>&nbsp;<span class="ident" id="2412682">f</span><span class="op" id="2412683">.</span><span class="ident" id="2412684">Type</span><span class="op" id="2412688">(</span><span class="op" id="2412689">)</span><span class="op" id="2412690">.</span><span class="ident" id="2412691">Size</span><span class="op" id="2412695">(</span><span class="op" id="2412696">)</span>&nbsp;<span class="op" id="2412698">==</span>&nbsp;<span class="num" id="2412701">4</span>&nbsp;<span class="op" id="2412703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412708">p</span><span class="op" id="2412709">.</span><span class="ident" id="2412710">fmtFloat32</span><span class="op" id="2412720">(</span><span class="builtintype" id="2412721">float32</span><span class="op" id="2412728">(</span><span class="ident" id="2412729">f</span><span class="op" id="2412730">.</span><span class="ident" id="2412731">Float</span><span class="op" id="2412736">(</span><span class="op" id="2412737">)</span><span class="op" id="2412738">)</span><span class="op" id="2412739">,</span>&nbsp;<span class="ident" id="2412741">verb</span><span class="op" id="2412745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412749">}</span>&nbsp;<span class="keyword" id="2412751">else</span>&nbsp;<span class="op" id="2412756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412761">p</span><span class="op" id="2412762">.</span><span class="ident" id="2412763">fmtFloat64</span><span class="op" id="2412773">(</span><span class="ident" id="2412774">f</span><span class="op" id="2412775">.</span><span class="ident" id="2412776">Float</span><span class="op" id="2412781">(</span><span class="op" id="2412782">)</span><span class="op" id="2412783">,</span>&nbsp;<span class="ident" id="2412785">verb</span><span class="op" id="2412789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412793">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412796">case</span>&nbsp;<span class="ident" id="2412801">reflect</span><span class="op" id="2412808">.</span><span class="ident" id="2412809">Complex64</span><span class="op" id="2412818">,</span>&nbsp;<span class="ident" id="2412820">reflect</span><span class="op" id="2412827">.</span><span class="ident" id="2412828">Complex128</span><span class="op" id="2412838">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412842">if</span>&nbsp;<span class="ident" id="2412845">f</span><span class="op" id="2412846">.</span><span class="ident" id="2412847">Type</span><span class="op" id="2412851">(</span><span class="op" id="2412852">)</span><span class="op" id="2412853">.</span><span class="ident" id="2412854">Size</span><span class="op" id="2412858">(</span><span class="op" id="2412859">)</span>&nbsp;<span class="op" id="2412861">==</span>&nbsp;<span class="num" id="2412864">8</span>&nbsp;<span class="op" id="2412866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412871">p</span><span class="op" id="2412872">.</span><span class="ident" id="2412873">fmtComplex64</span><span class="op" id="2412885">(</span><span class="builtintype" id="2412886">complex64</span><span class="op" id="2412895">(</span><span class="ident" id="2412896">f</span><span class="op" id="2412897">.</span><span class="ident" id="2412898">Complex</span><span class="op" id="2412905">(</span><span class="op" id="2412906">)</span><span class="op" id="2412907">)</span><span class="op" id="2412908">,</span>&nbsp;<span class="ident" id="2412910">verb</span><span class="op" id="2412914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412918">}</span>&nbsp;<span class="keyword" id="2412920">else</span>&nbsp;<span class="op" id="2412925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412930">p</span><span class="op" id="2412931">.</span><span class="ident" id="2412932">fmtComplex128</span><span class="op" id="2412945">(</span><span class="ident" id="2412946">f</span><span class="op" id="2412947">.</span><span class="ident" id="2412948">Complex</span><span class="op" id="2412955">(</span><span class="op" id="2412956">)</span><span class="op" id="2412957">,</span>&nbsp;<span class="ident" id="2412959">verb</span><span class="op" id="2412963">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412970">case</span>&nbsp;<span class="ident" id="2412975">reflect</span><span class="op" id="2412982">.</span><span class="ident" id="2412983">String</span><span class="op" id="2412989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412993">p</span><span class="op" id="2412994">.</span><span class="ident" id="2412995">fmtString</span><span class="op" id="2413004">(</span><span class="ident" id="2413005">f</span><span class="op" id="2413006">.</span><span class="ident" id="2413007">String</span><span class="op" id="2413013">(</span><span class="op" id="2413014">)</span><span class="op" id="2413015">,</span>&nbsp;<span class="ident" id="2413017">verb</span><span class="op" id="2413021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413024">case</span>&nbsp;<span class="ident" id="2413029">reflect</span><span class="op" id="2413036">.</span><span class="ident" id="2413037">Map</span><span class="op" id="2413040">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413044">if</span>&nbsp;<span class="ident" id="2413047">p</span><span class="op" id="2413048">.</span><span class="ident" id="2413049">fmt</span><span class="op" id="2413052">.</span><span class="ident" id="2413053">sharpV</span>&nbsp;<span class="op" id="2413060">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413065">p</span><span class="op" id="2413066">.</span><span class="ident" id="2413067">buf</span><span class="op" id="2413070">.</span><span class="ident" id="2413071">WriteString</span><span class="op" id="2413082">(</span><span class="ident" id="2413083">f</span><span class="op" id="2413084">.</span><span class="ident" id="2413085">Type</span><span class="op" id="2413089">(</span><span class="op" id="2413090">)</span><span class="op" id="2413091">.</span><span class="ident" id="2413092">String</span><span class="op" id="2413098">(</span><span class="op" id="2413099">)</span><span class="op" id="2413100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413105">if</span>&nbsp;<span class="ident" id="2413108">f</span><span class="op" id="2413109">.</span><span class="ident" id="2413110">IsNil</span><span class="op" id="2413115">(</span><span class="op" id="2413116">)</span>&nbsp;<span class="op" id="2413118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413124">p</span><span class="op" id="2413125">.</span><span class="ident" id="2413126">buf</span><span class="op" id="2413129">.</span><span class="ident" id="2413130">WriteString</span><span class="op" id="2413141">(</span><span class="string" id="2413142">&#34;(nil)&#34;</span><span class="op" id="2413149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413155">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413164">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413169">p</span><span class="op" id="2413170">.</span><span class="ident" id="2413171">buf</span><span class="op" id="2413174">.</span><span class="ident" id="2413175">WriteByte</span><span class="op" id="2413184">(</span><span class="string" id="2413185">&#39;{&#39;</span><span class="op" id="2413188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413192">}</span>&nbsp;<span class="keyword" id="2413194">else</span>&nbsp;<span class="op" id="2413199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413204">p</span><span class="op" id="2413205">.</span><span class="ident" id="2413206">buf</span><span class="op" id="2413209">.</span><span class="ident" id="2413210">Write</span><span class="op" id="2413215">(</span><span class="ident" id="2413216">mapBytes</span><span class="op" id="2413224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413232">keys</span>&nbsp;<span class="op" id="2413237">:=</span>&nbsp;<span class="ident" id="2413240">f</span><span class="op" id="2413241">.</span><span class="ident" id="2413242">MapKeys</span><span class="op" id="2413249">(</span><span class="op" id="2413250">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413254">for</span>&nbsp;<span class="ident" id="2413258">i</span><span class="op" id="2413259">,</span>&nbsp;<span class="ident" id="2413261">key</span>&nbsp;<span class="op" id="2413265">:=</span>&nbsp;<span class="keyword" id="2413268">range</span>&nbsp;<span class="ident" id="2413274">keys</span>&nbsp;<span class="op" id="2413279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413284">if</span>&nbsp;<span class="ident" id="2413287">i</span>&nbsp;<span class="op" id="2413289">&gt;</span>&nbsp;<span class="num" id="2413291">0</span>&nbsp;<span class="op" id="2413293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413299">if</span>&nbsp;<span class="ident" id="2413302">p</span><span class="op" id="2413303">.</span><span class="ident" id="2413304">fmt</span><span class="op" id="2413307">.</span><span class="ident" id="2413308">sharpV</span>&nbsp;<span class="op" id="2413315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413322">p</span><span class="op" id="2413323">.</span><span class="ident" id="2413324">buf</span><span class="op" id="2413327">.</span><span class="ident" id="2413328">Write</span><span class="op" id="2413333">(</span><span class="ident" id="2413334">commaSpaceBytes</span><span class="op" id="2413349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413355">}</span>&nbsp;<span class="keyword" id="2413357">else</span>&nbsp;<span class="op" id="2413362">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413369">p</span><span class="op" id="2413370">.</span><span class="ident" id="2413371">buf</span><span class="op" id="2413374">.</span><span class="ident" id="2413375">WriteByte</span><span class="op" id="2413384">(</span><span class="string" id="2413385">&#39;&nbsp;&#39;</span><span class="op" id="2413388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413404">p</span><span class="op" id="2413405">.</span><span class="ident" id="2413406">printValue</span><span class="op" id="2413416">(</span><span class="ident" id="2413417">key</span><span class="op" id="2413420">,</span>&nbsp;<span class="ident" id="2413422">verb</span><span class="op" id="2413426">,</span>&nbsp;<span class="ident" id="2413428">depth</span><span class="op" id="2413433">+</span><span class="num" id="2413434">1</span><span class="op" id="2413435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413440">p</span><span class="op" id="2413441">.</span><span class="ident" id="2413442">buf</span><span class="op" id="2413445">.</span><span class="ident" id="2413446">WriteByte</span><span class="op" id="2413455">(</span><span class="string" id="2413456">&#39;:&#39;</span><span class="op" id="2413459">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413464">p</span><span class="op" id="2413465">.</span><span class="ident" id="2413466">printValue</span><span class="op" id="2413476">(</span><span class="ident" id="2413477">f</span><span class="op" id="2413478">.</span><span class="ident" id="2413479">MapIndex</span><span class="op" id="2413487">(</span><span class="ident" id="2413488">key</span><span class="op" id="2413491">)</span><span class="op" id="2413492">,</span>&nbsp;<span class="ident" id="2413494">verb</span><span class="op" id="2413498">,</span>&nbsp;<span class="ident" id="2413500">depth</span><span class="op" id="2413505">+</span><span class="num" id="2413506">1</span><span class="op" id="2413507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413515">if</span>&nbsp;<span class="ident" id="2413518">p</span><span class="op" id="2413519">.</span><span class="ident" id="2413520">fmt</span><span class="op" id="2413523">.</span><span class="ident" id="2413524">sharpV</span>&nbsp;<span class="op" id="2413531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413536">p</span><span class="op" id="2413537">.</span><span class="ident" id="2413538">buf</span><span class="op" id="2413541">.</span><span class="ident" id="2413542">WriteByte</span><span class="op" id="2413551">(</span><span class="string" id="2413552">&#39;}&#39;</span><span class="op" id="2413555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413559">}</span>&nbsp;<span class="keyword" id="2413561">else</span>&nbsp;<span class="op" id="2413566">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413571">p</span><span class="op" id="2413572">.</span><span class="ident" id="2413573">buf</span><span class="op" id="2413576">.</span><span class="ident" id="2413577">WriteByte</span><span class="op" id="2413586">(</span><span class="string" id="2413587">&#39;]&#39;</span><span class="op" id="2413590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413597">case</span>&nbsp;<span class="ident" id="2413602">reflect</span><span class="op" id="2413609">.</span><span class="ident" id="2413610">Struct</span><span class="op" id="2413616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413620">if</span>&nbsp;<span class="ident" id="2413623">p</span><span class="op" id="2413624">.</span><span class="ident" id="2413625">fmt</span><span class="op" id="2413628">.</span><span class="ident" id="2413629">sharpV</span>&nbsp;<span class="op" id="2413636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413641">p</span><span class="op" id="2413642">.</span><span class="ident" id="2413643">buf</span><span class="op" id="2413646">.</span><span class="ident" id="2413647">WriteString</span><span class="op" id="2413658">(</span><span class="ident" id="2413659">value</span><span class="op" id="2413664">.</span><span class="ident" id="2413665">Type</span><span class="op" id="2413669">(</span><span class="op" id="2413670">)</span><span class="op" id="2413671">.</span><span class="ident" id="2413672">String</span><span class="op" id="2413678">(</span><span class="op" id="2413679">)</span><span class="op" id="2413680">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413688">p</span><span class="op" id="2413689">.</span><span class="ident" id="2413690">add</span><span class="op" id="2413693">(</span><span class="string" id="2413694">&#39;{&#39;</span><span class="op" id="2413697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413701">v</span>&nbsp;<span class="op" id="2413703">:=</span>&nbsp;<span class="ident" id="2413706">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413710">t</span>&nbsp;<span class="op" id="2413712">:=</span>&nbsp;<span class="ident" id="2413715">v</span><span class="op" id="2413716">.</span><span class="ident" id="2413717">Type</span><span class="op" id="2413721">(</span><span class="op" id="2413722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413726">for</span>&nbsp;<span class="ident" id="2413730">i</span>&nbsp;<span class="op" id="2413732">:=</span>&nbsp;<span class="num" id="2413735">0</span><span class="op" id="2413736">;</span>&nbsp;<span class="ident" id="2413738">i</span>&nbsp;<span class="op" id="2413740">&lt;</span>&nbsp;<span class="ident" id="2413742">v</span><span class="op" id="2413743">.</span><span class="ident" id="2413744">NumField</span><span class="op" id="2413752">(</span><span class="op" id="2413753">)</span><span class="op" id="2413754">;</span>&nbsp;<span class="ident" id="2413756">i</span><span class="op" id="2413757">++</span>&nbsp;<span class="op" id="2413760">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413765">if</span>&nbsp;<span class="ident" id="2413768">i</span>&nbsp;<span class="op" id="2413770">&gt;</span>&nbsp;<span class="num" id="2413772">0</span>&nbsp;<span class="op" id="2413774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413780">if</span>&nbsp;<span class="ident" id="2413783">p</span><span class="op" id="2413784">.</span><span class="ident" id="2413785">fmt</span><span class="op" id="2413788">.</span><span class="ident" id="2413789">sharpV</span>&nbsp;<span class="op" id="2413796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413803">p</span><span class="op" id="2413804">.</span><span class="ident" id="2413805">buf</span><span class="op" id="2413808">.</span><span class="ident" id="2413809">Write</span><span class="op" id="2413814">(</span><span class="ident" id="2413815">commaSpaceBytes</span><span class="op" id="2413830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413836">}</span>&nbsp;<span class="keyword" id="2413838">else</span>&nbsp;<span class="op" id="2413843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413850">p</span><span class="op" id="2413851">.</span><span class="ident" id="2413852">buf</span><span class="op" id="2413855">.</span><span class="ident" id="2413856">WriteByte</span><span class="op" id="2413865">(</span><span class="string" id="2413866">&#39;&nbsp;&#39;</span><span class="op" id="2413869">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413885">if</span>&nbsp;<span class="ident" id="2413888">p</span><span class="op" id="2413889">.</span><span class="ident" id="2413890">fmt</span><span class="op" id="2413893">.</span><span class="ident" id="2413894">plusV</span>&nbsp;<span class="op" id="2413900">||</span>&nbsp;<span class="ident" id="2413903">p</span><span class="op" id="2413904">.</span><span class="ident" id="2413905">fmt</span><span class="op" id="2413908">.</span><span class="ident" id="2413909">sharpV</span>&nbsp;<span class="op" id="2413916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413922">if</span>&nbsp;<span class="ident" id="2413925">f</span>&nbsp;<span class="op" id="2413927">:=</span>&nbsp;<span class="ident" id="2413930">t</span><span class="op" id="2413931">.</span><span class="ident" id="2413932">Field</span><span class="op" id="2413937">(</span><span class="ident" id="2413938">i</span><span class="op" id="2413939">)</span><span class="op" id="2413940">;</span>&nbsp;<span class="ident" id="2413942">f</span><span class="op" id="2413943">.</span><span class="ident" id="2413944">Name</span>&nbsp;<span class="op" id="2413949">!=</span>&nbsp;<span class="string" id="2413952">&#34;&#34;</span>&nbsp;<span class="op" id="2413955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413962">p</span><span class="op" id="2413963">.</span><span class="ident" id="2413964">buf</span><span class="op" id="2413967">.</span><span class="ident" id="2413968">WriteString</span><span class="op" id="2413979">(</span><span class="ident" id="2413980">f</span><span class="op" id="2413981">.</span><span class="ident" id="2413982">Name</span><span class="op" id="2413986">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413993">p</span><span class="op" id="2413994">.</span><span class="ident" id="2413995">buf</span><span class="op" id="2413998">.</span><span class="ident" id="2413999">WriteByte</span><span class="op" id="2414008">(</span><span class="string" id="2414009">&#39;:&#39;</span><span class="op" id="2414012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414028">p</span><span class="op" id="2414029">.</span><span class="ident" id="2414030">printValue</span><span class="op" id="2414040">(</span><span class="ident" id="2414041">getField</span><span class="op" id="2414049">(</span><span class="ident" id="2414050">v</span><span class="op" id="2414051">,</span>&nbsp;<span class="ident" id="2414053">i</span><span class="op" id="2414054">)</span><span class="op" id="2414055">,</span>&nbsp;<span class="ident" id="2414057">verb</span><span class="op" id="2414061">,</span>&nbsp;<span class="ident" id="2414063">depth</span><span class="op" id="2414068">+</span><span class="num" id="2414069">1</span><span class="op" id="2414070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414074">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414078">p</span><span class="op" id="2414079">.</span><span class="ident" id="2414080">buf</span><span class="op" id="2414083">.</span><span class="ident" id="2414084">WriteByte</span><span class="op" id="2414093">(</span><span class="string" id="2414094">&#39;}&#39;</span><span class="op" id="2414097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414100">case</span>&nbsp;<span class="ident" id="2414105">reflect</span><span class="op" id="2414112">.</span><span class="ident" id="2414113">Interface</span><span class="op" id="2414122">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414126">value</span>&nbsp;<span class="op" id="2414132">:=</span>&nbsp;<span class="ident" id="2414135">f</span><span class="op" id="2414136">.</span><span class="ident" id="2414137">Elem</span><span class="op" id="2414141">(</span><span class="op" id="2414142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414146">if</span>&nbsp;<span class="op" id="2414149">!</span><span class="ident" id="2414150">value</span><span class="op" id="2414155">.</span><span class="ident" id="2414156">IsValid</span><span class="op" id="2414163">(</span><span class="op" id="2414164">)</span>&nbsp;<span class="op" id="2414166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414171">if</span>&nbsp;<span class="ident" id="2414174">p</span><span class="op" id="2414175">.</span><span class="ident" id="2414176">fmt</span><span class="op" id="2414179">.</span><span class="ident" id="2414180">sharpV</span>&nbsp;<span class="op" id="2414187">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414193">p</span><span class="op" id="2414194">.</span><span class="ident" id="2414195">buf</span><span class="op" id="2414198">.</span><span class="ident" id="2414199">WriteString</span><span class="op" id="2414210">(</span><span class="ident" id="2414211">f</span><span class="op" id="2414212">.</span><span class="ident" id="2414213">Type</span><span class="op" id="2414217">(</span><span class="op" id="2414218">)</span><span class="op" id="2414219">.</span><span class="ident" id="2414220">String</span><span class="op" id="2414226">(</span><span class="op" id="2414227">)</span><span class="op" id="2414228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414234">p</span><span class="op" id="2414235">.</span><span class="ident" id="2414236">buf</span><span class="op" id="2414239">.</span><span class="ident" id="2414240">Write</span><span class="op" id="2414245">(</span><span class="ident" id="2414246">nilParenBytes</span><span class="op" id="2414259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414264">}</span>&nbsp;<span class="keyword" id="2414266">else</span>&nbsp;<span class="op" id="2414271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414277">p</span><span class="op" id="2414278">.</span><span class="ident" id="2414279">buf</span><span class="op" id="2414282">.</span><span class="ident" id="2414283">Write</span><span class="op" id="2414288">(</span><span class="ident" id="2414289">nilAngleBytes</span><span class="op" id="2414302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414307">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414311">}</span>&nbsp;<span class="keyword" id="2414313">else</span>&nbsp;<span class="op" id="2414318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414323">wasString</span>&nbsp;<span class="op" id="2414333">=</span>&nbsp;<span class="ident" id="2414335">p</span><span class="op" id="2414336">.</span><span class="ident" id="2414337">printValue</span><span class="op" id="2414347">(</span><span class="ident" id="2414348">value</span><span class="op" id="2414353">,</span>&nbsp;<span class="ident" id="2414355">verb</span><span class="op" id="2414359">,</span>&nbsp;<span class="ident" id="2414361">depth</span><span class="op" id="2414366">+</span><span class="num" id="2414367">1</span><span class="op" id="2414368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414375">case</span>&nbsp;<span class="ident" id="2414380">reflect</span><span class="op" id="2414387">.</span><span class="ident" id="2414388">Array</span><span class="op" id="2414393">,</span>&nbsp;<span class="ident" id="2414395">reflect</span><span class="op" id="2414402">.</span><span class="ident" id="2414403">Slice</span><span class="op" id="2414408">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414412">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414442">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414491">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414559">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414622">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414683">if</span>&nbsp;<span class="ident" id="2414686">typ</span>&nbsp;<span class="op" id="2414690">:=</span>&nbsp;<span class="ident" id="2414693">f</span><span class="op" id="2414694">.</span><span class="ident" id="2414695">Type</span><span class="op" id="2414699">(</span><span class="op" id="2414700">)</span><span class="op" id="2414701">;</span>&nbsp;<span class="ident" id="2414703">typ</span><span class="op" id="2414706">.</span><span class="ident" id="2414707">Elem</span><span class="op" id="2414711">(</span><span class="op" id="2414712">)</span><span class="op" id="2414713">.</span><span class="ident" id="2414714">Kind</span><span class="op" id="2414718">(</span><span class="op" id="2414719">)</span>&nbsp;<span class="op" id="2414721">==</span>&nbsp;<span class="ident" id="2414724">reflect</span><span class="op" id="2414731">.</span><span class="ident" id="2414732">Uint8</span>&nbsp;<span class="op" id="2414738">&amp;&amp;</span>&nbsp;<span class="op" id="2414741">(</span><span class="ident" id="2414742">typ</span><span class="op" id="2414745">.</span><span class="ident" id="2414746">Elem</span><span class="op" id="2414750">(</span><span class="op" id="2414751">)</span>&nbsp;<span class="op" id="2414753">==</span>&nbsp;<span class="ident" id="2414756">byteType</span>&nbsp;<span class="op" id="2414765">||</span>&nbsp;<span class="ident" id="2414768">verb</span>&nbsp;<span class="op" id="2414773">==</span>&nbsp;<span class="string" id="2414776">&#39;s&#39;</span>&nbsp;<span class="op" id="2414780">||</span>&nbsp;<span class="ident" id="2414783">verb</span>&nbsp;<span class="op" id="2414788">==</span>&nbsp;<span class="string" id="2414791">&#39;q&#39;</span>&nbsp;<span class="op" id="2414795">||</span>&nbsp;<span class="ident" id="2414798">verb</span>&nbsp;<span class="op" id="2414803">==</span>&nbsp;<span class="string" id="2414806">&#39;x&#39;</span><span class="op" id="2414809">)</span>&nbsp;<span class="op" id="2414811">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414816">var</span>&nbsp;<span class="ident" id="2414820">bytes</span>&nbsp;<span class="op" id="2414826">[</span><span class="op" id="2414827">]</span><span class="builtintype" id="2414828">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414836">if</span>&nbsp;<span class="ident" id="2414839">f</span><span class="op" id="2414840">.</span><span class="ident" id="2414841">Kind</span><span class="op" id="2414845">(</span><span class="op" id="2414846">)</span>&nbsp;<span class="op" id="2414848">==</span>&nbsp;<span class="ident" id="2414851">reflect</span><span class="op" id="2414858">.</span><span class="ident" id="2414859">Slice</span>&nbsp;<span class="op" id="2414865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414871">bytes</span>&nbsp;<span class="op" id="2414877">=</span>&nbsp;<span class="ident" id="2414879">f</span><span class="op" id="2414880">.</span><span class="ident" id="2414881">Bytes</span><span class="op" id="2414886">(</span><span class="op" id="2414887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414892">}</span>&nbsp;<span class="keyword" id="2414894">else</span>&nbsp;<span class="keyword" id="2414899">if</span>&nbsp;<span class="ident" id="2414902">f</span><span class="op" id="2414903">.</span><span class="ident" id="2414904">CanAddr</span><span class="op" id="2414911">(</span><span class="op" id="2414912">)</span>&nbsp;<span class="op" id="2414914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414920">bytes</span>&nbsp;<span class="op" id="2414926">=</span>&nbsp;<span class="ident" id="2414928">f</span><span class="op" id="2414929">.</span><span class="ident" id="2414930">Slice</span><span class="op" id="2414935">(</span><span class="num" id="2414936">0</span><span class="op" id="2414937">,</span>&nbsp;<span class="ident" id="2414939">f</span><span class="op" id="2414940">.</span><span class="ident" id="2414941">Len</span><span class="op" id="2414944">(</span><span class="op" id="2414945">)</span><span class="op" id="2414946">)</span><span class="op" id="2414947">.</span><span class="ident" id="2414948">Bytes</span><span class="op" id="2414953">(</span><span class="op" id="2414954">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414959">}</span>&nbsp;<span class="keyword" id="2414961">else</span>&nbsp;<span class="op" id="2414966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414972">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2415044">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2415121">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415168">bytes</span>&nbsp;<span class="op" id="2415174">=</span>&nbsp;<span class="builtinfunc" id="2415176">make</span><span class="op" id="2415180">(</span><span class="op" id="2415181">[</span><span class="op" id="2415182">]</span><span class="builtintype" id="2415183">byte</span><span class="op" id="2415187">,</span>&nbsp;<span class="ident" id="2415189">f</span><span class="op" id="2415190">.</span><span class="ident" id="2415191">Len</span><span class="op" id="2415194">(</span><span class="op" id="2415195">)</span><span class="op" id="2415196">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415202">for</span>&nbsp;<span class="ident" id="2415206">i</span>&nbsp;<span class="op" id="2415208">:=</span>&nbsp;<span class="keyword" id="2415211">range</span>&nbsp;<span class="ident" id="2415217">bytes</span>&nbsp;<span class="op" id="2415223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415230">bytes</span><span class="op" id="2415235">[</span><span class="ident" id="2415236">i</span><span class="op" id="2415237">]</span>&nbsp;<span class="op" id="2415239">=</span>&nbsp;<span class="builtintype" id="2415241">byte</span><span class="op" id="2415245">(</span><span class="ident" id="2415246">f</span><span class="op" id="2415247">.</span><span class="ident" id="2415248">Index</span><span class="op" id="2415253">(</span><span class="ident" id="2415254">i</span><span class="op" id="2415255">)</span><span class="op" id="2415256">.</span><span class="ident" id="2415257">Uint</span><span class="op" id="2415261">(</span><span class="op" id="2415262">)</span><span class="op" id="2415263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415279">p</span><span class="op" id="2415280">.</span><span class="ident" id="2415281">fmtBytes</span><span class="op" id="2415289">(</span><span class="ident" id="2415290">bytes</span><span class="op" id="2415295">,</span>&nbsp;<span class="ident" id="2415297">verb</span><span class="op" id="2415301">,</span>&nbsp;<span class="ident" id="2415303">typ</span><span class="op" id="2415306">,</span>&nbsp;<span class="ident" id="2415308">depth</span><span class="op" id="2415313">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415318">wasString</span>&nbsp;<span class="op" id="2415328">=</span>&nbsp;<span class="ident" id="2415330">verb</span>&nbsp;<span class="op" id="2415335">==</span>&nbsp;<span class="string" id="2415338">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415345">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415357">if</span>&nbsp;<span class="ident" id="2415360">p</span><span class="op" id="2415361">.</span><span class="ident" id="2415362">fmt</span><span class="op" id="2415365">.</span><span class="ident" id="2415366">sharpV</span>&nbsp;<span class="op" id="2415373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415378">p</span><span class="op" id="2415379">.</span><span class="ident" id="2415380">buf</span><span class="op" id="2415383">.</span><span class="ident" id="2415384">WriteString</span><span class="op" id="2415395">(</span><span class="ident" id="2415396">value</span><span class="op" id="2415401">.</span><span class="ident" id="2415402">Type</span><span class="op" id="2415406">(</span><span class="op" id="2415407">)</span><span class="op" id="2415408">.</span><span class="ident" id="2415409">String</span><span class="op" id="2415415">(</span><span class="op" id="2415416">)</span><span class="op" id="2415417">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415422">if</span>&nbsp;<span class="ident" id="2415425">f</span><span class="op" id="2415426">.</span><span class="ident" id="2415427">Kind</span><span class="op" id="2415431">(</span><span class="op" id="2415432">)</span>&nbsp;<span class="op" id="2415434">==</span>&nbsp;<span class="ident" id="2415437">reflect</span><span class="op" id="2415444">.</span><span class="ident" id="2415445">Slice</span>&nbsp;<span class="op" id="2415451">&amp;&amp;</span>&nbsp;<span class="ident" id="2415454">f</span><span class="op" id="2415455">.</span><span class="ident" id="2415456">IsNil</span><span class="op" id="2415461">(</span><span class="op" id="2415462">)</span>&nbsp;<span class="op" id="2415464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415470">p</span><span class="op" id="2415471">.</span><span class="ident" id="2415472">buf</span><span class="op" id="2415475">.</span><span class="ident" id="2415476">WriteString</span><span class="op" id="2415487">(</span><span class="string" id="2415488">&#34;(nil)&#34;</span><span class="op" id="2415495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415501">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415515">p</span><span class="op" id="2415516">.</span><span class="ident" id="2415517">buf</span><span class="op" id="2415520">.</span><span class="ident" id="2415521">WriteByte</span><span class="op" id="2415530">(</span><span class="string" id="2415531">&#39;{&#39;</span><span class="op" id="2415534">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415538">}</span>&nbsp;<span class="keyword" id="2415540">else</span>&nbsp;<span class="op" id="2415545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415550">p</span><span class="op" id="2415551">.</span><span class="ident" id="2415552">buf</span><span class="op" id="2415555">.</span><span class="ident" id="2415556">WriteByte</span><span class="op" id="2415565">(</span><span class="string" id="2415566">&#39;[&#39;</span><span class="op" id="2415569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415577">for</span>&nbsp;<span class="ident" id="2415581">i</span>&nbsp;<span class="op" id="2415583">:=</span>&nbsp;<span class="num" id="2415586">0</span><span class="op" id="2415587">;</span>&nbsp;<span class="ident" id="2415589">i</span>&nbsp;<span class="op" id="2415591">&lt;</span>&nbsp;<span class="ident" id="2415593">f</span><span class="op" id="2415594">.</span><span class="ident" id="2415595">Len</span><span class="op" id="2415598">(</span><span class="op" id="2415599">)</span><span class="op" id="2415600">;</span>&nbsp;<span class="ident" id="2415602">i</span><span class="op" id="2415603">++</span>&nbsp;<span class="op" id="2415606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415611">if</span>&nbsp;<span class="ident" id="2415614">i</span>&nbsp;<span class="op" id="2415616">&gt;</span>&nbsp;<span class="num" id="2415618">0</span>&nbsp;<span class="op" id="2415620">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415626">if</span>&nbsp;<span class="ident" id="2415629">p</span><span class="op" id="2415630">.</span><span class="ident" id="2415631">fmt</span><span class="op" id="2415634">.</span><span class="ident" id="2415635">sharpV</span>&nbsp;<span class="op" id="2415642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415649">p</span><span class="op" id="2415650">.</span><span class="ident" id="2415651">buf</span><span class="op" id="2415654">.</span><span class="ident" id="2415655">Write</span><span class="op" id="2415660">(</span><span class="ident" id="2415661">commaSpaceBytes</span><span class="op" id="2415676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415682">}</span>&nbsp;<span class="keyword" id="2415684">else</span>&nbsp;<span class="op" id="2415689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415696">p</span><span class="op" id="2415697">.</span><span class="ident" id="2415698">buf</span><span class="op" id="2415701">.</span><span class="ident" id="2415702">WriteByte</span><span class="op" id="2415711">(</span><span class="string" id="2415712">&#39;&nbsp;&#39;</span><span class="op" id="2415715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415721">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415731">p</span><span class="op" id="2415732">.</span><span class="ident" id="2415733">printValue</span><span class="op" id="2415743">(</span><span class="ident" id="2415744">f</span><span class="op" id="2415745">.</span><span class="ident" id="2415746">Index</span><span class="op" id="2415751">(</span><span class="ident" id="2415752">i</span><span class="op" id="2415753">)</span><span class="op" id="2415754">,</span>&nbsp;<span class="ident" id="2415756">verb</span><span class="op" id="2415760">,</span>&nbsp;<span class="ident" id="2415762">depth</span><span class="op" id="2415767">+</span><span class="num" id="2415768">1</span><span class="op" id="2415769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415777">if</span>&nbsp;<span class="ident" id="2415780">p</span><span class="op" id="2415781">.</span><span class="ident" id="2415782">fmt</span><span class="op" id="2415785">.</span><span class="ident" id="2415786">sharpV</span>&nbsp;<span class="op" id="2415793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415798">p</span><span class="op" id="2415799">.</span><span class="ident" id="2415800">buf</span><span class="op" id="2415803">.</span><span class="ident" id="2415804">WriteByte</span><span class="op" id="2415813">(</span><span class="string" id="2415814">&#39;}&#39;</span><span class="op" id="2415817">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415821">}</span>&nbsp;<span class="keyword" id="2415823">else</span>&nbsp;<span class="op" id="2415828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415833">p</span><span class="op" id="2415834">.</span><span class="ident" id="2415835">buf</span><span class="op" id="2415838">.</span><span class="ident" id="2415839">WriteByte</span><span class="op" id="2415848">(</span><span class="string" id="2415849">&#39;]&#39;</span><span class="op" id="2415852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415859">case</span>&nbsp;<span class="ident" id="2415864">reflect</span><span class="op" id="2415871">.</span><span class="ident" id="2415872">Ptr</span><span class="op" id="2415875">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415879">v</span>&nbsp;<span class="op" id="2415881">:=</span>&nbsp;<span class="ident" id="2415884">f</span><span class="op" id="2415885">.</span><span class="ident" id="2415886">Pointer</span><span class="op" id="2415893">(</span><span class="op" id="2415894">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2415898">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2415957">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415993">if</span>&nbsp;<span class="ident" id="2415996">v</span>&nbsp;<span class="op" id="2415998">!=</span>&nbsp;<span class="num" id="2416001">0</span>&nbsp;<span class="op" id="2416003">&amp;&amp;</span>&nbsp;<span class="ident" id="2416006">depth</span>&nbsp;<span class="op" id="2416012">==</span>&nbsp;<span class="num" id="2416015">0</span>&nbsp;<span class="op" id="2416017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416022">switch</span>&nbsp;<span class="ident" id="2416029">a</span>&nbsp;<span class="op" id="2416031">:=</span>&nbsp;<span class="ident" id="2416034">f</span><span class="op" id="2416035">.</span><span class="ident" id="2416036">Elem</span><span class="op" id="2416040">(</span><span class="op" id="2416041">)</span><span class="op" id="2416042">;</span>&nbsp;<span class="ident" id="2416044">a</span><span class="op" id="2416045">.</span><span class="ident" id="2416046">Kind</span><span class="op" id="2416050">(</span><span class="op" id="2416051">)</span>&nbsp;<span class="op" id="2416053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416058">case</span>&nbsp;<span class="ident" id="2416063">reflect</span><span class="op" id="2416070">.</span><span class="ident" id="2416071">Array</span><span class="op" id="2416076">,</span>&nbsp;<span class="ident" id="2416078">reflect</span><span class="op" id="2416085">.</span><span class="ident" id="2416086">Slice</span><span class="op" id="2416091">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416097">p</span><span class="op" id="2416098">.</span><span class="ident" id="2416099">buf</span><span class="op" id="2416102">.</span><span class="ident" id="2416103">WriteByte</span><span class="op" id="2416112">(</span><span class="string" id="2416113">&#39;&amp;&#39;</span><span class="op" id="2416116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416122">p</span><span class="op" id="2416123">.</span><span class="ident" id="2416124">printValue</span><span class="op" id="2416134">(</span><span class="ident" id="2416135">a</span><span class="op" id="2416136">,</span>&nbsp;<span class="ident" id="2416138">verb</span><span class="op" id="2416142">,</span>&nbsp;<span class="ident" id="2416144">depth</span><span class="op" id="2416149">+</span><span class="num" id="2416150">1</span><span class="op" id="2416151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416157">break</span>&nbsp;<span class="ident" id="2416163">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416176">case</span>&nbsp;<span class="ident" id="2416181">reflect</span><span class="op" id="2416188">.</span><span class="ident" id="2416189">Struct</span><span class="op" id="2416195">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416201">p</span><span class="op" id="2416202">.</span><span class="ident" id="2416203">buf</span><span class="op" id="2416206">.</span><span class="ident" id="2416207">WriteByte</span><span class="op" id="2416216">(</span><span class="string" id="2416217">&#39;&amp;&#39;</span><span class="op" id="2416220">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416226">p</span><span class="op" id="2416227">.</span><span class="ident" id="2416228">printValue</span><span class="op" id="2416238">(</span><span class="ident" id="2416239">a</span><span class="op" id="2416240">,</span>&nbsp;<span class="ident" id="2416242">verb</span><span class="op" id="2416246">,</span>&nbsp;<span class="ident" id="2416248">depth</span><span class="op" id="2416253">+</span><span class="num" id="2416254">1</span><span class="op" id="2416255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416261">break</span>&nbsp;<span class="ident" id="2416267">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416280">case</span>&nbsp;<span class="ident" id="2416285">reflect</span><span class="op" id="2416292">.</span><span class="ident" id="2416293">Map</span><span class="op" id="2416296">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416302">p</span><span class="op" id="2416303">.</span><span class="ident" id="2416304">buf</span><span class="op" id="2416307">.</span><span class="ident" id="2416308">WriteByte</span><span class="op" id="2416317">(</span><span class="string" id="2416318">&#39;&amp;&#39;</span><span class="op" id="2416321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416327">p</span><span class="op" id="2416328">.</span><span class="ident" id="2416329">printValue</span><span class="op" id="2416339">(</span><span class="ident" id="2416340">a</span><span class="op" id="2416341">,</span>&nbsp;<span class="ident" id="2416343">verb</span><span class="op" id="2416347">,</span>&nbsp;<span class="ident" id="2416349">depth</span><span class="op" id="2416354">+</span><span class="num" id="2416355">1</span><span class="op" id="2416356">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416362">break</span>&nbsp;<span class="ident" id="2416368">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416389">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416402">case</span>&nbsp;<span class="ident" id="2416407">reflect</span><span class="op" id="2416414">.</span><span class="ident" id="2416415">Chan</span><span class="op" id="2416419">,</span>&nbsp;<span class="ident" id="2416421">reflect</span><span class="op" id="2416428">.</span><span class="ident" id="2416429">Func</span><span class="op" id="2416433">,</span>&nbsp;<span class="ident" id="2416435">reflect</span><span class="op" id="2416442">.</span><span class="ident" id="2416443">UnsafePointer</span><span class="op" id="2416456">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416460">p</span><span class="op" id="2416461">.</span><span class="ident" id="2416462">fmtPointer</span><span class="op" id="2416472">(</span><span class="ident" id="2416473">value</span><span class="op" id="2416478">,</span>&nbsp;<span class="ident" id="2416480">verb</span><span class="op" id="2416484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416487">default</span><span class="op" id="2416494">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416498">p</span><span class="op" id="2416499">.</span><span class="ident" id="2416500">unknownType</span><span class="op" id="2416511">(</span><span class="ident" id="2416512">f</span><span class="op" id="2416513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416519">p</span><span class="op" id="2416520">.</span><span class="ident" id="2416521">value</span>&nbsp;<span class="op" id="2416527">=</span>&nbsp;<span class="ident" id="2416529">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416539">return</span>&nbsp;<span class="ident" id="2416546">wasString</span><br>
<span class="lineno"></span><span class="op" id="2416556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2416559">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2416665">func</span>&nbsp;<span class="ident" id="2416670">intFromArg</span><span class="op" id="2416680">(</span><span class="ident" id="2416681">a</span>&nbsp;<span class="op" id="2416683">[</span><span class="op" id="2416684">]</span><span class="keyword" id="2416685">interface</span><span class="op" id="2416694">{</span><span class="op" id="2416695">}</span><span class="op" id="2416696">,</span>&nbsp;<span class="ident" id="2416698">argNum</span>&nbsp;<span class="builtintype" id="2416705">int</span><span class="op" id="2416708">)</span>&nbsp;<span class="op" id="2416710">(</span><span class="ident" id="2416711">num</span>&nbsp;<span class="builtintype" id="2416715">int</span><span class="op" id="2416718">,</span>&nbsp;<span class="ident" id="2416720">isInt</span>&nbsp;<span class="builtintype" id="2416726">bool</span><span class="op" id="2416730">,</span>&nbsp;<span class="ident" id="2416732">newArgNum</span>&nbsp;<span class="builtintype" id="2416742">int</span><span class="op" id="2416745">)</span>&nbsp;<span class="op" id="2416747">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416750">newArgNum</span>&nbsp;<span class="op" id="2416760">=</span>&nbsp;<span class="ident" id="2416762">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416770">if</span>&nbsp;<span class="ident" id="2416773">argNum</span>&nbsp;<span class="op" id="2416780">&lt;</span>&nbsp;<span class="builtinfunc" id="2416782">len</span><span class="op" id="2416785">(</span><span class="ident" id="2416786">a</span><span class="op" id="2416787">)</span>&nbsp;<span class="op" id="2416789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416793">num</span><span class="op" id="2416796">,</span>&nbsp;<span class="ident" id="2416798">isInt</span>&nbsp;<span class="op" id="2416804">=</span>&nbsp;<span class="ident" id="2416806">a</span><span class="op" id="2416807">[</span><span class="ident" id="2416808">argNum</span><span class="op" id="2416814">]</span><span class="op" id="2416815">.</span><span class="op" id="2416816">(</span><span class="builtintype" id="2416817">int</span><span class="op" id="2416820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416824">newArgNum</span>&nbsp;<span class="op" id="2416834">=</span>&nbsp;<span class="ident" id="2416836">argNum</span>&nbsp;<span class="op" id="2416843">+</span>&nbsp;<span class="num" id="2416845">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416848">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416851">return</span><br>
<span class="lineno"></span><span class="op" id="2416858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2416861">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2416930">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2417003">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2417063">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2417132">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2417202">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2417272">func</span>&nbsp;<span class="ident" id="2417277">parseArgNumber</span><span class="op" id="2417291">(</span><span class="ident" id="2417292">format</span>&nbsp;<span class="builtintype" id="2417299">string</span><span class="op" id="2417305">)</span>&nbsp;<span class="op" id="2417307">(</span><span class="ident" id="2417308">index</span>&nbsp;<span class="builtintype" id="2417314">int</span><span class="op" id="2417317">,</span>&nbsp;<span class="ident" id="2417319">wid</span>&nbsp;<span class="builtintype" id="2417323">int</span><span class="op" id="2417326">,</span>&nbsp;<span class="ident" id="2417328">ok</span>&nbsp;<span class="builtintype" id="2417331">bool</span><span class="op" id="2417335">)</span>&nbsp;<span class="op" id="2417337">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2417340">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417366">for</span>&nbsp;<span class="ident" id="2417370">i</span>&nbsp;<span class="op" id="2417372">:=</span>&nbsp;<span class="num" id="2417375">1</span><span class="op" id="2417376">;</span>&nbsp;<span class="ident" id="2417378">i</span>&nbsp;<span class="op" id="2417380">&lt;</span>&nbsp;<span class="builtinfunc" id="2417382">len</span><span class="op" id="2417385">(</span><span class="ident" id="2417386">format</span><span class="op" id="2417392">)</span><span class="op" id="2417393">;</span>&nbsp;<span class="ident" id="2417395">i</span><span class="op" id="2417396">++</span>&nbsp;<span class="op" id="2417399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417403">if</span>&nbsp;<span class="ident" id="2417406">format</span><span class="op" id="2417412">[</span><span class="ident" id="2417413">i</span><span class="op" id="2417414">]</span>&nbsp;<span class="op" id="2417416">==</span>&nbsp;<span class="string" id="2417419">&#39;]&#39;</span>&nbsp;<span class="op" id="2417423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2417428">width</span><span class="op" id="2417433">,</span>&nbsp;<span class="ident" id="2417435">ok</span><span class="op" id="2417437">,</span>&nbsp;<span class="ident" id="2417439">newi</span>&nbsp;<span class="op" id="2417444">:=</span>&nbsp;<span class="ident" id="2417447">parsenum</span><span class="op" id="2417455">(</span><span class="ident" id="2417456">format</span><span class="op" id="2417462">,</span>&nbsp;<span class="num" id="2417464">1</span><span class="op" id="2417465">,</span>&nbsp;<span class="ident" id="2417467">i</span><span class="op" id="2417468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417473">if</span>&nbsp;<span class="op" id="2417476">!</span><span class="ident" id="2417477">ok</span>&nbsp;<span class="op" id="2417480">||</span>&nbsp;<span class="ident" id="2417483">newi</span>&nbsp;<span class="op" id="2417488">!=</span>&nbsp;<span class="ident" id="2417491">i</span>&nbsp;<span class="op" id="2417493">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417499">return</span>&nbsp;<span class="num" id="2417506">0</span><span class="op" id="2417507">,</span>&nbsp;<span class="ident" id="2417509">i</span>&nbsp;<span class="op" id="2417511">+</span>&nbsp;<span class="num" id="2417513">1</span><span class="op" id="2417514">,</span>&nbsp;<span class="builtintype" id="2417516">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2417525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417530">return</span>&nbsp;<span class="ident" id="2417537">width</span>&nbsp;<span class="op" id="2417543">-</span>&nbsp;<span class="num" id="2417545">1</span><span class="op" id="2417546">,</span>&nbsp;<span class="ident" id="2417548">i</span>&nbsp;<span class="op" id="2417550">+</span>&nbsp;<span class="num" id="2417552">1</span><span class="op" id="2417553">,</span>&nbsp;<span class="builtintype" id="2417555">true</span>&nbsp;<span class="comment" id="2417560">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2417609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2417612">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417615">return</span>&nbsp;<span class="num" id="2417622">0</span><span class="op" id="2417623">,</span>&nbsp;<span class="num" id="2417625">1</span><span class="op" id="2417626">,</span>&nbsp;<span class="builtintype" id="2417628">false</span><br>
<span class="lineno"></span><span class="op" id="2417634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2417637">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2417732">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2417820">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2417905">func</span>&nbsp;<span class="op" id="2417910">(</span><span class="ident" id="2417911">p</span>&nbsp;<span class="op" id="2417913">*</span><span class="ident" id="2417914">pp</span><span class="op" id="2417916">)</span>&nbsp;<span class="ident" id="2417918">argNumber</span><span class="op" id="2417927">(</span><span class="ident" id="2417928">argNum</span>&nbsp;<span class="builtintype" id="2417935">int</span><span class="op" id="2417938">,</span>&nbsp;<span class="ident" id="2417940">format</span>&nbsp;<span class="builtintype" id="2417947">string</span><span class="op" id="2417953">,</span>&nbsp;<span class="ident" id="2417955">i</span>&nbsp;<span class="builtintype" id="2417957">int</span><span class="op" id="2417960">,</span>&nbsp;<span class="ident" id="2417962">numArgs</span>&nbsp;<span class="builtintype" id="2417970">int</span><span class="op" id="2417973">)</span>&nbsp;<span class="op" id="2417975">(</span><span class="ident" id="2417976">newArgNum</span><span class="op" id="2417985">,</span>&nbsp;<span class="ident" id="2417987">newi</span>&nbsp;<span class="builtintype" id="2417992">int</span><span class="op" id="2417995">,</span>&nbsp;<span class="ident" id="2417997">found</span>&nbsp;<span class="builtintype" id="2418003">bool</span><span class="op" id="2418007">)</span>&nbsp;<span class="op" id="2418009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418012">if</span>&nbsp;<span class="builtinfunc" id="2418015">len</span><span class="op" id="2418018">(</span><span class="ident" id="2418019">format</span><span class="op" id="2418025">)</span>&nbsp;<span class="op" id="2418027">&lt;=</span>&nbsp;<span class="ident" id="2418030">i</span>&nbsp;<span class="op" id="2418032">||</span>&nbsp;<span class="ident" id="2418035">format</span><span class="op" id="2418041">[</span><span class="ident" id="2418042">i</span><span class="op" id="2418043">]</span>&nbsp;<span class="op" id="2418045">!=</span>&nbsp;<span class="string" id="2418048">&#39;[&#39;</span>&nbsp;<span class="op" id="2418052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418056">return</span>&nbsp;<span class="ident" id="2418063">argNum</span><span class="op" id="2418069">,</span>&nbsp;<span class="ident" id="2418071">i</span><span class="op" id="2418072">,</span>&nbsp;<span class="builtintype" id="2418074">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2418081">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418084">p</span><span class="op" id="2418085">.</span><span class="ident" id="2418086">reordered</span>&nbsp;<span class="op" id="2418096">=</span>&nbsp;<span class="builtintype" id="2418098">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418104">index</span><span class="op" id="2418109">,</span>&nbsp;<span class="ident" id="2418111">wid</span><span class="op" id="2418114">,</span>&nbsp;<span class="ident" id="2418116">ok</span>&nbsp;<span class="op" id="2418119">:=</span>&nbsp;<span class="ident" id="2418122">parseArgNumber</span><span class="op" id="2418136">(</span><span class="ident" id="2418137">format</span><span class="op" id="2418143">[</span><span class="ident" id="2418144">i</span><span class="op" id="2418145">:</span><span class="op" id="2418146">]</span><span class="op" id="2418147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418150">if</span>&nbsp;<span class="ident" id="2418153">ok</span>&nbsp;<span class="op" id="2418156">&amp;&amp;</span>&nbsp;<span class="num" id="2418159">0</span>&nbsp;<span class="op" id="2418161">&lt;=</span>&nbsp;<span class="ident" id="2418164">index</span>&nbsp;<span class="op" id="2418170">&amp;&amp;</span>&nbsp;<span class="ident" id="2418173">index</span>&nbsp;<span class="op" id="2418179">&lt;</span>&nbsp;<span class="ident" id="2418181">numArgs</span>&nbsp;<span class="op" id="2418189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418193">return</span>&nbsp;<span class="ident" id="2418200">index</span><span class="op" id="2418205">,</span>&nbsp;<span class="ident" id="2418207">i</span>&nbsp;<span class="op" id="2418209">+</span>&nbsp;<span class="ident" id="2418211">wid</span><span class="op" id="2418214">,</span>&nbsp;<span class="builtintype" id="2418216">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2418222">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418225">p</span><span class="op" id="2418226">.</span><span class="ident" id="2418227">goodArgNum</span>&nbsp;<span class="op" id="2418238">=</span>&nbsp;<span class="builtintype" id="2418240">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418247">return</span>&nbsp;<span class="ident" id="2418254">argNum</span><span class="op" id="2418260">,</span>&nbsp;<span class="ident" id="2418262">i</span>&nbsp;<span class="op" id="2418264">+</span>&nbsp;<span class="ident" id="2418266">wid</span><span class="op" id="2418269">,</span>&nbsp;<span class="builtintype" id="2418271">true</span><br>
<span class="lineno"></span><span class="op" id="2418276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2418279">func</span>&nbsp;<span class="op" id="2418284">(</span><span class="ident" id="2418285">p</span>&nbsp;<span class="op" id="2418287">*</span><span class="ident" id="2418288">pp</span><span class="op" id="2418290">)</span>&nbsp;<span class="ident" id="2418292">doPrintf</span><span class="op" id="2418300">(</span><span class="ident" id="2418301">format</span>&nbsp;<span class="builtintype" id="2418308">string</span><span class="op" id="2418314">,</span>&nbsp;<span class="ident" id="2418316">a</span>&nbsp;<span class="op" id="2418318">[</span><span class="op" id="2418319">]</span><span class="keyword" id="2418320">interface</span><span class="op" id="2418329">{</span><span class="op" id="2418330">}</span><span class="op" id="2418331">)</span>&nbsp;<span class="op" id="2418333">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418336">end</span>&nbsp;<span class="op" id="2418340">:=</span>&nbsp;<span class="builtinfunc" id="2418343">len</span><span class="op" id="2418346">(</span><span class="ident" id="2418347">format</span><span class="op" id="2418353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418356">argNum</span>&nbsp;<span class="op" id="2418363">:=</span>&nbsp;<span class="num" id="2418366">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418376">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418427">afterIndex</span>&nbsp;<span class="op" id="2418438">:=</span>&nbsp;<span class="builtintype" id="2418441">false</span>&nbsp;<span class="comment" id="2418447">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418498">p</span><span class="op" id="2418499">.</span><span class="ident" id="2418500">reordered</span>&nbsp;<span class="op" id="2418510">=</span>&nbsp;<span class="builtintype" id="2418512">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418519">for</span>&nbsp;<span class="ident" id="2418523">i</span>&nbsp;<span class="op" id="2418525">:=</span>&nbsp;<span class="num" id="2418528">0</span><span class="op" id="2418529">;</span>&nbsp;<span class="ident" id="2418531">i</span>&nbsp;<span class="op" id="2418533">&lt;</span>&nbsp;<span class="ident" id="2418535">end</span><span class="op" id="2418538">;</span>&nbsp;<span class="op" id="2418540">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418544">p</span><span class="op" id="2418545">.</span><span class="ident" id="2418546">goodArgNum</span>&nbsp;<span class="op" id="2418557">=</span>&nbsp;<span class="builtintype" id="2418559">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418566">lasti</span>&nbsp;<span class="op" id="2418572">:=</span>&nbsp;<span class="ident" id="2418575">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418579">for</span>&nbsp;<span class="ident" id="2418583">i</span>&nbsp;<span class="op" id="2418585">&lt;</span>&nbsp;<span class="ident" id="2418587">end</span>&nbsp;<span class="op" id="2418591">&amp;&amp;</span>&nbsp;<span class="ident" id="2418594">format</span><span class="op" id="2418600">[</span><span class="ident" id="2418601">i</span><span class="op" id="2418602">]</span>&nbsp;<span class="op" id="2418604">!=</span>&nbsp;<span class="string" id="2418607">&#39;%&#39;</span>&nbsp;<span class="op" id="2418611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418616">i</span><span class="op" id="2418617">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2418622">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418626">if</span>&nbsp;<span class="ident" id="2418629">i</span>&nbsp;<span class="op" id="2418631">&gt;</span>&nbsp;<span class="ident" id="2418633">lasti</span>&nbsp;<span class="op" id="2418639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418644">p</span><span class="op" id="2418645">.</span><span class="ident" id="2418646">buf</span><span class="op" id="2418649">.</span><span class="ident" id="2418650">WriteString</span><span class="op" id="2418661">(</span><span class="ident" id="2418662">format</span><span class="op" id="2418668">[</span><span class="ident" id="2418669">lasti</span><span class="op" id="2418674">:</span><span class="ident" id="2418675">i</span><span class="op" id="2418676">]</span><span class="op" id="2418677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2418681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418685">if</span>&nbsp;<span class="ident" id="2418688">i</span>&nbsp;<span class="op" id="2418690">&gt;=</span>&nbsp;<span class="ident" id="2418693">end</span>&nbsp;<span class="op" id="2418697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418702">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418738">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2418746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418751">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418773">i</span><span class="op" id="2418774">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418780">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418803">p</span><span class="op" id="2418804">.</span><span class="ident" id="2418805">fmt</span><span class="op" id="2418808">.</span><span class="ident" id="2418809">clearflags</span><span class="op" id="2418819">(</span><span class="op" id="2418820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418823">F</span><span class="op" id="2418824">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418828">for</span>&nbsp;<span class="op" id="2418832">;</span>&nbsp;<span class="ident" id="2418834">i</span>&nbsp;<span class="op" id="2418836">&lt;</span>&nbsp;<span class="ident" id="2418838">end</span><span class="op" id="2418841">;</span>&nbsp;<span class="ident" id="2418843">i</span><span class="op" id="2418844">++</span>&nbsp;<span class="op" id="2418847">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418852">switch</span>&nbsp;<span class="ident" id="2418859">format</span><span class="op" id="2418865">[</span><span class="ident" id="2418866">i</span><span class="op" id="2418867">]</span>&nbsp;<span class="op" id="2418869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418874">case</span>&nbsp;<span class="string" id="2418879">&#39;#&#39;</span><span class="op" id="2418882">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418888">p</span><span class="op" id="2418889">.</span><span class="ident" id="2418890">fmt</span><span class="op" id="2418893">.</span><span class="ident" id="2418894">sharp</span>&nbsp;<span class="op" id="2418900">=</span>&nbsp;<span class="builtintype" id="2418902">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418910">case</span>&nbsp;<span class="string" id="2418915">&#39;0&#39;</span><span class="op" id="2418918">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418924">p</span><span class="op" id="2418925">.</span><span class="ident" id="2418926">fmt</span><span class="op" id="2418929">.</span><span class="ident" id="2418930">zero</span>&nbsp;<span class="op" id="2418935">=</span>&nbsp;<span class="builtintype" id="2418937">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418945">case</span>&nbsp;<span class="string" id="2418950">&#39;+&#39;</span><span class="op" id="2418953">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418959">p</span><span class="op" id="2418960">.</span><span class="ident" id="2418961">fmt</span><span class="op" id="2418964">.</span><span class="ident" id="2418965">plus</span>&nbsp;<span class="op" id="2418970">=</span>&nbsp;<span class="builtintype" id="2418972">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418980">case</span>&nbsp;<span class="string" id="2418985">&#39;-&#39;</span><span class="op" id="2418988">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418994">p</span><span class="op" id="2418995">.</span><span class="ident" id="2418996">fmt</span><span class="op" id="2418999">.</span><span class="ident" id="2419000">minus</span>&nbsp;<span class="op" id="2419006">=</span>&nbsp;<span class="builtintype" id="2419008">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419016">case</span>&nbsp;<span class="string" id="2419021">&#39;&nbsp;&#39;</span><span class="op" id="2419024">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419030">p</span><span class="op" id="2419031">.</span><span class="ident" id="2419032">fmt</span><span class="op" id="2419035">.</span><span class="ident" id="2419036">space</span>&nbsp;<span class="op" id="2419042">=</span>&nbsp;<span class="builtintype" id="2419044">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419052">default</span><span class="op" id="2419059">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419065">break</span>&nbsp;<span class="ident" id="2419071">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419080">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419085">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419129">argNum</span><span class="op" id="2419135">,</span>&nbsp;<span class="ident" id="2419137">i</span><span class="op" id="2419138">,</span>&nbsp;<span class="ident" id="2419140">afterIndex</span>&nbsp;<span class="op" id="2419151">=</span>&nbsp;<span class="ident" id="2419153">p</span><span class="op" id="2419154">.</span><span class="ident" id="2419155">argNumber</span><span class="op" id="2419164">(</span><span class="ident" id="2419165">argNum</span><span class="op" id="2419171">,</span>&nbsp;<span class="ident" id="2419173">format</span><span class="op" id="2419179">,</span>&nbsp;<span class="ident" id="2419181">i</span><span class="op" id="2419182">,</span>&nbsp;<span class="builtinfunc" id="2419184">len</span><span class="op" id="2419187">(</span><span class="ident" id="2419188">a</span><span class="op" id="2419189">)</span><span class="op" id="2419190">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419195">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419218">if</span>&nbsp;<span class="ident" id="2419221">i</span>&nbsp;<span class="op" id="2419223">&lt;</span>&nbsp;<span class="ident" id="2419225">end</span>&nbsp;<span class="op" id="2419229">&amp;&amp;</span>&nbsp;<span class="ident" id="2419232">format</span><span class="op" id="2419238">[</span><span class="ident" id="2419239">i</span><span class="op" id="2419240">]</span>&nbsp;<span class="op" id="2419242">==</span>&nbsp;<span class="string" id="2419245">&#39;*&#39;</span>&nbsp;<span class="op" id="2419249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419254">i</span><span class="op" id="2419255">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419261">p</span><span class="op" id="2419262">.</span><span class="ident" id="2419263">fmt</span><span class="op" id="2419266">.</span><span class="ident" id="2419267">wid</span><span class="op" id="2419270">,</span>&nbsp;<span class="ident" id="2419272">p</span><span class="op" id="2419273">.</span><span class="ident" id="2419274">fmt</span><span class="op" id="2419277">.</span><span class="ident" id="2419278">widPresent</span><span class="op" id="2419288">,</span>&nbsp;<span class="ident" id="2419290">argNum</span>&nbsp;<span class="op" id="2419297">=</span>&nbsp;<span class="ident" id="2419299">intFromArg</span><span class="op" id="2419309">(</span><span class="ident" id="2419310">a</span><span class="op" id="2419311">,</span>&nbsp;<span class="ident" id="2419313">argNum</span><span class="op" id="2419319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419324">if</span>&nbsp;<span class="op" id="2419327">!</span><span class="ident" id="2419328">p</span><span class="op" id="2419329">.</span><span class="ident" id="2419330">fmt</span><span class="op" id="2419333">.</span><span class="ident" id="2419334">widPresent</span>&nbsp;<span class="op" id="2419345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419351">p</span><span class="op" id="2419352">.</span><span class="ident" id="2419353">buf</span><span class="op" id="2419356">.</span><span class="ident" id="2419357">Write</span><span class="op" id="2419362">(</span><span class="ident" id="2419363">badWidthBytes</span><span class="op" id="2419376">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419386">afterIndex</span>&nbsp;<span class="op" id="2419397">=</span>&nbsp;<span class="builtintype" id="2419399">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419407">}</span>&nbsp;<span class="keyword" id="2419409">else</span>&nbsp;<span class="op" id="2419414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419419">p</span><span class="op" id="2419420">.</span><span class="ident" id="2419421">fmt</span><span class="op" id="2419424">.</span><span class="ident" id="2419425">wid</span><span class="op" id="2419428">,</span>&nbsp;<span class="ident" id="2419430">p</span><span class="op" id="2419431">.</span><span class="ident" id="2419432">fmt</span><span class="op" id="2419435">.</span><span class="ident" id="2419436">widPresent</span><span class="op" id="2419446">,</span>&nbsp;<span class="ident" id="2419448">i</span>&nbsp;<span class="op" id="2419450">=</span>&nbsp;<span class="ident" id="2419452">parsenum</span><span class="op" id="2419460">(</span><span class="ident" id="2419461">format</span><span class="op" id="2419467">,</span>&nbsp;<span class="ident" id="2419469">i</span><span class="op" id="2419470">,</span>&nbsp;<span class="ident" id="2419472">end</span><span class="op" id="2419475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419480">if</span>&nbsp;<span class="ident" id="2419483">afterIndex</span>&nbsp;<span class="op" id="2419494">&amp;&amp;</span>&nbsp;<span class="ident" id="2419497">p</span><span class="op" id="2419498">.</span><span class="ident" id="2419499">fmt</span><span class="op" id="2419502">.</span><span class="ident" id="2419503">widPresent</span>&nbsp;<span class="op" id="2419514">{</span>&nbsp;<span class="comment" id="2419516">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419532">p</span><span class="op" id="2419533">.</span><span class="ident" id="2419534">goodArgNum</span>&nbsp;<span class="op" id="2419545">=</span>&nbsp;<span class="builtintype" id="2419547">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419565">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419592">if</span>&nbsp;<span class="ident" id="2419595">i</span><span class="op" id="2419596">+</span><span class="num" id="2419597">1</span>&nbsp;<span class="op" id="2419599">&lt;</span>&nbsp;<span class="ident" id="2419601">end</span>&nbsp;<span class="op" id="2419605">&amp;&amp;</span>&nbsp;<span class="ident" id="2419608">format</span><span class="op" id="2419614">[</span><span class="ident" id="2419615">i</span><span class="op" id="2419616">]</span>&nbsp;<span class="op" id="2419618">==</span>&nbsp;<span class="string" id="2419621">&#39;.&#39;</span>&nbsp;<span class="op" id="2419625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419630">i</span><span class="op" id="2419631">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419637">if</span>&nbsp;<span class="ident" id="2419640">afterIndex</span>&nbsp;<span class="op" id="2419651">{</span>&nbsp;<span class="comment" id="2419653">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419670">p</span><span class="op" id="2419671">.</span><span class="ident" id="2419672">goodArgNum</span>&nbsp;<span class="op" id="2419683">=</span>&nbsp;<span class="builtintype" id="2419685">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419694">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419699">argNum</span><span class="op" id="2419705">,</span>&nbsp;<span class="ident" id="2419707">i</span><span class="op" id="2419708">,</span>&nbsp;<span class="ident" id="2419710">afterIndex</span>&nbsp;<span class="op" id="2419721">=</span>&nbsp;<span class="ident" id="2419723">p</span><span class="op" id="2419724">.</span><span class="ident" id="2419725">argNumber</span><span class="op" id="2419734">(</span><span class="ident" id="2419735">argNum</span><span class="op" id="2419741">,</span>&nbsp;<span class="ident" id="2419743">format</span><span class="op" id="2419749">,</span>&nbsp;<span class="ident" id="2419751">i</span><span class="op" id="2419752">,</span>&nbsp;<span class="builtinfunc" id="2419754">len</span><span class="op" id="2419757">(</span><span class="ident" id="2419758">a</span><span class="op" id="2419759">)</span><span class="op" id="2419760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419765">if</span>&nbsp;<span class="ident" id="2419768">format</span><span class="op" id="2419774">[</span><span class="ident" id="2419775">i</span><span class="op" id="2419776">]</span>&nbsp;<span class="op" id="2419778">==</span>&nbsp;<span class="string" id="2419781">&#39;*&#39;</span>&nbsp;<span class="op" id="2419785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419791">i</span><span class="op" id="2419792">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419799">p</span><span class="op" id="2419800">.</span><span class="ident" id="2419801">fmt</span><span class="op" id="2419804">.</span><span class="ident" id="2419805">prec</span><span class="op" id="2419809">,</span>&nbsp;<span class="ident" id="2419811">p</span><span class="op" id="2419812">.</span><span class="ident" id="2419813">fmt</span><span class="op" id="2419816">.</span><span class="ident" id="2419817">precPresent</span><span class="op" id="2419828">,</span>&nbsp;<span class="ident" id="2419830">argNum</span>&nbsp;<span class="op" id="2419837">=</span>&nbsp;<span class="ident" id="2419839">intFromArg</span><span class="op" id="2419849">(</span><span class="ident" id="2419850">a</span><span class="op" id="2419851">,</span>&nbsp;<span class="ident" id="2419853">argNum</span><span class="op" id="2419859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419865">if</span>&nbsp;<span class="op" id="2419868">!</span><span class="ident" id="2419869">p</span><span class="op" id="2419870">.</span><span class="ident" id="2419871">fmt</span><span class="op" id="2419874">.</span><span class="ident" id="2419875">precPresent</span>&nbsp;<span class="op" id="2419887">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419894">p</span><span class="op" id="2419895">.</span><span class="ident" id="2419896">buf</span><span class="op" id="2419899">.</span><span class="ident" id="2419900">Write</span><span class="op" id="2419905">(</span><span class="ident" id="2419906">badPrecBytes</span><span class="op" id="2419918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419930">afterIndex</span>&nbsp;<span class="op" id="2419941">=</span>&nbsp;<span class="builtintype" id="2419943">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419952">}</span>&nbsp;<span class="keyword" id="2419954">else</span>&nbsp;<span class="op" id="2419959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419965">p</span><span class="op" id="2419966">.</span><span class="ident" id="2419967">fmt</span><span class="op" id="2419970">.</span><span class="ident" id="2419971">prec</span><span class="op" id="2419975">,</span>&nbsp;<span class="ident" id="2419977">p</span><span class="op" id="2419978">.</span><span class="ident" id="2419979">fmt</span><span class="op" id="2419982">.</span><span class="ident" id="2419983">precPresent</span><span class="op" id="2419994">,</span>&nbsp;<span class="ident" id="2419996">i</span>&nbsp;<span class="op" id="2419998">=</span>&nbsp;<span class="ident" id="2420000">parsenum</span><span class="op" id="2420008">(</span><span class="ident" id="2420009">format</span><span class="op" id="2420015">,</span>&nbsp;<span class="ident" id="2420017">i</span><span class="op" id="2420018">,</span>&nbsp;<span class="ident" id="2420020">end</span><span class="op" id="2420023">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420029">if</span>&nbsp;<span class="op" id="2420032">!</span><span class="ident" id="2420033">p</span><span class="op" id="2420034">.</span><span class="ident" id="2420035">fmt</span><span class="op" id="2420038">.</span><span class="ident" id="2420039">precPresent</span>&nbsp;<span class="op" id="2420051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420058">p</span><span class="op" id="2420059">.</span><span class="ident" id="2420060">fmt</span><span class="op" id="2420063">.</span><span class="ident" id="2420064">prec</span>&nbsp;<span class="op" id="2420069">=</span>&nbsp;<span class="num" id="2420071">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420078">p</span><span class="op" id="2420079">.</span><span class="ident" id="2420080">fmt</span><span class="op" id="2420083">.</span><span class="ident" id="2420084">precPresent</span>&nbsp;<span class="op" id="2420096">=</span>&nbsp;<span class="builtintype" id="2420098">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420112">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420121">if</span>&nbsp;<span class="op" id="2420124">!</span><span class="ident" id="2420125">afterIndex</span>&nbsp;<span class="op" id="2420136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420141">argNum</span><span class="op" id="2420147">,</span>&nbsp;<span class="ident" id="2420149">i</span><span class="op" id="2420150">,</span>&nbsp;<span class="ident" id="2420152">afterIndex</span>&nbsp;<span class="op" id="2420163">=</span>&nbsp;<span class="ident" id="2420165">p</span><span class="op" id="2420166">.</span><span class="ident" id="2420167">argNumber</span><span class="op" id="2420176">(</span><span class="ident" id="2420177">argNum</span><span class="op" id="2420183">,</span>&nbsp;<span class="ident" id="2420185">format</span><span class="op" id="2420191">,</span>&nbsp;<span class="ident" id="2420193">i</span><span class="op" id="2420194">,</span>&nbsp;<span class="builtinfunc" id="2420196">len</span><span class="op" id="2420199">(</span><span class="ident" id="2420200">a</span><span class="op" id="2420201">)</span><span class="op" id="2420202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420206">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420211">if</span>&nbsp;<span class="ident" id="2420214">i</span>&nbsp;<span class="op" id="2420216">&gt;=</span>&nbsp;<span class="ident" id="2420219">end</span>&nbsp;<span class="op" id="2420223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420228">p</span><span class="op" id="2420229">.</span><span class="ident" id="2420230">buf</span><span class="op" id="2420233">.</span><span class="ident" id="2420234">Write</span><span class="op" id="2420239">(</span><span class="ident" id="2420240">noVerbBytes</span><span class="op" id="2420251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420256">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420267">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420271">c</span><span class="op" id="2420272">,</span>&nbsp;<span class="ident" id="2420274">w</span>&nbsp;<span class="op" id="2420276">:=</span>&nbsp;<span class="ident" id="2420279">utf8</span><span class="op" id="2420283">.</span><span class="ident" id="2420284">DecodeRuneInString</span><span class="op" id="2420302">(</span><span class="ident" id="2420303">format</span><span class="op" id="2420309">[</span><span class="ident" id="2420310">i</span><span class="op" id="2420311">:</span><span class="op" id="2420312">]</span><span class="op" id="2420313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420317">i</span>&nbsp;<span class="op" id="2420319">+=</span>&nbsp;<span class="ident" id="2420322">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420326">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420371">if</span>&nbsp;<span class="ident" id="2420374">c</span>&nbsp;<span class="op" id="2420376">==</span>&nbsp;<span class="string" id="2420379">&#39;%&#39;</span>&nbsp;<span class="op" id="2420383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420388">p</span><span class="op" id="2420389">.</span><span class="ident" id="2420390">buf</span><span class="op" id="2420393">.</span><span class="ident" id="2420394">WriteByte</span><span class="op" id="2420403">(</span><span class="string" id="2420404">&#39;%&#39;</span><span class="op" id="2420407">)</span>&nbsp;<span class="comment" id="2420409">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420441">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420456">if</span>&nbsp;<span class="op" id="2420459">!</span><span class="ident" id="2420460">p</span><span class="op" id="2420461">.</span><span class="ident" id="2420462">goodArgNum</span>&nbsp;<span class="op" id="2420473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420478">p</span><span class="op" id="2420479">.</span><span class="ident" id="2420480">buf</span><span class="op" id="2420483">.</span><span class="ident" id="2420484">Write</span><span class="op" id="2420489">(</span><span class="ident" id="2420490">percentBangBytes</span><span class="op" id="2420506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420511">p</span><span class="op" id="2420512">.</span><span class="ident" id="2420513">add</span><span class="op" id="2420516">(</span><span class="ident" id="2420517">c</span><span class="op" id="2420518">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420523">p</span><span class="op" id="2420524">.</span><span class="ident" id="2420525">buf</span><span class="op" id="2420528">.</span><span class="ident" id="2420529">Write</span><span class="op" id="2420534">(</span><span class="ident" id="2420535">badIndexBytes</span><span class="op" id="2420548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420553">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420564">}</span>&nbsp;<span class="keyword" id="2420566">else</span>&nbsp;<span class="keyword" id="2420571">if</span>&nbsp;<span class="ident" id="2420574">argNum</span>&nbsp;<span class="op" id="2420581">&gt;=</span>&nbsp;<span class="builtinfunc" id="2420584">len</span><span class="op" id="2420587">(</span><span class="ident" id="2420588">a</span><span class="op" id="2420589">)</span>&nbsp;<span class="op" id="2420591">{</span>&nbsp;<span class="comment" id="2420593">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420615">p</span><span class="op" id="2420616">.</span><span class="ident" id="2420617">buf</span><span class="op" id="2420620">.</span><span class="ident" id="2420621">Write</span><span class="op" id="2420626">(</span><span class="ident" id="2420627">percentBangBytes</span><span class="op" id="2420643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420648">p</span><span class="op" id="2420649">.</span><span class="ident" id="2420650">add</span><span class="op" id="2420653">(</span><span class="ident" id="2420654">c</span><span class="op" id="2420655">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420660">p</span><span class="op" id="2420661">.</span><span class="ident" id="2420662">buf</span><span class="op" id="2420665">.</span><span class="ident" id="2420666">Write</span><span class="op" id="2420671">(</span><span class="ident" id="2420672">missingBytes</span><span class="op" id="2420684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420689">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420704">arg</span>&nbsp;<span class="op" id="2420708">:=</span>&nbsp;<span class="ident" id="2420711">a</span><span class="op" id="2420712">[</span><span class="ident" id="2420713">argNum</span><span class="op" id="2420719">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420723">argNum</span><span class="op" id="2420729">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420735">if</span>&nbsp;<span class="ident" id="2420738">c</span>&nbsp;<span class="op" id="2420740">==</span>&nbsp;<span class="string" id="2420743">&#39;v&#39;</span>&nbsp;<span class="op" id="2420747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420752">if</span>&nbsp;<span class="ident" id="2420755">p</span><span class="op" id="2420756">.</span><span class="ident" id="2420757">fmt</span><span class="op" id="2420760">.</span><span class="ident" id="2420761">sharp</span>&nbsp;<span class="op" id="2420767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420773">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420841">p</span><span class="op" id="2420842">.</span><span class="ident" id="2420843">fmt</span><span class="op" id="2420846">.</span><span class="ident" id="2420847">sharp</span>&nbsp;<span class="op" id="2420853">=</span>&nbsp;<span class="builtintype" id="2420855">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420865">p</span><span class="op" id="2420866">.</span><span class="ident" id="2420867">fmt</span><span class="op" id="2420870">.</span><span class="ident" id="2420871">sharpV</span>&nbsp;<span class="op" id="2420878">=</span>&nbsp;<span class="builtintype" id="2420880">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420893">if</span>&nbsp;<span class="ident" id="2420896">p</span><span class="op" id="2420897">.</span><span class="ident" id="2420898">fmt</span><span class="op" id="2420901">.</span><span class="ident" id="2420902">plus</span>&nbsp;<span class="op" id="2420907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420913">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420990">p</span><span class="op" id="2420991">.</span><span class="ident" id="2420992">fmt</span><span class="op" id="2420995">.</span><span class="ident" id="2420996">plus</span>&nbsp;<span class="op" id="2421001">=</span>&nbsp;<span class="builtintype" id="2421003">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421013">p</span><span class="op" id="2421014">.</span><span class="ident" id="2421015">fmt</span><span class="op" id="2421018">.</span><span class="ident" id="2421019">plusV</span>&nbsp;<span class="op" id="2421025">=</span>&nbsp;<span class="builtintype" id="2421027">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421043">p</span><span class="op" id="2421044">.</span><span class="ident" id="2421045">printArg</span><span class="op" id="2421053">(</span><span class="ident" id="2421054">arg</span><span class="op" id="2421057">,</span>&nbsp;<span class="ident" id="2421059">c</span><span class="op" id="2421060">,</span>&nbsp;<span class="num" id="2421062">0</span><span class="op" id="2421063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421066">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2421070">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2421139">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2421215">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421261">if</span>&nbsp;<span class="op" id="2421264">!</span><span class="ident" id="2421265">p</span><span class="op" id="2421266">.</span><span class="ident" id="2421267">reordered</span>&nbsp;<span class="op" id="2421277">&amp;&amp;</span>&nbsp;<span class="ident" id="2421280">argNum</span>&nbsp;<span class="op" id="2421287">&lt;</span>&nbsp;<span class="builtinfunc" id="2421289">len</span><span class="op" id="2421292">(</span><span class="ident" id="2421293">a</span><span class="op" id="2421294">)</span>&nbsp;<span class="op" id="2421296">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421300">p</span><span class="op" id="2421301">.</span><span class="ident" id="2421302">buf</span><span class="op" id="2421305">.</span><span class="ident" id="2421306">Write</span><span class="op" id="2421311">(</span><span class="ident" id="2421312">extraBytes</span><span class="op" id="2421322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421326">for</span>&nbsp;<span class="op" id="2421330">;</span>&nbsp;<span class="ident" id="2421332">argNum</span>&nbsp;<span class="op" id="2421339">&lt;</span>&nbsp;<span class="builtinfunc" id="2421341">len</span><span class="op" id="2421344">(</span><span class="ident" id="2421345">a</span><span class="op" id="2421346">)</span><span class="op" id="2421347">;</span>&nbsp;<span class="ident" id="2421349">argNum</span><span class="op" id="2421355">++</span>&nbsp;<span class="op" id="2421358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421363">arg</span>&nbsp;<span class="op" id="2421367">:=</span>&nbsp;<span class="ident" id="2421370">a</span><span class="op" id="2421371">[</span><span class="ident" id="2421372">argNum</span><span class="op" id="2421378">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421383">if</span>&nbsp;<span class="ident" id="2421386">arg</span>&nbsp;<span class="op" id="2421390">!=</span>&nbsp;<span class="ident" id="2421393">nil</span>&nbsp;<span class="op" id="2421397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421403">p</span><span class="op" id="2421404">.</span><span class="ident" id="2421405">buf</span><span class="op" id="2421408">.</span><span class="ident" id="2421409">WriteString</span><span class="op" id="2421420">(</span><span class="ident" id="2421421">reflect</span><span class="op" id="2421428">.</span><span class="ident" id="2421429">TypeOf</span><span class="op" id="2421435">(</span><span class="ident" id="2421436">arg</span><span class="op" id="2421439">)</span><span class="op" id="2421440">.</span><span class="ident" id="2421441">String</span><span class="op" id="2421447">(</span><span class="op" id="2421448">)</span><span class="op" id="2421449">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421455">p</span><span class="op" id="2421456">.</span><span class="ident" id="2421457">buf</span><span class="op" id="2421460">.</span><span class="ident" id="2421461">WriteByte</span><span class="op" id="2421470">(</span><span class="string" id="2421471">&#39;=&#39;</span><span class="op" id="2421474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421484">p</span><span class="op" id="2421485">.</span><span class="ident" id="2421486">printArg</span><span class="op" id="2421494">(</span><span class="ident" id="2421495">arg</span><span class="op" id="2421498">,</span>&nbsp;<span class="string" id="2421500">&#39;v&#39;</span><span class="op" id="2421503">,</span>&nbsp;<span class="num" id="2421505">0</span><span class="op" id="2421506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421511">if</span>&nbsp;<span class="ident" id="2421514">argNum</span><span class="op" id="2421520">+</span><span class="num" id="2421521">1</span>&nbsp;<span class="op" id="2421523">&lt;</span>&nbsp;<span class="builtinfunc" id="2421525">len</span><span class="op" id="2421528">(</span><span class="ident" id="2421529">a</span><span class="op" id="2421530">)</span>&nbsp;<span class="op" id="2421532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421538">p</span><span class="op" id="2421539">.</span><span class="ident" id="2421540">buf</span><span class="op" id="2421543">.</span><span class="ident" id="2421544">Write</span><span class="op" id="2421549">(</span><span class="ident" id="2421550">commaSpaceBytes</span><span class="op" id="2421565">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421578">p</span><span class="op" id="2421579">.</span><span class="ident" id="2421580">buf</span><span class="op" id="2421583">.</span><span class="ident" id="2421584">WriteByte</span><span class="op" id="2421593">(</span><span class="string" id="2421594">&#39;)&#39;</span><span class="op" id="2421597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421600">}</span><br>
<span class="lineno"></span><span class="op" id="2421602">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2421605">func</span>&nbsp;<span class="op" id="2421610">(</span><span class="ident" id="2421611">p</span>&nbsp;<span class="op" id="2421613">*</span><span class="ident" id="2421614">pp</span><span class="op" id="2421616">)</span>&nbsp;<span class="ident" id="2421618">doPrint</span><span class="op" id="2421625">(</span><span class="ident" id="2421626">a</span>&nbsp;<span class="op" id="2421628">[</span><span class="op" id="2421629">]</span><span class="keyword" id="2421630">interface</span><span class="op" id="2421639">{</span><span class="op" id="2421640">}</span><span class="op" id="2421641">,</span>&nbsp;<span class="ident" id="2421643">addspace</span><span class="op" id="2421651">,</span>&nbsp;<span class="ident" id="2421653">addnewline</span>&nbsp;<span class="builtintype" id="2421664">bool</span><span class="op" id="2421668">)</span>&nbsp;<span class="op" id="2421670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421673">prevString</span>&nbsp;<span class="op" id="2421684">:=</span>&nbsp;<span class="builtintype" id="2421687">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421694">for</span>&nbsp;<span class="ident" id="2421698">argNum</span>&nbsp;<span class="op" id="2421705">:=</span>&nbsp;<span class="num" id="2421708">0</span><span class="op" id="2421709">;</span>&nbsp;<span class="ident" id="2421711">argNum</span>&nbsp;<span class="op" id="2421718">&lt;</span>&nbsp;<span class="builtinfunc" id="2421720">len</span><span class="op" id="2421723">(</span><span class="ident" id="2421724">a</span><span class="op" id="2421725">)</span><span class="op" id="2421726">;</span>&nbsp;<span class="ident" id="2421728">argNum</span><span class="op" id="2421734">++</span>&nbsp;<span class="op" id="2421737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421741">p</span><span class="op" id="2421742">.</span><span class="ident" id="2421743">fmt</span><span class="op" id="2421746">.</span><span class="ident" id="2421747">clearflags</span><span class="op" id="2421757">(</span><span class="op" id="2421758">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2421762">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421808">arg</span>&nbsp;<span class="op" id="2421812">:=</span>&nbsp;<span class="ident" id="2421815">a</span><span class="op" id="2421816">[</span><span class="ident" id="2421817">argNum</span><span class="op" id="2421823">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421827">if</span>&nbsp;<span class="ident" id="2421830">argNum</span>&nbsp;<span class="op" id="2421837">&gt;</span>&nbsp;<span class="num" id="2421839">0</span>&nbsp;<span class="op" id="2421841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421846">isString</span>&nbsp;<span class="op" id="2421855">:=</span>&nbsp;<span class="ident" id="2421858">arg</span>&nbsp;<span class="op" id="2421862">!=</span>&nbsp;<span class="ident" id="2421865">nil</span>&nbsp;<span class="op" id="2421869">&amp;&amp;</span>&nbsp;<span class="ident" id="2421872">reflect</span><span class="op" id="2421879">.</span><span class="ident" id="2421880">TypeOf</span><span class="op" id="2421886">(</span><span class="ident" id="2421887">arg</span><span class="op" id="2421890">)</span><span class="op" id="2421891">.</span><span class="ident" id="2421892">Kind</span><span class="op" id="2421896">(</span><span class="op" id="2421897">)</span>&nbsp;<span class="op" id="2421899">==</span>&nbsp;<span class="ident" id="2421902">reflect</span><span class="op" id="2421909">.</span><span class="ident" id="2421910">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421920">if</span>&nbsp;<span class="ident" id="2421923">addspace</span>&nbsp;<span class="op" id="2421932">||</span>&nbsp;<span class="op" id="2421935">!</span><span class="ident" id="2421936">isString</span>&nbsp;<span class="op" id="2421945">&amp;&amp;</span>&nbsp;<span class="op" id="2421948">!</span><span class="ident" id="2421949">prevString</span>&nbsp;<span class="op" id="2421960">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421966">p</span><span class="op" id="2421967">.</span><span class="ident" id="2421968">buf</span><span class="op" id="2421971">.</span><span class="ident" id="2421972">WriteByte</span><span class="op" id="2421981">(</span><span class="string" id="2421982">&#39;&nbsp;&#39;</span><span class="op" id="2421985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421998">prevString</span>&nbsp;<span class="op" id="2422009">=</span>&nbsp;<span class="ident" id="2422011">p</span><span class="op" id="2422012">.</span><span class="ident" id="2422013">printArg</span><span class="op" id="2422021">(</span><span class="ident" id="2422022">arg</span><span class="op" id="2422025">,</span>&nbsp;<span class="string" id="2422027">&#39;v&#39;</span><span class="op" id="2422030">,</span>&nbsp;<span class="num" id="2422032">0</span><span class="op" id="2422033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2422036">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422039">if</span>&nbsp;<span class="ident" id="2422042">addnewline</span>&nbsp;<span class="op" id="2422053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422057">p</span><span class="op" id="2422058">.</span><span class="ident" id="2422059">buf</span><span class="op" id="2422062">.</span><span class="ident" id="2422063">WriteByte</span><span class="op" id="2422072">(</span><span class="string" id="2422073">&#39;\n&#39;</span><span class="op" id="2422077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2422080">}</span><br>
<span class="lineno"></span><span class="op" id="2422082">}</span>
</div>
</body>
</html>
