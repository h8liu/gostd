<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7932754">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7932810">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7932864">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7932915">package</span>&nbsp;<span class="ident" id="7932923">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7932931">import</span>&nbsp;<span class="string" id="7932938">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7932949">var</span>&nbsp;<span class="ident" id="7932953">simplifyTests</span>&nbsp;<span class="op" id="7932967">=</span>&nbsp;<span class="op" id="7932969">[</span><span class="op" id="7932970">]</span><span class="keyword" id="7932971">struct</span>&nbsp;<span class="op" id="7932978">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7932981">Regexp</span>&nbsp;<span class="builtintype" id="7932988">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7932996">Simple</span>&nbsp;<span class="builtintype" id="7933003">string</span><br>
<span class="lineno"></span><span class="op" id="7933010">}</span><span class="op" id="7933011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7933014">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933044">{</span><span class="string" id="7933045">`a`</span><span class="op" id="7933048">,</span>&nbsp;<span class="string" id="7933050">`a`</span><span class="op" id="7933053">}</span><span class="op" id="7933054">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933057">{</span><span class="string" id="7933058">`ab`</span><span class="op" id="7933062">,</span>&nbsp;<span class="string" id="7933064">`ab`</span><span class="op" id="7933068">}</span><span class="op" id="7933069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933072">{</span><span class="string" id="7933073">`a|b`</span><span class="op" id="7933078">,</span>&nbsp;<span class="string" id="7933080">`[a-b]`</span><span class="op" id="7933087">}</span><span class="op" id="7933088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933091">{</span><span class="string" id="7933092">`ab|cd`</span><span class="op" id="7933099">,</span>&nbsp;<span class="string" id="7933101">`ab|cd`</span><span class="op" id="7933108">}</span><span class="op" id="7933109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933112">{</span><span class="string" id="7933113">`(ab)*`</span><span class="op" id="7933120">,</span>&nbsp;<span class="string" id="7933122">`(ab)*`</span><span class="op" id="7933129">}</span><span class="op" id="7933130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933133">{</span><span class="string" id="7933134">`(ab)+`</span><span class="op" id="7933141">,</span>&nbsp;<span class="string" id="7933143">`(ab)+`</span><span class="op" id="7933150">}</span><span class="op" id="7933151">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933154">{</span><span class="string" id="7933155">`(ab)?`</span><span class="op" id="7933162">,</span>&nbsp;<span class="string" id="7933164">`(ab)?`</span><span class="op" id="7933171">}</span><span class="op" id="7933172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933175">{</span><span class="string" id="7933176">`.`</span><span class="op" id="7933179">,</span>&nbsp;<span class="string" id="7933181">`(?s:.)`</span><span class="op" id="7933189">}</span><span class="op" id="7933190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933193">{</span><span class="string" id="7933194">`^`</span><span class="op" id="7933197">,</span>&nbsp;<span class="string" id="7933199">`^`</span><span class="op" id="7933202">}</span><span class="op" id="7933203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933206">{</span><span class="string" id="7933207">`$`</span><span class="op" id="7933210">,</span>&nbsp;<span class="string" id="7933212">`$`</span><span class="op" id="7933215">}</span><span class="op" id="7933216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933219">{</span><span class="string" id="7933220">`[ac]`</span><span class="op" id="7933226">,</span>&nbsp;<span class="string" id="7933228">`[ac]`</span><span class="op" id="7933234">}</span><span class="op" id="7933235">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933238">{</span><span class="string" id="7933239">`[^ac]`</span><span class="op" id="7933246">,</span>&nbsp;<span class="string" id="7933248">`[^ac]`</span><span class="op" id="7933255">}</span><span class="op" id="7933256">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7933260">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933288">{</span><span class="string" id="7933289">`[[:alnum:]]`</span><span class="op" id="7933302">,</span>&nbsp;<span class="string" id="7933304">`[0-9A-Za-z]`</span><span class="op" id="7933317">}</span><span class="op" id="7933318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933321">{</span><span class="string" id="7933322">`[[:alpha:]]`</span><span class="op" id="7933335">,</span>&nbsp;<span class="string" id="7933337">`[A-Za-z]`</span><span class="op" id="7933347">}</span><span class="op" id="7933348">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933351">{</span><span class="string" id="7933352">`[[:blank:]]`</span><span class="op" id="7933365">,</span>&nbsp;<span class="string" id="7933367">`[\t&nbsp;]`</span><span class="op" id="7933374">}</span><span class="op" id="7933375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933378">{</span><span class="string" id="7933379">`[[:cntrl:]]`</span><span class="op" id="7933392">,</span>&nbsp;<span class="string" id="7933394">`[\x00-\x1f\x7f]`</span><span class="op" id="7933411">}</span><span class="op" id="7933412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933415">{</span><span class="string" id="7933416">`[[:digit:]]`</span><span class="op" id="7933429">,</span>&nbsp;<span class="string" id="7933431">`[0-9]`</span><span class="op" id="7933438">}</span><span class="op" id="7933439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933442">{</span><span class="string" id="7933443">`[[:graph:]]`</span><span class="op" id="7933456">,</span>&nbsp;<span class="string" id="7933458">`[!-~]`</span><span class="op" id="7933465">}</span><span class="op" id="7933466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933469">{</span><span class="string" id="7933470">`[[:lower:]]`</span><span class="op" id="7933483">,</span>&nbsp;<span class="string" id="7933485">`[a-z]`</span><span class="op" id="7933492">}</span><span class="op" id="7933493">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933496">{</span><span class="string" id="7933497">`[[:print:]]`</span><span class="op" id="7933510">,</span>&nbsp;<span class="string" id="7933512">`[&nbsp;-~]`</span><span class="op" id="7933519">}</span><span class="op" id="7933520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933523">{</span><span class="string" id="7933524">`[[:punct:]]`</span><span class="op" id="7933537">,</span>&nbsp;<span class="string" id="7933539">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="7933559">}</span><span class="op" id="7933560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933563">{</span><span class="string" id="7933564">`[[:space:]]`</span><span class="op" id="7933577">,</span>&nbsp;<span class="string" id="7933579">`[\t-\r&nbsp;]`</span><span class="op" id="7933589">}</span><span class="op" id="7933590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933593">{</span><span class="string" id="7933594">`[[:upper:]]`</span><span class="op" id="7933607">,</span>&nbsp;<span class="string" id="7933609">`[A-Z]`</span><span class="op" id="7933616">}</span><span class="op" id="7933617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933620">{</span><span class="string" id="7933621">`[[:xdigit:]]`</span><span class="op" id="7933635">,</span>&nbsp;<span class="string" id="7933637">`[0-9A-Fa-f]`</span><span class="op" id="7933650">}</span><span class="op" id="7933651">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7933655">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933682">{</span><span class="string" id="7933683">`\d`</span><span class="op" id="7933687">,</span>&nbsp;<span class="string" id="7933689">`[0-9]`</span><span class="op" id="7933696">}</span><span class="op" id="7933697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933700">{</span><span class="string" id="7933701">`\s`</span><span class="op" id="7933705">,</span>&nbsp;<span class="string" id="7933707">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7933722">}</span><span class="op" id="7933723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933726">{</span><span class="string" id="7933727">`\w`</span><span class="op" id="7933731">,</span>&nbsp;<span class="string" id="7933733">`[0-9A-Z_a-z]`</span><span class="op" id="7933747">}</span><span class="op" id="7933748">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933751">{</span><span class="string" id="7933752">`\D`</span><span class="op" id="7933756">,</span>&nbsp;<span class="string" id="7933758">`[^0-9]`</span><span class="op" id="7933766">}</span><span class="op" id="7933767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933770">{</span><span class="string" id="7933771">`\S`</span><span class="op" id="7933775">,</span>&nbsp;<span class="string" id="7933777">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7933793">}</span><span class="op" id="7933794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933797">{</span><span class="string" id="7933798">`\W`</span><span class="op" id="7933802">,</span>&nbsp;<span class="string" id="7933804">`[^0-9A-Z_a-z]`</span><span class="op" id="7933819">}</span><span class="op" id="7933820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933823">{</span><span class="string" id="7933824">`[\d]`</span><span class="op" id="7933830">,</span>&nbsp;<span class="string" id="7933832">`[0-9]`</span><span class="op" id="7933839">}</span><span class="op" id="7933840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933843">{</span><span class="string" id="7933844">`[\s]`</span><span class="op" id="7933850">,</span>&nbsp;<span class="string" id="7933852">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7933867">}</span><span class="op" id="7933868">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933871">{</span><span class="string" id="7933872">`[\w]`</span><span class="op" id="7933878">,</span>&nbsp;<span class="string" id="7933880">`[0-9A-Z_a-z]`</span><span class="op" id="7933894">}</span><span class="op" id="7933895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933898">{</span><span class="string" id="7933899">`[\D]`</span><span class="op" id="7933905">,</span>&nbsp;<span class="string" id="7933907">`[^0-9]`</span><span class="op" id="7933915">}</span><span class="op" id="7933916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933919">{</span><span class="string" id="7933920">`[\S]`</span><span class="op" id="7933926">,</span>&nbsp;<span class="string" id="7933928">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7933944">}</span><span class="op" id="7933945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933948">{</span><span class="string" id="7933949">`[\W]`</span><span class="op" id="7933955">,</span>&nbsp;<span class="string" id="7933957">`[^0-9A-Z_a-z]`</span><span class="op" id="7933972">}</span><span class="op" id="7933973">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7933977">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933999">{</span><span class="string" id="7934000">`a{1}`</span><span class="op" id="7934006">,</span>&nbsp;<span class="string" id="7934008">`a`</span><span class="op" id="7934011">}</span><span class="op" id="7934012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934015">{</span><span class="string" id="7934016">`a{2}`</span><span class="op" id="7934022">,</span>&nbsp;<span class="string" id="7934024">`aa`</span><span class="op" id="7934028">}</span><span class="op" id="7934029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934032">{</span><span class="string" id="7934033">`a{5}`</span><span class="op" id="7934039">,</span>&nbsp;<span class="string" id="7934041">`aaaaa`</span><span class="op" id="7934048">}</span><span class="op" id="7934049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934052">{</span><span class="string" id="7934053">`a{0,1}`</span><span class="op" id="7934061">,</span>&nbsp;<span class="string" id="7934063">`a?`</span><span class="op" id="7934067">}</span><span class="op" id="7934068">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7934071">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7934134">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7934190">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934267">{</span><span class="string" id="7934268">`(a){0,2}`</span><span class="op" id="7934278">,</span>&nbsp;<span class="string" id="7934280">`(?:(a)(a)?)?`</span><span class="op" id="7934294">}</span><span class="op" id="7934295">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7934319">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934336">{</span><span class="string" id="7934337">`(a){0,4}`</span><span class="op" id="7934347">,</span>&nbsp;<span class="string" id="7934349">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7934379">}</span><span class="op" id="7934380">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7934388">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934409">{</span><span class="string" id="7934410">`(a){2,6}`</span><span class="op" id="7934420">,</span>&nbsp;<span class="string" id="7934422">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7934458">}</span><span class="op" id="7934459">,</span>&nbsp;<span class="comment" id="7934461">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934482">{</span><span class="string" id="7934483">`a{0,2}`</span><span class="op" id="7934491">,</span>&nbsp;<span class="string" id="7934493">`(?:aa?)?`</span><span class="op" id="7934503">}</span><span class="op" id="7934504">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7934534">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934551">{</span><span class="string" id="7934552">`a{0,4}`</span><span class="op" id="7934560">,</span>&nbsp;<span class="string" id="7934562">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7934584">}</span><span class="op" id="7934585">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7934603">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934624">{</span><span class="string" id="7934625">`a{2,6}`</span><span class="op" id="7934633">,</span>&nbsp;<span class="string" id="7934635">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7934659">}</span><span class="op" id="7934660">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7934676">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934697">{</span><span class="string" id="7934698">`a{0,}`</span><span class="op" id="7934705">,</span>&nbsp;<span class="string" id="7934707">`a*`</span><span class="op" id="7934711">}</span><span class="op" id="7934712">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934715">{</span><span class="string" id="7934716">`a{1,}`</span><span class="op" id="7934723">,</span>&nbsp;<span class="string" id="7934725">`a+`</span><span class="op" id="7934729">}</span><span class="op" id="7934730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934733">{</span><span class="string" id="7934734">`a{2,}`</span><span class="op" id="7934741">,</span>&nbsp;<span class="string" id="7934743">`aa+`</span><span class="op" id="7934748">}</span><span class="op" id="7934749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934752">{</span><span class="string" id="7934753">`a{5,}`</span><span class="op" id="7934760">,</span>&nbsp;<span class="string" id="7934762">`aaaaa+`</span><span class="op" id="7934770">}</span><span class="op" id="7934771">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7934775">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934825">{</span><span class="string" id="7934826">`(?:a{1,}){1,}`</span><span class="op" id="7934841">,</span>&nbsp;<span class="string" id="7934843">`a+`</span><span class="op" id="7934847">}</span><span class="op" id="7934848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934851">{</span><span class="string" id="7934852">`(a{1,}b{1,})`</span><span class="op" id="7934866">,</span>&nbsp;<span class="string" id="7934868">`(a+b+)`</span><span class="op" id="7934876">}</span><span class="op" id="7934877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934880">{</span><span class="string" id="7934881">`a{1,}|b{1,}`</span><span class="op" id="7934894">,</span>&nbsp;<span class="string" id="7934896">`a+|b+`</span><span class="op" id="7934903">}</span><span class="op" id="7934904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934907">{</span><span class="string" id="7934908">`(?:a{1,})*`</span><span class="op" id="7934920">,</span>&nbsp;<span class="string" id="7934922">`(?:a+)*`</span><span class="op" id="7934931">}</span><span class="op" id="7934932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934935">{</span><span class="string" id="7934936">`(?:a{1,})+`</span><span class="op" id="7934948">,</span>&nbsp;<span class="string" id="7934950">`a+`</span><span class="op" id="7934954">}</span><span class="op" id="7934955">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934958">{</span><span class="string" id="7934959">`(?:a{1,})?`</span><span class="op" id="7934971">,</span>&nbsp;<span class="string" id="7934973">`(?:a+)?`</span><span class="op" id="7934982">}</span><span class="op" id="7934983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934986">{</span><span class="string" id="7934987">``</span><span class="op" id="7934989">,</span>&nbsp;<span class="string" id="7934991">`(?:)`</span><span class="op" id="7934997">}</span><span class="op" id="7934998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935001">{</span><span class="string" id="7935002">`a{0}`</span><span class="op" id="7935008">,</span>&nbsp;<span class="string" id="7935010">`(?:)`</span><span class="op" id="7935016">}</span><span class="op" id="7935017">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7935021">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935056">{</span><span class="string" id="7935057">`[ab]`</span><span class="op" id="7935063">,</span>&nbsp;<span class="string" id="7935065">`[a-b]`</span><span class="op" id="7935072">}</span><span class="op" id="7935073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935076">{</span><span class="string" id="7935077">`[a-za-za-z]`</span><span class="op" id="7935090">,</span>&nbsp;<span class="string" id="7935092">`[a-z]`</span><span class="op" id="7935099">}</span><span class="op" id="7935100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935103">{</span><span class="string" id="7935104">`[A-Za-zA-Za-z]`</span><span class="op" id="7935120">,</span>&nbsp;<span class="string" id="7935122">`[A-Za-z]`</span><span class="op" id="7935132">}</span><span class="op" id="7935133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935136">{</span><span class="string" id="7935137">`[ABCDEFGH]`</span><span class="op" id="7935149">,</span>&nbsp;<span class="string" id="7935151">`[A-H]`</span><span class="op" id="7935158">}</span><span class="op" id="7935159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935162">{</span><span class="string" id="7935163">`[AB-CD-EF-GH]`</span><span class="op" id="7935178">,</span>&nbsp;<span class="string" id="7935180">`[A-H]`</span><span class="op" id="7935187">}</span><span class="op" id="7935188">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935191">{</span><span class="string" id="7935192">`[W-ZP-XE-R]`</span><span class="op" id="7935205">,</span>&nbsp;<span class="string" id="7935207">`[E-Z]`</span><span class="op" id="7935214">}</span><span class="op" id="7935215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935218">{</span><span class="string" id="7935219">`[a-ee-gg-m]`</span><span class="op" id="7935232">,</span>&nbsp;<span class="string" id="7935234">`[a-m]`</span><span class="op" id="7935241">}</span><span class="op" id="7935242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935245">{</span><span class="string" id="7935246">`[a-ea-ha-m]`</span><span class="op" id="7935259">,</span>&nbsp;<span class="string" id="7935261">`[a-m]`</span><span class="op" id="7935268">}</span><span class="op" id="7935269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935272">{</span><span class="string" id="7935273">`[a-ma-ha-e]`</span><span class="op" id="7935286">,</span>&nbsp;<span class="string" id="7935288">`[a-m]`</span><span class="op" id="7935295">}</span><span class="op" id="7935296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935299">{</span><span class="string" id="7935300">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="7935316">,</span>&nbsp;<span class="string" id="7935318">`[&nbsp;-~]`</span><span class="op" id="7935325">}</span><span class="op" id="7935326">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7935330">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935358">{</span><span class="string" id="7935359">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="7935383">,</span>&nbsp;<span class="string" id="7935385">`[^\x00-\x{10FFFF}]`</span><span class="op" id="7935405">}</span><span class="op" id="7935406">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7935410">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935437">{</span><span class="string" id="7935438">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="7935461">,</span>&nbsp;<span class="string" id="7935463">`(?s:.)`</span><span class="op" id="7935471">}</span><span class="op" id="7935472">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7935476">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935502">{</span><span class="string" id="7935503">`(?i)A`</span><span class="op" id="7935510">,</span>&nbsp;<span class="string" id="7935512">`(?i:A)`</span><span class="op" id="7935520">}</span><span class="op" id="7935521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935524">{</span><span class="string" id="7935525">`(?i)a`</span><span class="op" id="7935532">,</span>&nbsp;<span class="string" id="7935534">`(?i:A)`</span><span class="op" id="7935542">}</span><span class="op" id="7935543">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935546">{</span><span class="string" id="7935547">`(?i)[A]`</span><span class="op" id="7935556">,</span>&nbsp;<span class="string" id="7935558">`(?i:A)`</span><span class="op" id="7935566">}</span><span class="op" id="7935567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935570">{</span><span class="string" id="7935571">`(?i)[a]`</span><span class="op" id="7935580">,</span>&nbsp;<span class="string" id="7935582">`(?i:A)`</span><span class="op" id="7935590">}</span><span class="op" id="7935591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935594">{</span><span class="string" id="7935595">`(?i)K`</span><span class="op" id="7935602">,</span>&nbsp;<span class="string" id="7935604">`(?i:K)`</span><span class="op" id="7935612">}</span><span class="op" id="7935613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935616">{</span><span class="string" id="7935617">`(?i)k`</span><span class="op" id="7935624">,</span>&nbsp;<span class="string" id="7935626">`(?i:K)`</span><span class="op" id="7935634">}</span><span class="op" id="7935635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935638">{</span><span class="string" id="7935639">`(?i)\x{212a}`</span><span class="op" id="7935653">,</span>&nbsp;<span class="string" id="7935655">&#34;(?i:K)&#34;</span><span class="op" id="7935663">}</span><span class="op" id="7935664">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935667">{</span><span class="string" id="7935668">`(?i)[K]`</span><span class="op" id="7935677">,</span>&nbsp;<span class="string" id="7935679">&#34;[Kk\u212A]&#34;</span><span class="op" id="7935691">}</span><span class="op" id="7935692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935695">{</span><span class="string" id="7935696">`(?i)[k]`</span><span class="op" id="7935705">,</span>&nbsp;<span class="string" id="7935707">&#34;[Kk\u212A]&#34;</span><span class="op" id="7935719">}</span><span class="op" id="7935720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935723">{</span><span class="string" id="7935724">`(?i)[\x{212a}]`</span><span class="op" id="7935740">,</span>&nbsp;<span class="string" id="7935742">&#34;[Kk\u212A]&#34;</span><span class="op" id="7935754">}</span><span class="op" id="7935755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935758">{</span><span class="string" id="7935759">`(?i)[a-z]`</span><span class="op" id="7935770">,</span>&nbsp;<span class="string" id="7935772">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="7935794">}</span><span class="op" id="7935795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935798">{</span><span class="string" id="7935799">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="7935820">,</span>&nbsp;<span class="string" id="7935822">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="7935838">}</span><span class="op" id="7935839">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935842">{</span><span class="string" id="7935843">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="7935866">,</span>&nbsp;<span class="string" id="7935868">`(?s:.)`</span><span class="op" id="7935876">}</span><span class="op" id="7935877">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7935881">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7935923">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7935985">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7936044">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7936106">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7936169">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936220">{</span><span class="string" id="7936221">`(a|b|)`</span><span class="op" id="7936229">,</span>&nbsp;<span class="string" id="7936231">`([a-b]|(?:))`</span><span class="op" id="7936245">}</span><span class="op" id="7936246">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936249">{</span><span class="string" id="7936250">`(|)`</span><span class="op" id="7936255">,</span>&nbsp;<span class="string" id="7936257">`()`</span><span class="op" id="7936261">}</span><span class="op" id="7936262">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936265">{</span><span class="string" id="7936266">`a()`</span><span class="op" id="7936271">,</span>&nbsp;<span class="string" id="7936273">`a()`</span><span class="op" id="7936278">}</span><span class="op" id="7936279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936282">{</span><span class="string" id="7936283">`(()|())`</span><span class="op" id="7936292">,</span>&nbsp;<span class="string" id="7936294">`(()|())`</span><span class="op" id="7936303">}</span><span class="op" id="7936304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936307">{</span><span class="string" id="7936308">`(a|)`</span><span class="op" id="7936314">,</span>&nbsp;<span class="string" id="7936316">`(a|(?:))`</span><span class="op" id="7936326">}</span><span class="op" id="7936327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936330">{</span><span class="string" id="7936331">`ab()cd()`</span><span class="op" id="7936341">,</span>&nbsp;<span class="string" id="7936343">`ab()cd()`</span><span class="op" id="7936353">}</span><span class="op" id="7936354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936357">{</span><span class="string" id="7936358">`()`</span><span class="op" id="7936362">,</span>&nbsp;<span class="string" id="7936364">`()`</span><span class="op" id="7936368">}</span><span class="op" id="7936369">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936372">{</span><span class="string" id="7936373">`()*`</span><span class="op" id="7936378">,</span>&nbsp;<span class="string" id="7936380">`()*`</span><span class="op" id="7936385">}</span><span class="op" id="7936386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936389">{</span><span class="string" id="7936390">`()+`</span><span class="op" id="7936395">,</span>&nbsp;<span class="string" id="7936397">`()+`</span><span class="op" id="7936402">}</span><span class="op" id="7936403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936406">{</span><span class="string" id="7936407">`()?`</span><span class="op" id="7936412">,</span>&nbsp;<span class="string" id="7936414">`()?`</span><span class="op" id="7936419">}</span><span class="op" id="7936420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936423">{</span><span class="string" id="7936424">`(){0}`</span><span class="op" id="7936431">,</span>&nbsp;<span class="string" id="7936433">`(?:)`</span><span class="op" id="7936439">}</span><span class="op" id="7936440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936443">{</span><span class="string" id="7936444">`(){1}`</span><span class="op" id="7936451">,</span>&nbsp;<span class="string" id="7936453">`()`</span><span class="op" id="7936457">}</span><span class="op" id="7936458">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936461">{</span><span class="string" id="7936462">`(){1,}`</span><span class="op" id="7936470">,</span>&nbsp;<span class="string" id="7936472">`()+`</span><span class="op" id="7936477">}</span><span class="op" id="7936478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936481">{</span><span class="string" id="7936482">`(){0,2}`</span><span class="op" id="7936491">,</span>&nbsp;<span class="string" id="7936493">`(?:()()?)?`</span><span class="op" id="7936505">}</span><span class="op" id="7936506">,</span><br>
<span class="lineno"></span><span class="op" id="7936508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7936511">func</span>&nbsp;<span class="ident" id="7936516">TestSimplify</span><span class="op" id="7936528">(</span><span class="ident" id="7936529">t</span>&nbsp;<span class="op" id="7936531">*</span><span class="ident" id="7936532">testing</span><span class="op" id="7936539">.</span><span class="ident" id="7936540">T</span><span class="op" id="7936541">)</span>&nbsp;<span class="op" id="7936543">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936546">for</span>&nbsp;<span class="ident" id="7936550">_</span><span class="op" id="7936551">,</span>&nbsp;<span class="ident" id="7936553">tt</span>&nbsp;<span class="op" id="7936556">:=</span>&nbsp;<span class="keyword" id="7936559">range</span>&nbsp;<span class="ident" id="7936565">simplifyTests</span>&nbsp;<span class="op" id="7936579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936583">re</span><span class="op" id="7936585">,</span>&nbsp;<span class="ident" id="7936587">err</span>&nbsp;<span class="op" id="7936591">:=</span>&nbsp;<span class="ident" id="7936594">Parse</span><span class="op" id="7936599">(</span><span class="ident" id="7936600">tt</span><span class="op" id="7936602">.</span><span class="ident" id="7936603">Regexp</span><span class="op" id="7936609">,</span>&nbsp;<span class="ident" id="7936611">MatchNL</span><span class="op" id="7936618">|</span><span class="ident" id="7936619">Perl</span><span class="op" id="7936623">&amp;^</span><span class="ident" id="7936625">OneLine</span><span class="op" id="7936632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936636">if</span>&nbsp;<span class="ident" id="7936639">err</span>&nbsp;<span class="op" id="7936643">!=</span>&nbsp;<span class="ident" id="7936646">nil</span>&nbsp;<span class="op" id="7936650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936655">t</span><span class="op" id="7936656">.</span><span class="ident" id="7936657">Errorf</span><span class="op" id="7936663">(</span><span class="string" id="7936664">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="7936687">,</span>&nbsp;<span class="ident" id="7936689">tt</span><span class="op" id="7936691">.</span><span class="ident" id="7936692">Regexp</span><span class="op" id="7936698">,</span>&nbsp;<span class="ident" id="7936700">err</span><span class="op" id="7936703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936708">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936723">s</span>&nbsp;<span class="op" id="7936725">:=</span>&nbsp;<span class="ident" id="7936728">re</span><span class="op" id="7936730">.</span><span class="ident" id="7936731">Simplify</span><span class="op" id="7936739">(</span><span class="op" id="7936740">)</span><span class="op" id="7936741">.</span><span class="ident" id="7936742">String</span><span class="op" id="7936748">(</span><span class="op" id="7936749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936753">if</span>&nbsp;<span class="ident" id="7936756">s</span>&nbsp;<span class="op" id="7936758">!=</span>&nbsp;<span class="ident" id="7936761">tt</span><span class="op" id="7936763">.</span><span class="ident" id="7936764">Simple</span>&nbsp;<span class="op" id="7936771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936776">t</span><span class="op" id="7936777">.</span><span class="ident" id="7936778">Errorf</span><span class="op" id="7936784">(</span><span class="string" id="7936785">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7936816">,</span>&nbsp;<span class="ident" id="7936818">tt</span><span class="op" id="7936820">.</span><span class="ident" id="7936821">Regexp</span><span class="op" id="7936827">,</span>&nbsp;<span class="ident" id="7936829">s</span><span class="op" id="7936830">,</span>&nbsp;<span class="ident" id="7936832">tt</span><span class="op" id="7936834">.</span><span class="ident" id="7936835">Simple</span><span class="op" id="7936841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936845">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936848">}</span><br>
<span class="lineno"></span><span class="op" id="7936850">}</span>
</div>
</body>
</html>
