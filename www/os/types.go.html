<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2244254">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2244309">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2244363">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2244414">package</span>&nbsp;<span class="ident" id="2244422">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2244426">import</span>&nbsp;<span class="op" id="2244433">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2244436">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2244447">&#34;time&#34;</span><br>
<span class="lineno">10</span><span class="op" id="2244454">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2244457">//&nbsp;Getpagesize&nbsp;returns&nbsp;the&nbsp;underlying&nbsp;system&#39;s&nbsp;memory&nbsp;page&nbsp;size.</span><br>
<span class="lineno"></span><span class="keyword" id="2244522">func</span>&nbsp;<span class="ident" id="2244527">Getpagesize</span><span class="op" id="2244538">(</span><span class="op" id="2244539">)</span>&nbsp;<span class="builtintype" id="2244541">int</span>&nbsp;<span class="op" id="2244545">{</span>&nbsp;<span class="keyword" id="2244547">return</span>&nbsp;<span class="ident" id="2244554">syscall</span><span class="op" id="2244561">.</span><span class="ident" id="2244562">Getpagesize</span><span class="op" id="2244573">(</span><span class="op" id="2244574">)</span>&nbsp;<span class="op" id="2244576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2244579">//&nbsp;A&nbsp;FileInfo&nbsp;describes&nbsp;a&nbsp;file&nbsp;and&nbsp;is&nbsp;returned&nbsp;by&nbsp;Stat&nbsp;and&nbsp;Lstat.</span><br>
<span class="lineno"></span><span class="keyword" id="2244645">type</span>&nbsp;<span class="ident" id="2244650">FileInfo</span>&nbsp;<span class="keyword" id="2244659">interface</span>&nbsp;<span class="op" id="2244669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2244672">Name</span><span class="op" id="2244676">(</span><span class="op" id="2244677">)</span>&nbsp;<span class="builtintype" id="2244679">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2244692">//&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2244718">Size</span><span class="op" id="2244722">(</span><span class="op" id="2244723">)</span>&nbsp;<span class="ident" id="2244725">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2244738">//&nbsp;length&nbsp;in&nbsp;bytes&nbsp;for&nbsp;regular&nbsp;files;&nbsp;system-dependent&nbsp;for&nbsp;others</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2244805">Mode</span><span class="op" id="2244809">(</span><span class="op" id="2244810">)</span>&nbsp;<span class="ident" id="2244812">FileMode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2244825">//&nbsp;file&nbsp;mode&nbsp;bits</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2244844">ModTime</span><span class="op" id="2244851">(</span><span class="op" id="2244852">)</span>&nbsp;<span class="ident" id="2244854">time</span><span class="op" id="2244858">.</span><span class="ident" id="2244859">Time</span>&nbsp;<span class="comment" id="2244864">//&nbsp;modification&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2244886">IsDir</span><span class="op" id="2244891">(</span><span class="op" id="2244892">)</span>&nbsp;<span class="builtintype" id="2244894">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2244906">//&nbsp;abbreviation&nbsp;for&nbsp;Mode().IsDir()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2244942">Sys</span><span class="op" id="2244945">(</span><span class="op" id="2244946">)</span>&nbsp;<span class="keyword" id="2244948">interface</span><span class="op" id="2244957">{</span><span class="op" id="2244958">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2244962">//&nbsp;underlying&nbsp;data&nbsp;source&nbsp;(can&nbsp;return&nbsp;nil)</span><br>
<span class="lineno"></span><span class="op" id="2245005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2245008">//&nbsp;A&nbsp;FileMode&nbsp;represents&nbsp;a&nbsp;file&#39;s&nbsp;mode&nbsp;and&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="2245068">//&nbsp;The&nbsp;bits&nbsp;have&nbsp;the&nbsp;same&nbsp;definition&nbsp;on&nbsp;all&nbsp;systems,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2245129">//&nbsp;information&nbsp;about&nbsp;files&nbsp;can&nbsp;be&nbsp;moved&nbsp;from&nbsp;one&nbsp;system</span><br>
<span class="lineno"></span><span class="comment" id="2245185">//&nbsp;to&nbsp;another&nbsp;portably.&nbsp;&nbsp;Not&nbsp;all&nbsp;bits&nbsp;apply&nbsp;to&nbsp;all&nbsp;systems.</span><br>
<span class="lineno"></span><span class="comment" id="2245245">//&nbsp;The&nbsp;only&nbsp;required&nbsp;bit&nbsp;is&nbsp;ModeDir&nbsp;for&nbsp;directories.</span><br>
<span class="lineno">30</span><span class="keyword" id="2245298">type</span>&nbsp;<span class="ident" id="2245303">FileMode</span>&nbsp;<span class="builtintype" id="2245312">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2245320">//&nbsp;The&nbsp;defined&nbsp;file&nbsp;mode&nbsp;bits&nbsp;are&nbsp;the&nbsp;most&nbsp;significant&nbsp;bits&nbsp;of&nbsp;the&nbsp;FileMode.</span><br>
<span class="lineno"></span><span class="comment" id="2245397">//&nbsp;The&nbsp;nine&nbsp;least-significant&nbsp;bits&nbsp;are&nbsp;the&nbsp;standard&nbsp;Unix&nbsp;rwxrwxrwx&nbsp;permissions.</span><br>
<span class="lineno"></span><span class="comment" id="2245477">//&nbsp;The&nbsp;values&nbsp;of&nbsp;these&nbsp;bits&nbsp;should&nbsp;be&nbsp;considered&nbsp;part&nbsp;of&nbsp;the&nbsp;public&nbsp;API&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="2245553">//&nbsp;may&nbsp;be&nbsp;used&nbsp;in&nbsp;wire&nbsp;protocols&nbsp;or&nbsp;disk&nbsp;representations:&nbsp;they&nbsp;must&nbsp;not&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2245628">//&nbsp;changed,&nbsp;although&nbsp;new&nbsp;bits&nbsp;might&nbsp;be&nbsp;added.</span><br>
<span class="lineno"></span><span class="keyword" id="2245674">const</span>&nbsp;<span class="op" id="2245680">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2245683">//&nbsp;The&nbsp;single&nbsp;letters&nbsp;are&nbsp;the&nbsp;abbreviations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2245728">//&nbsp;used&nbsp;by&nbsp;the&nbsp;String&nbsp;method&#39;s&nbsp;formatting.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245772">ModeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2245787">FileMode</span>&nbsp;<span class="op" id="2245796">=</span>&nbsp;<span class="num" id="2245798">1</span>&nbsp;<span class="op" id="2245800">&lt;&lt;</span>&nbsp;<span class="op" id="2245803">(</span><span class="num" id="2245804">32</span>&nbsp;<span class="op" id="2245807">-</span>&nbsp;<span class="num" id="2245809">1</span>&nbsp;<span class="op" id="2245811">-</span>&nbsp;<span class="ident" id="2245813">iota</span><span class="op" id="2245817">)</span>&nbsp;<span class="comment" id="2245819">//&nbsp;d:&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245841">ModeAppend</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2245888">//&nbsp;a:&nbsp;append-only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245907">ModeExclusive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2245954">//&nbsp;l:&nbsp;exclusive&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2245975">ModeTemporary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2246022">//&nbsp;T:&nbsp;temporary&nbsp;file&nbsp;(not&nbsp;backed&nbsp;up)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246060">ModeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2246107">//&nbsp;L:&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246128">ModeDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2246175">//&nbsp;D:&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246194">ModeNamedPipe</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2246241">//&nbsp;p:&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246266">ModeSocket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2246313">//&nbsp;S:&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246339">ModeSetuid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2246386">//&nbsp;u:&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246400">ModeSetgid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2246447">//&nbsp;g:&nbsp;setgid</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246461">ModeCharDevice</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2246508">//&nbsp;c:&nbsp;Unix&nbsp;character&nbsp;device,&nbsp;when&nbsp;ModeDevice&nbsp;is&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246561">ModeSticky</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2246608">//&nbsp;t:&nbsp;sticky</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2246623">//&nbsp;Mask&nbsp;for&nbsp;the&nbsp;type&nbsp;bits.&nbsp;For&nbsp;regular&nbsp;files,&nbsp;none&nbsp;will&nbsp;be&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246688">ModeType</span>&nbsp;<span class="op" id="2246697">=</span>&nbsp;<span class="ident" id="2246699">ModeDir</span>&nbsp;<span class="op" id="2246707">|</span>&nbsp;<span class="ident" id="2246709">ModeSymlink</span>&nbsp;<span class="op" id="2246721">|</span>&nbsp;<span class="ident" id="2246723">ModeNamedPipe</span>&nbsp;<span class="op" id="2246737">|</span>&nbsp;<span class="ident" id="2246739">ModeSocket</span>&nbsp;<span class="op" id="2246750">|</span>&nbsp;<span class="ident" id="2246752">ModeDevice</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246765">ModePerm</span>&nbsp;<span class="ident" id="2246774">FileMode</span>&nbsp;<span class="op" id="2246783">=</span>&nbsp;<span class="num" id="2246785">0777</span>&nbsp;<span class="comment" id="2246790">//&nbsp;permission&nbsp;bits</span><br>
<span class="lineno"></span><span class="op" id="2246809">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2246812">func</span>&nbsp;<span class="op" id="2246817">(</span><span class="ident" id="2246818">m</span>&nbsp;<span class="ident" id="2246820">FileMode</span><span class="op" id="2246828">)</span>&nbsp;<span class="ident" id="2246830">String</span><span class="op" id="2246836">(</span><span class="op" id="2246837">)</span>&nbsp;<span class="builtintype" id="2246839">string</span>&nbsp;<span class="op" id="2246846">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2246849">const</span>&nbsp;<span class="ident" id="2246855">str</span>&nbsp;<span class="op" id="2246859">=</span>&nbsp;<span class="string" id="2246861">&#34;dalTLDpSugct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2246877">var</span>&nbsp;<span class="ident" id="2246881">buf</span>&nbsp;<span class="op" id="2246885">[</span><span class="num" id="2246886">32</span><span class="op" id="2246888">]</span><span class="builtintype" id="2246889">byte</span>&nbsp;<span class="comment" id="2246894">//&nbsp;Mode&nbsp;is&nbsp;uint32.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246914">w</span>&nbsp;<span class="op" id="2246916">:=</span>&nbsp;<span class="num" id="2246919">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2246922">for</span>&nbsp;<span class="ident" id="2246926">i</span><span class="op" id="2246927">,</span>&nbsp;<span class="ident" id="2246929">c</span>&nbsp;<span class="op" id="2246931">:=</span>&nbsp;<span class="keyword" id="2246934">range</span>&nbsp;<span class="ident" id="2246940">str</span>&nbsp;<span class="op" id="2246944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2246948">if</span>&nbsp;<span class="ident" id="2246951">m</span><span class="op" id="2246952">&amp;</span><span class="op" id="2246953">(</span><span class="num" id="2246954">1</span><span class="op" id="2246955">&lt;&lt;</span><span class="builtintype" id="2246957">uint</span><span class="op" id="2246961">(</span><span class="num" id="2246962">32</span><span class="op" id="2246964">-</span><span class="num" id="2246965">1</span><span class="op" id="2246966">-</span><span class="ident" id="2246967">i</span><span class="op" id="2246968">)</span><span class="op" id="2246969">)</span>&nbsp;<span class="op" id="2246971">!=</span>&nbsp;<span class="num" id="2246974">0</span>&nbsp;<span class="op" id="2246976">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2246981">buf</span><span class="op" id="2246984">[</span><span class="ident" id="2246985">w</span><span class="op" id="2246986">]</span>&nbsp;<span class="op" id="2246988">=</span>&nbsp;<span class="builtintype" id="2246990">byte</span><span class="op" id="2246994">(</span><span class="ident" id="2246995">c</span><span class="op" id="2246996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2247001">w</span><span class="op" id="2247002">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247013">if</span>&nbsp;<span class="ident" id="2247016">w</span>&nbsp;<span class="op" id="2247018">==</span>&nbsp;<span class="num" id="2247021">0</span>&nbsp;<span class="op" id="2247023">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2247027">buf</span><span class="op" id="2247030">[</span><span class="ident" id="2247031">w</span><span class="op" id="2247032">]</span>&nbsp;<span class="op" id="2247034">=</span>&nbsp;<span class="string" id="2247036">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2247042">w</span><span class="op" id="2247043">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247050">const</span>&nbsp;<span class="ident" id="2247056">rwx</span>&nbsp;<span class="op" id="2247060">=</span>&nbsp;<span class="string" id="2247062">&#34;rwxrwxrwx&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247075">for</span>&nbsp;<span class="ident" id="2247079">i</span><span class="op" id="2247080">,</span>&nbsp;<span class="ident" id="2247082">c</span>&nbsp;<span class="op" id="2247084">:=</span>&nbsp;<span class="keyword" id="2247087">range</span>&nbsp;<span class="ident" id="2247093">rwx</span>&nbsp;<span class="op" id="2247097">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247101">if</span>&nbsp;<span class="ident" id="2247104">m</span><span class="op" id="2247105">&amp;</span><span class="op" id="2247106">(</span><span class="num" id="2247107">1</span><span class="op" id="2247108">&lt;&lt;</span><span class="builtintype" id="2247110">uint</span><span class="op" id="2247114">(</span><span class="num" id="2247115">9</span><span class="op" id="2247116">-</span><span class="num" id="2247117">1</span><span class="op" id="2247118">-</span><span class="ident" id="2247119">i</span><span class="op" id="2247120">)</span><span class="op" id="2247121">)</span>&nbsp;<span class="op" id="2247123">!=</span>&nbsp;<span class="num" id="2247126">0</span>&nbsp;<span class="op" id="2247128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2247133">buf</span><span class="op" id="2247136">[</span><span class="ident" id="2247137">w</span><span class="op" id="2247138">]</span>&nbsp;<span class="op" id="2247140">=</span>&nbsp;<span class="builtintype" id="2247142">byte</span><span class="op" id="2247146">(</span><span class="ident" id="2247147">c</span><span class="op" id="2247148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247152">}</span>&nbsp;<span class="keyword" id="2247154">else</span>&nbsp;<span class="op" id="2247159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2247164">buf</span><span class="op" id="2247167">[</span><span class="ident" id="2247168">w</span><span class="op" id="2247169">]</span>&nbsp;<span class="op" id="2247171">=</span>&nbsp;<span class="string" id="2247173">&#39;-&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247179">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2247183">w</span><span class="op" id="2247184">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2247188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247191">return</span>&nbsp;<span class="builtintype" id="2247198">string</span><span class="op" id="2247204">(</span><span class="ident" id="2247205">buf</span><span class="op" id="2247208">[</span><span class="op" id="2247209">:</span><span class="ident" id="2247210">w</span><span class="op" id="2247211">]</span><span class="op" id="2247212">)</span><br>
<span class="lineno"></span><span class="op" id="2247214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="2247217">//&nbsp;IsDir&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="2247267">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;for&nbsp;the&nbsp;ModeDir&nbsp;bit&nbsp;being&nbsp;set&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2247324">func</span>&nbsp;<span class="op" id="2247329">(</span><span class="ident" id="2247330">m</span>&nbsp;<span class="ident" id="2247332">FileMode</span><span class="op" id="2247340">)</span>&nbsp;<span class="ident" id="2247342">IsDir</span><span class="op" id="2247347">(</span><span class="op" id="2247348">)</span>&nbsp;<span class="builtintype" id="2247350">bool</span>&nbsp;<span class="op" id="2247355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247358">return</span>&nbsp;<span class="ident" id="2247365">m</span><span class="op" id="2247366">&amp;</span><span class="ident" id="2247367">ModeDir</span>&nbsp;<span class="op" id="2247375">!=</span>&nbsp;<span class="num" id="2247378">0</span><br>
<span class="lineno"></span><span class="op" id="2247380">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="2247383">//&nbsp;IsRegular&nbsp;reports&nbsp;whether&nbsp;m&nbsp;describes&nbsp;a&nbsp;regular&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2247440">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;tests&nbsp;that&nbsp;no&nbsp;mode&nbsp;type&nbsp;bits&nbsp;are&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2247493">func</span>&nbsp;<span class="op" id="2247498">(</span><span class="ident" id="2247499">m</span>&nbsp;<span class="ident" id="2247501">FileMode</span><span class="op" id="2247509">)</span>&nbsp;<span class="ident" id="2247511">IsRegular</span><span class="op" id="2247520">(</span><span class="op" id="2247521">)</span>&nbsp;<span class="builtintype" id="2247523">bool</span>&nbsp;<span class="op" id="2247528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247531">return</span>&nbsp;<span class="ident" id="2247538">m</span><span class="op" id="2247539">&amp;</span><span class="ident" id="2247540">ModeType</span>&nbsp;<span class="op" id="2247549">==</span>&nbsp;<span class="num" id="2247552">0</span><br>
<span class="lineno">95</span><span class="op" id="2247554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2247557">//&nbsp;Perm&nbsp;returns&nbsp;the&nbsp;Unix&nbsp;permission&nbsp;bits&nbsp;in&nbsp;m.</span><br>
<span class="lineno"></span><span class="keyword" id="2247604">func</span>&nbsp;<span class="op" id="2247609">(</span><span class="ident" id="2247610">m</span>&nbsp;<span class="ident" id="2247612">FileMode</span><span class="op" id="2247620">)</span>&nbsp;<span class="ident" id="2247622">Perm</span><span class="op" id="2247626">(</span><span class="op" id="2247627">)</span>&nbsp;<span class="ident" id="2247629">FileMode</span>&nbsp;<span class="op" id="2247638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2247641">return</span>&nbsp;<span class="ident" id="2247648">m</span>&nbsp;<span class="op" id="2247650">&amp;</span>&nbsp;<span class="ident" id="2247652">ModePerm</span><br>
<span class="lineno">100</span><span class="op" id="2247661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2247664">func</span>&nbsp;<span class="op" id="2247669">(</span><span class="ident" id="2247670">fs</span>&nbsp;<span class="op" id="2247673">*</span><span class="ident" id="2247674">fileStat</span><span class="op" id="2247682">)</span>&nbsp;<span class="ident" id="2247684">Name</span><span class="op" id="2247688">(</span><span class="op" id="2247689">)</span>&nbsp;<span class="builtintype" id="2247691">string</span>&nbsp;<span class="op" id="2247698">{</span>&nbsp;<span class="keyword" id="2247700">return</span>&nbsp;<span class="ident" id="2247707">fs</span><span class="op" id="2247709">.</span><span class="ident" id="2247710">name</span>&nbsp;<span class="op" id="2247715">}</span><br>
<span class="lineno"></span><span class="keyword" id="2247717">func</span>&nbsp;<span class="op" id="2247722">(</span><span class="ident" id="2247723">fs</span>&nbsp;<span class="op" id="2247726">*</span><span class="ident" id="2247727">fileStat</span><span class="op" id="2247735">)</span>&nbsp;<span class="ident" id="2247737">IsDir</span><span class="op" id="2247742">(</span><span class="op" id="2247743">)</span>&nbsp;<span class="builtintype" id="2247745">bool</span>&nbsp;&nbsp;<span class="op" id="2247751">{</span>&nbsp;<span class="keyword" id="2247753">return</span>&nbsp;<span class="ident" id="2247760">fs</span><span class="op" id="2247762">.</span><span class="ident" id="2247763">Mode</span><span class="op" id="2247767">(</span><span class="op" id="2247768">)</span><span class="op" id="2247769">.</span><span class="ident" id="2247770">IsDir</span><span class="op" id="2247775">(</span><span class="op" id="2247776">)</span>&nbsp;<span class="op" id="2247778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="2247781">//&nbsp;SameFile&nbsp;reports&nbsp;whether&nbsp;fi1&nbsp;and&nbsp;fi2&nbsp;describe&nbsp;the&nbsp;same&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="2247845">//&nbsp;For&nbsp;example,&nbsp;on&nbsp;Unix&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;device&nbsp;and&nbsp;inode&nbsp;fields</span><br>
<span class="lineno"></span><span class="comment" id="2247913">//&nbsp;of&nbsp;the&nbsp;two&nbsp;underlying&nbsp;structures&nbsp;are&nbsp;identical;&nbsp;on&nbsp;other&nbsp;systems</span><br>
<span class="lineno"></span><span class="comment" id="2247981">//&nbsp;the&nbsp;decision&nbsp;may&nbsp;be&nbsp;based&nbsp;on&nbsp;the&nbsp;path&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="2248029">//&nbsp;SameFile&nbsp;only&nbsp;applies&nbsp;to&nbsp;results&nbsp;returned&nbsp;by&nbsp;this&nbsp;package&#39;s&nbsp;Stat.</span><br>
<span class="lineno">110</span><span class="comment" id="2248098">//&nbsp;It&nbsp;returns&nbsp;false&nbsp;in&nbsp;other&nbsp;cases.</span><br>
<span class="lineno"></span><span class="keyword" id="2248134">func</span>&nbsp;<span class="ident" id="2248139">SameFile</span><span class="op" id="2248147">(</span><span class="ident" id="2248148">fi1</span><span class="op" id="2248151">,</span>&nbsp;<span class="ident" id="2248153">fi2</span>&nbsp;<span class="ident" id="2248157">FileInfo</span><span class="op" id="2248165">)</span>&nbsp;<span class="builtintype" id="2248167">bool</span>&nbsp;<span class="op" id="2248172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248175">fs1</span><span class="op" id="2248178">,</span>&nbsp;<span class="ident" id="2248180">ok1</span>&nbsp;<span class="op" id="2248184">:=</span>&nbsp;<span class="ident" id="2248187">fi1</span><span class="op" id="2248190">.</span><span class="op" id="2248191">(</span><span class="op" id="2248192">*</span><span class="ident" id="2248193">fileStat</span><span class="op" id="2248201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2248204">fs2</span><span class="op" id="2248207">,</span>&nbsp;<span class="ident" id="2248209">ok2</span>&nbsp;<span class="op" id="2248213">:=</span>&nbsp;<span class="ident" id="2248216">fi2</span><span class="op" id="2248219">.</span><span class="op" id="2248220">(</span><span class="op" id="2248221">*</span><span class="ident" id="2248222">fileStat</span><span class="op" id="2248230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248233">if</span>&nbsp;<span class="op" id="2248236">!</span><span class="ident" id="2248237">ok1</span>&nbsp;<span class="op" id="2248241">||</span>&nbsp;<span class="op" id="2248244">!</span><span class="ident" id="2248245">ok2</span>&nbsp;<span class="op" id="2248249">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248253">return</span>&nbsp;<span class="ident" id="2248260">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2248267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2248270">return</span>&nbsp;<span class="ident" id="2248277">sameFile</span><span class="op" id="2248285">(</span><span class="ident" id="2248286">fs1</span><span class="op" id="2248289">,</span>&nbsp;<span class="ident" id="2248291">fs2</span><span class="op" id="2248294">)</span><br>
<span class="lineno"></span><span class="op" id="2248296">}</span>
</div>
</body>
</html>
