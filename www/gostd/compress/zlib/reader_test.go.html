<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html" class="current">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7477435">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7477490">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7477544">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7477595">package</span>&nbsp;<span class="ident" id="7477603">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7477609">import</span>&nbsp;<span class="op" id="7477616">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7477619">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7477628">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7477634">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7477644">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7477647">type</span>&nbsp;<span class="ident" id="7477652">zlibTest</span>&nbsp;<span class="keyword" id="7477661">struct</span>&nbsp;<span class="op" id="7477668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477671">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7477682">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477690">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7477701">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477709">compressed</span>&nbsp;<span class="op" id="7477720">[</span><span class="op" id="7477721">]</span><span class="builtintype" id="7477722">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477728">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7477739">[</span><span class="op" id="7477740">]</span><span class="builtintype" id="7477741">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477747">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7477758">error</span><br>
<span class="lineno"></span><span class="op" id="7477764">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7477767">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="7477843">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7477875">var</span>&nbsp;<span class="ident" id="7477879">zlibTests</span>&nbsp;<span class="op" id="7477889">=</span>&nbsp;<span class="op" id="7477891">[</span><span class="op" id="7477892">]</span><span class="ident" id="7477893">zlibTest</span><span class="op" id="7477901">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7477904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7477908">&#34;empty&#34;</span><span class="op" id="7477915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7477919">&#34;&#34;</span><span class="op" id="7477921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7477925">[</span><span class="op" id="7477926">]</span><span class="builtintype" id="7477927">byte</span><span class="op" id="7477931">{</span><span class="num" id="7477932">0x78</span><span class="op" id="7477936">,</span>&nbsp;<span class="num" id="7477938">0x9c</span><span class="op" id="7477942">,</span>&nbsp;<span class="num" id="7477944">0x03</span><span class="op" id="7477948">,</span>&nbsp;<span class="num" id="7477950">0x00</span><span class="op" id="7477954">,</span>&nbsp;<span class="num" id="7477956">0x00</span><span class="op" id="7477960">,</span>&nbsp;<span class="num" id="7477962">0x00</span><span class="op" id="7477966">,</span>&nbsp;<span class="num" id="7477968">0x00</span><span class="op" id="7477972">,</span>&nbsp;<span class="num" id="7477974">0x01</span><span class="op" id="7477978">}</span><span class="op" id="7477979">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477983">nil</span><span class="op" id="7477986">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7477990">nil</span><span class="op" id="7477993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7477996">}</span><span class="op" id="7477997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478004">&#34;goodbye&#34;</span><span class="op" id="7478013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478017">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7478033">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478037">[</span><span class="op" id="7478038">]</span><span class="builtintype" id="7478039">byte</span><span class="op" id="7478043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7478048">0x78</span><span class="op" id="7478052">,</span>&nbsp;<span class="num" id="7478054">0x9c</span><span class="op" id="7478058">,</span>&nbsp;<span class="num" id="7478060">0x4b</span><span class="op" id="7478064">,</span>&nbsp;<span class="num" id="7478066">0xcf</span><span class="op" id="7478070">,</span>&nbsp;<span class="num" id="7478072">0xcf</span><span class="op" id="7478076">,</span>&nbsp;<span class="num" id="7478078">0x4f</span><span class="op" id="7478082">,</span>&nbsp;<span class="num" id="7478084">0x49</span><span class="op" id="7478088">,</span>&nbsp;<span class="num" id="7478090">0xaa</span><span class="op" id="7478094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7478099">0x4c</span><span class="op" id="7478103">,</span>&nbsp;<span class="num" id="7478105">0xd5</span><span class="op" id="7478109">,</span>&nbsp;<span class="num" id="7478111">0x51</span><span class="op" id="7478115">,</span>&nbsp;<span class="num" id="7478117">0x28</span><span class="op" id="7478121">,</span>&nbsp;<span class="num" id="7478123">0xcf</span><span class="op" id="7478127">,</span>&nbsp;<span class="num" id="7478129">0x2f</span><span class="op" id="7478133">,</span>&nbsp;<span class="num" id="7478135">0xca</span><span class="op" id="7478139">,</span>&nbsp;<span class="num" id="7478141">0x49</span><span class="op" id="7478145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7478150">0x01</span><span class="op" id="7478154">,</span>&nbsp;<span class="num" id="7478156">0x00</span><span class="op" id="7478160">,</span>&nbsp;<span class="num" id="7478162">0x28</span><span class="op" id="7478166">,</span>&nbsp;<span class="num" id="7478168">0xa5</span><span class="op" id="7478172">,</span>&nbsp;<span class="num" id="7478174">0x05</span><span class="op" id="7478178">,</span>&nbsp;<span class="num" id="7478180">0x5e</span><span class="op" id="7478184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478188">}</span><span class="op" id="7478189">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478193">nil</span><span class="op" id="7478196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478200">nil</span><span class="op" id="7478203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478206">}</span><span class="op" id="7478207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478214">&#34;bad&nbsp;header&#34;</span><span class="op" id="7478226">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478230">&#34;&#34;</span><span class="op" id="7478232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478236">[</span><span class="op" id="7478237">]</span><span class="builtintype" id="7478238">byte</span><span class="op" id="7478242">{</span><span class="num" id="7478243">0x78</span><span class="op" id="7478247">,</span>&nbsp;<span class="num" id="7478249">0x9f</span><span class="op" id="7478253">,</span>&nbsp;<span class="num" id="7478255">0x03</span><span class="op" id="7478259">,</span>&nbsp;<span class="num" id="7478261">0x00</span><span class="op" id="7478265">,</span>&nbsp;<span class="num" id="7478267">0x00</span><span class="op" id="7478271">,</span>&nbsp;<span class="num" id="7478273">0x00</span><span class="op" id="7478277">,</span>&nbsp;<span class="num" id="7478279">0x00</span><span class="op" id="7478283">,</span>&nbsp;<span class="num" id="7478285">0x01</span><span class="op" id="7478289">}</span><span class="op" id="7478290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478294">nil</span><span class="op" id="7478297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478301">ErrHeader</span><span class="op" id="7478310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478313">}</span><span class="op" id="7478314">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478321">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="7478335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478339">&#34;&#34;</span><span class="op" id="7478341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478345">[</span><span class="op" id="7478346">]</span><span class="builtintype" id="7478347">byte</span><span class="op" id="7478351">{</span><span class="num" id="7478352">0x78</span><span class="op" id="7478356">,</span>&nbsp;<span class="num" id="7478358">0x9c</span><span class="op" id="7478362">,</span>&nbsp;<span class="num" id="7478364">0x03</span><span class="op" id="7478368">,</span>&nbsp;<span class="num" id="7478370">0x00</span><span class="op" id="7478374">,</span>&nbsp;<span class="num" id="7478376">0x00</span><span class="op" id="7478380">,</span>&nbsp;<span class="num" id="7478382">0x00</span><span class="op" id="7478386">,</span>&nbsp;<span class="num" id="7478388">0x00</span><span class="op" id="7478392">,</span>&nbsp;<span class="num" id="7478394">0xff</span><span class="op" id="7478398">}</span><span class="op" id="7478399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478403">nil</span><span class="op" id="7478406">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478410">ErrChecksum</span><span class="op" id="7478421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478424">}</span><span class="op" id="7478425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478432">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="7478449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478453">&#34;&#34;</span><span class="op" id="7478455">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478459">[</span><span class="op" id="7478460">]</span><span class="builtintype" id="7478461">byte</span><span class="op" id="7478465">{</span><span class="num" id="7478466">0x78</span><span class="op" id="7478470">,</span>&nbsp;<span class="num" id="7478472">0x9c</span><span class="op" id="7478476">,</span>&nbsp;<span class="num" id="7478478">0x03</span><span class="op" id="7478482">,</span>&nbsp;<span class="num" id="7478484">0x00</span><span class="op" id="7478488">,</span>&nbsp;<span class="num" id="7478490">0x00</span><span class="op" id="7478494">,</span>&nbsp;<span class="num" id="7478496">0x00</span><span class="op" id="7478500">}</span><span class="op" id="7478501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478505">nil</span><span class="op" id="7478508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478512">io</span><span class="op" id="7478514">.</span><span class="ident" id="7478515">ErrUnexpectedEOF</span><span class="op" id="7478531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478534">}</span><span class="op" id="7478535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478538">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478542">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="7478575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478579">&#34;&#34;</span><span class="op" id="7478581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478585">[</span><span class="op" id="7478586">]</span><span class="builtintype" id="7478587">byte</span><span class="op" id="7478591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7478596">0x78</span><span class="op" id="7478600">,</span>&nbsp;<span class="num" id="7478602">0x9c</span><span class="op" id="7478606">,</span>&nbsp;<span class="num" id="7478608">0x03</span><span class="op" id="7478612">,</span>&nbsp;<span class="num" id="7478614">0x00</span><span class="op" id="7478618">,</span>&nbsp;<span class="num" id="7478620">0x00</span><span class="op" id="7478624">,</span>&nbsp;<span class="num" id="7478626">0x00</span><span class="op" id="7478630">,</span>&nbsp;<span class="num" id="7478632">0x00</span><span class="op" id="7478636">,</span>&nbsp;<span class="num" id="7478638">0x01</span><span class="op" id="7478642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7478647">0x78</span><span class="op" id="7478651">,</span>&nbsp;<span class="num" id="7478653">0x9c</span><span class="op" id="7478657">,</span>&nbsp;<span class="num" id="7478659">0xff</span><span class="op" id="7478663">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478667">}</span><span class="op" id="7478668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478672">nil</span><span class="op" id="7478675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478679">nil</span><span class="op" id="7478682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478685">}</span><span class="op" id="7478686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478689">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478693">&#34;dictionary&#34;</span><span class="op" id="7478705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478709">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="7478726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478730">[</span><span class="op" id="7478731">]</span><span class="builtintype" id="7478732">byte</span><span class="op" id="7478736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7478741">0x78</span><span class="op" id="7478745">,</span>&nbsp;<span class="num" id="7478747">0xbb</span><span class="op" id="7478751">,</span>&nbsp;<span class="num" id="7478753">0x1c</span><span class="op" id="7478757">,</span>&nbsp;<span class="num" id="7478759">0x32</span><span class="op" id="7478763">,</span>&nbsp;<span class="num" id="7478765">0x04</span><span class="op" id="7478769">,</span>&nbsp;<span class="num" id="7478771">0x27</span><span class="op" id="7478775">,</span>&nbsp;<span class="num" id="7478777">0xf3</span><span class="op" id="7478781">,</span>&nbsp;<span class="num" id="7478783">0x00</span><span class="op" id="7478787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7478792">0xb1</span><span class="op" id="7478796">,</span>&nbsp;<span class="num" id="7478798">0x75</span><span class="op" id="7478802">,</span>&nbsp;<span class="num" id="7478804">0x20</span><span class="op" id="7478808">,</span>&nbsp;<span class="num" id="7478810">0x1c</span><span class="op" id="7478814">,</span>&nbsp;<span class="num" id="7478816">0x45</span><span class="op" id="7478820">,</span>&nbsp;<span class="num" id="7478822">0x2e</span><span class="op" id="7478826">,</span>&nbsp;<span class="num" id="7478828">0x00</span><span class="op" id="7478832">,</span>&nbsp;<span class="num" id="7478834">0x24</span><span class="op" id="7478838">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7478843">0x12</span><span class="op" id="7478847">,</span>&nbsp;<span class="num" id="7478849">0x04</span><span class="op" id="7478853">,</span>&nbsp;<span class="num" id="7478855">0x74</span><span class="op" id="7478859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478863">}</span><span class="op" id="7478864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478868">[</span><span class="op" id="7478869">]</span><span class="builtintype" id="7478870">byte</span><span class="op" id="7478874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7478879">0x48</span><span class="op" id="7478883">,</span>&nbsp;<span class="num" id="7478885">0x65</span><span class="op" id="7478889">,</span>&nbsp;<span class="num" id="7478891">0x6c</span><span class="op" id="7478895">,</span>&nbsp;<span class="num" id="7478897">0x6c</span><span class="op" id="7478901">,</span>&nbsp;<span class="num" id="7478903">0x6f</span><span class="op" id="7478907">,</span>&nbsp;<span class="num" id="7478909">0x20</span><span class="op" id="7478913">,</span>&nbsp;<span class="num" id="7478915">0x57</span><span class="op" id="7478919">,</span>&nbsp;<span class="num" id="7478921">0x6f</span><span class="op" id="7478925">,</span>&nbsp;<span class="num" id="7478927">0x72</span><span class="op" id="7478931">,</span>&nbsp;<span class="num" id="7478933">0x6c</span><span class="op" id="7478937">,</span>&nbsp;<span class="num" id="7478939">0x64</span><span class="op" id="7478943">,</span>&nbsp;<span class="num" id="7478945">0x0a</span><span class="op" id="7478949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478953">}</span><span class="op" id="7478954">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7478958">nil</span><span class="op" id="7478961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478964">}</span><span class="op" id="7478965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7478968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478972">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="7478990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7478994">&#34;&#34;</span><span class="op" id="7478996">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479000">[</span><span class="op" id="7479001">]</span><span class="builtintype" id="7479002">byte</span><span class="op" id="7479006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7479011">0x78</span><span class="op" id="7479015">,</span>&nbsp;<span class="num" id="7479017">0xbb</span><span class="op" id="7479021">,</span>&nbsp;<span class="num" id="7479023">0x1c</span><span class="op" id="7479027">,</span>&nbsp;<span class="num" id="7479029">0x32</span><span class="op" id="7479033">,</span>&nbsp;<span class="num" id="7479035">0x04</span><span class="op" id="7479039">,</span>&nbsp;<span class="num" id="7479041">0x27</span><span class="op" id="7479045">,</span>&nbsp;<span class="num" id="7479047">0xf3</span><span class="op" id="7479051">,</span>&nbsp;<span class="num" id="7479053">0x00</span><span class="op" id="7479057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7479062">0xb1</span><span class="op" id="7479066">,</span>&nbsp;<span class="num" id="7479068">0x75</span><span class="op" id="7479072">,</span>&nbsp;<span class="num" id="7479074">0x20</span><span class="op" id="7479078">,</span>&nbsp;<span class="num" id="7479080">0x1c</span><span class="op" id="7479084">,</span>&nbsp;<span class="num" id="7479086">0x45</span><span class="op" id="7479090">,</span>&nbsp;<span class="num" id="7479092">0x2e</span><span class="op" id="7479096">,</span>&nbsp;<span class="num" id="7479098">0x00</span><span class="op" id="7479102">,</span>&nbsp;<span class="num" id="7479104">0x24</span><span class="op" id="7479108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7479113">0x12</span><span class="op" id="7479117">,</span>&nbsp;<span class="num" id="7479119">0x04</span><span class="op" id="7479123">,</span>&nbsp;<span class="num" id="7479125">0x74</span><span class="op" id="7479129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479133">}</span><span class="op" id="7479134">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479138">[</span><span class="op" id="7479139">]</span><span class="builtintype" id="7479140">byte</span><span class="op" id="7479144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7479149">0x48</span><span class="op" id="7479153">,</span>&nbsp;<span class="num" id="7479155">0x65</span><span class="op" id="7479159">,</span>&nbsp;<span class="num" id="7479161">0x6c</span><span class="op" id="7479165">,</span>&nbsp;<span class="num" id="7479167">0x6c</span><span class="op" id="7479171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479175">}</span><span class="op" id="7479176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479180">ErrDictionary</span><span class="op" id="7479193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479196">}</span><span class="op" id="7479197">,</span><br>
<span class="lineno">100</span><span class="op" id="7479199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7479202">func</span>&nbsp;<span class="ident" id="7479207">TestDecompressor</span><span class="op" id="7479223">(</span><span class="ident" id="7479224">t</span>&nbsp;<span class="op" id="7479226">*</span><span class="ident" id="7479227">testing</span><span class="op" id="7479234">.</span><span class="ident" id="7479235">T</span><span class="op" id="7479236">)</span>&nbsp;<span class="op" id="7479238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479241">b</span>&nbsp;<span class="op" id="7479243">:=</span>&nbsp;<span class="builtinfunc" id="7479246">new</span><span class="op" id="7479249">(</span><span class="ident" id="7479250">bytes</span><span class="op" id="7479255">.</span><span class="ident" id="7479256">Buffer</span><span class="op" id="7479262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7479265">for</span>&nbsp;<span class="ident" id="7479269">_</span><span class="op" id="7479270">,</span>&nbsp;<span class="ident" id="7479272">tt</span>&nbsp;<span class="op" id="7479275">:=</span>&nbsp;<span class="keyword" id="7479278">range</span>&nbsp;<span class="ident" id="7479284">zlibTests</span>&nbsp;<span class="op" id="7479294">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479298">in</span>&nbsp;<span class="op" id="7479301">:=</span>&nbsp;<span class="ident" id="7479304">bytes</span><span class="op" id="7479309">.</span><span class="ident" id="7479310">NewReader</span><span class="op" id="7479319">(</span><span class="ident" id="7479320">tt</span><span class="op" id="7479322">.</span><span class="ident" id="7479323">compressed</span><span class="op" id="7479333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479337">zlib</span><span class="op" id="7479341">,</span>&nbsp;<span class="ident" id="7479343">err</span>&nbsp;<span class="op" id="7479347">:=</span>&nbsp;<span class="ident" id="7479350">NewReaderDict</span><span class="op" id="7479363">(</span><span class="ident" id="7479364">in</span><span class="op" id="7479366">,</span>&nbsp;<span class="ident" id="7479368">tt</span><span class="op" id="7479370">.</span><span class="ident" id="7479371">dict</span><span class="op" id="7479375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7479379">if</span>&nbsp;<span class="ident" id="7479382">err</span>&nbsp;<span class="op" id="7479386">!=</span>&nbsp;<span class="ident" id="7479389">nil</span>&nbsp;<span class="op" id="7479393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7479398">if</span>&nbsp;<span class="ident" id="7479401">err</span>&nbsp;<span class="op" id="7479405">!=</span>&nbsp;<span class="ident" id="7479408">tt</span><span class="op" id="7479410">.</span><span class="ident" id="7479411">err</span>&nbsp;<span class="op" id="7479415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479421">t</span><span class="op" id="7479422">.</span><span class="ident" id="7479423">Errorf</span><span class="op" id="7479429">(</span><span class="string" id="7479430">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="7479449">,</span>&nbsp;<span class="ident" id="7479451">tt</span><span class="op" id="7479453">.</span><span class="ident" id="7479454">desc</span><span class="op" id="7479458">,</span>&nbsp;<span class="ident" id="7479460">err</span><span class="op" id="7479463">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7479473">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7479488">defer</span>&nbsp;<span class="ident" id="7479494">zlib</span><span class="op" id="7479498">.</span><span class="ident" id="7479499">Close</span><span class="op" id="7479504">(</span><span class="op" id="7479505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479509">b</span><span class="op" id="7479510">.</span><span class="ident" id="7479511">Reset</span><span class="op" id="7479516">(</span><span class="op" id="7479517">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479521">n</span><span class="op" id="7479522">,</span>&nbsp;<span class="ident" id="7479524">err</span>&nbsp;<span class="op" id="7479528">:=</span>&nbsp;<span class="ident" id="7479531">io</span><span class="op" id="7479533">.</span><span class="ident" id="7479534">Copy</span><span class="op" id="7479538">(</span><span class="ident" id="7479539">b</span><span class="op" id="7479540">,</span>&nbsp;<span class="ident" id="7479542">zlib</span><span class="op" id="7479546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7479550">if</span>&nbsp;<span class="ident" id="7479553">err</span>&nbsp;<span class="op" id="7479557">!=</span>&nbsp;<span class="ident" id="7479560">nil</span>&nbsp;<span class="op" id="7479564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7479569">if</span>&nbsp;<span class="ident" id="7479572">err</span>&nbsp;<span class="op" id="7479576">!=</span>&nbsp;<span class="ident" id="7479579">tt</span><span class="op" id="7479581">.</span><span class="ident" id="7479582">err</span>&nbsp;<span class="op" id="7479586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479592">t</span><span class="op" id="7479593">.</span><span class="ident" id="7479594">Errorf</span><span class="op" id="7479600">(</span><span class="string" id="7479601">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7479626">,</span>&nbsp;<span class="ident" id="7479628">tt</span><span class="op" id="7479630">.</span><span class="ident" id="7479631">desc</span><span class="op" id="7479635">,</span>&nbsp;<span class="ident" id="7479637">err</span><span class="op" id="7479640">,</span>&nbsp;<span class="ident" id="7479642">tt</span><span class="op" id="7479644">.</span><span class="ident" id="7479645">err</span><span class="op" id="7479648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479653">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7479658">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479673">s</span>&nbsp;<span class="op" id="7479675">:=</span>&nbsp;<span class="ident" id="7479678">b</span><span class="op" id="7479679">.</span><span class="ident" id="7479680">String</span><span class="op" id="7479686">(</span><span class="op" id="7479687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7479691">if</span>&nbsp;<span class="ident" id="7479694">s</span>&nbsp;<span class="op" id="7479696">!=</span>&nbsp;<span class="ident" id="7479699">tt</span><span class="op" id="7479701">.</span><span class="ident" id="7479702">raw</span>&nbsp;<span class="op" id="7479706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7479711">t</span><span class="op" id="7479712">.</span><span class="ident" id="7479713">Errorf</span><span class="op" id="7479719">(</span><span class="string" id="7479720">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="7479756">,</span>&nbsp;<span class="ident" id="7479758">tt</span><span class="op" id="7479760">.</span><span class="ident" id="7479761">desc</span><span class="op" id="7479765">,</span>&nbsp;<span class="ident" id="7479767">n</span><span class="op" id="7479768">,</span>&nbsp;<span class="ident" id="7479770">s</span><span class="op" id="7479771">,</span>&nbsp;<span class="builtinfunc" id="7479773">len</span><span class="op" id="7479776">(</span><span class="ident" id="7479777">tt</span><span class="op" id="7479779">.</span><span class="ident" id="7479780">raw</span><span class="op" id="7479783">)</span><span class="op" id="7479784">,</span>&nbsp;<span class="ident" id="7479786">tt</span><span class="op" id="7479788">.</span><span class="ident" id="7479789">raw</span><span class="op" id="7479792">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7479799">}</span><br>
<span class="lineno"></span><span class="op" id="7479801">}</span>
</div>
</body>
</html>
