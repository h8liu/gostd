<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7396051">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7396106">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7396160">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7396211">package</span>&nbsp;<span class="ident" id="7396219">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7396227">import</span>&nbsp;<span class="op" id="7396234">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396237">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396246">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396264">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396271">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396277">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396283">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396300">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396317">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396328">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396339">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7396350">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7396365">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7396368">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="7396430">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="7396498">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="7396564">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="7396628">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7396696">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="7396760">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="7396832">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="7396903">//</span><br>
<span class="lineno">30</span><span class="comment" id="7396906">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="7396961">//</span><br>
<span class="lineno"></span><span class="comment" id="7396964">//&nbsp;&nbsp;&nbsp;&nbspstrings</span><br>
<span class="lineno"></span><span class="comment" id="7396975">//&nbsp;&nbsp;&nbsp;&nbsp&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7396984">//&nbsp;&nbsp;&nbsp;&nbsp&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="7396994">//&nbsp;&nbsp;&nbsp;&nbspregexps</span><br>
<span class="lineno"></span><span class="comment" id="7397005">//&nbsp;&nbsp;&nbsp;&nbsp&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="7397017">//&nbsp;&nbsp;&nbsp;&nbsp0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="7397028">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7397035">//&nbsp;&nbsp;&nbsp;&nbsp&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="7397062">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="7397069">//&nbsp;&nbsp;&nbsp;&nbsp-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="7397090">//</span><br>
<span class="lineno"></span><span class="comment" id="7397093">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="7397151">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="7397208">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="7397265">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="7397328">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="7397386">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7397429">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="7397495">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="7397553">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="7397610">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="7397670">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="7397727">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="7397794">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="7397859">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="7397908">//</span><br>
<span class="lineno"></span><span class="comment" id="7397911">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="7397973">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="7398040">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="7398088">//</span><br>
<span class="lineno"></span><span class="comment" id="7398091">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="7398157">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="7398231">//</span><br>
<span class="lineno">65</span><span class="keyword" id="7398234">func</span>&nbsp;<span class="ident" id="7398239">TestRE2Search</span><span class="op" id="7398252">(</span><span class="ident" id="7398253">t</span>&nbsp;<span class="op" id="7398255">*</span><span class="ident" id="7398256">testing</span><span class="op" id="7398263">.</span><span class="ident" id="7398264">T</span><span class="op" id="7398265">)</span>&nbsp;<span class="op" id="7398267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398270">testRE2</span><span class="op" id="7398277">(</span><span class="ident" id="7398278">t</span><span class="op" id="7398279">,</span>&nbsp;<span class="string" id="7398281">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="7398306">)</span><br>
<span class="lineno"></span><span class="op" id="7398308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7398311">func</span>&nbsp;<span class="ident" id="7398316">testRE2</span><span class="op" id="7398323">(</span><span class="ident" id="7398324">t</span>&nbsp;<span class="op" id="7398326">*</span><span class="ident" id="7398327">testing</span><span class="op" id="7398334">.</span><span class="ident" id="7398335">T</span><span class="op" id="7398336">,</span>&nbsp;<span class="ident" id="7398338">file</span>&nbsp;<span class="builtintype" id="7398343">string</span><span class="op" id="7398349">)</span>&nbsp;<span class="op" id="7398351">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398354">f</span><span class="op" id="7398355">,</span>&nbsp;<span class="ident" id="7398357">err</span>&nbsp;<span class="op" id="7398361">:=</span>&nbsp;<span class="ident" id="7398364">os</span><span class="op" id="7398366">.</span><span class="ident" id="7398367">Open</span><span class="op" id="7398371">(</span><span class="ident" id="7398372">file</span><span class="op" id="7398376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398379">if</span>&nbsp;<span class="ident" id="7398382">err</span>&nbsp;<span class="op" id="7398386">!=</span>&nbsp;<span class="ident" id="7398389">nil</span>&nbsp;<span class="op" id="7398393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398397">t</span><span class="op" id="7398398">.</span><span class="ident" id="7398399">Fatal</span><span class="op" id="7398404">(</span><span class="ident" id="7398405">err</span><span class="op" id="7398408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7398411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398414">defer</span>&nbsp;<span class="ident" id="7398420">f</span><span class="op" id="7398421">.</span><span class="ident" id="7398422">Close</span><span class="op" id="7398427">(</span><span class="op" id="7398428">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398431">var</span>&nbsp;<span class="ident" id="7398435">txt</span>&nbsp;<span class="ident" id="7398439">io</span><span class="op" id="7398441">.</span><span class="ident" id="7398442">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398450">if</span>&nbsp;<span class="ident" id="7398453">strings</span><span class="op" id="7398460">.</span><span class="ident" id="7398461">HasSuffix</span><span class="op" id="7398470">(</span><span class="ident" id="7398471">file</span><span class="op" id="7398475">,</span>&nbsp;<span class="string" id="7398477">&#34;.bz2&#34;</span><span class="op" id="7398483">)</span>&nbsp;<span class="op" id="7398485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398489">z</span>&nbsp;<span class="op" id="7398491">:=</span>&nbsp;<span class="ident" id="7398494">bzip2</span><span class="op" id="7398499">.</span><span class="ident" id="7398500">NewReader</span><span class="op" id="7398509">(</span><span class="ident" id="7398510">f</span><span class="op" id="7398511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398515">txt</span>&nbsp;<span class="op" id="7398519">=</span>&nbsp;<span class="ident" id="7398521">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398525">file</span>&nbsp;<span class="op" id="7398530">=</span>&nbsp;<span class="ident" id="7398532">file</span><span class="op" id="7398536">[</span><span class="op" id="7398537">:</span><span class="builtinfunc" id="7398538">len</span><span class="op" id="7398541">(</span><span class="ident" id="7398542">file</span><span class="op" id="7398546">)</span><span class="op" id="7398547">-</span><span class="builtinfunc" id="7398548">len</span><span class="op" id="7398551">(</span><span class="string" id="7398552">&#34;.bz2&#34;</span><span class="op" id="7398558">)</span><span class="op" id="7398559">]</span>&nbsp;<span class="comment" id="7398561">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7398584">}</span>&nbsp;<span class="keyword" id="7398586">else</span>&nbsp;<span class="op" id="7398591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398595">txt</span>&nbsp;<span class="op" id="7398599">=</span>&nbsp;<span class="ident" id="7398601">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7398604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398607">lineno</span>&nbsp;<span class="op" id="7398614">:=</span>&nbsp;<span class="num" id="7398617">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398620">scanner</span>&nbsp;<span class="op" id="7398628">:=</span>&nbsp;<span class="ident" id="7398631">bufio</span><span class="op" id="7398636">.</span><span class="ident" id="7398637">NewScanner</span><span class="op" id="7398647">(</span><span class="ident" id="7398648">txt</span><span class="op" id="7398651">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398654">var</span>&nbsp;<span class="op" id="7398658">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398662">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398672">[</span><span class="op" id="7398673">]</span><span class="builtintype" id="7398674">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398683">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398693">[</span><span class="op" id="7398694">]</span><span class="builtintype" id="7398695">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398704">inStrings</span>&nbsp;<span class="builtintype" id="7398714">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398721">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398731">*</span><span class="ident" id="7398732">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398741">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7398751">*</span><span class="ident" id="7398752">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398761">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7398771">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398777">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7398787">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7398792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398795">for</span>&nbsp;<span class="ident" id="7398799">lineno</span>&nbsp;<span class="op" id="7398806">:=</span>&nbsp;<span class="num" id="7398809">1</span><span class="op" id="7398810">;</span>&nbsp;<span class="ident" id="7398812">scanner</span><span class="op" id="7398819">.</span><span class="ident" id="7398820">Scan</span><span class="op" id="7398824">(</span><span class="op" id="7398825">)</span><span class="op" id="7398826">;</span>&nbsp;<span class="ident" id="7398828">lineno</span><span class="op" id="7398834">++</span>&nbsp;<span class="op" id="7398837">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398841">line</span>&nbsp;<span class="op" id="7398846">:=</span>&nbsp;<span class="ident" id="7398849">scanner</span><span class="op" id="7398856">.</span><span class="ident" id="7398857">Text</span><span class="op" id="7398861">(</span><span class="op" id="7398862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398866">switch</span>&nbsp;<span class="op" id="7398873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398877">case</span>&nbsp;<span class="ident" id="7398882">line</span>&nbsp;<span class="op" id="7398887">==</span>&nbsp;<span class="string" id="7398890">&#34;&#34;</span><span class="op" id="7398892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7398897">t</span><span class="op" id="7398898">.</span><span class="ident" id="7398899">Fatalf</span><span class="op" id="7398905">(</span><span class="string" id="7398906">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="7398936">,</span>&nbsp;<span class="ident" id="7398938">file</span><span class="op" id="7398942">,</span>&nbsp;<span class="ident" id="7398944">lineno</span><span class="op" id="7398950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398954">case</span>&nbsp;<span class="ident" id="7398959">line</span><span class="op" id="7398963">[</span><span class="num" id="7398964">0</span><span class="op" id="7398965">]</span>&nbsp;<span class="op" id="7398967">==</span>&nbsp;<span class="string" id="7398970">&#39;#&#39;</span><span class="op" id="7398973">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398978">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7398989">case</span>&nbsp;<span class="string" id="7398994">&#39;A&#39;</span>&nbsp;<span class="op" id="7398998">&lt;=</span>&nbsp;<span class="ident" id="7399001">line</span><span class="op" id="7399005">[</span><span class="num" id="7399006">0</span><span class="op" id="7399007">]</span>&nbsp;<span class="op" id="7399009">&amp;&amp;</span>&nbsp;<span class="ident" id="7399012">line</span><span class="op" id="7399016">[</span><span class="num" id="7399017">0</span><span class="op" id="7399018">]</span>&nbsp;<span class="op" id="7399020">&lt;=</span>&nbsp;<span class="string" id="7399023">&#39;Z&#39;</span><span class="op" id="7399026">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7399031">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399048">t</span><span class="op" id="7399049">.</span><span class="ident" id="7399050">Logf</span><span class="op" id="7399054">(</span><span class="string" id="7399055">&#34;%s\n&#34;</span><span class="op" id="7399061">,</span>&nbsp;<span class="ident" id="7399063">line</span><span class="op" id="7399067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399072">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399083">case</span>&nbsp;<span class="ident" id="7399088">line</span>&nbsp;<span class="op" id="7399093">==</span>&nbsp;<span class="string" id="7399096">&#34;strings&#34;</span><span class="op" id="7399105">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399110">str</span>&nbsp;<span class="op" id="7399114">=</span>&nbsp;<span class="ident" id="7399116">str</span><span class="op" id="7399119">[</span><span class="op" id="7399120">:</span><span class="num" id="7399121">0</span><span class="op" id="7399122">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399127">inStrings</span>&nbsp;<span class="op" id="7399137">=</span>&nbsp;<span class="builtintype" id="7399139">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399146">case</span>&nbsp;<span class="ident" id="7399151">line</span>&nbsp;<span class="op" id="7399156">==</span>&nbsp;<span class="string" id="7399159">&#34;regexps&#34;</span><span class="op" id="7399168">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399173">inStrings</span>&nbsp;<span class="op" id="7399183">=</span>&nbsp;<span class="builtintype" id="7399185">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399193">case</span>&nbsp;<span class="ident" id="7399198">line</span><span class="op" id="7399202">[</span><span class="num" id="7399203">0</span><span class="op" id="7399204">]</span>&nbsp;<span class="op" id="7399206">==</span>&nbsp;<span class="string" id="7399209">&#39;&#34;&#39;</span><span class="op" id="7399212">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399217">q</span><span class="op" id="7399218">,</span>&nbsp;<span class="ident" id="7399220">err</span>&nbsp;<span class="op" id="7399224">:=</span>&nbsp;<span class="ident" id="7399227">strconv</span><span class="op" id="7399234">.</span><span class="ident" id="7399235">Unquote</span><span class="op" id="7399242">(</span><span class="ident" id="7399243">line</span><span class="op" id="7399247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399252">if</span>&nbsp;<span class="ident" id="7399255">err</span>&nbsp;<span class="op" id="7399259">!=</span>&nbsp;<span class="ident" id="7399262">nil</span>&nbsp;<span class="op" id="7399266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7399272">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399316">t</span><span class="op" id="7399317">.</span><span class="ident" id="7399318">Fatalf</span><span class="op" id="7399324">(</span><span class="string" id="7399325">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7399348">,</span>&nbsp;<span class="ident" id="7399350">file</span><span class="op" id="7399354">,</span>&nbsp;<span class="ident" id="7399356">lineno</span><span class="op" id="7399362">,</span>&nbsp;<span class="ident" id="7399364">line</span><span class="op" id="7399368">,</span>&nbsp;<span class="ident" id="7399370">err</span><span class="op" id="7399373">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7399378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399383">if</span>&nbsp;<span class="ident" id="7399386">inStrings</span>&nbsp;<span class="op" id="7399396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399402">str</span>&nbsp;<span class="op" id="7399406">=</span>&nbsp;<span class="builtinfunc" id="7399408">append</span><span class="op" id="7399414">(</span><span class="ident" id="7399415">str</span><span class="op" id="7399418">,</span>&nbsp;<span class="ident" id="7399420">q</span><span class="op" id="7399421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399427">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7399439">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7399444">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399463">if</span>&nbsp;<span class="builtinfunc" id="7399466">len</span><span class="op" id="7399469">(</span><span class="ident" id="7399470">input</span><span class="op" id="7399475">)</span>&nbsp;<span class="op" id="7399477">!=</span>&nbsp;<span class="num" id="7399480">0</span>&nbsp;<span class="op" id="7399482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399488">t</span><span class="op" id="7399489">.</span><span class="ident" id="7399490">Fatalf</span><span class="op" id="7399496">(</span><span class="string" id="7399497">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="7399550">,</span>&nbsp;<span class="ident" id="7399552">file</span><span class="op" id="7399556">,</span>&nbsp;<span class="ident" id="7399558">lineno</span><span class="op" id="7399564">,</span>&nbsp;<span class="builtinfunc" id="7399566">len</span><span class="op" id="7399569">(</span><span class="ident" id="7399570">input</span><span class="op" id="7399575">)</span><span class="op" id="7399576">,</span>&nbsp;<span class="ident" id="7399578">q</span><span class="op" id="7399579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7399584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399589">re</span><span class="op" id="7399591">,</span>&nbsp;<span class="ident" id="7399593">err</span>&nbsp;<span class="op" id="7399597">=</span>&nbsp;<span class="ident" id="7399599">tryCompile</span><span class="op" id="7399609">(</span><span class="ident" id="7399610">q</span><span class="op" id="7399611">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399616">if</span>&nbsp;<span class="ident" id="7399619">err</span>&nbsp;<span class="op" id="7399623">!=</span>&nbsp;<span class="ident" id="7399626">nil</span>&nbsp;<span class="op" id="7399630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399636">if</span>&nbsp;<span class="ident" id="7399639">err</span><span class="op" id="7399642">.</span><span class="ident" id="7399643">Error</span><span class="op" id="7399648">(</span><span class="op" id="7399649">)</span>&nbsp;<span class="op" id="7399651">==</span>&nbsp;<span class="string" id="7399654">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="7399709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7399716">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399779">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7399792">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399798">t</span><span class="op" id="7399799">.</span><span class="ident" id="7399800">Errorf</span><span class="op" id="7399806">(</span><span class="string" id="7399807">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7399831">,</span>&nbsp;<span class="ident" id="7399833">file</span><span class="op" id="7399837">,</span>&nbsp;<span class="ident" id="7399839">lineno</span><span class="op" id="7399845">,</span>&nbsp;<span class="ident" id="7399847">q</span><span class="op" id="7399848">,</span>&nbsp;<span class="ident" id="7399850">err</span><span class="op" id="7399853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399859">if</span>&nbsp;<span class="ident" id="7399862">nfail</span><span class="op" id="7399867">++</span><span class="op" id="7399869">;</span>&nbsp;<span class="ident" id="7399871">nfail</span>&nbsp;<span class="op" id="7399877">&gt;=</span>&nbsp;<span class="num" id="7399880">100</span>&nbsp;<span class="op" id="7399884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399891">t</span><span class="op" id="7399892">.</span><span class="ident" id="7399893">Fatalf</span><span class="op" id="7399899">(</span><span class="string" id="7399900">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7399926">,</span>&nbsp;<span class="ident" id="7399928">nfail</span><span class="op" id="7399933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7399939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7399945">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7399957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399962">full</span>&nbsp;<span class="op" id="7399967">:=</span>&nbsp;<span class="string" id="7399970">`\A(?:`</span>&nbsp;<span class="op" id="7399978">+</span>&nbsp;<span class="ident" id="7399980">q</span>&nbsp;<span class="op" id="7399982">+</span>&nbsp;<span class="string" id="7399984">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7399993">refull</span><span class="op" id="7399999">,</span>&nbsp;<span class="ident" id="7400001">err</span>&nbsp;<span class="op" id="7400005">=</span>&nbsp;<span class="ident" id="7400007">tryCompile</span><span class="op" id="7400017">(</span><span class="ident" id="7400018">full</span><span class="op" id="7400022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7400027">if</span>&nbsp;<span class="ident" id="7400030">err</span>&nbsp;<span class="op" id="7400034">!=</span>&nbsp;<span class="ident" id="7400037">nil</span>&nbsp;<span class="op" id="7400041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7400047">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7400106">t</span><span class="op" id="7400107">.</span><span class="ident" id="7400108">Fatalf</span><span class="op" id="7400114">(</span><span class="string" id="7400115">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="7400144">,</span>&nbsp;<span class="ident" id="7400146">file</span><span class="op" id="7400150">,</span>&nbsp;<span class="ident" id="7400152">lineno</span><span class="op" id="7400158">,</span>&nbsp;<span class="ident" id="7400160">full</span><span class="op" id="7400164">,</span>&nbsp;<span class="ident" id="7400166">err</span><span class="op" id="7400169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7400174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7400179">input</span>&nbsp;<span class="op" id="7400185">=</span>&nbsp;<span class="ident" id="7400187">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7400193">case</span>&nbsp;<span class="ident" id="7400198">line</span><span class="op" id="7400202">[</span><span class="num" id="7400203">0</span><span class="op" id="7400204">]</span>&nbsp;<span class="op" id="7400206">==</span>&nbsp;<span class="string" id="7400209">&#39;-&#39;</span>&nbsp;<span class="op" id="7400213">||</span>&nbsp;<span class="string" id="7400216">&#39;0&#39;</span>&nbsp;<span class="op" id="7400220">&lt;=</span>&nbsp;<span class="ident" id="7400223">line</span><span class="op" id="7400227">[</span><span class="num" id="7400228">0</span><span class="op" id="7400229">]</span>&nbsp;<span class="op" id="7400231">&amp;&amp;</span>&nbsp;<span class="ident" id="7400234">line</span><span class="op" id="7400238">[</span><span class="num" id="7400239">0</span><span class="op" id="7400240">]</span>&nbsp;<span class="op" id="7400242">&lt;=</span>&nbsp;<span class="string" id="7400245">&#39;9&#39;</span><span class="op" id="7400248">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7400253">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7400288">ncase</span><span class="op" id="7400293">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7400299">if</span>&nbsp;<span class="ident" id="7400302">re</span>&nbsp;<span class="op" id="7400305">==</span>&nbsp;<span class="ident" id="7400308">nil</span>&nbsp;<span class="op" id="7400312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7400318">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7400358">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7400370">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7400375">if</span>&nbsp;<span class="builtinfunc" id="7400378">len</span><span class="op" id="7400381">(</span><span class="ident" id="7400382">input</span><span class="op" id="7400387">)</span>&nbsp;<span class="op" id="7400389">==</span>&nbsp;<span class="num" id="7400392">0</span>&nbsp;<span class="op" id="7400394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7400400">t</span><span class="op" id="7400401">.</span><span class="ident" id="7400402">Fatalf</span><span class="op" id="7400408">(</span><span class="string" id="7400409">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="7400449">,</span>&nbsp;<span class="ident" id="7400451">file</span><span class="op" id="7400455">,</span>&nbsp;<span class="ident" id="7400457">lineno</span><span class="op" id="7400463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7400468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7400473">var</span>&nbsp;<span class="ident" id="7400477">text</span>&nbsp;<span class="builtintype" id="7400482">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7400492">text</span><span class="op" id="7400496">,</span>&nbsp;<span class="ident" id="7400498">input</span>&nbsp;<span class="op" id="7400504">=</span>&nbsp;<span class="ident" id="7400506">input</span><span class="op" id="7400511">[</span><span class="num" id="7400512">0</span><span class="op" id="7400513">]</span><span class="op" id="7400514">,</span>&nbsp;<span class="ident" id="7400516">input</span><span class="op" id="7400521">[</span><span class="num" id="7400522">1</span><span class="op" id="7400523">:</span><span class="op" id="7400524">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7400529">if</span>&nbsp;<span class="op" id="7400532">!</span><span class="ident" id="7400533">isSingleBytes</span><span class="op" id="7400546">(</span><span class="ident" id="7400547">text</span><span class="op" id="7400551">)</span>&nbsp;<span class="op" id="7400553">&amp;&amp;</span>&nbsp;<span class="ident" id="7400556">strings</span><span class="op" id="7400563">.</span><span class="ident" id="7400564">Contains</span><span class="op" id="7400572">(</span><span class="ident" id="7400573">re</span><span class="op" id="7400575">.</span><span class="ident" id="7400576">String</span><span class="op" id="7400582">(</span><span class="op" id="7400583">)</span><span class="op" id="7400584">,</span>&nbsp;<span class="string" id="7400586">`\B`</span><span class="op" id="7400590">)</span>&nbsp;<span class="op" id="7400592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7400598">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7400645">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7400690">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7400738">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7400789">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7400832">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7400844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7400849">res</span>&nbsp;<span class="op" id="7400853">:=</span>&nbsp;<span class="ident" id="7400856">strings</span><span class="op" id="7400863">.</span><span class="ident" id="7400864">Split</span><span class="op" id="7400869">(</span><span class="ident" id="7400870">line</span><span class="op" id="7400874">,</span>&nbsp;<span class="string" id="7400876">&#34;;&#34;</span><span class="op" id="7400879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7400884">if</span>&nbsp;<span class="builtinfunc" id="7400887">len</span><span class="op" id="7400890">(</span><span class="ident" id="7400891">res</span><span class="op" id="7400894">)</span>&nbsp;<span class="op" id="7400896">!=</span>&nbsp;<span class="builtinfunc" id="7400899">len</span><span class="op" id="7400902">(</span><span class="ident" id="7400903">run</span><span class="op" id="7400906">)</span>&nbsp;<span class="op" id="7400908">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7400914">t</span><span class="op" id="7400915">.</span><span class="ident" id="7400916">Fatalf</span><span class="op" id="7400922">(</span><span class="string" id="7400923">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7400961">,</span>&nbsp;<span class="ident" id="7400963">file</span><span class="op" id="7400967">,</span>&nbsp;<span class="ident" id="7400969">lineno</span><span class="op" id="7400975">,</span>&nbsp;<span class="builtinfunc" id="7400977">len</span><span class="op" id="7400980">(</span><span class="ident" id="7400981">res</span><span class="op" id="7400984">)</span><span class="op" id="7400985">,</span>&nbsp;<span class="builtinfunc" id="7400987">len</span><span class="op" id="7400990">(</span><span class="ident" id="7400991">run</span><span class="op" id="7400994">)</span><span class="op" id="7400995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401005">for</span>&nbsp;<span class="ident" id="7401009">i</span>&nbsp;<span class="op" id="7401011">:=</span>&nbsp;<span class="keyword" id="7401014">range</span>&nbsp;<span class="ident" id="7401020">res</span>&nbsp;<span class="op" id="7401024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401030">have</span><span class="op" id="7401034">,</span>&nbsp;<span class="ident" id="7401036">suffix</span>&nbsp;<span class="op" id="7401043">:=</span>&nbsp;<span class="ident" id="7401046">run</span><span class="op" id="7401049">[</span><span class="ident" id="7401050">i</span><span class="op" id="7401051">]</span><span class="op" id="7401052">(</span><span class="ident" id="7401053">re</span><span class="op" id="7401055">,</span>&nbsp;<span class="ident" id="7401057">refull</span><span class="op" id="7401063">,</span>&nbsp;<span class="ident" id="7401065">text</span><span class="op" id="7401069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401075">want</span>&nbsp;<span class="op" id="7401080">:=</span>&nbsp;<span class="ident" id="7401083">parseResult</span><span class="op" id="7401094">(</span><span class="ident" id="7401095">t</span><span class="op" id="7401096">,</span>&nbsp;<span class="ident" id="7401098">file</span><span class="op" id="7401102">,</span>&nbsp;<span class="ident" id="7401104">lineno</span><span class="op" id="7401110">,</span>&nbsp;<span class="ident" id="7401112">res</span><span class="op" id="7401115">[</span><span class="ident" id="7401116">i</span><span class="op" id="7401117">]</span><span class="op" id="7401118">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401124">if</span>&nbsp;<span class="op" id="7401127">!</span><span class="ident" id="7401128">same</span><span class="op" id="7401132">(</span><span class="ident" id="7401133">have</span><span class="op" id="7401137">,</span>&nbsp;<span class="ident" id="7401139">want</span><span class="op" id="7401143">)</span>&nbsp;<span class="op" id="7401145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401152">t</span><span class="op" id="7401153">.</span><span class="ident" id="7401154">Errorf</span><span class="op" id="7401160">(</span><span class="string" id="7401161">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7401212">,</span>&nbsp;<span class="ident" id="7401214">file</span><span class="op" id="7401218">,</span>&nbsp;<span class="ident" id="7401220">lineno</span><span class="op" id="7401226">,</span>&nbsp;<span class="ident" id="7401228">re</span><span class="op" id="7401230">,</span>&nbsp;<span class="ident" id="7401232">suffix</span><span class="op" id="7401238">,</span>&nbsp;<span class="ident" id="7401240">text</span><span class="op" id="7401244">,</span>&nbsp;<span class="ident" id="7401246">have</span><span class="op" id="7401250">,</span>&nbsp;<span class="ident" id="7401252">want</span><span class="op" id="7401256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401263">if</span>&nbsp;<span class="ident" id="7401266">nfail</span><span class="op" id="7401271">++</span><span class="op" id="7401273">;</span>&nbsp;<span class="ident" id="7401275">nfail</span>&nbsp;<span class="op" id="7401281">&gt;=</span>&nbsp;<span class="num" id="7401284">100</span>&nbsp;<span class="op" id="7401288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401296">t</span><span class="op" id="7401297">.</span><span class="ident" id="7401298">Fatalf</span><span class="op" id="7401304">(</span><span class="string" id="7401305">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7401331">,</span>&nbsp;<span class="ident" id="7401333">nfail</span><span class="op" id="7401338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401345">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401352">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401371">b</span><span class="op" id="7401372">,</span>&nbsp;<span class="ident" id="7401374">suffix</span>&nbsp;<span class="op" id="7401381">:=</span>&nbsp;<span class="ident" id="7401384">match</span><span class="op" id="7401389">[</span><span class="ident" id="7401390">i</span><span class="op" id="7401391">]</span><span class="op" id="7401392">(</span><span class="ident" id="7401393">re</span><span class="op" id="7401395">,</span>&nbsp;<span class="ident" id="7401397">refull</span><span class="op" id="7401403">,</span>&nbsp;<span class="ident" id="7401405">text</span><span class="op" id="7401409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401415">if</span>&nbsp;<span class="ident" id="7401418">b</span>&nbsp;<span class="op" id="7401420">!=</span>&nbsp;<span class="op" id="7401423">(</span><span class="ident" id="7401424">want</span>&nbsp;<span class="op" id="7401429">!=</span>&nbsp;<span class="ident" id="7401432">nil</span><span class="op" id="7401435">)</span>&nbsp;<span class="op" id="7401437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401444">t</span><span class="op" id="7401445">.</span><span class="ident" id="7401446">Errorf</span><span class="op" id="7401452">(</span><span class="string" id="7401453">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7401498">,</span>&nbsp;<span class="ident" id="7401500">file</span><span class="op" id="7401504">,</span>&nbsp;<span class="ident" id="7401506">lineno</span><span class="op" id="7401512">,</span>&nbsp;<span class="ident" id="7401514">re</span><span class="op" id="7401516">,</span>&nbsp;<span class="ident" id="7401518">suffix</span><span class="op" id="7401524">,</span>&nbsp;<span class="ident" id="7401526">text</span><span class="op" id="7401530">,</span>&nbsp;<span class="ident" id="7401532">b</span><span class="op" id="7401533">,</span>&nbsp;<span class="op" id="7401535">!</span><span class="ident" id="7401536">b</span><span class="op" id="7401537">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401544">if</span>&nbsp;<span class="ident" id="7401547">nfail</span><span class="op" id="7401552">++</span><span class="op" id="7401554">;</span>&nbsp;<span class="ident" id="7401556">nfail</span>&nbsp;<span class="op" id="7401562">&gt;=</span>&nbsp;<span class="num" id="7401565">100</span>&nbsp;<span class="op" id="7401569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401577">t</span><span class="op" id="7401578">.</span><span class="ident" id="7401579">Fatalf</span><span class="op" id="7401585">(</span><span class="string" id="7401586">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7401612">,</span>&nbsp;<span class="ident" id="7401614">nfail</span><span class="op" id="7401619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401633">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401646">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401656">default</span><span class="op" id="7401663">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401668">t</span><span class="op" id="7401669">.</span><span class="ident" id="7401670">Fatalf</span><span class="op" id="7401676">(</span><span class="string" id="7401677">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="7401703">,</span>&nbsp;<span class="ident" id="7401705">file</span><span class="op" id="7401709">,</span>&nbsp;<span class="ident" id="7401711">lineno</span><span class="op" id="7401717">,</span>&nbsp;<span class="ident" id="7401719">line</span><span class="op" id="7401723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401727">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401733">if</span>&nbsp;<span class="ident" id="7401736">err</span>&nbsp;<span class="op" id="7401740">:=</span>&nbsp;<span class="ident" id="7401743">scanner</span><span class="op" id="7401750">.</span><span class="ident" id="7401751">Err</span><span class="op" id="7401754">(</span><span class="op" id="7401755">)</span><span class="op" id="7401756">;</span>&nbsp;<span class="ident" id="7401758">err</span>&nbsp;<span class="op" id="7401762">!=</span>&nbsp;<span class="ident" id="7401765">nil</span>&nbsp;<span class="op" id="7401769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401773">t</span><span class="op" id="7401774">.</span><span class="ident" id="7401775">Fatalf</span><span class="op" id="7401781">(</span><span class="string" id="7401782">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7401793">,</span>&nbsp;<span class="ident" id="7401795">file</span><span class="op" id="7401799">,</span>&nbsp;<span class="ident" id="7401801">lineno</span><span class="op" id="7401807">,</span>&nbsp;<span class="ident" id="7401809">err</span><span class="op" id="7401812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7401818">if</span>&nbsp;<span class="builtinfunc" id="7401821">len</span><span class="op" id="7401824">(</span><span class="ident" id="7401825">input</span><span class="op" id="7401830">)</span>&nbsp;<span class="op" id="7401832">!=</span>&nbsp;<span class="num" id="7401835">0</span>&nbsp;<span class="op" id="7401837">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401841">t</span><span class="op" id="7401842">.</span><span class="ident" id="7401843">Fatalf</span><span class="op" id="7401849">(</span><span class="string" id="7401850">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="7401899">,</span>&nbsp;<span class="ident" id="7401901">file</span><span class="op" id="7401905">,</span>&nbsp;<span class="ident" id="7401907">lineno</span><span class="op" id="7401913">,</span>&nbsp;<span class="builtinfunc" id="7401915">len</span><span class="op" id="7401918">(</span><span class="ident" id="7401919">input</span><span class="op" id="7401924">)</span><span class="op" id="7401925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7401928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7401931">t</span><span class="op" id="7401932">.</span><span class="ident" id="7401933">Logf</span><span class="op" id="7401937">(</span><span class="string" id="7401938">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="7401955">,</span>&nbsp;<span class="ident" id="7401957">ncase</span><span class="op" id="7401962">)</span><br>
<span class="lineno"></span><span class="op" id="7401964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="7401967">var</span>&nbsp;<span class="ident" id="7401971">run</span>&nbsp;<span class="op" id="7401975">=</span>&nbsp;<span class="op" id="7401977">[</span><span class="op" id="7401978">]</span><span class="keyword" id="7401979">func</span><span class="op" id="7401983">(</span><span class="op" id="7401984">*</span><span class="ident" id="7401985">Regexp</span><span class="op" id="7401991">,</span>&nbsp;<span class="op" id="7401993">*</span><span class="ident" id="7401994">Regexp</span><span class="op" id="7402000">,</span>&nbsp;<span class="builtintype" id="7402002">string</span><span class="op" id="7402008">)</span>&nbsp;<span class="op" id="7402010">(</span><span class="op" id="7402011">[</span><span class="op" id="7402012">]</span><span class="builtintype" id="7402013">int</span><span class="op" id="7402016">,</span>&nbsp;<span class="builtintype" id="7402018">string</span><span class="op" id="7402024">)</span><span class="op" id="7402025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402028">runFull</span><span class="op" id="7402035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402038">runPartial</span><span class="op" id="7402048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402051">runFullLongest</span><span class="op" id="7402065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402068">runPartialLongest</span><span class="op" id="7402085">,</span><br>
<span class="lineno">205</span><span class="op" id="7402087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7402090">func</span>&nbsp;<span class="ident" id="7402095">runFull</span><span class="op" id="7402102">(</span><span class="ident" id="7402103">re</span><span class="op" id="7402105">,</span>&nbsp;<span class="ident" id="7402107">refull</span>&nbsp;<span class="op" id="7402114">*</span><span class="ident" id="7402115">Regexp</span><span class="op" id="7402121">,</span>&nbsp;<span class="ident" id="7402123">text</span>&nbsp;<span class="builtintype" id="7402128">string</span><span class="op" id="7402134">)</span>&nbsp;<span class="op" id="7402136">(</span><span class="op" id="7402137">[</span><span class="op" id="7402138">]</span><span class="builtintype" id="7402139">int</span><span class="op" id="7402142">,</span>&nbsp;<span class="builtintype" id="7402144">string</span><span class="op" id="7402150">)</span>&nbsp;<span class="op" id="7402152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402155">refull</span><span class="op" id="7402161">.</span><span class="ident" id="7402162">longest</span>&nbsp;<span class="op" id="7402170">=</span>&nbsp;<span class="builtintype" id="7402172">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7402179">return</span>&nbsp;<span class="ident" id="7402186">refull</span><span class="op" id="7402192">.</span><span class="ident" id="7402193">FindStringSubmatchIndex</span><span class="op" id="7402216">(</span><span class="ident" id="7402217">text</span><span class="op" id="7402221">)</span><span class="op" id="7402222">,</span>&nbsp;<span class="string" id="7402224">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="7402233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7402236">func</span>&nbsp;<span class="ident" id="7402241">runPartial</span><span class="op" id="7402251">(</span><span class="ident" id="7402252">re</span><span class="op" id="7402254">,</span>&nbsp;<span class="ident" id="7402256">refull</span>&nbsp;<span class="op" id="7402263">*</span><span class="ident" id="7402264">Regexp</span><span class="op" id="7402270">,</span>&nbsp;<span class="ident" id="7402272">text</span>&nbsp;<span class="builtintype" id="7402277">string</span><span class="op" id="7402283">)</span>&nbsp;<span class="op" id="7402285">(</span><span class="op" id="7402286">[</span><span class="op" id="7402287">]</span><span class="builtintype" id="7402288">int</span><span class="op" id="7402291">,</span>&nbsp;<span class="builtintype" id="7402293">string</span><span class="op" id="7402299">)</span>&nbsp;<span class="op" id="7402301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402304">re</span><span class="op" id="7402306">.</span><span class="ident" id="7402307">longest</span>&nbsp;<span class="op" id="7402315">=</span>&nbsp;<span class="builtintype" id="7402317">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7402324">return</span>&nbsp;<span class="ident" id="7402331">re</span><span class="op" id="7402333">.</span><span class="ident" id="7402334">FindStringSubmatchIndex</span><span class="op" id="7402357">(</span><span class="ident" id="7402358">text</span><span class="op" id="7402362">)</span><span class="op" id="7402363">,</span>&nbsp;<span class="string" id="7402365">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="7402368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7402371">func</span>&nbsp;<span class="ident" id="7402376">runFullLongest</span><span class="op" id="7402390">(</span><span class="ident" id="7402391">re</span><span class="op" id="7402393">,</span>&nbsp;<span class="ident" id="7402395">refull</span>&nbsp;<span class="op" id="7402402">*</span><span class="ident" id="7402403">Regexp</span><span class="op" id="7402409">,</span>&nbsp;<span class="ident" id="7402411">text</span>&nbsp;<span class="builtintype" id="7402416">string</span><span class="op" id="7402422">)</span>&nbsp;<span class="op" id="7402424">(</span><span class="op" id="7402425">[</span><span class="op" id="7402426">]</span><span class="builtintype" id="7402427">int</span><span class="op" id="7402430">,</span>&nbsp;<span class="builtintype" id="7402432">string</span><span class="op" id="7402438">)</span>&nbsp;<span class="op" id="7402440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402443">refull</span><span class="op" id="7402449">.</span><span class="ident" id="7402450">longest</span>&nbsp;<span class="op" id="7402458">=</span>&nbsp;<span class="builtintype" id="7402460">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7402466">return</span>&nbsp;<span class="ident" id="7402473">refull</span><span class="op" id="7402479">.</span><span class="ident" id="7402480">FindStringSubmatchIndex</span><span class="op" id="7402503">(</span><span class="ident" id="7402504">text</span><span class="op" id="7402508">)</span><span class="op" id="7402509">,</span>&nbsp;<span class="string" id="7402511">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="7402528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7402531">func</span>&nbsp;<span class="ident" id="7402536">runPartialLongest</span><span class="op" id="7402553">(</span><span class="ident" id="7402554">re</span><span class="op" id="7402556">,</span>&nbsp;<span class="ident" id="7402558">refull</span>&nbsp;<span class="op" id="7402565">*</span><span class="ident" id="7402566">Regexp</span><span class="op" id="7402572">,</span>&nbsp;<span class="ident" id="7402574">text</span>&nbsp;<span class="builtintype" id="7402579">string</span><span class="op" id="7402585">)</span>&nbsp;<span class="op" id="7402587">(</span><span class="op" id="7402588">[</span><span class="op" id="7402589">]</span><span class="builtintype" id="7402590">int</span><span class="op" id="7402593">,</span>&nbsp;<span class="builtintype" id="7402595">string</span><span class="op" id="7402601">)</span>&nbsp;<span class="op" id="7402603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402606">re</span><span class="op" id="7402608">.</span><span class="ident" id="7402609">longest</span>&nbsp;<span class="op" id="7402617">=</span>&nbsp;<span class="builtintype" id="7402619">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7402625">return</span>&nbsp;<span class="ident" id="7402632">re</span><span class="op" id="7402634">.</span><span class="ident" id="7402635">FindStringSubmatchIndex</span><span class="op" id="7402658">(</span><span class="ident" id="7402659">text</span><span class="op" id="7402663">)</span><span class="op" id="7402664">,</span>&nbsp;<span class="string" id="7402666">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="7402678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7402681">var</span>&nbsp;<span class="ident" id="7402685">match</span>&nbsp;<span class="op" id="7402691">=</span>&nbsp;<span class="op" id="7402693">[</span><span class="op" id="7402694">]</span><span class="keyword" id="7402695">func</span><span class="op" id="7402699">(</span><span class="op" id="7402700">*</span><span class="ident" id="7402701">Regexp</span><span class="op" id="7402707">,</span>&nbsp;<span class="op" id="7402709">*</span><span class="ident" id="7402710">Regexp</span><span class="op" id="7402716">,</span>&nbsp;<span class="builtintype" id="7402718">string</span><span class="op" id="7402724">)</span>&nbsp;<span class="op" id="7402726">(</span><span class="builtintype" id="7402727">bool</span><span class="op" id="7402731">,</span>&nbsp;<span class="builtintype" id="7402733">string</span><span class="op" id="7402739">)</span><span class="op" id="7402740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402743">matchFull</span><span class="op" id="7402752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402755">matchPartial</span><span class="op" id="7402767">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402770">matchFullLongest</span><span class="op" id="7402786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402789">matchPartialLongest</span><span class="op" id="7402808">,</span><br>
<span class="lineno"></span><span class="op" id="7402810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7402813">func</span>&nbsp;<span class="ident" id="7402818">matchFull</span><span class="op" id="7402827">(</span><span class="ident" id="7402828">re</span><span class="op" id="7402830">,</span>&nbsp;<span class="ident" id="7402832">refull</span>&nbsp;<span class="op" id="7402839">*</span><span class="ident" id="7402840">Regexp</span><span class="op" id="7402846">,</span>&nbsp;<span class="ident" id="7402848">text</span>&nbsp;<span class="builtintype" id="7402853">string</span><span class="op" id="7402859">)</span>&nbsp;<span class="op" id="7402861">(</span><span class="builtintype" id="7402862">bool</span><span class="op" id="7402866">,</span>&nbsp;<span class="builtintype" id="7402868">string</span><span class="op" id="7402874">)</span>&nbsp;<span class="op" id="7402876">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7402879">refull</span><span class="op" id="7402885">.</span><span class="ident" id="7402886">longest</span>&nbsp;<span class="op" id="7402894">=</span>&nbsp;<span class="builtintype" id="7402896">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7402903">return</span>&nbsp;<span class="ident" id="7402910">refull</span><span class="op" id="7402916">.</span><span class="ident" id="7402917">MatchString</span><span class="op" id="7402928">(</span><span class="ident" id="7402929">text</span><span class="op" id="7402933">)</span><span class="op" id="7402934">,</span>&nbsp;<span class="string" id="7402936">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7402945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7402948">func</span>&nbsp;<span class="ident" id="7402953">matchPartial</span><span class="op" id="7402965">(</span><span class="ident" id="7402966">re</span><span class="op" id="7402968">,</span>&nbsp;<span class="ident" id="7402970">refull</span>&nbsp;<span class="op" id="7402977">*</span><span class="ident" id="7402978">Regexp</span><span class="op" id="7402984">,</span>&nbsp;<span class="ident" id="7402986">text</span>&nbsp;<span class="builtintype" id="7402991">string</span><span class="op" id="7402997">)</span>&nbsp;<span class="op" id="7402999">(</span><span class="builtintype" id="7403000">bool</span><span class="op" id="7403004">,</span>&nbsp;<span class="builtintype" id="7403006">string</span><span class="op" id="7403012">)</span>&nbsp;<span class="op" id="7403014">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7403017">re</span><span class="op" id="7403019">.</span><span class="ident" id="7403020">longest</span>&nbsp;<span class="op" id="7403028">=</span>&nbsp;<span class="builtintype" id="7403030">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403037">return</span>&nbsp;<span class="ident" id="7403044">re</span><span class="op" id="7403046">.</span><span class="ident" id="7403047">MatchString</span><span class="op" id="7403058">(</span><span class="ident" id="7403059">text</span><span class="op" id="7403063">)</span><span class="op" id="7403064">,</span>&nbsp;<span class="string" id="7403066">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="7403069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7403072">func</span>&nbsp;<span class="ident" id="7403077">matchFullLongest</span><span class="op" id="7403093">(</span><span class="ident" id="7403094">re</span><span class="op" id="7403096">,</span>&nbsp;<span class="ident" id="7403098">refull</span>&nbsp;<span class="op" id="7403105">*</span><span class="ident" id="7403106">Regexp</span><span class="op" id="7403112">,</span>&nbsp;<span class="ident" id="7403114">text</span>&nbsp;<span class="builtintype" id="7403119">string</span><span class="op" id="7403125">)</span>&nbsp;<span class="op" id="7403127">(</span><span class="builtintype" id="7403128">bool</span><span class="op" id="7403132">,</span>&nbsp;<span class="builtintype" id="7403134">string</span><span class="op" id="7403140">)</span>&nbsp;<span class="op" id="7403142">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7403145">refull</span><span class="op" id="7403151">.</span><span class="ident" id="7403152">longest</span>&nbsp;<span class="op" id="7403160">=</span>&nbsp;<span class="builtintype" id="7403162">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403168">return</span>&nbsp;<span class="ident" id="7403175">refull</span><span class="op" id="7403181">.</span><span class="ident" id="7403182">MatchString</span><span class="op" id="7403193">(</span><span class="ident" id="7403194">text</span><span class="op" id="7403198">)</span><span class="op" id="7403199">,</span>&nbsp;<span class="string" id="7403201">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7403218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7403221">func</span>&nbsp;<span class="ident" id="7403226">matchPartialLongest</span><span class="op" id="7403245">(</span><span class="ident" id="7403246">re</span><span class="op" id="7403248">,</span>&nbsp;<span class="ident" id="7403250">refull</span>&nbsp;<span class="op" id="7403257">*</span><span class="ident" id="7403258">Regexp</span><span class="op" id="7403264">,</span>&nbsp;<span class="ident" id="7403266">text</span>&nbsp;<span class="builtintype" id="7403271">string</span><span class="op" id="7403277">)</span>&nbsp;<span class="op" id="7403279">(</span><span class="builtintype" id="7403280">bool</span><span class="op" id="7403284">,</span>&nbsp;<span class="builtintype" id="7403286">string</span><span class="op" id="7403292">)</span>&nbsp;<span class="op" id="7403294">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7403297">re</span><span class="op" id="7403299">.</span><span class="ident" id="7403300">longest</span>&nbsp;<span class="op" id="7403308">=</span>&nbsp;<span class="builtintype" id="7403310">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403316">return</span>&nbsp;<span class="ident" id="7403323">re</span><span class="op" id="7403325">.</span><span class="ident" id="7403326">MatchString</span><span class="op" id="7403337">(</span><span class="ident" id="7403338">text</span><span class="op" id="7403342">)</span><span class="op" id="7403343">,</span>&nbsp;<span class="string" id="7403345">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="7403357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7403360">func</span>&nbsp;<span class="ident" id="7403365">isSingleBytes</span><span class="op" id="7403378">(</span><span class="ident" id="7403379">s</span>&nbsp;<span class="builtintype" id="7403381">string</span><span class="op" id="7403387">)</span>&nbsp;<span class="builtintype" id="7403389">bool</span>&nbsp;<span class="op" id="7403394">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403397">for</span>&nbsp;<span class="ident" id="7403401">_</span><span class="op" id="7403402">,</span>&nbsp;<span class="ident" id="7403404">c</span>&nbsp;<span class="op" id="7403406">:=</span>&nbsp;<span class="keyword" id="7403409">range</span>&nbsp;<span class="ident" id="7403415">s</span>&nbsp;<span class="op" id="7403417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403421">if</span>&nbsp;<span class="ident" id="7403424">c</span>&nbsp;<span class="op" id="7403426">&gt;=</span>&nbsp;<span class="ident" id="7403429">utf8</span><span class="op" id="7403433">.</span><span class="ident" id="7403434">RuneSelf</span>&nbsp;<span class="op" id="7403443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403448">return</span>&nbsp;<span class="builtintype" id="7403455">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7403463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7403466">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403469">return</span>&nbsp;<span class="builtintype" id="7403476">true</span><br>
<span class="lineno"></span><span class="op" id="7403481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7403484">func</span>&nbsp;<span class="ident" id="7403489">tryCompile</span><span class="op" id="7403499">(</span><span class="ident" id="7403500">s</span>&nbsp;<span class="builtintype" id="7403502">string</span><span class="op" id="7403508">)</span>&nbsp;<span class="op" id="7403510">(</span><span class="ident" id="7403511">re</span>&nbsp;<span class="op" id="7403514">*</span><span class="ident" id="7403515">Regexp</span><span class="op" id="7403521">,</span>&nbsp;<span class="ident" id="7403523">err</span>&nbsp;<span class="builtintype" id="7403527">error</span><span class="op" id="7403532">)</span>&nbsp;<span class="op" id="7403534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7403537">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403579">defer</span>&nbsp;<span class="keyword" id="7403585">func</span><span class="op" id="7403589">(</span><span class="op" id="7403590">)</span>&nbsp;<span class="op" id="7403592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403596">if</span>&nbsp;<span class="ident" id="7403599">r</span>&nbsp;<span class="op" id="7403601">:=</span>&nbsp;<span class="builtinfunc" id="7403604">recover</span><span class="op" id="7403611">(</span><span class="op" id="7403612">)</span><span class="op" id="7403613">;</span>&nbsp;<span class="ident" id="7403615">r</span>&nbsp;<span class="op" id="7403617">!=</span>&nbsp;<span class="ident" id="7403620">nil</span>&nbsp;<span class="op" id="7403624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7403629">err</span>&nbsp;<span class="op" id="7403633">=</span>&nbsp;<span class="ident" id="7403635">fmt</span><span class="op" id="7403638">.</span><span class="ident" id="7403639">Errorf</span><span class="op" id="7403645">(</span><span class="string" id="7403646">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="7403657">,</span>&nbsp;<span class="ident" id="7403659">r</span><span class="op" id="7403660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7403664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7403667">}</span><span class="op" id="7403668">(</span><span class="op" id="7403669">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403672">return</span>&nbsp;<span class="ident" id="7403679">Compile</span><span class="op" id="7403686">(</span><span class="ident" id="7403687">s</span><span class="op" id="7403688">)</span><br>
<span class="lineno"></span><span class="op" id="7403690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7403693">func</span>&nbsp;<span class="ident" id="7403698">parseResult</span><span class="op" id="7403709">(</span><span class="ident" id="7403710">t</span>&nbsp;<span class="op" id="7403712">*</span><span class="ident" id="7403713">testing</span><span class="op" id="7403720">.</span><span class="ident" id="7403721">T</span><span class="op" id="7403722">,</span>&nbsp;<span class="ident" id="7403724">file</span>&nbsp;<span class="builtintype" id="7403729">string</span><span class="op" id="7403735">,</span>&nbsp;<span class="ident" id="7403737">lineno</span>&nbsp;<span class="builtintype" id="7403744">int</span><span class="op" id="7403747">,</span>&nbsp;<span class="ident" id="7403749">res</span>&nbsp;<span class="builtintype" id="7403753">string</span><span class="op" id="7403759">)</span>&nbsp;<span class="op" id="7403761">[</span><span class="op" id="7403762">]</span><span class="builtintype" id="7403763">int</span>&nbsp;<span class="op" id="7403767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7403770">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403805">if</span>&nbsp;<span class="ident" id="7403808">res</span>&nbsp;<span class="op" id="7403812">==</span>&nbsp;<span class="string" id="7403815">&#34;-&#34;</span>&nbsp;<span class="op" id="7403819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403823">return</span>&nbsp;<span class="ident" id="7403830">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7403835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7403838">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7403886">n</span>&nbsp;<span class="op" id="7403888">:=</span>&nbsp;<span class="num" id="7403891">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403894">for</span>&nbsp;<span class="ident" id="7403898">j</span>&nbsp;<span class="op" id="7403900">:=</span>&nbsp;<span class="num" id="7403903">0</span><span class="op" id="7403904">;</span>&nbsp;<span class="ident" id="7403906">j</span>&nbsp;<span class="op" id="7403908">&lt;</span>&nbsp;<span class="builtinfunc" id="7403910">len</span><span class="op" id="7403913">(</span><span class="ident" id="7403914">res</span><span class="op" id="7403917">)</span><span class="op" id="7403918">;</span>&nbsp;<span class="ident" id="7403920">j</span><span class="op" id="7403921">++</span>&nbsp;<span class="op" id="7403924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7403928">if</span>&nbsp;<span class="ident" id="7403931">res</span><span class="op" id="7403934">[</span><span class="ident" id="7403935">j</span><span class="op" id="7403936">]</span>&nbsp;<span class="op" id="7403938">==</span>&nbsp;<span class="string" id="7403941">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7403945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7403950">n</span><span class="op" id="7403951">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7403956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7403959">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7403962">out</span>&nbsp;<span class="op" id="7403966">:=</span>&nbsp;<span class="builtinfunc" id="7403969">make</span><span class="op" id="7403973">(</span><span class="op" id="7403974">[</span><span class="op" id="7403975">]</span><span class="builtintype" id="7403976">int</span><span class="op" id="7403979">,</span>&nbsp;<span class="num" id="7403981">2</span><span class="op" id="7403982">*</span><span class="ident" id="7403983">n</span><span class="op" id="7403984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7403987">i</span>&nbsp;<span class="op" id="7403989">:=</span>&nbsp;<span class="num" id="7403992">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7403995">n</span>&nbsp;<span class="op" id="7403997">=</span>&nbsp;<span class="num" id="7403999">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404002">for</span>&nbsp;<span class="ident" id="7404006">j</span>&nbsp;<span class="op" id="7404008">:=</span>&nbsp;<span class="num" id="7404011">0</span><span class="op" id="7404012">;</span>&nbsp;<span class="ident" id="7404014">j</span>&nbsp;<span class="op" id="7404016">&lt;=</span>&nbsp;<span class="builtinfunc" id="7404019">len</span><span class="op" id="7404022">(</span><span class="ident" id="7404023">res</span><span class="op" id="7404026">)</span><span class="op" id="7404027">;</span>&nbsp;<span class="ident" id="7404029">j</span><span class="op" id="7404030">++</span>&nbsp;<span class="op" id="7404033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404037">if</span>&nbsp;<span class="ident" id="7404040">j</span>&nbsp;<span class="op" id="7404042">==</span>&nbsp;<span class="builtinfunc" id="7404045">len</span><span class="op" id="7404048">(</span><span class="ident" id="7404049">res</span><span class="op" id="7404052">)</span>&nbsp;<span class="op" id="7404054">||</span>&nbsp;<span class="ident" id="7404057">res</span><span class="op" id="7404060">[</span><span class="ident" id="7404061">j</span><span class="op" id="7404062">]</span>&nbsp;<span class="op" id="7404064">==</span>&nbsp;<span class="string" id="7404067">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7404071">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7404076">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404127">pair</span>&nbsp;<span class="op" id="7404132">:=</span>&nbsp;<span class="ident" id="7404135">res</span><span class="op" id="7404138">[</span><span class="ident" id="7404139">i</span><span class="op" id="7404140">:</span><span class="ident" id="7404141">j</span><span class="op" id="7404142">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404147">if</span>&nbsp;<span class="ident" id="7404150">pair</span>&nbsp;<span class="op" id="7404155">==</span>&nbsp;<span class="string" id="7404158">&#34;-&#34;</span>&nbsp;<span class="op" id="7404162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404168">out</span><span class="op" id="7404171">[</span><span class="ident" id="7404172">n</span><span class="op" id="7404173">]</span>&nbsp;<span class="op" id="7404175">=</span>&nbsp;<span class="op" id="7404177">-</span><span class="num" id="7404178">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404184">out</span><span class="op" id="7404187">[</span><span class="ident" id="7404188">n</span><span class="op" id="7404189">+</span><span class="num" id="7404190">1</span><span class="op" id="7404191">]</span>&nbsp;<span class="op" id="7404193">=</span>&nbsp;<span class="op" id="7404195">-</span><span class="num" id="7404196">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7404201">}</span>&nbsp;<span class="keyword" id="7404203">else</span>&nbsp;<span class="op" id="7404208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404214">k</span>&nbsp;<span class="op" id="7404216">:=</span>&nbsp;<span class="ident" id="7404219">strings</span><span class="op" id="7404226">.</span><span class="ident" id="7404227">Index</span><span class="op" id="7404232">(</span><span class="ident" id="7404233">pair</span><span class="op" id="7404237">,</span>&nbsp;<span class="string" id="7404239">&#34;-&#34;</span><span class="op" id="7404242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404248">if</span>&nbsp;<span class="ident" id="7404251">k</span>&nbsp;<span class="op" id="7404253">&lt;</span>&nbsp;<span class="num" id="7404255">0</span>&nbsp;<span class="op" id="7404257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404264">t</span><span class="op" id="7404265">.</span><span class="ident" id="7404266">Fatalf</span><span class="op" id="7404272">(</span><span class="string" id="7404273">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7404297">,</span>&nbsp;<span class="ident" id="7404299">file</span><span class="op" id="7404303">,</span>&nbsp;<span class="ident" id="7404305">lineno</span><span class="op" id="7404311">,</span>&nbsp;<span class="ident" id="7404313">pair</span><span class="op" id="7404317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7404323">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404329">lo</span><span class="op" id="7404331">,</span>&nbsp;<span class="ident" id="7404333">err1</span>&nbsp;<span class="op" id="7404338">:=</span>&nbsp;<span class="ident" id="7404341">strconv</span><span class="op" id="7404348">.</span><span class="ident" id="7404349">Atoi</span><span class="op" id="7404353">(</span><span class="ident" id="7404354">pair</span><span class="op" id="7404358">[</span><span class="op" id="7404359">:</span><span class="ident" id="7404360">k</span><span class="op" id="7404361">]</span><span class="op" id="7404362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404368">hi</span><span class="op" id="7404370">,</span>&nbsp;<span class="ident" id="7404372">err2</span>&nbsp;<span class="op" id="7404377">:=</span>&nbsp;<span class="ident" id="7404380">strconv</span><span class="op" id="7404387">.</span><span class="ident" id="7404388">Atoi</span><span class="op" id="7404392">(</span><span class="ident" id="7404393">pair</span><span class="op" id="7404397">[</span><span class="ident" id="7404398">k</span><span class="op" id="7404399">+</span><span class="num" id="7404400">1</span><span class="op" id="7404401">:</span><span class="op" id="7404402">]</span><span class="op" id="7404403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404409">if</span>&nbsp;<span class="ident" id="7404412">err1</span>&nbsp;<span class="op" id="7404417">!=</span>&nbsp;<span class="ident" id="7404420">nil</span>&nbsp;<span class="op" id="7404424">||</span>&nbsp;<span class="ident" id="7404427">err2</span>&nbsp;<span class="op" id="7404432">!=</span>&nbsp;<span class="ident" id="7404435">nil</span>&nbsp;<span class="op" id="7404439">||</span>&nbsp;<span class="ident" id="7404442">lo</span>&nbsp;<span class="op" id="7404445">&gt;</span>&nbsp;<span class="ident" id="7404447">hi</span>&nbsp;<span class="op" id="7404450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404457">t</span><span class="op" id="7404458">.</span><span class="ident" id="7404459">Fatalf</span><span class="op" id="7404465">(</span><span class="string" id="7404466">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="7404490">,</span>&nbsp;<span class="ident" id="7404492">file</span><span class="op" id="7404496">,</span>&nbsp;<span class="ident" id="7404498">lineno</span><span class="op" id="7404504">,</span>&nbsp;<span class="ident" id="7404506">pair</span><span class="op" id="7404510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7404516">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404522">out</span><span class="op" id="7404525">[</span><span class="ident" id="7404526">n</span><span class="op" id="7404527">]</span>&nbsp;<span class="op" id="7404529">=</span>&nbsp;<span class="ident" id="7404531">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404538">out</span><span class="op" id="7404541">[</span><span class="ident" id="7404542">n</span><span class="op" id="7404543">+</span><span class="num" id="7404544">1</span><span class="op" id="7404545">]</span>&nbsp;<span class="op" id="7404547">=</span>&nbsp;<span class="ident" id="7404549">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7404555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404560">n</span>&nbsp;<span class="op" id="7404562">+=</span>&nbsp;<span class="num" id="7404565">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404570">i</span>&nbsp;<span class="op" id="7404572">=</span>&nbsp;<span class="ident" id="7404574">j</span>&nbsp;<span class="op" id="7404576">+</span>&nbsp;<span class="num" id="7404578">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7404582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7404585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404588">return</span>&nbsp;<span class="ident" id="7404595">out</span><br>
<span class="lineno"></span><span class="op" id="7404599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7404602">func</span>&nbsp;<span class="ident" id="7404607">same</span><span class="op" id="7404611">(</span><span class="ident" id="7404612">x</span><span class="op" id="7404613">,</span>&nbsp;<span class="ident" id="7404615">y</span>&nbsp;<span class="op" id="7404617">[</span><span class="op" id="7404618">]</span><span class="builtintype" id="7404619">int</span><span class="op" id="7404622">)</span>&nbsp;<span class="builtintype" id="7404624">bool</span>&nbsp;<span class="op" id="7404629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404632">if</span>&nbsp;<span class="builtinfunc" id="7404635">len</span><span class="op" id="7404638">(</span><span class="ident" id="7404639">x</span><span class="op" id="7404640">)</span>&nbsp;<span class="op" id="7404642">!=</span>&nbsp;<span class="builtinfunc" id="7404645">len</span><span class="op" id="7404648">(</span><span class="ident" id="7404649">y</span><span class="op" id="7404650">)</span>&nbsp;<span class="op" id="7404652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404656">return</span>&nbsp;<span class="builtintype" id="7404663">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7404670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404673">for</span>&nbsp;<span class="ident" id="7404677">i</span><span class="op" id="7404678">,</span>&nbsp;<span class="ident" id="7404680">xi</span>&nbsp;<span class="op" id="7404683">:=</span>&nbsp;<span class="keyword" id="7404686">range</span>&nbsp;<span class="ident" id="7404692">x</span>&nbsp;<span class="op" id="7404694">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404698">if</span>&nbsp;<span class="ident" id="7404701">xi</span>&nbsp;<span class="op" id="7404704">!=</span>&nbsp;<span class="ident" id="7404707">y</span><span class="op" id="7404708">[</span><span class="ident" id="7404709">i</span><span class="op" id="7404710">]</span>&nbsp;<span class="op" id="7404712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404717">return</span>&nbsp;<span class="builtintype" id="7404724">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7404732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7404735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7404738">return</span>&nbsp;<span class="builtintype" id="7404745">true</span><br>
<span class="lineno">325</span><span class="op" id="7404750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7404753">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7404810">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="7404870">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="7404922">func</span>&nbsp;<span class="ident" id="7404927">TestFowler</span><span class="op" id="7404937">(</span><span class="ident" id="7404938">t</span>&nbsp;<span class="op" id="7404940">*</span><span class="ident" id="7404941">testing</span><span class="op" id="7404948">.</span><span class="ident" id="7404949">T</span><span class="op" id="7404950">)</span>&nbsp;<span class="op" id="7404952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7404955">files</span><span class="op" id="7404960">,</span>&nbsp;<span class="ident" id="7404962">err</span>&nbsp;<span class="op" id="7404966">:=</span>&nbsp;<span class="ident" id="7404969">filepath</span><span class="op" id="7404977">.</span><span class="ident" id="7404978">Glob</span><span class="op" id="7404982">(</span><span class="string" id="7404983">&#34;testdata/*.dat&#34;</span><span class="op" id="7404999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405002">if</span>&nbsp;<span class="ident" id="7405005">err</span>&nbsp;<span class="op" id="7405009">!=</span>&nbsp;<span class="ident" id="7405012">nil</span>&nbsp;<span class="op" id="7405016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405020">t</span><span class="op" id="7405021">.</span><span class="ident" id="7405022">Fatal</span><span class="op" id="7405027">(</span><span class="ident" id="7405028">err</span><span class="op" id="7405031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7405034">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405037">for</span>&nbsp;<span class="ident" id="7405041">_</span><span class="op" id="7405042">,</span>&nbsp;<span class="ident" id="7405044">file</span>&nbsp;<span class="op" id="7405049">:=</span>&nbsp;<span class="keyword" id="7405052">range</span>&nbsp;<span class="ident" id="7405058">files</span>&nbsp;<span class="op" id="7405064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405068">t</span><span class="op" id="7405069">.</span><span class="ident" id="7405070">Log</span><span class="op" id="7405073">(</span><span class="ident" id="7405074">file</span><span class="op" id="7405078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405082">testFowler</span><span class="op" id="7405092">(</span><span class="ident" id="7405093">t</span><span class="op" id="7405094">,</span>&nbsp;<span class="ident" id="7405096">file</span><span class="op" id="7405100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7405103">}</span><br>
<span class="lineno"></span><span class="op" id="7405105">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7405108">var</span>&nbsp;<span class="ident" id="7405112">notab</span>&nbsp;<span class="op" id="7405118">=</span>&nbsp;<span class="ident" id="7405120">MustCompilePOSIX</span><span class="op" id="7405136">(</span><span class="string" id="7405137">`[^\t]+`</span><span class="op" id="7405145">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7405148">func</span>&nbsp;<span class="ident" id="7405153">testFowler</span><span class="op" id="7405163">(</span><span class="ident" id="7405164">t</span>&nbsp;<span class="op" id="7405166">*</span><span class="ident" id="7405167">testing</span><span class="op" id="7405174">.</span><span class="ident" id="7405175">T</span><span class="op" id="7405176">,</span>&nbsp;<span class="ident" id="7405178">file</span>&nbsp;<span class="builtintype" id="7405183">string</span><span class="op" id="7405189">)</span>&nbsp;<span class="op" id="7405191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405194">f</span><span class="op" id="7405195">,</span>&nbsp;<span class="ident" id="7405197">err</span>&nbsp;<span class="op" id="7405201">:=</span>&nbsp;<span class="ident" id="7405204">os</span><span class="op" id="7405206">.</span><span class="ident" id="7405207">Open</span><span class="op" id="7405211">(</span><span class="ident" id="7405212">file</span><span class="op" id="7405216">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405219">if</span>&nbsp;<span class="ident" id="7405222">err</span>&nbsp;<span class="op" id="7405226">!=</span>&nbsp;<span class="ident" id="7405229">nil</span>&nbsp;<span class="op" id="7405233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405237">t</span><span class="op" id="7405238">.</span><span class="ident" id="7405239">Error</span><span class="op" id="7405244">(</span><span class="ident" id="7405245">err</span><span class="op" id="7405248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405252">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7405260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405263">defer</span>&nbsp;<span class="ident" id="7405269">f</span><span class="op" id="7405270">.</span><span class="ident" id="7405271">Close</span><span class="op" id="7405276">(</span><span class="op" id="7405277">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405280">b</span>&nbsp;<span class="op" id="7405282">:=</span>&nbsp;<span class="ident" id="7405285">bufio</span><span class="op" id="7405290">.</span><span class="ident" id="7405291">NewReader</span><span class="op" id="7405300">(</span><span class="ident" id="7405301">f</span><span class="op" id="7405302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405305">lineno</span>&nbsp;<span class="op" id="7405312">:=</span>&nbsp;<span class="num" id="7405315">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405318">lastRegexp</span>&nbsp;<span class="op" id="7405329">:=</span>&nbsp;<span class="string" id="7405332">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="7405335">Reading</span><span class="op" id="7405342">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405345">for</span>&nbsp;<span class="op" id="7405349">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405353">lineno</span><span class="op" id="7405359">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405364">line</span><span class="op" id="7405368">,</span>&nbsp;<span class="ident" id="7405370">err</span>&nbsp;<span class="op" id="7405374">:=</span>&nbsp;<span class="ident" id="7405377">b</span><span class="op" id="7405378">.</span><span class="ident" id="7405379">ReadString</span><span class="op" id="7405389">(</span><span class="string" id="7405390">&#39;\n&#39;</span><span class="op" id="7405394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405398">if</span>&nbsp;<span class="ident" id="7405401">err</span>&nbsp;<span class="op" id="7405405">!=</span>&nbsp;<span class="ident" id="7405408">nil</span>&nbsp;<span class="op" id="7405412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405417">if</span>&nbsp;<span class="ident" id="7405420">err</span>&nbsp;<span class="op" id="7405424">!=</span>&nbsp;<span class="ident" id="7405427">io</span><span class="op" id="7405429">.</span><span class="ident" id="7405430">EOF</span>&nbsp;<span class="op" id="7405434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405440">t</span><span class="op" id="7405441">.</span><span class="ident" id="7405442">Errorf</span><span class="op" id="7405448">(</span><span class="string" id="7405449">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="7405460">,</span>&nbsp;<span class="ident" id="7405462">file</span><span class="op" id="7405466">,</span>&nbsp;<span class="ident" id="7405468">lineno</span><span class="op" id="7405474">,</span>&nbsp;<span class="ident" id="7405476">err</span><span class="op" id="7405479">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7405484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405489">break</span>&nbsp;<span class="ident" id="7405495">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7405505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7405510">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7405573">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7405578">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7405596">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7405667">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7405737">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7405808">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405826">if</span>&nbsp;<span class="ident" id="7405829">line</span><span class="op" id="7405833">[</span><span class="num" id="7405834">0</span><span class="op" id="7405835">]</span>&nbsp;<span class="op" id="7405837">==</span>&nbsp;<span class="string" id="7405840">&#39;#&#39;</span>&nbsp;<span class="op" id="7405844">||</span>&nbsp;<span class="ident" id="7405847">line</span><span class="op" id="7405851">[</span><span class="num" id="7405852">0</span><span class="op" id="7405853">]</span>&nbsp;<span class="op" id="7405855">==</span>&nbsp;<span class="string" id="7405858">&#39;\n&#39;</span>&nbsp;<span class="op" id="7405863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405868">continue</span>&nbsp;<span class="ident" id="7405877">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7405887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405891">line</span>&nbsp;<span class="op" id="7405896">=</span>&nbsp;<span class="ident" id="7405898">line</span><span class="op" id="7405902">[</span><span class="op" id="7405903">:</span><span class="builtinfunc" id="7405904">len</span><span class="op" id="7405907">(</span><span class="ident" id="7405908">line</span><span class="op" id="7405912">)</span><span class="op" id="7405913">-</span><span class="num" id="7405914">1</span><span class="op" id="7405915">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7405919">field</span>&nbsp;<span class="op" id="7405925">:=</span>&nbsp;<span class="ident" id="7405928">notab</span><span class="op" id="7405933">.</span><span class="ident" id="7405934">FindAllString</span><span class="op" id="7405947">(</span><span class="ident" id="7405948">line</span><span class="op" id="7405952">,</span>&nbsp;<span class="op" id="7405954">-</span><span class="num" id="7405955">1</span><span class="op" id="7405956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405960">for</span>&nbsp;<span class="ident" id="7405964">i</span><span class="op" id="7405965">,</span>&nbsp;<span class="ident" id="7405967">f</span>&nbsp;<span class="op" id="7405969">:=</span>&nbsp;<span class="keyword" id="7405972">range</span>&nbsp;<span class="ident" id="7405978">field</span>&nbsp;<span class="op" id="7405984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7405989">if</span>&nbsp;<span class="ident" id="7405992">f</span>&nbsp;<span class="op" id="7405994">==</span>&nbsp;<span class="string" id="7405997">&#34;NULL&#34;</span>&nbsp;<span class="op" id="7406004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406010">field</span><span class="op" id="7406015">[</span><span class="ident" id="7406016">i</span><span class="op" id="7406017">]</span>&nbsp;<span class="op" id="7406019">=</span>&nbsp;<span class="string" id="7406021">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7406027">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7406032">if</span>&nbsp;<span class="ident" id="7406035">f</span>&nbsp;<span class="op" id="7406037">==</span>&nbsp;<span class="string" id="7406040">&#34;NIL&#34;</span>&nbsp;<span class="op" id="7406046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7406052">t</span><span class="op" id="7406053">.</span><span class="ident" id="7406054">Logf</span><span class="op" id="7406058">(</span><span class="string" id="7406059">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="7406076">,</span>&nbsp;<span class="ident" id="7406078">file</span><span class="op" id="7406082">,</span>&nbsp;<span class="ident" id="7406084">lineno</span><span class="op" id="7406090">,</span>&nbsp;<span class="ident" id="7406092">line</span><span class="op" id="7406096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7406102">continue</span>&nbsp;<span class="ident" id="7406111">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7406122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7406126">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7406130">if</span>&nbsp;<span class="builtinfunc" id="7406133">len</span><span class="op" id="7406136">(</span><span class="ident" id="7406137">field</span><span class="op" id="7406142">)</span>&nbsp;<span class="op" id="7406144">==</span>&nbsp;<span class="num" id="7406147">0</span>&nbsp;<span class="op" id="7406149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7406154">continue</span>&nbsp;<span class="ident" id="7406163">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7406173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406178">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406253">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406325">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406397">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406476">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406535">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406540">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbspbasic&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspBRE&nbsp;&nbsp;&nbsp;&nbsp(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406580">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbspREG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspERE&nbsp;&nbsp;&nbsp;&nbsp(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406618">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbspREG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspARE&nbsp;&nbsp;&nbsp;&nbsp(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406670">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbspREG_SHELL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspSRE&nbsp;&nbsp;&nbsp;&nbsp(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406706">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbspREG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbspKRE&nbsp;&nbsp;&nbsp;&nbsp(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406756">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbspREG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspLRE&nbsp;&nbsp;&nbsp;&nbsp(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406792">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406797">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbspREG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406842">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbspREG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406886">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbspREG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406934">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7406985">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbspREG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsprhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407029">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbspREG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407085">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbspFNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsptestfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407147">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbspREG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407195">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbspREG_ICASE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407229">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbspREG_SPAN&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407263">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbspREG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407313">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407348">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbspREG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspminimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407386">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbspREG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407428">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbspREG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407482">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407526">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbspREG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspdelimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407570">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbspREG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407606">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407649">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbspREG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspall&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407708">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbspstandard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407771">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbspREG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407822">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbspREG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspno&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407873">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbspREG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplet&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407919">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspregexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7407964">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbspREG_NULL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspNULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408008">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408081">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408153">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408224">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408229">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408259">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408264">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspset&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408325">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408330">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408408">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408473">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408545">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408594">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspskip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408636">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspend&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408660">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408665">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408715">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408756">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408810">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408842">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408847">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspuse&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7408902">flag</span>&nbsp;<span class="op" id="7408907">:=</span>&nbsp;<span class="ident" id="7408910">field</span><span class="op" id="7408915">[</span><span class="num" id="7408916">0</span><span class="op" id="7408917">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7408921">switch</span>&nbsp;<span class="ident" id="7408928">flag</span><span class="op" id="7408932">[</span><span class="num" id="7408933">0</span><span class="op" id="7408934">]</span>&nbsp;<span class="op" id="7408936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7408940">case</span>&nbsp;<span class="string" id="7408945">&#39;?&#39;</span><span class="op" id="7408948">,</span>&nbsp;<span class="string" id="7408950">&#39;&amp;&#39;</span><span class="op" id="7408953">,</span>&nbsp;<span class="string" id="7408955">&#39;|&#39;</span><span class="op" id="7408958">,</span>&nbsp;<span class="string" id="7408960">&#39;;&#39;</span><span class="op" id="7408963">,</span>&nbsp;<span class="string" id="7408965">&#39;{&#39;</span><span class="op" id="7408968">,</span>&nbsp;<span class="string" id="7408970">&#39;}&#39;</span><span class="op" id="7408973">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7408978">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7409018">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409045">flag</span>&nbsp;<span class="op" id="7409050">=</span>&nbsp;<span class="ident" id="7409052">flag</span><span class="op" id="7409056">[</span><span class="num" id="7409057">1</span><span class="op" id="7409058">:</span><span class="op" id="7409059">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409064">if</span>&nbsp;<span class="ident" id="7409067">flag</span>&nbsp;<span class="op" id="7409072">==</span>&nbsp;<span class="string" id="7409075">&#34;&#34;</span>&nbsp;<span class="op" id="7409078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409084">continue</span>&nbsp;<span class="ident" id="7409093">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7409104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409108">case</span>&nbsp;<span class="string" id="7409113">&#39;:&#39;</span><span class="op" id="7409116">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409121">i</span>&nbsp;<span class="op" id="7409123">:=</span>&nbsp;<span class="ident" id="7409126">strings</span><span class="op" id="7409133">.</span><span class="ident" id="7409134">Index</span><span class="op" id="7409139">(</span><span class="ident" id="7409140">flag</span><span class="op" id="7409144">[</span><span class="num" id="7409145">1</span><span class="op" id="7409146">:</span><span class="op" id="7409147">]</span><span class="op" id="7409148">,</span>&nbsp;<span class="string" id="7409150">&#34;:&#34;</span><span class="op" id="7409153">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409158">if</span>&nbsp;<span class="ident" id="7409161">i</span>&nbsp;<span class="op" id="7409163">&lt;</span>&nbsp;<span class="num" id="7409165">0</span>&nbsp;<span class="op" id="7409167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409173">t</span><span class="op" id="7409174">.</span><span class="ident" id="7409175">Logf</span><span class="op" id="7409179">(</span><span class="string" id="7409180">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7409190">,</span>&nbsp;<span class="ident" id="7409192">line</span><span class="op" id="7409196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409202">continue</span>&nbsp;<span class="ident" id="7409211">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7409222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409227">flag</span>&nbsp;<span class="op" id="7409232">=</span>&nbsp;<span class="ident" id="7409234">flag</span><span class="op" id="7409238">[</span><span class="num" id="7409239">1</span><span class="op" id="7409240">+</span><span class="ident" id="7409241">i</span><span class="op" id="7409242">+</span><span class="num" id="7409243">1</span><span class="op" id="7409244">:</span><span class="op" id="7409245">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409249">case</span>&nbsp;<span class="string" id="7409254">&#39;C&#39;</span><span class="op" id="7409257">,</span>&nbsp;<span class="string" id="7409259">&#39;N&#39;</span><span class="op" id="7409262">,</span>&nbsp;<span class="string" id="7409264">&#39;T&#39;</span><span class="op" id="7409267">,</span>&nbsp;<span class="string" id="7409269">&#39;0&#39;</span><span class="op" id="7409272">,</span>&nbsp;<span class="string" id="7409274">&#39;1&#39;</span><span class="op" id="7409277">,</span>&nbsp;<span class="string" id="7409279">&#39;2&#39;</span><span class="op" id="7409282">,</span>&nbsp;<span class="string" id="7409284">&#39;3&#39;</span><span class="op" id="7409287">,</span>&nbsp;<span class="string" id="7409289">&#39;4&#39;</span><span class="op" id="7409292">,</span>&nbsp;<span class="string" id="7409294">&#39;5&#39;</span><span class="op" id="7409297">,</span>&nbsp;<span class="string" id="7409299">&#39;6&#39;</span><span class="op" id="7409302">,</span>&nbsp;<span class="string" id="7409304">&#39;7&#39;</span><span class="op" id="7409307">,</span>&nbsp;<span class="string" id="7409309">&#39;8&#39;</span><span class="op" id="7409312">,</span>&nbsp;<span class="string" id="7409314">&#39;9&#39;</span><span class="op" id="7409317">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409322">t</span><span class="op" id="7409323">.</span><span class="ident" id="7409324">Logf</span><span class="op" id="7409328">(</span><span class="string" id="7409329">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="7409339">,</span>&nbsp;<span class="ident" id="7409341">line</span><span class="op" id="7409345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409350">continue</span>&nbsp;<span class="ident" id="7409359">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7409369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7409374">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409452">if</span>&nbsp;<span class="builtinfunc" id="7409455">len</span><span class="op" id="7409458">(</span><span class="ident" id="7409459">field</span><span class="op" id="7409464">)</span>&nbsp;<span class="op" id="7409466">&lt;</span>&nbsp;<span class="num" id="7409468">4</span>&nbsp;<span class="op" id="7409470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409475">t</span><span class="op" id="7409476">.</span><span class="ident" id="7409477">Errorf</span><span class="op" id="7409483">(</span><span class="string" id="7409484">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="7409511">,</span>&nbsp;<span class="ident" id="7409513">file</span><span class="op" id="7409517">,</span>&nbsp;<span class="ident" id="7409519">lineno</span><span class="op" id="7409525">,</span>&nbsp;<span class="ident" id="7409527">line</span><span class="op" id="7409531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409536">continue</span>&nbsp;<span class="ident" id="7409545">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7409555">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7409560">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409603">if</span>&nbsp;<span class="ident" id="7409606">strings</span><span class="op" id="7409613">.</span><span class="ident" id="7409614">Contains</span><span class="op" id="7409622">(</span><span class="ident" id="7409623">flag</span><span class="op" id="7409627">,</span>&nbsp;<span class="string" id="7409629">&#34;$&#34;</span><span class="op" id="7409632">)</span>&nbsp;<span class="op" id="7409634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409639">f</span>&nbsp;<span class="op" id="7409641">:=</span>&nbsp;<span class="string" id="7409644">`&#34;`</span>&nbsp;<span class="op" id="7409648">+</span>&nbsp;<span class="ident" id="7409650">field</span><span class="op" id="7409655">[</span><span class="num" id="7409656">1</span><span class="op" id="7409657">]</span>&nbsp;<span class="op" id="7409659">+</span>&nbsp;<span class="string" id="7409661">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409668">if</span>&nbsp;<span class="ident" id="7409671">field</span><span class="op" id="7409676">[</span><span class="num" id="7409677">1</span><span class="op" id="7409678">]</span><span class="op" id="7409679">,</span>&nbsp;<span class="ident" id="7409681">err</span>&nbsp;<span class="op" id="7409685">=</span>&nbsp;<span class="ident" id="7409687">strconv</span><span class="op" id="7409694">.</span><span class="ident" id="7409695">Unquote</span><span class="op" id="7409702">(</span><span class="ident" id="7409703">f</span><span class="op" id="7409704">)</span><span class="op" id="7409705">;</span>&nbsp;<span class="ident" id="7409707">err</span>&nbsp;<span class="op" id="7409711">!=</span>&nbsp;<span class="ident" id="7409714">nil</span>&nbsp;<span class="op" id="7409718">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409724">t</span><span class="op" id="7409725">.</span><span class="ident" id="7409726">Errorf</span><span class="op" id="7409732">(</span><span class="string" id="7409733">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7409759">,</span>&nbsp;<span class="ident" id="7409761">file</span><span class="op" id="7409765">,</span>&nbsp;<span class="ident" id="7409767">lineno</span><span class="op" id="7409773">,</span>&nbsp;<span class="ident" id="7409775">f</span><span class="op" id="7409776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7409781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409786">f</span>&nbsp;<span class="op" id="7409788">=</span>&nbsp;<span class="string" id="7409790">`&#34;`</span>&nbsp;<span class="op" id="7409794">+</span>&nbsp;<span class="ident" id="7409796">field</span><span class="op" id="7409801">[</span><span class="num" id="7409802">2</span><span class="op" id="7409803">]</span>&nbsp;<span class="op" id="7409805">+</span>&nbsp;<span class="string" id="7409807">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7409814">if</span>&nbsp;<span class="ident" id="7409817">field</span><span class="op" id="7409822">[</span><span class="num" id="7409823">2</span><span class="op" id="7409824">]</span><span class="op" id="7409825">,</span>&nbsp;<span class="ident" id="7409827">err</span>&nbsp;<span class="op" id="7409831">=</span>&nbsp;<span class="ident" id="7409833">strconv</span><span class="op" id="7409840">.</span><span class="ident" id="7409841">Unquote</span><span class="op" id="7409848">(</span><span class="ident" id="7409849">f</span><span class="op" id="7409850">)</span><span class="op" id="7409851">;</span>&nbsp;<span class="ident" id="7409853">err</span>&nbsp;<span class="op" id="7409857">!=</span>&nbsp;<span class="ident" id="7409860">nil</span>&nbsp;<span class="op" id="7409864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7409870">t</span><span class="op" id="7409871">.</span><span class="ident" id="7409872">Errorf</span><span class="op" id="7409878">(</span><span class="string" id="7409879">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="7409905">,</span>&nbsp;<span class="ident" id="7409907">file</span><span class="op" id="7409911">,</span>&nbsp;<span class="ident" id="7409913">lineno</span><span class="op" id="7409919">,</span>&nbsp;<span class="ident" id="7409921">f</span><span class="op" id="7409922">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7409927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7409931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7409936">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7410011">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7410048">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410053">if</span>&nbsp;<span class="ident" id="7410056">field</span><span class="op" id="7410061">[</span><span class="num" id="7410062">1</span><span class="op" id="7410063">]</span>&nbsp;<span class="op" id="7410065">==</span>&nbsp;<span class="string" id="7410068">&#34;SAME&#34;</span>&nbsp;<span class="op" id="7410075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410080">field</span><span class="op" id="7410085">[</span><span class="num" id="7410086">1</span><span class="op" id="7410087">]</span>&nbsp;<span class="op" id="7410089">=</span>&nbsp;<span class="ident" id="7410091">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7410104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410108">lastRegexp</span>&nbsp;<span class="op" id="7410119">=</span>&nbsp;<span class="ident" id="7410121">field</span><span class="op" id="7410126">[</span><span class="num" id="7410127">1</span><span class="op" id="7410128">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7410133">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410170">text</span>&nbsp;<span class="op" id="7410175">:=</span>&nbsp;<span class="ident" id="7410178">field</span><span class="op" id="7410183">[</span><span class="num" id="7410184">2</span><span class="op" id="7410185">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7410190">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410226">ok</span><span class="op" id="7410228">,</span>&nbsp;<span class="ident" id="7410230">shouldCompile</span><span class="op" id="7410243">,</span>&nbsp;<span class="ident" id="7410245">shouldMatch</span><span class="op" id="7410256">,</span>&nbsp;<span class="ident" id="7410258">pos</span>&nbsp;<span class="op" id="7410262">:=</span>&nbsp;<span class="ident" id="7410265">parseFowlerResult</span><span class="op" id="7410282">(</span><span class="ident" id="7410283">field</span><span class="op" id="7410288">[</span><span class="num" id="7410289">3</span><span class="op" id="7410290">]</span><span class="op" id="7410291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410295">if</span>&nbsp;<span class="op" id="7410298">!</span><span class="ident" id="7410299">ok</span>&nbsp;<span class="op" id="7410302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410307">t</span><span class="op" id="7410308">.</span><span class="ident" id="7410309">Errorf</span><span class="op" id="7410315">(</span><span class="string" id="7410316">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="7410348">,</span>&nbsp;<span class="ident" id="7410350">file</span><span class="op" id="7410354">,</span>&nbsp;<span class="ident" id="7410356">lineno</span><span class="op" id="7410362">,</span>&nbsp;<span class="ident" id="7410364">field</span><span class="op" id="7410369">[</span><span class="num" id="7410370">3</span><span class="op" id="7410371">]</span><span class="op" id="7410372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410377">continue</span>&nbsp;<span class="ident" id="7410386">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7410396">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7410401">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410458">Testing</span><span class="op" id="7410465">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7410469">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410544">for</span>&nbsp;<span class="ident" id="7410548">_</span><span class="op" id="7410549">,</span>&nbsp;<span class="ident" id="7410551">c</span>&nbsp;<span class="op" id="7410553">:=</span>&nbsp;<span class="keyword" id="7410556">range</span>&nbsp;<span class="ident" id="7410562">flag</span>&nbsp;<span class="op" id="7410567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410572">pattern</span>&nbsp;<span class="op" id="7410580">:=</span>&nbsp;<span class="ident" id="7410583">field</span><span class="op" id="7410588">[</span><span class="num" id="7410589">1</span><span class="op" id="7410590">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410595">syn</span>&nbsp;<span class="op" id="7410599">:=</span>&nbsp;<span class="ident" id="7410602">syntax</span><span class="op" id="7410608">.</span><span class="ident" id="7410609">POSIX</span>&nbsp;<span class="op" id="7410615">|</span>&nbsp;<span class="ident" id="7410617">syntax</span><span class="op" id="7410623">.</span><span class="ident" id="7410624">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410635">switch</span>&nbsp;<span class="ident" id="7410642">c</span>&nbsp;<span class="op" id="7410644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410649">default</span><span class="op" id="7410656">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410662">continue</span>&nbsp;<span class="ident" id="7410671">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410682">case</span>&nbsp;<span class="string" id="7410687">&#39;E&#39;</span><span class="op" id="7410690">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7410696">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410736">case</span>&nbsp;<span class="string" id="7410741">&#39;L&#39;</span><span class="op" id="7410744">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7410750">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410765">pattern</span>&nbsp;<span class="op" id="7410773">=</span>&nbsp;<span class="ident" id="7410775">QuoteMeta</span><span class="op" id="7410784">(</span><span class="ident" id="7410785">pattern</span><span class="op" id="7410792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7410797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410803">for</span>&nbsp;<span class="ident" id="7410807">_</span><span class="op" id="7410808">,</span>&nbsp;<span class="ident" id="7410810">c</span>&nbsp;<span class="op" id="7410812">:=</span>&nbsp;<span class="keyword" id="7410815">range</span>&nbsp;<span class="ident" id="7410821">flag</span>&nbsp;<span class="op" id="7410826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410832">switch</span>&nbsp;<span class="ident" id="7410839">c</span>&nbsp;<span class="op" id="7410841">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410847">case</span>&nbsp;<span class="string" id="7410852">&#39;i&#39;</span><span class="op" id="7410855">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410862">syn</span>&nbsp;<span class="op" id="7410866">|=</span>&nbsp;<span class="ident" id="7410869">syntax</span><span class="op" id="7410875">.</span><span class="ident" id="7410876">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7410889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7410894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410900">re</span><span class="op" id="7410902">,</span>&nbsp;<span class="ident" id="7410904">err</span>&nbsp;<span class="op" id="7410908">:=</span>&nbsp;<span class="ident" id="7410911">compile</span><span class="op" id="7410918">(</span><span class="ident" id="7410919">pattern</span><span class="op" id="7410926">,</span>&nbsp;<span class="ident" id="7410928">syn</span><span class="op" id="7410931">,</span>&nbsp;<span class="builtintype" id="7410933">true</span><span class="op" id="7410937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410942">if</span>&nbsp;<span class="ident" id="7410945">err</span>&nbsp;<span class="op" id="7410949">!=</span>&nbsp;<span class="ident" id="7410952">nil</span>&nbsp;<span class="op" id="7410956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7410962">if</span>&nbsp;<span class="ident" id="7410965">shouldCompile</span>&nbsp;<span class="op" id="7410979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7410986">t</span><span class="op" id="7410987">.</span><span class="ident" id="7410988">Errorf</span><span class="op" id="7410994">(</span><span class="string" id="7410995">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7411023">,</span>&nbsp;<span class="ident" id="7411025">file</span><span class="op" id="7411029">,</span>&nbsp;<span class="ident" id="7411031">lineno</span><span class="op" id="7411037">,</span>&nbsp;<span class="ident" id="7411039">pattern</span><span class="op" id="7411046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7411052">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7411058">continue</span>&nbsp;<span class="ident" id="7411067">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7411078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7411083">if</span>&nbsp;<span class="op" id="7411086">!</span><span class="ident" id="7411087">shouldCompile</span>&nbsp;<span class="op" id="7411101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7411107">t</span><span class="op" id="7411108">.</span><span class="ident" id="7411109">Errorf</span><span class="op" id="7411115">(</span><span class="string" id="7411116">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="7411147">,</span>&nbsp;<span class="ident" id="7411149">file</span><span class="op" id="7411153">,</span>&nbsp;<span class="ident" id="7411155">lineno</span><span class="op" id="7411161">,</span>&nbsp;<span class="ident" id="7411163">pattern</span><span class="op" id="7411170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7411176">continue</span>&nbsp;<span class="ident" id="7411185">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7411196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7411201">match</span>&nbsp;<span class="op" id="7411207">:=</span>&nbsp;<span class="ident" id="7411210">re</span><span class="op" id="7411212">.</span><span class="ident" id="7411213">MatchString</span><span class="op" id="7411224">(</span><span class="ident" id="7411225">text</span><span class="op" id="7411229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7411234">if</span>&nbsp;<span class="ident" id="7411237">match</span>&nbsp;<span class="op" id="7411243">!=</span>&nbsp;<span class="ident" id="7411246">shouldMatch</span>&nbsp;<span class="op" id="7411258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7411264">t</span><span class="op" id="7411265">.</span><span class="ident" id="7411266">Errorf</span><span class="op" id="7411272">(</span><span class="string" id="7411273">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7411310">,</span>&nbsp;<span class="ident" id="7411312">file</span><span class="op" id="7411316">,</span>&nbsp;<span class="ident" id="7411318">lineno</span><span class="op" id="7411324">,</span>&nbsp;<span class="ident" id="7411326">pattern</span><span class="op" id="7411333">,</span>&nbsp;<span class="ident" id="7411335">text</span><span class="op" id="7411339">,</span>&nbsp;<span class="ident" id="7411341">match</span><span class="op" id="7411346">,</span>&nbsp;<span class="ident" id="7411348">shouldMatch</span><span class="op" id="7411359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7411365">continue</span>&nbsp;<span class="ident" id="7411374">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7411385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7411390">have</span>&nbsp;<span class="op" id="7411395">:=</span>&nbsp;<span class="ident" id="7411398">re</span><span class="op" id="7411400">.</span><span class="ident" id="7411401">FindStringSubmatchIndex</span><span class="op" id="7411424">(</span><span class="ident" id="7411425">text</span><span class="op" id="7411429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7411434">if</span>&nbsp;<span class="op" id="7411437">(</span><span class="builtinfunc" id="7411438">len</span><span class="op" id="7411441">(</span><span class="ident" id="7411442">have</span><span class="op" id="7411446">)</span>&nbsp;<span class="op" id="7411448">&gt;</span>&nbsp;<span class="num" id="7411450">0</span><span class="op" id="7411451">)</span>&nbsp;<span class="op" id="7411453">!=</span>&nbsp;<span class="ident" id="7411456">match</span>&nbsp;<span class="op" id="7411462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7411468">t</span><span class="op" id="7411469">.</span><span class="ident" id="7411470">Errorf</span><span class="op" id="7411476">(</span><span class="string" id="7411477">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7411542">,</span>&nbsp;<span class="ident" id="7411544">file</span><span class="op" id="7411548">,</span>&nbsp;<span class="ident" id="7411550">lineno</span><span class="op" id="7411556">,</span>&nbsp;<span class="ident" id="7411558">pattern</span><span class="op" id="7411565">,</span>&nbsp;<span class="ident" id="7411567">text</span><span class="op" id="7411571">,</span>&nbsp;<span class="ident" id="7411573">match</span><span class="op" id="7411578">,</span>&nbsp;<span class="ident" id="7411580">pattern</span><span class="op" id="7411587">,</span>&nbsp;<span class="ident" id="7411589">text</span><span class="op" id="7411593">,</span>&nbsp;<span class="ident" id="7411595">have</span><span class="op" id="7411599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7411605">continue</span>&nbsp;<span class="ident" id="7411614">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7411625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7411630">if</span>&nbsp;<span class="builtinfunc" id="7411633">len</span><span class="op" id="7411636">(</span><span class="ident" id="7411637">have</span><span class="op" id="7411641">)</span>&nbsp;<span class="op" id="7411643">&gt;</span>&nbsp;<span class="builtinfunc" id="7411645">len</span><span class="op" id="7411648">(</span><span class="ident" id="7411649">pos</span><span class="op" id="7411652">)</span>&nbsp;<span class="op" id="7411654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7411660">have</span>&nbsp;<span class="op" id="7411665">=</span>&nbsp;<span class="ident" id="7411667">have</span><span class="op" id="7411671">[</span><span class="op" id="7411672">:</span><span class="builtinfunc" id="7411673">len</span><span class="op" id="7411676">(</span><span class="ident" id="7411677">pos</span><span class="op" id="7411680">)</span><span class="op" id="7411681">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7411686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7411691">if</span>&nbsp;<span class="op" id="7411694">!</span><span class="ident" id="7411695">same</span><span class="op" id="7411699">(</span><span class="ident" id="7411700">have</span><span class="op" id="7411704">,</span>&nbsp;<span class="ident" id="7411706">pos</span><span class="op" id="7411709">)</span>&nbsp;<span class="op" id="7411711">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7411717">t</span><span class="op" id="7411718">.</span><span class="ident" id="7411719">Errorf</span><span class="op" id="7411725">(</span><span class="string" id="7411726">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7411775">,</span>&nbsp;<span class="ident" id="7411777">file</span><span class="op" id="7411781">,</span>&nbsp;<span class="ident" id="7411783">lineno</span><span class="op" id="7411789">,</span>&nbsp;<span class="ident" id="7411791">pattern</span><span class="op" id="7411798">,</span>&nbsp;<span class="ident" id="7411800">text</span><span class="op" id="7411804">,</span>&nbsp;<span class="ident" id="7411806">have</span><span class="op" id="7411810">,</span>&nbsp;<span class="ident" id="7411812">pos</span><span class="op" id="7411815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7411820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7411824">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7411827">}</span><br>
<span class="lineno"></span><span class="op" id="7411829">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="7411832">func</span>&nbsp;<span class="ident" id="7411837">parseFowlerResult</span><span class="op" id="7411854">(</span><span class="ident" id="7411855">s</span>&nbsp;<span class="builtintype" id="7411857">string</span><span class="op" id="7411863">)</span>&nbsp;<span class="op" id="7411865">(</span><span class="ident" id="7411866">ok</span><span class="op" id="7411868">,</span>&nbsp;<span class="ident" id="7411870">compiled</span><span class="op" id="7411878">,</span>&nbsp;<span class="ident" id="7411880">matched</span>&nbsp;<span class="builtintype" id="7411888">bool</span><span class="op" id="7411892">,</span>&nbsp;<span class="ident" id="7411894">pos</span>&nbsp;<span class="op" id="7411898">[</span><span class="op" id="7411899">]</span><span class="builtintype" id="7411900">int</span><span class="op" id="7411903">)</span>&nbsp;<span class="op" id="7411905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7411908">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7411979">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412049">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412118">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412188">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412257">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412328">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412403">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412479">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412552">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412628">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412704">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412776">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412851">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7412869">switch</span>&nbsp;<span class="op" id="7412876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7412879">case</span>&nbsp;<span class="ident" id="7412884">s</span>&nbsp;<span class="op" id="7412886">==</span>&nbsp;<span class="string" id="7412889">&#34;&#34;</span><span class="op" id="7412891">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7412895">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7412936">ok</span>&nbsp;<span class="op" id="7412939">=</span>&nbsp;<span class="builtintype" id="7412941">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7412948">compiled</span>&nbsp;<span class="op" id="7412957">=</span>&nbsp;<span class="builtintype" id="7412959">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7412966">matched</span>&nbsp;<span class="op" id="7412974">=</span>&nbsp;<span class="builtintype" id="7412976">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7412983">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7412991">case</span>&nbsp;<span class="ident" id="7412996">s</span>&nbsp;<span class="op" id="7412998">==</span>&nbsp;<span class="string" id="7413001">&#34;NOMATCH&#34;</span><span class="op" id="7413010">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7413014">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413034">ok</span>&nbsp;<span class="op" id="7413037">=</span>&nbsp;<span class="builtintype" id="7413039">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413046">compiled</span>&nbsp;<span class="op" id="7413055">=</span>&nbsp;<span class="builtintype" id="7413057">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413064">matched</span>&nbsp;<span class="op" id="7413072">=</span>&nbsp;<span class="builtintype" id="7413074">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413082">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413090">case</span>&nbsp;<span class="string" id="7413095">&#39;A&#39;</span>&nbsp;<span class="op" id="7413099">&lt;=</span>&nbsp;<span class="ident" id="7413102">s</span><span class="op" id="7413103">[</span><span class="num" id="7413104">0</span><span class="op" id="7413105">]</span>&nbsp;<span class="op" id="7413107">&amp;&amp;</span>&nbsp;<span class="ident" id="7413110">s</span><span class="op" id="7413111">[</span><span class="num" id="7413112">0</span><span class="op" id="7413113">]</span>&nbsp;<span class="op" id="7413115">&lt;=</span>&nbsp;<span class="string" id="7413118">&#39;Z&#39;</span><span class="op" id="7413121">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7413125">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413176">ok</span>&nbsp;<span class="op" id="7413179">=</span>&nbsp;<span class="builtintype" id="7413181">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413188">compiled</span>&nbsp;<span class="op" id="7413197">=</span>&nbsp;<span class="builtintype" id="7413199">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413207">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413215">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413218">compiled</span>&nbsp;<span class="op" id="7413227">=</span>&nbsp;<span class="builtintype" id="7413229">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413236">var</span>&nbsp;<span class="ident" id="7413240">x</span>&nbsp;<span class="op" id="7413242">[</span><span class="op" id="7413243">]</span><span class="builtintype" id="7413244">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413249">for</span>&nbsp;<span class="ident" id="7413253">s</span>&nbsp;<span class="op" id="7413255">!=</span>&nbsp;<span class="string" id="7413258">&#34;&#34;</span>&nbsp;<span class="op" id="7413261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413265">var</span>&nbsp;<span class="ident" id="7413269">end</span>&nbsp;<span class="builtintype" id="7413273">byte</span>&nbsp;<span class="op" id="7413278">=</span>&nbsp;<span class="string" id="7413280">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413286">if</span>&nbsp;<span class="builtinfunc" id="7413289">len</span><span class="op" id="7413292">(</span><span class="ident" id="7413293">x</span><span class="op" id="7413294">)</span><span class="op" id="7413295">%</span><span class="num" id="7413296">2</span>&nbsp;<span class="op" id="7413298">==</span>&nbsp;<span class="num" id="7413301">0</span>&nbsp;<span class="op" id="7413303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413308">if</span>&nbsp;<span class="ident" id="7413311">s</span><span class="op" id="7413312">[</span><span class="num" id="7413313">0</span><span class="op" id="7413314">]</span>&nbsp;<span class="op" id="7413316">!=</span>&nbsp;<span class="string" id="7413319">&#39;(&#39;</span>&nbsp;<span class="op" id="7413323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413329">ok</span>&nbsp;<span class="op" id="7413332">=</span>&nbsp;<span class="builtintype" id="7413334">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413344">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413354">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413359">s</span>&nbsp;<span class="op" id="7413361">=</span>&nbsp;<span class="ident" id="7413363">s</span><span class="op" id="7413364">[</span><span class="num" id="7413365">1</span><span class="op" id="7413366">:</span><span class="op" id="7413367">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413372">end</span>&nbsp;<span class="op" id="7413376">=</span>&nbsp;<span class="string" id="7413378">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413388">i</span>&nbsp;<span class="op" id="7413390">:=</span>&nbsp;<span class="num" id="7413393">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413397">for</span>&nbsp;<span class="ident" id="7413401">i</span>&nbsp;<span class="op" id="7413403">&lt;</span>&nbsp;<span class="builtinfunc" id="7413405">len</span><span class="op" id="7413408">(</span><span class="ident" id="7413409">s</span><span class="op" id="7413410">)</span>&nbsp;<span class="op" id="7413412">&amp;&amp;</span>&nbsp;<span class="ident" id="7413415">s</span><span class="op" id="7413416">[</span><span class="ident" id="7413417">i</span><span class="op" id="7413418">]</span>&nbsp;<span class="op" id="7413420">!=</span>&nbsp;<span class="ident" id="7413423">end</span>&nbsp;<span class="op" id="7413427">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413432">i</span><span class="op" id="7413433">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413442">if</span>&nbsp;<span class="ident" id="7413445">i</span>&nbsp;<span class="op" id="7413447">==</span>&nbsp;<span class="num" id="7413450">0</span>&nbsp;<span class="op" id="7413452">||</span>&nbsp;<span class="ident" id="7413455">i</span>&nbsp;<span class="op" id="7413457">==</span>&nbsp;<span class="builtinfunc" id="7413460">len</span><span class="op" id="7413463">(</span><span class="ident" id="7413464">s</span><span class="op" id="7413465">)</span>&nbsp;<span class="op" id="7413467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413472">ok</span>&nbsp;<span class="op" id="7413475">=</span>&nbsp;<span class="builtintype" id="7413477">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413486">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413499">var</span>&nbsp;<span class="ident" id="7413503">v</span>&nbsp;<span class="op" id="7413505">=</span>&nbsp;<span class="op" id="7413507">-</span><span class="num" id="7413508">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413512">var</span>&nbsp;<span class="ident" id="7413516">err</span>&nbsp;<span class="builtintype" id="7413520">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413528">if</span>&nbsp;<span class="ident" id="7413531">s</span><span class="op" id="7413532">[</span><span class="op" id="7413533">:</span><span class="ident" id="7413534">i</span><span class="op" id="7413535">]</span>&nbsp;<span class="op" id="7413537">!=</span>&nbsp;<span class="string" id="7413540">&#34;?&#34;</span>&nbsp;<span class="op" id="7413544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413549">v</span><span class="op" id="7413550">,</span>&nbsp;<span class="ident" id="7413552">err</span>&nbsp;<span class="op" id="7413556">=</span>&nbsp;<span class="ident" id="7413558">strconv</span><span class="op" id="7413565">.</span><span class="ident" id="7413566">Atoi</span><span class="op" id="7413570">(</span><span class="ident" id="7413571">s</span><span class="op" id="7413572">[</span><span class="op" id="7413573">:</span><span class="ident" id="7413574">i</span><span class="op" id="7413575">]</span><span class="op" id="7413576">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413581">if</span>&nbsp;<span class="ident" id="7413584">err</span>&nbsp;<span class="op" id="7413588">!=</span>&nbsp;<span class="ident" id="7413591">nil</span>&nbsp;<span class="op" id="7413595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413601">ok</span>&nbsp;<span class="op" id="7413604">=</span>&nbsp;<span class="builtintype" id="7413606">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413616">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413630">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413634">x</span>&nbsp;<span class="op" id="7413636">=</span>&nbsp;<span class="builtinfunc" id="7413638">append</span><span class="op" id="7413644">(</span><span class="ident" id="7413645">x</span><span class="op" id="7413646">,</span>&nbsp;<span class="ident" id="7413648">v</span><span class="op" id="7413649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413653">s</span>&nbsp;<span class="op" id="7413655">=</span>&nbsp;<span class="ident" id="7413657">s</span><span class="op" id="7413658">[</span><span class="ident" id="7413659">i</span><span class="op" id="7413660">+</span><span class="num" id="7413661">1</span><span class="op" id="7413662">:</span><span class="op" id="7413663">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413669">if</span>&nbsp;<span class="builtinfunc" id="7413672">len</span><span class="op" id="7413675">(</span><span class="ident" id="7413676">x</span><span class="op" id="7413677">)</span><span class="op" id="7413678">%</span><span class="num" id="7413679">2</span>&nbsp;<span class="op" id="7413681">!=</span>&nbsp;<span class="num" id="7413684">0</span>&nbsp;<span class="op" id="7413686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413690">ok</span>&nbsp;<span class="op" id="7413693">=</span>&nbsp;<span class="builtintype" id="7413695">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413703">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413714">ok</span>&nbsp;<span class="op" id="7413717">=</span>&nbsp;<span class="builtintype" id="7413719">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413725">matched</span>&nbsp;<span class="op" id="7413733">=</span>&nbsp;<span class="builtintype" id="7413735">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413741">pos</span>&nbsp;<span class="op" id="7413745">=</span>&nbsp;<span class="ident" id="7413747">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413750">return</span><br>
<span class="lineno"></span><span class="op" id="7413757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7413760">var</span>&nbsp;<span class="ident" id="7413764">text</span>&nbsp;<span class="op" id="7413769">[</span><span class="op" id="7413770">]</span><span class="builtintype" id="7413771">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="7413777">func</span>&nbsp;<span class="ident" id="7413782">makeText</span><span class="op" id="7413790">(</span><span class="ident" id="7413791">n</span>&nbsp;<span class="builtintype" id="7413793">int</span><span class="op" id="7413796">)</span>&nbsp;<span class="op" id="7413798">[</span><span class="op" id="7413799">]</span><span class="builtintype" id="7413800">byte</span>&nbsp;<span class="op" id="7413805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413808">if</span>&nbsp;<span class="builtinfunc" id="7413811">len</span><span class="op" id="7413814">(</span><span class="ident" id="7413815">text</span><span class="op" id="7413819">)</span>&nbsp;<span class="op" id="7413821">&gt;=</span>&nbsp;<span class="ident" id="7413824">n</span>&nbsp;<span class="op" id="7413826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413830">return</span>&nbsp;<span class="ident" id="7413837">text</span><span class="op" id="7413841">[</span><span class="op" id="7413842">:</span><span class="ident" id="7413843">n</span><span class="op" id="7413844">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413850">text</span>&nbsp;<span class="op" id="7413855">=</span>&nbsp;<span class="builtinfunc" id="7413857">make</span><span class="op" id="7413861">(</span><span class="op" id="7413862">[</span><span class="op" id="7413863">]</span><span class="builtintype" id="7413864">byte</span><span class="op" id="7413868">,</span>&nbsp;<span class="ident" id="7413870">n</span><span class="op" id="7413871">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413874">x</span>&nbsp;<span class="op" id="7413876">:=</span>&nbsp;<span class="op" id="7413879">^</span><span class="builtintype" id="7413880">uint32</span><span class="op" id="7413886">(</span><span class="num" id="7413887">0</span><span class="op" id="7413888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413891">for</span>&nbsp;<span class="ident" id="7413895">i</span>&nbsp;<span class="op" id="7413897">:=</span>&nbsp;<span class="keyword" id="7413900">range</span>&nbsp;<span class="ident" id="7413906">text</span>&nbsp;<span class="op" id="7413911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413915">x</span>&nbsp;<span class="op" id="7413917">+=</span>&nbsp;<span class="ident" id="7413920">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413924">x</span>&nbsp;<span class="op" id="7413926">^=</span>&nbsp;<span class="num" id="7413929">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413933">if</span>&nbsp;<span class="builtintype" id="7413936">int32</span><span class="op" id="7413941">(</span><span class="ident" id="7413942">x</span><span class="op" id="7413943">)</span>&nbsp;<span class="op" id="7413945">&lt;</span>&nbsp;<span class="num" id="7413947">0</span>&nbsp;<span class="op" id="7413949">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413954">x</span>&nbsp;<span class="op" id="7413956">^=</span>&nbsp;<span class="num" id="7413959">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7413972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7413976">if</span>&nbsp;<span class="ident" id="7413979">x</span><span class="op" id="7413980">%</span><span class="num" id="7413981">31</span>&nbsp;<span class="op" id="7413984">==</span>&nbsp;<span class="num" id="7413987">0</span>&nbsp;<span class="op" id="7413989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7413994">text</span><span class="op" id="7413998">[</span><span class="ident" id="7413999">i</span><span class="op" id="7414000">]</span>&nbsp;<span class="op" id="7414002">=</span>&nbsp;<span class="string" id="7414004">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414011">}</span>&nbsp;<span class="keyword" id="7414013">else</span>&nbsp;<span class="op" id="7414018">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414023">text</span><span class="op" id="7414027">[</span><span class="ident" id="7414028">i</span><span class="op" id="7414029">]</span>&nbsp;<span class="op" id="7414031">=</span>&nbsp;<span class="builtintype" id="7414033">byte</span><span class="op" id="7414037">(</span><span class="ident" id="7414038">x</span><span class="op" id="7414039">%</span><span class="op" id="7414040">(</span><span class="num" id="7414041">0x7E</span><span class="op" id="7414045">+</span><span class="num" id="7414046">1</span><span class="op" id="7414047">-</span><span class="num" id="7414048">0x20</span><span class="op" id="7414052">)</span>&nbsp;<span class="op" id="7414054">+</span>&nbsp;<span class="num" id="7414056">0x20</span><span class="op" id="7414060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414070">return</span>&nbsp;<span class="ident" id="7414077">text</span><br>
<span class="lineno"></span><span class="op" id="7414082">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7414085">func</span>&nbsp;<span class="ident" id="7414090">benchmark</span><span class="op" id="7414099">(</span><span class="ident" id="7414100">b</span>&nbsp;<span class="op" id="7414102">*</span><span class="ident" id="7414103">testing</span><span class="op" id="7414110">.</span><span class="ident" id="7414111">B</span><span class="op" id="7414112">,</span>&nbsp;<span class="ident" id="7414114">re</span>&nbsp;<span class="builtintype" id="7414117">string</span><span class="op" id="7414123">,</span>&nbsp;<span class="ident" id="7414125">n</span>&nbsp;<span class="builtintype" id="7414127">int</span><span class="op" id="7414130">)</span>&nbsp;<span class="op" id="7414132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414135">r</span>&nbsp;<span class="op" id="7414137">:=</span>&nbsp;<span class="ident" id="7414140">MustCompile</span><span class="op" id="7414151">(</span><span class="ident" id="7414152">re</span><span class="op" id="7414154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414157">t</span>&nbsp;<span class="op" id="7414159">:=</span>&nbsp;<span class="ident" id="7414162">makeText</span><span class="op" id="7414170">(</span><span class="ident" id="7414171">n</span><span class="op" id="7414172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414175">b</span><span class="op" id="7414176">.</span><span class="ident" id="7414177">ResetTimer</span><span class="op" id="7414187">(</span><span class="op" id="7414188">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414191">b</span><span class="op" id="7414192">.</span><span class="ident" id="7414193">SetBytes</span><span class="op" id="7414201">(</span><span class="ident" id="7414202">int64</span><span class="op" id="7414207">(</span><span class="ident" id="7414208">n</span><span class="op" id="7414209">)</span><span class="op" id="7414210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414213">for</span>&nbsp;<span class="ident" id="7414217">i</span>&nbsp;<span class="op" id="7414219">:=</span>&nbsp;<span class="num" id="7414222">0</span><span class="op" id="7414223">;</span>&nbsp;<span class="ident" id="7414225">i</span>&nbsp;<span class="op" id="7414227">&lt;</span>&nbsp;<span class="ident" id="7414229">b</span><span class="op" id="7414230">.</span><span class="ident" id="7414231">N</span><span class="op" id="7414232">;</span>&nbsp;<span class="ident" id="7414234">i</span><span class="op" id="7414235">++</span>&nbsp;<span class="op" id="7414238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7414242">if</span>&nbsp;<span class="ident" id="7414245">r</span><span class="op" id="7414246">.</span><span class="ident" id="7414247">Match</span><span class="op" id="7414252">(</span><span class="ident" id="7414253">t</span><span class="op" id="7414254">)</span>&nbsp;<span class="op" id="7414256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414261">b</span><span class="op" id="7414262">.</span><span class="ident" id="7414263">Fatal</span><span class="op" id="7414268">(</span><span class="string" id="7414269">&#34;match!&#34;</span><span class="op" id="7414277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414281">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7414284">}</span><br>
<span class="lineno"></span><span class="op" id="7414286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7414289">const</span>&nbsp;<span class="op" id="7414295">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414298">easy0</span>&nbsp;&nbsp;<span class="op" id="7414305">=</span>&nbsp;<span class="string" id="7414307">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414338">easy1</span>&nbsp;&nbsp;<span class="op" id="7414345">=</span>&nbsp;<span class="string" id="7414347">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414398">medium</span>&nbsp;<span class="op" id="7414405">=</span>&nbsp;<span class="string" id="7414407">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414443">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7414450">=</span>&nbsp;<span class="string" id="7414452">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7414489">parens</span>&nbsp;<span class="op" id="7414496">=</span>&nbsp;<span class="string" id="7414498">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="7414548">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7414552">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="7414595">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7414598">func</span>&nbsp;<span class="ident" id="7414603">BenchmarkMatchEasy0_32</span><span class="op" id="7414625">(</span><span class="ident" id="7414626">b</span>&nbsp;<span class="op" id="7414628">*</span><span class="ident" id="7414629">testing</span><span class="op" id="7414636">.</span><span class="ident" id="7414637">B</span><span class="op" id="7414638">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7414642">{</span>&nbsp;<span class="ident" id="7414644">benchmark</span><span class="op" id="7414653">(</span><span class="ident" id="7414654">b</span><span class="op" id="7414655">,</span>&nbsp;<span class="ident" id="7414657">easy0</span><span class="op" id="7414662">,</span>&nbsp;<span class="num" id="7414664">32</span><span class="op" id="7414666">&lt;&lt;</span><span class="num" id="7414668">0</span><span class="op" id="7414669">)</span>&nbsp;<span class="op" id="7414671">}</span><br>
<span class="lineno"></span><span class="keyword" id="7414673">func</span>&nbsp;<span class="ident" id="7414678">BenchmarkMatchEasy0_1K</span><span class="op" id="7414700">(</span><span class="ident" id="7414701">b</span>&nbsp;<span class="op" id="7414703">*</span><span class="ident" id="7414704">testing</span><span class="op" id="7414711">.</span><span class="ident" id="7414712">B</span><span class="op" id="7414713">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7414717">{</span>&nbsp;<span class="ident" id="7414719">benchmark</span><span class="op" id="7414728">(</span><span class="ident" id="7414729">b</span><span class="op" id="7414730">,</span>&nbsp;<span class="ident" id="7414732">easy0</span><span class="op" id="7414737">,</span>&nbsp;<span class="num" id="7414739">1</span><span class="op" id="7414740">&lt;&lt;</span><span class="num" id="7414742">10</span><span class="op" id="7414744">)</span>&nbsp;<span class="op" id="7414746">}</span><br>
<span class="lineno"></span><span class="keyword" id="7414748">func</span>&nbsp;<span class="ident" id="7414753">BenchmarkMatchEasy0_32K</span><span class="op" id="7414776">(</span><span class="ident" id="7414777">b</span>&nbsp;<span class="op" id="7414779">*</span><span class="ident" id="7414780">testing</span><span class="op" id="7414787">.</span><span class="ident" id="7414788">B</span><span class="op" id="7414789">)</span>&nbsp;&nbsp;<span class="op" id="7414792">{</span>&nbsp;<span class="ident" id="7414794">benchmark</span><span class="op" id="7414803">(</span><span class="ident" id="7414804">b</span><span class="op" id="7414805">,</span>&nbsp;<span class="ident" id="7414807">easy0</span><span class="op" id="7414812">,</span>&nbsp;<span class="num" id="7414814">32</span><span class="op" id="7414816">&lt;&lt;</span><span class="num" id="7414818">10</span><span class="op" id="7414820">)</span>&nbsp;<span class="op" id="7414822">}</span><br>
<span class="lineno">685</span><span class="keyword" id="7414824">func</span>&nbsp;<span class="ident" id="7414829">BenchmarkMatchEasy0_1M</span><span class="op" id="7414851">(</span><span class="ident" id="7414852">b</span>&nbsp;<span class="op" id="7414854">*</span><span class="ident" id="7414855">testing</span><span class="op" id="7414862">.</span><span class="ident" id="7414863">B</span><span class="op" id="7414864">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7414868">{</span>&nbsp;<span class="ident" id="7414870">benchmark</span><span class="op" id="7414879">(</span><span class="ident" id="7414880">b</span><span class="op" id="7414881">,</span>&nbsp;<span class="ident" id="7414883">easy0</span><span class="op" id="7414888">,</span>&nbsp;<span class="num" id="7414890">1</span><span class="op" id="7414891">&lt;&lt;</span><span class="num" id="7414893">20</span><span class="op" id="7414895">)</span>&nbsp;<span class="op" id="7414897">}</span><br>
<span class="lineno"></span><span class="keyword" id="7414899">func</span>&nbsp;<span class="ident" id="7414904">BenchmarkMatchEasy0_32M</span><span class="op" id="7414927">(</span><span class="ident" id="7414928">b</span>&nbsp;<span class="op" id="7414930">*</span><span class="ident" id="7414931">testing</span><span class="op" id="7414938">.</span><span class="ident" id="7414939">B</span><span class="op" id="7414940">)</span>&nbsp;&nbsp;<span class="op" id="7414943">{</span>&nbsp;<span class="ident" id="7414945">benchmark</span><span class="op" id="7414954">(</span><span class="ident" id="7414955">b</span><span class="op" id="7414956">,</span>&nbsp;<span class="ident" id="7414958">easy0</span><span class="op" id="7414963">,</span>&nbsp;<span class="num" id="7414965">32</span><span class="op" id="7414967">&lt;&lt;</span><span class="num" id="7414969">20</span><span class="op" id="7414971">)</span>&nbsp;<span class="op" id="7414973">}</span><br>
<span class="lineno"></span><span class="keyword" id="7414975">func</span>&nbsp;<span class="ident" id="7414980">BenchmarkMatchEasy1_32</span><span class="op" id="7415002">(</span><span class="ident" id="7415003">b</span>&nbsp;<span class="op" id="7415005">*</span><span class="ident" id="7415006">testing</span><span class="op" id="7415013">.</span><span class="ident" id="7415014">B</span><span class="op" id="7415015">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7415019">{</span>&nbsp;<span class="ident" id="7415021">benchmark</span><span class="op" id="7415030">(</span><span class="ident" id="7415031">b</span><span class="op" id="7415032">,</span>&nbsp;<span class="ident" id="7415034">easy1</span><span class="op" id="7415039">,</span>&nbsp;<span class="num" id="7415041">32</span><span class="op" id="7415043">&lt;&lt;</span><span class="num" id="7415045">0</span><span class="op" id="7415046">)</span>&nbsp;<span class="op" id="7415048">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415050">func</span>&nbsp;<span class="ident" id="7415055">BenchmarkMatchEasy1_1K</span><span class="op" id="7415077">(</span><span class="ident" id="7415078">b</span>&nbsp;<span class="op" id="7415080">*</span><span class="ident" id="7415081">testing</span><span class="op" id="7415088">.</span><span class="ident" id="7415089">B</span><span class="op" id="7415090">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7415094">{</span>&nbsp;<span class="ident" id="7415096">benchmark</span><span class="op" id="7415105">(</span><span class="ident" id="7415106">b</span><span class="op" id="7415107">,</span>&nbsp;<span class="ident" id="7415109">easy1</span><span class="op" id="7415114">,</span>&nbsp;<span class="num" id="7415116">1</span><span class="op" id="7415117">&lt;&lt;</span><span class="num" id="7415119">10</span><span class="op" id="7415121">)</span>&nbsp;<span class="op" id="7415123">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415125">func</span>&nbsp;<span class="ident" id="7415130">BenchmarkMatchEasy1_32K</span><span class="op" id="7415153">(</span><span class="ident" id="7415154">b</span>&nbsp;<span class="op" id="7415156">*</span><span class="ident" id="7415157">testing</span><span class="op" id="7415164">.</span><span class="ident" id="7415165">B</span><span class="op" id="7415166">)</span>&nbsp;&nbsp;<span class="op" id="7415169">{</span>&nbsp;<span class="ident" id="7415171">benchmark</span><span class="op" id="7415180">(</span><span class="ident" id="7415181">b</span><span class="op" id="7415182">,</span>&nbsp;<span class="ident" id="7415184">easy1</span><span class="op" id="7415189">,</span>&nbsp;<span class="num" id="7415191">32</span><span class="op" id="7415193">&lt;&lt;</span><span class="num" id="7415195">10</span><span class="op" id="7415197">)</span>&nbsp;<span class="op" id="7415199">}</span><br>
<span class="lineno">690</span><span class="keyword" id="7415201">func</span>&nbsp;<span class="ident" id="7415206">BenchmarkMatchEasy1_1M</span><span class="op" id="7415228">(</span><span class="ident" id="7415229">b</span>&nbsp;<span class="op" id="7415231">*</span><span class="ident" id="7415232">testing</span><span class="op" id="7415239">.</span><span class="ident" id="7415240">B</span><span class="op" id="7415241">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7415245">{</span>&nbsp;<span class="ident" id="7415247">benchmark</span><span class="op" id="7415256">(</span><span class="ident" id="7415257">b</span><span class="op" id="7415258">,</span>&nbsp;<span class="ident" id="7415260">easy1</span><span class="op" id="7415265">,</span>&nbsp;<span class="num" id="7415267">1</span><span class="op" id="7415268">&lt;&lt;</span><span class="num" id="7415270">20</span><span class="op" id="7415272">)</span>&nbsp;<span class="op" id="7415274">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415276">func</span>&nbsp;<span class="ident" id="7415281">BenchmarkMatchEasy1_32M</span><span class="op" id="7415304">(</span><span class="ident" id="7415305">b</span>&nbsp;<span class="op" id="7415307">*</span><span class="ident" id="7415308">testing</span><span class="op" id="7415315">.</span><span class="ident" id="7415316">B</span><span class="op" id="7415317">)</span>&nbsp;&nbsp;<span class="op" id="7415320">{</span>&nbsp;<span class="ident" id="7415322">benchmark</span><span class="op" id="7415331">(</span><span class="ident" id="7415332">b</span><span class="op" id="7415333">,</span>&nbsp;<span class="ident" id="7415335">easy1</span><span class="op" id="7415340">,</span>&nbsp;<span class="num" id="7415342">32</span><span class="op" id="7415344">&lt;&lt;</span><span class="num" id="7415346">20</span><span class="op" id="7415348">)</span>&nbsp;<span class="op" id="7415350">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415352">func</span>&nbsp;<span class="ident" id="7415357">BenchmarkMatchMedium_32</span><span class="op" id="7415380">(</span><span class="ident" id="7415381">b</span>&nbsp;<span class="op" id="7415383">*</span><span class="ident" id="7415384">testing</span><span class="op" id="7415391">.</span><span class="ident" id="7415392">B</span><span class="op" id="7415393">)</span>&nbsp;&nbsp;<span class="op" id="7415396">{</span>&nbsp;<span class="ident" id="7415398">benchmark</span><span class="op" id="7415407">(</span><span class="ident" id="7415408">b</span><span class="op" id="7415409">,</span>&nbsp;<span class="ident" id="7415411">medium</span><span class="op" id="7415417">,</span>&nbsp;<span class="num" id="7415419">32</span><span class="op" id="7415421">&lt;&lt;</span><span class="num" id="7415423">0</span><span class="op" id="7415424">)</span>&nbsp;<span class="op" id="7415426">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415428">func</span>&nbsp;<span class="ident" id="7415433">BenchmarkMatchMedium_1K</span><span class="op" id="7415456">(</span><span class="ident" id="7415457">b</span>&nbsp;<span class="op" id="7415459">*</span><span class="ident" id="7415460">testing</span><span class="op" id="7415467">.</span><span class="ident" id="7415468">B</span><span class="op" id="7415469">)</span>&nbsp;&nbsp;<span class="op" id="7415472">{</span>&nbsp;<span class="ident" id="7415474">benchmark</span><span class="op" id="7415483">(</span><span class="ident" id="7415484">b</span><span class="op" id="7415485">,</span>&nbsp;<span class="ident" id="7415487">medium</span><span class="op" id="7415493">,</span>&nbsp;<span class="num" id="7415495">1</span><span class="op" id="7415496">&lt;&lt;</span><span class="num" id="7415498">10</span><span class="op" id="7415500">)</span>&nbsp;<span class="op" id="7415502">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415504">func</span>&nbsp;<span class="ident" id="7415509">BenchmarkMatchMedium_32K</span><span class="op" id="7415533">(</span><span class="ident" id="7415534">b</span>&nbsp;<span class="op" id="7415536">*</span><span class="ident" id="7415537">testing</span><span class="op" id="7415544">.</span><span class="ident" id="7415545">B</span><span class="op" id="7415546">)</span>&nbsp;<span class="op" id="7415548">{</span>&nbsp;<span class="ident" id="7415550">benchmark</span><span class="op" id="7415559">(</span><span class="ident" id="7415560">b</span><span class="op" id="7415561">,</span>&nbsp;<span class="ident" id="7415563">medium</span><span class="op" id="7415569">,</span>&nbsp;<span class="num" id="7415571">32</span><span class="op" id="7415573">&lt;&lt;</span><span class="num" id="7415575">10</span><span class="op" id="7415577">)</span>&nbsp;<span class="op" id="7415579">}</span><br>
<span class="lineno">695</span><span class="keyword" id="7415581">func</span>&nbsp;<span class="ident" id="7415586">BenchmarkMatchMedium_1M</span><span class="op" id="7415609">(</span><span class="ident" id="7415610">b</span>&nbsp;<span class="op" id="7415612">*</span><span class="ident" id="7415613">testing</span><span class="op" id="7415620">.</span><span class="ident" id="7415621">B</span><span class="op" id="7415622">)</span>&nbsp;&nbsp;<span class="op" id="7415625">{</span>&nbsp;<span class="ident" id="7415627">benchmark</span><span class="op" id="7415636">(</span><span class="ident" id="7415637">b</span><span class="op" id="7415638">,</span>&nbsp;<span class="ident" id="7415640">medium</span><span class="op" id="7415646">,</span>&nbsp;<span class="num" id="7415648">1</span><span class="op" id="7415649">&lt;&lt;</span><span class="num" id="7415651">20</span><span class="op" id="7415653">)</span>&nbsp;<span class="op" id="7415655">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415657">func</span>&nbsp;<span class="ident" id="7415662">BenchmarkMatchMedium_32M</span><span class="op" id="7415686">(</span><span class="ident" id="7415687">b</span>&nbsp;<span class="op" id="7415689">*</span><span class="ident" id="7415690">testing</span><span class="op" id="7415697">.</span><span class="ident" id="7415698">B</span><span class="op" id="7415699">)</span>&nbsp;<span class="op" id="7415701">{</span>&nbsp;<span class="ident" id="7415703">benchmark</span><span class="op" id="7415712">(</span><span class="ident" id="7415713">b</span><span class="op" id="7415714">,</span>&nbsp;<span class="ident" id="7415716">medium</span><span class="op" id="7415722">,</span>&nbsp;<span class="num" id="7415724">32</span><span class="op" id="7415726">&lt;&lt;</span><span class="num" id="7415728">20</span><span class="op" id="7415730">)</span>&nbsp;<span class="op" id="7415732">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415734">func</span>&nbsp;<span class="ident" id="7415739">BenchmarkMatchHard_32</span><span class="op" id="7415760">(</span><span class="ident" id="7415761">b</span>&nbsp;<span class="op" id="7415763">*</span><span class="ident" id="7415764">testing</span><span class="op" id="7415771">.</span><span class="ident" id="7415772">B</span><span class="op" id="7415773">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7415778">{</span>&nbsp;<span class="ident" id="7415780">benchmark</span><span class="op" id="7415789">(</span><span class="ident" id="7415790">b</span><span class="op" id="7415791">,</span>&nbsp;<span class="ident" id="7415793">hard</span><span class="op" id="7415797">,</span>&nbsp;<span class="num" id="7415799">32</span><span class="op" id="7415801">&lt;&lt;</span><span class="num" id="7415803">0</span><span class="op" id="7415804">)</span>&nbsp;<span class="op" id="7415806">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415808">func</span>&nbsp;<span class="ident" id="7415813">BenchmarkMatchHard_1K</span><span class="op" id="7415834">(</span><span class="ident" id="7415835">b</span>&nbsp;<span class="op" id="7415837">*</span><span class="ident" id="7415838">testing</span><span class="op" id="7415845">.</span><span class="ident" id="7415846">B</span><span class="op" id="7415847">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7415852">{</span>&nbsp;<span class="ident" id="7415854">benchmark</span><span class="op" id="7415863">(</span><span class="ident" id="7415864">b</span><span class="op" id="7415865">,</span>&nbsp;<span class="ident" id="7415867">hard</span><span class="op" id="7415871">,</span>&nbsp;<span class="num" id="7415873">1</span><span class="op" id="7415874">&lt;&lt;</span><span class="num" id="7415876">10</span><span class="op" id="7415878">)</span>&nbsp;<span class="op" id="7415880">}</span><br>
<span class="lineno"></span><span class="keyword" id="7415882">func</span>&nbsp;<span class="ident" id="7415887">BenchmarkMatchHard_32K</span><span class="op" id="7415909">(</span><span class="ident" id="7415910">b</span>&nbsp;<span class="op" id="7415912">*</span><span class="ident" id="7415913">testing</span><span class="op" id="7415920">.</span><span class="ident" id="7415921">B</span><span class="op" id="7415922">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7415926">{</span>&nbsp;<span class="ident" id="7415928">benchmark</span><span class="op" id="7415937">(</span><span class="ident" id="7415938">b</span><span class="op" id="7415939">,</span>&nbsp;<span class="ident" id="7415941">hard</span><span class="op" id="7415945">,</span>&nbsp;<span class="num" id="7415947">32</span><span class="op" id="7415949">&lt;&lt;</span><span class="num" id="7415951">10</span><span class="op" id="7415953">)</span>&nbsp;<span class="op" id="7415955">}</span><br>
<span class="lineno">700</span><span class="keyword" id="7415957">func</span>&nbsp;<span class="ident" id="7415962">BenchmarkMatchHard_1M</span><span class="op" id="7415983">(</span><span class="ident" id="7415984">b</span>&nbsp;<span class="op" id="7415986">*</span><span class="ident" id="7415987">testing</span><span class="op" id="7415994">.</span><span class="ident" id="7415995">B</span><span class="op" id="7415996">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7416001">{</span>&nbsp;<span class="ident" id="7416003">benchmark</span><span class="op" id="7416012">(</span><span class="ident" id="7416013">b</span><span class="op" id="7416014">,</span>&nbsp;<span class="ident" id="7416016">hard</span><span class="op" id="7416020">,</span>&nbsp;<span class="num" id="7416022">1</span><span class="op" id="7416023">&lt;&lt;</span><span class="num" id="7416025">20</span><span class="op" id="7416027">)</span>&nbsp;<span class="op" id="7416029">}</span><br>
<span class="lineno"></span><span class="keyword" id="7416031">func</span>&nbsp;<span class="ident" id="7416036">BenchmarkMatchHard_32M</span><span class="op" id="7416058">(</span><span class="ident" id="7416059">b</span>&nbsp;<span class="op" id="7416061">*</span><span class="ident" id="7416062">testing</span><span class="op" id="7416069">.</span><span class="ident" id="7416070">B</span><span class="op" id="7416071">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7416075">{</span>&nbsp;<span class="ident" id="7416077">benchmark</span><span class="op" id="7416086">(</span><span class="ident" id="7416087">b</span><span class="op" id="7416088">,</span>&nbsp;<span class="ident" id="7416090">hard</span><span class="op" id="7416094">,</span>&nbsp;<span class="num" id="7416096">32</span><span class="op" id="7416098">&lt;&lt;</span><span class="num" id="7416100">20</span><span class="op" id="7416102">)</span>&nbsp;<span class="op" id="7416104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7416107">func</span>&nbsp;<span class="ident" id="7416112">TestLongest</span><span class="op" id="7416123">(</span><span class="ident" id="7416124">t</span>&nbsp;<span class="op" id="7416126">*</span><span class="ident" id="7416127">testing</span><span class="op" id="7416134">.</span><span class="ident" id="7416135">T</span><span class="op" id="7416136">)</span>&nbsp;<span class="op" id="7416138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416141">re</span><span class="op" id="7416143">,</span>&nbsp;<span class="ident" id="7416145">err</span>&nbsp;<span class="op" id="7416149">:=</span>&nbsp;<span class="ident" id="7416152">Compile</span><span class="op" id="7416159">(</span><span class="string" id="7416160">`a(|b)`</span><span class="op" id="7416167">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416170">if</span>&nbsp;<span class="ident" id="7416173">err</span>&nbsp;<span class="op" id="7416177">!=</span>&nbsp;<span class="ident" id="7416180">nil</span>&nbsp;<span class="op" id="7416184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416188">t</span><span class="op" id="7416189">.</span><span class="ident" id="7416190">Fatal</span><span class="op" id="7416195">(</span><span class="ident" id="7416196">err</span><span class="op" id="7416199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416205">if</span>&nbsp;<span class="ident" id="7416208">g</span><span class="op" id="7416209">,</span>&nbsp;<span class="ident" id="7416211">w</span>&nbsp;<span class="op" id="7416213">:=</span>&nbsp;<span class="ident" id="7416216">re</span><span class="op" id="7416218">.</span><span class="ident" id="7416219">FindString</span><span class="op" id="7416229">(</span><span class="string" id="7416230">&#34;ab&#34;</span><span class="op" id="7416234">)</span><span class="op" id="7416235">,</span>&nbsp;<span class="string" id="7416237">&#34;a&#34;</span><span class="op" id="7416240">;</span>&nbsp;<span class="ident" id="7416242">g</span>&nbsp;<span class="op" id="7416244">!=</span>&nbsp;<span class="ident" id="7416247">w</span>&nbsp;<span class="op" id="7416249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416253">t</span><span class="op" id="7416254">.</span><span class="ident" id="7416255">Errorf</span><span class="op" id="7416261">(</span><span class="string" id="7416262">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7416291">,</span>&nbsp;<span class="ident" id="7416293">g</span><span class="op" id="7416294">,</span>&nbsp;<span class="ident" id="7416296">w</span><span class="op" id="7416297">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416303">re</span><span class="op" id="7416305">.</span><span class="ident" id="7416306">Longest</span><span class="op" id="7416313">(</span><span class="op" id="7416314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7416317">if</span>&nbsp;<span class="ident" id="7416320">g</span><span class="op" id="7416321">,</span>&nbsp;<span class="ident" id="7416323">w</span>&nbsp;<span class="op" id="7416325">:=</span>&nbsp;<span class="ident" id="7416328">re</span><span class="op" id="7416330">.</span><span class="ident" id="7416331">FindString</span><span class="op" id="7416341">(</span><span class="string" id="7416342">&#34;ab&#34;</span><span class="op" id="7416346">)</span><span class="op" id="7416347">,</span>&nbsp;<span class="string" id="7416349">&#34;ab&#34;</span><span class="op" id="7416353">;</span>&nbsp;<span class="ident" id="7416355">g</span>&nbsp;<span class="op" id="7416357">!=</span>&nbsp;<span class="ident" id="7416360">w</span>&nbsp;<span class="op" id="7416362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7416366">t</span><span class="op" id="7416367">.</span><span class="ident" id="7416368">Errorf</span><span class="op" id="7416374">(</span><span class="string" id="7416375">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7416406">,</span>&nbsp;<span class="ident" id="7416408">g</span><span class="op" id="7416409">,</span>&nbsp;<span class="ident" id="7416411">w</span><span class="op" id="7416412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7416415">}</span><br>
<span class="lineno">715</span><span class="op" id="7416417">}</span>
</div>
</body>
</html>
