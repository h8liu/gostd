<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html" class="current">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3903824">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3903879">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3903933">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3903984">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3904045">package</span>&nbsp;<span class="ident" id="3904053">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3904058">import</span>&nbsp;<span class="op" id="3904065">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3904068">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3904077">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3904087">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3904094">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="3904099">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3904102">const</span>&nbsp;<span class="ident" id="3904108">hextable</span>&nbsp;<span class="op" id="3904117">=</span>&nbsp;<span class="string" id="3904119">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3904139">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="3904206">func</span>&nbsp;<span class="ident" id="3904211">EncodedLen</span><span class="op" id="3904221">(</span><span class="ident" id="3904222">n</span>&nbsp;<span class="builtintype" id="3904224">int</span><span class="op" id="3904227">)</span>&nbsp;<span class="builtintype" id="3904229">int</span>&nbsp;<span class="op" id="3904233">{</span>&nbsp;<span class="keyword" id="3904235">return</span>&nbsp;<span class="ident" id="3904242">n</span>&nbsp;<span class="op" id="3904244">*</span>&nbsp;<span class="num" id="3904246">2</span>&nbsp;<span class="op" id="3904248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="3904251">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="3904299">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="3904357">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="3904432">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3904475">func</span>&nbsp;<span class="ident" id="3904480">Encode</span><span class="op" id="3904486">(</span><span class="ident" id="3904487">dst</span><span class="op" id="3904490">,</span>&nbsp;<span class="ident" id="3904492">src</span>&nbsp;<span class="op" id="3904496">[</span><span class="op" id="3904497">]</span><span class="builtintype" id="3904498">byte</span><span class="op" id="3904502">)</span>&nbsp;<span class="builtintype" id="3904504">int</span>&nbsp;<span class="op" id="3904508">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904511">for</span>&nbsp;<span class="ident" id="3904515">i</span><span class="op" id="3904516">,</span>&nbsp;<span class="ident" id="3904518">v</span>&nbsp;<span class="op" id="3904520">:=</span>&nbsp;<span class="keyword" id="3904523">range</span>&nbsp;<span class="ident" id="3904529">src</span>&nbsp;<span class="op" id="3904533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3904537">dst</span><span class="op" id="3904540">[</span><span class="ident" id="3904541">i</span><span class="op" id="3904542">*</span><span class="num" id="3904543">2</span><span class="op" id="3904544">]</span>&nbsp;<span class="op" id="3904546">=</span>&nbsp;<span class="ident" id="3904548">hextable</span><span class="op" id="3904556">[</span><span class="ident" id="3904557">v</span><span class="op" id="3904558">&gt;&gt;</span><span class="num" id="3904560">4</span><span class="op" id="3904561">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3904565">dst</span><span class="op" id="3904568">[</span><span class="ident" id="3904569">i</span><span class="op" id="3904570">*</span><span class="num" id="3904571">2</span><span class="op" id="3904572">+</span><span class="num" id="3904573">1</span><span class="op" id="3904574">]</span>&nbsp;<span class="op" id="3904576">=</span>&nbsp;<span class="ident" id="3904578">hextable</span><span class="op" id="3904586">[</span><span class="ident" id="3904587">v</span><span class="op" id="3904588">&amp;</span><span class="num" id="3904589">0x0f</span><span class="op" id="3904593">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3904596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904600">return</span>&nbsp;<span class="builtinfunc" id="3904607">len</span><span class="op" id="3904610">(</span><span class="ident" id="3904611">src</span><span class="op" id="3904614">)</span>&nbsp;<span class="op" id="3904616">*</span>&nbsp;<span class="num" id="3904618">2</span><br>
<span class="lineno"></span><span class="op" id="3904620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3904623">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="3904679">var</span>&nbsp;<span class="ident" id="3904683">ErrLength</span>&nbsp;<span class="op" id="3904693">=</span>&nbsp;<span class="ident" id="3904695">errors</span><span class="op" id="3904701">.</span><span class="ident" id="3904702">New</span><span class="op" id="3904705">(</span><span class="string" id="3904706">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="3904743">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3904746">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3904837">type</span>&nbsp;<span class="ident" id="3904842">InvalidByteError</span>&nbsp;<span class="builtintype" id="3904859">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3904865">func</span>&nbsp;<span class="op" id="3904870">(</span><span class="ident" id="3904871">e</span>&nbsp;<span class="ident" id="3904873">InvalidByteError</span><span class="op" id="3904889">)</span>&nbsp;<span class="ident" id="3904891">Error</span><span class="op" id="3904896">(</span><span class="op" id="3904897">)</span>&nbsp;<span class="builtintype" id="3904899">string</span>&nbsp;<span class="op" id="3904906">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904909">return</span>&nbsp;<span class="ident" id="3904916">fmt</span><span class="op" id="3904919">.</span><span class="ident" id="3904920">Sprintf</span><span class="op" id="3904927">(</span><span class="string" id="3904928">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="3904961">,</span>&nbsp;<span class="builtintype" id="3904963">rune</span><span class="op" id="3904967">(</span><span class="ident" id="3904968">e</span><span class="op" id="3904969">)</span><span class="op" id="3904970">)</span><br>
<span class="lineno"></span><span class="op" id="3904972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3904975">func</span>&nbsp;<span class="ident" id="3904980">DecodedLen</span><span class="op" id="3904990">(</span><span class="ident" id="3904991">x</span>&nbsp;<span class="builtintype" id="3904993">int</span><span class="op" id="3904996">)</span>&nbsp;<span class="builtintype" id="3904998">int</span>&nbsp;<span class="op" id="3905002">{</span>&nbsp;<span class="keyword" id="3905004">return</span>&nbsp;<span class="ident" id="3905011">x</span>&nbsp;<span class="op" id="3905013">/</span>&nbsp;<span class="num" id="3905015">2</span>&nbsp;<span class="op" id="3905017">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3905020">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="3905096">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="3905131">//</span><br>
<span class="lineno"></span><span class="comment" id="3905134">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="3905217">func</span>&nbsp;<span class="ident" id="3905222">Decode</span><span class="op" id="3905228">(</span><span class="ident" id="3905229">dst</span><span class="op" id="3905232">,</span>&nbsp;<span class="ident" id="3905234">src</span>&nbsp;<span class="op" id="3905238">[</span><span class="op" id="3905239">]</span><span class="builtintype" id="3905240">byte</span><span class="op" id="3905244">)</span>&nbsp;<span class="op" id="3905246">(</span><span class="builtintype" id="3905247">int</span><span class="op" id="3905250">,</span>&nbsp;<span class="builtintype" id="3905252">error</span><span class="op" id="3905257">)</span>&nbsp;<span class="op" id="3905259">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905262">if</span>&nbsp;<span class="builtinfunc" id="3905265">len</span><span class="op" id="3905268">(</span><span class="ident" id="3905269">src</span><span class="op" id="3905272">)</span><span class="op" id="3905273">%</span><span class="num" id="3905274">2</span>&nbsp;<span class="op" id="3905276">==</span>&nbsp;<span class="num" id="3905279">1</span>&nbsp;<span class="op" id="3905281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905285">return</span>&nbsp;<span class="num" id="3905292">0</span><span class="op" id="3905293">,</span>&nbsp;<span class="ident" id="3905295">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905310">for</span>&nbsp;<span class="ident" id="3905314">i</span>&nbsp;<span class="op" id="3905316">:=</span>&nbsp;<span class="num" id="3905319">0</span><span class="op" id="3905320">;</span>&nbsp;<span class="ident" id="3905322">i</span>&nbsp;<span class="op" id="3905324">&lt;</span>&nbsp;<span class="builtinfunc" id="3905326">len</span><span class="op" id="3905329">(</span><span class="ident" id="3905330">src</span><span class="op" id="3905333">)</span><span class="op" id="3905334">/</span><span class="num" id="3905335">2</span><span class="op" id="3905336">;</span>&nbsp;<span class="ident" id="3905338">i</span><span class="op" id="3905339">++</span>&nbsp;<span class="op" id="3905342">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3905346">a</span><span class="op" id="3905347">,</span>&nbsp;<span class="ident" id="3905349">ok</span>&nbsp;<span class="op" id="3905352">:=</span>&nbsp;<span class="ident" id="3905355">fromHexChar</span><span class="op" id="3905366">(</span><span class="ident" id="3905367">src</span><span class="op" id="3905370">[</span><span class="ident" id="3905371">i</span><span class="op" id="3905372">*</span><span class="num" id="3905373">2</span><span class="op" id="3905374">]</span><span class="op" id="3905375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905379">if</span>&nbsp;<span class="op" id="3905382">!</span><span class="ident" id="3905383">ok</span>&nbsp;<span class="op" id="3905386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905391">return</span>&nbsp;<span class="num" id="3905398">0</span><span class="op" id="3905399">,</span>&nbsp;<span class="ident" id="3905401">InvalidByteError</span><span class="op" id="3905417">(</span><span class="ident" id="3905418">src</span><span class="op" id="3905421">[</span><span class="ident" id="3905422">i</span><span class="op" id="3905423">*</span><span class="num" id="3905424">2</span><span class="op" id="3905425">]</span><span class="op" id="3905426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3905434">b</span><span class="op" id="3905435">,</span>&nbsp;<span class="ident" id="3905437">ok</span>&nbsp;<span class="op" id="3905440">:=</span>&nbsp;<span class="ident" id="3905443">fromHexChar</span><span class="op" id="3905454">(</span><span class="ident" id="3905455">src</span><span class="op" id="3905458">[</span><span class="ident" id="3905459">i</span><span class="op" id="3905460">*</span><span class="num" id="3905461">2</span><span class="op" id="3905462">+</span><span class="num" id="3905463">1</span><span class="op" id="3905464">]</span><span class="op" id="3905465">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905469">if</span>&nbsp;<span class="op" id="3905472">!</span><span class="ident" id="3905473">ok</span>&nbsp;<span class="op" id="3905476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905481">return</span>&nbsp;<span class="num" id="3905488">0</span><span class="op" id="3905489">,</span>&nbsp;<span class="ident" id="3905491">InvalidByteError</span><span class="op" id="3905507">(</span><span class="ident" id="3905508">src</span><span class="op" id="3905511">[</span><span class="ident" id="3905512">i</span><span class="op" id="3905513">*</span><span class="num" id="3905514">2</span><span class="op" id="3905515">+</span><span class="num" id="3905516">1</span><span class="op" id="3905517">]</span><span class="op" id="3905518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3905526">dst</span><span class="op" id="3905529">[</span><span class="ident" id="3905530">i</span><span class="op" id="3905531">]</span>&nbsp;<span class="op" id="3905533">=</span>&nbsp;<span class="op" id="3905535">(</span><span class="ident" id="3905536">a</span>&nbsp;<span class="op" id="3905538">&lt;&lt;</span>&nbsp;<span class="num" id="3905541">4</span><span class="op" id="3905542">)</span>&nbsp;<span class="op" id="3905544">|</span>&nbsp;<span class="ident" id="3905546">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905549">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905553">return</span>&nbsp;<span class="builtinfunc" id="3905560">len</span><span class="op" id="3905563">(</span><span class="ident" id="3905564">src</span><span class="op" id="3905567">)</span>&nbsp;<span class="op" id="3905569">/</span>&nbsp;<span class="num" id="3905571">2</span><span class="op" id="3905572">,</span>&nbsp;<span class="ident" id="3905574">nil</span><br>
<span class="lineno"></span><span class="op" id="3905578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3905581">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="3905656">func</span>&nbsp;<span class="ident" id="3905661">fromHexChar</span><span class="op" id="3905672">(</span><span class="ident" id="3905673">c</span>&nbsp;<span class="builtintype" id="3905675">byte</span><span class="op" id="3905679">)</span>&nbsp;<span class="op" id="3905681">(</span><span class="builtintype" id="3905682">byte</span><span class="op" id="3905686">,</span>&nbsp;<span class="builtintype" id="3905688">bool</span><span class="op" id="3905692">)</span>&nbsp;<span class="op" id="3905694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905697">switch</span>&nbsp;<span class="op" id="3905704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905707">case</span>&nbsp;<span class="string" id="3905712">&#39;0&#39;</span>&nbsp;<span class="op" id="3905716">&lt;=</span>&nbsp;<span class="ident" id="3905719">c</span>&nbsp;<span class="op" id="3905721">&amp;&amp;</span>&nbsp;<span class="ident" id="3905724">c</span>&nbsp;<span class="op" id="3905726">&lt;=</span>&nbsp;<span class="string" id="3905729">&#39;9&#39;</span><span class="op" id="3905732">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905736">return</span>&nbsp;<span class="ident" id="3905743">c</span>&nbsp;<span class="op" id="3905745">-</span>&nbsp;<span class="string" id="3905747">&#39;0&#39;</span><span class="op" id="3905750">,</span>&nbsp;<span class="builtintype" id="3905752">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905758">case</span>&nbsp;<span class="string" id="3905763">&#39;a&#39;</span>&nbsp;<span class="op" id="3905767">&lt;=</span>&nbsp;<span class="ident" id="3905770">c</span>&nbsp;<span class="op" id="3905772">&amp;&amp;</span>&nbsp;<span class="ident" id="3905775">c</span>&nbsp;<span class="op" id="3905777">&lt;=</span>&nbsp;<span class="string" id="3905780">&#39;f&#39;</span><span class="op" id="3905783">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905787">return</span>&nbsp;<span class="ident" id="3905794">c</span>&nbsp;<span class="op" id="3905796">-</span>&nbsp;<span class="string" id="3905798">&#39;a&#39;</span>&nbsp;<span class="op" id="3905802">+</span>&nbsp;<span class="num" id="3905804">10</span><span class="op" id="3905806">,</span>&nbsp;<span class="builtintype" id="3905808">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905814">case</span>&nbsp;<span class="string" id="3905819">&#39;A&#39;</span>&nbsp;<span class="op" id="3905823">&lt;=</span>&nbsp;<span class="ident" id="3905826">c</span>&nbsp;<span class="op" id="3905828">&amp;&amp;</span>&nbsp;<span class="ident" id="3905831">c</span>&nbsp;<span class="op" id="3905833">&lt;=</span>&nbsp;<span class="string" id="3905836">&#39;F&#39;</span><span class="op" id="3905839">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905843">return</span>&nbsp;<span class="ident" id="3905850">c</span>&nbsp;<span class="op" id="3905852">-</span>&nbsp;<span class="string" id="3905854">&#39;A&#39;</span>&nbsp;<span class="op" id="3905858">+</span>&nbsp;<span class="num" id="3905860">10</span><span class="op" id="3905862">,</span>&nbsp;<span class="builtintype" id="3905864">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905874">return</span>&nbsp;<span class="num" id="3905881">0</span><span class="op" id="3905882">,</span>&nbsp;<span class="builtintype" id="3905884">false</span><br>
<span class="lineno"></span><span class="op" id="3905890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3905893">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="3905952">func</span>&nbsp;<span class="ident" id="3905957">EncodeToString</span><span class="op" id="3905971">(</span><span class="ident" id="3905972">src</span>&nbsp;<span class="op" id="3905976">[</span><span class="op" id="3905977">]</span><span class="builtintype" id="3905978">byte</span><span class="op" id="3905982">)</span>&nbsp;<span class="builtintype" id="3905984">string</span>&nbsp;<span class="op" id="3905991">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3905994">dst</span>&nbsp;<span class="op" id="3905998">:=</span>&nbsp;<span class="builtinfunc" id="3906001">make</span><span class="op" id="3906005">(</span><span class="op" id="3906006">[</span><span class="op" id="3906007">]</span><span class="builtintype" id="3906008">byte</span><span class="op" id="3906012">,</span>&nbsp;<span class="ident" id="3906014">EncodedLen</span><span class="op" id="3906024">(</span><span class="builtinfunc" id="3906025">len</span><span class="op" id="3906028">(</span><span class="ident" id="3906029">src</span><span class="op" id="3906032">)</span><span class="op" id="3906033">)</span><span class="op" id="3906034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906037">Encode</span><span class="op" id="3906043">(</span><span class="ident" id="3906044">dst</span><span class="op" id="3906047">,</span>&nbsp;<span class="ident" id="3906049">src</span><span class="op" id="3906052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906055">return</span>&nbsp;<span class="builtintype" id="3906062">string</span><span class="op" id="3906068">(</span><span class="ident" id="3906069">dst</span><span class="op" id="3906072">)</span><br>
<span class="lineno"></span><span class="op" id="3906074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="3906077">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3906152">func</span>&nbsp;<span class="ident" id="3906157">DecodeString</span><span class="op" id="3906169">(</span><span class="ident" id="3906170">s</span>&nbsp;<span class="builtintype" id="3906172">string</span><span class="op" id="3906178">)</span>&nbsp;<span class="op" id="3906180">(</span><span class="op" id="3906181">[</span><span class="op" id="3906182">]</span><span class="builtintype" id="3906183">byte</span><span class="op" id="3906187">,</span>&nbsp;<span class="builtintype" id="3906189">error</span><span class="op" id="3906194">)</span>&nbsp;<span class="op" id="3906196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906199">src</span>&nbsp;<span class="op" id="3906203">:=</span>&nbsp;<span class="op" id="3906206">[</span><span class="op" id="3906207">]</span><span class="builtintype" id="3906208">byte</span><span class="op" id="3906212">(</span><span class="ident" id="3906213">s</span><span class="op" id="3906214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906217">dst</span>&nbsp;<span class="op" id="3906221">:=</span>&nbsp;<span class="builtinfunc" id="3906224">make</span><span class="op" id="3906228">(</span><span class="op" id="3906229">[</span><span class="op" id="3906230">]</span><span class="builtintype" id="3906231">byte</span><span class="op" id="3906235">,</span>&nbsp;<span class="ident" id="3906237">DecodedLen</span><span class="op" id="3906247">(</span><span class="builtinfunc" id="3906248">len</span><span class="op" id="3906251">(</span><span class="ident" id="3906252">src</span><span class="op" id="3906255">)</span><span class="op" id="3906256">)</span><span class="op" id="3906257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906260">_</span><span class="op" id="3906261">,</span>&nbsp;<span class="ident" id="3906263">err</span>&nbsp;<span class="op" id="3906267">:=</span>&nbsp;<span class="ident" id="3906270">Decode</span><span class="op" id="3906276">(</span><span class="ident" id="3906277">dst</span><span class="op" id="3906280">,</span>&nbsp;<span class="ident" id="3906282">src</span><span class="op" id="3906285">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906288">if</span>&nbsp;<span class="ident" id="3906291">err</span>&nbsp;<span class="op" id="3906295">!=</span>&nbsp;<span class="ident" id="3906298">nil</span>&nbsp;<span class="op" id="3906302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906306">return</span>&nbsp;<span class="ident" id="3906313">nil</span><span class="op" id="3906316">,</span>&nbsp;<span class="ident" id="3906318">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3906323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906326">return</span>&nbsp;<span class="ident" id="3906333">dst</span><span class="op" id="3906336">,</span>&nbsp;<span class="ident" id="3906338">nil</span><br>
<span class="lineno"></span><span class="op" id="3906342">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="3906345">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="3906425">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="3906500">func</span>&nbsp;<span class="ident" id="3906505">Dump</span><span class="op" id="3906509">(</span><span class="ident" id="3906510">data</span>&nbsp;<span class="op" id="3906515">[</span><span class="op" id="3906516">]</span><span class="builtintype" id="3906517">byte</span><span class="op" id="3906521">)</span>&nbsp;<span class="builtintype" id="3906523">string</span>&nbsp;<span class="op" id="3906530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906533">var</span>&nbsp;<span class="ident" id="3906537">buf</span>&nbsp;<span class="ident" id="3906541">bytes</span><span class="op" id="3906546">.</span><span class="ident" id="3906547">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906555">dumper</span>&nbsp;<span class="op" id="3906562">:=</span>&nbsp;<span class="ident" id="3906565">Dumper</span><span class="op" id="3906571">(</span><span class="op" id="3906572">&amp;</span><span class="ident" id="3906573">buf</span><span class="op" id="3906576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906579">dumper</span><span class="op" id="3906585">.</span><span class="ident" id="3906586">Write</span><span class="op" id="3906591">(</span><span class="ident" id="3906592">data</span><span class="op" id="3906596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906599">dumper</span><span class="op" id="3906605">.</span><span class="ident" id="3906606">Close</span><span class="op" id="3906611">(</span><span class="op" id="3906612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906615">return</span>&nbsp;<span class="builtintype" id="3906622">string</span><span class="op" id="3906628">(</span><span class="ident" id="3906629">buf</span><span class="op" id="3906632">.</span><span class="ident" id="3906633">Bytes</span><span class="op" id="3906638">(</span><span class="op" id="3906639">)</span><span class="op" id="3906640">)</span><br>
<span class="lineno"></span><span class="op" id="3906642">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="3906645">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3906723">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="3906802">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="3906811">func</span>&nbsp;<span class="ident" id="3906816">Dumper</span><span class="op" id="3906822">(</span><span class="ident" id="3906823">w</span>&nbsp;<span class="ident" id="3906825">io</span><span class="op" id="3906827">.</span><span class="ident" id="3906828">Writer</span><span class="op" id="3906834">)</span>&nbsp;<span class="ident" id="3906836">io</span><span class="op" id="3906838">.</span><span class="ident" id="3906839">WriteCloser</span>&nbsp;<span class="op" id="3906851">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906854">return</span>&nbsp;<span class="op" id="3906861">&amp;</span><span class="ident" id="3906862">dumper</span><span class="op" id="3906868">{</span><span class="ident" id="3906869">w</span><span class="op" id="3906870">:</span>&nbsp;<span class="ident" id="3906872">w</span><span class="op" id="3906873">}</span><br>
<span class="lineno"></span><span class="op" id="3906875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3906878">type</span>&nbsp;<span class="ident" id="3906883">dumper</span>&nbsp;<span class="keyword" id="3906890">struct</span>&nbsp;<span class="op" id="3906897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906900">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3906911">io</span><span class="op" id="3906913">.</span><span class="ident" id="3906914">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906922">rightChars</span>&nbsp;<span class="op" id="3906933">[</span><span class="num" id="3906934">18</span><span class="op" id="3906936">]</span><span class="builtintype" id="3906937">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906943">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3906954">[</span><span class="num" id="3906955">14</span><span class="op" id="3906957">]</span><span class="builtintype" id="3906958">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906964">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3906975">int</span>&nbsp;&nbsp;<span class="comment" id="3906980">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907020">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3907031">uint</span>&nbsp;<span class="comment" id="3907036">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="3907062">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="3907065">func</span>&nbsp;<span class="ident" id="3907070">toChar</span><span class="op" id="3907076">(</span><span class="ident" id="3907077">b</span>&nbsp;<span class="builtintype" id="3907079">byte</span><span class="op" id="3907083">)</span>&nbsp;<span class="builtintype" id="3907085">byte</span>&nbsp;<span class="op" id="3907090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907093">if</span>&nbsp;<span class="ident" id="3907096">b</span>&nbsp;<span class="op" id="3907098">&lt;</span>&nbsp;<span class="num" id="3907100">32</span>&nbsp;<span class="op" id="3907103">||</span>&nbsp;<span class="ident" id="3907106">b</span>&nbsp;<span class="op" id="3907108">&gt;</span>&nbsp;<span class="num" id="3907110">126</span>&nbsp;<span class="op" id="3907114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907118">return</span>&nbsp;<span class="string" id="3907125">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907130">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907133">return</span>&nbsp;<span class="ident" id="3907140">b</span><br>
<span class="lineno"></span><span class="op" id="3907142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3907145">func</span>&nbsp;<span class="op" id="3907150">(</span><span class="ident" id="3907151">h</span>&nbsp;<span class="op" id="3907153">*</span><span class="ident" id="3907154">dumper</span><span class="op" id="3907160">)</span>&nbsp;<span class="ident" id="3907162">Write</span><span class="op" id="3907167">(</span><span class="ident" id="3907168">data</span>&nbsp;<span class="op" id="3907173">[</span><span class="op" id="3907174">]</span><span class="builtintype" id="3907175">byte</span><span class="op" id="3907179">)</span>&nbsp;<span class="op" id="3907181">(</span><span class="ident" id="3907182">n</span>&nbsp;<span class="builtintype" id="3907184">int</span><span class="op" id="3907187">,</span>&nbsp;<span class="ident" id="3907189">err</span>&nbsp;<span class="builtintype" id="3907193">error</span><span class="op" id="3907198">)</span>&nbsp;<span class="op" id="3907200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907203">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907231">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907314">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907396">for</span>&nbsp;<span class="ident" id="3907400">i</span>&nbsp;<span class="op" id="3907402">:=</span>&nbsp;<span class="keyword" id="3907405">range</span>&nbsp;<span class="ident" id="3907411">data</span>&nbsp;<span class="op" id="3907416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907420">if</span>&nbsp;<span class="ident" id="3907423">h</span><span class="op" id="3907424">.</span><span class="ident" id="3907425">used</span>&nbsp;<span class="op" id="3907430">==</span>&nbsp;<span class="num" id="3907433">0</span>&nbsp;<span class="op" id="3907435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907440">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907494">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907515">h</span><span class="op" id="3907516">.</span><span class="ident" id="3907517">buf</span><span class="op" id="3907520">[</span><span class="num" id="3907521">0</span><span class="op" id="3907522">]</span>&nbsp;<span class="op" id="3907524">=</span>&nbsp;<span class="builtintype" id="3907526">byte</span><span class="op" id="3907530">(</span><span class="ident" id="3907531">h</span><span class="op" id="3907532">.</span><span class="ident" id="3907533">n</span>&nbsp;<span class="op" id="3907535">&gt;&gt;</span>&nbsp;<span class="num" id="3907538">24</span><span class="op" id="3907540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907545">h</span><span class="op" id="3907546">.</span><span class="ident" id="3907547">buf</span><span class="op" id="3907550">[</span><span class="num" id="3907551">1</span><span class="op" id="3907552">]</span>&nbsp;<span class="op" id="3907554">=</span>&nbsp;<span class="builtintype" id="3907556">byte</span><span class="op" id="3907560">(</span><span class="ident" id="3907561">h</span><span class="op" id="3907562">.</span><span class="ident" id="3907563">n</span>&nbsp;<span class="op" id="3907565">&gt;&gt;</span>&nbsp;<span class="num" id="3907568">16</span><span class="op" id="3907570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907575">h</span><span class="op" id="3907576">.</span><span class="ident" id="3907577">buf</span><span class="op" id="3907580">[</span><span class="num" id="3907581">2</span><span class="op" id="3907582">]</span>&nbsp;<span class="op" id="3907584">=</span>&nbsp;<span class="builtintype" id="3907586">byte</span><span class="op" id="3907590">(</span><span class="ident" id="3907591">h</span><span class="op" id="3907592">.</span><span class="ident" id="3907593">n</span>&nbsp;<span class="op" id="3907595">&gt;&gt;</span>&nbsp;<span class="num" id="3907598">8</span><span class="op" id="3907599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907604">h</span><span class="op" id="3907605">.</span><span class="ident" id="3907606">buf</span><span class="op" id="3907609">[</span><span class="num" id="3907610">3</span><span class="op" id="3907611">]</span>&nbsp;<span class="op" id="3907613">=</span>&nbsp;<span class="builtintype" id="3907615">byte</span><span class="op" id="3907619">(</span><span class="ident" id="3907620">h</span><span class="op" id="3907621">.</span><span class="ident" id="3907622">n</span><span class="op" id="3907623">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907628">Encode</span><span class="op" id="3907634">(</span><span class="ident" id="3907635">h</span><span class="op" id="3907636">.</span><span class="ident" id="3907637">buf</span><span class="op" id="3907640">[</span><span class="num" id="3907641">4</span><span class="op" id="3907642">:</span><span class="op" id="3907643">]</span><span class="op" id="3907644">,</span>&nbsp;<span class="ident" id="3907646">h</span><span class="op" id="3907647">.</span><span class="ident" id="3907648">buf</span><span class="op" id="3907651">[</span><span class="op" id="3907652">:</span><span class="num" id="3907653">4</span><span class="op" id="3907654">]</span><span class="op" id="3907655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907660">h</span><span class="op" id="3907661">.</span><span class="ident" id="3907662">buf</span><span class="op" id="3907665">[</span><span class="num" id="3907666">12</span><span class="op" id="3907668">]</span>&nbsp;<span class="op" id="3907670">=</span>&nbsp;<span class="string" id="3907672">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907679">h</span><span class="op" id="3907680">.</span><span class="ident" id="3907681">buf</span><span class="op" id="3907684">[</span><span class="num" id="3907685">13</span><span class="op" id="3907687">]</span>&nbsp;<span class="op" id="3907689">=</span>&nbsp;<span class="string" id="3907691">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907698">_</span><span class="op" id="3907699">,</span>&nbsp;<span class="ident" id="3907701">err</span>&nbsp;<span class="op" id="3907705">=</span>&nbsp;<span class="ident" id="3907707">h</span><span class="op" id="3907708">.</span><span class="ident" id="3907709">w</span><span class="op" id="3907710">.</span><span class="ident" id="3907711">Write</span><span class="op" id="3907716">(</span><span class="ident" id="3907717">h</span><span class="op" id="3907718">.</span><span class="ident" id="3907719">buf</span><span class="op" id="3907722">[</span><span class="num" id="3907723">4</span><span class="op" id="3907724">:</span><span class="op" id="3907725">]</span><span class="op" id="3907726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907731">if</span>&nbsp;<span class="ident" id="3907734">err</span>&nbsp;<span class="op" id="3907738">!=</span>&nbsp;<span class="ident" id="3907741">nil</span>&nbsp;<span class="op" id="3907745">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907751">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907769">Encode</span><span class="op" id="3907775">(</span><span class="ident" id="3907776">h</span><span class="op" id="3907777">.</span><span class="ident" id="3907778">buf</span><span class="op" id="3907781">[</span><span class="op" id="3907782">:</span><span class="op" id="3907783">]</span><span class="op" id="3907784">,</span>&nbsp;<span class="ident" id="3907786">data</span><span class="op" id="3907790">[</span><span class="ident" id="3907791">i</span><span class="op" id="3907792">:</span><span class="ident" id="3907793">i</span><span class="op" id="3907794">+</span><span class="num" id="3907795">1</span><span class="op" id="3907796">]</span><span class="op" id="3907797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907801">h</span><span class="op" id="3907802">.</span><span class="ident" id="3907803">buf</span><span class="op" id="3907806">[</span><span class="num" id="3907807">2</span><span class="op" id="3907808">]</span>&nbsp;<span class="op" id="3907810">=</span>&nbsp;<span class="string" id="3907812">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907818">l</span>&nbsp;<span class="op" id="3907820">:=</span>&nbsp;<span class="num" id="3907823">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907827">if</span>&nbsp;<span class="ident" id="3907830">h</span><span class="op" id="3907831">.</span><span class="ident" id="3907832">used</span>&nbsp;<span class="op" id="3907837">==</span>&nbsp;<span class="num" id="3907840">7</span>&nbsp;<span class="op" id="3907842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907847">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907901">h</span><span class="op" id="3907902">.</span><span class="ident" id="3907903">buf</span><span class="op" id="3907906">[</span><span class="num" id="3907907">3</span><span class="op" id="3907908">]</span>&nbsp;<span class="op" id="3907910">=</span>&nbsp;<span class="string" id="3907912">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907919">l</span>&nbsp;<span class="op" id="3907921">=</span>&nbsp;<span class="num" id="3907923">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907927">}</span>&nbsp;<span class="keyword" id="3907929">else</span>&nbsp;<span class="keyword" id="3907934">if</span>&nbsp;<span class="ident" id="3907937">h</span><span class="op" id="3907938">.</span><span class="ident" id="3907939">used</span>&nbsp;<span class="op" id="3907944">==</span>&nbsp;<span class="num" id="3907947">15</span>&nbsp;<span class="op" id="3907950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907955">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3908011">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908047">h</span><span class="op" id="3908048">.</span><span class="ident" id="3908049">buf</span><span class="op" id="3908052">[</span><span class="num" id="3908053">3</span><span class="op" id="3908054">]</span>&nbsp;<span class="op" id="3908056">=</span>&nbsp;<span class="string" id="3908058">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908065">h</span><span class="op" id="3908066">.</span><span class="ident" id="3908067">buf</span><span class="op" id="3908070">[</span><span class="num" id="3908071">4</span><span class="op" id="3908072">]</span>&nbsp;<span class="op" id="3908074">=</span>&nbsp;<span class="string" id="3908076">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908083">l</span>&nbsp;<span class="op" id="3908085">=</span>&nbsp;<span class="num" id="3908087">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908095">_</span><span class="op" id="3908096">,</span>&nbsp;<span class="ident" id="3908098">err</span>&nbsp;<span class="op" id="3908102">=</span>&nbsp;<span class="ident" id="3908104">h</span><span class="op" id="3908105">.</span><span class="ident" id="3908106">w</span><span class="op" id="3908107">.</span><span class="ident" id="3908108">Write</span><span class="op" id="3908113">(</span><span class="ident" id="3908114">h</span><span class="op" id="3908115">.</span><span class="ident" id="3908116">buf</span><span class="op" id="3908119">[</span><span class="op" id="3908120">:</span><span class="ident" id="3908121">l</span><span class="op" id="3908122">]</span><span class="op" id="3908123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908127">if</span>&nbsp;<span class="ident" id="3908130">err</span>&nbsp;<span class="op" id="3908134">!=</span>&nbsp;<span class="ident" id="3908137">nil</span>&nbsp;<span class="op" id="3908141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908146">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908159">n</span><span class="op" id="3908160">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908165">h</span><span class="op" id="3908166">.</span><span class="ident" id="3908167">rightChars</span><span class="op" id="3908177">[</span><span class="ident" id="3908178">h</span><span class="op" id="3908179">.</span><span class="ident" id="3908180">used</span><span class="op" id="3908184">]</span>&nbsp;<span class="op" id="3908186">=</span>&nbsp;<span class="ident" id="3908188">toChar</span><span class="op" id="3908194">(</span><span class="ident" id="3908195">data</span><span class="op" id="3908199">[</span><span class="ident" id="3908200">i</span><span class="op" id="3908201">]</span><span class="op" id="3908202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908206">h</span><span class="op" id="3908207">.</span><span class="ident" id="3908208">used</span><span class="op" id="3908212">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908217">h</span><span class="op" id="3908218">.</span><span class="ident" id="3908219">n</span><span class="op" id="3908220">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908225">if</span>&nbsp;<span class="ident" id="3908228">h</span><span class="op" id="3908229">.</span><span class="ident" id="3908230">used</span>&nbsp;<span class="op" id="3908235">==</span>&nbsp;<span class="num" id="3908238">16</span>&nbsp;<span class="op" id="3908241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908246">h</span><span class="op" id="3908247">.</span><span class="ident" id="3908248">rightChars</span><span class="op" id="3908258">[</span><span class="num" id="3908259">16</span><span class="op" id="3908261">]</span>&nbsp;<span class="op" id="3908263">=</span>&nbsp;<span class="string" id="3908265">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908272">h</span><span class="op" id="3908273">.</span><span class="ident" id="3908274">rightChars</span><span class="op" id="3908284">[</span><span class="num" id="3908285">17</span><span class="op" id="3908287">]</span>&nbsp;<span class="op" id="3908289">=</span>&nbsp;<span class="string" id="3908291">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908299">_</span><span class="op" id="3908300">,</span>&nbsp;<span class="ident" id="3908302">err</span>&nbsp;<span class="op" id="3908306">=</span>&nbsp;<span class="ident" id="3908308">h</span><span class="op" id="3908309">.</span><span class="ident" id="3908310">w</span><span class="op" id="3908311">.</span><span class="ident" id="3908312">Write</span><span class="op" id="3908317">(</span><span class="ident" id="3908318">h</span><span class="op" id="3908319">.</span><span class="ident" id="3908320">rightChars</span><span class="op" id="3908330">[</span><span class="op" id="3908331">:</span><span class="op" id="3908332">]</span><span class="op" id="3908333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908338">if</span>&nbsp;<span class="ident" id="3908341">err</span>&nbsp;<span class="op" id="3908345">!=</span>&nbsp;<span class="ident" id="3908348">nil</span>&nbsp;<span class="op" id="3908352">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908358">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908373">h</span><span class="op" id="3908374">.</span><span class="ident" id="3908375">used</span>&nbsp;<span class="op" id="3908380">=</span>&nbsp;<span class="num" id="3908382">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908389">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908392">return</span><br>
<span class="lineno"></span><span class="op" id="3908399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3908402">func</span>&nbsp;<span class="op" id="3908407">(</span><span class="ident" id="3908408">h</span>&nbsp;<span class="op" id="3908410">*</span><span class="ident" id="3908411">dumper</span><span class="op" id="3908417">)</span>&nbsp;<span class="ident" id="3908419">Close</span><span class="op" id="3908424">(</span><span class="op" id="3908425">)</span>&nbsp;<span class="op" id="3908427">(</span><span class="ident" id="3908428">err</span>&nbsp;<span class="builtintype" id="3908432">error</span><span class="op" id="3908437">)</span>&nbsp;<span class="op" id="3908439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3908442">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908506">if</span>&nbsp;<span class="ident" id="3908509">h</span><span class="op" id="3908510">.</span><span class="ident" id="3908511">used</span>&nbsp;<span class="op" id="3908516">==</span>&nbsp;<span class="num" id="3908519">0</span>&nbsp;<span class="op" id="3908521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908525">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908536">h</span><span class="op" id="3908537">.</span><span class="ident" id="3908538">buf</span><span class="op" id="3908541">[</span><span class="num" id="3908542">0</span><span class="op" id="3908543">]</span>&nbsp;<span class="op" id="3908545">=</span>&nbsp;<span class="string" id="3908547">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908552">h</span><span class="op" id="3908553">.</span><span class="ident" id="3908554">buf</span><span class="op" id="3908557">[</span><span class="num" id="3908558">1</span><span class="op" id="3908559">]</span>&nbsp;<span class="op" id="3908561">=</span>&nbsp;<span class="string" id="3908563">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908568">h</span><span class="op" id="3908569">.</span><span class="ident" id="3908570">buf</span><span class="op" id="3908573">[</span><span class="num" id="3908574">2</span><span class="op" id="3908575">]</span>&nbsp;<span class="op" id="3908577">=</span>&nbsp;<span class="string" id="3908579">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908584">h</span><span class="op" id="3908585">.</span><span class="ident" id="3908586">buf</span><span class="op" id="3908589">[</span><span class="num" id="3908590">3</span><span class="op" id="3908591">]</span>&nbsp;<span class="op" id="3908593">=</span>&nbsp;<span class="string" id="3908595">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908600">h</span><span class="op" id="3908601">.</span><span class="ident" id="3908602">buf</span><span class="op" id="3908605">[</span><span class="num" id="3908606">4</span><span class="op" id="3908607">]</span>&nbsp;<span class="op" id="3908609">=</span>&nbsp;<span class="string" id="3908611">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908616">nBytes</span>&nbsp;<span class="op" id="3908623">:=</span>&nbsp;<span class="ident" id="3908626">h</span><span class="op" id="3908627">.</span><span class="ident" id="3908628">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908634">for</span>&nbsp;<span class="ident" id="3908638">h</span><span class="op" id="3908639">.</span><span class="ident" id="3908640">used</span>&nbsp;<span class="op" id="3908645">&lt;</span>&nbsp;<span class="num" id="3908647">16</span>&nbsp;<span class="op" id="3908650">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908654">l</span>&nbsp;<span class="op" id="3908656">:=</span>&nbsp;<span class="num" id="3908659">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908663">if</span>&nbsp;<span class="ident" id="3908666">h</span><span class="op" id="3908667">.</span><span class="ident" id="3908668">used</span>&nbsp;<span class="op" id="3908673">==</span>&nbsp;<span class="num" id="3908676">7</span>&nbsp;<span class="op" id="3908678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908683">l</span>&nbsp;<span class="op" id="3908685">=</span>&nbsp;<span class="num" id="3908687">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908691">}</span>&nbsp;<span class="keyword" id="3908693">else</span>&nbsp;<span class="keyword" id="3908698">if</span>&nbsp;<span class="ident" id="3908701">h</span><span class="op" id="3908702">.</span><span class="ident" id="3908703">used</span>&nbsp;<span class="op" id="3908708">==</span>&nbsp;<span class="num" id="3908711">15</span>&nbsp;<span class="op" id="3908714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908719">l</span>&nbsp;<span class="op" id="3908721">=</span>&nbsp;<span class="num" id="3908723">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908731">_</span><span class="op" id="3908732">,</span>&nbsp;<span class="ident" id="3908734">err</span>&nbsp;<span class="op" id="3908738">=</span>&nbsp;<span class="ident" id="3908740">h</span><span class="op" id="3908741">.</span><span class="ident" id="3908742">w</span><span class="op" id="3908743">.</span><span class="ident" id="3908744">Write</span><span class="op" id="3908749">(</span><span class="ident" id="3908750">h</span><span class="op" id="3908751">.</span><span class="ident" id="3908752">buf</span><span class="op" id="3908755">[</span><span class="op" id="3908756">:</span><span class="ident" id="3908757">l</span><span class="op" id="3908758">]</span><span class="op" id="3908759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908763">if</span>&nbsp;<span class="ident" id="3908766">err</span>&nbsp;<span class="op" id="3908770">!=</span>&nbsp;<span class="ident" id="3908773">nil</span>&nbsp;<span class="op" id="3908777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908782">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908791">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908795">h</span><span class="op" id="3908796">.</span><span class="ident" id="3908797">used</span><span class="op" id="3908801">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908808">h</span><span class="op" id="3908809">.</span><span class="ident" id="3908810">rightChars</span><span class="op" id="3908820">[</span><span class="ident" id="3908821">nBytes</span><span class="op" id="3908827">]</span>&nbsp;<span class="op" id="3908829">=</span>&nbsp;<span class="string" id="3908831">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908836">h</span><span class="op" id="3908837">.</span><span class="ident" id="3908838">rightChars</span><span class="op" id="3908848">[</span><span class="ident" id="3908849">nBytes</span><span class="op" id="3908855">+</span><span class="num" id="3908856">1</span><span class="op" id="3908857">]</span>&nbsp;<span class="op" id="3908859">=</span>&nbsp;<span class="string" id="3908861">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908867">_</span><span class="op" id="3908868">,</span>&nbsp;<span class="ident" id="3908870">err</span>&nbsp;<span class="op" id="3908874">=</span>&nbsp;<span class="ident" id="3908876">h</span><span class="op" id="3908877">.</span><span class="ident" id="3908878">w</span><span class="op" id="3908879">.</span><span class="ident" id="3908880">Write</span><span class="op" id="3908885">(</span><span class="ident" id="3908886">h</span><span class="op" id="3908887">.</span><span class="ident" id="3908888">rightChars</span><span class="op" id="3908898">[</span><span class="op" id="3908899">:</span><span class="ident" id="3908900">nBytes</span><span class="op" id="3908906">+</span><span class="num" id="3908907">2</span><span class="op" id="3908908">]</span><span class="op" id="3908909">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908912">return</span><br>
<span class="lineno"></span><span class="op" id="3908919">}</span>
</div>
</body>
</html>
