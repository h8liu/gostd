<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2064755">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2064810">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2064864">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2064915">package</span>&nbsp;<span class="ident" id="2064923">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2064932">import</span>&nbsp;<span class="op" id="2064939">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2064942">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="2064951">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="2064954">func</span>&nbsp;<span class="ident" id="2064959">concatstrings</span><span class="op" id="2064972">(</span><span class="ident" id="2064973">a</span>&nbsp;<span class="op" id="2064975">[</span><span class="op" id="2064976">]</span><span class="builtintype" id="2064977">string</span><span class="op" id="2064983">)</span>&nbsp;<span class="builtintype" id="2064985">string</span>&nbsp;<span class="op" id="2064992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2064995">idx</span>&nbsp;<span class="op" id="2064999">:=</span>&nbsp;<span class="num" id="2065002">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065005">l</span>&nbsp;<span class="op" id="2065007">:=</span>&nbsp;<span class="num" id="2065010">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065013">count</span>&nbsp;<span class="op" id="2065019">:=</span>&nbsp;<span class="num" id="2065022">0</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065025">for</span>&nbsp;<span class="ident" id="2065029">i</span><span class="op" id="2065030">,</span>&nbsp;<span class="ident" id="2065032">x</span>&nbsp;<span class="op" id="2065034">:=</span>&nbsp;<span class="keyword" id="2065037">range</span>&nbsp;<span class="ident" id="2065043">a</span>&nbsp;<span class="op" id="2065045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065049">n</span>&nbsp;<span class="op" id="2065051">:=</span>&nbsp;<span class="builtinfunc" id="2065054">len</span><span class="op" id="2065057">(</span><span class="ident" id="2065058">x</span><span class="op" id="2065059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065063">if</span>&nbsp;<span class="ident" id="2065066">n</span>&nbsp;<span class="op" id="2065068">==</span>&nbsp;<span class="num" id="2065071">0</span>&nbsp;<span class="op" id="2065073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065078">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2065089">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065093">if</span>&nbsp;<span class="ident" id="2065096">l</span><span class="op" id="2065097">+</span><span class="ident" id="2065098">n</span>&nbsp;<span class="op" id="2065100">&lt;</span>&nbsp;<span class="ident" id="2065102">l</span>&nbsp;<span class="op" id="2065104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065109">gothrow</span><span class="op" id="2065116">(</span><span class="string" id="2065117">&#34;string&nbsp;concatenation&nbsp;too&nbsp;long&#34;</span><span class="op" id="2065148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2065152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065156">l</span>&nbsp;<span class="op" id="2065158">+=</span>&nbsp;<span class="ident" id="2065161">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065165">count</span><span class="op" id="2065170">++</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065175">idx</span>&nbsp;<span class="op" id="2065179">=</span>&nbsp;<span class="ident" id="2065181">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2065184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065187">if</span>&nbsp;<span class="ident" id="2065190">count</span>&nbsp;<span class="op" id="2065196">==</span>&nbsp;<span class="num" id="2065199">0</span>&nbsp;<span class="op" id="2065201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065205">return</span>&nbsp;<span class="string" id="2065212">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2065216">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065219">if</span>&nbsp;<span class="ident" id="2065222">count</span>&nbsp;<span class="op" id="2065228">==</span>&nbsp;<span class="num" id="2065231">1</span>&nbsp;<span class="op" id="2065233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065237">return</span>&nbsp;<span class="ident" id="2065244">a</span><span class="op" id="2065245">[</span><span class="ident" id="2065246">idx</span><span class="op" id="2065249">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2065252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065255">s</span><span class="op" id="2065256">,</span>&nbsp;<span class="ident" id="2065258">b</span>&nbsp;<span class="op" id="2065260">:=</span>&nbsp;<span class="ident" id="2065263">rawstring</span><span class="op" id="2065272">(</span><span class="ident" id="2065273">l</span><span class="op" id="2065274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065277">l</span>&nbsp;<span class="op" id="2065279">=</span>&nbsp;<span class="num" id="2065281">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065284">for</span>&nbsp;<span class="ident" id="2065288">_</span><span class="op" id="2065289">,</span>&nbsp;<span class="ident" id="2065291">x</span>&nbsp;<span class="op" id="2065293">:=</span>&nbsp;<span class="keyword" id="2065296">range</span>&nbsp;<span class="ident" id="2065302">a</span>&nbsp;<span class="op" id="2065304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2065308">copy</span><span class="op" id="2065312">(</span><span class="ident" id="2065313">b</span><span class="op" id="2065314">[</span><span class="ident" id="2065315">l</span><span class="op" id="2065316">:</span><span class="op" id="2065317">]</span><span class="op" id="2065318">,</span>&nbsp;<span class="ident" id="2065320">x</span><span class="op" id="2065321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065325">l</span>&nbsp;<span class="op" id="2065327">+=</span>&nbsp;<span class="builtinfunc" id="2065330">len</span><span class="op" id="2065333">(</span><span class="ident" id="2065334">x</span><span class="op" id="2065335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2065338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065341">return</span>&nbsp;<span class="ident" id="2065348">s</span><br>
<span class="lineno">40</span><span class="op" id="2065350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2065353">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="2065366">func</span>&nbsp;<span class="ident" id="2065371">concatstring2</span><span class="op" id="2065384">(</span><span class="ident" id="2065385">a</span>&nbsp;<span class="op" id="2065387">[</span><span class="num" id="2065388">2</span><span class="op" id="2065389">]</span><span class="builtintype" id="2065390">string</span><span class="op" id="2065396">)</span>&nbsp;<span class="builtintype" id="2065398">string</span>&nbsp;<span class="op" id="2065405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065408">return</span>&nbsp;<span class="ident" id="2065415">concatstrings</span><span class="op" id="2065428">(</span><span class="ident" id="2065429">a</span><span class="op" id="2065430">[</span><span class="op" id="2065431">:</span><span class="op" id="2065432">]</span><span class="op" id="2065433">)</span><br>
<span class="lineno">45</span><span class="op" id="2065435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2065438">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="2065451">func</span>&nbsp;<span class="ident" id="2065456">concatstring3</span><span class="op" id="2065469">(</span><span class="ident" id="2065470">a</span>&nbsp;<span class="op" id="2065472">[</span><span class="num" id="2065473">3</span><span class="op" id="2065474">]</span><span class="builtintype" id="2065475">string</span><span class="op" id="2065481">)</span>&nbsp;<span class="builtintype" id="2065483">string</span>&nbsp;<span class="op" id="2065490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065493">return</span>&nbsp;<span class="ident" id="2065500">concatstrings</span><span class="op" id="2065513">(</span><span class="ident" id="2065514">a</span><span class="op" id="2065515">[</span><span class="op" id="2065516">:</span><span class="op" id="2065517">]</span><span class="op" id="2065518">)</span><br>
<span class="lineno">50</span><span class="op" id="2065520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2065523">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="2065536">func</span>&nbsp;<span class="ident" id="2065541">concatstring4</span><span class="op" id="2065554">(</span><span class="ident" id="2065555">a</span>&nbsp;<span class="op" id="2065557">[</span><span class="num" id="2065558">4</span><span class="op" id="2065559">]</span><span class="builtintype" id="2065560">string</span><span class="op" id="2065566">)</span>&nbsp;<span class="builtintype" id="2065568">string</span>&nbsp;<span class="op" id="2065575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065578">return</span>&nbsp;<span class="ident" id="2065585">concatstrings</span><span class="op" id="2065598">(</span><span class="ident" id="2065599">a</span><span class="op" id="2065600">[</span><span class="op" id="2065601">:</span><span class="op" id="2065602">]</span><span class="op" id="2065603">)</span><br>
<span class="lineno">55</span><span class="op" id="2065605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2065608">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="2065621">func</span>&nbsp;<span class="ident" id="2065626">concatstring5</span><span class="op" id="2065639">(</span><span class="ident" id="2065640">a</span>&nbsp;<span class="op" id="2065642">[</span><span class="num" id="2065643">5</span><span class="op" id="2065644">]</span><span class="builtintype" id="2065645">string</span><span class="op" id="2065651">)</span>&nbsp;<span class="builtintype" id="2065653">string</span>&nbsp;<span class="op" id="2065660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065663">return</span>&nbsp;<span class="ident" id="2065670">concatstrings</span><span class="op" id="2065683">(</span><span class="ident" id="2065684">a</span><span class="op" id="2065685">[</span><span class="op" id="2065686">:</span><span class="op" id="2065687">]</span><span class="op" id="2065688">)</span><br>
<span class="lineno">60</span><span class="op" id="2065690">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2065693">func</span>&nbsp;<span class="ident" id="2065698">slicebytetostring</span><span class="op" id="2065715">(</span><span class="ident" id="2065716">b</span>&nbsp;<span class="op" id="2065718">[</span><span class="op" id="2065719">]</span><span class="builtintype" id="2065720">byte</span><span class="op" id="2065724">)</span>&nbsp;<span class="builtintype" id="2065726">string</span>&nbsp;<span class="op" id="2065733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065736">if</span>&nbsp;<span class="ident" id="2065739">raceenabled</span>&nbsp;<span class="op" id="2065751">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2065754">len</span><span class="op" id="2065757">(</span><span class="ident" id="2065758">b</span><span class="op" id="2065759">)</span>&nbsp;<span class="op" id="2065761">&gt;</span>&nbsp;<span class="num" id="2065763">0</span>&nbsp;<span class="op" id="2065765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065769">racereadrangepc</span><span class="op" id="2065784">(</span><span class="ident" id="2065785">unsafe</span><span class="op" id="2065791">.</span><span class="ident" id="2065792">Pointer</span><span class="op" id="2065799">(</span><span class="op" id="2065800">&amp;</span><span class="ident" id="2065801">b</span><span class="op" id="2065802">[</span><span class="num" id="2065803">0</span><span class="op" id="2065804">]</span><span class="op" id="2065805">)</span><span class="op" id="2065806">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="2065811">uintptr</span><span class="op" id="2065818">(</span><span class="builtinfunc" id="2065819">len</span><span class="op" id="2065822">(</span><span class="ident" id="2065823">b</span><span class="op" id="2065824">)</span><span class="op" id="2065825">)</span><span class="op" id="2065826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065831">getcallerpc</span><span class="op" id="2065842">(</span><span class="ident" id="2065843">unsafe</span><span class="op" id="2065849">.</span><span class="ident" id="2065850">Pointer</span><span class="op" id="2065857">(</span><span class="op" id="2065858">&amp;</span><span class="ident" id="2065859">b</span><span class="op" id="2065860">)</span><span class="op" id="2065861">)</span><span class="op" id="2065862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065867">funcPC</span><span class="op" id="2065873">(</span><span class="ident" id="2065874">slicebytetostring</span><span class="op" id="2065891">)</span><span class="op" id="2065892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2065895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2065898">s</span><span class="op" id="2065899">,</span>&nbsp;<span class="ident" id="2065901">c</span>&nbsp;<span class="op" id="2065903">:=</span>&nbsp;<span class="ident" id="2065906">rawstring</span><span class="op" id="2065915">(</span><span class="builtinfunc" id="2065916">len</span><span class="op" id="2065919">(</span><span class="ident" id="2065920">b</span><span class="op" id="2065921">)</span><span class="op" id="2065922">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2065925">copy</span><span class="op" id="2065929">(</span><span class="ident" id="2065930">c</span><span class="op" id="2065931">,</span>&nbsp;<span class="ident" id="2065933">b</span><span class="op" id="2065934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2065937">return</span>&nbsp;<span class="ident" id="2065944">s</span><br>
<span class="lineno"></span><span class="op" id="2065946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2065949">func</span>&nbsp;<span class="ident" id="2065954">slicebytetostringtmp</span><span class="op" id="2065974">(</span><span class="ident" id="2065975">b</span>&nbsp;<span class="op" id="2065977">[</span><span class="op" id="2065978">]</span><span class="builtintype" id="2065979">byte</span><span class="op" id="2065983">)</span>&nbsp;<span class="builtintype" id="2065985">string</span>&nbsp;<span class="op" id="2065992">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2065995">//&nbsp;Return&nbsp;a&nbsp;&#34;string&#34;&nbsp;referring&nbsp;to&nbsp;the&nbsp;actual&nbsp;[]byte&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2066055">//&nbsp;This&nbsp;is&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;internal&nbsp;compiler&nbsp;optimizations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2066115">//&nbsp;that&nbsp;know&nbsp;that&nbsp;the&nbsp;string&nbsp;form&nbsp;will&nbsp;be&nbsp;discarded&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2066175">//&nbsp;the&nbsp;calling&nbsp;goroutine&nbsp;could&nbsp;possibly&nbsp;modify&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2066236">//&nbsp;slice&nbsp;or&nbsp;synchronize&nbsp;with&nbsp;another&nbsp;goroutine.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2066285">//&nbsp;Today,&nbsp;the&nbsp;only&nbsp;such&nbsp;case&nbsp;is&nbsp;a&nbsp;m[string(k)]&nbsp;lookup&nbsp;where</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2066346">//&nbsp;m&nbsp;is&nbsp;a&nbsp;string-keyed&nbsp;map&nbsp;and&nbsp;k&nbsp;is&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2066394">if</span>&nbsp;<span class="ident" id="2066397">raceenabled</span>&nbsp;<span class="op" id="2066409">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2066412">len</span><span class="op" id="2066415">(</span><span class="ident" id="2066416">b</span><span class="op" id="2066417">)</span>&nbsp;<span class="op" id="2066419">&gt;</span>&nbsp;<span class="num" id="2066421">0</span>&nbsp;<span class="op" id="2066423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066427">racereadrangepc</span><span class="op" id="2066442">(</span><span class="ident" id="2066443">unsafe</span><span class="op" id="2066449">.</span><span class="ident" id="2066450">Pointer</span><span class="op" id="2066457">(</span><span class="op" id="2066458">&amp;</span><span class="ident" id="2066459">b</span><span class="op" id="2066460">[</span><span class="num" id="2066461">0</span><span class="op" id="2066462">]</span><span class="op" id="2066463">)</span><span class="op" id="2066464">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="2066469">uintptr</span><span class="op" id="2066476">(</span><span class="builtinfunc" id="2066477">len</span><span class="op" id="2066480">(</span><span class="ident" id="2066481">b</span><span class="op" id="2066482">)</span><span class="op" id="2066483">)</span><span class="op" id="2066484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066489">getcallerpc</span><span class="op" id="2066500">(</span><span class="ident" id="2066501">unsafe</span><span class="op" id="2066507">.</span><span class="ident" id="2066508">Pointer</span><span class="op" id="2066515">(</span><span class="op" id="2066516">&amp;</span><span class="ident" id="2066517">b</span><span class="op" id="2066518">)</span><span class="op" id="2066519">)</span><span class="op" id="2066520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066525">funcPC</span><span class="op" id="2066531">(</span><span class="ident" id="2066532">slicebytetostringtmp</span><span class="op" id="2066552">)</span><span class="op" id="2066553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2066556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2066559">return</span>&nbsp;<span class="op" id="2066566">*</span><span class="op" id="2066567">(</span><span class="op" id="2066568">*</span><span class="builtintype" id="2066569">string</span><span class="op" id="2066575">)</span><span class="op" id="2066576">(</span><span class="ident" id="2066577">unsafe</span><span class="op" id="2066583">.</span><span class="ident" id="2066584">Pointer</span><span class="op" id="2066591">(</span><span class="op" id="2066592">&amp;</span><span class="ident" id="2066593">b</span><span class="op" id="2066594">)</span><span class="op" id="2066595">)</span><br>
<span class="lineno">90</span><span class="op" id="2066597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2066600">func</span>&nbsp;<span class="ident" id="2066605">stringtoslicebyte</span><span class="op" id="2066622">(</span><span class="ident" id="2066623">s</span>&nbsp;<span class="builtintype" id="2066625">string</span><span class="op" id="2066631">)</span>&nbsp;<span class="op" id="2066633">[</span><span class="op" id="2066634">]</span><span class="builtintype" id="2066635">byte</span>&nbsp;<span class="op" id="2066640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066643">b</span>&nbsp;<span class="op" id="2066645">:=</span>&nbsp;<span class="ident" id="2066648">rawbyteslice</span><span class="op" id="2066660">(</span><span class="builtinfunc" id="2066661">len</span><span class="op" id="2066664">(</span><span class="ident" id="2066665">s</span><span class="op" id="2066666">)</span><span class="op" id="2066667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2066670">copy</span><span class="op" id="2066674">(</span><span class="ident" id="2066675">b</span><span class="op" id="2066676">,</span>&nbsp;<span class="ident" id="2066678">s</span><span class="op" id="2066679">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2066682">return</span>&nbsp;<span class="ident" id="2066689">b</span><br>
<span class="lineno"></span><span class="op" id="2066691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2066694">func</span>&nbsp;<span class="ident" id="2066699">stringtoslicerune</span><span class="op" id="2066716">(</span><span class="ident" id="2066717">s</span>&nbsp;<span class="builtintype" id="2066719">string</span><span class="op" id="2066725">)</span>&nbsp;<span class="op" id="2066727">[</span><span class="op" id="2066728">]</span><span class="builtintype" id="2066729">rune</span>&nbsp;<span class="op" id="2066734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2066737">//&nbsp;two&nbsp;passes.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2066753">//&nbsp;unlike&nbsp;slicerunetostring,&nbsp;no&nbsp;race&nbsp;because&nbsp;strings&nbsp;are&nbsp;immutable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066822">n</span>&nbsp;<span class="op" id="2066824">:=</span>&nbsp;<span class="num" id="2066827">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066830">t</span>&nbsp;<span class="op" id="2066832">:=</span>&nbsp;<span class="ident" id="2066835">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2066838">for</span>&nbsp;<span class="builtinfunc" id="2066842">len</span><span class="op" id="2066845">(</span><span class="ident" id="2066846">s</span><span class="op" id="2066847">)</span>&nbsp;<span class="op" id="2066849">&gt;</span>&nbsp;<span class="num" id="2066851">0</span>&nbsp;<span class="op" id="2066853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066857">_</span><span class="op" id="2066858">,</span>&nbsp;<span class="ident" id="2066860">k</span>&nbsp;<span class="op" id="2066862">:=</span>&nbsp;<span class="ident" id="2066865">charntorune</span><span class="op" id="2066876">(</span><span class="ident" id="2066877">s</span><span class="op" id="2066878">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066882">s</span>&nbsp;<span class="op" id="2066884">=</span>&nbsp;<span class="ident" id="2066886">s</span><span class="op" id="2066887">[</span><span class="ident" id="2066888">k</span><span class="op" id="2066889">:</span><span class="op" id="2066890">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066894">n</span><span class="op" id="2066895">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2066899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066902">a</span>&nbsp;<span class="op" id="2066904">:=</span>&nbsp;<span class="ident" id="2066907">rawruneslice</span><span class="op" id="2066919">(</span><span class="ident" id="2066920">n</span><span class="op" id="2066921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066924">n</span>&nbsp;<span class="op" id="2066926">=</span>&nbsp;<span class="num" id="2066928">0</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2066931">for</span>&nbsp;<span class="builtinfunc" id="2066935">len</span><span class="op" id="2066938">(</span><span class="ident" id="2066939">t</span><span class="op" id="2066940">)</span>&nbsp;<span class="op" id="2066942">&gt;</span>&nbsp;<span class="num" id="2066944">0</span>&nbsp;<span class="op" id="2066946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066950">r</span><span class="op" id="2066951">,</span>&nbsp;<span class="ident" id="2066953">k</span>&nbsp;<span class="op" id="2066955">:=</span>&nbsp;<span class="ident" id="2066958">charntorune</span><span class="op" id="2066969">(</span><span class="ident" id="2066970">t</span><span class="op" id="2066971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066975">t</span>&nbsp;<span class="op" id="2066977">=</span>&nbsp;<span class="ident" id="2066979">t</span><span class="op" id="2066980">[</span><span class="ident" id="2066981">k</span><span class="op" id="2066982">:</span><span class="op" id="2066983">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066987">a</span><span class="op" id="2066988">[</span><span class="ident" id="2066989">n</span><span class="op" id="2066990">]</span>&nbsp;<span class="op" id="2066992">=</span>&nbsp;<span class="ident" id="2066994">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2066998">n</span><span class="op" id="2066999">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2067003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067006">return</span>&nbsp;<span class="ident" id="2067013">a</span><br>
<span class="lineno"></span><span class="op" id="2067015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2067018">func</span>&nbsp;<span class="ident" id="2067023">slicerunetostring</span><span class="op" id="2067040">(</span><span class="ident" id="2067041">a</span>&nbsp;<span class="op" id="2067043">[</span><span class="op" id="2067044">]</span><span class="builtintype" id="2067045">rune</span><span class="op" id="2067049">)</span>&nbsp;<span class="builtintype" id="2067051">string</span>&nbsp;<span class="op" id="2067058">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067061">if</span>&nbsp;<span class="ident" id="2067064">raceenabled</span>&nbsp;<span class="op" id="2067076">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2067079">len</span><span class="op" id="2067082">(</span><span class="ident" id="2067083">a</span><span class="op" id="2067084">)</span>&nbsp;<span class="op" id="2067086">&gt;</span>&nbsp;<span class="num" id="2067088">0</span>&nbsp;<span class="op" id="2067090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067094">racereadrangepc</span><span class="op" id="2067109">(</span><span class="ident" id="2067110">unsafe</span><span class="op" id="2067116">.</span><span class="ident" id="2067117">Pointer</span><span class="op" id="2067124">(</span><span class="op" id="2067125">&amp;</span><span class="ident" id="2067126">a</span><span class="op" id="2067127">[</span><span class="num" id="2067128">0</span><span class="op" id="2067129">]</span><span class="op" id="2067130">)</span><span class="op" id="2067131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="2067136">uintptr</span><span class="op" id="2067143">(</span><span class="builtinfunc" id="2067144">len</span><span class="op" id="2067147">(</span><span class="ident" id="2067148">a</span><span class="op" id="2067149">)</span><span class="op" id="2067150">)</span><span class="op" id="2067151">*</span><span class="ident" id="2067152">unsafe</span><span class="op" id="2067158">.</span><span class="ident" id="2067159">Sizeof</span><span class="op" id="2067165">(</span><span class="ident" id="2067166">a</span><span class="op" id="2067167">[</span><span class="num" id="2067168">0</span><span class="op" id="2067169">]</span><span class="op" id="2067170">)</span><span class="op" id="2067171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067176">getcallerpc</span><span class="op" id="2067187">(</span><span class="ident" id="2067188">unsafe</span><span class="op" id="2067194">.</span><span class="ident" id="2067195">Pointer</span><span class="op" id="2067202">(</span><span class="op" id="2067203">&amp;</span><span class="ident" id="2067204">a</span><span class="op" id="2067205">)</span><span class="op" id="2067206">)</span><span class="op" id="2067207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067212">funcPC</span><span class="op" id="2067218">(</span><span class="ident" id="2067219">slicerunetostring</span><span class="op" id="2067236">)</span><span class="op" id="2067237">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2067240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067243">var</span>&nbsp;<span class="ident" id="2067247">dum</span>&nbsp;<span class="op" id="2067251">[</span><span class="num" id="2067252">4</span><span class="op" id="2067253">]</span><span class="builtintype" id="2067254">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067260">size1</span>&nbsp;<span class="op" id="2067266">:=</span>&nbsp;<span class="num" id="2067269">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067272">for</span>&nbsp;<span class="ident" id="2067276">_</span><span class="op" id="2067277">,</span>&nbsp;<span class="ident" id="2067279">r</span>&nbsp;<span class="op" id="2067281">:=</span>&nbsp;<span class="keyword" id="2067284">range</span>&nbsp;<span class="ident" id="2067290">a</span>&nbsp;<span class="op" id="2067292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067296">size1</span>&nbsp;<span class="op" id="2067302">+=</span>&nbsp;<span class="ident" id="2067305">runetochar</span><span class="op" id="2067315">(</span><span class="ident" id="2067316">dum</span><span class="op" id="2067319">[</span><span class="op" id="2067320">:</span><span class="op" id="2067321">]</span><span class="op" id="2067322">,</span>&nbsp;<span class="ident" id="2067324">r</span><span class="op" id="2067325">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2067328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067331">s</span><span class="op" id="2067332">,</span>&nbsp;<span class="ident" id="2067334">b</span>&nbsp;<span class="op" id="2067336">:=</span>&nbsp;<span class="ident" id="2067339">rawstring</span><span class="op" id="2067348">(</span><span class="ident" id="2067349">size1</span>&nbsp;<span class="op" id="2067355">+</span>&nbsp;<span class="num" id="2067357">3</span><span class="op" id="2067358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067361">size2</span>&nbsp;<span class="op" id="2067367">:=</span>&nbsp;<span class="num" id="2067370">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067373">for</span>&nbsp;<span class="ident" id="2067377">_</span><span class="op" id="2067378">,</span>&nbsp;<span class="ident" id="2067380">r</span>&nbsp;<span class="op" id="2067382">:=</span>&nbsp;<span class="keyword" id="2067385">range</span>&nbsp;<span class="ident" id="2067391">a</span>&nbsp;<span class="op" id="2067393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2067397">//&nbsp;check&nbsp;for&nbsp;race</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067417">if</span>&nbsp;<span class="ident" id="2067420">size2</span>&nbsp;<span class="op" id="2067426">&gt;=</span>&nbsp;<span class="ident" id="2067429">size1</span>&nbsp;<span class="op" id="2067435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067440">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2067448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067452">size2</span>&nbsp;<span class="op" id="2067458">+=</span>&nbsp;<span class="ident" id="2067461">runetochar</span><span class="op" id="2067471">(</span><span class="ident" id="2067472">b</span><span class="op" id="2067473">[</span><span class="ident" id="2067474">size2</span><span class="op" id="2067479">:</span><span class="op" id="2067480">]</span><span class="op" id="2067481">,</span>&nbsp;<span class="ident" id="2067483">r</span><span class="op" id="2067484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2067487">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067490">return</span>&nbsp;<span class="ident" id="2067497">s</span><span class="op" id="2067498">[</span><span class="op" id="2067499">:</span><span class="ident" id="2067500">size2</span><span class="op" id="2067505">]</span><br>
<span class="lineno"></span><span class="op" id="2067507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2067510">type</span>&nbsp;<span class="ident" id="2067515">stringStruct</span>&nbsp;<span class="keyword" id="2067528">struct</span>&nbsp;<span class="op" id="2067535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067538">str</span>&nbsp;<span class="ident" id="2067542">unsafe</span><span class="op" id="2067548">.</span><span class="ident" id="2067549">Pointer</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2067558">len</span>&nbsp;<span class="builtintype" id="2067562">int</span><br>
<span class="lineno"></span><span class="op" id="2067566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2067569">func</span>&nbsp;<span class="ident" id="2067574">intstring</span><span class="op" id="2067583">(</span><span class="ident" id="2067584">v</span>&nbsp;<span class="ident" id="2067586">int64</span><span class="op" id="2067591">)</span>&nbsp;<span class="builtintype" id="2067593">string</span>&nbsp;<span class="op" id="2067600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067603">s</span><span class="op" id="2067604">,</span>&nbsp;<span class="ident" id="2067606">b</span>&nbsp;<span class="op" id="2067608">:=</span>&nbsp;<span class="ident" id="2067611">rawstring</span><span class="op" id="2067620">(</span><span class="num" id="2067621">4</span><span class="op" id="2067622">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067625">n</span>&nbsp;<span class="op" id="2067627">:=</span>&nbsp;<span class="ident" id="2067630">runetochar</span><span class="op" id="2067640">(</span><span class="ident" id="2067641">b</span><span class="op" id="2067642">,</span>&nbsp;<span class="builtintype" id="2067644">rune</span><span class="op" id="2067648">(</span><span class="ident" id="2067649">v</span><span class="op" id="2067650">)</span><span class="op" id="2067651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067654">return</span>&nbsp;<span class="ident" id="2067661">s</span><span class="op" id="2067662">[</span><span class="op" id="2067663">:</span><span class="ident" id="2067664">n</span><span class="op" id="2067665">]</span><br>
<span class="lineno"></span><span class="op" id="2067667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2067670">//&nbsp;stringiter&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno">155</span><span class="comment" id="2067714">//&nbsp;rune&nbsp;after&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k].</span><br>
<span class="lineno"></span><span class="keyword" id="2067758">func</span>&nbsp;<span class="ident" id="2067763">stringiter</span><span class="op" id="2067773">(</span><span class="ident" id="2067774">s</span>&nbsp;<span class="builtintype" id="2067776">string</span><span class="op" id="2067782">,</span>&nbsp;<span class="ident" id="2067784">k</span>&nbsp;<span class="builtintype" id="2067786">int</span><span class="op" id="2067789">)</span>&nbsp;<span class="builtintype" id="2067791">int</span>&nbsp;<span class="op" id="2067795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067798">if</span>&nbsp;<span class="ident" id="2067801">k</span>&nbsp;<span class="op" id="2067803">&gt;=</span>&nbsp;<span class="builtinfunc" id="2067806">len</span><span class="op" id="2067809">(</span><span class="ident" id="2067810">s</span><span class="op" id="2067811">)</span>&nbsp;<span class="op" id="2067813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2067817">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067844">return</span>&nbsp;<span class="num" id="2067851">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2067854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067858">c</span>&nbsp;<span class="op" id="2067860">:=</span>&nbsp;<span class="ident" id="2067863">s</span><span class="op" id="2067864">[</span><span class="ident" id="2067865">k</span><span class="op" id="2067866">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067869">if</span>&nbsp;<span class="ident" id="2067872">c</span>&nbsp;<span class="op" id="2067874">&lt;</span>&nbsp;<span class="ident" id="2067876">runeself</span>&nbsp;<span class="op" id="2067885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067889">return</span>&nbsp;<span class="ident" id="2067896">k</span>&nbsp;<span class="op" id="2067898">+</span>&nbsp;<span class="num" id="2067900">1</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2067903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2067907">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2067927">_</span><span class="op" id="2067928">,</span>&nbsp;<span class="ident" id="2067930">n</span>&nbsp;<span class="op" id="2067932">:=</span>&nbsp;<span class="ident" id="2067935">charntorune</span><span class="op" id="2067946">(</span><span class="ident" id="2067947">s</span><span class="op" id="2067948">[</span><span class="ident" id="2067949">k</span><span class="op" id="2067950">:</span><span class="op" id="2067951">]</span><span class="op" id="2067952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2067955">return</span>&nbsp;<span class="ident" id="2067962">k</span>&nbsp;<span class="op" id="2067964">+</span>&nbsp;<span class="ident" id="2067966">n</span><br>
<span class="lineno">170</span><span class="op" id="2067968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2067971">//&nbsp;stringiter2&nbsp;returns&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k]</span><br>
<span class="lineno"></span><span class="comment" id="2068023">//&nbsp;and&nbsp;the&nbsp;index&nbsp;where&nbsp;the&nbsp;next&nbsp;rune&nbsp;starts.</span><br>
<span class="lineno"></span><span class="keyword" id="2068068">func</span>&nbsp;<span class="ident" id="2068073">stringiter2</span><span class="op" id="2068084">(</span><span class="ident" id="2068085">s</span>&nbsp;<span class="builtintype" id="2068087">string</span><span class="op" id="2068093">,</span>&nbsp;<span class="ident" id="2068095">k</span>&nbsp;<span class="builtintype" id="2068097">int</span><span class="op" id="2068100">)</span>&nbsp;<span class="op" id="2068102">(</span><span class="builtintype" id="2068103">int</span><span class="op" id="2068106">,</span>&nbsp;<span class="builtintype" id="2068108">rune</span><span class="op" id="2068112">)</span>&nbsp;<span class="op" id="2068114">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2068117">if</span>&nbsp;<span class="ident" id="2068120">k</span>&nbsp;<span class="op" id="2068122">&gt;=</span>&nbsp;<span class="builtinfunc" id="2068125">len</span><span class="op" id="2068128">(</span><span class="ident" id="2068129">s</span><span class="op" id="2068130">)</span>&nbsp;<span class="op" id="2068132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2068136">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2068163">return</span>&nbsp;<span class="num" id="2068170">0</span><span class="op" id="2068171">,</span>&nbsp;<span class="num" id="2068173">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2068176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2068180">c</span>&nbsp;<span class="op" id="2068182">:=</span>&nbsp;<span class="ident" id="2068185">s</span><span class="op" id="2068186">[</span><span class="ident" id="2068187">k</span><span class="op" id="2068188">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2068191">if</span>&nbsp;<span class="ident" id="2068194">c</span>&nbsp;<span class="op" id="2068196">&lt;</span>&nbsp;<span class="ident" id="2068198">runeself</span>&nbsp;<span class="op" id="2068207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2068211">return</span>&nbsp;<span class="ident" id="2068218">k</span>&nbsp;<span class="op" id="2068220">+</span>&nbsp;<span class="num" id="2068222">1</span><span class="op" id="2068223">,</span>&nbsp;<span class="builtintype" id="2068225">rune</span><span class="op" id="2068229">(</span><span class="ident" id="2068230">c</span><span class="op" id="2068231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2068234">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2068238">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2068258">r</span><span class="op" id="2068259">,</span>&nbsp;<span class="ident" id="2068261">n</span>&nbsp;<span class="op" id="2068263">:=</span>&nbsp;<span class="ident" id="2068266">charntorune</span><span class="op" id="2068277">(</span><span class="ident" id="2068278">s</span><span class="op" id="2068279">[</span><span class="ident" id="2068280">k</span><span class="op" id="2068281">:</span><span class="op" id="2068282">]</span><span class="op" id="2068283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2068286">return</span>&nbsp;<span class="ident" id="2068293">k</span>&nbsp;<span class="op" id="2068295">+</span>&nbsp;<span class="ident" id="2068297">n</span><span class="op" id="2068298">,</span>&nbsp;<span class="ident" id="2068300">r</span><br>
<span class="lineno"></span><span class="op" id="2068302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="2068305">//&nbsp;rawstring&nbsp;allocates&nbsp;storage&nbsp;for&nbsp;a&nbsp;new&nbsp;string.&nbsp;The&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="2068367">//&nbsp;string&nbsp;and&nbsp;byte&nbsp;slice&nbsp;both&nbsp;refer&nbsp;to&nbsp;the&nbsp;same&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="2068424">//&nbsp;The&nbsp;storage&nbsp;is&nbsp;not&nbsp;zeroed.&nbsp;Callers&nbsp;should&nbsp;use</span><br>
<span class="lineno"></span><span class="comment" id="2068473">//&nbsp;b&nbsp;to&nbsp;set&nbsp;the&nbsp;string&nbsp;contents&nbsp;and&nbsp;then&nbsp;drop&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="2068522">func</span>&nbsp;<span class="ident" id="2068527">rawstring</span><span class="op" id="2068536">(</span><span class="ident" id="2068537">size</span>&nbsp;<span class="builtintype" id="2068542">int</span><span class="op" id="2068545">)</span>&nbsp;<span class="op" id="2068547">(</span><span class="ident" id="2068548">s</span>&nbsp;<span class="builtintype" id="2068550">string</span><span class="op" id="2068556">,</span>&nbsp;<span class="ident" id="2068558">b</span>&nbsp;<span class="op" id="2068560">[</span><span class="op" id="2068561">]</span><span class="builtintype" id="2068562">byte</span><span class="op" id="2068566">)</span>&nbsp;<span class="op" id="2068568">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2068571">p</span>&nbsp;<span class="op" id="2068573">:=</span>&nbsp;<span class="ident" id="2068576">mallocgc</span><span class="op" id="2068584">(</span><span class="builtintype" id="2068585">uintptr</span><span class="op" id="2068592">(</span><span class="ident" id="2068593">size</span><span class="op" id="2068597">)</span><span class="op" id="2068598">,</span>&nbsp;<span class="ident" id="2068600">nil</span><span class="op" id="2068603">,</span>&nbsp;<span class="ident" id="2068605">flagNoScan</span><span class="op" id="2068615">|</span><span class="ident" id="2068616">flagNoZero</span><span class="op" id="2068626">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2068630">(</span><span class="op" id="2068631">*</span><span class="ident" id="2068632">stringStruct</span><span class="op" id="2068644">)</span><span class="op" id="2068645">(</span><span class="ident" id="2068646">unsafe</span><span class="op" id="2068652">.</span><span class="ident" id="2068653">Pointer</span><span class="op" id="2068660">(</span><span class="op" id="2068661">&amp;</span><span class="ident" id="2068662">s</span><span class="op" id="2068663">)</span><span class="op" id="2068664">)</span><span class="op" id="2068665">.</span><span class="ident" id="2068666">str</span>&nbsp;<span class="op" id="2068670">=</span>&nbsp;<span class="ident" id="2068672">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2068675">(</span><span class="op" id="2068676">*</span><span class="ident" id="2068677">stringStruct</span><span class="op" id="2068689">)</span><span class="op" id="2068690">(</span><span class="ident" id="2068691">unsafe</span><span class="op" id="2068697">.</span><span class="ident" id="2068698">Pointer</span><span class="op" id="2068705">(</span><span class="op" id="2068706">&amp;</span><span class="ident" id="2068707">s</span><span class="op" id="2068708">)</span><span class="op" id="2068709">)</span><span class="op" id="2068710">.</span><span class="builtinfunc" id="2068711">len</span>&nbsp;<span class="op" id="2068715">=</span>&nbsp;<span class="ident" id="2068717">size</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2068724">(</span><span class="op" id="2068725">*</span><span class="ident" id="2068726">slice</span><span class="op" id="2068731">)</span><span class="op" id="2068732">(</span><span class="ident" id="2068733">unsafe</span><span class="op" id="2068739">.</span><span class="ident" id="2068740">Pointer</span><span class="op" id="2068747">(</span><span class="op" id="2068748">&amp;</span><span class="ident" id="2068749">b</span><span class="op" id="2068750">)</span><span class="op" id="2068751">)</span><span class="op" id="2068752">.</span><span class="ident" id="2068753">array</span>&nbsp;<span class="op" id="2068759">=</span>&nbsp;<span class="op" id="2068761">(</span><span class="op" id="2068762">*</span><span class="builtintype" id="2068763">uint8</span><span class="op" id="2068768">)</span><span class="op" id="2068769">(</span><span class="ident" id="2068770">p</span><span class="op" id="2068771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2068774">(</span><span class="op" id="2068775">*</span><span class="ident" id="2068776">slice</span><span class="op" id="2068781">)</span><span class="op" id="2068782">(</span><span class="ident" id="2068783">unsafe</span><span class="op" id="2068789">.</span><span class="ident" id="2068790">Pointer</span><span class="op" id="2068797">(</span><span class="op" id="2068798">&amp;</span><span class="ident" id="2068799">b</span><span class="op" id="2068800">)</span><span class="op" id="2068801">)</span><span class="op" id="2068802">.</span><span class="builtinfunc" id="2068803">len</span>&nbsp;<span class="op" id="2068807">=</span>&nbsp;<span class="builtintype" id="2068809">uint</span><span class="op" id="2068813">(</span><span class="ident" id="2068814">size</span><span class="op" id="2068818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2068821">(</span><span class="op" id="2068822">*</span><span class="ident" id="2068823">slice</span><span class="op" id="2068828">)</span><span class="op" id="2068829">(</span><span class="ident" id="2068830">unsafe</span><span class="op" id="2068836">.</span><span class="ident" id="2068837">Pointer</span><span class="op" id="2068844">(</span><span class="op" id="2068845">&amp;</span><span class="ident" id="2068846">b</span><span class="op" id="2068847">)</span><span class="op" id="2068848">)</span><span class="op" id="2068849">.</span><span class="builtinfunc" id="2068850">cap</span>&nbsp;<span class="op" id="2068854">=</span>&nbsp;<span class="builtintype" id="2068856">uint</span><span class="op" id="2068860">(</span><span class="ident" id="2068861">size</span><span class="op" id="2068865">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2068869">for</span>&nbsp;<span class="op" id="2068873">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2068877">ms</span>&nbsp;<span class="op" id="2068880">:=</span>&nbsp;<span class="ident" id="2068883">maxstring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2068895">if</span>&nbsp;<span class="builtintype" id="2068898">uintptr</span><span class="op" id="2068905">(</span><span class="ident" id="2068906">size</span><span class="op" id="2068910">)</span>&nbsp;<span class="op" id="2068912">&lt;=</span>&nbsp;<span class="builtintype" id="2068915">uintptr</span><span class="op" id="2068922">(</span><span class="ident" id="2068923">ms</span><span class="op" id="2068925">)</span>&nbsp;<span class="op" id="2068927">||</span>&nbsp;<span class="ident" id="2068930">casuintptr</span><span class="op" id="2068940">(</span><span class="op" id="2068941">(</span><span class="op" id="2068942">*</span><span class="builtintype" id="2068943">uintptr</span><span class="op" id="2068950">)</span><span class="op" id="2068951">(</span><span class="ident" id="2068952">unsafe</span><span class="op" id="2068958">.</span><span class="ident" id="2068959">Pointer</span><span class="op" id="2068966">(</span><span class="op" id="2068967">&amp;</span><span class="ident" id="2068968">maxstring</span><span class="op" id="2068977">)</span><span class="op" id="2068978">)</span><span class="op" id="2068979">,</span>&nbsp;<span class="builtintype" id="2068981">uintptr</span><span class="op" id="2068988">(</span><span class="ident" id="2068989">ms</span><span class="op" id="2068991">)</span><span class="op" id="2068992">,</span>&nbsp;<span class="builtintype" id="2068994">uintptr</span><span class="op" id="2069001">(</span><span class="ident" id="2069002">size</span><span class="op" id="2069006">)</span><span class="op" id="2069007">)</span>&nbsp;<span class="op" id="2069009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2069014">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069026">}</span><br>
<span class="lineno">210</span><span class="op" id="2069028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2069031">//&nbsp;rawbyteslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice.&nbsp;The&nbsp;byte&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="2069105">func</span>&nbsp;<span class="ident" id="2069110">rawbyteslice</span><span class="op" id="2069122">(</span><span class="ident" id="2069123">size</span>&nbsp;<span class="builtintype" id="2069128">int</span><span class="op" id="2069131">)</span>&nbsp;<span class="op" id="2069133">(</span><span class="ident" id="2069134">b</span>&nbsp;<span class="op" id="2069136">[</span><span class="op" id="2069137">]</span><span class="builtintype" id="2069138">byte</span><span class="op" id="2069142">)</span>&nbsp;<span class="op" id="2069144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2069147">cap</span>&nbsp;<span class="op" id="2069151">:=</span>&nbsp;<span class="ident" id="2069154">goroundupsize</span><span class="op" id="2069167">(</span><span class="builtintype" id="2069168">uintptr</span><span class="op" id="2069175">(</span><span class="ident" id="2069176">size</span><span class="op" id="2069180">)</span><span class="op" id="2069181">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2069184">p</span>&nbsp;<span class="op" id="2069186">:=</span>&nbsp;<span class="ident" id="2069189">mallocgc</span><span class="op" id="2069197">(</span><span class="builtinfunc" id="2069198">cap</span><span class="op" id="2069201">,</span>&nbsp;<span class="ident" id="2069203">nil</span><span class="op" id="2069206">,</span>&nbsp;<span class="ident" id="2069208">flagNoScan</span><span class="op" id="2069218">|</span><span class="ident" id="2069219">flagNoZero</span><span class="op" id="2069229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2069232">if</span>&nbsp;<span class="builtinfunc" id="2069235">cap</span>&nbsp;<span class="op" id="2069239">!=</span>&nbsp;<span class="builtintype" id="2069242">uintptr</span><span class="op" id="2069249">(</span><span class="ident" id="2069250">size</span><span class="op" id="2069254">)</span>&nbsp;<span class="op" id="2069256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2069260">memclr</span><span class="op" id="2069266">(</span><span class="ident" id="2069267">add</span><span class="op" id="2069270">(</span><span class="ident" id="2069271">p</span><span class="op" id="2069272">,</span>&nbsp;<span class="builtintype" id="2069274">uintptr</span><span class="op" id="2069281">(</span><span class="ident" id="2069282">size</span><span class="op" id="2069286">)</span><span class="op" id="2069287">)</span><span class="op" id="2069288">,</span>&nbsp;<span class="builtinfunc" id="2069290">cap</span><span class="op" id="2069293">-</span><span class="builtintype" id="2069294">uintptr</span><span class="op" id="2069301">(</span><span class="ident" id="2069302">size</span><span class="op" id="2069306">)</span><span class="op" id="2069307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069314">(</span><span class="op" id="2069315">*</span><span class="ident" id="2069316">slice</span><span class="op" id="2069321">)</span><span class="op" id="2069322">(</span><span class="ident" id="2069323">unsafe</span><span class="op" id="2069329">.</span><span class="ident" id="2069330">Pointer</span><span class="op" id="2069337">(</span><span class="op" id="2069338">&amp;</span><span class="ident" id="2069339">b</span><span class="op" id="2069340">)</span><span class="op" id="2069341">)</span><span class="op" id="2069342">.</span><span class="ident" id="2069343">array</span>&nbsp;<span class="op" id="2069349">=</span>&nbsp;<span class="op" id="2069351">(</span><span class="op" id="2069352">*</span><span class="builtintype" id="2069353">uint8</span><span class="op" id="2069358">)</span><span class="op" id="2069359">(</span><span class="ident" id="2069360">p</span><span class="op" id="2069361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069364">(</span><span class="op" id="2069365">*</span><span class="ident" id="2069366">slice</span><span class="op" id="2069371">)</span><span class="op" id="2069372">(</span><span class="ident" id="2069373">unsafe</span><span class="op" id="2069379">.</span><span class="ident" id="2069380">Pointer</span><span class="op" id="2069387">(</span><span class="op" id="2069388">&amp;</span><span class="ident" id="2069389">b</span><span class="op" id="2069390">)</span><span class="op" id="2069391">)</span><span class="op" id="2069392">.</span><span class="builtinfunc" id="2069393">len</span>&nbsp;<span class="op" id="2069397">=</span>&nbsp;<span class="builtintype" id="2069399">uint</span><span class="op" id="2069403">(</span><span class="ident" id="2069404">size</span><span class="op" id="2069408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069411">(</span><span class="op" id="2069412">*</span><span class="ident" id="2069413">slice</span><span class="op" id="2069418">)</span><span class="op" id="2069419">(</span><span class="ident" id="2069420">unsafe</span><span class="op" id="2069426">.</span><span class="ident" id="2069427">Pointer</span><span class="op" id="2069434">(</span><span class="op" id="2069435">&amp;</span><span class="ident" id="2069436">b</span><span class="op" id="2069437">)</span><span class="op" id="2069438">)</span><span class="op" id="2069439">.</span><span class="builtinfunc" id="2069440">cap</span>&nbsp;<span class="op" id="2069444">=</span>&nbsp;<span class="builtintype" id="2069446">uint</span><span class="op" id="2069450">(</span><span class="builtinfunc" id="2069451">cap</span><span class="op" id="2069454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2069457">return</span><br>
<span class="lineno"></span><span class="op" id="2069464">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="2069467">//&nbsp;rawruneslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;rune&nbsp;slice.&nbsp;The&nbsp;rune&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="2069541">func</span>&nbsp;<span class="ident" id="2069546">rawruneslice</span><span class="op" id="2069558">(</span><span class="ident" id="2069559">size</span>&nbsp;<span class="builtintype" id="2069564">int</span><span class="op" id="2069567">)</span>&nbsp;<span class="op" id="2069569">(</span><span class="ident" id="2069570">b</span>&nbsp;<span class="op" id="2069572">[</span><span class="op" id="2069573">]</span><span class="builtintype" id="2069574">rune</span><span class="op" id="2069578">)</span>&nbsp;<span class="op" id="2069580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2069583">if</span>&nbsp;<span class="builtintype" id="2069586">uintptr</span><span class="op" id="2069593">(</span><span class="ident" id="2069594">size</span><span class="op" id="2069598">)</span>&nbsp;<span class="op" id="2069600">&gt;</span>&nbsp;<span class="ident" id="2069602">maxmem</span><span class="op" id="2069608">/</span><span class="num" id="2069609">4</span>&nbsp;<span class="op" id="2069611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2069615">gothrow</span><span class="op" id="2069622">(</span><span class="string" id="2069623">&#34;out&nbsp;of&nbsp;memory&#34;</span><span class="op" id="2069638">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2069644">mem</span>&nbsp;<span class="op" id="2069648">:=</span>&nbsp;<span class="ident" id="2069651">goroundupsize</span><span class="op" id="2069664">(</span><span class="builtintype" id="2069665">uintptr</span><span class="op" id="2069672">(</span><span class="ident" id="2069673">size</span><span class="op" id="2069677">)</span>&nbsp;<span class="op" id="2069679">*</span>&nbsp;<span class="num" id="2069681">4</span><span class="op" id="2069682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2069685">p</span>&nbsp;<span class="op" id="2069687">:=</span>&nbsp;<span class="ident" id="2069690">mallocgc</span><span class="op" id="2069698">(</span><span class="ident" id="2069699">mem</span><span class="op" id="2069702">,</span>&nbsp;<span class="ident" id="2069704">nil</span><span class="op" id="2069707">,</span>&nbsp;<span class="ident" id="2069709">flagNoScan</span><span class="op" id="2069719">|</span><span class="ident" id="2069720">flagNoZero</span><span class="op" id="2069730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2069733">if</span>&nbsp;<span class="ident" id="2069736">mem</span>&nbsp;<span class="op" id="2069740">!=</span>&nbsp;<span class="builtintype" id="2069743">uintptr</span><span class="op" id="2069750">(</span><span class="ident" id="2069751">size</span><span class="op" id="2069755">)</span><span class="op" id="2069756">*</span><span class="num" id="2069757">4</span>&nbsp;<span class="op" id="2069759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2069763">memclr</span><span class="op" id="2069769">(</span><span class="ident" id="2069770">add</span><span class="op" id="2069773">(</span><span class="ident" id="2069774">p</span><span class="op" id="2069775">,</span>&nbsp;<span class="builtintype" id="2069777">uintptr</span><span class="op" id="2069784">(</span><span class="ident" id="2069785">size</span><span class="op" id="2069789">)</span><span class="op" id="2069790">*</span><span class="num" id="2069791">4</span><span class="op" id="2069792">)</span><span class="op" id="2069793">,</span>&nbsp;<span class="ident" id="2069795">mem</span><span class="op" id="2069798">-</span><span class="builtintype" id="2069799">uintptr</span><span class="op" id="2069806">(</span><span class="ident" id="2069807">size</span><span class="op" id="2069811">)</span><span class="op" id="2069812">*</span><span class="num" id="2069813">4</span><span class="op" id="2069814">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069821">(</span><span class="op" id="2069822">*</span><span class="ident" id="2069823">slice</span><span class="op" id="2069828">)</span><span class="op" id="2069829">(</span><span class="ident" id="2069830">unsafe</span><span class="op" id="2069836">.</span><span class="ident" id="2069837">Pointer</span><span class="op" id="2069844">(</span><span class="op" id="2069845">&amp;</span><span class="ident" id="2069846">b</span><span class="op" id="2069847">)</span><span class="op" id="2069848">)</span><span class="op" id="2069849">.</span><span class="ident" id="2069850">array</span>&nbsp;<span class="op" id="2069856">=</span>&nbsp;<span class="op" id="2069858">(</span><span class="op" id="2069859">*</span><span class="builtintype" id="2069860">uint8</span><span class="op" id="2069865">)</span><span class="op" id="2069866">(</span><span class="ident" id="2069867">p</span><span class="op" id="2069868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069871">(</span><span class="op" id="2069872">*</span><span class="ident" id="2069873">slice</span><span class="op" id="2069878">)</span><span class="op" id="2069879">(</span><span class="ident" id="2069880">unsafe</span><span class="op" id="2069886">.</span><span class="ident" id="2069887">Pointer</span><span class="op" id="2069894">(</span><span class="op" id="2069895">&amp;</span><span class="ident" id="2069896">b</span><span class="op" id="2069897">)</span><span class="op" id="2069898">)</span><span class="op" id="2069899">.</span><span class="builtinfunc" id="2069900">len</span>&nbsp;<span class="op" id="2069904">=</span>&nbsp;<span class="builtintype" id="2069906">uint</span><span class="op" id="2069910">(</span><span class="ident" id="2069911">size</span><span class="op" id="2069915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2069918">(</span><span class="op" id="2069919">*</span><span class="ident" id="2069920">slice</span><span class="op" id="2069925">)</span><span class="op" id="2069926">(</span><span class="ident" id="2069927">unsafe</span><span class="op" id="2069933">.</span><span class="ident" id="2069934">Pointer</span><span class="op" id="2069941">(</span><span class="op" id="2069942">&amp;</span><span class="ident" id="2069943">b</span><span class="op" id="2069944">)</span><span class="op" id="2069945">)</span><span class="op" id="2069946">.</span><span class="builtinfunc" id="2069947">cap</span>&nbsp;<span class="op" id="2069951">=</span>&nbsp;<span class="builtintype" id="2069953">uint</span><span class="op" id="2069957">(</span><span class="ident" id="2069958">mem</span>&nbsp;<span class="op" id="2069962">/</span>&nbsp;<span class="num" id="2069964">4</span><span class="op" id="2069965">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2069968">return</span><br>
<span class="lineno"></span><span class="op" id="2069975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2069978">//&nbsp;used&nbsp;by&nbsp;cmd/cgo</span><br>
<span class="lineno"></span><span class="keyword" id="2069997">func</span>&nbsp;<span class="ident" id="2070002">gobytes</span><span class="op" id="2070009">(</span><span class="ident" id="2070010">p</span>&nbsp;<span class="op" id="2070012">*</span><span class="builtintype" id="2070013">byte</span><span class="op" id="2070017">,</span>&nbsp;<span class="ident" id="2070019">n</span>&nbsp;<span class="builtintype" id="2070021">int</span><span class="op" id="2070024">)</span>&nbsp;<span class="op" id="2070026">[</span><span class="op" id="2070027">]</span><span class="builtintype" id="2070028">byte</span>&nbsp;<span class="op" id="2070033">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070036">if</span>&nbsp;<span class="ident" id="2070039">n</span>&nbsp;<span class="op" id="2070041">==</span>&nbsp;<span class="num" id="2070044">0</span>&nbsp;<span class="op" id="2070046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070050">return</span>&nbsp;<span class="builtinfunc" id="2070057">make</span><span class="op" id="2070061">(</span><span class="op" id="2070062">[</span><span class="op" id="2070063">]</span><span class="builtintype" id="2070064">byte</span><span class="op" id="2070068">,</span>&nbsp;<span class="num" id="2070070">0</span><span class="op" id="2070071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2070074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2070077">x</span>&nbsp;<span class="op" id="2070079">:=</span>&nbsp;<span class="builtinfunc" id="2070082">make</span><span class="op" id="2070086">(</span><span class="op" id="2070087">[</span><span class="op" id="2070088">]</span><span class="builtintype" id="2070089">byte</span><span class="op" id="2070093">,</span>&nbsp;<span class="ident" id="2070095">n</span><span class="op" id="2070096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2070099">memmove</span><span class="op" id="2070106">(</span><span class="ident" id="2070107">unsafe</span><span class="op" id="2070113">.</span><span class="ident" id="2070114">Pointer</span><span class="op" id="2070121">(</span><span class="op" id="2070122">&amp;</span><span class="ident" id="2070123">x</span><span class="op" id="2070124">[</span><span class="num" id="2070125">0</span><span class="op" id="2070126">]</span><span class="op" id="2070127">)</span><span class="op" id="2070128">,</span>&nbsp;<span class="ident" id="2070130">unsafe</span><span class="op" id="2070136">.</span><span class="ident" id="2070137">Pointer</span><span class="op" id="2070144">(</span><span class="ident" id="2070145">p</span><span class="op" id="2070146">)</span><span class="op" id="2070147">,</span>&nbsp;<span class="builtintype" id="2070149">uintptr</span><span class="op" id="2070156">(</span><span class="ident" id="2070157">n</span><span class="op" id="2070158">)</span><span class="op" id="2070159">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070162">return</span>&nbsp;<span class="ident" id="2070169">x</span><br>
<span class="lineno"></span><span class="op" id="2070171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2070174">func</span>&nbsp;<span class="ident" id="2070179">gostringsize</span><span class="op" id="2070191">(</span><span class="ident" id="2070192">n</span>&nbsp;<span class="builtintype" id="2070194">int</span><span class="op" id="2070197">)</span>&nbsp;<span class="builtintype" id="2070199">string</span>&nbsp;<span class="op" id="2070206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2070209">s</span><span class="op" id="2070210">,</span>&nbsp;<span class="ident" id="2070212">_</span>&nbsp;<span class="op" id="2070214">:=</span>&nbsp;<span class="ident" id="2070217">rawstring</span><span class="op" id="2070226">(</span><span class="ident" id="2070227">n</span><span class="op" id="2070228">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070231">return</span>&nbsp;<span class="ident" id="2070238">s</span><br>
<span class="lineno"></span><span class="op" id="2070240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2070243">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="2070257">func</span>&nbsp;<span class="ident" id="2070262">findnull</span><span class="op" id="2070270">(</span><span class="op" id="2070271">*</span><span class="builtintype" id="2070272">byte</span><span class="op" id="2070276">)</span>&nbsp;<span class="builtintype" id="2070278">int</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="2070283">func</span>&nbsp;<span class="ident" id="2070288">gostring</span><span class="op" id="2070296">(</span><span class="ident" id="2070297">p</span>&nbsp;<span class="op" id="2070299">*</span><span class="builtintype" id="2070300">byte</span><span class="op" id="2070304">)</span>&nbsp;<span class="builtintype" id="2070306">string</span>&nbsp;<span class="op" id="2070313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2070316">l</span>&nbsp;<span class="op" id="2070318">:=</span>&nbsp;<span class="ident" id="2070321">findnull</span><span class="op" id="2070329">(</span><span class="ident" id="2070330">p</span><span class="op" id="2070331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070334">if</span>&nbsp;<span class="ident" id="2070337">l</span>&nbsp;<span class="op" id="2070339">==</span>&nbsp;<span class="num" id="2070342">0</span>&nbsp;<span class="op" id="2070344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070348">return</span>&nbsp;<span class="string" id="2070355">&#34;&#34;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2070359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2070362">s</span><span class="op" id="2070363">,</span>&nbsp;<span class="ident" id="2070365">b</span>&nbsp;<span class="op" id="2070367">:=</span>&nbsp;<span class="ident" id="2070370">rawstring</span><span class="op" id="2070379">(</span><span class="ident" id="2070380">l</span><span class="op" id="2070381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2070384">memmove</span><span class="op" id="2070391">(</span><span class="ident" id="2070392">unsafe</span><span class="op" id="2070398">.</span><span class="ident" id="2070399">Pointer</span><span class="op" id="2070406">(</span><span class="op" id="2070407">&amp;</span><span class="ident" id="2070408">b</span><span class="op" id="2070409">[</span><span class="num" id="2070410">0</span><span class="op" id="2070411">]</span><span class="op" id="2070412">)</span><span class="op" id="2070413">,</span>&nbsp;<span class="ident" id="2070415">unsafe</span><span class="op" id="2070421">.</span><span class="ident" id="2070422">Pointer</span><span class="op" id="2070429">(</span><span class="ident" id="2070430">p</span><span class="op" id="2070431">)</span><span class="op" id="2070432">,</span>&nbsp;<span class="builtintype" id="2070434">uintptr</span><span class="op" id="2070441">(</span><span class="ident" id="2070442">l</span><span class="op" id="2070443">)</span><span class="op" id="2070444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070447">return</span>&nbsp;<span class="ident" id="2070454">s</span><br>
<span class="lineno"></span><span class="op" id="2070456">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="2070459">func</span>&nbsp;<span class="ident" id="2070464">gostringn</span><span class="op" id="2070473">(</span><span class="ident" id="2070474">p</span>&nbsp;<span class="op" id="2070476">*</span><span class="builtintype" id="2070477">byte</span><span class="op" id="2070481">,</span>&nbsp;<span class="ident" id="2070483">l</span>&nbsp;<span class="builtintype" id="2070485">int</span><span class="op" id="2070488">)</span>&nbsp;<span class="builtintype" id="2070490">string</span>&nbsp;<span class="op" id="2070497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070500">if</span>&nbsp;<span class="ident" id="2070503">l</span>&nbsp;<span class="op" id="2070505">==</span>&nbsp;<span class="num" id="2070508">0</span>&nbsp;<span class="op" id="2070510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070514">return</span>&nbsp;<span class="string" id="2070521">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2070525">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2070528">s</span><span class="op" id="2070529">,</span>&nbsp;<span class="ident" id="2070531">b</span>&nbsp;<span class="op" id="2070533">:=</span>&nbsp;<span class="ident" id="2070536">rawstring</span><span class="op" id="2070545">(</span><span class="ident" id="2070546">l</span><span class="op" id="2070547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2070550">memmove</span><span class="op" id="2070557">(</span><span class="ident" id="2070558">unsafe</span><span class="op" id="2070564">.</span><span class="ident" id="2070565">Pointer</span><span class="op" id="2070572">(</span><span class="op" id="2070573">&amp;</span><span class="ident" id="2070574">b</span><span class="op" id="2070575">[</span><span class="num" id="2070576">0</span><span class="op" id="2070577">]</span><span class="op" id="2070578">)</span><span class="op" id="2070579">,</span>&nbsp;<span class="ident" id="2070581">unsafe</span><span class="op" id="2070587">.</span><span class="ident" id="2070588">Pointer</span><span class="op" id="2070595">(</span><span class="ident" id="2070596">p</span><span class="op" id="2070597">)</span><span class="op" id="2070598">,</span>&nbsp;<span class="builtintype" id="2070600">uintptr</span><span class="op" id="2070607">(</span><span class="ident" id="2070608">l</span><span class="op" id="2070609">)</span><span class="op" id="2070610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070613">return</span>&nbsp;<span class="ident" id="2070620">s</span><br>
<span class="lineno"></span><span class="op" id="2070622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="2070625">func</span>&nbsp;<span class="ident" id="2070630">index</span><span class="op" id="2070635">(</span><span class="ident" id="2070636">s</span><span class="op" id="2070637">,</span>&nbsp;<span class="ident" id="2070639">t</span>&nbsp;<span class="builtintype" id="2070641">string</span><span class="op" id="2070647">)</span>&nbsp;<span class="builtintype" id="2070649">int</span>&nbsp;<span class="op" id="2070653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070656">if</span>&nbsp;<span class="builtinfunc" id="2070659">len</span><span class="op" id="2070662">(</span><span class="ident" id="2070663">t</span><span class="op" id="2070664">)</span>&nbsp;<span class="op" id="2070666">==</span>&nbsp;<span class="num" id="2070669">0</span>&nbsp;<span class="op" id="2070671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070675">return</span>&nbsp;<span class="num" id="2070682">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2070685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070688">for</span>&nbsp;<span class="ident" id="2070692">i</span>&nbsp;<span class="op" id="2070694">:=</span>&nbsp;<span class="num" id="2070697">0</span><span class="op" id="2070698">;</span>&nbsp;<span class="ident" id="2070700">i</span>&nbsp;<span class="op" id="2070702">&lt;</span>&nbsp;<span class="builtinfunc" id="2070704">len</span><span class="op" id="2070707">(</span><span class="ident" id="2070708">s</span><span class="op" id="2070709">)</span><span class="op" id="2070710">;</span>&nbsp;<span class="ident" id="2070712">i</span><span class="op" id="2070713">++</span>&nbsp;<span class="op" id="2070716">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070720">if</span>&nbsp;<span class="ident" id="2070723">s</span><span class="op" id="2070724">[</span><span class="ident" id="2070725">i</span><span class="op" id="2070726">]</span>&nbsp;<span class="op" id="2070728">==</span>&nbsp;<span class="ident" id="2070731">t</span><span class="op" id="2070732">[</span><span class="num" id="2070733">0</span><span class="op" id="2070734">]</span>&nbsp;<span class="op" id="2070736">&amp;&amp;</span>&nbsp;<span class="ident" id="2070739">hasprefix</span><span class="op" id="2070748">(</span><span class="ident" id="2070749">s</span><span class="op" id="2070750">[</span><span class="ident" id="2070751">i</span><span class="op" id="2070752">:</span><span class="op" id="2070753">]</span><span class="op" id="2070754">,</span>&nbsp;<span class="ident" id="2070756">t</span><span class="op" id="2070757">)</span>&nbsp;<span class="op" id="2070759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070764">return</span>&nbsp;<span class="ident" id="2070771">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2070775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2070778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070781">return</span>&nbsp;<span class="op" id="2070788">-</span><span class="num" id="2070789">1</span><br>
<span class="lineno">290</span><span class="op" id="2070791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2070794">func</span>&nbsp;<span class="ident" id="2070799">contains</span><span class="op" id="2070807">(</span><span class="ident" id="2070808">s</span><span class="op" id="2070809">,</span>&nbsp;<span class="ident" id="2070811">t</span>&nbsp;<span class="builtintype" id="2070813">string</span><span class="op" id="2070819">)</span>&nbsp;<span class="builtintype" id="2070821">bool</span>&nbsp;<span class="op" id="2070826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070829">return</span>&nbsp;<span class="ident" id="2070836">index</span><span class="op" id="2070841">(</span><span class="ident" id="2070842">s</span><span class="op" id="2070843">,</span>&nbsp;<span class="ident" id="2070845">t</span><span class="op" id="2070846">)</span>&nbsp;<span class="op" id="2070848">&gt;=</span>&nbsp;<span class="num" id="2070851">0</span><br>
<span class="lineno"></span><span class="op" id="2070853">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="2070856">func</span>&nbsp;<span class="ident" id="2070861">hasprefix</span><span class="op" id="2070870">(</span><span class="ident" id="2070871">s</span><span class="op" id="2070872">,</span>&nbsp;<span class="ident" id="2070874">t</span>&nbsp;<span class="builtintype" id="2070876">string</span><span class="op" id="2070882">)</span>&nbsp;<span class="builtintype" id="2070884">bool</span>&nbsp;<span class="op" id="2070889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2070892">return</span>&nbsp;<span class="builtinfunc" id="2070899">len</span><span class="op" id="2070902">(</span><span class="ident" id="2070903">s</span><span class="op" id="2070904">)</span>&nbsp;<span class="op" id="2070906">&gt;=</span>&nbsp;<span class="builtinfunc" id="2070909">len</span><span class="op" id="2070912">(</span><span class="ident" id="2070913">t</span><span class="op" id="2070914">)</span>&nbsp;<span class="op" id="2070916">&amp;&amp;</span>&nbsp;<span class="ident" id="2070919">s</span><span class="op" id="2070920">[</span><span class="op" id="2070921">:</span><span class="builtinfunc" id="2070922">len</span><span class="op" id="2070925">(</span><span class="ident" id="2070926">t</span><span class="op" id="2070927">)</span><span class="op" id="2070928">]</span>&nbsp;<span class="op" id="2070930">==</span>&nbsp;<span class="ident" id="2070933">t</span><br>
<span class="lineno"></span><span class="op" id="2070935">}</span>
</div>
</body>
</html>
