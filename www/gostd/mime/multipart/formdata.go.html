<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5233146">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5233201">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5233255">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5233306">package</span>&nbsp;<span class="ident" id="5233314">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5233325">import</span>&nbsp;<span class="op" id="5233332">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5233335">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5233344">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5233354">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5233360">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5233373">&#34;net/textproto&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5233390">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="5233395">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="5233398">//&nbsp;TODO(adg,bradfitz):&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;unify&nbsp;the&nbsp;DoS-prevention&nbsp;strategy&nbsp;here</span><br>
<span class="lineno"></span><span class="comment" id="5233474">//&nbsp;with&nbsp;that&nbsp;of&nbsp;the&nbsp;http&nbsp;package&#39;s&nbsp;ParseForm.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5233521">//&nbsp;ReadForm&nbsp;parses&nbsp;an&nbsp;entire&nbsp;multipart&nbsp;message&nbsp;whose&nbsp;parts&nbsp;have</span><br>
<span class="lineno">20</span><span class="comment" id="5233585">//&nbsp;a&nbsp;Content-Disposition&nbsp;of&nbsp;&#34;form-data&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="5233626">//&nbsp;It&nbsp;stores&nbsp;up&nbsp;to&nbsp;maxMemory&nbsp;bytes&nbsp;of&nbsp;the&nbsp;file&nbsp;parts&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="5233689">//&nbsp;and&nbsp;the&nbsp;remainder&nbsp;on&nbsp;disk&nbsp;in&nbsp;temporary&nbsp;files.</span><br>
<span class="lineno"></span><span class="keyword" id="5233738">func</span>&nbsp;<span class="op" id="5233743">(</span><span class="ident" id="5233744">r</span>&nbsp;<span class="op" id="5233746">*</span><span class="ident" id="5233747">Reader</span><span class="op" id="5233753">)</span>&nbsp;<span class="ident" id="5233755">ReadForm</span><span class="op" id="5233763">(</span><span class="ident" id="5233764">maxMemory</span>&nbsp;<span class="ident" id="5233774">int64</span><span class="op" id="5233779">)</span>&nbsp;<span class="op" id="5233781">(</span><span class="ident" id="5233782">f</span>&nbsp;<span class="op" id="5233784">*</span><span class="ident" id="5233785">Form</span><span class="op" id="5233789">,</span>&nbsp;<span class="ident" id="5233791">err</span>&nbsp;<span class="builtintype" id="5233795">error</span><span class="op" id="5233800">)</span>&nbsp;<span class="op" id="5233802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5233805">form</span>&nbsp;<span class="op" id="5233810">:=</span>&nbsp;<span class="op" id="5233813">&amp;</span><span class="ident" id="5233814">Form</span><span class="op" id="5233818">{</span><span class="builtinfunc" id="5233819">make</span><span class="op" id="5233823">(</span><span class="keyword" id="5233824">map</span><span class="op" id="5233827">[</span><span class="builtintype" id="5233828">string</span><span class="op" id="5233834">]</span><span class="op" id="5233835">[</span><span class="op" id="5233836">]</span><span class="builtintype" id="5233837">string</span><span class="op" id="5233843">)</span><span class="op" id="5233844">,</span>&nbsp;<span class="builtinfunc" id="5233846">make</span><span class="op" id="5233850">(</span><span class="keyword" id="5233851">map</span><span class="op" id="5233854">[</span><span class="builtintype" id="5233855">string</span><span class="op" id="5233861">]</span><span class="op" id="5233862">[</span><span class="op" id="5233863">]</span><span class="op" id="5233864">*</span><span class="ident" id="5233865">FileHeader</span><span class="op" id="5233875">)</span><span class="op" id="5233876">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5233879">defer</span>&nbsp;<span class="keyword" id="5233885">func</span><span class="op" id="5233889">(</span><span class="op" id="5233890">)</span>&nbsp;<span class="op" id="5233892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5233896">if</span>&nbsp;<span class="ident" id="5233899">err</span>&nbsp;<span class="op" id="5233903">!=</span>&nbsp;<span class="ident" id="5233906">nil</span>&nbsp;<span class="op" id="5233910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5233915">form</span><span class="op" id="5233919">.</span><span class="ident" id="5233920">RemoveAll</span><span class="op" id="5233929">(</span><span class="op" id="5233930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5233934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5233937">}</span><span class="op" id="5233938">(</span><span class="op" id="5233939">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5233943">maxValueBytes</span>&nbsp;<span class="op" id="5233957">:=</span>&nbsp;<span class="ident" id="5233960">int64</span><span class="op" id="5233965">(</span><span class="num" id="5233966">10</span>&nbsp;<span class="op" id="5233969">&lt;&lt;</span>&nbsp;<span class="num" id="5233972">20</span><span class="op" id="5233974">)</span>&nbsp;<span class="comment" id="5233976">//&nbsp;10&nbsp;MB&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;text.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234004">for</span>&nbsp;<span class="op" id="5234008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234012">p</span><span class="op" id="5234013">,</span>&nbsp;<span class="ident" id="5234015">err</span>&nbsp;<span class="op" id="5234019">:=</span>&nbsp;<span class="ident" id="5234022">r</span><span class="op" id="5234023">.</span><span class="ident" id="5234024">NextPart</span><span class="op" id="5234032">(</span><span class="op" id="5234033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234037">if</span>&nbsp;<span class="ident" id="5234040">err</span>&nbsp;<span class="op" id="5234044">==</span>&nbsp;<span class="ident" id="5234047">io</span><span class="op" id="5234049">.</span><span class="ident" id="5234050">EOF</span>&nbsp;<span class="op" id="5234054">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234059">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5234067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234071">if</span>&nbsp;<span class="ident" id="5234074">err</span>&nbsp;<span class="op" id="5234078">!=</span>&nbsp;<span class="ident" id="5234081">nil</span>&nbsp;<span class="op" id="5234085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234090">return</span>&nbsp;<span class="ident" id="5234097">nil</span><span class="op" id="5234100">,</span>&nbsp;<span class="ident" id="5234102">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5234108">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234113">name</span>&nbsp;<span class="op" id="5234118">:=</span>&nbsp;<span class="ident" id="5234121">p</span><span class="op" id="5234122">.</span><span class="ident" id="5234123">FormName</span><span class="op" id="5234131">(</span><span class="op" id="5234132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234136">if</span>&nbsp;<span class="ident" id="5234139">name</span>&nbsp;<span class="op" id="5234144">==</span>&nbsp;<span class="string" id="5234147">&#34;&#34;</span>&nbsp;<span class="op" id="5234150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234155">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5234166">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234170">filename</span>&nbsp;<span class="op" id="5234179">:=</span>&nbsp;<span class="ident" id="5234182">p</span><span class="op" id="5234183">.</span><span class="ident" id="5234184">FileName</span><span class="op" id="5234192">(</span><span class="op" id="5234193">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234198">var</span>&nbsp;<span class="ident" id="5234202">b</span>&nbsp;<span class="ident" id="5234204">bytes</span><span class="op" id="5234209">.</span><span class="ident" id="5234210">Buffer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234220">if</span>&nbsp;<span class="ident" id="5234223">filename</span>&nbsp;<span class="op" id="5234232">==</span>&nbsp;<span class="string" id="5234235">&#34;&#34;</span>&nbsp;<span class="op" id="5234238">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5234243">//&nbsp;value,&nbsp;store&nbsp;as&nbsp;string&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234282">n</span><span class="op" id="5234283">,</span>&nbsp;<span class="ident" id="5234285">err</span>&nbsp;<span class="op" id="5234289">:=</span>&nbsp;<span class="ident" id="5234292">io</span><span class="op" id="5234294">.</span><span class="ident" id="5234295">CopyN</span><span class="op" id="5234300">(</span><span class="op" id="5234301">&amp;</span><span class="ident" id="5234302">b</span><span class="op" id="5234303">,</span>&nbsp;<span class="ident" id="5234305">p</span><span class="op" id="5234306">,</span>&nbsp;<span class="ident" id="5234308">maxValueBytes</span><span class="op" id="5234321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234326">if</span>&nbsp;<span class="ident" id="5234329">err</span>&nbsp;<span class="op" id="5234333">!=</span>&nbsp;<span class="ident" id="5234336">nil</span>&nbsp;<span class="op" id="5234340">&amp;&amp;</span>&nbsp;<span class="ident" id="5234343">err</span>&nbsp;<span class="op" id="5234347">!=</span>&nbsp;<span class="ident" id="5234350">io</span><span class="op" id="5234352">.</span><span class="ident" id="5234353">EOF</span>&nbsp;<span class="op" id="5234357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234363">return</span>&nbsp;<span class="ident" id="5234370">nil</span><span class="op" id="5234373">,</span>&nbsp;<span class="ident" id="5234375">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5234382">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234387">maxValueBytes</span>&nbsp;<span class="op" id="5234401">-=</span>&nbsp;<span class="ident" id="5234404">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234409">if</span>&nbsp;<span class="ident" id="5234412">maxValueBytes</span>&nbsp;<span class="op" id="5234426">==</span>&nbsp;<span class="num" id="5234429">0</span>&nbsp;<span class="op" id="5234431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234437">return</span>&nbsp;<span class="ident" id="5234444">nil</span><span class="op" id="5234447">,</span>&nbsp;<span class="ident" id="5234449">errors</span><span class="op" id="5234455">.</span><span class="ident" id="5234456">New</span><span class="op" id="5234459">(</span><span class="string" id="5234460">&#34;multipart:&nbsp;message&nbsp;too&nbsp;large&#34;</span><span class="op" id="5234490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5234495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234500">form</span><span class="op" id="5234504">.</span><span class="ident" id="5234505">Value</span><span class="op" id="5234510">[</span><span class="ident" id="5234511">name</span><span class="op" id="5234515">]</span>&nbsp;<span class="op" id="5234517">=</span>&nbsp;<span class="builtinfunc" id="5234519">append</span><span class="op" id="5234525">(</span><span class="ident" id="5234526">form</span><span class="op" id="5234530">.</span><span class="ident" id="5234531">Value</span><span class="op" id="5234536">[</span><span class="ident" id="5234537">name</span><span class="op" id="5234541">]</span><span class="op" id="5234542">,</span>&nbsp;<span class="ident" id="5234544">b</span><span class="op" id="5234545">.</span><span class="ident" id="5234546">String</span><span class="op" id="5234552">(</span><span class="op" id="5234553">)</span><span class="op" id="5234554">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234559">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5234570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5234575">//&nbsp;file,&nbsp;store&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234613">fh</span>&nbsp;<span class="op" id="5234616">:=</span>&nbsp;<span class="op" id="5234619">&amp;</span><span class="ident" id="5234620">FileHeader</span><span class="op" id="5234630">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234635">Filename</span><span class="op" id="5234643">:</span>&nbsp;<span class="ident" id="5234645">filename</span><span class="op" id="5234653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234658">Header</span><span class="op" id="5234664">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5234668">p</span><span class="op" id="5234669">.</span><span class="ident" id="5234670">Header</span><span class="op" id="5234676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5234680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234684">n</span><span class="op" id="5234685">,</span>&nbsp;<span class="ident" id="5234687">err</span>&nbsp;<span class="op" id="5234691">:=</span>&nbsp;<span class="ident" id="5234694">io</span><span class="op" id="5234696">.</span><span class="ident" id="5234697">CopyN</span><span class="op" id="5234702">(</span><span class="op" id="5234703">&amp;</span><span class="ident" id="5234704">b</span><span class="op" id="5234705">,</span>&nbsp;<span class="ident" id="5234707">p</span><span class="op" id="5234708">,</span>&nbsp;<span class="ident" id="5234710">maxMemory</span><span class="op" id="5234719">+</span><span class="num" id="5234720">1</span><span class="op" id="5234721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234725">if</span>&nbsp;<span class="ident" id="5234728">err</span>&nbsp;<span class="op" id="5234732">!=</span>&nbsp;<span class="ident" id="5234735">nil</span>&nbsp;<span class="op" id="5234739">&amp;&amp;</span>&nbsp;<span class="ident" id="5234742">err</span>&nbsp;<span class="op" id="5234746">!=</span>&nbsp;<span class="ident" id="5234749">io</span><span class="op" id="5234751">.</span><span class="ident" id="5234752">EOF</span>&nbsp;<span class="op" id="5234756">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234761">return</span>&nbsp;<span class="ident" id="5234768">nil</span><span class="op" id="5234771">,</span>&nbsp;<span class="ident" id="5234773">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5234779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234783">if</span>&nbsp;<span class="ident" id="5234786">n</span>&nbsp;<span class="op" id="5234788">&gt;</span>&nbsp;<span class="ident" id="5234790">maxMemory</span>&nbsp;<span class="op" id="5234800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5234805">//&nbsp;too&nbsp;big,&nbsp;write&nbsp;to&nbsp;disk&nbsp;and&nbsp;flush&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234851">file</span><span class="op" id="5234855">,</span>&nbsp;<span class="ident" id="5234857">err</span>&nbsp;<span class="op" id="5234861">:=</span>&nbsp;<span class="ident" id="5234864">ioutil</span><span class="op" id="5234870">.</span><span class="ident" id="5234871">TempFile</span><span class="op" id="5234879">(</span><span class="string" id="5234880">&#34;&#34;</span><span class="op" id="5234882">,</span>&nbsp;<span class="string" id="5234884">&#34;multipart-&#34;</span><span class="op" id="5234896">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234901">if</span>&nbsp;<span class="ident" id="5234904">err</span>&nbsp;<span class="op" id="5234908">!=</span>&nbsp;<span class="ident" id="5234911">nil</span>&nbsp;<span class="op" id="5234915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234921">return</span>&nbsp;<span class="ident" id="5234928">nil</span><span class="op" id="5234931">,</span>&nbsp;<span class="ident" id="5234933">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5234940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5234945">defer</span>&nbsp;<span class="ident" id="5234951">file</span><span class="op" id="5234955">.</span><span class="ident" id="5234956">Close</span><span class="op" id="5234961">(</span><span class="op" id="5234962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5234967">_</span><span class="op" id="5234968">,</span>&nbsp;<span class="ident" id="5234970">err</span>&nbsp;<span class="op" id="5234974">=</span>&nbsp;<span class="ident" id="5234976">io</span><span class="op" id="5234978">.</span><span class="ident" id="5234979">Copy</span><span class="op" id="5234983">(</span><span class="ident" id="5234984">file</span><span class="op" id="5234988">,</span>&nbsp;<span class="ident" id="5234990">io</span><span class="op" id="5234992">.</span><span class="ident" id="5234993">MultiReader</span><span class="op" id="5235004">(</span><span class="op" id="5235005">&amp;</span><span class="ident" id="5235006">b</span><span class="op" id="5235007">,</span>&nbsp;<span class="ident" id="5235009">p</span><span class="op" id="5235010">)</span><span class="op" id="5235011">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5235016">if</span>&nbsp;<span class="ident" id="5235019">err</span>&nbsp;<span class="op" id="5235023">!=</span>&nbsp;<span class="ident" id="5235026">nil</span>&nbsp;<span class="op" id="5235030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235036">os</span><span class="op" id="5235038">.</span><span class="ident" id="5235039">Remove</span><span class="op" id="5235045">(</span><span class="ident" id="5235046">file</span><span class="op" id="5235050">.</span><span class="ident" id="5235051">Name</span><span class="op" id="5235055">(</span><span class="op" id="5235056">)</span><span class="op" id="5235057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5235063">return</span>&nbsp;<span class="ident" id="5235070">nil</span><span class="op" id="5235073">,</span>&nbsp;<span class="ident" id="5235075">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5235082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235087">fh</span><span class="op" id="5235089">.</span><span class="ident" id="5235090">tmpfile</span>&nbsp;<span class="op" id="5235098">=</span>&nbsp;<span class="ident" id="5235100">file</span><span class="op" id="5235104">.</span><span class="ident" id="5235105">Name</span><span class="op" id="5235109">(</span><span class="op" id="5235110">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5235114">}</span>&nbsp;<span class="keyword" id="5235116">else</span>&nbsp;<span class="op" id="5235121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235126">fh</span><span class="op" id="5235128">.</span><span class="ident" id="5235129">content</span>&nbsp;<span class="op" id="5235137">=</span>&nbsp;<span class="ident" id="5235139">b</span><span class="op" id="5235140">.</span><span class="ident" id="5235141">Bytes</span><span class="op" id="5235146">(</span><span class="op" id="5235147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235152">maxMemory</span>&nbsp;<span class="op" id="5235162">-=</span>&nbsp;<span class="ident" id="5235165">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5235169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235173">form</span><span class="op" id="5235177">.</span><span class="ident" id="5235178">File</span><span class="op" id="5235182">[</span><span class="ident" id="5235183">name</span><span class="op" id="5235187">]</span>&nbsp;<span class="op" id="5235189">=</span>&nbsp;<span class="builtinfunc" id="5235191">append</span><span class="op" id="5235197">(</span><span class="ident" id="5235198">form</span><span class="op" id="5235202">.</span><span class="ident" id="5235203">File</span><span class="op" id="5235207">[</span><span class="ident" id="5235208">name</span><span class="op" id="5235212">]</span><span class="op" id="5235213">,</span>&nbsp;<span class="ident" id="5235215">fh</span><span class="op" id="5235217">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5235220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5235224">return</span>&nbsp;<span class="ident" id="5235231">form</span><span class="op" id="5235235">,</span>&nbsp;<span class="ident" id="5235237">nil</span><br>
<span class="lineno"></span><span class="op" id="5235241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="5235244">//&nbsp;Form&nbsp;is&nbsp;a&nbsp;parsed&nbsp;multipart&nbsp;form.</span><br>
<span class="lineno"></span><span class="comment" id="5235280">//&nbsp;Its&nbsp;File&nbsp;parts&nbsp;are&nbsp;stored&nbsp;either&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk,</span><br>
<span class="lineno"></span><span class="comment" id="5235338">//&nbsp;and&nbsp;are&nbsp;accessible&nbsp;via&nbsp;the&nbsp;*FileHeader&#39;s&nbsp;Open&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="5235395">//&nbsp;Its&nbsp;Value&nbsp;parts&nbsp;are&nbsp;stored&nbsp;as&nbsp;strings.</span><br>
<span class="lineno"></span><span class="comment" id="5235437">//&nbsp;Both&nbsp;are&nbsp;keyed&nbsp;by&nbsp;field&nbsp;name.</span><br>
<span class="lineno">100</span><span class="keyword" id="5235470">type</span>&nbsp;<span class="ident" id="5235475">Form</span>&nbsp;<span class="keyword" id="5235480">struct</span>&nbsp;<span class="op" id="5235487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235490">Value</span>&nbsp;<span class="keyword" id="5235496">map</span><span class="op" id="5235499">[</span><span class="builtintype" id="5235500">string</span><span class="op" id="5235506">]</span><span class="op" id="5235507">[</span><span class="op" id="5235508">]</span><span class="builtintype" id="5235509">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235517">File</span>&nbsp;&nbsp;<span class="keyword" id="5235523">map</span><span class="op" id="5235526">[</span><span class="builtintype" id="5235527">string</span><span class="op" id="5235533">]</span><span class="op" id="5235534">[</span><span class="op" id="5235535">]</span><span class="op" id="5235536">*</span><span class="ident" id="5235537">FileHeader</span><br>
<span class="lineno"></span><span class="op" id="5235548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="5235551">//&nbsp;RemoveAll&nbsp;removes&nbsp;any&nbsp;temporary&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;Form.</span><br>
<span class="lineno"></span><span class="keyword" id="5235616">func</span>&nbsp;<span class="op" id="5235621">(</span><span class="ident" id="5235622">f</span>&nbsp;<span class="op" id="5235624">*</span><span class="ident" id="5235625">Form</span><span class="op" id="5235629">)</span>&nbsp;<span class="ident" id="5235631">RemoveAll</span><span class="op" id="5235640">(</span><span class="op" id="5235641">)</span>&nbsp;<span class="builtintype" id="5235643">error</span>&nbsp;<span class="op" id="5235649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5235652">var</span>&nbsp;<span class="ident" id="5235656">err</span>&nbsp;<span class="builtintype" id="5235660">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5235667">for</span>&nbsp;<span class="ident" id="5235671">_</span><span class="op" id="5235672">,</span>&nbsp;<span class="ident" id="5235674">fhs</span>&nbsp;<span class="op" id="5235678">:=</span>&nbsp;<span class="keyword" id="5235681">range</span>&nbsp;<span class="ident" id="5235687">f</span><span class="op" id="5235688">.</span><span class="ident" id="5235689">File</span>&nbsp;<span class="op" id="5235694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5235698">for</span>&nbsp;<span class="ident" id="5235702">_</span><span class="op" id="5235703">,</span>&nbsp;<span class="ident" id="5235705">fh</span>&nbsp;<span class="op" id="5235708">:=</span>&nbsp;<span class="keyword" id="5235711">range</span>&nbsp;<span class="ident" id="5235717">fhs</span>&nbsp;<span class="op" id="5235721">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5235726">if</span>&nbsp;<span class="ident" id="5235729">fh</span><span class="op" id="5235731">.</span><span class="ident" id="5235732">tmpfile</span>&nbsp;<span class="op" id="5235740">!=</span>&nbsp;<span class="string" id="5235743">&#34;&#34;</span>&nbsp;<span class="op" id="5235746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235752">e</span>&nbsp;<span class="op" id="5235754">:=</span>&nbsp;<span class="ident" id="5235757">os</span><span class="op" id="5235759">.</span><span class="ident" id="5235760">Remove</span><span class="op" id="5235766">(</span><span class="ident" id="5235767">fh</span><span class="op" id="5235769">.</span><span class="ident" id="5235770">tmpfile</span><span class="op" id="5235777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5235783">if</span>&nbsp;<span class="ident" id="5235786">e</span>&nbsp;<span class="op" id="5235788">!=</span>&nbsp;<span class="ident" id="5235791">nil</span>&nbsp;<span class="op" id="5235795">&amp;&amp;</span>&nbsp;<span class="ident" id="5235798">err</span>&nbsp;<span class="op" id="5235802">==</span>&nbsp;<span class="ident" id="5235805">nil</span>&nbsp;<span class="op" id="5235809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235816">err</span>&nbsp;<span class="op" id="5235820">=</span>&nbsp;<span class="ident" id="5235822">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5235828">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5235833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5235837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5235840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5235843">return</span>&nbsp;<span class="ident" id="5235850">err</span><br>
<span class="lineno"></span><span class="op" id="5235854">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="5235857">//&nbsp;A&nbsp;FileHeader&nbsp;describes&nbsp;a&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;request.</span><br>
<span class="lineno"></span><span class="keyword" id="5235919">type</span>&nbsp;<span class="ident" id="5235924">FileHeader</span>&nbsp;<span class="keyword" id="5235935">struct</span>&nbsp;<span class="op" id="5235942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235945">Filename</span>&nbsp;<span class="builtintype" id="5235954">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235962">Header</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5235971">textproto</span><span class="op" id="5235980">.</span><span class="ident" id="5235981">MIMEHeader</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5235994">content</span>&nbsp;<span class="op" id="5236002">[</span><span class="op" id="5236003">]</span><span class="builtintype" id="5236004">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236010">tmpfile</span>&nbsp;<span class="builtintype" id="5236018">string</span><br>
<span class="lineno"></span><span class="op" id="5236025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="5236028">//&nbsp;Open&nbsp;opens&nbsp;and&nbsp;returns&nbsp;the&nbsp;FileHeader&#39;s&nbsp;associated&nbsp;File.</span><br>
<span class="lineno"></span><span class="keyword" id="5236088">func</span>&nbsp;<span class="op" id="5236093">(</span><span class="ident" id="5236094">fh</span>&nbsp;<span class="op" id="5236097">*</span><span class="ident" id="5236098">FileHeader</span><span class="op" id="5236108">)</span>&nbsp;<span class="ident" id="5236110">Open</span><span class="op" id="5236114">(</span><span class="op" id="5236115">)</span>&nbsp;<span class="op" id="5236117">(</span><span class="ident" id="5236118">File</span><span class="op" id="5236122">,</span>&nbsp;<span class="builtintype" id="5236124">error</span><span class="op" id="5236129">)</span>&nbsp;<span class="op" id="5236131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5236134">if</span>&nbsp;<span class="ident" id="5236137">b</span>&nbsp;<span class="op" id="5236139">:=</span>&nbsp;<span class="ident" id="5236142">fh</span><span class="op" id="5236144">.</span><span class="ident" id="5236145">content</span><span class="op" id="5236152">;</span>&nbsp;<span class="ident" id="5236154">b</span>&nbsp;<span class="op" id="5236156">!=</span>&nbsp;<span class="ident" id="5236159">nil</span>&nbsp;<span class="op" id="5236163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236167">r</span>&nbsp;<span class="op" id="5236169">:=</span>&nbsp;<span class="ident" id="5236172">io</span><span class="op" id="5236174">.</span><span class="ident" id="5236175">NewSectionReader</span><span class="op" id="5236191">(</span><span class="ident" id="5236192">bytes</span><span class="op" id="5236197">.</span><span class="ident" id="5236198">NewReader</span><span class="op" id="5236207">(</span><span class="ident" id="5236208">b</span><span class="op" id="5236209">)</span><span class="op" id="5236210">,</span>&nbsp;<span class="num" id="5236212">0</span><span class="op" id="5236213">,</span>&nbsp;<span class="ident" id="5236215">int64</span><span class="op" id="5236220">(</span><span class="builtinfunc" id="5236221">len</span><span class="op" id="5236224">(</span><span class="ident" id="5236225">b</span><span class="op" id="5236226">)</span><span class="op" id="5236227">)</span><span class="op" id="5236228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5236232">return</span>&nbsp;<span class="ident" id="5236239">sectionReadCloser</span><span class="op" id="5236256">{</span><span class="ident" id="5236257">r</span><span class="op" id="5236258">}</span><span class="op" id="5236259">,</span>&nbsp;<span class="ident" id="5236261">nil</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5236266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5236269">return</span>&nbsp;<span class="ident" id="5236276">os</span><span class="op" id="5236278">.</span><span class="ident" id="5236279">Open</span><span class="op" id="5236283">(</span><span class="ident" id="5236284">fh</span><span class="op" id="5236286">.</span><span class="ident" id="5236287">tmpfile</span><span class="op" id="5236294">)</span><br>
<span class="lineno"></span><span class="op" id="5236296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5236299">//&nbsp;File&nbsp;is&nbsp;an&nbsp;interface&nbsp;to&nbsp;access&nbsp;the&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;message.</span><br>
<span class="lineno">140</span><span class="comment" id="5236371">//&nbsp;Its&nbsp;contents&nbsp;may&nbsp;be&nbsp;either&nbsp;stored&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk.</span><br>
<span class="lineno"></span><span class="comment" id="5236430">//&nbsp;If&nbsp;stored&nbsp;on&nbsp;disk,&nbsp;the&nbsp;File&#39;s&nbsp;underlying&nbsp;concrete&nbsp;type&nbsp;will&nbsp;be&nbsp;an&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="keyword" id="5236509">type</span>&nbsp;<span class="ident" id="5236514">File</span>&nbsp;<span class="keyword" id="5236519">interface</span>&nbsp;<span class="op" id="5236529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236532">io</span><span class="op" id="5236534">.</span><span class="ident" id="5236535">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236543">io</span><span class="op" id="5236545">.</span><span class="ident" id="5236546">ReaderAt</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236556">io</span><span class="op" id="5236558">.</span><span class="ident" id="5236559">Seeker</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5236567">io</span><span class="op" id="5236569">.</span><span class="ident" id="5236570">Closer</span><br>
<span class="lineno"></span><span class="op" id="5236577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5236580">//&nbsp;helper&nbsp;types&nbsp;to&nbsp;turn&nbsp;a&nbsp;[]byte&nbsp;into&nbsp;a&nbsp;File</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="5236626">type</span>&nbsp;<span class="ident" id="5236631">sectionReadCloser</span>&nbsp;<span class="keyword" id="5236649">struct</span>&nbsp;<span class="op" id="5236656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5236659">*</span><span class="ident" id="5236660">io</span><span class="op" id="5236662">.</span><span class="ident" id="5236663">SectionReader</span><br>
<span class="lineno"></span><span class="op" id="5236677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="5236680">func</span>&nbsp;<span class="op" id="5236685">(</span><span class="ident" id="5236686">rc</span>&nbsp;<span class="ident" id="5236689">sectionReadCloser</span><span class="op" id="5236706">)</span>&nbsp;<span class="ident" id="5236708">Close</span><span class="op" id="5236713">(</span><span class="op" id="5236714">)</span>&nbsp;<span class="builtintype" id="5236716">error</span>&nbsp;<span class="op" id="5236722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5236725">return</span>&nbsp;<span class="ident" id="5236732">nil</span><br>
<span class="lineno"></span><span class="op" id="5236736">}</span>
</div>
</body>
</html>
