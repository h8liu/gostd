<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1457010">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1457065">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1457119">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1457170">package</span>&nbsp;<span class="ident" id="1457178">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1457183">import</span>&nbsp;<span class="op" id="1457190">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1457193">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1457203">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1457209">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1457215">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1457226">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1457234">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="1457249">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1457252">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="1457318">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="1457355">var</span>&nbsp;<span class="op" id="1457359">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457362">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="1457379">=</span>&nbsp;<span class="op" id="1457381">[</span><span class="op" id="1457382">]</span><span class="builtintype" id="1457383">byte</span><span class="op" id="1457387">(</span><span class="string" id="1457388">&#34;,&nbsp;&#34;</span><span class="op" id="1457392">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457395">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457412">=</span>&nbsp;<span class="op" id="1457414">[</span><span class="op" id="1457415">]</span><span class="builtintype" id="1457416">byte</span><span class="op" id="1457420">(</span><span class="string" id="1457421">&#34;&lt;nil&gt;&#34;</span><span class="op" id="1457428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457431">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457448">=</span>&nbsp;<span class="op" id="1457450">[</span><span class="op" id="1457451">]</span><span class="builtintype" id="1457452">byte</span><span class="op" id="1457456">(</span><span class="string" id="1457457">&#34;(nil)&#34;</span><span class="op" id="1457464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457467">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457484">=</span>&nbsp;<span class="op" id="1457486">[</span><span class="op" id="1457487">]</span><span class="builtintype" id="1457488">byte</span><span class="op" id="1457492">(</span><span class="string" id="1457493">&#34;nil&#34;</span><span class="op" id="1457498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457501">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457518">=</span>&nbsp;<span class="op" id="1457520">[</span><span class="op" id="1457521">]</span><span class="builtintype" id="1457522">byte</span><span class="op" id="1457526">(</span><span class="string" id="1457527">&#34;map[&#34;</span><span class="op" id="1457533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457536">percentBangBytes</span>&nbsp;<span class="op" id="1457553">=</span>&nbsp;<span class="op" id="1457555">[</span><span class="op" id="1457556">]</span><span class="builtintype" id="1457557">byte</span><span class="op" id="1457561">(</span><span class="string" id="1457562">&#34;%!&#34;</span><span class="op" id="1457566">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457569">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457586">=</span>&nbsp;<span class="op" id="1457588">[</span><span class="op" id="1457589">]</span><span class="builtintype" id="1457590">byte</span><span class="op" id="1457594">(</span><span class="string" id="1457595">&#34;(MISSING)&#34;</span><span class="op" id="1457606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457609">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457626">=</span>&nbsp;<span class="op" id="1457628">[</span><span class="op" id="1457629">]</span><span class="builtintype" id="1457630">byte</span><span class="op" id="1457634">(</span><span class="string" id="1457635">&#34;(BADINDEX)&#34;</span><span class="op" id="1457647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457650">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457667">=</span>&nbsp;<span class="op" id="1457669">[</span><span class="op" id="1457670">]</span><span class="builtintype" id="1457671">byte</span><span class="op" id="1457675">(</span><span class="string" id="1457676">&#34;(PANIC=&#34;</span><span class="op" id="1457685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457688">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457705">=</span>&nbsp;<span class="op" id="1457707">[</span><span class="op" id="1457708">]</span><span class="builtintype" id="1457709">byte</span><span class="op" id="1457713">(</span><span class="string" id="1457714">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="1457725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457728">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457745">=</span>&nbsp;<span class="op" id="1457747">[</span><span class="op" id="1457748">]</span><span class="builtintype" id="1457749">byte</span><span class="op" id="1457753">(</span><span class="string" id="1457754">&#34;i)&#34;</span><span class="op" id="1457758">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457761">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457778">=</span>&nbsp;<span class="op" id="1457780">[</span><span class="op" id="1457781">]</span><span class="builtintype" id="1457782">byte</span><span class="op" id="1457786">(</span><span class="string" id="1457787">&#34;[]byte{&#34;</span><span class="op" id="1457796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457799">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457816">=</span>&nbsp;<span class="op" id="1457818">[</span><span class="op" id="1457819">]</span><span class="builtintype" id="1457820">byte</span><span class="op" id="1457824">(</span><span class="string" id="1457825">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="1457839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457842">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457859">=</span>&nbsp;<span class="op" id="1457861">[</span><span class="op" id="1457862">]</span><span class="builtintype" id="1457863">byte</span><span class="op" id="1457867">(</span><span class="string" id="1457868">&#34;%!(BADPREC)&#34;</span><span class="op" id="1457881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1457884">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1457901">=</span>&nbsp;<span class="op" id="1457903">[</span><span class="op" id="1457904">]</span><span class="builtintype" id="1457905">byte</span><span class="op" id="1457909">(</span><span class="string" id="1457910">&#34;%!(NOVERB)&#34;</span><span class="op" id="1457922">)</span><br>
<span class="lineno"></span><span class="op" id="1457924">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="1457927">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="1457994">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="1458066">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="1458127">type</span>&nbsp;<span class="ident" id="1458132">State</span>&nbsp;<span class="keyword" id="1458138">interface</span>&nbsp;<span class="op" id="1458148">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1458151">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1458225">Write</span><span class="op" id="1458230">(</span><span class="ident" id="1458231">b</span>&nbsp;<span class="op" id="1458233">[</span><span class="op" id="1458234">]</span><span class="builtintype" id="1458235">byte</span><span class="op" id="1458239">)</span>&nbsp;<span class="op" id="1458241">(</span><span class="ident" id="1458242">ret</span>&nbsp;<span class="builtintype" id="1458246">int</span><span class="op" id="1458249">,</span>&nbsp;<span class="ident" id="1458251">err</span>&nbsp;<span class="builtintype" id="1458255">error</span><span class="op" id="1458260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1458263">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1458340">Width</span><span class="op" id="1458345">(</span><span class="op" id="1458346">)</span>&nbsp;<span class="op" id="1458348">(</span><span class="ident" id="1458349">wid</span>&nbsp;<span class="builtintype" id="1458353">int</span><span class="op" id="1458356">,</span>&nbsp;<span class="ident" id="1458358">ok</span>&nbsp;<span class="builtintype" id="1458361">bool</span><span class="op" id="1458365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1458368">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1458453">Precision</span><span class="op" id="1458462">(</span><span class="op" id="1458463">)</span>&nbsp;<span class="op" id="1458465">(</span><span class="ident" id="1458466">prec</span>&nbsp;<span class="builtintype" id="1458471">int</span><span class="op" id="1458474">,</span>&nbsp;<span class="ident" id="1458476">ok</span>&nbsp;<span class="builtintype" id="1458479">bool</span><span class="op" id="1458483">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1458487">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1458551">Flag</span><span class="op" id="1458555">(</span><span class="ident" id="1458556">c</span>&nbsp;<span class="builtintype" id="1458558">int</span><span class="op" id="1458561">)</span>&nbsp;<span class="builtintype" id="1458563">bool</span><br>
<span class="lineno"></span><span class="op" id="1458568">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="1458571">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="1458648">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="1458717">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="1458744">type</span>&nbsp;<span class="ident" id="1458749">Formatter</span>&nbsp;<span class="keyword" id="1458759">interface</span>&nbsp;<span class="op" id="1458769">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1458772">Format</span><span class="op" id="1458778">(</span><span class="ident" id="1458779">f</span>&nbsp;<span class="ident" id="1458781">State</span><span class="op" id="1458786">,</span>&nbsp;<span class="ident" id="1458788">c</span>&nbsp;<span class="builtintype" id="1458790">rune</span><span class="op" id="1458794">)</span><br>
<span class="lineno"></span><span class="op" id="1458796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1458799">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="1458865">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="1458920">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="1458986">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="1459054">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="1459072">type</span>&nbsp;<span class="ident" id="1459077">Stringer</span>&nbsp;<span class="keyword" id="1459086">interface</span>&nbsp;<span class="op" id="1459096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1459099">String</span><span class="op" id="1459105">(</span><span class="op" id="1459106">)</span>&nbsp;<span class="builtintype" id="1459108">string</span><br>
<span class="lineno">65</span><span class="op" id="1459115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1459118">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="1459188">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="1459235">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="1459303">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="1459323">type</span>&nbsp;<span class="ident" id="1459328">GoStringer</span>&nbsp;<span class="keyword" id="1459339">interface</span>&nbsp;<span class="op" id="1459349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1459352">GoString</span><span class="op" id="1459360">(</span><span class="op" id="1459361">)</span>&nbsp;<span class="builtintype" id="1459363">string</span><br>
<span class="lineno"></span><span class="op" id="1459370">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="1459373">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="1459445">type</span>&nbsp;<span class="ident" id="1459450">buffer</span>&nbsp;<span class="op" id="1459457">[</span><span class="op" id="1459458">]</span><span class="builtintype" id="1459459">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1459465">func</span>&nbsp;<span class="op" id="1459470">(</span><span class="ident" id="1459471">b</span>&nbsp;<span class="op" id="1459473">*</span><span class="ident" id="1459474">buffer</span><span class="op" id="1459480">)</span>&nbsp;<span class="ident" id="1459482">Write</span><span class="op" id="1459487">(</span><span class="ident" id="1459488">p</span>&nbsp;<span class="op" id="1459490">[</span><span class="op" id="1459491">]</span><span class="builtintype" id="1459492">byte</span><span class="op" id="1459496">)</span>&nbsp;<span class="op" id="1459498">(</span><span class="ident" id="1459499">n</span>&nbsp;<span class="builtintype" id="1459501">int</span><span class="op" id="1459504">,</span>&nbsp;<span class="ident" id="1459506">err</span>&nbsp;<span class="builtintype" id="1459510">error</span><span class="op" id="1459515">)</span>&nbsp;<span class="op" id="1459517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1459520">*</span><span class="ident" id="1459521">b</span>&nbsp;<span class="op" id="1459523">=</span>&nbsp;<span class="builtinfunc" id="1459525">append</span><span class="op" id="1459531">(</span><span class="op" id="1459532">*</span><span class="ident" id="1459533">b</span><span class="op" id="1459534">,</span>&nbsp;<span class="ident" id="1459536">p</span><span class="op" id="1459537">...</span><span class="op" id="1459540">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1459543">return</span>&nbsp;<span class="builtinfunc" id="1459550">len</span><span class="op" id="1459553">(</span><span class="ident" id="1459554">p</span><span class="op" id="1459555">)</span><span class="op" id="1459556">,</span>&nbsp;<span class="ident" id="1459558">nil</span><br>
<span class="lineno"></span><span class="op" id="1459562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1459565">func</span>&nbsp;<span class="op" id="1459570">(</span><span class="ident" id="1459571">b</span>&nbsp;<span class="op" id="1459573">*</span><span class="ident" id="1459574">buffer</span><span class="op" id="1459580">)</span>&nbsp;<span class="ident" id="1459582">WriteString</span><span class="op" id="1459593">(</span><span class="ident" id="1459594">s</span>&nbsp;<span class="builtintype" id="1459596">string</span><span class="op" id="1459602">)</span>&nbsp;<span class="op" id="1459604">(</span><span class="ident" id="1459605">n</span>&nbsp;<span class="builtintype" id="1459607">int</span><span class="op" id="1459610">,</span>&nbsp;<span class="ident" id="1459612">err</span>&nbsp;<span class="builtintype" id="1459616">error</span><span class="op" id="1459621">)</span>&nbsp;<span class="op" id="1459623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1459626">*</span><span class="ident" id="1459627">b</span>&nbsp;<span class="op" id="1459629">=</span>&nbsp;<span class="builtinfunc" id="1459631">append</span><span class="op" id="1459637">(</span><span class="op" id="1459638">*</span><span class="ident" id="1459639">b</span><span class="op" id="1459640">,</span>&nbsp;<span class="ident" id="1459642">s</span><span class="op" id="1459643">...</span><span class="op" id="1459646">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1459649">return</span>&nbsp;<span class="builtinfunc" id="1459656">len</span><span class="op" id="1459659">(</span><span class="ident" id="1459660">s</span><span class="op" id="1459661">)</span><span class="op" id="1459662">,</span>&nbsp;<span class="ident" id="1459664">nil</span><br>
<span class="lineno"></span><span class="op" id="1459668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1459671">func</span>&nbsp;<span class="op" id="1459676">(</span><span class="ident" id="1459677">b</span>&nbsp;<span class="op" id="1459679">*</span><span class="ident" id="1459680">buffer</span><span class="op" id="1459686">)</span>&nbsp;<span class="ident" id="1459688">WriteByte</span><span class="op" id="1459697">(</span><span class="ident" id="1459698">c</span>&nbsp;<span class="builtintype" id="1459700">byte</span><span class="op" id="1459704">)</span>&nbsp;<span class="builtintype" id="1459706">error</span>&nbsp;<span class="op" id="1459712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1459715">*</span><span class="ident" id="1459716">b</span>&nbsp;<span class="op" id="1459718">=</span>&nbsp;<span class="builtinfunc" id="1459720">append</span><span class="op" id="1459726">(</span><span class="op" id="1459727">*</span><span class="ident" id="1459728">b</span><span class="op" id="1459729">,</span>&nbsp;<span class="ident" id="1459731">c</span><span class="op" id="1459732">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1459735">return</span>&nbsp;<span class="ident" id="1459742">nil</span><br>
<span class="lineno"></span><span class="op" id="1459746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1459749">func</span>&nbsp;<span class="op" id="1459754">(</span><span class="ident" id="1459755">bp</span>&nbsp;<span class="op" id="1459758">*</span><span class="ident" id="1459759">buffer</span><span class="op" id="1459765">)</span>&nbsp;<span class="ident" id="1459767">WriteRune</span><span class="op" id="1459776">(</span><span class="ident" id="1459777">r</span>&nbsp;<span class="builtintype" id="1459779">rune</span><span class="op" id="1459783">)</span>&nbsp;<span class="builtintype" id="1459785">error</span>&nbsp;<span class="op" id="1459791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1459794">if</span>&nbsp;<span class="ident" id="1459797">r</span>&nbsp;<span class="op" id="1459799">&lt;</span>&nbsp;<span class="ident" id="1459801">utf8</span><span class="op" id="1459805">.</span><span class="ident" id="1459806">RuneSelf</span>&nbsp;<span class="op" id="1459815">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1459819">*</span><span class="ident" id="1459820">bp</span>&nbsp;<span class="op" id="1459823">=</span>&nbsp;<span class="builtinfunc" id="1459825">append</span><span class="op" id="1459831">(</span><span class="op" id="1459832">*</span><span class="ident" id="1459833">bp</span><span class="op" id="1459835">,</span>&nbsp;<span class="builtintype" id="1459837">byte</span><span class="op" id="1459841">(</span><span class="ident" id="1459842">r</span><span class="op" id="1459843">)</span><span class="op" id="1459844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1459848">return</span>&nbsp;<span class="ident" id="1459855">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1459860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1459864">b</span>&nbsp;<span class="op" id="1459866">:=</span>&nbsp;<span class="op" id="1459869">*</span><span class="ident" id="1459870">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1459874">n</span>&nbsp;<span class="op" id="1459876">:=</span>&nbsp;<span class="builtinfunc" id="1459879">len</span><span class="op" id="1459882">(</span><span class="ident" id="1459883">b</span><span class="op" id="1459884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1459887">for</span>&nbsp;<span class="ident" id="1459891">n</span><span class="op" id="1459892">+</span><span class="ident" id="1459893">utf8</span><span class="op" id="1459897">.</span><span class="ident" id="1459898">UTFMax</span>&nbsp;<span class="op" id="1459905">&gt;</span>&nbsp;<span class="builtinfunc" id="1459907">cap</span><span class="op" id="1459910">(</span><span class="ident" id="1459911">b</span><span class="op" id="1459912">)</span>&nbsp;<span class="op" id="1459914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1459918">b</span>&nbsp;<span class="op" id="1459920">=</span>&nbsp;<span class="builtinfunc" id="1459922">append</span><span class="op" id="1459928">(</span><span class="ident" id="1459929">b</span><span class="op" id="1459930">,</span>&nbsp;<span class="num" id="1459932">0</span><span class="op" id="1459933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1459936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1459939">w</span>&nbsp;<span class="op" id="1459941">:=</span>&nbsp;<span class="ident" id="1459944">utf8</span><span class="op" id="1459948">.</span><span class="ident" id="1459949">EncodeRune</span><span class="op" id="1459959">(</span><span class="ident" id="1459960">b</span><span class="op" id="1459961">[</span><span class="ident" id="1459962">n</span><span class="op" id="1459963">:</span><span class="ident" id="1459964">n</span><span class="op" id="1459965">+</span><span class="ident" id="1459966">utf8</span><span class="op" id="1459970">.</span><span class="ident" id="1459971">UTFMax</span><span class="op" id="1459977">]</span><span class="op" id="1459978">,</span>&nbsp;<span class="ident" id="1459980">r</span><span class="op" id="1459981">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1459984">*</span><span class="ident" id="1459985">bp</span>&nbsp;<span class="op" id="1459988">=</span>&nbsp;<span class="ident" id="1459990">b</span><span class="op" id="1459991">[</span><span class="op" id="1459992">:</span><span class="ident" id="1459993">n</span><span class="op" id="1459994">+</span><span class="ident" id="1459995">w</span><span class="op" id="1459996">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1459999">return</span>&nbsp;<span class="ident" id="1460006">nil</span><br>
<span class="lineno"></span><span class="op" id="1460010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1460013">type</span>&nbsp;<span class="ident" id="1460018">pp</span>&nbsp;<span class="keyword" id="1460021">struct</span>&nbsp;<span class="op" id="1460028">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460031">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1460041">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460046">panicking</span>&nbsp;<span class="builtintype" id="1460056">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460062">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="1460072">bool</span>&nbsp;<span class="comment" id="1460077">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460109">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1460119">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1460127">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460178">arg</span>&nbsp;<span class="keyword" id="1460182">interface</span><span class="op" id="1460191">{</span><span class="op" id="1460192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1460195">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1460261">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460316">value</span>&nbsp;<span class="ident" id="1460322">reflect</span><span class="op" id="1460329">.</span><span class="ident" id="1460330">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1460337">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460411">reordered</span>&nbsp;<span class="builtintype" id="1460421">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1460427">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460506">goodArgNum</span>&nbsp;<span class="builtintype" id="1460517">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460523">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1460534">[</span><span class="ident" id="1460535">utf8</span><span class="op" id="1460539">.</span><span class="ident" id="1460540">UTFMax</span><span class="op" id="1460546">]</span><span class="builtintype" id="1460547">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460553">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1460564">fmt</span><br>
<span class="lineno">125</span><span class="op" id="1460568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1460571">var</span>&nbsp;<span class="ident" id="1460575">ppFree</span>&nbsp;<span class="op" id="1460582">=</span>&nbsp;<span class="ident" id="1460584">sync</span><span class="op" id="1460588">.</span><span class="ident" id="1460589">Pool</span><span class="op" id="1460593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460596">New</span><span class="op" id="1460599">:</span>&nbsp;<span class="keyword" id="1460601">func</span><span class="op" id="1460605">(</span><span class="op" id="1460606">)</span>&nbsp;<span class="keyword" id="1460608">interface</span><span class="op" id="1460617">{</span><span class="op" id="1460618">}</span>&nbsp;<span class="op" id="1460620">{</span>&nbsp;<span class="keyword" id="1460622">return</span>&nbsp;<span class="builtinfunc" id="1460629">new</span><span class="op" id="1460632">(</span><span class="ident" id="1460633">pp</span><span class="op" id="1460635">)</span>&nbsp;<span class="op" id="1460637">}</span><span class="op" id="1460638">,</span><br>
<span class="lineno"></span><span class="op" id="1460640">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="1460643">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="1460706">func</span>&nbsp;<span class="ident" id="1460711">newPrinter</span><span class="op" id="1460721">(</span><span class="op" id="1460722">)</span>&nbsp;<span class="op" id="1460724">*</span><span class="ident" id="1460725">pp</span>&nbsp;<span class="op" id="1460728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460731">p</span>&nbsp;<span class="op" id="1460733">:=</span>&nbsp;<span class="ident" id="1460736">ppFree</span><span class="op" id="1460742">.</span><span class="ident" id="1460743">Get</span><span class="op" id="1460746">(</span><span class="op" id="1460747">)</span><span class="op" id="1460748">.</span><span class="op" id="1460749">(</span><span class="op" id="1460750">*</span><span class="ident" id="1460751">pp</span><span class="op" id="1460753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460756">p</span><span class="op" id="1460757">.</span><span class="ident" id="1460758">panicking</span>&nbsp;<span class="op" id="1460768">=</span>&nbsp;<span class="builtintype" id="1460770">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460777">p</span><span class="op" id="1460778">.</span><span class="ident" id="1460779">erroring</span>&nbsp;<span class="op" id="1460788">=</span>&nbsp;<span class="builtintype" id="1460790">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1460797">p</span><span class="op" id="1460798">.</span><span class="ident" id="1460799">fmt</span><span class="op" id="1460802">.</span><span class="ident" id="1460803">init</span><span class="op" id="1460807">(</span><span class="op" id="1460808">&amp;</span><span class="ident" id="1460809">p</span><span class="op" id="1460810">.</span><span class="ident" id="1460811">buf</span><span class="op" id="1460814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1460817">return</span>&nbsp;<span class="ident" id="1460824">p</span><br>
<span class="lineno"></span><span class="op" id="1460826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="1460829">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="1460907">func</span>&nbsp;<span class="op" id="1460912">(</span><span class="ident" id="1460913">p</span>&nbsp;<span class="op" id="1460915">*</span><span class="ident" id="1460916">pp</span><span class="op" id="1460918">)</span>&nbsp;<span class="ident" id="1460920">free</span><span class="op" id="1460924">(</span><span class="op" id="1460925">)</span>&nbsp;<span class="op" id="1460927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1460930">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1460982">if</span>&nbsp;<span class="builtinfunc" id="1460985">cap</span><span class="op" id="1460988">(</span><span class="ident" id="1460989">p</span><span class="op" id="1460990">.</span><span class="ident" id="1460991">buf</span><span class="op" id="1460994">)</span>&nbsp;<span class="op" id="1460996">&gt;</span>&nbsp;<span class="num" id="1460998">1024</span>&nbsp;<span class="op" id="1461003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461007">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1461015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461018">p</span><span class="op" id="1461019">.</span><span class="ident" id="1461020">buf</span>&nbsp;<span class="op" id="1461024">=</span>&nbsp;<span class="ident" id="1461026">p</span><span class="op" id="1461027">.</span><span class="ident" id="1461028">buf</span><span class="op" id="1461031">[</span><span class="op" id="1461032">:</span><span class="num" id="1461033">0</span><span class="op" id="1461034">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461037">p</span><span class="op" id="1461038">.</span><span class="ident" id="1461039">arg</span>&nbsp;<span class="op" id="1461043">=</span>&nbsp;<span class="ident" id="1461045">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461050">p</span><span class="op" id="1461051">.</span><span class="ident" id="1461052">value</span>&nbsp;<span class="op" id="1461058">=</span>&nbsp;<span class="ident" id="1461060">reflect</span><span class="op" id="1461067">.</span><span class="ident" id="1461068">Value</span><span class="op" id="1461073">{</span><span class="op" id="1461074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461077">ppFree</span><span class="op" id="1461083">.</span><span class="ident" id="1461084">Put</span><span class="op" id="1461087">(</span><span class="ident" id="1461088">p</span><span class="op" id="1461089">)</span><br>
<span class="lineno">150</span><span class="op" id="1461091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1461094">func</span>&nbsp;<span class="op" id="1461099">(</span><span class="ident" id="1461100">p</span>&nbsp;<span class="op" id="1461102">*</span><span class="ident" id="1461103">pp</span><span class="op" id="1461105">)</span>&nbsp;<span class="ident" id="1461107">Width</span><span class="op" id="1461112">(</span><span class="op" id="1461113">)</span>&nbsp;<span class="op" id="1461115">(</span><span class="ident" id="1461116">wid</span>&nbsp;<span class="builtintype" id="1461120">int</span><span class="op" id="1461123">,</span>&nbsp;<span class="ident" id="1461125">ok</span>&nbsp;<span class="builtintype" id="1461128">bool</span><span class="op" id="1461132">)</span>&nbsp;<span class="op" id="1461134">{</span>&nbsp;<span class="keyword" id="1461136">return</span>&nbsp;<span class="ident" id="1461143">p</span><span class="op" id="1461144">.</span><span class="ident" id="1461145">fmt</span><span class="op" id="1461148">.</span><span class="ident" id="1461149">wid</span><span class="op" id="1461152">,</span>&nbsp;<span class="ident" id="1461154">p</span><span class="op" id="1461155">.</span><span class="ident" id="1461156">fmt</span><span class="op" id="1461159">.</span><span class="ident" id="1461160">widPresent</span>&nbsp;<span class="op" id="1461171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1461174">func</span>&nbsp;<span class="op" id="1461179">(</span><span class="ident" id="1461180">p</span>&nbsp;<span class="op" id="1461182">*</span><span class="ident" id="1461183">pp</span><span class="op" id="1461185">)</span>&nbsp;<span class="ident" id="1461187">Precision</span><span class="op" id="1461196">(</span><span class="op" id="1461197">)</span>&nbsp;<span class="op" id="1461199">(</span><span class="ident" id="1461200">prec</span>&nbsp;<span class="builtintype" id="1461205">int</span><span class="op" id="1461208">,</span>&nbsp;<span class="ident" id="1461210">ok</span>&nbsp;<span class="builtintype" id="1461213">bool</span><span class="op" id="1461217">)</span>&nbsp;<span class="op" id="1461219">{</span>&nbsp;<span class="keyword" id="1461221">return</span>&nbsp;<span class="ident" id="1461228">p</span><span class="op" id="1461229">.</span><span class="ident" id="1461230">fmt</span><span class="op" id="1461233">.</span><span class="ident" id="1461234">prec</span><span class="op" id="1461238">,</span>&nbsp;<span class="ident" id="1461240">p</span><span class="op" id="1461241">.</span><span class="ident" id="1461242">fmt</span><span class="op" id="1461245">.</span><span class="ident" id="1461246">precPresent</span>&nbsp;<span class="op" id="1461258">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="1461261">func</span>&nbsp;<span class="op" id="1461266">(</span><span class="ident" id="1461267">p</span>&nbsp;<span class="op" id="1461269">*</span><span class="ident" id="1461270">pp</span><span class="op" id="1461272">)</span>&nbsp;<span class="ident" id="1461274">Flag</span><span class="op" id="1461278">(</span><span class="ident" id="1461279">b</span>&nbsp;<span class="builtintype" id="1461281">int</span><span class="op" id="1461284">)</span>&nbsp;<span class="builtintype" id="1461286">bool</span>&nbsp;<span class="op" id="1461291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461294">switch</span>&nbsp;<span class="ident" id="1461301">b</span>&nbsp;<span class="op" id="1461303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461306">case</span>&nbsp;<span class="string" id="1461311">&#39;-&#39;</span><span class="op" id="1461314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461318">return</span>&nbsp;<span class="ident" id="1461325">p</span><span class="op" id="1461326">.</span><span class="ident" id="1461327">fmt</span><span class="op" id="1461330">.</span><span class="ident" id="1461331">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461338">case</span>&nbsp;<span class="string" id="1461343">&#39;+&#39;</span><span class="op" id="1461346">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461350">return</span>&nbsp;<span class="ident" id="1461357">p</span><span class="op" id="1461358">.</span><span class="ident" id="1461359">fmt</span><span class="op" id="1461362">.</span><span class="ident" id="1461363">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461369">case</span>&nbsp;<span class="string" id="1461374">&#39;#&#39;</span><span class="op" id="1461377">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461381">return</span>&nbsp;<span class="ident" id="1461388">p</span><span class="op" id="1461389">.</span><span class="ident" id="1461390">fmt</span><span class="op" id="1461393">.</span><span class="ident" id="1461394">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461401">case</span>&nbsp;<span class="string" id="1461406">&#39;&nbsp;&#39;</span><span class="op" id="1461409">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461413">return</span>&nbsp;<span class="ident" id="1461420">p</span><span class="op" id="1461421">.</span><span class="ident" id="1461422">fmt</span><span class="op" id="1461425">.</span><span class="ident" id="1461426">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461433">case</span>&nbsp;<span class="string" id="1461438">&#39;0&#39;</span><span class="op" id="1461441">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461445">return</span>&nbsp;<span class="ident" id="1461452">p</span><span class="op" id="1461453">.</span><span class="ident" id="1461454">fmt</span><span class="op" id="1461457">.</span><span class="ident" id="1461458">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1461464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461467">return</span>&nbsp;<span class="builtintype" id="1461474">false</span><br>
<span class="lineno">170</span><span class="op" id="1461480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1461483">func</span>&nbsp;<span class="op" id="1461488">(</span><span class="ident" id="1461489">p</span>&nbsp;<span class="op" id="1461491">*</span><span class="ident" id="1461492">pp</span><span class="op" id="1461494">)</span>&nbsp;<span class="ident" id="1461496">add</span><span class="op" id="1461499">(</span><span class="ident" id="1461500">c</span>&nbsp;<span class="builtintype" id="1461502">rune</span><span class="op" id="1461506">)</span>&nbsp;<span class="op" id="1461508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461511">p</span><span class="op" id="1461512">.</span><span class="ident" id="1461513">buf</span><span class="op" id="1461516">.</span><span class="ident" id="1461517">WriteRune</span><span class="op" id="1461526">(</span><span class="ident" id="1461527">c</span><span class="op" id="1461528">)</span><br>
<span class="lineno"></span><span class="op" id="1461530">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="1461533">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1461604">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="1461638">func</span>&nbsp;<span class="op" id="1461643">(</span><span class="ident" id="1461644">p</span>&nbsp;<span class="op" id="1461646">*</span><span class="ident" id="1461647">pp</span><span class="op" id="1461649">)</span>&nbsp;<span class="ident" id="1461651">Write</span><span class="op" id="1461656">(</span><span class="ident" id="1461657">b</span>&nbsp;<span class="op" id="1461659">[</span><span class="op" id="1461660">]</span><span class="builtintype" id="1461661">byte</span><span class="op" id="1461665">)</span>&nbsp;<span class="op" id="1461667">(</span><span class="ident" id="1461668">ret</span>&nbsp;<span class="builtintype" id="1461672">int</span><span class="op" id="1461675">,</span>&nbsp;<span class="ident" id="1461677">err</span>&nbsp;<span class="builtintype" id="1461681">error</span><span class="op" id="1461686">)</span>&nbsp;<span class="op" id="1461688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1461691">return</span>&nbsp;<span class="ident" id="1461698">p</span><span class="op" id="1461699">.</span><span class="ident" id="1461700">buf</span><span class="op" id="1461703">.</span><span class="ident" id="1461704">Write</span><span class="op" id="1461709">(</span><span class="ident" id="1461710">b</span><span class="op" id="1461711">)</span><br>
<span class="lineno">180</span><span class="op" id="1461713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1461716">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1461772">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="1461840">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1461915">func</span>&nbsp;<span class="ident" id="1461920">Fprintf</span><span class="op" id="1461927">(</span><span class="ident" id="1461928">w</span>&nbsp;<span class="ident" id="1461930">io</span><span class="op" id="1461932">.</span><span class="ident" id="1461933">Writer</span><span class="op" id="1461939">,</span>&nbsp;<span class="ident" id="1461941">format</span>&nbsp;<span class="builtintype" id="1461948">string</span><span class="op" id="1461954">,</span>&nbsp;<span class="ident" id="1461956">a</span>&nbsp;<span class="op" id="1461958">...</span><span class="keyword" id="1461961">interface</span><span class="op" id="1461970">{</span><span class="op" id="1461971">}</span><span class="op" id="1461972">)</span>&nbsp;<span class="op" id="1461974">(</span><span class="ident" id="1461975">n</span>&nbsp;<span class="builtintype" id="1461977">int</span><span class="op" id="1461980">,</span>&nbsp;<span class="ident" id="1461982">err</span>&nbsp;<span class="builtintype" id="1461986">error</span><span class="op" id="1461991">)</span>&nbsp;<span class="op" id="1461993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1461996">p</span>&nbsp;<span class="op" id="1461998">:=</span>&nbsp;<span class="ident" id="1462001">newPrinter</span><span class="op" id="1462011">(</span><span class="op" id="1462012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462015">p</span><span class="op" id="1462016">.</span><span class="ident" id="1462017">doPrintf</span><span class="op" id="1462025">(</span><span class="ident" id="1462026">format</span><span class="op" id="1462032">,</span>&nbsp;<span class="ident" id="1462034">a</span><span class="op" id="1462035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462038">n</span><span class="op" id="1462039">,</span>&nbsp;<span class="ident" id="1462041">err</span>&nbsp;<span class="op" id="1462045">=</span>&nbsp;<span class="ident" id="1462047">w</span><span class="op" id="1462048">.</span><span class="ident" id="1462049">Write</span><span class="op" id="1462054">(</span><span class="ident" id="1462055">p</span><span class="op" id="1462056">.</span><span class="ident" id="1462057">buf</span><span class="op" id="1462060">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462063">p</span><span class="op" id="1462064">.</span><span class="ident" id="1462065">free</span><span class="op" id="1462069">(</span><span class="op" id="1462070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1462073">return</span><br>
<span class="lineno"></span><span class="op" id="1462080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1462083">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="1462164">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1462239">func</span>&nbsp;<span class="ident" id="1462244">Printf</span><span class="op" id="1462250">(</span><span class="ident" id="1462251">format</span>&nbsp;<span class="builtintype" id="1462258">string</span><span class="op" id="1462264">,</span>&nbsp;<span class="ident" id="1462266">a</span>&nbsp;<span class="op" id="1462268">...</span><span class="keyword" id="1462271">interface</span><span class="op" id="1462280">{</span><span class="op" id="1462281">}</span><span class="op" id="1462282">)</span>&nbsp;<span class="op" id="1462284">(</span><span class="ident" id="1462285">n</span>&nbsp;<span class="builtintype" id="1462287">int</span><span class="op" id="1462290">,</span>&nbsp;<span class="ident" id="1462292">err</span>&nbsp;<span class="builtintype" id="1462296">error</span><span class="op" id="1462301">)</span>&nbsp;<span class="op" id="1462303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1462306">return</span>&nbsp;<span class="ident" id="1462313">Fprintf</span><span class="op" id="1462320">(</span><span class="ident" id="1462321">os</span><span class="op" id="1462323">.</span><span class="ident" id="1462324">Stdout</span><span class="op" id="1462330">,</span>&nbsp;<span class="ident" id="1462332">format</span><span class="op" id="1462338">,</span>&nbsp;<span class="ident" id="1462340">a</span><span class="op" id="1462341">...</span><span class="op" id="1462344">)</span><br>
<span class="lineno"></span><span class="op" id="1462346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="1462349">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1462434">func</span>&nbsp;<span class="ident" id="1462439">Sprintf</span><span class="op" id="1462446">(</span><span class="ident" id="1462447">format</span>&nbsp;<span class="builtintype" id="1462454">string</span><span class="op" id="1462460">,</span>&nbsp;<span class="ident" id="1462462">a</span>&nbsp;<span class="op" id="1462464">...</span><span class="keyword" id="1462467">interface</span><span class="op" id="1462476">{</span><span class="op" id="1462477">}</span><span class="op" id="1462478">)</span>&nbsp;<span class="builtintype" id="1462480">string</span>&nbsp;<span class="op" id="1462487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462490">p</span>&nbsp;<span class="op" id="1462492">:=</span>&nbsp;<span class="ident" id="1462495">newPrinter</span><span class="op" id="1462505">(</span><span class="op" id="1462506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462509">p</span><span class="op" id="1462510">.</span><span class="ident" id="1462511">doPrintf</span><span class="op" id="1462519">(</span><span class="ident" id="1462520">format</span><span class="op" id="1462526">,</span>&nbsp;<span class="ident" id="1462528">a</span><span class="op" id="1462529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462532">s</span>&nbsp;<span class="op" id="1462534">:=</span>&nbsp;<span class="builtintype" id="1462537">string</span><span class="op" id="1462543">(</span><span class="ident" id="1462544">p</span><span class="op" id="1462545">.</span><span class="ident" id="1462546">buf</span><span class="op" id="1462549">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1462552">p</span><span class="op" id="1462553">.</span><span class="ident" id="1462554">free</span><span class="op" id="1462558">(</span><span class="op" id="1462559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1462562">return</span>&nbsp;<span class="ident" id="1462569">s</span><br>
<span class="lineno"></span><span class="op" id="1462571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1462574">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="1462647">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="1462683">func</span>&nbsp;<span class="ident" id="1462688">Errorf</span><span class="op" id="1462694">(</span><span class="ident" id="1462695">format</span>&nbsp;<span class="builtintype" id="1462702">string</span><span class="op" id="1462708">,</span>&nbsp;<span class="ident" id="1462710">a</span>&nbsp;<span class="op" id="1462712">...</span><span class="keyword" id="1462715">interface</span><span class="op" id="1462724">{</span><span class="op" id="1462725">}</span><span class="op" id="1462726">)</span>&nbsp;<span class="builtintype" id="1462728">error</span>&nbsp;<span class="op" id="1462734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1462737">return</span>&nbsp;<span class="ident" id="1462744">errors</span><span class="op" id="1462750">.</span><span class="ident" id="1462751">New</span><span class="op" id="1462754">(</span><span class="ident" id="1462755">Sprintf</span><span class="op" id="1462762">(</span><span class="ident" id="1462763">format</span><span class="op" id="1462769">,</span>&nbsp;<span class="ident" id="1462771">a</span><span class="op" id="1462772">...</span><span class="op" id="1462775">)</span><span class="op" id="1462776">)</span><br>
<span class="lineno"></span><span class="op" id="1462778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="1462781">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1462828">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="1462906">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="1462969">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="1463044">func</span>&nbsp;<span class="ident" id="1463049">Fprint</span><span class="op" id="1463055">(</span><span class="ident" id="1463056">w</span>&nbsp;<span class="ident" id="1463058">io</span><span class="op" id="1463060">.</span><span class="ident" id="1463061">Writer</span><span class="op" id="1463067">,</span>&nbsp;<span class="ident" id="1463069">a</span>&nbsp;<span class="op" id="1463071">...</span><span class="keyword" id="1463074">interface</span><span class="op" id="1463083">{</span><span class="op" id="1463084">}</span><span class="op" id="1463085">)</span>&nbsp;<span class="op" id="1463087">(</span><span class="ident" id="1463088">n</span>&nbsp;<span class="builtintype" id="1463090">int</span><span class="op" id="1463093">,</span>&nbsp;<span class="ident" id="1463095">err</span>&nbsp;<span class="builtintype" id="1463099">error</span><span class="op" id="1463104">)</span>&nbsp;<span class="op" id="1463106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463109">p</span>&nbsp;<span class="op" id="1463111">:=</span>&nbsp;<span class="ident" id="1463114">newPrinter</span><span class="op" id="1463124">(</span><span class="op" id="1463125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463128">p</span><span class="op" id="1463129">.</span><span class="ident" id="1463130">doPrint</span><span class="op" id="1463137">(</span><span class="ident" id="1463138">a</span><span class="op" id="1463139">,</span>&nbsp;<span class="builtintype" id="1463141">false</span><span class="op" id="1463146">,</span>&nbsp;<span class="builtintype" id="1463148">false</span><span class="op" id="1463153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463156">n</span><span class="op" id="1463157">,</span>&nbsp;<span class="ident" id="1463159">err</span>&nbsp;<span class="op" id="1463163">=</span>&nbsp;<span class="ident" id="1463165">w</span><span class="op" id="1463166">.</span><span class="ident" id="1463167">Write</span><span class="op" id="1463172">(</span><span class="ident" id="1463173">p</span><span class="op" id="1463174">.</span><span class="ident" id="1463175">buf</span><span class="op" id="1463178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463181">p</span><span class="op" id="1463182">.</span><span class="ident" id="1463183">free</span><span class="op" id="1463187">(</span><span class="op" id="1463188">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463191">return</span><br>
<span class="lineno"></span><span class="op" id="1463198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1463201">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="1463292">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="1463355">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1463430">func</span>&nbsp;<span class="ident" id="1463435">Print</span><span class="op" id="1463440">(</span><span class="ident" id="1463441">a</span>&nbsp;<span class="op" id="1463443">...</span><span class="keyword" id="1463446">interface</span><span class="op" id="1463455">{</span><span class="op" id="1463456">}</span><span class="op" id="1463457">)</span>&nbsp;<span class="op" id="1463459">(</span><span class="ident" id="1463460">n</span>&nbsp;<span class="builtintype" id="1463462">int</span><span class="op" id="1463465">,</span>&nbsp;<span class="ident" id="1463467">err</span>&nbsp;<span class="builtintype" id="1463471">error</span><span class="op" id="1463476">)</span>&nbsp;<span class="op" id="1463478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463481">return</span>&nbsp;<span class="ident" id="1463488">Fprint</span><span class="op" id="1463494">(</span><span class="ident" id="1463495">os</span><span class="op" id="1463497">.</span><span class="ident" id="1463498">Stdout</span><span class="op" id="1463504">,</span>&nbsp;<span class="ident" id="1463506">a</span><span class="op" id="1463507">...</span><span class="op" id="1463510">)</span><br>
<span class="lineno"></span><span class="op" id="1463512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="1463515">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="1463610">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1463673">func</span>&nbsp;<span class="ident" id="1463678">Sprint</span><span class="op" id="1463684">(</span><span class="ident" id="1463685">a</span>&nbsp;<span class="op" id="1463687">...</span><span class="keyword" id="1463690">interface</span><span class="op" id="1463699">{</span><span class="op" id="1463700">}</span><span class="op" id="1463701">)</span>&nbsp;<span class="builtintype" id="1463703">string</span>&nbsp;<span class="op" id="1463710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463713">p</span>&nbsp;<span class="op" id="1463715">:=</span>&nbsp;<span class="ident" id="1463718">newPrinter</span><span class="op" id="1463728">(</span><span class="op" id="1463729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463732">p</span><span class="op" id="1463733">.</span><span class="ident" id="1463734">doPrint</span><span class="op" id="1463741">(</span><span class="ident" id="1463742">a</span><span class="op" id="1463743">,</span>&nbsp;<span class="builtintype" id="1463745">false</span><span class="op" id="1463750">,</span>&nbsp;<span class="builtintype" id="1463752">false</span><span class="op" id="1463757">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463760">s</span>&nbsp;<span class="op" id="1463762">:=</span>&nbsp;<span class="builtintype" id="1463765">string</span><span class="op" id="1463771">(</span><span class="ident" id="1463772">p</span><span class="op" id="1463773">.</span><span class="ident" id="1463774">buf</span><span class="op" id="1463777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1463780">p</span><span class="op" id="1463781">.</span><span class="ident" id="1463782">free</span><span class="op" id="1463786">(</span><span class="op" id="1463787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1463790">return</span>&nbsp;<span class="ident" id="1463797">s</span><br>
<span class="lineno"></span><span class="op" id="1463799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="1463802">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="1463862">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="1463919">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1463947">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="1464027">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="1464098">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1464173">func</span>&nbsp;<span class="ident" id="1464178">Fprintln</span><span class="op" id="1464186">(</span><span class="ident" id="1464187">w</span>&nbsp;<span class="ident" id="1464189">io</span><span class="op" id="1464191">.</span><span class="ident" id="1464192">Writer</span><span class="op" id="1464198">,</span>&nbsp;<span class="ident" id="1464200">a</span>&nbsp;<span class="op" id="1464202">...</span><span class="keyword" id="1464205">interface</span><span class="op" id="1464214">{</span><span class="op" id="1464215">}</span><span class="op" id="1464216">)</span>&nbsp;<span class="op" id="1464218">(</span><span class="ident" id="1464219">n</span>&nbsp;<span class="builtintype" id="1464221">int</span><span class="op" id="1464224">,</span>&nbsp;<span class="ident" id="1464226">err</span>&nbsp;<span class="builtintype" id="1464230">error</span><span class="op" id="1464235">)</span>&nbsp;<span class="op" id="1464237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464240">p</span>&nbsp;<span class="op" id="1464242">:=</span>&nbsp;<span class="ident" id="1464245">newPrinter</span><span class="op" id="1464255">(</span><span class="op" id="1464256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464259">p</span><span class="op" id="1464260">.</span><span class="ident" id="1464261">doPrint</span><span class="op" id="1464268">(</span><span class="ident" id="1464269">a</span><span class="op" id="1464270">,</span>&nbsp;<span class="builtintype" id="1464272">true</span><span class="op" id="1464276">,</span>&nbsp;<span class="builtintype" id="1464278">true</span><span class="op" id="1464282">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464285">n</span><span class="op" id="1464286">,</span>&nbsp;<span class="ident" id="1464288">err</span>&nbsp;<span class="op" id="1464292">=</span>&nbsp;<span class="ident" id="1464294">w</span><span class="op" id="1464295">.</span><span class="ident" id="1464296">Write</span><span class="op" id="1464301">(</span><span class="ident" id="1464302">p</span><span class="op" id="1464303">.</span><span class="ident" id="1464304">buf</span><span class="op" id="1464307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464310">p</span><span class="op" id="1464311">.</span><span class="ident" id="1464312">free</span><span class="op" id="1464316">(</span><span class="op" id="1464317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464320">return</span><br>
<span class="lineno"></span><span class="op" id="1464327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="1464330">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="1464423">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="1464494">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="1464569">func</span>&nbsp;<span class="ident" id="1464574">Println</span><span class="op" id="1464581">(</span><span class="ident" id="1464582">a</span>&nbsp;<span class="op" id="1464584">...</span><span class="keyword" id="1464587">interface</span><span class="op" id="1464596">{</span><span class="op" id="1464597">}</span><span class="op" id="1464598">)</span>&nbsp;<span class="op" id="1464600">(</span><span class="ident" id="1464601">n</span>&nbsp;<span class="builtintype" id="1464603">int</span><span class="op" id="1464606">,</span>&nbsp;<span class="ident" id="1464608">err</span>&nbsp;<span class="builtintype" id="1464612">error</span><span class="op" id="1464617">)</span>&nbsp;<span class="op" id="1464619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464622">return</span>&nbsp;<span class="ident" id="1464629">Fprintln</span><span class="op" id="1464637">(</span><span class="ident" id="1464638">os</span><span class="op" id="1464640">.</span><span class="ident" id="1464641">Stdout</span><span class="op" id="1464647">,</span>&nbsp;<span class="ident" id="1464649">a</span><span class="op" id="1464650">...</span><span class="op" id="1464653">)</span><br>
<span class="lineno">265</span><span class="op" id="1464655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1464658">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="1464755">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="1464826">func</span>&nbsp;<span class="ident" id="1464831">Sprintln</span><span class="op" id="1464839">(</span><span class="ident" id="1464840">a</span>&nbsp;<span class="op" id="1464842">...</span><span class="keyword" id="1464845">interface</span><span class="op" id="1464854">{</span><span class="op" id="1464855">}</span><span class="op" id="1464856">)</span>&nbsp;<span class="builtintype" id="1464858">string</span>&nbsp;<span class="op" id="1464865">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464868">p</span>&nbsp;<span class="op" id="1464870">:=</span>&nbsp;<span class="ident" id="1464873">newPrinter</span><span class="op" id="1464883">(</span><span class="op" id="1464884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464887">p</span><span class="op" id="1464888">.</span><span class="ident" id="1464889">doPrint</span><span class="op" id="1464896">(</span><span class="ident" id="1464897">a</span><span class="op" id="1464898">,</span>&nbsp;<span class="builtintype" id="1464900">true</span><span class="op" id="1464904">,</span>&nbsp;<span class="builtintype" id="1464906">true</span><span class="op" id="1464910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464913">s</span>&nbsp;<span class="op" id="1464915">:=</span>&nbsp;<span class="builtintype" id="1464918">string</span><span class="op" id="1464924">(</span><span class="ident" id="1464925">p</span><span class="op" id="1464926">.</span><span class="ident" id="1464927">buf</span><span class="op" id="1464930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1464933">p</span><span class="op" id="1464934">.</span><span class="ident" id="1464935">free</span><span class="op" id="1464939">(</span><span class="op" id="1464940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1464943">return</span>&nbsp;<span class="ident" id="1464950">s</span><br>
<span class="lineno">275</span><span class="op" id="1464952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1464955">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="1465008">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1465070">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="1465131">func</span>&nbsp;<span class="ident" id="1465136">getField</span><span class="op" id="1465144">(</span><span class="ident" id="1465145">v</span>&nbsp;<span class="ident" id="1465147">reflect</span><span class="op" id="1465154">.</span><span class="ident" id="1465155">Value</span><span class="op" id="1465160">,</span>&nbsp;<span class="ident" id="1465162">i</span>&nbsp;<span class="builtintype" id="1465164">int</span><span class="op" id="1465167">)</span>&nbsp;<span class="ident" id="1465169">reflect</span><span class="op" id="1465176">.</span><span class="ident" id="1465177">Value</span>&nbsp;<span class="op" id="1465183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465186">val</span>&nbsp;<span class="op" id="1465190">:=</span>&nbsp;<span class="ident" id="1465193">v</span><span class="op" id="1465194">.</span><span class="ident" id="1465195">Field</span><span class="op" id="1465200">(</span><span class="ident" id="1465201">i</span><span class="op" id="1465202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465205">if</span>&nbsp;<span class="ident" id="1465208">val</span><span class="op" id="1465211">.</span><span class="ident" id="1465212">Kind</span><span class="op" id="1465216">(</span><span class="op" id="1465217">)</span>&nbsp;<span class="op" id="1465219">==</span>&nbsp;<span class="ident" id="1465222">reflect</span><span class="op" id="1465229">.</span><span class="ident" id="1465230">Interface</span>&nbsp;<span class="op" id="1465240">&amp;&amp;</span>&nbsp;<span class="op" id="1465243">!</span><span class="ident" id="1465244">val</span><span class="op" id="1465247">.</span><span class="ident" id="1465248">IsNil</span><span class="op" id="1465253">(</span><span class="op" id="1465254">)</span>&nbsp;<span class="op" id="1465256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465260">val</span>&nbsp;<span class="op" id="1465264">=</span>&nbsp;<span class="ident" id="1465266">val</span><span class="op" id="1465269">.</span><span class="ident" id="1465270">Elem</span><span class="op" id="1465274">(</span><span class="op" id="1465275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465278">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465281">return</span>&nbsp;<span class="ident" id="1465288">val</span><br>
<span class="lineno"></span><span class="op" id="1465292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1465295">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="1465387">func</span>&nbsp;<span class="ident" id="1465392">parsenum</span><span class="op" id="1465400">(</span><span class="ident" id="1465401">s</span>&nbsp;<span class="builtintype" id="1465403">string</span><span class="op" id="1465409">,</span>&nbsp;<span class="ident" id="1465411">start</span><span class="op" id="1465416">,</span>&nbsp;<span class="ident" id="1465418">end</span>&nbsp;<span class="builtintype" id="1465422">int</span><span class="op" id="1465425">)</span>&nbsp;<span class="op" id="1465427">(</span><span class="ident" id="1465428">num</span>&nbsp;<span class="builtintype" id="1465432">int</span><span class="op" id="1465435">,</span>&nbsp;<span class="ident" id="1465437">isnum</span>&nbsp;<span class="builtintype" id="1465443">bool</span><span class="op" id="1465447">,</span>&nbsp;<span class="ident" id="1465449">newi</span>&nbsp;<span class="builtintype" id="1465454">int</span><span class="op" id="1465457">)</span>&nbsp;<span class="op" id="1465459">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465462">if</span>&nbsp;<span class="ident" id="1465465">start</span>&nbsp;<span class="op" id="1465471">&gt;=</span>&nbsp;<span class="ident" id="1465474">end</span>&nbsp;<span class="op" id="1465478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465482">return</span>&nbsp;<span class="num" id="1465489">0</span><span class="op" id="1465490">,</span>&nbsp;<span class="builtintype" id="1465492">false</span><span class="op" id="1465497">,</span>&nbsp;<span class="ident" id="1465499">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465507">for</span>&nbsp;<span class="ident" id="1465511">newi</span>&nbsp;<span class="op" id="1465516">=</span>&nbsp;<span class="ident" id="1465518">start</span><span class="op" id="1465523">;</span>&nbsp;<span class="ident" id="1465525">newi</span>&nbsp;<span class="op" id="1465530">&lt;</span>&nbsp;<span class="ident" id="1465532">end</span>&nbsp;<span class="op" id="1465536">&amp;&amp;</span>&nbsp;<span class="string" id="1465539">&#39;0&#39;</span>&nbsp;<span class="op" id="1465543">&lt;=</span>&nbsp;<span class="ident" id="1465546">s</span><span class="op" id="1465547">[</span><span class="ident" id="1465548">newi</span><span class="op" id="1465552">]</span>&nbsp;<span class="op" id="1465554">&amp;&amp;</span>&nbsp;<span class="ident" id="1465557">s</span><span class="op" id="1465558">[</span><span class="ident" id="1465559">newi</span><span class="op" id="1465563">]</span>&nbsp;<span class="op" id="1465565">&lt;=</span>&nbsp;<span class="string" id="1465568">&#39;9&#39;</span><span class="op" id="1465571">;</span>&nbsp;<span class="ident" id="1465573">newi</span><span class="op" id="1465577">++</span>&nbsp;<span class="op" id="1465580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465584">num</span>&nbsp;<span class="op" id="1465588">=</span>&nbsp;<span class="ident" id="1465590">num</span><span class="op" id="1465593">*</span><span class="num" id="1465594">10</span>&nbsp;<span class="op" id="1465597">+</span>&nbsp;<span class="builtintype" id="1465599">int</span><span class="op" id="1465602">(</span><span class="ident" id="1465603">s</span><span class="op" id="1465604">[</span><span class="ident" id="1465605">newi</span><span class="op" id="1465609">]</span><span class="op" id="1465610">-</span><span class="string" id="1465611">&#39;0&#39;</span><span class="op" id="1465614">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465618">isnum</span>&nbsp;<span class="op" id="1465624">=</span>&nbsp;<span class="builtintype" id="1465626">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465635">return</span><br>
<span class="lineno"></span><span class="op" id="1465642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="1465645">func</span>&nbsp;<span class="op" id="1465650">(</span><span class="ident" id="1465651">p</span>&nbsp;<span class="op" id="1465653">*</span><span class="ident" id="1465654">pp</span><span class="op" id="1465656">)</span>&nbsp;<span class="ident" id="1465658">unknownType</span><span class="op" id="1465669">(</span><span class="ident" id="1465670">v</span>&nbsp;<span class="ident" id="1465672">reflect</span><span class="op" id="1465679">.</span><span class="ident" id="1465680">Value</span><span class="op" id="1465685">)</span>&nbsp;<span class="op" id="1465687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465690">if</span>&nbsp;<span class="op" id="1465693">!</span><span class="ident" id="1465694">v</span><span class="op" id="1465695">.</span><span class="ident" id="1465696">IsValid</span><span class="op" id="1465703">(</span><span class="op" id="1465704">)</span>&nbsp;<span class="op" id="1465706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465710">p</span><span class="op" id="1465711">.</span><span class="ident" id="1465712">buf</span><span class="op" id="1465715">.</span><span class="ident" id="1465716">Write</span><span class="op" id="1465721">(</span><span class="ident" id="1465722">nilAngleBytes</span><span class="op" id="1465735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465739">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1465747">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465750">p</span><span class="op" id="1465751">.</span><span class="ident" id="1465752">buf</span><span class="op" id="1465755">.</span><span class="ident" id="1465756">WriteByte</span><span class="op" id="1465765">(</span><span class="string" id="1465766">&#39;?&#39;</span><span class="op" id="1465769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465772">p</span><span class="op" id="1465773">.</span><span class="ident" id="1465774">buf</span><span class="op" id="1465777">.</span><span class="ident" id="1465778">WriteString</span><span class="op" id="1465789">(</span><span class="ident" id="1465790">v</span><span class="op" id="1465791">.</span><span class="ident" id="1465792">Type</span><span class="op" id="1465796">(</span><span class="op" id="1465797">)</span><span class="op" id="1465798">.</span><span class="ident" id="1465799">String</span><span class="op" id="1465805">(</span><span class="op" id="1465806">)</span><span class="op" id="1465807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465810">p</span><span class="op" id="1465811">.</span><span class="ident" id="1465812">buf</span><span class="op" id="1465815">.</span><span class="ident" id="1465816">WriteByte</span><span class="op" id="1465825">(</span><span class="string" id="1465826">&#39;?&#39;</span><span class="op" id="1465829">)</span><br>
<span class="lineno"></span><span class="op" id="1465831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="1465834">func</span>&nbsp;<span class="op" id="1465839">(</span><span class="ident" id="1465840">p</span>&nbsp;<span class="op" id="1465842">*</span><span class="ident" id="1465843">pp</span><span class="op" id="1465845">)</span>&nbsp;<span class="ident" id="1465847">badVerb</span><span class="op" id="1465854">(</span><span class="ident" id="1465855">verb</span>&nbsp;<span class="builtintype" id="1465860">rune</span><span class="op" id="1465864">)</span>&nbsp;<span class="op" id="1465866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465869">p</span><span class="op" id="1465870">.</span><span class="ident" id="1465871">erroring</span>&nbsp;<span class="op" id="1465880">=</span>&nbsp;<span class="builtintype" id="1465882">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465888">p</span><span class="op" id="1465889">.</span><span class="ident" id="1465890">add</span><span class="op" id="1465893">(</span><span class="string" id="1465894">&#39;%&#39;</span><span class="op" id="1465897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465900">p</span><span class="op" id="1465901">.</span><span class="ident" id="1465902">add</span><span class="op" id="1465905">(</span><span class="string" id="1465906">&#39;!&#39;</span><span class="op" id="1465909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465912">p</span><span class="op" id="1465913">.</span><span class="ident" id="1465914">add</span><span class="op" id="1465917">(</span><span class="ident" id="1465918">verb</span><span class="op" id="1465922">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465925">p</span><span class="op" id="1465926">.</span><span class="ident" id="1465927">add</span><span class="op" id="1465930">(</span><span class="string" id="1465931">&#39;(&#39;</span><span class="op" id="1465934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465937">switch</span>&nbsp;<span class="op" id="1465944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1465947">case</span>&nbsp;<span class="ident" id="1465952">p</span><span class="op" id="1465953">.</span><span class="ident" id="1465954">arg</span>&nbsp;<span class="op" id="1465958">!=</span>&nbsp;<span class="ident" id="1465961">nil</span><span class="op" id="1465964">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1465968">p</span><span class="op" id="1465969">.</span><span class="ident" id="1465970">buf</span><span class="op" id="1465973">.</span><span class="ident" id="1465974">WriteString</span><span class="op" id="1465985">(</span><span class="ident" id="1465986">reflect</span><span class="op" id="1465993">.</span><span class="ident" id="1465994">TypeOf</span><span class="op" id="1466000">(</span><span class="ident" id="1466001">p</span><span class="op" id="1466002">.</span><span class="ident" id="1466003">arg</span><span class="op" id="1466006">)</span><span class="op" id="1466007">.</span><span class="ident" id="1466008">String</span><span class="op" id="1466014">(</span><span class="op" id="1466015">)</span><span class="op" id="1466016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466020">p</span><span class="op" id="1466021">.</span><span class="ident" id="1466022">add</span><span class="op" id="1466025">(</span><span class="string" id="1466026">&#39;=&#39;</span><span class="op" id="1466029">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466033">p</span><span class="op" id="1466034">.</span><span class="ident" id="1466035">printArg</span><span class="op" id="1466043">(</span><span class="ident" id="1466044">p</span><span class="op" id="1466045">.</span><span class="ident" id="1466046">arg</span><span class="op" id="1466049">,</span>&nbsp;<span class="string" id="1466051">&#39;v&#39;</span><span class="op" id="1466054">,</span>&nbsp;<span class="num" id="1466056">0</span><span class="op" id="1466057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466060">case</span>&nbsp;<span class="ident" id="1466065">p</span><span class="op" id="1466066">.</span><span class="ident" id="1466067">value</span><span class="op" id="1466072">.</span><span class="ident" id="1466073">IsValid</span><span class="op" id="1466080">(</span><span class="op" id="1466081">)</span><span class="op" id="1466082">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466086">p</span><span class="op" id="1466087">.</span><span class="ident" id="1466088">buf</span><span class="op" id="1466091">.</span><span class="ident" id="1466092">WriteString</span><span class="op" id="1466103">(</span><span class="ident" id="1466104">p</span><span class="op" id="1466105">.</span><span class="ident" id="1466106">value</span><span class="op" id="1466111">.</span><span class="ident" id="1466112">Type</span><span class="op" id="1466116">(</span><span class="op" id="1466117">)</span><span class="op" id="1466118">.</span><span class="ident" id="1466119">String</span><span class="op" id="1466125">(</span><span class="op" id="1466126">)</span><span class="op" id="1466127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466131">p</span><span class="op" id="1466132">.</span><span class="ident" id="1466133">add</span><span class="op" id="1466136">(</span><span class="string" id="1466137">&#39;=&#39;</span><span class="op" id="1466140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466144">p</span><span class="op" id="1466145">.</span><span class="ident" id="1466146">printValue</span><span class="op" id="1466156">(</span><span class="ident" id="1466157">p</span><span class="op" id="1466158">.</span><span class="ident" id="1466159">value</span><span class="op" id="1466164">,</span>&nbsp;<span class="string" id="1466166">&#39;v&#39;</span><span class="op" id="1466169">,</span>&nbsp;<span class="num" id="1466171">0</span><span class="op" id="1466172">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466175">default</span><span class="op" id="1466182">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466186">p</span><span class="op" id="1466187">.</span><span class="ident" id="1466188">buf</span><span class="op" id="1466191">.</span><span class="ident" id="1466192">Write</span><span class="op" id="1466197">(</span><span class="ident" id="1466198">nilAngleBytes</span><span class="op" id="1466211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1466214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466217">p</span><span class="op" id="1466218">.</span><span class="ident" id="1466219">add</span><span class="op" id="1466222">(</span><span class="string" id="1466223">&#39;)&#39;</span><span class="op" id="1466226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466229">p</span><span class="op" id="1466230">.</span><span class="ident" id="1466231">erroring</span>&nbsp;<span class="op" id="1466240">=</span>&nbsp;<span class="builtintype" id="1466242">false</span><br>
<span class="lineno">330</span><span class="op" id="1466248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1466251">func</span>&nbsp;<span class="op" id="1466256">(</span><span class="ident" id="1466257">p</span>&nbsp;<span class="op" id="1466259">*</span><span class="ident" id="1466260">pp</span><span class="op" id="1466262">)</span>&nbsp;<span class="ident" id="1466264">fmtBool</span><span class="op" id="1466271">(</span><span class="ident" id="1466272">v</span>&nbsp;<span class="builtintype" id="1466274">bool</span><span class="op" id="1466278">,</span>&nbsp;<span class="ident" id="1466280">verb</span>&nbsp;<span class="builtintype" id="1466285">rune</span><span class="op" id="1466289">)</span>&nbsp;<span class="op" id="1466291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466294">switch</span>&nbsp;<span class="ident" id="1466301">verb</span>&nbsp;<span class="op" id="1466306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466309">case</span>&nbsp;<span class="string" id="1466314">&#39;t&#39;</span><span class="op" id="1466317">,</span>&nbsp;<span class="string" id="1466319">&#39;v&#39;</span><span class="op" id="1466322">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466326">p</span><span class="op" id="1466327">.</span><span class="ident" id="1466328">fmt</span><span class="op" id="1466331">.</span><span class="ident" id="1466332">fmt_boolean</span><span class="op" id="1466343">(</span><span class="ident" id="1466344">v</span><span class="op" id="1466345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466348">default</span><span class="op" id="1466355">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466359">p</span><span class="op" id="1466360">.</span><span class="ident" id="1466361">badVerb</span><span class="op" id="1466368">(</span><span class="ident" id="1466369">verb</span><span class="op" id="1466373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1466376">}</span><br>
<span class="lineno"></span><span class="op" id="1466378">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="1466381">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="1466424">func</span>&nbsp;<span class="op" id="1466429">(</span><span class="ident" id="1466430">p</span>&nbsp;<span class="op" id="1466432">*</span><span class="ident" id="1466433">pp</span><span class="op" id="1466435">)</span>&nbsp;<span class="ident" id="1466437">fmtC</span><span class="op" id="1466441">(</span><span class="ident" id="1466442">c</span>&nbsp;<span class="ident" id="1466444">int64</span><span class="op" id="1466449">)</span>&nbsp;<span class="op" id="1466451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466454">r</span>&nbsp;<span class="op" id="1466456">:=</span>&nbsp;<span class="builtintype" id="1466459">rune</span><span class="op" id="1466463">(</span><span class="ident" id="1466464">c</span><span class="op" id="1466465">)</span>&nbsp;<span class="comment" id="1466467">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466491">if</span>&nbsp;<span class="ident" id="1466494">int64</span><span class="op" id="1466499">(</span><span class="ident" id="1466500">r</span><span class="op" id="1466501">)</span>&nbsp;<span class="op" id="1466503">!=</span>&nbsp;<span class="ident" id="1466506">c</span>&nbsp;<span class="op" id="1466508">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466512">r</span>&nbsp;<span class="op" id="1466514">=</span>&nbsp;<span class="ident" id="1466516">utf8</span><span class="op" id="1466520">.</span><span class="ident" id="1466521">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1466532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466535">w</span>&nbsp;<span class="op" id="1466537">:=</span>&nbsp;<span class="ident" id="1466540">utf8</span><span class="op" id="1466544">.</span><span class="ident" id="1466545">EncodeRune</span><span class="op" id="1466555">(</span><span class="ident" id="1466556">p</span><span class="op" id="1466557">.</span><span class="ident" id="1466558">runeBuf</span><span class="op" id="1466565">[</span><span class="num" id="1466566">0</span><span class="op" id="1466567">:</span><span class="ident" id="1466568">utf8</span><span class="op" id="1466572">.</span><span class="ident" id="1466573">UTFMax</span><span class="op" id="1466579">]</span><span class="op" id="1466580">,</span>&nbsp;<span class="ident" id="1466582">r</span><span class="op" id="1466583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466586">p</span><span class="op" id="1466587">.</span><span class="ident" id="1466588">fmt</span><span class="op" id="1466591">.</span><span class="ident" id="1466592">pad</span><span class="op" id="1466595">(</span><span class="ident" id="1466596">p</span><span class="op" id="1466597">.</span><span class="ident" id="1466598">runeBuf</span><span class="op" id="1466605">[</span><span class="num" id="1466606">0</span><span class="op" id="1466607">:</span><span class="ident" id="1466608">w</span><span class="op" id="1466609">]</span><span class="op" id="1466610">)</span><br>
<span class="lineno"></span><span class="op" id="1466612">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="1466615">func</span>&nbsp;<span class="op" id="1466620">(</span><span class="ident" id="1466621">p</span>&nbsp;<span class="op" id="1466623">*</span><span class="ident" id="1466624">pp</span><span class="op" id="1466626">)</span>&nbsp;<span class="ident" id="1466628">fmtInt64</span><span class="op" id="1466636">(</span><span class="ident" id="1466637">v</span>&nbsp;<span class="ident" id="1466639">int64</span><span class="op" id="1466644">,</span>&nbsp;<span class="ident" id="1466646">verb</span>&nbsp;<span class="builtintype" id="1466651">rune</span><span class="op" id="1466655">)</span>&nbsp;<span class="op" id="1466657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466660">switch</span>&nbsp;<span class="ident" id="1466667">verb</span>&nbsp;<span class="op" id="1466672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466675">case</span>&nbsp;<span class="string" id="1466680">&#39;b&#39;</span><span class="op" id="1466683">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466687">p</span><span class="op" id="1466688">.</span><span class="ident" id="1466689">fmt</span><span class="op" id="1466692">.</span><span class="ident" id="1466693">integer</span><span class="op" id="1466700">(</span><span class="ident" id="1466701">v</span><span class="op" id="1466702">,</span>&nbsp;<span class="num" id="1466704">2</span><span class="op" id="1466705">,</span>&nbsp;<span class="ident" id="1466707">signed</span><span class="op" id="1466713">,</span>&nbsp;<span class="ident" id="1466715">ldigits</span><span class="op" id="1466722">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466725">case</span>&nbsp;<span class="string" id="1466730">&#39;c&#39;</span><span class="op" id="1466733">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466737">p</span><span class="op" id="1466738">.</span><span class="ident" id="1466739">fmtC</span><span class="op" id="1466743">(</span><span class="ident" id="1466744">v</span><span class="op" id="1466745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466748">case</span>&nbsp;<span class="string" id="1466753">&#39;d&#39;</span><span class="op" id="1466756">,</span>&nbsp;<span class="string" id="1466758">&#39;v&#39;</span><span class="op" id="1466761">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466765">p</span><span class="op" id="1466766">.</span><span class="ident" id="1466767">fmt</span><span class="op" id="1466770">.</span><span class="ident" id="1466771">integer</span><span class="op" id="1466778">(</span><span class="ident" id="1466779">v</span><span class="op" id="1466780">,</span>&nbsp;<span class="num" id="1466782">10</span><span class="op" id="1466784">,</span>&nbsp;<span class="ident" id="1466786">signed</span><span class="op" id="1466792">,</span>&nbsp;<span class="ident" id="1466794">ldigits</span><span class="op" id="1466801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466804">case</span>&nbsp;<span class="string" id="1466809">&#39;o&#39;</span><span class="op" id="1466812">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466816">p</span><span class="op" id="1466817">.</span><span class="ident" id="1466818">fmt</span><span class="op" id="1466821">.</span><span class="ident" id="1466822">integer</span><span class="op" id="1466829">(</span><span class="ident" id="1466830">v</span><span class="op" id="1466831">,</span>&nbsp;<span class="num" id="1466833">8</span><span class="op" id="1466834">,</span>&nbsp;<span class="ident" id="1466836">signed</span><span class="op" id="1466842">,</span>&nbsp;<span class="ident" id="1466844">ldigits</span><span class="op" id="1466851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466854">case</span>&nbsp;<span class="string" id="1466859">&#39;q&#39;</span><span class="op" id="1466862">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466866">if</span>&nbsp;<span class="num" id="1466869">0</span>&nbsp;<span class="op" id="1466871">&lt;=</span>&nbsp;<span class="ident" id="1466874">v</span>&nbsp;<span class="op" id="1466876">&amp;&amp;</span>&nbsp;<span class="ident" id="1466879">v</span>&nbsp;<span class="op" id="1466881">&lt;=</span>&nbsp;<span class="ident" id="1466884">utf8</span><span class="op" id="1466888">.</span><span class="ident" id="1466889">MaxRune</span>&nbsp;<span class="op" id="1466897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466902">p</span><span class="op" id="1466903">.</span><span class="ident" id="1466904">fmt</span><span class="op" id="1466907">.</span><span class="ident" id="1466908">fmt_qc</span><span class="op" id="1466914">(</span><span class="ident" id="1466915">v</span><span class="op" id="1466916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1466920">}</span>&nbsp;<span class="keyword" id="1466922">else</span>&nbsp;<span class="op" id="1466927">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466932">p</span><span class="op" id="1466933">.</span><span class="ident" id="1466934">badVerb</span><span class="op" id="1466941">(</span><span class="ident" id="1466942">verb</span><span class="op" id="1466946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1466950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1466953">case</span>&nbsp;<span class="string" id="1466958">&#39;x&#39;</span><span class="op" id="1466961">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1466965">p</span><span class="op" id="1466966">.</span><span class="ident" id="1466967">fmt</span><span class="op" id="1466970">.</span><span class="ident" id="1466971">integer</span><span class="op" id="1466978">(</span><span class="ident" id="1466979">v</span><span class="op" id="1466980">,</span>&nbsp;<span class="num" id="1466982">16</span><span class="op" id="1466984">,</span>&nbsp;<span class="ident" id="1466986">signed</span><span class="op" id="1466992">,</span>&nbsp;<span class="ident" id="1466994">ldigits</span><span class="op" id="1467001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467004">case</span>&nbsp;<span class="string" id="1467009">&#39;U&#39;</span><span class="op" id="1467012">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467016">p</span><span class="op" id="1467017">.</span><span class="ident" id="1467018">fmtUnicode</span><span class="op" id="1467028">(</span><span class="ident" id="1467029">v</span><span class="op" id="1467030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467033">case</span>&nbsp;<span class="string" id="1467038">&#39;X&#39;</span><span class="op" id="1467041">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467045">p</span><span class="op" id="1467046">.</span><span class="ident" id="1467047">fmt</span><span class="op" id="1467050">.</span><span class="ident" id="1467051">integer</span><span class="op" id="1467058">(</span><span class="ident" id="1467059">v</span><span class="op" id="1467060">,</span>&nbsp;<span class="num" id="1467062">16</span><span class="op" id="1467064">,</span>&nbsp;<span class="ident" id="1467066">signed</span><span class="op" id="1467072">,</span>&nbsp;<span class="ident" id="1467074">udigits</span><span class="op" id="1467081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467084">default</span><span class="op" id="1467091">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467095">p</span><span class="op" id="1467096">.</span><span class="ident" id="1467097">badVerb</span><span class="op" id="1467104">(</span><span class="ident" id="1467105">verb</span><span class="op" id="1467109">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467112">}</span><br>
<span class="lineno"></span><span class="op" id="1467114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1467117">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1467187">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="1467248">func</span>&nbsp;<span class="op" id="1467253">(</span><span class="ident" id="1467254">p</span>&nbsp;<span class="op" id="1467256">*</span><span class="ident" id="1467257">pp</span><span class="op" id="1467259">)</span>&nbsp;<span class="ident" id="1467261">fmt0x64</span><span class="op" id="1467268">(</span><span class="ident" id="1467269">v</span>&nbsp;<span class="ident" id="1467271">uint64</span><span class="op" id="1467277">,</span>&nbsp;<span class="ident" id="1467279">leading0x</span>&nbsp;<span class="builtintype" id="1467289">bool</span><span class="op" id="1467293">)</span>&nbsp;<span class="op" id="1467295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467298">sharp</span>&nbsp;<span class="op" id="1467304">:=</span>&nbsp;<span class="ident" id="1467307">p</span><span class="op" id="1467308">.</span><span class="ident" id="1467309">fmt</span><span class="op" id="1467312">.</span><span class="ident" id="1467313">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467320">p</span><span class="op" id="1467321">.</span><span class="ident" id="1467322">fmt</span><span class="op" id="1467325">.</span><span class="ident" id="1467326">sharp</span>&nbsp;<span class="op" id="1467332">=</span>&nbsp;<span class="ident" id="1467334">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467345">p</span><span class="op" id="1467346">.</span><span class="ident" id="1467347">fmt</span><span class="op" id="1467350">.</span><span class="ident" id="1467351">integer</span><span class="op" id="1467358">(</span><span class="ident" id="1467359">int64</span><span class="op" id="1467364">(</span><span class="ident" id="1467365">v</span><span class="op" id="1467366">)</span><span class="op" id="1467367">,</span>&nbsp;<span class="num" id="1467369">16</span><span class="op" id="1467371">,</span>&nbsp;<span class="ident" id="1467373">unsigned</span><span class="op" id="1467381">,</span>&nbsp;<span class="ident" id="1467383">ldigits</span><span class="op" id="1467390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467393">p</span><span class="op" id="1467394">.</span><span class="ident" id="1467395">fmt</span><span class="op" id="1467398">.</span><span class="ident" id="1467399">sharp</span>&nbsp;<span class="op" id="1467405">=</span>&nbsp;<span class="ident" id="1467407">sharp</span><br>
<span class="lineno">385</span><span class="op" id="1467413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1467416">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="1467465">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="1467536">func</span>&nbsp;<span class="op" id="1467541">(</span><span class="ident" id="1467542">p</span>&nbsp;<span class="op" id="1467544">*</span><span class="ident" id="1467545">pp</span><span class="op" id="1467547">)</span>&nbsp;<span class="ident" id="1467549">fmtUnicode</span><span class="op" id="1467559">(</span><span class="ident" id="1467560">v</span>&nbsp;<span class="ident" id="1467562">int64</span><span class="op" id="1467567">)</span>&nbsp;<span class="op" id="1467569">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467572">precPresent</span>&nbsp;<span class="op" id="1467584">:=</span>&nbsp;<span class="ident" id="1467587">p</span><span class="op" id="1467588">.</span><span class="ident" id="1467589">fmt</span><span class="op" id="1467592">.</span><span class="ident" id="1467593">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467606">sharp</span>&nbsp;<span class="op" id="1467612">:=</span>&nbsp;<span class="ident" id="1467615">p</span><span class="op" id="1467616">.</span><span class="ident" id="1467617">fmt</span><span class="op" id="1467620">.</span><span class="ident" id="1467621">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467628">p</span><span class="op" id="1467629">.</span><span class="ident" id="1467630">fmt</span><span class="op" id="1467633">.</span><span class="ident" id="1467634">sharp</span>&nbsp;<span class="op" id="1467640">=</span>&nbsp;<span class="builtintype" id="1467642">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467649">prec</span>&nbsp;<span class="op" id="1467654">:=</span>&nbsp;<span class="ident" id="1467657">p</span><span class="op" id="1467658">.</span><span class="ident" id="1467659">fmt</span><span class="op" id="1467662">.</span><span class="ident" id="1467663">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1467669">if</span>&nbsp;<span class="op" id="1467672">!</span><span class="ident" id="1467673">precPresent</span>&nbsp;<span class="op" id="1467685">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1467689">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467758">p</span><span class="op" id="1467759">.</span><span class="ident" id="1467760">fmt</span><span class="op" id="1467763">.</span><span class="ident" id="1467764">prec</span>&nbsp;<span class="op" id="1467769">=</span>&nbsp;<span class="num" id="1467771">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467775">p</span><span class="op" id="1467776">.</span><span class="ident" id="1467777">fmt</span><span class="op" id="1467780">.</span><span class="ident" id="1467781">precPresent</span>&nbsp;<span class="op" id="1467793">=</span>&nbsp;<span class="builtintype" id="1467795">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1467801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467804">p</span><span class="op" id="1467805">.</span><span class="ident" id="1467806">fmt</span><span class="op" id="1467809">.</span><span class="ident" id="1467810">unicode</span>&nbsp;<span class="op" id="1467818">=</span>&nbsp;<span class="builtintype" id="1467820">true</span>&nbsp;<span class="comment" id="1467825">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467840">p</span><span class="op" id="1467841">.</span><span class="ident" id="1467842">fmt</span><span class="op" id="1467845">.</span><span class="ident" id="1467846">uniQuote</span>&nbsp;<span class="op" id="1467855">=</span>&nbsp;<span class="ident" id="1467857">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467864">p</span><span class="op" id="1467865">.</span><span class="ident" id="1467866">fmt</span><span class="op" id="1467869">.</span><span class="ident" id="1467870">integer</span><span class="op" id="1467877">(</span><span class="ident" id="1467878">int64</span><span class="op" id="1467883">(</span><span class="ident" id="1467884">v</span><span class="op" id="1467885">)</span><span class="op" id="1467886">,</span>&nbsp;<span class="num" id="1467888">16</span><span class="op" id="1467890">,</span>&nbsp;<span class="ident" id="1467892">unsigned</span><span class="op" id="1467900">,</span>&nbsp;<span class="ident" id="1467902">udigits</span><span class="op" id="1467909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467912">p</span><span class="op" id="1467913">.</span><span class="ident" id="1467914">fmt</span><span class="op" id="1467917">.</span><span class="ident" id="1467918">unicode</span>&nbsp;<span class="op" id="1467926">=</span>&nbsp;<span class="builtintype" id="1467928">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467935">p</span><span class="op" id="1467936">.</span><span class="ident" id="1467937">fmt</span><span class="op" id="1467940">.</span><span class="ident" id="1467941">uniQuote</span>&nbsp;<span class="op" id="1467950">=</span>&nbsp;<span class="builtintype" id="1467952">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467959">p</span><span class="op" id="1467960">.</span><span class="ident" id="1467961">fmt</span><span class="op" id="1467964">.</span><span class="ident" id="1467965">prec</span>&nbsp;<span class="op" id="1467970">=</span>&nbsp;<span class="ident" id="1467972">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1467978">p</span><span class="op" id="1467979">.</span><span class="ident" id="1467980">fmt</span><span class="op" id="1467983">.</span><span class="ident" id="1467984">precPresent</span>&nbsp;<span class="op" id="1467996">=</span>&nbsp;<span class="ident" id="1467998">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468011">p</span><span class="op" id="1468012">.</span><span class="ident" id="1468013">fmt</span><span class="op" id="1468016">.</span><span class="ident" id="1468017">sharp</span>&nbsp;<span class="op" id="1468023">=</span>&nbsp;<span class="ident" id="1468025">sharp</span><br>
<span class="lineno"></span><span class="op" id="1468031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1468034">func</span>&nbsp;<span class="op" id="1468039">(</span><span class="ident" id="1468040">p</span>&nbsp;<span class="op" id="1468042">*</span><span class="ident" id="1468043">pp</span><span class="op" id="1468045">)</span>&nbsp;<span class="ident" id="1468047">fmtUint64</span><span class="op" id="1468056">(</span><span class="ident" id="1468057">v</span>&nbsp;<span class="ident" id="1468059">uint64</span><span class="op" id="1468065">,</span>&nbsp;<span class="ident" id="1468067">verb</span>&nbsp;<span class="builtintype" id="1468072">rune</span><span class="op" id="1468076">)</span>&nbsp;<span class="op" id="1468078">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468081">switch</span>&nbsp;<span class="ident" id="1468088">verb</span>&nbsp;<span class="op" id="1468093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468096">case</span>&nbsp;<span class="string" id="1468101">&#39;b&#39;</span><span class="op" id="1468104">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468108">p</span><span class="op" id="1468109">.</span><span class="ident" id="1468110">fmt</span><span class="op" id="1468113">.</span><span class="ident" id="1468114">integer</span><span class="op" id="1468121">(</span><span class="ident" id="1468122">int64</span><span class="op" id="1468127">(</span><span class="ident" id="1468128">v</span><span class="op" id="1468129">)</span><span class="op" id="1468130">,</span>&nbsp;<span class="num" id="1468132">2</span><span class="op" id="1468133">,</span>&nbsp;<span class="ident" id="1468135">unsigned</span><span class="op" id="1468143">,</span>&nbsp;<span class="ident" id="1468145">ldigits</span><span class="op" id="1468152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468155">case</span>&nbsp;<span class="string" id="1468160">&#39;c&#39;</span><span class="op" id="1468163">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468167">p</span><span class="op" id="1468168">.</span><span class="ident" id="1468169">fmtC</span><span class="op" id="1468173">(</span><span class="ident" id="1468174">int64</span><span class="op" id="1468179">(</span><span class="ident" id="1468180">v</span><span class="op" id="1468181">)</span><span class="op" id="1468182">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468185">case</span>&nbsp;<span class="string" id="1468190">&#39;d&#39;</span><span class="op" id="1468193">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468197">p</span><span class="op" id="1468198">.</span><span class="ident" id="1468199">fmt</span><span class="op" id="1468202">.</span><span class="ident" id="1468203">integer</span><span class="op" id="1468210">(</span><span class="ident" id="1468211">int64</span><span class="op" id="1468216">(</span><span class="ident" id="1468217">v</span><span class="op" id="1468218">)</span><span class="op" id="1468219">,</span>&nbsp;<span class="num" id="1468221">10</span><span class="op" id="1468223">,</span>&nbsp;<span class="ident" id="1468225">unsigned</span><span class="op" id="1468233">,</span>&nbsp;<span class="ident" id="1468235">ldigits</span><span class="op" id="1468242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468245">case</span>&nbsp;<span class="string" id="1468250">&#39;v&#39;</span><span class="op" id="1468253">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468257">if</span>&nbsp;<span class="ident" id="1468260">p</span><span class="op" id="1468261">.</span><span class="ident" id="1468262">fmt</span><span class="op" id="1468265">.</span><span class="ident" id="1468266">sharpV</span>&nbsp;<span class="op" id="1468273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468278">p</span><span class="op" id="1468279">.</span><span class="ident" id="1468280">fmt0x64</span><span class="op" id="1468287">(</span><span class="ident" id="1468288">v</span><span class="op" id="1468289">,</span>&nbsp;<span class="builtintype" id="1468291">true</span><span class="op" id="1468295">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468299">}</span>&nbsp;<span class="keyword" id="1468301">else</span>&nbsp;<span class="op" id="1468306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468311">p</span><span class="op" id="1468312">.</span><span class="ident" id="1468313">fmt</span><span class="op" id="1468316">.</span><span class="ident" id="1468317">integer</span><span class="op" id="1468324">(</span><span class="ident" id="1468325">int64</span><span class="op" id="1468330">(</span><span class="ident" id="1468331">v</span><span class="op" id="1468332">)</span><span class="op" id="1468333">,</span>&nbsp;<span class="num" id="1468335">10</span><span class="op" id="1468337">,</span>&nbsp;<span class="ident" id="1468339">unsigned</span><span class="op" id="1468347">,</span>&nbsp;<span class="ident" id="1468349">ldigits</span><span class="op" id="1468356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468363">case</span>&nbsp;<span class="string" id="1468368">&#39;o&#39;</span><span class="op" id="1468371">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468375">p</span><span class="op" id="1468376">.</span><span class="ident" id="1468377">fmt</span><span class="op" id="1468380">.</span><span class="ident" id="1468381">integer</span><span class="op" id="1468388">(</span><span class="ident" id="1468389">int64</span><span class="op" id="1468394">(</span><span class="ident" id="1468395">v</span><span class="op" id="1468396">)</span><span class="op" id="1468397">,</span>&nbsp;<span class="num" id="1468399">8</span><span class="op" id="1468400">,</span>&nbsp;<span class="ident" id="1468402">unsigned</span><span class="op" id="1468410">,</span>&nbsp;<span class="ident" id="1468412">ldigits</span><span class="op" id="1468419">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468422">case</span>&nbsp;<span class="string" id="1468427">&#39;q&#39;</span><span class="op" id="1468430">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468434">if</span>&nbsp;<span class="num" id="1468437">0</span>&nbsp;<span class="op" id="1468439">&lt;=</span>&nbsp;<span class="ident" id="1468442">v</span>&nbsp;<span class="op" id="1468444">&amp;&amp;</span>&nbsp;<span class="ident" id="1468447">v</span>&nbsp;<span class="op" id="1468449">&lt;=</span>&nbsp;<span class="ident" id="1468452">utf8</span><span class="op" id="1468456">.</span><span class="ident" id="1468457">MaxRune</span>&nbsp;<span class="op" id="1468465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468470">p</span><span class="op" id="1468471">.</span><span class="ident" id="1468472">fmt</span><span class="op" id="1468475">.</span><span class="ident" id="1468476">fmt_qc</span><span class="op" id="1468482">(</span><span class="ident" id="1468483">int64</span><span class="op" id="1468488">(</span><span class="ident" id="1468489">v</span><span class="op" id="1468490">)</span><span class="op" id="1468491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468495">}</span>&nbsp;<span class="keyword" id="1468497">else</span>&nbsp;<span class="op" id="1468502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468507">p</span><span class="op" id="1468508">.</span><span class="ident" id="1468509">badVerb</span><span class="op" id="1468516">(</span><span class="ident" id="1468517">verb</span><span class="op" id="1468521">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468528">case</span>&nbsp;<span class="string" id="1468533">&#39;x&#39;</span><span class="op" id="1468536">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468540">p</span><span class="op" id="1468541">.</span><span class="ident" id="1468542">fmt</span><span class="op" id="1468545">.</span><span class="ident" id="1468546">integer</span><span class="op" id="1468553">(</span><span class="ident" id="1468554">int64</span><span class="op" id="1468559">(</span><span class="ident" id="1468560">v</span><span class="op" id="1468561">)</span><span class="op" id="1468562">,</span>&nbsp;<span class="num" id="1468564">16</span><span class="op" id="1468566">,</span>&nbsp;<span class="ident" id="1468568">unsigned</span><span class="op" id="1468576">,</span>&nbsp;<span class="ident" id="1468578">ldigits</span><span class="op" id="1468585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468588">case</span>&nbsp;<span class="string" id="1468593">&#39;X&#39;</span><span class="op" id="1468596">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468600">p</span><span class="op" id="1468601">.</span><span class="ident" id="1468602">fmt</span><span class="op" id="1468605">.</span><span class="ident" id="1468606">integer</span><span class="op" id="1468613">(</span><span class="ident" id="1468614">int64</span><span class="op" id="1468619">(</span><span class="ident" id="1468620">v</span><span class="op" id="1468621">)</span><span class="op" id="1468622">,</span>&nbsp;<span class="num" id="1468624">16</span><span class="op" id="1468626">,</span>&nbsp;<span class="ident" id="1468628">unsigned</span><span class="op" id="1468636">,</span>&nbsp;<span class="ident" id="1468638">udigits</span><span class="op" id="1468645">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468648">case</span>&nbsp;<span class="string" id="1468653">&#39;U&#39;</span><span class="op" id="1468656">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468660">p</span><span class="op" id="1468661">.</span><span class="ident" id="1468662">fmtUnicode</span><span class="op" id="1468672">(</span><span class="ident" id="1468673">int64</span><span class="op" id="1468678">(</span><span class="ident" id="1468679">v</span><span class="op" id="1468680">)</span><span class="op" id="1468681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468684">default</span><span class="op" id="1468691">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468695">p</span><span class="op" id="1468696">.</span><span class="ident" id="1468697">badVerb</span><span class="op" id="1468704">(</span><span class="ident" id="1468705">verb</span><span class="op" id="1468709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1468712">}</span><br>
<span class="lineno">440</span><span class="op" id="1468714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1468717">func</span>&nbsp;<span class="op" id="1468722">(</span><span class="ident" id="1468723">p</span>&nbsp;<span class="op" id="1468725">*</span><span class="ident" id="1468726">pp</span><span class="op" id="1468728">)</span>&nbsp;<span class="ident" id="1468730">fmtFloat32</span><span class="op" id="1468740">(</span><span class="ident" id="1468741">v</span>&nbsp;<span class="builtintype" id="1468743">float32</span><span class="op" id="1468750">,</span>&nbsp;<span class="ident" id="1468752">verb</span>&nbsp;<span class="builtintype" id="1468757">rune</span><span class="op" id="1468761">)</span>&nbsp;<span class="op" id="1468763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468766">switch</span>&nbsp;<span class="ident" id="1468773">verb</span>&nbsp;<span class="op" id="1468778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468781">case</span>&nbsp;<span class="string" id="1468786">&#39;b&#39;</span><span class="op" id="1468789">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468793">p</span><span class="op" id="1468794">.</span><span class="ident" id="1468795">fmt</span><span class="op" id="1468798">.</span><span class="ident" id="1468799">fmt_fb32</span><span class="op" id="1468807">(</span><span class="ident" id="1468808">v</span><span class="op" id="1468809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468812">case</span>&nbsp;<span class="string" id="1468817">&#39;e&#39;</span><span class="op" id="1468820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468824">p</span><span class="op" id="1468825">.</span><span class="ident" id="1468826">fmt</span><span class="op" id="1468829">.</span><span class="ident" id="1468830">fmt_e32</span><span class="op" id="1468837">(</span><span class="ident" id="1468838">v</span><span class="op" id="1468839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468842">case</span>&nbsp;<span class="string" id="1468847">&#39;E&#39;</span><span class="op" id="1468850">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468854">p</span><span class="op" id="1468855">.</span><span class="ident" id="1468856">fmt</span><span class="op" id="1468859">.</span><span class="ident" id="1468860">fmt_E32</span><span class="op" id="1468867">(</span><span class="ident" id="1468868">v</span><span class="op" id="1468869">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468872">case</span>&nbsp;<span class="string" id="1468877">&#39;f&#39;</span><span class="op" id="1468880">,</span>&nbsp;<span class="string" id="1468882">&#39;F&#39;</span><span class="op" id="1468885">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468889">p</span><span class="op" id="1468890">.</span><span class="ident" id="1468891">fmt</span><span class="op" id="1468894">.</span><span class="ident" id="1468895">fmt_f32</span><span class="op" id="1468902">(</span><span class="ident" id="1468903">v</span><span class="op" id="1468904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468907">case</span>&nbsp;<span class="string" id="1468912">&#39;g&#39;</span><span class="op" id="1468915">,</span>&nbsp;<span class="string" id="1468917">&#39;v&#39;</span><span class="op" id="1468920">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468924">p</span><span class="op" id="1468925">.</span><span class="ident" id="1468926">fmt</span><span class="op" id="1468929">.</span><span class="ident" id="1468930">fmt_g32</span><span class="op" id="1468937">(</span><span class="ident" id="1468938">v</span><span class="op" id="1468939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468942">case</span>&nbsp;<span class="string" id="1468947">&#39;G&#39;</span><span class="op" id="1468950">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468954">p</span><span class="op" id="1468955">.</span><span class="ident" id="1468956">fmt</span><span class="op" id="1468959">.</span><span class="ident" id="1468960">fmt_G32</span><span class="op" id="1468967">(</span><span class="ident" id="1468968">v</span><span class="op" id="1468969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1468972">default</span><span class="op" id="1468979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1468983">p</span><span class="op" id="1468984">.</span><span class="ident" id="1468985">badVerb</span><span class="op" id="1468992">(</span><span class="ident" id="1468993">verb</span><span class="op" id="1468997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1469000">}</span><br>
<span class="lineno"></span><span class="op" id="1469002">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="1469005">func</span>&nbsp;<span class="op" id="1469010">(</span><span class="ident" id="1469011">p</span>&nbsp;<span class="op" id="1469013">*</span><span class="ident" id="1469014">pp</span><span class="op" id="1469016">)</span>&nbsp;<span class="ident" id="1469018">fmtFloat64</span><span class="op" id="1469028">(</span><span class="ident" id="1469029">v</span>&nbsp;<span class="builtintype" id="1469031">float64</span><span class="op" id="1469038">,</span>&nbsp;<span class="ident" id="1469040">verb</span>&nbsp;<span class="builtintype" id="1469045">rune</span><span class="op" id="1469049">)</span>&nbsp;<span class="op" id="1469051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469054">switch</span>&nbsp;<span class="ident" id="1469061">verb</span>&nbsp;<span class="op" id="1469066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469069">case</span>&nbsp;<span class="string" id="1469074">&#39;b&#39;</span><span class="op" id="1469077">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469081">p</span><span class="op" id="1469082">.</span><span class="ident" id="1469083">fmt</span><span class="op" id="1469086">.</span><span class="ident" id="1469087">fmt_fb64</span><span class="op" id="1469095">(</span><span class="ident" id="1469096">v</span><span class="op" id="1469097">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469100">case</span>&nbsp;<span class="string" id="1469105">&#39;e&#39;</span><span class="op" id="1469108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469112">p</span><span class="op" id="1469113">.</span><span class="ident" id="1469114">fmt</span><span class="op" id="1469117">.</span><span class="ident" id="1469118">fmt_e64</span><span class="op" id="1469125">(</span><span class="ident" id="1469126">v</span><span class="op" id="1469127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469130">case</span>&nbsp;<span class="string" id="1469135">&#39;E&#39;</span><span class="op" id="1469138">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469142">p</span><span class="op" id="1469143">.</span><span class="ident" id="1469144">fmt</span><span class="op" id="1469147">.</span><span class="ident" id="1469148">fmt_E64</span><span class="op" id="1469155">(</span><span class="ident" id="1469156">v</span><span class="op" id="1469157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469160">case</span>&nbsp;<span class="string" id="1469165">&#39;f&#39;</span><span class="op" id="1469168">,</span>&nbsp;<span class="string" id="1469170">&#39;F&#39;</span><span class="op" id="1469173">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469177">p</span><span class="op" id="1469178">.</span><span class="ident" id="1469179">fmt</span><span class="op" id="1469182">.</span><span class="ident" id="1469183">fmt_f64</span><span class="op" id="1469190">(</span><span class="ident" id="1469191">v</span><span class="op" id="1469192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469195">case</span>&nbsp;<span class="string" id="1469200">&#39;g&#39;</span><span class="op" id="1469203">,</span>&nbsp;<span class="string" id="1469205">&#39;v&#39;</span><span class="op" id="1469208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469212">p</span><span class="op" id="1469213">.</span><span class="ident" id="1469214">fmt</span><span class="op" id="1469217">.</span><span class="ident" id="1469218">fmt_g64</span><span class="op" id="1469225">(</span><span class="ident" id="1469226">v</span><span class="op" id="1469227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469230">case</span>&nbsp;<span class="string" id="1469235">&#39;G&#39;</span><span class="op" id="1469238">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469242">p</span><span class="op" id="1469243">.</span><span class="ident" id="1469244">fmt</span><span class="op" id="1469247">.</span><span class="ident" id="1469248">fmt_G64</span><span class="op" id="1469255">(</span><span class="ident" id="1469256">v</span><span class="op" id="1469257">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469260">default</span><span class="op" id="1469267">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469271">p</span><span class="op" id="1469272">.</span><span class="ident" id="1469273">badVerb</span><span class="op" id="1469280">(</span><span class="ident" id="1469281">verb</span><span class="op" id="1469285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1469288">}</span><br>
<span class="lineno"></span><span class="op" id="1469290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="1469293">func</span>&nbsp;<span class="op" id="1469298">(</span><span class="ident" id="1469299">p</span>&nbsp;<span class="op" id="1469301">*</span><span class="ident" id="1469302">pp</span><span class="op" id="1469304">)</span>&nbsp;<span class="ident" id="1469306">fmtComplex64</span><span class="op" id="1469318">(</span><span class="ident" id="1469319">v</span>&nbsp;<span class="builtintype" id="1469321">complex64</span><span class="op" id="1469330">,</span>&nbsp;<span class="ident" id="1469332">verb</span>&nbsp;<span class="builtintype" id="1469337">rune</span><span class="op" id="1469341">)</span>&nbsp;<span class="op" id="1469343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469346">switch</span>&nbsp;<span class="ident" id="1469353">verb</span>&nbsp;<span class="op" id="1469358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469361">case</span>&nbsp;<span class="string" id="1469366">&#39;b&#39;</span><span class="op" id="1469369">,</span>&nbsp;<span class="string" id="1469371">&#39;e&#39;</span><span class="op" id="1469374">,</span>&nbsp;<span class="string" id="1469376">&#39;E&#39;</span><span class="op" id="1469379">,</span>&nbsp;<span class="string" id="1469381">&#39;f&#39;</span><span class="op" id="1469384">,</span>&nbsp;<span class="string" id="1469386">&#39;F&#39;</span><span class="op" id="1469389">,</span>&nbsp;<span class="string" id="1469391">&#39;g&#39;</span><span class="op" id="1469394">,</span>&nbsp;<span class="string" id="1469396">&#39;G&#39;</span><span class="op" id="1469399">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469403">p</span><span class="op" id="1469404">.</span><span class="ident" id="1469405">fmt</span><span class="op" id="1469408">.</span><span class="ident" id="1469409">fmt_c64</span><span class="op" id="1469416">(</span><span class="ident" id="1469417">v</span><span class="op" id="1469418">,</span>&nbsp;<span class="ident" id="1469420">verb</span><span class="op" id="1469424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469427">case</span>&nbsp;<span class="string" id="1469432">&#39;v&#39;</span><span class="op" id="1469435">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469439">p</span><span class="op" id="1469440">.</span><span class="ident" id="1469441">fmt</span><span class="op" id="1469444">.</span><span class="ident" id="1469445">fmt_c64</span><span class="op" id="1469452">(</span><span class="ident" id="1469453">v</span><span class="op" id="1469454">,</span>&nbsp;<span class="string" id="1469456">&#39;g&#39;</span><span class="op" id="1469459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469462">default</span><span class="op" id="1469469">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469473">p</span><span class="op" id="1469474">.</span><span class="ident" id="1469475">badVerb</span><span class="op" id="1469482">(</span><span class="ident" id="1469483">verb</span><span class="op" id="1469487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1469490">}</span><br>
<span class="lineno"></span><span class="op" id="1469492">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="1469495">func</span>&nbsp;<span class="op" id="1469500">(</span><span class="ident" id="1469501">p</span>&nbsp;<span class="op" id="1469503">*</span><span class="ident" id="1469504">pp</span><span class="op" id="1469506">)</span>&nbsp;<span class="ident" id="1469508">fmtComplex128</span><span class="op" id="1469521">(</span><span class="ident" id="1469522">v</span>&nbsp;<span class="builtintype" id="1469524">complex128</span><span class="op" id="1469534">,</span>&nbsp;<span class="ident" id="1469536">verb</span>&nbsp;<span class="builtintype" id="1469541">rune</span><span class="op" id="1469545">)</span>&nbsp;<span class="op" id="1469547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469550">switch</span>&nbsp;<span class="ident" id="1469557">verb</span>&nbsp;<span class="op" id="1469562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469565">case</span>&nbsp;<span class="string" id="1469570">&#39;b&#39;</span><span class="op" id="1469573">,</span>&nbsp;<span class="string" id="1469575">&#39;e&#39;</span><span class="op" id="1469578">,</span>&nbsp;<span class="string" id="1469580">&#39;E&#39;</span><span class="op" id="1469583">,</span>&nbsp;<span class="string" id="1469585">&#39;f&#39;</span><span class="op" id="1469588">,</span>&nbsp;<span class="string" id="1469590">&#39;F&#39;</span><span class="op" id="1469593">,</span>&nbsp;<span class="string" id="1469595">&#39;g&#39;</span><span class="op" id="1469598">,</span>&nbsp;<span class="string" id="1469600">&#39;G&#39;</span><span class="op" id="1469603">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469607">p</span><span class="op" id="1469608">.</span><span class="ident" id="1469609">fmt</span><span class="op" id="1469612">.</span><span class="ident" id="1469613">fmt_c128</span><span class="op" id="1469621">(</span><span class="ident" id="1469622">v</span><span class="op" id="1469623">,</span>&nbsp;<span class="ident" id="1469625">verb</span><span class="op" id="1469629">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469632">case</span>&nbsp;<span class="string" id="1469637">&#39;v&#39;</span><span class="op" id="1469640">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469644">p</span><span class="op" id="1469645">.</span><span class="ident" id="1469646">fmt</span><span class="op" id="1469649">.</span><span class="ident" id="1469650">fmt_c128</span><span class="op" id="1469658">(</span><span class="ident" id="1469659">v</span><span class="op" id="1469660">,</span>&nbsp;<span class="string" id="1469662">&#39;g&#39;</span><span class="op" id="1469665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469668">default</span><span class="op" id="1469675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469679">p</span><span class="op" id="1469680">.</span><span class="ident" id="1469681">badVerb</span><span class="op" id="1469688">(</span><span class="ident" id="1469689">verb</span><span class="op" id="1469693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1469696">}</span><br>
<span class="lineno">500</span><span class="op" id="1469698">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1469701">func</span>&nbsp;<span class="op" id="1469706">(</span><span class="ident" id="1469707">p</span>&nbsp;<span class="op" id="1469709">*</span><span class="ident" id="1469710">pp</span><span class="op" id="1469712">)</span>&nbsp;<span class="ident" id="1469714">fmtString</span><span class="op" id="1469723">(</span><span class="ident" id="1469724">v</span>&nbsp;<span class="builtintype" id="1469726">string</span><span class="op" id="1469732">,</span>&nbsp;<span class="ident" id="1469734">verb</span>&nbsp;<span class="builtintype" id="1469739">rune</span><span class="op" id="1469743">)</span>&nbsp;<span class="op" id="1469745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469748">switch</span>&nbsp;<span class="ident" id="1469755">verb</span>&nbsp;<span class="op" id="1469760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469763">case</span>&nbsp;<span class="string" id="1469768">&#39;v&#39;</span><span class="op" id="1469771">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469775">if</span>&nbsp;<span class="ident" id="1469778">p</span><span class="op" id="1469779">.</span><span class="ident" id="1469780">fmt</span><span class="op" id="1469783">.</span><span class="ident" id="1469784">sharpV</span>&nbsp;<span class="op" id="1469791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469796">p</span><span class="op" id="1469797">.</span><span class="ident" id="1469798">fmt</span><span class="op" id="1469801">.</span><span class="ident" id="1469802">fmt_q</span><span class="op" id="1469807">(</span><span class="ident" id="1469808">v</span><span class="op" id="1469809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1469813">}</span>&nbsp;<span class="keyword" id="1469815">else</span>&nbsp;<span class="op" id="1469820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469825">p</span><span class="op" id="1469826">.</span><span class="ident" id="1469827">fmt</span><span class="op" id="1469830">.</span><span class="ident" id="1469831">fmt_s</span><span class="op" id="1469836">(</span><span class="ident" id="1469837">v</span><span class="op" id="1469838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1469842">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469845">case</span>&nbsp;<span class="string" id="1469850">&#39;s&#39;</span><span class="op" id="1469853">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469857">p</span><span class="op" id="1469858">.</span><span class="ident" id="1469859">fmt</span><span class="op" id="1469862">.</span><span class="ident" id="1469863">fmt_s</span><span class="op" id="1469868">(</span><span class="ident" id="1469869">v</span><span class="op" id="1469870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469873">case</span>&nbsp;<span class="string" id="1469878">&#39;x&#39;</span><span class="op" id="1469881">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469885">p</span><span class="op" id="1469886">.</span><span class="ident" id="1469887">fmt</span><span class="op" id="1469890">.</span><span class="ident" id="1469891">fmt_sx</span><span class="op" id="1469897">(</span><span class="ident" id="1469898">v</span><span class="op" id="1469899">,</span>&nbsp;<span class="ident" id="1469901">ldigits</span><span class="op" id="1469908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469911">case</span>&nbsp;<span class="string" id="1469916">&#39;X&#39;</span><span class="op" id="1469919">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469923">p</span><span class="op" id="1469924">.</span><span class="ident" id="1469925">fmt</span><span class="op" id="1469928">.</span><span class="ident" id="1469929">fmt_sx</span><span class="op" id="1469935">(</span><span class="ident" id="1469936">v</span><span class="op" id="1469937">,</span>&nbsp;<span class="ident" id="1469939">udigits</span><span class="op" id="1469946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469949">case</span>&nbsp;<span class="string" id="1469954">&#39;q&#39;</span><span class="op" id="1469957">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469961">p</span><span class="op" id="1469962">.</span><span class="ident" id="1469963">fmt</span><span class="op" id="1469966">.</span><span class="ident" id="1469967">fmt_q</span><span class="op" id="1469972">(</span><span class="ident" id="1469973">v</span><span class="op" id="1469974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1469977">default</span><span class="op" id="1469984">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1469988">p</span><span class="op" id="1469989">.</span><span class="ident" id="1469990">badVerb</span><span class="op" id="1469997">(</span><span class="ident" id="1469998">verb</span><span class="op" id="1470002">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470005">}</span><br>
<span class="lineno"></span><span class="op" id="1470007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1470010">func</span>&nbsp;<span class="op" id="1470015">(</span><span class="ident" id="1470016">p</span>&nbsp;<span class="op" id="1470018">*</span><span class="ident" id="1470019">pp</span><span class="op" id="1470021">)</span>&nbsp;<span class="ident" id="1470023">fmtBytes</span><span class="op" id="1470031">(</span><span class="ident" id="1470032">v</span>&nbsp;<span class="op" id="1470034">[</span><span class="op" id="1470035">]</span><span class="builtintype" id="1470036">byte</span><span class="op" id="1470040">,</span>&nbsp;<span class="ident" id="1470042">verb</span>&nbsp;<span class="builtintype" id="1470047">rune</span><span class="op" id="1470051">,</span>&nbsp;<span class="ident" id="1470053">typ</span>&nbsp;<span class="ident" id="1470057">reflect</span><span class="op" id="1470064">.</span><span class="ident" id="1470065">Type</span><span class="op" id="1470069">,</span>&nbsp;<span class="ident" id="1470071">depth</span>&nbsp;<span class="builtintype" id="1470077">int</span><span class="op" id="1470080">)</span>&nbsp;<span class="op" id="1470082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470085">if</span>&nbsp;<span class="ident" id="1470088">verb</span>&nbsp;<span class="op" id="1470093">==</span>&nbsp;<span class="string" id="1470096">&#39;v&#39;</span>&nbsp;<span class="op" id="1470100">||</span>&nbsp;<span class="ident" id="1470103">verb</span>&nbsp;<span class="op" id="1470108">==</span>&nbsp;<span class="string" id="1470111">&#39;d&#39;</span>&nbsp;<span class="op" id="1470115">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470119">if</span>&nbsp;<span class="ident" id="1470122">p</span><span class="op" id="1470123">.</span><span class="ident" id="1470124">fmt</span><span class="op" id="1470127">.</span><span class="ident" id="1470128">sharpV</span>&nbsp;<span class="op" id="1470135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470140">if</span>&nbsp;<span class="ident" id="1470143">v</span>&nbsp;<span class="op" id="1470145">==</span>&nbsp;<span class="ident" id="1470148">nil</span>&nbsp;<span class="op" id="1470152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470158">if</span>&nbsp;<span class="ident" id="1470161">typ</span>&nbsp;<span class="op" id="1470165">==</span>&nbsp;<span class="ident" id="1470168">nil</span>&nbsp;<span class="op" id="1470172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470179">p</span><span class="op" id="1470180">.</span><span class="ident" id="1470181">buf</span><span class="op" id="1470184">.</span><span class="ident" id="1470185">WriteString</span><span class="op" id="1470196">(</span><span class="string" id="1470197">&#34;[]byte(nil)&#34;</span><span class="op" id="1470210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470216">}</span>&nbsp;<span class="keyword" id="1470218">else</span>&nbsp;<span class="op" id="1470223">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470230">p</span><span class="op" id="1470231">.</span><span class="ident" id="1470232">buf</span><span class="op" id="1470235">.</span><span class="ident" id="1470236">WriteString</span><span class="op" id="1470247">(</span><span class="ident" id="1470248">typ</span><span class="op" id="1470251">.</span><span class="ident" id="1470252">String</span><span class="op" id="1470258">(</span><span class="op" id="1470259">)</span><span class="op" id="1470260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470267">p</span><span class="op" id="1470268">.</span><span class="ident" id="1470269">buf</span><span class="op" id="1470272">.</span><span class="ident" id="1470273">Write</span><span class="op" id="1470278">(</span><span class="ident" id="1470279">nilParenBytes</span><span class="op" id="1470292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470304">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470314">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470319">if</span>&nbsp;<span class="ident" id="1470322">typ</span>&nbsp;<span class="op" id="1470326">==</span>&nbsp;<span class="ident" id="1470329">nil</span>&nbsp;<span class="op" id="1470333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470339">p</span><span class="op" id="1470340">.</span><span class="ident" id="1470341">buf</span><span class="op" id="1470344">.</span><span class="ident" id="1470345">Write</span><span class="op" id="1470350">(</span><span class="ident" id="1470351">bytesBytes</span><span class="op" id="1470361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470366">}</span>&nbsp;<span class="keyword" id="1470368">else</span>&nbsp;<span class="op" id="1470373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470379">p</span><span class="op" id="1470380">.</span><span class="ident" id="1470381">buf</span><span class="op" id="1470384">.</span><span class="ident" id="1470385">WriteString</span><span class="op" id="1470396">(</span><span class="ident" id="1470397">typ</span><span class="op" id="1470400">.</span><span class="ident" id="1470401">String</span><span class="op" id="1470407">(</span><span class="op" id="1470408">)</span><span class="op" id="1470409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470415">p</span><span class="op" id="1470416">.</span><span class="ident" id="1470417">buf</span><span class="op" id="1470420">.</span><span class="ident" id="1470421">WriteByte</span><span class="op" id="1470430">(</span><span class="string" id="1470431">&#39;{&#39;</span><span class="op" id="1470434">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470443">}</span>&nbsp;<span class="keyword" id="1470445">else</span>&nbsp;<span class="op" id="1470450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470455">p</span><span class="op" id="1470456">.</span><span class="ident" id="1470457">buf</span><span class="op" id="1470460">.</span><span class="ident" id="1470461">WriteByte</span><span class="op" id="1470470">(</span><span class="string" id="1470471">&#39;[&#39;</span><span class="op" id="1470474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470482">for</span>&nbsp;<span class="ident" id="1470486">i</span><span class="op" id="1470487">,</span>&nbsp;<span class="ident" id="1470489">c</span>&nbsp;<span class="op" id="1470491">:=</span>&nbsp;<span class="keyword" id="1470494">range</span>&nbsp;<span class="ident" id="1470500">v</span>&nbsp;<span class="op" id="1470502">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470507">if</span>&nbsp;<span class="ident" id="1470510">i</span>&nbsp;<span class="op" id="1470512">&gt;</span>&nbsp;<span class="num" id="1470514">0</span>&nbsp;<span class="op" id="1470516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470522">if</span>&nbsp;<span class="ident" id="1470525">p</span><span class="op" id="1470526">.</span><span class="ident" id="1470527">fmt</span><span class="op" id="1470530">.</span><span class="ident" id="1470531">sharpV</span>&nbsp;<span class="op" id="1470538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470545">p</span><span class="op" id="1470546">.</span><span class="ident" id="1470547">buf</span><span class="op" id="1470550">.</span><span class="ident" id="1470551">Write</span><span class="op" id="1470556">(</span><span class="ident" id="1470557">commaSpaceBytes</span><span class="op" id="1470572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470578">}</span>&nbsp;<span class="keyword" id="1470580">else</span>&nbsp;<span class="op" id="1470585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470592">p</span><span class="op" id="1470593">.</span><span class="ident" id="1470594">buf</span><span class="op" id="1470597">.</span><span class="ident" id="1470598">WriteByte</span><span class="op" id="1470607">(</span><span class="string" id="1470608">&#39;&nbsp;&#39;</span><span class="op" id="1470611">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470627">p</span><span class="op" id="1470628">.</span><span class="ident" id="1470629">printArg</span><span class="op" id="1470637">(</span><span class="ident" id="1470638">c</span><span class="op" id="1470639">,</span>&nbsp;<span class="string" id="1470641">&#39;v&#39;</span><span class="op" id="1470644">,</span>&nbsp;<span class="ident" id="1470646">depth</span><span class="op" id="1470651">+</span><span class="num" id="1470652">1</span><span class="op" id="1470653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470661">if</span>&nbsp;<span class="ident" id="1470664">p</span><span class="op" id="1470665">.</span><span class="ident" id="1470666">fmt</span><span class="op" id="1470669">.</span><span class="ident" id="1470670">sharpV</span>&nbsp;<span class="op" id="1470677">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470682">p</span><span class="op" id="1470683">.</span><span class="ident" id="1470684">buf</span><span class="op" id="1470687">.</span><span class="ident" id="1470688">WriteByte</span><span class="op" id="1470697">(</span><span class="string" id="1470698">&#39;}&#39;</span><span class="op" id="1470701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470705">}</span>&nbsp;<span class="keyword" id="1470707">else</span>&nbsp;<span class="op" id="1470712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470717">p</span><span class="op" id="1470718">.</span><span class="ident" id="1470719">buf</span><span class="op" id="1470722">.</span><span class="ident" id="1470723">WriteByte</span><span class="op" id="1470732">(</span><span class="string" id="1470733">&#39;]&#39;</span><span class="op" id="1470736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470744">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470755">switch</span>&nbsp;<span class="ident" id="1470762">verb</span>&nbsp;<span class="op" id="1470767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470770">case</span>&nbsp;<span class="string" id="1470775">&#39;s&#39;</span><span class="op" id="1470778">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470782">p</span><span class="op" id="1470783">.</span><span class="ident" id="1470784">fmt</span><span class="op" id="1470787">.</span><span class="ident" id="1470788">fmt_s</span><span class="op" id="1470793">(</span><span class="builtintype" id="1470794">string</span><span class="op" id="1470800">(</span><span class="ident" id="1470801">v</span><span class="op" id="1470802">)</span><span class="op" id="1470803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470806">case</span>&nbsp;<span class="string" id="1470811">&#39;x&#39;</span><span class="op" id="1470814">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470818">p</span><span class="op" id="1470819">.</span><span class="ident" id="1470820">fmt</span><span class="op" id="1470823">.</span><span class="ident" id="1470824">fmt_bx</span><span class="op" id="1470830">(</span><span class="ident" id="1470831">v</span><span class="op" id="1470832">,</span>&nbsp;<span class="ident" id="1470834">ldigits</span><span class="op" id="1470841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470844">case</span>&nbsp;<span class="string" id="1470849">&#39;X&#39;</span><span class="op" id="1470852">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470856">p</span><span class="op" id="1470857">.</span><span class="ident" id="1470858">fmt</span><span class="op" id="1470861">.</span><span class="ident" id="1470862">fmt_bx</span><span class="op" id="1470868">(</span><span class="ident" id="1470869">v</span><span class="op" id="1470870">,</span>&nbsp;<span class="ident" id="1470872">udigits</span><span class="op" id="1470879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470882">case</span>&nbsp;<span class="string" id="1470887">&#39;q&#39;</span><span class="op" id="1470890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470894">p</span><span class="op" id="1470895">.</span><span class="ident" id="1470896">fmt</span><span class="op" id="1470899">.</span><span class="ident" id="1470900">fmt_q</span><span class="op" id="1470905">(</span><span class="builtintype" id="1470906">string</span><span class="op" id="1470912">(</span><span class="ident" id="1470913">v</span><span class="op" id="1470914">)</span><span class="op" id="1470915">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1470918">default</span><span class="op" id="1470925">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1470929">p</span><span class="op" id="1470930">.</span><span class="ident" id="1470931">badVerb</span><span class="op" id="1470938">(</span><span class="ident" id="1470939">verb</span><span class="op" id="1470943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1470946">}</span><br>
<span class="lineno"></span><span class="op" id="1470948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="1470951">func</span>&nbsp;<span class="op" id="1470956">(</span><span class="ident" id="1470957">p</span>&nbsp;<span class="op" id="1470959">*</span><span class="ident" id="1470960">pp</span><span class="op" id="1470962">)</span>&nbsp;<span class="ident" id="1470964">fmtPointer</span><span class="op" id="1470974">(</span><span class="ident" id="1470975">value</span>&nbsp;<span class="ident" id="1470981">reflect</span><span class="op" id="1470988">.</span><span class="ident" id="1470989">Value</span><span class="op" id="1470994">,</span>&nbsp;<span class="ident" id="1470996">verb</span>&nbsp;<span class="builtintype" id="1471001">rune</span><span class="op" id="1471005">)</span>&nbsp;<span class="op" id="1471007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471010">use0x64</span>&nbsp;<span class="op" id="1471018">:=</span>&nbsp;<span class="builtintype" id="1471021">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471027">switch</span>&nbsp;<span class="ident" id="1471034">verb</span>&nbsp;<span class="op" id="1471039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471042">case</span>&nbsp;<span class="string" id="1471047">&#39;p&#39;</span><span class="op" id="1471050">,</span>&nbsp;<span class="string" id="1471052">&#39;v&#39;</span><span class="op" id="1471055">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471059">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471066">case</span>&nbsp;<span class="string" id="1471071">&#39;b&#39;</span><span class="op" id="1471074">,</span>&nbsp;<span class="string" id="1471076">&#39;d&#39;</span><span class="op" id="1471079">,</span>&nbsp;<span class="string" id="1471081">&#39;o&#39;</span><span class="op" id="1471084">,</span>&nbsp;<span class="string" id="1471086">&#39;x&#39;</span><span class="op" id="1471089">,</span>&nbsp;<span class="string" id="1471091">&#39;X&#39;</span><span class="op" id="1471094">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471098">use0x64</span>&nbsp;<span class="op" id="1471106">=</span>&nbsp;<span class="builtintype" id="1471108">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471116">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471123">default</span><span class="op" id="1471130">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471134">p</span><span class="op" id="1471135">.</span><span class="ident" id="1471136">badVerb</span><span class="op" id="1471143">(</span><span class="ident" id="1471144">verb</span><span class="op" id="1471148">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471152">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1471160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471164">var</span>&nbsp;<span class="ident" id="1471168">u</span>&nbsp;<span class="builtintype" id="1471170">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471179">switch</span>&nbsp;<span class="ident" id="1471186">value</span><span class="op" id="1471191">.</span><span class="ident" id="1471192">Kind</span><span class="op" id="1471196">(</span><span class="op" id="1471197">)</span>&nbsp;<span class="op" id="1471199">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471202">case</span>&nbsp;<span class="ident" id="1471207">reflect</span><span class="op" id="1471214">.</span><span class="ident" id="1471215">Chan</span><span class="op" id="1471219">,</span>&nbsp;<span class="ident" id="1471221">reflect</span><span class="op" id="1471228">.</span><span class="ident" id="1471229">Func</span><span class="op" id="1471233">,</span>&nbsp;<span class="ident" id="1471235">reflect</span><span class="op" id="1471242">.</span><span class="ident" id="1471243">Map</span><span class="op" id="1471246">,</span>&nbsp;<span class="ident" id="1471248">reflect</span><span class="op" id="1471255">.</span><span class="ident" id="1471256">Ptr</span><span class="op" id="1471259">,</span>&nbsp;<span class="ident" id="1471261">reflect</span><span class="op" id="1471268">.</span><span class="ident" id="1471269">Slice</span><span class="op" id="1471274">,</span>&nbsp;<span class="ident" id="1471276">reflect</span><span class="op" id="1471283">.</span><span class="ident" id="1471284">UnsafePointer</span><span class="op" id="1471297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471301">u</span>&nbsp;<span class="op" id="1471303">=</span>&nbsp;<span class="ident" id="1471305">value</span><span class="op" id="1471310">.</span><span class="ident" id="1471311">Pointer</span><span class="op" id="1471318">(</span><span class="op" id="1471319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471322">default</span><span class="op" id="1471329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471333">p</span><span class="op" id="1471334">.</span><span class="ident" id="1471335">badVerb</span><span class="op" id="1471342">(</span><span class="ident" id="1471343">verb</span><span class="op" id="1471347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471351">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1471359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471363">if</span>&nbsp;<span class="ident" id="1471366">p</span><span class="op" id="1471367">.</span><span class="ident" id="1471368">fmt</span><span class="op" id="1471371">.</span><span class="ident" id="1471372">sharpV</span>&nbsp;<span class="op" id="1471379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471383">p</span><span class="op" id="1471384">.</span><span class="ident" id="1471385">add</span><span class="op" id="1471388">(</span><span class="string" id="1471389">&#39;(&#39;</span><span class="op" id="1471392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471396">p</span><span class="op" id="1471397">.</span><span class="ident" id="1471398">buf</span><span class="op" id="1471401">.</span><span class="ident" id="1471402">WriteString</span><span class="op" id="1471413">(</span><span class="ident" id="1471414">value</span><span class="op" id="1471419">.</span><span class="ident" id="1471420">Type</span><span class="op" id="1471424">(</span><span class="op" id="1471425">)</span><span class="op" id="1471426">.</span><span class="ident" id="1471427">String</span><span class="op" id="1471433">(</span><span class="op" id="1471434">)</span><span class="op" id="1471435">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471439">p</span><span class="op" id="1471440">.</span><span class="ident" id="1471441">add</span><span class="op" id="1471444">(</span><span class="string" id="1471445">&#39;)&#39;</span><span class="op" id="1471448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471452">p</span><span class="op" id="1471453">.</span><span class="ident" id="1471454">add</span><span class="op" id="1471457">(</span><span class="string" id="1471458">&#39;(&#39;</span><span class="op" id="1471461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471465">if</span>&nbsp;<span class="ident" id="1471468">u</span>&nbsp;<span class="op" id="1471470">==</span>&nbsp;<span class="num" id="1471473">0</span>&nbsp;<span class="op" id="1471475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471480">p</span><span class="op" id="1471481">.</span><span class="ident" id="1471482">buf</span><span class="op" id="1471485">.</span><span class="ident" id="1471486">Write</span><span class="op" id="1471491">(</span><span class="ident" id="1471492">nilBytes</span><span class="op" id="1471500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1471504">}</span>&nbsp;<span class="keyword" id="1471506">else</span>&nbsp;<span class="op" id="1471511">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471516">p</span><span class="op" id="1471517">.</span><span class="ident" id="1471518">fmt0x64</span><span class="op" id="1471525">(</span><span class="ident" id="1471526">uint64</span><span class="op" id="1471532">(</span><span class="ident" id="1471533">u</span><span class="op" id="1471534">)</span><span class="op" id="1471535">,</span>&nbsp;<span class="builtintype" id="1471537">true</span><span class="op" id="1471541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1471545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471549">p</span><span class="op" id="1471550">.</span><span class="ident" id="1471551">add</span><span class="op" id="1471554">(</span><span class="string" id="1471555">&#39;)&#39;</span><span class="op" id="1471558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1471561">}</span>&nbsp;<span class="keyword" id="1471563">else</span>&nbsp;<span class="keyword" id="1471568">if</span>&nbsp;<span class="ident" id="1471571">verb</span>&nbsp;<span class="op" id="1471576">==</span>&nbsp;<span class="string" id="1471579">&#39;v&#39;</span>&nbsp;<span class="op" id="1471583">&amp;&amp;</span>&nbsp;<span class="ident" id="1471586">u</span>&nbsp;<span class="op" id="1471588">==</span>&nbsp;<span class="num" id="1471591">0</span>&nbsp;<span class="op" id="1471593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471597">p</span><span class="op" id="1471598">.</span><span class="ident" id="1471599">buf</span><span class="op" id="1471602">.</span><span class="ident" id="1471603">Write</span><span class="op" id="1471608">(</span><span class="ident" id="1471609">nilAngleBytes</span><span class="op" id="1471622">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1471625">}</span>&nbsp;<span class="keyword" id="1471627">else</span>&nbsp;<span class="op" id="1471632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471636">if</span>&nbsp;<span class="ident" id="1471639">use0x64</span>&nbsp;<span class="op" id="1471647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471652">p</span><span class="op" id="1471653">.</span><span class="ident" id="1471654">fmt0x64</span><span class="op" id="1471661">(</span><span class="ident" id="1471662">uint64</span><span class="op" id="1471668">(</span><span class="ident" id="1471669">u</span><span class="op" id="1471670">)</span><span class="op" id="1471671">,</span>&nbsp;<span class="op" id="1471673">!</span><span class="ident" id="1471674">p</span><span class="op" id="1471675">.</span><span class="ident" id="1471676">fmt</span><span class="op" id="1471679">.</span><span class="ident" id="1471680">sharp</span><span class="op" id="1471685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1471689">}</span>&nbsp;<span class="keyword" id="1471691">else</span>&nbsp;<span class="op" id="1471696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471701">p</span><span class="op" id="1471702">.</span><span class="ident" id="1471703">fmtUint64</span><span class="op" id="1471712">(</span><span class="ident" id="1471713">uint64</span><span class="op" id="1471719">(</span><span class="ident" id="1471720">u</span><span class="op" id="1471721">)</span><span class="op" id="1471722">,</span>&nbsp;<span class="ident" id="1471724">verb</span><span class="op" id="1471728">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1471732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1471735">}</span><br>
<span class="lineno"></span><span class="op" id="1471737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1471740">var</span>&nbsp;<span class="op" id="1471744">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471747">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1471759">=</span>&nbsp;<span class="ident" id="1471761">reflect</span><span class="op" id="1471768">.</span><span class="ident" id="1471769">TypeOf</span><span class="op" id="1471775">(</span><span class="num" id="1471776">0</span><span class="op" id="1471777">)</span><span class="op" id="1471778">.</span><span class="ident" id="1471779">Bits</span><span class="op" id="1471783">(</span><span class="op" id="1471784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1471787">uintptrBits</span>&nbsp;<span class="op" id="1471799">=</span>&nbsp;<span class="ident" id="1471801">reflect</span><span class="op" id="1471808">.</span><span class="ident" id="1471809">TypeOf</span><span class="op" id="1471815">(</span><span class="builtintype" id="1471816">uintptr</span><span class="op" id="1471823">(</span><span class="num" id="1471824">0</span><span class="op" id="1471825">)</span><span class="op" id="1471826">)</span><span class="op" id="1471827">.</span><span class="ident" id="1471828">Bits</span><span class="op" id="1471832">(</span><span class="op" id="1471833">)</span><br>
<span class="lineno"></span><span class="op" id="1471835">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1471838">func</span>&nbsp;<span class="op" id="1471843">(</span><span class="ident" id="1471844">p</span>&nbsp;<span class="op" id="1471846">*</span><span class="ident" id="1471847">pp</span><span class="op" id="1471849">)</span>&nbsp;<span class="ident" id="1471851">catchPanic</span><span class="op" id="1471861">(</span><span class="ident" id="1471862">arg</span>&nbsp;<span class="keyword" id="1471866">interface</span><span class="op" id="1471875">{</span><span class="op" id="1471876">}</span><span class="op" id="1471877">,</span>&nbsp;<span class="ident" id="1471879">verb</span>&nbsp;<span class="builtintype" id="1471884">rune</span><span class="op" id="1471888">)</span>&nbsp;<span class="op" id="1471890">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1471893">if</span>&nbsp;<span class="ident" id="1471896">err</span>&nbsp;<span class="op" id="1471900">:=</span>&nbsp;<span class="builtinfunc" id="1471903">recover</span><span class="op" id="1471910">(</span><span class="op" id="1471911">)</span><span class="op" id="1471912">;</span>&nbsp;<span class="ident" id="1471914">err</span>&nbsp;<span class="op" id="1471918">!=</span>&nbsp;<span class="ident" id="1471921">nil</span>&nbsp;<span class="op" id="1471925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1471929">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472002">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472071">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1472138">if</span>&nbsp;<span class="ident" id="1472141">v</span>&nbsp;<span class="op" id="1472143">:=</span>&nbsp;<span class="ident" id="1472146">reflect</span><span class="op" id="1472153">.</span><span class="ident" id="1472154">ValueOf</span><span class="op" id="1472161">(</span><span class="ident" id="1472162">arg</span><span class="op" id="1472165">)</span><span class="op" id="1472166">;</span>&nbsp;<span class="ident" id="1472168">v</span><span class="op" id="1472169">.</span><span class="ident" id="1472170">Kind</span><span class="op" id="1472174">(</span><span class="op" id="1472175">)</span>&nbsp;<span class="op" id="1472177">==</span>&nbsp;<span class="ident" id="1472180">reflect</span><span class="op" id="1472187">.</span><span class="ident" id="1472188">Ptr</span>&nbsp;<span class="op" id="1472192">&amp;&amp;</span>&nbsp;<span class="ident" id="1472195">v</span><span class="op" id="1472196">.</span><span class="ident" id="1472197">IsNil</span><span class="op" id="1472202">(</span><span class="op" id="1472203">)</span>&nbsp;<span class="op" id="1472205">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472210">p</span><span class="op" id="1472211">.</span><span class="ident" id="1472212">buf</span><span class="op" id="1472215">.</span><span class="ident" id="1472216">Write</span><span class="op" id="1472221">(</span><span class="ident" id="1472222">nilAngleBytes</span><span class="op" id="1472235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1472240">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1472249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472253">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472326">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1472363">if</span>&nbsp;<span class="ident" id="1472366">p</span><span class="op" id="1472367">.</span><span class="ident" id="1472368">panicking</span>&nbsp;<span class="op" id="1472378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1472383">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1472446">panic</span><span class="op" id="1472451">(</span><span class="ident" id="1472452">err</span><span class="op" id="1472455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1472459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472463">p</span><span class="op" id="1472464">.</span><span class="ident" id="1472465">fmt</span><span class="op" id="1472468">.</span><span class="ident" id="1472469">clearflags</span><span class="op" id="1472479">(</span><span class="op" id="1472480">)</span>&nbsp;<span class="comment" id="1472482">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472546">p</span><span class="op" id="1472547">.</span><span class="ident" id="1472548">buf</span><span class="op" id="1472551">.</span><span class="ident" id="1472552">Write</span><span class="op" id="1472557">(</span><span class="ident" id="1472558">percentBangBytes</span><span class="op" id="1472574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472578">p</span><span class="op" id="1472579">.</span><span class="ident" id="1472580">add</span><span class="op" id="1472583">(</span><span class="ident" id="1472584">verb</span><span class="op" id="1472588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472592">p</span><span class="op" id="1472593">.</span><span class="ident" id="1472594">buf</span><span class="op" id="1472597">.</span><span class="ident" id="1472598">Write</span><span class="op" id="1472603">(</span><span class="ident" id="1472604">panicBytes</span><span class="op" id="1472614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472618">p</span><span class="op" id="1472619">.</span><span class="ident" id="1472620">panicking</span>&nbsp;<span class="op" id="1472630">=</span>&nbsp;<span class="builtintype" id="1472632">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472639">p</span><span class="op" id="1472640">.</span><span class="ident" id="1472641">printArg</span><span class="op" id="1472649">(</span><span class="ident" id="1472650">err</span><span class="op" id="1472653">,</span>&nbsp;<span class="string" id="1472655">&#39;v&#39;</span><span class="op" id="1472658">,</span>&nbsp;<span class="num" id="1472660">0</span><span class="op" id="1472661">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472665">p</span><span class="op" id="1472666">.</span><span class="ident" id="1472667">panicking</span>&nbsp;<span class="op" id="1472677">=</span>&nbsp;<span class="builtintype" id="1472679">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472687">p</span><span class="op" id="1472688">.</span><span class="ident" id="1472689">buf</span><span class="op" id="1472692">.</span><span class="ident" id="1472693">WriteByte</span><span class="op" id="1472702">(</span><span class="string" id="1472703">&#39;)&#39;</span><span class="op" id="1472706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1472709">}</span><br>
<span class="lineno"></span><span class="op" id="1472711">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="1472714">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="1472803">func</span>&nbsp;<span class="op" id="1472808">(</span><span class="ident" id="1472809">p</span>&nbsp;<span class="op" id="1472811">*</span><span class="ident" id="1472812">pp</span><span class="op" id="1472814">)</span>&nbsp;<span class="ident" id="1472816">clearSpecialFlags</span><span class="op" id="1472833">(</span><span class="op" id="1472834">)</span>&nbsp;<span class="op" id="1472836">(</span><span class="ident" id="1472837">plusV</span><span class="op" id="1472842">,</span>&nbsp;<span class="ident" id="1472844">sharpV</span>&nbsp;<span class="builtintype" id="1472851">bool</span><span class="op" id="1472855">)</span>&nbsp;<span class="op" id="1472857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472860">plusV</span>&nbsp;<span class="op" id="1472866">=</span>&nbsp;<span class="ident" id="1472868">p</span><span class="op" id="1472869">.</span><span class="ident" id="1472870">fmt</span><span class="op" id="1472873">.</span><span class="ident" id="1472874">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1472881">if</span>&nbsp;<span class="ident" id="1472884">plusV</span>&nbsp;<span class="op" id="1472890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472894">p</span><span class="op" id="1472895">.</span><span class="ident" id="1472896">fmt</span><span class="op" id="1472899">.</span><span class="ident" id="1472900">plus</span>&nbsp;<span class="op" id="1472905">=</span>&nbsp;<span class="builtintype" id="1472907">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472914">p</span><span class="op" id="1472915">.</span><span class="ident" id="1472916">fmt</span><span class="op" id="1472919">.</span><span class="ident" id="1472920">plusV</span>&nbsp;<span class="op" id="1472926">=</span>&nbsp;<span class="builtintype" id="1472928">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1472935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472938">sharpV</span>&nbsp;<span class="op" id="1472945">=</span>&nbsp;<span class="ident" id="1472947">p</span><span class="op" id="1472948">.</span><span class="ident" id="1472949">fmt</span><span class="op" id="1472952">.</span><span class="ident" id="1472953">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1472961">if</span>&nbsp;<span class="ident" id="1472964">sharpV</span>&nbsp;<span class="op" id="1472971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472975">p</span><span class="op" id="1472976">.</span><span class="ident" id="1472977">fmt</span><span class="op" id="1472980">.</span><span class="ident" id="1472981">sharp</span>&nbsp;<span class="op" id="1472987">=</span>&nbsp;<span class="builtintype" id="1472989">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1472996">p</span><span class="op" id="1472997">.</span><span class="ident" id="1472998">fmt</span><span class="op" id="1473001">.</span><span class="ident" id="1473002">sharpV</span>&nbsp;<span class="op" id="1473009">=</span>&nbsp;<span class="builtintype" id="1473011">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473021">return</span><br>
<span class="lineno"></span><span class="op" id="1473028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="1473031">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="1473109">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="1473164">func</span>&nbsp;<span class="op" id="1473169">(</span><span class="ident" id="1473170">p</span>&nbsp;<span class="op" id="1473172">*</span><span class="ident" id="1473173">pp</span><span class="op" id="1473175">)</span>&nbsp;<span class="ident" id="1473177">restoreSpecialFlags</span><span class="op" id="1473196">(</span><span class="ident" id="1473197">plusV</span><span class="op" id="1473202">,</span>&nbsp;<span class="ident" id="1473204">sharpV</span>&nbsp;<span class="builtintype" id="1473211">bool</span><span class="op" id="1473215">)</span>&nbsp;<span class="op" id="1473217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473220">if</span>&nbsp;<span class="ident" id="1473223">plusV</span>&nbsp;<span class="op" id="1473229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473233">p</span><span class="op" id="1473234">.</span><span class="ident" id="1473235">fmt</span><span class="op" id="1473238">.</span><span class="ident" id="1473239">plus</span>&nbsp;<span class="op" id="1473244">=</span>&nbsp;<span class="builtintype" id="1473246">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473254">p</span><span class="op" id="1473255">.</span><span class="ident" id="1473256">fmt</span><span class="op" id="1473259">.</span><span class="ident" id="1473260">plusV</span>&nbsp;<span class="op" id="1473266">=</span>&nbsp;<span class="builtintype" id="1473268">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473277">if</span>&nbsp;<span class="ident" id="1473280">sharpV</span>&nbsp;<span class="op" id="1473287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473291">p</span><span class="op" id="1473292">.</span><span class="ident" id="1473293">fmt</span><span class="op" id="1473296">.</span><span class="ident" id="1473297">sharp</span>&nbsp;<span class="op" id="1473303">=</span>&nbsp;<span class="builtintype" id="1473305">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473313">p</span><span class="op" id="1473314">.</span><span class="ident" id="1473315">fmt</span><span class="op" id="1473318">.</span><span class="ident" id="1473319">sharpV</span>&nbsp;<span class="op" id="1473326">=</span>&nbsp;<span class="builtintype" id="1473328">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473334">}</span><br>
<span class="lineno"></span><span class="op" id="1473336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1473339">func</span>&nbsp;<span class="op" id="1473344">(</span><span class="ident" id="1473345">p</span>&nbsp;<span class="op" id="1473347">*</span><span class="ident" id="1473348">pp</span><span class="op" id="1473350">)</span>&nbsp;<span class="ident" id="1473352">handleMethods</span><span class="op" id="1473365">(</span><span class="ident" id="1473366">verb</span>&nbsp;<span class="builtintype" id="1473371">rune</span><span class="op" id="1473375">,</span>&nbsp;<span class="ident" id="1473377">depth</span>&nbsp;<span class="builtintype" id="1473383">int</span><span class="op" id="1473386">)</span>&nbsp;<span class="op" id="1473388">(</span><span class="ident" id="1473389">handled</span>&nbsp;<span class="builtintype" id="1473397">bool</span><span class="op" id="1473401">)</span>&nbsp;<span class="op" id="1473403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473406">if</span>&nbsp;<span class="ident" id="1473409">p</span><span class="op" id="1473410">.</span><span class="ident" id="1473411">erroring</span>&nbsp;<span class="op" id="1473420">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473424">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1473435">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473458">if</span>&nbsp;<span class="ident" id="1473461">formatter</span><span class="op" id="1473470">,</span>&nbsp;<span class="ident" id="1473472">ok</span>&nbsp;<span class="op" id="1473475">:=</span>&nbsp;<span class="ident" id="1473478">p</span><span class="op" id="1473479">.</span><span class="ident" id="1473480">arg</span><span class="op" id="1473483">.</span><span class="op" id="1473484">(</span><span class="ident" id="1473485">Formatter</span><span class="op" id="1473494">)</span><span class="op" id="1473495">;</span>&nbsp;<span class="ident" id="1473497">ok</span>&nbsp;<span class="op" id="1473500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473504">handled</span>&nbsp;<span class="op" id="1473512">=</span>&nbsp;<span class="builtintype" id="1473514">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473521">defer</span>&nbsp;<span class="ident" id="1473527">p</span><span class="op" id="1473528">.</span><span class="ident" id="1473529">restoreSpecialFlags</span><span class="op" id="1473548">(</span><span class="ident" id="1473549">p</span><span class="op" id="1473550">.</span><span class="ident" id="1473551">clearSpecialFlags</span><span class="op" id="1473568">(</span><span class="op" id="1473569">)</span><span class="op" id="1473570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473574">defer</span>&nbsp;<span class="ident" id="1473580">p</span><span class="op" id="1473581">.</span><span class="ident" id="1473582">catchPanic</span><span class="op" id="1473592">(</span><span class="ident" id="1473593">p</span><span class="op" id="1473594">.</span><span class="ident" id="1473595">arg</span><span class="op" id="1473598">,</span>&nbsp;<span class="ident" id="1473600">verb</span><span class="op" id="1473604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473608">formatter</span><span class="op" id="1473617">.</span><span class="ident" id="1473618">Format</span><span class="op" id="1473624">(</span><span class="ident" id="1473625">p</span><span class="op" id="1473626">,</span>&nbsp;<span class="ident" id="1473628">verb</span><span class="op" id="1473632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473636">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473644">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1473648">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473739">if</span>&nbsp;<span class="ident" id="1473742">p</span><span class="op" id="1473743">.</span><span class="ident" id="1473744">fmt</span><span class="op" id="1473747">.</span><span class="ident" id="1473748">sharpV</span>&nbsp;<span class="op" id="1473755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473759">if</span>&nbsp;<span class="ident" id="1473762">stringer</span><span class="op" id="1473770">,</span>&nbsp;<span class="ident" id="1473772">ok</span>&nbsp;<span class="op" id="1473775">:=</span>&nbsp;<span class="ident" id="1473778">p</span><span class="op" id="1473779">.</span><span class="ident" id="1473780">arg</span><span class="op" id="1473783">.</span><span class="op" id="1473784">(</span><span class="ident" id="1473785">GoStringer</span><span class="op" id="1473795">)</span><span class="op" id="1473796">;</span>&nbsp;<span class="ident" id="1473798">ok</span>&nbsp;<span class="op" id="1473801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473806">handled</span>&nbsp;<span class="op" id="1473814">=</span>&nbsp;<span class="builtintype" id="1473816">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473824">defer</span>&nbsp;<span class="ident" id="1473830">p</span><span class="op" id="1473831">.</span><span class="ident" id="1473832">catchPanic</span><span class="op" id="1473842">(</span><span class="ident" id="1473843">p</span><span class="op" id="1473844">.</span><span class="ident" id="1473845">arg</span><span class="op" id="1473848">,</span>&nbsp;<span class="ident" id="1473850">verb</span><span class="op" id="1473854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1473859">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1473905">p</span><span class="op" id="1473906">.</span><span class="ident" id="1473907">fmt</span><span class="op" id="1473910">.</span><span class="ident" id="1473911">fmt_s</span><span class="op" id="1473916">(</span><span class="ident" id="1473917">stringer</span><span class="op" id="1473925">.</span><span class="ident" id="1473926">GoString</span><span class="op" id="1473934">(</span><span class="op" id="1473935">)</span><span class="op" id="1473936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1473941">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473950">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1473953">}</span>&nbsp;<span class="keyword" id="1473955">else</span>&nbsp;<span class="op" id="1473960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1473964">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1474027">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1474089">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474146">switch</span>&nbsp;<span class="ident" id="1474153">verb</span>&nbsp;<span class="op" id="1474158">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474162">case</span>&nbsp;<span class="string" id="1474167">&#39;v&#39;</span><span class="op" id="1474170">,</span>&nbsp;<span class="string" id="1474172">&#39;s&#39;</span><span class="op" id="1474175">,</span>&nbsp;<span class="string" id="1474177">&#39;x&#39;</span><span class="op" id="1474180">,</span>&nbsp;<span class="string" id="1474182">&#39;X&#39;</span><span class="op" id="1474185">,</span>&nbsp;<span class="string" id="1474187">&#39;q&#39;</span><span class="op" id="1474190">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1474195">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1474229">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1474279">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1474326">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474371">switch</span>&nbsp;<span class="ident" id="1474378">v</span>&nbsp;<span class="op" id="1474380">:=</span>&nbsp;<span class="ident" id="1474383">p</span><span class="op" id="1474384">.</span><span class="ident" id="1474385">arg</span><span class="op" id="1474388">.</span><span class="op" id="1474389">(</span><span class="keyword" id="1474390">type</span><span class="op" id="1474394">)</span>&nbsp;<span class="op" id="1474396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474401">case</span>&nbsp;<span class="builtintype" id="1474406">error</span><span class="op" id="1474411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474417">handled</span>&nbsp;<span class="op" id="1474425">=</span>&nbsp;<span class="builtintype" id="1474427">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474436">defer</span>&nbsp;<span class="ident" id="1474442">p</span><span class="op" id="1474443">.</span><span class="ident" id="1474444">catchPanic</span><span class="op" id="1474454">(</span><span class="ident" id="1474455">p</span><span class="op" id="1474456">.</span><span class="ident" id="1474457">arg</span><span class="op" id="1474460">,</span>&nbsp;<span class="ident" id="1474462">verb</span><span class="op" id="1474466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474472">p</span><span class="op" id="1474473">.</span><span class="ident" id="1474474">printArg</span><span class="op" id="1474482">(</span><span class="ident" id="1474483">v</span><span class="op" id="1474484">.</span><span class="ident" id="1474485">Error</span><span class="op" id="1474490">(</span><span class="op" id="1474491">)</span><span class="op" id="1474492">,</span>&nbsp;<span class="ident" id="1474494">verb</span><span class="op" id="1474498">,</span>&nbsp;<span class="ident" id="1474500">depth</span><span class="op" id="1474505">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474511">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474522">case</span>&nbsp;<span class="ident" id="1474527">Stringer</span><span class="op" id="1474535">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474541">handled</span>&nbsp;<span class="op" id="1474549">=</span>&nbsp;<span class="builtintype" id="1474551">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474560">defer</span>&nbsp;<span class="ident" id="1474566">p</span><span class="op" id="1474567">.</span><span class="ident" id="1474568">catchPanic</span><span class="op" id="1474578">(</span><span class="ident" id="1474579">p</span><span class="op" id="1474580">.</span><span class="ident" id="1474581">arg</span><span class="op" id="1474584">,</span>&nbsp;<span class="ident" id="1474586">verb</span><span class="op" id="1474590">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474596">p</span><span class="op" id="1474597">.</span><span class="ident" id="1474598">printArg</span><span class="op" id="1474606">(</span><span class="ident" id="1474607">v</span><span class="op" id="1474608">.</span><span class="ident" id="1474609">String</span><span class="op" id="1474615">(</span><span class="op" id="1474616">)</span><span class="op" id="1474617">,</span>&nbsp;<span class="ident" id="1474619">verb</span><span class="op" id="1474623">,</span>&nbsp;<span class="ident" id="1474625">depth</span><span class="op" id="1474630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474636">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1474646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1474650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1474653">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474656">return</span>&nbsp;<span class="builtintype" id="1474663">false</span><br>
<span class="lineno"></span><span class="op" id="1474669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1474672">func</span>&nbsp;<span class="op" id="1474677">(</span><span class="ident" id="1474678">p</span>&nbsp;<span class="op" id="1474680">*</span><span class="ident" id="1474681">pp</span><span class="op" id="1474683">)</span>&nbsp;<span class="ident" id="1474685">printArg</span><span class="op" id="1474693">(</span><span class="ident" id="1474694">arg</span>&nbsp;<span class="keyword" id="1474698">interface</span><span class="op" id="1474707">{</span><span class="op" id="1474708">}</span><span class="op" id="1474709">,</span>&nbsp;<span class="ident" id="1474711">verb</span>&nbsp;<span class="builtintype" id="1474716">rune</span><span class="op" id="1474720">,</span>&nbsp;<span class="ident" id="1474722">depth</span>&nbsp;<span class="builtintype" id="1474728">int</span><span class="op" id="1474731">)</span>&nbsp;<span class="op" id="1474733">(</span><span class="ident" id="1474734">wasString</span>&nbsp;<span class="builtintype" id="1474744">bool</span><span class="op" id="1474748">)</span>&nbsp;<span class="op" id="1474750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474753">p</span><span class="op" id="1474754">.</span><span class="ident" id="1474755">arg</span>&nbsp;<span class="op" id="1474759">=</span>&nbsp;<span class="ident" id="1474761">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474766">p</span><span class="op" id="1474767">.</span><span class="ident" id="1474768">value</span>&nbsp;<span class="op" id="1474774">=</span>&nbsp;<span class="ident" id="1474776">reflect</span><span class="op" id="1474783">.</span><span class="ident" id="1474784">Value</span><span class="op" id="1474789">{</span><span class="op" id="1474790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474794">if</span>&nbsp;<span class="ident" id="1474797">arg</span>&nbsp;<span class="op" id="1474801">==</span>&nbsp;<span class="ident" id="1474804">nil</span>&nbsp;<span class="op" id="1474808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474812">if</span>&nbsp;<span class="ident" id="1474815">verb</span>&nbsp;<span class="op" id="1474820">==</span>&nbsp;<span class="string" id="1474823">&#39;T&#39;</span>&nbsp;<span class="op" id="1474827">||</span>&nbsp;<span class="ident" id="1474830">verb</span>&nbsp;<span class="op" id="1474835">==</span>&nbsp;<span class="string" id="1474838">&#39;v&#39;</span>&nbsp;<span class="op" id="1474842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474847">p</span><span class="op" id="1474848">.</span><span class="ident" id="1474849">fmt</span><span class="op" id="1474852">.</span><span class="ident" id="1474853">pad</span><span class="op" id="1474856">(</span><span class="ident" id="1474857">nilAngleBytes</span><span class="op" id="1474870">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1474874">}</span>&nbsp;<span class="keyword" id="1474876">else</span>&nbsp;<span class="op" id="1474881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1474886">p</span><span class="op" id="1474887">.</span><span class="ident" id="1474888">badVerb</span><span class="op" id="1474895">(</span><span class="ident" id="1474896">verb</span><span class="op" id="1474900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1474904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1474908">return</span>&nbsp;<span class="builtintype" id="1474915">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1474922">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1474926">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1474965">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475050">switch</span>&nbsp;<span class="ident" id="1475057">verb</span>&nbsp;<span class="op" id="1475062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475065">case</span>&nbsp;<span class="string" id="1475070">&#39;T&#39;</span><span class="op" id="1475073">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475077">p</span><span class="op" id="1475078">.</span><span class="ident" id="1475079">printArg</span><span class="op" id="1475087">(</span><span class="ident" id="1475088">reflect</span><span class="op" id="1475095">.</span><span class="ident" id="1475096">TypeOf</span><span class="op" id="1475102">(</span><span class="ident" id="1475103">arg</span><span class="op" id="1475106">)</span><span class="op" id="1475107">.</span><span class="ident" id="1475108">String</span><span class="op" id="1475114">(</span><span class="op" id="1475115">)</span><span class="op" id="1475116">,</span>&nbsp;<span class="string" id="1475118">&#39;s&#39;</span><span class="op" id="1475121">,</span>&nbsp;<span class="num" id="1475123">0</span><span class="op" id="1475124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475128">return</span>&nbsp;<span class="builtintype" id="1475135">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475142">case</span>&nbsp;<span class="string" id="1475147">&#39;p&#39;</span><span class="op" id="1475150">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475154">p</span><span class="op" id="1475155">.</span><span class="ident" id="1475156">fmtPointer</span><span class="op" id="1475166">(</span><span class="ident" id="1475167">reflect</span><span class="op" id="1475174">.</span><span class="ident" id="1475175">ValueOf</span><span class="op" id="1475182">(</span><span class="ident" id="1475183">arg</span><span class="op" id="1475186">)</span><span class="op" id="1475187">,</span>&nbsp;<span class="ident" id="1475189">verb</span><span class="op" id="1475193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475197">return</span>&nbsp;<span class="builtintype" id="1475204">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1475211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1475215">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475262">switch</span>&nbsp;<span class="ident" id="1475269">f</span>&nbsp;<span class="op" id="1475271">:=</span>&nbsp;<span class="ident" id="1475274">arg</span><span class="op" id="1475277">.</span><span class="op" id="1475278">(</span><span class="keyword" id="1475279">type</span><span class="op" id="1475283">)</span>&nbsp;<span class="op" id="1475285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475288">case</span>&nbsp;<span class="builtintype" id="1475293">bool</span><span class="op" id="1475297">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475301">p</span><span class="op" id="1475302">.</span><span class="ident" id="1475303">fmtBool</span><span class="op" id="1475310">(</span><span class="ident" id="1475311">f</span><span class="op" id="1475312">,</span>&nbsp;<span class="ident" id="1475314">verb</span><span class="op" id="1475318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475321">case</span>&nbsp;<span class="builtintype" id="1475326">float32</span><span class="op" id="1475333">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475337">p</span><span class="op" id="1475338">.</span><span class="ident" id="1475339">fmtFloat32</span><span class="op" id="1475349">(</span><span class="ident" id="1475350">f</span><span class="op" id="1475351">,</span>&nbsp;<span class="ident" id="1475353">verb</span><span class="op" id="1475357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475360">case</span>&nbsp;<span class="builtintype" id="1475365">float64</span><span class="op" id="1475372">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475376">p</span><span class="op" id="1475377">.</span><span class="ident" id="1475378">fmtFloat64</span><span class="op" id="1475388">(</span><span class="ident" id="1475389">f</span><span class="op" id="1475390">,</span>&nbsp;<span class="ident" id="1475392">verb</span><span class="op" id="1475396">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475399">case</span>&nbsp;<span class="builtintype" id="1475404">complex64</span><span class="op" id="1475413">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475417">p</span><span class="op" id="1475418">.</span><span class="ident" id="1475419">fmtComplex64</span><span class="op" id="1475431">(</span><span class="ident" id="1475432">f</span><span class="op" id="1475433">,</span>&nbsp;<span class="ident" id="1475435">verb</span><span class="op" id="1475439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475442">case</span>&nbsp;<span class="builtintype" id="1475447">complex128</span><span class="op" id="1475457">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475461">p</span><span class="op" id="1475462">.</span><span class="ident" id="1475463">fmtComplex128</span><span class="op" id="1475476">(</span><span class="ident" id="1475477">f</span><span class="op" id="1475478">,</span>&nbsp;<span class="ident" id="1475480">verb</span><span class="op" id="1475484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475487">case</span>&nbsp;<span class="builtintype" id="1475492">int</span><span class="op" id="1475495">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475499">p</span><span class="op" id="1475500">.</span><span class="ident" id="1475501">fmtInt64</span><span class="op" id="1475509">(</span><span class="ident" id="1475510">int64</span><span class="op" id="1475515">(</span><span class="ident" id="1475516">f</span><span class="op" id="1475517">)</span><span class="op" id="1475518">,</span>&nbsp;<span class="ident" id="1475520">verb</span><span class="op" id="1475524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475527">case</span>&nbsp;<span class="builtintype" id="1475532">int8</span><span class="op" id="1475536">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475540">p</span><span class="op" id="1475541">.</span><span class="ident" id="1475542">fmtInt64</span><span class="op" id="1475550">(</span><span class="ident" id="1475551">int64</span><span class="op" id="1475556">(</span><span class="ident" id="1475557">f</span><span class="op" id="1475558">)</span><span class="op" id="1475559">,</span>&nbsp;<span class="ident" id="1475561">verb</span><span class="op" id="1475565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475568">case</span>&nbsp;<span class="builtintype" id="1475573">int16</span><span class="op" id="1475578">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475582">p</span><span class="op" id="1475583">.</span><span class="ident" id="1475584">fmtInt64</span><span class="op" id="1475592">(</span><span class="ident" id="1475593">int64</span><span class="op" id="1475598">(</span><span class="ident" id="1475599">f</span><span class="op" id="1475600">)</span><span class="op" id="1475601">,</span>&nbsp;<span class="ident" id="1475603">verb</span><span class="op" id="1475607">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475610">case</span>&nbsp;<span class="builtintype" id="1475615">int32</span><span class="op" id="1475620">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475624">p</span><span class="op" id="1475625">.</span><span class="ident" id="1475626">fmtInt64</span><span class="op" id="1475634">(</span><span class="ident" id="1475635">int64</span><span class="op" id="1475640">(</span><span class="ident" id="1475641">f</span><span class="op" id="1475642">)</span><span class="op" id="1475643">,</span>&nbsp;<span class="ident" id="1475645">verb</span><span class="op" id="1475649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475652">case</span>&nbsp;<span class="ident" id="1475657">int64</span><span class="op" id="1475662">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475666">p</span><span class="op" id="1475667">.</span><span class="ident" id="1475668">fmtInt64</span><span class="op" id="1475676">(</span><span class="ident" id="1475677">f</span><span class="op" id="1475678">,</span>&nbsp;<span class="ident" id="1475680">verb</span><span class="op" id="1475684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475687">case</span>&nbsp;<span class="builtintype" id="1475692">uint</span><span class="op" id="1475696">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475700">p</span><span class="op" id="1475701">.</span><span class="ident" id="1475702">fmtUint64</span><span class="op" id="1475711">(</span><span class="ident" id="1475712">uint64</span><span class="op" id="1475718">(</span><span class="ident" id="1475719">f</span><span class="op" id="1475720">)</span><span class="op" id="1475721">,</span>&nbsp;<span class="ident" id="1475723">verb</span><span class="op" id="1475727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475730">case</span>&nbsp;<span class="builtintype" id="1475735">uint8</span><span class="op" id="1475740">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475744">p</span><span class="op" id="1475745">.</span><span class="ident" id="1475746">fmtUint64</span><span class="op" id="1475755">(</span><span class="ident" id="1475756">uint64</span><span class="op" id="1475762">(</span><span class="ident" id="1475763">f</span><span class="op" id="1475764">)</span><span class="op" id="1475765">,</span>&nbsp;<span class="ident" id="1475767">verb</span><span class="op" id="1475771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475774">case</span>&nbsp;<span class="builtintype" id="1475779">uint16</span><span class="op" id="1475785">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475789">p</span><span class="op" id="1475790">.</span><span class="ident" id="1475791">fmtUint64</span><span class="op" id="1475800">(</span><span class="ident" id="1475801">uint64</span><span class="op" id="1475807">(</span><span class="ident" id="1475808">f</span><span class="op" id="1475809">)</span><span class="op" id="1475810">,</span>&nbsp;<span class="ident" id="1475812">verb</span><span class="op" id="1475816">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475819">case</span>&nbsp;<span class="builtintype" id="1475824">uint32</span><span class="op" id="1475830">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475834">p</span><span class="op" id="1475835">.</span><span class="ident" id="1475836">fmtUint64</span><span class="op" id="1475845">(</span><span class="ident" id="1475846">uint64</span><span class="op" id="1475852">(</span><span class="ident" id="1475853">f</span><span class="op" id="1475854">)</span><span class="op" id="1475855">,</span>&nbsp;<span class="ident" id="1475857">verb</span><span class="op" id="1475861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475864">case</span>&nbsp;<span class="ident" id="1475869">uint64</span><span class="op" id="1475875">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475879">p</span><span class="op" id="1475880">.</span><span class="ident" id="1475881">fmtUint64</span><span class="op" id="1475890">(</span><span class="ident" id="1475891">f</span><span class="op" id="1475892">,</span>&nbsp;<span class="ident" id="1475894">verb</span><span class="op" id="1475898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475901">case</span>&nbsp;<span class="builtintype" id="1475906">uintptr</span><span class="op" id="1475913">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475917">p</span><span class="op" id="1475918">.</span><span class="ident" id="1475919">fmtUint64</span><span class="op" id="1475928">(</span><span class="ident" id="1475929">uint64</span><span class="op" id="1475935">(</span><span class="ident" id="1475936">f</span><span class="op" id="1475937">)</span><span class="op" id="1475938">,</span>&nbsp;<span class="ident" id="1475940">verb</span><span class="op" id="1475944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1475947">case</span>&nbsp;<span class="builtintype" id="1475952">string</span><span class="op" id="1475958">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475962">p</span><span class="op" id="1475963">.</span><span class="ident" id="1475964">fmtString</span><span class="op" id="1475973">(</span><span class="ident" id="1475974">f</span><span class="op" id="1475975">,</span>&nbsp;<span class="ident" id="1475977">verb</span><span class="op" id="1475981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1475985">wasString</span>&nbsp;<span class="op" id="1475995">=</span>&nbsp;<span class="ident" id="1475997">verb</span>&nbsp;<span class="op" id="1476002">==</span>&nbsp;<span class="string" id="1476005">&#39;s&#39;</span>&nbsp;<span class="op" id="1476009">||</span>&nbsp;<span class="ident" id="1476012">verb</span>&nbsp;<span class="op" id="1476017">==</span>&nbsp;<span class="string" id="1476020">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476025">case</span>&nbsp;<span class="op" id="1476030">[</span><span class="op" id="1476031">]</span><span class="builtintype" id="1476032">byte</span><span class="op" id="1476036">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476040">p</span><span class="op" id="1476041">.</span><span class="ident" id="1476042">fmtBytes</span><span class="op" id="1476050">(</span><span class="ident" id="1476051">f</span><span class="op" id="1476052">,</span>&nbsp;<span class="ident" id="1476054">verb</span><span class="op" id="1476058">,</span>&nbsp;<span class="ident" id="1476060">nil</span><span class="op" id="1476063">,</span>&nbsp;<span class="ident" id="1476065">depth</span><span class="op" id="1476070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476074">wasString</span>&nbsp;<span class="op" id="1476084">=</span>&nbsp;<span class="ident" id="1476086">verb</span>&nbsp;<span class="op" id="1476091">==</span>&nbsp;<span class="string" id="1476094">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476099">default</span><span class="op" id="1476106">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1476110">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476165">if</span>&nbsp;<span class="ident" id="1476168">handled</span>&nbsp;<span class="op" id="1476176">:=</span>&nbsp;<span class="ident" id="1476179">p</span><span class="op" id="1476180">.</span><span class="ident" id="1476181">handleMethods</span><span class="op" id="1476194">(</span><span class="ident" id="1476195">verb</span><span class="op" id="1476199">,</span>&nbsp;<span class="ident" id="1476201">depth</span><span class="op" id="1476206">)</span><span class="op" id="1476207">;</span>&nbsp;<span class="ident" id="1476209">handled</span>&nbsp;<span class="op" id="1476217">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476222">return</span>&nbsp;<span class="builtintype" id="1476229">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1476241">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476269">return</span>&nbsp;<span class="ident" id="1476276">p</span><span class="op" id="1476277">.</span><span class="ident" id="1476278">printReflectValue</span><span class="op" id="1476295">(</span><span class="ident" id="1476296">reflect</span><span class="op" id="1476303">.</span><span class="ident" id="1476304">ValueOf</span><span class="op" id="1476311">(</span><span class="ident" id="1476312">arg</span><span class="op" id="1476315">)</span><span class="op" id="1476316">,</span>&nbsp;<span class="ident" id="1476318">verb</span><span class="op" id="1476322">,</span>&nbsp;<span class="ident" id="1476324">depth</span><span class="op" id="1476329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476332">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476335">p</span><span class="op" id="1476336">.</span><span class="ident" id="1476337">arg</span>&nbsp;<span class="op" id="1476341">=</span>&nbsp;<span class="ident" id="1476343">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476348">return</span><br>
<span class="lineno"></span><span class="op" id="1476355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1476358">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="1476448">func</span>&nbsp;<span class="op" id="1476453">(</span><span class="ident" id="1476454">p</span>&nbsp;<span class="op" id="1476456">*</span><span class="ident" id="1476457">pp</span><span class="op" id="1476459">)</span>&nbsp;<span class="ident" id="1476461">printValue</span><span class="op" id="1476471">(</span><span class="ident" id="1476472">value</span>&nbsp;<span class="ident" id="1476478">reflect</span><span class="op" id="1476485">.</span><span class="ident" id="1476486">Value</span><span class="op" id="1476491">,</span>&nbsp;<span class="ident" id="1476493">verb</span>&nbsp;<span class="builtintype" id="1476498">rune</span><span class="op" id="1476502">,</span>&nbsp;<span class="ident" id="1476504">depth</span>&nbsp;<span class="builtintype" id="1476510">int</span><span class="op" id="1476513">)</span>&nbsp;<span class="op" id="1476515">(</span><span class="ident" id="1476516">wasString</span>&nbsp;<span class="builtintype" id="1476526">bool</span><span class="op" id="1476530">)</span>&nbsp;<span class="op" id="1476532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476535">if</span>&nbsp;<span class="op" id="1476538">!</span><span class="ident" id="1476539">value</span><span class="op" id="1476544">.</span><span class="ident" id="1476545">IsValid</span><span class="op" id="1476552">(</span><span class="op" id="1476553">)</span>&nbsp;<span class="op" id="1476555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476559">if</span>&nbsp;<span class="ident" id="1476562">verb</span>&nbsp;<span class="op" id="1476567">==</span>&nbsp;<span class="string" id="1476570">&#39;T&#39;</span>&nbsp;<span class="op" id="1476574">||</span>&nbsp;<span class="ident" id="1476577">verb</span>&nbsp;<span class="op" id="1476582">==</span>&nbsp;<span class="string" id="1476585">&#39;v&#39;</span>&nbsp;<span class="op" id="1476589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476594">p</span><span class="op" id="1476595">.</span><span class="ident" id="1476596">buf</span><span class="op" id="1476599">.</span><span class="ident" id="1476600">Write</span><span class="op" id="1476605">(</span><span class="ident" id="1476606">nilAngleBytes</span><span class="op" id="1476619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476623">}</span>&nbsp;<span class="keyword" id="1476625">else</span>&nbsp;<span class="op" id="1476630">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476635">p</span><span class="op" id="1476636">.</span><span class="ident" id="1476637">badVerb</span><span class="op" id="1476644">(</span><span class="ident" id="1476645">verb</span><span class="op" id="1476649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476657">return</span>&nbsp;<span class="builtintype" id="1476664">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1476675">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1476714">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476799">switch</span>&nbsp;<span class="ident" id="1476806">verb</span>&nbsp;<span class="op" id="1476811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476814">case</span>&nbsp;<span class="string" id="1476819">&#39;T&#39;</span><span class="op" id="1476822">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476826">p</span><span class="op" id="1476827">.</span><span class="ident" id="1476828">printArg</span><span class="op" id="1476836">(</span><span class="ident" id="1476837">value</span><span class="op" id="1476842">.</span><span class="ident" id="1476843">Type</span><span class="op" id="1476847">(</span><span class="op" id="1476848">)</span><span class="op" id="1476849">.</span><span class="ident" id="1476850">String</span><span class="op" id="1476856">(</span><span class="op" id="1476857">)</span><span class="op" id="1476858">,</span>&nbsp;<span class="string" id="1476860">&#39;s&#39;</span><span class="op" id="1476863">,</span>&nbsp;<span class="num" id="1476865">0</span><span class="op" id="1476866">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476870">return</span>&nbsp;<span class="builtintype" id="1476877">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476884">case</span>&nbsp;<span class="string" id="1476889">&#39;p&#39;</span><span class="op" id="1476892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1476896">p</span><span class="op" id="1476897">.</span><span class="ident" id="1476898">fmtPointer</span><span class="op" id="1476908">(</span><span class="ident" id="1476909">value</span><span class="op" id="1476914">,</span>&nbsp;<span class="ident" id="1476916">verb</span><span class="op" id="1476920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1476924">return</span>&nbsp;<span class="builtintype" id="1476931">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1476938">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1476942">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1476982">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477069">p</span><span class="op" id="1477070">.</span><span class="ident" id="1477071">arg</span>&nbsp;<span class="op" id="1477075">=</span>&nbsp;<span class="ident" id="1477077">nil</span>&nbsp;<span class="comment" id="1477081">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477121">if</span>&nbsp;<span class="ident" id="1477124">value</span><span class="op" id="1477129">.</span><span class="ident" id="1477130">CanInterface</span><span class="op" id="1477142">(</span><span class="op" id="1477143">)</span>&nbsp;<span class="op" id="1477145">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477149">p</span><span class="op" id="1477150">.</span><span class="ident" id="1477151">arg</span>&nbsp;<span class="op" id="1477155">=</span>&nbsp;<span class="ident" id="1477157">value</span><span class="op" id="1477162">.</span><span class="ident" id="1477163">Interface</span><span class="op" id="1477172">(</span><span class="op" id="1477173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477179">if</span>&nbsp;<span class="ident" id="1477182">handled</span>&nbsp;<span class="op" id="1477190">:=</span>&nbsp;<span class="ident" id="1477193">p</span><span class="op" id="1477194">.</span><span class="ident" id="1477195">handleMethods</span><span class="op" id="1477208">(</span><span class="ident" id="1477209">verb</span><span class="op" id="1477213">,</span>&nbsp;<span class="ident" id="1477215">depth</span><span class="op" id="1477220">)</span><span class="op" id="1477221">;</span>&nbsp;<span class="ident" id="1477223">handled</span>&nbsp;<span class="op" id="1477231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477235">return</span>&nbsp;<span class="builtintype" id="1477242">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1477249">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477253">return</span>&nbsp;<span class="ident" id="1477260">p</span><span class="op" id="1477261">.</span><span class="ident" id="1477262">printReflectValue</span><span class="op" id="1477279">(</span><span class="ident" id="1477280">value</span><span class="op" id="1477285">,</span>&nbsp;<span class="ident" id="1477287">verb</span><span class="op" id="1477291">,</span>&nbsp;<span class="ident" id="1477293">depth</span><span class="op" id="1477298">)</span><br>
<span class="lineno"></span><span class="op" id="1477300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1477303">var</span>&nbsp;<span class="ident" id="1477307">byteType</span>&nbsp;<span class="op" id="1477316">=</span>&nbsp;<span class="ident" id="1477318">reflect</span><span class="op" id="1477325">.</span><span class="ident" id="1477326">TypeOf</span><span class="op" id="1477332">(</span><span class="builtintype" id="1477333">byte</span><span class="op" id="1477337">(</span><span class="num" id="1477338">0</span><span class="op" id="1477339">)</span><span class="op" id="1477340">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="1477343">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="1477414">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="1477453">func</span>&nbsp;<span class="op" id="1477458">(</span><span class="ident" id="1477459">p</span>&nbsp;<span class="op" id="1477461">*</span><span class="ident" id="1477462">pp</span><span class="op" id="1477464">)</span>&nbsp;<span class="ident" id="1477466">printReflectValue</span><span class="op" id="1477483">(</span><span class="ident" id="1477484">value</span>&nbsp;<span class="ident" id="1477490">reflect</span><span class="op" id="1477497">.</span><span class="ident" id="1477498">Value</span><span class="op" id="1477503">,</span>&nbsp;<span class="ident" id="1477505">verb</span>&nbsp;<span class="builtintype" id="1477510">rune</span><span class="op" id="1477514">,</span>&nbsp;<span class="ident" id="1477516">depth</span>&nbsp;<span class="builtintype" id="1477522">int</span><span class="op" id="1477525">)</span>&nbsp;<span class="op" id="1477527">(</span><span class="ident" id="1477528">wasString</span>&nbsp;<span class="builtintype" id="1477538">bool</span><span class="op" id="1477542">)</span>&nbsp;<span class="op" id="1477544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477547">oldValue</span>&nbsp;<span class="op" id="1477556">:=</span>&nbsp;<span class="ident" id="1477559">p</span><span class="op" id="1477560">.</span><span class="ident" id="1477561">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477568">p</span><span class="op" id="1477569">.</span><span class="ident" id="1477570">value</span>&nbsp;<span class="op" id="1477576">=</span>&nbsp;<span class="ident" id="1477578">value</span><br>
<span class="lineno"></span><span class="ident" id="1477584">BigSwitch</span><span class="op" id="1477593">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477596">switch</span>&nbsp;<span class="ident" id="1477603">f</span>&nbsp;<span class="op" id="1477605">:=</span>&nbsp;<span class="ident" id="1477608">value</span><span class="op" id="1477613">;</span>&nbsp;<span class="ident" id="1477615">f</span><span class="op" id="1477616">.</span><span class="ident" id="1477617">Kind</span><span class="op" id="1477621">(</span><span class="op" id="1477622">)</span>&nbsp;<span class="op" id="1477624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477627">case</span>&nbsp;<span class="ident" id="1477632">reflect</span><span class="op" id="1477639">.</span><span class="ident" id="1477640">Bool</span><span class="op" id="1477644">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477648">p</span><span class="op" id="1477649">.</span><span class="ident" id="1477650">fmtBool</span><span class="op" id="1477657">(</span><span class="ident" id="1477658">f</span><span class="op" id="1477659">.</span><span class="ident" id="1477660">Bool</span><span class="op" id="1477664">(</span><span class="op" id="1477665">)</span><span class="op" id="1477666">,</span>&nbsp;<span class="ident" id="1477668">verb</span><span class="op" id="1477672">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477675">case</span>&nbsp;<span class="ident" id="1477680">reflect</span><span class="op" id="1477687">.</span><span class="ident" id="1477688">Int</span><span class="op" id="1477691">,</span>&nbsp;<span class="ident" id="1477693">reflect</span><span class="op" id="1477700">.</span><span class="ident" id="1477701">Int8</span><span class="op" id="1477705">,</span>&nbsp;<span class="ident" id="1477707">reflect</span><span class="op" id="1477714">.</span><span class="ident" id="1477715">Int16</span><span class="op" id="1477720">,</span>&nbsp;<span class="ident" id="1477722">reflect</span><span class="op" id="1477729">.</span><span class="ident" id="1477730">Int32</span><span class="op" id="1477735">,</span>&nbsp;<span class="ident" id="1477737">reflect</span><span class="op" id="1477744">.</span><span class="ident" id="1477745">Int64</span><span class="op" id="1477750">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477754">p</span><span class="op" id="1477755">.</span><span class="ident" id="1477756">fmtInt64</span><span class="op" id="1477764">(</span><span class="ident" id="1477765">f</span><span class="op" id="1477766">.</span><span class="ident" id="1477767">Int</span><span class="op" id="1477770">(</span><span class="op" id="1477771">)</span><span class="op" id="1477772">,</span>&nbsp;<span class="ident" id="1477774">verb</span><span class="op" id="1477778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477781">case</span>&nbsp;<span class="ident" id="1477786">reflect</span><span class="op" id="1477793">.</span><span class="ident" id="1477794">Uint</span><span class="op" id="1477798">,</span>&nbsp;<span class="ident" id="1477800">reflect</span><span class="op" id="1477807">.</span><span class="ident" id="1477808">Uint8</span><span class="op" id="1477813">,</span>&nbsp;<span class="ident" id="1477815">reflect</span><span class="op" id="1477822">.</span><span class="ident" id="1477823">Uint16</span><span class="op" id="1477829">,</span>&nbsp;<span class="ident" id="1477831">reflect</span><span class="op" id="1477838">.</span><span class="ident" id="1477839">Uint32</span><span class="op" id="1477845">,</span>&nbsp;<span class="ident" id="1477847">reflect</span><span class="op" id="1477854">.</span><span class="ident" id="1477855">Uint64</span><span class="op" id="1477861">,</span>&nbsp;<span class="ident" id="1477863">reflect</span><span class="op" id="1477870">.</span><span class="ident" id="1477871">Uintptr</span><span class="op" id="1477878">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477882">p</span><span class="op" id="1477883">.</span><span class="ident" id="1477884">fmtUint64</span><span class="op" id="1477893">(</span><span class="ident" id="1477894">f</span><span class="op" id="1477895">.</span><span class="ident" id="1477896">Uint</span><span class="op" id="1477900">(</span><span class="op" id="1477901">)</span><span class="op" id="1477902">,</span>&nbsp;<span class="ident" id="1477904">verb</span><span class="op" id="1477908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477911">case</span>&nbsp;<span class="ident" id="1477916">reflect</span><span class="op" id="1477923">.</span><span class="ident" id="1477924">Float32</span><span class="op" id="1477931">,</span>&nbsp;<span class="ident" id="1477933">reflect</span><span class="op" id="1477940">.</span><span class="ident" id="1477941">Float64</span><span class="op" id="1477948">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1477952">if</span>&nbsp;<span class="ident" id="1477955">f</span><span class="op" id="1477956">.</span><span class="ident" id="1477957">Type</span><span class="op" id="1477961">(</span><span class="op" id="1477962">)</span><span class="op" id="1477963">.</span><span class="ident" id="1477964">Size</span><span class="op" id="1477968">(</span><span class="op" id="1477969">)</span>&nbsp;<span class="op" id="1477971">==</span>&nbsp;<span class="num" id="1477974">4</span>&nbsp;<span class="op" id="1477976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1477981">p</span><span class="op" id="1477982">.</span><span class="ident" id="1477983">fmtFloat32</span><span class="op" id="1477993">(</span><span class="builtintype" id="1477994">float32</span><span class="op" id="1478001">(</span><span class="ident" id="1478002">f</span><span class="op" id="1478003">.</span><span class="ident" id="1478004">Float</span><span class="op" id="1478009">(</span><span class="op" id="1478010">)</span><span class="op" id="1478011">)</span><span class="op" id="1478012">,</span>&nbsp;<span class="ident" id="1478014">verb</span><span class="op" id="1478018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478022">}</span>&nbsp;<span class="keyword" id="1478024">else</span>&nbsp;<span class="op" id="1478029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478034">p</span><span class="op" id="1478035">.</span><span class="ident" id="1478036">fmtFloat64</span><span class="op" id="1478046">(</span><span class="ident" id="1478047">f</span><span class="op" id="1478048">.</span><span class="ident" id="1478049">Float</span><span class="op" id="1478054">(</span><span class="op" id="1478055">)</span><span class="op" id="1478056">,</span>&nbsp;<span class="ident" id="1478058">verb</span><span class="op" id="1478062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478066">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478069">case</span>&nbsp;<span class="ident" id="1478074">reflect</span><span class="op" id="1478081">.</span><span class="ident" id="1478082">Complex64</span><span class="op" id="1478091">,</span>&nbsp;<span class="ident" id="1478093">reflect</span><span class="op" id="1478100">.</span><span class="ident" id="1478101">Complex128</span><span class="op" id="1478111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478115">if</span>&nbsp;<span class="ident" id="1478118">f</span><span class="op" id="1478119">.</span><span class="ident" id="1478120">Type</span><span class="op" id="1478124">(</span><span class="op" id="1478125">)</span><span class="op" id="1478126">.</span><span class="ident" id="1478127">Size</span><span class="op" id="1478131">(</span><span class="op" id="1478132">)</span>&nbsp;<span class="op" id="1478134">==</span>&nbsp;<span class="num" id="1478137">8</span>&nbsp;<span class="op" id="1478139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478144">p</span><span class="op" id="1478145">.</span><span class="ident" id="1478146">fmtComplex64</span><span class="op" id="1478158">(</span><span class="builtintype" id="1478159">complex64</span><span class="op" id="1478168">(</span><span class="ident" id="1478169">f</span><span class="op" id="1478170">.</span><span class="ident" id="1478171">Complex</span><span class="op" id="1478178">(</span><span class="op" id="1478179">)</span><span class="op" id="1478180">)</span><span class="op" id="1478181">,</span>&nbsp;<span class="ident" id="1478183">verb</span><span class="op" id="1478187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478191">}</span>&nbsp;<span class="keyword" id="1478193">else</span>&nbsp;<span class="op" id="1478198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478203">p</span><span class="op" id="1478204">.</span><span class="ident" id="1478205">fmtComplex128</span><span class="op" id="1478218">(</span><span class="ident" id="1478219">f</span><span class="op" id="1478220">.</span><span class="ident" id="1478221">Complex</span><span class="op" id="1478228">(</span><span class="op" id="1478229">)</span><span class="op" id="1478230">,</span>&nbsp;<span class="ident" id="1478232">verb</span><span class="op" id="1478236">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478243">case</span>&nbsp;<span class="ident" id="1478248">reflect</span><span class="op" id="1478255">.</span><span class="ident" id="1478256">String</span><span class="op" id="1478262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478266">p</span><span class="op" id="1478267">.</span><span class="ident" id="1478268">fmtString</span><span class="op" id="1478277">(</span><span class="ident" id="1478278">f</span><span class="op" id="1478279">.</span><span class="ident" id="1478280">String</span><span class="op" id="1478286">(</span><span class="op" id="1478287">)</span><span class="op" id="1478288">,</span>&nbsp;<span class="ident" id="1478290">verb</span><span class="op" id="1478294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478297">case</span>&nbsp;<span class="ident" id="1478302">reflect</span><span class="op" id="1478309">.</span><span class="ident" id="1478310">Map</span><span class="op" id="1478313">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478317">if</span>&nbsp;<span class="ident" id="1478320">p</span><span class="op" id="1478321">.</span><span class="ident" id="1478322">fmt</span><span class="op" id="1478325">.</span><span class="ident" id="1478326">sharpV</span>&nbsp;<span class="op" id="1478333">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478338">p</span><span class="op" id="1478339">.</span><span class="ident" id="1478340">buf</span><span class="op" id="1478343">.</span><span class="ident" id="1478344">WriteString</span><span class="op" id="1478355">(</span><span class="ident" id="1478356">f</span><span class="op" id="1478357">.</span><span class="ident" id="1478358">Type</span><span class="op" id="1478362">(</span><span class="op" id="1478363">)</span><span class="op" id="1478364">.</span><span class="ident" id="1478365">String</span><span class="op" id="1478371">(</span><span class="op" id="1478372">)</span><span class="op" id="1478373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478378">if</span>&nbsp;<span class="ident" id="1478381">f</span><span class="op" id="1478382">.</span><span class="ident" id="1478383">IsNil</span><span class="op" id="1478388">(</span><span class="op" id="1478389">)</span>&nbsp;<span class="op" id="1478391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478397">p</span><span class="op" id="1478398">.</span><span class="ident" id="1478399">buf</span><span class="op" id="1478402">.</span><span class="ident" id="1478403">WriteString</span><span class="op" id="1478414">(</span><span class="string" id="1478415">&#34;(nil)&#34;</span><span class="op" id="1478422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478428">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478437">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478442">p</span><span class="op" id="1478443">.</span><span class="ident" id="1478444">buf</span><span class="op" id="1478447">.</span><span class="ident" id="1478448">WriteByte</span><span class="op" id="1478457">(</span><span class="string" id="1478458">&#39;{&#39;</span><span class="op" id="1478461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478465">}</span>&nbsp;<span class="keyword" id="1478467">else</span>&nbsp;<span class="op" id="1478472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478477">p</span><span class="op" id="1478478">.</span><span class="ident" id="1478479">buf</span><span class="op" id="1478482">.</span><span class="ident" id="1478483">Write</span><span class="op" id="1478488">(</span><span class="ident" id="1478489">mapBytes</span><span class="op" id="1478497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478505">keys</span>&nbsp;<span class="op" id="1478510">:=</span>&nbsp;<span class="ident" id="1478513">f</span><span class="op" id="1478514">.</span><span class="ident" id="1478515">MapKeys</span><span class="op" id="1478522">(</span><span class="op" id="1478523">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478527">for</span>&nbsp;<span class="ident" id="1478531">i</span><span class="op" id="1478532">,</span>&nbsp;<span class="ident" id="1478534">key</span>&nbsp;<span class="op" id="1478538">:=</span>&nbsp;<span class="keyword" id="1478541">range</span>&nbsp;<span class="ident" id="1478547">keys</span>&nbsp;<span class="op" id="1478552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478557">if</span>&nbsp;<span class="ident" id="1478560">i</span>&nbsp;<span class="op" id="1478562">&gt;</span>&nbsp;<span class="num" id="1478564">0</span>&nbsp;<span class="op" id="1478566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478572">if</span>&nbsp;<span class="ident" id="1478575">p</span><span class="op" id="1478576">.</span><span class="ident" id="1478577">fmt</span><span class="op" id="1478580">.</span><span class="ident" id="1478581">sharpV</span>&nbsp;<span class="op" id="1478588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478595">p</span><span class="op" id="1478596">.</span><span class="ident" id="1478597">buf</span><span class="op" id="1478600">.</span><span class="ident" id="1478601">Write</span><span class="op" id="1478606">(</span><span class="ident" id="1478607">commaSpaceBytes</span><span class="op" id="1478622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478628">}</span>&nbsp;<span class="keyword" id="1478630">else</span>&nbsp;<span class="op" id="1478635">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478642">p</span><span class="op" id="1478643">.</span><span class="ident" id="1478644">buf</span><span class="op" id="1478647">.</span><span class="ident" id="1478648">WriteByte</span><span class="op" id="1478657">(</span><span class="string" id="1478658">&#39;&nbsp;&#39;</span><span class="op" id="1478661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478677">p</span><span class="op" id="1478678">.</span><span class="ident" id="1478679">printValue</span><span class="op" id="1478689">(</span><span class="ident" id="1478690">key</span><span class="op" id="1478693">,</span>&nbsp;<span class="ident" id="1478695">verb</span><span class="op" id="1478699">,</span>&nbsp;<span class="ident" id="1478701">depth</span><span class="op" id="1478706">+</span><span class="num" id="1478707">1</span><span class="op" id="1478708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478713">p</span><span class="op" id="1478714">.</span><span class="ident" id="1478715">buf</span><span class="op" id="1478718">.</span><span class="ident" id="1478719">WriteByte</span><span class="op" id="1478728">(</span><span class="string" id="1478729">&#39;:&#39;</span><span class="op" id="1478732">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478737">p</span><span class="op" id="1478738">.</span><span class="ident" id="1478739">printValue</span><span class="op" id="1478749">(</span><span class="ident" id="1478750">f</span><span class="op" id="1478751">.</span><span class="ident" id="1478752">MapIndex</span><span class="op" id="1478760">(</span><span class="ident" id="1478761">key</span><span class="op" id="1478764">)</span><span class="op" id="1478765">,</span>&nbsp;<span class="ident" id="1478767">verb</span><span class="op" id="1478771">,</span>&nbsp;<span class="ident" id="1478773">depth</span><span class="op" id="1478778">+</span><span class="num" id="1478779">1</span><span class="op" id="1478780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478788">if</span>&nbsp;<span class="ident" id="1478791">p</span><span class="op" id="1478792">.</span><span class="ident" id="1478793">fmt</span><span class="op" id="1478796">.</span><span class="ident" id="1478797">sharpV</span>&nbsp;<span class="op" id="1478804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478809">p</span><span class="op" id="1478810">.</span><span class="ident" id="1478811">buf</span><span class="op" id="1478814">.</span><span class="ident" id="1478815">WriteByte</span><span class="op" id="1478824">(</span><span class="string" id="1478825">&#39;}&#39;</span><span class="op" id="1478828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478832">}</span>&nbsp;<span class="keyword" id="1478834">else</span>&nbsp;<span class="op" id="1478839">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478844">p</span><span class="op" id="1478845">.</span><span class="ident" id="1478846">buf</span><span class="op" id="1478849">.</span><span class="ident" id="1478850">WriteByte</span><span class="op" id="1478859">(</span><span class="string" id="1478860">&#39;]&#39;</span><span class="op" id="1478863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478870">case</span>&nbsp;<span class="ident" id="1478875">reflect</span><span class="op" id="1478882">.</span><span class="ident" id="1478883">Struct</span><span class="op" id="1478889">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478893">if</span>&nbsp;<span class="ident" id="1478896">p</span><span class="op" id="1478897">.</span><span class="ident" id="1478898">fmt</span><span class="op" id="1478901">.</span><span class="ident" id="1478902">sharpV</span>&nbsp;<span class="op" id="1478909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478914">p</span><span class="op" id="1478915">.</span><span class="ident" id="1478916">buf</span><span class="op" id="1478919">.</span><span class="ident" id="1478920">WriteString</span><span class="op" id="1478931">(</span><span class="ident" id="1478932">value</span><span class="op" id="1478937">.</span><span class="ident" id="1478938">Type</span><span class="op" id="1478942">(</span><span class="op" id="1478943">)</span><span class="op" id="1478944">.</span><span class="ident" id="1478945">String</span><span class="op" id="1478951">(</span><span class="op" id="1478952">)</span><span class="op" id="1478953">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1478957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478961">p</span><span class="op" id="1478962">.</span><span class="ident" id="1478963">add</span><span class="op" id="1478966">(</span><span class="string" id="1478967">&#39;{&#39;</span><span class="op" id="1478970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478974">v</span>&nbsp;<span class="op" id="1478976">:=</span>&nbsp;<span class="ident" id="1478979">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1478983">t</span>&nbsp;<span class="op" id="1478985">:=</span>&nbsp;<span class="ident" id="1478988">v</span><span class="op" id="1478989">.</span><span class="ident" id="1478990">Type</span><span class="op" id="1478994">(</span><span class="op" id="1478995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1478999">for</span>&nbsp;<span class="ident" id="1479003">i</span>&nbsp;<span class="op" id="1479005">:=</span>&nbsp;<span class="num" id="1479008">0</span><span class="op" id="1479009">;</span>&nbsp;<span class="ident" id="1479011">i</span>&nbsp;<span class="op" id="1479013">&lt;</span>&nbsp;<span class="ident" id="1479015">v</span><span class="op" id="1479016">.</span><span class="ident" id="1479017">NumField</span><span class="op" id="1479025">(</span><span class="op" id="1479026">)</span><span class="op" id="1479027">;</span>&nbsp;<span class="ident" id="1479029">i</span><span class="op" id="1479030">++</span>&nbsp;<span class="op" id="1479033">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479038">if</span>&nbsp;<span class="ident" id="1479041">i</span>&nbsp;<span class="op" id="1479043">&gt;</span>&nbsp;<span class="num" id="1479045">0</span>&nbsp;<span class="op" id="1479047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479053">if</span>&nbsp;<span class="ident" id="1479056">p</span><span class="op" id="1479057">.</span><span class="ident" id="1479058">fmt</span><span class="op" id="1479061">.</span><span class="ident" id="1479062">sharpV</span>&nbsp;<span class="op" id="1479069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479076">p</span><span class="op" id="1479077">.</span><span class="ident" id="1479078">buf</span><span class="op" id="1479081">.</span><span class="ident" id="1479082">Write</span><span class="op" id="1479087">(</span><span class="ident" id="1479088">commaSpaceBytes</span><span class="op" id="1479103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479109">}</span>&nbsp;<span class="keyword" id="1479111">else</span>&nbsp;<span class="op" id="1479116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479123">p</span><span class="op" id="1479124">.</span><span class="ident" id="1479125">buf</span><span class="op" id="1479128">.</span><span class="ident" id="1479129">WriteByte</span><span class="op" id="1479138">(</span><span class="string" id="1479139">&#39;&nbsp;&#39;</span><span class="op" id="1479142">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479158">if</span>&nbsp;<span class="ident" id="1479161">p</span><span class="op" id="1479162">.</span><span class="ident" id="1479163">fmt</span><span class="op" id="1479166">.</span><span class="ident" id="1479167">plusV</span>&nbsp;<span class="op" id="1479173">||</span>&nbsp;<span class="ident" id="1479176">p</span><span class="op" id="1479177">.</span><span class="ident" id="1479178">fmt</span><span class="op" id="1479181">.</span><span class="ident" id="1479182">sharpV</span>&nbsp;<span class="op" id="1479189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479195">if</span>&nbsp;<span class="ident" id="1479198">f</span>&nbsp;<span class="op" id="1479200">:=</span>&nbsp;<span class="ident" id="1479203">t</span><span class="op" id="1479204">.</span><span class="ident" id="1479205">Field</span><span class="op" id="1479210">(</span><span class="ident" id="1479211">i</span><span class="op" id="1479212">)</span><span class="op" id="1479213">;</span>&nbsp;<span class="ident" id="1479215">f</span><span class="op" id="1479216">.</span><span class="ident" id="1479217">Name</span>&nbsp;<span class="op" id="1479222">!=</span>&nbsp;<span class="string" id="1479225">&#34;&#34;</span>&nbsp;<span class="op" id="1479228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479235">p</span><span class="op" id="1479236">.</span><span class="ident" id="1479237">buf</span><span class="op" id="1479240">.</span><span class="ident" id="1479241">WriteString</span><span class="op" id="1479252">(</span><span class="ident" id="1479253">f</span><span class="op" id="1479254">.</span><span class="ident" id="1479255">Name</span><span class="op" id="1479259">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479266">p</span><span class="op" id="1479267">.</span><span class="ident" id="1479268">buf</span><span class="op" id="1479271">.</span><span class="ident" id="1479272">WriteByte</span><span class="op" id="1479281">(</span><span class="string" id="1479282">&#39;:&#39;</span><span class="op" id="1479285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479301">p</span><span class="op" id="1479302">.</span><span class="ident" id="1479303">printValue</span><span class="op" id="1479313">(</span><span class="ident" id="1479314">getField</span><span class="op" id="1479322">(</span><span class="ident" id="1479323">v</span><span class="op" id="1479324">,</span>&nbsp;<span class="ident" id="1479326">i</span><span class="op" id="1479327">)</span><span class="op" id="1479328">,</span>&nbsp;<span class="ident" id="1479330">verb</span><span class="op" id="1479334">,</span>&nbsp;<span class="ident" id="1479336">depth</span><span class="op" id="1479341">+</span><span class="num" id="1479342">1</span><span class="op" id="1479343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479347">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479351">p</span><span class="op" id="1479352">.</span><span class="ident" id="1479353">buf</span><span class="op" id="1479356">.</span><span class="ident" id="1479357">WriteByte</span><span class="op" id="1479366">(</span><span class="string" id="1479367">&#39;}&#39;</span><span class="op" id="1479370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479373">case</span>&nbsp;<span class="ident" id="1479378">reflect</span><span class="op" id="1479385">.</span><span class="ident" id="1479386">Interface</span><span class="op" id="1479395">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479399">value</span>&nbsp;<span class="op" id="1479405">:=</span>&nbsp;<span class="ident" id="1479408">f</span><span class="op" id="1479409">.</span><span class="ident" id="1479410">Elem</span><span class="op" id="1479414">(</span><span class="op" id="1479415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479419">if</span>&nbsp;<span class="op" id="1479422">!</span><span class="ident" id="1479423">value</span><span class="op" id="1479428">.</span><span class="ident" id="1479429">IsValid</span><span class="op" id="1479436">(</span><span class="op" id="1479437">)</span>&nbsp;<span class="op" id="1479439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479444">if</span>&nbsp;<span class="ident" id="1479447">p</span><span class="op" id="1479448">.</span><span class="ident" id="1479449">fmt</span><span class="op" id="1479452">.</span><span class="ident" id="1479453">sharpV</span>&nbsp;<span class="op" id="1479460">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479466">p</span><span class="op" id="1479467">.</span><span class="ident" id="1479468">buf</span><span class="op" id="1479471">.</span><span class="ident" id="1479472">WriteString</span><span class="op" id="1479483">(</span><span class="ident" id="1479484">f</span><span class="op" id="1479485">.</span><span class="ident" id="1479486">Type</span><span class="op" id="1479490">(</span><span class="op" id="1479491">)</span><span class="op" id="1479492">.</span><span class="ident" id="1479493">String</span><span class="op" id="1479499">(</span><span class="op" id="1479500">)</span><span class="op" id="1479501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479507">p</span><span class="op" id="1479508">.</span><span class="ident" id="1479509">buf</span><span class="op" id="1479512">.</span><span class="ident" id="1479513">Write</span><span class="op" id="1479518">(</span><span class="ident" id="1479519">nilParenBytes</span><span class="op" id="1479532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479537">}</span>&nbsp;<span class="keyword" id="1479539">else</span>&nbsp;<span class="op" id="1479544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479550">p</span><span class="op" id="1479551">.</span><span class="ident" id="1479552">buf</span><span class="op" id="1479555">.</span><span class="ident" id="1479556">Write</span><span class="op" id="1479561">(</span><span class="ident" id="1479562">nilAngleBytes</span><span class="op" id="1479575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479580">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479584">}</span>&nbsp;<span class="keyword" id="1479586">else</span>&nbsp;<span class="op" id="1479591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1479596">wasString</span>&nbsp;<span class="op" id="1479606">=</span>&nbsp;<span class="ident" id="1479608">p</span><span class="op" id="1479609">.</span><span class="ident" id="1479610">printValue</span><span class="op" id="1479620">(</span><span class="ident" id="1479621">value</span><span class="op" id="1479626">,</span>&nbsp;<span class="ident" id="1479628">verb</span><span class="op" id="1479632">,</span>&nbsp;<span class="ident" id="1479634">depth</span><span class="op" id="1479639">+</span><span class="num" id="1479640">1</span><span class="op" id="1479641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1479645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479648">case</span>&nbsp;<span class="ident" id="1479653">reflect</span><span class="op" id="1479660">.</span><span class="ident" id="1479661">Array</span><span class="op" id="1479666">,</span>&nbsp;<span class="ident" id="1479668">reflect</span><span class="op" id="1479675">.</span><span class="ident" id="1479676">Slice</span><span class="op" id="1479681">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1479685">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1479715">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1479764">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1479832">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1479895">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1479956">if</span>&nbsp;<span class="ident" id="1479959">typ</span>&nbsp;<span class="op" id="1479963">:=</span>&nbsp;<span class="ident" id="1479966">f</span><span class="op" id="1479967">.</span><span class="ident" id="1479968">Type</span><span class="op" id="1479972">(</span><span class="op" id="1479973">)</span><span class="op" id="1479974">;</span>&nbsp;<span class="ident" id="1479976">typ</span><span class="op" id="1479979">.</span><span class="ident" id="1479980">Elem</span><span class="op" id="1479984">(</span><span class="op" id="1479985">)</span><span class="op" id="1479986">.</span><span class="ident" id="1479987">Kind</span><span class="op" id="1479991">(</span><span class="op" id="1479992">)</span>&nbsp;<span class="op" id="1479994">==</span>&nbsp;<span class="ident" id="1479997">reflect</span><span class="op" id="1480004">.</span><span class="ident" id="1480005">Uint8</span>&nbsp;<span class="op" id="1480011">&amp;&amp;</span>&nbsp;<span class="op" id="1480014">(</span><span class="ident" id="1480015">typ</span><span class="op" id="1480018">.</span><span class="ident" id="1480019">Elem</span><span class="op" id="1480023">(</span><span class="op" id="1480024">)</span>&nbsp;<span class="op" id="1480026">==</span>&nbsp;<span class="ident" id="1480029">byteType</span>&nbsp;<span class="op" id="1480038">||</span>&nbsp;<span class="ident" id="1480041">verb</span>&nbsp;<span class="op" id="1480046">==</span>&nbsp;<span class="string" id="1480049">&#39;s&#39;</span>&nbsp;<span class="op" id="1480053">||</span>&nbsp;<span class="ident" id="1480056">verb</span>&nbsp;<span class="op" id="1480061">==</span>&nbsp;<span class="string" id="1480064">&#39;q&#39;</span>&nbsp;<span class="op" id="1480068">||</span>&nbsp;<span class="ident" id="1480071">verb</span>&nbsp;<span class="op" id="1480076">==</span>&nbsp;<span class="string" id="1480079">&#39;x&#39;</span><span class="op" id="1480082">)</span>&nbsp;<span class="op" id="1480084">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480089">var</span>&nbsp;<span class="ident" id="1480093">bytes</span>&nbsp;<span class="op" id="1480099">[</span><span class="op" id="1480100">]</span><span class="builtintype" id="1480101">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480109">if</span>&nbsp;<span class="ident" id="1480112">f</span><span class="op" id="1480113">.</span><span class="ident" id="1480114">Kind</span><span class="op" id="1480118">(</span><span class="op" id="1480119">)</span>&nbsp;<span class="op" id="1480121">==</span>&nbsp;<span class="ident" id="1480124">reflect</span><span class="op" id="1480131">.</span><span class="ident" id="1480132">Slice</span>&nbsp;<span class="op" id="1480138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480144">bytes</span>&nbsp;<span class="op" id="1480150">=</span>&nbsp;<span class="ident" id="1480152">f</span><span class="op" id="1480153">.</span><span class="ident" id="1480154">Bytes</span><span class="op" id="1480159">(</span><span class="op" id="1480160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480165">}</span>&nbsp;<span class="keyword" id="1480167">else</span>&nbsp;<span class="keyword" id="1480172">if</span>&nbsp;<span class="ident" id="1480175">f</span><span class="op" id="1480176">.</span><span class="ident" id="1480177">CanAddr</span><span class="op" id="1480184">(</span><span class="op" id="1480185">)</span>&nbsp;<span class="op" id="1480187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480193">bytes</span>&nbsp;<span class="op" id="1480199">=</span>&nbsp;<span class="ident" id="1480201">f</span><span class="op" id="1480202">.</span><span class="ident" id="1480203">Slice</span><span class="op" id="1480208">(</span><span class="num" id="1480209">0</span><span class="op" id="1480210">,</span>&nbsp;<span class="ident" id="1480212">f</span><span class="op" id="1480213">.</span><span class="ident" id="1480214">Len</span><span class="op" id="1480217">(</span><span class="op" id="1480218">)</span><span class="op" id="1480219">)</span><span class="op" id="1480220">.</span><span class="ident" id="1480221">Bytes</span><span class="op" id="1480226">(</span><span class="op" id="1480227">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480232">}</span>&nbsp;<span class="keyword" id="1480234">else</span>&nbsp;<span class="op" id="1480239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1480245">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1480317">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1480394">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480441">bytes</span>&nbsp;<span class="op" id="1480447">=</span>&nbsp;<span class="builtinfunc" id="1480449">make</span><span class="op" id="1480453">(</span><span class="op" id="1480454">[</span><span class="op" id="1480455">]</span><span class="builtintype" id="1480456">byte</span><span class="op" id="1480460">,</span>&nbsp;<span class="ident" id="1480462">f</span><span class="op" id="1480463">.</span><span class="ident" id="1480464">Len</span><span class="op" id="1480467">(</span><span class="op" id="1480468">)</span><span class="op" id="1480469">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480475">for</span>&nbsp;<span class="ident" id="1480479">i</span>&nbsp;<span class="op" id="1480481">:=</span>&nbsp;<span class="keyword" id="1480484">range</span>&nbsp;<span class="ident" id="1480490">bytes</span>&nbsp;<span class="op" id="1480496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480503">bytes</span><span class="op" id="1480508">[</span><span class="ident" id="1480509">i</span><span class="op" id="1480510">]</span>&nbsp;<span class="op" id="1480512">=</span>&nbsp;<span class="builtintype" id="1480514">byte</span><span class="op" id="1480518">(</span><span class="ident" id="1480519">f</span><span class="op" id="1480520">.</span><span class="ident" id="1480521">Index</span><span class="op" id="1480526">(</span><span class="ident" id="1480527">i</span><span class="op" id="1480528">)</span><span class="op" id="1480529">.</span><span class="ident" id="1480530">Uint</span><span class="op" id="1480534">(</span><span class="op" id="1480535">)</span><span class="op" id="1480536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480552">p</span><span class="op" id="1480553">.</span><span class="ident" id="1480554">fmtBytes</span><span class="op" id="1480562">(</span><span class="ident" id="1480563">bytes</span><span class="op" id="1480568">,</span>&nbsp;<span class="ident" id="1480570">verb</span><span class="op" id="1480574">,</span>&nbsp;<span class="ident" id="1480576">typ</span><span class="op" id="1480579">,</span>&nbsp;<span class="ident" id="1480581">depth</span><span class="op" id="1480586">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480591">wasString</span>&nbsp;<span class="op" id="1480601">=</span>&nbsp;<span class="ident" id="1480603">verb</span>&nbsp;<span class="op" id="1480608">==</span>&nbsp;<span class="string" id="1480611">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480618">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480630">if</span>&nbsp;<span class="ident" id="1480633">p</span><span class="op" id="1480634">.</span><span class="ident" id="1480635">fmt</span><span class="op" id="1480638">.</span><span class="ident" id="1480639">sharpV</span>&nbsp;<span class="op" id="1480646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480651">p</span><span class="op" id="1480652">.</span><span class="ident" id="1480653">buf</span><span class="op" id="1480656">.</span><span class="ident" id="1480657">WriteString</span><span class="op" id="1480668">(</span><span class="ident" id="1480669">value</span><span class="op" id="1480674">.</span><span class="ident" id="1480675">Type</span><span class="op" id="1480679">(</span><span class="op" id="1480680">)</span><span class="op" id="1480681">.</span><span class="ident" id="1480682">String</span><span class="op" id="1480688">(</span><span class="op" id="1480689">)</span><span class="op" id="1480690">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480695">if</span>&nbsp;<span class="ident" id="1480698">f</span><span class="op" id="1480699">.</span><span class="ident" id="1480700">Kind</span><span class="op" id="1480704">(</span><span class="op" id="1480705">)</span>&nbsp;<span class="op" id="1480707">==</span>&nbsp;<span class="ident" id="1480710">reflect</span><span class="op" id="1480717">.</span><span class="ident" id="1480718">Slice</span>&nbsp;<span class="op" id="1480724">&amp;&amp;</span>&nbsp;<span class="ident" id="1480727">f</span><span class="op" id="1480728">.</span><span class="ident" id="1480729">IsNil</span><span class="op" id="1480734">(</span><span class="op" id="1480735">)</span>&nbsp;<span class="op" id="1480737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480743">p</span><span class="op" id="1480744">.</span><span class="ident" id="1480745">buf</span><span class="op" id="1480748">.</span><span class="ident" id="1480749">WriteString</span><span class="op" id="1480760">(</span><span class="string" id="1480761">&#34;(nil)&#34;</span><span class="op" id="1480768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480774">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480783">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480788">p</span><span class="op" id="1480789">.</span><span class="ident" id="1480790">buf</span><span class="op" id="1480793">.</span><span class="ident" id="1480794">WriteByte</span><span class="op" id="1480803">(</span><span class="string" id="1480804">&#39;{&#39;</span><span class="op" id="1480807">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480811">}</span>&nbsp;<span class="keyword" id="1480813">else</span>&nbsp;<span class="op" id="1480818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480823">p</span><span class="op" id="1480824">.</span><span class="ident" id="1480825">buf</span><span class="op" id="1480828">.</span><span class="ident" id="1480829">WriteByte</span><span class="op" id="1480838">(</span><span class="string" id="1480839">&#39;[&#39;</span><span class="op" id="1480842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480850">for</span>&nbsp;<span class="ident" id="1480854">i</span>&nbsp;<span class="op" id="1480856">:=</span>&nbsp;<span class="num" id="1480859">0</span><span class="op" id="1480860">;</span>&nbsp;<span class="ident" id="1480862">i</span>&nbsp;<span class="op" id="1480864">&lt;</span>&nbsp;<span class="ident" id="1480866">f</span><span class="op" id="1480867">.</span><span class="ident" id="1480868">Len</span><span class="op" id="1480871">(</span><span class="op" id="1480872">)</span><span class="op" id="1480873">;</span>&nbsp;<span class="ident" id="1480875">i</span><span class="op" id="1480876">++</span>&nbsp;<span class="op" id="1480879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480884">if</span>&nbsp;<span class="ident" id="1480887">i</span>&nbsp;<span class="op" id="1480889">&gt;</span>&nbsp;<span class="num" id="1480891">0</span>&nbsp;<span class="op" id="1480893">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480899">if</span>&nbsp;<span class="ident" id="1480902">p</span><span class="op" id="1480903">.</span><span class="ident" id="1480904">fmt</span><span class="op" id="1480907">.</span><span class="ident" id="1480908">sharpV</span>&nbsp;<span class="op" id="1480915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480922">p</span><span class="op" id="1480923">.</span><span class="ident" id="1480924">buf</span><span class="op" id="1480927">.</span><span class="ident" id="1480928">Write</span><span class="op" id="1480933">(</span><span class="ident" id="1480934">commaSpaceBytes</span><span class="op" id="1480949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480955">}</span>&nbsp;<span class="keyword" id="1480957">else</span>&nbsp;<span class="op" id="1480962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480969">p</span><span class="op" id="1480970">.</span><span class="ident" id="1480971">buf</span><span class="op" id="1480974">.</span><span class="ident" id="1480975">WriteByte</span><span class="op" id="1480984">(</span><span class="string" id="1480985">&#39;&nbsp;&#39;</span><span class="op" id="1480988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480994">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1480999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481004">p</span><span class="op" id="1481005">.</span><span class="ident" id="1481006">printValue</span><span class="op" id="1481016">(</span><span class="ident" id="1481017">f</span><span class="op" id="1481018">.</span><span class="ident" id="1481019">Index</span><span class="op" id="1481024">(</span><span class="ident" id="1481025">i</span><span class="op" id="1481026">)</span><span class="op" id="1481027">,</span>&nbsp;<span class="ident" id="1481029">verb</span><span class="op" id="1481033">,</span>&nbsp;<span class="ident" id="1481035">depth</span><span class="op" id="1481040">+</span><span class="num" id="1481041">1</span><span class="op" id="1481042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481050">if</span>&nbsp;<span class="ident" id="1481053">p</span><span class="op" id="1481054">.</span><span class="ident" id="1481055">fmt</span><span class="op" id="1481058">.</span><span class="ident" id="1481059">sharpV</span>&nbsp;<span class="op" id="1481066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481071">p</span><span class="op" id="1481072">.</span><span class="ident" id="1481073">buf</span><span class="op" id="1481076">.</span><span class="ident" id="1481077">WriteByte</span><span class="op" id="1481086">(</span><span class="string" id="1481087">&#39;}&#39;</span><span class="op" id="1481090">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481094">}</span>&nbsp;<span class="keyword" id="1481096">else</span>&nbsp;<span class="op" id="1481101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481106">p</span><span class="op" id="1481107">.</span><span class="ident" id="1481108">buf</span><span class="op" id="1481111">.</span><span class="ident" id="1481112">WriteByte</span><span class="op" id="1481121">(</span><span class="string" id="1481122">&#39;]&#39;</span><span class="op" id="1481125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481132">case</span>&nbsp;<span class="ident" id="1481137">reflect</span><span class="op" id="1481144">.</span><span class="ident" id="1481145">Ptr</span><span class="op" id="1481148">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481152">v</span>&nbsp;<span class="op" id="1481154">:=</span>&nbsp;<span class="ident" id="1481157">f</span><span class="op" id="1481158">.</span><span class="ident" id="1481159">Pointer</span><span class="op" id="1481166">(</span><span class="op" id="1481167">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1481171">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1481230">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481266">if</span>&nbsp;<span class="ident" id="1481269">v</span>&nbsp;<span class="op" id="1481271">!=</span>&nbsp;<span class="num" id="1481274">0</span>&nbsp;<span class="op" id="1481276">&amp;&amp;</span>&nbsp;<span class="ident" id="1481279">depth</span>&nbsp;<span class="op" id="1481285">==</span>&nbsp;<span class="num" id="1481288">0</span>&nbsp;<span class="op" id="1481290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481295">switch</span>&nbsp;<span class="ident" id="1481302">a</span>&nbsp;<span class="op" id="1481304">:=</span>&nbsp;<span class="ident" id="1481307">f</span><span class="op" id="1481308">.</span><span class="ident" id="1481309">Elem</span><span class="op" id="1481313">(</span><span class="op" id="1481314">)</span><span class="op" id="1481315">;</span>&nbsp;<span class="ident" id="1481317">a</span><span class="op" id="1481318">.</span><span class="ident" id="1481319">Kind</span><span class="op" id="1481323">(</span><span class="op" id="1481324">)</span>&nbsp;<span class="op" id="1481326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481331">case</span>&nbsp;<span class="ident" id="1481336">reflect</span><span class="op" id="1481343">.</span><span class="ident" id="1481344">Array</span><span class="op" id="1481349">,</span>&nbsp;<span class="ident" id="1481351">reflect</span><span class="op" id="1481358">.</span><span class="ident" id="1481359">Slice</span><span class="op" id="1481364">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481370">p</span><span class="op" id="1481371">.</span><span class="ident" id="1481372">buf</span><span class="op" id="1481375">.</span><span class="ident" id="1481376">WriteByte</span><span class="op" id="1481385">(</span><span class="string" id="1481386">&#39;&amp;&#39;</span><span class="op" id="1481389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481395">p</span><span class="op" id="1481396">.</span><span class="ident" id="1481397">printValue</span><span class="op" id="1481407">(</span><span class="ident" id="1481408">a</span><span class="op" id="1481409">,</span>&nbsp;<span class="ident" id="1481411">verb</span><span class="op" id="1481415">,</span>&nbsp;<span class="ident" id="1481417">depth</span><span class="op" id="1481422">+</span><span class="num" id="1481423">1</span><span class="op" id="1481424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481430">break</span>&nbsp;<span class="ident" id="1481436">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481449">case</span>&nbsp;<span class="ident" id="1481454">reflect</span><span class="op" id="1481461">.</span><span class="ident" id="1481462">Struct</span><span class="op" id="1481468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481474">p</span><span class="op" id="1481475">.</span><span class="ident" id="1481476">buf</span><span class="op" id="1481479">.</span><span class="ident" id="1481480">WriteByte</span><span class="op" id="1481489">(</span><span class="string" id="1481490">&#39;&amp;&#39;</span><span class="op" id="1481493">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481499">p</span><span class="op" id="1481500">.</span><span class="ident" id="1481501">printValue</span><span class="op" id="1481511">(</span><span class="ident" id="1481512">a</span><span class="op" id="1481513">,</span>&nbsp;<span class="ident" id="1481515">verb</span><span class="op" id="1481519">,</span>&nbsp;<span class="ident" id="1481521">depth</span><span class="op" id="1481526">+</span><span class="num" id="1481527">1</span><span class="op" id="1481528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481534">break</span>&nbsp;<span class="ident" id="1481540">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481553">case</span>&nbsp;<span class="ident" id="1481558">reflect</span><span class="op" id="1481565">.</span><span class="ident" id="1481566">Map</span><span class="op" id="1481569">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481575">p</span><span class="op" id="1481576">.</span><span class="ident" id="1481577">buf</span><span class="op" id="1481580">.</span><span class="ident" id="1481581">WriteByte</span><span class="op" id="1481590">(</span><span class="string" id="1481591">&#39;&amp;&#39;</span><span class="op" id="1481594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481600">p</span><span class="op" id="1481601">.</span><span class="ident" id="1481602">printValue</span><span class="op" id="1481612">(</span><span class="ident" id="1481613">a</span><span class="op" id="1481614">,</span>&nbsp;<span class="ident" id="1481616">verb</span><span class="op" id="1481620">,</span>&nbsp;<span class="ident" id="1481622">depth</span><span class="op" id="1481627">+</span><span class="num" id="1481628">1</span><span class="op" id="1481629">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481635">break</span>&nbsp;<span class="ident" id="1481641">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481662">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481675">case</span>&nbsp;<span class="ident" id="1481680">reflect</span><span class="op" id="1481687">.</span><span class="ident" id="1481688">Chan</span><span class="op" id="1481692">,</span>&nbsp;<span class="ident" id="1481694">reflect</span><span class="op" id="1481701">.</span><span class="ident" id="1481702">Func</span><span class="op" id="1481706">,</span>&nbsp;<span class="ident" id="1481708">reflect</span><span class="op" id="1481715">.</span><span class="ident" id="1481716">UnsafePointer</span><span class="op" id="1481729">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481733">p</span><span class="op" id="1481734">.</span><span class="ident" id="1481735">fmtPointer</span><span class="op" id="1481745">(</span><span class="ident" id="1481746">value</span><span class="op" id="1481751">,</span>&nbsp;<span class="ident" id="1481753">verb</span><span class="op" id="1481757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481760">default</span><span class="op" id="1481767">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481771">p</span><span class="op" id="1481772">.</span><span class="ident" id="1481773">unknownType</span><span class="op" id="1481784">(</span><span class="ident" id="1481785">f</span><span class="op" id="1481786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481792">p</span><span class="op" id="1481793">.</span><span class="ident" id="1481794">value</span>&nbsp;<span class="op" id="1481800">=</span>&nbsp;<span class="ident" id="1481802">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481812">return</span>&nbsp;<span class="ident" id="1481819">wasString</span><br>
<span class="lineno"></span><span class="op" id="1481829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1481832">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="1481938">func</span>&nbsp;<span class="ident" id="1481943">intFromArg</span><span class="op" id="1481953">(</span><span class="ident" id="1481954">a</span>&nbsp;<span class="op" id="1481956">[</span><span class="op" id="1481957">]</span><span class="keyword" id="1481958">interface</span><span class="op" id="1481967">{</span><span class="op" id="1481968">}</span><span class="op" id="1481969">,</span>&nbsp;<span class="ident" id="1481971">argNum</span>&nbsp;<span class="builtintype" id="1481978">int</span><span class="op" id="1481981">)</span>&nbsp;<span class="op" id="1481983">(</span><span class="ident" id="1481984">num</span>&nbsp;<span class="builtintype" id="1481988">int</span><span class="op" id="1481991">,</span>&nbsp;<span class="ident" id="1481993">isInt</span>&nbsp;<span class="builtintype" id="1481999">bool</span><span class="op" id="1482003">,</span>&nbsp;<span class="ident" id="1482005">newArgNum</span>&nbsp;<span class="builtintype" id="1482015">int</span><span class="op" id="1482018">)</span>&nbsp;<span class="op" id="1482020">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1482023">newArgNum</span>&nbsp;<span class="op" id="1482033">=</span>&nbsp;<span class="ident" id="1482035">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482043">if</span>&nbsp;<span class="ident" id="1482046">argNum</span>&nbsp;<span class="op" id="1482053">&lt;</span>&nbsp;<span class="builtinfunc" id="1482055">len</span><span class="op" id="1482058">(</span><span class="ident" id="1482059">a</span><span class="op" id="1482060">)</span>&nbsp;<span class="op" id="1482062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1482066">num</span><span class="op" id="1482069">,</span>&nbsp;<span class="ident" id="1482071">isInt</span>&nbsp;<span class="op" id="1482077">=</span>&nbsp;<span class="ident" id="1482079">a</span><span class="op" id="1482080">[</span><span class="ident" id="1482081">argNum</span><span class="op" id="1482087">]</span><span class="op" id="1482088">.</span><span class="op" id="1482089">(</span><span class="builtintype" id="1482090">int</span><span class="op" id="1482093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1482097">newArgNum</span>&nbsp;<span class="op" id="1482107">=</span>&nbsp;<span class="ident" id="1482109">argNum</span>&nbsp;<span class="op" id="1482116">+</span>&nbsp;<span class="num" id="1482118">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482121">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482124">return</span><br>
<span class="lineno"></span><span class="op" id="1482131">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1482134">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="1482203">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="1482276">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="1482336">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="1482405">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="1482475">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="1482545">func</span>&nbsp;<span class="ident" id="1482550">parseArgNumber</span><span class="op" id="1482564">(</span><span class="ident" id="1482565">format</span>&nbsp;<span class="builtintype" id="1482572">string</span><span class="op" id="1482578">)</span>&nbsp;<span class="op" id="1482580">(</span><span class="ident" id="1482581">index</span>&nbsp;<span class="builtintype" id="1482587">int</span><span class="op" id="1482590">,</span>&nbsp;<span class="ident" id="1482592">wid</span>&nbsp;<span class="builtintype" id="1482596">int</span><span class="op" id="1482599">,</span>&nbsp;<span class="ident" id="1482601">ok</span>&nbsp;<span class="builtintype" id="1482604">bool</span><span class="op" id="1482608">)</span>&nbsp;<span class="op" id="1482610">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1482613">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482639">for</span>&nbsp;<span class="ident" id="1482643">i</span>&nbsp;<span class="op" id="1482645">:=</span>&nbsp;<span class="num" id="1482648">1</span><span class="op" id="1482649">;</span>&nbsp;<span class="ident" id="1482651">i</span>&nbsp;<span class="op" id="1482653">&lt;</span>&nbsp;<span class="builtinfunc" id="1482655">len</span><span class="op" id="1482658">(</span><span class="ident" id="1482659">format</span><span class="op" id="1482665">)</span><span class="op" id="1482666">;</span>&nbsp;<span class="ident" id="1482668">i</span><span class="op" id="1482669">++</span>&nbsp;<span class="op" id="1482672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482676">if</span>&nbsp;<span class="ident" id="1482679">format</span><span class="op" id="1482685">[</span><span class="ident" id="1482686">i</span><span class="op" id="1482687">]</span>&nbsp;<span class="op" id="1482689">==</span>&nbsp;<span class="string" id="1482692">&#39;]&#39;</span>&nbsp;<span class="op" id="1482696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1482701">width</span><span class="op" id="1482706">,</span>&nbsp;<span class="ident" id="1482708">ok</span><span class="op" id="1482710">,</span>&nbsp;<span class="ident" id="1482712">newi</span>&nbsp;<span class="op" id="1482717">:=</span>&nbsp;<span class="ident" id="1482720">parsenum</span><span class="op" id="1482728">(</span><span class="ident" id="1482729">format</span><span class="op" id="1482735">,</span>&nbsp;<span class="num" id="1482737">1</span><span class="op" id="1482738">,</span>&nbsp;<span class="ident" id="1482740">i</span><span class="op" id="1482741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482746">if</span>&nbsp;<span class="op" id="1482749">!</span><span class="ident" id="1482750">ok</span>&nbsp;<span class="op" id="1482753">||</span>&nbsp;<span class="ident" id="1482756">newi</span>&nbsp;<span class="op" id="1482761">!=</span>&nbsp;<span class="ident" id="1482764">i</span>&nbsp;<span class="op" id="1482766">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482772">return</span>&nbsp;<span class="num" id="1482779">0</span><span class="op" id="1482780">,</span>&nbsp;<span class="ident" id="1482782">i</span>&nbsp;<span class="op" id="1482784">+</span>&nbsp;<span class="num" id="1482786">1</span><span class="op" id="1482787">,</span>&nbsp;<span class="builtintype" id="1482789">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482803">return</span>&nbsp;<span class="ident" id="1482810">width</span>&nbsp;<span class="op" id="1482816">-</span>&nbsp;<span class="num" id="1482818">1</span><span class="op" id="1482819">,</span>&nbsp;<span class="ident" id="1482821">i</span>&nbsp;<span class="op" id="1482823">+</span>&nbsp;<span class="num" id="1482825">1</span><span class="op" id="1482826">,</span>&nbsp;<span class="builtintype" id="1482828">true</span>&nbsp;<span class="comment" id="1482833">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482885">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1482888">return</span>&nbsp;<span class="num" id="1482895">0</span><span class="op" id="1482896">,</span>&nbsp;<span class="num" id="1482898">1</span><span class="op" id="1482899">,</span>&nbsp;<span class="builtintype" id="1482901">false</span><br>
<span class="lineno"></span><span class="op" id="1482907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1482910">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="1483005">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="1483093">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="1483178">func</span>&nbsp;<span class="op" id="1483183">(</span><span class="ident" id="1483184">p</span>&nbsp;<span class="op" id="1483186">*</span><span class="ident" id="1483187">pp</span><span class="op" id="1483189">)</span>&nbsp;<span class="ident" id="1483191">argNumber</span><span class="op" id="1483200">(</span><span class="ident" id="1483201">argNum</span>&nbsp;<span class="builtintype" id="1483208">int</span><span class="op" id="1483211">,</span>&nbsp;<span class="ident" id="1483213">format</span>&nbsp;<span class="builtintype" id="1483220">string</span><span class="op" id="1483226">,</span>&nbsp;<span class="ident" id="1483228">i</span>&nbsp;<span class="builtintype" id="1483230">int</span><span class="op" id="1483233">,</span>&nbsp;<span class="ident" id="1483235">numArgs</span>&nbsp;<span class="builtintype" id="1483243">int</span><span class="op" id="1483246">)</span>&nbsp;<span class="op" id="1483248">(</span><span class="ident" id="1483249">newArgNum</span><span class="op" id="1483258">,</span>&nbsp;<span class="ident" id="1483260">newi</span>&nbsp;<span class="builtintype" id="1483265">int</span><span class="op" id="1483268">,</span>&nbsp;<span class="ident" id="1483270">found</span>&nbsp;<span class="builtintype" id="1483276">bool</span><span class="op" id="1483280">)</span>&nbsp;<span class="op" id="1483282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483285">if</span>&nbsp;<span class="builtinfunc" id="1483288">len</span><span class="op" id="1483291">(</span><span class="ident" id="1483292">format</span><span class="op" id="1483298">)</span>&nbsp;<span class="op" id="1483300">&lt;=</span>&nbsp;<span class="ident" id="1483303">i</span>&nbsp;<span class="op" id="1483305">||</span>&nbsp;<span class="ident" id="1483308">format</span><span class="op" id="1483314">[</span><span class="ident" id="1483315">i</span><span class="op" id="1483316">]</span>&nbsp;<span class="op" id="1483318">!=</span>&nbsp;<span class="string" id="1483321">&#39;[&#39;</span>&nbsp;<span class="op" id="1483325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483329">return</span>&nbsp;<span class="ident" id="1483336">argNum</span><span class="op" id="1483342">,</span>&nbsp;<span class="ident" id="1483344">i</span><span class="op" id="1483345">,</span>&nbsp;<span class="builtintype" id="1483347">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483354">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483357">p</span><span class="op" id="1483358">.</span><span class="ident" id="1483359">reordered</span>&nbsp;<span class="op" id="1483369">=</span>&nbsp;<span class="builtintype" id="1483371">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483377">index</span><span class="op" id="1483382">,</span>&nbsp;<span class="ident" id="1483384">wid</span><span class="op" id="1483387">,</span>&nbsp;<span class="ident" id="1483389">ok</span>&nbsp;<span class="op" id="1483392">:=</span>&nbsp;<span class="ident" id="1483395">parseArgNumber</span><span class="op" id="1483409">(</span><span class="ident" id="1483410">format</span><span class="op" id="1483416">[</span><span class="ident" id="1483417">i</span><span class="op" id="1483418">:</span><span class="op" id="1483419">]</span><span class="op" id="1483420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483423">if</span>&nbsp;<span class="ident" id="1483426">ok</span>&nbsp;<span class="op" id="1483429">&amp;&amp;</span>&nbsp;<span class="num" id="1483432">0</span>&nbsp;<span class="op" id="1483434">&lt;=</span>&nbsp;<span class="ident" id="1483437">index</span>&nbsp;<span class="op" id="1483443">&amp;&amp;</span>&nbsp;<span class="ident" id="1483446">index</span>&nbsp;<span class="op" id="1483452">&lt;</span>&nbsp;<span class="ident" id="1483454">numArgs</span>&nbsp;<span class="op" id="1483462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483466">return</span>&nbsp;<span class="ident" id="1483473">index</span><span class="op" id="1483478">,</span>&nbsp;<span class="ident" id="1483480">i</span>&nbsp;<span class="op" id="1483482">+</span>&nbsp;<span class="ident" id="1483484">wid</span><span class="op" id="1483487">,</span>&nbsp;<span class="builtintype" id="1483489">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483495">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483498">p</span><span class="op" id="1483499">.</span><span class="ident" id="1483500">goodArgNum</span>&nbsp;<span class="op" id="1483511">=</span>&nbsp;<span class="builtintype" id="1483513">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483520">return</span>&nbsp;<span class="ident" id="1483527">argNum</span><span class="op" id="1483533">,</span>&nbsp;<span class="ident" id="1483535">i</span>&nbsp;<span class="op" id="1483537">+</span>&nbsp;<span class="ident" id="1483539">wid</span><span class="op" id="1483542">,</span>&nbsp;<span class="builtintype" id="1483544">true</span><br>
<span class="lineno"></span><span class="op" id="1483549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1483552">func</span>&nbsp;<span class="op" id="1483557">(</span><span class="ident" id="1483558">p</span>&nbsp;<span class="op" id="1483560">*</span><span class="ident" id="1483561">pp</span><span class="op" id="1483563">)</span>&nbsp;<span class="ident" id="1483565">doPrintf</span><span class="op" id="1483573">(</span><span class="ident" id="1483574">format</span>&nbsp;<span class="builtintype" id="1483581">string</span><span class="op" id="1483587">,</span>&nbsp;<span class="ident" id="1483589">a</span>&nbsp;<span class="op" id="1483591">[</span><span class="op" id="1483592">]</span><span class="keyword" id="1483593">interface</span><span class="op" id="1483602">{</span><span class="op" id="1483603">}</span><span class="op" id="1483604">)</span>&nbsp;<span class="op" id="1483606">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483609">end</span>&nbsp;<span class="op" id="1483613">:=</span>&nbsp;<span class="builtinfunc" id="1483616">len</span><span class="op" id="1483619">(</span><span class="ident" id="1483620">format</span><span class="op" id="1483626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483629">argNum</span>&nbsp;<span class="op" id="1483636">:=</span>&nbsp;<span class="num" id="1483639">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1483649">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483700">afterIndex</span>&nbsp;<span class="op" id="1483711">:=</span>&nbsp;<span class="builtintype" id="1483714">false</span>&nbsp;<span class="comment" id="1483720">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483771">p</span><span class="op" id="1483772">.</span><span class="ident" id="1483773">reordered</span>&nbsp;<span class="op" id="1483783">=</span>&nbsp;<span class="builtintype" id="1483785">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483792">for</span>&nbsp;<span class="ident" id="1483796">i</span>&nbsp;<span class="op" id="1483798">:=</span>&nbsp;<span class="num" id="1483801">0</span><span class="op" id="1483802">;</span>&nbsp;<span class="ident" id="1483804">i</span>&nbsp;<span class="op" id="1483806">&lt;</span>&nbsp;<span class="ident" id="1483808">end</span><span class="op" id="1483811">;</span>&nbsp;<span class="op" id="1483813">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483817">p</span><span class="op" id="1483818">.</span><span class="ident" id="1483819">goodArgNum</span>&nbsp;<span class="op" id="1483830">=</span>&nbsp;<span class="builtintype" id="1483832">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483839">lasti</span>&nbsp;<span class="op" id="1483845">:=</span>&nbsp;<span class="ident" id="1483848">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483852">for</span>&nbsp;<span class="ident" id="1483856">i</span>&nbsp;<span class="op" id="1483858">&lt;</span>&nbsp;<span class="ident" id="1483860">end</span>&nbsp;<span class="op" id="1483864">&amp;&amp;</span>&nbsp;<span class="ident" id="1483867">format</span><span class="op" id="1483873">[</span><span class="ident" id="1483874">i</span><span class="op" id="1483875">]</span>&nbsp;<span class="op" id="1483877">!=</span>&nbsp;<span class="string" id="1483880">&#39;%&#39;</span>&nbsp;<span class="op" id="1483884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483889">i</span><span class="op" id="1483890">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483895">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483899">if</span>&nbsp;<span class="ident" id="1483902">i</span>&nbsp;<span class="op" id="1483904">&gt;</span>&nbsp;<span class="ident" id="1483906">lasti</span>&nbsp;<span class="op" id="1483912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483917">p</span><span class="op" id="1483918">.</span><span class="ident" id="1483919">buf</span><span class="op" id="1483922">.</span><span class="ident" id="1483923">WriteString</span><span class="op" id="1483934">(</span><span class="ident" id="1483935">format</span><span class="op" id="1483941">[</span><span class="ident" id="1483942">lasti</span><span class="op" id="1483947">:</span><span class="ident" id="1483948">i</span><span class="op" id="1483949">]</span><span class="op" id="1483950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483958">if</span>&nbsp;<span class="ident" id="1483961">i</span>&nbsp;<span class="op" id="1483963">&gt;=</span>&nbsp;<span class="ident" id="1483966">end</span>&nbsp;<span class="op" id="1483970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1483975">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484011">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1484024">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484046">i</span><span class="op" id="1484047">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1484053">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484076">p</span><span class="op" id="1484077">.</span><span class="ident" id="1484078">fmt</span><span class="op" id="1484081">.</span><span class="ident" id="1484082">clearflags</span><span class="op" id="1484092">(</span><span class="op" id="1484093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484096">F</span><span class="op" id="1484097">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484101">for</span>&nbsp;<span class="op" id="1484105">;</span>&nbsp;<span class="ident" id="1484107">i</span>&nbsp;<span class="op" id="1484109">&lt;</span>&nbsp;<span class="ident" id="1484111">end</span><span class="op" id="1484114">;</span>&nbsp;<span class="ident" id="1484116">i</span><span class="op" id="1484117">++</span>&nbsp;<span class="op" id="1484120">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484125">switch</span>&nbsp;<span class="ident" id="1484132">format</span><span class="op" id="1484138">[</span><span class="ident" id="1484139">i</span><span class="op" id="1484140">]</span>&nbsp;<span class="op" id="1484142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484147">case</span>&nbsp;<span class="string" id="1484152">&#39;#&#39;</span><span class="op" id="1484155">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484161">p</span><span class="op" id="1484162">.</span><span class="ident" id="1484163">fmt</span><span class="op" id="1484166">.</span><span class="ident" id="1484167">sharp</span>&nbsp;<span class="op" id="1484173">=</span>&nbsp;<span class="builtintype" id="1484175">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484183">case</span>&nbsp;<span class="string" id="1484188">&#39;0&#39;</span><span class="op" id="1484191">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484197">p</span><span class="op" id="1484198">.</span><span class="ident" id="1484199">fmt</span><span class="op" id="1484202">.</span><span class="ident" id="1484203">zero</span>&nbsp;<span class="op" id="1484208">=</span>&nbsp;<span class="builtintype" id="1484210">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484218">case</span>&nbsp;<span class="string" id="1484223">&#39;+&#39;</span><span class="op" id="1484226">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484232">p</span><span class="op" id="1484233">.</span><span class="ident" id="1484234">fmt</span><span class="op" id="1484237">.</span><span class="ident" id="1484238">plus</span>&nbsp;<span class="op" id="1484243">=</span>&nbsp;<span class="builtintype" id="1484245">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484253">case</span>&nbsp;<span class="string" id="1484258">&#39;-&#39;</span><span class="op" id="1484261">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484267">p</span><span class="op" id="1484268">.</span><span class="ident" id="1484269">fmt</span><span class="op" id="1484272">.</span><span class="ident" id="1484273">minus</span>&nbsp;<span class="op" id="1484279">=</span>&nbsp;<span class="builtintype" id="1484281">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484289">case</span>&nbsp;<span class="string" id="1484294">&#39;&nbsp;&#39;</span><span class="op" id="1484297">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484303">p</span><span class="op" id="1484304">.</span><span class="ident" id="1484305">fmt</span><span class="op" id="1484308">.</span><span class="ident" id="1484309">space</span>&nbsp;<span class="op" id="1484315">=</span>&nbsp;<span class="builtintype" id="1484317">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484325">default</span><span class="op" id="1484332">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484338">break</span>&nbsp;<span class="ident" id="1484344">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484353">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1484358">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484402">argNum</span><span class="op" id="1484408">,</span>&nbsp;<span class="ident" id="1484410">i</span><span class="op" id="1484411">,</span>&nbsp;<span class="ident" id="1484413">afterIndex</span>&nbsp;<span class="op" id="1484424">=</span>&nbsp;<span class="ident" id="1484426">p</span><span class="op" id="1484427">.</span><span class="ident" id="1484428">argNumber</span><span class="op" id="1484437">(</span><span class="ident" id="1484438">argNum</span><span class="op" id="1484444">,</span>&nbsp;<span class="ident" id="1484446">format</span><span class="op" id="1484452">,</span>&nbsp;<span class="ident" id="1484454">i</span><span class="op" id="1484455">,</span>&nbsp;<span class="builtinfunc" id="1484457">len</span><span class="op" id="1484460">(</span><span class="ident" id="1484461">a</span><span class="op" id="1484462">)</span><span class="op" id="1484463">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1484468">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484491">if</span>&nbsp;<span class="ident" id="1484494">i</span>&nbsp;<span class="op" id="1484496">&lt;</span>&nbsp;<span class="ident" id="1484498">end</span>&nbsp;<span class="op" id="1484502">&amp;&amp;</span>&nbsp;<span class="ident" id="1484505">format</span><span class="op" id="1484511">[</span><span class="ident" id="1484512">i</span><span class="op" id="1484513">]</span>&nbsp;<span class="op" id="1484515">==</span>&nbsp;<span class="string" id="1484518">&#39;*&#39;</span>&nbsp;<span class="op" id="1484522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484527">i</span><span class="op" id="1484528">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484534">p</span><span class="op" id="1484535">.</span><span class="ident" id="1484536">fmt</span><span class="op" id="1484539">.</span><span class="ident" id="1484540">wid</span><span class="op" id="1484543">,</span>&nbsp;<span class="ident" id="1484545">p</span><span class="op" id="1484546">.</span><span class="ident" id="1484547">fmt</span><span class="op" id="1484550">.</span><span class="ident" id="1484551">widPresent</span><span class="op" id="1484561">,</span>&nbsp;<span class="ident" id="1484563">argNum</span>&nbsp;<span class="op" id="1484570">=</span>&nbsp;<span class="ident" id="1484572">intFromArg</span><span class="op" id="1484582">(</span><span class="ident" id="1484583">a</span><span class="op" id="1484584">,</span>&nbsp;<span class="ident" id="1484586">argNum</span><span class="op" id="1484592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484597">if</span>&nbsp;<span class="op" id="1484600">!</span><span class="ident" id="1484601">p</span><span class="op" id="1484602">.</span><span class="ident" id="1484603">fmt</span><span class="op" id="1484606">.</span><span class="ident" id="1484607">widPresent</span>&nbsp;<span class="op" id="1484618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484624">p</span><span class="op" id="1484625">.</span><span class="ident" id="1484626">buf</span><span class="op" id="1484629">.</span><span class="ident" id="1484630">Write</span><span class="op" id="1484635">(</span><span class="ident" id="1484636">badWidthBytes</span><span class="op" id="1484649">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484659">afterIndex</span>&nbsp;<span class="op" id="1484670">=</span>&nbsp;<span class="builtintype" id="1484672">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484680">}</span>&nbsp;<span class="keyword" id="1484682">else</span>&nbsp;<span class="op" id="1484687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484692">p</span><span class="op" id="1484693">.</span><span class="ident" id="1484694">fmt</span><span class="op" id="1484697">.</span><span class="ident" id="1484698">wid</span><span class="op" id="1484701">,</span>&nbsp;<span class="ident" id="1484703">p</span><span class="op" id="1484704">.</span><span class="ident" id="1484705">fmt</span><span class="op" id="1484708">.</span><span class="ident" id="1484709">widPresent</span><span class="op" id="1484719">,</span>&nbsp;<span class="ident" id="1484721">i</span>&nbsp;<span class="op" id="1484723">=</span>&nbsp;<span class="ident" id="1484725">parsenum</span><span class="op" id="1484733">(</span><span class="ident" id="1484734">format</span><span class="op" id="1484740">,</span>&nbsp;<span class="ident" id="1484742">i</span><span class="op" id="1484743">,</span>&nbsp;<span class="ident" id="1484745">end</span><span class="op" id="1484748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484753">if</span>&nbsp;<span class="ident" id="1484756">afterIndex</span>&nbsp;<span class="op" id="1484767">&amp;&amp;</span>&nbsp;<span class="ident" id="1484770">p</span><span class="op" id="1484771">.</span><span class="ident" id="1484772">fmt</span><span class="op" id="1484775">.</span><span class="ident" id="1484776">widPresent</span>&nbsp;<span class="op" id="1484787">{</span>&nbsp;<span class="comment" id="1484789">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484805">p</span><span class="op" id="1484806">.</span><span class="ident" id="1484807">goodArgNum</span>&nbsp;<span class="op" id="1484818">=</span>&nbsp;<span class="builtintype" id="1484820">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1484838">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484865">if</span>&nbsp;<span class="ident" id="1484868">i</span><span class="op" id="1484869">+</span><span class="num" id="1484870">1</span>&nbsp;<span class="op" id="1484872">&lt;</span>&nbsp;<span class="ident" id="1484874">end</span>&nbsp;<span class="op" id="1484878">&amp;&amp;</span>&nbsp;<span class="ident" id="1484881">format</span><span class="op" id="1484887">[</span><span class="ident" id="1484888">i</span><span class="op" id="1484889">]</span>&nbsp;<span class="op" id="1484891">==</span>&nbsp;<span class="string" id="1484894">&#39;.&#39;</span>&nbsp;<span class="op" id="1484898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484903">i</span><span class="op" id="1484904">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484910">if</span>&nbsp;<span class="ident" id="1484913">afterIndex</span>&nbsp;<span class="op" id="1484924">{</span>&nbsp;<span class="comment" id="1484926">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484943">p</span><span class="op" id="1484944">.</span><span class="ident" id="1484945">goodArgNum</span>&nbsp;<span class="op" id="1484956">=</span>&nbsp;<span class="builtintype" id="1484958">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484967">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484972">argNum</span><span class="op" id="1484978">,</span>&nbsp;<span class="ident" id="1484980">i</span><span class="op" id="1484981">,</span>&nbsp;<span class="ident" id="1484983">afterIndex</span>&nbsp;<span class="op" id="1484994">=</span>&nbsp;<span class="ident" id="1484996">p</span><span class="op" id="1484997">.</span><span class="ident" id="1484998">argNumber</span><span class="op" id="1485007">(</span><span class="ident" id="1485008">argNum</span><span class="op" id="1485014">,</span>&nbsp;<span class="ident" id="1485016">format</span><span class="op" id="1485022">,</span>&nbsp;<span class="ident" id="1485024">i</span><span class="op" id="1485025">,</span>&nbsp;<span class="builtinfunc" id="1485027">len</span><span class="op" id="1485030">(</span><span class="ident" id="1485031">a</span><span class="op" id="1485032">)</span><span class="op" id="1485033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485038">if</span>&nbsp;<span class="ident" id="1485041">format</span><span class="op" id="1485047">[</span><span class="ident" id="1485048">i</span><span class="op" id="1485049">]</span>&nbsp;<span class="op" id="1485051">==</span>&nbsp;<span class="string" id="1485054">&#39;*&#39;</span>&nbsp;<span class="op" id="1485058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485064">i</span><span class="op" id="1485065">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485072">p</span><span class="op" id="1485073">.</span><span class="ident" id="1485074">fmt</span><span class="op" id="1485077">.</span><span class="ident" id="1485078">prec</span><span class="op" id="1485082">,</span>&nbsp;<span class="ident" id="1485084">p</span><span class="op" id="1485085">.</span><span class="ident" id="1485086">fmt</span><span class="op" id="1485089">.</span><span class="ident" id="1485090">precPresent</span><span class="op" id="1485101">,</span>&nbsp;<span class="ident" id="1485103">argNum</span>&nbsp;<span class="op" id="1485110">=</span>&nbsp;<span class="ident" id="1485112">intFromArg</span><span class="op" id="1485122">(</span><span class="ident" id="1485123">a</span><span class="op" id="1485124">,</span>&nbsp;<span class="ident" id="1485126">argNum</span><span class="op" id="1485132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485138">if</span>&nbsp;<span class="op" id="1485141">!</span><span class="ident" id="1485142">p</span><span class="op" id="1485143">.</span><span class="ident" id="1485144">fmt</span><span class="op" id="1485147">.</span><span class="ident" id="1485148">precPresent</span>&nbsp;<span class="op" id="1485160">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485167">p</span><span class="op" id="1485168">.</span><span class="ident" id="1485169">buf</span><span class="op" id="1485172">.</span><span class="ident" id="1485173">Write</span><span class="op" id="1485178">(</span><span class="ident" id="1485179">badPrecBytes</span><span class="op" id="1485191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485203">afterIndex</span>&nbsp;<span class="op" id="1485214">=</span>&nbsp;<span class="builtintype" id="1485216">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485225">}</span>&nbsp;<span class="keyword" id="1485227">else</span>&nbsp;<span class="op" id="1485232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485238">p</span><span class="op" id="1485239">.</span><span class="ident" id="1485240">fmt</span><span class="op" id="1485243">.</span><span class="ident" id="1485244">prec</span><span class="op" id="1485248">,</span>&nbsp;<span class="ident" id="1485250">p</span><span class="op" id="1485251">.</span><span class="ident" id="1485252">fmt</span><span class="op" id="1485255">.</span><span class="ident" id="1485256">precPresent</span><span class="op" id="1485267">,</span>&nbsp;<span class="ident" id="1485269">i</span>&nbsp;<span class="op" id="1485271">=</span>&nbsp;<span class="ident" id="1485273">parsenum</span><span class="op" id="1485281">(</span><span class="ident" id="1485282">format</span><span class="op" id="1485288">,</span>&nbsp;<span class="ident" id="1485290">i</span><span class="op" id="1485291">,</span>&nbsp;<span class="ident" id="1485293">end</span><span class="op" id="1485296">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485302">if</span>&nbsp;<span class="op" id="1485305">!</span><span class="ident" id="1485306">p</span><span class="op" id="1485307">.</span><span class="ident" id="1485308">fmt</span><span class="op" id="1485311">.</span><span class="ident" id="1485312">precPresent</span>&nbsp;<span class="op" id="1485324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485331">p</span><span class="op" id="1485332">.</span><span class="ident" id="1485333">fmt</span><span class="op" id="1485336">.</span><span class="ident" id="1485337">prec</span>&nbsp;<span class="op" id="1485342">=</span>&nbsp;<span class="num" id="1485344">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485351">p</span><span class="op" id="1485352">.</span><span class="ident" id="1485353">fmt</span><span class="op" id="1485356">.</span><span class="ident" id="1485357">precPresent</span>&nbsp;<span class="op" id="1485369">=</span>&nbsp;<span class="builtintype" id="1485371">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485385">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485394">if</span>&nbsp;<span class="op" id="1485397">!</span><span class="ident" id="1485398">afterIndex</span>&nbsp;<span class="op" id="1485409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485414">argNum</span><span class="op" id="1485420">,</span>&nbsp;<span class="ident" id="1485422">i</span><span class="op" id="1485423">,</span>&nbsp;<span class="ident" id="1485425">afterIndex</span>&nbsp;<span class="op" id="1485436">=</span>&nbsp;<span class="ident" id="1485438">p</span><span class="op" id="1485439">.</span><span class="ident" id="1485440">argNumber</span><span class="op" id="1485449">(</span><span class="ident" id="1485450">argNum</span><span class="op" id="1485456">,</span>&nbsp;<span class="ident" id="1485458">format</span><span class="op" id="1485464">,</span>&nbsp;<span class="ident" id="1485466">i</span><span class="op" id="1485467">,</span>&nbsp;<span class="builtinfunc" id="1485469">len</span><span class="op" id="1485472">(</span><span class="ident" id="1485473">a</span><span class="op" id="1485474">)</span><span class="op" id="1485475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485479">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485484">if</span>&nbsp;<span class="ident" id="1485487">i</span>&nbsp;<span class="op" id="1485489">&gt;=</span>&nbsp;<span class="ident" id="1485492">end</span>&nbsp;<span class="op" id="1485496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485501">p</span><span class="op" id="1485502">.</span><span class="ident" id="1485503">buf</span><span class="op" id="1485506">.</span><span class="ident" id="1485507">Write</span><span class="op" id="1485512">(</span><span class="ident" id="1485513">noVerbBytes</span><span class="op" id="1485524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485529">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485540">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485544">c</span><span class="op" id="1485545">,</span>&nbsp;<span class="ident" id="1485547">w</span>&nbsp;<span class="op" id="1485549">:=</span>&nbsp;<span class="ident" id="1485552">utf8</span><span class="op" id="1485556">.</span><span class="ident" id="1485557">DecodeRuneInString</span><span class="op" id="1485575">(</span><span class="ident" id="1485576">format</span><span class="op" id="1485582">[</span><span class="ident" id="1485583">i</span><span class="op" id="1485584">:</span><span class="op" id="1485585">]</span><span class="op" id="1485586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485590">i</span>&nbsp;<span class="op" id="1485592">+=</span>&nbsp;<span class="ident" id="1485595">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1485599">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485644">if</span>&nbsp;<span class="ident" id="1485647">c</span>&nbsp;<span class="op" id="1485649">==</span>&nbsp;<span class="string" id="1485652">&#39;%&#39;</span>&nbsp;<span class="op" id="1485656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485661">p</span><span class="op" id="1485662">.</span><span class="ident" id="1485663">buf</span><span class="op" id="1485666">.</span><span class="ident" id="1485667">WriteByte</span><span class="op" id="1485676">(</span><span class="string" id="1485677">&#39;%&#39;</span><span class="op" id="1485680">)</span>&nbsp;<span class="comment" id="1485682">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485714">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485729">if</span>&nbsp;<span class="op" id="1485732">!</span><span class="ident" id="1485733">p</span><span class="op" id="1485734">.</span><span class="ident" id="1485735">goodArgNum</span>&nbsp;<span class="op" id="1485746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485751">p</span><span class="op" id="1485752">.</span><span class="ident" id="1485753">buf</span><span class="op" id="1485756">.</span><span class="ident" id="1485757">Write</span><span class="op" id="1485762">(</span><span class="ident" id="1485763">percentBangBytes</span><span class="op" id="1485779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485784">p</span><span class="op" id="1485785">.</span><span class="ident" id="1485786">add</span><span class="op" id="1485789">(</span><span class="ident" id="1485790">c</span><span class="op" id="1485791">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485796">p</span><span class="op" id="1485797">.</span><span class="ident" id="1485798">buf</span><span class="op" id="1485801">.</span><span class="ident" id="1485802">Write</span><span class="op" id="1485807">(</span><span class="ident" id="1485808">badIndexBytes</span><span class="op" id="1485821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485826">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485837">}</span>&nbsp;<span class="keyword" id="1485839">else</span>&nbsp;<span class="keyword" id="1485844">if</span>&nbsp;<span class="ident" id="1485847">argNum</span>&nbsp;<span class="op" id="1485854">&gt;=</span>&nbsp;<span class="builtinfunc" id="1485857">len</span><span class="op" id="1485860">(</span><span class="ident" id="1485861">a</span><span class="op" id="1485862">)</span>&nbsp;<span class="op" id="1485864">{</span>&nbsp;<span class="comment" id="1485866">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485888">p</span><span class="op" id="1485889">.</span><span class="ident" id="1485890">buf</span><span class="op" id="1485893">.</span><span class="ident" id="1485894">Write</span><span class="op" id="1485899">(</span><span class="ident" id="1485900">percentBangBytes</span><span class="op" id="1485916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485921">p</span><span class="op" id="1485922">.</span><span class="ident" id="1485923">add</span><span class="op" id="1485926">(</span><span class="ident" id="1485927">c</span><span class="op" id="1485928">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485933">p</span><span class="op" id="1485934">.</span><span class="ident" id="1485935">buf</span><span class="op" id="1485938">.</span><span class="ident" id="1485939">Write</span><span class="op" id="1485944">(</span><span class="ident" id="1485945">missingBytes</span><span class="op" id="1485957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485962">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485977">arg</span>&nbsp;<span class="op" id="1485981">:=</span>&nbsp;<span class="ident" id="1485984">a</span><span class="op" id="1485985">[</span><span class="ident" id="1485986">argNum</span><span class="op" id="1485992">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485996">argNum</span><span class="op" id="1486002">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1486008">if</span>&nbsp;<span class="ident" id="1486011">c</span>&nbsp;<span class="op" id="1486013">==</span>&nbsp;<span class="string" id="1486016">&#39;v&#39;</span>&nbsp;<span class="op" id="1486020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1486025">if</span>&nbsp;<span class="ident" id="1486028">p</span><span class="op" id="1486029">.</span><span class="ident" id="1486030">fmt</span><span class="op" id="1486033">.</span><span class="ident" id="1486034">sharp</span>&nbsp;<span class="op" id="1486040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1486046">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486114">p</span><span class="op" id="1486115">.</span><span class="ident" id="1486116">fmt</span><span class="op" id="1486119">.</span><span class="ident" id="1486120">sharp</span>&nbsp;<span class="op" id="1486126">=</span>&nbsp;<span class="builtintype" id="1486128">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486138">p</span><span class="op" id="1486139">.</span><span class="ident" id="1486140">fmt</span><span class="op" id="1486143">.</span><span class="ident" id="1486144">sharpV</span>&nbsp;<span class="op" id="1486151">=</span>&nbsp;<span class="builtintype" id="1486153">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1486161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1486166">if</span>&nbsp;<span class="ident" id="1486169">p</span><span class="op" id="1486170">.</span><span class="ident" id="1486171">fmt</span><span class="op" id="1486174">.</span><span class="ident" id="1486175">plus</span>&nbsp;<span class="op" id="1486180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1486186">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486263">p</span><span class="op" id="1486264">.</span><span class="ident" id="1486265">fmt</span><span class="op" id="1486268">.</span><span class="ident" id="1486269">plus</span>&nbsp;<span class="op" id="1486274">=</span>&nbsp;<span class="builtintype" id="1486276">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486286">p</span><span class="op" id="1486287">.</span><span class="ident" id="1486288">fmt</span><span class="op" id="1486291">.</span><span class="ident" id="1486292">plusV</span>&nbsp;<span class="op" id="1486298">=</span>&nbsp;<span class="builtintype" id="1486300">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1486308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1486312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486316">p</span><span class="op" id="1486317">.</span><span class="ident" id="1486318">printArg</span><span class="op" id="1486326">(</span><span class="ident" id="1486327">arg</span><span class="op" id="1486330">,</span>&nbsp;<span class="ident" id="1486332">c</span><span class="op" id="1486333">,</span>&nbsp;<span class="num" id="1486335">0</span><span class="op" id="1486336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1486339">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1486343">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1486412">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1486488">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1486534">if</span>&nbsp;<span class="op" id="1486537">!</span><span class="ident" id="1486538">p</span><span class="op" id="1486539">.</span><span class="ident" id="1486540">reordered</span>&nbsp;<span class="op" id="1486550">&amp;&amp;</span>&nbsp;<span class="ident" id="1486553">argNum</span>&nbsp;<span class="op" id="1486560">&lt;</span>&nbsp;<span class="builtinfunc" id="1486562">len</span><span class="op" id="1486565">(</span><span class="ident" id="1486566">a</span><span class="op" id="1486567">)</span>&nbsp;<span class="op" id="1486569">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486573">p</span><span class="op" id="1486574">.</span><span class="ident" id="1486575">buf</span><span class="op" id="1486578">.</span><span class="ident" id="1486579">Write</span><span class="op" id="1486584">(</span><span class="ident" id="1486585">extraBytes</span><span class="op" id="1486595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1486599">for</span>&nbsp;<span class="op" id="1486603">;</span>&nbsp;<span class="ident" id="1486605">argNum</span>&nbsp;<span class="op" id="1486612">&lt;</span>&nbsp;<span class="builtinfunc" id="1486614">len</span><span class="op" id="1486617">(</span><span class="ident" id="1486618">a</span><span class="op" id="1486619">)</span><span class="op" id="1486620">;</span>&nbsp;<span class="ident" id="1486622">argNum</span><span class="op" id="1486628">++</span>&nbsp;<span class="op" id="1486631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486636">arg</span>&nbsp;<span class="op" id="1486640">:=</span>&nbsp;<span class="ident" id="1486643">a</span><span class="op" id="1486644">[</span><span class="ident" id="1486645">argNum</span><span class="op" id="1486651">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1486656">if</span>&nbsp;<span class="ident" id="1486659">arg</span>&nbsp;<span class="op" id="1486663">!=</span>&nbsp;<span class="ident" id="1486666">nil</span>&nbsp;<span class="op" id="1486670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486676">p</span><span class="op" id="1486677">.</span><span class="ident" id="1486678">buf</span><span class="op" id="1486681">.</span><span class="ident" id="1486682">WriteString</span><span class="op" id="1486693">(</span><span class="ident" id="1486694">reflect</span><span class="op" id="1486701">.</span><span class="ident" id="1486702">TypeOf</span><span class="op" id="1486708">(</span><span class="ident" id="1486709">arg</span><span class="op" id="1486712">)</span><span class="op" id="1486713">.</span><span class="ident" id="1486714">String</span><span class="op" id="1486720">(</span><span class="op" id="1486721">)</span><span class="op" id="1486722">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486728">p</span><span class="op" id="1486729">.</span><span class="ident" id="1486730">buf</span><span class="op" id="1486733">.</span><span class="ident" id="1486734">WriteByte</span><span class="op" id="1486743">(</span><span class="string" id="1486744">&#39;=&#39;</span><span class="op" id="1486747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1486752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486757">p</span><span class="op" id="1486758">.</span><span class="ident" id="1486759">printArg</span><span class="op" id="1486767">(</span><span class="ident" id="1486768">arg</span><span class="op" id="1486771">,</span>&nbsp;<span class="string" id="1486773">&#39;v&#39;</span><span class="op" id="1486776">,</span>&nbsp;<span class="num" id="1486778">0</span><span class="op" id="1486779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1486784">if</span>&nbsp;<span class="ident" id="1486787">argNum</span><span class="op" id="1486793">+</span><span class="num" id="1486794">1</span>&nbsp;<span class="op" id="1486796">&lt;</span>&nbsp;<span class="builtinfunc" id="1486798">len</span><span class="op" id="1486801">(</span><span class="ident" id="1486802">a</span><span class="op" id="1486803">)</span>&nbsp;<span class="op" id="1486805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486811">p</span><span class="op" id="1486812">.</span><span class="ident" id="1486813">buf</span><span class="op" id="1486816">.</span><span class="ident" id="1486817">Write</span><span class="op" id="1486822">(</span><span class="ident" id="1486823">commaSpaceBytes</span><span class="op" id="1486838">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1486843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1486847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486851">p</span><span class="op" id="1486852">.</span><span class="ident" id="1486853">buf</span><span class="op" id="1486856">.</span><span class="ident" id="1486857">WriteByte</span><span class="op" id="1486866">(</span><span class="string" id="1486867">&#39;)&#39;</span><span class="op" id="1486870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1486873">}</span><br>
<span class="lineno"></span><span class="op" id="1486875">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="1486878">func</span>&nbsp;<span class="op" id="1486883">(</span><span class="ident" id="1486884">p</span>&nbsp;<span class="op" id="1486886">*</span><span class="ident" id="1486887">pp</span><span class="op" id="1486889">)</span>&nbsp;<span class="ident" id="1486891">doPrint</span><span class="op" id="1486898">(</span><span class="ident" id="1486899">a</span>&nbsp;<span class="op" id="1486901">[</span><span class="op" id="1486902">]</span><span class="keyword" id="1486903">interface</span><span class="op" id="1486912">{</span><span class="op" id="1486913">}</span><span class="op" id="1486914">,</span>&nbsp;<span class="ident" id="1486916">addspace</span><span class="op" id="1486924">,</span>&nbsp;<span class="ident" id="1486926">addnewline</span>&nbsp;<span class="builtintype" id="1486937">bool</span><span class="op" id="1486941">)</span>&nbsp;<span class="op" id="1486943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1486946">prevString</span>&nbsp;<span class="op" id="1486957">:=</span>&nbsp;<span class="builtintype" id="1486960">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1486967">for</span>&nbsp;<span class="ident" id="1486971">argNum</span>&nbsp;<span class="op" id="1486978">:=</span>&nbsp;<span class="num" id="1486981">0</span><span class="op" id="1486982">;</span>&nbsp;<span class="ident" id="1486984">argNum</span>&nbsp;<span class="op" id="1486991">&lt;</span>&nbsp;<span class="builtinfunc" id="1486993">len</span><span class="op" id="1486996">(</span><span class="ident" id="1486997">a</span><span class="op" id="1486998">)</span><span class="op" id="1486999">;</span>&nbsp;<span class="ident" id="1487001">argNum</span><span class="op" id="1487007">++</span>&nbsp;<span class="op" id="1487010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1487014">p</span><span class="op" id="1487015">.</span><span class="ident" id="1487016">fmt</span><span class="op" id="1487019">.</span><span class="ident" id="1487020">clearflags</span><span class="op" id="1487030">(</span><span class="op" id="1487031">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1487035">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1487081">arg</span>&nbsp;<span class="op" id="1487085">:=</span>&nbsp;<span class="ident" id="1487088">a</span><span class="op" id="1487089">[</span><span class="ident" id="1487090">argNum</span><span class="op" id="1487096">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1487100">if</span>&nbsp;<span class="ident" id="1487103">argNum</span>&nbsp;<span class="op" id="1487110">&gt;</span>&nbsp;<span class="num" id="1487112">0</span>&nbsp;<span class="op" id="1487114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1487119">isString</span>&nbsp;<span class="op" id="1487128">:=</span>&nbsp;<span class="ident" id="1487131">arg</span>&nbsp;<span class="op" id="1487135">!=</span>&nbsp;<span class="ident" id="1487138">nil</span>&nbsp;<span class="op" id="1487142">&amp;&amp;</span>&nbsp;<span class="ident" id="1487145">reflect</span><span class="op" id="1487152">.</span><span class="ident" id="1487153">TypeOf</span><span class="op" id="1487159">(</span><span class="ident" id="1487160">arg</span><span class="op" id="1487163">)</span><span class="op" id="1487164">.</span><span class="ident" id="1487165">Kind</span><span class="op" id="1487169">(</span><span class="op" id="1487170">)</span>&nbsp;<span class="op" id="1487172">==</span>&nbsp;<span class="ident" id="1487175">reflect</span><span class="op" id="1487182">.</span><span class="ident" id="1487183">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1487193">if</span>&nbsp;<span class="ident" id="1487196">addspace</span>&nbsp;<span class="op" id="1487205">||</span>&nbsp;<span class="op" id="1487208">!</span><span class="ident" id="1487209">isString</span>&nbsp;<span class="op" id="1487218">&amp;&amp;</span>&nbsp;<span class="op" id="1487221">!</span><span class="ident" id="1487222">prevString</span>&nbsp;<span class="op" id="1487233">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1487239">p</span><span class="op" id="1487240">.</span><span class="ident" id="1487241">buf</span><span class="op" id="1487244">.</span><span class="ident" id="1487245">WriteByte</span><span class="op" id="1487254">(</span><span class="string" id="1487255">&#39;&nbsp;&#39;</span><span class="op" id="1487258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1487263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1487267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1487271">prevString</span>&nbsp;<span class="op" id="1487282">=</span>&nbsp;<span class="ident" id="1487284">p</span><span class="op" id="1487285">.</span><span class="ident" id="1487286">printArg</span><span class="op" id="1487294">(</span><span class="ident" id="1487295">arg</span><span class="op" id="1487298">,</span>&nbsp;<span class="string" id="1487300">&#39;v&#39;</span><span class="op" id="1487303">,</span>&nbsp;<span class="num" id="1487305">0</span><span class="op" id="1487306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1487309">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1487312">if</span>&nbsp;<span class="ident" id="1487315">addnewline</span>&nbsp;<span class="op" id="1487326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1487330">p</span><span class="op" id="1487331">.</span><span class="ident" id="1487332">buf</span><span class="op" id="1487335">.</span><span class="ident" id="1487336">WriteByte</span><span class="op" id="1487345">(</span><span class="string" id="1487346">&#39;\n&#39;</span><span class="op" id="1487350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1487353">}</span><br>
<span class="lineno"></span><span class="op" id="1487355">}</span>
</div>
</body>
</html>
