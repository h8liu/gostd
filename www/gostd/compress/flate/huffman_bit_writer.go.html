<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html" class="current">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4811922">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4811977">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4812031">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4812082">package</span>&nbsp;<span class="ident" id="4812090">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4812097">import</span>&nbsp;<span class="op" id="4812104">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4812107">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4812113">&#34;math&#34;</span><br>
<span class="lineno">10</span><span class="op" id="4812120">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4812123">const</span>&nbsp;<span class="op" id="4812129">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4812132">//&nbsp;The&nbsp;largest&nbsp;offset&nbsp;code.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4812161">offsetCodeCount</span>&nbsp;<span class="op" id="4812177">=</span>&nbsp;<span class="num" id="4812179">30</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4812184">//&nbsp;The&nbsp;special&nbsp;code&nbsp;used&nbsp;to&nbsp;mark&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;block.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4812238">endBlockMarker</span>&nbsp;<span class="op" id="4812253">=</span>&nbsp;<span class="num" id="4812255">256</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4812261">//&nbsp;The&nbsp;first&nbsp;length&nbsp;code.</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4812288">lengthCodesStart</span>&nbsp;<span class="op" id="4812305">=</span>&nbsp;<span class="num" id="4812307">257</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4812313">//&nbsp;The&nbsp;number&nbsp;of&nbsp;codegen&nbsp;codes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4812346">codegenCodeCount</span>&nbsp;<span class="op" id="4812363">=</span>&nbsp;<span class="num" id="4812365">19</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4812369">badCode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4812386">=</span>&nbsp;<span class="num" id="4812388">255</span><br>
<span class="lineno">25</span><span class="op" id="4812392">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4812395">//&nbsp;The&nbsp;number&nbsp;of&nbsp;extra&nbsp;bits&nbsp;needed&nbsp;by&nbsp;length&nbsp;code&nbsp;X&nbsp;-&nbsp;LENGTH_CODES_START.</span><br>
<span class="lineno"></span><span class="keyword" id="4812469">var</span>&nbsp;<span class="ident" id="4812473">lengthExtraBits</span>&nbsp;<span class="op" id="4812489">=</span>&nbsp;<span class="op" id="4812491">[</span><span class="op" id="4812492">]</span><span class="builtintype" id="4812493">int8</span><span class="op" id="4812497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4812500">/*&nbsp;257&nbsp;*/</span>&nbsp;<span class="num" id="4812510">0</span><span class="op" id="4812511">,</span>&nbsp;<span class="num" id="4812513">0</span><span class="op" id="4812514">,</span>&nbsp;<span class="num" id="4812516">0</span><span class="op" id="4812517">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4812520">/*&nbsp;260&nbsp;*/</span>&nbsp;<span class="num" id="4812530">0</span><span class="op" id="4812531">,</span>&nbsp;<span class="num" id="4812533">0</span><span class="op" id="4812534">,</span>&nbsp;<span class="num" id="4812536">0</span><span class="op" id="4812537">,</span>&nbsp;<span class="num" id="4812539">0</span><span class="op" id="4812540">,</span>&nbsp;<span class="num" id="4812542">0</span><span class="op" id="4812543">,</span>&nbsp;<span class="num" id="4812545">1</span><span class="op" id="4812546">,</span>&nbsp;<span class="num" id="4812548">1</span><span class="op" id="4812549">,</span>&nbsp;<span class="num" id="4812551">1</span><span class="op" id="4812552">,</span>&nbsp;<span class="num" id="4812554">1</span><span class="op" id="4812555">,</span>&nbsp;<span class="num" id="4812557">2</span><span class="op" id="4812558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4812561">/*&nbsp;270&nbsp;*/</span>&nbsp;<span class="num" id="4812571">2</span><span class="op" id="4812572">,</span>&nbsp;<span class="num" id="4812574">2</span><span class="op" id="4812575">,</span>&nbsp;<span class="num" id="4812577">2</span><span class="op" id="4812578">,</span>&nbsp;<span class="num" id="4812580">3</span><span class="op" id="4812581">,</span>&nbsp;<span class="num" id="4812583">3</span><span class="op" id="4812584">,</span>&nbsp;<span class="num" id="4812586">3</span><span class="op" id="4812587">,</span>&nbsp;<span class="num" id="4812589">3</span><span class="op" id="4812590">,</span>&nbsp;<span class="num" id="4812592">4</span><span class="op" id="4812593">,</span>&nbsp;<span class="num" id="4812595">4</span><span class="op" id="4812596">,</span>&nbsp;<span class="num" id="4812598">4</span><span class="op" id="4812599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4812602">/*&nbsp;280&nbsp;*/</span>&nbsp;<span class="num" id="4812612">4</span><span class="op" id="4812613">,</span>&nbsp;<span class="num" id="4812615">5</span><span class="op" id="4812616">,</span>&nbsp;<span class="num" id="4812618">5</span><span class="op" id="4812619">,</span>&nbsp;<span class="num" id="4812621">5</span><span class="op" id="4812622">,</span>&nbsp;<span class="num" id="4812624">5</span><span class="op" id="4812625">,</span>&nbsp;<span class="num" id="4812627">0</span><span class="op" id="4812628">,</span><br>
<span class="lineno"></span><span class="op" id="4812630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="4812633">//&nbsp;The&nbsp;length&nbsp;indicated&nbsp;by&nbsp;length&nbsp;code&nbsp;X&nbsp;-&nbsp;LENGTH_CODES_START.</span><br>
<span class="lineno"></span><span class="keyword" id="4812696">var</span>&nbsp;<span class="ident" id="4812700">lengthBase</span>&nbsp;<span class="op" id="4812711">=</span>&nbsp;<span class="op" id="4812713">[</span><span class="op" id="4812714">]</span><span class="builtintype" id="4812715">uint32</span><span class="op" id="4812721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4812724">0</span><span class="op" id="4812725">,</span>&nbsp;<span class="num" id="4812727">1</span><span class="op" id="4812728">,</span>&nbsp;<span class="num" id="4812730">2</span><span class="op" id="4812731">,</span>&nbsp;<span class="num" id="4812733">3</span><span class="op" id="4812734">,</span>&nbsp;<span class="num" id="4812736">4</span><span class="op" id="4812737">,</span>&nbsp;<span class="num" id="4812739">5</span><span class="op" id="4812740">,</span>&nbsp;<span class="num" id="4812742">6</span><span class="op" id="4812743">,</span>&nbsp;<span class="num" id="4812745">7</span><span class="op" id="4812746">,</span>&nbsp;<span class="num" id="4812748">8</span><span class="op" id="4812749">,</span>&nbsp;<span class="num" id="4812751">10</span><span class="op" id="4812753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4812756">12</span><span class="op" id="4812758">,</span>&nbsp;<span class="num" id="4812760">14</span><span class="op" id="4812762">,</span>&nbsp;<span class="num" id="4812764">16</span><span class="op" id="4812766">,</span>&nbsp;<span class="num" id="4812768">20</span><span class="op" id="4812770">,</span>&nbsp;<span class="num" id="4812772">24</span><span class="op" id="4812774">,</span>&nbsp;<span class="num" id="4812776">28</span><span class="op" id="4812778">,</span>&nbsp;<span class="num" id="4812780">32</span><span class="op" id="4812782">,</span>&nbsp;<span class="num" id="4812784">40</span><span class="op" id="4812786">,</span>&nbsp;<span class="num" id="4812788">48</span><span class="op" id="4812790">,</span>&nbsp;<span class="num" id="4812792">56</span><span class="op" id="4812794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4812797">64</span><span class="op" id="4812799">,</span>&nbsp;<span class="num" id="4812801">80</span><span class="op" id="4812803">,</span>&nbsp;<span class="num" id="4812805">96</span><span class="op" id="4812807">,</span>&nbsp;<span class="num" id="4812809">112</span><span class="op" id="4812812">,</span>&nbsp;<span class="num" id="4812814">128</span><span class="op" id="4812817">,</span>&nbsp;<span class="num" id="4812819">160</span><span class="op" id="4812822">,</span>&nbsp;<span class="num" id="4812824">192</span><span class="op" id="4812827">,</span>&nbsp;<span class="num" id="4812829">224</span><span class="op" id="4812832">,</span>&nbsp;<span class="num" id="4812834">255</span><span class="op" id="4812837">,</span><br>
<span class="lineno">40</span><span class="op" id="4812839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4812842">//&nbsp;offset&nbsp;code&nbsp;word&nbsp;extra&nbsp;bits.</span><br>
<span class="lineno"></span><span class="keyword" id="4812874">var</span>&nbsp;<span class="ident" id="4812878">offsetExtraBits</span>&nbsp;<span class="op" id="4812894">=</span>&nbsp;<span class="op" id="4812896">[</span><span class="op" id="4812897">]</span><span class="builtintype" id="4812898">int8</span><span class="op" id="4812902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4812905">0</span><span class="op" id="4812906">,</span>&nbsp;<span class="num" id="4812908">0</span><span class="op" id="4812909">,</span>&nbsp;<span class="num" id="4812911">0</span><span class="op" id="4812912">,</span>&nbsp;<span class="num" id="4812914">0</span><span class="op" id="4812915">,</span>&nbsp;<span class="num" id="4812917">1</span><span class="op" id="4812918">,</span>&nbsp;<span class="num" id="4812920">1</span><span class="op" id="4812921">,</span>&nbsp;<span class="num" id="4812923">2</span><span class="op" id="4812924">,</span>&nbsp;<span class="num" id="4812926">2</span><span class="op" id="4812927">,</span>&nbsp;<span class="num" id="4812929">3</span><span class="op" id="4812930">,</span>&nbsp;<span class="num" id="4812932">3</span><span class="op" id="4812933">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4812936">4</span><span class="op" id="4812937">,</span>&nbsp;<span class="num" id="4812939">4</span><span class="op" id="4812940">,</span>&nbsp;<span class="num" id="4812942">5</span><span class="op" id="4812943">,</span>&nbsp;<span class="num" id="4812945">5</span><span class="op" id="4812946">,</span>&nbsp;<span class="num" id="4812948">6</span><span class="op" id="4812949">,</span>&nbsp;<span class="num" id="4812951">6</span><span class="op" id="4812952">,</span>&nbsp;<span class="num" id="4812954">7</span><span class="op" id="4812955">,</span>&nbsp;<span class="num" id="4812957">7</span><span class="op" id="4812958">,</span>&nbsp;<span class="num" id="4812960">8</span><span class="op" id="4812961">,</span>&nbsp;<span class="num" id="4812963">8</span><span class="op" id="4812964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4812967">9</span><span class="op" id="4812968">,</span>&nbsp;<span class="num" id="4812970">9</span><span class="op" id="4812971">,</span>&nbsp;<span class="num" id="4812973">10</span><span class="op" id="4812975">,</span>&nbsp;<span class="num" id="4812977">10</span><span class="op" id="4812979">,</span>&nbsp;<span class="num" id="4812981">11</span><span class="op" id="4812983">,</span>&nbsp;<span class="num" id="4812985">11</span><span class="op" id="4812987">,</span>&nbsp;<span class="num" id="4812989">12</span><span class="op" id="4812991">,</span>&nbsp;<span class="num" id="4812993">12</span><span class="op" id="4812995">,</span>&nbsp;<span class="num" id="4812997">13</span><span class="op" id="4812999">,</span>&nbsp;<span class="num" id="4813001">13</span><span class="op" id="4813003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4813006">/*&nbsp;extended&nbsp;window&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813029">14</span><span class="op" id="4813031">,</span>&nbsp;<span class="num" id="4813033">14</span><span class="op" id="4813035">,</span>&nbsp;<span class="num" id="4813037">15</span><span class="op" id="4813039">,</span>&nbsp;<span class="num" id="4813041">15</span><span class="op" id="4813043">,</span>&nbsp;<span class="num" id="4813045">16</span><span class="op" id="4813047">,</span>&nbsp;<span class="num" id="4813049">16</span><span class="op" id="4813051">,</span>&nbsp;<span class="num" id="4813053">17</span><span class="op" id="4813055">,</span>&nbsp;<span class="num" id="4813057">17</span><span class="op" id="4813059">,</span>&nbsp;<span class="num" id="4813061">18</span><span class="op" id="4813063">,</span>&nbsp;<span class="num" id="4813065">18</span><span class="op" id="4813067">,</span>&nbsp;<span class="num" id="4813069">19</span><span class="op" id="4813071">,</span>&nbsp;<span class="num" id="4813073">19</span><span class="op" id="4813075">,</span>&nbsp;<span class="num" id="4813077">20</span><span class="op" id="4813079">,</span>&nbsp;<span class="num" id="4813081">20</span><span class="op" id="4813083">,</span><br>
<span class="lineno"></span><span class="op" id="4813085">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="4813088">var</span>&nbsp;<span class="ident" id="4813092">offsetBase</span>&nbsp;<span class="op" id="4813103">=</span>&nbsp;<span class="op" id="4813105">[</span><span class="op" id="4813106">]</span><span class="builtintype" id="4813107">uint32</span><span class="op" id="4813113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4813116">/*&nbsp;normal&nbsp;deflate&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813138">0x000000</span><span class="op" id="4813146">,</span>&nbsp;<span class="num" id="4813148">0x000001</span><span class="op" id="4813156">,</span>&nbsp;<span class="num" id="4813158">0x000002</span><span class="op" id="4813166">,</span>&nbsp;<span class="num" id="4813168">0x000003</span><span class="op" id="4813176">,</span>&nbsp;<span class="num" id="4813178">0x000004</span><span class="op" id="4813186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813189">0x000006</span><span class="op" id="4813197">,</span>&nbsp;<span class="num" id="4813199">0x000008</span><span class="op" id="4813207">,</span>&nbsp;<span class="num" id="4813209">0x00000c</span><span class="op" id="4813217">,</span>&nbsp;<span class="num" id="4813219">0x000010</span><span class="op" id="4813227">,</span>&nbsp;<span class="num" id="4813229">0x000018</span><span class="op" id="4813237">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813240">0x000020</span><span class="op" id="4813248">,</span>&nbsp;<span class="num" id="4813250">0x000030</span><span class="op" id="4813258">,</span>&nbsp;<span class="num" id="4813260">0x000040</span><span class="op" id="4813268">,</span>&nbsp;<span class="num" id="4813270">0x000060</span><span class="op" id="4813278">,</span>&nbsp;<span class="num" id="4813280">0x000080</span><span class="op" id="4813288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813291">0x0000c0</span><span class="op" id="4813299">,</span>&nbsp;<span class="num" id="4813301">0x000100</span><span class="op" id="4813309">,</span>&nbsp;<span class="num" id="4813311">0x000180</span><span class="op" id="4813319">,</span>&nbsp;<span class="num" id="4813321">0x000200</span><span class="op" id="4813329">,</span>&nbsp;<span class="num" id="4813331">0x000300</span><span class="op" id="4813339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813342">0x000400</span><span class="op" id="4813350">,</span>&nbsp;<span class="num" id="4813352">0x000600</span><span class="op" id="4813360">,</span>&nbsp;<span class="num" id="4813362">0x000800</span><span class="op" id="4813370">,</span>&nbsp;<span class="num" id="4813372">0x000c00</span><span class="op" id="4813380">,</span>&nbsp;<span class="num" id="4813382">0x001000</span><span class="op" id="4813390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813393">0x001800</span><span class="op" id="4813401">,</span>&nbsp;<span class="num" id="4813403">0x002000</span><span class="op" id="4813411">,</span>&nbsp;<span class="num" id="4813413">0x003000</span><span class="op" id="4813421">,</span>&nbsp;<span class="num" id="4813423">0x004000</span><span class="op" id="4813431">,</span>&nbsp;<span class="num" id="4813433">0x006000</span><span class="op" id="4813441">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4813445">/*&nbsp;extended&nbsp;window&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813468">0x008000</span><span class="op" id="4813476">,</span>&nbsp;<span class="num" id="4813478">0x00c000</span><span class="op" id="4813486">,</span>&nbsp;<span class="num" id="4813488">0x010000</span><span class="op" id="4813496">,</span>&nbsp;<span class="num" id="4813498">0x018000</span><span class="op" id="4813506">,</span>&nbsp;<span class="num" id="4813508">0x020000</span><span class="op" id="4813516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813519">0x030000</span><span class="op" id="4813527">,</span>&nbsp;<span class="num" id="4813529">0x040000</span><span class="op" id="4813537">,</span>&nbsp;<span class="num" id="4813539">0x060000</span><span class="op" id="4813547">,</span>&nbsp;<span class="num" id="4813549">0x080000</span><span class="op" id="4813557">,</span>&nbsp;<span class="num" id="4813559">0x0c0000</span><span class="op" id="4813567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="4813570">0x100000</span><span class="op" id="4813578">,</span>&nbsp;<span class="num" id="4813580">0x180000</span><span class="op" id="4813588">,</span>&nbsp;<span class="num" id="4813590">0x200000</span><span class="op" id="4813598">,</span>&nbsp;<span class="num" id="4813600">0x300000</span><span class="op" id="4813608">,</span><br>
<span class="lineno"></span><span class="op" id="4813610">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="4813613">//&nbsp;The&nbsp;odd&nbsp;order&nbsp;in&nbsp;which&nbsp;the&nbsp;codegen&nbsp;code&nbsp;sizes&nbsp;are&nbsp;written.</span><br>
<span class="lineno"></span><span class="keyword" id="4813675">var</span>&nbsp;<span class="ident" id="4813679">codegenOrder</span>&nbsp;<span class="op" id="4813692">=</span>&nbsp;<span class="op" id="4813694">[</span><span class="op" id="4813695">]</span><span class="builtintype" id="4813696">uint32</span><span class="op" id="4813702">{</span><span class="num" id="4813703">16</span><span class="op" id="4813705">,</span>&nbsp;<span class="num" id="4813707">17</span><span class="op" id="4813709">,</span>&nbsp;<span class="num" id="4813711">18</span><span class="op" id="4813713">,</span>&nbsp;<span class="num" id="4813715">0</span><span class="op" id="4813716">,</span>&nbsp;<span class="num" id="4813718">8</span><span class="op" id="4813719">,</span>&nbsp;<span class="num" id="4813721">7</span><span class="op" id="4813722">,</span>&nbsp;<span class="num" id="4813724">9</span><span class="op" id="4813725">,</span>&nbsp;<span class="num" id="4813727">6</span><span class="op" id="4813728">,</span>&nbsp;<span class="num" id="4813730">10</span><span class="op" id="4813732">,</span>&nbsp;<span class="num" id="4813734">5</span><span class="op" id="4813735">,</span>&nbsp;<span class="num" id="4813737">11</span><span class="op" id="4813739">,</span>&nbsp;<span class="num" id="4813741">4</span><span class="op" id="4813742">,</span>&nbsp;<span class="num" id="4813744">12</span><span class="op" id="4813746">,</span>&nbsp;<span class="num" id="4813748">3</span><span class="op" id="4813749">,</span>&nbsp;<span class="num" id="4813751">13</span><span class="op" id="4813753">,</span>&nbsp;<span class="num" id="4813755">2</span><span class="op" id="4813756">,</span>&nbsp;<span class="num" id="4813758">14</span><span class="op" id="4813760">,</span>&nbsp;<span class="num" id="4813762">1</span><span class="op" id="4813763">,</span>&nbsp;<span class="num" id="4813765">15</span><span class="op" id="4813767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4813770">type</span>&nbsp;<span class="ident" id="4813775">huffmanBitWriter</span>&nbsp;<span class="keyword" id="4813792">struct</span>&nbsp;<span class="op" id="4813799">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4813802">w</span>&nbsp;<span class="ident" id="4813804"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812107">io</a></span><span class="op" id="4813806">.</span><span class="ident" id="4813807"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4813815">//&nbsp;Data&nbsp;waiting&nbsp;to&nbsp;be&nbsp;written&nbsp;is&nbsp;bytes[0:nbytes]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4813865">//&nbsp;and&nbsp;then&nbsp;the&nbsp;low&nbsp;nbits&nbsp;of&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4813901">bits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4813917">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4813925">nbits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4813941">uint32</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4813949">bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4813965">[</span><span class="num" id="4813966">64</span><span class="op" id="4813968">]</span><span class="builtintype" id="4813969">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4813975">nbytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4813991">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4813996">literalFreq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4814012">[</span><span class="op" id="4814013">]</span><span class="builtintype" id="4814014">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814021">offsetFreq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4814037">[</span><span class="op" id="4814038">]</span><span class="builtintype" id="4814039">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814046">codegen</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4814062">[</span><span class="op" id="4814063">]</span><span class="builtintype" id="4814064">uint8</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814071">codegenFreq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4814087">[</span><span class="op" id="4814088">]</span><span class="builtintype" id="4814089">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814096">literalEncoding</span>&nbsp;<span class="op" id="4814112">*</span><span class="ident" id="4814113"><a href="/gostd/compress/flate/huffman_code.go.html#4825350">huffmanEncoder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814129">offsetEncoding</span>&nbsp;&nbsp;<span class="op" id="4814145">*</span><span class="ident" id="4814146"><a href="/gostd/compress/flate/huffman_code.go.html#4825350">huffmanEncoder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814162">codegenEncoding</span>&nbsp;<span class="op" id="4814178">*</span><span class="ident" id="4814179"><a href="/gostd/compress/flate/huffman_code.go.html#4825350">huffmanEncoder</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814195">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4814211">error</span><br>
<span class="lineno">85</span><span class="op" id="4814217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4814220">func</span>&nbsp;<span class="ident" id="4814225">newHuffmanBitWriter</span><span class="op" id="4814244">(</span><span class="ident" id="4814245">w</span>&nbsp;<span class="ident" id="4814247"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812107">io</a></span><span class="op" id="4814249">.</span><span class="ident" id="4814250"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="4814256">)</span>&nbsp;<span class="op" id="4814258">*</span><span class="ident" id="4814259"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span>&nbsp;<span class="op" id="4814276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4814279">return</span>&nbsp;<span class="op" id="4814286">&amp;</span><span class="ident" id="4814287"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4814303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814307"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813802">w</a></span><span class="op" id="4814308">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814324"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814245">w</a></span><span class="op" id="4814325">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814329"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4814340">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4814346">make</span><span class="op" id="4814350">(</span><span class="op" id="4814351">[</span><span class="op" id="4814352">]</span><span class="builtintype" id="4814353">int32</span><span class="op" id="4814358">,</span>&nbsp;<span class="ident" id="4814360"><a href="/gostd/compress/flate/inflate.go.html#4835110">maxLit</a></span><span class="op" id="4814366">)</span><span class="op" id="4814367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814371"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4814381">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4814388">make</span><span class="op" id="4814392">(</span><span class="op" id="4814393">[</span><span class="op" id="4814394">]</span><span class="builtintype" id="4814395">int32</span><span class="op" id="4814400">,</span>&nbsp;<span class="ident" id="4814402"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812161">offsetCodeCount</a></span><span class="op" id="4814417">)</span><span class="op" id="4814418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814422"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814046">codegen</a></span><span class="op" id="4814429">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4814439">make</span><span class="op" id="4814443">(</span><span class="op" id="4814444">[</span><span class="op" id="4814445">]</span><span class="builtintype" id="4814446">uint8</span><span class="op" id="4814451">,</span>&nbsp;<span class="ident" id="4814453"><a href="/gostd/compress/flate/inflate.go.html#4835110">maxLit</a></span><span class="op" id="4814459">+</span><span class="ident" id="4814460"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812161">offsetCodeCount</a></span><span class="op" id="4814475">+</span><span class="num" id="4814476">1</span><span class="op" id="4814477">)</span><span class="op" id="4814478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814482"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4814493">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4814499">make</span><span class="op" id="4814503">(</span><span class="op" id="4814504">[</span><span class="op" id="4814505">]</span><span class="builtintype" id="4814506">int32</span><span class="op" id="4814511">,</span>&nbsp;<span class="ident" id="4814513"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812346">codegenCodeCount</a></span><span class="op" id="4814529">)</span><span class="op" id="4814530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814534"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814096">literalEncoding</a></span><span class="op" id="4814549">:</span>&nbsp;<span class="ident" id="4814551"><a href="/gostd/compress/flate/huffman_code.go.html#4826143">newHuffmanEncoder</a></span><span class="op" id="4814568">(</span><span class="ident" id="4814569"><a href="/gostd/compress/flate/inflate.go.html#4835110">maxLit</a></span><span class="op" id="4814575">)</span><span class="op" id="4814576">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814580"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814129">offsetEncoding</a></span><span class="op" id="4814594">:</span>&nbsp;&nbsp;<span class="ident" id="4814597"><a href="/gostd/compress/flate/huffman_code.go.html#4826143">newHuffmanEncoder</a></span><span class="op" id="4814614">(</span><span class="ident" id="4814615"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812161">offsetCodeCount</a></span><span class="op" id="4814630">)</span><span class="op" id="4814631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814635"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814162">codegenEncoding</a></span><span class="op" id="4814650">:</span>&nbsp;<span class="ident" id="4814652"><a href="/gostd/compress/flate/huffman_code.go.html#4826143">newHuffmanEncoder</a></span><span class="op" id="4814669">(</span><span class="ident" id="4814670"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812346">codegenCodeCount</a></span><span class="op" id="4814686">)</span><span class="op" id="4814687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4814690">}</span><br>
<span class="lineno"></span><span class="op" id="4814692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="4814695">func</span>&nbsp;<span class="op" id="4814700">(</span><span class="ident" id="4814701">w</span>&nbsp;<span class="op" id="4814703">*</span><span class="ident" id="4814704"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4814720">)</span>&nbsp;<span class="ident" id="4814722">reset</span><span class="op" id="4814727">(</span><span class="ident" id="4814728">writer</span>&nbsp;<span class="ident" id="4814735"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812107">io</a></span><span class="op" id="4814737">.</span><span class="ident" id="4814738"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="4814744">)</span>&nbsp;<span class="op" id="4814746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814749"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814750">.</span><span class="ident" id="4814751"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813802">w</a></span>&nbsp;<span class="op" id="4814753">=</span>&nbsp;<span class="ident" id="4814755"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814728">writer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814763"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814764">.</span><span class="ident" id="4814765"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813901">bits</a></span><span class="op" id="4814769">,</span>&nbsp;<span class="ident" id="4814771"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814772">.</span><span class="ident" id="4814773"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span><span class="op" id="4814778">,</span>&nbsp;<span class="ident" id="4814780"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814781">.</span><span class="ident" id="4814782"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813975">nbytes</a></span><span class="op" id="4814788">,</span>&nbsp;<span class="ident" id="4814790"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814791">.</span><span class="ident" id="4814792"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4814796">=</span>&nbsp;<span class="num" id="4814798">0</span><span class="op" id="4814799">,</span>&nbsp;<span class="num" id="4814801">0</span><span class="op" id="4814802">,</span>&nbsp;<span class="num" id="4814804">0</span><span class="op" id="4814805">,</span>&nbsp;<span class="builtintype" id="4814807">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814812"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814813">.</span><span class="ident" id="4814814"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span>&nbsp;<span class="op" id="4814820">=</span>&nbsp;<span class="op" id="4814822">[</span><span class="num" id="4814823">64</span><span class="op" id="4814825">]</span><span class="builtintype" id="4814826">byte</span><span class="op" id="4814830">{</span><span class="op" id="4814831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4814834">for</span>&nbsp;<span class="ident" id="4814838">i</span>&nbsp;<span class="op" id="4814840">:=</span>&nbsp;<span class="keyword" id="4814843">range</span>&nbsp;<span class="ident" id="4814849"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814850">.</span><span class="ident" id="4814851"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814046">codegen</a></span>&nbsp;<span class="op" id="4814859">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814863"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814864">.</span><span class="ident" id="4814865"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814046">codegen</a></span><span class="op" id="4814872">[</span><span class="ident" id="4814873"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814838">i</a></span><span class="op" id="4814874">]</span>&nbsp;<span class="op" id="4814876">=</span>&nbsp;<span class="num" id="4814878">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4814881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4814884">for</span>&nbsp;<span class="ident" id="4814888">_</span><span class="op" id="4814889">,</span>&nbsp;<span class="ident" id="4814891">s</span>&nbsp;<span class="op" id="4814893">:=</span>&nbsp;<span class="keyword" id="4814896">range</span>&nbsp;<span class="op" id="4814902">[</span><span class="op" id="4814903">...</span><span class="op" id="4814906">]</span><span class="op" id="4814907">[</span><span class="op" id="4814908">]</span><span class="builtintype" id="4814909">int32</span><span class="op" id="4814914">{</span><span class="ident" id="4814915"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814916">.</span><span class="ident" id="4814917"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4814928">,</span>&nbsp;<span class="ident" id="4814930"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814931">.</span><span class="ident" id="4814932"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4814942">,</span>&nbsp;<span class="ident" id="4814944"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4814945">.</span><span class="ident" id="4814946"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4814957">}</span>&nbsp;<span class="op" id="4814959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4814963">for</span>&nbsp;<span class="ident" id="4814967">i</span>&nbsp;<span class="op" id="4814969">:=</span>&nbsp;<span class="keyword" id="4814972">range</span>&nbsp;<span class="ident" id="4814978"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814891">s</a></span>&nbsp;<span class="op" id="4814980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4814985"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814891">s</a></span><span class="op" id="4814986">[</span><span class="ident" id="4814987"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814967">i</a></span><span class="op" id="4814988">]</span>&nbsp;<span class="op" id="4814990">=</span>&nbsp;<span class="num" id="4814992">0</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4814996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4814999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815002">for</span>&nbsp;<span class="ident" id="4815006">_</span><span class="op" id="4815007">,</span>&nbsp;<span class="ident" id="4815009">enc</span>&nbsp;<span class="op" id="4815013">:=</span>&nbsp;<span class="keyword" id="4815016">range</span>&nbsp;<span class="op" id="4815022">[</span><span class="op" id="4815023">...</span><span class="op" id="4815026">]</span><span class="op" id="4815027">*</span><span class="ident" id="4815028"><a href="/gostd/compress/flate/huffman_code.go.html#4825350">huffmanEncoder</a></span><span class="op" id="4815042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815046"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4815047">.</span><span class="ident" id="4815048"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814096">literalEncoding</a></span><span class="op" id="4815063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815067"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4815068">.</span><span class="ident" id="4815069"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814129">offsetEncoding</a></span><span class="op" id="4815083">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815087"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814701">w</a></span><span class="op" id="4815088">.</span><span class="ident" id="4815089"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814162">codegenEncoding</a></span><span class="op" id="4815104">}</span>&nbsp;<span class="op" id="4815106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815110">for</span>&nbsp;<span class="ident" id="4815114">i</span>&nbsp;<span class="op" id="4815116">:=</span>&nbsp;<span class="keyword" id="4815119">range</span>&nbsp;<span class="ident" id="4815125"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815009">enc</a></span><span class="op" id="4815128">.</span><span class="ident" id="4815129"><a href="/gostd/compress/flate/huffman_code.go.html#4825393">code</a></span>&nbsp;<span class="op" id="4815134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815139"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815009">enc</a></span><span class="op" id="4815142">.</span><span class="ident" id="4815143"><a href="/gostd/compress/flate/huffman_code.go.html#4825393">code</a></span><span class="op" id="4815147">[</span><span class="ident" id="4815148"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815114">i</a></span><span class="op" id="4815149">]</span>&nbsp;<span class="op" id="4815151">=</span>&nbsp;<span class="num" id="4815153">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4815157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815161">for</span>&nbsp;<span class="ident" id="4815165">i</span>&nbsp;<span class="op" id="4815167">:=</span>&nbsp;<span class="keyword" id="4815170">range</span>&nbsp;<span class="ident" id="4815176"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815009">enc</a></span><span class="op" id="4815179">.</span><span class="ident" id="4815180"><a href="/gostd/compress/flate/huffman_code.go.html#4825375">codeBits</a></span>&nbsp;<span class="op" id="4815189">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815194"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815009">enc</a></span><span class="op" id="4815197">.</span><span class="ident" id="4815198"><a href="/gostd/compress/flate/huffman_code.go.html#4825375">codeBits</a></span><span class="op" id="4815206">[</span><span class="ident" id="4815207"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815165">i</a></span><span class="op" id="4815208">]</span>&nbsp;<span class="op" id="4815210">=</span>&nbsp;<span class="num" id="4815212">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4815216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4815219">}</span><br>
<span class="lineno"></span><span class="op" id="4815221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="4815224">func</span>&nbsp;<span class="op" id="4815229">(</span><span class="ident" id="4815230">w</span>&nbsp;<span class="op" id="4815232">*</span><span class="ident" id="4815233"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4815249">)</span>&nbsp;<span class="ident" id="4815251">flushBits</span><span class="op" id="4815260">(</span><span class="op" id="4815261">)</span>&nbsp;<span class="op" id="4815263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815266">if</span>&nbsp;<span class="ident" id="4815269"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815270">.</span><span class="ident" id="4815271"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4815275">!=</span>&nbsp;<span class="builtintype" id="4815278">nil</span>&nbsp;<span class="op" id="4815282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815286"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815287">.</span><span class="ident" id="4815288"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4815294">=</span>&nbsp;<span class="num" id="4815296">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815300">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4815308">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815311">bits</span>&nbsp;<span class="op" id="4815316">:=</span>&nbsp;<span class="ident" id="4815319"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815320">.</span><span class="ident" id="4815321"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813901">bits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815327"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815328">.</span><span class="ident" id="4815329"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813901">bits</a></span>&nbsp;<span class="op" id="4815334">&gt;&gt;=</span>&nbsp;<span class="num" id="4815338">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815342"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815343">.</span><span class="ident" id="4815344"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4815350">-=</span>&nbsp;<span class="num" id="4815353">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815357">n</span>&nbsp;<span class="op" id="4815359">:=</span>&nbsp;<span class="ident" id="4815362"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815363">.</span><span class="ident" id="4815364"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813975">nbytes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815372"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815373">.</span><span class="ident" id="4815374"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span><span class="op" id="4815379">[</span><span class="ident" id="4815380"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815357">n</a></span><span class="op" id="4815381">]</span>&nbsp;<span class="op" id="4815383">=</span>&nbsp;<span class="builtintype" id="4815385">byte</span><span class="op" id="4815389">(</span><span class="ident" id="4815390"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815311">bits</a></span><span class="op" id="4815394">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815397"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815398">.</span><span class="ident" id="4815399"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span><span class="op" id="4815404">[</span><span class="ident" id="4815405"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815357">n</a></span><span class="op" id="4815406">+</span><span class="num" id="4815407">1</span><span class="op" id="4815408">]</span>&nbsp;<span class="op" id="4815410">=</span>&nbsp;<span class="builtintype" id="4815412">byte</span><span class="op" id="4815416">(</span><span class="ident" id="4815417"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815311">bits</a></span>&nbsp;<span class="op" id="4815422">&gt;&gt;</span>&nbsp;<span class="num" id="4815425">8</span><span class="op" id="4815426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815429">if</span>&nbsp;<span class="ident" id="4815432"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815357">n</a></span>&nbsp;<span class="op" id="4815434">+=</span>&nbsp;<span class="num" id="4815437">2</span><span class="op" id="4815438">;</span>&nbsp;<span class="ident" id="4815440"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815357">n</a></span>&nbsp;<span class="op" id="4815442">&gt;=</span>&nbsp;<span class="builtinfunc" id="4815445">len</span><span class="op" id="4815448">(</span><span class="ident" id="4815449"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815450">.</span><span class="ident" id="4815451"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span><span class="op" id="4815456">)</span>&nbsp;<span class="op" id="4815458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815462">_</span><span class="op" id="4815463">,</span>&nbsp;<span class="ident" id="4815465"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815466">.</span><span class="ident" id="4815467"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4815471">=</span>&nbsp;<span class="ident" id="4815473"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815474">.</span><span class="ident" id="4815475"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813802">w</a></span><span class="op" id="4815476">.</span><span class="ident" id="4815477"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="4815482">(</span><span class="ident" id="4815483"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815484">.</span><span class="ident" id="4815485"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span><span class="op" id="4815490">[</span><span class="num" id="4815491">0</span><span class="op" id="4815492">:</span><span class="op" id="4815493">]</span><span class="op" id="4815494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815498"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815357">n</a></span>&nbsp;<span class="op" id="4815500">=</span>&nbsp;<span class="num" id="4815502">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4815505">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815508"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815230">w</a></span><span class="op" id="4815509">.</span><span class="ident" id="4815510"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813975">nbytes</a></span>&nbsp;<span class="op" id="4815517">=</span>&nbsp;<span class="ident" id="4815519"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815357">n</a></span><br>
<span class="lineno"></span><span class="op" id="4815521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4815524">func</span>&nbsp;<span class="op" id="4815529">(</span><span class="ident" id="4815530">w</span>&nbsp;<span class="op" id="4815532">*</span><span class="ident" id="4815533"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4815549">)</span>&nbsp;<span class="ident" id="4815551">flush</span><span class="op" id="4815556">(</span><span class="op" id="4815557">)</span>&nbsp;<span class="op" id="4815559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815562">if</span>&nbsp;<span class="ident" id="4815565"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815566">.</span><span class="ident" id="4815567"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4815571">!=</span>&nbsp;<span class="builtintype" id="4815574">nil</span>&nbsp;<span class="op" id="4815578">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815582"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815583">.</span><span class="ident" id="4815584"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4815590">=</span>&nbsp;<span class="num" id="4815592">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815596">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4815604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815607">n</span>&nbsp;<span class="op" id="4815609">:=</span>&nbsp;<span class="ident" id="4815612"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815613">.</span><span class="ident" id="4815614"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813975">nbytes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815622">if</span>&nbsp;<span class="ident" id="4815625"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815626">.</span><span class="ident" id="4815627"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4815633">&gt;</span>&nbsp;<span class="num" id="4815635">8</span>&nbsp;<span class="op" id="4815637">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815641"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815642">.</span><span class="ident" id="4815643"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span><span class="op" id="4815648">[</span><span class="ident" id="4815649"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815607">n</a></span><span class="op" id="4815650">]</span>&nbsp;<span class="op" id="4815652">=</span>&nbsp;<span class="builtintype" id="4815654">byte</span><span class="op" id="4815658">(</span><span class="ident" id="4815659"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815660">.</span><span class="ident" id="4815661"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813901">bits</a></span><span class="op" id="4815665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815669"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815670">.</span><span class="ident" id="4815671"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813901">bits</a></span>&nbsp;<span class="op" id="4815676">&gt;&gt;=</span>&nbsp;<span class="num" id="4815680">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815684"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815685">.</span><span class="ident" id="4815686"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4815692">-=</span>&nbsp;<span class="num" id="4815695">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815699"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815607">n</a></span><span class="op" id="4815700">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4815704">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815707">if</span>&nbsp;<span class="ident" id="4815710"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815711">.</span><span class="ident" id="4815712"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4815718">&gt;</span>&nbsp;<span class="num" id="4815720">0</span>&nbsp;<span class="op" id="4815722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815726"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815727">.</span><span class="ident" id="4815728"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span><span class="op" id="4815733">[</span><span class="ident" id="4815734"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815607">n</a></span><span class="op" id="4815735">]</span>&nbsp;<span class="op" id="4815737">=</span>&nbsp;<span class="builtintype" id="4815739">byte</span><span class="op" id="4815743">(</span><span class="ident" id="4815744"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815745">.</span><span class="ident" id="4815746"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813901">bits</a></span><span class="op" id="4815750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815754"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815755">.</span><span class="ident" id="4815756"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4815762">=</span>&nbsp;<span class="num" id="4815764">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815768"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815607">n</a></span><span class="op" id="4815769">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4815773">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815776"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815777">.</span><span class="ident" id="4815778"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813901">bits</a></span>&nbsp;<span class="op" id="4815783">=</span>&nbsp;<span class="num" id="4815785">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815788">_</span><span class="op" id="4815789">,</span>&nbsp;<span class="ident" id="4815791"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815792">.</span><span class="ident" id="4815793"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4815797">=</span>&nbsp;<span class="ident" id="4815799"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815800">.</span><span class="ident" id="4815801"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813802">w</a></span><span class="op" id="4815802">.</span><span class="ident" id="4815803"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="4815808">(</span><span class="ident" id="4815809"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815810">.</span><span class="ident" id="4815811"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span><span class="op" id="4815816">[</span><span class="num" id="4815817">0</span><span class="op" id="4815818">:</span><span class="ident" id="4815819"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815607">n</a></span><span class="op" id="4815820">]</span><span class="op" id="4815821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815824"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815530">w</a></span><span class="op" id="4815825">.</span><span class="ident" id="4815826"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813975">nbytes</a></span>&nbsp;<span class="op" id="4815833">=</span>&nbsp;<span class="num" id="4815835">0</span><br>
<span class="lineno"></span><span class="op" id="4815837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="4815840">func</span>&nbsp;<span class="op" id="4815845">(</span><span class="ident" id="4815846">w</span>&nbsp;<span class="op" id="4815848">*</span><span class="ident" id="4815849"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4815865">)</span>&nbsp;<span class="ident" id="4815867">writeBits</span><span class="op" id="4815876">(</span><span class="ident" id="4815877">b</span><span class="op" id="4815878">,</span>&nbsp;<span class="ident" id="4815880">nb</span>&nbsp;<span class="builtintype" id="4815883">int32</span><span class="op" id="4815888">)</span>&nbsp;<span class="op" id="4815890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815893"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815846">w</a></span><span class="op" id="4815894">.</span><span class="ident" id="4815895"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813901">bits</a></span>&nbsp;<span class="op" id="4815900">|=</span>&nbsp;<span class="builtintype" id="4815903">uint32</span><span class="op" id="4815909">(</span><span class="ident" id="4815910"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815877">b</a></span><span class="op" id="4815911">)</span>&nbsp;<span class="op" id="4815913">&lt;&lt;</span>&nbsp;<span class="ident" id="4815916"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815846">w</a></span><span class="op" id="4815917">.</span><span class="ident" id="4815918"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4815925">if</span>&nbsp;<span class="ident" id="4815928"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815846">w</a></span><span class="op" id="4815929">.</span><span class="ident" id="4815930"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4815936">+=</span>&nbsp;<span class="builtintype" id="4815939">uint32</span><span class="op" id="4815945">(</span><span class="ident" id="4815946"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815880">nb</a></span><span class="op" id="4815948">)</span><span class="op" id="4815949">;</span>&nbsp;<span class="ident" id="4815951"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815846">w</a></span><span class="op" id="4815952">.</span><span class="ident" id="4815953"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4815959">&gt;=</span>&nbsp;<span class="num" id="4815962">16</span>&nbsp;<span class="op" id="4815965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4815969"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815846">w</a></span><span class="op" id="4815970">.</span><span class="ident" id="4815971"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815251">flushBits</a></span><span class="op" id="4815980">(</span><span class="op" id="4815981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4815984">}</span><br>
<span class="lineno">170</span><span class="op" id="4815986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4815989">func</span>&nbsp;<span class="op" id="4815994">(</span><span class="ident" id="4815995">w</span>&nbsp;<span class="op" id="4815997">*</span><span class="ident" id="4815998"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4816014">)</span>&nbsp;<span class="ident" id="4816016">writeBytes</span><span class="op" id="4816026">(</span><span class="ident" id="4816027">bytes</span>&nbsp;<span class="op" id="4816033">[</span><span class="op" id="4816034">]</span><span class="builtintype" id="4816035">byte</span><span class="op" id="4816039">)</span>&nbsp;<span class="op" id="4816041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4816044">if</span>&nbsp;<span class="ident" id="4816047"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816048">.</span><span class="ident" id="4816049"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4816053">!=</span>&nbsp;<span class="builtintype" id="4816056">nil</span>&nbsp;<span class="op" id="4816060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4816064">return</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4816072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4816075">n</span>&nbsp;<span class="op" id="4816077">:=</span>&nbsp;<span class="ident" id="4816080"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816081">.</span><span class="ident" id="4816082"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813975">nbytes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4816090">if</span>&nbsp;<span class="ident" id="4816093"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816094">.</span><span class="ident" id="4816095"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4816101">==</span>&nbsp;<span class="num" id="4816104">8</span>&nbsp;<span class="op" id="4816106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4816110"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816111">.</span><span class="ident" id="4816112"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span><span class="op" id="4816117">[</span><span class="ident" id="4816118"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816075">n</a></span><span class="op" id="4816119">]</span>&nbsp;<span class="op" id="4816121">=</span>&nbsp;<span class="builtintype" id="4816123">byte</span><span class="op" id="4816127">(</span><span class="ident" id="4816128"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816129">.</span><span class="ident" id="4816130"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813901">bits</a></span><span class="op" id="4816134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4816138"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816139">.</span><span class="ident" id="4816140"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4816146">=</span>&nbsp;<span class="num" id="4816148">0</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4816152"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816075">n</a></span><span class="op" id="4816153">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4816157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4816160">if</span>&nbsp;<span class="ident" id="4816163"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816164">.</span><span class="ident" id="4816165"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813925">nbits</a></span>&nbsp;<span class="op" id="4816171">!=</span>&nbsp;<span class="num" id="4816174">0</span>&nbsp;<span class="op" id="4816176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4816180"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816181">.</span><span class="ident" id="4816182"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4816186">=</span>&nbsp;<span class="ident" id="4816188"><a href="/gostd/compress/flate/inflate.go.html#4835503">InternalError</a></span><span class="op" id="4816201">(</span><span class="string" id="4816202">&#34;writeBytes&nbsp;with&nbsp;unfinished&nbsp;bits&#34;</span><span class="op" id="4816235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4816239">return</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4816247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4816250">if</span>&nbsp;<span class="ident" id="4816253"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816075">n</a></span>&nbsp;<span class="op" id="4816255">!=</span>&nbsp;<span class="num" id="4816258">0</span>&nbsp;<span class="op" id="4816260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4816264">_</span><span class="op" id="4816265">,</span>&nbsp;<span class="ident" id="4816267"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816268">.</span><span class="ident" id="4816269"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4816273">=</span>&nbsp;<span class="ident" id="4816275"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816276">.</span><span class="ident" id="4816277"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813802">w</a></span><span class="op" id="4816278">.</span><span class="ident" id="4816279"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="4816284">(</span><span class="ident" id="4816285"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816286">.</span><span class="ident" id="4816287"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813949">bytes</a></span><span class="op" id="4816292">[</span><span class="num" id="4816293">0</span><span class="op" id="4816294">:</span><span class="ident" id="4816295"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816075">n</a></span><span class="op" id="4816296">]</span><span class="op" id="4816297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4816301">if</span>&nbsp;<span class="ident" id="4816304"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816305">.</span><span class="ident" id="4816306"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4816310">!=</span>&nbsp;<span class="builtintype" id="4816313">nil</span>&nbsp;<span class="op" id="4816317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4816322">return</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4816331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4816334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4816337"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816338">.</span><span class="ident" id="4816339"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813975">nbytes</a></span>&nbsp;<span class="op" id="4816346">=</span>&nbsp;<span class="num" id="4816348">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4816351">_</span><span class="op" id="4816352">,</span>&nbsp;<span class="ident" id="4816354"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816355">.</span><span class="ident" id="4816356"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4816360">=</span>&nbsp;<span class="ident" id="4816362"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815995">w</a></span><span class="op" id="4816363">.</span><span class="ident" id="4816364"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813802">w</a></span><span class="op" id="4816365">.</span><span class="ident" id="4816366"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="4816371">(</span><span class="ident" id="4816372"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816027">bytes</a></span><span class="op" id="4816377">)</span><br>
<span class="lineno"></span><span class="op" id="4816379">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="4816382">//&nbsp;RFC&nbsp;1951&nbsp;3.2.7&nbsp;specifies&nbsp;a&nbsp;special&nbsp;run-length&nbsp;encoding&nbsp;for&nbsp;specifying</span><br>
<span class="lineno"></span><span class="comment" id="4816455">//&nbsp;the&nbsp;literal&nbsp;and&nbsp;offset&nbsp;lengths&nbsp;arrays&nbsp;(which&nbsp;are&nbsp;concatenated&nbsp;into&nbsp;a&nbsp;single</span><br>
<span class="lineno"></span><span class="comment" id="4816534">//&nbsp;array).&nbsp;&nbsp;This&nbsp;method&nbsp;generates&nbsp;that&nbsp;run-length&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="4816594">//</span><br>
<span class="lineno">200</span><span class="comment" id="4816597">//&nbsp;The&nbsp;result&nbsp;is&nbsp;written&nbsp;into&nbsp;the&nbsp;codegen&nbsp;array,&nbsp;and&nbsp;the&nbsp;frequencies</span><br>
<span class="lineno"></span><span class="comment" id="4816666">//&nbsp;of&nbsp;each&nbsp;code&nbsp;is&nbsp;written&nbsp;into&nbsp;the&nbsp;codegenFreq&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="4816721">//&nbsp;Codes&nbsp;0-15&nbsp;are&nbsp;single&nbsp;byte&nbsp;codes.&nbsp;Codes&nbsp;16-18&nbsp;are&nbsp;followed&nbsp;by&nbsp;additional</span><br>
<span class="lineno"></span><span class="comment" id="4816797">//&nbsp;information.&nbsp;&nbsp;Code&nbsp;badCode&nbsp;is&nbsp;an&nbsp;end&nbsp;marker</span><br>
<span class="lineno"></span><span class="comment" id="4816844">//</span><br>
<span class="lineno">205</span><span class="comment" id="4816847">//&nbsp;&nbsp;numLiterals&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;literals&nbsp;in&nbsp;literalEncoding</span><br>
<span class="lineno"></span><span class="comment" id="4816910">//&nbsp;&nbsp;numOffsets&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;offsets&nbsp;in&nbsp;offsetEncoding</span><br>
<span class="lineno"></span><span class="keyword" id="4816971">func</span>&nbsp;<span class="op" id="4816976">(</span><span class="ident" id="4816977">w</span>&nbsp;<span class="op" id="4816979">*</span><span class="ident" id="4816980"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4816996">)</span>&nbsp;<span class="ident" id="4816998">generateCodegen</span><span class="op" id="4817013">(</span><span class="ident" id="4817014">numLiterals</span>&nbsp;<span class="builtintype" id="4817026">int</span><span class="op" id="4817029">,</span>&nbsp;<span class="ident" id="4817031">numOffsets</span>&nbsp;<span class="builtintype" id="4817042">int</span><span class="op" id="4817045">)</span>&nbsp;<span class="op" id="4817047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4817050">for</span>&nbsp;<span class="ident" id="4817054">i</span>&nbsp;<span class="op" id="4817056">:=</span>&nbsp;<span class="keyword" id="4817059">range</span>&nbsp;<span class="ident" id="4817065"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4817066">.</span><span class="ident" id="4817067"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span>&nbsp;<span class="op" id="4817079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4817083"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4817084">.</span><span class="ident" id="4817085"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4817096">[</span><span class="ident" id="4817097"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817054">i</a></span><span class="op" id="4817098">]</span>&nbsp;<span class="op" id="4817100">=</span>&nbsp;<span class="num" id="4817102">0</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4817105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4817108">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;using&nbsp;codegen&nbsp;both&nbsp;as&nbsp;a&nbsp;temporary&nbsp;variable&nbsp;for&nbsp;holding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4817184">//&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;frequencies,&nbsp;and&nbsp;as&nbsp;the&nbsp;place&nbsp;where&nbsp;we&nbsp;put&nbsp;the&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4817257">//&nbsp;This&nbsp;is&nbsp;fine&nbsp;because&nbsp;the&nbsp;output&nbsp;is&nbsp;always&nbsp;shorter&nbsp;than&nbsp;the&nbsp;input&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4817331">//&nbsp;so&nbsp;far.</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4817343">codegen</span>&nbsp;<span class="op" id="4817351">:=</span>&nbsp;<span class="ident" id="4817354"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4817355">.</span><span class="ident" id="4817356"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814046">codegen</a></span>&nbsp;<span class="comment" id="4817364">//&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4817374">//&nbsp;Copy&nbsp;the&nbsp;concatenated&nbsp;code&nbsp;sizes&nbsp;to&nbsp;codegen.&nbsp;&nbsp;Put&nbsp;a&nbsp;marker&nbsp;at&nbsp;the&nbsp;end.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4817449">copy</span><span class="op" id="4817453">(</span><span class="ident" id="4817454"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4817461">[</span><span class="num" id="4817462">0</span><span class="op" id="4817463">:</span><span class="ident" id="4817464"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817014">numLiterals</a></span><span class="op" id="4817475">]</span><span class="op" id="4817476">,</span>&nbsp;<span class="ident" id="4817478"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4817479">.</span><span class="ident" id="4817480"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814096">literalEncoding</a></span><span class="op" id="4817495">.</span><span class="ident" id="4817496"><a href="/gostd/compress/flate/huffman_code.go.html#4825375">codeBits</a></span><span class="op" id="4817504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4817507">copy</span><span class="op" id="4817511">(</span><span class="ident" id="4817512"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4817519">[</span><span class="ident" id="4817520"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817014">numLiterals</a></span><span class="op" id="4817531">:</span><span class="ident" id="4817532"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817014">numLiterals</a></span><span class="op" id="4817543">+</span><span class="ident" id="4817544"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817031">numOffsets</a></span><span class="op" id="4817554">]</span><span class="op" id="4817555">,</span>&nbsp;<span class="ident" id="4817557"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4817558">.</span><span class="ident" id="4817559"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814129">offsetEncoding</a></span><span class="op" id="4817573">.</span><span class="ident" id="4817574"><a href="/gostd/compress/flate/huffman_code.go.html#4825375">codeBits</a></span><span class="op" id="4817582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4817585"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4817592">[</span><span class="ident" id="4817593"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817014">numLiterals</a></span><span class="op" id="4817604">+</span><span class="ident" id="4817605"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817031">numOffsets</a></span><span class="op" id="4817615">]</span>&nbsp;<span class="op" id="4817617">=</span>&nbsp;<span class="ident" id="4817619"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812369">badCode</a></span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4817629">size</span>&nbsp;<span class="op" id="4817634">:=</span>&nbsp;<span class="ident" id="4817637"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4817644">[</span><span class="num" id="4817645">0</span><span class="op" id="4817646">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4817649">count</span>&nbsp;<span class="op" id="4817655">:=</span>&nbsp;<span class="num" id="4817658">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4817661">outIndex</span>&nbsp;<span class="op" id="4817670">:=</span>&nbsp;<span class="num" id="4817673">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4817676">for</span>&nbsp;<span class="ident" id="4817680">inIndex</span>&nbsp;<span class="op" id="4817688">:=</span>&nbsp;<span class="num" id="4817691">1</span><span class="op" id="4817692">;</span>&nbsp;<span class="ident" id="4817694"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817629">size</a></span>&nbsp;<span class="op" id="4817699">!=</span>&nbsp;<span class="ident" id="4817702"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812369">badCode</a></span><span class="op" id="4817709">;</span>&nbsp;<span class="ident" id="4817711"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817680">inIndex</a></span><span class="op" id="4817718">++</span>&nbsp;<span class="op" id="4817721">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4817725">//&nbsp;INVARIANT:&nbsp;We&nbsp;have&nbsp;seen&nbsp;&#34;count&#34;&nbsp;copies&nbsp;of&nbsp;size&nbsp;that&nbsp;have&nbsp;not&nbsp;yet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4817795">//&nbsp;had&nbsp;output&nbsp;generated&nbsp;for&nbsp;them.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4817831">nextSize</span>&nbsp;<span class="op" id="4817840">:=</span>&nbsp;<span class="ident" id="4817843"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4817850">[</span><span class="ident" id="4817851"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817680">inIndex</a></span><span class="op" id="4817858">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4817862">if</span>&nbsp;<span class="ident" id="4817865"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817831">nextSize</a></span>&nbsp;<span class="op" id="4817874">==</span>&nbsp;<span class="ident" id="4817877"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817629">size</a></span>&nbsp;<span class="op" id="4817882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4817887"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span><span class="op" id="4817892">++</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4817898">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4817909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4817913">//&nbsp;We&nbsp;need&nbsp;to&nbsp;generate&nbsp;codegen&nbsp;indicating&nbsp;&#34;count&#34;&nbsp;of&nbsp;size.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4817974">if</span>&nbsp;<span class="ident" id="4817977"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817629">size</a></span>&nbsp;<span class="op" id="4817982">!=</span>&nbsp;<span class="num" id="4817985">0</span>&nbsp;<span class="op" id="4817987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4817992"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4817999">[</span><span class="ident" id="4818000"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818008">]</span>&nbsp;<span class="op" id="4818010">=</span>&nbsp;<span class="ident" id="4818012"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817629">size</a></span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818020"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818028">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818034"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4818035">.</span><span class="ident" id="4818036"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4818047">[</span><span class="ident" id="4818048"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817629">size</a></span><span class="op" id="4818052">]</span><span class="op" id="4818053">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818059"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span><span class="op" id="4818064">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4818070">for</span>&nbsp;<span class="ident" id="4818074"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818080">&gt;=</span>&nbsp;<span class="num" id="4818083">3</span>&nbsp;<span class="op" id="4818085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818091">n</span>&nbsp;<span class="op" id="4818093">:=</span>&nbsp;<span class="num" id="4818096">6</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4818102">if</span>&nbsp;<span class="ident" id="4818105"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818091">n</a></span>&nbsp;<span class="op" id="4818107">&gt;</span>&nbsp;<span class="ident" id="4818109"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818122"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818091">n</a></span>&nbsp;<span class="op" id="4818124">=</span>&nbsp;<span class="ident" id="4818126"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4818136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818142"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4818149">[</span><span class="ident" id="4818150"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818158">]</span>&nbsp;<span class="op" id="4818160">=</span>&nbsp;<span class="num" id="4818162">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818169"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818177">++</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818184"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4818191">[</span><span class="ident" id="4818192"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818200">]</span>&nbsp;<span class="op" id="4818202">=</span>&nbsp;<span class="builtintype" id="4818204">uint8</span><span class="op" id="4818209">(</span><span class="ident" id="4818210"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818091">n</a></span>&nbsp;<span class="op" id="4818212">-</span>&nbsp;<span class="num" id="4818214">3</span><span class="op" id="4818215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818221"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818229">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818236"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4818237">.</span><span class="ident" id="4818238"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4818249">[</span><span class="num" id="4818250">16</span><span class="op" id="4818252">]</span><span class="op" id="4818253">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818260"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818266">-=</span>&nbsp;<span class="ident" id="4818269"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818091">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4818274">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4818278">}</span>&nbsp;<span class="keyword" id="4818280">else</span>&nbsp;<span class="op" id="4818285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4818290">for</span>&nbsp;<span class="ident" id="4818294"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818300">&gt;=</span>&nbsp;<span class="num" id="4818303">11</span>&nbsp;<span class="op" id="4818306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818312">n</span>&nbsp;<span class="op" id="4818314">:=</span>&nbsp;<span class="num" id="4818317">138</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4818325">if</span>&nbsp;<span class="ident" id="4818328"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818312">n</a></span>&nbsp;<span class="op" id="4818330">&gt;</span>&nbsp;<span class="ident" id="4818332"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818345"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818312">n</a></span>&nbsp;<span class="op" id="4818347">=</span>&nbsp;<span class="ident" id="4818349"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4818359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818365"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4818372">[</span><span class="ident" id="4818373"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818381">]</span>&nbsp;<span class="op" id="4818383">=</span>&nbsp;<span class="num" id="4818385">18</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818392"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818400">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818407"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4818414">[</span><span class="ident" id="4818415"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818423">]</span>&nbsp;<span class="op" id="4818425">=</span>&nbsp;<span class="builtintype" id="4818427">uint8</span><span class="op" id="4818432">(</span><span class="ident" id="4818433"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818312">n</a></span>&nbsp;<span class="op" id="4818435">-</span>&nbsp;<span class="num" id="4818437">11</span><span class="op" id="4818439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818445"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818453">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818460"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4818461">.</span><span class="ident" id="4818462"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4818473">[</span><span class="num" id="4818474">18</span><span class="op" id="4818476">]</span><span class="op" id="4818477">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818484"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818490">-=</span>&nbsp;<span class="ident" id="4818493"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818312">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4818498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4818503">if</span>&nbsp;<span class="ident" id="4818506"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818512">&gt;=</span>&nbsp;<span class="num" id="4818515">3</span>&nbsp;<span class="op" id="4818517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4818523">//&nbsp;count&nbsp;&gt;=&nbsp;3&nbsp;&amp;&amp;&nbsp;count&nbsp;&lt;=&nbsp;10</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818556"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4818563">[</span><span class="ident" id="4818564"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818572">]</span>&nbsp;<span class="op" id="4818574">=</span>&nbsp;<span class="num" id="4818576">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818583"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818591">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818598"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4818605">[</span><span class="ident" id="4818606"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818614">]</span>&nbsp;<span class="op" id="4818616">=</span>&nbsp;<span class="builtintype" id="4818618">uint8</span><span class="op" id="4818623">(</span><span class="ident" id="4818624"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818630">-</span>&nbsp;<span class="num" id="4818632">3</span><span class="op" id="4818633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818639"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818647">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818654"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4818655">.</span><span class="ident" id="4818656"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4818667">[</span><span class="num" id="4818668">17</span><span class="op" id="4818670">]</span><span class="op" id="4818671">++</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818678"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818684">=</span>&nbsp;<span class="num" id="4818686">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4818691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4818695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818699"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span><span class="op" id="4818704">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4818709">for</span>&nbsp;<span class="op" id="4818713">;</span>&nbsp;<span class="ident" id="4818715"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818721">&gt;=</span>&nbsp;<span class="num" id="4818724">0</span><span class="op" id="4818725">;</span>&nbsp;<span class="ident" id="4818727"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span><span class="op" id="4818732">--</span>&nbsp;<span class="op" id="4818735">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818740"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4818747">[</span><span class="ident" id="4818748"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818756">]</span>&nbsp;<span class="op" id="4818758">=</span>&nbsp;<span class="ident" id="4818760"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817629">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818768"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818776">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818782"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816977">w</a></span><span class="op" id="4818783">.</span><span class="ident" id="4818784"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4818795">[</span><span class="ident" id="4818796"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817629">size</a></span><span class="op" id="4818800">]</span><span class="op" id="4818801">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4818806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4818810">//&nbsp;Set&nbsp;up&nbsp;invariant&nbsp;for&nbsp;next&nbsp;time&nbsp;through&nbsp;the&nbsp;loop.</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818864"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817629">size</a></span>&nbsp;<span class="op" id="4818869">=</span>&nbsp;<span class="ident" id="4818871"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817831">nextSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818882"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817649">count</a></span>&nbsp;<span class="op" id="4818888">=</span>&nbsp;<span class="num" id="4818890">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4818893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4818896">//&nbsp;Marker&nbsp;indicating&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;codegen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4818942"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817343">codegen</a></span><span class="op" id="4818949">[</span><span class="ident" id="4818950"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4817661">outIndex</a></span><span class="op" id="4818958">]</span>&nbsp;<span class="op" id="4818960">=</span>&nbsp;<span class="ident" id="4818962"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812369">badCode</a></span><br>
<span class="lineno">285</span><span class="op" id="4818970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4818973">func</span>&nbsp;<span class="op" id="4818978">(</span><span class="ident" id="4818979">w</span>&nbsp;<span class="op" id="4818981">*</span><span class="ident" id="4818982"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4818998">)</span>&nbsp;<span class="ident" id="4819000">writeCode</span><span class="op" id="4819009">(</span><span class="ident" id="4819010">code</span>&nbsp;<span class="op" id="4819015">*</span><span class="ident" id="4819016"><a href="/gostd/compress/flate/huffman_code.go.html#4825350">huffmanEncoder</a></span><span class="op" id="4819030">,</span>&nbsp;<span class="ident" id="4819032">literal</span>&nbsp;<span class="builtintype" id="4819040">uint32</span><span class="op" id="4819046">)</span>&nbsp;<span class="op" id="4819048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819051">if</span>&nbsp;<span class="ident" id="4819054"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818979">w</a></span><span class="op" id="4819055">.</span><span class="ident" id="4819056"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4819060">!=</span>&nbsp;<span class="builtintype" id="4819063">nil</span>&nbsp;<span class="op" id="4819067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819071">return</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4819079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819082"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4818979">w</a></span><span class="op" id="4819083">.</span><span class="ident" id="4819084"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4819093">(</span><span class="builtintype" id="4819094">int32</span><span class="op" id="4819099">(</span><span class="ident" id="4819100"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819010">code</a></span><span class="op" id="4819104">.</span><span class="ident" id="4819105"><a href="/gostd/compress/flate/huffman_code.go.html#4825393">code</a></span><span class="op" id="4819109">[</span><span class="ident" id="4819110"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819032">literal</a></span><span class="op" id="4819117">]</span><span class="op" id="4819118">)</span><span class="op" id="4819119">,</span>&nbsp;<span class="builtintype" id="4819121">int32</span><span class="op" id="4819126">(</span><span class="ident" id="4819127"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819010">code</a></span><span class="op" id="4819131">.</span><span class="ident" id="4819132"><a href="/gostd/compress/flate/huffman_code.go.html#4825375">codeBits</a></span><span class="op" id="4819140">[</span><span class="ident" id="4819141"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819032">literal</a></span><span class="op" id="4819148">]</span><span class="op" id="4819149">)</span><span class="op" id="4819150">)</span><br>
<span class="lineno"></span><span class="op" id="4819152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4819155">//&nbsp;Write&nbsp;the&nbsp;header&nbsp;of&nbsp;a&nbsp;dynamic&nbsp;Huffman&nbsp;block&nbsp;to&nbsp;the&nbsp;output&nbsp;stream.</span><br>
<span class="lineno">295</span><span class="comment" id="4819224">//</span><br>
<span class="lineno"></span><span class="comment" id="4819227">//&nbsp;&nbsp;numLiterals&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;literals&nbsp;specified&nbsp;in&nbsp;codegen</span><br>
<span class="lineno"></span><span class="comment" id="4819288">//&nbsp;&nbsp;numOffsets&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;offsets&nbsp;specified&nbsp;in&nbsp;codegen</span><br>
<span class="lineno"></span><span class="comment" id="4819348">//&nbsp;&nbsp;numCodegens&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;codegens&nbsp;used&nbsp;in&nbsp;codegen</span><br>
<span class="lineno"></span><span class="keyword" id="4819404">func</span>&nbsp;<span class="op" id="4819409">(</span><span class="ident" id="4819410">w</span>&nbsp;<span class="op" id="4819412">*</span><span class="ident" id="4819413"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4819429">)</span>&nbsp;<span class="ident" id="4819431">writeDynamicHeader</span><span class="op" id="4819449">(</span><span class="ident" id="4819450">numLiterals</span>&nbsp;<span class="builtintype" id="4819462">int</span><span class="op" id="4819465">,</span>&nbsp;<span class="ident" id="4819467">numOffsets</span>&nbsp;<span class="builtintype" id="4819478">int</span><span class="op" id="4819481">,</span>&nbsp;<span class="ident" id="4819483">numCodegens</span>&nbsp;<span class="builtintype" id="4819495">int</span><span class="op" id="4819498">,</span>&nbsp;<span class="ident" id="4819500">isEof</span>&nbsp;<span class="builtintype" id="4819506">bool</span><span class="op" id="4819510">)</span>&nbsp;<span class="op" id="4819512">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819515">if</span>&nbsp;<span class="ident" id="4819518"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4819519">.</span><span class="ident" id="4819520"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4819524">!=</span>&nbsp;<span class="builtintype" id="4819527">nil</span>&nbsp;<span class="op" id="4819531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819535">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4819543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819546">var</span>&nbsp;<span class="ident" id="4819550">firstBits</span>&nbsp;<span class="builtintype" id="4819560">int32</span>&nbsp;<span class="op" id="4819566">=</span>&nbsp;<span class="num" id="4819568">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819571">if</span>&nbsp;<span class="ident" id="4819574"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819500">isEof</a></span>&nbsp;<span class="op" id="4819580">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819584"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819550">firstBits</a></span>&nbsp;<span class="op" id="4819594">=</span>&nbsp;<span class="num" id="4819596">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4819599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819602"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4819603">.</span><span class="ident" id="4819604"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4819613">(</span><span class="ident" id="4819614"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819550">firstBits</a></span><span class="op" id="4819623">,</span>&nbsp;<span class="num" id="4819625">3</span><span class="op" id="4819626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819629"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4819630">.</span><span class="ident" id="4819631"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4819640">(</span><span class="builtintype" id="4819641">int32</span><span class="op" id="4819646">(</span><span class="ident" id="4819647"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819450">numLiterals</a></span><span class="op" id="4819658">-</span><span class="num" id="4819659">257</span><span class="op" id="4819662">)</span><span class="op" id="4819663">,</span>&nbsp;<span class="num" id="4819665">5</span><span class="op" id="4819666">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819669"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4819670">.</span><span class="ident" id="4819671"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4819680">(</span><span class="builtintype" id="4819681">int32</span><span class="op" id="4819686">(</span><span class="ident" id="4819687"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819467">numOffsets</a></span><span class="op" id="4819697">-</span><span class="num" id="4819698">1</span><span class="op" id="4819699">)</span><span class="op" id="4819700">,</span>&nbsp;<span class="num" id="4819702">5</span><span class="op" id="4819703">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819706"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4819707">.</span><span class="ident" id="4819708"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4819717">(</span><span class="builtintype" id="4819718">int32</span><span class="op" id="4819723">(</span><span class="ident" id="4819724"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819483">numCodegens</a></span><span class="op" id="4819735">-</span><span class="num" id="4819736">4</span><span class="op" id="4819737">)</span><span class="op" id="4819738">,</span>&nbsp;<span class="num" id="4819740">4</span><span class="op" id="4819741">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819745">for</span>&nbsp;<span class="ident" id="4819749">i</span>&nbsp;<span class="op" id="4819751">:=</span>&nbsp;<span class="num" id="4819754">0</span><span class="op" id="4819755">;</span>&nbsp;<span class="ident" id="4819757"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819749">i</a></span>&nbsp;<span class="op" id="4819759">&lt;</span>&nbsp;<span class="ident" id="4819761"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819483">numCodegens</a></span><span class="op" id="4819772">;</span>&nbsp;<span class="ident" id="4819774"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819749">i</a></span><span class="op" id="4819775">++</span>&nbsp;<span class="op" id="4819778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819782">value</span>&nbsp;<span class="op" id="4819788">:=</span>&nbsp;<span class="ident" id="4819791"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4819792">.</span><span class="ident" id="4819793"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814162">codegenEncoding</a></span><span class="op" id="4819808">.</span><span class="ident" id="4819809"><a href="/gostd/compress/flate/huffman_code.go.html#4825375">codeBits</a></span><span class="op" id="4819817">[</span><span class="ident" id="4819818"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813679">codegenOrder</a></span><span class="op" id="4819830">[</span><span class="ident" id="4819831"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819749">i</a></span><span class="op" id="4819832">]</span><span class="op" id="4819833">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819837"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4819838">.</span><span class="ident" id="4819839"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4819848">(</span><span class="builtintype" id="4819849">int32</span><span class="op" id="4819854">(</span><span class="ident" id="4819855"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819782">value</a></span><span class="op" id="4819860">)</span><span class="op" id="4819861">,</span>&nbsp;<span class="num" id="4819863">3</span><span class="op" id="4819864">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4819867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819871">i</span>&nbsp;<span class="op" id="4819873">:=</span>&nbsp;<span class="num" id="4819876">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819879">for</span>&nbsp;<span class="op" id="4819883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819887">var</span>&nbsp;<span class="ident" id="4819891">codeWord</span>&nbsp;<span class="builtintype" id="4819900">int</span>&nbsp;<span class="op" id="4819904">=</span>&nbsp;<span class="builtintype" id="4819906">int</span><span class="op" id="4819909">(</span><span class="ident" id="4819910"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4819911">.</span><span class="ident" id="4819912"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814046">codegen</a></span><span class="op" id="4819919">[</span><span class="ident" id="4819920"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819871">i</a></span><span class="op" id="4819921">]</span><span class="op" id="4819922">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4819926"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819871">i</a></span><span class="op" id="4819927">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819932">if</span>&nbsp;<span class="ident" id="4819935"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819891">codeWord</a></span>&nbsp;<span class="op" id="4819944">==</span>&nbsp;<span class="ident" id="4819947"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812369">badCode</a></span>&nbsp;<span class="op" id="4819955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4819960">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4819968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4819972">//&nbsp;The&nbsp;low&nbsp;byte&nbsp;contains&nbsp;the&nbsp;actual&nbsp;code&nbsp;to&nbsp;generate.</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820028"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4820029">.</span><span class="ident" id="4820030"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819000">writeCode</a></span><span class="op" id="4820039">(</span><span class="ident" id="4820040"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4820041">.</span><span class="ident" id="4820042"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814162">codegenEncoding</a></span><span class="op" id="4820057">,</span>&nbsp;<span class="builtintype" id="4820059">uint32</span><span class="op" id="4820065">(</span><span class="ident" id="4820066"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819891">codeWord</a></span><span class="op" id="4820074">)</span><span class="op" id="4820075">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820080">switch</span>&nbsp;<span class="ident" id="4820087"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819891">codeWord</a></span>&nbsp;<span class="op" id="4820096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820100">case</span>&nbsp;<span class="num" id="4820105">16</span><span class="op" id="4820107">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820112"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4820113">.</span><span class="ident" id="4820114"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4820123">(</span><span class="builtintype" id="4820124">int32</span><span class="op" id="4820129">(</span><span class="ident" id="4820130"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4820131">.</span><span class="ident" id="4820132"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814046">codegen</a></span><span class="op" id="4820139">[</span><span class="ident" id="4820140"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819871">i</a></span><span class="op" id="4820141">]</span><span class="op" id="4820142">)</span><span class="op" id="4820143">,</span>&nbsp;<span class="num" id="4820145">2</span><span class="op" id="4820146">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820151"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819871">i</a></span><span class="op" id="4820152">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820158">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820166">case</span>&nbsp;<span class="num" id="4820171">17</span><span class="op" id="4820173">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820178"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4820179">.</span><span class="ident" id="4820180"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4820189">(</span><span class="builtintype" id="4820190">int32</span><span class="op" id="4820195">(</span><span class="ident" id="4820196"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4820197">.</span><span class="ident" id="4820198"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814046">codegen</a></span><span class="op" id="4820205">[</span><span class="ident" id="4820206"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819871">i</a></span><span class="op" id="4820207">]</span><span class="op" id="4820208">)</span><span class="op" id="4820209">,</span>&nbsp;<span class="num" id="4820211">3</span><span class="op" id="4820212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820217"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819871">i</a></span><span class="op" id="4820218">++</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820224">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820232">case</span>&nbsp;<span class="num" id="4820237">18</span><span class="op" id="4820239">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820244"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4820245">.</span><span class="ident" id="4820246"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4820255">(</span><span class="builtintype" id="4820256">int32</span><span class="op" id="4820261">(</span><span class="ident" id="4820262"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819410">w</a></span><span class="op" id="4820263">.</span><span class="ident" id="4820264"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814046">codegen</a></span><span class="op" id="4820271">[</span><span class="ident" id="4820272"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819871">i</a></span><span class="op" id="4820273">]</span><span class="op" id="4820274">)</span><span class="op" id="4820275">,</span>&nbsp;<span class="num" id="4820277">7</span><span class="op" id="4820278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820283"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819871">i</a></span><span class="op" id="4820284">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820290">break</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4820298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4820301">}</span><br>
<span class="lineno"></span><span class="op" id="4820303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4820306">func</span>&nbsp;<span class="op" id="4820311">(</span><span class="ident" id="4820312">w</span>&nbsp;<span class="op" id="4820314">*</span><span class="ident" id="4820315"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4820331">)</span>&nbsp;<span class="ident" id="4820333">writeStoredHeader</span><span class="op" id="4820350">(</span><span class="ident" id="4820351">length</span>&nbsp;<span class="builtintype" id="4820358">int</span><span class="op" id="4820361">,</span>&nbsp;<span class="ident" id="4820363">isEof</span>&nbsp;<span class="builtintype" id="4820369">bool</span><span class="op" id="4820373">)</span>&nbsp;<span class="op" id="4820375">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820378">if</span>&nbsp;<span class="ident" id="4820381"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820312">w</a></span><span class="op" id="4820382">.</span><span class="ident" id="4820383"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4820387">!=</span>&nbsp;<span class="builtintype" id="4820390">nil</span>&nbsp;<span class="op" id="4820394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820398">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4820406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820409">var</span>&nbsp;<span class="ident" id="4820413">flag</span>&nbsp;<span class="builtintype" id="4820418">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820425">if</span>&nbsp;<span class="ident" id="4820428"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820363">isEof</a></span>&nbsp;<span class="op" id="4820434">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820438"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820413">flag</a></span>&nbsp;<span class="op" id="4820443">=</span>&nbsp;<span class="num" id="4820445">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4820448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820451"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820312">w</a></span><span class="op" id="4820452">.</span><span class="ident" id="4820453"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4820462">(</span><span class="ident" id="4820463"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820413">flag</a></span><span class="op" id="4820467">,</span>&nbsp;<span class="num" id="4820469">3</span><span class="op" id="4820470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820473"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820312">w</a></span><span class="op" id="4820474">.</span><span class="ident" id="4820475"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815551">flush</a></span><span class="op" id="4820480">(</span><span class="op" id="4820481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820484"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820312">w</a></span><span class="op" id="4820485">.</span><span class="ident" id="4820486"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4820495">(</span><span class="builtintype" id="4820496">int32</span><span class="op" id="4820501">(</span><span class="ident" id="4820502"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820351">length</a></span><span class="op" id="4820508">)</span><span class="op" id="4820509">,</span>&nbsp;<span class="num" id="4820511">16</span><span class="op" id="4820513">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820516"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820312">w</a></span><span class="op" id="4820517">.</span><span class="ident" id="4820518"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4820527">(</span><span class="builtintype" id="4820528">int32</span><span class="op" id="4820533">(</span><span class="op" id="4820534">^</span><span class="builtintype" id="4820535">uint16</span><span class="op" id="4820541">(</span><span class="ident" id="4820542"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820351">length</a></span><span class="op" id="4820548">)</span><span class="op" id="4820549">)</span><span class="op" id="4820550">,</span>&nbsp;<span class="num" id="4820552">16</span><span class="op" id="4820554">)</span><br>
<span class="lineno"></span><span class="op" id="4820556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4820559">func</span>&nbsp;<span class="op" id="4820564">(</span><span class="ident" id="4820565">w</span>&nbsp;<span class="op" id="4820567">*</span><span class="ident" id="4820568"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4820584">)</span>&nbsp;<span class="ident" id="4820586">writeFixedHeader</span><span class="op" id="4820602">(</span><span class="ident" id="4820603">isEof</span>&nbsp;<span class="builtintype" id="4820609">bool</span><span class="op" id="4820613">)</span>&nbsp;<span class="op" id="4820615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820618">if</span>&nbsp;<span class="ident" id="4820621"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820565">w</a></span><span class="op" id="4820622">.</span><span class="ident" id="4820623"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4820627">!=</span>&nbsp;<span class="builtintype" id="4820630">nil</span>&nbsp;<span class="op" id="4820634">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820638">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4820646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4820649">//&nbsp;Indicate&nbsp;that&nbsp;we&nbsp;are&nbsp;a&nbsp;fixed&nbsp;Huffman&nbsp;block</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820696">var</span>&nbsp;<span class="ident" id="4820700">value</span>&nbsp;<span class="builtintype" id="4820706">int32</span>&nbsp;<span class="op" id="4820712">=</span>&nbsp;<span class="num" id="4820714">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820717">if</span>&nbsp;<span class="ident" id="4820720"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820603">isEof</a></span>&nbsp;<span class="op" id="4820726">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820730"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820700">value</a></span>&nbsp;<span class="op" id="4820736">=</span>&nbsp;<span class="num" id="4820738">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4820741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820744"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820565">w</a></span><span class="op" id="4820745">.</span><span class="ident" id="4820746"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4820755">(</span><span class="ident" id="4820756"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820700">value</a></span><span class="op" id="4820761">,</span>&nbsp;<span class="num" id="4820763">3</span><span class="op" id="4820764">)</span><br>
<span class="lineno"></span><span class="op" id="4820766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="4820769">func</span>&nbsp;<span class="op" id="4820774">(</span><span class="ident" id="4820775">w</span>&nbsp;<span class="op" id="4820777">*</span><span class="ident" id="4820778"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813775">huffmanBitWriter</a></span><span class="op" id="4820794">)</span>&nbsp;<span class="ident" id="4820796">writeBlock</span><span class="op" id="4820806">(</span><span class="ident" id="4820807">tokens</span>&nbsp;<span class="op" id="4820814">[</span><span class="op" id="4820815">]</span><span class="ident" id="4820816"><a href="/gostd/compress/flate/token.go.html#4856145">token</a></span><span class="op" id="4820821">,</span>&nbsp;<span class="ident" id="4820823">eof</span>&nbsp;<span class="builtintype" id="4820827">bool</span><span class="op" id="4820831">,</span>&nbsp;<span class="ident" id="4820833">input</span>&nbsp;<span class="op" id="4820839">[</span><span class="op" id="4820840">]</span><span class="builtintype" id="4820841">byte</span><span class="op" id="4820845">)</span>&nbsp;<span class="op" id="4820847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820850">if</span>&nbsp;<span class="ident" id="4820853"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4820854">.</span><span class="ident" id="4820855"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814195">err</a></span>&nbsp;<span class="op" id="4820859">!=</span>&nbsp;<span class="builtintype" id="4820862">nil</span>&nbsp;<span class="op" id="4820866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820870">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4820878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820881">for</span>&nbsp;<span class="ident" id="4820885">i</span>&nbsp;<span class="op" id="4820887">:=</span>&nbsp;<span class="keyword" id="4820890">range</span>&nbsp;<span class="ident" id="4820896"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4820897">.</span><span class="ident" id="4820898"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span>&nbsp;<span class="op" id="4820910">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820914"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4820915">.</span><span class="ident" id="4820916"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4820927">[</span><span class="ident" id="4820928"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820885">i</a></span><span class="op" id="4820929">]</span>&nbsp;<span class="op" id="4820931">=</span>&nbsp;<span class="num" id="4820933">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4820936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4820939">for</span>&nbsp;<span class="ident" id="4820943">i</span>&nbsp;<span class="op" id="4820945">:=</span>&nbsp;<span class="keyword" id="4820948">range</span>&nbsp;<span class="ident" id="4820954"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4820955">.</span><span class="ident" id="4820956"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span>&nbsp;<span class="op" id="4820967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820971"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4820972">.</span><span class="ident" id="4820973"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4820983">[</span><span class="ident" id="4820984"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820943">i</a></span><span class="op" id="4820985">]</span>&nbsp;<span class="op" id="4820987">=</span>&nbsp;<span class="num" id="4820989">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4820992">}</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4820996">n</span>&nbsp;<span class="op" id="4820998">:=</span>&nbsp;<span class="builtinfunc" id="4821001">len</span><span class="op" id="4821004">(</span><span class="ident" id="4821005"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820807">tokens</a></span><span class="op" id="4821011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821014"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820807">tokens</a></span>&nbsp;<span class="op" id="4821021">=</span>&nbsp;<span class="ident" id="4821023"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820807">tokens</a></span><span class="op" id="4821029">[</span><span class="num" id="4821030">0</span>&nbsp;<span class="op" id="4821032">:</span>&nbsp;<span class="ident" id="4821034"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820996">n</a></span><span class="op" id="4821035">+</span><span class="num" id="4821036">1</span><span class="op" id="4821037">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821040"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820807">tokens</a></span><span class="op" id="4821046">[</span><span class="ident" id="4821047"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820996">n</a></span><span class="op" id="4821048">]</span>&nbsp;<span class="op" id="4821050">=</span>&nbsp;<span class="ident" id="4821052"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812238">endBlockMarker</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4821069">for</span>&nbsp;<span class="ident" id="4821073">_</span><span class="op" id="4821074">,</span>&nbsp;<span class="ident" id="4821076">t</span>&nbsp;<span class="op" id="4821078">:=</span>&nbsp;<span class="keyword" id="4821081">range</span>&nbsp;<span class="ident" id="4821087"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820807">tokens</a></span>&nbsp;<span class="op" id="4821094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4821098">switch</span>&nbsp;<span class="ident" id="4821105"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821076">t</a></span><span class="op" id="4821106">.</span><span class="ident" id="4821107"><a href="/gostd/compress/flate/token.go.html#4856505">typ</a></span><span class="op" id="4821110">(</span><span class="op" id="4821111">)</span>&nbsp;<span class="op" id="4821113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4821117">case</span>&nbsp;<span class="ident" id="4821122"><a href="/gostd/compress/flate/token.go.html#4853857">literalType</a></span><span class="op" id="4821133">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821138"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821139">.</span><span class="ident" id="4821140"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4821151">[</span><span class="ident" id="4821152"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821076">t</a></span><span class="op" id="4821153">.</span><span class="ident" id="4821154"><a href="/gostd/compress/flate/token.go.html#4856608">literal</a></span><span class="op" id="4821161">(</span><span class="op" id="4821162">)</span><span class="op" id="4821163">]</span><span class="op" id="4821164">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4821169">case</span>&nbsp;<span class="ident" id="4821174"><a href="/gostd/compress/flate/token.go.html#4853880">matchType</a></span><span class="op" id="4821183">:</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821188">length</span>&nbsp;<span class="op" id="4821195">:=</span>&nbsp;<span class="ident" id="4821198"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821076">t</a></span><span class="op" id="4821199">.</span><span class="ident" id="4821200"><a href="/gostd/compress/flate/token.go.html#4856787">length</a></span><span class="op" id="4821206">(</span><span class="op" id="4821207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821212">offset</span>&nbsp;<span class="op" id="4821219">:=</span>&nbsp;<span class="ident" id="4821222"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821076">t</a></span><span class="op" id="4821223">.</span><span class="ident" id="4821224"><a href="/gostd/compress/flate/token.go.html#4856721">offset</a></span><span class="op" id="4821230">(</span><span class="op" id="4821231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821236"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821237">.</span><span class="ident" id="4821238"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4821249">[</span><span class="ident" id="4821250"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812288">lengthCodesStart</a></span><span class="op" id="4821266">+</span><span class="ident" id="4821267"><a href="/gostd/compress/flate/token.go.html#4856859">lengthCode</a></span><span class="op" id="4821277">(</span><span class="ident" id="4821278"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821188">length</a></span><span class="op" id="4821284">)</span><span class="op" id="4821285">]</span><span class="op" id="4821286">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821292"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821293">.</span><span class="ident" id="4821294"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4821304">[</span><span class="ident" id="4821305"><a href="/gostd/compress/flate/token.go.html#4856985">offsetCode</a></span><span class="op" id="4821315">(</span><span class="ident" id="4821316"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821212">offset</a></span><span class="op" id="4821322">)</span><span class="op" id="4821323">]</span><span class="op" id="4821324">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4821329">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4821332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4821336">//&nbsp;get&nbsp;the&nbsp;number&nbsp;of&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821367">numLiterals</span>&nbsp;<span class="op" id="4821379">:=</span>&nbsp;<span class="builtinfunc" id="4821382">len</span><span class="op" id="4821385">(</span><span class="ident" id="4821386"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821387">.</span><span class="ident" id="4821388"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4821399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4821402">for</span>&nbsp;<span class="ident" id="4821406"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821407">.</span><span class="ident" id="4821408"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4821419">[</span><span class="ident" id="4821420"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821367">numLiterals</a></span><span class="op" id="4821431">-</span><span class="num" id="4821432">1</span><span class="op" id="4821433">]</span>&nbsp;<span class="op" id="4821435">==</span>&nbsp;<span class="num" id="4821438">0</span>&nbsp;<span class="op" id="4821440">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821444"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821367">numLiterals</a></span><span class="op" id="4821455">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4821459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4821462">//&nbsp;get&nbsp;the&nbsp;number&nbsp;of&nbsp;offsets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821492">numOffsets</span>&nbsp;<span class="op" id="4821503">:=</span>&nbsp;<span class="builtinfunc" id="4821506">len</span><span class="op" id="4821509">(</span><span class="ident" id="4821510"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821511">.</span><span class="ident" id="4821512"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4821522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4821525">for</span>&nbsp;<span class="ident" id="4821529"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821492">numOffsets</a></span>&nbsp;<span class="op" id="4821540">&gt;</span>&nbsp;<span class="num" id="4821542">0</span>&nbsp;<span class="op" id="4821544">&amp;&amp;</span>&nbsp;<span class="ident" id="4821547"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821548">.</span><span class="ident" id="4821549"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4821559">[</span><span class="ident" id="4821560"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821492">numOffsets</a></span><span class="op" id="4821570">-</span><span class="num" id="4821571">1</span><span class="op" id="4821572">]</span>&nbsp;<span class="op" id="4821574">==</span>&nbsp;<span class="num" id="4821577">0</span>&nbsp;<span class="op" id="4821579">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821583"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821492">numOffsets</a></span><span class="op" id="4821593">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4821597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4821600">if</span>&nbsp;<span class="ident" id="4821603"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821492">numOffsets</a></span>&nbsp;<span class="op" id="4821614">==</span>&nbsp;<span class="num" id="4821617">0</span>&nbsp;<span class="op" id="4821619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4821623">//&nbsp;We&nbsp;haven&#39;t&nbsp;found&nbsp;a&nbsp;single&nbsp;match.&nbsp;If&nbsp;we&nbsp;want&nbsp;to&nbsp;go&nbsp;with&nbsp;the&nbsp;dynamic&nbsp;encoding,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4821705">//&nbsp;we&nbsp;should&nbsp;count&nbsp;at&nbsp;least&nbsp;one&nbsp;offset&nbsp;to&nbsp;be&nbsp;sure&nbsp;that&nbsp;the&nbsp;offset&nbsp;huffman&nbsp;tree&nbsp;could&nbsp;be&nbsp;encoded.</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821804"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821805">.</span><span class="ident" id="4821806"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4821816">[</span><span class="num" id="4821817">0</span><span class="op" id="4821818">]</span>&nbsp;<span class="op" id="4821820">=</span>&nbsp;<span class="num" id="4821822">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821826"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821492">numOffsets</a></span>&nbsp;<span class="op" id="4821837">=</span>&nbsp;<span class="num" id="4821839">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4821842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821846"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821847">.</span><span class="ident" id="4821848"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814096">literalEncoding</a></span><span class="op" id="4821863">.</span><span class="ident" id="4821864"><a href="/gostd/compress/flate/huffman_code.go.html#4832888">generate</a></span><span class="op" id="4821872">(</span><span class="ident" id="4821873"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821874">.</span><span class="ident" id="4821875"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4821886">,</span>&nbsp;<span class="num" id="4821888">15</span><span class="op" id="4821890">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821893"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821894">.</span><span class="ident" id="4821895"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814129">offsetEncoding</a></span><span class="op" id="4821909">.</span><span class="ident" id="4821910"><a href="/gostd/compress/flate/huffman_code.go.html#4832888">generate</a></span><span class="op" id="4821918">(</span><span class="ident" id="4821919"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4821920">.</span><span class="ident" id="4821921"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4821931">,</span>&nbsp;<span class="num" id="4821933">15</span><span class="op" id="4821935">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821939">storedBytes</span>&nbsp;<span class="op" id="4821951">:=</span>&nbsp;<span class="num" id="4821954">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4821957">if</span>&nbsp;<span class="ident" id="4821960"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820833">input</a></span>&nbsp;<span class="op" id="4821966">!=</span>&nbsp;<span class="builtintype" id="4821969">nil</span>&nbsp;<span class="op" id="4821973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4821977"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821939">storedBytes</a></span>&nbsp;<span class="op" id="4821989">=</span>&nbsp;<span class="builtinfunc" id="4821991">len</span><span class="op" id="4821994">(</span><span class="ident" id="4821995"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820833">input</a></span><span class="op" id="4822000">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4822003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4822006">var</span>&nbsp;<span class="ident" id="4822010">extraBits</span>&nbsp;<span class="builtintype" id="4822020">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4822027">var</span>&nbsp;<span class="ident" id="4822031">storedSize</span>&nbsp;<span class="builtintype" id="4822042">int64</span>&nbsp;<span class="op" id="4822048">=</span>&nbsp;<span class="ident" id="4822050"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812113">math</a></span><span class="op" id="4822054">.</span><span class="ident" id="4822055"><a href="/gostd/math/const.go.html#2216075">MaxInt64</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4822065">if</span>&nbsp;<span class="ident" id="4822068"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821939">storedBytes</a></span>&nbsp;<span class="op" id="4822080">&lt;=</span>&nbsp;<span class="ident" id="4822083"><a href="/gostd/compress/flate/deflate.go.html#4792916">maxStoreBlockSize</a></span>&nbsp;<span class="op" id="4822101">&amp;&amp;</span>&nbsp;<span class="ident" id="4822104"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820833">input</a></span>&nbsp;<span class="op" id="4822110">!=</span>&nbsp;<span class="builtintype" id="4822113">nil</span>&nbsp;<span class="op" id="4822117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4822121"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822031">storedSize</a></span>&nbsp;<span class="op" id="4822132">=</span>&nbsp;<span class="builtintype" id="4822134">int64</span><span class="op" id="4822139">(</span><span class="op" id="4822140">(</span><span class="ident" id="4822141"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821939">storedBytes</a></span>&nbsp;<span class="op" id="4822153">+</span>&nbsp;<span class="num" id="4822155">5</span><span class="op" id="4822156">)</span>&nbsp;<span class="op" id="4822158">*</span>&nbsp;<span class="num" id="4822160">8</span><span class="op" id="4822161">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4822165">//&nbsp;We&nbsp;only&nbsp;bother&nbsp;calculating&nbsp;the&nbsp;costs&nbsp;of&nbsp;the&nbsp;extra&nbsp;bits&nbsp;required&nbsp;by</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4822237">//&nbsp;the&nbsp;length&nbsp;of&nbsp;offset&nbsp;fields&nbsp;(which&nbsp;will&nbsp;be&nbsp;the&nbsp;same&nbsp;for&nbsp;both&nbsp;fixed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4822309">//&nbsp;and&nbsp;dynamic&nbsp;encoding),&nbsp;if&nbsp;we&nbsp;need&nbsp;to&nbsp;compare&nbsp;those&nbsp;two&nbsp;encodings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4822379">//&nbsp;against&nbsp;stored&nbsp;encoding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4822409">for</span>&nbsp;<span class="ident" id="4822413">lengthCode</span>&nbsp;<span class="op" id="4822424">:=</span>&nbsp;<span class="ident" id="4822427"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812288">lengthCodesStart</a></span>&nbsp;<span class="op" id="4822444">+</span>&nbsp;<span class="num" id="4822446">8</span><span class="op" id="4822447">;</span>&nbsp;<span class="ident" id="4822449"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822413">lengthCode</a></span>&nbsp;<span class="op" id="4822460">&lt;</span>&nbsp;<span class="ident" id="4822462"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821367">numLiterals</a></span><span class="op" id="4822473">;</span>&nbsp;<span class="ident" id="4822475"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822413">lengthCode</a></span><span class="op" id="4822485">++</span>&nbsp;<span class="op" id="4822488">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4822493">//&nbsp;First&nbsp;eight&nbsp;length&nbsp;codes&nbsp;have&nbsp;extra&nbsp;size&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4822545"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822010">extraBits</a></span>&nbsp;<span class="op" id="4822555">+=</span>&nbsp;<span class="builtintype" id="4822558">int64</span><span class="op" id="4822563">(</span><span class="ident" id="4822564"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4822565">.</span><span class="ident" id="4822566"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4822577">[</span><span class="ident" id="4822578"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822413">lengthCode</a></span><span class="op" id="4822588">]</span><span class="op" id="4822589">)</span>&nbsp;<span class="op" id="4822591">*</span>&nbsp;<span class="builtintype" id="4822593">int64</span><span class="op" id="4822598">(</span><span class="ident" id="4822599"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812473">lengthExtraBits</a></span><span class="op" id="4822614">[</span><span class="ident" id="4822615"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822413">lengthCode</a></span><span class="op" id="4822625">-</span><span class="ident" id="4822626"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812288">lengthCodesStart</a></span><span class="op" id="4822642">]</span><span class="op" id="4822643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4822647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4822651">for</span>&nbsp;<span class="ident" id="4822655">offsetCode</span>&nbsp;<span class="op" id="4822666">:=</span>&nbsp;<span class="num" id="4822669">4</span><span class="op" id="4822670">;</span>&nbsp;<span class="ident" id="4822672"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822655">offsetCode</a></span>&nbsp;<span class="op" id="4822683">&lt;</span>&nbsp;<span class="ident" id="4822685"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821492">numOffsets</a></span><span class="op" id="4822695">;</span>&nbsp;<span class="ident" id="4822697"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822655">offsetCode</a></span><span class="op" id="4822707">++</span>&nbsp;<span class="op" id="4822710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4822715">//&nbsp;First&nbsp;four&nbsp;offset&nbsp;codes&nbsp;have&nbsp;extra&nbsp;size&nbsp;=&nbsp;0.</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4822766"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822010">extraBits</a></span>&nbsp;<span class="op" id="4822776">+=</span>&nbsp;<span class="builtintype" id="4822779">int64</span><span class="op" id="4822784">(</span><span class="ident" id="4822785"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4822786">.</span><span class="ident" id="4822787"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4822797">[</span><span class="ident" id="4822798"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822655">offsetCode</a></span><span class="op" id="4822808">]</span><span class="op" id="4822809">)</span>&nbsp;<span class="op" id="4822811">*</span>&nbsp;<span class="builtintype" id="4822813">int64</span><span class="op" id="4822818">(</span><span class="ident" id="4822819"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812878">offsetExtraBits</a></span><span class="op" id="4822834">[</span><span class="ident" id="4822835"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822655">offsetCode</a></span><span class="op" id="4822845">]</span><span class="op" id="4822846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4822850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4822853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4822857">//&nbsp;Figure&nbsp;out&nbsp;smallest&nbsp;code.</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4822887">//&nbsp;Fixed&nbsp;Huffman&nbsp;baseline.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4822915">var</span>&nbsp;<span class="ident" id="4822919">size</span>&nbsp;<span class="op" id="4822924">=</span>&nbsp;<span class="builtintype" id="4822926">int64</span><span class="op" id="4822931">(</span><span class="num" id="4822932">3</span><span class="op" id="4822933">)</span>&nbsp;<span class="op" id="4822935">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4822939"><a href="/gostd/compress/flate/huffman_code.go.html#4827222">fixedLiteralEncoding</a></span><span class="op" id="4822959">.</span><span class="ident" id="4822960"><a href="/gostd/compress/flate/huffman_code.go.html#4827390">bitLength</a></span><span class="op" id="4822969">(</span><span class="ident" id="4822970"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4822971">.</span><span class="ident" id="4822972"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4822983">)</span>&nbsp;<span class="op" id="4822985">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4822989"><a href="/gostd/compress/flate/huffman_code.go.html#4827296">fixedOffsetEncoding</a></span><span class="op" id="4823008">.</span><span class="ident" id="4823009"><a href="/gostd/compress/flate/huffman_code.go.html#4827390">bitLength</a></span><span class="op" id="4823018">(</span><span class="ident" id="4823019"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823020">.</span><span class="ident" id="4823021"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4823031">)</span>&nbsp;<span class="op" id="4823033">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823037"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822010">extraBits</a></span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4823048">var</span>&nbsp;<span class="ident" id="4823052">literalEncoding</span>&nbsp;<span class="op" id="4823068">=</span>&nbsp;<span class="ident" id="4823070"><a href="/gostd/compress/flate/huffman_code.go.html#4827222">fixedLiteralEncoding</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4823092">var</span>&nbsp;<span class="ident" id="4823096">offsetEncoding</span>&nbsp;<span class="op" id="4823111">=</span>&nbsp;<span class="ident" id="4823113"><a href="/gostd/compress/flate/huffman_code.go.html#4827296">fixedOffsetEncoding</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4823135">//&nbsp;Dynamic&nbsp;Huffman?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4823156">var</span>&nbsp;<span class="ident" id="4823160">numCodegens</span>&nbsp;<span class="builtintype" id="4823172">int</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4823178">//&nbsp;Generate&nbsp;codegen&nbsp;and&nbsp;codegenFrequencies,&nbsp;which&nbsp;indicates&nbsp;how&nbsp;to&nbsp;encode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4823253">//&nbsp;the&nbsp;literalEncoding&nbsp;and&nbsp;the&nbsp;offsetEncoding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823301"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823302">.</span><span class="ident" id="4823303"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816998">generateCodegen</a></span><span class="op" id="4823318">(</span><span class="ident" id="4823319"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821367">numLiterals</a></span><span class="op" id="4823330">,</span>&nbsp;<span class="ident" id="4823332"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821492">numOffsets</a></span><span class="op" id="4823342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823345"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823346">.</span><span class="ident" id="4823347"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814162">codegenEncoding</a></span><span class="op" id="4823362">.</span><span class="ident" id="4823363"><a href="/gostd/compress/flate/huffman_code.go.html#4832888">generate</a></span><span class="op" id="4823371">(</span><span class="ident" id="4823372"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823373">.</span><span class="ident" id="4823374"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4823385">,</span>&nbsp;<span class="num" id="4823387">7</span><span class="op" id="4823388">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823391"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823160">numCodegens</a></span>&nbsp;<span class="op" id="4823403">=</span>&nbsp;<span class="builtinfunc" id="4823405">len</span><span class="op" id="4823408">(</span><span class="ident" id="4823409"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823410">.</span><span class="ident" id="4823411"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4823422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4823425">for</span>&nbsp;<span class="ident" id="4823429"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823160">numCodegens</a></span>&nbsp;<span class="op" id="4823441">&gt;</span>&nbsp;<span class="num" id="4823443">4</span>&nbsp;<span class="op" id="4823445">&amp;&amp;</span>&nbsp;<span class="ident" id="4823448"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823449">.</span><span class="ident" id="4823450"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4823461">[</span><span class="ident" id="4823462"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813679">codegenOrder</a></span><span class="op" id="4823474">[</span><span class="ident" id="4823475"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823160">numCodegens</a></span><span class="op" id="4823486">-</span><span class="num" id="4823487">1</span><span class="op" id="4823488">]</span><span class="op" id="4823489">]</span>&nbsp;<span class="op" id="4823491">==</span>&nbsp;<span class="num" id="4823494">0</span>&nbsp;<span class="op" id="4823496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823500"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823160">numCodegens</a></span><span class="op" id="4823511">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4823515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823518">dynamicHeader</span>&nbsp;<span class="op" id="4823532">:=</span>&nbsp;<span class="builtintype" id="4823535">int64</span><span class="op" id="4823540">(</span><span class="num" id="4823541">3</span><span class="op" id="4823542">+</span><span class="num" id="4823543">5</span><span class="op" id="4823544">+</span><span class="num" id="4823545">5</span><span class="op" id="4823546">+</span><span class="num" id="4823547">4</span><span class="op" id="4823548">+</span><span class="op" id="4823549">(</span><span class="num" id="4823550">3</span><span class="op" id="4823551">*</span><span class="ident" id="4823552"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823160">numCodegens</a></span><span class="op" id="4823563">)</span><span class="op" id="4823564">)</span>&nbsp;<span class="op" id="4823566">+</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823570"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823571">.</span><span class="ident" id="4823572"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814162">codegenEncoding</a></span><span class="op" id="4823587">.</span><span class="ident" id="4823588"><a href="/gostd/compress/flate/huffman_code.go.html#4827390">bitLength</a></span><span class="op" id="4823597">(</span><span class="ident" id="4823598"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823599">.</span><span class="ident" id="4823600"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4823611">)</span>&nbsp;<span class="op" id="4823613">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4823617">int64</span><span class="op" id="4823622">(</span><span class="ident" id="4823623"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822010">extraBits</a></span><span class="op" id="4823632">)</span>&nbsp;<span class="op" id="4823634">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4823638">int64</span><span class="op" id="4823643">(</span><span class="ident" id="4823644"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823645">.</span><span class="ident" id="4823646"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4823657">[</span><span class="num" id="4823658">16</span><span class="op" id="4823660">]</span><span class="op" id="4823661">*</span><span class="num" id="4823662">2</span><span class="op" id="4823663">)</span>&nbsp;<span class="op" id="4823665">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4823669">int64</span><span class="op" id="4823674">(</span><span class="ident" id="4823675"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823676">.</span><span class="ident" id="4823677"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4823688">[</span><span class="num" id="4823689">17</span><span class="op" id="4823691">]</span><span class="op" id="4823692">*</span><span class="num" id="4823693">3</span><span class="op" id="4823694">)</span>&nbsp;<span class="op" id="4823696">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4823700">int64</span><span class="op" id="4823705">(</span><span class="ident" id="4823706"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823707">.</span><span class="ident" id="4823708"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814071">codegenFreq</a></span><span class="op" id="4823719">[</span><span class="num" id="4823720">18</span><span class="op" id="4823722">]</span><span class="op" id="4823723">*</span><span class="num" id="4823724">7</span><span class="op" id="4823725">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823728">dynamicSize</span>&nbsp;<span class="op" id="4823740">:=</span>&nbsp;<span class="ident" id="4823743"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823518">dynamicHeader</a></span>&nbsp;<span class="op" id="4823757">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823761"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823762">.</span><span class="ident" id="4823763"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814096">literalEncoding</a></span><span class="op" id="4823778">.</span><span class="ident" id="4823779"><a href="/gostd/compress/flate/huffman_code.go.html#4827390">bitLength</a></span><span class="op" id="4823788">(</span><span class="ident" id="4823789"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823790">.</span><span class="ident" id="4823791"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813996">literalFreq</a></span><span class="op" id="4823802">)</span>&nbsp;<span class="op" id="4823804">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823808"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823809">.</span><span class="ident" id="4823810"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814129">offsetEncoding</a></span><span class="op" id="4823824">.</span><span class="ident" id="4823825"><a href="/gostd/compress/flate/huffman_code.go.html#4827390">bitLength</a></span><span class="op" id="4823834">(</span><span class="ident" id="4823835"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823836">.</span><span class="ident" id="4823837"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814021">offsetFreq</a></span><span class="op" id="4823847">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4823851">if</span>&nbsp;<span class="ident" id="4823854"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823728">dynamicSize</a></span>&nbsp;<span class="op" id="4823866">&lt;</span>&nbsp;<span class="ident" id="4823868"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822919">size</a></span>&nbsp;<span class="op" id="4823873">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823877"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822919">size</a></span>&nbsp;<span class="op" id="4823882">=</span>&nbsp;<span class="ident" id="4823884"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823728">dynamicSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823898"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823052">literalEncoding</a></span>&nbsp;<span class="op" id="4823914">=</span>&nbsp;<span class="ident" id="4823916"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823917">.</span><span class="ident" id="4823918"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814096">literalEncoding</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4823936"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823096">offsetEncoding</a></span>&nbsp;<span class="op" id="4823951">=</span>&nbsp;<span class="ident" id="4823953"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4823954">.</span><span class="ident" id="4823955"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4814129">offsetEncoding</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4823971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4823975">//&nbsp;Stored&nbsp;bytes?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4823993">if</span>&nbsp;<span class="ident" id="4823996"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822031">storedSize</a></span>&nbsp;<span class="op" id="4824007">&lt;</span>&nbsp;<span class="ident" id="4824009"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4822919">size</a></span>&nbsp;<span class="op" id="4824014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824018"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4824019">.</span><span class="ident" id="4824020"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820333">writeStoredHeader</a></span><span class="op" id="4824037">(</span><span class="ident" id="4824038"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821939">storedBytes</a></span><span class="op" id="4824049">,</span>&nbsp;<span class="ident" id="4824051"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820823">eof</a></span><span class="op" id="4824054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824058"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4824059">.</span><span class="ident" id="4824060"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4816016">writeBytes</a></span><span class="op" id="4824070">(</span><span class="ident" id="4824071"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820833">input</a></span><span class="op" id="4824076">[</span><span class="num" id="4824077">0</span><span class="op" id="4824078">:</span><span class="ident" id="4824079"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821939">storedBytes</a></span><span class="op" id="4824090">]</span><span class="op" id="4824091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4824095">return</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4824103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4824107">//&nbsp;Huffman.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4824120">if</span>&nbsp;<span class="ident" id="4824123"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823052">literalEncoding</a></span>&nbsp;<span class="op" id="4824139">==</span>&nbsp;<span class="ident" id="4824142"><a href="/gostd/compress/flate/huffman_code.go.html#4827222">fixedLiteralEncoding</a></span>&nbsp;<span class="op" id="4824163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824167"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4824168">.</span><span class="ident" id="4824169"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820586">writeFixedHeader</a></span><span class="op" id="4824185">(</span><span class="ident" id="4824186"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820823">eof</a></span><span class="op" id="4824189">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4824192">}</span>&nbsp;<span class="keyword" id="4824194">else</span>&nbsp;<span class="op" id="4824199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824203"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4824204">.</span><span class="ident" id="4824205"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819431">writeDynamicHeader</a></span><span class="op" id="4824223">(</span><span class="ident" id="4824224"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821367">numLiterals</a></span><span class="op" id="4824235">,</span>&nbsp;<span class="ident" id="4824237"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4821492">numOffsets</a></span><span class="op" id="4824247">,</span>&nbsp;<span class="ident" id="4824249"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823160">numCodegens</a></span><span class="op" id="4824260">,</span>&nbsp;<span class="ident" id="4824262"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820823">eof</a></span><span class="op" id="4824265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4824268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4824271">for</span>&nbsp;<span class="ident" id="4824275">_</span><span class="op" id="4824276">,</span>&nbsp;<span class="ident" id="4824278">t</span>&nbsp;<span class="op" id="4824280">:=</span>&nbsp;<span class="keyword" id="4824283">range</span>&nbsp;<span class="ident" id="4824289"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820807">tokens</a></span>&nbsp;<span class="op" id="4824296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4824300">switch</span>&nbsp;<span class="ident" id="4824307"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824278">t</a></span><span class="op" id="4824308">.</span><span class="ident" id="4824309"><a href="/gostd/compress/flate/token.go.html#4856505">typ</a></span><span class="op" id="4824312">(</span><span class="op" id="4824313">)</span>&nbsp;<span class="op" id="4824315">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4824319">case</span>&nbsp;<span class="ident" id="4824324"><a href="/gostd/compress/flate/token.go.html#4853857">literalType</a></span><span class="op" id="4824335">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824340"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4824341">.</span><span class="ident" id="4824342"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819000">writeCode</a></span><span class="op" id="4824351">(</span><span class="ident" id="4824352"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823052">literalEncoding</a></span><span class="op" id="4824367">,</span>&nbsp;<span class="ident" id="4824369"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824278">t</a></span><span class="op" id="4824370">.</span><span class="ident" id="4824371"><a href="/gostd/compress/flate/token.go.html#4856608">literal</a></span><span class="op" id="4824378">(</span><span class="op" id="4824379">)</span><span class="op" id="4824380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4824385">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4824393">case</span>&nbsp;<span class="ident" id="4824398"><a href="/gostd/compress/flate/token.go.html#4853880">matchType</a></span><span class="op" id="4824407">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4824412">//&nbsp;Write&nbsp;the&nbsp;length</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824435">length</span>&nbsp;<span class="op" id="4824442">:=</span>&nbsp;<span class="ident" id="4824445"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824278">t</a></span><span class="op" id="4824446">.</span><span class="ident" id="4824447"><a href="/gostd/compress/flate/token.go.html#4856787">length</a></span><span class="op" id="4824453">(</span><span class="op" id="4824454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824459">lengthCode</span>&nbsp;<span class="op" id="4824470">:=</span>&nbsp;<span class="ident" id="4824473"><a href="/gostd/compress/flate/token.go.html#4856859">lengthCode</a></span><span class="op" id="4824483">(</span><span class="ident" id="4824484"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824435">length</a></span><span class="op" id="4824490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824495"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4824496">.</span><span class="ident" id="4824497"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819000">writeCode</a></span><span class="op" id="4824506">(</span><span class="ident" id="4824507"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823052">literalEncoding</a></span><span class="op" id="4824522">,</span>&nbsp;<span class="ident" id="4824524"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824459">lengthCode</a></span><span class="op" id="4824534">+</span><span class="ident" id="4824535"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812288">lengthCodesStart</a></span><span class="op" id="4824551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824556">extraLengthBits</span>&nbsp;<span class="op" id="4824572">:=</span>&nbsp;<span class="builtintype" id="4824575">int32</span><span class="op" id="4824580">(</span><span class="ident" id="4824581"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812473">lengthExtraBits</a></span><span class="op" id="4824596">[</span><span class="ident" id="4824597"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824459">lengthCode</a></span><span class="op" id="4824607">]</span><span class="op" id="4824608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4824613">if</span>&nbsp;<span class="ident" id="4824616"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824556">extraLengthBits</a></span>&nbsp;<span class="op" id="4824632">&gt;</span>&nbsp;<span class="num" id="4824634">0</span>&nbsp;<span class="op" id="4824636">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824642">extraLength</span>&nbsp;<span class="op" id="4824654">:=</span>&nbsp;<span class="builtintype" id="4824657">int32</span><span class="op" id="4824662">(</span><span class="ident" id="4824663"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824435">length</a></span>&nbsp;<span class="op" id="4824670">-</span>&nbsp;<span class="ident" id="4824672"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812700">lengthBase</a></span><span class="op" id="4824682">[</span><span class="ident" id="4824683"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824459">lengthCode</a></span><span class="op" id="4824693">]</span><span class="op" id="4824694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824700"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4824701">.</span><span class="ident" id="4824702"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4824711">(</span><span class="ident" id="4824712"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824642">extraLength</a></span><span class="op" id="4824723">,</span>&nbsp;<span class="ident" id="4824725"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824556">extraLengthBits</a></span><span class="op" id="4824740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4824745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4824750">//&nbsp;Write&nbsp;the&nbsp;offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824773">offset</span>&nbsp;<span class="op" id="4824780">:=</span>&nbsp;<span class="ident" id="4824783"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824278">t</a></span><span class="op" id="4824784">.</span><span class="ident" id="4824785"><a href="/gostd/compress/flate/token.go.html#4856721">offset</a></span><span class="op" id="4824791">(</span><span class="op" id="4824792">)</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824797">offsetCode</span>&nbsp;<span class="op" id="4824808">:=</span>&nbsp;<span class="ident" id="4824811"><a href="/gostd/compress/flate/token.go.html#4856985">offsetCode</a></span><span class="op" id="4824821">(</span><span class="ident" id="4824822"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824773">offset</a></span><span class="op" id="4824828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824833"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4824834">.</span><span class="ident" id="4824835"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4819000">writeCode</a></span><span class="op" id="4824844">(</span><span class="ident" id="4824845"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4823096">offsetEncoding</a></span><span class="op" id="4824859">,</span>&nbsp;<span class="ident" id="4824861"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824797">offsetCode</a></span><span class="op" id="4824871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824876">extraOffsetBits</span>&nbsp;<span class="op" id="4824892">:=</span>&nbsp;<span class="builtintype" id="4824895">int32</span><span class="op" id="4824900">(</span><span class="ident" id="4824901"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4812878">offsetExtraBits</a></span><span class="op" id="4824916">[</span><span class="ident" id="4824917"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824797">offsetCode</a></span><span class="op" id="4824927">]</span><span class="op" id="4824928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4824933">if</span>&nbsp;<span class="ident" id="4824936"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824876">extraOffsetBits</a></span>&nbsp;<span class="op" id="4824952">&gt;</span>&nbsp;<span class="num" id="4824954">0</span>&nbsp;<span class="op" id="4824956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4824962">extraOffset</span>&nbsp;<span class="op" id="4824974">:=</span>&nbsp;<span class="builtintype" id="4824977">int32</span><span class="op" id="4824982">(</span><span class="ident" id="4824983"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824773">offset</a></span>&nbsp;<span class="op" id="4824990">-</span>&nbsp;<span class="ident" id="4824992"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4813092">offsetBase</a></span><span class="op" id="4825002">[</span><span class="ident" id="4825003"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824797">offsetCode</a></span><span class="op" id="4825013">]</span><span class="op" id="4825014">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4825020"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4820775">w</a></span><span class="op" id="4825021">.</span><span class="ident" id="4825022"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4815867">writeBits</a></span><span class="op" id="4825031">(</span><span class="ident" id="4825032"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824962">extraOffset</a></span><span class="op" id="4825043">,</span>&nbsp;<span class="ident" id="4825045"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824876">extraOffsetBits</a></span><span class="op" id="4825060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4825065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4825070">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4825078">default</span><span class="op" id="4825085">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4825090">panic</span><span class="op" id="4825095">(</span><span class="string" id="4825096">&#34;unknown&nbsp;token&nbsp;type:&nbsp;&#34;</span>&nbsp;<span class="op" id="4825119">+</span>&nbsp;<span class="builtintype" id="4825121">string</span><span class="op" id="4825127">(</span><span class="ident" id="4825128"><a href="/gostd/compress/flate/huffman_bit_writer.go.html#4824278">t</a></span><span class="op" id="4825129">)</span><span class="op" id="4825130">)</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4825134">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4825137">}</span><br>
<span class="lineno"></span><span class="op" id="4825139">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
