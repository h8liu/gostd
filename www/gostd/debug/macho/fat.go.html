<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/macho</h2>
<ul>
<li><a href="/gostd/debug/macho/fat.go.html" class="current">fat.go</a></li>
<li><a href="/gostd/debug/macho/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/macho/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/macho/macho.go.html">macho.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6261703">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6261759">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6261813">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6261864">package</span>&nbsp;<span class="ident" id="6261872">macho</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6261879">import</span>&nbsp;<span class="op" id="6261886">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6261889">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6261908">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6261915">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6261921">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="6261926">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6261929">//&nbsp;A&nbsp;FatFile&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;universal&nbsp;binary&nbsp;that&nbsp;contains&nbsp;at&nbsp;least&nbsp;one&nbsp;architecture.</span><br>
<span class="lineno">15</span><span class="keyword" id="6262012">type</span>&nbsp;<span class="ident" id="6262017">FatFile</span>&nbsp;<span class="keyword" id="6262025">struct</span>&nbsp;<span class="op" id="6262032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262035">Magic</span>&nbsp;&nbsp;<span class="builtintype" id="6262042">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262050">Arches</span>&nbsp;<span class="op" id="6262057">[</span><span class="op" id="6262058">]</span><span class="ident" id="6262059">FatArch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262068">closer</span>&nbsp;<span class="ident" id="6262075">io</span><span class="op" id="6262077">.</span><span class="ident" id="6262078">Closer</span><br>
<span class="lineno"></span><span class="op" id="6262085">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6262088">//&nbsp;A&nbsp;FatArchHeader&nbsp;represents&nbsp;a&nbsp;fat&nbsp;header&nbsp;for&nbsp;a&nbsp;specific&nbsp;image&nbsp;architecture.</span><br>
<span class="lineno"></span><span class="keyword" id="6262166">type</span>&nbsp;<span class="ident" id="6262171">FatArchHeader</span>&nbsp;<span class="keyword" id="6262185">struct</span>&nbsp;<span class="op" id="6262192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262195">Cpu</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6262202">Cpu</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262207">SubCpu</span>&nbsp;<span class="builtintype" id="6262214">uint32</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262222">Offset</span>&nbsp;<span class="builtintype" id="6262229">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262237">Size</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6262244">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262252">Align</span>&nbsp;&nbsp;<span class="builtintype" id="6262259">uint32</span><br>
<span class="lineno"></span><span class="op" id="6262266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="6262269">const</span>&nbsp;<span class="ident" id="6262275">fatArchHeaderSize</span>&nbsp;<span class="op" id="6262293">=</span>&nbsp;<span class="num" id="6262295">5</span>&nbsp;<span class="op" id="6262297">*</span>&nbsp;<span class="num" id="6262299">4</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6262302">//&nbsp;A&nbsp;FatArch&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;File&nbsp;inside&nbsp;a&nbsp;FatFile.</span><br>
<span class="lineno"></span><span class="keyword" id="6262350">type</span>&nbsp;<span class="ident" id="6262355">FatArch</span>&nbsp;<span class="keyword" id="6262363">struct</span>&nbsp;<span class="op" id="6262370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262373">FatArchHeader</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6262388">*</span><span class="ident" id="6262389">File</span><br>
<span class="lineno"></span><span class="op" id="6262394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6262397">//&nbsp;ErrNotFat&nbsp;is&nbsp;returned&nbsp;from&nbsp;NewFatFile&nbsp;or&nbsp;OpenFat&nbsp;when&nbsp;the&nbsp;file&nbsp;is&nbsp;not&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6262472">//&nbsp;universal&nbsp;binary&nbsp;but&nbsp;may&nbsp;be&nbsp;a&nbsp;thin&nbsp;binary,&nbsp;based&nbsp;on&nbsp;its&nbsp;magic&nbsp;number.</span><br>
<span class="lineno">40</span><span class="keyword" id="6262545">var</span>&nbsp;<span class="ident" id="6262549">ErrNotFat</span>&nbsp;<span class="op" id="6262559">=</span>&nbsp;<span class="op" id="6262561">&amp;</span><span class="ident" id="6262562">FormatError</span><span class="op" id="6262573">{</span><span class="num" id="6262574">0</span><span class="op" id="6262575">,</span>&nbsp;<span class="string" id="6262577">&#34;not&nbsp;a&nbsp;fat&nbsp;Mach-O&nbsp;file&#34;</span><span class="op" id="6262600">,</span>&nbsp;<span class="ident" id="6262602">nil</span><span class="op" id="6262605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6262608">//&nbsp;NewFatFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;FatFile&nbsp;for&nbsp;accessing&nbsp;all&nbsp;the&nbsp;Mach-O&nbsp;images&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6262685">//&nbsp;universal&nbsp;binary.&nbsp;The&nbsp;Mach-O&nbsp;binary&nbsp;is&nbsp;expected&nbsp;to&nbsp;start&nbsp;at&nbsp;position&nbsp;0&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6262762">//&nbsp;the&nbsp;ReaderAt.</span><br>
<span class="lineno">45</span><span class="keyword" id="6262779">func</span>&nbsp;<span class="ident" id="6262784">NewFatFile</span><span class="op" id="6262794">(</span><span class="ident" id="6262795">r</span>&nbsp;<span class="ident" id="6262797">io</span><span class="op" id="6262799">.</span><span class="ident" id="6262800">ReaderAt</span><span class="op" id="6262808">)</span>&nbsp;<span class="op" id="6262810">(</span><span class="op" id="6262811">*</span><span class="ident" id="6262812">FatFile</span><span class="op" id="6262819">,</span>&nbsp;<span class="builtintype" id="6262821">error</span><span class="op" id="6262826">)</span>&nbsp;<span class="op" id="6262828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6262831">var</span>&nbsp;<span class="ident" id="6262835">ff</span>&nbsp;<span class="ident" id="6262838">FatFile</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262847">sr</span>&nbsp;<span class="op" id="6262850">:=</span>&nbsp;<span class="ident" id="6262853">io</span><span class="op" id="6262855">.</span><span class="ident" id="6262856">NewSectionReader</span><span class="op" id="6262872">(</span><span class="ident" id="6262873">r</span><span class="op" id="6262874">,</span>&nbsp;<span class="num" id="6262876">0</span><span class="op" id="6262877">,</span>&nbsp;<span class="num" id="6262879">1</span><span class="op" id="6262880">&lt;&lt;</span><span class="num" id="6262882">63</span><span class="op" id="6262884">-</span><span class="num" id="6262885">1</span><span class="op" id="6262886">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6262890">//&nbsp;Read&nbsp;the&nbsp;fat_header&nbsp;struct,&nbsp;which&nbsp;is&nbsp;always&nbsp;in&nbsp;big&nbsp;endian.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6262953">//&nbsp;Start&nbsp;with&nbsp;the&nbsp;magic&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6262986">err</span>&nbsp;<span class="op" id="6262990">:=</span>&nbsp;<span class="ident" id="6262993">binary</span><span class="op" id="6262999">.</span><span class="ident" id="6263000">Read</span><span class="op" id="6263004">(</span><span class="ident" id="6263005">sr</span><span class="op" id="6263007">,</span>&nbsp;<span class="ident" id="6263009">binary</span><span class="op" id="6263015">.</span><span class="ident" id="6263016">BigEndian</span><span class="op" id="6263025">,</span>&nbsp;<span class="op" id="6263027">&amp;</span><span class="ident" id="6263028">ff</span><span class="op" id="6263030">.</span><span class="ident" id="6263031">Magic</span><span class="op" id="6263036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263039">if</span>&nbsp;<span class="ident" id="6263042">err</span>&nbsp;<span class="op" id="6263046">!=</span>&nbsp;<span class="ident" id="6263049">nil</span>&nbsp;<span class="op" id="6263053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263057">return</span>&nbsp;<span class="ident" id="6263064">nil</span><span class="op" id="6263067">,</span>&nbsp;<span class="op" id="6263069">&amp;</span><span class="ident" id="6263070">FormatError</span><span class="op" id="6263081">{</span><span class="num" id="6263082">0</span><span class="op" id="6263083">,</span>&nbsp;<span class="string" id="6263085">&#34;error&nbsp;reading&nbsp;magic&nbsp;number&#34;</span><span class="op" id="6263113">,</span>&nbsp;<span class="ident" id="6263115">nil</span><span class="op" id="6263118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6263121">}</span>&nbsp;<span class="keyword" id="6263123">else</span>&nbsp;<span class="keyword" id="6263128">if</span>&nbsp;<span class="ident" id="6263131">ff</span><span class="op" id="6263133">.</span><span class="ident" id="6263134">Magic</span>&nbsp;<span class="op" id="6263140">!=</span>&nbsp;<span class="ident" id="6263143">MagicFat</span>&nbsp;<span class="op" id="6263152">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6263156">//&nbsp;See&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;file&nbsp;via&nbsp;its&nbsp;magic&nbsp;number.&nbsp;The&nbsp;magic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6263222">//&nbsp;must&nbsp;be&nbsp;converted&nbsp;to&nbsp;little&nbsp;endian&nbsp;first&nbsp;though.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263276">var</span>&nbsp;<span class="ident" id="6263280">buf</span>&nbsp;<span class="op" id="6263284">[</span><span class="num" id="6263285">4</span><span class="op" id="6263286">]</span><span class="builtintype" id="6263287">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6263294">binary</span><span class="op" id="6263300">.</span><span class="ident" id="6263301">BigEndian</span><span class="op" id="6263310">.</span><span class="ident" id="6263311">PutUint32</span><span class="op" id="6263320">(</span><span class="ident" id="6263321">buf</span><span class="op" id="6263324">[</span><span class="op" id="6263325">:</span><span class="op" id="6263326">]</span><span class="op" id="6263327">,</span>&nbsp;<span class="ident" id="6263329">ff</span><span class="op" id="6263331">.</span><span class="ident" id="6263332">Magic</span><span class="op" id="6263337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6263341">leMagic</span>&nbsp;<span class="op" id="6263349">:=</span>&nbsp;<span class="ident" id="6263352">binary</span><span class="op" id="6263358">.</span><span class="ident" id="6263359">LittleEndian</span><span class="op" id="6263371">.</span><span class="ident" id="6263372">Uint32</span><span class="op" id="6263378">(</span><span class="ident" id="6263379">buf</span><span class="op" id="6263382">[</span><span class="op" id="6263383">:</span><span class="op" id="6263384">]</span><span class="op" id="6263385">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263389">if</span>&nbsp;<span class="ident" id="6263392">leMagic</span>&nbsp;<span class="op" id="6263400">==</span>&nbsp;<span class="ident" id="6263403">Magic32</span>&nbsp;<span class="op" id="6263411">||</span>&nbsp;<span class="ident" id="6263414">leMagic</span>&nbsp;<span class="op" id="6263422">==</span>&nbsp;<span class="ident" id="6263425">Magic64</span>&nbsp;<span class="op" id="6263433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263438">return</span>&nbsp;<span class="ident" id="6263445">nil</span><span class="op" id="6263448">,</span>&nbsp;<span class="ident" id="6263450">ErrNotFat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6263462">}</span>&nbsp;<span class="keyword" id="6263464">else</span>&nbsp;<span class="op" id="6263469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263474">return</span>&nbsp;<span class="ident" id="6263481">nil</span><span class="op" id="6263484">,</span>&nbsp;<span class="op" id="6263486">&amp;</span><span class="ident" id="6263487">FormatError</span><span class="op" id="6263498">{</span><span class="num" id="6263499">0</span><span class="op" id="6263500">,</span>&nbsp;<span class="string" id="6263502">&#34;invalid&nbsp;magic&nbsp;number&#34;</span><span class="op" id="6263524">,</span>&nbsp;<span class="ident" id="6263526">nil</span><span class="op" id="6263529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6263533">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6263536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6263539">offset</span>&nbsp;<span class="op" id="6263546">:=</span>&nbsp;<span class="ident" id="6263549">int64</span><span class="op" id="6263554">(</span><span class="num" id="6263555">4</span><span class="op" id="6263556">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6263560">//&nbsp;Read&nbsp;the&nbsp;number&nbsp;of&nbsp;FatArchHeaders&nbsp;that&nbsp;come&nbsp;after&nbsp;the&nbsp;fat_header.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263630">var</span>&nbsp;<span class="ident" id="6263634">narch</span>&nbsp;<span class="builtintype" id="6263640">uint32</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6263648">err</span>&nbsp;<span class="op" id="6263652">=</span>&nbsp;<span class="ident" id="6263654">binary</span><span class="op" id="6263660">.</span><span class="ident" id="6263661">Read</span><span class="op" id="6263665">(</span><span class="ident" id="6263666">sr</span><span class="op" id="6263668">,</span>&nbsp;<span class="ident" id="6263670">binary</span><span class="op" id="6263676">.</span><span class="ident" id="6263677">BigEndian</span><span class="op" id="6263686">,</span>&nbsp;<span class="op" id="6263688">&amp;</span><span class="ident" id="6263689">narch</span><span class="op" id="6263694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263697">if</span>&nbsp;<span class="ident" id="6263700">err</span>&nbsp;<span class="op" id="6263704">!=</span>&nbsp;<span class="ident" id="6263707">nil</span>&nbsp;<span class="op" id="6263711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263715">return</span>&nbsp;<span class="ident" id="6263722">nil</span><span class="op" id="6263725">,</span>&nbsp;<span class="op" id="6263727">&amp;</span><span class="ident" id="6263728">FormatError</span><span class="op" id="6263739">{</span><span class="ident" id="6263740">offset</span><span class="op" id="6263746">,</span>&nbsp;<span class="string" id="6263748">&#34;invalid&nbsp;fat_header&#34;</span><span class="op" id="6263768">,</span>&nbsp;<span class="ident" id="6263770">nil</span><span class="op" id="6263773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6263776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6263779">offset</span>&nbsp;<span class="op" id="6263786">+=</span>&nbsp;<span class="num" id="6263789">4</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263793">if</span>&nbsp;<span class="ident" id="6263796">narch</span>&nbsp;<span class="op" id="6263802">&lt;</span>&nbsp;<span class="num" id="6263804">1</span>&nbsp;<span class="op" id="6263806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6263810">return</span>&nbsp;<span class="ident" id="6263817">nil</span><span class="op" id="6263820">,</span>&nbsp;<span class="op" id="6263822">&amp;</span><span class="ident" id="6263823">FormatError</span><span class="op" id="6263834">{</span><span class="ident" id="6263835">offset</span><span class="op" id="6263841">,</span>&nbsp;<span class="string" id="6263843">&#34;file&nbsp;contains&nbsp;no&nbsp;images&#34;</span><span class="op" id="6263868">,</span>&nbsp;<span class="ident" id="6263870">nil</span><span class="op" id="6263873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6263876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6263880">//&nbsp;Combine&nbsp;the&nbsp;Cpu&nbsp;and&nbsp;SubCpu&nbsp;(both&nbsp;uint32)&nbsp;into&nbsp;a&nbsp;uint64&nbsp;to&nbsp;make&nbsp;sure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6263952">//&nbsp;there&nbsp;are&nbsp;not&nbsp;duplicate&nbsp;architectures.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6263995">seenArches</span>&nbsp;<span class="op" id="6264006">:=</span>&nbsp;<span class="builtinfunc" id="6264009">make</span><span class="op" id="6264013">(</span><span class="keyword" id="6264014">map</span><span class="op" id="6264017">[</span><span class="ident" id="6264018">uint64</span><span class="op" id="6264024">]</span><span class="builtintype" id="6264025">bool</span><span class="op" id="6264029">,</span>&nbsp;<span class="ident" id="6264031">narch</span><span class="op" id="6264036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6264039">//&nbsp;Make&nbsp;sure&nbsp;that&nbsp;all&nbsp;images&nbsp;are&nbsp;for&nbsp;the&nbsp;same&nbsp;MH_&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6264096">var</span>&nbsp;<span class="ident" id="6264100">machoType</span>&nbsp;<span class="ident" id="6264110">Type</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6264117">//&nbsp;Following&nbsp;the&nbsp;fat_header&nbsp;comes&nbsp;narch&nbsp;fat_arch&nbsp;structs&nbsp;that&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6264186">//&nbsp;Mach-O&nbsp;images&nbsp;further&nbsp;in&nbsp;the&nbsp;file.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6264225">ff</span><span class="op" id="6264227">.</span><span class="ident" id="6264228">Arches</span>&nbsp;<span class="op" id="6264235">=</span>&nbsp;<span class="builtinfunc" id="6264237">make</span><span class="op" id="6264241">(</span><span class="op" id="6264242">[</span><span class="op" id="6264243">]</span><span class="ident" id="6264244">FatArch</span><span class="op" id="6264251">,</span>&nbsp;<span class="ident" id="6264253">narch</span><span class="op" id="6264258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6264261">for</span>&nbsp;<span class="ident" id="6264265">i</span>&nbsp;<span class="op" id="6264267">:=</span>&nbsp;<span class="builtintype" id="6264270">uint32</span><span class="op" id="6264276">(</span><span class="num" id="6264277">0</span><span class="op" id="6264278">)</span><span class="op" id="6264279">;</span>&nbsp;<span class="ident" id="6264281">i</span>&nbsp;<span class="op" id="6264283">&lt;</span>&nbsp;<span class="ident" id="6264285">narch</span><span class="op" id="6264290">;</span>&nbsp;<span class="ident" id="6264292">i</span><span class="op" id="6264293">++</span>&nbsp;<span class="op" id="6264296">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6264300">fa</span>&nbsp;<span class="op" id="6264303">:=</span>&nbsp;<span class="op" id="6264306">&amp;</span><span class="ident" id="6264307">ff</span><span class="op" id="6264309">.</span><span class="ident" id="6264310">Arches</span><span class="op" id="6264316">[</span><span class="ident" id="6264317">i</span><span class="op" id="6264318">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6264322">err</span>&nbsp;<span class="op" id="6264326">=</span>&nbsp;<span class="ident" id="6264328">binary</span><span class="op" id="6264334">.</span><span class="ident" id="6264335">Read</span><span class="op" id="6264339">(</span><span class="ident" id="6264340">sr</span><span class="op" id="6264342">,</span>&nbsp;<span class="ident" id="6264344">binary</span><span class="op" id="6264350">.</span><span class="ident" id="6264351">BigEndian</span><span class="op" id="6264360">,</span>&nbsp;<span class="op" id="6264362">&amp;</span><span class="ident" id="6264363">fa</span><span class="op" id="6264365">.</span><span class="ident" id="6264366">FatArchHeader</span><span class="op" id="6264379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6264383">if</span>&nbsp;<span class="ident" id="6264386">err</span>&nbsp;<span class="op" id="6264390">!=</span>&nbsp;<span class="ident" id="6264393">nil</span>&nbsp;<span class="op" id="6264397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6264402">return</span>&nbsp;<span class="ident" id="6264409">nil</span><span class="op" id="6264412">,</span>&nbsp;<span class="op" id="6264414">&amp;</span><span class="ident" id="6264415">FormatError</span><span class="op" id="6264426">{</span><span class="ident" id="6264427">offset</span><span class="op" id="6264433">,</span>&nbsp;<span class="string" id="6264435">&#34;invalid&nbsp;fat_arch&nbsp;header&#34;</span><span class="op" id="6264460">,</span>&nbsp;<span class="ident" id="6264462">nil</span><span class="op" id="6264465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6264469">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6264473">offset</span>&nbsp;<span class="op" id="6264480">+=</span>&nbsp;<span class="ident" id="6264483">fatArchHeaderSize</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6264504">fr</span>&nbsp;<span class="op" id="6264507">:=</span>&nbsp;<span class="ident" id="6264510">io</span><span class="op" id="6264512">.</span><span class="ident" id="6264513">NewSectionReader</span><span class="op" id="6264529">(</span><span class="ident" id="6264530">r</span><span class="op" id="6264531">,</span>&nbsp;<span class="ident" id="6264533">int64</span><span class="op" id="6264538">(</span><span class="ident" id="6264539">fa</span><span class="op" id="6264541">.</span><span class="ident" id="6264542">Offset</span><span class="op" id="6264548">)</span><span class="op" id="6264549">,</span>&nbsp;<span class="ident" id="6264551">int64</span><span class="op" id="6264556">(</span><span class="ident" id="6264557">fa</span><span class="op" id="6264559">.</span><span class="ident" id="6264560">Size</span><span class="op" id="6264564">)</span><span class="op" id="6264565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6264569">fa</span><span class="op" id="6264571">.</span><span class="ident" id="6264572">File</span><span class="op" id="6264576">,</span>&nbsp;<span class="ident" id="6264578">err</span>&nbsp;<span class="op" id="6264582">=</span>&nbsp;<span class="ident" id="6264584">NewFile</span><span class="op" id="6264591">(</span><span class="ident" id="6264592">fr</span><span class="op" id="6264594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6264598">if</span>&nbsp;<span class="ident" id="6264601">err</span>&nbsp;<span class="op" id="6264605">!=</span>&nbsp;<span class="ident" id="6264608">nil</span>&nbsp;<span class="op" id="6264612">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6264617">return</span>&nbsp;<span class="ident" id="6264624">nil</span><span class="op" id="6264627">,</span>&nbsp;<span class="ident" id="6264629">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6264635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6264640">//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;architecture&nbsp;for&nbsp;this&nbsp;image&nbsp;is&nbsp;not&nbsp;duplicate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6264705">seenArch</span>&nbsp;<span class="op" id="6264714">:=</span>&nbsp;<span class="op" id="6264717">(</span><span class="ident" id="6264718">uint64</span><span class="op" id="6264724">(</span><span class="ident" id="6264725">fa</span><span class="op" id="6264727">.</span><span class="ident" id="6264728">Cpu</span><span class="op" id="6264731">)</span>&nbsp;<span class="op" id="6264733">&lt;&lt;</span>&nbsp;<span class="num" id="6264736">32</span><span class="op" id="6264738">)</span>&nbsp;<span class="op" id="6264740">|</span>&nbsp;<span class="ident" id="6264742">uint64</span><span class="op" id="6264748">(</span><span class="ident" id="6264749">fa</span><span class="op" id="6264751">.</span><span class="ident" id="6264752">SubCpu</span><span class="op" id="6264758">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6264762">if</span>&nbsp;<span class="ident" id="6264765">o</span><span class="op" id="6264766">,</span>&nbsp;<span class="ident" id="6264768">k</span>&nbsp;<span class="op" id="6264770">:=</span>&nbsp;<span class="ident" id="6264773">seenArches</span><span class="op" id="6264783">[</span><span class="ident" id="6264784">seenArch</span><span class="op" id="6264792">]</span><span class="op" id="6264793">;</span>&nbsp;<span class="ident" id="6264795">o</span>&nbsp;<span class="op" id="6264797">||</span>&nbsp;<span class="ident" id="6264800">k</span>&nbsp;<span class="op" id="6264802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6264807">return</span>&nbsp;<span class="ident" id="6264814">nil</span><span class="op" id="6264817">,</span>&nbsp;<span class="op" id="6264819">&amp;</span><span class="ident" id="6264820">FormatError</span><span class="op" id="6264831">{</span><span class="ident" id="6264832">offset</span><span class="op" id="6264838">,</span>&nbsp;<span class="ident" id="6264840">fmt</span><span class="op" id="6264843">.</span><span class="ident" id="6264844">Sprintf</span><span class="op" id="6264851">(</span><span class="string" id="6264852">&#34;duplicate&nbsp;architecture&nbsp;cpu=%v,&nbsp;subcpu=%#x&#34;</span><span class="op" id="6264895">,</span>&nbsp;<span class="ident" id="6264897">fa</span><span class="op" id="6264899">.</span><span class="ident" id="6264900">Cpu</span><span class="op" id="6264903">,</span>&nbsp;<span class="ident" id="6264905">fa</span><span class="op" id="6264907">.</span><span class="ident" id="6264908">SubCpu</span><span class="op" id="6264914">)</span><span class="op" id="6264915">,</span>&nbsp;<span class="ident" id="6264917">nil</span><span class="op" id="6264920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6264924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6264928">seenArches</span><span class="op" id="6264938">[</span><span class="ident" id="6264939">seenArch</span><span class="op" id="6264947">]</span>&nbsp;<span class="op" id="6264949">=</span>&nbsp;<span class="builtintype" id="6264951">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6264959">//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;Mach-O&nbsp;type&nbsp;matches&nbsp;that&nbsp;of&nbsp;the&nbsp;first&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265023">if</span>&nbsp;<span class="ident" id="6265026">i</span>&nbsp;<span class="op" id="6265028">==</span>&nbsp;<span class="num" id="6265031">0</span>&nbsp;<span class="op" id="6265033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6265038">machoType</span>&nbsp;<span class="op" id="6265048">=</span>&nbsp;<span class="ident" id="6265050">fa</span><span class="op" id="6265052">.</span><span class="ident" id="6265053">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6265060">}</span>&nbsp;<span class="keyword" id="6265062">else</span>&nbsp;<span class="op" id="6265067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265072">if</span>&nbsp;<span class="ident" id="6265075">fa</span><span class="op" id="6265077">.</span><span class="ident" id="6265078">Type</span>&nbsp;<span class="op" id="6265083">!=</span>&nbsp;<span class="ident" id="6265086">machoType</span>&nbsp;<span class="op" id="6265096">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265102">return</span>&nbsp;<span class="ident" id="6265109">nil</span><span class="op" id="6265112">,</span>&nbsp;<span class="op" id="6265114">&amp;</span><span class="ident" id="6265115">FormatError</span><span class="op" id="6265126">{</span><span class="ident" id="6265127">offset</span><span class="op" id="6265133">,</span>&nbsp;<span class="ident" id="6265135">fmt</span><span class="op" id="6265138">.</span><span class="ident" id="6265139">Sprintf</span><span class="op" id="6265146">(</span><span class="string" id="6265147">&#34;Mach-O&nbsp;type&nbsp;for&nbsp;architecture&nbsp;#%d&nbsp;(type=%#x)&nbsp;does&nbsp;not&nbsp;match&nbsp;first&nbsp;(type=%#x)&#34;</span><span class="op" id="6265224">,</span>&nbsp;<span class="ident" id="6265226">i</span><span class="op" id="6265227">,</span>&nbsp;<span class="ident" id="6265229">fa</span><span class="op" id="6265231">.</span><span class="ident" id="6265232">Type</span><span class="op" id="6265236">,</span>&nbsp;<span class="ident" id="6265238">machoType</span><span class="op" id="6265247">)</span><span class="op" id="6265248">,</span>&nbsp;<span class="ident" id="6265250">nil</span><span class="op" id="6265253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6265258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6265262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6265265">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265269">return</span>&nbsp;<span class="op" id="6265276">&amp;</span><span class="ident" id="6265277">ff</span><span class="op" id="6265279">,</span>&nbsp;<span class="ident" id="6265281">nil</span><br>
<span class="lineno"></span><span class="op" id="6265285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6265288">//&nbsp;OpenFat&nbsp;opens&nbsp;the&nbsp;named&nbsp;file&nbsp;using&nbsp;os.Open&nbsp;and&nbsp;prepares&nbsp;it&nbsp;for&nbsp;use&nbsp;as&nbsp;a&nbsp;Mach-O</span><br>
<span class="lineno"></span><span class="comment" id="6265370">//&nbsp;universal&nbsp;binary.</span><br>
<span class="lineno">125</span><span class="keyword" id="6265391">func</span>&nbsp;<span class="ident" id="6265396">OpenFat</span><span class="op" id="6265403">(</span><span class="ident" id="6265404">name</span>&nbsp;<span class="builtintype" id="6265409">string</span><span class="op" id="6265415">)</span>&nbsp;<span class="op" id="6265417">(</span><span class="ident" id="6265418">ff</span>&nbsp;<span class="op" id="6265421">*</span><span class="ident" id="6265422">FatFile</span><span class="op" id="6265429">,</span>&nbsp;<span class="ident" id="6265431">err</span>&nbsp;<span class="builtintype" id="6265435">error</span><span class="op" id="6265440">)</span>&nbsp;<span class="op" id="6265442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6265445">f</span><span class="op" id="6265446">,</span>&nbsp;<span class="ident" id="6265448">err</span>&nbsp;<span class="op" id="6265452">:=</span>&nbsp;<span class="ident" id="6265455">os</span><span class="op" id="6265457">.</span><span class="ident" id="6265458">Open</span><span class="op" id="6265462">(</span><span class="ident" id="6265463">name</span><span class="op" id="6265467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265470">if</span>&nbsp;<span class="ident" id="6265473">err</span>&nbsp;<span class="op" id="6265477">!=</span>&nbsp;<span class="ident" id="6265480">nil</span>&nbsp;<span class="op" id="6265484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265488">return</span>&nbsp;<span class="ident" id="6265495">nil</span><span class="op" id="6265498">,</span>&nbsp;<span class="ident" id="6265500">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6265505">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6265508">ff</span><span class="op" id="6265510">,</span>&nbsp;<span class="ident" id="6265512">err</span>&nbsp;<span class="op" id="6265516">=</span>&nbsp;<span class="ident" id="6265518">NewFatFile</span><span class="op" id="6265528">(</span><span class="ident" id="6265529">f</span><span class="op" id="6265530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265533">if</span>&nbsp;<span class="ident" id="6265536">err</span>&nbsp;<span class="op" id="6265540">!=</span>&nbsp;<span class="ident" id="6265543">nil</span>&nbsp;<span class="op" id="6265547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6265551">f</span><span class="op" id="6265552">.</span><span class="ident" id="6265553">Close</span><span class="op" id="6265558">(</span><span class="op" id="6265559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265563">return</span>&nbsp;<span class="ident" id="6265570">nil</span><span class="op" id="6265573">,</span>&nbsp;<span class="ident" id="6265575">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6265580">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6265583">ff</span><span class="op" id="6265585">.</span><span class="ident" id="6265586">closer</span>&nbsp;<span class="op" id="6265593">=</span>&nbsp;<span class="ident" id="6265595">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265598">return</span><br>
<span class="lineno"></span><span class="op" id="6265605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6265608">func</span>&nbsp;<span class="op" id="6265613">(</span><span class="ident" id="6265614">ff</span>&nbsp;<span class="op" id="6265617">*</span><span class="ident" id="6265618">FatFile</span><span class="op" id="6265625">)</span>&nbsp;<span class="ident" id="6265627">Close</span><span class="op" id="6265632">(</span><span class="op" id="6265633">)</span>&nbsp;<span class="builtintype" id="6265635">error</span>&nbsp;<span class="op" id="6265641">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265644">var</span>&nbsp;<span class="ident" id="6265648">err</span>&nbsp;<span class="builtintype" id="6265652">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265659">if</span>&nbsp;<span class="ident" id="6265662">ff</span><span class="op" id="6265664">.</span><span class="ident" id="6265665">closer</span>&nbsp;<span class="op" id="6265672">!=</span>&nbsp;<span class="ident" id="6265675">nil</span>&nbsp;<span class="op" id="6265679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6265683">err</span>&nbsp;<span class="op" id="6265687">=</span>&nbsp;<span class="ident" id="6265689">ff</span><span class="op" id="6265691">.</span><span class="ident" id="6265692">closer</span><span class="op" id="6265698">.</span><span class="ident" id="6265699">Close</span><span class="op" id="6265704">(</span><span class="op" id="6265705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6265709">ff</span><span class="op" id="6265711">.</span><span class="ident" id="6265712">closer</span>&nbsp;<span class="op" id="6265719">=</span>&nbsp;<span class="ident" id="6265721">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6265726">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6265729">return</span>&nbsp;<span class="ident" id="6265736">err</span><br>
<span class="lineno"></span><span class="op" id="6265740">}</span>
</div>
</body>
</html>
