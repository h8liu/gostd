<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7717112">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7717167">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7717221">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7717272">package</span>&nbsp;<span class="ident" id="7717280">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7717285">import</span>&nbsp;<span class="op" id="7717292">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7717295">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7717301">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7717312">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7717323">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7717334">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7717341">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="7717344">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7717389">func</span>&nbsp;<span class="ident" id="7717394">TestUnmarshalFeed</span><span class="op" id="7717411">(</span><span class="ident" id="7717412">t</span>&nbsp;<span class="op" id="7717414">*</span><span class="ident" id="7717415">testing</span><span class="op" id="7717422">.</span><span class="ident" id="7717423">T</span><span class="op" id="7717424">)</span>&nbsp;<span class="op" id="7717426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7717429">var</span>&nbsp;<span class="ident" id="7717433">f</span>&nbsp;<span class="ident" id="7717435">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7717441">if</span>&nbsp;<span class="ident" id="7717444">err</span>&nbsp;<span class="op" id="7717448">:=</span>&nbsp;<span class="ident" id="7717451">Unmarshal</span><span class="op" id="7717460">(</span><span class="op" id="7717461">[</span><span class="op" id="7717462">]</span><span class="builtintype" id="7717463">byte</span><span class="op" id="7717467">(</span><span class="ident" id="7717468">atomFeedString</span><span class="op" id="7717482">)</span><span class="op" id="7717483">,</span>&nbsp;<span class="op" id="7717485">&amp;</span><span class="ident" id="7717486">f</span><span class="op" id="7717487">)</span><span class="op" id="7717488">;</span>&nbsp;<span class="ident" id="7717490">err</span>&nbsp;<span class="op" id="7717494">!=</span>&nbsp;<span class="ident" id="7717497">nil</span>&nbsp;<span class="op" id="7717501">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7717505">t</span><span class="op" id="7717506">.</span><span class="ident" id="7717507">Fatalf</span><span class="op" id="7717513">(</span><span class="string" id="7717514">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7717529">,</span>&nbsp;<span class="ident" id="7717531">err</span><span class="op" id="7717534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7717537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7717540">if</span>&nbsp;<span class="op" id="7717543">!</span><span class="ident" id="7717544">reflect</span><span class="op" id="7717551">.</span><span class="ident" id="7717552">DeepEqual</span><span class="op" id="7717561">(</span><span class="ident" id="7717562">f</span><span class="op" id="7717563">,</span>&nbsp;<span class="ident" id="7717565">atomFeed</span><span class="op" id="7717573">)</span>&nbsp;<span class="op" id="7717575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7717579">t</span><span class="op" id="7717580">.</span><span class="ident" id="7717581">Fatalf</span><span class="op" id="7717587">(</span><span class="string" id="7717588">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7717608">,</span>&nbsp;<span class="ident" id="7717610">f</span><span class="op" id="7717611">,</span>&nbsp;<span class="ident" id="7717613">atomFeed</span><span class="op" id="7717621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7717624">}</span><br>
<span class="lineno">25</span><span class="op" id="7717626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7717629">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="7717680">const</span>&nbsp;<span class="ident" id="7717686">atomFeedString</span>&nbsp;<span class="op" id="7717701">=</span>&nbsp;<span class="string" id="7717703">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7720692">type</span>&nbsp;<span class="ident" id="7720697">Feed</span>&nbsp;<span class="keyword" id="7720702">struct</span>&nbsp;<span class="op" id="7720709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7720712">XMLName</span>&nbsp;<span class="ident" id="7720720">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7720730">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7720772">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7720780">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7720790">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7720805">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7720813">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7720823">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7720835">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7720843">[</span><span class="op" id="7720844">]</span><span class="ident" id="7720845">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7720853">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7720867">Updated</span>&nbsp;<span class="ident" id="7720875">time</span><span class="op" id="7720879">.</span><span class="ident" id="7720880">Time</span>&nbsp;<span class="string" id="7720885">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7720907">Author</span>&nbsp;&nbsp;<span class="ident" id="7720915">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7720925">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7720941">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7720949">[</span><span class="op" id="7720950">]</span><span class="ident" id="7720951">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7720959">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7720973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7720976">type</span>&nbsp;<span class="ident" id="7720981">Entry</span>&nbsp;<span class="keyword" id="7720987">struct</span>&nbsp;<span class="op" id="7720994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7720997">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7721005">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7721015">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721030">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7721038">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7721048">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721060">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7721068">[</span><span class="op" id="7721069">]</span><span class="ident" id="7721070">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7721078">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721092">Updated</span>&nbsp;<span class="ident" id="7721100">time</span><span class="op" id="7721104">.</span><span class="ident" id="7721105">Time</span>&nbsp;<span class="string" id="7721110">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721127">Author</span>&nbsp;&nbsp;<span class="ident" id="7721135">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7721145">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721161">Summary</span>&nbsp;<span class="ident" id="7721169">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7721179">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="7721195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7721198">type</span>&nbsp;<span class="ident" id="7721203">Link</span>&nbsp;<span class="keyword" id="7721208">struct</span>&nbsp;<span class="op" id="7721215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721218">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="7721223">string</span>&nbsp;<span class="string" id="7721230">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721258">Href</span>&nbsp;<span class="builtintype" id="7721263">string</span>&nbsp;<span class="string" id="7721270">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="7721288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7721291">type</span>&nbsp;<span class="ident" id="7721296">Person</span>&nbsp;<span class="keyword" id="7721303">struct</span>&nbsp;<span class="op" id="7721310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721313">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7721322">string</span>&nbsp;<span class="string" id="7721329">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721343">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7721352">string</span>&nbsp;<span class="string" id="7721359">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721372">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7721381">string</span>&nbsp;<span class="string" id="7721388">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721403">InnerXML</span>&nbsp;<span class="builtintype" id="7721412">string</span>&nbsp;<span class="string" id="7721419">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7721437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7721440">type</span>&nbsp;<span class="ident" id="7721445">Text</span>&nbsp;<span class="keyword" id="7721450">struct</span>&nbsp;<span class="op" id="7721457">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721460">Type</span>&nbsp;<span class="builtintype" id="7721465">string</span>&nbsp;<span class="string" id="7721472">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721501">Body</span>&nbsp;<span class="builtintype" id="7721506">string</span>&nbsp;<span class="string" id="7721513">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7721531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7721534">var</span>&nbsp;<span class="ident" id="7721538">atomFeed</span>&nbsp;<span class="op" id="7721547">=</span>&nbsp;<span class="ident" id="7721549">Feed</span><span class="op" id="7721553">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721556">XMLName</span><span class="op" id="7721563">:</span>&nbsp;<span class="ident" id="7721565">Name</span><span class="op" id="7721569">{</span><span class="string" id="7721570">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="7721599">,</span>&nbsp;<span class="string" id="7721601">&#34;feed&#34;</span><span class="op" id="7721607">}</span><span class="op" id="7721608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721611">Title</span><span class="op" id="7721616">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7721620">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="7721645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721648">Link</span><span class="op" id="7721652">:</span>&nbsp;<span class="op" id="7721654">[</span><span class="op" id="7721655">]</span><span class="ident" id="7721656">Link</span><span class="op" id="7721660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7721664">{</span><span class="ident" id="7721665">Rel</span><span class="op" id="7721668">:</span>&nbsp;<span class="string" id="7721670">&#34;alternate&#34;</span><span class="op" id="7721681">,</span>&nbsp;<span class="ident" id="7721683">Href</span><span class="op" id="7721687">:</span>&nbsp;<span class="string" id="7721689">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7721721">}</span><span class="op" id="7721722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7721726">{</span><span class="ident" id="7721727">Rel</span><span class="op" id="7721730">:</span>&nbsp;<span class="string" id="7721732">&#34;self&#34;</span><span class="op" id="7721738">,</span>&nbsp;<span class="ident" id="7721740">Href</span><span class="op" id="7721744">:</span>&nbsp;<span class="string" id="7721746">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="7721790">}</span><span class="op" id="7721791">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7721794">}</span><span class="op" id="7721795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721798">Id</span><span class="op" id="7721800">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7721807">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7721839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721842">Updated</span><span class="op" id="7721849">:</span>&nbsp;<span class="ident" id="7721851">ParseTime</span><span class="op" id="7721860">(</span><span class="string" id="7721861">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7721888">)</span><span class="op" id="7721889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721892">Author</span><span class="op" id="7721898">:</span>&nbsp;<span class="ident" id="7721900">Person</span><span class="op" id="7721906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721910">Name</span><span class="op" id="7721914">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7721920">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="7721932">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721936">InnerXML</span><span class="op" id="7721944">:</span>&nbsp;<span class="string" id="7721946">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="7721977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7721980">}</span><span class="op" id="7721981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7721984">Entry</span><span class="op" id="7721989">:</span>&nbsp;<span class="op" id="7721991">[</span><span class="op" id="7721992">]</span><span class="ident" id="7721993">Entry</span><span class="op" id="7721998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7722002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722007">Title</span><span class="op" id="7722012">:</span>&nbsp;<span class="string" id="7722014">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="7722054">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722059">Link</span><span class="op" id="7722063">:</span>&nbsp;<span class="op" id="7722065">[</span><span class="op" id="7722066">]</span><span class="ident" id="7722067">Link</span><span class="op" id="7722071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7722077">{</span><span class="ident" id="7722078">Rel</span><span class="op" id="7722081">:</span>&nbsp;<span class="string" id="7722083">&#34;alternate&#34;</span><span class="op" id="7722094">,</span>&nbsp;<span class="ident" id="7722096">Href</span><span class="op" id="7722100">:</span>&nbsp;<span class="string" id="7722102">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="7722140">}</span><span class="op" id="7722141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7722146">}</span><span class="op" id="7722147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722152">Updated</span><span class="op" id="7722159">:</span>&nbsp;<span class="ident" id="7722161">ParseTime</span><span class="op" id="7722170">(</span><span class="string" id="7722171">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7722198">)</span><span class="op" id="7722199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722204">Author</span><span class="op" id="7722210">:</span>&nbsp;<span class="ident" id="7722212">Person</span><span class="op" id="7722218">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722224">Name</span><span class="op" id="7722228">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7722234">&#34;email-address-removed&#34;</span><span class="op" id="7722257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722263">InnerXML</span><span class="op" id="7722271">:</span>&nbsp;<span class="string" id="7722273">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7722309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7722314">}</span><span class="op" id="7722315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722320">Id</span><span class="op" id="7722322">:</span>&nbsp;<span class="string" id="7722324">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="7722366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722371">Summary</span><span class="op" id="7722378">:</span>&nbsp;<span class="ident" id="7722380">Text</span><span class="op" id="7722384">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722390">Type</span><span class="op" id="7722394">:</span>&nbsp;<span class="string" id="7722396">&#34;html&#34;</span><span class="op" id="7722402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7722408">Body</span><span class="op" id="7722412">:</span>&nbsp;<span class="string" id="7722414">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="7723646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7723651">}</span><span class="op" id="7723652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7723656">}</span><span class="op" id="7723657">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7723661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7723666">Title</span><span class="op" id="7723671">:</span>&nbsp;<span class="string" id="7723673">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="7723707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7723712">Link</span><span class="op" id="7723716">:</span>&nbsp;<span class="op" id="7723718">[</span><span class="op" id="7723719">]</span><span class="ident" id="7723720">Link</span><span class="op" id="7723724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7723730">{</span><span class="ident" id="7723731">Rel</span><span class="op" id="7723734">:</span>&nbsp;<span class="string" id="7723736">&#34;alternate&#34;</span><span class="op" id="7723747">,</span>&nbsp;<span class="ident" id="7723749">Href</span><span class="op" id="7723753">:</span>&nbsp;<span class="string" id="7723755">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="7723793">}</span><span class="op" id="7723794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7723799">}</span><span class="op" id="7723800">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7723805">Updated</span><span class="op" id="7723812">:</span>&nbsp;<span class="ident" id="7723814">ParseTime</span><span class="op" id="7723823">(</span><span class="string" id="7723824">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="7723851">)</span><span class="op" id="7723852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7723857">Author</span><span class="op" id="7723863">:</span>&nbsp;<span class="ident" id="7723865">Person</span><span class="op" id="7723871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7723877">Name</span><span class="op" id="7723881">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7723887">&#34;email-address-removed&#34;</span><span class="op" id="7723910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7723916">InnerXML</span><span class="op" id="7723924">:</span>&nbsp;<span class="string" id="7723926">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7723962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7723967">}</span><span class="op" id="7723968">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7723973">Id</span><span class="op" id="7723975">:</span>&nbsp;<span class="string" id="7723977">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="7724019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7724024">Summary</span><span class="op" id="7724031">:</span>&nbsp;<span class="ident" id="7724033">Text</span><span class="op" id="7724037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7724043">Type</span><span class="op" id="7724047">:</span>&nbsp;<span class="string" id="7724049">&#34;html&#34;</span><span class="op" id="7724055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7724061">Body</span><span class="op" id="7724065">:</span>&nbsp;<span class="string" id="7724067">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="7724745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7724750">}</span><span class="op" id="7724751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7724755">}</span><span class="op" id="7724756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7724759">}</span><span class="op" id="7724760">,</span><br>
<span class="lineno">215</span><span class="op" id="7724762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7724765">const</span>&nbsp;<span class="ident" id="7724771">pathTestString</span>&nbsp;<span class="op" id="7724786">=</span>&nbsp;<span class="string" id="7724788">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7725150">type</span>&nbsp;<span class="ident" id="7725155">PathTestItem</span>&nbsp;<span class="keyword" id="7725168">struct</span>&nbsp;<span class="op" id="7725175">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725178">Value</span>&nbsp;<span class="builtintype" id="7725184">string</span><br>
<span class="lineno"></span><span class="op" id="7725191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7725194">type</span>&nbsp;<span class="ident" id="7725199">PathTestA</span>&nbsp;<span class="keyword" id="7725209">struct</span>&nbsp;<span class="op" id="7725216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725219">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7725233">[</span><span class="op" id="7725234">]</span><span class="ident" id="7725235">PathTestItem</span>&nbsp;<span class="string" id="7725248">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725264">Before</span><span class="op" id="7725270">,</span>&nbsp;<span class="ident" id="7725272">After</span>&nbsp;<span class="builtintype" id="7725278">string</span><br>
<span class="lineno"></span><span class="op" id="7725285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7725288">type</span>&nbsp;<span class="ident" id="7725293">PathTestB</span>&nbsp;<span class="keyword" id="7725303">struct</span>&nbsp;<span class="op" id="7725310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725313">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7725327">[</span><span class="op" id="7725328">]</span><span class="ident" id="7725329">PathTestItem</span>&nbsp;<span class="string" id="7725342">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725363">Before</span><span class="op" id="7725369">,</span>&nbsp;<span class="ident" id="7725371">After</span>&nbsp;<span class="builtintype" id="7725377">string</span><br>
<span class="lineno"></span><span class="op" id="7725384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7725387">type</span>&nbsp;<span class="ident" id="7725392">PathTestC</span>&nbsp;<span class="keyword" id="7725402">struct</span>&nbsp;<span class="op" id="7725409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725412">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7725426">[</span><span class="op" id="7725427">]</span><span class="builtintype" id="7725428">string</span>&nbsp;<span class="string" id="7725435">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725462">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7725476">[</span><span class="op" id="7725477">]</span><span class="builtintype" id="7725478">string</span>&nbsp;<span class="string" id="7725485">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725512">Before</span><span class="op" id="7725518">,</span>&nbsp;<span class="ident" id="7725520">After</span>&nbsp;<span class="builtintype" id="7725526">string</span><br>
<span class="lineno"></span><span class="op" id="7725533">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7725536">type</span>&nbsp;<span class="ident" id="7725541">PathTestSet</span>&nbsp;<span class="keyword" id="7725553">struct</span>&nbsp;<span class="op" id="7725560">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725563">Item1</span>&nbsp;<span class="op" id="7725569">[</span><span class="op" id="7725570">]</span><span class="ident" id="7725571">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="7725584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7725587">type</span>&nbsp;<span class="ident" id="7725592">PathTestD</span>&nbsp;<span class="keyword" id="7725602">struct</span>&nbsp;<span class="op" id="7725609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725612">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7725626">PathTestSet</span>&nbsp;<span class="string" id="7725638">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725653">Before</span><span class="op" id="7725659">,</span>&nbsp;<span class="ident" id="7725661">After</span>&nbsp;<span class="builtintype" id="7725667">string</span><br>
<span class="lineno"></span><span class="op" id="7725674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7725677">type</span>&nbsp;<span class="ident" id="7725682">PathTestE</span>&nbsp;<span class="keyword" id="7725692">struct</span>&nbsp;<span class="op" id="7725699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725702">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7725716">string</span>&nbsp;<span class="string" id="7725723">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7725746">Before</span><span class="op" id="7725752">,</span>&nbsp;<span class="ident" id="7725754">After</span>&nbsp;<span class="builtintype" id="7725760">string</span><br>
<span class="lineno"></span><span class="op" id="7725767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7725770">var</span>&nbsp;<span class="ident" id="7725774">pathTests</span>&nbsp;<span class="op" id="7725784">=</span>&nbsp;<span class="op" id="7725786">[</span><span class="op" id="7725787">]</span><span class="keyword" id="7725788">interface</span><span class="op" id="7725797">{</span><span class="op" id="7725798">}</span><span class="op" id="7725799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7725802">&amp;</span><span class="ident" id="7725803">PathTestA</span><span class="op" id="7725812">{</span><span class="ident" id="7725813">Items</span><span class="op" id="7725818">:</span>&nbsp;<span class="op" id="7725820">[</span><span class="op" id="7725821">]</span><span class="ident" id="7725822">PathTestItem</span><span class="op" id="7725834">{</span><span class="op" id="7725835">{</span><span class="string" id="7725836">&#34;A&#34;</span><span class="op" id="7725839">}</span><span class="op" id="7725840">,</span>&nbsp;<span class="op" id="7725842">{</span><span class="string" id="7725843">&#34;D&#34;</span><span class="op" id="7725846">}</span><span class="op" id="7725847">}</span><span class="op" id="7725848">,</span>&nbsp;<span class="ident" id="7725850">Before</span><span class="op" id="7725856">:</span>&nbsp;<span class="string" id="7725858">&#34;1&#34;</span><span class="op" id="7725861">,</span>&nbsp;<span class="ident" id="7725863">After</span><span class="op" id="7725868">:</span>&nbsp;<span class="string" id="7725870">&#34;2&#34;</span><span class="op" id="7725873">}</span><span class="op" id="7725874">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7725877">&amp;</span><span class="ident" id="7725878">PathTestB</span><span class="op" id="7725887">{</span><span class="ident" id="7725888">Other</span><span class="op" id="7725893">:</span>&nbsp;<span class="op" id="7725895">[</span><span class="op" id="7725896">]</span><span class="ident" id="7725897">PathTestItem</span><span class="op" id="7725909">{</span><span class="op" id="7725910">{</span><span class="string" id="7725911">&#34;A&#34;</span><span class="op" id="7725914">}</span><span class="op" id="7725915">,</span>&nbsp;<span class="op" id="7725917">{</span><span class="string" id="7725918">&#34;D&#34;</span><span class="op" id="7725921">}</span><span class="op" id="7725922">}</span><span class="op" id="7725923">,</span>&nbsp;<span class="ident" id="7725925">Before</span><span class="op" id="7725931">:</span>&nbsp;<span class="string" id="7725933">&#34;1&#34;</span><span class="op" id="7725936">,</span>&nbsp;<span class="ident" id="7725938">After</span><span class="op" id="7725943">:</span>&nbsp;<span class="string" id="7725945">&#34;2&#34;</span><span class="op" id="7725948">}</span><span class="op" id="7725949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7725952">&amp;</span><span class="ident" id="7725953">PathTestC</span><span class="op" id="7725962">{</span><span class="ident" id="7725963">Values1</span><span class="op" id="7725970">:</span>&nbsp;<span class="op" id="7725972">[</span><span class="op" id="7725973">]</span><span class="builtintype" id="7725974">string</span><span class="op" id="7725980">{</span><span class="string" id="7725981">&#34;A&#34;</span><span class="op" id="7725984">,</span>&nbsp;<span class="string" id="7725986">&#34;C&#34;</span><span class="op" id="7725989">,</span>&nbsp;<span class="string" id="7725991">&#34;D&#34;</span><span class="op" id="7725994">}</span><span class="op" id="7725995">,</span>&nbsp;<span class="ident" id="7725997">Values2</span><span class="op" id="7726004">:</span>&nbsp;<span class="op" id="7726006">[</span><span class="op" id="7726007">]</span><span class="builtintype" id="7726008">string</span><span class="op" id="7726014">{</span><span class="string" id="7726015">&#34;B&#34;</span><span class="op" id="7726018">}</span><span class="op" id="7726019">,</span>&nbsp;<span class="ident" id="7726021">Before</span><span class="op" id="7726027">:</span>&nbsp;<span class="string" id="7726029">&#34;1&#34;</span><span class="op" id="7726032">,</span>&nbsp;<span class="ident" id="7726034">After</span><span class="op" id="7726039">:</span>&nbsp;<span class="string" id="7726041">&#34;2&#34;</span><span class="op" id="7726044">}</span><span class="op" id="7726045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7726048">&amp;</span><span class="ident" id="7726049">PathTestD</span><span class="op" id="7726058">{</span><span class="ident" id="7726059">Other</span><span class="op" id="7726064">:</span>&nbsp;<span class="ident" id="7726066">PathTestSet</span><span class="op" id="7726077">{</span><span class="ident" id="7726078">Item1</span><span class="op" id="7726083">:</span>&nbsp;<span class="op" id="7726085">[</span><span class="op" id="7726086">]</span><span class="ident" id="7726087">PathTestItem</span><span class="op" id="7726099">{</span><span class="op" id="7726100">{</span><span class="string" id="7726101">&#34;A&#34;</span><span class="op" id="7726104">}</span><span class="op" id="7726105">,</span>&nbsp;<span class="op" id="7726107">{</span><span class="string" id="7726108">&#34;D&#34;</span><span class="op" id="7726111">}</span><span class="op" id="7726112">}</span><span class="op" id="7726113">}</span><span class="op" id="7726114">,</span>&nbsp;<span class="ident" id="7726116">Before</span><span class="op" id="7726122">:</span>&nbsp;<span class="string" id="7726124">&#34;1&#34;</span><span class="op" id="7726127">,</span>&nbsp;<span class="ident" id="7726129">After</span><span class="op" id="7726134">:</span>&nbsp;<span class="string" id="7726136">&#34;2&#34;</span><span class="op" id="7726139">}</span><span class="op" id="7726140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7726143">&amp;</span><span class="ident" id="7726144">PathTestE</span><span class="op" id="7726153">{</span><span class="ident" id="7726154">Underline</span><span class="op" id="7726163">:</span>&nbsp;<span class="string" id="7726165">&#34;E&#34;</span><span class="op" id="7726168">,</span>&nbsp;<span class="ident" id="7726170">Before</span><span class="op" id="7726176">:</span>&nbsp;<span class="string" id="7726178">&#34;1&#34;</span><span class="op" id="7726181">,</span>&nbsp;<span class="ident" id="7726183">After</span><span class="op" id="7726188">:</span>&nbsp;<span class="string" id="7726190">&#34;2&#34;</span><span class="op" id="7726193">}</span><span class="op" id="7726194">,</span><br>
<span class="lineno"></span><span class="op" id="7726196">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7726199">func</span>&nbsp;<span class="ident" id="7726204">TestUnmarshalPaths</span><span class="op" id="7726222">(</span><span class="ident" id="7726223">t</span>&nbsp;<span class="op" id="7726225">*</span><span class="ident" id="7726226">testing</span><span class="op" id="7726233">.</span><span class="ident" id="7726234">T</span><span class="op" id="7726235">)</span>&nbsp;<span class="op" id="7726237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7726240">for</span>&nbsp;<span class="ident" id="7726244">_</span><span class="op" id="7726245">,</span>&nbsp;<span class="ident" id="7726247">pt</span>&nbsp;<span class="op" id="7726250">:=</span>&nbsp;<span class="keyword" id="7726253">range</span>&nbsp;<span class="ident" id="7726259">pathTests</span>&nbsp;<span class="op" id="7726269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726273">v</span>&nbsp;<span class="op" id="7726275">:=</span>&nbsp;<span class="ident" id="7726278">reflect</span><span class="op" id="7726285">.</span><span class="ident" id="7726286">New</span><span class="op" id="7726289">(</span><span class="ident" id="7726290">reflect</span><span class="op" id="7726297">.</span><span class="ident" id="7726298">TypeOf</span><span class="op" id="7726304">(</span><span class="ident" id="7726305">pt</span><span class="op" id="7726307">)</span><span class="op" id="7726308">.</span><span class="ident" id="7726309">Elem</span><span class="op" id="7726313">(</span><span class="op" id="7726314">)</span><span class="op" id="7726315">)</span><span class="op" id="7726316">.</span><span class="ident" id="7726317">Interface</span><span class="op" id="7726326">(</span><span class="op" id="7726327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7726331">if</span>&nbsp;<span class="ident" id="7726334">err</span>&nbsp;<span class="op" id="7726338">:=</span>&nbsp;<span class="ident" id="7726341">Unmarshal</span><span class="op" id="7726350">(</span><span class="op" id="7726351">[</span><span class="op" id="7726352">]</span><span class="builtintype" id="7726353">byte</span><span class="op" id="7726357">(</span><span class="ident" id="7726358">pathTestString</span><span class="op" id="7726372">)</span><span class="op" id="7726373">,</span>&nbsp;<span class="ident" id="7726375">v</span><span class="op" id="7726376">)</span><span class="op" id="7726377">;</span>&nbsp;<span class="ident" id="7726379">err</span>&nbsp;<span class="op" id="7726383">!=</span>&nbsp;<span class="ident" id="7726386">nil</span>&nbsp;<span class="op" id="7726390">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726395">t</span><span class="op" id="7726396">.</span><span class="ident" id="7726397">Fatalf</span><span class="op" id="7726403">(</span><span class="string" id="7726404">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7726419">,</span>&nbsp;<span class="ident" id="7726421">err</span><span class="op" id="7726424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7726428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7726432">if</span>&nbsp;<span class="op" id="7726435">!</span><span class="ident" id="7726436">reflect</span><span class="op" id="7726443">.</span><span class="ident" id="7726444">DeepEqual</span><span class="op" id="7726453">(</span><span class="ident" id="7726454">v</span><span class="op" id="7726455">,</span>&nbsp;<span class="ident" id="7726457">pt</span><span class="op" id="7726459">)</span>&nbsp;<span class="op" id="7726461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726466">t</span><span class="op" id="7726467">.</span><span class="ident" id="7726468">Fatalf</span><span class="op" id="7726474">(</span><span class="string" id="7726475">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7726495">,</span>&nbsp;<span class="ident" id="7726497">v</span><span class="op" id="7726498">,</span>&nbsp;<span class="ident" id="7726500">pt</span><span class="op" id="7726502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7726506">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7726509">}</span><br>
<span class="lineno"></span><span class="op" id="7726511">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7726514">type</span>&nbsp;<span class="ident" id="7726519">BadPathTestA</span>&nbsp;<span class="keyword" id="7726532">struct</span>&nbsp;<span class="op" id="7726539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726542">First</span>&nbsp;&nbsp;<span class="builtintype" id="7726549">string</span>&nbsp;<span class="string" id="7726556">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726577">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7726584">string</span>&nbsp;<span class="string" id="7726591">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726612">Second</span>&nbsp;<span class="builtintype" id="7726619">string</span>&nbsp;<span class="string" id="7726626">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7726640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7726643">type</span>&nbsp;<span class="ident" id="7726648">BadPathTestB</span>&nbsp;<span class="keyword" id="7726661">struct</span>&nbsp;<span class="op" id="7726668">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726671">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7726678">string</span>&nbsp;<span class="string" id="7726685">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726712">First</span>&nbsp;&nbsp;<span class="builtintype" id="7726719">string</span>&nbsp;<span class="string" id="7726726">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726747">Second</span>&nbsp;<span class="builtintype" id="7726754">string</span>&nbsp;<span class="string" id="7726761">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7726787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="7726790">type</span>&nbsp;<span class="ident" id="7726795">BadPathTestC</span>&nbsp;<span class="keyword" id="7726808">struct</span>&nbsp;<span class="op" id="7726815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726818">First</span>&nbsp;&nbsp;<span class="builtintype" id="7726825">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726833">Second</span>&nbsp;<span class="builtintype" id="7726840">string</span>&nbsp;<span class="string" id="7726847">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7726861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="7726864">type</span>&nbsp;<span class="ident" id="7726869">BadPathTestD</span>&nbsp;<span class="keyword" id="7726882">struct</span>&nbsp;<span class="op" id="7726889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726892">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726910">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="7726927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7726930">type</span>&nbsp;<span class="ident" id="7726935">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="7726952">struct</span>&nbsp;<span class="op" id="7726959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7726962">First</span>&nbsp;<span class="builtintype" id="7726968">string</span><br>
<span class="lineno"></span><span class="op" id="7726975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7726978">type</span>&nbsp;<span class="ident" id="7726983">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="7727000">struct</span>&nbsp;<span class="op" id="7727007">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727010">Second</span>&nbsp;<span class="builtintype" id="7727017">string</span>&nbsp;<span class="string" id="7727024">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7727038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7727041">var</span>&nbsp;<span class="ident" id="7727045">badPathTests</span>&nbsp;<span class="op" id="7727058">=</span>&nbsp;<span class="op" id="7727060">[</span><span class="op" id="7727061">]</span><span class="keyword" id="7727062">struct</span>&nbsp;<span class="op" id="7727069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727072">v</span><span class="op" id="7727073">,</span>&nbsp;<span class="ident" id="7727075">e</span>&nbsp;<span class="keyword" id="7727077">interface</span><span class="op" id="7727086">{</span><span class="op" id="7727087">}</span><br>
<span class="lineno">325</span><span class="op" id="7727089">}</span><span class="op" id="7727090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727093">{</span><span class="op" id="7727094">&amp;</span><span class="ident" id="7727095">BadPathTestA</span><span class="op" id="7727107">{</span><span class="op" id="7727108">}</span><span class="op" id="7727109">,</span>&nbsp;<span class="op" id="7727111">&amp;</span><span class="ident" id="7727112">TagPathError</span><span class="op" id="7727124">{</span><span class="ident" id="7727125">reflect</span><span class="op" id="7727132">.</span><span class="ident" id="7727133">TypeOf</span><span class="op" id="7727139">(</span><span class="ident" id="7727140">BadPathTestA</span><span class="op" id="7727152">{</span><span class="op" id="7727153">}</span><span class="op" id="7727154">)</span><span class="op" id="7727155">,</span>&nbsp;<span class="string" id="7727157">&#34;First&#34;</span><span class="op" id="7727164">,</span>&nbsp;<span class="string" id="7727166">&#34;items&gt;item1&#34;</span><span class="op" id="7727179">,</span>&nbsp;<span class="string" id="7727181">&#34;Second&#34;</span><span class="op" id="7727189">,</span>&nbsp;<span class="string" id="7727191">&#34;items&#34;</span><span class="op" id="7727198">}</span><span class="op" id="7727199">}</span><span class="op" id="7727200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727203">{</span><span class="op" id="7727204">&amp;</span><span class="ident" id="7727205">BadPathTestB</span><span class="op" id="7727217">{</span><span class="op" id="7727218">}</span><span class="op" id="7727219">,</span>&nbsp;<span class="op" id="7727221">&amp;</span><span class="ident" id="7727222">TagPathError</span><span class="op" id="7727234">{</span><span class="ident" id="7727235">reflect</span><span class="op" id="7727242">.</span><span class="ident" id="7727243">TypeOf</span><span class="op" id="7727249">(</span><span class="ident" id="7727250">BadPathTestB</span><span class="op" id="7727262">{</span><span class="op" id="7727263">}</span><span class="op" id="7727264">)</span><span class="op" id="7727265">,</span>&nbsp;<span class="string" id="7727267">&#34;First&#34;</span><span class="op" id="7727274">,</span>&nbsp;<span class="string" id="7727276">&#34;items&gt;item1&#34;</span><span class="op" id="7727289">,</span>&nbsp;<span class="string" id="7727291">&#34;Second&#34;</span><span class="op" id="7727299">,</span>&nbsp;<span class="string" id="7727301">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="7727320">}</span><span class="op" id="7727321">}</span><span class="op" id="7727322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727325">{</span><span class="op" id="7727326">&amp;</span><span class="ident" id="7727327">BadPathTestC</span><span class="op" id="7727339">{</span><span class="op" id="7727340">}</span><span class="op" id="7727341">,</span>&nbsp;<span class="op" id="7727343">&amp;</span><span class="ident" id="7727344">TagPathError</span><span class="op" id="7727356">{</span><span class="ident" id="7727357">reflect</span><span class="op" id="7727364">.</span><span class="ident" id="7727365">TypeOf</span><span class="op" id="7727371">(</span><span class="ident" id="7727372">BadPathTestC</span><span class="op" id="7727384">{</span><span class="op" id="7727385">}</span><span class="op" id="7727386">)</span><span class="op" id="7727387">,</span>&nbsp;<span class="string" id="7727389">&#34;First&#34;</span><span class="op" id="7727396">,</span>&nbsp;<span class="string" id="7727398">&#34;&#34;</span><span class="op" id="7727400">,</span>&nbsp;<span class="string" id="7727402">&#34;Second&#34;</span><span class="op" id="7727410">,</span>&nbsp;<span class="string" id="7727412">&#34;First&#34;</span><span class="op" id="7727419">}</span><span class="op" id="7727420">}</span><span class="op" id="7727421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727424">{</span><span class="op" id="7727425">&amp;</span><span class="ident" id="7727426">BadPathTestD</span><span class="op" id="7727438">{</span><span class="op" id="7727439">}</span><span class="op" id="7727440">,</span>&nbsp;<span class="op" id="7727442">&amp;</span><span class="ident" id="7727443">TagPathError</span><span class="op" id="7727455">{</span><span class="ident" id="7727456">reflect</span><span class="op" id="7727463">.</span><span class="ident" id="7727464">TypeOf</span><span class="op" id="7727470">(</span><span class="ident" id="7727471">BadPathTestD</span><span class="op" id="7727483">{</span><span class="op" id="7727484">}</span><span class="op" id="7727485">)</span><span class="op" id="7727486">,</span>&nbsp;<span class="string" id="7727488">&#34;First&#34;</span><span class="op" id="7727495">,</span>&nbsp;<span class="string" id="7727497">&#34;&#34;</span><span class="op" id="7727499">,</span>&nbsp;<span class="string" id="7727501">&#34;Second&#34;</span><span class="op" id="7727509">,</span>&nbsp;<span class="string" id="7727511">&#34;First&#34;</span><span class="op" id="7727518">}</span><span class="op" id="7727519">}</span><span class="op" id="7727520">,</span><br>
<span class="lineno">330</span><span class="op" id="7727522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7727525">func</span>&nbsp;<span class="ident" id="7727530">TestUnmarshalBadPaths</span><span class="op" id="7727551">(</span><span class="ident" id="7727552">t</span>&nbsp;<span class="op" id="7727554">*</span><span class="ident" id="7727555">testing</span><span class="op" id="7727562">.</span><span class="ident" id="7727563">T</span><span class="op" id="7727564">)</span>&nbsp;<span class="op" id="7727566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727569">for</span>&nbsp;<span class="ident" id="7727573">_</span><span class="op" id="7727574">,</span>&nbsp;<span class="ident" id="7727576">tt</span>&nbsp;<span class="op" id="7727579">:=</span>&nbsp;<span class="keyword" id="7727582">range</span>&nbsp;<span class="ident" id="7727588">badPathTests</span>&nbsp;<span class="op" id="7727601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727605">err</span>&nbsp;<span class="op" id="7727609">:=</span>&nbsp;<span class="ident" id="7727612">Unmarshal</span><span class="op" id="7727621">(</span><span class="op" id="7727622">[</span><span class="op" id="7727623">]</span><span class="builtintype" id="7727624">byte</span><span class="op" id="7727628">(</span><span class="ident" id="7727629">pathTestString</span><span class="op" id="7727643">)</span><span class="op" id="7727644">,</span>&nbsp;<span class="ident" id="7727646">tt</span><span class="op" id="7727648">.</span><span class="ident" id="7727649">v</span><span class="op" id="7727650">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7727654">if</span>&nbsp;<span class="op" id="7727657">!</span><span class="ident" id="7727658">reflect</span><span class="op" id="7727665">.</span><span class="ident" id="7727666">DeepEqual</span><span class="op" id="7727675">(</span><span class="ident" id="7727676">err</span><span class="op" id="7727679">,</span>&nbsp;<span class="ident" id="7727681">tt</span><span class="op" id="7727683">.</span><span class="ident" id="7727684">e</span><span class="op" id="7727685">)</span>&nbsp;<span class="op" id="7727687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727692">t</span><span class="op" id="7727693">.</span><span class="ident" id="7727694">Fatalf</span><span class="op" id="7727700">(</span><span class="string" id="7727701">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="7727764">,</span>&nbsp;<span class="ident" id="7727766">tt</span><span class="op" id="7727768">.</span><span class="ident" id="7727769">v</span><span class="op" id="7727770">,</span>&nbsp;<span class="ident" id="7727772">err</span><span class="op" id="7727775">,</span>&nbsp;<span class="ident" id="7727777">tt</span><span class="op" id="7727779">.</span><span class="ident" id="7727780">e</span><span class="op" id="7727781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7727788">}</span><br>
<span class="lineno"></span><span class="op" id="7727790">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7727793">const</span>&nbsp;<span class="ident" id="7727799">OK</span>&nbsp;<span class="op" id="7727802">=</span>&nbsp;<span class="string" id="7727804">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7727809">const</span>&nbsp;<span class="ident" id="7727815">withoutNameTypeData</span>&nbsp;<span class="op" id="7727835">=</span>&nbsp;<span class="string" id="7727837">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="7727899">type</span>&nbsp;<span class="ident" id="7727904">TestThree</span>&nbsp;<span class="keyword" id="7727914">struct</span>&nbsp;<span class="op" id="7727921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727924">XMLName</span>&nbsp;<span class="ident" id="7727932">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7727939">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7727954">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7727962">string</span>&nbsp;<span class="string" id="7727969">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7727983">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="7727986">func</span>&nbsp;<span class="ident" id="7727991">TestUnmarshalWithoutNameType</span><span class="op" id="7728019">(</span><span class="ident" id="7728020">t</span>&nbsp;<span class="op" id="7728022">*</span><span class="ident" id="7728023">testing</span><span class="op" id="7728030">.</span><span class="ident" id="7728031">T</span><span class="op" id="7728032">)</span>&nbsp;<span class="op" id="7728034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728037">var</span>&nbsp;<span class="ident" id="7728041">x</span>&nbsp;<span class="ident" id="7728043">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728054">if</span>&nbsp;<span class="ident" id="7728057">err</span>&nbsp;<span class="op" id="7728061">:=</span>&nbsp;<span class="ident" id="7728064">Unmarshal</span><span class="op" id="7728073">(</span><span class="op" id="7728074">[</span><span class="op" id="7728075">]</span><span class="builtintype" id="7728076">byte</span><span class="op" id="7728080">(</span><span class="ident" id="7728081">withoutNameTypeData</span><span class="op" id="7728100">)</span><span class="op" id="7728101">,</span>&nbsp;<span class="op" id="7728103">&amp;</span><span class="ident" id="7728104">x</span><span class="op" id="7728105">)</span><span class="op" id="7728106">;</span>&nbsp;<span class="ident" id="7728108">err</span>&nbsp;<span class="op" id="7728112">!=</span>&nbsp;<span class="ident" id="7728115">nil</span>&nbsp;<span class="op" id="7728119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728123">t</span><span class="op" id="7728124">.</span><span class="ident" id="7728125">Fatalf</span><span class="op" id="7728131">(</span><span class="string" id="7728132">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7728147">,</span>&nbsp;<span class="ident" id="7728149">err</span><span class="op" id="7728152">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728158">if</span>&nbsp;<span class="ident" id="7728161">x</span><span class="op" id="7728162">.</span><span class="ident" id="7728163">Attr</span>&nbsp;<span class="op" id="7728168">!=</span>&nbsp;<span class="ident" id="7728171">OK</span>&nbsp;<span class="op" id="7728174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728178">t</span><span class="op" id="7728179">.</span><span class="ident" id="7728180">Fatalf</span><span class="op" id="7728186">(</span><span class="string" id="7728187">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="7728205">,</span>&nbsp;<span class="ident" id="7728207">x</span><span class="op" id="7728208">.</span><span class="ident" id="7728209">Attr</span><span class="op" id="7728213">,</span>&nbsp;<span class="ident" id="7728215">OK</span><span class="op" id="7728217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728220">}</span><br>
<span class="lineno"></span><span class="op" id="7728222">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="7728225">func</span>&nbsp;<span class="ident" id="7728230">TestUnmarshalAttr</span><span class="op" id="7728247">(</span><span class="ident" id="7728248">t</span>&nbsp;<span class="op" id="7728250">*</span><span class="ident" id="7728251">testing</span><span class="op" id="7728258">.</span><span class="ident" id="7728259">T</span><span class="op" id="7728260">)</span>&nbsp;<span class="op" id="7728262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728265">type</span>&nbsp;<span class="ident" id="7728270">ParamVal</span>&nbsp;<span class="keyword" id="7728279">struct</span>&nbsp;<span class="op" id="7728286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728290">Int</span>&nbsp;<span class="builtintype" id="7728294">int</span>&nbsp;<span class="string" id="7728298">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728316">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728320">type</span>&nbsp;<span class="ident" id="7728325">ParamPtr</span>&nbsp;<span class="keyword" id="7728334">struct</span>&nbsp;<span class="op" id="7728341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728345">Int</span>&nbsp;<span class="op" id="7728349">*</span><span class="builtintype" id="7728350">int</span>&nbsp;<span class="string" id="7728354">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728376">type</span>&nbsp;<span class="ident" id="7728381">ParamStringPtr</span>&nbsp;<span class="keyword" id="7728396">struct</span>&nbsp;<span class="op" id="7728403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728407">Int</span>&nbsp;<span class="op" id="7728411">*</span><span class="builtintype" id="7728412">string</span>&nbsp;<span class="string" id="7728419">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728441">x</span>&nbsp;<span class="op" id="7728443">:=</span>&nbsp;<span class="op" id="7728446">[</span><span class="op" id="7728447">]</span><span class="builtintype" id="7728448">byte</span><span class="op" id="7728452">(</span><span class="string" id="7728453">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="7728472">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728476">p1</span>&nbsp;<span class="op" id="7728479">:=</span>&nbsp;<span class="op" id="7728482">&amp;</span><span class="ident" id="7728483">ParamPtr</span><span class="op" id="7728491">{</span><span class="op" id="7728492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728495">if</span>&nbsp;<span class="ident" id="7728498">err</span>&nbsp;<span class="op" id="7728502">:=</span>&nbsp;<span class="ident" id="7728505">Unmarshal</span><span class="op" id="7728514">(</span><span class="ident" id="7728515">x</span><span class="op" id="7728516">,</span>&nbsp;<span class="ident" id="7728518">p1</span><span class="op" id="7728520">)</span><span class="op" id="7728521">;</span>&nbsp;<span class="ident" id="7728523">err</span>&nbsp;<span class="op" id="7728527">!=</span>&nbsp;<span class="ident" id="7728530">nil</span>&nbsp;<span class="op" id="7728534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728538">t</span><span class="op" id="7728539">.</span><span class="ident" id="7728540">Fatalf</span><span class="op" id="7728546">(</span><span class="string" id="7728547">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7728562">,</span>&nbsp;<span class="ident" id="7728564">err</span><span class="op" id="7728567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728570">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728573">if</span>&nbsp;<span class="ident" id="7728576">p1</span><span class="op" id="7728578">.</span><span class="ident" id="7728579">Int</span>&nbsp;<span class="op" id="7728583">==</span>&nbsp;<span class="ident" id="7728586">nil</span>&nbsp;<span class="op" id="7728590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728594">t</span><span class="op" id="7728595">.</span><span class="ident" id="7728596">Fatalf</span><span class="op" id="7728602">(</span><span class="string" id="7728603">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="7728638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728641">}</span>&nbsp;<span class="keyword" id="7728643">else</span>&nbsp;<span class="keyword" id="7728648">if</span>&nbsp;<span class="op" id="7728651">*</span><span class="ident" id="7728652">p1</span><span class="op" id="7728654">.</span><span class="ident" id="7728655">Int</span>&nbsp;<span class="op" id="7728659">!=</span>&nbsp;<span class="num" id="7728662">1</span>&nbsp;<span class="op" id="7728664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728668">t</span><span class="op" id="7728669">.</span><span class="ident" id="7728670">Fatalf</span><span class="op" id="7728676">(</span><span class="string" id="7728677">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7728726">,</span>&nbsp;<span class="ident" id="7728728">x</span><span class="op" id="7728729">,</span>&nbsp;<span class="ident" id="7728731">p1</span><span class="op" id="7728733">.</span><span class="ident" id="7728734">Int</span><span class="op" id="7728737">,</span>&nbsp;<span class="num" id="7728739">1</span><span class="op" id="7728740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728743">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728747">p2</span>&nbsp;<span class="op" id="7728750">:=</span>&nbsp;<span class="op" id="7728753">&amp;</span><span class="ident" id="7728754">ParamVal</span><span class="op" id="7728762">{</span><span class="op" id="7728763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728766">if</span>&nbsp;<span class="ident" id="7728769">err</span>&nbsp;<span class="op" id="7728773">:=</span>&nbsp;<span class="ident" id="7728776">Unmarshal</span><span class="op" id="7728785">(</span><span class="ident" id="7728786">x</span><span class="op" id="7728787">,</span>&nbsp;<span class="ident" id="7728789">p2</span><span class="op" id="7728791">)</span><span class="op" id="7728792">;</span>&nbsp;<span class="ident" id="7728794">err</span>&nbsp;<span class="op" id="7728798">!=</span>&nbsp;<span class="ident" id="7728801">nil</span>&nbsp;<span class="op" id="7728805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728809">t</span><span class="op" id="7728810">.</span><span class="ident" id="7728811">Fatalf</span><span class="op" id="7728817">(</span><span class="string" id="7728818">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7728833">,</span>&nbsp;<span class="ident" id="7728835">err</span><span class="op" id="7728838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728841">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728844">if</span>&nbsp;<span class="ident" id="7728847">p2</span><span class="op" id="7728849">.</span><span class="ident" id="7728850">Int</span>&nbsp;<span class="op" id="7728854">!=</span>&nbsp;<span class="num" id="7728857">1</span>&nbsp;<span class="op" id="7728859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728863">t</span><span class="op" id="7728864">.</span><span class="ident" id="7728865">Fatalf</span><span class="op" id="7728871">(</span><span class="string" id="7728872">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7728921">,</span>&nbsp;<span class="ident" id="7728923">x</span><span class="op" id="7728924">,</span>&nbsp;<span class="ident" id="7728926">p2</span><span class="op" id="7728928">.</span><span class="ident" id="7728929">Int</span><span class="op" id="7728932">,</span>&nbsp;<span class="num" id="7728934">1</span><span class="op" id="7728935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7728938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7728942">p3</span>&nbsp;<span class="op" id="7728945">:=</span>&nbsp;<span class="op" id="7728948">&amp;</span><span class="ident" id="7728949">ParamStringPtr</span><span class="op" id="7728963">{</span><span class="op" id="7728964">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7728967">if</span>&nbsp;<span class="ident" id="7728970">err</span>&nbsp;<span class="op" id="7728974">:=</span>&nbsp;<span class="ident" id="7728977">Unmarshal</span><span class="op" id="7728986">(</span><span class="ident" id="7728987">x</span><span class="op" id="7728988">,</span>&nbsp;<span class="ident" id="7728990">p3</span><span class="op" id="7728992">)</span><span class="op" id="7728993">;</span>&nbsp;<span class="ident" id="7728995">err</span>&nbsp;<span class="op" id="7728999">!=</span>&nbsp;<span class="ident" id="7729002">nil</span>&nbsp;<span class="op" id="7729006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729010">t</span><span class="op" id="7729011">.</span><span class="ident" id="7729012">Fatalf</span><span class="op" id="7729018">(</span><span class="string" id="7729019">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7729034">,</span>&nbsp;<span class="ident" id="7729036">err</span><span class="op" id="7729039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7729045">if</span>&nbsp;<span class="ident" id="7729048">p3</span><span class="op" id="7729050">.</span><span class="ident" id="7729051">Int</span>&nbsp;<span class="op" id="7729055">==</span>&nbsp;<span class="ident" id="7729058">nil</span>&nbsp;<span class="op" id="7729062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729066">t</span><span class="op" id="7729067">.</span><span class="ident" id="7729068">Fatalf</span><span class="op" id="7729074">(</span><span class="string" id="7729075">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="7729113">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729116">}</span>&nbsp;<span class="keyword" id="7729118">else</span>&nbsp;<span class="keyword" id="7729123">if</span>&nbsp;<span class="op" id="7729126">*</span><span class="ident" id="7729127">p3</span><span class="op" id="7729129">.</span><span class="ident" id="7729130">Int</span>&nbsp;<span class="op" id="7729134">!=</span>&nbsp;<span class="string" id="7729137">&#34;1&#34;</span>&nbsp;<span class="op" id="7729141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729145">t</span><span class="op" id="7729146">.</span><span class="ident" id="7729147">Fatalf</span><span class="op" id="7729153">(</span><span class="string" id="7729154">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7729203">,</span>&nbsp;<span class="ident" id="7729205">x</span><span class="op" id="7729206">,</span>&nbsp;<span class="ident" id="7729208">p3</span><span class="op" id="7729210">.</span><span class="ident" id="7729211">Int</span><span class="op" id="7729214">,</span>&nbsp;<span class="num" id="7729216">1</span><span class="op" id="7729217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729220">}</span><br>
<span class="lineno"></span><span class="op" id="7729222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="7729225">type</span>&nbsp;<span class="ident" id="7729230">Tables</span>&nbsp;<span class="keyword" id="7729237">struct</span>&nbsp;<span class="op" id="7729244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729247">HTable</span>&nbsp;<span class="builtintype" id="7729254">string</span>&nbsp;<span class="string" id="7729261">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729304">FTable</span>&nbsp;<span class="builtintype" id="7729311">string</span>&nbsp;<span class="string" id="7729318">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7729367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="7729370">var</span>&nbsp;<span class="ident" id="7729374">tables</span>&nbsp;<span class="op" id="7729381">=</span>&nbsp;<span class="op" id="7729383">[</span><span class="op" id="7729384">]</span><span class="keyword" id="7729385">struct</span>&nbsp;<span class="op" id="7729392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729395">xml</span>&nbsp;<span class="builtintype" id="7729399">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729407">tab</span>&nbsp;<span class="ident" id="7729411">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729419">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7729423">string</span><br>
<span class="lineno"></span><span class="op" id="7729430">}</span><span class="op" id="7729431">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729438">xml</span><span class="op" id="7729441">:</span>&nbsp;<span class="string" id="7729443">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7729454">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7729459">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7729518">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7729523">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7729589">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7729594">`&lt;/Tables&gt;`</span><span class="op" id="7729605">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729609">tab</span><span class="op" id="7729612">:</span>&nbsp;<span class="ident" id="7729614">Tables</span><span class="op" id="7729620">{</span><span class="string" id="7729621">&#34;hello&#34;</span><span class="op" id="7729628">,</span>&nbsp;<span class="string" id="7729630">&#34;world&#34;</span><span class="op" id="7729637">}</span><span class="op" id="7729638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729641">}</span><span class="op" id="7729642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729649">xml</span><span class="op" id="7729652">:</span>&nbsp;<span class="string" id="7729654">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7729665">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7729670">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7729736">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7729741">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7729800">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7729805">`&lt;/Tables&gt;`</span><span class="op" id="7729816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729820">tab</span><span class="op" id="7729823">:</span>&nbsp;<span class="ident" id="7729825">Tables</span><span class="op" id="7729831">{</span><span class="string" id="7729832">&#34;hello&#34;</span><span class="op" id="7729839">,</span>&nbsp;<span class="string" id="7729841">&#34;world&#34;</span><span class="op" id="7729848">}</span><span class="op" id="7729849">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729852">}</span><span class="op" id="7729853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7729856">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7729860">xml</span><span class="op" id="7729863">:</span>&nbsp;<span class="string" id="7729865">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="7729959">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7729964">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="7729991">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7729996">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="7730023">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7730028">`&lt;/Tables&gt;`</span><span class="op" id="7730039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730043">tab</span><span class="op" id="7730046">:</span>&nbsp;<span class="ident" id="7730048">Tables</span><span class="op" id="7730054">{</span><span class="string" id="7730055">&#34;hello&#34;</span><span class="op" id="7730062">,</span>&nbsp;<span class="string" id="7730064">&#34;world&#34;</span><span class="op" id="7730071">}</span><span class="op" id="7730072">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730075">}</span><span class="op" id="7730076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730083">xml</span><span class="op" id="7730086">:</span>&nbsp;<span class="string" id="7730088">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7730099">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7730104">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="7730127">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7730132">`&lt;/Tables&gt;`</span><span class="op" id="7730143">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730147">tab</span><span class="op" id="7730150">:</span>&nbsp;<span class="ident" id="7730152">Tables</span><span class="op" id="7730158">{</span><span class="op" id="7730159">}</span><span class="op" id="7730160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730163">}</span><span class="op" id="7730164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730171">xml</span><span class="op" id="7730174">:</span>&nbsp;<span class="string" id="7730176">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7730187">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7730192">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7730214">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7730219">`&lt;/Tables&gt;`</span><span class="op" id="7730230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730234">tab</span><span class="op" id="7730237">:</span>&nbsp;<span class="ident" id="7730239">Tables</span><span class="op" id="7730245">{</span><span class="ident" id="7730246">HTable</span><span class="op" id="7730252">:</span>&nbsp;<span class="string" id="7730254">&#34;only&#34;</span><span class="op" id="7730260">}</span><span class="op" id="7730261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730265">ns</span><span class="op" id="7730267">:</span>&nbsp;&nbsp;<span class="string" id="7730270">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7730299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730302">}</span><span class="op" id="7730303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730306">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730310">xml</span><span class="op" id="7730313">:</span>&nbsp;<span class="string" id="7730315">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7730326">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7730331">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7730353">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7730358">`&lt;/Tables&gt;`</span><span class="op" id="7730369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730373">tab</span><span class="op" id="7730376">:</span>&nbsp;<span class="ident" id="7730378">Tables</span><span class="op" id="7730384">{</span><span class="ident" id="7730385">FTable</span><span class="op" id="7730391">:</span>&nbsp;<span class="string" id="7730393">&#34;only&#34;</span><span class="op" id="7730399">}</span><span class="op" id="7730400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730404">ns</span><span class="op" id="7730406">:</span>&nbsp;&nbsp;<span class="string" id="7730409">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7730445">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730448">}</span><span class="op" id="7730449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730456">xml</span><span class="op" id="7730459">:</span>&nbsp;<span class="string" id="7730461">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7730472">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7730477">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7730499">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7730504">`&lt;/Tables&gt;`</span><span class="op" id="7730515">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730519">tab</span><span class="op" id="7730522">:</span>&nbsp;<span class="ident" id="7730524">Tables</span><span class="op" id="7730530">{</span><span class="op" id="7730531">}</span><span class="op" id="7730532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730536">ns</span><span class="op" id="7730538">:</span>&nbsp;&nbsp;<span class="string" id="7730541">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7730566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730569">}</span><span class="op" id="7730570">,</span><br>
<span class="lineno"></span><span class="op" id="7730572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="7730575">func</span>&nbsp;<span class="ident" id="7730580">TestUnmarshalNS</span><span class="op" id="7730595">(</span><span class="ident" id="7730596">t</span>&nbsp;<span class="op" id="7730598">*</span><span class="ident" id="7730599">testing</span><span class="op" id="7730606">.</span><span class="ident" id="7730607">T</span><span class="op" id="7730608">)</span>&nbsp;<span class="op" id="7730610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730613">for</span>&nbsp;<span class="ident" id="7730617">i</span><span class="op" id="7730618">,</span>&nbsp;<span class="ident" id="7730620">tt</span>&nbsp;<span class="op" id="7730623">:=</span>&nbsp;<span class="keyword" id="7730626">range</span>&nbsp;<span class="ident" id="7730632">tables</span>&nbsp;<span class="op" id="7730639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730643">var</span>&nbsp;<span class="ident" id="7730647">dst</span>&nbsp;<span class="ident" id="7730651">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730660">var</span>&nbsp;<span class="ident" id="7730664">err</span>&nbsp;<span class="builtintype" id="7730668">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730676">if</span>&nbsp;<span class="ident" id="7730679">tt</span><span class="op" id="7730681">.</span><span class="ident" id="7730682">ns</span>&nbsp;<span class="op" id="7730685">!=</span>&nbsp;<span class="string" id="7730688">&#34;&#34;</span>&nbsp;<span class="op" id="7730691">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730696">d</span>&nbsp;<span class="op" id="7730698">:=</span>&nbsp;<span class="ident" id="7730701">NewDecoder</span><span class="op" id="7730711">(</span><span class="ident" id="7730712">strings</span><span class="op" id="7730719">.</span><span class="ident" id="7730720">NewReader</span><span class="op" id="7730729">(</span><span class="ident" id="7730730">tt</span><span class="op" id="7730732">.</span><span class="ident" id="7730733">xml</span><span class="op" id="7730736">)</span><span class="op" id="7730737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730742">d</span><span class="op" id="7730743">.</span><span class="ident" id="7730744">DefaultSpace</span>&nbsp;<span class="op" id="7730757">=</span>&nbsp;<span class="ident" id="7730759">tt</span><span class="op" id="7730761">.</span><span class="ident" id="7730762">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730768">err</span>&nbsp;<span class="op" id="7730772">=</span>&nbsp;<span class="ident" id="7730774">d</span><span class="op" id="7730775">.</span><span class="ident" id="7730776">Decode</span><span class="op" id="7730782">(</span><span class="op" id="7730783">&amp;</span><span class="ident" id="7730784">dst</span><span class="op" id="7730787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730791">}</span>&nbsp;<span class="keyword" id="7730793">else</span>&nbsp;<span class="op" id="7730798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730803">err</span>&nbsp;<span class="op" id="7730807">=</span>&nbsp;<span class="ident" id="7730809">Unmarshal</span><span class="op" id="7730818">(</span><span class="op" id="7730819">[</span><span class="op" id="7730820">]</span><span class="builtintype" id="7730821">byte</span><span class="op" id="7730825">(</span><span class="ident" id="7730826">tt</span><span class="op" id="7730828">.</span><span class="ident" id="7730829">xml</span><span class="op" id="7730832">)</span><span class="op" id="7730833">,</span>&nbsp;<span class="op" id="7730835">&amp;</span><span class="ident" id="7730836">dst</span><span class="op" id="7730839">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730847">if</span>&nbsp;<span class="ident" id="7730850">err</span>&nbsp;<span class="op" id="7730854">!=</span>&nbsp;<span class="ident" id="7730857">nil</span>&nbsp;<span class="op" id="7730861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730866">t</span><span class="op" id="7730867">.</span><span class="ident" id="7730868">Errorf</span><span class="op" id="7730874">(</span><span class="string" id="7730875">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7730895">,</span>&nbsp;<span class="ident" id="7730897">i</span><span class="op" id="7730898">,</span>&nbsp;<span class="ident" id="7730900">err</span><span class="op" id="7730903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730908">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7730919">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730923">want</span>&nbsp;<span class="op" id="7730928">:=</span>&nbsp;<span class="ident" id="7730931">tt</span><span class="op" id="7730933">.</span><span class="ident" id="7730934">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7730940">if</span>&nbsp;<span class="ident" id="7730943">dst</span>&nbsp;<span class="op" id="7730947">!=</span>&nbsp;<span class="ident" id="7730950">want</span>&nbsp;<span class="op" id="7730955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7730960">t</span><span class="op" id="7730961">.</span><span class="ident" id="7730962">Errorf</span><span class="op" id="7730968">(</span><span class="string" id="7730969">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7730993">,</span>&nbsp;<span class="ident" id="7730995">i</span><span class="op" id="7730996">,</span>&nbsp;<span class="ident" id="7730998">dst</span><span class="op" id="7731001">,</span>&nbsp;<span class="ident" id="7731003">want</span><span class="op" id="7731007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731014">}</span><br>
<span class="lineno">485</span><span class="op" id="7731016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7731019">func</span>&nbsp;<span class="ident" id="7731024">TestMarshalNS</span><span class="op" id="7731037">(</span><span class="ident" id="7731038">t</span>&nbsp;<span class="op" id="7731040">*</span><span class="ident" id="7731041">testing</span><span class="op" id="7731048">.</span><span class="ident" id="7731049">T</span><span class="op" id="7731050">)</span>&nbsp;<span class="op" id="7731052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731055">dst</span>&nbsp;<span class="op" id="7731059">:=</span>&nbsp;<span class="ident" id="7731062">Tables</span><span class="op" id="7731068">{</span><span class="string" id="7731069">&#34;hello&#34;</span><span class="op" id="7731076">,</span>&nbsp;<span class="string" id="7731078">&#34;world&#34;</span><span class="op" id="7731085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731088">data</span><span class="op" id="7731092">,</span>&nbsp;<span class="ident" id="7731094">err</span>&nbsp;<span class="op" id="7731098">:=</span>&nbsp;<span class="ident" id="7731101">Marshal</span><span class="op" id="7731108">(</span><span class="op" id="7731109">&amp;</span><span class="ident" id="7731110">dst</span><span class="op" id="7731113">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731116">if</span>&nbsp;<span class="ident" id="7731119">err</span>&nbsp;<span class="op" id="7731123">!=</span>&nbsp;<span class="ident" id="7731126">nil</span>&nbsp;<span class="op" id="7731130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731134">t</span><span class="op" id="7731135">.</span><span class="ident" id="7731136">Fatalf</span><span class="op" id="7731142">(</span><span class="string" id="7731143">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7731156">,</span>&nbsp;<span class="ident" id="7731158">err</span><span class="op" id="7731161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731167">want</span>&nbsp;<span class="op" id="7731172">:=</span>&nbsp;<span class="string" id="7731175">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731315">str</span>&nbsp;<span class="op" id="7731319">:=</span>&nbsp;<span class="builtintype" id="7731322">string</span><span class="op" id="7731328">(</span><span class="ident" id="7731329">data</span><span class="op" id="7731333">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7731336">if</span>&nbsp;<span class="ident" id="7731339">str</span>&nbsp;<span class="op" id="7731343">!=</span>&nbsp;<span class="ident" id="7731346">want</span>&nbsp;<span class="op" id="7731351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731355">t</span><span class="op" id="7731356">.</span><span class="ident" id="7731357">Errorf</span><span class="op" id="7731363">(</span><span class="string" id="7731364">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="7731386">,</span>&nbsp;<span class="ident" id="7731388">str</span><span class="op" id="7731391">,</span>&nbsp;<span class="ident" id="7731393">want</span><span class="op" id="7731397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7731400">}</span><br>
<span class="lineno"></span><span class="op" id="7731402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="7731405">type</span>&nbsp;<span class="ident" id="7731410">TableAttrs</span>&nbsp;<span class="keyword" id="7731421">struct</span>&nbsp;<span class="op" id="7731428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731431">TAttr</span>&nbsp;<span class="ident" id="7731437">TAttr</span><br>
<span class="lineno"></span><span class="op" id="7731443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7731446">type</span>&nbsp;<span class="ident" id="7731451">TAttr</span>&nbsp;<span class="keyword" id="7731457">struct</span>&nbsp;<span class="op" id="7731464">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731467">HTable</span>&nbsp;<span class="builtintype" id="7731474">string</span>&nbsp;<span class="string" id="7731481">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731529">FTable</span>&nbsp;<span class="builtintype" id="7731536">string</span>&nbsp;<span class="string" id="7731543">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731598">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7731605">string</span>&nbsp;<span class="string" id="7731612">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731678">Other1</span>&nbsp;<span class="builtintype" id="7731685">string</span>&nbsp;<span class="string" id="7731692">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731745">Other2</span>&nbsp;<span class="builtintype" id="7731752">string</span>&nbsp;<span class="string" id="7731759">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731815">Other3</span>&nbsp;<span class="builtintype" id="7731822">string</span>&nbsp;<span class="string" id="7731829">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731883">Other4</span>&nbsp;<span class="builtintype" id="7731890">string</span>&nbsp;<span class="string" id="7731897">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7731952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7731955">var</span>&nbsp;<span class="ident" id="7731959">tableAttrs</span>&nbsp;<span class="op" id="7731970">=</span>&nbsp;<span class="op" id="7731972">[</span><span class="op" id="7731973">]</span><span class="keyword" id="7731974">struct</span>&nbsp;<span class="op" id="7731981">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731984">xml</span>&nbsp;<span class="builtintype" id="7731988">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7731996">tab</span>&nbsp;<span class="ident" id="7732000">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732012">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7732016">string</span><br>
<span class="lineno"></span><span class="op" id="7732023">}</span><span class="op" id="7732024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732027">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732031">xml</span><span class="op" id="7732034">:</span>&nbsp;<span class="string" id="7732036">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7732141">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732146">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7732181">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732186">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7732203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732207">tab</span><span class="op" id="7732210">:</span>&nbsp;<span class="ident" id="7732212">TableAttrs</span><span class="op" id="7732222">{</span><span class="ident" id="7732223">TAttr</span><span class="op" id="7732228">{</span><span class="ident" id="7732229">HTable</span><span class="op" id="7732235">:</span>&nbsp;<span class="string" id="7732237">&#34;hello&#34;</span><span class="op" id="7732244">,</span>&nbsp;<span class="ident" id="7732246">FTable</span><span class="op" id="7732252">:</span>&nbsp;<span class="string" id="7732254">&#34;world&#34;</span><span class="op" id="7732261">}</span><span class="op" id="7732262">}</span><span class="op" id="7732263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732266">}</span><span class="op" id="7732267">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732274">xml</span><span class="op" id="7732277">:</span>&nbsp;<span class="string" id="7732279">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7732384">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732389">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7732424">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732429">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7732446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732450">tab</span><span class="op" id="7732453">:</span>&nbsp;<span class="ident" id="7732455">TableAttrs</span><span class="op" id="7732465">{</span><span class="ident" id="7732466">TAttr</span><span class="op" id="7732471">{</span><span class="ident" id="7732472">HTable</span><span class="op" id="7732478">:</span>&nbsp;<span class="string" id="7732480">&#34;hello&#34;</span><span class="op" id="7732487">,</span>&nbsp;<span class="ident" id="7732489">FTable</span><span class="op" id="7732495">:</span>&nbsp;<span class="string" id="7732497">&#34;world&#34;</span><span class="op" id="7732504">}</span><span class="op" id="7732505">}</span><span class="op" id="7732506">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732509">}</span><span class="op" id="7732510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732517">xml</span><span class="op" id="7732520">:</span>&nbsp;<span class="string" id="7732522">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7732544">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732549">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7732667">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732672">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7732689">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732693">tab</span><span class="op" id="7732696">:</span>&nbsp;<span class="ident" id="7732698">TableAttrs</span><span class="op" id="7732708">{</span><span class="ident" id="7732709">TAttr</span><span class="op" id="7732714">{</span><span class="ident" id="7732715">HTable</span><span class="op" id="7732721">:</span>&nbsp;<span class="string" id="7732723">&#34;hello&#34;</span><span class="op" id="7732730">,</span>&nbsp;<span class="ident" id="7732732">FTable</span><span class="op" id="7732738">:</span>&nbsp;<span class="string" id="7732740">&#34;world&#34;</span><span class="op" id="7732747">}</span><span class="op" id="7732748">}</span><span class="op" id="7732749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732752">}</span><span class="op" id="7732753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7732756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7732760">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732814">xml</span><span class="op" id="7732817">:</span>&nbsp;<span class="string" id="7732819">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7732922">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732927">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7732960">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7732965">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7732982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7732986">tab</span><span class="op" id="7732989">:</span>&nbsp;<span class="ident" id="7732991">TableAttrs</span><span class="op" id="7733001">{</span><span class="ident" id="7733002">TAttr</span><span class="op" id="7733007">{</span><span class="ident" id="7733008">HTable</span><span class="op" id="7733014">:</span>&nbsp;<span class="string" id="7733016">&#34;hello&#34;</span><span class="op" id="7733023">,</span>&nbsp;<span class="ident" id="7733025">FTable</span><span class="op" id="7733031">:</span>&nbsp;<span class="string" id="7733033">&#34;&#34;</span><span class="op" id="7733035">}</span><span class="op" id="7733036">}</span><span class="op" id="7733037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733040">}</span><span class="op" id="7733041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733044">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7733048">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733102">xml</span><span class="op" id="7733105">:</span>&nbsp;<span class="string" id="7733107">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7733210">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7733215">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7733248">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7733253">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7733270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733274">tab</span><span class="op" id="7733277">:</span>&nbsp;<span class="ident" id="7733279">TableAttrs</span><span class="op" id="7733289">{</span><span class="ident" id="7733290">TAttr</span><span class="op" id="7733295">{</span><span class="ident" id="7733296">HTable</span><span class="op" id="7733302">:</span>&nbsp;<span class="string" id="7733304">&#34;&#34;</span><span class="op" id="7733306">,</span>&nbsp;<span class="ident" id="7733308">FTable</span><span class="op" id="7733314">:</span>&nbsp;<span class="string" id="7733316">&#34;world&#34;</span><span class="op" id="7733323">}</span><span class="op" id="7733324">}</span><span class="op" id="7733325">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733328">}</span><span class="op" id="7733329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733336">xml</span><span class="op" id="7733339">:</span>&nbsp;<span class="string" id="7733341">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7733363">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7733368">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7733385">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7733390">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7733407">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733411">tab</span><span class="op" id="7733414">:</span>&nbsp;<span class="ident" id="7733416">TableAttrs</span><span class="op" id="7733426">{</span><span class="op" id="7733427">}</span><span class="op" id="7733428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733431">}</span><span class="op" id="7733432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7733439">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733493">xml</span><span class="op" id="7733496">:</span>&nbsp;<span class="string" id="7733498">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7733558">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7733563">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7733596">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7733601">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7733618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733622">tab</span><span class="op" id="7733625">:</span>&nbsp;<span class="ident" id="7733627">TableAttrs</span><span class="op" id="7733637">{</span><span class="ident" id="7733638">TAttr</span><span class="op" id="7733643">{</span><span class="ident" id="7733644">HTable</span><span class="op" id="7733650">:</span>&nbsp;<span class="string" id="7733652">&#34;hello&#34;</span><span class="op" id="7733659">,</span>&nbsp;<span class="ident" id="7733661">FTable</span><span class="op" id="7733667">:</span>&nbsp;<span class="string" id="7733669">&#34;&#34;</span><span class="op" id="7733671">}</span><span class="op" id="7733672">}</span><span class="op" id="7733673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733677">ns</span><span class="op" id="7733679">:</span>&nbsp;&nbsp;<span class="string" id="7733682">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7733718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733721">}</span><span class="op" id="7733722">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7733725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7733729">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733783">xml</span><span class="op" id="7733786">:</span>&nbsp;<span class="string" id="7733788">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7733855">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7733860">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7733893">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7733898">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7733915">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733919">tab</span><span class="op" id="7733922">:</span>&nbsp;<span class="ident" id="7733924">TableAttrs</span><span class="op" id="7733934">{</span><span class="ident" id="7733935">TAttr</span><span class="op" id="7733940">{</span><span class="ident" id="7733941">HTable</span><span class="op" id="7733947">:</span>&nbsp;<span class="string" id="7733949">&#34;&#34;</span><span class="op" id="7733951">,</span>&nbsp;<span class="ident" id="7733953">FTable</span><span class="op" id="7733959">:</span>&nbsp;<span class="string" id="7733961">&#34;world&#34;</span><span class="op" id="7733968">}</span><span class="op" id="7733969">}</span><span class="op" id="7733970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7733974">ns</span><span class="op" id="7733976">:</span>&nbsp;&nbsp;<span class="string" id="7733979">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7734008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734011">}</span><span class="op" id="7734012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734019">xml</span><span class="op" id="7734022">:</span>&nbsp;<span class="string" id="7734024">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7734046">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7734051">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7734068">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7734073">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7734090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734094">tab</span><span class="op" id="7734097">:</span>&nbsp;<span class="ident" id="7734099">TableAttrs</span><span class="op" id="7734109">{</span><span class="op" id="7734110">}</span><span class="op" id="7734111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734115">ns</span><span class="op" id="7734117">:</span>&nbsp;&nbsp;<span class="string" id="7734120">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7734145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734148">}</span><span class="op" id="7734149">,</span><br>
<span class="lineno">580</span><span class="op" id="7734151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7734154">func</span>&nbsp;<span class="ident" id="7734159">TestUnmarshalNSAttr</span><span class="op" id="7734178">(</span><span class="ident" id="7734179">t</span>&nbsp;<span class="op" id="7734181">*</span><span class="ident" id="7734182">testing</span><span class="op" id="7734189">.</span><span class="ident" id="7734190">T</span><span class="op" id="7734191">)</span>&nbsp;<span class="op" id="7734193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734196">for</span>&nbsp;<span class="ident" id="7734200">i</span><span class="op" id="7734201">,</span>&nbsp;<span class="ident" id="7734203">tt</span>&nbsp;<span class="op" id="7734206">:=</span>&nbsp;<span class="keyword" id="7734209">range</span>&nbsp;<span class="ident" id="7734215">tableAttrs</span>&nbsp;<span class="op" id="7734226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734230">var</span>&nbsp;<span class="ident" id="7734234">dst</span>&nbsp;<span class="ident" id="7734238">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734251">var</span>&nbsp;<span class="ident" id="7734255">err</span>&nbsp;<span class="builtintype" id="7734259">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734267">if</span>&nbsp;<span class="ident" id="7734270">tt</span><span class="op" id="7734272">.</span><span class="ident" id="7734273">ns</span>&nbsp;<span class="op" id="7734276">!=</span>&nbsp;<span class="string" id="7734279">&#34;&#34;</span>&nbsp;<span class="op" id="7734282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734287">d</span>&nbsp;<span class="op" id="7734289">:=</span>&nbsp;<span class="ident" id="7734292">NewDecoder</span><span class="op" id="7734302">(</span><span class="ident" id="7734303">strings</span><span class="op" id="7734310">.</span><span class="ident" id="7734311">NewReader</span><span class="op" id="7734320">(</span><span class="ident" id="7734321">tt</span><span class="op" id="7734323">.</span><span class="ident" id="7734324">xml</span><span class="op" id="7734327">)</span><span class="op" id="7734328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734333">d</span><span class="op" id="7734334">.</span><span class="ident" id="7734335">DefaultSpace</span>&nbsp;<span class="op" id="7734348">=</span>&nbsp;<span class="ident" id="7734350">tt</span><span class="op" id="7734352">.</span><span class="ident" id="7734353">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734359">err</span>&nbsp;<span class="op" id="7734363">=</span>&nbsp;<span class="ident" id="7734365">d</span><span class="op" id="7734366">.</span><span class="ident" id="7734367">Decode</span><span class="op" id="7734373">(</span><span class="op" id="7734374">&amp;</span><span class="ident" id="7734375">dst</span><span class="op" id="7734378">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734382">}</span>&nbsp;<span class="keyword" id="7734384">else</span>&nbsp;<span class="op" id="7734389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734394">err</span>&nbsp;<span class="op" id="7734398">=</span>&nbsp;<span class="ident" id="7734400">Unmarshal</span><span class="op" id="7734409">(</span><span class="op" id="7734410">[</span><span class="op" id="7734411">]</span><span class="builtintype" id="7734412">byte</span><span class="op" id="7734416">(</span><span class="ident" id="7734417">tt</span><span class="op" id="7734419">.</span><span class="ident" id="7734420">xml</span><span class="op" id="7734423">)</span><span class="op" id="7734424">,</span>&nbsp;<span class="op" id="7734426">&amp;</span><span class="ident" id="7734427">dst</span><span class="op" id="7734430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734438">if</span>&nbsp;<span class="ident" id="7734441">err</span>&nbsp;<span class="op" id="7734445">!=</span>&nbsp;<span class="ident" id="7734448">nil</span>&nbsp;<span class="op" id="7734452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734457">t</span><span class="op" id="7734458">.</span><span class="ident" id="7734459">Errorf</span><span class="op" id="7734465">(</span><span class="string" id="7734466">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7734486">,</span>&nbsp;<span class="ident" id="7734488">i</span><span class="op" id="7734489">,</span>&nbsp;<span class="ident" id="7734491">err</span><span class="op" id="7734494">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734499">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734514">want</span>&nbsp;<span class="op" id="7734519">:=</span>&nbsp;<span class="ident" id="7734522">tt</span><span class="op" id="7734524">.</span><span class="ident" id="7734525">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734531">if</span>&nbsp;<span class="ident" id="7734534">dst</span>&nbsp;<span class="op" id="7734538">!=</span>&nbsp;<span class="ident" id="7734541">want</span>&nbsp;<span class="op" id="7734546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734551">t</span><span class="op" id="7734552">.</span><span class="ident" id="7734553">Errorf</span><span class="op" id="7734559">(</span><span class="string" id="7734560">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7734584">,</span>&nbsp;<span class="ident" id="7734586">i</span><span class="op" id="7734587">,</span>&nbsp;<span class="ident" id="7734589">dst</span><span class="op" id="7734592">,</span>&nbsp;<span class="ident" id="7734594">want</span><span class="op" id="7734598">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734605">}</span><br>
<span class="lineno"></span><span class="op" id="7734607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7734610">func</span>&nbsp;<span class="ident" id="7734615">TestMarshalNSAttr</span><span class="op" id="7734632">(</span><span class="ident" id="7734633">t</span>&nbsp;<span class="op" id="7734635">*</span><span class="ident" id="7734636">testing</span><span class="op" id="7734643">.</span><span class="ident" id="7734644">T</span><span class="op" id="7734645">)</span>&nbsp;<span class="op" id="7734647">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734650">src</span>&nbsp;<span class="op" id="7734654">:=</span>&nbsp;<span class="ident" id="7734657">TableAttrs</span><span class="op" id="7734667">{</span><span class="ident" id="7734668">TAttr</span><span class="op" id="7734673">{</span><span class="string" id="7734674">&#34;hello&#34;</span><span class="op" id="7734681">,</span>&nbsp;<span class="string" id="7734683">&#34;world&#34;</span><span class="op" id="7734690">,</span>&nbsp;<span class="string" id="7734692">&#34;en_US&#34;</span><span class="op" id="7734699">,</span>&nbsp;<span class="string" id="7734701">&#34;other1&#34;</span><span class="op" id="7734709">,</span>&nbsp;<span class="string" id="7734711">&#34;other2&#34;</span><span class="op" id="7734719">,</span>&nbsp;<span class="string" id="7734721">&#34;other3&#34;</span><span class="op" id="7734729">,</span>&nbsp;<span class="string" id="7734731">&#34;other4&#34;</span><span class="op" id="7734739">}</span><span class="op" id="7734740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734743">data</span><span class="op" id="7734747">,</span>&nbsp;<span class="ident" id="7734749">err</span>&nbsp;<span class="op" id="7734753">:=</span>&nbsp;<span class="ident" id="7734756">Marshal</span><span class="op" id="7734763">(</span><span class="op" id="7734764">&amp;</span><span class="ident" id="7734765">src</span><span class="op" id="7734768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7734771">if</span>&nbsp;<span class="ident" id="7734774">err</span>&nbsp;<span class="op" id="7734778">!=</span>&nbsp;<span class="ident" id="7734781">nil</span>&nbsp;<span class="op" id="7734785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734789">t</span><span class="op" id="7734790">.</span><span class="ident" id="7734791">Fatalf</span><span class="op" id="7734797">(</span><span class="string" id="7734798">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7734811">,</span>&nbsp;<span class="ident" id="7734813">err</span><span class="op" id="7734816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7734819">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7734822">want</span>&nbsp;<span class="op" id="7734827">:=</span>&nbsp;<span class="string" id="7734830">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735271">str</span>&nbsp;<span class="op" id="7735275">:=</span>&nbsp;<span class="builtintype" id="7735278">string</span><span class="op" id="7735284">(</span><span class="ident" id="7735285">data</span><span class="op" id="7735289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735292">if</span>&nbsp;<span class="ident" id="7735295">str</span>&nbsp;<span class="op" id="7735299">!=</span>&nbsp;<span class="ident" id="7735302">want</span>&nbsp;<span class="op" id="7735307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735311">t</span><span class="op" id="7735312">.</span><span class="ident" id="7735313">Errorf</span><span class="op" id="7735319">(</span><span class="string" id="7735320">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="7735354">,</span>&nbsp;<span class="ident" id="7735356">str</span><span class="op" id="7735359">,</span>&nbsp;<span class="ident" id="7735361">want</span><span class="op" id="7735365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735368">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735372">var</span>&nbsp;<span class="ident" id="7735376">dst</span>&nbsp;<span class="ident" id="7735380">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735392">if</span>&nbsp;<span class="ident" id="7735395">err</span>&nbsp;<span class="op" id="7735399">:=</span>&nbsp;<span class="ident" id="7735402">Unmarshal</span><span class="op" id="7735411">(</span><span class="ident" id="7735412">data</span><span class="op" id="7735416">,</span>&nbsp;<span class="op" id="7735418">&amp;</span><span class="ident" id="7735419">dst</span><span class="op" id="7735422">)</span><span class="op" id="7735423">;</span>&nbsp;<span class="ident" id="7735425">err</span>&nbsp;<span class="op" id="7735429">!=</span>&nbsp;<span class="ident" id="7735432">nil</span>&nbsp;<span class="op" id="7735436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735440">t</span><span class="op" id="7735441">.</span><span class="ident" id="7735442">Errorf</span><span class="op" id="7735448">(</span><span class="string" id="7735449">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7735464">,</span>&nbsp;<span class="ident" id="7735466">err</span><span class="op" id="7735469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735472">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735476">if</span>&nbsp;<span class="ident" id="7735479">dst</span>&nbsp;<span class="op" id="7735483">!=</span>&nbsp;<span class="ident" id="7735486">src</span>&nbsp;<span class="op" id="7735490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735494">t</span><span class="op" id="7735495">.</span><span class="ident" id="7735496">Errorf</span><span class="op" id="7735502">(</span><span class="string" id="7735503">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7735528">,</span>&nbsp;<span class="ident" id="7735530">dst</span><span class="op" id="7735533">,</span>&nbsp;<span class="ident" id="7735535">src</span><span class="op" id="7735538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735541">}</span><br>
<span class="lineno"></span><span class="op" id="7735543">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="7735546">type</span>&nbsp;<span class="ident" id="7735551">MyCharData</span>&nbsp;<span class="keyword" id="7735562">struct</span>&nbsp;<span class="op" id="7735569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735572">body</span>&nbsp;<span class="builtintype" id="7735577">string</span><br>
<span class="lineno"></span><span class="op" id="7735584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="7735587">func</span>&nbsp;<span class="op" id="7735592">(</span><span class="ident" id="7735593">m</span>&nbsp;<span class="op" id="7735595">*</span><span class="ident" id="7735596">MyCharData</span><span class="op" id="7735606">)</span>&nbsp;<span class="ident" id="7735608">UnmarshalXML</span><span class="op" id="7735620">(</span><span class="ident" id="7735621">d</span>&nbsp;<span class="op" id="7735623">*</span><span class="ident" id="7735624">Decoder</span><span class="op" id="7735631">,</span>&nbsp;<span class="ident" id="7735633">start</span>&nbsp;<span class="ident" id="7735639">StartElement</span><span class="op" id="7735651">)</span>&nbsp;<span class="builtintype" id="7735653">error</span>&nbsp;<span class="op" id="7735659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735662">for</span>&nbsp;<span class="op" id="7735666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735670">t</span><span class="op" id="7735671">,</span>&nbsp;<span class="ident" id="7735673">err</span>&nbsp;<span class="op" id="7735677">:=</span>&nbsp;<span class="ident" id="7735680">d</span><span class="op" id="7735681">.</span><span class="ident" id="7735682">Token</span><span class="op" id="7735687">(</span><span class="op" id="7735688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735692">if</span>&nbsp;<span class="ident" id="7735695">err</span>&nbsp;<span class="op" id="7735699">==</span>&nbsp;<span class="ident" id="7735702">io</span><span class="op" id="7735704">.</span><span class="ident" id="7735705">EOF</span>&nbsp;<span class="op" id="7735709">{</span>&nbsp;<span class="comment" id="7735711">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735738">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735750">if</span>&nbsp;<span class="ident" id="7735753">err</span>&nbsp;<span class="op" id="7735757">!=</span>&nbsp;<span class="ident" id="7735760">nil</span>&nbsp;<span class="op" id="7735764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735769">return</span>&nbsp;<span class="ident" id="7735776">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735786">if</span>&nbsp;<span class="ident" id="7735789">char</span><span class="op" id="7735793">,</span>&nbsp;<span class="ident" id="7735795">ok</span>&nbsp;<span class="op" id="7735798">:=</span>&nbsp;<span class="ident" id="7735801">t</span><span class="op" id="7735802">.</span><span class="op" id="7735803">(</span><span class="ident" id="7735804">CharData</span><span class="op" id="7735812">)</span><span class="op" id="7735813">;</span>&nbsp;<span class="ident" id="7735815">ok</span>&nbsp;<span class="op" id="7735818">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7735823">m</span><span class="op" id="7735824">.</span><span class="ident" id="7735825">body</span>&nbsp;<span class="op" id="7735830">+=</span>&nbsp;<span class="builtintype" id="7735833">string</span><span class="op" id="7735839">(</span><span class="ident" id="7735840">char</span><span class="op" id="7735844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7735851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7735854">return</span>&nbsp;<span class="ident" id="7735861">nil</span><br>
<span class="lineno"></span><span class="op" id="7735865">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="7735868">var</span>&nbsp;<span class="ident" id="7735872">_</span>&nbsp;<span class="ident" id="7735874">Unmarshaler</span>&nbsp;<span class="op" id="7735886">=</span>&nbsp;<span class="op" id="7735888">(</span><span class="op" id="7735889">*</span><span class="ident" id="7735890">MyCharData</span><span class="op" id="7735900">)</span><span class="op" id="7735901">(</span><span class="ident" id="7735902">nil</span><span class="op" id="7735905">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7735908">func</span>&nbsp;<span class="op" id="7735913">(</span><span class="ident" id="7735914">m</span>&nbsp;<span class="op" id="7735916">*</span><span class="ident" id="7735917">MyCharData</span><span class="op" id="7735927">)</span>&nbsp;<span class="ident" id="7735929">UnmarshalXMLAttr</span><span class="op" id="7735945">(</span><span class="ident" id="7735946">attr</span>&nbsp;<span class="ident" id="7735951">Attr</span><span class="op" id="7735955">)</span>&nbsp;<span class="builtintype" id="7735957">error</span>&nbsp;<span class="op" id="7735963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7735966">panic</span><span class="op" id="7735971">(</span><span class="string" id="7735972">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="7735987">)</span><br>
<span class="lineno">650</span><span class="op" id="7735989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7735992">type</span>&nbsp;<span class="ident" id="7735997">MyAttr</span>&nbsp;<span class="keyword" id="7736004">struct</span>&nbsp;<span class="op" id="7736011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736014">attr</span>&nbsp;<span class="builtintype" id="7736019">string</span><br>
<span class="lineno"></span><span class="op" id="7736026">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="7736029">func</span>&nbsp;<span class="op" id="7736034">(</span><span class="ident" id="7736035">m</span>&nbsp;<span class="op" id="7736037">*</span><span class="ident" id="7736038">MyAttr</span><span class="op" id="7736044">)</span>&nbsp;<span class="ident" id="7736046">UnmarshalXMLAttr</span><span class="op" id="7736062">(</span><span class="ident" id="7736063">attr</span>&nbsp;<span class="ident" id="7736068">Attr</span><span class="op" id="7736072">)</span>&nbsp;<span class="builtintype" id="7736074">error</span>&nbsp;<span class="op" id="7736080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736083">m</span><span class="op" id="7736084">.</span><span class="ident" id="7736085">attr</span>&nbsp;<span class="op" id="7736090">=</span>&nbsp;<span class="ident" id="7736092">attr</span><span class="op" id="7736096">.</span><span class="ident" id="7736097">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736104">return</span>&nbsp;<span class="ident" id="7736111">nil</span><br>
<span class="lineno"></span><span class="op" id="7736115">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7736118">var</span>&nbsp;<span class="ident" id="7736122">_</span>&nbsp;<span class="ident" id="7736124">UnmarshalerAttr</span>&nbsp;<span class="op" id="7736140">=</span>&nbsp;<span class="op" id="7736142">(</span><span class="op" id="7736143">*</span><span class="ident" id="7736144">MyAttr</span><span class="op" id="7736150">)</span><span class="op" id="7736151">(</span><span class="ident" id="7736152">nil</span><span class="op" id="7736155">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7736158">type</span>&nbsp;<span class="ident" id="7736163">MyStruct</span>&nbsp;<span class="keyword" id="7736172">struct</span>&nbsp;<span class="op" id="7736179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736182">Data</span>&nbsp;<span class="op" id="7736187">*</span><span class="ident" id="7736188">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736200">Attr</span>&nbsp;<span class="op" id="7736205">*</span><span class="ident" id="7736206">MyAttr</span>&nbsp;<span class="string" id="7736213">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736229">Data2</span>&nbsp;<span class="ident" id="7736235">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736247">Attr2</span>&nbsp;<span class="ident" id="7736253">MyAttr</span>&nbsp;<span class="string" id="7736260">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7736274">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="7736277">func</span>&nbsp;<span class="ident" id="7736282">TestUnmarshaler</span><span class="op" id="7736297">(</span><span class="ident" id="7736298">t</span>&nbsp;<span class="op" id="7736300">*</span><span class="ident" id="7736301">testing</span><span class="op" id="7736308">.</span><span class="ident" id="7736309">T</span><span class="op" id="7736310">)</span>&nbsp;<span class="op" id="7736312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736315">xml</span>&nbsp;<span class="op" id="7736319">:=</span>&nbsp;<span class="string" id="7736322">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736509">var</span>&nbsp;<span class="ident" id="7736513">m</span>&nbsp;<span class="ident" id="7736515">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736525">if</span>&nbsp;<span class="ident" id="7736528">err</span>&nbsp;<span class="op" id="7736532">:=</span>&nbsp;<span class="ident" id="7736535">Unmarshal</span><span class="op" id="7736544">(</span><span class="op" id="7736545">[</span><span class="op" id="7736546">]</span><span class="builtintype" id="7736547">byte</span><span class="op" id="7736551">(</span><span class="ident" id="7736552">xml</span><span class="op" id="7736555">)</span><span class="op" id="7736556">,</span>&nbsp;<span class="op" id="7736558">&amp;</span><span class="ident" id="7736559">m</span><span class="op" id="7736560">)</span><span class="op" id="7736561">;</span>&nbsp;<span class="ident" id="7736563">err</span>&nbsp;<span class="op" id="7736567">!=</span>&nbsp;<span class="ident" id="7736570">nil</span>&nbsp;<span class="op" id="7736574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736578">t</span><span class="op" id="7736579">.</span><span class="ident" id="7736580">Fatal</span><span class="op" id="7736585">(</span><span class="ident" id="7736586">err</span><span class="op" id="7736589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7736592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7736596">if</span>&nbsp;<span class="ident" id="7736599">m</span><span class="op" id="7736600">.</span><span class="ident" id="7736601">Data</span>&nbsp;<span class="op" id="7736606">==</span>&nbsp;<span class="ident" id="7736609">nil</span>&nbsp;<span class="op" id="7736613">||</span>&nbsp;<span class="ident" id="7736616">m</span><span class="op" id="7736617">.</span><span class="ident" id="7736618">Attr</span>&nbsp;<span class="op" id="7736623">==</span>&nbsp;<span class="ident" id="7736626">nil</span>&nbsp;<span class="op" id="7736630">||</span>&nbsp;<span class="ident" id="7736633">m</span><span class="op" id="7736634">.</span><span class="ident" id="7736635">Data</span><span class="op" id="7736639">.</span><span class="ident" id="7736640">body</span>&nbsp;<span class="op" id="7736645">!=</span>&nbsp;<span class="string" id="7736648">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="7736662">||</span>&nbsp;<span class="ident" id="7736665">m</span><span class="op" id="7736666">.</span><span class="ident" id="7736667">Attr</span><span class="op" id="7736671">.</span><span class="ident" id="7736672">attr</span>&nbsp;<span class="op" id="7736677">!=</span>&nbsp;<span class="string" id="7736680">&#34;attr1&#34;</span>&nbsp;<span class="op" id="7736688">||</span>&nbsp;<span class="ident" id="7736691">m</span><span class="op" id="7736692">.</span><span class="ident" id="7736693">Data2</span><span class="op" id="7736698">.</span><span class="ident" id="7736699">body</span>&nbsp;<span class="op" id="7736704">!=</span>&nbsp;<span class="string" id="7736707">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="7736721">||</span>&nbsp;<span class="ident" id="7736724">m</span><span class="op" id="7736725">.</span><span class="ident" id="7736726">Attr2</span><span class="op" id="7736731">.</span><span class="ident" id="7736732">attr</span>&nbsp;<span class="op" id="7736737">!=</span>&nbsp;<span class="string" id="7736740">&#34;attr2&#34;</span>&nbsp;<span class="op" id="7736748">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736752">t</span><span class="op" id="7736753">.</span><span class="ident" id="7736754">Errorf</span><span class="op" id="7736760">(</span><span class="string" id="7736761">&#34;m=%#+v\n&#34;</span><span class="op" id="7736771">,</span>&nbsp;<span class="ident" id="7736773">m</span><span class="op" id="7736774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7736777">}</span><br>
<span class="lineno"></span><span class="op" id="7736779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7736782">type</span>&nbsp;<span class="ident" id="7736787">Pea</span>&nbsp;<span class="keyword" id="7736791">struct</span>&nbsp;<span class="op" id="7736798">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736801">Cotelydon</span>&nbsp;<span class="builtintype" id="7736811">string</span><br>
<span class="lineno"></span><span class="op" id="7736818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7736821">type</span>&nbsp;<span class="ident" id="7736826">Pod</span>&nbsp;<span class="keyword" id="7736830">struct</span>&nbsp;<span class="op" id="7736837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736840">Pea</span>&nbsp;<span class="keyword" id="7736844">interface</span><span class="op" id="7736853">{</span><span class="op" id="7736854">}</span>&nbsp;<span class="string" id="7736856">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="7736868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7736871">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="7736925">func</span>&nbsp;<span class="ident" id="7736930">TestUnmarshalIntoInterface</span><span class="op" id="7736956">(</span><span class="ident" id="7736957">t</span>&nbsp;<span class="op" id="7736959">*</span><span class="ident" id="7736960">testing</span><span class="op" id="7736967">.</span><span class="ident" id="7736968">T</span><span class="op" id="7736969">)</span>&nbsp;<span class="op" id="7736971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736974">pod</span>&nbsp;<span class="op" id="7736978">:=</span>&nbsp;<span class="builtinfunc" id="7736981">new</span><span class="op" id="7736984">(</span><span class="ident" id="7736985">Pod</span><span class="op" id="7736988">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7736991">pod</span><span class="op" id="7736994">.</span><span class="ident" id="7736995">Pea</span>&nbsp;<span class="op" id="7736999">=</span>&nbsp;<span class="builtinfunc" id="7737001">new</span><span class="op" id="7737004">(</span><span class="ident" id="7737005">Pea</span><span class="op" id="7737008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737011">xml</span>&nbsp;<span class="op" id="7737015">:=</span>&nbsp;<span class="string" id="7737018">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737078">err</span>&nbsp;<span class="op" id="7737082">:=</span>&nbsp;<span class="ident" id="7737085">Unmarshal</span><span class="op" id="7737094">(</span><span class="op" id="7737095">[</span><span class="op" id="7737096">]</span><span class="builtintype" id="7737097">byte</span><span class="op" id="7737101">(</span><span class="ident" id="7737102">xml</span><span class="op" id="7737105">)</span><span class="op" id="7737106">,</span>&nbsp;<span class="ident" id="7737108">pod</span><span class="op" id="7737111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737114">if</span>&nbsp;<span class="ident" id="7737117">err</span>&nbsp;<span class="op" id="7737121">!=</span>&nbsp;<span class="ident" id="7737124">nil</span>&nbsp;<span class="op" id="7737128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737132">t</span><span class="op" id="7737133">.</span><span class="ident" id="7737134">Fatalf</span><span class="op" id="7737140">(</span><span class="string" id="7737141">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7737169">,</span>&nbsp;<span class="ident" id="7737171">xml</span><span class="op" id="7737174">,</span>&nbsp;<span class="ident" id="7737176">err</span><span class="op" id="7737179">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737185">pea</span><span class="op" id="7737188">,</span>&nbsp;<span class="ident" id="7737190">ok</span>&nbsp;<span class="op" id="7737193">:=</span>&nbsp;<span class="ident" id="7737196">pod</span><span class="op" id="7737199">.</span><span class="ident" id="7737200">Pea</span><span class="op" id="7737203">.</span><span class="op" id="7737204">(</span><span class="op" id="7737205">*</span><span class="ident" id="7737206">Pea</span><span class="op" id="7737209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737212">if</span>&nbsp;<span class="op" id="7737215">!</span><span class="ident" id="7737216">ok</span>&nbsp;<span class="op" id="7737219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737223">t</span><span class="op" id="7737224">.</span><span class="ident" id="7737225">Fatalf</span><span class="op" id="7737231">(</span><span class="string" id="7737232">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="7737281">,</span>&nbsp;<span class="ident" id="7737283">pod</span><span class="op" id="7737286">.</span><span class="ident" id="7737287">Pea</span><span class="op" id="7737290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737293">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737296">have</span><span class="op" id="7737300">,</span>&nbsp;<span class="ident" id="7737302">want</span>&nbsp;<span class="op" id="7737307">:=</span>&nbsp;<span class="ident" id="7737310">pea</span><span class="op" id="7737313">.</span><span class="ident" id="7737314">Cotelydon</span><span class="op" id="7737323">,</span>&nbsp;<span class="string" id="7737325">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7737340">if</span>&nbsp;<span class="ident" id="7737343">have</span>&nbsp;<span class="op" id="7737348">!=</span>&nbsp;<span class="ident" id="7737351">want</span>&nbsp;<span class="op" id="7737356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7737360">t</span><span class="op" id="7737361">.</span><span class="ident" id="7737362">Errorf</span><span class="op" id="7737368">(</span><span class="string" id="7737369">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7737422">,</span>&nbsp;<span class="ident" id="7737424">have</span><span class="op" id="7737428">,</span>&nbsp;<span class="ident" id="7737430">want</span><span class="op" id="7737434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7737437">}</span><br>
<span class="lineno"></span><span class="op" id="7737439">}</span>
</div>
</body>
</html>
