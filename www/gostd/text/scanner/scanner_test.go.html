<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7126575">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7126630">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7126684">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7126735">package</span>&nbsp;<span class="ident" id="7126743">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7126752">import</span>&nbsp;<span class="op" id="7126759">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7126762">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7126771">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7126778">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7126784">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7126795">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7126806">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7126821">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="7126824">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="7126899">type</span>&nbsp;<span class="ident" id="7126904">StringReader</span>&nbsp;<span class="keyword" id="7126917">struct</span>&nbsp;<span class="op" id="7126924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7126927">data</span>&nbsp;<span class="op" id="7126932">[</span><span class="op" id="7126933">]</span><span class="builtintype" id="7126934">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7126942">step</span>&nbsp;<span class="builtintype" id="7126947">int</span><br>
<span class="lineno">20</span><span class="op" id="7126951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7126954">func</span>&nbsp;<span class="op" id="7126959">(</span><span class="ident" id="7126960">r</span>&nbsp;<span class="op" id="7126962">*</span><span class="ident" id="7126963">StringReader</span><span class="op" id="7126975">)</span>&nbsp;<span class="ident" id="7126977">Read</span><span class="op" id="7126981">(</span><span class="ident" id="7126982">p</span>&nbsp;<span class="op" id="7126984">[</span><span class="op" id="7126985">]</span><span class="builtintype" id="7126986">byte</span><span class="op" id="7126990">)</span>&nbsp;<span class="op" id="7126992">(</span><span class="ident" id="7126993">n</span>&nbsp;<span class="builtintype" id="7126995">int</span><span class="op" id="7126998">,</span>&nbsp;<span class="ident" id="7127000">err</span>&nbsp;<span class="builtintype" id="7127004">error</span><span class="op" id="7127009">)</span>&nbsp;<span class="op" id="7127011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7127014">if</span>&nbsp;<span class="ident" id="7127017">r</span><span class="op" id="7127018">.</span><span class="ident" id="7127019">step</span>&nbsp;<span class="op" id="7127024">&lt;</span>&nbsp;<span class="builtinfunc" id="7127026">len</span><span class="op" id="7127029">(</span><span class="ident" id="7127030">r</span><span class="op" id="7127031">.</span><span class="ident" id="7127032">data</span><span class="op" id="7127036">)</span>&nbsp;<span class="op" id="7127038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127042">s</span>&nbsp;<span class="op" id="7127044">:=</span>&nbsp;<span class="ident" id="7127047">r</span><span class="op" id="7127048">.</span><span class="ident" id="7127049">data</span><span class="op" id="7127053">[</span><span class="ident" id="7127054">r</span><span class="op" id="7127055">.</span><span class="ident" id="7127056">step</span><span class="op" id="7127060">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127064">n</span>&nbsp;<span class="op" id="7127066">=</span>&nbsp;<span class="builtinfunc" id="7127068">copy</span><span class="op" id="7127072">(</span><span class="ident" id="7127073">p</span><span class="op" id="7127074">,</span>&nbsp;<span class="ident" id="7127076">s</span><span class="op" id="7127077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127081">r</span><span class="op" id="7127082">.</span><span class="ident" id="7127083">step</span><span class="op" id="7127087">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127091">}</span>&nbsp;<span class="keyword" id="7127093">else</span>&nbsp;<span class="op" id="7127098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127102">err</span>&nbsp;<span class="op" id="7127106">=</span>&nbsp;<span class="ident" id="7127108">io</span><span class="op" id="7127110">.</span><span class="ident" id="7127111">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127116">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7127119">return</span><br>
<span class="lineno"></span><span class="op" id="7127126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7127129">func</span>&nbsp;<span class="ident" id="7127134">readRuneSegments</span><span class="op" id="7127150">(</span><span class="ident" id="7127151">t</span>&nbsp;<span class="op" id="7127153">*</span><span class="ident" id="7127154">testing</span><span class="op" id="7127161">.</span><span class="ident" id="7127162">T</span><span class="op" id="7127163">,</span>&nbsp;<span class="ident" id="7127165">segments</span>&nbsp;<span class="op" id="7127174">[</span><span class="op" id="7127175">]</span><span class="builtintype" id="7127176">string</span><span class="op" id="7127182">)</span>&nbsp;<span class="op" id="7127184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127187">got</span>&nbsp;<span class="op" id="7127191">:=</span>&nbsp;<span class="string" id="7127194">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127198">want</span>&nbsp;<span class="op" id="7127203">:=</span>&nbsp;<span class="ident" id="7127206">strings</span><span class="op" id="7127213">.</span><span class="ident" id="7127214">Join</span><span class="op" id="7127218">(</span><span class="ident" id="7127219">segments</span><span class="op" id="7127227">,</span>&nbsp;<span class="string" id="7127229">&#34;&#34;</span><span class="op" id="7127231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127234">s</span>&nbsp;<span class="op" id="7127236">:=</span>&nbsp;<span class="builtinfunc" id="7127239">new</span><span class="op" id="7127242">(</span><span class="ident" id="7127243">Scanner</span><span class="op" id="7127250">)</span><span class="op" id="7127251">.</span><span class="ident" id="7127252">Init</span><span class="op" id="7127256">(</span><span class="op" id="7127257">&amp;</span><span class="ident" id="7127258">StringReader</span><span class="op" id="7127270">{</span><span class="ident" id="7127271">data</span><span class="op" id="7127275">:</span>&nbsp;<span class="ident" id="7127277">segments</span><span class="op" id="7127285">}</span><span class="op" id="7127286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7127289">for</span>&nbsp;<span class="op" id="7127293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127297">ch</span>&nbsp;<span class="op" id="7127300">:=</span>&nbsp;<span class="ident" id="7127303">s</span><span class="op" id="7127304">.</span><span class="ident" id="7127305">Next</span><span class="op" id="7127309">(</span><span class="op" id="7127310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7127314">if</span>&nbsp;<span class="ident" id="7127317">ch</span>&nbsp;<span class="op" id="7127320">==</span>&nbsp;<span class="ident" id="7127323">EOF</span>&nbsp;<span class="op" id="7127327">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7127332">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127344">got</span>&nbsp;<span class="op" id="7127348">+=</span>&nbsp;<span class="builtintype" id="7127351">string</span><span class="op" id="7127357">(</span><span class="ident" id="7127358">ch</span><span class="op" id="7127360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7127366">if</span>&nbsp;<span class="ident" id="7127369">got</span>&nbsp;<span class="op" id="7127373">!=</span>&nbsp;<span class="ident" id="7127376">want</span>&nbsp;<span class="op" id="7127381">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127385">t</span><span class="op" id="7127386">.</span><span class="ident" id="7127387">Errorf</span><span class="op" id="7127393">(</span><span class="string" id="7127394">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="7127422">,</span>&nbsp;<span class="ident" id="7127424">segments</span><span class="op" id="7127432">,</span>&nbsp;<span class="ident" id="7127434">got</span><span class="op" id="7127437">,</span>&nbsp;<span class="ident" id="7127439">want</span><span class="op" id="7127443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127446">}</span><br>
<span class="lineno"></span><span class="op" id="7127448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7127451">var</span>&nbsp;<span class="ident" id="7127455">segmentList</span>&nbsp;<span class="op" id="7127467">=</span>&nbsp;<span class="op" id="7127469">[</span><span class="op" id="7127470">]</span><span class="op" id="7127471">[</span><span class="op" id="7127472">]</span><span class="builtintype" id="7127473">string</span><span class="op" id="7127479">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127482">{</span><span class="op" id="7127483">}</span><span class="op" id="7127484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127487">{</span><span class="string" id="7127488">&#34;&#34;</span><span class="op" id="7127490">}</span><span class="op" id="7127491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127494">{</span><span class="string" id="7127495">&#34;日&#34;</span><span class="op" id="7127500">,</span>&nbsp;<span class="string" id="7127502">&#34;本語&#34;</span><span class="op" id="7127510">}</span><span class="op" id="7127511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127514">{</span><span class="string" id="7127515">&#34;\u65e5&#34;</span><span class="op" id="7127523">,</span>&nbsp;<span class="string" id="7127525">&#34;\u672c&#34;</span><span class="op" id="7127533">,</span>&nbsp;<span class="string" id="7127535">&#34;\u8a9e&#34;</span><span class="op" id="7127543">}</span><span class="op" id="7127544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127547">{</span><span class="string" id="7127548">&#34;\U000065e5&#34;</span><span class="op" id="7127560">,</span>&nbsp;<span class="string" id="7127562">&#34;&nbsp;&#34;</span><span class="op" id="7127565">,</span>&nbsp;<span class="string" id="7127567">&#34;\U0000672c&#34;</span><span class="op" id="7127579">,</span>&nbsp;<span class="string" id="7127581">&#34;\U00008a9e&#34;</span><span class="op" id="7127593">}</span><span class="op" id="7127594">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127597">{</span><span class="string" id="7127598">&#34;\xe6&#34;</span><span class="op" id="7127604">,</span>&nbsp;<span class="string" id="7127606">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="7127620">,</span>&nbsp;<span class="string" id="7127622">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="7127644">}</span><span class="op" id="7127645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127648">{</span><span class="string" id="7127649">&#34;Hello&#34;</span><span class="op" id="7127656">,</span>&nbsp;<span class="string" id="7127658">&#34;,&nbsp;&#34;</span><span class="op" id="7127662">,</span>&nbsp;<span class="string" id="7127664">&#34;World&#34;</span><span class="op" id="7127671">,</span>&nbsp;<span class="string" id="7127673">&#34;!&#34;</span><span class="op" id="7127676">}</span><span class="op" id="7127677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127680">{</span><span class="string" id="7127681">&#34;Hello&#34;</span><span class="op" id="7127688">,</span>&nbsp;<span class="string" id="7127690">&#34;,&nbsp;&#34;</span><span class="op" id="7127694">,</span>&nbsp;<span class="string" id="7127696">&#34;&#34;</span><span class="op" id="7127698">,</span>&nbsp;<span class="string" id="7127700">&#34;World&#34;</span><span class="op" id="7127707">,</span>&nbsp;<span class="string" id="7127709">&#34;!&#34;</span><span class="op" id="7127712">}</span><span class="op" id="7127713">,</span><br>
<span class="lineno"></span><span class="op" id="7127715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7127718">func</span>&nbsp;<span class="ident" id="7127723">TestNext</span><span class="op" id="7127731">(</span><span class="ident" id="7127732">t</span>&nbsp;<span class="op" id="7127734">*</span><span class="ident" id="7127735">testing</span><span class="op" id="7127742">.</span><span class="ident" id="7127743">T</span><span class="op" id="7127744">)</span>&nbsp;<span class="op" id="7127746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7127749">for</span>&nbsp;<span class="ident" id="7127753">_</span><span class="op" id="7127754">,</span>&nbsp;<span class="ident" id="7127756">s</span>&nbsp;<span class="op" id="7127758">:=</span>&nbsp;<span class="keyword" id="7127761">range</span>&nbsp;<span class="ident" id="7127767">segmentList</span>&nbsp;<span class="op" id="7127779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127783">readRuneSegments</span><span class="op" id="7127799">(</span><span class="ident" id="7127800">t</span><span class="op" id="7127801">,</span>&nbsp;<span class="ident" id="7127803">s</span><span class="op" id="7127804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127807">}</span><br>
<span class="lineno"></span><span class="op" id="7127809">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7127812">type</span>&nbsp;<span class="ident" id="7127817">token</span>&nbsp;<span class="keyword" id="7127823">struct</span>&nbsp;<span class="op" id="7127830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127833">tok</span>&nbsp;&nbsp;<span class="builtintype" id="7127838">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7127844">text</span>&nbsp;<span class="builtintype" id="7127849">string</span><br>
<span class="lineno"></span><span class="op" id="7127856">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7127859">var</span>&nbsp;<span class="ident" id="7127863">f100</span>&nbsp;<span class="op" id="7127868">=</span>&nbsp;<span class="string" id="7127870">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7127974">var</span>&nbsp;<span class="ident" id="7127978">tokenList</span>&nbsp;<span class="op" id="7127988">=</span>&nbsp;<span class="op" id="7127990">[</span><span class="op" id="7127991">]</span><span class="ident" id="7127992">token</span><span class="op" id="7127997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128000">{</span><span class="ident" id="7128001">Comment</span><span class="op" id="7128008">,</span>&nbsp;<span class="string" id="7128010">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="7128028">}</span><span class="op" id="7128029">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128032">{</span><span class="ident" id="7128033">Comment</span><span class="op" id="7128040">,</span>&nbsp;<span class="string" id="7128042">&#34;//&#34;</span><span class="op" id="7128046">}</span><span class="op" id="7128047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128050">{</span><span class="ident" id="7128051">Comment</span><span class="op" id="7128058">,</span>&nbsp;<span class="string" id="7128060">&#34;////&#34;</span><span class="op" id="7128066">}</span><span class="op" id="7128067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128070">{</span><span class="ident" id="7128071">Comment</span><span class="op" id="7128078">,</span>&nbsp;<span class="string" id="7128080">&#34;//&nbsp;comment&#34;</span><span class="op" id="7128092">}</span><span class="op" id="7128093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128096">{</span><span class="ident" id="7128097">Comment</span><span class="op" id="7128104">,</span>&nbsp;<span class="string" id="7128106">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7128124">}</span><span class="op" id="7128125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128128">{</span><span class="ident" id="7128129">Comment</span><span class="op" id="7128136">,</span>&nbsp;<span class="string" id="7128138">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="7128156">}</span><span class="op" id="7128157">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128160">{</span><span class="ident" id="7128161">Comment</span><span class="op" id="7128168">,</span>&nbsp;<span class="string" id="7128170">&#34;//&#34;</span>&nbsp;<span class="op" id="7128175">+</span>&nbsp;<span class="ident" id="7128177">f100</span><span class="op" id="7128181">}</span><span class="op" id="7128182">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128186">{</span><span class="ident" id="7128187">Comment</span><span class="op" id="7128194">,</span>&nbsp;<span class="string" id="7128196">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="7128217">}</span><span class="op" id="7128218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128221">{</span><span class="ident" id="7128222">Comment</span><span class="op" id="7128229">,</span>&nbsp;<span class="string" id="7128231">&#34;/**/&#34;</span><span class="op" id="7128237">}</span><span class="op" id="7128238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128241">{</span><span class="ident" id="7128242">Comment</span><span class="op" id="7128249">,</span>&nbsp;<span class="string" id="7128251">&#34;/***/&#34;</span><span class="op" id="7128258">}</span><span class="op" id="7128259">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128262">{</span><span class="ident" id="7128263">Comment</span><span class="op" id="7128270">,</span>&nbsp;<span class="string" id="7128272">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7128287">}</span><span class="op" id="7128288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128291">{</span><span class="ident" id="7128292">Comment</span><span class="op" id="7128299">,</span>&nbsp;<span class="string" id="7128301">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7128319">}</span><span class="op" id="7128320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128323">{</span><span class="ident" id="7128324">Comment</span><span class="op" id="7128331">,</span>&nbsp;<span class="string" id="7128333">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7128351">}</span><span class="op" id="7128352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128355">{</span><span class="ident" id="7128356">Comment</span><span class="op" id="7128363">,</span>&nbsp;<span class="string" id="7128365">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="7128383">}</span><span class="op" id="7128384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128387">{</span><span class="ident" id="7128388">Comment</span><span class="op" id="7128395">,</span>&nbsp;<span class="string" id="7128397">&#34;/*&#34;</span>&nbsp;<span class="op" id="7128402">+</span>&nbsp;<span class="ident" id="7128404">f100</span>&nbsp;<span class="op" id="7128409">+</span>&nbsp;<span class="string" id="7128411">&#34;*/&#34;</span><span class="op" id="7128415">}</span><span class="op" id="7128416">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128420">{</span><span class="ident" id="7128421">Comment</span><span class="op" id="7128428">,</span>&nbsp;<span class="string" id="7128430">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="7128446">}</span><span class="op" id="7128447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128450">{</span><span class="ident" id="7128451">Ident</span><span class="op" id="7128456">,</span>&nbsp;<span class="string" id="7128458">&#34;a&#34;</span><span class="op" id="7128461">}</span><span class="op" id="7128462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128465">{</span><span class="ident" id="7128466">Ident</span><span class="op" id="7128471">,</span>&nbsp;<span class="string" id="7128473">&#34;a0&#34;</span><span class="op" id="7128477">}</span><span class="op" id="7128478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128481">{</span><span class="ident" id="7128482">Ident</span><span class="op" id="7128487">,</span>&nbsp;<span class="string" id="7128489">&#34;foobar&#34;</span><span class="op" id="7128497">}</span><span class="op" id="7128498">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128501">{</span><span class="ident" id="7128502">Ident</span><span class="op" id="7128507">,</span>&nbsp;<span class="string" id="7128509">&#34;abc123&#34;</span><span class="op" id="7128517">}</span><span class="op" id="7128518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128521">{</span><span class="ident" id="7128522">Ident</span><span class="op" id="7128527">,</span>&nbsp;<span class="string" id="7128529">&#34;LGTM&#34;</span><span class="op" id="7128535">}</span><span class="op" id="7128536">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128539">{</span><span class="ident" id="7128540">Ident</span><span class="op" id="7128545">,</span>&nbsp;<span class="string" id="7128547">&#34;_&#34;</span><span class="op" id="7128550">}</span><span class="op" id="7128551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128554">{</span><span class="ident" id="7128555">Ident</span><span class="op" id="7128560">,</span>&nbsp;<span class="string" id="7128562">&#34;_abc123&#34;</span><span class="op" id="7128571">}</span><span class="op" id="7128572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128575">{</span><span class="ident" id="7128576">Ident</span><span class="op" id="7128581">,</span>&nbsp;<span class="string" id="7128583">&#34;abc123_&#34;</span><span class="op" id="7128592">}</span><span class="op" id="7128593">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128596">{</span><span class="ident" id="7128597">Ident</span><span class="op" id="7128602">,</span>&nbsp;<span class="string" id="7128604">&#34;_abc_123_&#34;</span><span class="op" id="7128615">}</span><span class="op" id="7128616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128619">{</span><span class="ident" id="7128620">Ident</span><span class="op" id="7128625">,</span>&nbsp;<span class="string" id="7128627">&#34;_äöü&#34;</span><span class="op" id="7128636">}</span><span class="op" id="7128637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128640">{</span><span class="ident" id="7128641">Ident</span><span class="op" id="7128646">,</span>&nbsp;<span class="string" id="7128648">&#34;_本&#34;</span><span class="op" id="7128654">}</span><span class="op" id="7128655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128658">{</span><span class="ident" id="7128659">Ident</span><span class="op" id="7128664">,</span>&nbsp;<span class="string" id="7128666">&#34;äöü&#34;</span><span class="op" id="7128674">}</span><span class="op" id="7128675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128678">{</span><span class="ident" id="7128679">Ident</span><span class="op" id="7128684">,</span>&nbsp;<span class="string" id="7128686">&#34;本&#34;</span><span class="op" id="7128691">}</span><span class="op" id="7128692">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128695">{</span><span class="ident" id="7128696">Ident</span><span class="op" id="7128701">,</span>&nbsp;<span class="string" id="7128703">&#34;a۰۱۸&#34;</span><span class="op" id="7128712">}</span><span class="op" id="7128713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128716">{</span><span class="ident" id="7128717">Ident</span><span class="op" id="7128722">,</span>&nbsp;<span class="string" id="7128724">&#34;foo६४&#34;</span><span class="op" id="7128735">}</span><span class="op" id="7128736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128739">{</span><span class="ident" id="7128740">Ident</span><span class="op" id="7128745">,</span>&nbsp;<span class="string" id="7128747">&#34;bar９８７６&#34;</span><span class="op" id="7128764">}</span><span class="op" id="7128765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128768">{</span><span class="ident" id="7128769">Ident</span><span class="op" id="7128774">,</span>&nbsp;<span class="ident" id="7128776">f100</span><span class="op" id="7128780">}</span><span class="op" id="7128781">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128785">{</span><span class="ident" id="7128786">Comment</span><span class="op" id="7128793">,</span>&nbsp;<span class="string" id="7128795">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="7128812">}</span><span class="op" id="7128813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128816">{</span><span class="ident" id="7128817">Int</span><span class="op" id="7128820">,</span>&nbsp;<span class="string" id="7128822">&#34;0&#34;</span><span class="op" id="7128825">}</span><span class="op" id="7128826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128829">{</span><span class="ident" id="7128830">Int</span><span class="op" id="7128833">,</span>&nbsp;<span class="string" id="7128835">&#34;1&#34;</span><span class="op" id="7128838">}</span><span class="op" id="7128839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128842">{</span><span class="ident" id="7128843">Int</span><span class="op" id="7128846">,</span>&nbsp;<span class="string" id="7128848">&#34;9&#34;</span><span class="op" id="7128851">}</span><span class="op" id="7128852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128855">{</span><span class="ident" id="7128856">Int</span><span class="op" id="7128859">,</span>&nbsp;<span class="string" id="7128861">&#34;42&#34;</span><span class="op" id="7128865">}</span><span class="op" id="7128866">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128869">{</span><span class="ident" id="7128870">Int</span><span class="op" id="7128873">,</span>&nbsp;<span class="string" id="7128875">&#34;1234567890&#34;</span><span class="op" id="7128887">}</span><span class="op" id="7128888">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128892">{</span><span class="ident" id="7128893">Comment</span><span class="op" id="7128900">,</span>&nbsp;<span class="string" id="7128902">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="7128917">}</span><span class="op" id="7128918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128921">{</span><span class="ident" id="7128922">Int</span><span class="op" id="7128925">,</span>&nbsp;<span class="string" id="7128927">&#34;00&#34;</span><span class="op" id="7128931">}</span><span class="op" id="7128932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128935">{</span><span class="ident" id="7128936">Int</span><span class="op" id="7128939">,</span>&nbsp;<span class="string" id="7128941">&#34;01&#34;</span><span class="op" id="7128945">}</span><span class="op" id="7128946">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128949">{</span><span class="ident" id="7128950">Int</span><span class="op" id="7128953">,</span>&nbsp;<span class="string" id="7128955">&#34;07&#34;</span><span class="op" id="7128959">}</span><span class="op" id="7128960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128963">{</span><span class="ident" id="7128964">Int</span><span class="op" id="7128967">,</span>&nbsp;<span class="string" id="7128969">&#34;042&#34;</span><span class="op" id="7128974">}</span><span class="op" id="7128975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128978">{</span><span class="ident" id="7128979">Int</span><span class="op" id="7128982">,</span>&nbsp;<span class="string" id="7128984">&#34;01234567&#34;</span><span class="op" id="7128994">}</span><span class="op" id="7128995">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128999">{</span><span class="ident" id="7129000">Comment</span><span class="op" id="7129007">,</span>&nbsp;<span class="string" id="7129009">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="7129030">}</span><span class="op" id="7129031">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129034">{</span><span class="ident" id="7129035">Int</span><span class="op" id="7129038">,</span>&nbsp;<span class="string" id="7129040">&#34;0x0&#34;</span><span class="op" id="7129045">}</span><span class="op" id="7129046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129049">{</span><span class="ident" id="7129050">Int</span><span class="op" id="7129053">,</span>&nbsp;<span class="string" id="7129055">&#34;0x1&#34;</span><span class="op" id="7129060">}</span><span class="op" id="7129061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129064">{</span><span class="ident" id="7129065">Int</span><span class="op" id="7129068">,</span>&nbsp;<span class="string" id="7129070">&#34;0xf&#34;</span><span class="op" id="7129075">}</span><span class="op" id="7129076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129079">{</span><span class="ident" id="7129080">Int</span><span class="op" id="7129083">,</span>&nbsp;<span class="string" id="7129085">&#34;0x42&#34;</span><span class="op" id="7129091">}</span><span class="op" id="7129092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129095">{</span><span class="ident" id="7129096">Int</span><span class="op" id="7129099">,</span>&nbsp;<span class="string" id="7129101">&#34;0x123456789abcDEF&#34;</span><span class="op" id="7129120">}</span><span class="op" id="7129121">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129124">{</span><span class="ident" id="7129125">Int</span><span class="op" id="7129128">,</span>&nbsp;<span class="string" id="7129130">&#34;0x&#34;</span>&nbsp;<span class="op" id="7129135">+</span>&nbsp;<span class="ident" id="7129137">f100</span><span class="op" id="7129141">}</span><span class="op" id="7129142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129145">{</span><span class="ident" id="7129146">Int</span><span class="op" id="7129149">,</span>&nbsp;<span class="string" id="7129151">&#34;0X0&#34;</span><span class="op" id="7129156">}</span><span class="op" id="7129157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129160">{</span><span class="ident" id="7129161">Int</span><span class="op" id="7129164">,</span>&nbsp;<span class="string" id="7129166">&#34;0X1&#34;</span><span class="op" id="7129171">}</span><span class="op" id="7129172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129175">{</span><span class="ident" id="7129176">Int</span><span class="op" id="7129179">,</span>&nbsp;<span class="string" id="7129181">&#34;0XF&#34;</span><span class="op" id="7129186">}</span><span class="op" id="7129187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129190">{</span><span class="ident" id="7129191">Int</span><span class="op" id="7129194">,</span>&nbsp;<span class="string" id="7129196">&#34;0X42&#34;</span><span class="op" id="7129202">}</span><span class="op" id="7129203">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129206">{</span><span class="ident" id="7129207">Int</span><span class="op" id="7129210">,</span>&nbsp;<span class="string" id="7129212">&#34;0X123456789abcDEF&#34;</span><span class="op" id="7129231">}</span><span class="op" id="7129232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129235">{</span><span class="ident" id="7129236">Int</span><span class="op" id="7129239">,</span>&nbsp;<span class="string" id="7129241">&#34;0X&#34;</span>&nbsp;<span class="op" id="7129246">+</span>&nbsp;<span class="ident" id="7129248">f100</span><span class="op" id="7129252">}</span><span class="op" id="7129253">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129257">{</span><span class="ident" id="7129258">Comment</span><span class="op" id="7129265">,</span>&nbsp;<span class="string" id="7129267">&#34;//&nbsp;floats&#34;</span><span class="op" id="7129278">}</span><span class="op" id="7129279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129282">{</span><span class="ident" id="7129283">Float</span><span class="op" id="7129288">,</span>&nbsp;<span class="string" id="7129290">&#34;0.&#34;</span><span class="op" id="7129294">}</span><span class="op" id="7129295">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129298">{</span><span class="ident" id="7129299">Float</span><span class="op" id="7129304">,</span>&nbsp;<span class="string" id="7129306">&#34;1.&#34;</span><span class="op" id="7129310">}</span><span class="op" id="7129311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129314">{</span><span class="ident" id="7129315">Float</span><span class="op" id="7129320">,</span>&nbsp;<span class="string" id="7129322">&#34;42.&#34;</span><span class="op" id="7129327">}</span><span class="op" id="7129328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129331">{</span><span class="ident" id="7129332">Float</span><span class="op" id="7129337">,</span>&nbsp;<span class="string" id="7129339">&#34;01234567890.&#34;</span><span class="op" id="7129353">}</span><span class="op" id="7129354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129357">{</span><span class="ident" id="7129358">Float</span><span class="op" id="7129363">,</span>&nbsp;<span class="string" id="7129365">&#34;.0&#34;</span><span class="op" id="7129369">}</span><span class="op" id="7129370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129373">{</span><span class="ident" id="7129374">Float</span><span class="op" id="7129379">,</span>&nbsp;<span class="string" id="7129381">&#34;.1&#34;</span><span class="op" id="7129385">}</span><span class="op" id="7129386">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129389">{</span><span class="ident" id="7129390">Float</span><span class="op" id="7129395">,</span>&nbsp;<span class="string" id="7129397">&#34;.42&#34;</span><span class="op" id="7129402">}</span><span class="op" id="7129403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129406">{</span><span class="ident" id="7129407">Float</span><span class="op" id="7129412">,</span>&nbsp;<span class="string" id="7129414">&#34;.0123456789&#34;</span><span class="op" id="7129427">}</span><span class="op" id="7129428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129431">{</span><span class="ident" id="7129432">Float</span><span class="op" id="7129437">,</span>&nbsp;<span class="string" id="7129439">&#34;0.0&#34;</span><span class="op" id="7129444">}</span><span class="op" id="7129445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129448">{</span><span class="ident" id="7129449">Float</span><span class="op" id="7129454">,</span>&nbsp;<span class="string" id="7129456">&#34;1.0&#34;</span><span class="op" id="7129461">}</span><span class="op" id="7129462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129465">{</span><span class="ident" id="7129466">Float</span><span class="op" id="7129471">,</span>&nbsp;<span class="string" id="7129473">&#34;42.0&#34;</span><span class="op" id="7129479">}</span><span class="op" id="7129480">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129483">{</span><span class="ident" id="7129484">Float</span><span class="op" id="7129489">,</span>&nbsp;<span class="string" id="7129491">&#34;01234567890.0&#34;</span><span class="op" id="7129506">}</span><span class="op" id="7129507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129510">{</span><span class="ident" id="7129511">Float</span><span class="op" id="7129516">,</span>&nbsp;<span class="string" id="7129518">&#34;0e0&#34;</span><span class="op" id="7129523">}</span><span class="op" id="7129524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129527">{</span><span class="ident" id="7129528">Float</span><span class="op" id="7129533">,</span>&nbsp;<span class="string" id="7129535">&#34;1e0&#34;</span><span class="op" id="7129540">}</span><span class="op" id="7129541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129544">{</span><span class="ident" id="7129545">Float</span><span class="op" id="7129550">,</span>&nbsp;<span class="string" id="7129552">&#34;42e0&#34;</span><span class="op" id="7129558">}</span><span class="op" id="7129559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129562">{</span><span class="ident" id="7129563">Float</span><span class="op" id="7129568">,</span>&nbsp;<span class="string" id="7129570">&#34;01234567890e0&#34;</span><span class="op" id="7129585">}</span><span class="op" id="7129586">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129589">{</span><span class="ident" id="7129590">Float</span><span class="op" id="7129595">,</span>&nbsp;<span class="string" id="7129597">&#34;0E0&#34;</span><span class="op" id="7129602">}</span><span class="op" id="7129603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129606">{</span><span class="ident" id="7129607">Float</span><span class="op" id="7129612">,</span>&nbsp;<span class="string" id="7129614">&#34;1E0&#34;</span><span class="op" id="7129619">}</span><span class="op" id="7129620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129623">{</span><span class="ident" id="7129624">Float</span><span class="op" id="7129629">,</span>&nbsp;<span class="string" id="7129631">&#34;42E0&#34;</span><span class="op" id="7129637">}</span><span class="op" id="7129638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129641">{</span><span class="ident" id="7129642">Float</span><span class="op" id="7129647">,</span>&nbsp;<span class="string" id="7129649">&#34;01234567890E0&#34;</span><span class="op" id="7129664">}</span><span class="op" id="7129665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129668">{</span><span class="ident" id="7129669">Float</span><span class="op" id="7129674">,</span>&nbsp;<span class="string" id="7129676">&#34;0e+10&#34;</span><span class="op" id="7129683">}</span><span class="op" id="7129684">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129687">{</span><span class="ident" id="7129688">Float</span><span class="op" id="7129693">,</span>&nbsp;<span class="string" id="7129695">&#34;1e-10&#34;</span><span class="op" id="7129702">}</span><span class="op" id="7129703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129706">{</span><span class="ident" id="7129707">Float</span><span class="op" id="7129712">,</span>&nbsp;<span class="string" id="7129714">&#34;42e+10&#34;</span><span class="op" id="7129722">}</span><span class="op" id="7129723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129726">{</span><span class="ident" id="7129727">Float</span><span class="op" id="7129732">,</span>&nbsp;<span class="string" id="7129734">&#34;01234567890e-10&#34;</span><span class="op" id="7129751">}</span><span class="op" id="7129752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129755">{</span><span class="ident" id="7129756">Float</span><span class="op" id="7129761">,</span>&nbsp;<span class="string" id="7129763">&#34;0E+10&#34;</span><span class="op" id="7129770">}</span><span class="op" id="7129771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129774">{</span><span class="ident" id="7129775">Float</span><span class="op" id="7129780">,</span>&nbsp;<span class="string" id="7129782">&#34;1E-10&#34;</span><span class="op" id="7129789">}</span><span class="op" id="7129790">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129793">{</span><span class="ident" id="7129794">Float</span><span class="op" id="7129799">,</span>&nbsp;<span class="string" id="7129801">&#34;42E+10&#34;</span><span class="op" id="7129809">}</span><span class="op" id="7129810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129813">{</span><span class="ident" id="7129814">Float</span><span class="op" id="7129819">,</span>&nbsp;<span class="string" id="7129821">&#34;01234567890E-10&#34;</span><span class="op" id="7129838">}</span><span class="op" id="7129839">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129843">{</span><span class="ident" id="7129844">Comment</span><span class="op" id="7129851">,</span>&nbsp;<span class="string" id="7129853">&#34;//&nbsp;chars&#34;</span><span class="op" id="7129863">}</span><span class="op" id="7129864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129867">{</span><span class="ident" id="7129868">Char</span><span class="op" id="7129872">,</span>&nbsp;<span class="string" id="7129874">`&#39;&nbsp;&#39;`</span><span class="op" id="7129879">}</span><span class="op" id="7129880">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129883">{</span><span class="ident" id="7129884">Char</span><span class="op" id="7129888">,</span>&nbsp;<span class="string" id="7129890">`&#39;a&#39;`</span><span class="op" id="7129895">}</span><span class="op" id="7129896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129899">{</span><span class="ident" id="7129900">Char</span><span class="op" id="7129904">,</span>&nbsp;<span class="string" id="7129906">`&#39;本&#39;`</span><span class="op" id="7129913">}</span><span class="op" id="7129914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129917">{</span><span class="ident" id="7129918">Char</span><span class="op" id="7129922">,</span>&nbsp;<span class="string" id="7129924">`&#39;\a&#39;`</span><span class="op" id="7129930">}</span><span class="op" id="7129931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129934">{</span><span class="ident" id="7129935">Char</span><span class="op" id="7129939">,</span>&nbsp;<span class="string" id="7129941">`&#39;\b&#39;`</span><span class="op" id="7129947">}</span><span class="op" id="7129948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129951">{</span><span class="ident" id="7129952">Char</span><span class="op" id="7129956">,</span>&nbsp;<span class="string" id="7129958">`&#39;\f&#39;`</span><span class="op" id="7129964">}</span><span class="op" id="7129965">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129968">{</span><span class="ident" id="7129969">Char</span><span class="op" id="7129973">,</span>&nbsp;<span class="string" id="7129975">`&#39;\n&#39;`</span><span class="op" id="7129981">}</span><span class="op" id="7129982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129985">{</span><span class="ident" id="7129986">Char</span><span class="op" id="7129990">,</span>&nbsp;<span class="string" id="7129992">`&#39;\r&#39;`</span><span class="op" id="7129998">}</span><span class="op" id="7129999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130002">{</span><span class="ident" id="7130003">Char</span><span class="op" id="7130007">,</span>&nbsp;<span class="string" id="7130009">`&#39;\t&#39;`</span><span class="op" id="7130015">}</span><span class="op" id="7130016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130019">{</span><span class="ident" id="7130020">Char</span><span class="op" id="7130024">,</span>&nbsp;<span class="string" id="7130026">`&#39;\v&#39;`</span><span class="op" id="7130032">}</span><span class="op" id="7130033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130036">{</span><span class="ident" id="7130037">Char</span><span class="op" id="7130041">,</span>&nbsp;<span class="string" id="7130043">`&#39;\&#39;&#39;`</span><span class="op" id="7130049">}</span><span class="op" id="7130050">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130053">{</span><span class="ident" id="7130054">Char</span><span class="op" id="7130058">,</span>&nbsp;<span class="string" id="7130060">`&#39;\000&#39;`</span><span class="op" id="7130068">}</span><span class="op" id="7130069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130072">{</span><span class="ident" id="7130073">Char</span><span class="op" id="7130077">,</span>&nbsp;<span class="string" id="7130079">`&#39;\777&#39;`</span><span class="op" id="7130087">}</span><span class="op" id="7130088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130091">{</span><span class="ident" id="7130092">Char</span><span class="op" id="7130096">,</span>&nbsp;<span class="string" id="7130098">`&#39;\x00&#39;`</span><span class="op" id="7130106">}</span><span class="op" id="7130107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130110">{</span><span class="ident" id="7130111">Char</span><span class="op" id="7130115">,</span>&nbsp;<span class="string" id="7130117">`&#39;\xff&#39;`</span><span class="op" id="7130125">}</span><span class="op" id="7130126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130129">{</span><span class="ident" id="7130130">Char</span><span class="op" id="7130134">,</span>&nbsp;<span class="string" id="7130136">`&#39;\u0000&#39;`</span><span class="op" id="7130146">}</span><span class="op" id="7130147">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130150">{</span><span class="ident" id="7130151">Char</span><span class="op" id="7130155">,</span>&nbsp;<span class="string" id="7130157">`&#39;\ufA16&#39;`</span><span class="op" id="7130167">}</span><span class="op" id="7130168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130171">{</span><span class="ident" id="7130172">Char</span><span class="op" id="7130176">,</span>&nbsp;<span class="string" id="7130178">`&#39;\U00000000&#39;`</span><span class="op" id="7130192">}</span><span class="op" id="7130193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130196">{</span><span class="ident" id="7130197">Char</span><span class="op" id="7130201">,</span>&nbsp;<span class="string" id="7130203">`&#39;\U0000ffAB&#39;`</span><span class="op" id="7130217">}</span><span class="op" id="7130218">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130222">{</span><span class="ident" id="7130223">Comment</span><span class="op" id="7130230">,</span>&nbsp;<span class="string" id="7130232">&#34;//&nbsp;strings&#34;</span><span class="op" id="7130244">}</span><span class="op" id="7130245">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130248">{</span><span class="ident" id="7130249">String</span><span class="op" id="7130255">,</span>&nbsp;<span class="string" id="7130257">`&#34;&nbsp;&#34;`</span><span class="op" id="7130262">}</span><span class="op" id="7130263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130266">{</span><span class="ident" id="7130267">String</span><span class="op" id="7130273">,</span>&nbsp;<span class="string" id="7130275">`&#34;a&#34;`</span><span class="op" id="7130280">}</span><span class="op" id="7130281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130284">{</span><span class="ident" id="7130285">String</span><span class="op" id="7130291">,</span>&nbsp;<span class="string" id="7130293">`&#34;本&#34;`</span><span class="op" id="7130300">}</span><span class="op" id="7130301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130304">{</span><span class="ident" id="7130305">String</span><span class="op" id="7130311">,</span>&nbsp;<span class="string" id="7130313">`&#34;\a&#34;`</span><span class="op" id="7130319">}</span><span class="op" id="7130320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130323">{</span><span class="ident" id="7130324">String</span><span class="op" id="7130330">,</span>&nbsp;<span class="string" id="7130332">`&#34;\b&#34;`</span><span class="op" id="7130338">}</span><span class="op" id="7130339">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130342">{</span><span class="ident" id="7130343">String</span><span class="op" id="7130349">,</span>&nbsp;<span class="string" id="7130351">`&#34;\f&#34;`</span><span class="op" id="7130357">}</span><span class="op" id="7130358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130361">{</span><span class="ident" id="7130362">String</span><span class="op" id="7130368">,</span>&nbsp;<span class="string" id="7130370">`&#34;\n&#34;`</span><span class="op" id="7130376">}</span><span class="op" id="7130377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130380">{</span><span class="ident" id="7130381">String</span><span class="op" id="7130387">,</span>&nbsp;<span class="string" id="7130389">`&#34;\r&#34;`</span><span class="op" id="7130395">}</span><span class="op" id="7130396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130399">{</span><span class="ident" id="7130400">String</span><span class="op" id="7130406">,</span>&nbsp;<span class="string" id="7130408">`&#34;\t&#34;`</span><span class="op" id="7130414">}</span><span class="op" id="7130415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130418">{</span><span class="ident" id="7130419">String</span><span class="op" id="7130425">,</span>&nbsp;<span class="string" id="7130427">`&#34;\v&#34;`</span><span class="op" id="7130433">}</span><span class="op" id="7130434">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130437">{</span><span class="ident" id="7130438">String</span><span class="op" id="7130444">,</span>&nbsp;<span class="string" id="7130446">`&#34;\&#34;&#34;`</span><span class="op" id="7130452">}</span><span class="op" id="7130453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130456">{</span><span class="ident" id="7130457">String</span><span class="op" id="7130463">,</span>&nbsp;<span class="string" id="7130465">`&#34;\000&#34;`</span><span class="op" id="7130473">}</span><span class="op" id="7130474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130477">{</span><span class="ident" id="7130478">String</span><span class="op" id="7130484">,</span>&nbsp;<span class="string" id="7130486">`&#34;\777&#34;`</span><span class="op" id="7130494">}</span><span class="op" id="7130495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130498">{</span><span class="ident" id="7130499">String</span><span class="op" id="7130505">,</span>&nbsp;<span class="string" id="7130507">`&#34;\x00&#34;`</span><span class="op" id="7130515">}</span><span class="op" id="7130516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130519">{</span><span class="ident" id="7130520">String</span><span class="op" id="7130526">,</span>&nbsp;<span class="string" id="7130528">`&#34;\xff&#34;`</span><span class="op" id="7130536">}</span><span class="op" id="7130537">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130540">{</span><span class="ident" id="7130541">String</span><span class="op" id="7130547">,</span>&nbsp;<span class="string" id="7130549">`&#34;\u0000&#34;`</span><span class="op" id="7130559">}</span><span class="op" id="7130560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130563">{</span><span class="ident" id="7130564">String</span><span class="op" id="7130570">,</span>&nbsp;<span class="string" id="7130572">`&#34;\ufA16&#34;`</span><span class="op" id="7130582">}</span><span class="op" id="7130583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130586">{</span><span class="ident" id="7130587">String</span><span class="op" id="7130593">,</span>&nbsp;<span class="string" id="7130595">`&#34;\U00000000&#34;`</span><span class="op" id="7130609">}</span><span class="op" id="7130610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130613">{</span><span class="ident" id="7130614">String</span><span class="op" id="7130620">,</span>&nbsp;<span class="string" id="7130622">`&#34;\U0000ffAB&#34;`</span><span class="op" id="7130636">}</span><span class="op" id="7130637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130640">{</span><span class="ident" id="7130641">String</span><span class="op" id="7130647">,</span>&nbsp;<span class="string" id="7130649">`&#34;`</span>&nbsp;<span class="op" id="7130653">+</span>&nbsp;<span class="ident" id="7130655">f100</span>&nbsp;<span class="op" id="7130660">+</span>&nbsp;<span class="string" id="7130662">`&#34;`</span><span class="op" id="7130665">}</span><span class="op" id="7130666">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130670">{</span><span class="ident" id="7130671">Comment</span><span class="op" id="7130678">,</span>&nbsp;<span class="string" id="7130680">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="7130696">}</span><span class="op" id="7130697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130700">{</span><span class="ident" id="7130701">String</span><span class="op" id="7130707">,</span>&nbsp;<span class="string" id="7130709">&#34;``&#34;</span><span class="op" id="7130713">}</span><span class="op" id="7130714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130717">{</span><span class="ident" id="7130718">String</span><span class="op" id="7130724">,</span>&nbsp;<span class="string" id="7130726">&#34;`\\`&#34;</span><span class="op" id="7130732">}</span><span class="op" id="7130733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130736">{</span><span class="ident" id="7130737">String</span><span class="op" id="7130743">,</span>&nbsp;<span class="string" id="7130745">&#34;`&#34;</span>&nbsp;<span class="op" id="7130749">+</span>&nbsp;<span class="string" id="7130751">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="7130774">+</span>&nbsp;<span class="string" id="7130776">&#34;`&#34;</span><span class="op" id="7130779">}</span><span class="op" id="7130780">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130783">{</span><span class="ident" id="7130784">String</span><span class="op" id="7130790">,</span>&nbsp;<span class="string" id="7130792">&#34;`&#34;</span>&nbsp;<span class="op" id="7130796">+</span>&nbsp;<span class="ident" id="7130798">f100</span>&nbsp;<span class="op" id="7130803">+</span>&nbsp;<span class="string" id="7130805">&#34;`&#34;</span><span class="op" id="7130808">}</span><span class="op" id="7130809">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130813">{</span><span class="ident" id="7130814">Comment</span><span class="op" id="7130821">,</span>&nbsp;<span class="string" id="7130823">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="7130849">}</span><span class="op" id="7130850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7130853">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130886">{</span><span class="string" id="7130887">&#39;\x01&#39;</span><span class="op" id="7130893">,</span>&nbsp;<span class="string" id="7130895">&#34;\x01&#34;</span><span class="op" id="7130901">}</span><span class="op" id="7130902">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130905">{</span><span class="string" id="7130906">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7130910">-</span>&nbsp;<span class="num" id="7130912">1</span><span class="op" id="7130913">,</span>&nbsp;<span class="builtintype" id="7130915">string</span><span class="op" id="7130921">(</span><span class="string" id="7130922">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7130926">-</span>&nbsp;<span class="num" id="7130928">1</span><span class="op" id="7130929">)</span><span class="op" id="7130930">}</span><span class="op" id="7130931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130934">{</span><span class="string" id="7130935">&#39;+&#39;</span><span class="op" id="7130938">,</span>&nbsp;<span class="string" id="7130940">&#34;+&#34;</span><span class="op" id="7130943">}</span><span class="op" id="7130944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130947">{</span><span class="string" id="7130948">&#39;/&#39;</span><span class="op" id="7130951">,</span>&nbsp;<span class="string" id="7130953">&#34;/&#34;</span><span class="op" id="7130956">}</span><span class="op" id="7130957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130960">{</span><span class="string" id="7130961">&#39;.&#39;</span><span class="op" id="7130964">,</span>&nbsp;<span class="string" id="7130966">&#34;.&#34;</span><span class="op" id="7130969">}</span><span class="op" id="7130970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130973">{</span><span class="string" id="7130974">&#39;~&#39;</span><span class="op" id="7130977">,</span>&nbsp;<span class="string" id="7130979">&#34;~&#34;</span><span class="op" id="7130982">}</span><span class="op" id="7130983">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130986">{</span><span class="string" id="7130987">&#39;(&#39;</span><span class="op" id="7130990">,</span>&nbsp;<span class="string" id="7130992">&#34;(&#34;</span><span class="op" id="7130995">}</span><span class="op" id="7130996">,</span><br>
<span class="lineno"></span><span class="op" id="7130998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7131001">func</span>&nbsp;<span class="ident" id="7131006">makeSource</span><span class="op" id="7131016">(</span><span class="ident" id="7131017">pattern</span>&nbsp;<span class="builtintype" id="7131025">string</span><span class="op" id="7131031">)</span>&nbsp;<span class="op" id="7131033">*</span><span class="ident" id="7131034">bytes</span><span class="op" id="7131039">.</span><span class="ident" id="7131040">Buffer</span>&nbsp;<span class="op" id="7131047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131050">var</span>&nbsp;<span class="ident" id="7131054">buf</span>&nbsp;<span class="ident" id="7131058">bytes</span><span class="op" id="7131063">.</span><span class="ident" id="7131064">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131072">for</span>&nbsp;<span class="ident" id="7131076">_</span><span class="op" id="7131077">,</span>&nbsp;<span class="ident" id="7131079">k</span>&nbsp;<span class="op" id="7131081">:=</span>&nbsp;<span class="keyword" id="7131084">range</span>&nbsp;<span class="ident" id="7131090">tokenList</span>&nbsp;<span class="op" id="7131100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131104">fmt</span><span class="op" id="7131107">.</span><span class="ident" id="7131108">Fprintf</span><span class="op" id="7131115">(</span><span class="op" id="7131116">&amp;</span><span class="ident" id="7131117">buf</span><span class="op" id="7131120">,</span>&nbsp;<span class="ident" id="7131122">pattern</span><span class="op" id="7131129">,</span>&nbsp;<span class="ident" id="7131131">k</span><span class="op" id="7131132">.</span><span class="ident" id="7131133">text</span><span class="op" id="7131137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131143">return</span>&nbsp;<span class="op" id="7131150">&amp;</span><span class="ident" id="7131151">buf</span><br>
<span class="lineno"></span><span class="op" id="7131155">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="7131158">func</span>&nbsp;<span class="ident" id="7131163">checkTok</span><span class="op" id="7131171">(</span><span class="ident" id="7131172">t</span>&nbsp;<span class="op" id="7131174">*</span><span class="ident" id="7131175">testing</span><span class="op" id="7131182">.</span><span class="ident" id="7131183">T</span><span class="op" id="7131184">,</span>&nbsp;<span class="ident" id="7131186">s</span>&nbsp;<span class="op" id="7131188">*</span><span class="ident" id="7131189">Scanner</span><span class="op" id="7131196">,</span>&nbsp;<span class="ident" id="7131198">line</span>&nbsp;<span class="builtintype" id="7131203">int</span><span class="op" id="7131206">,</span>&nbsp;<span class="ident" id="7131208">got</span><span class="op" id="7131211">,</span>&nbsp;<span class="ident" id="7131213">want</span>&nbsp;<span class="builtintype" id="7131218">rune</span><span class="op" id="7131222">,</span>&nbsp;<span class="ident" id="7131224">text</span>&nbsp;<span class="builtintype" id="7131229">string</span><span class="op" id="7131235">)</span>&nbsp;<span class="op" id="7131237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131240">if</span>&nbsp;<span class="ident" id="7131243">got</span>&nbsp;<span class="op" id="7131247">!=</span>&nbsp;<span class="ident" id="7131250">want</span>&nbsp;<span class="op" id="7131255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131259">t</span><span class="op" id="7131260">.</span><span class="ident" id="7131261">Fatalf</span><span class="op" id="7131267">(</span><span class="string" id="7131268">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7131294">,</span>&nbsp;<span class="ident" id="7131296">TokenString</span><span class="op" id="7131307">(</span><span class="ident" id="7131308">got</span><span class="op" id="7131311">)</span><span class="op" id="7131312">,</span>&nbsp;<span class="ident" id="7131314">TokenString</span><span class="op" id="7131325">(</span><span class="ident" id="7131326">want</span><span class="op" id="7131330">)</span><span class="op" id="7131331">,</span>&nbsp;<span class="ident" id="7131333">text</span><span class="op" id="7131337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131340">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131343">if</span>&nbsp;<span class="ident" id="7131346">s</span><span class="op" id="7131347">.</span><span class="ident" id="7131348">Line</span>&nbsp;<span class="op" id="7131353">!=</span>&nbsp;<span class="ident" id="7131356">line</span>&nbsp;<span class="op" id="7131361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131365">t</span><span class="op" id="7131366">.</span><span class="ident" id="7131367">Errorf</span><span class="op" id="7131373">(</span><span class="string" id="7131374">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7131401">,</span>&nbsp;<span class="ident" id="7131403">s</span><span class="op" id="7131404">.</span><span class="ident" id="7131405">Line</span><span class="op" id="7131409">,</span>&nbsp;<span class="ident" id="7131411">line</span><span class="op" id="7131415">,</span>&nbsp;<span class="ident" id="7131417">text</span><span class="op" id="7131421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131427">stext</span>&nbsp;<span class="op" id="7131433">:=</span>&nbsp;<span class="ident" id="7131436">s</span><span class="op" id="7131437">.</span><span class="ident" id="7131438">TokenText</span><span class="op" id="7131447">(</span><span class="op" id="7131448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131451">if</span>&nbsp;<span class="ident" id="7131454">stext</span>&nbsp;<span class="op" id="7131460">!=</span>&nbsp;<span class="ident" id="7131463">text</span>&nbsp;<span class="op" id="7131468">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131472">t</span><span class="op" id="7131473">.</span><span class="ident" id="7131474">Errorf</span><span class="op" id="7131480">(</span><span class="string" id="7131481">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7131501">,</span>&nbsp;<span class="ident" id="7131503">stext</span><span class="op" id="7131508">,</span>&nbsp;<span class="ident" id="7131510">text</span><span class="op" id="7131514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131517">}</span>&nbsp;<span class="keyword" id="7131519">else</span>&nbsp;<span class="op" id="7131524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7131528">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131571">stext</span>&nbsp;<span class="op" id="7131577">=</span>&nbsp;<span class="ident" id="7131579">s</span><span class="op" id="7131580">.</span><span class="ident" id="7131581">TokenText</span><span class="op" id="7131590">(</span><span class="op" id="7131591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131595">if</span>&nbsp;<span class="ident" id="7131598">stext</span>&nbsp;<span class="op" id="7131604">!=</span>&nbsp;<span class="ident" id="7131607">text</span>&nbsp;<span class="op" id="7131612">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131617">t</span><span class="op" id="7131618">.</span><span class="ident" id="7131619">Errorf</span><span class="op" id="7131625">(</span><span class="string" id="7131626">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="7131666">,</span>&nbsp;<span class="ident" id="7131668">stext</span><span class="op" id="7131673">,</span>&nbsp;<span class="ident" id="7131675">text</span><span class="op" id="7131679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131686">}</span><br>
<span class="lineno"></span><span class="op" id="7131688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="7131691">func</span>&nbsp;<span class="ident" id="7131696">countNewlines</span><span class="op" id="7131709">(</span><span class="ident" id="7131710">s</span>&nbsp;<span class="builtintype" id="7131712">string</span><span class="op" id="7131718">)</span>&nbsp;<span class="builtintype" id="7131720">int</span>&nbsp;<span class="op" id="7131724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131727">n</span>&nbsp;<span class="op" id="7131729">:=</span>&nbsp;<span class="num" id="7131732">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131735">for</span>&nbsp;<span class="ident" id="7131739">_</span><span class="op" id="7131740">,</span>&nbsp;<span class="ident" id="7131742">ch</span>&nbsp;<span class="op" id="7131745">:=</span>&nbsp;<span class="keyword" id="7131748">range</span>&nbsp;<span class="ident" id="7131754">s</span>&nbsp;<span class="op" id="7131756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131760">if</span>&nbsp;<span class="ident" id="7131763">ch</span>&nbsp;<span class="op" id="7131766">==</span>&nbsp;<span class="string" id="7131769">&#39;\n&#39;</span>&nbsp;<span class="op" id="7131774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131779">n</span><span class="op" id="7131780">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7131788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131791">return</span>&nbsp;<span class="ident" id="7131798">n</span><br>
<span class="lineno"></span><span class="op" id="7131800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="7131803">func</span>&nbsp;<span class="ident" id="7131808">testScan</span><span class="op" id="7131816">(</span><span class="ident" id="7131817">t</span>&nbsp;<span class="op" id="7131819">*</span><span class="ident" id="7131820">testing</span><span class="op" id="7131827">.</span><span class="ident" id="7131828">T</span><span class="op" id="7131829">,</span>&nbsp;<span class="ident" id="7131831">mode</span>&nbsp;<span class="builtintype" id="7131836">uint</span><span class="op" id="7131840">)</span>&nbsp;<span class="op" id="7131842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131845">s</span>&nbsp;<span class="op" id="7131847">:=</span>&nbsp;<span class="builtinfunc" id="7131850">new</span><span class="op" id="7131853">(</span><span class="ident" id="7131854">Scanner</span><span class="op" id="7131861">)</span><span class="op" id="7131862">.</span><span class="ident" id="7131863">Init</span><span class="op" id="7131867">(</span><span class="ident" id="7131868">makeSource</span><span class="op" id="7131878">(</span><span class="string" id="7131879">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="7131888">)</span><span class="op" id="7131889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131892">s</span><span class="op" id="7131893">.</span><span class="ident" id="7131894">Mode</span>&nbsp;<span class="op" id="7131899">=</span>&nbsp;<span class="ident" id="7131901">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131907">tok</span>&nbsp;<span class="op" id="7131911">:=</span>&nbsp;<span class="ident" id="7131914">s</span><span class="op" id="7131915">.</span><span class="ident" id="7131916">Scan</span><span class="op" id="7131920">(</span><span class="op" id="7131921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7131924">line</span>&nbsp;<span class="op" id="7131929">:=</span>&nbsp;<span class="num" id="7131932">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131935">for</span>&nbsp;<span class="ident" id="7131939">_</span><span class="op" id="7131940">,</span>&nbsp;<span class="ident" id="7131942">k</span>&nbsp;<span class="op" id="7131944">:=</span>&nbsp;<span class="keyword" id="7131947">range</span>&nbsp;<span class="ident" id="7131953">tokenList</span>&nbsp;<span class="op" id="7131963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7131967">if</span>&nbsp;<span class="ident" id="7131970">mode</span><span class="op" id="7131974">&amp;</span><span class="ident" id="7131975">SkipComments</span>&nbsp;<span class="op" id="7131988">==</span>&nbsp;<span class="num" id="7131991">0</span>&nbsp;<span class="op" id="7131993">||</span>&nbsp;<span class="ident" id="7131996">k</span><span class="op" id="7131997">.</span><span class="ident" id="7131998">tok</span>&nbsp;<span class="op" id="7132002">!=</span>&nbsp;<span class="ident" id="7132005">Comment</span>&nbsp;<span class="op" id="7132013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132018">checkTok</span><span class="op" id="7132026">(</span><span class="ident" id="7132027">t</span><span class="op" id="7132028">,</span>&nbsp;<span class="ident" id="7132030">s</span><span class="op" id="7132031">,</span>&nbsp;<span class="ident" id="7132033">line</span><span class="op" id="7132037">,</span>&nbsp;<span class="ident" id="7132039">tok</span><span class="op" id="7132042">,</span>&nbsp;<span class="ident" id="7132044">k</span><span class="op" id="7132045">.</span><span class="ident" id="7132046">tok</span><span class="op" id="7132049">,</span>&nbsp;<span class="ident" id="7132051">k</span><span class="op" id="7132052">.</span><span class="ident" id="7132053">text</span><span class="op" id="7132057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132062">tok</span>&nbsp;<span class="op" id="7132066">=</span>&nbsp;<span class="ident" id="7132068">s</span><span class="op" id="7132069">.</span><span class="ident" id="7132070">Scan</span><span class="op" id="7132074">(</span><span class="op" id="7132075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132079">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132083">line</span>&nbsp;<span class="op" id="7132088">+=</span>&nbsp;<span class="ident" id="7132091">countNewlines</span><span class="op" id="7132104">(</span><span class="ident" id="7132105">k</span><span class="op" id="7132106">.</span><span class="ident" id="7132107">text</span><span class="op" id="7132111">)</span>&nbsp;<span class="op" id="7132113">+</span>&nbsp;<span class="num" id="7132115">1</span>&nbsp;<span class="comment" id="7132117">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132152">checkTok</span><span class="op" id="7132160">(</span><span class="ident" id="7132161">t</span><span class="op" id="7132162">,</span>&nbsp;<span class="ident" id="7132164">s</span><span class="op" id="7132165">,</span>&nbsp;<span class="ident" id="7132167">line</span><span class="op" id="7132171">,</span>&nbsp;<span class="ident" id="7132173">tok</span><span class="op" id="7132176">,</span>&nbsp;<span class="ident" id="7132178">EOF</span><span class="op" id="7132181">,</span>&nbsp;<span class="string" id="7132183">&#34;&#34;</span><span class="op" id="7132185">)</span><br>
<span class="lineno"></span><span class="op" id="7132187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="7132190">func</span>&nbsp;<span class="ident" id="7132195">TestScan</span><span class="op" id="7132203">(</span><span class="ident" id="7132204">t</span>&nbsp;<span class="op" id="7132206">*</span><span class="ident" id="7132207">testing</span><span class="op" id="7132214">.</span><span class="ident" id="7132215">T</span><span class="op" id="7132216">)</span>&nbsp;<span class="op" id="7132218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132221">testScan</span><span class="op" id="7132229">(</span><span class="ident" id="7132230">t</span><span class="op" id="7132231">,</span>&nbsp;<span class="ident" id="7132233">GoTokens</span><span class="op" id="7132241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132244">testScan</span><span class="op" id="7132252">(</span><span class="ident" id="7132253">t</span><span class="op" id="7132254">,</span>&nbsp;<span class="ident" id="7132256">GoTokens</span><span class="op" id="7132264">&amp;^</span><span class="ident" id="7132266">SkipComments</span><span class="op" id="7132278">)</span><br>
<span class="lineno"></span><span class="op" id="7132280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="7132283">func</span>&nbsp;<span class="ident" id="7132288">TestPosition</span><span class="op" id="7132300">(</span><span class="ident" id="7132301">t</span>&nbsp;<span class="op" id="7132303">*</span><span class="ident" id="7132304">testing</span><span class="op" id="7132311">.</span><span class="ident" id="7132312">T</span><span class="op" id="7132313">)</span>&nbsp;<span class="op" id="7132315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132318">src</span>&nbsp;<span class="op" id="7132322">:=</span>&nbsp;<span class="ident" id="7132325">makeSource</span><span class="op" id="7132335">(</span><span class="string" id="7132336">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="7132350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132353">s</span>&nbsp;<span class="op" id="7132355">:=</span>&nbsp;<span class="builtinfunc" id="7132358">new</span><span class="op" id="7132361">(</span><span class="ident" id="7132362">Scanner</span><span class="op" id="7132369">)</span><span class="op" id="7132370">.</span><span class="ident" id="7132371">Init</span><span class="op" id="7132375">(</span><span class="ident" id="7132376">src</span><span class="op" id="7132379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132382">s</span><span class="op" id="7132383">.</span><span class="ident" id="7132384">Mode</span>&nbsp;<span class="op" id="7132389">=</span>&nbsp;<span class="ident" id="7132391">GoTokens</span>&nbsp;<span class="op" id="7132400">&amp;^</span>&nbsp;<span class="ident" id="7132403">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132417">s</span><span class="op" id="7132418">.</span><span class="ident" id="7132419">Scan</span><span class="op" id="7132423">(</span><span class="op" id="7132424">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132427">pos</span>&nbsp;<span class="op" id="7132431">:=</span>&nbsp;<span class="ident" id="7132434">Position</span><span class="op" id="7132442">{</span><span class="string" id="7132443">&#34;&#34;</span><span class="op" id="7132445">,</span>&nbsp;<span class="num" id="7132447">4</span><span class="op" id="7132448">,</span>&nbsp;<span class="num" id="7132450">1</span><span class="op" id="7132451">,</span>&nbsp;<span class="num" id="7132453">5</span><span class="op" id="7132454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132457">for</span>&nbsp;<span class="ident" id="7132461">_</span><span class="op" id="7132462">,</span>&nbsp;<span class="ident" id="7132464">k</span>&nbsp;<span class="op" id="7132466">:=</span>&nbsp;<span class="keyword" id="7132469">range</span>&nbsp;<span class="ident" id="7132475">tokenList</span>&nbsp;<span class="op" id="7132485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132489">if</span>&nbsp;<span class="ident" id="7132492">s</span><span class="op" id="7132493">.</span><span class="ident" id="7132494">Offset</span>&nbsp;<span class="op" id="7132501">!=</span>&nbsp;<span class="ident" id="7132504">pos</span><span class="op" id="7132507">.</span><span class="ident" id="7132508">Offset</span>&nbsp;<span class="op" id="7132515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132520">t</span><span class="op" id="7132521">.</span><span class="ident" id="7132522">Errorf</span><span class="op" id="7132528">(</span><span class="string" id="7132529">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7132558">,</span>&nbsp;<span class="ident" id="7132560">s</span><span class="op" id="7132561">.</span><span class="ident" id="7132562">Offset</span><span class="op" id="7132568">,</span>&nbsp;<span class="ident" id="7132570">pos</span><span class="op" id="7132573">.</span><span class="ident" id="7132574">Offset</span><span class="op" id="7132580">,</span>&nbsp;<span class="ident" id="7132582">k</span><span class="op" id="7132583">.</span><span class="ident" id="7132584">text</span><span class="op" id="7132588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132592">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132596">if</span>&nbsp;<span class="ident" id="7132599">s</span><span class="op" id="7132600">.</span><span class="ident" id="7132601">Line</span>&nbsp;<span class="op" id="7132606">!=</span>&nbsp;<span class="ident" id="7132609">pos</span><span class="op" id="7132612">.</span><span class="ident" id="7132613">Line</span>&nbsp;<span class="op" id="7132618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132623">t</span><span class="op" id="7132624">.</span><span class="ident" id="7132625">Errorf</span><span class="op" id="7132631">(</span><span class="string" id="7132632">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7132659">,</span>&nbsp;<span class="ident" id="7132661">s</span><span class="op" id="7132662">.</span><span class="ident" id="7132663">Line</span><span class="op" id="7132667">,</span>&nbsp;<span class="ident" id="7132669">pos</span><span class="op" id="7132672">.</span><span class="ident" id="7132673">Line</span><span class="op" id="7132677">,</span>&nbsp;<span class="ident" id="7132679">k</span><span class="op" id="7132680">.</span><span class="ident" id="7132681">text</span><span class="op" id="7132685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7132693">if</span>&nbsp;<span class="ident" id="7132696">s</span><span class="op" id="7132697">.</span><span class="ident" id="7132698">Column</span>&nbsp;<span class="op" id="7132705">!=</span>&nbsp;<span class="ident" id="7132708">pos</span><span class="op" id="7132711">.</span><span class="ident" id="7132712">Column</span>&nbsp;<span class="op" id="7132719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132724">t</span><span class="op" id="7132725">.</span><span class="ident" id="7132726">Errorf</span><span class="op" id="7132732">(</span><span class="string" id="7132733">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7132762">,</span>&nbsp;<span class="ident" id="7132764">s</span><span class="op" id="7132765">.</span><span class="ident" id="7132766">Column</span><span class="op" id="7132772">,</span>&nbsp;<span class="ident" id="7132774">pos</span><span class="op" id="7132777">.</span><span class="ident" id="7132778">Column</span><span class="op" id="7132784">,</span>&nbsp;<span class="ident" id="7132786">k</span><span class="op" id="7132787">.</span><span class="ident" id="7132788">text</span><span class="op" id="7132792">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132800">pos</span><span class="op" id="7132803">.</span><span class="ident" id="7132804">Offset</span>&nbsp;<span class="op" id="7132811">+=</span>&nbsp;<span class="num" id="7132814">4</span>&nbsp;<span class="op" id="7132816">+</span>&nbsp;<span class="builtinfunc" id="7132818">len</span><span class="op" id="7132821">(</span><span class="ident" id="7132822">k</span><span class="op" id="7132823">.</span><span class="ident" id="7132824">text</span><span class="op" id="7132828">)</span>&nbsp;<span class="op" id="7132830">+</span>&nbsp;<span class="num" id="7132832">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7132838">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132874">pos</span><span class="op" id="7132877">.</span><span class="ident" id="7132878">Line</span>&nbsp;<span class="op" id="7132883">+=</span>&nbsp;<span class="ident" id="7132886">countNewlines</span><span class="op" id="7132899">(</span><span class="ident" id="7132900">k</span><span class="op" id="7132901">.</span><span class="ident" id="7132902">text</span><span class="op" id="7132906">)</span>&nbsp;<span class="op" id="7132908">+</span>&nbsp;<span class="num" id="7132910">1</span>&nbsp;<span class="comment" id="7132912">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7132945">s</span><span class="op" id="7132946">.</span><span class="ident" id="7132947">Scan</span><span class="op" id="7132951">(</span><span class="op" id="7132952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7132955">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7132958">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133028">if</span>&nbsp;<span class="ident" id="7133031">s</span><span class="op" id="7133032">.</span><span class="ident" id="7133033">ErrorCount</span>&nbsp;<span class="op" id="7133044">!=</span>&nbsp;<span class="num" id="7133047">0</span>&nbsp;<span class="op" id="7133049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133053">t</span><span class="op" id="7133054">.</span><span class="ident" id="7133055">Errorf</span><span class="op" id="7133061">(</span><span class="string" id="7133062">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7133073">,</span>&nbsp;<span class="ident" id="7133075">s</span><span class="op" id="7133076">.</span><span class="ident" id="7133077">ErrorCount</span><span class="op" id="7133087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133090">}</span><br>
<span class="lineno"></span><span class="op" id="7133092">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="7133095">func</span>&nbsp;<span class="ident" id="7133100">TestScanZeroMode</span><span class="op" id="7133116">(</span><span class="ident" id="7133117">t</span>&nbsp;<span class="op" id="7133119">*</span><span class="ident" id="7133120">testing</span><span class="op" id="7133127">.</span><span class="ident" id="7133128">T</span><span class="op" id="7133129">)</span>&nbsp;<span class="op" id="7133131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133134">src</span>&nbsp;<span class="op" id="7133138">:=</span>&nbsp;<span class="ident" id="7133141">makeSource</span><span class="op" id="7133151">(</span><span class="string" id="7133152">&#34;%s\n&#34;</span><span class="op" id="7133158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133161">str</span>&nbsp;<span class="op" id="7133165">:=</span>&nbsp;<span class="ident" id="7133168">src</span><span class="op" id="7133171">.</span><span class="ident" id="7133172">String</span><span class="op" id="7133178">(</span><span class="op" id="7133179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133182">s</span>&nbsp;<span class="op" id="7133184">:=</span>&nbsp;<span class="builtinfunc" id="7133187">new</span><span class="op" id="7133190">(</span><span class="ident" id="7133191">Scanner</span><span class="op" id="7133198">)</span><span class="op" id="7133199">.</span><span class="ident" id="7133200">Init</span><span class="op" id="7133204">(</span><span class="ident" id="7133205">src</span><span class="op" id="7133208">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133211">s</span><span class="op" id="7133212">.</span><span class="ident" id="7133213">Mode</span>&nbsp;<span class="op" id="7133218">=</span>&nbsp;<span class="num" id="7133220">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7133228">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133266">s</span><span class="op" id="7133267">.</span><span class="ident" id="7133268">Whitespace</span>&nbsp;<span class="op" id="7133279">=</span>&nbsp;<span class="num" id="7133281">0</span>&nbsp;<span class="comment" id="7133283">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133313">tok</span>&nbsp;<span class="op" id="7133317">:=</span>&nbsp;<span class="ident" id="7133320">s</span><span class="op" id="7133321">.</span><span class="ident" id="7133322">Scan</span><span class="op" id="7133326">(</span><span class="op" id="7133327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133330">for</span>&nbsp;<span class="ident" id="7133334">i</span><span class="op" id="7133335">,</span>&nbsp;<span class="ident" id="7133337">ch</span>&nbsp;<span class="op" id="7133340">:=</span>&nbsp;<span class="keyword" id="7133343">range</span>&nbsp;<span class="ident" id="7133349">str</span>&nbsp;<span class="op" id="7133353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133357">if</span>&nbsp;<span class="ident" id="7133360">tok</span>&nbsp;<span class="op" id="7133364">!=</span>&nbsp;<span class="ident" id="7133367">ch</span>&nbsp;<span class="op" id="7133370">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133375">t</span><span class="op" id="7133376">.</span><span class="ident" id="7133377">Fatalf</span><span class="op" id="7133383">(</span><span class="string" id="7133384">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7133407">,</span>&nbsp;<span class="ident" id="7133409">i</span><span class="op" id="7133410">,</span>&nbsp;<span class="ident" id="7133412">TokenString</span><span class="op" id="7133423">(</span><span class="ident" id="7133424">tok</span><span class="op" id="7133427">)</span><span class="op" id="7133428">,</span>&nbsp;<span class="ident" id="7133430">TokenString</span><span class="op" id="7133441">(</span><span class="ident" id="7133442">ch</span><span class="op" id="7133444">)</span><span class="op" id="7133445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133453">tok</span>&nbsp;<span class="op" id="7133457">=</span>&nbsp;<span class="ident" id="7133459">s</span><span class="op" id="7133460">.</span><span class="ident" id="7133461">Scan</span><span class="op" id="7133465">(</span><span class="op" id="7133466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133472">if</span>&nbsp;<span class="ident" id="7133475">tok</span>&nbsp;<span class="op" id="7133479">!=</span>&nbsp;<span class="ident" id="7133482">EOF</span>&nbsp;<span class="op" id="7133486">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133490">t</span><span class="op" id="7133491">.</span><span class="ident" id="7133492">Fatalf</span><span class="op" id="7133498">(</span><span class="string" id="7133499">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7133519">,</span>&nbsp;<span class="ident" id="7133521">TokenString</span><span class="op" id="7133532">(</span><span class="ident" id="7133533">tok</span><span class="op" id="7133536">)</span><span class="op" id="7133537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133543">if</span>&nbsp;<span class="ident" id="7133546">s</span><span class="op" id="7133547">.</span><span class="ident" id="7133548">ErrorCount</span>&nbsp;<span class="op" id="7133559">!=</span>&nbsp;<span class="num" id="7133562">0</span>&nbsp;<span class="op" id="7133564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133568">t</span><span class="op" id="7133569">.</span><span class="ident" id="7133570">Errorf</span><span class="op" id="7133576">(</span><span class="string" id="7133577">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7133588">,</span>&nbsp;<span class="ident" id="7133590">s</span><span class="op" id="7133591">.</span><span class="ident" id="7133592">ErrorCount</span><span class="op" id="7133602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133605">}</span><br>
<span class="lineno">330</span><span class="op" id="7133607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7133610">func</span>&nbsp;<span class="ident" id="7133615">testScanSelectedMode</span><span class="op" id="7133635">(</span><span class="ident" id="7133636">t</span>&nbsp;<span class="op" id="7133638">*</span><span class="ident" id="7133639">testing</span><span class="op" id="7133646">.</span><span class="ident" id="7133647">T</span><span class="op" id="7133648">,</span>&nbsp;<span class="ident" id="7133650">mode</span>&nbsp;<span class="builtintype" id="7133655">uint</span><span class="op" id="7133659">,</span>&nbsp;<span class="ident" id="7133661">class</span>&nbsp;<span class="builtintype" id="7133667">rune</span><span class="op" id="7133671">)</span>&nbsp;<span class="op" id="7133673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133676">src</span>&nbsp;<span class="op" id="7133680">:=</span>&nbsp;<span class="ident" id="7133683">makeSource</span><span class="op" id="7133693">(</span><span class="string" id="7133694">&#34;%s\n&#34;</span><span class="op" id="7133700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133703">s</span>&nbsp;<span class="op" id="7133705">:=</span>&nbsp;<span class="builtinfunc" id="7133708">new</span><span class="op" id="7133711">(</span><span class="ident" id="7133712">Scanner</span><span class="op" id="7133719">)</span><span class="op" id="7133720">.</span><span class="ident" id="7133721">Init</span><span class="op" id="7133725">(</span><span class="ident" id="7133726">src</span><span class="op" id="7133729">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133732">s</span><span class="op" id="7133733">.</span><span class="ident" id="7133734">Mode</span>&nbsp;<span class="op" id="7133739">=</span>&nbsp;<span class="ident" id="7133741">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133747">tok</span>&nbsp;<span class="op" id="7133751">:=</span>&nbsp;<span class="ident" id="7133754">s</span><span class="op" id="7133755">.</span><span class="ident" id="7133756">Scan</span><span class="op" id="7133760">(</span><span class="op" id="7133761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133764">for</span>&nbsp;<span class="ident" id="7133768">tok</span>&nbsp;<span class="op" id="7133772">!=</span>&nbsp;<span class="ident" id="7133775">EOF</span>&nbsp;<span class="op" id="7133779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133783">if</span>&nbsp;<span class="ident" id="7133786">tok</span>&nbsp;<span class="op" id="7133790">&lt;</span>&nbsp;<span class="num" id="7133792">0</span>&nbsp;<span class="op" id="7133794">&amp;&amp;</span>&nbsp;<span class="ident" id="7133797">tok</span>&nbsp;<span class="op" id="7133801">!=</span>&nbsp;<span class="ident" id="7133804">class</span>&nbsp;<span class="op" id="7133810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133815">t</span><span class="op" id="7133816">.</span><span class="ident" id="7133817">Fatalf</span><span class="op" id="7133823">(</span><span class="string" id="7133824">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7133843">,</span>&nbsp;<span class="ident" id="7133845">TokenString</span><span class="op" id="7133856">(</span><span class="ident" id="7133857">tok</span><span class="op" id="7133860">)</span><span class="op" id="7133861">,</span>&nbsp;<span class="ident" id="7133863">TokenString</span><span class="op" id="7133874">(</span><span class="ident" id="7133875">class</span><span class="op" id="7133880">)</span><span class="op" id="7133881">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133889">tok</span>&nbsp;<span class="op" id="7133893">=</span>&nbsp;<span class="ident" id="7133895">s</span><span class="op" id="7133896">.</span><span class="ident" id="7133897">Scan</span><span class="op" id="7133901">(</span><span class="op" id="7133902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133908">if</span>&nbsp;<span class="ident" id="7133911">s</span><span class="op" id="7133912">.</span><span class="ident" id="7133913">ErrorCount</span>&nbsp;<span class="op" id="7133924">!=</span>&nbsp;<span class="num" id="7133927">0</span>&nbsp;<span class="op" id="7133929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133933">t</span><span class="op" id="7133934">.</span><span class="ident" id="7133935">Errorf</span><span class="op" id="7133941">(</span><span class="string" id="7133942">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7133953">,</span>&nbsp;<span class="ident" id="7133955">s</span><span class="op" id="7133956">.</span><span class="ident" id="7133957">ErrorCount</span><span class="op" id="7133967">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133970">}</span><br>
<span class="lineno"></span><span class="op" id="7133972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7133975">func</span>&nbsp;<span class="ident" id="7133980">TestScanSelectedMask</span><span class="op" id="7134000">(</span><span class="ident" id="7134001">t</span>&nbsp;<span class="op" id="7134003">*</span><span class="ident" id="7134004">testing</span><span class="op" id="7134011">.</span><span class="ident" id="7134012">T</span><span class="op" id="7134013">)</span>&nbsp;<span class="op" id="7134015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134018">testScanSelectedMode</span><span class="op" id="7134038">(</span><span class="ident" id="7134039">t</span><span class="op" id="7134040">,</span>&nbsp;<span class="num" id="7134042">0</span><span class="op" id="7134043">,</span>&nbsp;<span class="num" id="7134045">0</span><span class="op" id="7134046">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134049">testScanSelectedMode</span><span class="op" id="7134069">(</span><span class="ident" id="7134070">t</span><span class="op" id="7134071">,</span>&nbsp;<span class="ident" id="7134073">ScanIdents</span><span class="op" id="7134083">,</span>&nbsp;<span class="ident" id="7134085">Ident</span><span class="op" id="7134090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7134093">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7134153">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7134213">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134265">testScanSelectedMode</span><span class="op" id="7134285">(</span><span class="ident" id="7134286">t</span><span class="op" id="7134287">,</span>&nbsp;<span class="ident" id="7134289">ScanChars</span><span class="op" id="7134298">,</span>&nbsp;<span class="ident" id="7134300">Char</span><span class="op" id="7134304">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134307">testScanSelectedMode</span><span class="op" id="7134327">(</span><span class="ident" id="7134328">t</span><span class="op" id="7134329">,</span>&nbsp;<span class="ident" id="7134331">ScanStrings</span><span class="op" id="7134342">,</span>&nbsp;<span class="ident" id="7134344">String</span><span class="op" id="7134350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134353">testScanSelectedMode</span><span class="op" id="7134373">(</span><span class="ident" id="7134374">t</span><span class="op" id="7134375">,</span>&nbsp;<span class="ident" id="7134377">SkipComments</span><span class="op" id="7134389">,</span>&nbsp;<span class="num" id="7134391">0</span><span class="op" id="7134392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134395">testScanSelectedMode</span><span class="op" id="7134415">(</span><span class="ident" id="7134416">t</span><span class="op" id="7134417">,</span>&nbsp;<span class="ident" id="7134419">ScanComments</span><span class="op" id="7134431">,</span>&nbsp;<span class="ident" id="7134433">Comment</span><span class="op" id="7134440">)</span><br>
<span class="lineno"></span><span class="op" id="7134442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="7134445">func</span>&nbsp;<span class="ident" id="7134450">TestScanCustomIdent</span><span class="op" id="7134469">(</span><span class="ident" id="7134470">t</span>&nbsp;<span class="op" id="7134472">*</span><span class="ident" id="7134473">testing</span><span class="op" id="7134480">.</span><span class="ident" id="7134481">T</span><span class="op" id="7134482">)</span>&nbsp;<span class="op" id="7134484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7134487">const</span>&nbsp;<span class="ident" id="7134493">src</span>&nbsp;<span class="op" id="7134497">=</span>&nbsp;<span class="string" id="7134499">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134527">s</span>&nbsp;<span class="op" id="7134529">:=</span>&nbsp;<span class="builtinfunc" id="7134532">new</span><span class="op" id="7134535">(</span><span class="ident" id="7134536">Scanner</span><span class="op" id="7134543">)</span><span class="op" id="7134544">.</span><span class="ident" id="7134545">Init</span><span class="op" id="7134549">(</span><span class="ident" id="7134550">strings</span><span class="op" id="7134557">.</span><span class="ident" id="7134558">NewReader</span><span class="op" id="7134567">(</span><span class="ident" id="7134568">src</span><span class="op" id="7134571">)</span><span class="op" id="7134572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7134575">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7134613">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7134638">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134669">s</span><span class="op" id="7134670">.</span><span class="ident" id="7134671">IsIdentRune</span>&nbsp;<span class="op" id="7134683">=</span>&nbsp;<span class="keyword" id="7134685">func</span><span class="op" id="7134689">(</span><span class="ident" id="7134690">ch</span>&nbsp;<span class="builtintype" id="7134693">rune</span><span class="op" id="7134697">,</span>&nbsp;<span class="ident" id="7134699">i</span>&nbsp;<span class="builtintype" id="7134701">int</span><span class="op" id="7134704">)</span>&nbsp;<span class="builtintype" id="7134706">bool</span>&nbsp;<span class="op" id="7134711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7134715">return</span>&nbsp;<span class="ident" id="7134722">i</span>&nbsp;<span class="op" id="7134724">==</span>&nbsp;<span class="num" id="7134727">0</span>&nbsp;<span class="op" id="7134729">&amp;&amp;</span>&nbsp;<span class="op" id="7134732">(</span><span class="ident" id="7134733">ch</span>&nbsp;<span class="op" id="7134736">==</span>&nbsp;<span class="string" id="7134739">&#39;a&#39;</span>&nbsp;<span class="op" id="7134743">||</span>&nbsp;<span class="ident" id="7134746">ch</span>&nbsp;<span class="op" id="7134749">==</span>&nbsp;<span class="string" id="7134752">&#39;b&#39;</span><span class="op" id="7134755">)</span>&nbsp;<span class="op" id="7134757">||</span>&nbsp;<span class="num" id="7134760">0</span>&nbsp;<span class="op" id="7134762">&lt;</span>&nbsp;<span class="ident" id="7134764">i</span>&nbsp;<span class="op" id="7134766">&amp;&amp;</span>&nbsp;<span class="ident" id="7134769">i</span>&nbsp;<span class="op" id="7134771">&lt;</span>&nbsp;<span class="num" id="7134773">4</span>&nbsp;<span class="op" id="7134775">&amp;&amp;</span>&nbsp;<span class="string" id="7134778">&#39;0&#39;</span>&nbsp;<span class="op" id="7134782">&lt;=</span>&nbsp;<span class="ident" id="7134785">ch</span>&nbsp;<span class="op" id="7134788">&amp;&amp;</span>&nbsp;<span class="ident" id="7134791">ch</span>&nbsp;<span class="op" id="7134794">&lt;=</span>&nbsp;<span class="string" id="7134797">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7134802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134805">checkTok</span><span class="op" id="7134813">(</span><span class="ident" id="7134814">t</span><span class="op" id="7134815">,</span>&nbsp;<span class="ident" id="7134817">s</span><span class="op" id="7134818">,</span>&nbsp;<span class="num" id="7134820">1</span><span class="op" id="7134821">,</span>&nbsp;<span class="ident" id="7134823">s</span><span class="op" id="7134824">.</span><span class="ident" id="7134825">Scan</span><span class="op" id="7134829">(</span><span class="op" id="7134830">)</span><span class="op" id="7134831">,</span>&nbsp;<span class="string" id="7134833">&#39;f&#39;</span><span class="op" id="7134836">,</span>&nbsp;<span class="string" id="7134838">&#34;f&#34;</span><span class="op" id="7134841">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134844">checkTok</span><span class="op" id="7134852">(</span><span class="ident" id="7134853">t</span><span class="op" id="7134854">,</span>&nbsp;<span class="ident" id="7134856">s</span><span class="op" id="7134857">,</span>&nbsp;<span class="num" id="7134859">1</span><span class="op" id="7134860">,</span>&nbsp;<span class="ident" id="7134862">s</span><span class="op" id="7134863">.</span><span class="ident" id="7134864">Scan</span><span class="op" id="7134868">(</span><span class="op" id="7134869">)</span><span class="op" id="7134870">,</span>&nbsp;<span class="ident" id="7134872">Ident</span><span class="op" id="7134877">,</span>&nbsp;<span class="string" id="7134879">&#34;a&#34;</span><span class="op" id="7134882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134885">checkTok</span><span class="op" id="7134893">(</span><span class="ident" id="7134894">t</span><span class="op" id="7134895">,</span>&nbsp;<span class="ident" id="7134897">s</span><span class="op" id="7134898">,</span>&nbsp;<span class="num" id="7134900">1</span><span class="op" id="7134901">,</span>&nbsp;<span class="ident" id="7134903">s</span><span class="op" id="7134904">.</span><span class="ident" id="7134905">Scan</span><span class="op" id="7134909">(</span><span class="op" id="7134910">)</span><span class="op" id="7134911">,</span>&nbsp;<span class="ident" id="7134913">Ident</span><span class="op" id="7134918">,</span>&nbsp;<span class="string" id="7134920">&#34;a&#34;</span><span class="op" id="7134923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134926">checkTok</span><span class="op" id="7134934">(</span><span class="ident" id="7134935">t</span><span class="op" id="7134936">,</span>&nbsp;<span class="ident" id="7134938">s</span><span class="op" id="7134939">,</span>&nbsp;<span class="num" id="7134941">1</span><span class="op" id="7134942">,</span>&nbsp;<span class="ident" id="7134944">s</span><span class="op" id="7134945">.</span><span class="ident" id="7134946">Scan</span><span class="op" id="7134950">(</span><span class="op" id="7134951">)</span><span class="op" id="7134952">,</span>&nbsp;<span class="ident" id="7134954">Ident</span><span class="op" id="7134959">,</span>&nbsp;<span class="string" id="7134961">&#34;b123&#34;</span><span class="op" id="7134967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134970">checkTok</span><span class="op" id="7134978">(</span><span class="ident" id="7134979">t</span><span class="op" id="7134980">,</span>&nbsp;<span class="ident" id="7134982">s</span><span class="op" id="7134983">,</span>&nbsp;<span class="num" id="7134985">1</span><span class="op" id="7134986">,</span>&nbsp;<span class="ident" id="7134988">s</span><span class="op" id="7134989">.</span><span class="ident" id="7134990">Scan</span><span class="op" id="7134994">(</span><span class="op" id="7134995">)</span><span class="op" id="7134996">,</span>&nbsp;<span class="ident" id="7134998">Int</span><span class="op" id="7135001">,</span>&nbsp;<span class="string" id="7135003">&#34;45&#34;</span><span class="op" id="7135007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135010">checkTok</span><span class="op" id="7135018">(</span><span class="ident" id="7135019">t</span><span class="op" id="7135020">,</span>&nbsp;<span class="ident" id="7135022">s</span><span class="op" id="7135023">,</span>&nbsp;<span class="num" id="7135025">1</span><span class="op" id="7135026">,</span>&nbsp;<span class="ident" id="7135028">s</span><span class="op" id="7135029">.</span><span class="ident" id="7135030">Scan</span><span class="op" id="7135034">(</span><span class="op" id="7135035">)</span><span class="op" id="7135036">,</span>&nbsp;<span class="ident" id="7135038">Ident</span><span class="op" id="7135043">,</span>&nbsp;<span class="string" id="7135045">&#34;a12&#34;</span><span class="op" id="7135050">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135053">checkTok</span><span class="op" id="7135061">(</span><span class="ident" id="7135062">t</span><span class="op" id="7135063">,</span>&nbsp;<span class="ident" id="7135065">s</span><span class="op" id="7135066">,</span>&nbsp;<span class="num" id="7135068">1</span><span class="op" id="7135069">,</span>&nbsp;<span class="ident" id="7135071">s</span><span class="op" id="7135072">.</span><span class="ident" id="7135073">Scan</span><span class="op" id="7135077">(</span><span class="op" id="7135078">)</span><span class="op" id="7135079">,</span>&nbsp;<span class="ident" id="7135081">Ident</span><span class="op" id="7135086">,</span>&nbsp;<span class="string" id="7135088">&#34;b123&#34;</span><span class="op" id="7135094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135097">checkTok</span><span class="op" id="7135105">(</span><span class="ident" id="7135106">t</span><span class="op" id="7135107">,</span>&nbsp;<span class="ident" id="7135109">s</span><span class="op" id="7135110">,</span>&nbsp;<span class="num" id="7135112">1</span><span class="op" id="7135113">,</span>&nbsp;<span class="ident" id="7135115">s</span><span class="op" id="7135116">.</span><span class="ident" id="7135117">Scan</span><span class="op" id="7135121">(</span><span class="op" id="7135122">)</span><span class="op" id="7135123">,</span>&nbsp;<span class="ident" id="7135125">Ident</span><span class="op" id="7135130">,</span>&nbsp;<span class="string" id="7135132">&#34;a12&#34;</span><span class="op" id="7135137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135140">checkTok</span><span class="op" id="7135148">(</span><span class="ident" id="7135149">t</span><span class="op" id="7135150">,</span>&nbsp;<span class="ident" id="7135152">s</span><span class="op" id="7135153">,</span>&nbsp;<span class="num" id="7135155">1</span><span class="op" id="7135156">,</span>&nbsp;<span class="ident" id="7135158">s</span><span class="op" id="7135159">.</span><span class="ident" id="7135160">Scan</span><span class="op" id="7135164">(</span><span class="op" id="7135165">)</span><span class="op" id="7135166">,</span>&nbsp;<span class="ident" id="7135168">Int</span><span class="op" id="7135171">,</span>&nbsp;<span class="string" id="7135173">&#34;3&#34;</span><span class="op" id="7135176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135179">checkTok</span><span class="op" id="7135187">(</span><span class="ident" id="7135188">t</span><span class="op" id="7135189">,</span>&nbsp;<span class="ident" id="7135191">s</span><span class="op" id="7135192">,</span>&nbsp;<span class="num" id="7135194">1</span><span class="op" id="7135195">,</span>&nbsp;<span class="ident" id="7135197">s</span><span class="op" id="7135198">.</span><span class="ident" id="7135199">Scan</span><span class="op" id="7135203">(</span><span class="op" id="7135204">)</span><span class="op" id="7135205">,</span>&nbsp;<span class="ident" id="7135207">Ident</span><span class="op" id="7135212">,</span>&nbsp;<span class="string" id="7135214">&#34;b&#34;</span><span class="op" id="7135217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135220">checkTok</span><span class="op" id="7135228">(</span><span class="ident" id="7135229">t</span><span class="op" id="7135230">,</span>&nbsp;<span class="ident" id="7135232">s</span><span class="op" id="7135233">,</span>&nbsp;<span class="num" id="7135235">1</span><span class="op" id="7135236">,</span>&nbsp;<span class="ident" id="7135238">s</span><span class="op" id="7135239">.</span><span class="ident" id="7135240">Scan</span><span class="op" id="7135244">(</span><span class="op" id="7135245">)</span><span class="op" id="7135246">,</span>&nbsp;<span class="ident" id="7135248">EOF</span><span class="op" id="7135251">,</span>&nbsp;<span class="string" id="7135253">&#34;&#34;</span><span class="op" id="7135255">)</span><br>
<span class="lineno">380</span><span class="op" id="7135257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135260">func</span>&nbsp;<span class="ident" id="7135265">TestScanNext</span><span class="op" id="7135277">(</span><span class="ident" id="7135278">t</span>&nbsp;<span class="op" id="7135280">*</span><span class="ident" id="7135281">testing</span><span class="op" id="7135288">.</span><span class="ident" id="7135289">T</span><span class="op" id="7135290">)</span>&nbsp;<span class="op" id="7135292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7135295">const</span>&nbsp;<span class="ident" id="7135301">BOM</span>&nbsp;<span class="op" id="7135305">=</span>&nbsp;<span class="string" id="7135307">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135317">BOMs</span>&nbsp;<span class="op" id="7135322">:=</span>&nbsp;<span class="builtintype" id="7135325">string</span><span class="op" id="7135331">(</span><span class="ident" id="7135332">BOM</span><span class="op" id="7135335">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135338">s</span>&nbsp;<span class="op" id="7135340">:=</span>&nbsp;<span class="builtinfunc" id="7135343">new</span><span class="op" id="7135346">(</span><span class="ident" id="7135347">Scanner</span><span class="op" id="7135354">)</span><span class="op" id="7135355">.</span><span class="ident" id="7135356">Init</span><span class="op" id="7135360">(</span><span class="ident" id="7135361">strings</span><span class="op" id="7135368">.</span><span class="ident" id="7135369">NewReader</span><span class="op" id="7135378">(</span><span class="ident" id="7135379">BOMs</span>&nbsp;<span class="op" id="7135384">+</span>&nbsp;<span class="string" id="7135386">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="7135407">+</span>&nbsp;<span class="ident" id="7135409">BOMs</span>&nbsp;<span class="op" id="7135414">+</span>&nbsp;<span class="string" id="7135416">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="7135441">+</span>&nbsp;<span class="ident" id="7135443">BOMs</span>&nbsp;<span class="op" id="7135448">+</span>&nbsp;<span class="string" id="7135450">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="7135481">)</span><span class="op" id="7135482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135485">checkTok</span><span class="op" id="7135493">(</span><span class="ident" id="7135494">t</span><span class="op" id="7135495">,</span>&nbsp;<span class="ident" id="7135497">s</span><span class="op" id="7135498">,</span>&nbsp;<span class="num" id="7135500">1</span><span class="op" id="7135501">,</span>&nbsp;<span class="ident" id="7135503">s</span><span class="op" id="7135504">.</span><span class="ident" id="7135505">Scan</span><span class="op" id="7135509">(</span><span class="op" id="7135510">)</span><span class="op" id="7135511">,</span>&nbsp;<span class="ident" id="7135513">Ident</span><span class="op" id="7135518">,</span>&nbsp;<span class="string" id="7135520">&#34;if&#34;</span><span class="op" id="7135524">)</span>&nbsp;<span class="comment" id="7135526">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135555">checkTok</span><span class="op" id="7135563">(</span><span class="ident" id="7135564">t</span><span class="op" id="7135565">,</span>&nbsp;<span class="ident" id="7135567">s</span><span class="op" id="7135568">,</span>&nbsp;<span class="num" id="7135570">1</span><span class="op" id="7135571">,</span>&nbsp;<span class="ident" id="7135573">s</span><span class="op" id="7135574">.</span><span class="ident" id="7135575">Scan</span><span class="op" id="7135579">(</span><span class="op" id="7135580">)</span><span class="op" id="7135581">,</span>&nbsp;<span class="ident" id="7135583">Ident</span><span class="op" id="7135588">,</span>&nbsp;<span class="string" id="7135590">&#34;a&#34;</span><span class="op" id="7135593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135596">checkTok</span><span class="op" id="7135604">(</span><span class="ident" id="7135605">t</span><span class="op" id="7135606">,</span>&nbsp;<span class="ident" id="7135608">s</span><span class="op" id="7135609">,</span>&nbsp;<span class="num" id="7135611">1</span><span class="op" id="7135612">,</span>&nbsp;<span class="ident" id="7135614">s</span><span class="op" id="7135615">.</span><span class="ident" id="7135616">Scan</span><span class="op" id="7135620">(</span><span class="op" id="7135621">)</span><span class="op" id="7135622">,</span>&nbsp;<span class="string" id="7135624">&#39;=&#39;</span><span class="op" id="7135627">,</span>&nbsp;<span class="string" id="7135629">&#34;=&#34;</span><span class="op" id="7135632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135635">checkTok</span><span class="op" id="7135643">(</span><span class="ident" id="7135644">t</span><span class="op" id="7135645">,</span>&nbsp;<span class="ident" id="7135647">s</span><span class="op" id="7135648">,</span>&nbsp;<span class="num" id="7135650">0</span><span class="op" id="7135651">,</span>&nbsp;<span class="ident" id="7135653">s</span><span class="op" id="7135654">.</span><span class="ident" id="7135655">Next</span><span class="op" id="7135659">(</span><span class="op" id="7135660">)</span><span class="op" id="7135661">,</span>&nbsp;<span class="string" id="7135663">&#39;=&#39;</span><span class="op" id="7135666">,</span>&nbsp;<span class="string" id="7135668">&#34;&#34;</span><span class="op" id="7135670">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135673">checkTok</span><span class="op" id="7135681">(</span><span class="ident" id="7135682">t</span><span class="op" id="7135683">,</span>&nbsp;<span class="ident" id="7135685">s</span><span class="op" id="7135686">,</span>&nbsp;<span class="num" id="7135688">0</span><span class="op" id="7135689">,</span>&nbsp;<span class="ident" id="7135691">s</span><span class="op" id="7135692">.</span><span class="ident" id="7135693">Next</span><span class="op" id="7135697">(</span><span class="op" id="7135698">)</span><span class="op" id="7135699">,</span>&nbsp;<span class="string" id="7135701">&#39;&nbsp;&#39;</span><span class="op" id="7135704">,</span>&nbsp;<span class="string" id="7135706">&#34;&#34;</span><span class="op" id="7135708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135711">checkTok</span><span class="op" id="7135719">(</span><span class="ident" id="7135720">t</span><span class="op" id="7135721">,</span>&nbsp;<span class="ident" id="7135723">s</span><span class="op" id="7135724">,</span>&nbsp;<span class="num" id="7135726">0</span><span class="op" id="7135727">,</span>&nbsp;<span class="ident" id="7135729">s</span><span class="op" id="7135730">.</span><span class="ident" id="7135731">Next</span><span class="op" id="7135735">(</span><span class="op" id="7135736">)</span><span class="op" id="7135737">,</span>&nbsp;<span class="string" id="7135739">&#39;b&#39;</span><span class="op" id="7135742">,</span>&nbsp;<span class="string" id="7135744">&#34;&#34;</span><span class="op" id="7135746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135749">checkTok</span><span class="op" id="7135757">(</span><span class="ident" id="7135758">t</span><span class="op" id="7135759">,</span>&nbsp;<span class="ident" id="7135761">s</span><span class="op" id="7135762">,</span>&nbsp;<span class="num" id="7135764">1</span><span class="op" id="7135765">,</span>&nbsp;<span class="ident" id="7135767">s</span><span class="op" id="7135768">.</span><span class="ident" id="7135769">Scan</span><span class="op" id="7135773">(</span><span class="op" id="7135774">)</span><span class="op" id="7135775">,</span>&nbsp;<span class="ident" id="7135777">Ident</span><span class="op" id="7135782">,</span>&nbsp;<span class="string" id="7135784">&#34;cd&#34;</span><span class="op" id="7135788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135791">checkTok</span><span class="op" id="7135799">(</span><span class="ident" id="7135800">t</span><span class="op" id="7135801">,</span>&nbsp;<span class="ident" id="7135803">s</span><span class="op" id="7135804">,</span>&nbsp;<span class="num" id="7135806">1</span><span class="op" id="7135807">,</span>&nbsp;<span class="ident" id="7135809">s</span><span class="op" id="7135810">.</span><span class="ident" id="7135811">Scan</span><span class="op" id="7135815">(</span><span class="op" id="7135816">)</span><span class="op" id="7135817">,</span>&nbsp;<span class="string" id="7135819">&#39;{&#39;</span><span class="op" id="7135822">,</span>&nbsp;<span class="string" id="7135824">&#34;{&#34;</span><span class="op" id="7135827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135830">checkTok</span><span class="op" id="7135838">(</span><span class="ident" id="7135839">t</span><span class="op" id="7135840">,</span>&nbsp;<span class="ident" id="7135842">s</span><span class="op" id="7135843">,</span>&nbsp;<span class="num" id="7135845">2</span><span class="op" id="7135846">,</span>&nbsp;<span class="ident" id="7135848">s</span><span class="op" id="7135849">.</span><span class="ident" id="7135850">Scan</span><span class="op" id="7135854">(</span><span class="op" id="7135855">)</span><span class="op" id="7135856">,</span>&nbsp;<span class="ident" id="7135858">Ident</span><span class="op" id="7135863">,</span>&nbsp;<span class="string" id="7135865">&#34;a&#34;</span><span class="op" id="7135868">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135871">checkTok</span><span class="op" id="7135879">(</span><span class="ident" id="7135880">t</span><span class="op" id="7135881">,</span>&nbsp;<span class="ident" id="7135883">s</span><span class="op" id="7135884">,</span>&nbsp;<span class="num" id="7135886">2</span><span class="op" id="7135887">,</span>&nbsp;<span class="ident" id="7135889">s</span><span class="op" id="7135890">.</span><span class="ident" id="7135891">Scan</span><span class="op" id="7135895">(</span><span class="op" id="7135896">)</span><span class="op" id="7135897">,</span>&nbsp;<span class="string" id="7135899">&#39;+&#39;</span><span class="op" id="7135902">,</span>&nbsp;<span class="string" id="7135904">&#34;+&#34;</span><span class="op" id="7135907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135910">checkTok</span><span class="op" id="7135918">(</span><span class="ident" id="7135919">t</span><span class="op" id="7135920">,</span>&nbsp;<span class="ident" id="7135922">s</span><span class="op" id="7135923">,</span>&nbsp;<span class="num" id="7135925">0</span><span class="op" id="7135926">,</span>&nbsp;<span class="ident" id="7135928">s</span><span class="op" id="7135929">.</span><span class="ident" id="7135930">Next</span><span class="op" id="7135934">(</span><span class="op" id="7135935">)</span><span class="op" id="7135936">,</span>&nbsp;<span class="string" id="7135938">&#39;=&#39;</span><span class="op" id="7135941">,</span>&nbsp;<span class="string" id="7135943">&#34;&#34;</span><span class="op" id="7135945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135948">checkTok</span><span class="op" id="7135956">(</span><span class="ident" id="7135957">t</span><span class="op" id="7135958">,</span>&nbsp;<span class="ident" id="7135960">s</span><span class="op" id="7135961">,</span>&nbsp;<span class="num" id="7135963">2</span><span class="op" id="7135964">,</span>&nbsp;<span class="ident" id="7135966">s</span><span class="op" id="7135967">.</span><span class="ident" id="7135968">Scan</span><span class="op" id="7135972">(</span><span class="op" id="7135973">)</span><span class="op" id="7135974">,</span>&nbsp;<span class="ident" id="7135976">Ident</span><span class="op" id="7135981">,</span>&nbsp;<span class="string" id="7135983">&#34;c&#34;</span><span class="op" id="7135986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7135989">checkTok</span><span class="op" id="7135997">(</span><span class="ident" id="7135998">t</span><span class="op" id="7135999">,</span>&nbsp;<span class="ident" id="7136001">s</span><span class="op" id="7136002">,</span>&nbsp;<span class="num" id="7136004">3</span><span class="op" id="7136005">,</span>&nbsp;<span class="ident" id="7136007">s</span><span class="op" id="7136008">.</span><span class="ident" id="7136009">Scan</span><span class="op" id="7136013">(</span><span class="op" id="7136014">)</span><span class="op" id="7136015">,</span>&nbsp;<span class="string" id="7136017">&#39;}&#39;</span><span class="op" id="7136020">,</span>&nbsp;<span class="string" id="7136022">&#34;}&#34;</span><span class="op" id="7136025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136028">checkTok</span><span class="op" id="7136036">(</span><span class="ident" id="7136037">t</span><span class="op" id="7136038">,</span>&nbsp;<span class="ident" id="7136040">s</span><span class="op" id="7136041">,</span>&nbsp;<span class="num" id="7136043">3</span><span class="op" id="7136044">,</span>&nbsp;<span class="ident" id="7136046">s</span><span class="op" id="7136047">.</span><span class="ident" id="7136048">Scan</span><span class="op" id="7136052">(</span><span class="op" id="7136053">)</span><span class="op" id="7136054">,</span>&nbsp;<span class="ident" id="7136056">BOM</span><span class="op" id="7136059">,</span>&nbsp;<span class="ident" id="7136061">BOMs</span><span class="op" id="7136065">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136068">checkTok</span><span class="op" id="7136076">(</span><span class="ident" id="7136077">t</span><span class="op" id="7136078">,</span>&nbsp;<span class="ident" id="7136080">s</span><span class="op" id="7136081">,</span>&nbsp;<span class="num" id="7136083">3</span><span class="op" id="7136084">,</span>&nbsp;<span class="ident" id="7136086">s</span><span class="op" id="7136087">.</span><span class="ident" id="7136088">Scan</span><span class="op" id="7136092">(</span><span class="op" id="7136093">)</span><span class="op" id="7136094">,</span>&nbsp;<span class="op" id="7136096">-</span><span class="num" id="7136097">1</span><span class="op" id="7136098">,</span>&nbsp;<span class="string" id="7136100">&#34;&#34;</span><span class="op" id="7136102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136105">if</span>&nbsp;<span class="ident" id="7136108">s</span><span class="op" id="7136109">.</span><span class="ident" id="7136110">ErrorCount</span>&nbsp;<span class="op" id="7136121">!=</span>&nbsp;<span class="num" id="7136124">0</span>&nbsp;<span class="op" id="7136126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136130">t</span><span class="op" id="7136131">.</span><span class="ident" id="7136132">Errorf</span><span class="op" id="7136138">(</span><span class="string" id="7136139">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7136150">,</span>&nbsp;<span class="ident" id="7136152">s</span><span class="op" id="7136153">.</span><span class="ident" id="7136154">ErrorCount</span><span class="op" id="7136164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136167">}</span><br>
<span class="lineno"></span><span class="op" id="7136169">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="7136172">func</span>&nbsp;<span class="ident" id="7136177">TestScanWhitespace</span><span class="op" id="7136195">(</span><span class="ident" id="7136196">t</span>&nbsp;<span class="op" id="7136198">*</span><span class="ident" id="7136199">testing</span><span class="op" id="7136206">.</span><span class="ident" id="7136207">T</span><span class="op" id="7136208">)</span>&nbsp;<span class="op" id="7136210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136213">var</span>&nbsp;<span class="ident" id="7136217">buf</span>&nbsp;<span class="ident" id="7136221">bytes</span><span class="op" id="7136226">.</span><span class="ident" id="7136227">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136235">var</span>&nbsp;<span class="ident" id="7136239">ws</span>&nbsp;<span class="ident" id="7136242">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7136250">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136295">for</span>&nbsp;<span class="ident" id="7136299">ch</span>&nbsp;<span class="op" id="7136302">:=</span>&nbsp;<span class="builtintype" id="7136305">byte</span><span class="op" id="7136309">(</span><span class="num" id="7136310">1</span><span class="op" id="7136311">)</span><span class="op" id="7136312">;</span>&nbsp;<span class="ident" id="7136314">ch</span>&nbsp;<span class="op" id="7136317">&lt;</span>&nbsp;<span class="string" id="7136319">&#39;&nbsp;&#39;</span><span class="op" id="7136322">;</span>&nbsp;<span class="ident" id="7136324">ch</span><span class="op" id="7136326">++</span>&nbsp;<span class="op" id="7136329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136333">buf</span><span class="op" id="7136336">.</span><span class="ident" id="7136337">WriteByte</span><span class="op" id="7136346">(</span><span class="ident" id="7136347">ch</span><span class="op" id="7136349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136353">ws</span>&nbsp;<span class="op" id="7136356">|=</span>&nbsp;<span class="num" id="7136359">1</span>&nbsp;<span class="op" id="7136361">&lt;&lt;</span>&nbsp;<span class="ident" id="7136364">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136371">const</span>&nbsp;<span class="ident" id="7136377">orig</span>&nbsp;<span class="op" id="7136382">=</span>&nbsp;<span class="string" id="7136384">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136389">buf</span><span class="op" id="7136392">.</span><span class="ident" id="7136393">WriteByte</span><span class="op" id="7136402">(</span><span class="ident" id="7136403">orig</span><span class="op" id="7136407">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136411">s</span>&nbsp;<span class="op" id="7136413">:=</span>&nbsp;<span class="builtinfunc" id="7136416">new</span><span class="op" id="7136419">(</span><span class="ident" id="7136420">Scanner</span><span class="op" id="7136427">)</span><span class="op" id="7136428">.</span><span class="ident" id="7136429">Init</span><span class="op" id="7136433">(</span><span class="op" id="7136434">&amp;</span><span class="ident" id="7136435">buf</span><span class="op" id="7136438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136441">s</span><span class="op" id="7136442">.</span><span class="ident" id="7136443">Mode</span>&nbsp;<span class="op" id="7136448">=</span>&nbsp;<span class="num" id="7136450">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136453">s</span><span class="op" id="7136454">.</span><span class="ident" id="7136455">Whitespace</span>&nbsp;<span class="op" id="7136466">=</span>&nbsp;<span class="ident" id="7136468">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136472">tok</span>&nbsp;<span class="op" id="7136476">:=</span>&nbsp;<span class="ident" id="7136479">s</span><span class="op" id="7136480">.</span><span class="ident" id="7136481">Scan</span><span class="op" id="7136485">(</span><span class="op" id="7136486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136489">if</span>&nbsp;<span class="ident" id="7136492">tok</span>&nbsp;<span class="op" id="7136496">!=</span>&nbsp;<span class="ident" id="7136499">orig</span>&nbsp;<span class="op" id="7136504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136508">t</span><span class="op" id="7136509">.</span><span class="ident" id="7136510">Errorf</span><span class="op" id="7136516">(</span><span class="string" id="7136517">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7136536">,</span>&nbsp;<span class="ident" id="7136538">TokenString</span><span class="op" id="7136549">(</span><span class="ident" id="7136550">tok</span><span class="op" id="7136553">)</span><span class="op" id="7136554">,</span>&nbsp;<span class="ident" id="7136556">TokenString</span><span class="op" id="7136567">(</span><span class="ident" id="7136568">orig</span><span class="op" id="7136572">)</span><span class="op" id="7136573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136576">}</span><br>
<span class="lineno"></span><span class="op" id="7136578">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="7136581">func</span>&nbsp;<span class="ident" id="7136586">testError</span><span class="op" id="7136595">(</span><span class="ident" id="7136596">t</span>&nbsp;<span class="op" id="7136598">*</span><span class="ident" id="7136599">testing</span><span class="op" id="7136606">.</span><span class="ident" id="7136607">T</span><span class="op" id="7136608">,</span>&nbsp;<span class="ident" id="7136610">src</span><span class="op" id="7136613">,</span>&nbsp;<span class="ident" id="7136615">pos</span><span class="op" id="7136618">,</span>&nbsp;<span class="ident" id="7136620">msg</span>&nbsp;<span class="builtintype" id="7136624">string</span><span class="op" id="7136630">,</span>&nbsp;<span class="ident" id="7136632">tok</span>&nbsp;<span class="builtintype" id="7136636">rune</span><span class="op" id="7136640">)</span>&nbsp;<span class="op" id="7136642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136645">s</span>&nbsp;<span class="op" id="7136647">:=</span>&nbsp;<span class="builtinfunc" id="7136650">new</span><span class="op" id="7136653">(</span><span class="ident" id="7136654">Scanner</span><span class="op" id="7136661">)</span><span class="op" id="7136662">.</span><span class="ident" id="7136663">Init</span><span class="op" id="7136667">(</span><span class="ident" id="7136668">strings</span><span class="op" id="7136675">.</span><span class="ident" id="7136676">NewReader</span><span class="op" id="7136685">(</span><span class="ident" id="7136686">src</span><span class="op" id="7136689">)</span><span class="op" id="7136690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136693">errorCalled</span>&nbsp;<span class="op" id="7136705">:=</span>&nbsp;<span class="builtintype" id="7136708">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136715">s</span><span class="op" id="7136716">.</span><span class="ident" id="7136717">Error</span>&nbsp;<span class="op" id="7136723">=</span>&nbsp;<span class="keyword" id="7136725">func</span><span class="op" id="7136729">(</span><span class="ident" id="7136730">s</span>&nbsp;<span class="op" id="7136732">*</span><span class="ident" id="7136733">Scanner</span><span class="op" id="7136740">,</span>&nbsp;<span class="ident" id="7136742">m</span>&nbsp;<span class="builtintype" id="7136744">string</span><span class="op" id="7136750">)</span>&nbsp;<span class="op" id="7136752">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136756">if</span>&nbsp;<span class="op" id="7136759">!</span><span class="ident" id="7136760">errorCalled</span>&nbsp;<span class="op" id="7136772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7136777">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136808">if</span>&nbsp;<span class="ident" id="7136811">p</span>&nbsp;<span class="op" id="7136813">:=</span>&nbsp;<span class="ident" id="7136816">s</span><span class="op" id="7136817">.</span><span class="ident" id="7136818">Pos</span><span class="op" id="7136821">(</span><span class="op" id="7136822">)</span><span class="op" id="7136823">.</span><span class="ident" id="7136824">String</span><span class="op" id="7136830">(</span><span class="op" id="7136831">)</span><span class="op" id="7136832">;</span>&nbsp;<span class="ident" id="7136834">p</span>&nbsp;<span class="op" id="7136836">!=</span>&nbsp;<span class="ident" id="7136839">pos</span>&nbsp;<span class="op" id="7136843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136849">t</span><span class="op" id="7136850">.</span><span class="ident" id="7136851">Errorf</span><span class="op" id="7136857">(</span><span class="string" id="7136858">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7136884">,</span>&nbsp;<span class="ident" id="7136886">p</span><span class="op" id="7136887">,</span>&nbsp;<span class="ident" id="7136889">pos</span><span class="op" id="7136892">,</span>&nbsp;<span class="ident" id="7136894">src</span><span class="op" id="7136897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136902">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7136907">if</span>&nbsp;<span class="ident" id="7136910">m</span>&nbsp;<span class="op" id="7136912">!=</span>&nbsp;<span class="ident" id="7136915">msg</span>&nbsp;<span class="op" id="7136919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136925">t</span><span class="op" id="7136926">.</span><span class="ident" id="7136927">Errorf</span><span class="op" id="7136933">(</span><span class="string" id="7136934">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7136960">,</span>&nbsp;<span class="ident" id="7136962">m</span><span class="op" id="7136963">,</span>&nbsp;<span class="ident" id="7136965">msg</span><span class="op" id="7136968">,</span>&nbsp;<span class="ident" id="7136970">src</span><span class="op" id="7136973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7136978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7136983">errorCalled</span>&nbsp;<span class="op" id="7136995">=</span>&nbsp;<span class="builtintype" id="7136997">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137004">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137010">tk</span>&nbsp;<span class="op" id="7137013">:=</span>&nbsp;<span class="ident" id="7137016">s</span><span class="op" id="7137017">.</span><span class="ident" id="7137018">Scan</span><span class="op" id="7137022">(</span><span class="op" id="7137023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137026">if</span>&nbsp;<span class="ident" id="7137029">tk</span>&nbsp;<span class="op" id="7137032">!=</span>&nbsp;<span class="ident" id="7137035">tok</span>&nbsp;<span class="op" id="7137039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137043">t</span><span class="op" id="7137044">.</span><span class="ident" id="7137045">Errorf</span><span class="op" id="7137051">(</span><span class="string" id="7137052">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7137078">,</span>&nbsp;<span class="ident" id="7137080">TokenString</span><span class="op" id="7137091">(</span><span class="ident" id="7137092">tk</span><span class="op" id="7137094">)</span><span class="op" id="7137095">,</span>&nbsp;<span class="ident" id="7137097">TokenString</span><span class="op" id="7137108">(</span><span class="ident" id="7137109">tok</span><span class="op" id="7137112">)</span><span class="op" id="7137113">,</span>&nbsp;<span class="ident" id="7137115">src</span><span class="op" id="7137118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137121">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137124">if</span>&nbsp;<span class="op" id="7137127">!</span><span class="ident" id="7137128">errorCalled</span>&nbsp;<span class="op" id="7137140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137144">t</span><span class="op" id="7137145">.</span><span class="ident" id="7137146">Errorf</span><span class="op" id="7137152">(</span><span class="string" id="7137153">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7137186">,</span>&nbsp;<span class="ident" id="7137188">src</span><span class="op" id="7137191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7137197">if</span>&nbsp;<span class="ident" id="7137200">s</span><span class="op" id="7137201">.</span><span class="ident" id="7137202">ErrorCount</span>&nbsp;<span class="op" id="7137213">==</span>&nbsp;<span class="num" id="7137216">0</span>&nbsp;<span class="op" id="7137218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137222">t</span><span class="op" id="7137223">.</span><span class="ident" id="7137224">Errorf</span><span class="op" id="7137230">(</span><span class="string" id="7137231">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7137260">,</span>&nbsp;<span class="ident" id="7137262">s</span><span class="op" id="7137263">.</span><span class="ident" id="7137264">ErrorCount</span><span class="op" id="7137274">,</span>&nbsp;<span class="ident" id="7137276">src</span><span class="op" id="7137279">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7137282">}</span><br>
<span class="lineno"></span><span class="op" id="7137284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7137287">func</span>&nbsp;<span class="ident" id="7137292">TestError</span><span class="op" id="7137301">(</span><span class="ident" id="7137302">t</span>&nbsp;<span class="op" id="7137304">*</span><span class="ident" id="7137305">testing</span><span class="op" id="7137312">.</span><span class="ident" id="7137313">T</span><span class="op" id="7137314">)</span>&nbsp;<span class="op" id="7137316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137319">testError</span><span class="op" id="7137328">(</span><span class="ident" id="7137329">t</span><span class="op" id="7137330">,</span>&nbsp;<span class="string" id="7137332">&#34;\x00&#34;</span><span class="op" id="7137338">,</span>&nbsp;<span class="string" id="7137340">&#34;1:1&#34;</span><span class="op" id="7137345">,</span>&nbsp;<span class="string" id="7137347">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7137370">,</span>&nbsp;<span class="num" id="7137372">0</span><span class="op" id="7137373">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137376">testError</span><span class="op" id="7137385">(</span><span class="ident" id="7137386">t</span><span class="op" id="7137387">,</span>&nbsp;<span class="string" id="7137389">&#34;\x80&#34;</span><span class="op" id="7137395">,</span>&nbsp;<span class="string" id="7137397">&#34;1:1&#34;</span><span class="op" id="7137402">,</span>&nbsp;<span class="string" id="7137404">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7137428">,</span>&nbsp;<span class="ident" id="7137430">utf8</span><span class="op" id="7137434">.</span><span class="ident" id="7137435">RuneError</span><span class="op" id="7137444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137447">testError</span><span class="op" id="7137456">(</span><span class="ident" id="7137457">t</span><span class="op" id="7137458">,</span>&nbsp;<span class="string" id="7137460">&#34;\xff&#34;</span><span class="op" id="7137466">,</span>&nbsp;<span class="string" id="7137468">&#34;1:1&#34;</span><span class="op" id="7137473">,</span>&nbsp;<span class="string" id="7137475">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7137499">,</span>&nbsp;<span class="ident" id="7137501">utf8</span><span class="op" id="7137505">.</span><span class="ident" id="7137506">RuneError</span><span class="op" id="7137515">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137519">testError</span><span class="op" id="7137528">(</span><span class="ident" id="7137529">t</span><span class="op" id="7137530">,</span>&nbsp;<span class="string" id="7137532">&#34;a\x00&#34;</span><span class="op" id="7137539">,</span>&nbsp;<span class="string" id="7137541">&#34;1:2&#34;</span><span class="op" id="7137546">,</span>&nbsp;<span class="string" id="7137548">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7137571">,</span>&nbsp;<span class="ident" id="7137573">Ident</span><span class="op" id="7137578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137581">testError</span><span class="op" id="7137590">(</span><span class="ident" id="7137591">t</span><span class="op" id="7137592">,</span>&nbsp;<span class="string" id="7137594">&#34;ab\x80&#34;</span><span class="op" id="7137602">,</span>&nbsp;<span class="string" id="7137604">&#34;1:3&#34;</span><span class="op" id="7137609">,</span>&nbsp;<span class="string" id="7137611">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7137635">,</span>&nbsp;<span class="ident" id="7137637">Ident</span><span class="op" id="7137642">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137645">testError</span><span class="op" id="7137654">(</span><span class="ident" id="7137655">t</span><span class="op" id="7137656">,</span>&nbsp;<span class="string" id="7137658">&#34;abc\xff&#34;</span><span class="op" id="7137667">,</span>&nbsp;<span class="string" id="7137669">&#34;1:4&#34;</span><span class="op" id="7137674">,</span>&nbsp;<span class="string" id="7137676">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7137700">,</span>&nbsp;<span class="ident" id="7137702">Ident</span><span class="op" id="7137707">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137711">testError</span><span class="op" id="7137720">(</span><span class="ident" id="7137721">t</span><span class="op" id="7137722">,</span>&nbsp;<span class="string" id="7137724">`&#34;a`</span><span class="op" id="7137728">+</span><span class="string" id="7137729">&#34;\x00&#34;</span><span class="op" id="7137735">,</span>&nbsp;<span class="string" id="7137737">&#34;1:3&#34;</span><span class="op" id="7137742">,</span>&nbsp;<span class="string" id="7137744">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7137767">,</span>&nbsp;<span class="ident" id="7137769">String</span><span class="op" id="7137775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137778">testError</span><span class="op" id="7137787">(</span><span class="ident" id="7137788">t</span><span class="op" id="7137789">,</span>&nbsp;<span class="string" id="7137791">`&#34;ab`</span><span class="op" id="7137796">+</span><span class="string" id="7137797">&#34;\x80&#34;</span><span class="op" id="7137803">,</span>&nbsp;<span class="string" id="7137805">&#34;1:4&#34;</span><span class="op" id="7137810">,</span>&nbsp;<span class="string" id="7137812">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7137836">,</span>&nbsp;<span class="ident" id="7137838">String</span><span class="op" id="7137844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137847">testError</span><span class="op" id="7137856">(</span><span class="ident" id="7137857">t</span><span class="op" id="7137858">,</span>&nbsp;<span class="string" id="7137860">`&#34;abc`</span><span class="op" id="7137866">+</span><span class="string" id="7137867">&#34;\xff&#34;</span><span class="op" id="7137873">,</span>&nbsp;<span class="string" id="7137875">&#34;1:5&#34;</span><span class="op" id="7137880">,</span>&nbsp;<span class="string" id="7137882">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7137906">,</span>&nbsp;<span class="ident" id="7137908">String</span><span class="op" id="7137914">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137918">testError</span><span class="op" id="7137927">(</span><span class="ident" id="7137928">t</span><span class="op" id="7137929">,</span>&nbsp;<span class="string" id="7137931">&#34;`a&#34;</span><span class="op" id="7137935">+</span><span class="string" id="7137936">&#34;\x00&#34;</span><span class="op" id="7137942">,</span>&nbsp;<span class="string" id="7137944">&#34;1:3&#34;</span><span class="op" id="7137949">,</span>&nbsp;<span class="string" id="7137951">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7137974">,</span>&nbsp;<span class="ident" id="7137976">String</span><span class="op" id="7137982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7137985">testError</span><span class="op" id="7137994">(</span><span class="ident" id="7137995">t</span><span class="op" id="7137996">,</span>&nbsp;<span class="string" id="7137998">&#34;`ab&#34;</span><span class="op" id="7138003">+</span><span class="string" id="7138004">&#34;\x80&#34;</span><span class="op" id="7138010">,</span>&nbsp;<span class="string" id="7138012">&#34;1:4&#34;</span><span class="op" id="7138017">,</span>&nbsp;<span class="string" id="7138019">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7138043">,</span>&nbsp;<span class="ident" id="7138045">String</span><span class="op" id="7138051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138054">testError</span><span class="op" id="7138063">(</span><span class="ident" id="7138064">t</span><span class="op" id="7138065">,</span>&nbsp;<span class="string" id="7138067">&#34;`abc&#34;</span><span class="op" id="7138073">+</span><span class="string" id="7138074">&#34;\xff&#34;</span><span class="op" id="7138080">,</span>&nbsp;<span class="string" id="7138082">&#34;1:5&#34;</span><span class="op" id="7138087">,</span>&nbsp;<span class="string" id="7138089">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7138113">,</span>&nbsp;<span class="ident" id="7138115">String</span><span class="op" id="7138121">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138125">testError</span><span class="op" id="7138134">(</span><span class="ident" id="7138135">t</span><span class="op" id="7138136">,</span>&nbsp;<span class="string" id="7138138">`&#39;\&#34;&#39;`</span><span class="op" id="7138144">,</span>&nbsp;<span class="string" id="7138146">&#34;1:3&#34;</span><span class="op" id="7138151">,</span>&nbsp;<span class="string" id="7138153">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7138174">,</span>&nbsp;<span class="ident" id="7138176">Char</span><span class="op" id="7138180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138183">testError</span><span class="op" id="7138192">(</span><span class="ident" id="7138193">t</span><span class="op" id="7138194">,</span>&nbsp;<span class="string" id="7138196">`&#34;\&#39;&#34;`</span><span class="op" id="7138202">,</span>&nbsp;<span class="string" id="7138204">&#34;1:3&#34;</span><span class="op" id="7138209">,</span>&nbsp;<span class="string" id="7138211">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7138232">,</span>&nbsp;<span class="ident" id="7138234">String</span><span class="op" id="7138240">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138244">testError</span><span class="op" id="7138253">(</span><span class="ident" id="7138254">t</span><span class="op" id="7138255">,</span>&nbsp;<span class="string" id="7138257">`01238`</span><span class="op" id="7138264">,</span>&nbsp;<span class="string" id="7138266">&#34;1:6&#34;</span><span class="op" id="7138271">,</span>&nbsp;<span class="string" id="7138273">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7138295">,</span>&nbsp;<span class="ident" id="7138297">Int</span><span class="op" id="7138300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138303">testError</span><span class="op" id="7138312">(</span><span class="ident" id="7138313">t</span><span class="op" id="7138314">,</span>&nbsp;<span class="string" id="7138316">`01238123`</span><span class="op" id="7138326">,</span>&nbsp;<span class="string" id="7138328">&#34;1:9&#34;</span><span class="op" id="7138333">,</span>&nbsp;<span class="string" id="7138335">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7138357">,</span>&nbsp;<span class="ident" id="7138359">Int</span><span class="op" id="7138362">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138365">testError</span><span class="op" id="7138374">(</span><span class="ident" id="7138375">t</span><span class="op" id="7138376">,</span>&nbsp;<span class="string" id="7138378">`0x`</span><span class="op" id="7138382">,</span>&nbsp;<span class="string" id="7138384">&#34;1:3&#34;</span><span class="op" id="7138389">,</span>&nbsp;<span class="string" id="7138391">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7138419">,</span>&nbsp;<span class="ident" id="7138421">Int</span><span class="op" id="7138424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138427">testError</span><span class="op" id="7138436">(</span><span class="ident" id="7138437">t</span><span class="op" id="7138438">,</span>&nbsp;<span class="string" id="7138440">`0xg`</span><span class="op" id="7138445">,</span>&nbsp;<span class="string" id="7138447">&#34;1:3&#34;</span><span class="op" id="7138452">,</span>&nbsp;<span class="string" id="7138454">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7138482">,</span>&nbsp;<span class="ident" id="7138484">Int</span><span class="op" id="7138487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138490">testError</span><span class="op" id="7138499">(</span><span class="ident" id="7138500">t</span><span class="op" id="7138501">,</span>&nbsp;<span class="string" id="7138503">`&#39;aa&#39;`</span><span class="op" id="7138509">,</span>&nbsp;<span class="string" id="7138511">&#34;1:4&#34;</span><span class="op" id="7138516">,</span>&nbsp;<span class="string" id="7138518">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="7138540">,</span>&nbsp;<span class="ident" id="7138542">Char</span><span class="op" id="7138546">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138550">testError</span><span class="op" id="7138559">(</span><span class="ident" id="7138560">t</span><span class="op" id="7138561">,</span>&nbsp;<span class="string" id="7138563">`&#39;`</span><span class="op" id="7138566">,</span>&nbsp;<span class="string" id="7138568">&#34;1:2&#34;</span><span class="op" id="7138573">,</span>&nbsp;<span class="string" id="7138575">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7138599">,</span>&nbsp;<span class="ident" id="7138601">Char</span><span class="op" id="7138605">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138608">testError</span><span class="op" id="7138617">(</span><span class="ident" id="7138618">t</span><span class="op" id="7138619">,</span>&nbsp;<span class="string" id="7138621">`&#39;`</span><span class="op" id="7138624">+</span><span class="string" id="7138625">&#34;\n&#34;</span><span class="op" id="7138629">,</span>&nbsp;<span class="string" id="7138631">&#34;1:2&#34;</span><span class="op" id="7138636">,</span>&nbsp;<span class="string" id="7138638">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7138662">,</span>&nbsp;<span class="ident" id="7138664">Char</span><span class="op" id="7138668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138671">testError</span><span class="op" id="7138680">(</span><span class="ident" id="7138681">t</span><span class="op" id="7138682">,</span>&nbsp;<span class="string" id="7138684">`&#34;abc`</span><span class="op" id="7138690">,</span>&nbsp;<span class="string" id="7138692">&#34;1:5&#34;</span><span class="op" id="7138697">,</span>&nbsp;<span class="string" id="7138699">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7138723">,</span>&nbsp;<span class="ident" id="7138725">String</span><span class="op" id="7138731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138734">testError</span><span class="op" id="7138743">(</span><span class="ident" id="7138744">t</span><span class="op" id="7138745">,</span>&nbsp;<span class="string" id="7138747">`&#34;abc`</span><span class="op" id="7138753">+</span><span class="string" id="7138754">&#34;\n&#34;</span><span class="op" id="7138758">,</span>&nbsp;<span class="string" id="7138760">&#34;1:5&#34;</span><span class="op" id="7138765">,</span>&nbsp;<span class="string" id="7138767">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7138791">,</span>&nbsp;<span class="ident" id="7138793">String</span><span class="op" id="7138799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138802">testError</span><span class="op" id="7138811">(</span><span class="ident" id="7138812">t</span><span class="op" id="7138813">,</span>&nbsp;<span class="string" id="7138815">&#34;`abc\n&#34;</span><span class="op" id="7138823">,</span>&nbsp;<span class="string" id="7138825">&#34;2:1&#34;</span><span class="op" id="7138830">,</span>&nbsp;<span class="string" id="7138832">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7138856">,</span>&nbsp;<span class="ident" id="7138858">String</span><span class="op" id="7138864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7138867">testError</span><span class="op" id="7138876">(</span><span class="ident" id="7138877">t</span><span class="op" id="7138878">,</span>&nbsp;<span class="string" id="7138880">`/*/`</span><span class="op" id="7138885">,</span>&nbsp;<span class="string" id="7138887">&#34;1:4&#34;</span><span class="op" id="7138892">,</span>&nbsp;<span class="string" id="7138894">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7138918">,</span>&nbsp;<span class="ident" id="7138920">EOF</span><span class="op" id="7138923">)</span><br>
<span class="lineno">485</span><span class="op" id="7138925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7138928">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="7138986">type</span>&nbsp;<span class="ident" id="7138991">errReader</span>&nbsp;<span class="keyword" id="7139001">struct</span><span class="op" id="7139007">{</span><span class="op" id="7139008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="7139011">func</span>&nbsp;<span class="op" id="7139016">(</span><span class="ident" id="7139017">errReader</span><span class="op" id="7139026">)</span>&nbsp;<span class="ident" id="7139028">Read</span><span class="op" id="7139032">(</span><span class="ident" id="7139033">b</span>&nbsp;<span class="op" id="7139035">[</span><span class="op" id="7139036">]</span><span class="builtintype" id="7139037">byte</span><span class="op" id="7139041">)</span>&nbsp;<span class="op" id="7139043">(</span><span class="builtintype" id="7139044">int</span><span class="op" id="7139047">,</span>&nbsp;<span class="builtintype" id="7139049">error</span><span class="op" id="7139054">)</span>&nbsp;<span class="op" id="7139056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7139059">return</span>&nbsp;<span class="num" id="7139066">0</span><span class="op" id="7139067">,</span>&nbsp;<span class="ident" id="7139069">io</span><span class="op" id="7139071">.</span><span class="ident" id="7139072">ErrNoProgress</span>&nbsp;<span class="comment" id="7139086">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="7139119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7139122">func</span>&nbsp;<span class="ident" id="7139127">TestIOError</span><span class="op" id="7139138">(</span><span class="ident" id="7139139">t</span>&nbsp;<span class="op" id="7139141">*</span><span class="ident" id="7139142">testing</span><span class="op" id="7139149">.</span><span class="ident" id="7139150">T</span><span class="op" id="7139151">)</span>&nbsp;<span class="op" id="7139153">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139156">s</span>&nbsp;<span class="op" id="7139158">:=</span>&nbsp;<span class="builtinfunc" id="7139161">new</span><span class="op" id="7139164">(</span><span class="ident" id="7139165">Scanner</span><span class="op" id="7139172">)</span><span class="op" id="7139173">.</span><span class="ident" id="7139174">Init</span><span class="op" id="7139178">(</span><span class="ident" id="7139179">errReader</span><span class="op" id="7139188">{</span><span class="op" id="7139189">}</span><span class="op" id="7139190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139193">errorCalled</span>&nbsp;<span class="op" id="7139205">:=</span>&nbsp;<span class="builtintype" id="7139208">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139215">s</span><span class="op" id="7139216">.</span><span class="ident" id="7139217">Error</span>&nbsp;<span class="op" id="7139223">=</span>&nbsp;<span class="keyword" id="7139225">func</span><span class="op" id="7139229">(</span><span class="ident" id="7139230">s</span>&nbsp;<span class="op" id="7139232">*</span><span class="ident" id="7139233">Scanner</span><span class="op" id="7139240">,</span>&nbsp;<span class="ident" id="7139242">msg</span>&nbsp;<span class="builtintype" id="7139246">string</span><span class="op" id="7139252">)</span>&nbsp;<span class="op" id="7139254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7139258">if</span>&nbsp;<span class="op" id="7139261">!</span><span class="ident" id="7139262">errorCalled</span>&nbsp;<span class="op" id="7139274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7139279">if</span>&nbsp;<span class="ident" id="7139282">want</span>&nbsp;<span class="op" id="7139287">:=</span>&nbsp;<span class="ident" id="7139290">io</span><span class="op" id="7139292">.</span><span class="ident" id="7139293">ErrNoProgress</span><span class="op" id="7139306">.</span><span class="ident" id="7139307">Error</span><span class="op" id="7139312">(</span><span class="op" id="7139313">)</span><span class="op" id="7139314">;</span>&nbsp;<span class="ident" id="7139316">msg</span>&nbsp;<span class="op" id="7139320">!=</span>&nbsp;<span class="ident" id="7139323">want</span>&nbsp;<span class="op" id="7139328">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139334">t</span><span class="op" id="7139335">.</span><span class="ident" id="7139336">Errorf</span><span class="op" id="7139342">(</span><span class="string" id="7139343">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7139362">,</span>&nbsp;<span class="ident" id="7139364">msg</span><span class="op" id="7139367">,</span>&nbsp;<span class="ident" id="7139369">want</span><span class="op" id="7139373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139383">errorCalled</span>&nbsp;<span class="op" id="7139395">=</span>&nbsp;<span class="builtintype" id="7139397">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139407">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139410">tok</span>&nbsp;<span class="op" id="7139414">:=</span>&nbsp;<span class="ident" id="7139417">s</span><span class="op" id="7139418">.</span><span class="ident" id="7139419">Scan</span><span class="op" id="7139423">(</span><span class="op" id="7139424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7139427">if</span>&nbsp;<span class="ident" id="7139430">tok</span>&nbsp;<span class="op" id="7139434">!=</span>&nbsp;<span class="ident" id="7139437">EOF</span>&nbsp;<span class="op" id="7139441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139445">t</span><span class="op" id="7139446">.</span><span class="ident" id="7139447">Errorf</span><span class="op" id="7139453">(</span><span class="string" id="7139454">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7139474">,</span>&nbsp;<span class="ident" id="7139476">TokenString</span><span class="op" id="7139487">(</span><span class="ident" id="7139488">tok</span><span class="op" id="7139491">)</span><span class="op" id="7139492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7139498">if</span>&nbsp;<span class="op" id="7139501">!</span><span class="ident" id="7139502">errorCalled</span>&nbsp;<span class="op" id="7139514">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139518">t</span><span class="op" id="7139519">.</span><span class="ident" id="7139520">Errorf</span><span class="op" id="7139526">(</span><span class="string" id="7139527">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="7139553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139556">}</span><br>
<span class="lineno"></span><span class="op" id="7139558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7139561">func</span>&nbsp;<span class="ident" id="7139566">checkPos</span><span class="op" id="7139574">(</span><span class="ident" id="7139575">t</span>&nbsp;<span class="op" id="7139577">*</span><span class="ident" id="7139578">testing</span><span class="op" id="7139585">.</span><span class="ident" id="7139586">T</span><span class="op" id="7139587">,</span>&nbsp;<span class="ident" id="7139589">got</span><span class="op" id="7139592">,</span>&nbsp;<span class="ident" id="7139594">want</span>&nbsp;<span class="ident" id="7139599">Position</span><span class="op" id="7139607">)</span>&nbsp;<span class="op" id="7139609">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7139612">if</span>&nbsp;<span class="ident" id="7139615">got</span><span class="op" id="7139618">.</span><span class="ident" id="7139619">Offset</span>&nbsp;<span class="op" id="7139626">!=</span>&nbsp;<span class="ident" id="7139629">want</span><span class="op" id="7139633">.</span><span class="ident" id="7139634">Offset</span>&nbsp;<span class="op" id="7139641">||</span>&nbsp;<span class="ident" id="7139644">got</span><span class="op" id="7139647">.</span><span class="ident" id="7139648">Line</span>&nbsp;<span class="op" id="7139653">!=</span>&nbsp;<span class="ident" id="7139656">want</span><span class="op" id="7139660">.</span><span class="ident" id="7139661">Line</span>&nbsp;<span class="op" id="7139666">||</span>&nbsp;<span class="ident" id="7139669">got</span><span class="op" id="7139672">.</span><span class="ident" id="7139673">Column</span>&nbsp;<span class="op" id="7139680">!=</span>&nbsp;<span class="ident" id="7139683">want</span><span class="op" id="7139687">.</span><span class="ident" id="7139688">Column</span>&nbsp;<span class="op" id="7139695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139699">t</span><span class="op" id="7139700">.</span><span class="ident" id="7139701">Errorf</span><span class="op" id="7139707">(</span><span class="string" id="7139708">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="7139764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139769">got</span><span class="op" id="7139772">.</span><span class="ident" id="7139773">Offset</span><span class="op" id="7139779">,</span>&nbsp;<span class="ident" id="7139781">got</span><span class="op" id="7139784">.</span><span class="ident" id="7139785">Line</span><span class="op" id="7139789">,</span>&nbsp;<span class="ident" id="7139791">got</span><span class="op" id="7139794">.</span><span class="ident" id="7139795">Column</span><span class="op" id="7139801">,</span>&nbsp;<span class="ident" id="7139803">want</span><span class="op" id="7139807">.</span><span class="ident" id="7139808">Offset</span><span class="op" id="7139814">,</span>&nbsp;<span class="ident" id="7139816">want</span><span class="op" id="7139820">.</span><span class="ident" id="7139821">Line</span><span class="op" id="7139825">,</span>&nbsp;<span class="ident" id="7139827">want</span><span class="op" id="7139831">.</span><span class="ident" id="7139832">Column</span><span class="op" id="7139838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7139841">}</span><br>
<span class="lineno"></span><span class="op" id="7139843">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="7139846">func</span>&nbsp;<span class="ident" id="7139851">checkNextPos</span><span class="op" id="7139863">(</span><span class="ident" id="7139864">t</span>&nbsp;<span class="op" id="7139866">*</span><span class="ident" id="7139867">testing</span><span class="op" id="7139874">.</span><span class="ident" id="7139875">T</span><span class="op" id="7139876">,</span>&nbsp;<span class="ident" id="7139878">s</span>&nbsp;<span class="op" id="7139880">*</span><span class="ident" id="7139881">Scanner</span><span class="op" id="7139888">,</span>&nbsp;<span class="ident" id="7139890">offset</span><span class="op" id="7139896">,</span>&nbsp;<span class="ident" id="7139898">line</span><span class="op" id="7139902">,</span>&nbsp;<span class="ident" id="7139904">column</span>&nbsp;<span class="builtintype" id="7139911">int</span><span class="op" id="7139914">,</span>&nbsp;<span class="ident" id="7139916">char</span>&nbsp;<span class="builtintype" id="7139921">rune</span><span class="op" id="7139925">)</span>&nbsp;<span class="op" id="7139927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7139930">if</span>&nbsp;<span class="ident" id="7139933">ch</span>&nbsp;<span class="op" id="7139936">:=</span>&nbsp;<span class="ident" id="7139939">s</span><span class="op" id="7139940">.</span><span class="ident" id="7139941">Next</span><span class="op" id="7139945">(</span><span class="op" id="7139946">)</span><span class="op" id="7139947">;</span>&nbsp;<span class="ident" id="7139949">ch</span>&nbsp;<span class="op" id="7139952">!=</span>&nbsp;<span class="ident" id="7139955">char</span>&nbsp;<span class="op" id="7139960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7139964">t</span><span class="op" id="7139965">.</span><span class="ident" id="7139966">Errorf</span><span class="op" id="7139972">(</span><span class="string" id="7139973">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7139991">,</span>&nbsp;<span class="ident" id="7139993">TokenString</span><span class="op" id="7140004">(</span><span class="ident" id="7140005">ch</span><span class="op" id="7140007">)</span><span class="op" id="7140008">,</span>&nbsp;<span class="ident" id="7140010">TokenString</span><span class="op" id="7140021">(</span><span class="ident" id="7140022">char</span><span class="op" id="7140026">)</span><span class="op" id="7140027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140030">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140033">want</span>&nbsp;<span class="op" id="7140038">:=</span>&nbsp;<span class="ident" id="7140041">Position</span><span class="op" id="7140049">{</span><span class="ident" id="7140050">Offset</span><span class="op" id="7140056">:</span>&nbsp;<span class="ident" id="7140058">offset</span><span class="op" id="7140064">,</span>&nbsp;<span class="ident" id="7140066">Line</span><span class="op" id="7140070">:</span>&nbsp;<span class="ident" id="7140072">line</span><span class="op" id="7140076">,</span>&nbsp;<span class="ident" id="7140078">Column</span><span class="op" id="7140084">:</span>&nbsp;<span class="ident" id="7140086">column</span><span class="op" id="7140092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140095">checkPos</span><span class="op" id="7140103">(</span><span class="ident" id="7140104">t</span><span class="op" id="7140105">,</span>&nbsp;<span class="ident" id="7140107">s</span><span class="op" id="7140108">.</span><span class="ident" id="7140109">Pos</span><span class="op" id="7140112">(</span><span class="op" id="7140113">)</span><span class="op" id="7140114">,</span>&nbsp;<span class="ident" id="7140116">want</span><span class="op" id="7140120">)</span><br>
<span class="lineno"></span><span class="op" id="7140122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7140125">func</span>&nbsp;<span class="ident" id="7140130">checkScanPos</span><span class="op" id="7140142">(</span><span class="ident" id="7140143">t</span>&nbsp;<span class="op" id="7140145">*</span><span class="ident" id="7140146">testing</span><span class="op" id="7140153">.</span><span class="ident" id="7140154">T</span><span class="op" id="7140155">,</span>&nbsp;<span class="ident" id="7140157">s</span>&nbsp;<span class="op" id="7140159">*</span><span class="ident" id="7140160">Scanner</span><span class="op" id="7140167">,</span>&nbsp;<span class="ident" id="7140169">offset</span><span class="op" id="7140175">,</span>&nbsp;<span class="ident" id="7140177">line</span><span class="op" id="7140181">,</span>&nbsp;<span class="ident" id="7140183">column</span>&nbsp;<span class="builtintype" id="7140190">int</span><span class="op" id="7140193">,</span>&nbsp;<span class="ident" id="7140195">char</span>&nbsp;<span class="builtintype" id="7140200">rune</span><span class="op" id="7140204">)</span>&nbsp;<span class="op" id="7140206">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140209">want</span>&nbsp;<span class="op" id="7140214">:=</span>&nbsp;<span class="ident" id="7140217">Position</span><span class="op" id="7140225">{</span><span class="ident" id="7140226">Offset</span><span class="op" id="7140232">:</span>&nbsp;<span class="ident" id="7140234">offset</span><span class="op" id="7140240">,</span>&nbsp;<span class="ident" id="7140242">Line</span><span class="op" id="7140246">:</span>&nbsp;<span class="ident" id="7140248">line</span><span class="op" id="7140252">,</span>&nbsp;<span class="ident" id="7140254">Column</span><span class="op" id="7140260">:</span>&nbsp;<span class="ident" id="7140262">column</span><span class="op" id="7140268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140271">checkPos</span><span class="op" id="7140279">(</span><span class="ident" id="7140280">t</span><span class="op" id="7140281">,</span>&nbsp;<span class="ident" id="7140283">s</span><span class="op" id="7140284">.</span><span class="ident" id="7140285">Pos</span><span class="op" id="7140288">(</span><span class="op" id="7140289">)</span><span class="op" id="7140290">,</span>&nbsp;<span class="ident" id="7140292">want</span><span class="op" id="7140296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7140299">if</span>&nbsp;<span class="ident" id="7140302">ch</span>&nbsp;<span class="op" id="7140305">:=</span>&nbsp;<span class="ident" id="7140308">s</span><span class="op" id="7140309">.</span><span class="ident" id="7140310">Scan</span><span class="op" id="7140314">(</span><span class="op" id="7140315">)</span><span class="op" id="7140316">;</span>&nbsp;<span class="ident" id="7140318">ch</span>&nbsp;<span class="op" id="7140321">!=</span>&nbsp;<span class="ident" id="7140324">char</span>&nbsp;<span class="op" id="7140329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140333">t</span><span class="op" id="7140334">.</span><span class="ident" id="7140335">Errorf</span><span class="op" id="7140341">(</span><span class="string" id="7140342">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7140360">,</span>&nbsp;<span class="ident" id="7140362">TokenString</span><span class="op" id="7140373">(</span><span class="ident" id="7140374">ch</span><span class="op" id="7140376">)</span><span class="op" id="7140377">,</span>&nbsp;<span class="ident" id="7140379">TokenString</span><span class="op" id="7140390">(</span><span class="ident" id="7140391">char</span><span class="op" id="7140395">)</span><span class="op" id="7140396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7140400">if</span>&nbsp;<span class="builtintype" id="7140403">string</span><span class="op" id="7140409">(</span><span class="ident" id="7140410">ch</span><span class="op" id="7140412">)</span>&nbsp;<span class="op" id="7140414">!=</span>&nbsp;<span class="ident" id="7140417">s</span><span class="op" id="7140418">.</span><span class="ident" id="7140419">TokenText</span><span class="op" id="7140428">(</span><span class="op" id="7140429">)</span>&nbsp;<span class="op" id="7140431">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140436">t</span><span class="op" id="7140437">.</span><span class="ident" id="7140438">Errorf</span><span class="op" id="7140444">(</span><span class="string" id="7140445">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7140464">,</span>&nbsp;<span class="ident" id="7140466">s</span><span class="op" id="7140467">.</span><span class="ident" id="7140468">TokenText</span><span class="op" id="7140477">(</span><span class="op" id="7140478">)</span><span class="op" id="7140479">,</span>&nbsp;<span class="builtintype" id="7140481">string</span><span class="op" id="7140487">(</span><span class="ident" id="7140488">ch</span><span class="op" id="7140490">)</span><span class="op" id="7140491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7140498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140501">checkPos</span><span class="op" id="7140509">(</span><span class="ident" id="7140510">t</span><span class="op" id="7140511">,</span>&nbsp;<span class="ident" id="7140513">s</span><span class="op" id="7140514">.</span><span class="ident" id="7140515">Position</span><span class="op" id="7140523">,</span>&nbsp;<span class="ident" id="7140525">want</span><span class="op" id="7140529">)</span><br>
<span class="lineno"></span><span class="op" id="7140531">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="7140534">func</span>&nbsp;<span class="ident" id="7140539">TestPos</span><span class="op" id="7140546">(</span><span class="ident" id="7140547">t</span>&nbsp;<span class="op" id="7140549">*</span><span class="ident" id="7140550">testing</span><span class="op" id="7140557">.</span><span class="ident" id="7140558">T</span><span class="op" id="7140559">)</span>&nbsp;<span class="op" id="7140561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7140564">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140594">s</span>&nbsp;<span class="op" id="7140596">:=</span>&nbsp;<span class="builtinfunc" id="7140599">new</span><span class="op" id="7140602">(</span><span class="ident" id="7140603">Scanner</span><span class="op" id="7140610">)</span><span class="op" id="7140611">.</span><span class="ident" id="7140612">Init</span><span class="op" id="7140616">(</span><span class="ident" id="7140617">strings</span><span class="op" id="7140624">.</span><span class="ident" id="7140625">NewReader</span><span class="op" id="7140634">(</span><span class="string" id="7140635">&#34;&#34;</span><span class="op" id="7140637">)</span><span class="op" id="7140638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140641">checkPos</span><span class="op" id="7140649">(</span><span class="ident" id="7140650">t</span><span class="op" id="7140651">,</span>&nbsp;<span class="ident" id="7140653">s</span><span class="op" id="7140654">.</span><span class="ident" id="7140655">Pos</span><span class="op" id="7140658">(</span><span class="op" id="7140659">)</span><span class="op" id="7140660">,</span>&nbsp;<span class="ident" id="7140662">Position</span><span class="op" id="7140670">{</span><span class="ident" id="7140671">Offset</span><span class="op" id="7140677">:</span>&nbsp;<span class="num" id="7140679">0</span><span class="op" id="7140680">,</span>&nbsp;<span class="ident" id="7140682">Line</span><span class="op" id="7140686">:</span>&nbsp;<span class="num" id="7140688">1</span><span class="op" id="7140689">,</span>&nbsp;<span class="ident" id="7140691">Column</span><span class="op" id="7140697">:</span>&nbsp;<span class="num" id="7140699">1</span><span class="op" id="7140700">}</span><span class="op" id="7140701">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140704">s</span><span class="op" id="7140705">.</span><span class="ident" id="7140706">Peek</span><span class="op" id="7140710">(</span><span class="op" id="7140711">)</span>&nbsp;<span class="comment" id="7140713">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140750">checkPos</span><span class="op" id="7140758">(</span><span class="ident" id="7140759">t</span><span class="op" id="7140760">,</span>&nbsp;<span class="ident" id="7140762">s</span><span class="op" id="7140763">.</span><span class="ident" id="7140764">Pos</span><span class="op" id="7140767">(</span><span class="op" id="7140768">)</span><span class="op" id="7140769">,</span>&nbsp;<span class="ident" id="7140771">Position</span><span class="op" id="7140779">{</span><span class="ident" id="7140780">Offset</span><span class="op" id="7140786">:</span>&nbsp;<span class="num" id="7140788">0</span><span class="op" id="7140789">,</span>&nbsp;<span class="ident" id="7140791">Line</span><span class="op" id="7140795">:</span>&nbsp;<span class="num" id="7140797">1</span><span class="op" id="7140798">,</span>&nbsp;<span class="ident" id="7140800">Column</span><span class="op" id="7140806">:</span>&nbsp;<span class="num" id="7140808">1</span><span class="op" id="7140809">}</span><span class="op" id="7140810">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7140814">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140858">s</span>&nbsp;<span class="op" id="7140860">=</span>&nbsp;<span class="builtinfunc" id="7140862">new</span><span class="op" id="7140865">(</span><span class="ident" id="7140866">Scanner</span><span class="op" id="7140873">)</span><span class="op" id="7140874">.</span><span class="ident" id="7140875">Init</span><span class="op" id="7140879">(</span><span class="ident" id="7140880">strings</span><span class="op" id="7140887">.</span><span class="ident" id="7140888">NewReader</span><span class="op" id="7140897">(</span><span class="string" id="7140898">&#34;\n&#34;</span><span class="op" id="7140902">)</span><span class="op" id="7140903">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140906">checkPos</span><span class="op" id="7140914">(</span><span class="ident" id="7140915">t</span><span class="op" id="7140916">,</span>&nbsp;<span class="ident" id="7140918">s</span><span class="op" id="7140919">.</span><span class="ident" id="7140920">Pos</span><span class="op" id="7140923">(</span><span class="op" id="7140924">)</span><span class="op" id="7140925">,</span>&nbsp;<span class="ident" id="7140927">Position</span><span class="op" id="7140935">{</span><span class="ident" id="7140936">Offset</span><span class="op" id="7140942">:</span>&nbsp;<span class="num" id="7140944">0</span><span class="op" id="7140945">,</span>&nbsp;<span class="ident" id="7140947">Line</span><span class="op" id="7140951">:</span>&nbsp;<span class="num" id="7140953">1</span><span class="op" id="7140954">,</span>&nbsp;<span class="ident" id="7140956">Column</span><span class="op" id="7140962">:</span>&nbsp;<span class="num" id="7140964">1</span><span class="op" id="7140965">}</span><span class="op" id="7140966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7140969">checkNextPos</span><span class="op" id="7140981">(</span><span class="ident" id="7140982">t</span><span class="op" id="7140983">,</span>&nbsp;<span class="ident" id="7140985">s</span><span class="op" id="7140986">,</span>&nbsp;<span class="num" id="7140988">1</span><span class="op" id="7140989">,</span>&nbsp;<span class="num" id="7140991">2</span><span class="op" id="7140992">,</span>&nbsp;<span class="num" id="7140994">1</span><span class="op" id="7140995">,</span>&nbsp;<span class="string" id="7140997">&#39;\n&#39;</span><span class="op" id="7141001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141004">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141042">for</span>&nbsp;<span class="ident" id="7141046">i</span>&nbsp;<span class="op" id="7141048">:=</span>&nbsp;<span class="num" id="7141051">10</span><span class="op" id="7141053">;</span>&nbsp;<span class="ident" id="7141055">i</span>&nbsp;<span class="op" id="7141057">&gt;</span>&nbsp;<span class="num" id="7141059">0</span><span class="op" id="7141060">;</span>&nbsp;<span class="ident" id="7141062">i</span><span class="op" id="7141063">--</span>&nbsp;<span class="op" id="7141066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141070">checkScanPos</span><span class="op" id="7141082">(</span><span class="ident" id="7141083">t</span><span class="op" id="7141084">,</span>&nbsp;<span class="ident" id="7141086">s</span><span class="op" id="7141087">,</span>&nbsp;<span class="num" id="7141089">1</span><span class="op" id="7141090">,</span>&nbsp;<span class="num" id="7141092">2</span><span class="op" id="7141093">,</span>&nbsp;<span class="num" id="7141095">1</span><span class="op" id="7141096">,</span>&nbsp;<span class="ident" id="7141098">EOF</span><span class="op" id="7141101">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141107">if</span>&nbsp;<span class="ident" id="7141110">s</span><span class="op" id="7141111">.</span><span class="ident" id="7141112">ErrorCount</span>&nbsp;<span class="op" id="7141123">!=</span>&nbsp;<span class="num" id="7141126">0</span>&nbsp;<span class="op" id="7141128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141132">t</span><span class="op" id="7141133">.</span><span class="ident" id="7141134">Errorf</span><span class="op" id="7141140">(</span><span class="string" id="7141141">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7141152">,</span>&nbsp;<span class="ident" id="7141154">s</span><span class="op" id="7141155">.</span><span class="ident" id="7141156">ErrorCount</span><span class="op" id="7141166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141173">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141226">s</span>&nbsp;<span class="op" id="7141228">=</span>&nbsp;<span class="builtinfunc" id="7141230">new</span><span class="op" id="7141233">(</span><span class="ident" id="7141234">Scanner</span><span class="op" id="7141241">)</span><span class="op" id="7141242">.</span><span class="ident" id="7141243">Init</span><span class="op" id="7141247">(</span><span class="ident" id="7141248">strings</span><span class="op" id="7141255">.</span><span class="ident" id="7141256">NewReader</span><span class="op" id="7141265">(</span><span class="string" id="7141266">&#34;本&#34;</span><span class="op" id="7141271">)</span><span class="op" id="7141272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141275">checkPos</span><span class="op" id="7141283">(</span><span class="ident" id="7141284">t</span><span class="op" id="7141285">,</span>&nbsp;<span class="ident" id="7141287">s</span><span class="op" id="7141288">.</span><span class="ident" id="7141289">Pos</span><span class="op" id="7141292">(</span><span class="op" id="7141293">)</span><span class="op" id="7141294">,</span>&nbsp;<span class="ident" id="7141296">Position</span><span class="op" id="7141304">{</span><span class="ident" id="7141305">Offset</span><span class="op" id="7141311">:</span>&nbsp;<span class="num" id="7141313">0</span><span class="op" id="7141314">,</span>&nbsp;<span class="ident" id="7141316">Line</span><span class="op" id="7141320">:</span>&nbsp;<span class="num" id="7141322">1</span><span class="op" id="7141323">,</span>&nbsp;<span class="ident" id="7141325">Column</span><span class="op" id="7141331">:</span>&nbsp;<span class="num" id="7141333">1</span><span class="op" id="7141334">}</span><span class="op" id="7141335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141338">checkNextPos</span><span class="op" id="7141350">(</span><span class="ident" id="7141351">t</span><span class="op" id="7141352">,</span>&nbsp;<span class="ident" id="7141354">s</span><span class="op" id="7141355">,</span>&nbsp;<span class="num" id="7141357">3</span><span class="op" id="7141358">,</span>&nbsp;<span class="num" id="7141360">1</span><span class="op" id="7141361">,</span>&nbsp;<span class="num" id="7141363">2</span><span class="op" id="7141364">,</span>&nbsp;<span class="string" id="7141366">&#39;本&#39;</span><span class="op" id="7141371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141374">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141412">for</span>&nbsp;<span class="ident" id="7141416">i</span>&nbsp;<span class="op" id="7141418">:=</span>&nbsp;<span class="num" id="7141421">10</span><span class="op" id="7141423">;</span>&nbsp;<span class="ident" id="7141425">i</span>&nbsp;<span class="op" id="7141427">&gt;</span>&nbsp;<span class="num" id="7141429">0</span><span class="op" id="7141430">;</span>&nbsp;<span class="ident" id="7141432">i</span><span class="op" id="7141433">--</span>&nbsp;<span class="op" id="7141436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141440">checkScanPos</span><span class="op" id="7141452">(</span><span class="ident" id="7141453">t</span><span class="op" id="7141454">,</span>&nbsp;<span class="ident" id="7141456">s</span><span class="op" id="7141457">,</span>&nbsp;<span class="num" id="7141459">3</span><span class="op" id="7141460">,</span>&nbsp;<span class="num" id="7141462">1</span><span class="op" id="7141463">,</span>&nbsp;<span class="num" id="7141465">2</span><span class="op" id="7141466">,</span>&nbsp;<span class="ident" id="7141468">EOF</span><span class="op" id="7141471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7141477">if</span>&nbsp;<span class="ident" id="7141480">s</span><span class="op" id="7141481">.</span><span class="ident" id="7141482">ErrorCount</span>&nbsp;<span class="op" id="7141493">!=</span>&nbsp;<span class="num" id="7141496">0</span>&nbsp;<span class="op" id="7141498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141502">t</span><span class="op" id="7141503">.</span><span class="ident" id="7141504">Errorf</span><span class="op" id="7141510">(</span><span class="string" id="7141511">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7141522">,</span>&nbsp;<span class="ident" id="7141524">s</span><span class="op" id="7141525">.</span><span class="ident" id="7141526">ErrorCount</span><span class="op" id="7141536">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7141539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7141543">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141576">s</span>&nbsp;<span class="op" id="7141578">=</span>&nbsp;<span class="builtinfunc" id="7141580">new</span><span class="op" id="7141583">(</span><span class="ident" id="7141584">Scanner</span><span class="op" id="7141591">)</span><span class="op" id="7141592">.</span><span class="ident" id="7141593">Init</span><span class="op" id="7141597">(</span><span class="ident" id="7141598">strings</span><span class="op" id="7141605">.</span><span class="ident" id="7141606">NewReader</span><span class="op" id="7141615">(</span><span class="string" id="7141616">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="7141643">)</span><span class="op" id="7141644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141647">checkNextPos</span><span class="op" id="7141659">(</span><span class="ident" id="7141660">t</span><span class="op" id="7141661">,</span>&nbsp;<span class="ident" id="7141663">s</span><span class="op" id="7141664">,</span>&nbsp;<span class="num" id="7141666">1</span><span class="op" id="7141667">,</span>&nbsp;<span class="num" id="7141669">1</span><span class="op" id="7141670">,</span>&nbsp;<span class="num" id="7141672">2</span><span class="op" id="7141673">,</span>&nbsp;<span class="string" id="7141675">&#39;&nbsp;&#39;</span><span class="op" id="7141678">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141681">s</span><span class="op" id="7141682">.</span><span class="ident" id="7141683">Peek</span><span class="op" id="7141687">(</span><span class="op" id="7141688">)</span>&nbsp;<span class="comment" id="7141690">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141727">checkNextPos</span><span class="op" id="7141739">(</span><span class="ident" id="7141740">t</span><span class="op" id="7141741">,</span>&nbsp;<span class="ident" id="7141743">s</span><span class="op" id="7141744">,</span>&nbsp;<span class="num" id="7141746">2</span><span class="op" id="7141747">,</span>&nbsp;<span class="num" id="7141749">1</span><span class="op" id="7141750">,</span>&nbsp;<span class="num" id="7141752">3</span><span class="op" id="7141753">,</span>&nbsp;<span class="string" id="7141755">&#39;&nbsp;&#39;</span><span class="op" id="7141758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141761">checkNextPos</span><span class="op" id="7141773">(</span><span class="ident" id="7141774">t</span><span class="op" id="7141775">,</span>&nbsp;<span class="ident" id="7141777">s</span><span class="op" id="7141778">,</span>&nbsp;<span class="num" id="7141780">3</span><span class="op" id="7141781">,</span>&nbsp;<span class="num" id="7141783">1</span><span class="op" id="7141784">,</span>&nbsp;<span class="num" id="7141786">4</span><span class="op" id="7141787">,</span>&nbsp;<span class="string" id="7141789">&#39;f&#39;</span><span class="op" id="7141792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141795">checkNextPos</span><span class="op" id="7141807">(</span><span class="ident" id="7141808">t</span><span class="op" id="7141809">,</span>&nbsp;<span class="ident" id="7141811">s</span><span class="op" id="7141812">,</span>&nbsp;<span class="num" id="7141814">4</span><span class="op" id="7141815">,</span>&nbsp;<span class="num" id="7141817">1</span><span class="op" id="7141818">,</span>&nbsp;<span class="num" id="7141820">5</span><span class="op" id="7141821">,</span>&nbsp;<span class="string" id="7141823">&#39;o&#39;</span><span class="op" id="7141826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141829">checkNextPos</span><span class="op" id="7141841">(</span><span class="ident" id="7141842">t</span><span class="op" id="7141843">,</span>&nbsp;<span class="ident" id="7141845">s</span><span class="op" id="7141846">,</span>&nbsp;<span class="num" id="7141848">5</span><span class="op" id="7141849">,</span>&nbsp;<span class="num" id="7141851">1</span><span class="op" id="7141852">,</span>&nbsp;<span class="num" id="7141854">6</span><span class="op" id="7141855">,</span>&nbsp;<span class="string" id="7141857">&#39;o&#39;</span><span class="op" id="7141860">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141863">checkNextPos</span><span class="op" id="7141875">(</span><span class="ident" id="7141876">t</span><span class="op" id="7141877">,</span>&nbsp;<span class="ident" id="7141879">s</span><span class="op" id="7141880">,</span>&nbsp;<span class="num" id="7141882">8</span><span class="op" id="7141883">,</span>&nbsp;<span class="num" id="7141885">1</span><span class="op" id="7141886">,</span>&nbsp;<span class="num" id="7141888">7</span><span class="op" id="7141889">,</span>&nbsp;<span class="string" id="7141891">&#39;६&#39;</span><span class="op" id="7141896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141899">checkNextPos</span><span class="op" id="7141911">(</span><span class="ident" id="7141912">t</span><span class="op" id="7141913">,</span>&nbsp;<span class="ident" id="7141915">s</span><span class="op" id="7141916">,</span>&nbsp;<span class="num" id="7141918">11</span><span class="op" id="7141920">,</span>&nbsp;<span class="num" id="7141922">1</span><span class="op" id="7141923">,</span>&nbsp;<span class="num" id="7141925">8</span><span class="op" id="7141926">,</span>&nbsp;<span class="string" id="7141928">&#39;४&#39;</span><span class="op" id="7141933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141936">checkNextPos</span><span class="op" id="7141948">(</span><span class="ident" id="7141949">t</span><span class="op" id="7141950">,</span>&nbsp;<span class="ident" id="7141952">s</span><span class="op" id="7141953">,</span>&nbsp;<span class="num" id="7141955">12</span><span class="op" id="7141957">,</span>&nbsp;<span class="num" id="7141959">1</span><span class="op" id="7141960">,</span>&nbsp;<span class="num" id="7141962">9</span><span class="op" id="7141963">,</span>&nbsp;<span class="string" id="7141965">&#39;&nbsp;&#39;</span><span class="op" id="7141968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7141971">checkNextPos</span><span class="op" id="7141983">(</span><span class="ident" id="7141984">t</span><span class="op" id="7141985">,</span>&nbsp;<span class="ident" id="7141987">s</span><span class="op" id="7141988">,</span>&nbsp;<span class="num" id="7141990">13</span><span class="op" id="7141992">,</span>&nbsp;<span class="num" id="7141994">1</span><span class="op" id="7141995">,</span>&nbsp;<span class="num" id="7141997">10</span><span class="op" id="7141999">,</span>&nbsp;<span class="string" id="7142001">&#39;&nbsp;&#39;</span><span class="op" id="7142004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142007">checkNextPos</span><span class="op" id="7142019">(</span><span class="ident" id="7142020">t</span><span class="op" id="7142021">,</span>&nbsp;<span class="ident" id="7142023">s</span><span class="op" id="7142024">,</span>&nbsp;<span class="num" id="7142026">14</span><span class="op" id="7142028">,</span>&nbsp;<span class="num" id="7142030">2</span><span class="op" id="7142031">,</span>&nbsp;<span class="num" id="7142033">1</span><span class="op" id="7142034">,</span>&nbsp;<span class="string" id="7142036">&#39;\n&#39;</span><span class="op" id="7142040">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142043">checkNextPos</span><span class="op" id="7142055">(</span><span class="ident" id="7142056">t</span><span class="op" id="7142057">,</span>&nbsp;<span class="ident" id="7142059">s</span><span class="op" id="7142060">,</span>&nbsp;<span class="num" id="7142062">15</span><span class="op" id="7142064">,</span>&nbsp;<span class="num" id="7142066">3</span><span class="op" id="7142067">,</span>&nbsp;<span class="num" id="7142069">1</span><span class="op" id="7142070">,</span>&nbsp;<span class="string" id="7142072">&#39;\n&#39;</span><span class="op" id="7142076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142079">checkNextPos</span><span class="op" id="7142091">(</span><span class="ident" id="7142092">t</span><span class="op" id="7142093">,</span>&nbsp;<span class="ident" id="7142095">s</span><span class="op" id="7142096">,</span>&nbsp;<span class="num" id="7142098">18</span><span class="op" id="7142100">,</span>&nbsp;<span class="num" id="7142102">3</span><span class="op" id="7142103">,</span>&nbsp;<span class="num" id="7142105">2</span><span class="op" id="7142106">,</span>&nbsp;<span class="string" id="7142108">&#39;本&#39;</span><span class="op" id="7142113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142116">checkNextPos</span><span class="op" id="7142128">(</span><span class="ident" id="7142129">t</span><span class="op" id="7142130">,</span>&nbsp;<span class="ident" id="7142132">s</span><span class="op" id="7142133">,</span>&nbsp;<span class="num" id="7142135">21</span><span class="op" id="7142137">,</span>&nbsp;<span class="num" id="7142139">3</span><span class="op" id="7142140">,</span>&nbsp;<span class="num" id="7142142">3</span><span class="op" id="7142143">,</span>&nbsp;<span class="string" id="7142145">&#39;語&#39;</span><span class="op" id="7142150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142153">checkNextPos</span><span class="op" id="7142165">(</span><span class="ident" id="7142166">t</span><span class="op" id="7142167">,</span>&nbsp;<span class="ident" id="7142169">s</span><span class="op" id="7142170">,</span>&nbsp;<span class="num" id="7142172">22</span><span class="op" id="7142174">,</span>&nbsp;<span class="num" id="7142176">4</span><span class="op" id="7142177">,</span>&nbsp;<span class="num" id="7142179">1</span><span class="op" id="7142180">,</span>&nbsp;<span class="string" id="7142182">&#39;\n&#39;</span><span class="op" id="7142186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7142189">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7142227">for</span>&nbsp;<span class="ident" id="7142231">i</span>&nbsp;<span class="op" id="7142233">:=</span>&nbsp;<span class="num" id="7142236">10</span><span class="op" id="7142238">;</span>&nbsp;<span class="ident" id="7142240">i</span>&nbsp;<span class="op" id="7142242">&gt;</span>&nbsp;<span class="num" id="7142244">0</span><span class="op" id="7142245">;</span>&nbsp;<span class="ident" id="7142247">i</span><span class="op" id="7142248">--</span>&nbsp;<span class="op" id="7142251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142255">checkScanPos</span><span class="op" id="7142267">(</span><span class="ident" id="7142268">t</span><span class="op" id="7142269">,</span>&nbsp;<span class="ident" id="7142271">s</span><span class="op" id="7142272">,</span>&nbsp;<span class="num" id="7142274">22</span><span class="op" id="7142276">,</span>&nbsp;<span class="num" id="7142278">4</span><span class="op" id="7142279">,</span>&nbsp;<span class="num" id="7142281">1</span><span class="op" id="7142282">,</span>&nbsp;<span class="ident" id="7142284">EOF</span><span class="op" id="7142287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7142293">if</span>&nbsp;<span class="ident" id="7142296">s</span><span class="op" id="7142297">.</span><span class="ident" id="7142298">ErrorCount</span>&nbsp;<span class="op" id="7142309">!=</span>&nbsp;<span class="num" id="7142312">0</span>&nbsp;<span class="op" id="7142314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142318">t</span><span class="op" id="7142319">.</span><span class="ident" id="7142320">Errorf</span><span class="op" id="7142326">(</span><span class="string" id="7142327">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7142338">,</span>&nbsp;<span class="ident" id="7142340">s</span><span class="op" id="7142341">.</span><span class="ident" id="7142342">ErrorCount</span><span class="op" id="7142352">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7142359">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142392">s</span>&nbsp;<span class="op" id="7142394">=</span>&nbsp;<span class="builtinfunc" id="7142396">new</span><span class="op" id="7142399">(</span><span class="ident" id="7142400">Scanner</span><span class="op" id="7142407">)</span><span class="op" id="7142408">.</span><span class="ident" id="7142409">Init</span><span class="op" id="7142413">(</span><span class="ident" id="7142414">strings</span><span class="op" id="7142421">.</span><span class="ident" id="7142422">NewReader</span><span class="op" id="7142431">(</span><span class="string" id="7142432">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="7142450">)</span><span class="op" id="7142451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142454">s</span><span class="op" id="7142455">.</span><span class="ident" id="7142456">Mode</span>&nbsp;<span class="op" id="7142461">=</span>&nbsp;<span class="num" id="7142463">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142466">s</span><span class="op" id="7142467">.</span><span class="ident" id="7142468">Whitespace</span>&nbsp;<span class="op" id="7142479">=</span>&nbsp;<span class="num" id="7142481">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142484">checkScanPos</span><span class="op" id="7142496">(</span><span class="ident" id="7142497">t</span><span class="op" id="7142498">,</span>&nbsp;<span class="ident" id="7142500">s</span><span class="op" id="7142501">,</span>&nbsp;<span class="num" id="7142503">0</span><span class="op" id="7142504">,</span>&nbsp;<span class="num" id="7142506">1</span><span class="op" id="7142507">,</span>&nbsp;<span class="num" id="7142509">1</span><span class="op" id="7142510">,</span>&nbsp;<span class="string" id="7142512">&#39;a&#39;</span><span class="op" id="7142515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142518">s</span><span class="op" id="7142519">.</span><span class="ident" id="7142520">Peek</span><span class="op" id="7142524">(</span><span class="op" id="7142525">)</span>&nbsp;<span class="comment" id="7142527">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142564">checkScanPos</span><span class="op" id="7142576">(</span><span class="ident" id="7142577">t</span><span class="op" id="7142578">,</span>&nbsp;<span class="ident" id="7142580">s</span><span class="op" id="7142581">,</span>&nbsp;<span class="num" id="7142583">1</span><span class="op" id="7142584">,</span>&nbsp;<span class="num" id="7142586">1</span><span class="op" id="7142587">,</span>&nbsp;<span class="num" id="7142589">2</span><span class="op" id="7142590">,</span>&nbsp;<span class="string" id="7142592">&#39;b&#39;</span><span class="op" id="7142595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142598">checkScanPos</span><span class="op" id="7142610">(</span><span class="ident" id="7142611">t</span><span class="op" id="7142612">,</span>&nbsp;<span class="ident" id="7142614">s</span><span class="op" id="7142615">,</span>&nbsp;<span class="num" id="7142617">2</span><span class="op" id="7142618">,</span>&nbsp;<span class="num" id="7142620">1</span><span class="op" id="7142621">,</span>&nbsp;<span class="num" id="7142623">3</span><span class="op" id="7142624">,</span>&nbsp;<span class="string" id="7142626">&#39;c&#39;</span><span class="op" id="7142629">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142632">checkScanPos</span><span class="op" id="7142644">(</span><span class="ident" id="7142645">t</span><span class="op" id="7142646">,</span>&nbsp;<span class="ident" id="7142648">s</span><span class="op" id="7142649">,</span>&nbsp;<span class="num" id="7142651">3</span><span class="op" id="7142652">,</span>&nbsp;<span class="num" id="7142654">1</span><span class="op" id="7142655">,</span>&nbsp;<span class="num" id="7142657">4</span><span class="op" id="7142658">,</span>&nbsp;<span class="string" id="7142660">&#39;\n&#39;</span><span class="op" id="7142664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142667">checkScanPos</span><span class="op" id="7142679">(</span><span class="ident" id="7142680">t</span><span class="op" id="7142681">,</span>&nbsp;<span class="ident" id="7142683">s</span><span class="op" id="7142684">,</span>&nbsp;<span class="num" id="7142686">4</span><span class="op" id="7142687">,</span>&nbsp;<span class="num" id="7142689">2</span><span class="op" id="7142690">,</span>&nbsp;<span class="num" id="7142692">1</span><span class="op" id="7142693">,</span>&nbsp;<span class="string" id="7142695">&#39;本&#39;</span><span class="op" id="7142700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142703">checkScanPos</span><span class="op" id="7142715">(</span><span class="ident" id="7142716">t</span><span class="op" id="7142717">,</span>&nbsp;<span class="ident" id="7142719">s</span><span class="op" id="7142720">,</span>&nbsp;<span class="num" id="7142722">7</span><span class="op" id="7142723">,</span>&nbsp;<span class="num" id="7142725">2</span><span class="op" id="7142726">,</span>&nbsp;<span class="num" id="7142728">2</span><span class="op" id="7142729">,</span>&nbsp;<span class="string" id="7142731">&#39;語&#39;</span><span class="op" id="7142736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142739">checkScanPos</span><span class="op" id="7142751">(</span><span class="ident" id="7142752">t</span><span class="op" id="7142753">,</span>&nbsp;<span class="ident" id="7142755">s</span><span class="op" id="7142756">,</span>&nbsp;<span class="num" id="7142758">10</span><span class="op" id="7142760">,</span>&nbsp;<span class="num" id="7142762">2</span><span class="op" id="7142763">,</span>&nbsp;<span class="num" id="7142765">3</span><span class="op" id="7142766">,</span>&nbsp;<span class="string" id="7142768">&#39;\n&#39;</span><span class="op" id="7142772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142775">checkScanPos</span><span class="op" id="7142787">(</span><span class="ident" id="7142788">t</span><span class="op" id="7142789">,</span>&nbsp;<span class="ident" id="7142791">s</span><span class="op" id="7142792">,</span>&nbsp;<span class="num" id="7142794">11</span><span class="op" id="7142796">,</span>&nbsp;<span class="num" id="7142798">3</span><span class="op" id="7142799">,</span>&nbsp;<span class="num" id="7142801">1</span><span class="op" id="7142802">,</span>&nbsp;<span class="string" id="7142804">&#39;\n&#39;</span><span class="op" id="7142808">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142811">checkScanPos</span><span class="op" id="7142823">(</span><span class="ident" id="7142824">t</span><span class="op" id="7142825">,</span>&nbsp;<span class="ident" id="7142827">s</span><span class="op" id="7142828">,</span>&nbsp;<span class="num" id="7142830">12</span><span class="op" id="7142832">,</span>&nbsp;<span class="num" id="7142834">4</span><span class="op" id="7142835">,</span>&nbsp;<span class="num" id="7142837">1</span><span class="op" id="7142838">,</span>&nbsp;<span class="string" id="7142840">&#39;x&#39;</span><span class="op" id="7142843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7142846">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7142884">for</span>&nbsp;<span class="ident" id="7142888">i</span>&nbsp;<span class="op" id="7142890">:=</span>&nbsp;<span class="num" id="7142893">10</span><span class="op" id="7142895">;</span>&nbsp;<span class="ident" id="7142897">i</span>&nbsp;<span class="op" id="7142899">&gt;</span>&nbsp;<span class="num" id="7142901">0</span><span class="op" id="7142902">;</span>&nbsp;<span class="ident" id="7142904">i</span><span class="op" id="7142905">--</span>&nbsp;<span class="op" id="7142908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142912">checkScanPos</span><span class="op" id="7142924">(</span><span class="ident" id="7142925">t</span><span class="op" id="7142926">,</span>&nbsp;<span class="ident" id="7142928">s</span><span class="op" id="7142929">,</span>&nbsp;<span class="num" id="7142931">13</span><span class="op" id="7142933">,</span>&nbsp;<span class="num" id="7142935">4</span><span class="op" id="7142936">,</span>&nbsp;<span class="num" id="7142938">2</span><span class="op" id="7142939">,</span>&nbsp;<span class="ident" id="7142941">EOF</span><span class="op" id="7142944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7142947">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7142950">if</span>&nbsp;<span class="ident" id="7142953">s</span><span class="op" id="7142954">.</span><span class="ident" id="7142955">ErrorCount</span>&nbsp;<span class="op" id="7142966">!=</span>&nbsp;<span class="num" id="7142969">0</span>&nbsp;<span class="op" id="7142971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7142975">t</span><span class="op" id="7142976">.</span><span class="ident" id="7142977">Errorf</span><span class="op" id="7142983">(</span><span class="string" id="7142984">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7142995">,</span>&nbsp;<span class="ident" id="7142997">s</span><span class="op" id="7142998">.</span><span class="ident" id="7142999">ErrorCount</span><span class="op" id="7143009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7143012">}</span><br>
<span class="lineno"></span><span class="op" id="7143014">}</span>
</div>
</body>
</html>
