<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>html/template</h2>
<ul>
<li><a href="/gostd/html/template/attr.go.html">attr.go</a></li>
<li><a href="/gostd/html/template/clone_test.go.html">clone_test.go</a></li>
<li><a href="/gostd/html/template/content.go.html">content.go</a></li>
<li><a href="/gostd/html/template/content_test.go.html">content_test.go</a></li>
<li><a href="/gostd/html/template/context.go.html">context.go</a></li>
<li><a href="/gostd/html/template/css.go.html">css.go</a></li>
<li><a href="/gostd/html/template/css_test.go.html">css_test.go</a></li>
<li><a href="/gostd/html/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/html/template/error.go.html">error.go</a></li>
<li><a href="/gostd/html/template/escape.go.html">escape.go</a></li>
<li><a href="/gostd/html/template/escape_test.go.html">escape_test.go</a></li>
<li><a href="/gostd/html/template/html.go.html">html.go</a></li>
<li><a href="/gostd/html/template/html_test.go.html">html_test.go</a></li>
<li><a href="/gostd/html/template/js.go.html">js.go</a></li>
<li><a href="/gostd/html/template/js_test.go.html">js_test.go</a></li>
<li><a href="/gostd/html/template/template.go.html">template.go</a></li>
<li><a href="/gostd/html/template/transition.go.html">transition.go</a></li>
<li><a href="/gostd/html/template/url.go.html">url.go</a></li>
<li><a href="/gostd/html/template/url_test.go.html" class="current">url_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7813699">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7813754">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7813808">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7813859">package</span>&nbsp;<span class="ident" id="7813867">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7813877">import</span>&nbsp;<span class="op" id="7813884">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7813887">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7813897">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7813900">func</span>&nbsp;<span class="ident" id="7813905">TestURLNormalizer</span><span class="op" id="7813922">(</span><span class="ident" id="7813923">t</span>&nbsp;<span class="op" id="7813925">*</span><span class="ident" id="7813926">testing</span><span class="op" id="7813933">.</span><span class="ident" id="7813934">T</span><span class="op" id="7813935">)</span>&nbsp;<span class="op" id="7813937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813940">tests</span>&nbsp;<span class="op" id="7813946">:=</span>&nbsp;<span class="op" id="7813949">[</span><span class="op" id="7813950">]</span><span class="keyword" id="7813951">struct</span>&nbsp;<span class="op" id="7813958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7813962">url</span><span class="op" id="7813965">,</span>&nbsp;<span class="ident" id="7813967">want</span>&nbsp;<span class="builtintype" id="7813972">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813980">}</span><span class="op" id="7813981">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813985">{</span><span class="string" id="7813986">&#34;&#34;</span><span class="op" id="7813988">,</span>&nbsp;<span class="string" id="7813990">&#34;&#34;</span><span class="op" id="7813992">}</span><span class="op" id="7813993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7813997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814002">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7814055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814060">&#34;http://example.com:80/foo/bar?q=foo%20&amp;bar=x+y#frag&#34;</span><span class="op" id="7814113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814117">}</span><span class="op" id="7814118">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814122">{</span><span class="string" id="7814123">&#34;&nbsp;&#34;</span><span class="op" id="7814126">,</span>&nbsp;<span class="string" id="7814128">&#34;%20&#34;</span><span class="op" id="7814133">}</span><span class="op" id="7814134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814138">{</span><span class="string" id="7814139">&#34;%7c&#34;</span><span class="op" id="7814144">,</span>&nbsp;<span class="string" id="7814146">&#34;%7c&#34;</span><span class="op" id="7814151">}</span><span class="op" id="7814152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814156">{</span><span class="string" id="7814157">&#34;%7C&#34;</span><span class="op" id="7814162">,</span>&nbsp;<span class="string" id="7814164">&#34;%7C&#34;</span><span class="op" id="7814169">}</span><span class="op" id="7814170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814174">{</span><span class="string" id="7814175">&#34;%2&#34;</span><span class="op" id="7814179">,</span>&nbsp;<span class="string" id="7814181">&#34;%252&#34;</span><span class="op" id="7814187">}</span><span class="op" id="7814188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814192">{</span><span class="string" id="7814193">&#34;%&#34;</span><span class="op" id="7814196">,</span>&nbsp;<span class="string" id="7814198">&#34;%25&#34;</span><span class="op" id="7814203">}</span><span class="op" id="7814204">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814208">{</span><span class="string" id="7814209">&#34;%z&#34;</span><span class="op" id="7814213">,</span>&nbsp;<span class="string" id="7814215">&#34;%25z&#34;</span><span class="op" id="7814221">}</span><span class="op" id="7814222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814226">{</span><span class="string" id="7814227">&#34;/foo|bar/%5c\u1234&#34;</span><span class="op" id="7814247">,</span>&nbsp;<span class="string" id="7814249">&#34;/foo%7cbar/%5c%e1%88%b4&#34;</span><span class="op" id="7814274">}</span><span class="op" id="7814275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814281">for</span>&nbsp;<span class="ident" id="7814285">_</span><span class="op" id="7814286">,</span>&nbsp;<span class="ident" id="7814288">test</span>&nbsp;<span class="op" id="7814293">:=</span>&nbsp;<span class="keyword" id="7814296">range</span>&nbsp;<span class="ident" id="7814302">tests</span>&nbsp;<span class="op" id="7814308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814312">if</span>&nbsp;<span class="ident" id="7814315">got</span>&nbsp;<span class="op" id="7814319">:=</span>&nbsp;<span class="ident" id="7814322">urlNormalizer</span><span class="op" id="7814335">(</span><span class="ident" id="7814336">test</span><span class="op" id="7814340">.</span><span class="ident" id="7814341">url</span><span class="op" id="7814344">)</span><span class="op" id="7814345">;</span>&nbsp;<span class="ident" id="7814347">test</span><span class="op" id="7814351">.</span><span class="ident" id="7814352">want</span>&nbsp;<span class="op" id="7814357">!=</span>&nbsp;<span class="ident" id="7814360">got</span>&nbsp;<span class="op" id="7814364">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814369">t</span><span class="op" id="7814370">.</span><span class="ident" id="7814371">Errorf</span><span class="op" id="7814377">(</span><span class="string" id="7814378">&#34;%q:&nbsp;want\n\t%q\nbut&nbsp;got\n\t%q&#34;</span><span class="op" id="7814409">,</span>&nbsp;<span class="ident" id="7814411">test</span><span class="op" id="7814415">.</span><span class="ident" id="7814416">url</span><span class="op" id="7814419">,</span>&nbsp;<span class="ident" id="7814421">test</span><span class="op" id="7814425">.</span><span class="ident" id="7814426">want</span><span class="op" id="7814430">,</span>&nbsp;<span class="ident" id="7814432">got</span><span class="op" id="7814435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7814443">if</span>&nbsp;<span class="ident" id="7814446">test</span><span class="op" id="7814450">.</span><span class="ident" id="7814451">want</span>&nbsp;<span class="op" id="7814456">!=</span>&nbsp;<span class="ident" id="7814459">urlNormalizer</span><span class="op" id="7814472">(</span><span class="ident" id="7814473">test</span><span class="op" id="7814477">.</span><span class="ident" id="7814478">want</span><span class="op" id="7814482">)</span>&nbsp;<span class="op" id="7814484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814489">t</span><span class="op" id="7814490">.</span><span class="ident" id="7814491">Errorf</span><span class="op" id="7814497">(</span><span class="string" id="7814498">&#34;not&nbsp;idempotent:&nbsp;%q&#34;</span><span class="op" id="7814518">,</span>&nbsp;<span class="ident" id="7814520">test</span><span class="op" id="7814524">.</span><span class="ident" id="7814525">want</span><span class="op" id="7814529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814533">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7814536">}</span><br>
<span class="lineno"></span><span class="op" id="7814538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7814541">func</span>&nbsp;<span class="ident" id="7814546">TestURLFilters</span><span class="op" id="7814560">(</span><span class="ident" id="7814561">t</span>&nbsp;<span class="op" id="7814563">*</span><span class="ident" id="7814564">testing</span><span class="op" id="7814571">.</span><span class="ident" id="7814572">T</span><span class="op" id="7814573">)</span>&nbsp;<span class="op" id="7814575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814578">input</span>&nbsp;<span class="op" id="7814584">:=</span>&nbsp;<span class="op" id="7814587">(</span><span class="string" id="7814588">&#34;\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n\x0b\x0c\r\x0e\x0f&#34;</span>&nbsp;<span class="op" id="7814649">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814653">&#34;\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f&#34;</span>&nbsp;<span class="op" id="7814720">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814724">`&nbsp;!&#34;#$%&amp;&#39;()*+,-./`</span>&nbsp;<span class="op" id="7814743">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814747">`0123456789:;&lt;=&gt;?`</span>&nbsp;<span class="op" id="7814766">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814770">`@ABCDEFGHIJKLMNO`</span>&nbsp;<span class="op" id="7814789">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814793">`PQRSTUVWXYZ[\]^_`</span>&nbsp;<span class="op" id="7814812">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814816">&#34;`abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7814835">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814839">&#34;pqrstuvwxyz{|}~\x7f&#34;</span>&nbsp;<span class="op" id="7814861">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7814865">&#34;\u00A0\u0100\u2028\u2029\ufeff\U0001D11E&#34;</span><span class="op" id="7814907">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814911">tests</span>&nbsp;<span class="op" id="7814917">:=</span>&nbsp;<span class="op" id="7814920">[</span><span class="op" id="7814921">]</span><span class="keyword" id="7814922">struct</span>&nbsp;<span class="op" id="7814929">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814933">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7814941">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814950">escaper</span>&nbsp;<span class="keyword" id="7814958">func</span><span class="op" id="7814962">(</span><span class="op" id="7814963">...</span><span class="keyword" id="7814966">interface</span><span class="op" id="7814975">{</span><span class="op" id="7814976">}</span><span class="op" id="7814977">)</span>&nbsp;<span class="builtintype" id="7814979">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7814988">escaped</span>&nbsp;<span class="builtintype" id="7814996">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815004">}</span><span class="op" id="7815005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815009">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815014">&#34;urlEscaper&#34;</span><span class="op" id="7815026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7815031">urlEscaper</span><span class="op" id="7815041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815046">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7815097">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815103">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7815154">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815160">&#34;%20%21%22%23%24%25%26%27%28%29%2a%2b%2c-.%2f&#34;</span>&nbsp;<span class="op" id="7815207">+</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815213">&#34;0123456789%3a%3b%3c%3d%3e%3f&#34;</span>&nbsp;<span class="op" id="7815244">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815250">&#34;%40ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7815271">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815277">&#34;PQRSTUVWXYZ%5b%5c%5d%5e_&#34;</span>&nbsp;<span class="op" id="7815304">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815310">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7815331">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815337">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7815364">+</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815370">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7815423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815427">}</span><span class="op" id="7815428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815437">&#34;urlNormalizer&#34;</span><span class="op" id="7815452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7815457">urlNormalizer</span><span class="op" id="7815470">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815475">&#34;%00%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%0f&#34;</span>&nbsp;<span class="op" id="7815526">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815532">&#34;%10%11%12%13%14%15%16%17%18%19%1a%1b%1c%1d%1e%1f&#34;</span>&nbsp;<span class="op" id="7815583">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815589">&#34;%20!%22#$%25&amp;%27%28%29*+,-./&#34;</span>&nbsp;<span class="op" id="7815620">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815626">&#34;0123456789:;%3c=%3e?&#34;</span>&nbsp;<span class="op" id="7815649">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815655">&#34;@ABCDEFGHIJKLMNO&#34;</span>&nbsp;<span class="op" id="7815674">+</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815680">&#34;PQRSTUVWXYZ[%5c]%5e_&#34;</span>&nbsp;<span class="op" id="7815703">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815709">&#34;%60abcdefghijklmno&#34;</span>&nbsp;<span class="op" id="7815730">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815736">&#34;pqrstuvwxyz%7b%7c%7d~%7f&#34;</span>&nbsp;<span class="op" id="7815763">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7815769">&#34;%c2%a0%c4%80%e2%80%a8%e2%80%a9%ef%bb%bf%f0%9d%84%9e&#34;</span><span class="op" id="7815822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815826">}</span><span class="op" id="7815827">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815834">for</span>&nbsp;<span class="ident" id="7815838">_</span><span class="op" id="7815839">,</span>&nbsp;<span class="ident" id="7815841">test</span>&nbsp;<span class="op" id="7815846">:=</span>&nbsp;<span class="keyword" id="7815849">range</span>&nbsp;<span class="ident" id="7815855">tests</span>&nbsp;<span class="op" id="7815861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815865">if</span>&nbsp;<span class="ident" id="7815868">s</span>&nbsp;<span class="op" id="7815870">:=</span>&nbsp;<span class="ident" id="7815873">test</span><span class="op" id="7815877">.</span><span class="ident" id="7815878">escaper</span><span class="op" id="7815885">(</span><span class="ident" id="7815886">input</span><span class="op" id="7815891">)</span><span class="op" id="7815892">;</span>&nbsp;<span class="ident" id="7815894">s</span>&nbsp;<span class="op" id="7815896">!=</span>&nbsp;<span class="ident" id="7815899">test</span><span class="op" id="7815903">.</span><span class="ident" id="7815904">escaped</span>&nbsp;<span class="op" id="7815912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7815917">t</span><span class="op" id="7815918">.</span><span class="ident" id="7815919">Errorf</span><span class="op" id="7815925">(</span><span class="string" id="7815926">&#34;%s:&nbsp;want\n\t%q\ngot\n\t%q&#34;</span><span class="op" id="7815953">,</span>&nbsp;<span class="ident" id="7815955">test</span><span class="op" id="7815959">.</span><span class="ident" id="7815960">name</span><span class="op" id="7815964">,</span>&nbsp;<span class="ident" id="7815966">test</span><span class="op" id="7815970">.</span><span class="ident" id="7815971">escaped</span><span class="op" id="7815978">,</span>&nbsp;<span class="ident" id="7815980">s</span><span class="op" id="7815981">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7815986">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7815997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816000">}</span><br>
<span class="lineno"></span><span class="op" id="7816002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7816005">func</span>&nbsp;<span class="ident" id="7816010">BenchmarkURLEscaper</span><span class="op" id="7816029">(</span><span class="ident" id="7816030">b</span>&nbsp;<span class="op" id="7816032">*</span><span class="ident" id="7816033">testing</span><span class="op" id="7816040">.</span><span class="ident" id="7816041">B</span><span class="op" id="7816042">)</span>&nbsp;<span class="op" id="7816044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816047">for</span>&nbsp;<span class="ident" id="7816051">i</span>&nbsp;<span class="op" id="7816053">:=</span>&nbsp;<span class="num" id="7816056">0</span><span class="op" id="7816057">;</span>&nbsp;<span class="ident" id="7816059">i</span>&nbsp;<span class="op" id="7816061">&lt;</span>&nbsp;<span class="ident" id="7816063">b</span><span class="op" id="7816064">.</span><span class="ident" id="7816065">N</span><span class="op" id="7816066">;</span>&nbsp;<span class="ident" id="7816068">i</span><span class="op" id="7816069">++</span>&nbsp;<span class="op" id="7816072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816076">urlEscaper</span><span class="op" id="7816086">(</span><span class="string" id="7816087">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7816136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816139">}</span><br>
<span class="lineno"></span><span class="op" id="7816141">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="keyword" id="7816144">func</span>&nbsp;<span class="ident" id="7816149">BenchmarkURLEscaperNoSpecials</span><span class="op" id="7816178">(</span><span class="ident" id="7816179">b</span>&nbsp;<span class="op" id="7816181">*</span><span class="ident" id="7816182">testing</span><span class="op" id="7816189">.</span><span class="ident" id="7816190">B</span><span class="op" id="7816191">)</span>&nbsp;<span class="op" id="7816193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816196">for</span>&nbsp;<span class="ident" id="7816200">i</span>&nbsp;<span class="op" id="7816202">:=</span>&nbsp;<span class="num" id="7816205">0</span><span class="op" id="7816206">;</span>&nbsp;<span class="ident" id="7816208">i</span>&nbsp;<span class="op" id="7816210">&lt;</span>&nbsp;<span class="ident" id="7816212">b</span><span class="op" id="7816213">.</span><span class="ident" id="7816214">N</span><span class="op" id="7816215">;</span>&nbsp;<span class="ident" id="7816217">i</span><span class="op" id="7816218">++</span>&nbsp;<span class="op" id="7816221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816225">urlEscaper</span><span class="op" id="7816235">(</span><span class="string" id="7816236">&#34;TheQuickBrownFoxJumpsOverTheLazyDog.&#34;</span><span class="op" id="7816274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816277">}</span><br>
<span class="lineno">100</span><span class="op" id="7816279">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7816282">func</span>&nbsp;<span class="ident" id="7816287">BenchmarkURLNormalizer</span><span class="op" id="7816309">(</span><span class="ident" id="7816310">b</span>&nbsp;<span class="op" id="7816312">*</span><span class="ident" id="7816313">testing</span><span class="op" id="7816320">.</span><span class="ident" id="7816321">B</span><span class="op" id="7816322">)</span>&nbsp;<span class="op" id="7816324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816327">for</span>&nbsp;<span class="ident" id="7816331">i</span>&nbsp;<span class="op" id="7816333">:=</span>&nbsp;<span class="num" id="7816336">0</span><span class="op" id="7816337">;</span>&nbsp;<span class="ident" id="7816339">i</span>&nbsp;<span class="op" id="7816341">&lt;</span>&nbsp;<span class="ident" id="7816343">b</span><span class="op" id="7816344">.</span><span class="ident" id="7816345">N</span><span class="op" id="7816346">;</span>&nbsp;<span class="ident" id="7816348">i</span><span class="op" id="7816349">++</span>&nbsp;<span class="op" id="7816352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816356">urlNormalizer</span><span class="op" id="7816369">(</span><span class="string" id="7816370">&#34;The&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumps&nbsp;over&nbsp;the&nbsp;lazy&nbsp;dog.\n&#34;</span><span class="op" id="7816418">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816421">}</span><br>
<span class="lineno"></span><span class="op" id="7816423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7816426">func</span>&nbsp;<span class="ident" id="7816431">BenchmarkURLNormalizerNoSpecials</span><span class="op" id="7816463">(</span><span class="ident" id="7816464">b</span>&nbsp;<span class="op" id="7816466">*</span><span class="ident" id="7816467">testing</span><span class="op" id="7816474">.</span><span class="ident" id="7816475">B</span><span class="op" id="7816476">)</span>&nbsp;<span class="op" id="7816478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7816481">for</span>&nbsp;<span class="ident" id="7816485">i</span>&nbsp;<span class="op" id="7816487">:=</span>&nbsp;<span class="num" id="7816490">0</span><span class="op" id="7816491">;</span>&nbsp;<span class="ident" id="7816493">i</span>&nbsp;<span class="op" id="7816495">&lt;</span>&nbsp;<span class="ident" id="7816497">b</span><span class="op" id="7816498">.</span><span class="ident" id="7816499">N</span><span class="op" id="7816500">;</span>&nbsp;<span class="ident" id="7816502">i</span><span class="op" id="7816503">++</span>&nbsp;<span class="op" id="7816506">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7816510">urlNormalizer</span><span class="op" id="7816523">(</span><span class="string" id="7816524">&#34;http://example.com:80/foo?q=bar%20&amp;baz=x+y#frag&#34;</span><span class="op" id="7816573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7816576">}</span><br>
<span class="lineno"></span><span class="op" id="7816578">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
